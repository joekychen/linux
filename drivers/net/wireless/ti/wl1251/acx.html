<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › ti › wl1251 › acx.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>acx.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * This file is part of wl1251</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 1998-2007 Texas Instruments Incorporated</span>
<span class="cm"> * Copyright (C) 2008 Nokia Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Public License</span>
<span class="cm"> * version 2 as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA</span>
<span class="cm"> * 02110-1301 USA</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __WL1251_ACX_H__</span>
<span class="cp">#define __WL1251_ACX_H__</span>

<span class="cp">#include &quot;wl1251.h&quot;</span>
<span class="cp">#include &quot;cmd.h&quot;</span>

<span class="cm">/* Target&#39;s information element */</span>
<span class="k">struct</span> <span class="n">acx_header</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">wl1251_cmd_header</span> <span class="n">cmd</span><span class="p">;</span>

	<span class="cm">/* acx (or information element) header */</span>
	<span class="n">u16</span> <span class="n">id</span><span class="p">;</span>

	<span class="cm">/* payload length (not including headers */</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_error_counter</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/* The number of PLCP errors since the last time this */</span>
	<span class="cm">/* information element was interrogated. This field is */</span>
	<span class="cm">/* automatically cleared when it is interrogated.*/</span>
	<span class="n">u32</span> <span class="n">PLCP_error</span><span class="p">;</span>

	<span class="cm">/* The number of FCS errors since the last time this */</span>
	<span class="cm">/* information element was interrogated. This field is */</span>
	<span class="cm">/* automatically cleared when it is interrogated.*/</span>
	<span class="n">u32</span> <span class="n">FCS_error</span><span class="p">;</span>

	<span class="cm">/* The number of MPDUs without PLCP header errors received*/</span>
	<span class="cm">/* since the last time this information element was interrogated. */</span>
	<span class="cm">/* This field is automatically cleared when it is interrogated.*/</span>
	<span class="n">u32</span> <span class="n">valid_frame</span><span class="p">;</span>

	<span class="cm">/* the number of missed sequence numbers in the squentially */</span>
	<span class="cm">/* values of frames seq numbers */</span>
	<span class="n">u32</span> <span class="n">seq_num_miss</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_revision</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The WiLink firmware version, an ASCII string x.x.x.x,</span>
<span class="cm">	 * that uniquely identifies the current firmware.</span>
<span class="cm">	 * The left most digit is incremented each time a</span>
<span class="cm">	 * significant change is made to the firmware, such as</span>
<span class="cm">	 * code redesign or new platform support.</span>
<span class="cm">	 * The second digit is incremented when major enhancements</span>
<span class="cm">	 * are added or major fixes are made.</span>
<span class="cm">	 * The third digit is incremented for each GA release.</span>
<span class="cm">	 * The fourth digit is incremented for each build.</span>
<span class="cm">	 * The first two digits identify a firmware release version,</span>
<span class="cm">	 * in other words, a unique set of features.</span>
<span class="cm">	 * The first three digits identify a GA release.</span>
<span class="cm">	 */</span>
	<span class="kt">char</span> <span class="n">fw_version</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>

	<span class="cm">/*</span>
<span class="cm">	 * This 4 byte field specifies the WiLink hardware version.</span>
<span class="cm">	 * bits 0  - 15: Reserved.</span>
<span class="cm">	 * bits 16 - 23: Version ID - The WiLink version ID</span>
<span class="cm">	 *              (1 = first spin, 2 = second spin, and so on).</span>
<span class="cm">	 * bits 24 - 31: Chip ID - The WiLink chip ID.</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">hw_version</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">wl1251_psm_mode</span> <span class="p">{</span>
	<span class="cm">/* Active mode */</span>
	<span class="n">WL1251_PSM_CAM</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

	<span class="cm">/* Power save mode */</span>
	<span class="n">WL1251_PSM_PS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>

	<span class="cm">/* Extreme low power */</span>
	<span class="n">WL1251_PSM_ELP</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acx_sleep_auth</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/* The sleep level authorization of the device. */</span>
	<span class="cm">/* 0 - Always active*/</span>
	<span class="cm">/* 1 - Power down mode: light / fast sleep*/</span>
	<span class="cm">/* 2 - ELP mode: Deep / Max sleep*/</span>
	<span class="n">u8</span>  <span class="n">sleep_auth</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">padding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">HOSTIF_PCI_MASTER_HOST_INDIRECT</span><span class="p">,</span>
	<span class="n">HOSTIF_PCI_MASTER_HOST_DIRECT</span><span class="p">,</span>
	<span class="n">HOSTIF_SLAVE</span><span class="p">,</span>
	<span class="n">HOSTIF_PKT_RING</span><span class="p">,</span>
	<span class="n">HOSTIF_DONTCARE</span> <span class="o">=</span> <span class="mh">0xFF</span>
<span class="p">};</span>

<span class="cp">#define DEFAULT_UCAST_PRIORITY          0</span>
<span class="cp">#define DEFAULT_RX_Q_PRIORITY           0</span>
<span class="cp">#define DEFAULT_NUM_STATIONS            1</span>
<span class="cp">#define DEFAULT_RXQ_PRIORITY            0 </span><span class="cm">/* low 0 .. 15 high  */</span><span class="cp"></span>
<span class="cp">#define DEFAULT_RXQ_TYPE                0x07    </span><span class="cm">/* All frames, Data/Ctrl/Mgmt */</span><span class="cp"></span>
<span class="cp">#define TRACE_BUFFER_MAX_SIZE           256</span>

<span class="cp">#define  DP_RX_PACKET_RING_CHUNK_SIZE 1600</span>
<span class="cp">#define  DP_TX_PACKET_RING_CHUNK_SIZE 1600</span>
<span class="cp">#define  DP_RX_PACKET_RING_CHUNK_NUM 2</span>
<span class="cp">#define  DP_TX_PACKET_RING_CHUNK_NUM 2</span>
<span class="cp">#define  DP_TX_COMPLETE_TIME_OUT 20</span>
<span class="cp">#define  FW_TX_CMPLT_BLOCK_SIZE 16</span>

<span class="k">struct</span> <span class="n">acx_data_path_params</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u16</span> <span class="n">rx_packet_ring_chunk_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tx_packet_ring_chunk_size</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">rx_packet_ring_chunk_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tx_packet_ring_chunk_num</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Maximum number of packets that can be gathered</span>
<span class="cm">	 * in the TX complete ring before an interrupt</span>
<span class="cm">	 * is generated.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">tx_complete_threshold</span><span class="p">;</span>

	<span class="cm">/* Number of pending TX complete entries in cyclic ring.*/</span>
	<span class="n">u8</span> <span class="n">tx_complete_ring_depth</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Max num microseconds since a packet enters the TX</span>
<span class="cm">	 * complete ring until an interrupt is generated.</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">tx_complete_timeout</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="k">struct</span> <span class="n">acx_data_path_params_resp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u16</span> <span class="n">rx_packet_ring_chunk_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tx_packet_ring_chunk_size</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">rx_packet_ring_chunk_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tx_packet_ring_chunk_num</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="n">u32</span> <span class="n">rx_packet_ring_addr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_packet_ring_addr</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">rx_control_addr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_control_addr</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">tx_complete_addr</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define TX_MSDU_LIFETIME_MIN       0</span>
<span class="cp">#define TX_MSDU_LIFETIME_MAX       3000</span>
<span class="cp">#define TX_MSDU_LIFETIME_DEF       512</span>
<span class="cp">#define RX_MSDU_LIFETIME_MIN       0</span>
<span class="cp">#define RX_MSDU_LIFETIME_MAX       0xFFFFFFFF</span>
<span class="cp">#define RX_MSDU_LIFETIME_DEF       512000</span>

<span class="k">struct</span> <span class="n">acx_rx_msdu_lifetime</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The maximum amount of time, in TU, before the</span>
<span class="cm">	 * firmware discards the MSDU.</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">lifetime</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * RX Config Options Table</span>
<span class="cm"> * Bit		Definition</span>
<span class="cm"> * ===		==========</span>
<span class="cm"> * 31:14		Reserved</span>
<span class="cm"> * 13		Copy RX Status - when set, write three receive status words</span>
<span class="cm"> * 	 	to top of rx&#39;d MPDUs.</span>
<span class="cm"> * 		When cleared, do not write three status words (added rev 1.5)</span>
<span class="cm"> * 12		Reserved</span>
<span class="cm"> * 11		RX Complete upon FCS error - when set, give rx complete</span>
<span class="cm"> *	 	interrupt for FCS errors, after the rx filtering, e.g. unicast</span>
<span class="cm"> *	 	frames not to us with FCS error will not generate an interrupt.</span>
<span class="cm"> * 10		SSID Filter Enable - When set, the WiLink discards all beacon,</span>
<span class="cm"> *	        probe request, and probe response frames with an SSID that does</span>
<span class="cm"> *		not match the SSID specified by the host in the START/JOIN</span>
<span class="cm"> *		command.</span>
<span class="cm"> *		When clear, the WiLink receives frames with any SSID.</span>
<span class="cm"> * 9		Broadcast Filter Enable - When set, the WiLink discards all</span>
<span class="cm"> * 	 	broadcast frames. When clear, the WiLink receives all received</span>
<span class="cm"> *		broadcast frames.</span>
<span class="cm"> * 8:6		Reserved</span>
<span class="cm"> * 5		BSSID Filter Enable - When set, the WiLink discards any frames</span>
<span class="cm"> * 	 	with a BSSID that does not match the BSSID specified by the</span>
<span class="cm"> *		host.</span>
<span class="cm"> *		When clear, the WiLink receives frames from any BSSID.</span>
<span class="cm"> * 4		MAC Addr Filter - When set, the WiLink discards any frames</span>
<span class="cm"> * 	 	with a destination address that does not match the MAC address</span>
<span class="cm"> *		of the adaptor.</span>
<span class="cm"> *		When clear, the WiLink receives frames destined to any MAC</span>
<span class="cm"> *		address.</span>
<span class="cm"> * 3		Promiscuous - When set, the WiLink receives all valid frames</span>
<span class="cm"> * 	 	(i.e., all frames that pass the FCS check).</span>
<span class="cm"> *		When clear, only frames that pass the other filters specified</span>
<span class="cm"> *		are received.</span>
<span class="cm"> * 2		FCS - When set, the WiLink includes the FCS with the received</span>
<span class="cm"> *	 	frame.</span>
<span class="cm"> *		When cleared, the FCS is discarded.</span>
<span class="cm"> * 1		PLCP header - When set, write all data from baseband to frame</span>
<span class="cm"> * 	 	buffer including PHY header.</span>
<span class="cm"> * 0		Reserved - Always equal to 0.</span>
<span class="cm"> *</span>
<span class="cm"> * RX Filter Options Table</span>
<span class="cm"> * Bit		Definition</span>
<span class="cm"> * ===		==========</span>
<span class="cm"> * 31:12		Reserved - Always equal to 0.</span>
<span class="cm"> * 11		Association - When set, the WiLink receives all association</span>
<span class="cm"> * 	 	related frames (association request/response, reassocation</span>
<span class="cm"> *		request/response, and disassociation). When clear, these frames</span>
<span class="cm"> *		are discarded.</span>
<span class="cm"> * 10		Auth/De auth - When set, the WiLink receives all authentication</span>
<span class="cm"> * 	 	and de-authentication frames. When clear, these frames are</span>
<span class="cm"> *		discarded.</span>
<span class="cm"> * 9		Beacon - When set, the WiLink receives all beacon frames.</span>
<span class="cm"> * 	 	When clear, these frames are discarded.</span>
<span class="cm"> * 8		Contention Free - When set, the WiLink receives all contention</span>
<span class="cm"> * 	 	free frames.</span>
<span class="cm"> *		When clear, these frames are discarded.</span>
<span class="cm"> * 7		Control - When set, the WiLink receives all control frames.</span>
<span class="cm"> * 	 	When clear, these frames are discarded.</span>
<span class="cm"> * 6		Data - When set, the WiLink receives all data frames.</span>
<span class="cm"> * 	 	When clear, these frames are discarded.</span>
<span class="cm"> * 5		FCS Error - When set, the WiLink receives frames that have FCS</span>
<span class="cm"> *	 	errors.</span>
<span class="cm"> *		When clear, these frames are discarded.</span>
<span class="cm"> * 4		Management - When set, the WiLink receives all management</span>
<span class="cm"> *		frames.</span>
<span class="cm"> * 	 	When clear, these frames are discarded.</span>
<span class="cm"> * 3		Probe Request - When set, the WiLink receives all probe request</span>
<span class="cm"> * 	 	frames.</span>
<span class="cm"> *		When clear, these frames are discarded.</span>
<span class="cm"> * 2		Probe Response - When set, the WiLink receives all probe</span>
<span class="cm"> * 		response frames.</span>
<span class="cm"> *		When clear, these frames are discarded.</span>
<span class="cm"> * 1		RTS/CTS/ACK - When set, the WiLink receives all RTS, CTS and ACK</span>
<span class="cm"> * 	 	frames.</span>
<span class="cm"> *		When clear, these frames are discarded.</span>
<span class="cm"> * 0		Rsvd Type/Sub Type - When set, the WiLink receives all frames</span>
<span class="cm"> * 	 	that have reserved frame types and sub types as defined by the</span>
<span class="cm"> *		802.11 specification.</span>
<span class="cm"> *		When clear, these frames are discarded.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acx_rx_config</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">config_options</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">filter_options</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QOS_AC_BE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">QOS_AC_BK</span><span class="p">,</span>
	<span class="n">QOS_AC_VI</span><span class="p">,</span>
	<span class="n">QOS_AC_VO</span><span class="p">,</span>
	<span class="n">QOS_HIGHEST_AC_INDEX</span> <span class="o">=</span> <span class="n">QOS_AC_VO</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define MAX_NUM_OF_AC             (QOS_HIGHEST_AC_INDEX+1)</span>
<span class="cp">#define FIRST_AC_INDEX            QOS_AC_BE</span>
<span class="cp">#define MAX_NUM_OF_802_1d_TAGS    8</span>
<span class="cp">#define AC_PARAMS_MAX_TSID        15</span>
<span class="cp">#define MAX_APSD_CONF             0xffff</span>

<span class="cp">#define  QOS_TX_HIGH_MIN      (0)</span>
<span class="cp">#define  QOS_TX_HIGH_MAX      (100)</span>

<span class="cp">#define  QOS_TX_HIGH_BK_DEF   (25)</span>
<span class="cp">#define  QOS_TX_HIGH_BE_DEF   (35)</span>
<span class="cp">#define  QOS_TX_HIGH_VI_DEF   (35)</span>
<span class="cp">#define  QOS_TX_HIGH_VO_DEF   (35)</span>

<span class="cp">#define  QOS_TX_LOW_BK_DEF    (15)</span>
<span class="cp">#define  QOS_TX_LOW_BE_DEF    (25)</span>
<span class="cp">#define  QOS_TX_LOW_VI_DEF    (25)</span>
<span class="cp">#define  QOS_TX_LOW_VO_DEF    (25)</span>

<span class="k">struct</span> <span class="n">acx_tx_queue_qos_config</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">qid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

	<span class="cm">/* Max number of blocks allowd in the queue */</span>
	<span class="n">u16</span> <span class="n">high_threshold</span><span class="p">;</span>

	<span class="cm">/* Lowest memory blocks guaranteed for this queue */</span>
	<span class="n">u16</span> <span class="n">low_threshold</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_packet_detection</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">threshold</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="k">enum</span> <span class="n">acx_slot_type</span> <span class="p">{</span>
	<span class="n">SLOT_TIME_LONG</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">SLOT_TIME_SHORT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">DEFAULT_SLOT_TIME</span> <span class="o">=</span> <span class="n">SLOT_TIME_SHORT</span><span class="p">,</span>
	<span class="n">MAX_SLOT_TIMES</span> <span class="o">=</span> <span class="mh">0xFF</span>
<span class="p">};</span>

<span class="cp">#define STATION_WONE_INDEX 0</span>

<span class="k">struct</span> <span class="n">acx_slot</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">wone_index</span><span class="p">;</span> <span class="cm">/* Reserved */</span>
	<span class="n">u8</span> <span class="n">slot_time</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="cp">#define ADDRESS_GROUP_MAX	(8)</span>
<span class="cp">#define ADDRESS_GROUP_MAX_LEN	(ETH_ALEN * ADDRESS_GROUP_MAX)</span>

<span class="k">struct</span> <span class="n">acx_dot11_grp_addr_tbl</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">enabled</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">num_groups</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mac_table</span><span class="p">[</span><span class="n">ADDRESS_GROUP_MAX_LEN</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="cp">#define  RX_TIMEOUT_PS_POLL_MIN    0</span>
<span class="cp">#define  RX_TIMEOUT_PS_POLL_MAX    (200000)</span>
<span class="cp">#define  RX_TIMEOUT_PS_POLL_DEF    (15)</span>
<span class="cp">#define  RX_TIMEOUT_UPSD_MIN       0</span>
<span class="cp">#define  RX_TIMEOUT_UPSD_MAX       (200000)</span>
<span class="cp">#define  RX_TIMEOUT_UPSD_DEF       (15)</span>

<span class="k">struct</span> <span class="n">acx_rx_timeout</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The longest time the STA will wait to receive</span>
<span class="cm">	 * traffic from the AP after a PS-poll has been</span>
<span class="cm">	 * transmitted.</span>
<span class="cm">	 */</span>
	<span class="n">u16</span> <span class="n">ps_poll_timeout</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The longest time the STA will wait to receive</span>
<span class="cm">	 * traffic from the AP after a frame has been sent</span>
<span class="cm">	 * from an UPSD enabled queue.</span>
<span class="cm">	 */</span>
	<span class="n">u16</span> <span class="n">upsd_timeout</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define RTS_THRESHOLD_MIN              0</span>
<span class="cp">#define RTS_THRESHOLD_MAX              4096</span>
<span class="cp">#define RTS_THRESHOLD_DEF              2347</span>

<span class="k">struct</span> <span class="n">acx_rts_threshold</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u16</span> <span class="n">threshold</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">wl1251_acx_low_rssi_type</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * The event is a &quot;Level&quot; indication which keeps triggering</span>
<span class="cm">	 * as long as the average RSSI is below the threshold.</span>
<span class="cm">	 */</span>
	<span class="n">WL1251_ACX_LOW_RSSI_TYPE_LEVEL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

	<span class="cm">/*</span>
<span class="cm">	 * The event is an &quot;Edge&quot; indication which triggers</span>
<span class="cm">	 * only when the RSSI threshold is crossed from above.</span>
<span class="cm">	 */</span>
	<span class="n">WL1251_ACX_LOW_RSSI_TYPE_EDGE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acx_low_rssi</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The threshold (in dBm) below (or above after low rssi</span>
<span class="cm">	 * indication) which the firmware generates an interrupt to the</span>
<span class="cm">	 * host. This parameter is signed.</span>
<span class="cm">	 */</span>
	<span class="n">s8</span> <span class="n">threshold</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The weight of the current RSSI sample, before adding the new</span>
<span class="cm">	 * sample, that is used to calculate the average RSSI.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">weight</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The number of Beacons/Probe response frames that will be</span>
<span class="cm">	 * received before issuing the Low or Regained RSSI event.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">depth</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Configures how the Low RSSI Event is triggered. Refer to</span>
<span class="cm">	 * enum wl1251_acx_low_rssi_type for more.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_beacon_filter_option</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">enable</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The number of beacons without the unicast TIM</span>
<span class="cm">	 * bit set that the firmware buffers before</span>
<span class="cm">	 * signaling the host about ready frames.</span>
<span class="cm">	 * When set to 0 and the filter is enabled, beacons</span>
<span class="cm">	 * without the unicast TIM bit set are dropped.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">max_num_beacons</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * ACXBeaconFilterEntry (not 221)</span>
<span class="cm"> * Byte Offset     Size (Bytes)    Definition</span>
<span class="cm"> * ===========     ============    ==========</span>
<span class="cm"> * 0				1               IE identifier</span>
<span class="cm"> * 1               1               Treatment bit mask</span>
<span class="cm"> *</span>
<span class="cm"> * ACXBeaconFilterEntry (221)</span>
<span class="cm"> * Byte Offset     Size (Bytes)    Definition</span>
<span class="cm"> * ===========     ============    ==========</span>
<span class="cm"> * 0               1               IE identifier</span>
<span class="cm"> * 1               1               Treatment bit mask</span>
<span class="cm"> * 2               3               OUI</span>
<span class="cm"> * 5               1               Type</span>
<span class="cm"> * 6               2               Version</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> * Treatment bit mask - The information element handling:</span>
<span class="cm"> * bit 0 - The information element is compared and transferred</span>
<span class="cm"> * in case of change.</span>
<span class="cm"> * bit 1 - The information element is transferred to the host</span>
<span class="cm"> * with each appearance or disappearance.</span>
<span class="cm"> * Note that both bits can be set at the same time.</span>
<span class="cm"> */</span>
<span class="cp">#define	BEACON_FILTER_TABLE_MAX_IE_NUM		       (32)</span>
<span class="cp">#define BEACON_FILTER_TABLE_MAX_VENDOR_SPECIFIC_IE_NUM (6)</span>
<span class="cp">#define BEACON_FILTER_TABLE_IE_ENTRY_SIZE	       (2)</span>
<span class="cp">#define BEACON_FILTER_TABLE_EXTRA_VENDOR_SPECIFIC_IE_SIZE (6)</span>
<span class="cp">#define BEACON_FILTER_TABLE_MAX_SIZE ((BEACON_FILTER_TABLE_MAX_IE_NUM * \</span>
<span class="cp">			    BEACON_FILTER_TABLE_IE_ENTRY_SIZE) + \</span>
<span class="cp">			   (BEACON_FILTER_TABLE_MAX_VENDOR_SPECIFIC_IE_NUM * \</span>
<span class="cp">			    BEACON_FILTER_TABLE_EXTRA_VENDOR_SPECIFIC_IE_SIZE))</span>

<span class="cp">#define BEACON_RULE_PASS_ON_CHANGE                     BIT(0)</span>
<span class="cp">#define BEACON_RULE_PASS_ON_APPEARANCE                 BIT(1)</span>

<span class="cp">#define BEACON_FILTER_IE_ID_CHANNEL_SWITCH_ANN         (37)</span>

<span class="k">struct</span> <span class="n">acx_beacon_filter_ie_table</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">num_ie</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">table</span><span class="p">[</span><span class="n">BEACON_FILTER_TABLE_MAX_SIZE</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define SYNCH_FAIL_DEFAULT_THRESHOLD    10     </span><span class="cm">/* number of beacons */</span><span class="cp"></span>
<span class="cp">#define NO_BEACON_DEFAULT_TIMEOUT       (500) </span><span class="cm">/* in microseconds */</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">acx_conn_monit_params</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">synch_fail_thold</span><span class="p">;</span> <span class="cm">/* number of beacons missed */</span>
	<span class="n">u32</span> <span class="n">bss_lose_timeout</span><span class="p">;</span> <span class="cm">/* number of TU&#39;s from synch fail */</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">SG_ENABLE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">SG_DISABLE</span><span class="p">,</span>
	<span class="n">SG_SENSE_NO_ACTIVITY</span><span class="p">,</span>
	<span class="n">SG_SENSE_ACTIVE</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acx_bt_wlan_coex</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * 0 -&gt; PTA enabled</span>
<span class="cm">	 * 1 -&gt; PTA disabled</span>
<span class="cm">	 * 2 -&gt; sense no active mode, i.e.</span>
<span class="cm">	 *      an interrupt is sent upon</span>
<span class="cm">	 *      BT activity.</span>
<span class="cm">	 * 3 -&gt; PTA is switched on in response</span>
<span class="cm">	 *      to the interrupt sending.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">enable</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define PTA_ANTENNA_TYPE_DEF		  (0)</span>
<span class="cp">#define PTA_BT_HP_MAXTIME_DEF		  (2000)</span>
<span class="cp">#define PTA_WLAN_HP_MAX_TIME_DEF	  (5000)</span>
<span class="cp">#define PTA_SENSE_DISABLE_TIMER_DEF	  (1350)</span>
<span class="cp">#define PTA_PROTECTIVE_RX_TIME_DEF	  (1500)</span>
<span class="cp">#define PTA_PROTECTIVE_TX_TIME_DEF	  (1500)</span>
<span class="cp">#define PTA_TIMEOUT_NEXT_BT_LP_PACKET_DEF (3000)</span>
<span class="cp">#define PTA_SIGNALING_TYPE_DEF		  (1)</span>
<span class="cp">#define PTA_AFH_LEVERAGE_ON_DEF		  (0)</span>
<span class="cp">#define PTA_NUMBER_QUIET_CYCLE_DEF	  (0)</span>
<span class="cp">#define PTA_MAX_NUM_CTS_DEF		  (3)</span>
<span class="cp">#define PTA_NUMBER_OF_WLAN_PACKETS_DEF	  (2)</span>
<span class="cp">#define PTA_NUMBER_OF_BT_PACKETS_DEF	  (2)</span>
<span class="cp">#define PTA_PROTECTIVE_RX_TIME_FAST_DEF	  (1500)</span>
<span class="cp">#define PTA_PROTECTIVE_TX_TIME_FAST_DEF	  (3000)</span>
<span class="cp">#define PTA_CYCLE_TIME_FAST_DEF		  (8700)</span>
<span class="cp">#define PTA_RX_FOR_AVALANCHE_DEF	  (5)</span>
<span class="cp">#define PTA_ELP_HP_DEF			  (0)</span>
<span class="cp">#define PTA_ANTI_STARVE_PERIOD_DEF	  (500)</span>
<span class="cp">#define PTA_ANTI_STARVE_NUM_CYCLE_DEF	  (4)</span>
<span class="cp">#define PTA_ALLOW_PA_SD_DEF		  (1)</span>
<span class="cp">#define PTA_TIME_BEFORE_BEACON_DEF	  (6300)</span>
<span class="cp">#define PTA_HPDM_MAX_TIME_DEF		  (1600)</span>
<span class="cp">#define PTA_TIME_OUT_NEXT_WLAN_DEF	  (2550)</span>
<span class="cp">#define PTA_AUTO_MODE_NO_CTS_DEF	  (0)</span>
<span class="cp">#define PTA_BT_HP_RESPECTED_DEF		  (3)</span>
<span class="cp">#define PTA_WLAN_RX_MIN_RATE_DEF	  (24)</span>
<span class="cp">#define PTA_ACK_MODE_DEF		  (1)</span>

<span class="k">struct</span> <span class="n">acx_bt_wlan_coex_param</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The minimum rate of a received WLAN packet in the STA,</span>
<span class="cm">	 * during protective mode, of which a new BT-HP request</span>
<span class="cm">	 * during this Rx will always be respected and gain the antenna.</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">min_rate</span><span class="p">;</span>

	<span class="cm">/* Max time the BT HP will be respected. */</span>
	<span class="n">u16</span> <span class="n">bt_hp_max_time</span><span class="p">;</span>

	<span class="cm">/* Max time the WLAN HP will be respected. */</span>
	<span class="n">u16</span> <span class="n">wlan_hp_max_time</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The time between the last BT activity</span>
<span class="cm">	 * and the moment when the sense mode returns</span>
<span class="cm">	 * to SENSE_INACTIVE.</span>
<span class="cm">	 */</span>
	<span class="n">u16</span> <span class="n">sense_disable_timer</span><span class="p">;</span>

	<span class="cm">/* Time before the next BT HP instance */</span>
	<span class="n">u16</span> <span class="n">rx_time_bt_hp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tx_time_bt_hp</span><span class="p">;</span>

	<span class="cm">/* range: 10-20000    default: 1500 */</span>
	<span class="n">u16</span> <span class="n">rx_time_bt_hp_fast</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tx_time_bt_hp_fast</span><span class="p">;</span>

	<span class="cm">/* range: 2000-65535  default: 8700 */</span>
	<span class="n">u16</span> <span class="n">wlan_cycle_fast</span><span class="p">;</span>

	<span class="cm">/* range: 0 - 15000 (Msec) default: 1000 */</span>
	<span class="n">u16</span> <span class="n">bt_anti_starvation_period</span><span class="p">;</span>

	<span class="cm">/* range 400-10000(Usec) default: 3000 */</span>
	<span class="n">u16</span> <span class="n">next_bt_lp_packet</span><span class="p">;</span>

	<span class="cm">/* Deafult: worst case for BT DH5 traffic */</span>
	<span class="n">u16</span> <span class="n">wake_up_beacon</span><span class="p">;</span>

	<span class="cm">/* range: 0-50000(Usec) default: 1050 */</span>
	<span class="n">u16</span> <span class="n">hp_dm_max_guard_time</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * This is to prevent both BT &amp; WLAN antenna</span>
<span class="cm">	 * starvation.</span>
<span class="cm">	 * Range: 100-50000(Usec) default:2550</span>
<span class="cm">	 */</span>
	<span class="n">u16</span> <span class="n">next_wlan_packet</span><span class="p">;</span>

	<span class="cm">/* 0 -&gt; shared antenna */</span>
	<span class="n">u8</span> <span class="n">antenna_type</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * 0 -&gt; TI legacy</span>
<span class="cm">	 * 1 -&gt; Palau</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">signal_type</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * BT AFH status</span>
<span class="cm">	 * 0 -&gt; no AFH</span>
<span class="cm">	 * 1 -&gt; from dedicated GPIO</span>
<span class="cm">	 * 2 -&gt; AFH on (from host)</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">afh_leverage_on</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The number of cycles during which no</span>
<span class="cm">	 * TX will be sent after 1 cycle of RX</span>
<span class="cm">	 * transaction in protective mode</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">quiet_cycle_num</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The maximum number of CTSs that will</span>
<span class="cm">	 * be sent for receiving RX packet in</span>
<span class="cm">	 * protective mode</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">max_cts</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The number of WLAN packets</span>
<span class="cm">	 * transferred in common mode before</span>
<span class="cm">	 * switching to BT.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">wlan_packets_num</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The number of BT packets</span>
<span class="cm">	 * transferred in common mode before</span>
<span class="cm">	 * switching to WLAN.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">bt_packets_num</span><span class="p">;</span>

	<span class="cm">/* range: 1-255  default: 5 */</span>
	<span class="n">u8</span> <span class="n">missed_rx_avalanche</span><span class="p">;</span>

	<span class="cm">/* range: 0-1    default: 1 */</span>
	<span class="n">u8</span> <span class="n">wlan_elp_hp</span><span class="p">;</span>

	<span class="cm">/* range: 0 - 15  default: 4 */</span>
	<span class="n">u8</span> <span class="n">bt_anti_starvation_cycles</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">ack_mode_dual_ant</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Allow PA_SD assertion/de-assertion</span>
<span class="cm">	 * during enabled BT activity.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">pa_sd_enable</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Enable/Disable PTA in auto mode:</span>
<span class="cm">	 * Support Both Active &amp; P.S modes</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">pta_auto_mode_enable</span><span class="p">;</span>

	<span class="cm">/* range: 0 - 20  default: 1 */</span>
	<span class="n">u8</span> <span class="n">bt_hp_respected_num</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define CCA_THRSH_ENABLE_ENERGY_D       0x140A</span>
<span class="cp">#define CCA_THRSH_DISABLE_ENERGY_D      0xFFEF</span>

<span class="k">struct</span> <span class="n">acx_energy_detection</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/* The RX Clear Channel Assessment threshold in the PHY */</span>
	<span class="n">u16</span> <span class="n">rx_cca_threshold</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tx_energy_detection</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define BCN_RX_TIMEOUT_DEF_VALUE        10000</span>
<span class="cp">#define BROADCAST_RX_TIMEOUT_DEF_VALUE  20000</span>
<span class="cp">#define RX_BROADCAST_IN_PS_DEF_VALUE    1</span>
<span class="cp">#define CONSECUTIVE_PS_POLL_FAILURE_DEF 4</span>

<span class="k">struct</span> <span class="n">acx_beacon_broadcast</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u16</span> <span class="n">beacon_rx_timeout</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">broadcast_timeout</span><span class="p">;</span>

	<span class="cm">/* Enables receiving of broadcast packets in PS mode */</span>
	<span class="n">u8</span> <span class="n">rx_broadcast_in_ps</span><span class="p">;</span>

	<span class="cm">/* Consecutive PS Poll failures before updating the host */</span>
	<span class="n">u8</span> <span class="n">ps_poll_threshold</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_event_mask</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">event_mask</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">high_event_mask</span><span class="p">;</span> <span class="cm">/* Unused */</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define CFG_RX_FCS		BIT(2)</span>
<span class="cp">#define CFG_RX_ALL_GOOD		BIT(3)</span>
<span class="cp">#define CFG_UNI_FILTER_EN	BIT(4)</span>
<span class="cp">#define CFG_BSSID_FILTER_EN	BIT(5)</span>
<span class="cp">#define CFG_MC_FILTER_EN	BIT(6)</span>
<span class="cp">#define CFG_MC_ADDR0_EN		BIT(7)</span>
<span class="cp">#define CFG_MC_ADDR1_EN		BIT(8)</span>
<span class="cp">#define CFG_BC_REJECT_EN	BIT(9)</span>
<span class="cp">#define CFG_SSID_FILTER_EN	BIT(10)</span>
<span class="cp">#define CFG_RX_INT_FCS_ERROR	BIT(11)</span>
<span class="cp">#define CFG_RX_INT_ENCRYPTED	BIT(12)</span>
<span class="cp">#define CFG_RX_WR_RX_STATUS	BIT(13)</span>
<span class="cp">#define CFG_RX_FILTER_NULTI	BIT(14)</span>
<span class="cp">#define CFG_RX_RESERVE		BIT(15)</span>
<span class="cp">#define CFG_RX_TIMESTAMP_TSF	BIT(16)</span>

<span class="cp">#define CFG_RX_RSV_EN		BIT(0)</span>
<span class="cp">#define CFG_RX_RCTS_ACK		BIT(1)</span>
<span class="cp">#define CFG_RX_PRSP_EN		BIT(2)</span>
<span class="cp">#define CFG_RX_PREQ_EN		BIT(3)</span>
<span class="cp">#define CFG_RX_MGMT_EN		BIT(4)</span>
<span class="cp">#define CFG_RX_FCS_ERROR	BIT(5)</span>
<span class="cp">#define CFG_RX_DATA_EN		BIT(6)</span>
<span class="cp">#define CFG_RX_CTL_EN		BIT(7)</span>
<span class="cp">#define CFG_RX_CF_EN		BIT(8)</span>
<span class="cp">#define CFG_RX_BCN_EN		BIT(9)</span>
<span class="cp">#define CFG_RX_AUTH_EN		BIT(10)</span>
<span class="cp">#define CFG_RX_ASSOC_EN		BIT(11)</span>

<span class="cp">#define SCAN_PASSIVE		BIT(0)</span>
<span class="cp">#define SCAN_5GHZ_BAND		BIT(1)</span>
<span class="cp">#define SCAN_TRIGGERED		BIT(2)</span>
<span class="cp">#define SCAN_PRIORITY_HIGH	BIT(3)</span>

<span class="k">struct</span> <span class="n">acx_fw_gen_frame_rates</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">tx_ctrl_frame_rate</span><span class="p">;</span> <span class="cm">/* RATE_* */</span>
	<span class="n">u8</span> <span class="n">tx_ctrl_frame_mod</span><span class="p">;</span> <span class="cm">/* CCK_* or PBCC_* */</span>
	<span class="n">u8</span> <span class="n">tx_mgt_frame_rate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tx_mgt_frame_mod</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* STA MAC */</span>
<span class="k">struct</span> <span class="n">acx_dot11_station_id</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">mac</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_feature_config</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">options</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">data_flow_options</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_current_tx_power</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span>  <span class="n">current_tx_power</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">padding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_dot11_default_key</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_tsf_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">current_tsf_msb</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">current_tsf_lsb</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">last_TBTT_msb</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">last_TBTT_lsb</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">last_dtim_count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">acx_wake_up_event</span> <span class="p">{</span>
	<span class="n">WAKE_UP_EVENT_BEACON_BITMAP</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="cm">/* Wake on every Beacon*/</span>
	<span class="n">WAKE_UP_EVENT_DTIM_BITMAP</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>	<span class="cm">/* Wake on every DTIM*/</span>
	<span class="n">WAKE_UP_EVENT_N_DTIM_BITMAP</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="cm">/* Wake on every Nth DTIM */</span>
	<span class="n">WAKE_UP_EVENT_N_BEACONS_BITMAP</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="cm">/* Wake on every Nth Beacon */</span>
	<span class="n">WAKE_UP_EVENT_BITS_MASK</span>		<span class="o">=</span> <span class="mh">0x0F</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acx_wake_up_condition</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">wake_up_event</span><span class="p">;</span> <span class="cm">/* Only one bit can be set */</span>
	<span class="n">u8</span> <span class="n">listen_interval</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_aid</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * To be set when associated with an AP.</span>
<span class="cm">	 */</span>
	<span class="n">u16</span> <span class="n">aid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">acx_preamble_type</span> <span class="p">{</span>
	<span class="n">ACX_PREAMBLE_LONG</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">ACX_PREAMBLE_SHORT</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acx_preamble</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * When set, the WiLink transmits the frames with a short preamble and</span>
<span class="cm">	 * when cleared, the WiLink transmits the frames with a long preamble.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">preamble</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">padding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">acx_ctsprotect_type</span> <span class="p">{</span>
	<span class="n">CTSPROTECT_DISABLE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">CTSPROTECT_ENABLE</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acx_ctsprotect</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ctsprotect</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">padding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_tx_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">internal_desc_overflow</span><span class="p">;</span>
<span class="p">}</span>  <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_rx_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">out_of_mem</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">hdr_overflow</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">hw_stuck</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">dropped</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fcs_err</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">xfr_hint_trig</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">path_reset</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reset_counter</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_dma_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">rx_requested</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_errors</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_requested</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_errors</span><span class="p">;</span>
<span class="p">}</span>  <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_isr_statistics</span> <span class="p">{</span>
	<span class="cm">/* host command complete */</span>
	<span class="n">u32</span> <span class="n">cmd_cmplt</span><span class="p">;</span>

	<span class="cm">/* fiqisr() */</span>
	<span class="n">u32</span> <span class="n">fiqs</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_RX_HEADER) */</span>
	<span class="n">u32</span> <span class="n">rx_headers</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_RX_CMPLT) */</span>
	<span class="n">u32</span> <span class="n">rx_completes</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_NO_RX_BUF) */</span>
	<span class="n">u32</span> <span class="n">rx_mem_overflow</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_S_RX_RDY) */</span>
	<span class="n">u32</span> <span class="n">rx_rdys</span><span class="p">;</span>

	<span class="cm">/* irqisr() */</span>
	<span class="n">u32</span> <span class="n">irqs</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_TX_PROC) */</span>
	<span class="n">u32</span> <span class="n">tx_procs</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_DECRYPT_DONE) */</span>
	<span class="n">u32</span> <span class="n">decrypt_done</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_DMA0) */</span>
	<span class="n">u32</span> <span class="n">dma0_done</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_DMA1) */</span>
	<span class="n">u32</span> <span class="n">dma1_done</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_TX_EXC_CMPLT) */</span>
	<span class="n">u32</span> <span class="n">tx_exch_complete</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_COMMAND) */</span>
	<span class="n">u32</span> <span class="n">commands</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_RX_PROC) */</span>
	<span class="n">u32</span> <span class="n">rx_procs</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_PM_802) */</span>
	<span class="n">u32</span> <span class="n">hw_pm_mode_changes</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_ACKNOWLEDGE) */</span>
	<span class="n">u32</span> <span class="n">host_acknowledges</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_PM_PCI) */</span>
	<span class="n">u32</span> <span class="n">pci_pm</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_ACM_WAKEUP) */</span>
	<span class="n">u32</span> <span class="n">wakeups</span><span class="p">;</span>

	<span class="cm">/* (INT_STS_ND &amp; INT_TRIG_LOW_RSSI) */</span>
	<span class="n">u32</span> <span class="n">low_rssi</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_wep_statistics</span> <span class="p">{</span>
	<span class="cm">/* WEP address keys configured */</span>
	<span class="n">u32</span> <span class="n">addr_key_count</span><span class="p">;</span>

	<span class="cm">/* default keys configured */</span>
	<span class="n">u32</span> <span class="n">default_key_count</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">reserved</span><span class="p">;</span>

	<span class="cm">/* number of times that WEP key not found on lookup */</span>
	<span class="n">u32</span> <span class="n">key_not_found</span><span class="p">;</span>

	<span class="cm">/* number of times that WEP key decryption failed */</span>
	<span class="n">u32</span> <span class="n">decrypt_fail</span><span class="p">;</span>

	<span class="cm">/* WEP packets decrypted */</span>
	<span class="n">u32</span> <span class="n">packets</span><span class="p">;</span>

	<span class="cm">/* WEP decrypt interrupts */</span>
	<span class="n">u32</span> <span class="n">interrupt</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define ACX_MISSED_BEACONS_SPREAD 10</span>

<span class="k">struct</span> <span class="n">acx_pwr_statistics</span> <span class="p">{</span>
	<span class="cm">/* the amount of enters into power save mode (both PD &amp; ELP) */</span>
	<span class="n">u32</span> <span class="n">ps_enter</span><span class="p">;</span>

	<span class="cm">/* the amount of enters into ELP mode */</span>
	<span class="n">u32</span> <span class="n">elp_enter</span><span class="p">;</span>

	<span class="cm">/* the amount of missing beacon interrupts to the host */</span>
	<span class="n">u32</span> <span class="n">missing_bcns</span><span class="p">;</span>

	<span class="cm">/* the amount of wake on host-access times */</span>
	<span class="n">u32</span> <span class="n">wake_on_host</span><span class="p">;</span>

	<span class="cm">/* the amount of wake on timer-expire */</span>
	<span class="n">u32</span> <span class="n">wake_on_timer_exp</span><span class="p">;</span>

	<span class="cm">/* the number of packets that were transmitted with PS bit set */</span>
	<span class="n">u32</span> <span class="n">tx_with_ps</span><span class="p">;</span>

	<span class="cm">/* the number of packets that were transmitted with PS bit clear */</span>
	<span class="n">u32</span> <span class="n">tx_without_ps</span><span class="p">;</span>

	<span class="cm">/* the number of received beacons */</span>
	<span class="n">u32</span> <span class="n">rcvd_beacons</span><span class="p">;</span>

	<span class="cm">/* the number of entering into PowerOn (power save off) */</span>
	<span class="n">u32</span> <span class="n">power_save_off</span><span class="p">;</span>

	<span class="cm">/* the number of entries into power save mode */</span>
	<span class="n">u16</span> <span class="n">enable_ps</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * the number of exits from power save, not including failed PS</span>
<span class="cm">	 * transitions</span>
<span class="cm">	 */</span>
	<span class="n">u16</span> <span class="n">disable_ps</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * the number of times the TSF counter was adjusted because</span>
<span class="cm">	 * of drift</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">fix_tsf_ps</span><span class="p">;</span>

	<span class="cm">/* Gives statistics about the spread continuous missed beacons.</span>
<span class="cm">	 * The 16 LSB are dedicated for the PS mode.</span>
<span class="cm">	 * The 16 MSB are dedicated for the PS mode.</span>
<span class="cm">	 * cont_miss_bcns_spread[0] - single missed beacon.</span>
<span class="cm">	 * cont_miss_bcns_spread[1] - two continuous missed beacons.</span>
<span class="cm">	 * cont_miss_bcns_spread[2] - three continuous missed beacons.</span>
<span class="cm">	 * ...</span>
<span class="cm">	 * cont_miss_bcns_spread[9] - ten and more continuous missed beacons.</span>
<span class="cm">	*/</span>
	<span class="n">u32</span> <span class="n">cont_miss_bcns_spread</span><span class="p">[</span><span class="n">ACX_MISSED_BEACONS_SPREAD</span><span class="p">];</span>

	<span class="cm">/* the number of beacons in awake mode */</span>
	<span class="n">u32</span> <span class="n">rcvd_awake_beacons</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_mic_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">rx_pkts</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">calc_failure</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_aes_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">encrypt_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">decrypt_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">encrypt_packets</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">decrypt_packets</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">encrypt_interrupt</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">decrypt_interrupt</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_event_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">heart_beat</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">calibration</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_mismatch</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_mem_empty</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_pool</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">oom_late</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">phy_transmit_error</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_stuck</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_ps_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">pspoll_timeouts</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">upsd_timeouts</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">upsd_max_sptime</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">upsd_max_apturn</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pspoll_max_apturn</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pspoll_utilization</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">upsd_utilization</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_rxpipe_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">rx_prep_beacon_drop</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">descr_host_int_trig_rx_data</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">beacon_buffer_thres_host_int_trig_rx_data</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">missed_beacon_host_int_trig_rx_data</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_xfr_host_int_trig_rx_data</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_statistics</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">acx_tx_statistics</span> <span class="n">tx</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_rx_statistics</span> <span class="n">rx</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_dma_statistics</span> <span class="n">dma</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_isr_statistics</span> <span class="n">isr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_wep_statistics</span> <span class="n">wep</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_pwr_statistics</span> <span class="n">pwr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_aes_statistics</span> <span class="n">aes</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_mic_statistics</span> <span class="n">mic</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_event_statistics</span> <span class="n">event</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_ps_statistics</span> <span class="n">ps</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_rxpipe_statistics</span> <span class="n">rxpipe</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define ACX_MAX_RATE_CLASSES       8</span>
<span class="cp">#define ACX_RATE_MASK_UNSPECIFIED  0</span>
<span class="cp">#define ACX_RATE_RETRY_LIMIT      10</span>

<span class="k">struct</span> <span class="n">acx_rate_class</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">enabled_rates</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">short_retry_limit</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">long_retry_limit</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">aflags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">acx_rate_policy</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">rate_class_cnt</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acx_rate_class</span> <span class="n">rate_class</span><span class="p">[</span><span class="n">ACX_MAX_RATE_CLASSES</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">wl1251_acx_memory</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">num_stations</span><span class="p">;</span> <span class="cm">/* number of STAs to be supported. */</span>
	<span class="n">u16</span> <span class="n">reserved_1</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Nmber of memory buffers for the RX mem pool.</span>
<span class="cm">	 * The actual number may be less if there are</span>
<span class="cm">	 * not enough blocks left for the minimum num</span>
<span class="cm">	 * of TX ones.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">rx_mem_block_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved_2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">num_tx_queues</span><span class="p">;</span> <span class="cm">/* From 1 to 16 */</span>
	<span class="n">u8</span> <span class="n">host_if_options</span><span class="p">;</span> <span class="cm">/* HOST_IF* */</span>
	<span class="n">u8</span> <span class="n">tx_min_mem_block_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">num_ssid_profiles</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">debug_buffer_size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="cp">#define ACX_RX_DESC_MIN                1</span>
<span class="cp">#define ACX_RX_DESC_MAX                127</span>
<span class="cp">#define ACX_RX_DESC_DEF                32</span>
<span class="k">struct</span> <span class="n">wl1251_acx_rx_queue_config</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">num_descs</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pad</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">priority</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">dma_address</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define ACX_TX_DESC_MIN                1</span>
<span class="cp">#define ACX_TX_DESC_MAX                127</span>
<span class="cp">#define ACX_TX_DESC_DEF                16</span>
<span class="k">struct</span> <span class="n">wl1251_acx_tx_queue_config</span> <span class="p">{</span>
    <span class="n">u8</span> <span class="n">num_descs</span><span class="p">;</span>
    <span class="n">u8</span> <span class="n">pad</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">u8</span> <span class="n">attributes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define MAX_TX_QUEUE_CONFIGS 5</span>
<span class="cp">#define MAX_TX_QUEUES 4</span>
<span class="k">struct</span> <span class="n">wl1251_acx_config_memory</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">wl1251_acx_memory</span> <span class="n">mem_config</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wl1251_acx_rx_queue_config</span> <span class="n">rx_queue_config</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wl1251_acx_tx_queue_config</span> <span class="n">tx_queue_config</span><span class="p">[</span><span class="n">MAX_TX_QUEUE_CONFIGS</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">wl1251_acx_mem_map</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">code_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">code_end</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">wep_defkey_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">wep_defkey_end</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">sta_table_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">sta_table_end</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">packet_template_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">packet_template_end</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">queue_memory_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">queue_memory_end</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">packet_memory_pool_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">packet_memory_pool_end</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">debug_buffer1_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">debug_buffer1_end</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">debug_buffer2_start</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">debug_buffer2_end</span><span class="p">;</span>

	<span class="cm">/* Number of blocks FW allocated for TX packets */</span>
	<span class="n">u32</span> <span class="n">num_tx_mem_blocks</span><span class="p">;</span>

	<span class="cm">/* Number of blocks FW allocated for RX packets */</span>
	<span class="n">u32</span> <span class="n">num_rx_mem_blocks</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="k">struct</span> <span class="n">wl1251_acx_wr_tbtt_and_dtim</span> <span class="p">{</span>

	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/* Time in TUs between two consecutive beacons */</span>
	<span class="n">u16</span> <span class="n">tbtt</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * DTIM period</span>
<span class="cm">	 * For BSS: Number of TBTTs in a DTIM period (range: 1-10)</span>
<span class="cm">	 * For IBSS: value shall be set to 1</span>
<span class="cm">	*/</span>
	<span class="n">u8</span>  <span class="n">dtim</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">padding</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">enum</span> <span class="n">wl1251_acx_bet_mode</span> <span class="p">{</span>
	<span class="n">WL1251_ACX_BET_DISABLE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">WL1251_ACX_BET_ENABLE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl1251_acx_bet_enable</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Specifies if beacon early termination procedure is enabled or</span>
<span class="cm">	 * disabled, see enum wl1251_acx_bet_mode.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">enable</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Specifies the maximum number of consecutive beacons that may be</span>
<span class="cm">	 * early terminated. After this number is reached at least one full</span>
<span class="cm">	 * beacon must be correctly received in FW before beacon ET</span>
<span class="cm">	 * resumes. Range 0 - 255.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">max_consecutive</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">padding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">wl1251_acx_ac_cfg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Access Category - The TX queue&#39;s access category</span>
<span class="cm">	 * (refer to AccessCategory_enum)</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">ac</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The contention window minimum size (in slots) for</span>
<span class="cm">	 * the access class.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">cw_min</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The contention window maximum size (in slots) for</span>
<span class="cm">	 * the access class.</span>
<span class="cm">	 */</span>
	<span class="n">u16</span> <span class="n">cw_max</span><span class="p">;</span>

	<span class="cm">/* The AIF value (in slots) for the access class. */</span>
	<span class="n">u8</span> <span class="n">aifsn</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>

	<span class="cm">/* The TX Op Limit (in microseconds) for the access class. */</span>
	<span class="n">u16</span> <span class="n">txop_limit</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="k">enum</span> <span class="n">wl1251_acx_channel_type</span> <span class="p">{</span>
	<span class="n">CHANNEL_TYPE_DCF</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">CHANNEL_TYPE_EDCF</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">CHANNEL_TYPE_HCCA</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl1251_acx_ps_scheme</span> <span class="p">{</span>
	<span class="cm">/* regular ps: simple sending of packets */</span>
	<span class="n">WL1251_ACX_PS_SCHEME_LEGACY</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

	<span class="cm">/* sending a packet triggers a unscheduled apsd downstream */</span>
	<span class="n">WL1251_ACX_PS_SCHEME_UPSD_TRIGGER</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>

	<span class="cm">/* a pspoll packet will be sent before every data packet */</span>
	<span class="n">WL1251_ACX_PS_SCHEME_LEGACY_PSPOLL</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>

	<span class="cm">/* scheduled apsd mode */</span>
	<span class="n">WL1251_ACX_PS_SCHEME_SAPSD</span>		<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl1251_acx_ack_policy</span> <span class="p">{</span>
	<span class="n">WL1251_ACX_ACK_POLICY_LEGACY</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">WL1251_ACX_ACK_POLICY_NO_ACK</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">WL1251_ACX_ACK_POLICY_BLOCK</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl1251_acx_tid_cfg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acx_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="cm">/* tx queue id number (0-7) */</span>
	<span class="n">u8</span> <span class="n">queue</span><span class="p">;</span>

	<span class="cm">/* channel access type for the queue, enum wl1251_acx_channel_type */</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>

	<span class="cm">/* EDCA: ac index (0-3), HCCA: traffic stream id (8-15) */</span>
	<span class="n">u8</span> <span class="n">tsid</span><span class="p">;</span>

	<span class="cm">/* ps scheme of the specified queue, enum wl1251_acx_ps_scheme */</span>
	<span class="n">u8</span> <span class="n">ps_scheme</span><span class="p">;</span>

	<span class="cm">/* the tx queue ack policy, enum wl1251_acx_ack_policy */</span>
	<span class="n">u8</span> <span class="n">ack_policy</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">padding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

	<span class="cm">/* not supported */</span>
	<span class="n">u32</span> <span class="n">apsdconf</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*************************************************************************</span>

<span class="cm">    Host Interrupt Register (WiLink -&gt; Host)</span>

<span class="cm">**************************************************************************/</span>

<span class="cm">/* RX packet is ready in Xfer buffer #0 */</span>
<span class="cp">#define WL1251_ACX_INTR_RX0_DATA      BIT(0)</span>

<span class="cm">/* TX result(s) are in the TX complete buffer */</span>
<span class="cp">#define WL1251_ACX_INTR_TX_RESULT	BIT(1)</span>

<span class="cm">/* OBSOLETE */</span>
<span class="cp">#define WL1251_ACX_INTR_TX_XFR		BIT(2)</span>

<span class="cm">/* RX packet is ready in Xfer buffer #1 */</span>
<span class="cp">#define WL1251_ACX_INTR_RX1_DATA	BIT(3)</span>

<span class="cm">/* Event was entered to Event MBOX #A */</span>
<span class="cp">#define WL1251_ACX_INTR_EVENT_A		BIT(4)</span>

<span class="cm">/* Event was entered to Event MBOX #B */</span>
<span class="cp">#define WL1251_ACX_INTR_EVENT_B		BIT(5)</span>

<span class="cm">/* OBSOLETE */</span>
<span class="cp">#define WL1251_ACX_INTR_WAKE_ON_HOST	BIT(6)</span>

<span class="cm">/* Trace message on MBOX #A */</span>
<span class="cp">#define WL1251_ACX_INTR_TRACE_A		BIT(7)</span>

<span class="cm">/* Trace message on MBOX #B */</span>
<span class="cp">#define WL1251_ACX_INTR_TRACE_B		BIT(8)</span>

<span class="cm">/* Command processing completion */</span>
<span class="cp">#define WL1251_ACX_INTR_CMD_COMPLETE	BIT(9)</span>

<span class="cm">/* Init sequence is done */</span>
<span class="cp">#define WL1251_ACX_INTR_INIT_COMPLETE	BIT(14)</span>

<span class="cp">#define WL1251_ACX_INTR_ALL           0xFFFFFFFF</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">ACX_WAKE_UP_CONDITIONS</span>      <span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span>
	<span class="n">ACX_MEM_CFG</span>                 <span class="o">=</span> <span class="mh">0x0003</span><span class="p">,</span>
	<span class="n">ACX_SLOT</span>                    <span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="n">ACX_QUEUE_HEAD</span>              <span class="o">=</span> <span class="mh">0x0005</span><span class="p">,</span> <span class="cm">/* for MASTER mode only */</span>
	<span class="n">ACX_AC_CFG</span>                  <span class="o">=</span> <span class="mh">0x0007</span><span class="p">,</span>
	<span class="n">ACX_MEM_MAP</span>                 <span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span>
	<span class="n">ACX_AID</span>                     <span class="o">=</span> <span class="mh">0x000A</span><span class="p">,</span>
	<span class="n">ACX_RADIO_PARAM</span>             <span class="o">=</span> <span class="mh">0x000B</span><span class="p">,</span> <span class="cm">/* Not used */</span>
	<span class="n">ACX_CFG</span>                     <span class="o">=</span> <span class="mh">0x000C</span><span class="p">,</span> <span class="cm">/* Not used */</span>
	<span class="n">ACX_FW_REV</span>                  <span class="o">=</span> <span class="mh">0x000D</span><span class="p">,</span>
	<span class="n">ACX_MEDIUM_USAGE</span>            <span class="o">=</span> <span class="mh">0x000F</span><span class="p">,</span>
	<span class="n">ACX_RX_CFG</span>                  <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">ACX_TX_QUEUE_CFG</span>            <span class="o">=</span> <span class="mh">0x0011</span><span class="p">,</span> <span class="cm">/* FIXME: only used by wl1251 */</span>
	<span class="n">ACX_BSS_IN_PS</span>               <span class="o">=</span> <span class="mh">0x0012</span><span class="p">,</span> <span class="cm">/* for AP only */</span>
	<span class="n">ACX_STATISTICS</span>              <span class="o">=</span> <span class="mh">0x0013</span><span class="p">,</span> <span class="cm">/* Debug API */</span>
	<span class="n">ACX_FEATURE_CFG</span>             <span class="o">=</span> <span class="mh">0x0015</span><span class="p">,</span>
	<span class="n">ACX_MISC_CFG</span>                <span class="o">=</span> <span class="mh">0x0017</span><span class="p">,</span> <span class="cm">/* Not used */</span>
	<span class="n">ACX_TID_CFG</span>                 <span class="o">=</span> <span class="mh">0x001A</span><span class="p">,</span>
	<span class="n">ACX_BEACON_FILTER_OPT</span>       <span class="o">=</span> <span class="mh">0x001F</span><span class="p">,</span>
	<span class="n">ACX_LOW_RSSI</span>                <span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">ACX_NOISE_HIST</span>              <span class="o">=</span> <span class="mh">0x0021</span><span class="p">,</span>
	<span class="n">ACX_HDK_VERSION</span>             <span class="o">=</span> <span class="mh">0x0022</span><span class="p">,</span> <span class="cm">/* ??? */</span>
	<span class="n">ACX_PD_THRESHOLD</span>            <span class="o">=</span> <span class="mh">0x0023</span><span class="p">,</span>
	<span class="n">ACX_DATA_PATH_PARAMS</span>        <span class="o">=</span> <span class="mh">0x0024</span><span class="p">,</span> <span class="cm">/* WO */</span>
	<span class="n">ACX_DATA_PATH_RESP_PARAMS</span>   <span class="o">=</span> <span class="mh">0x0024</span><span class="p">,</span> <span class="cm">/* RO */</span>
	<span class="n">ACX_CCA_THRESHOLD</span>           <span class="o">=</span> <span class="mh">0x0025</span><span class="p">,</span>
	<span class="n">ACX_EVENT_MBOX_MASK</span>         <span class="o">=</span> <span class="mh">0x0026</span><span class="p">,</span>
<span class="cp">#ifdef FW_RUNNING_AS_AP</span>
	<span class="n">ACX_DTIM_PERIOD</span>             <span class="o">=</span> <span class="mh">0x0027</span><span class="p">,</span> <span class="cm">/* for AP only */</span>
<span class="cp">#else</span>
	<span class="n">ACX_WR_TBTT_AND_DTIM</span>        <span class="o">=</span> <span class="mh">0x0027</span><span class="p">,</span> <span class="cm">/* STA only */</span>
<span class="cp">#endif</span>
	<span class="n">ACX_ACI_OPTION_CFG</span>          <span class="o">=</span> <span class="mh">0x0029</span><span class="p">,</span> <span class="cm">/* OBSOLETE (for 1251)*/</span>
	<span class="n">ACX_GPIO_CFG</span>                <span class="o">=</span> <span class="mh">0x002A</span><span class="p">,</span> <span class="cm">/* Not used */</span>
	<span class="n">ACX_GPIO_SET</span>                <span class="o">=</span> <span class="mh">0x002B</span><span class="p">,</span> <span class="cm">/* Not used */</span>
	<span class="n">ACX_PM_CFG</span>                  <span class="o">=</span> <span class="mh">0x002C</span><span class="p">,</span> <span class="cm">/* To Be Documented */</span>
	<span class="n">ACX_CONN_MONIT_PARAMS</span>       <span class="o">=</span> <span class="mh">0x002D</span><span class="p">,</span>
	<span class="n">ACX_AVERAGE_RSSI</span>            <span class="o">=</span> <span class="mh">0x002E</span><span class="p">,</span> <span class="cm">/* Not used */</span>
	<span class="n">ACX_CONS_TX_FAILURE</span>         <span class="o">=</span> <span class="mh">0x002F</span><span class="p">,</span>
	<span class="n">ACX_BCN_DTIM_OPTIONS</span>        <span class="o">=</span> <span class="mh">0x0031</span><span class="p">,</span>
	<span class="n">ACX_SG_ENABLE</span>               <span class="o">=</span> <span class="mh">0x0032</span><span class="p">,</span>
	<span class="n">ACX_SG_CFG</span>                  <span class="o">=</span> <span class="mh">0x0033</span><span class="p">,</span>
	<span class="n">ACX_ANTENNA_DIVERSITY_CFG</span>   <span class="o">=</span> <span class="mh">0x0035</span><span class="p">,</span> <span class="cm">/* To Be Documented */</span>
	<span class="n">ACX_LOW_SNR</span>		    <span class="o">=</span> <span class="mh">0x0037</span><span class="p">,</span> <span class="cm">/* To Be Documented */</span>
	<span class="n">ACX_BEACON_FILTER_TABLE</span>     <span class="o">=</span> <span class="mh">0x0038</span><span class="p">,</span>
	<span class="n">ACX_ARP_IP_FILTER</span>           <span class="o">=</span> <span class="mh">0x0039</span><span class="p">,</span>
	<span class="n">ACX_ROAMING_STATISTICS_TBL</span>  <span class="o">=</span> <span class="mh">0x003B</span><span class="p">,</span>
	<span class="n">ACX_RATE_POLICY</span>             <span class="o">=</span> <span class="mh">0x003D</span><span class="p">,</span>
	<span class="n">ACX_CTS_PROTECTION</span>          <span class="o">=</span> <span class="mh">0x003E</span><span class="p">,</span>
	<span class="n">ACX_SLEEP_AUTH</span>              <span class="o">=</span> <span class="mh">0x003F</span><span class="p">,</span>
	<span class="n">ACX_PREAMBLE_TYPE</span>	    <span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span>
	<span class="n">ACX_ERROR_CNT</span>               <span class="o">=</span> <span class="mh">0x0041</span><span class="p">,</span>
	<span class="n">ACX_FW_GEN_FRAME_RATES</span>      <span class="o">=</span> <span class="mh">0x0042</span><span class="p">,</span>
	<span class="n">ACX_IBSS_FILTER</span>		    <span class="o">=</span> <span class="mh">0x0044</span><span class="p">,</span>
	<span class="n">ACX_SERVICE_PERIOD_TIMEOUT</span>  <span class="o">=</span> <span class="mh">0x0045</span><span class="p">,</span>
	<span class="n">ACX_TSF_INFO</span>                <span class="o">=</span> <span class="mh">0x0046</span><span class="p">,</span>
	<span class="n">ACX_CONFIG_PS_WMM</span>           <span class="o">=</span> <span class="mh">0x0049</span><span class="p">,</span>
	<span class="n">ACX_ENABLE_RX_DATA_FILTER</span>   <span class="o">=</span> <span class="mh">0x004A</span><span class="p">,</span>
	<span class="n">ACX_SET_RX_DATA_FILTER</span>      <span class="o">=</span> <span class="mh">0x004B</span><span class="p">,</span>
	<span class="n">ACX_GET_DATA_FILTER_STATISTICS</span> <span class="o">=</span> <span class="mh">0x004C</span><span class="p">,</span>
	<span class="n">ACX_POWER_LEVEL_TABLE</span>       <span class="o">=</span> <span class="mh">0x004D</span><span class="p">,</span>
	<span class="n">ACX_BET_ENABLE</span>              <span class="o">=</span> <span class="mh">0x0050</span><span class="p">,</span>
	<span class="n">DOT11_STATION_ID</span>            <span class="o">=</span> <span class="mh">0x1001</span><span class="p">,</span>
	<span class="n">DOT11_RX_MSDU_LIFE_TIME</span>     <span class="o">=</span> <span class="mh">0x1004</span><span class="p">,</span>
	<span class="n">DOT11_CUR_TX_PWR</span>            <span class="o">=</span> <span class="mh">0x100D</span><span class="p">,</span>
	<span class="n">DOT11_DEFAULT_KEY</span>           <span class="o">=</span> <span class="mh">0x1010</span><span class="p">,</span>
	<span class="n">DOT11_RX_DOT11_MODE</span>         <span class="o">=</span> <span class="mh">0x1012</span><span class="p">,</span>
	<span class="n">DOT11_RTS_THRESHOLD</span>         <span class="o">=</span> <span class="mh">0x1013</span><span class="p">,</span>
	<span class="n">DOT11_GROUP_ADDRESS_TBL</span>     <span class="o">=</span> <span class="mh">0x1014</span><span class="p">,</span>

	<span class="n">MAX_DOT11_IE</span> <span class="o">=</span> <span class="n">DOT11_GROUP_ADDRESS_TBL</span><span class="p">,</span>

	<span class="n">MAX_IE</span> <span class="o">=</span> <span class="mh">0xFFFF</span>
<span class="p">};</span>


<span class="kt">int</span> <span class="n">wl1251_acx_frame_rates</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u8</span> <span class="n">ctrl_rate</span><span class="p">,</span> <span class="n">u8</span> <span class="n">ctrl_mod</span><span class="p">,</span>
			   <span class="n">u8</span> <span class="n">mgt_rate</span><span class="p">,</span> <span class="n">u8</span> <span class="n">mgt_mod</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_station_id</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_default_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u8</span> <span class="n">key_id</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_wake_up_conditions</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u8</span> <span class="n">wake_up_event</span><span class="p">,</span>
				  <span class="n">u8</span> <span class="n">listen_interval</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_sleep_auth</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u8</span> <span class="n">sleep_auth</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_fw_version</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_tx_power</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="kt">int</span> <span class="n">power</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_feature_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_mem_map</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">acx_header</span> <span class="o">*</span><span class="n">mem_map</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_data_path_params</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">acx_data_path_params_resp</span> <span class="o">*</span><span class="n">data_path</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_rx_msdu_life_time</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u32</span> <span class="n">life_time</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_rx_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u32</span> <span class="n">config</span><span class="p">,</span> <span class="n">u32</span> <span class="n">filter</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_pd_threshold</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_slot</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="k">enum</span> <span class="n">acx_slot_type</span> <span class="n">slot_time</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_group_address_tbl</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_service_period_timeout</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_rts_threshold</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u16</span> <span class="n">rts_threshold</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_beacon_filter_opt</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">bool</span> <span class="n">enable_filter</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_beacon_filter_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_conn_monit_params</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_sg_enable</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_sg_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_cca_threshold</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_bcn_dtim_options</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_aid</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u16</span> <span class="n">aid</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_event_mbox_mask</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u32</span> <span class="n">event_mask</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_low_rssi</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">s8</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">u8</span> <span class="n">weight</span><span class="p">,</span>
			<span class="n">u8</span> <span class="n">depth</span><span class="p">,</span> <span class="k">enum</span> <span class="n">wl1251_acx_low_rssi_type</span> <span class="n">type</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_set_preamble</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="k">enum</span> <span class="n">acx_preamble_type</span> <span class="n">preamble</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_cts_protect</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span>
			    <span class="k">enum</span> <span class="n">acx_ctsprotect_type</span> <span class="n">ctsprotect</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_statistics</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="k">struct</span> <span class="n">acx_statistics</span> <span class="o">*</span><span class="n">stats</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_tsf_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u64</span> <span class="o">*</span><span class="n">mactime</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_rate_policies</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_mem_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_wr_tbtt_and_dtim</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u16</span> <span class="n">tbtt</span><span class="p">,</span> <span class="n">u8</span> <span class="n">dtim</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_bet_enable</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="k">enum</span> <span class="n">wl1251_acx_bet_mode</span> <span class="n">mode</span><span class="p">,</span>
			  <span class="n">u8</span> <span class="n">max_consecutive</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_ac_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u8</span> <span class="n">ac</span><span class="p">,</span> <span class="n">u8</span> <span class="n">cw_min</span><span class="p">,</span> <span class="n">u16</span> <span class="n">cw_max</span><span class="p">,</span>
		      <span class="n">u8</span> <span class="n">aifs</span><span class="p">,</span> <span class="n">u16</span> <span class="n">txop</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">wl1251_acx_tid_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl1251</span> <span class="o">*</span><span class="n">wl</span><span class="p">,</span> <span class="n">u8</span> <span class="n">queue</span><span class="p">,</span>
		       <span class="k">enum</span> <span class="n">wl1251_acx_channel_type</span> <span class="n">type</span><span class="p">,</span>
		       <span class="n">u8</span> <span class="n">tsid</span><span class="p">,</span> <span class="k">enum</span> <span class="n">wl1251_acx_ps_scheme</span> <span class="n">ps_scheme</span><span class="p">,</span>
		       <span class="k">enum</span> <span class="n">wl1251_acx_ack_policy</span> <span class="n">ack_policy</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* __WL1251_ACX_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
