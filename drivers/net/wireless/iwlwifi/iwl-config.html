<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › iwlwifi › iwl-config.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>iwl-config.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * This file is provided under a dual BSD/GPLv2 license.  When using or</span>
<span class="cm"> * redistributing this file, you may do so under either license.</span>
<span class="cm"> *</span>
<span class="cm"> * GPL LICENSE SUMMARY</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright(c) 2007 - 2012 Intel Corporation. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of version 2 of the GNU General Public License as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110,</span>
<span class="cm"> * USA</span>
<span class="cm"> *</span>
<span class="cm"> * The full GNU General Public License is included in this distribution</span>
<span class="cm"> * in the file called LICENSE.GPL.</span>
<span class="cm"> *</span>
<span class="cm"> * Contact Information:</span>
<span class="cm"> *  Intel Linux Wireless &lt;ilw@linux.intel.com&gt;</span>
<span class="cm"> * Intel Corporation, 5200 N.E. Elam Young Parkway, Hillsboro, OR 97124-6497</span>
<span class="cm"> *</span>
<span class="cm"> * BSD LICENSE</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright(c) 2005 - 2012 Intel Corporation. All rights reserved.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> *</span>
<span class="cm"> *  * Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions and the following disclaimer.</span>
<span class="cm"> *  * Redistributions in binary form must reproduce the above copyright</span>
<span class="cm"> *    notice, this list of conditions and the following disclaimer in</span>
<span class="cm"> *    the documentation and/or other materials provided with the</span>
<span class="cm"> *    distribution.</span>
<span class="cm"> *  * Neither the name Intel Corporation nor the names of its</span>
<span class="cm"> *    contributors may be used to endorse or promote products derived</span>
<span class="cm"> *    from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<span class="cm"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<span class="cm"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<span class="cm"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<span class="cm"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<span class="cm"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<span class="cm"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="cm"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<span class="cm"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="cm"> *</span>
<span class="cm"> *****************************************************************************/</span>
<span class="cp">#ifndef __IWL_CONFIG_H__</span>
<span class="cp">#define __IWL_CONFIG_H__</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;net/mac80211.h&gt;</span>


<span class="k">enum</span> <span class="n">iwl_device_family</span> <span class="p">{</span>
	<span class="n">IWL_DEVICE_FAMILY_UNDEFINED</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_1000</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_100</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_2000</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_2030</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_105</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_135</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_5000</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_5150</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_6000</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_6000i</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_6005</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_6030</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_6050</span><span class="p">,</span>
	<span class="n">IWL_DEVICE_FAMILY_6150</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * LED mode</span>
<span class="cm"> *    IWL_LED_DEFAULT:  use device default</span>
<span class="cm"> *    IWL_LED_RF_STATE: turn LED on/off based on RF state</span>
<span class="cm"> *			LED ON  = RF ON</span>
<span class="cm"> *			LED OFF = RF OFF</span>
<span class="cm"> *    IWL_LED_BLINK:    adjust led blink rate based on blink table</span>
<span class="cm"> *    IWL_LED_DISABLE:	led disabled</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">iwl_led_mode</span> <span class="p">{</span>
	<span class="n">IWL_LED_DEFAULT</span><span class="p">,</span>
	<span class="n">IWL_LED_RF_STATE</span><span class="p">,</span>
	<span class="n">IWL_LED_BLINK</span><span class="p">,</span>
	<span class="n">IWL_LED_DISABLE</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * This is the threshold value of plcp error rate per 100mSecs.  It is</span>
<span class="cm"> * used to set and check for the validity of plcp_delta.</span>
<span class="cm"> */</span>
<span class="cp">#define IWL_MAX_PLCP_ERR_THRESHOLD_MIN		1</span>
<span class="cp">#define IWL_MAX_PLCP_ERR_THRESHOLD_DEF		50</span>
<span class="cp">#define IWL_MAX_PLCP_ERR_LONG_THRESHOLD_DEF	100</span>
<span class="cp">#define IWL_MAX_PLCP_ERR_EXT_LONG_THRESHOLD_DEF	200</span>
<span class="cp">#define IWL_MAX_PLCP_ERR_THRESHOLD_MAX		255</span>
<span class="cp">#define IWL_MAX_PLCP_ERR_THRESHOLD_DISABLE	0</span>

<span class="cm">/* TX queue watchdog timeouts in mSecs */</span>
<span class="cp">#define IWL_WATCHHDOG_DISABLED	0</span>
<span class="cp">#define IWL_DEF_WD_TIMEOUT	2000</span>
<span class="cp">#define IWL_LONG_WD_TIMEOUT	10000</span>
<span class="cp">#define IWL_MAX_WD_TIMEOUT	120000</span>

<span class="cm">/* Antenna presence definitions */</span>
<span class="cp">#define	ANT_NONE	0x0</span>
<span class="cp">#define	ANT_A		BIT(0)</span>
<span class="cp">#define	ANT_B		BIT(1)</span>
<span class="cp">#define ANT_C		BIT(2)</span>
<span class="cp">#define	ANT_AB		(ANT_A | ANT_B)</span>
<span class="cp">#define	ANT_AC		(ANT_A | ANT_C)</span>
<span class="cp">#define ANT_BC		(ANT_B | ANT_C)</span>
<span class="cp">#define ANT_ABC		(ANT_A | ANT_B | ANT_C)</span>


<span class="cm">/*</span>
<span class="cm"> * @max_ll_items: max number of OTP blocks</span>
<span class="cm"> * @shadow_ram_support: shadow support for OTP memory</span>
<span class="cm"> * @led_compensation: compensate on the led on/off time per HW according</span>
<span class="cm"> *	to the deviation to achieve the desired led frequency.</span>
<span class="cm"> *	The detail algorithm is described in iwl-led.c</span>
<span class="cm"> * @chain_noise_num_beacons: number of beacons used to compute chain noise</span>
<span class="cm"> * @adv_thermal_throttle: support advance thermal throttle</span>
<span class="cm"> * @support_ct_kill_exit: support ct kill exit condition</span>
<span class="cm"> * @plcp_delta_threshold: plcp error rate threshold used to trigger</span>
<span class="cm"> *	radio tuning when there is a high receiving plcp error rate</span>
<span class="cm"> * @chain_noise_scale: default chain noise scale used for gain computation</span>
<span class="cm"> * @wd_timeout: TX queues watchdog timeout</span>
<span class="cm"> * @max_event_log_size: size of event log buffer size for ucode event logging</span>
<span class="cm"> * @shadow_reg_enable: HW shadhow register bit</span>
<span class="cm"> * @hd_v2: v2 of enhanced sensitivity value, used for 2000 series and up</span>
<span class="cm"> * @no_idle_support: do not support idle mode</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">iwl_base_params</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">eeprom_size</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">num_of_queues</span><span class="p">;</span>	<span class="cm">/* def: HW dependent */</span>
	<span class="cm">/* for iwl_apm_init() */</span>
	<span class="n">u32</span> <span class="n">pll_cfg_val</span><span class="p">;</span>

	<span class="k">const</span> <span class="n">u16</span> <span class="n">max_ll_items</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">shadow_ram_support</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">led_compensation</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">adv_thermal_throttle</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">support_ct_kill_exit</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">plcp_delta_threshold</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">chain_noise_scale</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">wd_timeout</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">max_event_log_size</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">shadow_reg_enable</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">hd_v2</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">no_idle_support</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * @advanced_bt_coexist: support advanced bt coexist</span>
<span class="cm"> * @bt_init_traffic_load: specify initial bt traffic load</span>
<span class="cm"> * @bt_prio_boost: default bt priority boost value</span>
<span class="cm"> * @agg_time_limit: maximum number of uSec in aggregation</span>
<span class="cm"> * @bt_sco_disable: uCode should not response to BT in SCO/ESCO mode</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">iwl_bt_params</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">advanced_bt_coexist</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_init_traffic_load</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_prio_boost</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">agg_time_limit</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">bt_sco_disable</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">bt_session_2</span><span class="p">;</span>
<span class="p">};</span>
<span class="cm">/*</span>
<span class="cm"> * @use_rts_for_aggregation: use rts/cts protection for HT traffic</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">iwl_ht_params</span> <span class="p">{</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">ht_greenfield_support</span><span class="p">;</span> <span class="cm">/* if used set to true */</span>
	<span class="n">bool</span> <span class="n">use_rts_for_aggregation</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">ieee80211_smps_mode</span> <span class="n">smps_mode</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct iwl_cfg</span>
<span class="cm"> * @name: Offical name of the device</span>
<span class="cm"> * @fw_name_pre: Firmware filename prefix. The api version and extension</span>
<span class="cm"> *	(.ucode) will be added to filename before loading from disk. The</span>
<span class="cm"> *	filename is constructed as fw_name_pre&lt;api&gt;.ucode.</span>
<span class="cm"> * @ucode_api_max: Highest version of uCode API supported by driver.</span>
<span class="cm"> * @ucode_api_ok: oldest version of the uCode API that is OK to load</span>
<span class="cm"> *	without a warning, for use in transitions</span>
<span class="cm"> * @ucode_api_min: Lowest version of uCode API supported by driver.</span>
<span class="cm"> * @max_inst_size: The maximal length of the fw inst section</span>
<span class="cm"> * @max_data_size: The maximal length of the fw data section</span>
<span class="cm"> * @valid_tx_ant: valid transmit antenna</span>
<span class="cm"> * @valid_rx_ant: valid receive antenna</span>
<span class="cm"> * @eeprom_ver: EEPROM version</span>
<span class="cm"> * @eeprom_calib_ver: EEPROM calibration version</span>
<span class="cm"> * @lib: pointer to the lib ops</span>
<span class="cm"> * @base_params: pointer to basic parameters</span>
<span class="cm"> * @ht_params: point to ht patameters</span>
<span class="cm"> * @bt_params: pointer to bt parameters</span>
<span class="cm"> * @need_temp_offset_calib: need to perform temperature offset calibration</span>
<span class="cm"> * @no_xtal_calib: some devices do not need crystal calibration data,</span>
<span class="cm"> *	don&#39;t send it to those</span>
<span class="cm"> * @led_mode: 0=blinking, 1=On(RF On)/Off(RF Off)</span>
<span class="cm"> * @adv_pm: advance power management</span>
<span class="cm"> * @rx_with_siso_diversity: 1x1 device with rx antenna diversity</span>
<span class="cm"> * @internal_wimax_coex: internal wifi/wimax combo device</span>
<span class="cm"> * @temp_offset_v2: support v2 of temperature offset calibration</span>
<span class="cm"> *</span>
<span class="cm"> * We enable the driver to be backward compatible wrt. hardware features.</span>
<span class="cm"> * API differences in uCode shouldn&#39;t be handled here but through TLVs</span>
<span class="cm"> * and/or the uCode API version instead.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">iwl_cfg</span> <span class="p">{</span>
	<span class="cm">/* params specific to an individual device within a device family */</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">fw_name_pre</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ucode_api_max</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ucode_api_ok</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">ucode_api_min</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">enum</span> <span class="n">iwl_device_family</span> <span class="n">device_family</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">u32</span> <span class="n">max_data_size</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">u32</span> <span class="n">max_inst_size</span><span class="p">;</span>
	<span class="n">u8</span>   <span class="n">valid_tx_ant</span><span class="p">;</span>
	<span class="n">u8</span>   <span class="n">valid_rx_ant</span><span class="p">;</span>
	<span class="n">u16</span>  <span class="n">eeprom_ver</span><span class="p">;</span>
	<span class="n">u16</span>  <span class="n">eeprom_calib_ver</span><span class="p">;</span>
	<span class="cm">/* params not likely to change within a device family */</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">iwl_base_params</span> <span class="o">*</span><span class="n">base_params</span><span class="p">;</span>
	<span class="cm">/* params likely to change within a device family */</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">iwl_ht_params</span> <span class="o">*</span><span class="n">ht_params</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">iwl_bt_params</span> <span class="o">*</span><span class="n">bt_params</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">need_temp_offset_calib</span><span class="p">;</span> <span class="cm">/* if used set to true */</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">no_xtal_calib</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">iwl_led_mode</span> <span class="n">led_mode</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">adv_pm</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">rx_with_siso_diversity</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">internal_wimax_coex</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">bool</span> <span class="n">temp_offset_v2</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* __IWL_CONFIG_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
