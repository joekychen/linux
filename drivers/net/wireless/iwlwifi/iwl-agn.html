<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › iwlwifi › iwl-agn.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>iwl-agn.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * This file is provided under a dual BSD/GPLv2 license.  When using or</span>
<span class="cm"> * redistributing this file, you may do so under either license.</span>
<span class="cm"> *</span>
<span class="cm"> * GPL LICENSE SUMMARY</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright(c) 2008 - 2012 Intel Corporation. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of version 2 of the GNU General Public License as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110,</span>
<span class="cm"> * USA</span>
<span class="cm"> *</span>
<span class="cm"> * The full GNU General Public License is included in this distribution</span>
<span class="cm"> * in the file called LICENSE.GPL.</span>
<span class="cm"> *</span>
<span class="cm"> * Contact Information:</span>
<span class="cm"> *  Intel Linux Wireless &lt;ilw@linux.intel.com&gt;</span>
<span class="cm"> * Intel Corporation, 5200 N.E. Elam Young Parkway, Hillsboro, OR 97124-6497</span>
<span class="cm"> *</span>
<span class="cm"> * BSD LICENSE</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright(c) 2005 - 2012 Intel Corporation. All rights reserved.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> *</span>
<span class="cm"> *  * Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions and the following disclaimer.</span>
<span class="cm"> *  * Redistributions in binary form must reproduce the above copyright</span>
<span class="cm"> *    notice, this list of conditions and the following disclaimer in</span>
<span class="cm"> *    the documentation and/or other materials provided with the</span>
<span class="cm"> *    distribution.</span>
<span class="cm"> *  * Neither the name Intel Corporation nor the names of its</span>
<span class="cm"> *    contributors may be used to endorse or promote products derived</span>
<span class="cm"> *    from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<span class="cm"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<span class="cm"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<span class="cm"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<span class="cm"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<span class="cm"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<span class="cm"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="cm"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<span class="cm"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cp">#ifndef __iwl_agn_h__</span>
<span class="cp">#define __iwl_agn_h__</span>

<span class="cp">#include &quot;iwl-dev.h&quot;</span>
<span class="cp">#include &quot;iwl-config.h&quot;</span>

<span class="cm">/* The first 11 queues (0-10) are used otherwise */</span>
<span class="cp">#define IWLAGN_FIRST_AMPDU_QUEUE	11</span>

<span class="cm">/* AUX (TX during scan dwell) queue */</span>
<span class="cp">#define IWL_AUX_QUEUE		10</span>

<span class="cm">/* device operations */</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iwl_lib_ops</span> <span class="n">iwl1000_lib</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iwl_lib_ops</span> <span class="n">iwl2000_lib</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iwl_lib_ops</span> <span class="n">iwl2030_lib</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iwl_lib_ops</span> <span class="n">iwl5000_lib</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iwl_lib_ops</span> <span class="n">iwl5150_lib</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iwl_lib_ops</span> <span class="n">iwl6000_lib</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iwl_lib_ops</span> <span class="n">iwl6030_lib</span><span class="p">;</span>


<span class="cp">#define TIME_UNIT		1024</span>

<span class="cm">/*****************************************************</span>
<span class="cm">* DRIVER STATUS FUNCTIONS</span>
<span class="cm">******************************************************/</span>
<span class="cp">#define STATUS_RF_KILL_HW	0</span>
<span class="cp">#define STATUS_CT_KILL		1</span>
<span class="cp">#define STATUS_ALIVE		2</span>
<span class="cp">#define STATUS_READY		3</span>
<span class="cp">#define STATUS_GEO_CONFIGURED	4</span>
<span class="cp">#define STATUS_EXIT_PENDING	5</span>
<span class="cp">#define STATUS_STATISTICS	6</span>
<span class="cp">#define STATUS_SCANNING		7</span>
<span class="cp">#define STATUS_SCAN_ABORTING	8</span>
<span class="cp">#define STATUS_SCAN_HW		9</span>
<span class="cp">#define STATUS_FW_ERROR		10</span>
<span class="cp">#define STATUS_CHANNEL_SWITCH_PENDING 11</span>
<span class="cp">#define STATUS_SCAN_COMPLETE	12</span>
<span class="cp">#define STATUS_POWER_PMI	13</span>

<span class="k">struct</span> <span class="n">iwl_ucode_capabilities</span><span class="p">;</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">ieee80211_ops</span> <span class="n">iwlagn_hw_ops</span><span class="p">;</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">iwl_set_calib_hdr</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_calib_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">,</span> <span class="n">u8</span> <span class="n">cmd</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">hdr</span><span class="o">-&gt;</span><span class="n">op_code</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">;</span>
	<span class="n">hdr</span><span class="o">-&gt;</span><span class="n">first_group</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">hdr</span><span class="o">-&gt;</span><span class="n">groups_num</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">hdr</span><span class="o">-&gt;</span><span class="n">data_valid</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">iwl_down</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_cancel_deferred_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_prepare_restart</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">__must_check</span> <span class="n">iwl_rx_dispatch</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">,</span>
				 <span class="k">struct</span> <span class="n">iwl_rx_cmd_buffer</span> <span class="o">*</span><span class="n">rxb</span><span class="p">,</span>
				 <span class="k">struct</span> <span class="n">iwl_device_cmd</span> <span class="o">*</span><span class="n">cmd</span><span class="p">);</span>

<span class="n">bool</span> <span class="n">iwl_check_for_ct_kill</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">iwlagn_lift_passive_no_rx</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>

<span class="cm">/* MAC80211 */</span>
<span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">iwl_alloc_all</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_setup_register</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			      <span class="k">const</span> <span class="k">struct</span> <span class="n">iwl_ucode_capabilities</span> <span class="o">*</span><span class="n">capa</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_unregister</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>

<span class="cm">/* commands */</span>
<span class="kt">int</span> <span class="n">iwl_dvm_send_cmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_host_cmd</span> <span class="o">*</span><span class="n">cmd</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_dvm_send_cmd_pdu</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">u8</span> <span class="n">id</span><span class="p">,</span>
			 <span class="n">u32</span> <span class="n">flags</span><span class="p">,</span> <span class="n">u16</span> <span class="n">len</span><span class="p">,</span> <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>

<span class="cm">/* RXON */</span>
<span class="kt">void</span> <span class="n">iwl_connection_init_rx_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_set_pan_params</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_commit_rxon</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_set_rxon_chain</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u32</span> <span class="n">changed</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_bss_info_changed</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">ieee80211_bss_conf</span> <span class="o">*</span><span class="n">bss_conf</span><span class="p">,</span>
			     <span class="n">u32</span> <span class="n">changes</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_config_ht40</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_conf</span> <span class="o">*</span><span class="n">conf</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_set_rxon_ht</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_ht_config</span> <span class="o">*</span><span class="n">ht_conf</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_set_rxon_channel</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ieee80211_channel</span> <span class="o">*</span><span class="n">ch</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_set_flags_for_band</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			    <span class="k">enum</span> <span class="n">ieee80211_band</span> <span class="n">band</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">);</span>

<span class="cm">/* uCode */</span>
<span class="kt">int</span> <span class="n">iwl_send_bt_env</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">u8</span> <span class="n">action</span><span class="p">,</span> <span class="n">u8</span> <span class="n">type</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_send_prio_tbl</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_init_alive_start</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_run_init_ucode</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_load_ucode_wait_alive</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			      <span class="k">enum</span> <span class="n">iwl_ucode_type</span> <span class="n">ucode_type</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_send_calib_results</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_calib_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
		  <span class="k">const</span> <span class="k">struct</span> <span class="n">iwl_calib_hdr</span> <span class="o">*</span><span class="n">cmd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_calib_free_results</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_dump_nic_event_log</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">bool</span> <span class="n">full_log</span><span class="p">,</span>
			    <span class="kt">char</span> <span class="o">**</span><span class="n">buf</span><span class="p">,</span> <span class="n">bool</span> <span class="n">display</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_hw_valid_rtc_data_addr</span><span class="p">(</span><span class="n">u32</span> <span class="n">addr</span><span class="p">);</span>

<span class="cm">/* lib */</span>
<span class="kt">int</span> <span class="n">iwlagn_send_tx_power</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_temperature</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_txfifo_flush</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">u16</span> <span class="n">flush_control</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_dev_txfifo_flush</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">u16</span> <span class="n">flush_control</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_send_beacon_cmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_send_statistics_request</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
				<span class="n">u8</span> <span class="n">flags</span><span class="p">,</span> <span class="n">bool</span> <span class="n">clear</span><span class="p">);</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">ieee80211_supported_band</span> <span class="o">*</span><span class="nf">iwl_get_hw_mode</span><span class="p">(</span>
			<span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">enum</span> <span class="n">ieee80211_band</span> <span class="n">band</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">priv</span><span class="o">-&gt;</span><span class="n">hw</span><span class="o">-&gt;</span><span class="n">wiphy</span><span class="o">-&gt;</span><span class="n">bands</span><span class="p">[</span><span class="n">band</span><span class="p">];</span>
<span class="p">}</span>

<span class="cp">#ifdef CONFIG_PM_SLEEP</span>
<span class="kt">int</span> <span class="n">iwlagn_send_patterns</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">cfg80211_wowlan</span> <span class="o">*</span><span class="n">wowlan</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_suspend</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">cfg80211_wowlan</span> <span class="o">*</span><span class="n">wowlan</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cm">/* rx */</span>
<span class="kt">int</span> <span class="n">iwlagn_hwrate_to_mac80211_idx</span><span class="p">(</span><span class="n">u32</span> <span class="n">rate_n_flags</span><span class="p">,</span> <span class="k">enum</span> <span class="n">ieee80211_band</span> <span class="n">band</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_setup_rx_handlers</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_chswitch_done</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">bool</span> <span class="n">is_success</span><span class="p">);</span>


<span class="cm">/* tx */</span>
<span class="kt">int</span> <span class="n">iwlagn_tx_skb</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_tx_agg_start</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u16</span> <span class="n">tid</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">ssn</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_tx_agg_oper</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u16</span> <span class="n">tid</span><span class="p">,</span> <span class="n">u8</span> <span class="n">buf_size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_tx_agg_stop</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u16</span> <span class="n">tid</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_rx_reply_compressed_ba</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">iwl_rx_cmd_buffer</span> <span class="o">*</span><span class="n">rxb</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">iwl_device_cmd</span> <span class="o">*</span><span class="n">cmd</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_rx_reply_tx</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rx_cmd_buffer</span> <span class="o">*</span><span class="n">rxb</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">iwl_device_cmd</span> <span class="o">*</span><span class="n">cmd</span><span class="p">);</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">iwl_tx_status_to_mac80211</span><span class="p">(</span><span class="n">u32</span> <span class="n">status</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">status</span> <span class="o">&amp;=</span> <span class="n">TX_STATUS_MSK</span><span class="p">;</span>

	<span class="k">switch</span> <span class="p">(</span><span class="n">status</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="n">TX_STATUS_SUCCESS</span>:
	<span class="k">case</span> <span class="n">TX_STATUS_DIRECT_DONE</span>:
		<span class="k">return</span> <span class="n">IEEE80211_TX_STAT_ACK</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">TX_STATUS_FAIL_DEST_PS</span>:
	<span class="k">case</span> <span class="n">TX_STATUS_FAIL_PASSIVE_NO_RX</span>:
		<span class="k">return</span> <span class="n">IEEE80211_TX_STAT_TX_FILTERED</span><span class="p">;</span>
	<span class="nl">default:</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">iwl_is_tx_success</span><span class="p">(</span><span class="n">u32</span> <span class="n">status</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">status</span> <span class="o">&amp;=</span> <span class="n">TX_STATUS_MSK</span><span class="p">;</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">status</span> <span class="o">==</span> <span class="n">TX_STATUS_SUCCESS</span><span class="p">)</span> <span class="o">||</span>
	       <span class="p">(</span><span class="n">status</span> <span class="o">==</span> <span class="n">TX_STATUS_DIRECT_DONE</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">u8</span> <span class="n">iwl_toggle_tx_ant</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">u8</span> <span class="n">ant_idx</span><span class="p">,</span> <span class="n">u8</span> <span class="n">valid</span><span class="p">);</span>

<span class="cm">/* scan */</span>
<span class="kt">void</span> <span class="n">iwlagn_post_scan</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_disable_roc</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_force_rf_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">bool</span> <span class="n">external</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_init_scan_params</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_scan_cancel</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_scan_cancel_timeout</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ms</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_force_scan_end</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_internal_short_hw_scan</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_setup_rx_scan_handlers</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_setup_scan_deferred_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_cancel_scan_deferred_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">__must_check</span> <span class="n">iwl_scan_initiate</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
				   <span class="k">enum</span> <span class="n">iwl_scan_type</span> <span class="n">scan_type</span><span class="p">,</span>
				   <span class="k">enum</span> <span class="n">ieee80211_band</span> <span class="n">band</span><span class="p">);</span>

<span class="cm">/* For faster active scanning, scan will move to the next channel if fewer than</span>
<span class="cm"> * PLCP_QUIET_THRESH packets are heard on this channel within</span>
<span class="cm"> * ACTIVE_QUIET_TIME after sending probe request.  This shortens the dwell</span>
<span class="cm"> * time if it&#39;s a quiet channel (nothing responded to our probe, and there&#39;s</span>
<span class="cm"> * no other traffic).</span>
<span class="cm"> * Disable &quot;quiet&quot; feature by setting PLCP_QUIET_THRESH to 0. */</span>
<span class="cp">#define IWL_ACTIVE_QUIET_TIME       cpu_to_le16(10)  </span><span class="cm">/* msec */</span><span class="cp"></span>
<span class="cp">#define IWL_PLCP_QUIET_THRESH       cpu_to_le16(1)  </span><span class="cm">/* packets */</span><span class="cp"></span>

<span class="cp">#define IWL_SCAN_CHECK_WATCHDOG		(HZ * 7)</span>


<span class="cm">/* bt coex */</span>
<span class="kt">void</span> <span class="n">iwlagn_send_advance_bt_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_bt_coex_profile_notif</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
				  <span class="k">struct</span> <span class="n">iwl_rx_cmd_buffer</span> <span class="o">*</span><span class="n">rxb</span><span class="p">,</span>
				  <span class="k">struct</span> <span class="n">iwl_device_cmd</span> <span class="o">*</span><span class="n">cmd</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_bt_rx_handler_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_bt_setup_deferred_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_bt_cancel_deferred_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_bt_coex_rssi_monitor</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_bt_adjust_rssi_monitor</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">bool</span> <span class="n">rssi_ena</span><span class="p">);</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">iwl_advanced_bt_coexist</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">priv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">bt_params</span> <span class="o">&amp;&amp;</span>
	       <span class="n">priv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">bt_params</span><span class="o">-&gt;</span><span class="n">advanced_bt_coexist</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#ifdef CONFIG_IWLWIFI_DEBUG</span>
<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">iwl_get_tx_fail_reason</span><span class="p">(</span><span class="n">u32</span> <span class="n">status</span><span class="p">);</span>
<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">iwl_get_agg_tx_fail_reason</span><span class="p">(</span><span class="n">u16</span> <span class="n">status</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="nf">iwl_get_tx_fail_reason</span><span class="p">(</span><span class="n">u32</span> <span class="n">status</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="p">;</span> <span class="p">}</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="nf">iwl_get_agg_tx_fail_reason</span><span class="p">(</span><span class="n">u16</span> <span class="n">status</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="p">;</span> <span class="p">}</span>
<span class="cp">#endif</span>


<span class="cm">/* station management */</span>
<span class="kt">int</span> <span class="n">iwlagn_manage_ibss_station</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span> <span class="n">bool</span> <span class="n">add</span><span class="p">);</span>
<span class="cp">#define IWL_STA_DRIVER_ACTIVE BIT(0) </span><span class="cm">/* driver entry is active */</span><span class="cp"></span>
<span class="cp">#define IWL_STA_UCODE_ACTIVE  BIT(1) </span><span class="cm">/* ucode entry is active */</span><span class="cp"></span>
<span class="cp">#define IWL_STA_UCODE_INPROGRESS  BIT(2) </span><span class="cm">/* ucode entry is in process of</span>
<span class="cm">					    being activated */</span><span class="cp"></span>
<span class="cp">#define IWL_STA_LOCAL BIT(3) </span><span class="cm">/* station state not directed by mac80211;</span>
<span class="cm">				(this is for the IBSS BSSID stations) */</span><span class="cp"></span>
<span class="cp">#define IWL_STA_BCAST BIT(4) </span><span class="cm">/* this station is the special bcast station */</span><span class="cp"></span>


<span class="kt">void</span> <span class="n">iwl_restore_stations</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_clear_ucode_stations</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			      <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_dealloc_bcast_stations</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_get_free_ucode_key_offset</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_send_add_sta</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
		     <span class="k">struct</span> <span class="n">iwl_addsta_cmd</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u8</span> <span class="n">flags</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_add_station_common</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			   <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">addr</span><span class="p">,</span> <span class="n">bool</span> <span class="n">is_ap</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">sta_id_r</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_remove_station</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">const</span> <span class="n">u8</span> <span class="n">sta_id</span><span class="p">,</span>
		       <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">addr</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_deactivate_station</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">const</span> <span class="n">u8</span> <span class="n">sta_id</span><span class="p">,</span>
			    <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">addr</span><span class="p">);</span>
<span class="n">u8</span> <span class="n">iwl_prep_station</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
		    <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">addr</span><span class="p">,</span> <span class="n">bool</span> <span class="n">is_ap</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">iwl_send_lq_cmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
		    <span class="k">struct</span> <span class="n">iwl_link_quality_cmd</span> <span class="o">*</span><span class="n">lq</span><span class="p">,</span> <span class="n">u8</span> <span class="n">flags</span><span class="p">,</span> <span class="n">bool</span> <span class="n">init</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_add_sta_callback</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rx_cmd_buffer</span> <span class="o">*</span><span class="n">rxb</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">iwl_device_cmd</span> <span class="o">*</span><span class="n">cmd</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_sta_update_ht</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
		      <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">);</span>

<span class="n">bool</span> <span class="n">iwl_is_ht40_tx_allowed</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">ieee80211_sta_ht_cap</span> <span class="o">*</span><span class="n">ht_cap</span><span class="p">);</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">iwl_sta_id</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">WARN_ON</span><span class="p">(</span><span class="o">!</span><span class="n">sta</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">IWL_INVALID_STATION</span><span class="p">;</span>

	<span class="k">return</span> <span class="p">((</span><span class="k">struct</span> <span class="n">iwl_station_priv</span> <span class="o">*</span><span class="p">)</span><span class="n">sta</span><span class="o">-&gt;</span><span class="n">drv_priv</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">sta_id</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">iwlagn_alloc_bcast_station</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_add_bssid_station</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			     <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">addr</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">sta_id_r</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_remove_default_wep_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">ieee80211_key_conf</span> <span class="o">*</span><span class="n">key</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_set_default_wep_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">ieee80211_key_conf</span> <span class="o">*</span><span class="n">key</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_restore_default_wep_keys</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
				 <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_set_dynamic_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">ieee80211_key_conf</span> <span class="o">*</span><span class="n">key</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_remove_dynamic_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">ieee80211_key_conf</span> <span class="o">*</span><span class="n">key</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_update_tkip_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">ieee80211_key_conf</span> <span class="o">*</span><span class="n">keyconf</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u32</span> <span class="n">iv32</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">phase1key</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_sta_tx_modify_enable_tid</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="kt">int</span> <span class="n">sta_id</span><span class="p">,</span> <span class="kt">int</span> <span class="n">tid</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_sta_rx_agg_start</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span>
			 <span class="kt">int</span> <span class="n">tid</span><span class="p">,</span> <span class="n">u16</span> <span class="n">ssn</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_sta_rx_agg_stop</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span>
			<span class="kt">int</span> <span class="n">tid</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_sta_modify_sleep_tx_count</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="kt">int</span> <span class="n">sta_id</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cnt</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_update_bcast_station</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_update_bcast_stations</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>

<span class="cm">/* rate */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">iwl_ant_idx_to_flags</span><span class="p">(</span><span class="n">u8</span> <span class="n">ant_idx</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">BIT</span><span class="p">(</span><span class="n">ant_idx</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">RATE_MCS_ANT_POS</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u8</span> <span class="nf">iwl_hw_get_rate</span><span class="p">(</span><span class="n">__le32</span> <span class="n">rate_n_flags</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">le32_to_cpu</span><span class="p">(</span><span class="n">rate_n_flags</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">RATE_MCS_RATE_MSK</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">__le32</span> <span class="nf">iwl_hw_set_rate_n_flags</span><span class="p">(</span><span class="n">u8</span> <span class="n">rate</span><span class="p">,</span> <span class="n">u32</span> <span class="n">flags</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">cpu_to_le32</span><span class="p">(</span><span class="n">flags</span><span class="o">|</span><span class="p">(</span><span class="n">u32</span><span class="p">)</span><span class="n">rate</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">iwl_alive_start</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="cm">/* svtool */</span>
<span class="cp">#ifdef CONFIG_IWLWIFI_DEVICE_TESTMODE</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iwlagn_mac_testmode_cmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span>
				   <span class="kt">int</span> <span class="n">len</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iwlagn_mac_testmode_dump</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				    <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">,</span>
				    <span class="k">struct</span> <span class="n">netlink_callback</span> <span class="o">*</span><span class="n">cb</span><span class="p">,</span>
				    <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iwl_testmode_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iwl_testmode_cleanup</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span>
<span class="kt">int</span> <span class="nf">iwlagn_mac_testmode_cmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="o">-</span><span class="n">ENOSYS</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kr">inline</span>
<span class="kt">int</span> <span class="nf">iwlagn_mac_testmode_dump</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">,</span>
		      <span class="k">struct</span> <span class="n">netlink_callback</span> <span class="o">*</span><span class="n">cb</span><span class="p">,</span>
		      <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="o">-</span><span class="n">ENOSYS</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kr">inline</span>
<span class="kt">void</span> <span class="nf">iwl_testmode_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kr">inline</span>
<span class="kt">void</span> <span class="nf">iwl_testmode_cleanup</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_IWLWIFI_DEBUG</span>
<span class="kt">void</span> <span class="n">iwl_print_rx_config_cmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			     <span class="k">enum</span> <span class="n">iwl_rxon_context_id</span> <span class="n">ctxid</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">iwl_print_rx_config_cmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
					   <span class="k">enum</span> <span class="n">iwl_rxon_context_id</span> <span class="n">ctxid</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cm">/* status checks */</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">iwl_is_ready</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/* The adapter is &#39;ready&#39; if READY and GEO_CONFIGURED bits are</span>
<span class="cm">	 * set but EXIT_PENDING is not */</span>
	<span class="k">return</span> <span class="n">test_bit</span><span class="p">(</span><span class="n">STATUS_READY</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
	       <span class="n">test_bit</span><span class="p">(</span><span class="n">STATUS_GEO_CONFIGURED</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
	       <span class="o">!</span><span class="n">test_bit</span><span class="p">(</span><span class="n">STATUS_EXIT_PENDING</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">iwl_is_alive</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">test_bit</span><span class="p">(</span><span class="n">STATUS_ALIVE</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">iwl_is_rfkill</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">test_bit</span><span class="p">(</span><span class="n">STATUS_RF_KILL_HW</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">iwl_is_ctkill</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">test_bit</span><span class="p">(</span><span class="n">STATUS_CT_KILL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">iwl_is_ready_rf</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">iwl_is_rfkill</span><span class="p">(</span><span class="n">priv</span><span class="p">))</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">iwl_is_ready</span><span class="p">(</span><span class="n">priv</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">iwl_dvm_set_pmi</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">bool</span> <span class="n">state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">state</span><span class="p">)</span>
		<span class="n">set_bit</span><span class="p">(</span><span class="n">STATUS_POWER_PMI</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">clear_bit</span><span class="p">(</span><span class="n">STATUS_POWER_PMI</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">status</span><span class="p">);</span>
	<span class="n">iwl_trans_set_pmi</span><span class="p">(</span><span class="n">priv</span><span class="o">-&gt;</span><span class="n">trans</span><span class="p">,</span> <span class="n">state</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#ifdef CONFIG_IWLWIFI_DEBUGFS</span>
<span class="kt">int</span> <span class="n">iwl_dbgfs_register</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_dbgfs_unregister</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">iwl_dbgfs_register</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">iwl_dbgfs_unregister</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_IWLWIFI_DEBUGFS */</span><span class="cp"></span>

<span class="cp">#ifdef CONFIG_IWLWIFI_DEBUG</span>
<span class="cp">#define IWL_DEBUG_QUIET_RFKILL(m, fmt, args...)	\</span>
<span class="cp">do {									\</span>
<span class="cp">	if (!iwl_is_rfkill((m)))					\</span>
<span class="cp">		IWL_ERR(m, fmt, ##args);				\</span>
<span class="cp">	else								\</span>
<span class="cp">		__iwl_err((m)-&gt;dev, true,				\</span>
<span class="cp">			  !iwl_have_debug_level(IWL_DL_RADIO),		\</span>
<span class="cp">			  fmt, ##args);					\</span>
<span class="cp">} while (0)</span>
<span class="cp">#else</span>
<span class="cp">#define IWL_DEBUG_QUIET_RFKILL(m, fmt, args...)	\</span>
<span class="cp">do {									\</span>
<span class="cp">	if (!iwl_is_rfkill((m)))					\</span>
<span class="cp">		IWL_ERR(m, fmt, ##args);				\</span>
<span class="cp">	else								\</span>
<span class="cp">		__iwl_err((m)-&gt;dev, true, true, fmt, ##args);	\</span>
<span class="cp">} while (0)</span>
<span class="cp">#endif				</span><span class="cm">/* CONFIG_IWLWIFI_DEBUG */</span><span class="cp"></span>

<span class="k">extern</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">iwl_dvm_cmd_strings</span><span class="p">[</span><span class="n">REPLY_MAX</span><span class="p">];</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="nf">iwl_dvm_get_cmd_string</span><span class="p">(</span><span class="n">u8</span> <span class="n">cmd</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="n">iwl_dvm_cmd_strings</span><span class="p">[</span><span class="n">cmd</span><span class="p">];</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">s</span><span class="p">;</span>
	<span class="k">return</span> <span class="s">&quot;UNKNOWN&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* API method exported for mvm hybrid state */</span>
<span class="kt">void</span> <span class="n">iwl_setup_deferred_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_send_wimax_coex</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_send_bt_env</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">u8</span> <span class="n">action</span><span class="p">,</span> <span class="n">u8</span> <span class="n">type</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_option_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_set_hw_params</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_init_context</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">ucode_flags</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_init_drv</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_uninit_drv</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_send_bt_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_rf_kill_ct_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_setup_interface</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_teardown_interface</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			    <span class="n">bool</span> <span class="n">mode_change</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwl_full_rxon_required</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_update_qos</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_check_needed_chains</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">iwl_rxon_context</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">ieee80211_bss_conf</span> <span class="o">*</span><span class="n">bss_conf</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_chain_noise_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_update_beacon</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_tt_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_priv</span> <span class="o">*</span><span class="n">priv</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_op_mode_dvm_stop</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_stop_sw_queue</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">,</span> <span class="kt">int</span> <span class="n">queue</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_set_hw_rfkill_state</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">,</span> <span class="n">bool</span> <span class="n">state</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_free_skb</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_nic_error</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_cmd_queue_full</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_nic_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_set_tim</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">bool</span> <span class="n">set</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_rssi_callback</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			      <span class="k">enum</span> <span class="n">ieee80211_rssi_event</span> <span class="n">rssi_event</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_cancel_remain_on_channel</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_tx_last_beacon</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_flush</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">bool</span> <span class="n">drop</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwl_wake_sw_queue</span><span class="p">(</span><span class="k">struct</span> <span class="n">iwl_op_mode</span> <span class="o">*</span><span class="n">op_mode</span><span class="p">,</span> <span class="kt">int</span> <span class="n">queue</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_channel_switch</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">ieee80211_channel_switch</span> <span class="o">*</span><span class="n">ch_switch</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_sta_state</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span>
			 <span class="k">enum</span> <span class="n">ieee80211_sta_state</span> <span class="n">old_state</span><span class="p">,</span>
			 <span class="k">enum</span> <span class="n">ieee80211_sta_state</span> <span class="n">new_state</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_ampdu_action</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			    <span class="k">enum</span> <span class="n">ieee80211_ampdu_mlme_action</span> <span class="n">action</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u16</span> <span class="n">tid</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">ssn</span><span class="p">,</span>
			    <span class="n">u8</span> <span class="n">buf_size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_hw_scan</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">cfg80211_scan_request</span> <span class="o">*</span><span class="n">req</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_sta_notify</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			   <span class="k">enum</span> <span class="n">sta_notify_cmd</span> <span class="n">cmd</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_configure_filter</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			     <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">changed_flags</span><span class="p">,</span>
			     <span class="kt">unsigned</span> <span class="kt">int</span> <span class="o">*</span><span class="n">total_flags</span><span class="p">,</span>
			     <span class="n">u64</span> <span class="n">multicast</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_conf_tx</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span> <span class="n">u16</span> <span class="n">queue</span><span class="p">,</span>
		       <span class="k">const</span> <span class="k">struct</span> <span class="n">ieee80211_tx_queue_params</span> <span class="o">*</span><span class="n">params</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_set_rekey_data</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">cfg80211_gtk_rekey_data</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_update_tkip_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">ieee80211_key_conf</span> <span class="o">*</span><span class="n">keyconf</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span>
				<span class="n">u32</span> <span class="n">iv32</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">phase1key</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_set_key</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">enum</span> <span class="n">set_key_cmd</span> <span class="n">cmd</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ieee80211_key_conf</span> <span class="o">*</span><span class="n">key</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_stop</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">iwlagn_mac_tx</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">iwlagn_mac_suspend</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">struct</span> <span class="n">cfg80211_wowlan</span> <span class="o">*</span><span class="n">wowlan</span><span class="p">);</span>
<span class="cp">#endif </span><span class="cm">/* __iwl_agn_h__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
