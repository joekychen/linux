f | Makefile | g | 589B |  | David Kilroy | kilroyd@googlemail.com | 1272912788 |  | orinoco: add orinoco_usb driver  This driver uses the core orinoco modules for the bulk of the functionality. The low level hermes routines (for local bus cards) are replaced, the driver supplies its own ndo_xmit_start function, and locking is done with the _bh variant.  Some recent functionality is not available to the USB cards yet (firmware loading and WPA).  Out-of-tree driver originally written by Manuel Estrada Sainz.  Thanks to Mark Davis for supplying hardware to test the updates.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | orinoco_pci.c | s | 7.4K | 224 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | hermes_dld.h | s | 1.9K | 47 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | wext.h | s | 287B | 10 | David Kilroy | kilroyd@googlemail.com | 1234550673 |  | orinoco: Move WEXT handlers into a separate file  No functional change.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | hw.h | s | 2.2K | 51 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | airport.c | s | 6.1K | 215 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | scan.h | s | 553B | 18 | David Kilroy | kilroyd@gmail.com | 1291141385 |  | orinoco: abort scan on interface down  This fixes the problem causing the following trace:  ------------[ cut here ]------------ WARNING: at linux-2.6.34/net/wireless/core.c:633 wdev_cleanup_work+0xb7/0xe0 [cfg80211]() Hardware name: Latitude C840 Pid: 707, comm: cfg80211 Not tainted 2.6.34.7-0.5-desktop #1 Call Trace:  [<c02065c3>] try_stack_unwind+0x173/0x190  [<c02051cf>] dump_trace+0x3f/0xe0  [<c020662b>] show_trace_log_lvl+0x4b/0x60  [<c0206658>] show_trace+0x18/0x20  [<c064e0b3>] dump_stack+0x6d/0x72  [<c02443ae>] warn_slowpath_common+0x6e/0xb0  [<c0244403>] warn_slowpath_null+0x13/0x20  [<e2db5497>] wdev_cleanup_work+0xb7/0xe0 [cfg80211]  [<c025cfa9>] run_workqueue+0x79/0x170  [<c025d123>] worker_thread+0x83/0xe0  [<c025fef4>] kthread+0x74/0x80  [<c0203826>] kernel_thread_helper+0x6/0x10 ---[ end trace 3f0348b3b0c6f4ff ]---  Reported by: Giacomo Comes <comes@naic.edu> Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | fw.h | s | 569B | 17 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | fw.c | s | 9.6K | 327 | Jesper Juhl | jj@chaosbits.net | 1334257568 |  | wireless, orinoco: release_firmware() tests for NULL, remove explicit tests before calls  It is redundant to test for NULL pointers before calling release_firmware() since the function does its own NULL test.  Signed-off-by: Jesper Juhl <jj@chaosbits.net> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | wext.c | s | 34K | 1168 | Johannes Berg | johannes.berg@intel.com | 1312827899 |  | cfg80211: split wext compatibility to separate header  A lot of drivers erroneously use wext constants and don't notice since cfg80211.h includes them. Make this more split up so drivers needing wext compatibility from cfg80211 need to explicitly include that from cfg80211-wext.h.  Signed-off-by: Johannes Berg <johannes.berg@intel.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | orinoco_nortel.c | s | 8.4K | 272 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | orinoco.h | s | 6.6K | 212 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | cfg.c | s | 6.5K | 237 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | scan.c | s | 5.7K | 213 | David Kilroy | kilroyd@googlemail.com | 1320872459 |  | orinoco: release BSS structures returned by cfg80211_inform_bss()  The pointer returned by cfg80211_inform_bss is a referenced struct. The orinoco driver does not need to keep the struct, so we just release it.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | hermes_dld.c | s | 12K | 409 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | orinoco_plx.c | s | 11K | 320 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | hermes.h | s | 15K | 452 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | mic.c | s | 2.1K | 68 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | cfg.h | s | 308B | 11 | David Kilroy | kilroyd@googlemail.com | 1247252504 |  | orinoco: initiate cfg80211 conversion  Initialise and register a wiphy.  Store the orinoco_private structure in the new wiphy, and use the net_device private area to store the wireless_dev. This results in a change to the way we navigate from a net_device to the driver private orinoco_private, which we encapsulate in the inline function ndev_priv. Most of the remaining calls to netdev_priv are thus replaced by ndev_priv.  We can immediately rely on cfg80211 to handle SIOCGIWNAME, so orinoco_ioctl_getname is removed.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | hermes_rid.h | s | 6.7K | 162 | David Kilroy | kilroyd@googlemail.com | 1226348262 |  | orinoco: Move sources to a subdirectory  Keeping all the orinoco drivers in a common directory will make maintenance easier.  Signed-off by: David Kilroy <kilroyd@googlemail.com>  Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | orinoco_usb.c | s | 44K | 1488 | Sarah Sharp | sarah.a.sharp@linux.intel.com | 1337380975 |  | USB: Disable hub-initiated LPM for comms devices.  Hub-initiated LPM is not good for USB communications devices.  Comms devices should be able to tell when their link can go into a lower power state, because they know when an incoming transmission is finished. Ideally, these devices would slam their links into a lower power state, using the device-initiated LPM, after finishing the last packet of their data transfer.  If we enable the idle timeouts for the parent hubs to enable hub-initiated LPM, we will get a lot of useless LPM packets on the bus as the devices reject LPM transitions when they're in the middle of receiving data.  Worse, some devices might blindly accept the hub-initiated LPM and power down their radios while they're in the middle of receiving a transmission.  The Intel Windows folks are disabling hub-initiated LPM for all USB communications devices under a xHCI USB 3.0 host.  In order to keep the Linux behavior as close as possible to Windows, we need to do the same in Linux.  Set the disable_hub_initiated_lpm flag for for all USB communications drivers.  I know there aren't currently any USB 3.0 devices that implement these class specifications, but we should be ready if they do.  Signed-off-by: Sarah Sharp <sarah.a.sharp@linux.intel.com> Cc: Marcel Holtmann <marcel@holtmann.org> Cc: Gustavo Padovan <gustavo@padovan.org> Cc: Johan Hedberg <johan.hedberg@gmail.com> Cc: Hansjoerg Lipp <hjlipp@web.de> Cc: Tilman Schmidt <tilman@imap.cc> Cc: Karsten Keil <isdn@linux-pingi.de> Cc: Peter Korsgaard <jacmet@sunsite.dk> Cc: Jan Dumon <j.dumon@option.com> Cc: Petko Manolov <petkan@users.sourceforge.net> Cc: Steve Glendinning <steve.glendinning@smsc.com> Cc: "John W. Linville" <linville@tuxdriver.com> Cc: Kalle Valo <kvalo@qca.qualcomm.com> Cc: "Luis R. Rodriguez" <mcgrof@qca.qualcomm.com> Cc: Jouni Malinen <jouni@qca.qualcomm.com> Cc: Vasanthakumar Thiagarajan <vthiagar@qca.qualcomm.com> Cc: Senthil Balasubramanian <senthilb@qca.qualcomm.com> Cc: Christian Lamparter <chunkeey@googlemail.com> Cc: Brett Rudley <brudley@broadcom.com> Cc: Roland Vossen <rvossen@broadcom.com> Cc: Arend van Spriel <arend@broadcom.com> Cc: "Franky (Zhenhui) Lin" <frankyl@broadcom.com> Cc: Kan Yan <kanyan@broadcom.com> Cc: Dan Williams <dcbw@redhat.com> Cc: Jussi Kivilinna <jussi.kivilinna@mbnet.fi> Cc: Ivo van Doorn <IvDoorn@gmail.com> Cc: Gertjan van Wingerde <gwingerde@gmail.com> Cc: Helmut Schaa <helmut.schaa@googlemail.com> Cc: Herton Ronaldo Krzesinski <herton@canonical.com> Cc: Hin-Tak Leung <htl10@users.sourceforge.net> Cc: Larry Finger <Larry.Finger@lwfinger.net> Cc: Chaoming Li <chaoming_li@realsil.com.cn> Cc: Daniel Drake <dsd@gentoo.org> Cc: Ulrich Kunitz <kune@deine-taler.de> Signed-off-by: Sarah Sharp <sarah.a.sharp@linux.intel.com>
f | orinoco_cs.c | s | 13K | 298 | Linus Torvalds | torvalds@linux-foundation.org | 1312129388 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/brodo/pcmcia-2.6  * git://git.kernel.org/pub/scm/linux/kernel/git/brodo/pcmcia-2.6:   smc91c92_cs.c: fix bogus compiler warning   orinoco_cs: be more careful when matching cards with ID 0x0156:0x0002   hostap_cs: support cards with "Version 01.02" as third product ID   pcmcia: add PCMCIA_DEVICE_MANF_CARD_PROD_ID3   pxa2xx pcmcia - stargate 2 use gpio array.   pcmcia: pxa2xx: remove empty socket_init / socket_resume functions.   drivers:pcmcia:soc_common: make socket_init and socket_suspend optional
f | orinoco_tmd.c | s | 6.4K | 206 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | mic.h | s | 499B | 17 | David Kilroy | kilroyd@googlemail.com | 1234550653 |  | orinoco: Move MIC helpers into new file  No functional change.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | hw.c | s | 33K | 1174 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | Kconfig | g | 5.5K |  | David Kilroy | kilroyd@googlemail.com | 1272912788 |  | orinoco: add orinoco_usb driver  This driver uses the core orinoco modules for the bulk of the functionality. The low level hermes routines (for local bus cards) are replaced, the driver supplies its own ndo_xmit_start function, and locking is done with the _bh variant.  Some recent functionality is not available to the USB cards yet (firmware loading and WPA).  Out-of-tree driver originally written by Manuel Estrada Sainz.  Thanks to Mark Davis for supplying hardware to test the updates.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | hermes.c | s | 19K | 643 | Pavel Roskin | proski@gnu.org | 1310751511 |  | orinoco: minor fixes for problems found by checkpatch.pl  Eliminate spaces before tabs.  Eliminate typedefs.  Add spaces around operators.  Signed-off-by: Pavel Roskin <proski@gnu.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | main.h | s | 1.3K | 41 | David Kilroy | kilroyd@googlemail.com | 1271709702 |  | orinoco: use cfg80211_find_ie  Instead of using a local function.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | main.c | s | 63K | 2049 | Santosh Nayak | santoshprasadnayak@gmail.com | 1332959135 |  | net: orinoco: add error handling for failed kmalloc().  With flag 'GFP_ATOMIC', probability of allocation failure is more. Add error handling after kmalloc() call to avoid null dereference.  Signed-off-by: Santosh Nayak <santoshprasadnayak@gmail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | spectrum_cs.c | s | 8.6K | 270 | John W. Linville | linville@tuxdriver.com | 1311371476 |  | Merge branch 'master' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-next-2.6 into for-davem
f | orinoco_pci.h | s | 1.4K | 56 | David Kilroy | kilroyd@googlemail.com | 1247252506 |  | orinoco: Handle suspend/restore in core driver  Each device does almost exactly the same things on suspend and resume when upping and downing the interface. So move this logic into a common routine.  Signed-off-by: David Kilroy <kilroyd@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
