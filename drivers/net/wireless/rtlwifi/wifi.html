<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › rtlwifi › wifi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>wifi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright(c) 2009-2012  Realtek Corporation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms of version 2 of the GNU General Public License as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but WITHOUT</span>
<span class="cm"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span>
<span class="cm"> * more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along with</span>
<span class="cm"> * this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 51 Franklin Street, Fifth Floor, Boston, MA 02110, USA</span>
<span class="cm"> *</span>
<span class="cm"> * The full GNU General Public License is included in this distribution in the</span>
<span class="cm"> * file called LICENSE.</span>
<span class="cm"> *</span>
<span class="cm"> * Contact Information:</span>
<span class="cm"> * wlanfae &lt;wlanfae@realtek.com&gt;</span>
<span class="cm"> * Realtek Corporation, No. 2, Innovation Road II, Hsinchu Science Park,</span>
<span class="cm"> * Hsinchu 300, Taiwan.</span>
<span class="cm"> *</span>
<span class="cm"> * Larry Finger &lt;Larry.Finger@lwfinger.net&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cp">#ifndef __RTL_WIFI_H__</span>
<span class="cp">#define __RTL_WIFI_H__</span>

<span class="cp">#define pr_fmt(fmt) KBUILD_MODNAME &quot;: &quot; fmt</span>

<span class="cp">#include &lt;linux/sched.h&gt;</span>
<span class="cp">#include &lt;linux/firmware.h&gt;</span>
<span class="cp">#include &lt;linux/etherdevice.h&gt;</span>
<span class="cp">#include &lt;linux/vmalloc.h&gt;</span>
<span class="cp">#include &lt;linux/usb.h&gt;</span>
<span class="cp">#include &lt;net/mac80211.h&gt;</span>
<span class="cp">#include &lt;linux/completion.h&gt;</span>
<span class="cp">#include &quot;debug.h&quot;</span>

<span class="cp">#define RF_CHANGE_BY_INIT			0</span>
<span class="cp">#define RF_CHANGE_BY_IPS			BIT(28)</span>
<span class="cp">#define RF_CHANGE_BY_PS				BIT(29)</span>
<span class="cp">#define RF_CHANGE_BY_HW				BIT(30)</span>
<span class="cp">#define RF_CHANGE_BY_SW				BIT(31)</span>

<span class="cp">#define IQK_ADDA_REG_NUM			16</span>
<span class="cp">#define IQK_MAC_REG_NUM				4</span>

<span class="cp">#define MAX_KEY_LEN				61</span>
<span class="cp">#define KEY_BUF_SIZE				5</span>

<span class="cm">/* QoS related. */</span>
<span class="cm">/*aci: 0x00	Best Effort*/</span>
<span class="cm">/*aci: 0x01	Background*/</span>
<span class="cm">/*aci: 0x10	Video*/</span>
<span class="cm">/*aci: 0x11	Voice*/</span>
<span class="cm">/*Max: define total number.*/</span>
<span class="cp">#define AC0_BE					0</span>
<span class="cp">#define AC1_BK					1</span>
<span class="cp">#define AC2_VI					2</span>
<span class="cp">#define AC3_VO					3</span>
<span class="cp">#define AC_MAX					4</span>
<span class="cp">#define QOS_QUEUE_NUM				4</span>
<span class="cp">#define RTL_MAC80211_NUM_QUEUE			5</span>
<span class="cp">#define REALTEK_USB_VENQT_MAX_BUF_SIZE		254</span>
<span class="cp">#define RTL_USB_MAX_RX_COUNT			100</span>
<span class="cp">#define QBSS_LOAD_SIZE				5</span>
<span class="cp">#define MAX_WMMELE_LENGTH			64</span>

<span class="cp">#define TOTAL_CAM_ENTRY				32</span>

<span class="cm">/*slot time for 11g. */</span>
<span class="cp">#define RTL_SLOT_TIME_9				9</span>
<span class="cp">#define RTL_SLOT_TIME_20			20</span>

<span class="cm">/*related with tcp/ip. */</span>
<span class="cm">/*if_ehther.h*/</span>
<span class="cp">#define ETH_P_PAE		0x888E	</span><span class="cm">/*Port Access Entity (IEEE 802.1X) */</span><span class="cp"></span>
<span class="cp">#define ETH_P_IP		0x0800	</span><span class="cm">/*Internet Protocol packet */</span><span class="cp"></span>
<span class="cp">#define ETH_P_ARP		0x0806	</span><span class="cm">/*Address Resolution packet */</span><span class="cp"></span>
<span class="cp">#define SNAP_SIZE		6</span>
<span class="cp">#define PROTOC_TYPE_SIZE	2</span>

<span class="cm">/*related with 802.11 frame*/</span>
<span class="cp">#define MAC80211_3ADDR_LEN			24</span>
<span class="cp">#define MAC80211_4ADDR_LEN			30</span>

<span class="cp">#define CHANNEL_MAX_NUMBER	(14 + 24 + 21)	</span><span class="cm">/* 14 is the max channel no */</span><span class="cp"></span>
<span class="cp">#define CHANNEL_GROUP_MAX	(3 + 9)	</span><span class="cm">/*  ch1~3, 4~9, 10~14 = three groups */</span><span class="cp"></span>
<span class="cp">#define MAX_PG_GROUP			13</span>
<span class="cp">#define	CHANNEL_GROUP_MAX_2G		3</span>
<span class="cp">#define	CHANNEL_GROUP_IDX_5GL		3</span>
<span class="cp">#define	CHANNEL_GROUP_IDX_5GM		6</span>
<span class="cp">#define	CHANNEL_GROUP_IDX_5GH		9</span>
<span class="cp">#define	CHANNEL_GROUP_MAX_5G		9</span>
<span class="cp">#define CHANNEL_MAX_NUMBER_2G		14</span>
<span class="cp">#define AVG_THERMAL_NUM			8</span>
<span class="cp">#define MAX_TID_COUNT			9</span>

<span class="cm">/* for early mode */</span>
<span class="cp">#define FCS_LEN				4</span>
<span class="cp">#define EM_HDR_LEN			8</span>
<span class="k">enum</span> <span class="n">intf_type</span> <span class="p">{</span>
	<span class="n">INTF_PCI</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">INTF_USB</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">radio_path</span> <span class="p">{</span>
	<span class="n">RF90_PATH_A</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RF90_PATH_B</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">RF90_PATH_C</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">RF90_PATH_D</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rt_eeprom_type</span> <span class="p">{</span>
	<span class="n">EEPROM_93C46</span><span class="p">,</span>
	<span class="n">EEPROM_93C56</span><span class="p">,</span>
	<span class="n">EEPROM_BOOT_EFUSE</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rtl_status</span> <span class="p">{</span>
	<span class="n">RTL_STATUS_INTERFACE_START</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">hardware_type</span> <span class="p">{</span>
	<span class="n">HARDWARE_TYPE_RTL8192E</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8192U</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8192SE</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8192SU</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8192CE</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8192CU</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8192DE</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8192DU</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8723E</span><span class="p">,</span>
	<span class="n">HARDWARE_TYPE_RTL8723U</span><span class="p">,</span>

	<span class="cm">/* keep it last */</span>
	<span class="n">HARDWARE_TYPE_NUM</span>
<span class="p">};</span>

<span class="cp">#define IS_HARDWARE_TYPE_8192SU(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8192SU)</span>
<span class="cp">#define IS_HARDWARE_TYPE_8192SE(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8192SE)</span>
<span class="cp">#define IS_HARDWARE_TYPE_8192CE(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8192CE)</span>
<span class="cp">#define IS_HARDWARE_TYPE_8192CU(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8192CU)</span>
<span class="cp">#define IS_HARDWARE_TYPE_8192DE(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8192DE)</span>
<span class="cp">#define IS_HARDWARE_TYPE_8192DU(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8192DU)</span>
<span class="cp">#define IS_HARDWARE_TYPE_8723E(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8723E)</span>
<span class="cp">#define IS_HARDWARE_TYPE_8723U(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8723U)</span>
<span class="cp">#define	IS_HARDWARE_TYPE_8192S(rtlhal)			\</span>
<span class="cp">(IS_HARDWARE_TYPE_8192SE(rtlhal) || IS_HARDWARE_TYPE_8192SU(rtlhal))</span>
<span class="cp">#define	IS_HARDWARE_TYPE_8192C(rtlhal)			\</span>
<span class="cp">(IS_HARDWARE_TYPE_8192CE(rtlhal) || IS_HARDWARE_TYPE_8192CU(rtlhal))</span>
<span class="cp">#define	IS_HARDWARE_TYPE_8192D(rtlhal)			\</span>
<span class="cp">(IS_HARDWARE_TYPE_8192DE(rtlhal) || IS_HARDWARE_TYPE_8192DU(rtlhal))</span>
<span class="cp">#define	IS_HARDWARE_TYPE_8723(rtlhal)			\</span>
<span class="cp">(IS_HARDWARE_TYPE_8723E(rtlhal) || IS_HARDWARE_TYPE_8723U(rtlhal))</span>
<span class="cp">#define IS_HARDWARE_TYPE_8723U(rtlhal)			\</span>
<span class="cp">	(rtlhal-&gt;hw_type == HARDWARE_TYPE_RTL8723U)</span>

<span class="cp">#define RX_HAL_IS_CCK_RATE(_pdesc)\</span>
<span class="cp">	(_pdesc-&gt;rxmcs == DESC92_RATE1M ||		\</span>
<span class="cp">	 _pdesc-&gt;rxmcs == DESC92_RATE2M ||		\</span>
<span class="cp">	 _pdesc-&gt;rxmcs == DESC92_RATE5_5M ||		\</span>
<span class="cp">	 _pdesc-&gt;rxmcs == DESC92_RATE11M)</span>

<span class="k">enum</span> <span class="n">scan_operation_backup_opt</span> <span class="p">{</span>
	<span class="n">SCAN_OPT_BACKUP</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">SCAN_OPT_RESTORE</span><span class="p">,</span>
	<span class="n">SCAN_OPT_MAX</span>
<span class="p">};</span>

<span class="cm">/*RF state.*/</span>
<span class="k">enum</span> <span class="n">rf_pwrstate</span> <span class="p">{</span>
	<span class="n">ERFON</span><span class="p">,</span>
	<span class="n">ERFSLEEP</span><span class="p">,</span>
	<span class="n">ERFOFF</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bb_reg_def</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">rfintfs</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfintfi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfintfo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfintfe</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rf3wire_offset</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rflssi_select</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rftxgain_stage</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfhssi_para1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfhssi_para2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfswitch_control</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfagc_control1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfagc_control2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfrxiq_imbalance</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rfrx_afe</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rftxiq_imbalance</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rftx_afe</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rflssi_readback</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rflssi_readbackpi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">io_type</span> <span class="p">{</span>
	<span class="n">IO_CMD_PAUSE_DM_BY_SCAN</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">IO_CMD_RESUME_DM_BY_SCAN</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">hw_variables</span> <span class="p">{</span>
	<span class="n">HW_VAR_ETHER_ADDR</span><span class="p">,</span>
	<span class="n">HW_VAR_MULTICAST_REG</span><span class="p">,</span>
	<span class="n">HW_VAR_BASIC_RATE</span><span class="p">,</span>
	<span class="n">HW_VAR_BSSID</span><span class="p">,</span>
	<span class="n">HW_VAR_MEDIA_STATUS</span><span class="p">,</span>
	<span class="n">HW_VAR_SECURITY_CONF</span><span class="p">,</span>
	<span class="n">HW_VAR_BEACON_INTERVAL</span><span class="p">,</span>
	<span class="n">HW_VAR_ATIM_WINDOW</span><span class="p">,</span>
	<span class="n">HW_VAR_LISTEN_INTERVAL</span><span class="p">,</span>
	<span class="n">HW_VAR_CS_COUNTER</span><span class="p">,</span>
	<span class="n">HW_VAR_DEFAULTKEY0</span><span class="p">,</span>
	<span class="n">HW_VAR_DEFAULTKEY1</span><span class="p">,</span>
	<span class="n">HW_VAR_DEFAULTKEY2</span><span class="p">,</span>
	<span class="n">HW_VAR_DEFAULTKEY3</span><span class="p">,</span>
	<span class="n">HW_VAR_SIFS</span><span class="p">,</span>
	<span class="n">HW_VAR_DIFS</span><span class="p">,</span>
	<span class="n">HW_VAR_EIFS</span><span class="p">,</span>
	<span class="n">HW_VAR_SLOT_TIME</span><span class="p">,</span>
	<span class="n">HW_VAR_ACK_PREAMBLE</span><span class="p">,</span>
	<span class="n">HW_VAR_CW_CONFIG</span><span class="p">,</span>
	<span class="n">HW_VAR_CW_VALUES</span><span class="p">,</span>
	<span class="n">HW_VAR_RATE_FALLBACK_CONTROL</span><span class="p">,</span>
	<span class="n">HW_VAR_CONTENTION_WINDOW</span><span class="p">,</span>
	<span class="n">HW_VAR_RETRY_COUNT</span><span class="p">,</span>
	<span class="n">HW_VAR_TR_SWITCH</span><span class="p">,</span>
	<span class="n">HW_VAR_COMMAND</span><span class="p">,</span>
	<span class="n">HW_VAR_WPA_CONFIG</span><span class="p">,</span>
	<span class="n">HW_VAR_AMPDU_MIN_SPACE</span><span class="p">,</span>
	<span class="n">HW_VAR_SHORTGI_DENSITY</span><span class="p">,</span>
	<span class="n">HW_VAR_AMPDU_FACTOR</span><span class="p">,</span>
	<span class="n">HW_VAR_MCS_RATE_AVAILABLE</span><span class="p">,</span>
	<span class="n">HW_VAR_AC_PARAM</span><span class="p">,</span>
	<span class="n">HW_VAR_ACM_CTRL</span><span class="p">,</span>
	<span class="n">HW_VAR_DIS_Req_Qsize</span><span class="p">,</span>
	<span class="n">HW_VAR_CCX_CHNL_LOAD</span><span class="p">,</span>
	<span class="n">HW_VAR_CCX_NOISE_HISTOGRAM</span><span class="p">,</span>
	<span class="n">HW_VAR_CCX_CLM_NHM</span><span class="p">,</span>
	<span class="n">HW_VAR_TxOPLimit</span><span class="p">,</span>
	<span class="n">HW_VAR_TURBO_MODE</span><span class="p">,</span>
	<span class="n">HW_VAR_RF_STATE</span><span class="p">,</span>
	<span class="n">HW_VAR_RF_OFF_BY_HW</span><span class="p">,</span>
	<span class="n">HW_VAR_BUS_SPEED</span><span class="p">,</span>
	<span class="n">HW_VAR_SET_DEV_POWER</span><span class="p">,</span>

	<span class="n">HW_VAR_RCR</span><span class="p">,</span>
	<span class="n">HW_VAR_RATR_0</span><span class="p">,</span>
	<span class="n">HW_VAR_RRSR</span><span class="p">,</span>
	<span class="n">HW_VAR_CPU_RST</span><span class="p">,</span>
	<span class="n">HW_VAR_CECHK_BSSID</span><span class="p">,</span>
	<span class="n">HW_VAR_LBK_MODE</span><span class="p">,</span>
	<span class="n">HW_VAR_AES_11N_FIX</span><span class="p">,</span>
	<span class="n">HW_VAR_USB_RX_AGGR</span><span class="p">,</span>
	<span class="n">HW_VAR_USER_CONTROL_TURBO_MODE</span><span class="p">,</span>
	<span class="n">HW_VAR_RETRY_LIMIT</span><span class="p">,</span>
	<span class="n">HW_VAR_INIT_TX_RATE</span><span class="p">,</span>
	<span class="n">HW_VAR_TX_RATE_REG</span><span class="p">,</span>
	<span class="n">HW_VAR_EFUSE_USAGE</span><span class="p">,</span>
	<span class="n">HW_VAR_EFUSE_BYTES</span><span class="p">,</span>
	<span class="n">HW_VAR_AUTOLOAD_STATUS</span><span class="p">,</span>
	<span class="n">HW_VAR_RF_2R_DISABLE</span><span class="p">,</span>
	<span class="n">HW_VAR_SET_RPWM</span><span class="p">,</span>
	<span class="n">HW_VAR_H2C_FW_PWRMODE</span><span class="p">,</span>
	<span class="n">HW_VAR_H2C_FW_JOINBSSRPT</span><span class="p">,</span>
	<span class="n">HW_VAR_FW_PSMODE_STATUS</span><span class="p">,</span>
	<span class="n">HW_VAR_1X1_RECV_COMBINE</span><span class="p">,</span>
	<span class="n">HW_VAR_STOP_SEND_BEACON</span><span class="p">,</span>
	<span class="n">HW_VAR_TSF_TIMER</span><span class="p">,</span>
	<span class="n">HW_VAR_IO_CMD</span><span class="p">,</span>

	<span class="n">HW_VAR_RF_RECOVERY</span><span class="p">,</span>
	<span class="n">HW_VAR_H2C_FW_UPDATE_GTK</span><span class="p">,</span>
	<span class="n">HW_VAR_WF_MASK</span><span class="p">,</span>
	<span class="n">HW_VAR_WF_CRC</span><span class="p">,</span>
	<span class="n">HW_VAR_WF_IS_MAC_ADDR</span><span class="p">,</span>
	<span class="n">HW_VAR_H2C_FW_OFFLOAD</span><span class="p">,</span>
	<span class="n">HW_VAR_RESET_WFCRC</span><span class="p">,</span>

	<span class="n">HW_VAR_HANDLE_FW_C2H</span><span class="p">,</span>
	<span class="n">HW_VAR_DL_FW_RSVD_PAGE</span><span class="p">,</span>
	<span class="n">HW_VAR_AID</span><span class="p">,</span>
	<span class="n">HW_VAR_HW_SEQ_ENABLE</span><span class="p">,</span>
	<span class="n">HW_VAR_CORRECT_TSF</span><span class="p">,</span>
	<span class="n">HW_VAR_BCN_VALID</span><span class="p">,</span>
	<span class="n">HW_VAR_FWLPS_RF_ON</span><span class="p">,</span>
	<span class="n">HW_VAR_DUAL_TSF_RST</span><span class="p">,</span>
	<span class="n">HW_VAR_SWITCH_EPHY_WoWLAN</span><span class="p">,</span>
	<span class="n">HW_VAR_INT_MIGRATION</span><span class="p">,</span>
	<span class="n">HW_VAR_INT_AC</span><span class="p">,</span>
	<span class="n">HW_VAR_RF_TIMING</span><span class="p">,</span>

	<span class="n">HW_VAR_MRC</span><span class="p">,</span>

	<span class="n">HW_VAR_MGT_FILTER</span><span class="p">,</span>
	<span class="n">HW_VAR_CTRL_FILTER</span><span class="p">,</span>
	<span class="n">HW_VAR_DATA_FILTER</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">_RT_MEDIA_STATUS</span> <span class="p">{</span>
	<span class="n">RT_MEDIA_DISCONNECT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RT_MEDIA_CONNECT</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rt_oem_id</span> <span class="p">{</span>
	<span class="n">RT_CID_DEFAULT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RT_CID_8187_ALPHA0</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">RT_CID_8187_SERCOMM_PS</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">RT_CID_8187_HW_LED</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">RT_CID_8187_NETGEAR</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">RT_CID_WHQL</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">RT_CID_819x_CAMEO</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">RT_CID_819x_RUNTOP</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Senao</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">RT_CID_TOSHIBA</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Netcore</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">RT_CID_Nettronix</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">RT_CID_DLINK</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="n">RT_CID_PRONET</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
	<span class="n">RT_CID_COREGA</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
	<span class="n">RT_CID_819x_ALPHA</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Sitecom</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="n">RT_CID_CCX</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Lenovo</span> <span class="o">=</span> <span class="mi">18</span><span class="p">,</span>
	<span class="n">RT_CID_819x_QMI</span> <span class="o">=</span> <span class="mi">19</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Edimax_Belkin</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Sercomm_Belkin</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
	<span class="n">RT_CID_819x_CAMEO1</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span>
	<span class="n">RT_CID_819x_MSI</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Acer</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span>
	<span class="n">RT_CID_819x_HP</span> <span class="o">=</span> <span class="mi">27</span><span class="p">,</span>
	<span class="n">RT_CID_819x_CLEVO</span> <span class="o">=</span> <span class="mi">28</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Arcadyan_Belkin</span> <span class="o">=</span> <span class="mi">29</span><span class="p">,</span>
	<span class="n">RT_CID_819x_SAMSUNG</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
	<span class="n">RT_CID_819x_WNC_COREGA</span> <span class="o">=</span> <span class="mi">31</span><span class="p">,</span>
	<span class="n">RT_CID_819x_Foxcoon</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="n">RT_CID_819x_DELL</span> <span class="o">=</span> <span class="mi">33</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">hw_descs</span> <span class="p">{</span>
	<span class="n">HW_DESC_OWN</span><span class="p">,</span>
	<span class="n">HW_DESC_RXOWN</span><span class="p">,</span>
	<span class="n">HW_DESC_TX_NEXTDESC_ADDR</span><span class="p">,</span>
	<span class="n">HW_DESC_TXBUFF_ADDR</span><span class="p">,</span>
	<span class="n">HW_DESC_RXBUFF_ADDR</span><span class="p">,</span>
	<span class="n">HW_DESC_RXPKT_LEN</span><span class="p">,</span>
	<span class="n">HW_DESC_RXERO</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">prime_sc</span> <span class="p">{</span>
	<span class="n">PRIME_CHNL_OFFSET_DONT_CARE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">PRIME_CHNL_OFFSET_LOWER</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">PRIME_CHNL_OFFSET_UPPER</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rf_type</span> <span class="p">{</span>
	<span class="n">RF_1T1R</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RF_1T2R</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">RF_2T2R</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">RF_2T2R_GREEN</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">ht_channel_width</span> <span class="p">{</span>
	<span class="n">HT_CHANNEL_WIDTH_20</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">HT_CHANNEL_WIDTH_20_40</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Ref: 802.11i sepc D10.0 7.3.2.25.1</span>
<span class="cm">Cipher Suites Encryption Algorithms */</span>
<span class="k">enum</span> <span class="n">rt_enc_alg</span> <span class="p">{</span>
	<span class="n">NO_ENCRYPTION</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">WEP40_ENCRYPTION</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">TKIP_ENCRYPTION</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">RSERVED_ENCRYPTION</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">AESCCMP_ENCRYPTION</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">WEP104_ENCRYPTION</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rtl_hal_state</span> <span class="p">{</span>
	<span class="n">_HAL_STATE_STOP</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">_HAL_STATE_START</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rtl_desc92_rate</span> <span class="p">{</span>
	<span class="n">DESC92_RATE1M</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">DESC92_RATE2M</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">DESC92_RATE5_5M</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">DESC92_RATE11M</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>

	<span class="n">DESC92_RATE6M</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">DESC92_RATE9M</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">DESC92_RATE12M</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">DESC92_RATE18M</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">DESC92_RATE24M</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">DESC92_RATE36M</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">DESC92_RATE48M</span> <span class="o">=</span> <span class="mh">0x0a</span><span class="p">,</span>
	<span class="n">DESC92_RATE54M</span> <span class="o">=</span> <span class="mh">0x0b</span><span class="p">,</span>

	<span class="n">DESC92_RATEMCS0</span> <span class="o">=</span> <span class="mh">0x0c</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS1</span> <span class="o">=</span> <span class="mh">0x0d</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS2</span> <span class="o">=</span> <span class="mh">0x0e</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS3</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS4</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS5</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS6</span> <span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS7</span> <span class="o">=</span> <span class="mh">0x13</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS8</span> <span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS9</span> <span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS10</span> <span class="o">=</span> <span class="mh">0x16</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS11</span> <span class="o">=</span> <span class="mh">0x17</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS12</span> <span class="o">=</span> <span class="mh">0x18</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS13</span> <span class="o">=</span> <span class="mh">0x19</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS14</span> <span class="o">=</span> <span class="mh">0x1a</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS15</span> <span class="o">=</span> <span class="mh">0x1b</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS15_SG</span> <span class="o">=</span> <span class="mh">0x1c</span><span class="p">,</span>
	<span class="n">DESC92_RATEMCS32</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rtl_var_map</span> <span class="p">{</span>
	<span class="cm">/*reg map */</span>
	<span class="n">SYS_ISO_CTRL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">SYS_FUNC_EN</span><span class="p">,</span>
	<span class="n">SYS_CLK</span><span class="p">,</span>
	<span class="n">MAC_RCR_AM</span><span class="p">,</span>
	<span class="n">MAC_RCR_AB</span><span class="p">,</span>
	<span class="n">MAC_RCR_ACRC32</span><span class="p">,</span>
	<span class="n">MAC_RCR_ACF</span><span class="p">,</span>
	<span class="n">MAC_RCR_AAP</span><span class="p">,</span>

	<span class="cm">/*efuse map */</span>
	<span class="n">EFUSE_TEST</span><span class="p">,</span>
	<span class="n">EFUSE_CTRL</span><span class="p">,</span>
	<span class="n">EFUSE_CLK</span><span class="p">,</span>
	<span class="n">EFUSE_CLK_CTRL</span><span class="p">,</span>
	<span class="n">EFUSE_PWC_EV12V</span><span class="p">,</span>
	<span class="n">EFUSE_FEN_ELDR</span><span class="p">,</span>
	<span class="n">EFUSE_LOADER_CLK_EN</span><span class="p">,</span>
	<span class="n">EFUSE_ANA8M</span><span class="p">,</span>
	<span class="n">EFUSE_HWSET_MAX_SIZE</span><span class="p">,</span>
	<span class="n">EFUSE_MAX_SECTION_MAP</span><span class="p">,</span>
	<span class="n">EFUSE_REAL_CONTENT_SIZE</span><span class="p">,</span>
	<span class="n">EFUSE_OOB_PROTECT_BYTES_LEN</span><span class="p">,</span>

	<span class="cm">/*CAM map */</span>
	<span class="n">RWCAM</span><span class="p">,</span>
	<span class="n">WCAMI</span><span class="p">,</span>
	<span class="n">RCAMO</span><span class="p">,</span>
	<span class="n">CAMDBG</span><span class="p">,</span>
	<span class="n">SECR</span><span class="p">,</span>
	<span class="n">SEC_CAM_NONE</span><span class="p">,</span>
	<span class="n">SEC_CAM_WEP40</span><span class="p">,</span>
	<span class="n">SEC_CAM_TKIP</span><span class="p">,</span>
	<span class="n">SEC_CAM_AES</span><span class="p">,</span>
	<span class="n">SEC_CAM_WEP104</span><span class="p">,</span>

	<span class="cm">/*IMR map */</span>
	<span class="n">RTL_IMR_BCNDMAINT6</span><span class="p">,</span>	<span class="cm">/*Beacon DMA Interrupt 6 */</span>
	<span class="n">RTL_IMR_BCNDMAINT5</span><span class="p">,</span>	<span class="cm">/*Beacon DMA Interrupt 5 */</span>
	<span class="n">RTL_IMR_BCNDMAINT4</span><span class="p">,</span>	<span class="cm">/*Beacon DMA Interrupt 4 */</span>
	<span class="n">RTL_IMR_BCNDMAINT3</span><span class="p">,</span>	<span class="cm">/*Beacon DMA Interrupt 3 */</span>
	<span class="n">RTL_IMR_BCNDMAINT2</span><span class="p">,</span>	<span class="cm">/*Beacon DMA Interrupt 2 */</span>
	<span class="n">RTL_IMR_BCNDMAINT1</span><span class="p">,</span>	<span class="cm">/*Beacon DMA Interrupt 1 */</span>
	<span class="n">RTL_IMR_BCNDOK8</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 8 */</span>
	<span class="n">RTL_IMR_BCNDOK7</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 7 */</span>
	<span class="n">RTL_IMR_BCNDOK6</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 6 */</span>
	<span class="n">RTL_IMR_BCNDOK5</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 5 */</span>
	<span class="n">RTL_IMR_BCNDOK4</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 4 */</span>
	<span class="n">RTL_IMR_BCNDOK3</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 3 */</span>
	<span class="n">RTL_IMR_BCNDOK2</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 2 */</span>
	<span class="n">RTL_IMR_BCNDOK1</span><span class="p">,</span>	<span class="cm">/*Beacon Queue DMA OK Interrup 1 */</span>
	<span class="n">RTL_IMR_TIMEOUT2</span><span class="p">,</span>	<span class="cm">/*Timeout interrupt 2 */</span>
	<span class="n">RTL_IMR_TIMEOUT1</span><span class="p">,</span>	<span class="cm">/*Timeout interrupt 1 */</span>
	<span class="n">RTL_IMR_TXFOVW</span><span class="p">,</span>		<span class="cm">/*Transmit FIFO Overflow */</span>
	<span class="n">RTL_IMR_PSTIMEOUT</span><span class="p">,</span>	<span class="cm">/*Power save time out interrupt */</span>
	<span class="n">RTL_IMR_BcnInt</span><span class="p">,</span>		<span class="cm">/*Beacon DMA Interrupt 0 */</span>
	<span class="n">RTL_IMR_RXFOVW</span><span class="p">,</span>		<span class="cm">/*Receive FIFO Overflow */</span>
	<span class="n">RTL_IMR_RDU</span><span class="p">,</span>		<span class="cm">/*Receive Descriptor Unavailable */</span>
	<span class="n">RTL_IMR_ATIMEND</span><span class="p">,</span>	<span class="cm">/*For 92C,ATIM Window End Interrupt */</span>
	<span class="n">RTL_IMR_BDOK</span><span class="p">,</span>		<span class="cm">/*Beacon Queue DMA OK Interrup */</span>
	<span class="n">RTL_IMR_HIGHDOK</span><span class="p">,</span>	<span class="cm">/*High Queue DMA OK Interrupt */</span>
	<span class="n">RTL_IMR_COMDOK</span><span class="p">,</span>		<span class="cm">/*Command Queue DMA OK Interrupt*/</span>
	<span class="n">RTL_IMR_TBDOK</span><span class="p">,</span>		<span class="cm">/*Transmit Beacon OK interrup */</span>
	<span class="n">RTL_IMR_MGNTDOK</span><span class="p">,</span>	<span class="cm">/*Management Queue DMA OK Interrupt */</span>
	<span class="n">RTL_IMR_TBDER</span><span class="p">,</span>		<span class="cm">/*For 92C,Transmit Beacon Error Interrupt */</span>
	<span class="n">RTL_IMR_BKDOK</span><span class="p">,</span>		<span class="cm">/*AC_BK DMA OK Interrupt */</span>
	<span class="n">RTL_IMR_BEDOK</span><span class="p">,</span>		<span class="cm">/*AC_BE DMA OK Interrupt */</span>
	<span class="n">RTL_IMR_VIDOK</span><span class="p">,</span>		<span class="cm">/*AC_VI DMA OK Interrupt */</span>
	<span class="n">RTL_IMR_VODOK</span><span class="p">,</span>		<span class="cm">/*AC_VO DMA Interrupt */</span>
	<span class="n">RTL_IMR_ROK</span><span class="p">,</span>		<span class="cm">/*Receive DMA OK Interrupt */</span>
	<span class="n">RTL_IBSS_INT_MASKS</span><span class="p">,</span>	<span class="cm">/*(RTL_IMR_BcnInt | RTL_IMR_TBDOK |</span>
<span class="cm">				 * RTL_IMR_TBDER) */</span>

	<span class="cm">/*CCK Rates, TxHT = 0 */</span>
	<span class="n">RTL_RC_CCK_RATE1M</span><span class="p">,</span>
	<span class="n">RTL_RC_CCK_RATE2M</span><span class="p">,</span>
	<span class="n">RTL_RC_CCK_RATE5_5M</span><span class="p">,</span>
	<span class="n">RTL_RC_CCK_RATE11M</span><span class="p">,</span>

	<span class="cm">/*OFDM Rates, TxHT = 0 */</span>
	<span class="n">RTL_RC_OFDM_RATE6M</span><span class="p">,</span>
	<span class="n">RTL_RC_OFDM_RATE9M</span><span class="p">,</span>
	<span class="n">RTL_RC_OFDM_RATE12M</span><span class="p">,</span>
	<span class="n">RTL_RC_OFDM_RATE18M</span><span class="p">,</span>
	<span class="n">RTL_RC_OFDM_RATE24M</span><span class="p">,</span>
	<span class="n">RTL_RC_OFDM_RATE36M</span><span class="p">,</span>
	<span class="n">RTL_RC_OFDM_RATE48M</span><span class="p">,</span>
	<span class="n">RTL_RC_OFDM_RATE54M</span><span class="p">,</span>

	<span class="n">RTL_RC_HT_RATEMCS7</span><span class="p">,</span>
	<span class="n">RTL_RC_HT_RATEMCS15</span><span class="p">,</span>

	<span class="cm">/*keep it last */</span>
	<span class="n">RTL_VAR_MAP_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*Firmware PS mode for control LPS.*/</span>
<span class="k">enum</span> <span class="n">_fw_ps_mode</span> <span class="p">{</span>
	<span class="n">FW_PS_ACTIVE_MODE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FW_PS_MIN_MODE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FW_PS_MAX_MODE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">FW_PS_DTIM_MODE</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">FW_PS_VOIP_MODE</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">FW_PS_UAPSD_WMM_MODE</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">FW_PS_UAPSD_MODE</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">FW_PS_IBSS_MODE</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">FW_PS_WWLAN_MODE</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">FW_PS_PM_Radio_Off</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">FW_PS_PM_Card_Disable</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rt_psmode</span> <span class="p">{</span>
	<span class="n">EACTIVE</span><span class="p">,</span>		<span class="cm">/*Active/Continuous access. */</span>
	<span class="n">EMAXPS</span><span class="p">,</span>			<span class="cm">/*Max power save mode. */</span>
	<span class="n">EFASTPS</span><span class="p">,</span>		<span class="cm">/*Fast power save mode. */</span>
	<span class="n">EAUTOPS</span><span class="p">,</span>		<span class="cm">/*Auto power save mode. */</span>
<span class="p">};</span>

<span class="cm">/*LED related.*/</span>
<span class="k">enum</span> <span class="n">led_ctl_mode</span> <span class="p">{</span>
	<span class="n">LED_CTL_POWER_ON</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">LED_CTL_LINK</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">LED_CTL_NO_LINK</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">LED_CTL_TX</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">LED_CTL_RX</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">LED_CTL_SITE_SURVEY</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">LED_CTL_POWER_OFF</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">LED_CTL_START_TO_LINK</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">LED_CTL_START_WPS</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">LED_CTL_STOP_WPS</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rtl_led_pin</span> <span class="p">{</span>
	<span class="n">LED_PIN_GPIO0</span><span class="p">,</span>
	<span class="n">LED_PIN_LED0</span><span class="p">,</span>
	<span class="n">LED_PIN_LED1</span><span class="p">,</span>
	<span class="n">LED_PIN_LED2</span>
<span class="p">};</span>

<span class="cm">/*QoS related.*/</span>
<span class="cm">/*acm implementation method.*/</span>
<span class="k">enum</span> <span class="n">acm_method</span> <span class="p">{</span>
	<span class="n">eAcmWay0_SwAndHw</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">eAcmWay1_HW</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">eAcmWay2_SW</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">macphy_mode</span> <span class="p">{</span>
	<span class="n">SINGLEMAC_SINGLEPHY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">DUALMAC_DUALPHY</span><span class="p">,</span>
	<span class="n">DUALMAC_SINGLEPHY</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">band_type</span> <span class="p">{</span>
	<span class="n">BAND_ON_2_4G</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BAND_ON_5G</span><span class="p">,</span>
	<span class="n">BAND_ON_BOTH</span><span class="p">,</span>
	<span class="n">BANDMAX</span>
<span class="p">};</span>

<span class="cm">/*aci/aifsn Field.</span>
<span class="cm">Ref: WMM spec 2.2.2: WME Parameter Element, p.12.*/</span>
<span class="k">union</span> <span class="n">aci_aifsn</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">char_data</span><span class="p">;</span>

	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u8</span> <span class="n">aifsn</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span> <span class="n">acm</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span> <span class="n">aci</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span> <span class="n">reserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">f</span><span class="p">;</span>			<span class="cm">/* Field */</span>
<span class="p">};</span>

<span class="cm">/*mlme related.*/</span>
<span class="k">enum</span> <span class="n">wireless_mode</span> <span class="p">{</span>
	<span class="n">WIRELESS_MODE_UNKNOWN</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">WIRELESS_MODE_A</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">WIRELESS_MODE_B</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">WIRELESS_MODE_G</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">WIRELESS_MODE_AUTO</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">WIRELESS_MODE_N_24G</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">WIRELESS_MODE_N_5G</span> <span class="o">=</span> <span class="mh">0x20</span>
<span class="p">};</span>

<span class="cp">#define IS_WIRELESS_MODE_A(wirelessmode)	\</span>
<span class="cp">	(wirelessmode == WIRELESS_MODE_A)</span>
<span class="cp">#define IS_WIRELESS_MODE_B(wirelessmode)	\</span>
<span class="cp">	(wirelessmode == WIRELESS_MODE_B)</span>
<span class="cp">#define IS_WIRELESS_MODE_G(wirelessmode)	\</span>
<span class="cp">	(wirelessmode == WIRELESS_MODE_G)</span>
<span class="cp">#define IS_WIRELESS_MODE_N_24G(wirelessmode)	\</span>
<span class="cp">	(wirelessmode == WIRELESS_MODE_N_24G)</span>
<span class="cp">#define IS_WIRELESS_MODE_N_5G(wirelessmode)	\</span>
<span class="cp">	(wirelessmode == WIRELESS_MODE_N_5G)</span>

<span class="k">enum</span> <span class="n">ratr_table_mode</span> <span class="p">{</span>
	<span class="n">RATR_INX_WIRELESS_NGB</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_NG</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_NB</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_N</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_GB</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_G</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_B</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_MC</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">RATR_INX_WIRELESS_A</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">rtl_link_state</span> <span class="p">{</span>
	<span class="n">MAC80211_NOLINK</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">MAC80211_LINKING</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">MAC80211_LINKED</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">MAC80211_LINKED_SCANNING</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">act_category</span> <span class="p">{</span>
	<span class="n">ACT_CAT_QOS</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">ACT_CAT_DLS</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">ACT_CAT_BA</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">ACT_CAT_HT</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">ACT_CAT_WMM</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">ba_action</span> <span class="p">{</span>
	<span class="n">ACT_ADDBAREQ</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">ACT_ADDBARSP</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">ACT_DELBA</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">octet_string</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">octet</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_hdr_3addr</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">frame_ctl</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">duration_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">addr1</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">addr2</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">addr3</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">__le16</span> <span class="n">seq_ctl</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">payload</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">rtl_info_element</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">rtl_probe_rsp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rtl_hdr_3addr</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">time_stamp</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__le16</span> <span class="n">beacon_interval</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">capability</span><span class="p">;</span>
	<span class="cm">/*SSID, supported rates, FH params, DS params,</span>
<span class="cm">	   CF params, IBSS params, TIM (if beacon), RSN */</span>
	<span class="k">struct</span> <span class="n">rtl_info_element</span> <span class="n">info_element</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*LED related.*/</span>
<span class="cm">/*ledpin Identify how to implement this SW led.*/</span>
<span class="k">struct</span> <span class="n">rtl_led</span> <span class="p">{</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">hw</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">rtl_led_pin</span> <span class="n">ledpin</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">ledon</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_led_ctl</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">led_opendrain</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_led</span> <span class="n">sw_led0</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_led</span> <span class="n">sw_led1</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_qos_parameters</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">cw_min</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">cw_max</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">aifs</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flag</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">tx_op</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">rt_smooth_data</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">elements</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>	<span class="cm">/*array to store values */</span>
	<span class="n">u32</span> <span class="n">index</span><span class="p">;</span>		<span class="cm">/*index to current array to store */</span>
	<span class="n">u32</span> <span class="n">total_num</span><span class="p">;</span>		<span class="cm">/*num of valid elements */</span>
	<span class="n">u32</span> <span class="n">total_val</span><span class="p">;</span>		<span class="cm">/*sum of valid elements */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">false_alarm_statistics</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">cnt_parity_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_rate_illegal</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_crc8_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_mcs_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_fast_fsync_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_sb_search_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_ofdm_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_cck_fail</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cnt_all</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">init_gain</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">xaagccore1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">xbagccore1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">xcagccore1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">xdagccore1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cca</span><span class="p">;</span>

<span class="p">};</span>

<span class="k">struct</span> <span class="n">wireless_stats</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">txbytesunicast</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">txbytesmulticast</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">txbytesbroadcast</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rxbytesunicast</span><span class="p">;</span>

	<span class="kt">long</span> <span class="n">rx_snr_db</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="cm">/*Correct smoothed ss in Dbm, only used</span>
<span class="cm">	   in driver to report real power now. */</span>
	<span class="kt">long</span> <span class="n">recv_signal_power</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">signal_quality</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">last_sigstrength_inpercent</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">rssi_calculate_cnt</span><span class="p">;</span>

	<span class="cm">/*Transformed, in dbm. Beautified signal</span>
<span class="cm">	   strength for UI, not correct. */</span>
	<span class="kt">long</span> <span class="n">signal_strength</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">rx_rssi_percentage</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">rx_evm_percentage</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="k">struct</span> <span class="n">rt_smooth_data</span> <span class="n">ui_rssi</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rt_smooth_data</span> <span class="n">ui_link_quality</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rate_adaptive</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">rate_adaptive_disabled</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ratr_state</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserve</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">high_rssi_thresh_for_ra</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">high2low_rssi_thresh_for_ra</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">low2high_rssi_thresh_for_ra40m</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">low_rssi_thresh_for_ra40M</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">low2high_rssi_thresh_for_ra20m</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">low_rssi_thresh_for_ra20M</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">upper_rssi_threshold_ratr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">middleupper_rssi_threshold_ratr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">middle_rssi_threshold_ratr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">middlelow_rssi_threshold_ratr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">low_rssi_threshold_ratr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ultralow_rssi_threshold_ratr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">low_rssi_threshold_ratr_40m</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">low_rssi_threshold_ratr_20m</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ping_rssi_enable</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ping_rssi_ratr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ping_rssi_thresh_for_ra</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">last_ratr</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_ratr_state</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">regd_pair_mapping</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">reg_dmnenum</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reg_5ghz_ctl</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reg_2ghz_ctl</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_regulatory</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">alpha2</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">country_code</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">max_power_level</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tp_scale</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">current_rd</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">current_rd_ext</span><span class="p">;</span>
	<span class="kt">int16_t</span> <span class="n">power_limit</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regd_pair_mapping</span> <span class="o">*</span><span class="n">regpair</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_rfkill</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">rfkill_state</span><span class="p">;</span>	<span class="cm">/*0 is off, 1 is on */</span>
<span class="p">};</span>

<span class="cp">#define IQK_MATRIX_REG_NUM	8</span>
<span class="cp">#define IQK_MATRIX_SETTINGS_NUM	(1 + 24 + 21)</span>
<span class="k">struct</span> <span class="n">iqk_matrix_regs</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">iqk_done</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">IQK_MATRIX_REG_NUM</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">phy_parameters</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u32</span> <span class="o">*</span><span class="n">pdata</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">hw_param_tab_index</span> <span class="p">{</span>
	<span class="n">PHY_REG_2T</span><span class="p">,</span>
	<span class="n">PHY_REG_1T</span><span class="p">,</span>
	<span class="n">PHY_REG_PG</span><span class="p">,</span>
	<span class="n">RADIOA_2T</span><span class="p">,</span>
	<span class="n">RADIOB_2T</span><span class="p">,</span>
	<span class="n">RADIOA_1T</span><span class="p">,</span>
	<span class="n">RADIOB_1T</span><span class="p">,</span>
	<span class="n">MAC_REG</span><span class="p">,</span>
	<span class="n">AGCTAB_2T</span><span class="p">,</span>
	<span class="n">AGCTAB_1T</span><span class="p">,</span>
	<span class="n">MAX_TAB</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_phy</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bb_reg_def</span> <span class="n">phyreg_def</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>	<span class="cm">/*Radio A/B/C/D */</span>
	<span class="k">struct</span> <span class="n">init_gain</span> <span class="n">initgain_backup</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">io_type</span> <span class="n">current_io_type</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">rf_mode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rf_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">current_chan_bw</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">set_bwmode_inprogress</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sw_chnl_inprogress</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sw_chnl_stage</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sw_chnl_step</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">current_channel</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">h2c_box_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">set_io_inprogress</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">lck_inprogress</span><span class="p">;</span>

	<span class="cm">/* record for power tracking */</span>
	<span class="n">s32</span> <span class="n">reg_e94</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">reg_e9c</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">reg_ea4</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">reg_eac</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">reg_eb4</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">reg_ebc</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">reg_ec4</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">reg_ecc</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rfpienable</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserve_0</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserve_1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg_c04</span><span class="p">,</span> <span class="n">reg_c08</span><span class="p">,</span> <span class="n">reg_874</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">adda_backup</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">iqk_mac_backup</span><span class="p">[</span><span class="n">IQK_MAC_REG_NUM</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">iqk_bb_backup</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>

	<span class="cm">/* Dual mac */</span>
	<span class="n">bool</span> <span class="n">need_iqk</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iqk_matrix_regs</span> <span class="n">iqk_matrix_regsetting</span><span class="p">[</span><span class="n">IQK_MATRIX_SETTINGS_NUM</span><span class="p">];</span>

	<span class="n">bool</span> <span class="n">rfpi_enable</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">pwrgroup_cnt</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cck_high_power</span><span class="p">;</span>
	<span class="cm">/* MAX_PG_GROUP groups of pwr diff by rates */</span>
	<span class="n">u32</span> <span class="n">mcs_txpwrlevel_origoffset</span><span class="p">[</span><span class="n">MAX_PG_GROUP</span><span class="p">][</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">default_initialgain</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>

	<span class="cm">/* the current Tx power level */</span>
	<span class="n">u8</span> <span class="n">cur_cck_txpwridx</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_ofdm24g_txpwridx</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">rfreg_chnlval</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">bool</span> <span class="n">apk_done</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg_rf3c</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>	<span class="cm">/* pathA / pathB  */</span>

	<span class="cm">/* bfsync */</span>
	<span class="n">u8</span> <span class="n">framesync</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">framesync_c34</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">num_total_rfpath</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">phy_parameters</span> <span class="n">hwparam_tables</span><span class="p">[</span><span class="n">MAX_TAB</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">rf_pathmap</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define MAX_TID_COUNT				9</span>
<span class="cp">#define RTL_AGG_STOP				0</span>
<span class="cp">#define RTL_AGG_PROGRESS			1</span>
<span class="cp">#define RTL_AGG_START				2</span>
<span class="cp">#define RTL_AGG_OPERATIONAL			3</span>
<span class="cp">#define RTL_AGG_OFF				0</span>
<span class="cp">#define RTL_AGG_ON				1</span>
<span class="cp">#define RTL_AGG_EMPTYING_HW_QUEUE_ADDBA		2</span>
<span class="cp">#define RTL_AGG_EMPTYING_HW_QUEUE_DELBA		3</span>

<span class="k">struct</span> <span class="n">rtl_ht_agg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">txq_id</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">wait_for_ba</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">start_idx</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">bitmap</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rate_n_flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">agg_state</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_tid_data</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">seq_number</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_ht_agg</span> <span class="n">agg</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_sta_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">ratr_index</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">wireless_mode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mimo_ps</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_tid_data</span> <span class="n">tids</span><span class="p">[</span><span class="n">MAX_TID_COUNT</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">rtl_priv</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">rtl_io</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">mutex</span> <span class="n">bb_mutex</span><span class="p">;</span>

	<span class="cm">/*PCI MEM map */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pci_mem_end</span><span class="p">;</span>	<span class="cm">/*shared mem end        */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pci_mem_start</span><span class="p">;</span>	<span class="cm">/*shared mem start */</span>

	<span class="cm">/*PCI IO map */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pci_base_addr</span><span class="p">;</span>	<span class="cm">/*device I/O address */</span>

	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">write8_async</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u8</span> <span class="n">val</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">write16_async</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u16</span> <span class="n">val</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">write32_async</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">val</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">writeN_sync</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span>
			     <span class="n">u16</span> <span class="n">len</span><span class="p">);</span>

	<span class="n">u8</span><span class="p">(</span><span class="o">*</span><span class="n">read8_sync</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">);</span>
	<span class="n">u16</span><span class="p">(</span><span class="o">*</span><span class="n">read16_sync</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">);</span>
	<span class="n">u32</span><span class="p">(</span><span class="o">*</span><span class="n">read32_sync</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">);</span>

<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_mac</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">mac_addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mac80211_registered</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">beacon_enabled</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">tx_ss_num</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_ss_num</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">ieee80211_supported_band</span> <span class="n">bands</span><span class="p">[</span><span class="n">IEEE80211_NUM_BANDS</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">nl80211_iftype</span> <span class="n">opmode</span><span class="p">;</span>

	<span class="cm">/*Probe Beacon management */</span>
	<span class="k">struct</span> <span class="n">rtl_tid_data</span> <span class="n">tids</span><span class="p">[</span><span class="n">MAX_TID_COUNT</span><span class="p">];</span>
	<span class="k">enum</span> <span class="n">rtl_link_state</span> <span class="n">link_state</span><span class="p">;</span>

	<span class="kt">int</span> <span class="n">n_channels</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">n_bitrates</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">offchan_delay</span><span class="p">;</span>

	<span class="cm">/*filters */</span>
	<span class="n">u32</span> <span class="n">rx_conf</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rx_mgt_filter</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rx_ctrl_filter</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rx_data_filter</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">act_scanning</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cnt_after_linked</span><span class="p">;</span>

	<span class="cm">/* early mode */</span>
	<span class="cm">/* skb wait queue */</span>
	<span class="k">struct</span> <span class="n">sk_buff_head</span> <span class="n">skb_waitq</span><span class="p">[</span><span class="n">MAX_TID_COUNT</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">earlymode_threshold</span><span class="p">;</span>

	<span class="cm">/*RDG*/</span>
	<span class="n">bool</span> <span class="n">rdg_en</span><span class="p">;</span>

	<span class="cm">/*AP*/</span>
	<span class="n">u8</span> <span class="n">bssid</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">vendor</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mcs</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>	<span class="cm">/* 16 bytes mcs for HT rates. */</span>
	<span class="n">u32</span> <span class="n">basic_rates</span><span class="p">;</span> <span class="cm">/* b/g rates */</span>
	<span class="n">u8</span> <span class="n">ht_enable</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sgi_40</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sgi_20</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bw_40</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mode</span><span class="p">;</span>		<span class="cm">/* wireless mode */</span>
	<span class="n">u8</span> <span class="n">slot_time</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">short_preamble</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">use_cts_protect</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_40_prime_sc</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_40_prime_sc_bk</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tsf</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">retry_short</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">retry_long</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">assoc_id</span><span class="p">;</span>

	<span class="cm">/*IBSS*/</span>
	<span class="kt">int</span> <span class="n">beacon_interval</span><span class="p">;</span>

	<span class="cm">/*AMPDU*/</span>
	<span class="n">u8</span> <span class="n">min_space_cfg</span><span class="p">;</span>	<span class="cm">/*For Min spacing configurations */</span>
	<span class="n">u8</span> <span class="n">max_mss_density</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">current_ampdu_factor</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">current_ampdu_density</span><span class="p">;</span>

	<span class="cm">/*QOS &amp; EDCA */</span>
	<span class="k">struct</span> <span class="n">ieee80211_tx_queue_params</span> <span class="n">edca_param</span><span class="p">[</span><span class="n">RTL_MAC80211_NUM_QUEUE</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">rtl_qos_parameters</span> <span class="n">ac</span><span class="p">[</span><span class="n">AC_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_hal</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">;</span>

	<span class="k">enum</span> <span class="n">intf_type</span> <span class="n">interface</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">hw_type</span><span class="p">;</span>		<span class="cm">/*92c or 92d or 92s and so on */</span>
	<span class="n">u8</span> <span class="n">ic_class</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">oem_id</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">version</span><span class="p">;</span>		<span class="cm">/*version of chip */</span>
	<span class="n">u8</span> <span class="n">state</span><span class="p">;</span>		<span class="cm">/*stop 0, start 1 */</span>

	<span class="cm">/*firmware */</span>
	<span class="n">u32</span> <span class="n">fwsize</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">pfirmware</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">fw_version</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">fw_subversion</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">h2c_setinprogress</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">last_hmeboxnum</span><span class="p">;</span>
	<span class="cm">/*Reserve page start offset except beacon in TxQ. */</span>
	<span class="n">u8</span> <span class="n">fw_rsvdpage_startoffset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">h2c_txcmd_seq</span><span class="p">;</span>

	<span class="cm">/* FW Cmd IO related */</span>
	<span class="n">u16</span> <span class="n">fwcmd_iomap</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fwcmd_ioparam</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">set_fwcmd_inprogress</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">current_fwcmd_io</span><span class="p">;</span>

	<span class="cm">/**/</span>
	<span class="n">bool</span> <span class="n">driver_going2unload</span><span class="p">;</span>

	<span class="cm">/*AMPDU init min space*/</span>
	<span class="n">u8</span> <span class="n">minspace_cfg</span><span class="p">;</span>	<span class="cm">/*For Min spacing configurations */</span>

	<span class="cm">/* Dual mac */</span>
	<span class="k">enum</span> <span class="n">macphy_mode</span> <span class="n">macphymode</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">band_type</span> <span class="n">current_bandtype</span><span class="p">;</span>	<span class="cm">/* 0:2.4G, 1:5G */</span>
	<span class="k">enum</span> <span class="n">band_type</span> <span class="n">current_bandtypebackup</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">band_type</span> <span class="n">bandset</span><span class="p">;</span>
	<span class="cm">/* dual MAC 0--Mac0 1--Mac1 */</span>
	<span class="n">u32</span> <span class="n">interfaceindex</span><span class="p">;</span>
	<span class="cm">/* just for DualMac S3S4 */</span>
	<span class="n">u8</span> <span class="n">macphyctl_reg</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">earlymode_enable</span><span class="p">;</span>
	<span class="cm">/* Dual mac*/</span>
	<span class="n">bool</span> <span class="n">during_mac0init_radiob</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">during_mac1init_radioa</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">reloadtxpowerindex</span><span class="p">;</span>
	<span class="cm">/* True if IMR or IQK  have done</span>
<span class="cm">	for 2.4G in scan progress */</span>
	<span class="n">bool</span> <span class="n">load_imrandiqk_setting_for2g</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">disable_amsdu_8k</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_security</span> <span class="p">{</span>
	<span class="cm">/*default 0 */</span>
	<span class="n">bool</span> <span class="n">use_sw_sec</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">being_setkey</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">use_defaultkey</span><span class="p">;</span>
	<span class="cm">/*Encryption Algorithm for Unicast Packet */</span>
	<span class="k">enum</span> <span class="n">rt_enc_alg</span> <span class="n">pairwise_enc_algorithm</span><span class="p">;</span>
	<span class="cm">/*Encryption Algorithm for Brocast/Multicast */</span>
	<span class="k">enum</span> <span class="n">rt_enc_alg</span> <span class="n">group_enc_algorithm</span><span class="p">;</span>
	<span class="cm">/*Cam Entry Bitmap */</span>
	<span class="n">u32</span> <span class="n">hwsec_cam_bitmap</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hwsec_cam_sta_addr</span><span class="p">[</span><span class="n">TOTAL_CAM_ENTRY</span><span class="p">][</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="cm">/*local Key buffer, indx 0 is for</span>
<span class="cm">	   pairwise key 1-4 is for agoup key. */</span>
	<span class="n">u8</span> <span class="n">key_buf</span><span class="p">[</span><span class="n">KEY_BUF_SIZE</span><span class="p">][</span><span class="n">MAX_KEY_LEN</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">key_len</span><span class="p">[</span><span class="n">KEY_BUF_SIZE</span><span class="p">];</span>

	<span class="cm">/*The pointer of Pairwise Key,</span>
<span class="cm">	   it always points to KeyBuf[4] */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">pairwise_key</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_dm</span> <span class="p">{</span>
	<span class="cm">/*PHY status for Dynamic Management */</span>
	<span class="kt">long</span> <span class="n">entry_min_undecoratedsmoothed_pwdb</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">undecorated_smoothed_pwdb</span><span class="p">;</span>	<span class="cm">/*out dm */</span>
	<span class="kt">long</span> <span class="n">entry_max_undecoratedsmoothed_pwdb</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">dm_initialgain_enable</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">dynamic_txpower_enable</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">current_turbo_edca</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">is_any_nonbepkts</span><span class="p">;</span>	<span class="cm">/*out dm */</span>
	<span class="n">bool</span> <span class="n">is_cur_rdlstate</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">txpower_trackinginit</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">disable_framebursting</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">cck_inch14</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">txpower_tracking</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">useramask</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">rfpath_rxenable</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">bool</span> <span class="n">inform_fw_driverctrldm</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">current_mrc_switch</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">txpowercount</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">thermalvalue_rxgain</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">thermalvalue_iqk</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">thermalvalue_lck</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">thermalvalue</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">last_dtp_lvl</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">thermalvalue_avg</span><span class="p">[</span><span class="n">AVG_THERMAL_NUM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">thermalvalue_avg_index</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">done_txpower</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dynamic_txhighpower_lvl</span><span class="p">;</span>	<span class="cm">/*Tx high power level */</span>
	<span class="n">u8</span> <span class="n">dm_flag</span><span class="p">;</span>		<span class="cm">/*Indicate each dynamic mechanism&#39;s status. */</span>
	<span class="n">u8</span> <span class="n">dm_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">txpower_track_control</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">interrupt_migration</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">disable_tx_int</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">ofdm_index</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">cck_index</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define	EFUSE_MAX_LOGICAL_SIZE			256</span>

<span class="k">struct</span> <span class="n">rtl_efuse</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">autoLoad_ok</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">bootfromefuse</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">max_physical_size</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">efuse_map</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">EFUSE_MAX_LOGICAL_SIZE</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">efuse_usedbytes</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">efuse_usedpercentage</span><span class="p">;</span>
<span class="cp">#ifdef EFUSE_REPG_WORKAROUND</span>
	<span class="n">bool</span> <span class="n">efuse_re_pg_sec1flag</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">efuse_re_pg_data</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="cp">#endif</span>

	<span class="n">u8</span> <span class="n">autoload_failflag</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">autoload_status</span><span class="p">;</span>

	<span class="kt">short</span> <span class="n">epromtype</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">eeprom_vid</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">eeprom_did</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">eeprom_svid</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">eeprom_smid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_oemid</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">eeprom_channelplan</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_version</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">board_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">external_pa</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">dev_addr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>

	<span class="n">bool</span> <span class="n">txpwr_fromeprom</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_crystalcap</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_tssi</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">eeprom_tssi_5g</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span> <span class="cm">/* for 5GL/5GM/5GH band. */</span>
	<span class="n">u8</span> <span class="n">eeprom_pwrlimit_ht20</span><span class="p">[</span><span class="n">CHANNEL_GROUP_MAX</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">eeprom_pwrlimit_ht40</span><span class="p">[</span><span class="n">CHANNEL_GROUP_MAX</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">eeprom_chnlarea_txpwr_cck</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_GROUP_MAX_2G</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">eeprom_chnlarea_txpwr_ht40_1s</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_GROUP_MAX</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">eeprom_chnlarea_txpwr_ht40_2sdiif</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_GROUP_MAX</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">txpwrlevel_cck</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_MAX_NUMBER_2G</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">txpwrlevel_ht40_1s</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_MAX_NUMBER</span><span class="p">];</span>	<span class="cm">/*For HT 40MHZ pwr */</span>
	<span class="n">u8</span> <span class="n">txpwrlevel_ht40_2s</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_MAX_NUMBER</span><span class="p">];</span>	<span class="cm">/*For HT 40MHZ pwr */</span>

	<span class="n">u8</span> <span class="n">internal_pa_5g</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>	<span class="cm">/* pathA / pathB */</span>
	<span class="n">u8</span> <span class="n">eeprom_c9</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_cc</span><span class="p">;</span>

	<span class="cm">/*For power group */</span>
	<span class="n">u8</span> <span class="n">eeprom_pwrgroup</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">pwrgroup_ht20</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_MAX_NUMBER</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">pwrgroup_ht40</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_MAX_NUMBER</span><span class="p">];</span>

	<span class="kt">char</span> <span class="n">txpwr_ht20diff</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_MAX_NUMBER</span><span class="p">];</span> <span class="cm">/*HT 20&lt;-&gt;40 Pwr diff */</span>
	<span class="cm">/*For HT&lt;-&gt;legacy pwr diff*/</span>
	<span class="n">u8</span> <span class="n">txpwr_legacyhtdiff</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">CHANNEL_MAX_NUMBER</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">txpwr_safetyflag</span><span class="p">;</span>			<span class="cm">/* Band edge enable flag */</span>
	<span class="n">u16</span> <span class="n">eeprom_txpowerdiff</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">legacy_httxpowerdiff</span><span class="p">;</span>	<span class="cm">/* Legacy to HT rate power diff */</span>
	<span class="n">u8</span> <span class="n">antenna_txpwdiff</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

	<span class="n">u8</span> <span class="n">eeprom_regulatory</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_thermalmeter</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">thermalmeter</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="cm">/*ThermalMeter, index 0 for RFIC0, 1 for RFIC1 */</span>
	<span class="n">u16</span> <span class="n">tssi_13dbm</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">crystalcap</span><span class="p">;</span>		<span class="cm">/* CrystalCap. */</span>
	<span class="n">u8</span> <span class="n">delta_iqk</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">delta_lck</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">legacy_ht_txpowerdiff</span><span class="p">;</span>	<span class="cm">/*Legacy to HT rate power diff */</span>
	<span class="n">bool</span> <span class="n">apk_thermalmeterignore</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">b1x1_recvcombine</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">b1ss_support</span><span class="p">;</span>

	<span class="cm">/*channel plan */</span>
	<span class="n">u8</span> <span class="n">channel_plan</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_ps_ctl</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">pwrdomain_protect</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">in_powersavemode</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">rfchange_inprogress</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">swrf_processing</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">hwradiooff</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * just for PCIE ASPM</span>
<span class="cm">	 * If it supports ASPM, Offset[560h] = 0x40,</span>
<span class="cm">	 * otherwise Offset[560h] = 0x00.</span>
<span class="cm">	 * */</span>
	<span class="n">bool</span> <span class="n">support_aspm</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">support_backdoor</span><span class="p">;</span>

	<span class="cm">/*for LPS */</span>
	<span class="k">enum</span> <span class="n">rt_psmode</span> <span class="n">dot11_psmode</span><span class="p">;</span>	<span class="cm">/*Power save mode configured. */</span>
	<span class="n">bool</span> <span class="n">swctrl_lps</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">leisure_ps</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">fwctrl_lps</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">fwctrl_psmode</span><span class="p">;</span>
	<span class="cm">/*For Fw control LPS mode */</span>
	<span class="n">u8</span> <span class="n">reg_fwctrl_lps</span><span class="p">;</span>
	<span class="cm">/*Record Fw PS mode status. */</span>
	<span class="n">bool</span> <span class="n">fw_current_inpsmode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reg_max_lps_awakeintvl</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">report_linked</span><span class="p">;</span>

	<span class="cm">/*for IPS */</span>
	<span class="n">bool</span> <span class="n">inactiveps</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">rfoff_reason</span><span class="p">;</span>

	<span class="cm">/*RF OFF Level */</span>
	<span class="n">u32</span> <span class="n">cur_ps_level</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg_rfps_level</span><span class="p">;</span>

	<span class="cm">/*just for PCIE ASPM */</span>
	<span class="n">u8</span> <span class="n">const_amdpci_aspm</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">pwrdown_mode</span><span class="p">;</span>

	<span class="k">enum</span> <span class="n">rf_pwrstate</span> <span class="n">inactive_pwrstate</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">rf_pwrstate</span> <span class="n">rfpwr_state</span><span class="p">;</span>	<span class="cm">/*cur power state */</span>

	<span class="cm">/* for SW LPS*/</span>
	<span class="n">bool</span> <span class="n">sw_ps_enabled</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">state</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">state_inap</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">multi_buffered</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">nullfunc_seq</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">dtim_counter</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">sleep_ms</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_sleep_jiffies</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_awake_jiffies</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_delaylps_stamp_jiffies</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_dtim</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_beacon</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_action</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_slept</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_stats</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">mac_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">s8</span> <span class="n">rssi</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">signal</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">noise</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rate</span><span class="p">;</span>		<span class="cm">/*in 100 kbps */</span>
	<span class="n">u8</span> <span class="n">received_channel</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">control</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mask</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">freq</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tsf</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">beacon_time</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nic_type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">signalquality</span><span class="p">;</span>	<span class="cm">/*in 0-100 index. */</span>
	<span class="cm">/*</span>
<span class="cm">	 * Real power in dBm for this packet,</span>
<span class="cm">	 * no beautification and aggregation.</span>
<span class="cm">	 * */</span>
	<span class="n">s32</span> <span class="n">recvsignalpower</span><span class="p">;</span>
	<span class="n">s8</span> <span class="n">rxpower</span><span class="p">;</span>		<span class="cm">/*in dBm Translate from PWdB */</span>
	<span class="n">u8</span> <span class="n">signalstrength</span><span class="p">;</span>	<span class="cm">/*in 0-100 index. */</span>
	<span class="n">u16</span> <span class="n">hwerror</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">crc</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">icv</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">shortpreamble</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">antenna</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">decrypted</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">wakeup</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">timestamp_low</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">timestamp_high</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">rx_drvinfo_size</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rx_bufshift</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">isampdu</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">isfirst_ampdu</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">rx_is40Mhzpacket</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_pwdb_all</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rx_mimo_signalstrength</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>	<span class="cm">/*in 0~100 index */</span>
	<span class="n">s8</span> <span class="n">rx_mimo_signalquality</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">bool</span> <span class="n">packet_matchbssid</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">is_cck</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">is_ht</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">packet_toself</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">packet_beacon</span><span class="p">;</span>	<span class="cm">/*for rssi */</span>
	<span class="kt">char</span> <span class="n">cck_adc_pwdb</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>	<span class="cm">/*for rx path selection */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rt_link_detect</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">num_tx_in4period</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">num_rx_in4period</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>

	<span class="n">u32</span> <span class="n">num_tx_inperiod</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_rx_inperiod</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">busytraffic</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">higher_busytraffic</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">higher_busyrxtraffic</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">tidtx_in4period</span><span class="p">[</span><span class="n">MAX_TID_COUNT</span><span class="p">][</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">tidtx_inperiod</span><span class="p">[</span><span class="n">MAX_TID_COUNT</span><span class="p">];</span>
	<span class="n">bool</span> <span class="n">higher_busytxtraffic</span><span class="p">[</span><span class="n">MAX_TID_COUNT</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_tcb_desc</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">packet_bw</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">multicast</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">broadcast</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">rts_stbc</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rts_enable</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cts_enable</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rts_use_shortpreamble</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rts_use_shortgi</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rts_sc</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rts_bw</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rts_rate</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">use_shortgi</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">use_shortpreamble</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">use_driver_rate</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">disable_ratefallback</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">ratr_index</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mac_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hw_rate</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">last_inipkt</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cmd_or_init</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">queue_index</span><span class="p">;</span>

	<span class="cm">/* early mode */</span>
	<span class="n">u8</span> <span class="n">empkt_num</span><span class="p">;</span>
	<span class="cm">/* The max value by HW */</span>
	<span class="n">u32</span> <span class="n">empkt_len</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_hal_ops</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">init_sw_vars</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">deinit_sw_vars</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">read_chip_version</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">read_eeprom_info</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">interrupt_recognized</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				      <span class="n">u32</span> <span class="o">*</span><span class="n">p_inta</span><span class="p">,</span> <span class="n">u32</span> <span class="o">*</span><span class="n">p_intb</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">hw_init</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">hw_disable</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">hw_suspend</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">hw_resume</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">enable_interrupt</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">disable_interrupt</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">set_network_type</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				 <span class="k">enum</span> <span class="n">nl80211_iftype</span> <span class="n">type</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_chk_bssid</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				<span class="n">bool</span> <span class="n">check_bssid</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_bw_mode</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			     <span class="k">enum</span> <span class="n">nl80211_channel_type</span> <span class="n">ch_type</span><span class="p">);</span>
	 <span class="n">u8</span><span class="p">(</span><span class="o">*</span><span class="n">switch_channel</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_qos</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="kt">int</span> <span class="n">aci</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_bcn_reg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_bcn_intv</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">update_interrupt_mask</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				       <span class="n">u32</span> <span class="n">add_msr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">rm_msr</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">get_hw_reg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="n">variable</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">val</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_hw_reg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="n">variable</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">val</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">update_rate_tbl</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			      <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="n">sta</span><span class="p">,</span> <span class="n">u8</span> <span class="n">rssi_level</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">update_rate_mask</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="n">rssi_level</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">fill_tx_desc</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			      <span class="k">struct</span> <span class="n">ieee80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">pdesc_tx</span><span class="p">,</span>
			      <span class="k">struct</span> <span class="n">ieee80211_tx_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span>
			      <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">,</span> <span class="n">u8</span> <span class="n">hw_queue</span><span class="p">,</span>
			      <span class="k">struct</span> <span class="n">rtl_tcb_desc</span> <span class="o">*</span><span class="n">ptcb_desc</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">fill_fake_txdesc</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">pDesc</span><span class="p">,</span>
				  <span class="n">u32</span> <span class="n">buffer_len</span><span class="p">,</span> <span class="n">bool</span> <span class="n">bIsPsPoll</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">fill_tx_cmddesc</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">pdesc</span><span class="p">,</span>
				 <span class="n">bool</span> <span class="n">firstseg</span><span class="p">,</span> <span class="n">bool</span> <span class="n">lastseg</span><span class="p">,</span>
				 <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">cmd_send_packet</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">query_rx_desc</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">rtl_stats</span> <span class="o">*</span><span class="n">stats</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">ieee80211_rx_status</span> <span class="o">*</span><span class="n">rx_status</span><span class="p">,</span>
			       <span class="n">u8</span> <span class="o">*</span><span class="n">pdesc</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_channel_access</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">radio_onoff_checking</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">valid</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">dm_watchdog</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">scan_operation_backup</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="n">operation</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">set_rf_power_state</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				    <span class="k">enum</span> <span class="n">rf_pwrstate</span> <span class="n">rfpwr_state</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">led_control</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
			     <span class="k">enum</span> <span class="n">led_ctl_mode</span> <span class="n">ledaction</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_desc</span><span class="p">)</span> <span class="p">(</span><span class="n">u8</span> <span class="o">*</span><span class="n">pdesc</span><span class="p">,</span> <span class="n">bool</span> <span class="n">istx</span><span class="p">,</span> <span class="n">u8</span> <span class="n">desc_name</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">val</span><span class="p">);</span>
	<span class="n">u32</span> <span class="p">(</span><span class="o">*</span><span class="n">get_desc</span><span class="p">)</span> <span class="p">(</span><span class="n">u8</span> <span class="o">*</span><span class="n">pdesc</span><span class="p">,</span> <span class="n">bool</span> <span class="n">istx</span><span class="p">,</span> <span class="n">u8</span> <span class="n">desc_name</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">tx_polling</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u8</span> <span class="n">hw_queue</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">enable_hw_sec</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_key</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u32</span> <span class="n">key_index</span><span class="p">,</span>
			 <span class="n">u8</span> <span class="o">*</span><span class="n">macaddr</span><span class="p">,</span> <span class="n">bool</span> <span class="n">is_group</span><span class="p">,</span> <span class="n">u8</span> <span class="n">enc_algo</span><span class="p">,</span>
			 <span class="n">bool</span> <span class="n">is_wepkey</span><span class="p">,</span> <span class="n">bool</span> <span class="n">clear_all</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">init_sw_leds</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">deinit_sw_leds</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="n">u32</span> <span class="p">(</span><span class="o">*</span><span class="n">get_bbreg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">bitmask</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_bbreg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">bitmask</span><span class="p">,</span>
			   <span class="n">u32</span> <span class="n">data</span><span class="p">);</span>
	<span class="n">u32</span> <span class="p">(</span><span class="o">*</span><span class="n">get_rfreg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">enum</span> <span class="n">radio_path</span> <span class="n">rfpath</span><span class="p">,</span>
			  <span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">bitmask</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_rfreg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">enum</span> <span class="n">radio_path</span> <span class="n">rfpath</span><span class="p">,</span>
			   <span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">bitmask</span><span class="p">,</span> <span class="n">u32</span> <span class="n">data</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">linked_set_reg</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">phy_rf6052_config</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">phy_rf6052_set_cck_txpower</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
					    <span class="n">u8</span> <span class="o">*</span><span class="n">powerlevel</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">phy_rf6052_set_ofdm_txpower</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
					     <span class="n">u8</span> <span class="o">*</span><span class="n">ppowerlevel</span><span class="p">,</span> <span class="n">u8</span> <span class="n">channel</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">config_bb_with_headerfile</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
					   <span class="n">u8</span> <span class="n">configtype</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">config_bb_with_pgheaderfile</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
					     <span class="n">u8</span> <span class="n">configtype</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">phy_lc_calibrate</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">bool</span> <span class="n">is2t</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">phy_set_bw_mode_callback</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">dm_dynamic_txpower</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_intf_ops</span> <span class="p">{</span>
	<span class="cm">/*com */</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">read_efuse_byte</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u16</span> <span class="n">_offset</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">pbuf</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">adapter_start</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">adapter_stop</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>

	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">adapter_tx</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">rtl_tcb_desc</span> <span class="o">*</span><span class="n">ptcb_desc</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">flush</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">bool</span> <span class="n">drop</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">reset_trx_ring</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="n">bool</span> <span class="p">(</span><span class="o">*</span><span class="n">waitq_insert</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">);</span>

	<span class="cm">/*pci */</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">disable_aspm</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">enable_aspm</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>

	<span class="cm">/*usb */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_mod_params</span> <span class="p">{</span>
	<span class="cm">/* default: 0 = using hardware encryption */</span>
	<span class="n">bool</span> <span class="n">sw_crypto</span><span class="p">;</span>

	<span class="cm">/* default: 0 = DBG_EMERG (0)*/</span>
	<span class="kt">int</span> <span class="n">debug</span><span class="p">;</span>

	<span class="cm">/* default: 1 = using no linked power save */</span>
	<span class="n">bool</span> <span class="n">inactiveps</span><span class="p">;</span>

	<span class="cm">/* default: 1 = using linked sw power save */</span>
	<span class="n">bool</span> <span class="n">swctrl_lps</span><span class="p">;</span>

	<span class="cm">/* default: 1 = using linked fw power save */</span>
	<span class="n">bool</span> <span class="n">fwctrl_lps</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_hal_usbint_cfg</span> <span class="p">{</span>
	<span class="cm">/* data - rx */</span>
	<span class="n">u32</span> <span class="n">in_ep_num</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_urb_num</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_max_size</span><span class="p">;</span>

	<span class="cm">/* op - rx */</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">usb_rx_hdl</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">usb_rx_segregate_hdl</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">,</span>
				     <span class="k">struct</span> <span class="n">sk_buff_head</span> <span class="o">*</span><span class="p">);</span>

	<span class="cm">/* tx */</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">usb_tx_cleanup</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">usb_tx_post_hdl</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">urb</span> <span class="o">*</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">);</span>
	<span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">usb_tx_aggregate_hdl</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="p">,</span>
						<span class="k">struct</span> <span class="n">sk_buff_head</span> <span class="o">*</span><span class="p">);</span>

	<span class="cm">/* endpoint mapping */</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">usb_endpoint_mapping</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">);</span>
	<span class="n">u16</span> <span class="p">(</span><span class="o">*</span><span class="n">usb_mq_to_hwq</span><span class="p">)(</span><span class="n">__le16</span> <span class="n">fc</span><span class="p">,</span> <span class="n">u16</span> <span class="n">mac80211_queue_index</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_hal_cfg</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">bar_id</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">write_readback</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">fw_name</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_hal_ops</span> <span class="o">*</span><span class="n">ops</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_mod_params</span> <span class="o">*</span><span class="n">mod_params</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_hal_usbint_cfg</span> <span class="o">*</span><span class="n">usb_interface_cfg</span><span class="p">;</span>

	<span class="cm">/*this map used for some registers or vars</span>
<span class="cm">	   defined int HAL but used in MAIN */</span>
	<span class="n">u32</span> <span class="n">maps</span><span class="p">[</span><span class="n">RTL_VAR_MAP_MAX</span><span class="p">];</span>

<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_locks</span> <span class="p">{</span>
	<span class="cm">/* mutex */</span>
	<span class="k">struct</span> <span class="n">mutex</span> <span class="n">conf_mutex</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">mutex</span> <span class="n">ps_mutex</span><span class="p">;</span>

	<span class="cm">/*spin lock */</span>
	<span class="n">spinlock_t</span> <span class="n">ips_lock</span><span class="p">;</span>
	<span class="n">spinlock_t</span> <span class="n">irq_th_lock</span><span class="p">;</span>
	<span class="n">spinlock_t</span> <span class="n">h2c_lock</span><span class="p">;</span>
	<span class="n">spinlock_t</span> <span class="n">rf_ps_lock</span><span class="p">;</span>
	<span class="n">spinlock_t</span> <span class="n">rf_lock</span><span class="p">;</span>
	<span class="n">spinlock_t</span> <span class="n">waitq_lock</span><span class="p">;</span>

	<span class="cm">/*Dual mac*/</span>
	<span class="n">spinlock_t</span> <span class="n">cck_and_rw_pagea_lock</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_works</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">;</span>

	<span class="cm">/*timer */</span>
	<span class="k">struct</span> <span class="n">timer_list</span> <span class="n">watchdog_timer</span><span class="p">;</span>

	<span class="cm">/*task */</span>
	<span class="k">struct</span> <span class="n">tasklet_struct</span> <span class="n">irq_tasklet</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">tasklet_struct</span> <span class="n">irq_prepare_bcn_tasklet</span><span class="p">;</span>

	<span class="cm">/*work queue */</span>
	<span class="k">struct</span> <span class="n">workqueue_struct</span> <span class="o">*</span><span class="n">rtl_wq</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">delayed_work</span> <span class="n">watchdog_wq</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">delayed_work</span> <span class="n">ips_nic_off_wq</span><span class="p">;</span>

	<span class="cm">/* For SW LPS */</span>
	<span class="k">struct</span> <span class="n">delayed_work</span> <span class="n">ps_work</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">delayed_work</span> <span class="n">ps_rfon_wq</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">work_struct</span> <span class="n">lps_leave_work</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_debug</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">dbgp_type</span><span class="p">[</span><span class="n">DBGP_TYPE_MAX</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">global_debuglevel</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">global_debugcomponents</span><span class="p">;</span>

	<span class="cm">/* add for proc debug */</span>
	<span class="k">struct</span> <span class="n">proc_dir_entry</span> <span class="o">*</span><span class="n">proc_dir</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">proc_name</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ps_t</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">pre_ccastate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_ccasate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_rfstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_rfstate</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">rssi_val_min</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">dig_t</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">rssi_lowthresh</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rssi_highthresh</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fa_lowthresh</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fa_highthresh</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">last_min_undecorated_pwdb_for_dm</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">rssi_highpower_lowthresh</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">rssi_highpower_highthresh</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">recover_cnt</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pre_igvalue</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cur_igvalue</span><span class="p">;</span>
	<span class="kt">long</span> <span class="n">rssi_val</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_enable_flag</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_ext_port_stage</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_algorithm</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_twoport_algorithm</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_dbgmode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_slgorithm_switch</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cursta_connectctate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">presta_connectstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">curmultista_connectstate</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">backoff_val</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">backoff_val_range_max</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">backoff_val_range_min</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rx_gain_range_max</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rx_gain_range_min</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">min_undecorated_pwdb_for_dm</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rssi_val_min</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_cck_pd_state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_cck_pd_state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_cck_fa_state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_cck_fa_state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_ccastate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_ccasate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">large_fa_hit</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">forbidden_igi</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dig_highpwrstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_sta_connectstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_sta_connectstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_ap_connectstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_ap_connectstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_pd_thstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_pd_thstate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cur_cs_ratiostate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pre_cs_ratiostate</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">backoff_enable_flag</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">backoffval_range_max</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">backoffval_range_min</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rtl_priv</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">completion</span> <span class="n">firmware_loading_complete</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_locks</span> <span class="n">locks</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_works</span> <span class="n">works</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_mac</span> <span class="n">mac80211</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_hal</span> <span class="n">rtlhal</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_regulatory</span> <span class="n">regd</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_rfkill</span> <span class="n">rfkill</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_io</span> <span class="n">io</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_phy</span> <span class="n">phy</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_dm</span> <span class="n">dm</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_security</span> <span class="n">sec</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_efuse</span> <span class="n">efuse</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">rtl_ps_ctl</span> <span class="n">psc</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rate_adaptive</span> <span class="n">ra</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wireless_stats</span> <span class="n">stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rt_link_detect</span> <span class="n">link_info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">false_alarm_statistics</span> <span class="n">falsealm_cnt</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">rtl_rate_priv</span> <span class="o">*</span><span class="n">rate_priv</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">rtl_debug</span> <span class="n">dbg</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">max_fw_size</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 *hal_cfg : for diff cards</span>
<span class="cm">	 *intf_ops : for diff interrface usb/pcie</span>
<span class="cm">	 */</span>
	<span class="k">struct</span> <span class="n">rtl_hal_cfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">rtl_intf_ops</span> <span class="o">*</span><span class="n">intf_ops</span><span class="p">;</span>

	<span class="cm">/*this var will be set by set_bit,</span>
<span class="cm">	   and was used to indicate status of</span>
<span class="cm">	   interface or hardware */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">status</span><span class="p">;</span>

	<span class="cm">/* tables for dm */</span>
	<span class="k">struct</span> <span class="n">dig_t</span> <span class="n">dm_digtable</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ps_t</span> <span class="n">dm_pstable</span><span class="p">;</span>

	<span class="cm">/* data buffer pointer for USB reads */</span>
	<span class="n">__le32</span> <span class="o">*</span><span class="n">usb_data</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">usb_data_index</span><span class="p">;</span>

	<span class="cm">/*This must be the last item so</span>
<span class="cm">	   that it points to the data allocated</span>
<span class="cm">	   beyond  this structure like:</span>
<span class="cm">	   rtl_pci_priv or rtl_usb_priv */</span>
	<span class="n">u8</span> <span class="n">priv</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define rtl_priv(hw)		(((struct rtl_priv *)(hw)-&gt;priv))</span>
<span class="cp">#define rtl_mac(rtlpriv)	(&amp;((rtlpriv)-&gt;mac80211))</span>
<span class="cp">#define rtl_hal(rtlpriv)	(&amp;((rtlpriv)-&gt;rtlhal))</span>
<span class="cp">#define rtl_efuse(rtlpriv)	(&amp;((rtlpriv)-&gt;efuse))</span>
<span class="cp">#define rtl_psc(rtlpriv)	(&amp;((rtlpriv)-&gt;psc))</span>


<span class="cm">/***************************************</span>
<span class="cm">    Bluetooth Co-existence Related</span>
<span class="cm">****************************************/</span>

<span class="k">enum</span> <span class="n">bt_ant_num</span> <span class="p">{</span>
	<span class="n">ANT_X2</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">ANT_X1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">bt_co_type</span> <span class="p">{</span>
	<span class="n">BT_2WIRE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BT_ISSC_3WIRE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">BT_ACCEL</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">BT_CSR_BC4</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">BT_CSR_BC8</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">BT_RTL8756</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">bt_cur_state</span> <span class="p">{</span>
	<span class="n">BT_OFF</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BT_ON</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">bt_service_type</span> <span class="p">{</span>
	<span class="n">BT_SCO</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BT_A2DP</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">BT_HID</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">BT_HID_IDLE</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">BT_SCAN</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">BT_IDLE</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">BT_OTHER_ACTION</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">BT_BUSY</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">BT_OTHERBUSY</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">BT_PAN</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">bt_radio_shared</span> <span class="p">{</span>
	<span class="n">BT_RADIO_SHARED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BT_RADIO_INDIVIDUAL</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bt_coexist_info</span> <span class="p">{</span>

	<span class="cm">/* EEPROM BT info. */</span>
	<span class="n">u8</span> <span class="n">eeprom_bt_coexist</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_bt_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_bt_ant_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_bt_ant_isolation</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">eeprom_bt_radio_shared</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">bt_coexistence</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_ant_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_coexist_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_cur_state</span><span class="p">;</span>	<span class="cm">/* 0:on, 1:off */</span>
	<span class="n">u8</span> <span class="n">bt_ant_isolation</span><span class="p">;</span>	<span class="cm">/* 0:good, 1:bad */</span>
	<span class="n">u8</span> <span class="n">bt_pape_ctrl</span><span class="p">;</span>	<span class="cm">/* 0:SW, 1:SW/HW dynamic */</span>
	<span class="n">u8</span> <span class="n">bt_service</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_radio_shared_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_rfreg_origin_1e</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_rfreg_origin_1f</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_rssi_state</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ratio_tx</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ratio_pri</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">bt_edca_ul</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">bt_edca_dl</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">init_set</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">bt_busy_traffic</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">bt_traffic_mode_set</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">bt_non_traffic_mode_set</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">fw_coexist_all_off</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">sw_coexist_all_off</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">current_state</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">previous_state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bt_pre_rssi_state</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">reg_bt_iso</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reg_bt_sco</span><span class="p">;</span>

<span class="p">};</span>


<span class="cm">/****************************************</span>
<span class="cm">	mem access macro define start</span>
<span class="cm">	Call endian free function when</span>
<span class="cm">	1. Read/write packet content.</span>
<span class="cm">	2. Before write integer to IO.</span>
<span class="cm">	3. After read integer from IO.</span>
<span class="cm">****************************************/</span>
<span class="cm">/* Convert little data endian to host ordering */</span>
<span class="cp">#define EF1BYTE(_val)		\</span>
<span class="cp">	((u8)(_val))</span>
<span class="cp">#define EF2BYTE(_val)		\</span>
<span class="cp">	(le16_to_cpu(_val))</span>
<span class="cp">#define EF4BYTE(_val)		\</span>
<span class="cp">	(le32_to_cpu(_val))</span>

<span class="cm">/* Read data from memory */</span>
<span class="cp">#define READEF1BYTE(_ptr)	\</span>
<span class="cp">	EF1BYTE(*((u8 *)(_ptr)))</span>
<span class="cm">/* Read le16 data from memory and convert to host ordering */</span>
<span class="cp">#define READEF2BYTE(_ptr)	\</span>
<span class="cp">	EF2BYTE(*((u16 *)(_ptr)))</span>
<span class="cp">#define READEF4BYTE(_ptr)	\</span>
<span class="cp">	EF4BYTE(*((u32 *)(_ptr)))</span>

<span class="cm">/* Write data to memory */</span>
<span class="cp">#define WRITEEF1BYTE(_ptr, _val)	\</span>
<span class="cp">	(*((u8 *)(_ptr))) = EF1BYTE(_val)</span>
<span class="cm">/* Write le16 data to memory in host ordering */</span>
<span class="cp">#define WRITEEF2BYTE(_ptr, _val)	\</span>
<span class="cp">	(*((u16 *)(_ptr))) = EF2BYTE(_val)</span>
<span class="cp">#define WRITEEF4BYTE(_ptr, _val)	\</span>
<span class="cp">	(*((u16 *)(_ptr))) = EF2BYTE(_val)</span>

<span class="cm">/* Create a bit mask</span>
<span class="cm"> * Examples:</span>
<span class="cm"> * BIT_LEN_MASK_32(0) =&gt; 0x00000000</span>
<span class="cm"> * BIT_LEN_MASK_32(1) =&gt; 0x00000001</span>
<span class="cm"> * BIT_LEN_MASK_32(2) =&gt; 0x00000003</span>
<span class="cm"> * BIT_LEN_MASK_32(32) =&gt; 0xFFFFFFFF</span>
<span class="cm"> */</span>
<span class="cp">#define BIT_LEN_MASK_32(__bitlen)	 \</span>
<span class="cp">	(0xFFFFFFFF &gt;&gt; (32 - (__bitlen)))</span>
<span class="cp">#define BIT_LEN_MASK_16(__bitlen)	 \</span>
<span class="cp">	(0xFFFF &gt;&gt; (16 - (__bitlen)))</span>
<span class="cp">#define BIT_LEN_MASK_8(__bitlen) \</span>
<span class="cp">	(0xFF &gt;&gt; (8 - (__bitlen)))</span>

<span class="cm">/* Create an offset bit mask</span>
<span class="cm"> * Examples:</span>
<span class="cm"> * BIT_OFFSET_LEN_MASK_32(0, 2) =&gt; 0x00000003</span>
<span class="cm"> * BIT_OFFSET_LEN_MASK_32(16, 2) =&gt; 0x00030000</span>
<span class="cm"> */</span>
<span class="cp">#define BIT_OFFSET_LEN_MASK_32(__bitoffset, __bitlen) \</span>
<span class="cp">	(BIT_LEN_MASK_32(__bitlen) &lt;&lt; (__bitoffset))</span>
<span class="cp">#define BIT_OFFSET_LEN_MASK_16(__bitoffset, __bitlen) \</span>
<span class="cp">	(BIT_LEN_MASK_16(__bitlen) &lt;&lt; (__bitoffset))</span>
<span class="cp">#define BIT_OFFSET_LEN_MASK_8(__bitoffset, __bitlen) \</span>
<span class="cp">	(BIT_LEN_MASK_8(__bitlen) &lt;&lt; (__bitoffset))</span>

<span class="cm">/*Description:</span>
<span class="cm"> * Return 4-byte value in host byte ordering from</span>
<span class="cm"> * 4-byte pointer in little-endian system.</span>
<span class="cm"> */</span>
<span class="cp">#define LE_P4BYTE_TO_HOST_4BYTE(__pstart) \</span>
<span class="cp">	(EF4BYTE(*((u32 *)(__pstart))))</span>
<span class="cp">#define LE_P2BYTE_TO_HOST_2BYTE(__pstart) \</span>
<span class="cp">	(EF2BYTE(*((u16 *)(__pstart))))</span>
<span class="cp">#define LE_P1BYTE_TO_HOST_1BYTE(__pstart) \</span>
<span class="cp">	(EF1BYTE(*((u8 *)(__pstart))))</span>

<span class="cm">/*Description:</span>
<span class="cm">Translate subfield (continuous bits in little-endian) of 4-byte</span>
<span class="cm">value to host byte ordering.*/</span>
<span class="cp">#define LE_BITS_TO_4BYTE(__pstart, __bitoffset, __bitlen) \</span>
<span class="cp">	( \</span>
<span class="cp">		(LE_P4BYTE_TO_HOST_4BYTE(__pstart) &gt;&gt; (__bitoffset))  &amp; \</span>
<span class="cp">		BIT_LEN_MASK_32(__bitlen) \</span>
<span class="cp">	)</span>
<span class="cp">#define LE_BITS_TO_2BYTE(__pstart, __bitoffset, __bitlen) \</span>
<span class="cp">	( \</span>
<span class="cp">		(LE_P2BYTE_TO_HOST_2BYTE(__pstart) &gt;&gt; (__bitoffset)) &amp; \</span>
<span class="cp">		BIT_LEN_MASK_16(__bitlen) \</span>
<span class="cp">	)</span>
<span class="cp">#define LE_BITS_TO_1BYTE(__pstart, __bitoffset, __bitlen) \</span>
<span class="cp">	( \</span>
<span class="cp">		(LE_P1BYTE_TO_HOST_1BYTE(__pstart) &gt;&gt; (__bitoffset)) &amp; \</span>
<span class="cp">		BIT_LEN_MASK_8(__bitlen) \</span>
<span class="cp">	)</span>

<span class="cm">/* Description:</span>
<span class="cm"> * Mask subfield (continuous bits in little-endian) of 4-byte value</span>
<span class="cm"> * and return the result in 4-byte value in host byte ordering.</span>
<span class="cm"> */</span>
<span class="cp">#define LE_BITS_CLEARED_TO_4BYTE(__pstart, __bitoffset, __bitlen) \</span>
<span class="cp">	( \</span>
<span class="cp">		LE_P4BYTE_TO_HOST_4BYTE(__pstart)  &amp; \</span>
<span class="cp">		(~BIT_OFFSET_LEN_MASK_32(__bitoffset, __bitlen)) \</span>
<span class="cp">	)</span>
<span class="cp">#define LE_BITS_CLEARED_TO_2BYTE(__pstart, __bitoffset, __bitlen) \</span>
<span class="cp">	( \</span>
<span class="cp">		LE_P2BYTE_TO_HOST_2BYTE(__pstart) &amp; \</span>
<span class="cp">		(~BIT_OFFSET_LEN_MASK_16(__bitoffset, __bitlen)) \</span>
<span class="cp">	)</span>
<span class="cp">#define LE_BITS_CLEARED_TO_1BYTE(__pstart, __bitoffset, __bitlen) \</span>
<span class="cp">	( \</span>
<span class="cp">		LE_P1BYTE_TO_HOST_1BYTE(__pstart) &amp; \</span>
<span class="cp">		(~BIT_OFFSET_LEN_MASK_8(__bitoffset, __bitlen)) \</span>
<span class="cp">	)</span>

<span class="cm">/* Description:</span>
<span class="cm"> * Set subfield of little-endian 4-byte value to specified value.</span>
<span class="cm"> */</span>
<span class="cp">#define SET_BITS_TO_LE_4BYTE(__pstart, __bitoffset, __bitlen, __val) \</span>
<span class="cp">	*((u32 *)(__pstart)) = EF4BYTE \</span>
<span class="cp">	( \</span>
<span class="cp">		LE_BITS_CLEARED_TO_4BYTE(__pstart, __bitoffset, __bitlen) | \</span>
<span class="cp">		((((u32)__val) &amp; BIT_LEN_MASK_32(__bitlen)) &lt;&lt; (__bitoffset)) \</span>
<span class="cp">	);</span>
<span class="cp">#define SET_BITS_TO_LE_2BYTE(__pstart, __bitoffset, __bitlen, __val) \</span>
<span class="cp">	*((u16 *)(__pstart)) = EF2BYTE \</span>
<span class="cp">	( \</span>
<span class="cp">		LE_BITS_CLEARED_TO_2BYTE(__pstart, __bitoffset, __bitlen) | \</span>
<span class="cp">		((((u16)__val) &amp; BIT_LEN_MASK_16(__bitlen)) &lt;&lt; (__bitoffset)) \</span>
<span class="cp">	);</span>
<span class="cp">#define SET_BITS_TO_LE_1BYTE(__pstart, __bitoffset, __bitlen, __val) \</span>
<span class="cp">	*((u8 *)(__pstart)) = EF1BYTE \</span>
<span class="cp">	( \</span>
<span class="cp">		LE_BITS_CLEARED_TO_1BYTE(__pstart, __bitoffset, __bitlen) | \</span>
<span class="cp">		((((u8)__val) &amp; BIT_LEN_MASK_8(__bitlen)) &lt;&lt; (__bitoffset)) \</span>
<span class="cp">	);</span>

<span class="cp">#define	N_BYTE_ALIGMENT(__value, __aligment) ((__aligment == 1) ? \</span>
<span class="cp">	(__value) : (((__value + __aligment - 1) / __aligment) * __aligment))</span>

<span class="cm">/****************************************</span>
<span class="cm">	mem access macro define end</span>
<span class="cm">****************************************/</span>

<span class="cp">#define byte(x, n) ((x &gt;&gt; (8 * n)) &amp; 0xff)</span>

<span class="cp">#define packet_get_type(_packet) (EF1BYTE((_packet).octet[0]) &amp; 0xFC)</span>
<span class="cp">#define RTL_WATCH_DOG_TIME	2000</span>
<span class="cp">#define MSECS(t)		msecs_to_jiffies(t)</span>
<span class="cp">#define WLAN_FC_GET_VERS(fc)	(le16_to_cpu(fc) &amp; IEEE80211_FCTL_VERS)</span>
<span class="cp">#define WLAN_FC_GET_TYPE(fc)	(le16_to_cpu(fc) &amp; IEEE80211_FCTL_FTYPE)</span>
<span class="cp">#define WLAN_FC_GET_STYPE(fc)	(le16_to_cpu(fc) &amp; IEEE80211_FCTL_STYPE)</span>
<span class="cp">#define WLAN_FC_MORE_DATA(fc)	(le16_to_cpu(fc) &amp; IEEE80211_FCTL_MOREDATA)</span>
<span class="cp">#define SEQ_TO_SN(seq)		(((seq) &amp; IEEE80211_SCTL_SEQ) &gt;&gt; 4)</span>
<span class="cp">#define SN_TO_SEQ(ssn)		(((ssn) &lt;&lt; 4) &amp; IEEE80211_SCTL_SEQ)</span>
<span class="cp">#define MAX_SN			((IEEE80211_SCTL_SEQ) &gt;&gt; 4)</span>

<span class="cp">#define	RT_RF_OFF_LEVL_ASPM		BIT(0)	</span><span class="cm">/*PCI ASPM */</span><span class="cp"></span>
<span class="cp">#define	RT_RF_OFF_LEVL_CLK_REQ		BIT(1)	</span><span class="cm">/*PCI clock request */</span><span class="cp"></span>
<span class="cp">#define	RT_RF_OFF_LEVL_PCI_D3		BIT(2)	</span><span class="cm">/*PCI D3 mode */</span><span class="cp"></span>
<span class="cm">/*NIC halt, re-initialize hw parameters*/</span>
<span class="cp">#define	RT_RF_OFF_LEVL_HALT_NIC		BIT(3)</span>
<span class="cp">#define	RT_RF_OFF_LEVL_FREE_FW		BIT(4)	</span><span class="cm">/*FW free, re-download the FW */</span><span class="cp"></span>
<span class="cp">#define	RT_RF_OFF_LEVL_FW_32K		BIT(5)	</span><span class="cm">/*FW in 32k */</span><span class="cp"></span>
<span class="cm">/*Always enable ASPM and Clock Req in initialization.*/</span>
<span class="cp">#define	RT_RF_PS_LEVEL_ALWAYS_ASPM	BIT(6)</span>
<span class="cm">/* no matter RFOFF or SLEEP we set PS_ASPM_LEVL*/</span>
<span class="cp">#define	RT_PS_LEVEL_ASPM		BIT(7)</span>
<span class="cm">/*When LPS is on, disable 2R if no packet is received or transmittd.*/</span>
<span class="cp">#define	RT_RF_LPS_DISALBE_2R		BIT(30)</span>
<span class="cp">#define	RT_RF_LPS_LEVEL_ASPM		BIT(31)	</span><span class="cm">/*LPS with ASPM */</span><span class="cp"></span>
<span class="cp">#define	RT_IN_PS_LEVEL(ppsc, _ps_flg)		\</span>
<span class="cp">	((ppsc-&gt;cur_ps_level &amp; _ps_flg) ? true : false)</span>
<span class="cp">#define	RT_CLEAR_PS_LEVEL(ppsc, _ps_flg)	\</span>
<span class="cp">	(ppsc-&gt;cur_ps_level &amp;= (~(_ps_flg)))</span>
<span class="cp">#define	RT_SET_PS_LEVEL(ppsc, _ps_flg)		\</span>
<span class="cp">	(ppsc-&gt;cur_ps_level |= _ps_flg)</span>

<span class="cp">#define container_of_dwork_rtl(x, y, z) \</span>
<span class="cp">	container_of(container_of(x, struct delayed_work, work), y, z)</span>

<span class="cp">#define FILL_OCTET_STRING(_os, _octet, _len)	\</span>
<span class="cp">		(_os).octet = (u8 *)(_octet);		\</span>
<span class="cp">		(_os).length = (_len);</span>

<span class="cp">#define CP_MACADDR(des, src)	\</span>
<span class="cp">	((des)[0] = (src)[0], (des)[1] = (src)[1],\</span>
<span class="cp">	(des)[2] = (src)[2], (des)[3] = (src)[3],\</span>
<span class="cp">	(des)[4] = (src)[4], (des)[5] = (src)[5])</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u8</span> <span class="nf">rtl_read_byte</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">read8_sync</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u16</span> <span class="nf">rtl_read_word</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">read16_sync</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">rtl_read_dword</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">read32_sync</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">rtl_write_byte</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u8</span> <span class="n">val8</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">write8_async</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="n">val8</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">write_readback</span><span class="p">)</span>
		<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">read8_sync</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">rtl_write_word</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u16</span> <span class="n">val16</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">write16_async</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="n">val16</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">write_readback</span><span class="p">)</span>
		<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">read16_sync</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">rtl_write_dword</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span><span class="p">,</span>
				   <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">val32</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">write32_async</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">,</span> <span class="n">val32</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">write_readback</span><span class="p">)</span>
		<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">io</span><span class="p">.</span><span class="n">read32_sync</span><span class="p">(</span><span class="n">rtlpriv</span><span class="p">,</span> <span class="n">addr</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">rtl_get_bbreg</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				<span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">u32</span> <span class="n">bitmask</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span> <span class="o">=</span> <span class="n">hw</span><span class="o">-&gt;</span><span class="n">priv</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">ops</span><span class="o">-&gt;</span><span class="n">get_bbreg</span><span class="p">(</span><span class="n">hw</span><span class="p">,</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">bitmask</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">rtl_set_bbreg</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span> <span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span>
				 <span class="n">u32</span> <span class="n">bitmask</span><span class="p">,</span> <span class="n">u32</span> <span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span> <span class="o">=</span> <span class="n">hw</span><span class="o">-&gt;</span><span class="n">priv</span><span class="p">;</span>

	<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">ops</span><span class="o">-&gt;</span><span class="n">set_bbreg</span><span class="p">(</span><span class="n">hw</span><span class="p">,</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">bitmask</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">rtl_get_rfreg</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				<span class="k">enum</span> <span class="n">radio_path</span> <span class="n">rfpath</span><span class="p">,</span> <span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span>
				<span class="n">u32</span> <span class="n">bitmask</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span> <span class="o">=</span> <span class="n">hw</span><span class="o">-&gt;</span><span class="n">priv</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">ops</span><span class="o">-&gt;</span><span class="n">get_rfreg</span><span class="p">(</span><span class="n">hw</span><span class="p">,</span> <span class="n">rfpath</span><span class="p">,</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">bitmask</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">rtl_set_rfreg</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
				 <span class="k">enum</span> <span class="n">radio_path</span> <span class="n">rfpath</span><span class="p">,</span> <span class="n">u32</span> <span class="n">regaddr</span><span class="p">,</span>
				 <span class="n">u32</span> <span class="n">bitmask</span><span class="p">,</span> <span class="n">u32</span> <span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">rtl_priv</span> <span class="o">*</span><span class="n">rtlpriv</span> <span class="o">=</span> <span class="n">hw</span><span class="o">-&gt;</span><span class="n">priv</span><span class="p">;</span>

	<span class="n">rtlpriv</span><span class="o">-&gt;</span><span class="n">cfg</span><span class="o">-&gt;</span><span class="n">ops</span><span class="o">-&gt;</span><span class="n">set_rfreg</span><span class="p">(</span><span class="n">hw</span><span class="p">,</span> <span class="n">rfpath</span><span class="p">,</span> <span class="n">regaddr</span><span class="p">,</span> <span class="n">bitmask</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">bool</span> <span class="nf">is_hal_stop</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_hal</span> <span class="o">*</span><span class="n">rtlhal</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">_HAL_STATE_STOP</span> <span class="o">==</span> <span class="n">rtlhal</span><span class="o">-&gt;</span><span class="n">state</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">set_hal_start</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_hal</span> <span class="o">*</span><span class="n">rtlhal</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">rtlhal</span><span class="o">-&gt;</span><span class="n">state</span> <span class="o">=</span> <span class="n">_HAL_STATE_START</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">set_hal_stop</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_hal</span> <span class="o">*</span><span class="n">rtlhal</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">rtlhal</span><span class="o">-&gt;</span><span class="n">state</span> <span class="o">=</span> <span class="n">_HAL_STATE_STOP</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u8</span> <span class="nf">get_rf_type</span><span class="p">(</span><span class="k">struct</span> <span class="n">rtl_phy</span> <span class="o">*</span><span class="n">rtlphy</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">rtlphy</span><span class="o">-&gt;</span><span class="n">rf_type</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="k">struct</span> <span class="n">ieee80211_hdr</span> <span class="o">*</span><span class="nf">rtl_get_hdr</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hdr</span> <span class="o">*</span><span class="p">)(</span><span class="n">skb</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">__le16</span> <span class="nf">rtl_get_fc</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">rtl_get_hdr</span><span class="p">(</span><span class="n">skb</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">frame_control</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u16</span> <span class="nf">rtl_get_tid_h</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">ieee80211_get_qos_ctl</span><span class="p">(</span><span class="n">hdr</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">IEEE80211_QOS_CTL_TID_MASK</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u16</span> <span class="nf">rtl_get_tid</span><span class="p">(</span><span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">skb</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">rtl_get_tid_h</span><span class="p">(</span><span class="n">rtl_get_hdr</span><span class="p">(</span><span class="n">skb</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="k">struct</span> <span class="n">ieee80211_sta</span> <span class="o">*</span><span class="nf">get_sta</span><span class="p">(</span><span class="k">struct</span> <span class="n">ieee80211_hw</span> <span class="o">*</span><span class="n">hw</span><span class="p">,</span>
					    <span class="k">struct</span> <span class="n">ieee80211_vif</span> <span class="o">*</span><span class="n">vif</span><span class="p">,</span>
					    <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">bssid</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">ieee80211_find_sta</span><span class="p">(</span><span class="n">vif</span><span class="p">,</span> <span class="n">bssid</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
