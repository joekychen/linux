<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › ath › ath6kl › hif.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>hif.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2004-2011 Atheros Communications Inc.</span>
<span class="cm"> * Copyright (c) 2011 Qualcomm Atheros, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Permission to use, copy, modify, and/or distribute this software for any</span>
<span class="cm"> * purpose with or without fee is hereby granted, provided that the above</span>
<span class="cm"> * copyright notice and this permission notice appear in all copies.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span>
<span class="cm"> * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span>
<span class="cm"> * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span>
<span class="cm"> * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span>
<span class="cm"> * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span>
<span class="cm"> * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef HIF_H</span>
<span class="cp">#define HIF_H</span>

<span class="cp">#include &quot;common.h&quot;</span>
<span class="cp">#include &quot;core.h&quot;</span>

<span class="cp">#include &lt;linux/scatterlist.h&gt;</span>

<span class="cp">#define BUS_REQUEST_MAX_NUM                64</span>
<span class="cp">#define HIF_MBOX_BLOCK_SIZE                128</span>
<span class="cp">#define HIF_MBOX0_BLOCK_SIZE               1</span>

<span class="cp">#define HIF_DMA_BUFFER_SIZE (32 * 1024)</span>
<span class="cp">#define CMD53_FIXED_ADDRESS 1</span>
<span class="cp">#define CMD53_INCR_ADDRESS  2</span>

<span class="cp">#define MAX_SCATTER_REQUESTS             4</span>
<span class="cp">#define MAX_SCATTER_ENTRIES_PER_REQ      16</span>
<span class="cp">#define MAX_SCATTER_REQ_TRANSFER_SIZE    (32 * 1024)</span>

<span class="cp">#define MANUFACTURER_ID_AR6003_BASE        0x300</span>
<span class="cp">#define MANUFACTURER_ID_AR6004_BASE        0x400</span>
    <span class="cm">/* SDIO manufacturer ID and Codes */</span>
<span class="cp">#define MANUFACTURER_ID_ATH6KL_BASE_MASK     0xFF00</span>
<span class="cp">#define MANUFACTURER_CODE                  0x271	</span><span class="cm">/* Atheros */</span><span class="cp"></span>

<span class="cm">/* Mailbox address in SDIO address space */</span>
<span class="cp">#define HIF_MBOX_BASE_ADDR                 0x800</span>
<span class="cp">#define HIF_MBOX_WIDTH                     0x800</span>

<span class="cp">#define HIF_MBOX_END_ADDR  (HTC_MAILBOX_NUM_MAX * HIF_MBOX_WIDTH - 1)</span>

<span class="cm">/* version 1 of the chip has only a 12K extended mbox range */</span>
<span class="cp">#define HIF_MBOX0_EXT_BASE_ADDR  0x4000</span>
<span class="cp">#define HIF_MBOX0_EXT_WIDTH      (12*1024)</span>

<span class="cm">/* GMBOX addresses */</span>
<span class="cp">#define HIF_GMBOX_BASE_ADDR                0x7000</span>
<span class="cp">#define HIF_GMBOX_WIDTH                    0x4000</span>

<span class="cm">/* interrupt mode register */</span>
<span class="cp">#define CCCR_SDIO_IRQ_MODE_REG         0xF0</span>

<span class="cm">/* mode to enable special 4-bit interrupt assertion without clock */</span>
<span class="cp">#define SDIO_IRQ_MODE_ASYNC_4BIT_IRQ   (1 &lt;&lt; 0)</span>

<span class="cm">/* HTC runs over mailbox 0 */</span>
<span class="cp">#define HTC_MAILBOX	0</span>

<span class="cp">#define ATH6KL_TARGET_DEBUG_INTR_MASK     0x01</span>

<span class="cm">/* FIXME: are these duplicates with MAX_SCATTER_ values in hif.h? */</span>
<span class="cp">#define ATH6KL_SCATTER_ENTRIES_PER_REQ            16</span>
<span class="cp">#define ATH6KL_MAX_TRANSFER_SIZE_PER_SCATTER      (16 * 1024)</span>
<span class="cp">#define ATH6KL_SCATTER_REQS                       4</span>

<span class="cp">#define ATH6KL_HIF_COMMUNICATION_TIMEOUT	1000</span>

<span class="k">struct</span> <span class="n">bus_request</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>

	<span class="cm">/* request data */</span>
	<span class="n">u32</span> <span class="n">address</span><span class="p">;</span>

	<span class="n">u8</span> <span class="o">*</span><span class="n">buffer</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">request</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">htc_packet</span> <span class="o">*</span><span class="n">packet</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">status</span><span class="p">;</span>

	<span class="cm">/* this is a scatter request */</span>
	<span class="k">struct</span> <span class="n">hif_scatter_req</span> <span class="o">*</span><span class="n">scat_req</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* direction of transfer (read/write) */</span>
<span class="cp">#define HIF_READ                    0x00000001</span>
<span class="cp">#define HIF_WRITE                   0x00000002</span>
<span class="cp">#define HIF_DIR_MASK                (HIF_READ | HIF_WRITE)</span>

<span class="cm">/*</span>
<span class="cm"> *     emode - This indicates the whether the command is to be executed in a</span>
<span class="cm"> *             blocking or non-blocking fashion (HIF_SYNCHRONOUS/</span>
<span class="cm"> *             HIF_ASYNCHRONOUS). The read/write data paths in HTC have been</span>
<span class="cm"> *             implemented using the asynchronous mode allowing the the bus</span>
<span class="cm"> *             driver to indicate the completion of operation through the</span>
<span class="cm"> *             registered callback routine. The requirement primarily comes</span>
<span class="cm"> *             from the contexts these operations get called from (a driver&#39;s</span>
<span class="cm"> *             transmit context or the ISR context in case of receive).</span>
<span class="cm"> *             Support for both of these modes is essential.</span>
<span class="cm"> */</span>
<span class="cp">#define HIF_SYNCHRONOUS             0x00000010</span>
<span class="cp">#define HIF_ASYNCHRONOUS            0x00000020</span>
<span class="cp">#define HIF_EMODE_MASK              (HIF_SYNCHRONOUS | HIF_ASYNCHRONOUS)</span>

<span class="cm">/*</span>
<span class="cm"> *     dmode - An interface may support different kinds of commands based on</span>
<span class="cm"> *             the tradeoff between the amount of data it can carry and the</span>
<span class="cm"> *             setup time. Byte and Block modes are supported (HIF_BYTE_BASIS/</span>
<span class="cm"> *             HIF_BLOCK_BASIS). In case of latter, the data is rounded off</span>
<span class="cm"> *             to the nearest block size by padding. The size of the block is</span>
<span class="cm"> *             configurable at compile time using the HIF_BLOCK_SIZE and is</span>
<span class="cm"> *             negotiated with the target during initialization after the</span>
<span class="cm"> *             ATH6KL interrupts are enabled.</span>
<span class="cm"> */</span>
<span class="cp">#define HIF_BYTE_BASIS              0x00000040</span>
<span class="cp">#define HIF_BLOCK_BASIS             0x00000080</span>
<span class="cp">#define HIF_DMODE_MASK              (HIF_BYTE_BASIS | HIF_BLOCK_BASIS)</span>

<span class="cm">/*</span>
<span class="cm"> *     amode - This indicates if the address has to be incremented on ATH6KL</span>
<span class="cm"> *             after every read/write operation (HIF?FIXED_ADDRESS/</span>
<span class="cm"> *             HIF_INCREMENTAL_ADDRESS).</span>
<span class="cm"> */</span>
<span class="cp">#define HIF_FIXED_ADDRESS           0x00000100</span>
<span class="cp">#define HIF_INCREMENTAL_ADDRESS     0x00000200</span>
<span class="cp">#define HIF_AMODE_MASK		  (HIF_FIXED_ADDRESS | HIF_INCREMENTAL_ADDRESS)</span>

<span class="cp">#define HIF_WR_ASYNC_BYTE_INC					\</span>
<span class="cp">	(HIF_WRITE | HIF_ASYNCHRONOUS |				\</span>
<span class="cp">	 HIF_BYTE_BASIS | HIF_INCREMENTAL_ADDRESS)</span>

<span class="cp">#define HIF_WR_ASYNC_BLOCK_INC					\</span>
<span class="cp">	(HIF_WRITE | HIF_ASYNCHRONOUS |				\</span>
<span class="cp">	 HIF_BLOCK_BASIS | HIF_INCREMENTAL_ADDRESS)</span>

<span class="cp">#define HIF_WR_SYNC_BYTE_FIX					\</span>
<span class="cp">	(HIF_WRITE | HIF_SYNCHRONOUS |				\</span>
<span class="cp">	 HIF_BYTE_BASIS | HIF_FIXED_ADDRESS)</span>

<span class="cp">#define HIF_WR_SYNC_BYTE_INC					\</span>
<span class="cp">	(HIF_WRITE | HIF_SYNCHRONOUS |				\</span>
<span class="cp">	 HIF_BYTE_BASIS | HIF_INCREMENTAL_ADDRESS)</span>

<span class="cp">#define HIF_WR_SYNC_BLOCK_INC					\</span>
<span class="cp">	(HIF_WRITE | HIF_SYNCHRONOUS |				\</span>
<span class="cp">	 HIF_BLOCK_BASIS | HIF_INCREMENTAL_ADDRESS)</span>

<span class="cp">#define HIF_RD_SYNC_BYTE_INC						\</span>
<span class="cp">	(HIF_READ | HIF_SYNCHRONOUS |					\</span>
<span class="cp">	 HIF_BYTE_BASIS | HIF_INCREMENTAL_ADDRESS)</span>

<span class="cp">#define HIF_RD_SYNC_BYTE_FIX						\</span>
<span class="cp">	(HIF_READ | HIF_SYNCHRONOUS |					\</span>
<span class="cp">	 HIF_BYTE_BASIS | HIF_FIXED_ADDRESS)</span>

<span class="cp">#define HIF_RD_ASYNC_BLOCK_FIX						\</span>
<span class="cp">	(HIF_READ | HIF_ASYNCHRONOUS |					\</span>
<span class="cp">	 HIF_BLOCK_BASIS | HIF_FIXED_ADDRESS)</span>

<span class="cp">#define HIF_RD_SYNC_BLOCK_FIX						\</span>
<span class="cp">	(HIF_READ | HIF_SYNCHRONOUS |					\</span>
<span class="cp">	 HIF_BLOCK_BASIS | HIF_FIXED_ADDRESS)</span>

<span class="k">struct</span> <span class="n">hif_scatter_item</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">len</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">htc_packet</span> <span class="o">*</span><span class="n">packet</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hif_scatter_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="cm">/* address for the read/write operation */</span>
	<span class="n">u32</span> <span class="n">addr</span><span class="p">;</span>

	<span class="cm">/* request flags */</span>
	<span class="n">u32</span> <span class="n">req</span><span class="p">;</span>

	<span class="cm">/* total length of entire transfer */</span>
	<span class="n">u32</span> <span class="n">len</span><span class="p">;</span>

	<span class="n">bool</span> <span class="n">virt_scat</span><span class="p">;</span>

	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">complete</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">htc_target</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">hif_scatter_req</span> <span class="o">*</span><span class="p">);</span>
	<span class="kt">int</span> <span class="n">status</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">scat_entries</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">bus_request</span> <span class="o">*</span><span class="n">busrequest</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">scatterlist</span> <span class="o">*</span><span class="n">sgentries</span><span class="p">;</span>

	<span class="cm">/* bounce buffer for upper layers to copy to/from */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">virt_dma_buf</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">hif_scatter_item</span> <span class="n">scat_list</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

	<span class="n">u32</span> <span class="n">scat_q_depth</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ath6kl_irq_proc_registers</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">host_int_status</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cpu_int_status</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">error_int_status</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">counter_int_status</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mbox_frame</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rx_lkahd_valid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">host_int_status2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">gmbox_rx_avail</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">rx_lkahd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">rx_gmbox_lkahd_alias</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">ath6kl_irq_enable_reg</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">int_status_en</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cpu_int_status_en</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">err_int_status_en</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cntr_int_status_en</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="p">{</span>
	<span class="cm">/* protects irq_proc_reg and irq_en_reg below */</span>
	<span class="n">spinlock_t</span> <span class="n">lock</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ath6kl_irq_proc_registers</span> <span class="n">irq_proc_reg</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ath6kl_irq_enable_reg</span> <span class="n">irq_en_reg</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">htc_target</span> <span class="o">*</span><span class="n">htc_cnxt</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ath6kl_hif_ops</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">read_write_sync</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u32</span> <span class="n">addr</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span>
			       <span class="n">u32</span> <span class="n">len</span><span class="p">,</span> <span class="n">u32</span> <span class="n">request</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">write_async</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u32</span> <span class="n">address</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buffer</span><span class="p">,</span>
			   <span class="n">u32</span> <span class="n">length</span><span class="p">,</span> <span class="n">u32</span> <span class="n">request</span><span class="p">,</span> <span class="k">struct</span> <span class="n">htc_packet</span> <span class="o">*</span><span class="n">packet</span><span class="p">);</span>

	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">irq_enable</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">irq_disable</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>

	<span class="k">struct</span> <span class="n">hif_scatter_req</span> <span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">scatter_req_get</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">scatter_req_add</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">hif_scatter_req</span> <span class="o">*</span><span class="n">s_req</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">enable_scatter</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">scat_req_rw</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">hif_scatter_req</span> <span class="o">*</span><span class="n">scat_req</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">cleanup_scatter</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">suspend</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="k">struct</span> <span class="n">cfg80211_wowlan</span> <span class="o">*</span><span class="n">wow</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">resume</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">diag_read32</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u32</span> <span class="n">address</span><span class="p">,</span> <span class="n">u32</span> <span class="o">*</span><span class="n">value</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">diag_write32</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u32</span> <span class="n">address</span><span class="p">,</span> <span class="n">__le32</span> <span class="n">value</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">bmi_read</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">u32</span> <span class="n">len</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">bmi_write</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">u32</span> <span class="n">len</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">power_on</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">power_off</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">stop</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pipe_send</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u8</span> <span class="n">pipe</span><span class="p">,</span> <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">hdr_buf</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">buf</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">pipe_get_default</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">pipe_ul</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">pipe_dl</span><span class="p">);</span>
	<span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">pipe_map_service</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u16</span> <span class="n">service_id</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">pipe_ul</span><span class="p">,</span>
				<span class="n">u8</span> <span class="o">*</span><span class="n">pipe_dl</span><span class="p">);</span>
	<span class="n">u16</span> <span class="p">(</span><span class="o">*</span><span class="n">pipe_get_free_queue_number</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">,</span> <span class="n">u8</span> <span class="n">pipe</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">ath6kl_hif_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">ath6kl_hif_unmask_intrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">ath6kl_hif_mask_intrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">ath6kl_hif_poll_mboxmsg_rx</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			       <span class="n">u32</span> <span class="o">*</span><span class="n">lk_ahd</span><span class="p">,</span> <span class="kt">int</span> <span class="n">timeout</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">ath6kl_hif_rx_control</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">enable_rx</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">ath6kl_hif_disable_intrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">ath6kl_hif_rw_comp_handler</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">status</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">ath6kl_hif_intr_bh_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl</span> <span class="o">*</span><span class="n">ar</span><span class="p">);</span>

<span class="cm">/* Scatter Function and Definitions */</span>
<span class="kt">int</span> <span class="n">ath6kl_hif_submit_scat_req</span><span class="p">(</span><span class="k">struct</span> <span class="n">ath6kl_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">hif_scatter_req</span> <span class="o">*</span><span class="n">scat_req</span><span class="p">,</span> <span class="n">bool</span> <span class="n">read</span><span class="p">);</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
