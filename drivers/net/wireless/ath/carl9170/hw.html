<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › ath › carl9170 › hw.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>hw.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Shared Atheros AR9170 Header</span>
<span class="cm"> *</span>
<span class="cm"> * Register map, hardware-specific definitions</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2008, Johannes Berg &lt;johannes@sipsolutions.net&gt;</span>
<span class="cm"> * Copyright 2009-2011 Christian Lamparter &lt;chunkeey@googlemail.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; see the file COPYING.  If not, see</span>
<span class="cm"> * http://www.gnu.org/licenses/.</span>
<span class="cm"> *</span>
<span class="cm"> * This file incorporates work covered by the following copyright and</span>
<span class="cm"> * permission notice:</span>
<span class="cm"> *    Copyright (c) 2007-2008 Atheros Communications, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> *    Permission to use, copy, modify, and/or distribute this software for any</span>
<span class="cm"> *    purpose with or without fee is hereby granted, provided that the above</span>
<span class="cm"> *    copyright notice and this permission notice appear in all copies.</span>
<span class="cm"> *</span>
<span class="cm"> *    THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span>
<span class="cm"> *    WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span>
<span class="cm"> *    MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR</span>
<span class="cm"> *    ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span>
<span class="cm"> *    WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN</span>
<span class="cm"> *    ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF</span>
<span class="cm"> *    OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __CARL9170_SHARED_HW_H</span>
<span class="cp">#define __CARL9170_SHARED_HW_H</span>

<span class="cm">/* High Speed UART */</span>
<span class="cp">#define	AR9170_UART_REG_BASE			0x1c0000</span>

<span class="cm">/* Definitions of interrupt registers */</span>
<span class="cp">#define	AR9170_UART_REG_RX_BUFFER		(AR9170_UART_REG_BASE + 0x000)</span>
<span class="cp">#define	AR9170_UART_REG_TX_HOLDING		(AR9170_UART_REG_BASE + 0x004)</span>
<span class="cp">#define	AR9170_UART_REG_FIFO_CONTROL		(AR9170_UART_REG_BASE + 0x010)</span>
<span class="cp">#define		AR9170_UART_FIFO_CTRL_RESET_RX_FIFO	0x02</span>
<span class="cp">#define		AR9170_UART_FIFO_CTRL_RESET_TX_FIFO	0x04</span>

<span class="cp">#define	AR9170_UART_REG_LINE_CONTROL		(AR9170_UART_REG_BASE + 0x014)</span>
<span class="cp">#define	AR9170_UART_REG_MODEM_CONTROL		(AR9170_UART_REG_BASE + 0x018)</span>
<span class="cp">#define		AR9170_UART_MODEM_CTRL_DTR_BIT		0x01</span>
<span class="cp">#define		AR9170_UART_MODEM_CTRL_RTS_BIT		0x02</span>
<span class="cp">#define		AR9170_UART_MODEM_CTRL_INTERNAL_LOOP_BACK	0x10</span>
<span class="cp">#define		AR9170_UART_MODEM_CTRL_AUTO_RTS		0x20</span>
<span class="cp">#define		AR9170_UART_MODEM_CTRL_AUTO_CTR		0x40</span>

<span class="cp">#define	AR9170_UART_REG_LINE_STATUS		(AR9170_UART_REG_BASE + 0x01c)</span>
<span class="cp">#define		AR9170_UART_LINE_STS_RX_DATA_READY	0x01</span>
<span class="cp">#define		AR9170_UART_LINE_STS_RX_BUFFER_OVERRUN	0x02</span>
<span class="cp">#define		AR9170_UART_LINE_STS_RX_BREAK_IND	0x10</span>
<span class="cp">#define		AR9170_UART_LINE_STS_TX_FIFO_NEAR_EMPTY	0x20</span>
<span class="cp">#define		AR9170_UART_LINE_STS_TRANSMITTER_EMPTY	0x40</span>

<span class="cp">#define	AR9170_UART_REG_MODEM_STATUS		(AR9170_UART_REG_BASE + 0x020)</span>
<span class="cp">#define		AR9170_UART_MODEM_STS_CTS_CHANGE	0x01</span>
<span class="cp">#define		AR9170_UART_MODEM_STS_DSR_CHANGE	0x02</span>
<span class="cp">#define		AR9170_UART_MODEM_STS_DCD_CHANGE	0x08</span>
<span class="cp">#define		AR9170_UART_MODEM_STS_CTS_COMPL		0x10</span>
<span class="cp">#define		AR9170_UART_MODEM_STS_DSR_COMPL		0x20</span>
<span class="cp">#define		AR9170_UART_MODEM_STS_DCD_COMPL		0x80</span>

<span class="cp">#define	AR9170_UART_REG_SCRATCH			(AR9170_UART_REG_BASE + 0x024)</span>
<span class="cp">#define	AR9170_UART_REG_DIVISOR_LSB		(AR9170_UART_REG_BASE + 0x028)</span>
<span class="cp">#define	AR9170_UART_REG_DIVISOR_MSB		(AR9170_UART_REG_BASE + 0x02c)</span>
<span class="cp">#define	AR9170_UART_REG_WORD_RX_BUFFER		(AR9170_UART_REG_BASE + 0x034)</span>
<span class="cp">#define	AR9170_UART_REG_WORD_TX_HOLDING		(AR9170_UART_REG_BASE + 0x038)</span>
<span class="cp">#define	AR9170_UART_REG_FIFO_COUNT		(AR9170_UART_REG_BASE + 0x03c)</span>
<span class="cp">#define	AR9170_UART_REG_REMAINDER		(AR9170_UART_REG_BASE + 0x04c)</span>

<span class="cm">/* Timer */</span>
<span class="cp">#define	AR9170_TIMER_REG_BASE			0x1c1000</span>

<span class="cp">#define	AR9170_TIMER_REG_WATCH_DOG		(AR9170_TIMER_REG_BASE + 0x000)</span>
<span class="cp">#define	AR9170_TIMER_REG_TIMER0			(AR9170_TIMER_REG_BASE + 0x010)</span>
<span class="cp">#define	AR9170_TIMER_REG_TIMER1			(AR9170_TIMER_REG_BASE + 0x014)</span>
<span class="cp">#define	AR9170_TIMER_REG_TIMER2			(AR9170_TIMER_REG_BASE + 0x018)</span>
<span class="cp">#define	AR9170_TIMER_REG_TIMER3			(AR9170_TIMER_REG_BASE + 0x01c)</span>
<span class="cp">#define	AR9170_TIMER_REG_TIMER4			(AR9170_TIMER_REG_BASE + 0x020)</span>
<span class="cp">#define	AR9170_TIMER_REG_CONTROL		(AR9170_TIMER_REG_BASE + 0x024)</span>
<span class="cp">#define		AR9170_TIMER_CTRL_DISABLE_CLOCK		0x100</span>

<span class="cp">#define	AR9170_TIMER_REG_INTERRUPT		(AR9170_TIMER_REG_BASE + 0x028)</span>
<span class="cp">#define		AR9170_TIMER_INT_TIMER0			0x001</span>
<span class="cp">#define		AR9170_TIMER_INT_TIMER1			0x002</span>
<span class="cp">#define		AR9170_TIMER_INT_TIMER2			0x004</span>
<span class="cp">#define		AR9170_TIMER_INT_TIMER3			0x008</span>
<span class="cp">#define		AR9170_TIMER_INT_TIMER4			0x010</span>
<span class="cp">#define		AR9170_TIMER_INT_TICK_TIMER		0x100</span>

<span class="cp">#define	AR9170_TIMER_REG_TICK_TIMER		(AR9170_TIMER_REG_BASE + 0x030)</span>
<span class="cp">#define	AR9170_TIMER_REG_CLOCK_LOW		(AR9170_TIMER_REG_BASE + 0x040)</span>
<span class="cp">#define	AR9170_TIMER_REG_CLOCK_HIGH		(AR9170_TIMER_REG_BASE + 0x044)</span>

<span class="cp">#define	AR9170_MAC_REG_BASE			0x1c3000</span>

<span class="cp">#define	AR9170_MAC_REG_POWER_STATE_CTRL		(AR9170_MAC_REG_BASE + 0x500)</span>
<span class="cp">#define		AR9170_MAC_POWER_STATE_CTRL_RESET	0x20</span>

<span class="cp">#define	AR9170_MAC_REG_MAC_POWER_STATE_CTRL	(AR9170_MAC_REG_BASE + 0x50c)</span>

<span class="cp">#define	AR9170_MAC_REG_INT_CTRL			(AR9170_MAC_REG_BASE + 0x510)</span>
<span class="cp">#define		AR9170_MAC_INT_TXC			BIT(0)</span>
<span class="cp">#define		AR9170_MAC_INT_RXC			BIT(1)</span>
<span class="cp">#define		AR9170_MAC_INT_RETRY_FAIL		BIT(2)</span>
<span class="cp">#define		AR9170_MAC_INT_WAKEUP			BIT(3)</span>
<span class="cp">#define		AR9170_MAC_INT_ATIM			BIT(4)</span>
<span class="cp">#define		AR9170_MAC_INT_DTIM			BIT(5)</span>
<span class="cp">#define		AR9170_MAC_INT_CFG_BCN			BIT(6)</span>
<span class="cp">#define		AR9170_MAC_INT_ABORT			BIT(7)</span>
<span class="cp">#define		AR9170_MAC_INT_QOS			BIT(8)</span>
<span class="cp">#define		AR9170_MAC_INT_MIMO_PS			BIT(9)</span>
<span class="cp">#define		AR9170_MAC_INT_KEY_GEN			BIT(10)</span>
<span class="cp">#define		AR9170_MAC_INT_DECRY_NOUSER		BIT(11)</span>
<span class="cp">#define		AR9170_MAC_INT_RADAR			BIT(12)</span>
<span class="cp">#define		AR9170_MAC_INT_QUIET_FRAME		BIT(13)</span>
<span class="cp">#define		AR9170_MAC_INT_PRETBTT			BIT(14)</span>

<span class="cp">#define	AR9170_MAC_REG_TSF_L			(AR9170_MAC_REG_BASE + 0x514)</span>
<span class="cp">#define	AR9170_MAC_REG_TSF_H			(AR9170_MAC_REG_BASE + 0x518)</span>

<span class="cp">#define	AR9170_MAC_REG_ATIM_WINDOW		(AR9170_MAC_REG_BASE + 0x51c)</span>
<span class="cp">#define		AR9170_MAC_ATIM_PERIOD_S		0</span>
<span class="cp">#define		AR9170_MAC_ATIM_PERIOD			0x0000ffff</span>

<span class="cp">#define	AR9170_MAC_REG_BCN_PERIOD		(AR9170_MAC_REG_BASE + 0x520)</span>
<span class="cp">#define		AR9170_MAC_BCN_PERIOD_S			0</span>
<span class="cp">#define		AR9170_MAC_BCN_PERIOD			0x0000ffff</span>
<span class="cp">#define		AR9170_MAC_BCN_DTIM_S			16</span>
<span class="cp">#define		AR9170_MAC_BCN_DTIM			0x00ff0000</span>
<span class="cp">#define		AR9170_MAC_BCN_AP_MODE			BIT(24)</span>
<span class="cp">#define		AR9170_MAC_BCN_IBSS_MODE		BIT(25)</span>
<span class="cp">#define		AR9170_MAC_BCN_PWR_MGT			BIT(26)</span>
<span class="cp">#define		AR9170_MAC_BCN_STA_PS			BIT(27)</span>

<span class="cp">#define	AR9170_MAC_REG_PRETBTT			(AR9170_MAC_REG_BASE + 0x524)</span>
<span class="cp">#define		AR9170_MAC_PRETBTT_S			0</span>
<span class="cp">#define		AR9170_MAC_PRETBTT			0x0000ffff</span>
<span class="cp">#define		AR9170_MAC_PRETBTT2_S			16</span>
<span class="cp">#define		AR9170_MAC_PRETBTT2			0xffff0000</span>

<span class="cp">#define	AR9170_MAC_REG_MAC_ADDR_L		(AR9170_MAC_REG_BASE + 0x610)</span>
<span class="cp">#define	AR9170_MAC_REG_MAC_ADDR_H		(AR9170_MAC_REG_BASE + 0x614)</span>
<span class="cp">#define	AR9170_MAC_REG_BSSID_L			(AR9170_MAC_REG_BASE + 0x618)</span>
<span class="cp">#define	AR9170_MAC_REG_BSSID_H			(AR9170_MAC_REG_BASE + 0x61c)</span>

<span class="cp">#define	AR9170_MAC_REG_GROUP_HASH_TBL_L		(AR9170_MAC_REG_BASE + 0x624)</span>
<span class="cp">#define	AR9170_MAC_REG_GROUP_HASH_TBL_H		(AR9170_MAC_REG_BASE + 0x628)</span>

<span class="cp">#define	AR9170_MAC_REG_RX_TIMEOUT		(AR9170_MAC_REG_BASE + 0x62c)</span>

<span class="cp">#define	AR9170_MAC_REG_BASIC_RATE		(AR9170_MAC_REG_BASE + 0x630)</span>
<span class="cp">#define	AR9170_MAC_REG_MANDATORY_RATE		(AR9170_MAC_REG_BASE + 0x634)</span>
<span class="cp">#define	AR9170_MAC_REG_RTS_CTS_RATE		(AR9170_MAC_REG_BASE + 0x638)</span>
<span class="cp">#define	AR9170_MAC_REG_BACKOFF_PROTECT		(AR9170_MAC_REG_BASE + 0x63c)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_THRESHOLD		(AR9170_MAC_REG_BASE + 0x640)</span>
<span class="cp">#define	AR9170_MAC_REG_AFTER_PNP		(AR9170_MAC_REG_BASE + 0x648)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_PE_DELAY		(AR9170_MAC_REG_BASE + 0x64c)</span>

<span class="cp">#define	AR9170_MAC_REG_DYNAMIC_SIFS_ACK		(AR9170_MAC_REG_BASE + 0x658)</span>
<span class="cp">#define	AR9170_MAC_REG_SNIFFER			(AR9170_MAC_REG_BASE + 0x674)</span>
<span class="cp">#define		AR9170_MAC_SNIFFER_ENABLE_PROMISC	BIT(0)</span>
<span class="cp">#define		AR9170_MAC_SNIFFER_DEFAULTS		0x02000000</span>
<span class="cp">#define	AR9170_MAC_REG_ENCRYPTION		(AR9170_MAC_REG_BASE + 0x678)</span>
<span class="cp">#define		AR9170_MAC_ENCRYPTION_MGMT_RX_SOFTWARE	BIT(2)</span>
<span class="cp">#define		AR9170_MAC_ENCRYPTION_RX_SOFTWARE	BIT(3)</span>
<span class="cp">#define		AR9170_MAC_ENCRYPTION_DEFAULTS		0x70</span>

<span class="cp">#define	AR9170_MAC_REG_MISC_680			(AR9170_MAC_REG_BASE + 0x680)</span>
<span class="cp">#define	AR9170_MAC_REG_MISC_684			(AR9170_MAC_REG_BASE + 0x684)</span>
<span class="cp">#define	AR9170_MAC_REG_TX_UNDERRUN		(AR9170_MAC_REG_BASE + 0x688)</span>

<span class="cp">#define	AR9170_MAC_REG_FRAMETYPE_FILTER		(AR9170_MAC_REG_BASE + 0x68c)</span>
<span class="cp">#define		AR9170_MAC_FTF_ASSOC_REQ		BIT(0)</span>
<span class="cp">#define		AR9170_MAC_FTF_ASSOC_RESP		BIT(1)</span>
<span class="cp">#define		AR9170_MAC_FTF_REASSOC_REQ		BIT(2)</span>
<span class="cp">#define		AR9170_MAC_FTF_REASSOC_RESP		BIT(3)</span>
<span class="cp">#define		AR9170_MAC_FTF_PRB_REQ			BIT(4)</span>
<span class="cp">#define		AR9170_MAC_FTF_PRB_RESP			BIT(5)</span>
<span class="cp">#define		AR9170_MAC_FTF_BIT6			BIT(6)</span>
<span class="cp">#define		AR9170_MAC_FTF_BIT7			BIT(7)</span>
<span class="cp">#define		AR9170_MAC_FTF_BEACON			BIT(8)</span>
<span class="cp">#define		AR9170_MAC_FTF_ATIM			BIT(9)</span>
<span class="cp">#define		AR9170_MAC_FTF_DEASSOC			BIT(10)</span>
<span class="cp">#define		AR9170_MAC_FTF_AUTH			BIT(11)</span>
<span class="cp">#define		AR9170_MAC_FTF_DEAUTH			BIT(12)</span>
<span class="cp">#define		AR9170_MAC_FTF_BIT13			BIT(13)</span>
<span class="cp">#define		AR9170_MAC_FTF_BIT14			BIT(14)</span>
<span class="cp">#define		AR9170_MAC_FTF_BIT15			BIT(15)</span>
<span class="cp">#define		AR9170_MAC_FTF_BAR			BIT(24)</span>
<span class="cp">#define		AR9170_MAC_FTF_BA			BIT(25)</span>
<span class="cp">#define		AR9170_MAC_FTF_PSPOLL			BIT(26)</span>
<span class="cp">#define		AR9170_MAC_FTF_RTS			BIT(27)</span>
<span class="cp">#define		AR9170_MAC_FTF_CTS			BIT(28)</span>
<span class="cp">#define		AR9170_MAC_FTF_ACK			BIT(29)</span>
<span class="cp">#define		AR9170_MAC_FTF_CFE			BIT(30)</span>
<span class="cp">#define		AR9170_MAC_FTF_CFE_ACK			BIT(31)</span>
<span class="cp">#define		AR9170_MAC_FTF_DEFAULTS			0x0500ffff</span>
<span class="cp">#define		AR9170_MAC_FTF_MONITOR			0xff00ffff</span>

<span class="cp">#define	AR9170_MAC_REG_ACK_EXTENSION		(AR9170_MAC_REG_BASE + 0x690)</span>
<span class="cp">#define	AR9170_MAC_REG_ACK_TPC			(AR9170_MAC_REG_BASE + 0x694)</span>
<span class="cp">#define	AR9170_MAC_REG_EIFS_AND_SIFS		(AR9170_MAC_REG_BASE + 0x698)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_TIMEOUT_COUNT		(AR9170_MAC_REG_BASE + 0x69c)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_TOTAL			(AR9170_MAC_REG_BASE + 0x6a0)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_CRC32			(AR9170_MAC_REG_BASE + 0x6a4)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_CRC16			(AR9170_MAC_REG_BASE + 0x6a8)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_ERR_DECRYPTION_UNI	(AR9170_MAC_REG_BASE + 0x6ac)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_OVERRUN		(AR9170_MAC_REG_BASE + 0x6b0)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_ERR_DECRYPTION_MUL	(AR9170_MAC_REG_BASE + 0x6bc)</span>
<span class="cp">#define AR9170_MAC_REG_TX_BLOCKACKS		(AR9170_MAC_REG_BASE + 0x6c0)</span>
<span class="cp">#define AR9170_MAC_REG_NAV_COUNT		(AR9170_MAC_REG_BASE + 0x6c4)</span>
<span class="cp">#define AR9170_MAC_REG_BACKOFF_STATUS		(AR9170_MAC_REG_BASE + 0x6c8)</span>
<span class="cp">#define		AR9170_MAC_BACKOFF_CCA			BIT(24)</span>
<span class="cp">#define		AR9170_MAC_BACKOFF_TX_PEX		BIT(25)</span>
<span class="cp">#define		AR9170_MAC_BACKOFF_RX_PE		BIT(26)</span>
<span class="cp">#define		AR9170_MAC_BACKOFF_MD_READY		BIT(27)</span>
<span class="cp">#define		AR9170_MAC_BACKOFF_TX_PE		BIT(28)</span>

<span class="cp">#define	AR9170_MAC_REG_TX_RETRY			(AR9170_MAC_REG_BASE + 0x6cc)</span>

<span class="cp">#define AR9170_MAC_REG_TX_COMPLETE		(AR9170_MAC_REG_BASE + 0x6d4)</span>

<span class="cp">#define	AR9170_MAC_REG_CHANNEL_BUSY		(AR9170_MAC_REG_BASE + 0x6e8)</span>
<span class="cp">#define	AR9170_MAC_REG_EXT_BUSY			(AR9170_MAC_REG_BASE + 0x6ec)</span>

<span class="cp">#define	AR9170_MAC_REG_SLOT_TIME		(AR9170_MAC_REG_BASE + 0x6f0)</span>
<span class="cp">#define	AR9170_MAC_REG_TX_TOTAL			(AR9170_MAC_REG_BASE + 0x6f4)</span>
<span class="cp">#define AR9170_MAC_REG_ACK_FC			(AR9170_MAC_REG_BASE + 0x6f8)</span>

<span class="cp">#define	AR9170_MAC_REG_CAM_MODE			(AR9170_MAC_REG_BASE + 0x700)</span>
<span class="cp">#define		AR9170_MAC_CAM_IBSS			0xe0</span>
<span class="cp">#define		AR9170_MAC_CAM_AP			0xa1</span>
<span class="cp">#define		AR9170_MAC_CAM_STA			0x2</span>
<span class="cp">#define		AR9170_MAC_CAM_AP_WDS			0x3</span>
<span class="cp">#define		AR9170_MAC_CAM_DEFAULTS			(0xf &lt;&lt; 24)</span>
<span class="cp">#define		AR9170_MAC_CAM_HOST_PENDING		0x80000000</span>

<span class="cp">#define	AR9170_MAC_REG_CAM_ROLL_CALL_TBL_L	(AR9170_MAC_REG_BASE + 0x704)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_ROLL_CALL_TBL_H	(AR9170_MAC_REG_BASE + 0x708)</span>

<span class="cp">#define	AR9170_MAC_REG_CAM_ADDR			(AR9170_MAC_REG_BASE + 0x70c)</span>
<span class="cp">#define		AR9170_MAC_CAM_ADDR_WRITE		0x80000000</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_DATA0		(AR9170_MAC_REG_BASE + 0x720)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_DATA1		(AR9170_MAC_REG_BASE + 0x724)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_DATA2		(AR9170_MAC_REG_BASE + 0x728)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_DATA3		(AR9170_MAC_REG_BASE + 0x72c)</span>

<span class="cp">#define	AR9170_MAC_REG_CAM_DBG0			(AR9170_MAC_REG_BASE + 0x730)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_DBG1			(AR9170_MAC_REG_BASE + 0x734)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_DBG2			(AR9170_MAC_REG_BASE + 0x738)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_STATE		(AR9170_MAC_REG_BASE + 0x73c)</span>
<span class="cp">#define		AR9170_MAC_CAM_STATE_READ_PENDING	0x40000000</span>
<span class="cp">#define		AR9170_MAC_CAM_STATE_WRITE_PENDING	0x80000000</span>

<span class="cp">#define	AR9170_MAC_REG_CAM_TXKEY		(AR9170_MAC_REG_BASE + 0x740)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_RXKEY		(AR9170_MAC_REG_BASE + 0x750)</span>

<span class="cp">#define	AR9170_MAC_REG_CAM_TX_ENC_TYPE		(AR9170_MAC_REG_BASE + 0x760)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_RX_ENC_TYPE		(AR9170_MAC_REG_BASE + 0x770)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_TX_SERACH_HIT	(AR9170_MAC_REG_BASE + 0x780)</span>
<span class="cp">#define	AR9170_MAC_REG_CAM_RX_SERACH_HIT	(AR9170_MAC_REG_BASE + 0x790)</span>

<span class="cp">#define	AR9170_MAC_REG_AC0_CW			(AR9170_MAC_REG_BASE + 0xb00)</span>
<span class="cp">#define	AR9170_MAC_REG_AC1_CW			(AR9170_MAC_REG_BASE + 0xb04)</span>
<span class="cp">#define	AR9170_MAC_REG_AC2_CW			(AR9170_MAC_REG_BASE + 0xb08)</span>
<span class="cp">#define	AR9170_MAC_REG_AC3_CW			(AR9170_MAC_REG_BASE + 0xb0c)</span>
<span class="cp">#define	AR9170_MAC_REG_AC4_CW			(AR9170_MAC_REG_BASE + 0xb10)</span>
<span class="cp">#define	AR9170_MAC_REG_AC2_AC1_AC0_AIFS		(AR9170_MAC_REG_BASE + 0xb14)</span>
<span class="cp">#define	AR9170_MAC_REG_AC4_AC3_AC2_AIFS		(AR9170_MAC_REG_BASE + 0xb18)</span>
<span class="cp">#define AR9170_MAC_REG_TXOP_ACK_EXTENSION	(AR9170_MAC_REG_BASE + 0xb1c)</span>
<span class="cp">#define AR9170_MAC_REG_TXOP_ACK_INTERVAL	(AR9170_MAC_REG_BASE + 0xb20)</span>
<span class="cp">#define AR9170_MAC_REG_CONTENTION_POINT		(AR9170_MAC_REG_BASE + 0xb24)</span>
<span class="cp">#define	AR9170_MAC_REG_RETRY_MAX		(AR9170_MAC_REG_BASE + 0xb28)</span>
<span class="cp">#define AR9170_MAC_REG_TID_CFACK_CFEND_RATE	(AR9170_MAC_REG_BASE + 0xb2c)</span>
<span class="cp">#define	AR9170_MAC_REG_TXOP_NOT_ENOUGH_IND	(AR9170_MAC_REG_BASE + 0xb30)</span>
<span class="cp">#define AR9170_MAC_REG_TKIP_TSC			(AR9170_MAC_REG_BASE + 0xb34)</span>
<span class="cp">#define AR9170_MAC_REG_TXOP_DURATION		(AR9170_MAC_REG_BASE + 0xb38)</span>
<span class="cp">#define AR9170_MAC_REG_TX_QOS_THRESHOLD		(AR9170_MAC_REG_BASE + 0xb3c)</span>
<span class="cp">#define	AR9170_MAC_REG_QOS_PRIORITY_VIRTUAL_CCA	(AR9170_MAC_REG_BASE + 0xb40)</span>
<span class="cp">#define		AR9170_MAC_VIRTUAL_CCA_Q0		BIT(15)</span>
<span class="cp">#define		AR9170_MAC_VIRTUAL_CCA_Q1		BIT(16)</span>
<span class="cp">#define		AR9170_MAC_VIRTUAL_CCA_Q2		BIT(17)</span>
<span class="cp">#define		AR9170_MAC_VIRTUAL_CCA_Q3		BIT(18)</span>
<span class="cp">#define		AR9170_MAC_VIRTUAL_CCA_Q4		BIT(19)</span>
<span class="cp">#define		AR9170_MAC_VIRTUAL_CCA_ALL		(0xf8000)</span>

<span class="cp">#define	AR9170_MAC_REG_AC1_AC0_TXOP		(AR9170_MAC_REG_BASE + 0xb44)</span>
<span class="cp">#define	AR9170_MAC_REG_AC3_AC2_TXOP		(AR9170_MAC_REG_BASE + 0xb48)</span>

<span class="cp">#define	AR9170_MAC_REG_AMPDU_COUNT		(AR9170_MAC_REG_BASE + 0xb88)</span>
<span class="cp">#define	AR9170_MAC_REG_MPDU_COUNT		(AR9170_MAC_REG_BASE + 0xb8c)</span>

<span class="cp">#define	AR9170_MAC_REG_AMPDU_FACTOR		(AR9170_MAC_REG_BASE + 0xb9c)</span>
<span class="cp">#define		AR9170_MAC_AMPDU_FACTOR			0x7f0000</span>
<span class="cp">#define		AR9170_MAC_AMPDU_FACTOR_S		16</span>
<span class="cp">#define	AR9170_MAC_REG_AMPDU_DENSITY		(AR9170_MAC_REG_BASE + 0xba0)</span>
<span class="cp">#define		AR9170_MAC_AMPDU_DENSITY		0x7</span>
<span class="cp">#define		AR9170_MAC_AMPDU_DENSITY_S		0</span>

<span class="cp">#define	AR9170_MAC_REG_FCS_SELECT		(AR9170_MAC_REG_BASE + 0xbb0)</span>
<span class="cp">#define		AR9170_MAC_FCS_SWFCS			0x1</span>
<span class="cp">#define		AR9170_MAC_FCS_FIFO_PROT		0x4</span>

<span class="cp">#define	AR9170_MAC_REG_RTS_CTS_TPC		(AR9170_MAC_REG_BASE + 0xbb4)</span>
<span class="cp">#define AR9170_MAC_REG_CFEND_QOSNULL_TPC	(AR9170_MAC_REG_BASE + 0xbb8)</span>

<span class="cp">#define	AR9170_MAC_REG_ACK_TABLE		(AR9170_MAC_REG_BASE + 0xc00)</span>
<span class="cp">#define AR9170_MAC_REG_RX_CONTROL		(AR9170_MAC_REG_BASE + 0xc40)</span>
<span class="cp">#define		AR9170_MAC_RX_CTRL_DEAGG		0x1</span>
<span class="cp">#define		AR9170_MAC_RX_CTRL_SHORT_FILTER		0x2</span>
<span class="cp">#define		AR9170_MAC_RX_CTRL_SA_DA_SEARCH		0x20</span>
<span class="cp">#define		AR9170_MAC_RX_CTRL_PASS_TO_HOST		BIT(28)</span>
<span class="cp">#define		AR9170_MAC_RX_CTRL_ACK_IN_SNIFFER	BIT(30)</span>

<span class="cp">#define AR9170_MAC_REG_RX_CONTROL_1		(AR9170_MAC_REG_BASE + 0xc44)</span>

<span class="cp">#define	AR9170_MAC_REG_AMPDU_RX_THRESH		(AR9170_MAC_REG_BASE + 0xc50)</span>

<span class="cp">#define	AR9170_MAC_REG_RX_MPDU			(AR9170_MAC_REG_BASE + 0xca0)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_DROPPED_MPDU		(AR9170_MAC_REG_BASE + 0xca4)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_DEL_MPDU		(AR9170_MAC_REG_BASE + 0xca8)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_PHY_MISC_ERROR	(AR9170_MAC_REG_BASE + 0xcac)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_PHY_XR_ERROR		(AR9170_MAC_REG_BASE + 0xcb0)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_PHY_OFDM_ERROR	(AR9170_MAC_REG_BASE + 0xcb4)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_PHY_CCK_ERROR		(AR9170_MAC_REG_BASE + 0xcb8)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_PHY_HT_ERROR		(AR9170_MAC_REG_BASE + 0xcbc)</span>
<span class="cp">#define	AR9170_MAC_REG_RX_PHY_TOTAL		(AR9170_MAC_REG_BASE + 0xcc0)</span>

<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ_ADDR		(AR9170_MAC_REG_BASE + 0xd00)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ_CURR_ADDR	(AR9170_MAC_REG_BASE + 0xd04)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ0_ADDR		(AR9170_MAC_REG_BASE + 0xd00)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ0_CURR_ADDR	(AR9170_MAC_REG_BASE + 0xd04)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ1_ADDR		(AR9170_MAC_REG_BASE + 0xd08)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ1_CURR_ADDR	(AR9170_MAC_REG_BASE + 0xd0c)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ2_ADDR		(AR9170_MAC_REG_BASE + 0xd10)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ2_CURR_ADDR	(AR9170_MAC_REG_BASE + 0xd14)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ3_ADDR		(AR9170_MAC_REG_BASE + 0xd18)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ3_CURR_ADDR	(AR9170_MAC_REG_BASE + 0xd1c)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ4_ADDR		(AR9170_MAC_REG_BASE + 0xd20)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ4_CURR_ADDR	(AR9170_MAC_REG_BASE + 0xd24)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_RXQ_ADDR		(AR9170_MAC_REG_BASE + 0xd28)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_RXQ_CURR_ADDR	(AR9170_MAC_REG_BASE + 0xd2c)</span>

<span class="cp">#define	AR9170_MAC_REG_DMA_TRIGGER		(AR9170_MAC_REG_BASE + 0xd30)</span>
<span class="cp">#define		AR9170_DMA_TRIGGER_TXQ0			BIT(0)</span>
<span class="cp">#define		AR9170_DMA_TRIGGER_TXQ1			BIT(1)</span>
<span class="cp">#define		AR9170_DMA_TRIGGER_TXQ2			BIT(2)</span>
<span class="cp">#define		AR9170_DMA_TRIGGER_TXQ3			BIT(3)</span>
<span class="cp">#define		AR9170_DMA_TRIGGER_TXQ4			BIT(4)</span>
<span class="cp">#define		AR9170_DMA_TRIGGER_RXQ			BIT(8)</span>

<span class="cp">#define AR9170_MAC_REG_DMA_WLAN_STATUS		(AR9170_MAC_REG_BASE + 0xd38)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_STATUS		(AR9170_MAC_REG_BASE + 0xd3c)</span>
<span class="cp">#define AR9170_MAC_REG_DMA_TXQ_LAST_ADDR	(AR9170_MAC_REG_BASE + 0xd40)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ0_LAST_ADDR	(AR9170_MAC_REG_BASE + 0xd40)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ1_LAST_ADDR	(AR9170_MAC_REG_BASE + 0xd44)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ2_LAST_ADDR	(AR9170_MAC_REG_BASE + 0xd48)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ3_LAST_ADDR	(AR9170_MAC_REG_BASE + 0xd4c)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ4_LAST_ADDR	(AR9170_MAC_REG_BASE + 0xd50)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ0Q1_LEN		(AR9170_MAC_REG_BASE + 0xd54)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ2Q3_LEN		(AR9170_MAC_REG_BASE + 0xd58)</span>
<span class="cp">#define	AR9170_MAC_REG_DMA_TXQ4_LEN		(AR9170_MAC_REG_BASE + 0xd5c)</span>

<span class="cp">#define AR9170_MAC_REG_DMA_TXQX_LAST_ADDR	(AR9170_MAC_REG_BASE + 0xd74)</span>
<span class="cp">#define AR9170_MAC_REG_DMA_TXQX_FAIL_ADDR	(AR9170_MAC_REG_BASE + 0xd78)</span>
<span class="cp">#define	AR9170_MAC_REG_TXRX_MPI			(AR9170_MAC_REG_BASE + 0xd7c)</span>
<span class="cp">#define		AR9170_MAC_TXRX_MPI_TX_MPI_MASK		0x0000000f</span>
<span class="cp">#define		AR9170_MAC_TXRX_MPI_TX_TO_MASK		0x0000fff0</span>
<span class="cp">#define		AR9170_MAC_TXRX_MPI_RX_MPI_MASK		0x000f0000</span>
<span class="cp">#define		AR9170_MAC_TXRX_MPI_RX_TO_MASK		0xfff00000</span>

<span class="cp">#define	AR9170_MAC_REG_BCN_ADDR			(AR9170_MAC_REG_BASE + 0xd84)</span>
<span class="cp">#define	AR9170_MAC_REG_BCN_LENGTH		(AR9170_MAC_REG_BASE + 0xd88)</span>
<span class="cp">#define		AR9170_MAC_BCN_LENGTH_MAX		256</span>

<span class="cp">#define AR9170_MAC_REG_BCN_STATUS		(AR9170_MAC_REG_BASE + 0xd8c)</span>

<span class="cp">#define	AR9170_MAC_REG_BCN_PLCP			(AR9170_MAC_REG_BASE + 0xd90)</span>
<span class="cp">#define	AR9170_MAC_REG_BCN_CTRL			(AR9170_MAC_REG_BASE + 0xd94)</span>
<span class="cp">#define		AR9170_BCN_CTRL_READY			0x01</span>
<span class="cp">#define		AR9170_BCN_CTRL_LOCK			0x02</span>

<span class="cp">#define AR9170_MAC_REG_BCN_CURR_ADDR		(AR9170_MAC_REG_BASE + 0xd98)</span>
<span class="cp">#define	AR9170_MAC_REG_BCN_COUNT		(AR9170_MAC_REG_BASE + 0xd9c)</span>
<span class="cp">#define	AR9170_MAC_REG_BCN_HT1			(AR9170_MAC_REG_BASE + 0xda0)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_HT_EN		BIT(0)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_GF_PMB		BIT(1)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_SP_EXP		BIT(2)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_TX_BF		BIT(3)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_PWR_CTRL_S		4</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_PWR_CTRL		0x70</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_TX_ANT1		BIT(7)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_TX_ANT0		BIT(8)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_NUM_LFT_S		9</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_NUM_LFT		0x600</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_BWC_20M_EXT		BIT(16)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_BWC_40M_SHARED	BIT(17)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_BWC_40M_DUP		(BIT(16) | BIT(17))</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_BF_MCS_S		18</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_BF_MCS		0x1c0000</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_TPC_S		21</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_TPC			0x7e00000</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_CHAIN_MASK_S		27</span>
<span class="cp">#define		AR9170_MAC_BCN_HT1_CHAIN_MASK		0x38000000</span>

<span class="cp">#define	AR9170_MAC_REG_BCN_HT2			(AR9170_MAC_REG_BASE + 0xda4)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_MCS_S		0</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_MCS			0x7f</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_BW40			BIT(8)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_SMOOTHING		BIT(9)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_SS			BIT(10)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_NSS			BIT(11)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_STBC_S		12</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_STBC			0x3000</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_ADV_COD		BIT(14)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_SGI			BIT(15)</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_LEN_S		16</span>
<span class="cp">#define		AR9170_MAC_BCN_HT2_LEN			0xffff0000</span>

<span class="cp">#define	AR9170_MAC_REG_DMA_TXQX_ADDR_CURR	(AR9170_MAC_REG_BASE + 0xdc0)</span>

<span class="cm">/* Random number generator */</span>
<span class="cp">#define	AR9170_RAND_REG_BASE			0x1d0000</span>

<span class="cp">#define	AR9170_RAND_REG_NUM			(AR9170_RAND_REG_BASE + 0x000)</span>
<span class="cp">#define	AR9170_RAND_REG_MODE			(AR9170_RAND_REG_BASE + 0x004)</span>
<span class="cp">#define		AR9170_RAND_MODE_MANUAL			0x000</span>
<span class="cp">#define		AR9170_RAND_MODE_FREE			0x001</span>

<span class="cm">/* GPIO */</span>
<span class="cp">#define	AR9170_GPIO_REG_BASE			0x1d0100</span>
<span class="cp">#define	AR9170_GPIO_REG_PORT_TYPE		(AR9170_GPIO_REG_BASE + 0x000)</span>
<span class="cp">#define	AR9170_GPIO_REG_PORT_DATA		(AR9170_GPIO_REG_BASE + 0x004)</span>
<span class="cp">#define		AR9170_GPIO_PORT_LED_0			1</span>
<span class="cp">#define		AR9170_GPIO_PORT_LED_1			2</span>
<span class="cm">/* WPS Button GPIO for TP-Link TL-WN821N */</span>
<span class="cp">#define		AR9170_GPIO_PORT_WPS_BUTTON_PRESSED	4</span>

<span class="cm">/* Memory Controller */</span>
<span class="cp">#define	AR9170_MC_REG_BASE			0x1d1000</span>

<span class="cp">#define	AR9170_MC_REG_FLASH_WAIT_STATE		(AR9170_MC_REG_BASE + 0x000)</span>
<span class="cp">#define	AR9170_MC_REG_SEEPROM_WP0		(AR9170_MC_REG_BASE + 0x400)</span>
<span class="cp">#define	AR9170_MC_REG_SEEPROM_WP1		(AR9170_MC_REG_BASE + 0x404)</span>
<span class="cp">#define	AR9170_MC_REG_SEEPROM_WP2		(AR9170_MC_REG_BASE + 0x408)</span>

<span class="cm">/* Interrupt Controller */</span>
<span class="cp">#define	AR9170_MAX_INT_SRC			9</span>
<span class="cp">#define	AR9170_INT_REG_BASE			0x1d2000</span>

<span class="cp">#define	AR9170_INT_REG_FLAG			(AR9170_INT_REG_BASE + 0x000)</span>
<span class="cp">#define	AR9170_INT_REG_FIQ_MASK			(AR9170_INT_REG_BASE + 0x004)</span>
<span class="cp">#define	AR9170_INT_REG_IRQ_MASK			(AR9170_INT_REG_BASE + 0x008)</span>
<span class="cm">/* INT_REG_FLAG, INT_REG_FIQ_MASK and INT_REG_IRQ_MASK */</span>
<span class="cp">#define		AR9170_INT_FLAG_WLAN			0x001</span>
<span class="cp">#define		AR9170_INT_FLAG_PTAB_BIT		0x002</span>
<span class="cp">#define		AR9170_INT_FLAG_SE_BIT			0x004</span>
<span class="cp">#define		AR9170_INT_FLAG_UART_BIT		0x008</span>
<span class="cp">#define		AR9170_INT_FLAG_TIMER_BIT		0x010</span>
<span class="cp">#define		AR9170_INT_FLAG_EXT_BIT			0x020</span>
<span class="cp">#define		AR9170_INT_FLAG_SW_BIT			0x040</span>
<span class="cp">#define		AR9170_INT_FLAG_USB_BIT			0x080</span>
<span class="cp">#define		AR9170_INT_FLAG_ETHERNET_BIT		0x100</span>

<span class="cp">#define	AR9170_INT_REG_PRIORITY1		(AR9170_INT_REG_BASE + 0x00c)</span>
<span class="cp">#define	AR9170_INT_REG_PRIORITY2		(AR9170_INT_REG_BASE + 0x010)</span>
<span class="cp">#define	AR9170_INT_REG_PRIORITY3		(AR9170_INT_REG_BASE + 0x014)</span>
<span class="cp">#define	AR9170_INT_REG_EXT_INT_CONTROL		(AR9170_INT_REG_BASE + 0x018)</span>
<span class="cp">#define	AR9170_INT_REG_SW_INT_CONTROL		(AR9170_INT_REG_BASE + 0x01c)</span>
<span class="cp">#define		AR9170_INT_SW_INT_ENABLE		0x1</span>

<span class="cp">#define	AR9170_INT_REG_FIQ_ENCODE		(AR9170_INT_REG_BASE + 0x020)</span>
<span class="cp">#define	AR9170_INT_INT_IRQ_ENCODE		(AR9170_INT_REG_BASE + 0x024)</span>

<span class="cm">/* Power Management */</span>
<span class="cp">#define	AR9170_PWR_REG_BASE			0x1d4000</span>

<span class="cp">#define AR9170_PWR_REG_POWER_STATE		(AR9170_PWR_REG_BASE + 0x000)</span>

<span class="cp">#define	AR9170_PWR_REG_RESET			(AR9170_PWR_REG_BASE + 0x004)</span>
<span class="cp">#define		AR9170_PWR_RESET_COMMIT_RESET_MASK	BIT(0)</span>
<span class="cp">#define		AR9170_PWR_RESET_WLAN_MASK		BIT(1)</span>
<span class="cp">#define		AR9170_PWR_RESET_DMA_MASK		BIT(2)</span>
<span class="cp">#define		AR9170_PWR_RESET_BRIDGE_MASK		BIT(3)</span>
<span class="cp">#define		AR9170_PWR_RESET_AHB_MASK		BIT(9)</span>
<span class="cp">#define		AR9170_PWR_RESET_BB_WARM_RESET		BIT(10)</span>
<span class="cp">#define		AR9170_PWR_RESET_BB_COLD_RESET		BIT(11)</span>
<span class="cp">#define		AR9170_PWR_RESET_ADDA_CLK_COLD_RESET	BIT(12)</span>
<span class="cp">#define		AR9170_PWR_RESET_PLL			BIT(13)</span>
<span class="cp">#define		AR9170_PWR_RESET_USB_PLL		BIT(14)</span>

<span class="cp">#define	AR9170_PWR_REG_CLOCK_SEL		(AR9170_PWR_REG_BASE + 0x008)</span>
<span class="cp">#define		AR9170_PWR_CLK_AHB_40MHZ		0</span>
<span class="cp">#define		AR9170_PWR_CLK_AHB_20_22MHZ		1</span>
<span class="cp">#define		AR9170_PWR_CLK_AHB_40_44MHZ		2</span>
<span class="cp">#define		AR9170_PWR_CLK_AHB_80_88MHZ		3</span>
<span class="cp">#define		AR9170_PWR_CLK_DAC_160_INV_DLY		0x70</span>

<span class="cp">#define	AR9170_PWR_REG_CHIP_REVISION		(AR9170_PWR_REG_BASE + 0x010)</span>
<span class="cp">#define AR9170_PWR_REG_PLL_ADDAC		(AR9170_PWR_REG_BASE + 0x014)</span>
<span class="cp">#define		AR9170_PWR_PLL_ADDAC_DIV_S		2</span>
<span class="cp">#define		AR9170_PWR_PLL_ADDAC_DIV		0xffc</span>
<span class="cp">#define	AR9170_PWR_REG_WATCH_DOG_MAGIC		(AR9170_PWR_REG_BASE + 0x020)</span>

<span class="cm">/* Faraday USB Controller */</span>
<span class="cp">#define	AR9170_USB_REG_BASE			0x1e1000</span>

<span class="cp">#define	AR9170_USB_REG_MAIN_CTRL		(AR9170_USB_REG_BASE + 0x000)</span>
<span class="cp">#define		AR9170_USB_MAIN_CTRL_REMOTE_WAKEUP	BIT(0)</span>
<span class="cp">#define		AR9170_USB_MAIN_CTRL_ENABLE_GLOBAL_INT	BIT(2)</span>
<span class="cp">#define		AR9170_USB_MAIN_CTRL_GO_TO_SUSPEND	BIT(3)</span>
<span class="cp">#define		AR9170_USB_MAIN_CTRL_RESET		BIT(4)</span>
<span class="cp">#define		AR9170_USB_MAIN_CTRL_CHIP_ENABLE	BIT(5)</span>
<span class="cp">#define		AR9170_USB_MAIN_CTRL_HIGHSPEED		BIT(6)</span>

<span class="cp">#define	AR9170_USB_REG_DEVICE_ADDRESS		(AR9170_USB_REG_BASE + 0x001)</span>
<span class="cp">#define		AR9170_USB_DEVICE_ADDRESS_CONFIGURE	BIT(7)</span>

<span class="cp">#define	AR9170_USB_REG_TEST			(AR9170_USB_REG_BASE + 0x002)</span>
<span class="cp">#define	AR9170_USB_REG_PHY_TEST_SELECT		(AR9170_USB_REG_BASE + 0x008)</span>
<span class="cp">#define	AR9170_USB_REG_CX_CONFIG_STATUS		(AR9170_USB_REG_BASE + 0x00b)</span>
<span class="cp">#define	AR9170_USB_REG_EP0_DATA			(AR9170_USB_REG_BASE + 0x00c)</span>
<span class="cp">#define	AR9170_USB_REG_EP0_DATA1		(AR9170_USB_REG_BASE + 0x00c)</span>
<span class="cp">#define	AR9170_USB_REG_EP0_DATA2		(AR9170_USB_REG_BASE + 0x00d)</span>

<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_0		(AR9170_USB_REG_BASE + 0x011)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_1		(AR9170_USB_REG_BASE + 0x012)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_2		(AR9170_USB_REG_BASE + 0x013)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_3		(AR9170_USB_REG_BASE + 0x014)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_4		(AR9170_USB_REG_BASE + 0x015)</span>
<span class="cp">#define		AR9170_USB_INTR_DISABLE_OUT_INT		(BIT(7) | BIT(6))</span>

<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_5		(AR9170_USB_REG_BASE + 0x016)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_6		(AR9170_USB_REG_BASE + 0x017)</span>
<span class="cp">#define		AR9170_USB_INTR_DISABLE_IN_INT		BIT(6)</span>

<span class="cp">#define	AR9170_USB_REG_INTR_MASK_BYTE_7		(AR9170_USB_REG_BASE + 0x018)</span>

<span class="cp">#define	AR9170_USB_REG_INTR_GROUP		(AR9170_USB_REG_BASE + 0x020)</span>

<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_0		(AR9170_USB_REG_BASE + 0x021)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC0_SETUP		BIT(0)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC0_IN			BIT(1)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC0_OUT		BIT(2)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC0_FAIL		BIT(3) </span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define		AR9170_USB_INTR_SRC0_END		BIT(4) </span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define		AR9170_USB_INTR_SRC0_ABORT		BIT(7)</span>

<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_1		(AR9170_USB_REG_BASE + 0x022)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_2		(AR9170_USB_REG_BASE + 0x023)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_3		(AR9170_USB_REG_BASE + 0x024)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_4		(AR9170_USB_REG_BASE + 0x025)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_5		(AR9170_USB_REG_BASE + 0x026)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_6		(AR9170_USB_REG_BASE + 0x027)</span>
<span class="cp">#define	AR9170_USB_REG_INTR_SOURCE_7		(AR9170_USB_REG_BASE + 0x028)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC7_USB_RESET		BIT(1)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC7_USB_SUSPEND	BIT(2)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC7_USB_RESUME		BIT(3)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC7_ISO_SEQ_ERR	BIT(4)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC7_ISO_SEQ_ABORT	BIT(5)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC7_TX0BYTE		BIT(6)</span>
<span class="cp">#define		AR9170_USB_INTR_SRC7_RX0BYTE		BIT(7)</span>

<span class="cp">#define	AR9170_USB_REG_IDLE_COUNT		(AR9170_USB_REG_BASE + 0x02f)</span>

<span class="cp">#define	AR9170_USB_REG_EP_MAP			(AR9170_USB_REG_BASE + 0x030)</span>
<span class="cp">#define	AR9170_USB_REG_EP1_MAP			(AR9170_USB_REG_BASE + 0x030)</span>
<span class="cp">#define	AR9170_USB_REG_EP2_MAP			(AR9170_USB_REG_BASE + 0x031)</span>
<span class="cp">#define	AR9170_USB_REG_EP3_MAP			(AR9170_USB_REG_BASE + 0x032)</span>
<span class="cp">#define	AR9170_USB_REG_EP4_MAP			(AR9170_USB_REG_BASE + 0x033)</span>
<span class="cp">#define	AR9170_USB_REG_EP5_MAP			(AR9170_USB_REG_BASE + 0x034)</span>
<span class="cp">#define	AR9170_USB_REG_EP6_MAP			(AR9170_USB_REG_BASE + 0x035)</span>
<span class="cp">#define	AR9170_USB_REG_EP7_MAP			(AR9170_USB_REG_BASE + 0x036)</span>
<span class="cp">#define	AR9170_USB_REG_EP8_MAP			(AR9170_USB_REG_BASE + 0x037)</span>
<span class="cp">#define	AR9170_USB_REG_EP9_MAP			(AR9170_USB_REG_BASE + 0x038)</span>
<span class="cp">#define	AR9170_USB_REG_EP10_MAP			(AR9170_USB_REG_BASE + 0x039)</span>

<span class="cp">#define	AR9170_USB_REG_EP_IN_MAX_SIZE_HIGH	(AR9170_USB_REG_BASE + 0x03f)</span>
<span class="cp">#define		AR9170_USB_EP_IN_TOGGLE			0x10</span>

<span class="cp">#define	AR9170_USB_REG_EP_IN_MAX_SIZE_LOW	(AR9170_USB_REG_BASE + 0x03e)</span>

<span class="cp">#define	AR9170_USB_REG_EP_OUT_MAX_SIZE_HIGH	(AR9170_USB_REG_BASE + 0x05f)</span>
<span class="cp">#define		AR9170_USB_EP_OUT_TOGGLE		0x10</span>

<span class="cp">#define	AR9170_USB_REG_EP_OUT_MAX_SIZE_LOW	(AR9170_USB_REG_BASE + 0x05e)</span>

<span class="cp">#define	AR9170_USB_REG_EP3_BYTE_COUNT_HIGH	(AR9170_USB_REG_BASE + 0x0ae)</span>
<span class="cp">#define	AR9170_USB_REG_EP3_BYTE_COUNT_LOW	(AR9170_USB_REG_BASE + 0x0be)</span>
<span class="cp">#define	AR9170_USB_REG_EP4_BYTE_COUNT_HIGH	(AR9170_USB_REG_BASE + 0x0af)</span>
<span class="cp">#define	AR9170_USB_REG_EP4_BYTE_COUNT_LOW	(AR9170_USB_REG_BASE + 0x0bf)</span>

<span class="cp">#define	AR9170_USB_REG_FIFO_MAP			(AR9170_USB_REG_BASE + 0x080)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO0_MAP		(AR9170_USB_REG_BASE + 0x080)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO1_MAP		(AR9170_USB_REG_BASE + 0x081)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO2_MAP		(AR9170_USB_REG_BASE + 0x082)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO3_MAP		(AR9170_USB_REG_BASE + 0x083)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO4_MAP		(AR9170_USB_REG_BASE + 0x084)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO5_MAP		(AR9170_USB_REG_BASE + 0x085)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO6_MAP		(AR9170_USB_REG_BASE + 0x086)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO7_MAP		(AR9170_USB_REG_BASE + 0x087)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO8_MAP		(AR9170_USB_REG_BASE + 0x088)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO9_MAP		(AR9170_USB_REG_BASE + 0x089)</span>

<span class="cp">#define	AR9170_USB_REG_FIFO_CONFIG		(AR9170_USB_REG_BASE + 0x090)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO0_CONFIG		(AR9170_USB_REG_BASE + 0x090)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO1_CONFIG		(AR9170_USB_REG_BASE + 0x091)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO2_CONFIG		(AR9170_USB_REG_BASE + 0x092)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO3_CONFIG		(AR9170_USB_REG_BASE + 0x093)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO4_CONFIG		(AR9170_USB_REG_BASE + 0x094)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO5_CONFIG		(AR9170_USB_REG_BASE + 0x095)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO6_CONFIG		(AR9170_USB_REG_BASE + 0x096)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO7_CONFIG		(AR9170_USB_REG_BASE + 0x097)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO8_CONFIG		(AR9170_USB_REG_BASE + 0x098)</span>
<span class="cp">#define	AR9170_USB_REG_FIFO9_CONFIG		(AR9170_USB_REG_BASE + 0x099)</span>

<span class="cp">#define	AR9170_USB_REG_EP3_DATA			(AR9170_USB_REG_BASE + 0x0f8)</span>
<span class="cp">#define	AR9170_USB_REG_EP4_DATA			(AR9170_USB_REG_BASE + 0x0fc)</span>

<span class="cp">#define	AR9170_USB_REG_FIFO_SIZE		(AR9170_USB_REG_BASE + 0x100)</span>
<span class="cp">#define	AR9170_USB_REG_DMA_CTL			(AR9170_USB_REG_BASE + 0x108)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_ENABLE_TO_DEVICE	BIT(0)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_ENABLE_FROM_DEVICE	BIT(1)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_HIGH_SPEED		BIT(2)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_UP_PACKET_MODE	BIT(3)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_UP_STREAM_S		4</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_UP_STREAM		(BIT(4) | BIT(5))</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_UP_STREAM_4K		(0)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_UP_STREAM_8K		BIT(4)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_UP_STREAM_16K	BIT(5)</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_UP_STREAM_32K	(BIT(4) | BIT(5))</span>
<span class="cp">#define		AR9170_USB_DMA_CTL_DOWN_STREAM		BIT(6)</span>

<span class="cp">#define	AR9170_USB_REG_DMA_STATUS		(AR9170_USB_REG_BASE + 0x10c)</span>
<span class="cp">#define		AR9170_USB_DMA_STATUS_UP_IDLE		BIT(8)</span>
<span class="cp">#define		AR9170_USB_DMA_STATUS_DN_IDLE		BIT(16)</span>

<span class="cp">#define	AR9170_USB_REG_MAX_AGG_UPLOAD		(AR9170_USB_REG_BASE + 0x110)</span>
<span class="cp">#define	AR9170_USB_REG_UPLOAD_TIME_CTL		(AR9170_USB_REG_BASE + 0x114)</span>

<span class="cp">#define AR9170_USB_REG_WAKE_UP			(AR9170_USB_REG_BASE + 0x120)</span>
<span class="cp">#define		AR9170_USB_WAKE_UP_WAKE			BIT(0)</span>

<span class="cp">#define	AR9170_USB_REG_CBUS_CTRL		(AR9170_USB_REG_BASE + 0x1f0)</span>
<span class="cp">#define		AR9170_USB_CBUS_CTRL_BUFFER_END		(BIT(1))</span>

<span class="cm">/* PCI/USB to AHB Bridge */</span>
<span class="cp">#define	AR9170_PTA_REG_BASE			0x1e2000</span>

<span class="cp">#define	AR9170_PTA_REG_CMD			(AR9170_PTA_REG_BASE + 0x000)</span>
<span class="cp">#define	AR9170_PTA_REG_PARAM1			(AR9170_PTA_REG_BASE + 0x004)</span>
<span class="cp">#define	AR9170_PTA_REG_PARAM2			(AR9170_PTA_REG_BASE + 0x008)</span>
<span class="cp">#define	AR9170_PTA_REG_PARAM3			(AR9170_PTA_REG_BASE + 0x00c)</span>
<span class="cp">#define	AR9170_PTA_REG_RSP			(AR9170_PTA_REG_BASE + 0x010)</span>
<span class="cp">#define	AR9170_PTA_REG_STATUS1			(AR9170_PTA_REG_BASE + 0x014)</span>
<span class="cp">#define	AR9170_PTA_REG_STATUS2			(AR9170_PTA_REG_BASE + 0x018)</span>
<span class="cp">#define	AR9170_PTA_REG_STATUS3			(AR9170_PTA_REG_BASE + 0x01c)</span>
<span class="cp">#define	AR9170_PTA_REG_AHB_INT_FLAG		(AR9170_PTA_REG_BASE + 0x020)</span>
<span class="cp">#define	AR9170_PTA_REG_AHB_INT_MASK		(AR9170_PTA_REG_BASE + 0x024)</span>
<span class="cp">#define	AR9170_PTA_REG_AHB_INT_ACK		(AR9170_PTA_REG_BASE + 0x028)</span>
<span class="cp">#define	AR9170_PTA_REG_AHB_SCRATCH1		(AR9170_PTA_REG_BASE + 0x030)</span>
<span class="cp">#define	AR9170_PTA_REG_AHB_SCRATCH2		(AR9170_PTA_REG_BASE + 0x034)</span>
<span class="cp">#define	AR9170_PTA_REG_AHB_SCRATCH3		(AR9170_PTA_REG_BASE + 0x038)</span>
<span class="cp">#define	AR9170_PTA_REG_AHB_SCRATCH4		(AR9170_PTA_REG_BASE + 0x03c)</span>

<span class="cp">#define	AR9170_PTA_REG_SHARE_MEM_CTRL		(AR9170_PTA_REG_BASE + 0x124)</span>

<span class="cm">/*</span>
<span class="cm"> * PCI to AHB Bridge</span>
<span class="cm"> */</span>

<span class="cp">#define	AR9170_PTA_REG_INT_FLAG			(AR9170_PTA_REG_BASE + 0x100)</span>
<span class="cp">#define		AR9170_PTA_INT_FLAG_DN			0x01</span>
<span class="cp">#define		AR9170_PTA_INT_FLAG_UP			0x02</span>
<span class="cp">#define		AR9170_PTA_INT_FLAG_CMD			0x04</span>

<span class="cp">#define	AR9170_PTA_REG_INT_MASK			(AR9170_PTA_REG_BASE + 0x104)</span>
<span class="cp">#define	AR9170_PTA_REG_DN_DMA_ADDRL		(AR9170_PTA_REG_BASE + 0x108)</span>
<span class="cp">#define	AR9170_PTA_REG_DN_DMA_ADDRH		(AR9170_PTA_REG_BASE + 0x10c)</span>
<span class="cp">#define	AR9170_PTA_REG_UP_DMA_ADDRL		(AR9170_PTA_REG_BASE + 0x110)</span>
<span class="cp">#define	AR9170_PTA_REG_UP_DMA_ADDRH		(AR9170_PTA_REG_BASE + 0x114)</span>
<span class="cp">#define	AR9170_PTA_REG_DN_PEND_TIME		(AR9170_PTA_REG_BASE + 0x118)</span>
<span class="cp">#define	AR9170_PTA_REG_UP_PEND_TIME		(AR9170_PTA_REG_BASE + 0x11c)</span>
<span class="cp">#define	AR9170_PTA_REG_CONTROL			(AR9170_PTA_REG_BASE + 0x120)</span>
<span class="cp">#define		AR9170_PTA_CTRL_4_BEAT_BURST		0x00</span>
<span class="cp">#define		AR9170_PTA_CTRL_8_BEAT_BURST		0x01</span>
<span class="cp">#define		AR9170_PTA_CTRL_16_BEAT_BURST		0x02</span>
<span class="cp">#define		AR9170_PTA_CTRL_LOOPBACK_MODE		0x10</span>

<span class="cp">#define	AR9170_PTA_REG_MEM_CTRL			(AR9170_PTA_REG_BASE + 0x124)</span>
<span class="cp">#define	AR9170_PTA_REG_MEM_ADDR			(AR9170_PTA_REG_BASE + 0x128)</span>
<span class="cp">#define	AR9170_PTA_REG_DN_DMA_TRIGGER		(AR9170_PTA_REG_BASE + 0x12c)</span>
<span class="cp">#define	AR9170_PTA_REG_UP_DMA_TRIGGER		(AR9170_PTA_REG_BASE + 0x130)</span>
<span class="cp">#define	AR9170_PTA_REG_DMA_STATUS		(AR9170_PTA_REG_BASE + 0x134)</span>
<span class="cp">#define	AR9170_PTA_REG_DN_CURR_ADDRL		(AR9170_PTA_REG_BASE + 0x138)</span>
<span class="cp">#define	AR9170_PTA_REG_DN_CURR_ADDRH		(AR9170_PTA_REG_BASE + 0x13c)</span>
<span class="cp">#define	AR9170_PTA_REG_UP_CURR_ADDRL		(AR9170_PTA_REG_BASE + 0x140)</span>
<span class="cp">#define	AR9170_PTA_REG_UP_CURR_ADDRH		(AR9170_PTA_REG_BASE + 0x144)</span>
<span class="cp">#define	AR9170_PTA_REG_DMA_MODE_CTRL		(AR9170_PTA_REG_BASE + 0x148)</span>
<span class="cp">#define		AR9170_PTA_DMA_MODE_CTRL_RESET		BIT(0)</span>
<span class="cp">#define		AR9170_PTA_DMA_MODE_CTRL_DISABLE_USB	BIT(1)</span>

<span class="cm">/* Protocol Controller Module */</span>
<span class="cp">#define	AR9170_MAC_REG_PC_REG_BASE		(AR9170_MAC_REG_BASE + 0xe00)</span>


<span class="cp">#define	AR9170_NUM_LEDS				2</span>

<span class="cm">/* CAM */</span>
<span class="cp">#define	AR9170_CAM_MAX_USER			64</span>
<span class="cp">#define	AR9170_CAM_MAX_KEY_LENGTH		16</span>

<span class="cp">#define AR9170_SRAM_OFFSET		0x100000</span>
<span class="cp">#define AR9170_SRAM_SIZE		0x18000</span>

<span class="cp">#define AR9170_PRAM_OFFSET		0x200000</span>
<span class="cp">#define AR9170_PRAM_SIZE		0x8000</span>

<span class="k">enum</span> <span class="n">cpu_clock</span> <span class="p">{</span>
	<span class="n">AHB_STATIC_40MHZ</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">AHB_GMODE_22MHZ</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">AHB_AMODE_20MHZ</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">AHB_GMODE_44MHZ</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">AHB_AMODE_40MHZ</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">AHB_GMODE_88MHZ</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">AHB_AMODE_80MHZ</span> <span class="o">=</span> <span class="mi">3</span>
<span class="p">};</span>

<span class="cm">/* USB endpoints */</span>
<span class="k">enum</span> <span class="n">ar9170_usb_ep</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Control EP is always EP 0 (USB SPEC)</span>
<span class="cm">	 *</span>
<span class="cm">	 * The weird thing is: the original firmware has a few</span>
<span class="cm">	 * comments that suggest that the actual EP numbers</span>
<span class="cm">	 * are in the 1 to 10 range?!</span>
<span class="cm">	 */</span>
	<span class="n">AR9170_USB_EP_CTRL</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>

	<span class="n">AR9170_USB_EP_TX</span><span class="p">,</span>
	<span class="n">AR9170_USB_EP_RX</span><span class="p">,</span>
	<span class="n">AR9170_USB_EP_IRQ</span><span class="p">,</span>
	<span class="n">AR9170_USB_EP_CMD</span><span class="p">,</span>
	<span class="n">AR9170_USB_NUM_EXTRA_EP</span>		<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>

	<span class="n">__AR9170_USB_NUM_EP</span><span class="p">,</span>

	<span class="n">__AR9170_USB_NUM_MAX_EP</span>		<span class="o">=</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">ar9170_usb_fifo</span> <span class="p">{</span>
	<span class="n">__AR9170_USB_NUM_MAX_FIFO</span>	<span class="o">=</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">ar9170_tx_queues</span> <span class="p">{</span>
	<span class="n">AR9170_TXQ0</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">AR9170_TXQ1</span><span class="p">,</span>
	<span class="n">AR9170_TXQ2</span><span class="p">,</span>
	<span class="n">AR9170_TXQ3</span><span class="p">,</span>
	<span class="n">AR9170_TXQ_SPECIAL</span><span class="p">,</span>

	<span class="cm">/* keep last */</span>
	<span class="n">__AR9170_NUM_TX_QUEUES</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">};</span>

<span class="cp">#define	AR9170_TX_STREAM_TAG		0x697e</span>
<span class="cp">#define	AR9170_RX_STREAM_TAG		0x4e00</span>
<span class="cp">#define	AR9170_RX_STREAM_MAX_SIZE	0xffff</span>

<span class="k">struct</span> <span class="n">ar9170_stream</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">tag</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">payload</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">__aligned</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span>
<span class="cp">#define AR9170_STREAM_LEN				4</span>

<span class="cp">#define AR9170_MAX_ACKTABLE_ENTRIES			8</span>
<span class="cp">#define AR9170_MAX_VIRTUAL_MAC				7</span>

<span class="cp">#define	AR9170_USB_EP_CTRL_MAX				64</span>
<span class="cp">#define	AR9170_USB_EP_TX_MAX				512</span>
<span class="cp">#define	AR9170_USB_EP_RX_MAX				512</span>
<span class="cp">#define	AR9170_USB_EP_IRQ_MAX				64</span>
<span class="cp">#define	AR9170_USB_EP_CMD_MAX				64</span>

<span class="cm">/* Trigger PRETBTT interrupt 6 Kus earlier */</span>
<span class="cp">#define CARL9170_PRETBTT_KUS				6</span>

<span class="cp">#define	AR5416_MAX_RATE_POWER				63</span>

<span class="cp">#define SET_VAL(reg, value, newvalue)					\</span>
<span class="cp">	(value = ((value) &amp; ~reg) | (((newvalue) &lt;&lt; reg##_S) &amp; reg))</span>

<span class="cp">#define SET_CONSTVAL(reg, newvalue)					\</span>
<span class="cp">	(((newvalue) &lt;&lt; reg##_S) &amp; reg)</span>

<span class="cp">#define MOD_VAL(reg, value, newvalue)					\</span>
<span class="cp">	(((value) &amp; ~reg) | (((newvalue) &lt;&lt; reg##_S) &amp; reg))</span>

<span class="cp">#define GET_VAL(reg, value)						\</span>
<span class="cp">	(((value) &amp; reg) &gt;&gt; reg##_S)</span>

<span class="cp">#endif	</span><span class="cm">/* __CARL9170_SHARED_HW_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
