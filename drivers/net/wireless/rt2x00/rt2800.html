<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › rt2x00 › rt2800.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>rt2800.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">	Copyright (C) 2004 - 2010 Ivo van Doorn &lt;IvDoorn@gmail.com&gt;</span>
<span class="cm">	Copyright (C) 2010 Willow Garage &lt;http://www.willowgarage.com&gt;</span>
<span class="cm">	Copyright (C) 2009 Alban Browaeys &lt;prahal@yahoo.com&gt;</span>
<span class="cm">	Copyright (C) 2009 Felix Fietkau &lt;nbd@openwrt.org&gt;</span>
<span class="cm">	Copyright (C) 2009 Luis Correia &lt;luis.f.correia@gmail.com&gt;</span>
<span class="cm">	Copyright (C) 2009 Mattias Nissler &lt;mattias.nissler@gmx.de&gt;</span>
<span class="cm">	Copyright (C) 2009 Mark Asselstine &lt;asselsm@gmail.com&gt;</span>
<span class="cm">	Copyright (C) 2009 Xose Vazquez Perez &lt;xose.vazquez@gmail.com&gt;</span>
<span class="cm">	Copyright (C) 2009 Bart Zolnierkiewicz &lt;bzolnier@gmail.com&gt;</span>
<span class="cm">	&lt;http://rt2x00.serialmonkey.com&gt;</span>

<span class="cm">	This program is free software; you can redistribute it and/or modify</span>
<span class="cm">	it under the terms of the GNU General Public License as published by</span>
<span class="cm">	the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm">	(at your option) any later version.</span>

<span class="cm">	This program is distributed in the hope that it will be useful,</span>
<span class="cm">	but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm">	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
<span class="cm">	GNU General Public License for more details.</span>

<span class="cm">	You should have received a copy of the GNU General Public License</span>
<span class="cm">	along with this program; if not, write to the</span>
<span class="cm">	Free Software Foundation, Inc.,</span>
<span class="cm">	59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm">	Module: rt2800</span>
<span class="cm">	Abstract: Data structures and registers for the rt2800 modules.</span>
<span class="cm">	Supported chipsets: RT2800E, RT2800ED &amp; RT2800U.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef RT2800_H</span>
<span class="cp">#define RT2800_H</span>

<span class="cm">/*</span>
<span class="cm"> * RF chip defines.</span>
<span class="cm"> *</span>
<span class="cm"> * RF2820 2.4G 2T3R</span>
<span class="cm"> * RF2850 2.4G/5G 2T3R</span>
<span class="cm"> * RF2720 2.4G 1T2R</span>
<span class="cm"> * RF2750 2.4G/5G 1T2R</span>
<span class="cm"> * RF3020 2.4G 1T1R</span>
<span class="cm"> * RF2020 2.4G B/G</span>
<span class="cm"> * RF3021 2.4G 1T2R</span>
<span class="cm"> * RF3022 2.4G 2T2R</span>
<span class="cm"> * RF3052 2.4G/5G 2T2R</span>
<span class="cm"> * RF2853 2.4G/5G 3T3R</span>
<span class="cm"> * RF3320 2.4G 1T1R(RT3350/RT3370/RT3390)</span>
<span class="cm"> * RF3322 2.4G 2T2R(RT3352/RT3371/RT3372/RT3391/RT3392)</span>
<span class="cm"> * RF3053 2.4G/5G 3T3R(RT3883/RT3563/RT3573/RT3593/RT3662)</span>
<span class="cm"> * RF5370 2.4G 1T1R</span>
<span class="cm"> * RF5390 2.4G 1T1R</span>
<span class="cm"> */</span>
<span class="cp">#define RF2820				0x0001</span>
<span class="cp">#define RF2850				0x0002</span>
<span class="cp">#define RF2720				0x0003</span>
<span class="cp">#define RF2750				0x0004</span>
<span class="cp">#define RF3020				0x0005</span>
<span class="cp">#define RF2020				0x0006</span>
<span class="cp">#define RF3021				0x0007</span>
<span class="cp">#define RF3022				0x0008</span>
<span class="cp">#define RF3052				0x0009</span>
<span class="cp">#define RF2853				0x000a</span>
<span class="cp">#define RF3320				0x000b</span>
<span class="cp">#define RF3322				0x000c</span>
<span class="cp">#define RF3053				0x000d</span>
<span class="cp">#define RF5370				0x5370</span>
<span class="cp">#define RF5372				0x5372</span>
<span class="cp">#define RF5390				0x5390</span>

<span class="cm">/*</span>
<span class="cm"> * Chipset revisions.</span>
<span class="cm"> */</span>
<span class="cp">#define REV_RT2860C			0x0100</span>
<span class="cp">#define REV_RT2860D			0x0101</span>
<span class="cp">#define REV_RT2872E			0x0200</span>
<span class="cp">#define REV_RT3070E			0x0200</span>
<span class="cp">#define REV_RT3070F			0x0201</span>
<span class="cp">#define REV_RT3071E			0x0211</span>
<span class="cp">#define REV_RT3090E			0x0211</span>
<span class="cp">#define REV_RT3390E			0x0211</span>
<span class="cp">#define REV_RT5390F			0x0502</span>
<span class="cp">#define REV_RT5390R			0x1502</span>

<span class="cm">/*</span>
<span class="cm"> * Signal information.</span>
<span class="cm"> * Default offset is required for RSSI &lt;-&gt; dBm conversion.</span>
<span class="cm"> */</span>
<span class="cp">#define DEFAULT_RSSI_OFFSET		120</span>

<span class="cm">/*</span>
<span class="cm"> * Register layout information.</span>
<span class="cm"> */</span>
<span class="cp">#define CSR_REG_BASE			0x1000</span>
<span class="cp">#define CSR_REG_SIZE			0x0800</span>
<span class="cp">#define EEPROM_BASE			0x0000</span>
<span class="cp">#define EEPROM_SIZE			0x0110</span>
<span class="cp">#define BBP_BASE			0x0000</span>
<span class="cp">#define BBP_SIZE			0x00ff</span>
<span class="cp">#define RF_BASE				0x0004</span>
<span class="cp">#define RF_SIZE				0x0010</span>
<span class="cp">#define RFCSR_BASE			0x0000</span>
<span class="cp">#define RFCSR_SIZE			0x0040</span>

<span class="cm">/*</span>
<span class="cm"> * Number of TX queues.</span>
<span class="cm"> */</span>
<span class="cp">#define NUM_TX_QUEUES			4</span>

<span class="cm">/*</span>
<span class="cm"> * Registers.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * E2PROM_CSR: PCI EEPROM control register.</span>
<span class="cm"> * RELOAD: Write 1 to reload eeprom content.</span>
<span class="cm"> * TYPE: 0: 93c46, 1:93c66.</span>
<span class="cm"> * LOAD_STATUS: 1:loading, 0:done.</span>
<span class="cm"> */</span>
<span class="cp">#define E2PROM_CSR			0x0004</span>
<span class="cp">#define E2PROM_CSR_DATA_CLOCK		FIELD32(0x00000001)</span>
<span class="cp">#define E2PROM_CSR_CHIP_SELECT		FIELD32(0x00000002)</span>
<span class="cp">#define E2PROM_CSR_DATA_IN		FIELD32(0x00000004)</span>
<span class="cp">#define E2PROM_CSR_DATA_OUT		FIELD32(0x00000008)</span>
<span class="cp">#define E2PROM_CSR_TYPE			FIELD32(0x00000030)</span>
<span class="cp">#define E2PROM_CSR_LOAD_STATUS		FIELD32(0x00000040)</span>
<span class="cp">#define E2PROM_CSR_RELOAD		FIELD32(0x00000080)</span>

<span class="cm">/*</span>
<span class="cm"> * AUX_CTRL: Aux/PCI-E related configuration</span>
<span class="cm"> */</span>
<span class="cp">#define AUX_CTRL			0x10c</span>
<span class="cp">#define AUX_CTRL_WAKE_PCIE_EN		FIELD32(0x00000002)</span>
<span class="cp">#define AUX_CTRL_FORCE_PCIE_CLK		FIELD32(0x00000400)</span>

<span class="cm">/*</span>
<span class="cm"> * OPT_14: Unknown register used by rt3xxx devices.</span>
<span class="cm"> */</span>
<span class="cp">#define OPT_14_CSR			0x0114</span>
<span class="cp">#define OPT_14_CSR_BIT0			FIELD32(0x00000001)</span>

<span class="cm">/*</span>
<span class="cm"> * INT_SOURCE_CSR: Interrupt source register.</span>
<span class="cm"> * Write one to clear corresponding bit.</span>
<span class="cm"> * TX_FIFO_STATUS: FIFO Statistics is full, sw should read TX_STA_FIFO</span>
<span class="cm"> */</span>
<span class="cp">#define INT_SOURCE_CSR			0x0200</span>
<span class="cp">#define INT_SOURCE_CSR_RXDELAYINT	FIELD32(0x00000001)</span>
<span class="cp">#define INT_SOURCE_CSR_TXDELAYINT	FIELD32(0x00000002)</span>
<span class="cp">#define INT_SOURCE_CSR_RX_DONE		FIELD32(0x00000004)</span>
<span class="cp">#define INT_SOURCE_CSR_AC0_DMA_DONE	FIELD32(0x00000008)</span>
<span class="cp">#define INT_SOURCE_CSR_AC1_DMA_DONE	FIELD32(0x00000010)</span>
<span class="cp">#define INT_SOURCE_CSR_AC2_DMA_DONE	FIELD32(0x00000020)</span>
<span class="cp">#define INT_SOURCE_CSR_AC3_DMA_DONE	FIELD32(0x00000040)</span>
<span class="cp">#define INT_SOURCE_CSR_HCCA_DMA_DONE	FIELD32(0x00000080)</span>
<span class="cp">#define INT_SOURCE_CSR_MGMT_DMA_DONE	FIELD32(0x00000100)</span>
<span class="cp">#define INT_SOURCE_CSR_MCU_COMMAND	FIELD32(0x00000200)</span>
<span class="cp">#define INT_SOURCE_CSR_RXTX_COHERENT	FIELD32(0x00000400)</span>
<span class="cp">#define INT_SOURCE_CSR_TBTT		FIELD32(0x00000800)</span>
<span class="cp">#define INT_SOURCE_CSR_PRE_TBTT		FIELD32(0x00001000)</span>
<span class="cp">#define INT_SOURCE_CSR_TX_FIFO_STATUS	FIELD32(0x00002000)</span>
<span class="cp">#define INT_SOURCE_CSR_AUTO_WAKEUP	FIELD32(0x00004000)</span>
<span class="cp">#define INT_SOURCE_CSR_GPTIMER		FIELD32(0x00008000)</span>
<span class="cp">#define INT_SOURCE_CSR_RX_COHERENT	FIELD32(0x00010000)</span>
<span class="cp">#define INT_SOURCE_CSR_TX_COHERENT	FIELD32(0x00020000)</span>

<span class="cm">/*</span>
<span class="cm"> * INT_MASK_CSR: Interrupt MASK register. 1: the interrupt is mask OFF.</span>
<span class="cm"> */</span>
<span class="cp">#define INT_MASK_CSR			0x0204</span>
<span class="cp">#define INT_MASK_CSR_RXDELAYINT		FIELD32(0x00000001)</span>
<span class="cp">#define INT_MASK_CSR_TXDELAYINT		FIELD32(0x00000002)</span>
<span class="cp">#define INT_MASK_CSR_RX_DONE		FIELD32(0x00000004)</span>
<span class="cp">#define INT_MASK_CSR_AC0_DMA_DONE	FIELD32(0x00000008)</span>
<span class="cp">#define INT_MASK_CSR_AC1_DMA_DONE	FIELD32(0x00000010)</span>
<span class="cp">#define INT_MASK_CSR_AC2_DMA_DONE	FIELD32(0x00000020)</span>
<span class="cp">#define INT_MASK_CSR_AC3_DMA_DONE	FIELD32(0x00000040)</span>
<span class="cp">#define INT_MASK_CSR_HCCA_DMA_DONE	FIELD32(0x00000080)</span>
<span class="cp">#define INT_MASK_CSR_MGMT_DMA_DONE	FIELD32(0x00000100)</span>
<span class="cp">#define INT_MASK_CSR_MCU_COMMAND	FIELD32(0x00000200)</span>
<span class="cp">#define INT_MASK_CSR_RXTX_COHERENT	FIELD32(0x00000400)</span>
<span class="cp">#define INT_MASK_CSR_TBTT		FIELD32(0x00000800)</span>
<span class="cp">#define INT_MASK_CSR_PRE_TBTT		FIELD32(0x00001000)</span>
<span class="cp">#define INT_MASK_CSR_TX_FIFO_STATUS	FIELD32(0x00002000)</span>
<span class="cp">#define INT_MASK_CSR_AUTO_WAKEUP	FIELD32(0x00004000)</span>
<span class="cp">#define INT_MASK_CSR_GPTIMER		FIELD32(0x00008000)</span>
<span class="cp">#define INT_MASK_CSR_RX_COHERENT	FIELD32(0x00010000)</span>
<span class="cp">#define INT_MASK_CSR_TX_COHERENT	FIELD32(0x00020000)</span>

<span class="cm">/*</span>
<span class="cm"> * WPDMA_GLO_CFG</span>
<span class="cm"> */</span>
<span class="cp">#define WPDMA_GLO_CFG 			0x0208</span>
<span class="cp">#define WPDMA_GLO_CFG_ENABLE_TX_DMA	FIELD32(0x00000001)</span>
<span class="cp">#define WPDMA_GLO_CFG_TX_DMA_BUSY    	FIELD32(0x00000002)</span>
<span class="cp">#define WPDMA_GLO_CFG_ENABLE_RX_DMA	FIELD32(0x00000004)</span>
<span class="cp">#define WPDMA_GLO_CFG_RX_DMA_BUSY	FIELD32(0x00000008)</span>
<span class="cp">#define WPDMA_GLO_CFG_WP_DMA_BURST_SIZE	FIELD32(0x00000030)</span>
<span class="cp">#define WPDMA_GLO_CFG_TX_WRITEBACK_DONE	FIELD32(0x00000040)</span>
<span class="cp">#define WPDMA_GLO_CFG_BIG_ENDIAN	FIELD32(0x00000080)</span>
<span class="cp">#define WPDMA_GLO_CFG_RX_HDR_SCATTER	FIELD32(0x0000ff00)</span>
<span class="cp">#define WPDMA_GLO_CFG_HDR_SEG_LEN	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * WPDMA_RST_IDX</span>
<span class="cm"> */</span>
<span class="cp">#define WPDMA_RST_IDX 			0x020c</span>
<span class="cp">#define WPDMA_RST_IDX_DTX_IDX0		FIELD32(0x00000001)</span>
<span class="cp">#define WPDMA_RST_IDX_DTX_IDX1		FIELD32(0x00000002)</span>
<span class="cp">#define WPDMA_RST_IDX_DTX_IDX2		FIELD32(0x00000004)</span>
<span class="cp">#define WPDMA_RST_IDX_DTX_IDX3		FIELD32(0x00000008)</span>
<span class="cp">#define WPDMA_RST_IDX_DTX_IDX4		FIELD32(0x00000010)</span>
<span class="cp">#define WPDMA_RST_IDX_DTX_IDX5		FIELD32(0x00000020)</span>
<span class="cp">#define WPDMA_RST_IDX_DRX_IDX0		FIELD32(0x00010000)</span>

<span class="cm">/*</span>
<span class="cm"> * DELAY_INT_CFG</span>
<span class="cm"> */</span>
<span class="cp">#define DELAY_INT_CFG			0x0210</span>
<span class="cp">#define DELAY_INT_CFG_RXMAX_PTIME	FIELD32(0x000000ff)</span>
<span class="cp">#define DELAY_INT_CFG_RXMAX_PINT	FIELD32(0x00007f00)</span>
<span class="cp">#define DELAY_INT_CFG_RXDLY_INT_EN	FIELD32(0x00008000)</span>
<span class="cp">#define DELAY_INT_CFG_TXMAX_PTIME	FIELD32(0x00ff0000)</span>
<span class="cp">#define DELAY_INT_CFG_TXMAX_PINT	FIELD32(0x7f000000)</span>
<span class="cp">#define DELAY_INT_CFG_TXDLY_INT_EN	FIELD32(0x80000000)</span>

<span class="cm">/*</span>
<span class="cm"> * WMM_AIFSN_CFG: Aifsn for each EDCA AC</span>
<span class="cm"> * AIFSN0: AC_VO</span>
<span class="cm"> * AIFSN1: AC_VI</span>
<span class="cm"> * AIFSN2: AC_BE</span>
<span class="cm"> * AIFSN3: AC_BK</span>
<span class="cm"> */</span>
<span class="cp">#define WMM_AIFSN_CFG			0x0214</span>
<span class="cp">#define WMM_AIFSN_CFG_AIFSN0		FIELD32(0x0000000f)</span>
<span class="cp">#define WMM_AIFSN_CFG_AIFSN1		FIELD32(0x000000f0)</span>
<span class="cp">#define WMM_AIFSN_CFG_AIFSN2		FIELD32(0x00000f00)</span>
<span class="cp">#define WMM_AIFSN_CFG_AIFSN3		FIELD32(0x0000f000)</span>

<span class="cm">/*</span>
<span class="cm"> * WMM_CWMIN_CSR: CWmin for each EDCA AC</span>
<span class="cm"> * CWMIN0: AC_VO</span>
<span class="cm"> * CWMIN1: AC_VI</span>
<span class="cm"> * CWMIN2: AC_BE</span>
<span class="cm"> * CWMIN3: AC_BK</span>
<span class="cm"> */</span>
<span class="cp">#define WMM_CWMIN_CFG			0x0218</span>
<span class="cp">#define WMM_CWMIN_CFG_CWMIN0		FIELD32(0x0000000f)</span>
<span class="cp">#define WMM_CWMIN_CFG_CWMIN1		FIELD32(0x000000f0)</span>
<span class="cp">#define WMM_CWMIN_CFG_CWMIN2		FIELD32(0x00000f00)</span>
<span class="cp">#define WMM_CWMIN_CFG_CWMIN3		FIELD32(0x0000f000)</span>

<span class="cm">/*</span>
<span class="cm"> * WMM_CWMAX_CSR: CWmax for each EDCA AC</span>
<span class="cm"> * CWMAX0: AC_VO</span>
<span class="cm"> * CWMAX1: AC_VI</span>
<span class="cm"> * CWMAX2: AC_BE</span>
<span class="cm"> * CWMAX3: AC_BK</span>
<span class="cm"> */</span>
<span class="cp">#define WMM_CWMAX_CFG			0x021c</span>
<span class="cp">#define WMM_CWMAX_CFG_CWMAX0		FIELD32(0x0000000f)</span>
<span class="cp">#define WMM_CWMAX_CFG_CWMAX1		FIELD32(0x000000f0)</span>
<span class="cp">#define WMM_CWMAX_CFG_CWMAX2		FIELD32(0x00000f00)</span>
<span class="cp">#define WMM_CWMAX_CFG_CWMAX3		FIELD32(0x0000f000)</span>

<span class="cm">/*</span>
<span class="cm"> * AC_TXOP0: AC_VO/AC_VI TXOP register</span>
<span class="cm"> * AC0TXOP: AC_VO in unit of 32us</span>
<span class="cm"> * AC1TXOP: AC_VI in unit of 32us</span>
<span class="cm"> */</span>
<span class="cp">#define WMM_TXOP0_CFG			0x0220</span>
<span class="cp">#define WMM_TXOP0_CFG_AC0TXOP		FIELD32(0x0000ffff)</span>
<span class="cp">#define WMM_TXOP0_CFG_AC1TXOP		FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * AC_TXOP1: AC_BE/AC_BK TXOP register</span>
<span class="cm"> * AC2TXOP: AC_BE in unit of 32us</span>
<span class="cm"> * AC3TXOP: AC_BK in unit of 32us</span>
<span class="cm"> */</span>
<span class="cp">#define WMM_TXOP1_CFG			0x0224</span>
<span class="cp">#define WMM_TXOP1_CFG_AC2TXOP		FIELD32(0x0000ffff)</span>
<span class="cp">#define WMM_TXOP1_CFG_AC3TXOP		FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * GPIO_CTRL_CFG:</span>
<span class="cm"> * GPIOD: GPIO direction, 0: Output, 1: Input</span>
<span class="cm"> */</span>
<span class="cp">#define GPIO_CTRL_CFG			0x0228</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT0		FIELD32(0x00000001)</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT1		FIELD32(0x00000002)</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT2		FIELD32(0x00000004)</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT3		FIELD32(0x00000008)</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT4		FIELD32(0x00000010)</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT5		FIELD32(0x00000020)</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT6		FIELD32(0x00000040)</span>
<span class="cp">#define GPIO_CTRL_CFG_BIT7		FIELD32(0x00000080)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT0	FIELD32(0x00000100)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT1	FIELD32(0x00000200)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT2	FIELD32(0x00000400)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT3	FIELD32(0x00000800)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT4	FIELD32(0x00001000)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT5	FIELD32(0x00002000)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT6	FIELD32(0x00004000)</span>
<span class="cp">#define GPIO_CTRL_CFG_GPIOD_BIT7	FIELD32(0x00008000)</span>

<span class="cm">/*</span>
<span class="cm"> * MCU_CMD_CFG</span>
<span class="cm"> */</span>
<span class="cp">#define MCU_CMD_CFG			0x022c</span>

<span class="cm">/*</span>
<span class="cm"> * AC_VO register offsets</span>
<span class="cm"> */</span>
<span class="cp">#define TX_BASE_PTR0			0x0230</span>
<span class="cp">#define TX_MAX_CNT0			0x0234</span>
<span class="cp">#define TX_CTX_IDX0			0x0238</span>
<span class="cp">#define TX_DTX_IDX0			0x023c</span>

<span class="cm">/*</span>
<span class="cm"> * AC_VI register offsets</span>
<span class="cm"> */</span>
<span class="cp">#define TX_BASE_PTR1			0x0240</span>
<span class="cp">#define TX_MAX_CNT1			0x0244</span>
<span class="cp">#define TX_CTX_IDX1			0x0248</span>
<span class="cp">#define TX_DTX_IDX1			0x024c</span>

<span class="cm">/*</span>
<span class="cm"> * AC_BE register offsets</span>
<span class="cm"> */</span>
<span class="cp">#define TX_BASE_PTR2			0x0250</span>
<span class="cp">#define TX_MAX_CNT2			0x0254</span>
<span class="cp">#define TX_CTX_IDX2			0x0258</span>
<span class="cp">#define TX_DTX_IDX2			0x025c</span>

<span class="cm">/*</span>
<span class="cm"> * AC_BK register offsets</span>
<span class="cm"> */</span>
<span class="cp">#define TX_BASE_PTR3			0x0260</span>
<span class="cp">#define TX_MAX_CNT3			0x0264</span>
<span class="cp">#define TX_CTX_IDX3			0x0268</span>
<span class="cp">#define TX_DTX_IDX3			0x026c</span>

<span class="cm">/*</span>
<span class="cm"> * HCCA register offsets</span>
<span class="cm"> */</span>
<span class="cp">#define TX_BASE_PTR4			0x0270</span>
<span class="cp">#define TX_MAX_CNT4			0x0274</span>
<span class="cp">#define TX_CTX_IDX4			0x0278</span>
<span class="cp">#define TX_DTX_IDX4			0x027c</span>

<span class="cm">/*</span>
<span class="cm"> * MGMT register offsets</span>
<span class="cm"> */</span>
<span class="cp">#define TX_BASE_PTR5			0x0280</span>
<span class="cp">#define TX_MAX_CNT5			0x0284</span>
<span class="cp">#define TX_CTX_IDX5			0x0288</span>
<span class="cp">#define TX_DTX_IDX5			0x028c</span>

<span class="cm">/*</span>
<span class="cm"> * RX register offsets</span>
<span class="cm"> */</span>
<span class="cp">#define RX_BASE_PTR			0x0290</span>
<span class="cp">#define RX_MAX_CNT			0x0294</span>
<span class="cp">#define RX_CRX_IDX			0x0298</span>
<span class="cp">#define RX_DRX_IDX			0x029c</span>

<span class="cm">/*</span>
<span class="cm"> * USB_DMA_CFG</span>
<span class="cm"> * RX_BULK_AGG_TIMEOUT: Rx Bulk Aggregation TimeOut in unit of 33ns.</span>
<span class="cm"> * RX_BULK_AGG_LIMIT: Rx Bulk Aggregation Limit in unit of 256 bytes.</span>
<span class="cm"> * PHY_CLEAR: phy watch dog enable.</span>
<span class="cm"> * TX_CLEAR: Clear USB DMA TX path.</span>
<span class="cm"> * TXOP_HALT: Halt TXOP count down when TX buffer is full.</span>
<span class="cm"> * RX_BULK_AGG_EN: Enable Rx Bulk Aggregation.</span>
<span class="cm"> * RX_BULK_EN: Enable USB DMA Rx.</span>
<span class="cm"> * TX_BULK_EN: Enable USB DMA Tx.</span>
<span class="cm"> * EP_OUT_VALID: OUT endpoint data valid.</span>
<span class="cm"> * RX_BUSY: USB DMA RX FSM busy.</span>
<span class="cm"> * TX_BUSY: USB DMA TX FSM busy.</span>
<span class="cm"> */</span>
<span class="cp">#define USB_DMA_CFG			0x02a0</span>
<span class="cp">#define USB_DMA_CFG_RX_BULK_AGG_TIMEOUT	FIELD32(0x000000ff)</span>
<span class="cp">#define USB_DMA_CFG_RX_BULK_AGG_LIMIT	FIELD32(0x0000ff00)</span>
<span class="cp">#define USB_DMA_CFG_PHY_CLEAR		FIELD32(0x00010000)</span>
<span class="cp">#define USB_DMA_CFG_TX_CLEAR		FIELD32(0x00080000)</span>
<span class="cp">#define USB_DMA_CFG_TXOP_HALT		FIELD32(0x00100000)</span>
<span class="cp">#define USB_DMA_CFG_RX_BULK_AGG_EN	FIELD32(0x00200000)</span>
<span class="cp">#define USB_DMA_CFG_RX_BULK_EN		FIELD32(0x00400000)</span>
<span class="cp">#define USB_DMA_CFG_TX_BULK_EN		FIELD32(0x00800000)</span>
<span class="cp">#define USB_DMA_CFG_EP_OUT_VALID	FIELD32(0x3f000000)</span>
<span class="cp">#define USB_DMA_CFG_RX_BUSY		FIELD32(0x40000000)</span>
<span class="cp">#define USB_DMA_CFG_TX_BUSY		FIELD32(0x80000000)</span>

<span class="cm">/*</span>
<span class="cm"> * US_CYC_CNT</span>
<span class="cm"> * BT_MODE_EN: Bluetooth mode enable</span>
<span class="cm"> * CLOCK CYCLE: Clock cycle count in 1us.</span>
<span class="cm"> * PCI:0x21, PCIE:0x7d, USB:0x1e</span>
<span class="cm"> */</span>
<span class="cp">#define US_CYC_CNT			0x02a4</span>
<span class="cp">#define US_CYC_CNT_BT_MODE_EN		FIELD32(0x00000100)</span>
<span class="cp">#define US_CYC_CNT_CLOCK_CYCLE		FIELD32(0x000000ff)</span>

<span class="cm">/*</span>
<span class="cm"> * PBF_SYS_CTRL</span>
<span class="cm"> * HOST_RAM_WRITE: enable Host program ram write selection</span>
<span class="cm"> */</span>
<span class="cp">#define PBF_SYS_CTRL			0x0400</span>
<span class="cp">#define PBF_SYS_CTRL_READY		FIELD32(0x00000080)</span>
<span class="cp">#define PBF_SYS_CTRL_HOST_RAM_WRITE	FIELD32(0x00010000)</span>

<span class="cm">/*</span>
<span class="cm"> * HOST-MCU shared memory</span>
<span class="cm"> */</span>
<span class="cp">#define HOST_CMD_CSR			0x0404</span>
<span class="cp">#define HOST_CMD_CSR_HOST_COMMAND	FIELD32(0x000000ff)</span>

<span class="cm">/*</span>
<span class="cm"> * PBF registers</span>
<span class="cm"> * Most are for debug. Driver doesn&#39;t touch PBF register.</span>
<span class="cm"> */</span>
<span class="cp">#define PBF_CFG				0x0408</span>
<span class="cp">#define PBF_MAX_PCNT			0x040c</span>
<span class="cp">#define PBF_CTRL			0x0410</span>
<span class="cp">#define PBF_INT_STA			0x0414</span>
<span class="cp">#define PBF_INT_ENA			0x0418</span>

<span class="cm">/*</span>
<span class="cm"> * BCN_OFFSET0:</span>
<span class="cm"> */</span>
<span class="cp">#define BCN_OFFSET0			0x042c</span>
<span class="cp">#define BCN_OFFSET0_BCN0		FIELD32(0x000000ff)</span>
<span class="cp">#define BCN_OFFSET0_BCN1		FIELD32(0x0000ff00)</span>
<span class="cp">#define BCN_OFFSET0_BCN2		FIELD32(0x00ff0000)</span>
<span class="cp">#define BCN_OFFSET0_BCN3		FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * BCN_OFFSET1:</span>
<span class="cm"> */</span>
<span class="cp">#define BCN_OFFSET1			0x0430</span>
<span class="cp">#define BCN_OFFSET1_BCN4		FIELD32(0x000000ff)</span>
<span class="cp">#define BCN_OFFSET1_BCN5		FIELD32(0x0000ff00)</span>
<span class="cp">#define BCN_OFFSET1_BCN6		FIELD32(0x00ff0000)</span>
<span class="cp">#define BCN_OFFSET1_BCN7		FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TXRXQ_PCNT: PBF register</span>
<span class="cm"> * PCNT_TX0Q: Page count for TX hardware queue 0</span>
<span class="cm"> * PCNT_TX1Q: Page count for TX hardware queue 1</span>
<span class="cm"> * PCNT_TX2Q: Page count for TX hardware queue 2</span>
<span class="cm"> * PCNT_RX0Q: Page count for RX hardware queue</span>
<span class="cm"> */</span>
<span class="cp">#define TXRXQ_PCNT			0x0438</span>
<span class="cp">#define TXRXQ_PCNT_TX0Q			FIELD32(0x000000ff)</span>
<span class="cp">#define TXRXQ_PCNT_TX1Q			FIELD32(0x0000ff00)</span>
<span class="cp">#define TXRXQ_PCNT_TX2Q			FIELD32(0x00ff0000)</span>
<span class="cp">#define TXRXQ_PCNT_RX0Q			FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * PBF register</span>
<span class="cm"> * Debug. Driver doesn&#39;t touch PBF register.</span>
<span class="cm"> */</span>
<span class="cp">#define PBF_DBG				0x043c</span>

<span class="cm">/*</span>
<span class="cm"> * RF registers</span>
<span class="cm"> */</span>
<span class="cp">#define	RF_CSR_CFG			0x0500</span>
<span class="cp">#define RF_CSR_CFG_DATA			FIELD32(0x000000ff)</span>
<span class="cp">#define RF_CSR_CFG_REGNUM		FIELD32(0x00003f00)</span>
<span class="cp">#define RF_CSR_CFG_WRITE		FIELD32(0x00010000)</span>
<span class="cp">#define RF_CSR_CFG_BUSY			FIELD32(0x00020000)</span>

<span class="cm">/*</span>
<span class="cm"> * EFUSE_CSR: RT30x0 EEPROM</span>
<span class="cm"> */</span>
<span class="cp">#define EFUSE_CTRL			0x0580</span>
<span class="cp">#define EFUSE_CTRL_ADDRESS_IN		FIELD32(0x03fe0000)</span>
<span class="cp">#define EFUSE_CTRL_MODE			FIELD32(0x000000c0)</span>
<span class="cp">#define EFUSE_CTRL_KICK			FIELD32(0x40000000)</span>
<span class="cp">#define EFUSE_CTRL_PRESENT		FIELD32(0x80000000)</span>

<span class="cm">/*</span>
<span class="cm"> * EFUSE_DATA0</span>
<span class="cm"> */</span>
<span class="cp">#define EFUSE_DATA0			0x0590</span>

<span class="cm">/*</span>
<span class="cm"> * EFUSE_DATA1</span>
<span class="cm"> */</span>
<span class="cp">#define EFUSE_DATA1			0x0594</span>

<span class="cm">/*</span>
<span class="cm"> * EFUSE_DATA2</span>
<span class="cm"> */</span>
<span class="cp">#define EFUSE_DATA2			0x0598</span>

<span class="cm">/*</span>
<span class="cm"> * EFUSE_DATA3</span>
<span class="cm"> */</span>
<span class="cp">#define EFUSE_DATA3			0x059c</span>

<span class="cm">/*</span>
<span class="cm"> * LDO_CFG0</span>
<span class="cm"> */</span>
<span class="cp">#define LDO_CFG0			0x05d4</span>
<span class="cp">#define LDO_CFG0_DELAY3			FIELD32(0x000000ff)</span>
<span class="cp">#define LDO_CFG0_DELAY2			FIELD32(0x0000ff00)</span>
<span class="cp">#define LDO_CFG0_DELAY1			FIELD32(0x00ff0000)</span>
<span class="cp">#define LDO_CFG0_BGSEL			FIELD32(0x03000000)</span>
<span class="cp">#define LDO_CFG0_LDO_CORE_VLEVEL	FIELD32(0x1c000000)</span>
<span class="cp">#define LD0_CFG0_LDO25_LEVEL		FIELD32(0x60000000)</span>
<span class="cp">#define LDO_CFG0_LDO25_LARGEA		FIELD32(0x80000000)</span>

<span class="cm">/*</span>
<span class="cm"> * GPIO_SWITCH</span>
<span class="cm"> */</span>
<span class="cp">#define GPIO_SWITCH			0x05dc</span>
<span class="cp">#define GPIO_SWITCH_0			FIELD32(0x00000001)</span>
<span class="cp">#define GPIO_SWITCH_1			FIELD32(0x00000002)</span>
<span class="cp">#define GPIO_SWITCH_2			FIELD32(0x00000004)</span>
<span class="cp">#define GPIO_SWITCH_3			FIELD32(0x00000008)</span>
<span class="cp">#define GPIO_SWITCH_4			FIELD32(0x00000010)</span>
<span class="cp">#define GPIO_SWITCH_5			FIELD32(0x00000020)</span>
<span class="cp">#define GPIO_SWITCH_6			FIELD32(0x00000040)</span>
<span class="cp">#define GPIO_SWITCH_7			FIELD32(0x00000080)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC Control/Status Registers(CSR).</span>
<span class="cm"> * Some values are set in TU, whereas 1 TU == 1024 us.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_CSR0: ASIC revision number.</span>
<span class="cm"> * ASIC_REV: 0</span>
<span class="cm"> * ASIC_VER: 2860 or 2870</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_CSR0			0x1000</span>
<span class="cp">#define MAC_CSR0_REVISION		FIELD32(0x0000ffff)</span>
<span class="cp">#define MAC_CSR0_CHIPSET		FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_SYS_CTRL:</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_SYS_CTRL			0x1004</span>
<span class="cp">#define MAC_SYS_CTRL_RESET_CSR		FIELD32(0x00000001)</span>
<span class="cp">#define MAC_SYS_CTRL_RESET_BBP		FIELD32(0x00000002)</span>
<span class="cp">#define MAC_SYS_CTRL_ENABLE_TX		FIELD32(0x00000004)</span>
<span class="cp">#define MAC_SYS_CTRL_ENABLE_RX		FIELD32(0x00000008)</span>
<span class="cp">#define MAC_SYS_CTRL_CONTINUOUS_TX	FIELD32(0x00000010)</span>
<span class="cp">#define MAC_SYS_CTRL_LOOPBACK		FIELD32(0x00000020)</span>
<span class="cp">#define MAC_SYS_CTRL_WLAN_HALT		FIELD32(0x00000040)</span>
<span class="cp">#define MAC_SYS_CTRL_RX_TIMESTAMP	FIELD32(0x00000080)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_ADDR_DW0: STA MAC register 0</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_ADDR_DW0			0x1008</span>
<span class="cp">#define MAC_ADDR_DW0_BYTE0		FIELD32(0x000000ff)</span>
<span class="cp">#define MAC_ADDR_DW0_BYTE1		FIELD32(0x0000ff00)</span>
<span class="cp">#define MAC_ADDR_DW0_BYTE2		FIELD32(0x00ff0000)</span>
<span class="cp">#define MAC_ADDR_DW0_BYTE3		FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_ADDR_DW1: STA MAC register 1</span>
<span class="cm"> * UNICAST_TO_ME_MASK:</span>
<span class="cm"> * Used to mask off bits from byte 5 of the MAC address</span>
<span class="cm"> * to determine the UNICAST_TO_ME bit for RX frames.</span>
<span class="cm"> * The full mask is complemented by BSS_ID_MASK:</span>
<span class="cm"> *    MASK = BSS_ID_MASK &amp; UNICAST_TO_ME_MASK</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_ADDR_DW1			0x100c</span>
<span class="cp">#define MAC_ADDR_DW1_BYTE4		FIELD32(0x000000ff)</span>
<span class="cp">#define MAC_ADDR_DW1_BYTE5		FIELD32(0x0000ff00)</span>
<span class="cp">#define MAC_ADDR_DW1_UNICAST_TO_ME_MASK	FIELD32(0x00ff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_BSSID_DW0: BSSID register 0</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_BSSID_DW0			0x1010</span>
<span class="cp">#define MAC_BSSID_DW0_BYTE0		FIELD32(0x000000ff)</span>
<span class="cp">#define MAC_BSSID_DW0_BYTE1		FIELD32(0x0000ff00)</span>
<span class="cp">#define MAC_BSSID_DW0_BYTE2		FIELD32(0x00ff0000)</span>
<span class="cp">#define MAC_BSSID_DW0_BYTE3		FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_BSSID_DW1: BSSID register 1</span>
<span class="cm"> * BSS_ID_MASK:</span>
<span class="cm"> *     0: 1-BSSID mode (BSS index = 0)</span>
<span class="cm"> *     1: 2-BSSID mode (BSS index: Byte5, bit 0)</span>
<span class="cm"> *     2: 4-BSSID mode (BSS index: byte5, bit 0 - 1)</span>
<span class="cm"> *     3: 8-BSSID mode (BSS index: byte5, bit 0 - 2)</span>
<span class="cm"> * This mask is used to mask off bits 0, 1 and 2 of byte 5 of the</span>
<span class="cm"> * BSSID. This will make sure that those bits will be ignored</span>
<span class="cm"> * when determining the MY_BSS of RX frames.</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_BSSID_DW1			0x1014</span>
<span class="cp">#define MAC_BSSID_DW1_BYTE4		FIELD32(0x000000ff)</span>
<span class="cp">#define MAC_BSSID_DW1_BYTE5		FIELD32(0x0000ff00)</span>
<span class="cp">#define MAC_BSSID_DW1_BSS_ID_MASK	FIELD32(0x00030000)</span>
<span class="cp">#define MAC_BSSID_DW1_BSS_BCN_NUM	FIELD32(0x001c0000)</span>

<span class="cm">/*</span>
<span class="cm"> * MAX_LEN_CFG: Maximum frame length register.</span>
<span class="cm"> * MAX_MPDU: rt2860b max 16k bytes</span>
<span class="cm"> * MAX_PSDU: Maximum PSDU length</span>
<span class="cm"> *	(power factor) 0:2^13, 1:2^14, 2:2^15, 3:2^16</span>
<span class="cm"> */</span>
<span class="cp">#define MAX_LEN_CFG			0x1018</span>
<span class="cp">#define MAX_LEN_CFG_MAX_MPDU		FIELD32(0x00000fff)</span>
<span class="cp">#define MAX_LEN_CFG_MAX_PSDU		FIELD32(0x00003000)</span>
<span class="cp">#define MAX_LEN_CFG_MIN_PSDU		FIELD32(0x0000c000)</span>
<span class="cp">#define MAX_LEN_CFG_MIN_MPDU		FIELD32(0x000f0000)</span>

<span class="cm">/*</span>
<span class="cm"> * BBP_CSR_CFG: BBP serial control register</span>
<span class="cm"> * VALUE: Register value to program into BBP</span>
<span class="cm"> * REG_NUM: Selected BBP register</span>
<span class="cm"> * READ_CONTROL: 0 write BBP, 1 read BBP</span>
<span class="cm"> * BUSY: ASIC is busy executing BBP commands</span>
<span class="cm"> * BBP_PAR_DUR: 0 4 MAC clocks, 1 8 MAC clocks</span>
<span class="cm"> * BBP_RW_MODE: 0 serial, 1 parallel</span>
<span class="cm"> */</span>
<span class="cp">#define BBP_CSR_CFG			0x101c</span>
<span class="cp">#define BBP_CSR_CFG_VALUE		FIELD32(0x000000ff)</span>
<span class="cp">#define BBP_CSR_CFG_REGNUM		FIELD32(0x0000ff00)</span>
<span class="cp">#define BBP_CSR_CFG_READ_CONTROL	FIELD32(0x00010000)</span>
<span class="cp">#define BBP_CSR_CFG_BUSY		FIELD32(0x00020000)</span>
<span class="cp">#define BBP_CSR_CFG_BBP_PAR_DUR		FIELD32(0x00040000)</span>
<span class="cp">#define BBP_CSR_CFG_BBP_RW_MODE		FIELD32(0x00080000)</span>

<span class="cm">/*</span>
<span class="cm"> * RF_CSR_CFG0: RF control register</span>
<span class="cm"> * REGID_AND_VALUE: Register value to program into RF</span>
<span class="cm"> * BITWIDTH: Selected RF register</span>
<span class="cm"> * STANDBYMODE: 0 high when standby, 1 low when standby</span>
<span class="cm"> * SEL: 0 RF_LE0 activate, 1 RF_LE1 activate</span>
<span class="cm"> * BUSY: ASIC is busy executing RF commands</span>
<span class="cm"> */</span>
<span class="cp">#define RF_CSR_CFG0			0x1020</span>
<span class="cp">#define RF_CSR_CFG0_REGID_AND_VALUE	FIELD32(0x00ffffff)</span>
<span class="cp">#define RF_CSR_CFG0_BITWIDTH		FIELD32(0x1f000000)</span>
<span class="cp">#define RF_CSR_CFG0_REG_VALUE_BW	FIELD32(0x1fffffff)</span>
<span class="cp">#define RF_CSR_CFG0_STANDBYMODE		FIELD32(0x20000000)</span>
<span class="cp">#define RF_CSR_CFG0_SEL			FIELD32(0x40000000)</span>
<span class="cp">#define RF_CSR_CFG0_BUSY		FIELD32(0x80000000)</span>

<span class="cm">/*</span>
<span class="cm"> * RF_CSR_CFG1: RF control register</span>
<span class="cm"> * REGID_AND_VALUE: Register value to program into RF</span>
<span class="cm"> * RFGAP: Gap between BB_CONTROL_RF and RF_LE</span>
<span class="cm"> *        0: 3 system clock cycle (37.5usec)</span>
<span class="cm"> *        1: 5 system clock cycle (62.5usec)</span>
<span class="cm"> */</span>
<span class="cp">#define RF_CSR_CFG1			0x1024</span>
<span class="cp">#define RF_CSR_CFG1_REGID_AND_VALUE	FIELD32(0x00ffffff)</span>
<span class="cp">#define RF_CSR_CFG1_RFGAP		FIELD32(0x1f000000)</span>

<span class="cm">/*</span>
<span class="cm"> * RF_CSR_CFG2: RF control register</span>
<span class="cm"> * VALUE: Register value to program into RF</span>
<span class="cm"> */</span>
<span class="cp">#define RF_CSR_CFG2			0x1028</span>
<span class="cp">#define RF_CSR_CFG2_VALUE		FIELD32(0x00ffffff)</span>

<span class="cm">/*</span>
<span class="cm"> * LED_CFG: LED control</span>
<span class="cm"> * ON_PERIOD: LED active time (ms) during TX (only used for LED mode 1)</span>
<span class="cm"> * OFF_PERIOD: LED inactive time (ms) during TX (only used for LED mode 1)</span>
<span class="cm"> * SLOW_BLINK_PERIOD: LED blink interval in seconds (only used for LED mode 2)</span>
<span class="cm"> * color LED&#39;s:</span>
<span class="cm"> *   0: off</span>
<span class="cm"> *   1: blinking upon TX2</span>
<span class="cm"> *   2: periodic slow blinking</span>
<span class="cm"> *   3: always on</span>
<span class="cm"> * LED polarity:</span>
<span class="cm"> *   0: active low</span>
<span class="cm"> *   1: active high</span>
<span class="cm"> */</span>
<span class="cp">#define LED_CFG				0x102c</span>
<span class="cp">#define LED_CFG_ON_PERIOD		FIELD32(0x000000ff)</span>
<span class="cp">#define LED_CFG_OFF_PERIOD		FIELD32(0x0000ff00)</span>
<span class="cp">#define LED_CFG_SLOW_BLINK_PERIOD	FIELD32(0x003f0000)</span>
<span class="cp">#define LED_CFG_R_LED_MODE		FIELD32(0x03000000)</span>
<span class="cp">#define LED_CFG_G_LED_MODE		FIELD32(0x0c000000)</span>
<span class="cp">#define LED_CFG_Y_LED_MODE		FIELD32(0x30000000)</span>
<span class="cp">#define LED_CFG_LED_POLAR		FIELD32(0x40000000)</span>

<span class="cm">/*</span>
<span class="cm"> * AMPDU_BA_WINSIZE: Force BlockAck window size</span>
<span class="cm"> * FORCE_WINSIZE_ENABLE:</span>
<span class="cm"> *   0: Disable forcing of BlockAck window size</span>
<span class="cm"> *   1: Enable forcing of BlockAck window size, overwrites values BlockAck</span>
<span class="cm"> *      window size values in the TXWI</span>
<span class="cm"> * FORCE_WINSIZE: BlockAck window size</span>
<span class="cm"> */</span>
<span class="cp">#define AMPDU_BA_WINSIZE		0x1040</span>
<span class="cp">#define AMPDU_BA_WINSIZE_FORCE_WINSIZE_ENABLE FIELD32(0x00000020)</span>
<span class="cp">#define AMPDU_BA_WINSIZE_FORCE_WINSIZE	FIELD32(0x0000001f)</span>

<span class="cm">/*</span>
<span class="cm"> * XIFS_TIME_CFG: MAC timing</span>
<span class="cm"> * CCKM_SIFS_TIME: unit 1us. Applied after CCK RX/TX</span>
<span class="cm"> * OFDM_SIFS_TIME: unit 1us. Applied after OFDM RX/TX</span>
<span class="cm"> * OFDM_XIFS_TIME: unit 1us. Applied after OFDM RX</span>
<span class="cm"> *	when MAC doesn&#39;t reference BBP signal BBRXEND</span>
<span class="cm"> * EIFS: unit 1us</span>
<span class="cm"> * BB_RXEND_ENABLE: reference RXEND signal to begin XIFS defer</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="cp">#define XIFS_TIME_CFG			0x1100</span>
<span class="cp">#define XIFS_TIME_CFG_CCKM_SIFS_TIME	FIELD32(0x000000ff)</span>
<span class="cp">#define XIFS_TIME_CFG_OFDM_SIFS_TIME	FIELD32(0x0000ff00)</span>
<span class="cp">#define XIFS_TIME_CFG_OFDM_XIFS_TIME	FIELD32(0x000f0000)</span>
<span class="cp">#define XIFS_TIME_CFG_EIFS		FIELD32(0x1ff00000)</span>
<span class="cp">#define XIFS_TIME_CFG_BB_RXEND_ENABLE	FIELD32(0x20000000)</span>

<span class="cm">/*</span>
<span class="cm"> * BKOFF_SLOT_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define BKOFF_SLOT_CFG			0x1104</span>
<span class="cp">#define BKOFF_SLOT_CFG_SLOT_TIME	FIELD32(0x000000ff)</span>
<span class="cp">#define BKOFF_SLOT_CFG_CC_DELAY_TIME	FIELD32(0x0000ff00)</span>

<span class="cm">/*</span>
<span class="cm"> * NAV_TIME_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define NAV_TIME_CFG			0x1108</span>
<span class="cp">#define NAV_TIME_CFG_SIFS		FIELD32(0x000000ff)</span>
<span class="cp">#define NAV_TIME_CFG_SLOT_TIME		FIELD32(0x0000ff00)</span>
<span class="cp">#define NAV_TIME_CFG_EIFS		FIELD32(0x01ff0000)</span>
<span class="cp">#define NAV_TIME_ZERO_SIFS		FIELD32(0x02000000)</span>

<span class="cm">/*</span>
<span class="cm"> * CH_TIME_CFG: count as channel busy</span>
<span class="cm"> * EIFS_BUSY: Count EIFS as channel busy</span>
<span class="cm"> * NAV_BUSY: Count NAS as channel busy</span>
<span class="cm"> * RX_BUSY: Count RX as channel busy</span>
<span class="cm"> * TX_BUSY: Count TX as channel busy</span>
<span class="cm"> * TMR_EN: Enable channel statistics timer</span>
<span class="cm"> */</span>
<span class="cp">#define CH_TIME_CFG     	        0x110c</span>
<span class="cp">#define CH_TIME_CFG_EIFS_BUSY		FIELD32(0x00000010)</span>
<span class="cp">#define CH_TIME_CFG_NAV_BUSY		FIELD32(0x00000008)</span>
<span class="cp">#define CH_TIME_CFG_RX_BUSY		FIELD32(0x00000004)</span>
<span class="cp">#define CH_TIME_CFG_TX_BUSY		FIELD32(0x00000002)</span>
<span class="cp">#define CH_TIME_CFG_TMR_EN		FIELD32(0x00000001)</span>

<span class="cm">/*</span>
<span class="cm"> * PBF_LIFE_TIMER: TX/RX MPDU timestamp timer (free run) Unit: 1us</span>
<span class="cm"> */</span>
<span class="cp">#define PBF_LIFE_TIMER     	        0x1110</span>

<span class="cm">/*</span>
<span class="cm"> * BCN_TIME_CFG:</span>
<span class="cm"> * BEACON_INTERVAL: in unit of 1/16 TU</span>
<span class="cm"> * TSF_TICKING: Enable TSF auto counting</span>
<span class="cm"> * TSF_SYNC: Enable TSF sync, 00: disable, 01: infra mode, 10: ad-hoc mode</span>
<span class="cm"> * BEACON_GEN: Enable beacon generator</span>
<span class="cm"> */</span>
<span class="cp">#define BCN_TIME_CFG			0x1114</span>
<span class="cp">#define BCN_TIME_CFG_BEACON_INTERVAL	FIELD32(0x0000ffff)</span>
<span class="cp">#define BCN_TIME_CFG_TSF_TICKING	FIELD32(0x00010000)</span>
<span class="cp">#define BCN_TIME_CFG_TSF_SYNC		FIELD32(0x00060000)</span>
<span class="cp">#define BCN_TIME_CFG_TBTT_ENABLE	FIELD32(0x00080000)</span>
<span class="cp">#define BCN_TIME_CFG_BEACON_GEN		FIELD32(0x00100000)</span>
<span class="cp">#define BCN_TIME_CFG_TX_TIME_COMPENSATE	FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TBTT_SYNC_CFG:</span>
<span class="cm"> * BCN_AIFSN: Beacon AIFSN after TBTT interrupt in slots</span>
<span class="cm"> * BCN_CWMIN: Beacon CWMin after TBTT interrupt in slots</span>
<span class="cm"> */</span>
<span class="cp">#define TBTT_SYNC_CFG			0x1118</span>
<span class="cp">#define TBTT_SYNC_CFG_TBTT_ADJUST	FIELD32(0x000000ff)</span>
<span class="cp">#define TBTT_SYNC_CFG_BCN_EXP_WIN	FIELD32(0x0000ff00)</span>
<span class="cp">#define TBTT_SYNC_CFG_BCN_AIFSN		FIELD32(0x000f0000)</span>
<span class="cp">#define TBTT_SYNC_CFG_BCN_CWMIN		FIELD32(0x00f00000)</span>

<span class="cm">/*</span>
<span class="cm"> * TSF_TIMER_DW0: Local lsb TSF timer, read-only</span>
<span class="cm"> */</span>
<span class="cp">#define TSF_TIMER_DW0			0x111c</span>
<span class="cp">#define TSF_TIMER_DW0_LOW_WORD		FIELD32(0xffffffff)</span>

<span class="cm">/*</span>
<span class="cm"> * TSF_TIMER_DW1: Local msb TSF timer, read-only</span>
<span class="cm"> */</span>
<span class="cp">#define TSF_TIMER_DW1			0x1120</span>
<span class="cp">#define TSF_TIMER_DW1_HIGH_WORD		FIELD32(0xffffffff)</span>

<span class="cm">/*</span>
<span class="cm"> * TBTT_TIMER: TImer remains till next TBTT, read-only</span>
<span class="cm"> */</span>
<span class="cp">#define TBTT_TIMER			0x1124</span>

<span class="cm">/*</span>
<span class="cm"> * INT_TIMER_CFG: timer configuration</span>
<span class="cm"> * PRE_TBTT_TIMER: leadtime to tbtt for pretbtt interrupt in units of 1/16 TU</span>
<span class="cm"> * GP_TIMER: period of general purpose timer in units of 1/16 TU</span>
<span class="cm"> */</span>
<span class="cp">#define INT_TIMER_CFG			0x1128</span>
<span class="cp">#define INT_TIMER_CFG_PRE_TBTT_TIMER	FIELD32(0x0000ffff)</span>
<span class="cp">#define INT_TIMER_CFG_GP_TIMER		FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * INT_TIMER_EN: GP-timer and pre-tbtt Int enable</span>
<span class="cm"> */</span>
<span class="cp">#define INT_TIMER_EN			0x112c</span>
<span class="cp">#define INT_TIMER_EN_PRE_TBTT_TIMER	FIELD32(0x00000001)</span>
<span class="cp">#define INT_TIMER_EN_GP_TIMER		FIELD32(0x00000002)</span>

<span class="cm">/*</span>
<span class="cm"> * CH_IDLE_STA: channel idle time (in us)</span>
<span class="cm"> */</span>
<span class="cp">#define CH_IDLE_STA			0x1130</span>

<span class="cm">/*</span>
<span class="cm"> * CH_BUSY_STA: channel busy time on primary channel (in us)</span>
<span class="cm"> */</span>
<span class="cp">#define CH_BUSY_STA			0x1134</span>

<span class="cm">/*</span>
<span class="cm"> * CH_BUSY_STA_SEC: channel busy time on secondary channel in HT40 mode (in us)</span>
<span class="cm"> */</span>
<span class="cp">#define CH_BUSY_STA_SEC			0x1138</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_STATUS_CFG:</span>
<span class="cm"> * BBP_RF_BUSY: When set to 0, BBP and RF are stable.</span>
<span class="cm"> *	if 1 or higher one of the 2 registers is busy.</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_STATUS_CFG			0x1200</span>
<span class="cp">#define MAC_STATUS_CFG_BBP_RF_BUSY	FIELD32(0x00000003)</span>

<span class="cm">/*</span>
<span class="cm"> * PWR_PIN_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define PWR_PIN_CFG			0x1204</span>

<span class="cm">/*</span>
<span class="cm"> * AUTOWAKEUP_CFG: Manual power control / status register</span>
<span class="cm"> * TBCN_BEFORE_WAKE: ForceWake has high privilege than PutToSleep when both set</span>
<span class="cm"> * AUTOWAKE: 0:sleep, 1:awake</span>
<span class="cm"> */</span>
<span class="cp">#define AUTOWAKEUP_CFG			0x1208</span>
<span class="cp">#define AUTOWAKEUP_CFG_AUTO_LEAD_TIME	FIELD32(0x000000ff)</span>
<span class="cp">#define AUTOWAKEUP_CFG_TBCN_BEFORE_WAKE	FIELD32(0x00007f00)</span>
<span class="cp">#define AUTOWAKEUP_CFG_AUTOWAKE		FIELD32(0x00008000)</span>

<span class="cm">/*</span>
<span class="cm"> * EDCA_AC0_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define EDCA_AC0_CFG			0x1300</span>
<span class="cp">#define EDCA_AC0_CFG_TX_OP		FIELD32(0x000000ff)</span>
<span class="cp">#define EDCA_AC0_CFG_AIFSN		FIELD32(0x00000f00)</span>
<span class="cp">#define EDCA_AC0_CFG_CWMIN		FIELD32(0x0000f000)</span>
<span class="cp">#define EDCA_AC0_CFG_CWMAX		FIELD32(0x000f0000)</span>

<span class="cm">/*</span>
<span class="cm"> * EDCA_AC1_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define EDCA_AC1_CFG			0x1304</span>
<span class="cp">#define EDCA_AC1_CFG_TX_OP		FIELD32(0x000000ff)</span>
<span class="cp">#define EDCA_AC1_CFG_AIFSN		FIELD32(0x00000f00)</span>
<span class="cp">#define EDCA_AC1_CFG_CWMIN		FIELD32(0x0000f000)</span>
<span class="cp">#define EDCA_AC1_CFG_CWMAX		FIELD32(0x000f0000)</span>

<span class="cm">/*</span>
<span class="cm"> * EDCA_AC2_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define EDCA_AC2_CFG			0x1308</span>
<span class="cp">#define EDCA_AC2_CFG_TX_OP		FIELD32(0x000000ff)</span>
<span class="cp">#define EDCA_AC2_CFG_AIFSN		FIELD32(0x00000f00)</span>
<span class="cp">#define EDCA_AC2_CFG_CWMIN		FIELD32(0x0000f000)</span>
<span class="cp">#define EDCA_AC2_CFG_CWMAX		FIELD32(0x000f0000)</span>

<span class="cm">/*</span>
<span class="cm"> * EDCA_AC3_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define EDCA_AC3_CFG			0x130c</span>
<span class="cp">#define EDCA_AC3_CFG_TX_OP		FIELD32(0x000000ff)</span>
<span class="cp">#define EDCA_AC3_CFG_AIFSN		FIELD32(0x00000f00)</span>
<span class="cp">#define EDCA_AC3_CFG_CWMIN		FIELD32(0x0000f000)</span>
<span class="cp">#define EDCA_AC3_CFG_CWMAX		FIELD32(0x000f0000)</span>

<span class="cm">/*</span>
<span class="cm"> * EDCA_TID_AC_MAP:</span>
<span class="cm"> */</span>
<span class="cp">#define EDCA_TID_AC_MAP			0x1310</span>

<span class="cm">/*</span>
<span class="cm"> * TX_PWR_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_PWR_CFG_RATE0		FIELD32(0x0000000f)</span>
<span class="cp">#define TX_PWR_CFG_RATE1		FIELD32(0x000000f0)</span>
<span class="cp">#define TX_PWR_CFG_RATE2		FIELD32(0x00000f00)</span>
<span class="cp">#define TX_PWR_CFG_RATE3		FIELD32(0x0000f000)</span>
<span class="cp">#define TX_PWR_CFG_RATE4		FIELD32(0x000f0000)</span>
<span class="cp">#define TX_PWR_CFG_RATE5		FIELD32(0x00f00000)</span>
<span class="cp">#define TX_PWR_CFG_RATE6		FIELD32(0x0f000000)</span>
<span class="cp">#define TX_PWR_CFG_RATE7		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_PWR_CFG_0:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_PWR_CFG_0			0x1314</span>
<span class="cp">#define TX_PWR_CFG_0_1MBS		FIELD32(0x0000000f)</span>
<span class="cp">#define TX_PWR_CFG_0_2MBS		FIELD32(0x000000f0)</span>
<span class="cp">#define TX_PWR_CFG_0_55MBS		FIELD32(0x00000f00)</span>
<span class="cp">#define TX_PWR_CFG_0_11MBS		FIELD32(0x0000f000)</span>
<span class="cp">#define TX_PWR_CFG_0_6MBS		FIELD32(0x000f0000)</span>
<span class="cp">#define TX_PWR_CFG_0_9MBS		FIELD32(0x00f00000)</span>
<span class="cp">#define TX_PWR_CFG_0_12MBS		FIELD32(0x0f000000)</span>
<span class="cp">#define TX_PWR_CFG_0_18MBS		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_PWR_CFG_1:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_PWR_CFG_1			0x1318</span>
<span class="cp">#define TX_PWR_CFG_1_24MBS		FIELD32(0x0000000f)</span>
<span class="cp">#define TX_PWR_CFG_1_36MBS		FIELD32(0x000000f0)</span>
<span class="cp">#define TX_PWR_CFG_1_48MBS		FIELD32(0x00000f00)</span>
<span class="cp">#define TX_PWR_CFG_1_54MBS		FIELD32(0x0000f000)</span>
<span class="cp">#define TX_PWR_CFG_1_MCS0		FIELD32(0x000f0000)</span>
<span class="cp">#define TX_PWR_CFG_1_MCS1		FIELD32(0x00f00000)</span>
<span class="cp">#define TX_PWR_CFG_1_MCS2		FIELD32(0x0f000000)</span>
<span class="cp">#define TX_PWR_CFG_1_MCS3		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_PWR_CFG_2:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_PWR_CFG_2			0x131c</span>
<span class="cp">#define TX_PWR_CFG_2_MCS4		FIELD32(0x0000000f)</span>
<span class="cp">#define TX_PWR_CFG_2_MCS5		FIELD32(0x000000f0)</span>
<span class="cp">#define TX_PWR_CFG_2_MCS6		FIELD32(0x00000f00)</span>
<span class="cp">#define TX_PWR_CFG_2_MCS7		FIELD32(0x0000f000)</span>
<span class="cp">#define TX_PWR_CFG_2_MCS8		FIELD32(0x000f0000)</span>
<span class="cp">#define TX_PWR_CFG_2_MCS9		FIELD32(0x00f00000)</span>
<span class="cp">#define TX_PWR_CFG_2_MCS10		FIELD32(0x0f000000)</span>
<span class="cp">#define TX_PWR_CFG_2_MCS11		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_PWR_CFG_3:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_PWR_CFG_3			0x1320</span>
<span class="cp">#define TX_PWR_CFG_3_MCS12		FIELD32(0x0000000f)</span>
<span class="cp">#define TX_PWR_CFG_3_MCS13		FIELD32(0x000000f0)</span>
<span class="cp">#define TX_PWR_CFG_3_MCS14		FIELD32(0x00000f00)</span>
<span class="cp">#define TX_PWR_CFG_3_MCS15		FIELD32(0x0000f000)</span>
<span class="cp">#define TX_PWR_CFG_3_UKNOWN1		FIELD32(0x000f0000)</span>
<span class="cp">#define TX_PWR_CFG_3_UKNOWN2		FIELD32(0x00f00000)</span>
<span class="cp">#define TX_PWR_CFG_3_UKNOWN3		FIELD32(0x0f000000)</span>
<span class="cp">#define TX_PWR_CFG_3_UKNOWN4		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_PWR_CFG_4:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_PWR_CFG_4			0x1324</span>
<span class="cp">#define TX_PWR_CFG_4_UKNOWN5		FIELD32(0x0000000f)</span>
<span class="cp">#define TX_PWR_CFG_4_UKNOWN6		FIELD32(0x000000f0)</span>
<span class="cp">#define TX_PWR_CFG_4_UKNOWN7		FIELD32(0x00000f00)</span>
<span class="cp">#define TX_PWR_CFG_4_UKNOWN8		FIELD32(0x0000f000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_PIN_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_PIN_CFG			0x1328</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_DISABLE	0xfcfffff0</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_A0_EN		FIELD32(0x00000001)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_G0_EN		FIELD32(0x00000002)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_A1_EN		FIELD32(0x00000004)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_G1_EN		FIELD32(0x00000008)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_A0_POL		FIELD32(0x00000010)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_G0_POL		FIELD32(0x00000020)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_A1_POL		FIELD32(0x00000040)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_G1_POL		FIELD32(0x00000080)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_A0_EN		FIELD32(0x00000100)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_G0_EN		FIELD32(0x00000200)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_A1_EN		FIELD32(0x00000400)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_G1_EN		FIELD32(0x00000800)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_A0_POL	FIELD32(0x00001000)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_G0_POL	FIELD32(0x00002000)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_A1_POL	FIELD32(0x00004000)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_G1_POL	FIELD32(0x00008000)</span>
<span class="cp">#define TX_PIN_CFG_RFTR_EN		FIELD32(0x00010000)</span>
<span class="cp">#define TX_PIN_CFG_RFTR_POL		FIELD32(0x00020000)</span>
<span class="cp">#define TX_PIN_CFG_TRSW_EN		FIELD32(0x00040000)</span>
<span class="cp">#define TX_PIN_CFG_TRSW_POL		FIELD32(0x00080000)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_A2_EN		FIELD32(0x01000000)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_G2_EN		FIELD32(0x02000000)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_A2_POL		FIELD32(0x04000000)</span>
<span class="cp">#define TX_PIN_CFG_PA_PE_G2_POL		FIELD32(0x08000000)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_A2_EN		FIELD32(0x10000000)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_G2_EN		FIELD32(0x20000000)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_A2_POL	FIELD32(0x40000000)</span>
<span class="cp">#define TX_PIN_CFG_LNA_PE_G2_POL	FIELD32(0x80000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_BAND_CFG: 0x1 use upper 20MHz, 0x0 use lower 20MHz</span>
<span class="cm"> */</span>
<span class="cp">#define TX_BAND_CFG			0x132c</span>
<span class="cp">#define TX_BAND_CFG_HT40_MINUS		FIELD32(0x00000001)</span>
<span class="cp">#define TX_BAND_CFG_A			FIELD32(0x00000002)</span>
<span class="cp">#define TX_BAND_CFG_BG			FIELD32(0x00000004)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_SW_CFG0:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_SW_CFG0			0x1330</span>

<span class="cm">/*</span>
<span class="cm"> * TX_SW_CFG1:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_SW_CFG1			0x1334</span>

<span class="cm">/*</span>
<span class="cm"> * TX_SW_CFG2:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_SW_CFG2			0x1338</span>

<span class="cm">/*</span>
<span class="cm"> * TXOP_THRES_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define TXOP_THRES_CFG			0x133c</span>

<span class="cm">/*</span>
<span class="cm"> * TXOP_CTRL_CFG:</span>
<span class="cm"> * TIMEOUT_TRUN_EN: Enable/Disable TXOP timeout truncation</span>
<span class="cm"> * AC_TRUN_EN: Enable/Disable truncation for AC change</span>
<span class="cm"> * TXRATEGRP_TRUN_EN: Enable/Disable truncation for TX rate group change</span>
<span class="cm"> * USER_MODE_TRUN_EN: Enable/Disable truncation for user TXOP mode</span>
<span class="cm"> * MIMO_PS_TRUN_EN: Enable/Disable truncation for MIMO PS RTS/CTS</span>
<span class="cm"> * RESERVED_TRUN_EN: Reserved</span>
<span class="cm"> * LSIG_TXOP_EN: Enable/Disable L-SIG TXOP protection</span>
<span class="cm"> * EXT_CCA_EN: Enable/Disable extension channel CCA reference (Defer 40Mhz</span>
<span class="cm"> *	       transmissions if extension CCA is clear).</span>
<span class="cm"> * EXT_CCA_DLY: Extension CCA signal delay time (unit: us)</span>
<span class="cm"> * EXT_CWMIN: CwMin for extension channel backoff</span>
<span class="cm"> *	      0: Disabled</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="cp">#define TXOP_CTRL_CFG			0x1340</span>
<span class="cp">#define TXOP_CTRL_CFG_TIMEOUT_TRUN_EN	FIELD32(0x00000001)</span>
<span class="cp">#define TXOP_CTRL_CFG_AC_TRUN_EN	FIELD32(0x00000002)</span>
<span class="cp">#define TXOP_CTRL_CFG_TXRATEGRP_TRUN_EN	FIELD32(0x00000004)</span>
<span class="cp">#define TXOP_CTRL_CFG_USER_MODE_TRUN_EN	FIELD32(0x00000008)</span>
<span class="cp">#define TXOP_CTRL_CFG_MIMO_PS_TRUN_EN	FIELD32(0x00000010)</span>
<span class="cp">#define TXOP_CTRL_CFG_RESERVED_TRUN_EN	FIELD32(0x00000020)</span>
<span class="cp">#define TXOP_CTRL_CFG_LSIG_TXOP_EN	FIELD32(0x00000040)</span>
<span class="cp">#define TXOP_CTRL_CFG_EXT_CCA_EN	FIELD32(0x00000080)</span>
<span class="cp">#define TXOP_CTRL_CFG_EXT_CCA_DLY	FIELD32(0x0000ff00)</span>
<span class="cp">#define TXOP_CTRL_CFG_EXT_CWMIN		FIELD32(0x000f0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_RTS_CFG:</span>
<span class="cm"> * RTS_THRES: unit:byte</span>
<span class="cm"> * RTS_FBK_EN: enable rts rate fallback</span>
<span class="cm"> */</span>
<span class="cp">#define TX_RTS_CFG			0x1344</span>
<span class="cp">#define TX_RTS_CFG_AUTO_RTS_RETRY_LIMIT	FIELD32(0x000000ff)</span>
<span class="cp">#define TX_RTS_CFG_RTS_THRES		FIELD32(0x00ffff00)</span>
<span class="cp">#define TX_RTS_CFG_RTS_FBK_EN		FIELD32(0x01000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_TIMEOUT_CFG:</span>
<span class="cm"> * MPDU_LIFETIME: expiration time = 2^(9+MPDU LIFE TIME) us</span>
<span class="cm"> * RX_ACK_TIMEOUT: unit:slot. Used for TX procedure</span>
<span class="cm"> * TX_OP_TIMEOUT: TXOP timeout value for TXOP truncation.</span>
<span class="cm"> *                it is recommended that:</span>
<span class="cm"> *                (SLOT_TIME) &gt; (TX_OP_TIMEOUT) &gt; (RX_ACK_TIMEOUT)</span>
<span class="cm"> */</span>
<span class="cp">#define TX_TIMEOUT_CFG			0x1348</span>
<span class="cp">#define TX_TIMEOUT_CFG_MPDU_LIFETIME	FIELD32(0x000000f0)</span>
<span class="cp">#define TX_TIMEOUT_CFG_RX_ACK_TIMEOUT	FIELD32(0x0000ff00)</span>
<span class="cp">#define TX_TIMEOUT_CFG_TX_OP_TIMEOUT	FIELD32(0x00ff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_RTY_CFG:</span>
<span class="cm"> * SHORT_RTY_LIMIT: short retry limit</span>
<span class="cm"> * LONG_RTY_LIMIT: long retry limit</span>
<span class="cm"> * LONG_RTY_THRE: Long retry threshoold</span>
<span class="cm"> * NON_AGG_RTY_MODE: Non-Aggregate MPDU retry mode</span>
<span class="cm"> *                   0:expired by retry limit, 1: expired by mpdu life timer</span>
<span class="cm"> * AGG_RTY_MODE: Aggregate MPDU retry mode</span>
<span class="cm"> *               0:expired by retry limit, 1: expired by mpdu life timer</span>
<span class="cm"> * TX_AUTO_FB_ENABLE: Tx retry PHY rate auto fallback enable</span>
<span class="cm"> */</span>
<span class="cp">#define TX_RTY_CFG			0x134c</span>
<span class="cp">#define TX_RTY_CFG_SHORT_RTY_LIMIT	FIELD32(0x000000ff)</span>
<span class="cp">#define TX_RTY_CFG_LONG_RTY_LIMIT	FIELD32(0x0000ff00)</span>
<span class="cp">#define TX_RTY_CFG_LONG_RTY_THRE	FIELD32(0x0fff0000)</span>
<span class="cp">#define TX_RTY_CFG_NON_AGG_RTY_MODE	FIELD32(0x10000000)</span>
<span class="cp">#define TX_RTY_CFG_AGG_RTY_MODE		FIELD32(0x20000000)</span>
<span class="cp">#define TX_RTY_CFG_TX_AUTO_FB_ENABLE	FIELD32(0x40000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_LINK_CFG:</span>
<span class="cm"> * REMOTE_MFB_LIFETIME: remote MFB life time. unit: 32us</span>
<span class="cm"> * MFB_ENABLE: TX apply remote MFB 1:enable</span>
<span class="cm"> * REMOTE_UMFS_ENABLE: remote unsolicit  MFB enable</span>
<span class="cm"> *                     0: not apply remote remote unsolicit (MFS=7)</span>
<span class="cm"> * TX_MRQ_EN: MCS request TX enable</span>
<span class="cm"> * TX_RDG_EN: RDG TX enable</span>
<span class="cm"> * TX_CF_ACK_EN: Piggyback CF-ACK enable</span>
<span class="cm"> * REMOTE_MFB: remote MCS feedback</span>
<span class="cm"> * REMOTE_MFS: remote MCS feedback sequence number</span>
<span class="cm"> */</span>
<span class="cp">#define TX_LINK_CFG			0x1350</span>
<span class="cp">#define TX_LINK_CFG_REMOTE_MFB_LIFETIME	FIELD32(0x000000ff)</span>
<span class="cp">#define TX_LINK_CFG_MFB_ENABLE		FIELD32(0x00000100)</span>
<span class="cp">#define TX_LINK_CFG_REMOTE_UMFS_ENABLE	FIELD32(0x00000200)</span>
<span class="cp">#define TX_LINK_CFG_TX_MRQ_EN		FIELD32(0x00000400)</span>
<span class="cp">#define TX_LINK_CFG_TX_RDG_EN		FIELD32(0x00000800)</span>
<span class="cp">#define TX_LINK_CFG_TX_CF_ACK_EN	FIELD32(0x00001000)</span>
<span class="cp">#define TX_LINK_CFG_REMOTE_MFB		FIELD32(0x00ff0000)</span>
<span class="cp">#define TX_LINK_CFG_REMOTE_MFS		FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * HT_FBK_CFG0:</span>
<span class="cm"> */</span>
<span class="cp">#define HT_FBK_CFG0			0x1354</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS0FBK		FIELD32(0x0000000f)</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS1FBK		FIELD32(0x000000f0)</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS2FBK		FIELD32(0x00000f00)</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS3FBK		FIELD32(0x0000f000)</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS4FBK		FIELD32(0x000f0000)</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS5FBK		FIELD32(0x00f00000)</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS6FBK		FIELD32(0x0f000000)</span>
<span class="cp">#define HT_FBK_CFG0_HTMCS7FBK		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * HT_FBK_CFG1:</span>
<span class="cm"> */</span>
<span class="cp">#define HT_FBK_CFG1			0x1358</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS8FBK		FIELD32(0x0000000f)</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS9FBK		FIELD32(0x000000f0)</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS10FBK		FIELD32(0x00000f00)</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS11FBK		FIELD32(0x0000f000)</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS12FBK		FIELD32(0x000f0000)</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS13FBK		FIELD32(0x00f00000)</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS14FBK		FIELD32(0x0f000000)</span>
<span class="cp">#define HT_FBK_CFG1_HTMCS15FBK		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * LG_FBK_CFG0:</span>
<span class="cm"> */</span>
<span class="cp">#define LG_FBK_CFG0			0x135c</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS0FBK		FIELD32(0x0000000f)</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS1FBK		FIELD32(0x000000f0)</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS2FBK		FIELD32(0x00000f00)</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS3FBK		FIELD32(0x0000f000)</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS4FBK		FIELD32(0x000f0000)</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS5FBK		FIELD32(0x00f00000)</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS6FBK		FIELD32(0x0f000000)</span>
<span class="cp">#define LG_FBK_CFG0_OFDMMCS7FBK		FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * LG_FBK_CFG1:</span>
<span class="cm"> */</span>
<span class="cp">#define LG_FBK_CFG1			0x1360</span>
<span class="cp">#define LG_FBK_CFG0_CCKMCS0FBK		FIELD32(0x0000000f)</span>
<span class="cp">#define LG_FBK_CFG0_CCKMCS1FBK		FIELD32(0x000000f0)</span>
<span class="cp">#define LG_FBK_CFG0_CCKMCS2FBK		FIELD32(0x00000f00)</span>
<span class="cp">#define LG_FBK_CFG0_CCKMCS3FBK		FIELD32(0x0000f000)</span>

<span class="cm">/*</span>
<span class="cm"> * CCK_PROT_CFG: CCK Protection</span>
<span class="cm"> * PROTECT_RATE: Protection control frame rate for CCK TX(RTS/CTS/CFEnd)</span>
<span class="cm"> * PROTECT_CTRL: Protection control frame type for CCK TX</span>
<span class="cm"> *               0:none, 1:RTS/CTS, 2:CTS-to-self</span>
<span class="cm"> * PROTECT_NAV_SHORT: TXOP protection type for CCK TX with short NAV</span>
<span class="cm"> * PROTECT_NAV_LONG: TXOP protection type for CCK TX with long NAV</span>
<span class="cm"> * TX_OP_ALLOW_CCK: CCK TXOP allowance, 0:disallow</span>
<span class="cm"> * TX_OP_ALLOW_OFDM: CCK TXOP allowance, 0:disallow</span>
<span class="cm"> * TX_OP_ALLOW_MM20: CCK TXOP allowance, 0:disallow</span>
<span class="cm"> * TX_OP_ALLOW_MM40: CCK TXOP allowance, 0:disallow</span>
<span class="cm"> * TX_OP_ALLOW_GF20: CCK TXOP allowance, 0:disallow</span>
<span class="cm"> * TX_OP_ALLOW_GF40: CCK TXOP allowance, 0:disallow</span>
<span class="cm"> * RTS_TH_EN: RTS threshold enable on CCK TX</span>
<span class="cm"> */</span>
<span class="cp">#define CCK_PROT_CFG			0x1364</span>
<span class="cp">#define CCK_PROT_CFG_PROTECT_RATE	FIELD32(0x0000ffff)</span>
<span class="cp">#define CCK_PROT_CFG_PROTECT_CTRL	FIELD32(0x00030000)</span>
<span class="cp">#define CCK_PROT_CFG_PROTECT_NAV_SHORT	FIELD32(0x00040000)</span>
<span class="cp">#define CCK_PROT_CFG_PROTECT_NAV_LONG	FIELD32(0x00080000)</span>
<span class="cp">#define CCK_PROT_CFG_TX_OP_ALLOW_CCK	FIELD32(0x00100000)</span>
<span class="cp">#define CCK_PROT_CFG_TX_OP_ALLOW_OFDM	FIELD32(0x00200000)</span>
<span class="cp">#define CCK_PROT_CFG_TX_OP_ALLOW_MM20	FIELD32(0x00400000)</span>
<span class="cp">#define CCK_PROT_CFG_TX_OP_ALLOW_MM40	FIELD32(0x00800000)</span>
<span class="cp">#define CCK_PROT_CFG_TX_OP_ALLOW_GF20	FIELD32(0x01000000)</span>
<span class="cp">#define CCK_PROT_CFG_TX_OP_ALLOW_GF40	FIELD32(0x02000000)</span>
<span class="cp">#define CCK_PROT_CFG_RTS_TH_EN		FIELD32(0x04000000)</span>

<span class="cm">/*</span>
<span class="cm"> * OFDM_PROT_CFG: OFDM Protection</span>
<span class="cm"> */</span>
<span class="cp">#define OFDM_PROT_CFG			0x1368</span>
<span class="cp">#define OFDM_PROT_CFG_PROTECT_RATE	FIELD32(0x0000ffff)</span>
<span class="cp">#define OFDM_PROT_CFG_PROTECT_CTRL	FIELD32(0x00030000)</span>
<span class="cp">#define OFDM_PROT_CFG_PROTECT_NAV_SHORT	FIELD32(0x00040000)</span>
<span class="cp">#define OFDM_PROT_CFG_PROTECT_NAV_LONG	FIELD32(0x00080000)</span>
<span class="cp">#define OFDM_PROT_CFG_TX_OP_ALLOW_CCK	FIELD32(0x00100000)</span>
<span class="cp">#define OFDM_PROT_CFG_TX_OP_ALLOW_OFDM	FIELD32(0x00200000)</span>
<span class="cp">#define OFDM_PROT_CFG_TX_OP_ALLOW_MM20	FIELD32(0x00400000)</span>
<span class="cp">#define OFDM_PROT_CFG_TX_OP_ALLOW_MM40	FIELD32(0x00800000)</span>
<span class="cp">#define OFDM_PROT_CFG_TX_OP_ALLOW_GF20	FIELD32(0x01000000)</span>
<span class="cp">#define OFDM_PROT_CFG_TX_OP_ALLOW_GF40	FIELD32(0x02000000)</span>
<span class="cp">#define OFDM_PROT_CFG_RTS_TH_EN		FIELD32(0x04000000)</span>

<span class="cm">/*</span>
<span class="cm"> * MM20_PROT_CFG: MM20 Protection</span>
<span class="cm"> */</span>
<span class="cp">#define MM20_PROT_CFG			0x136c</span>
<span class="cp">#define MM20_PROT_CFG_PROTECT_RATE	FIELD32(0x0000ffff)</span>
<span class="cp">#define MM20_PROT_CFG_PROTECT_CTRL	FIELD32(0x00030000)</span>
<span class="cp">#define MM20_PROT_CFG_PROTECT_NAV_SHORT	FIELD32(0x00040000)</span>
<span class="cp">#define MM20_PROT_CFG_PROTECT_NAV_LONG	FIELD32(0x00080000)</span>
<span class="cp">#define MM20_PROT_CFG_TX_OP_ALLOW_CCK	FIELD32(0x00100000)</span>
<span class="cp">#define MM20_PROT_CFG_TX_OP_ALLOW_OFDM	FIELD32(0x00200000)</span>
<span class="cp">#define MM20_PROT_CFG_TX_OP_ALLOW_MM20	FIELD32(0x00400000)</span>
<span class="cp">#define MM20_PROT_CFG_TX_OP_ALLOW_MM40	FIELD32(0x00800000)</span>
<span class="cp">#define MM20_PROT_CFG_TX_OP_ALLOW_GF20	FIELD32(0x01000000)</span>
<span class="cp">#define MM20_PROT_CFG_TX_OP_ALLOW_GF40	FIELD32(0x02000000)</span>
<span class="cp">#define MM20_PROT_CFG_RTS_TH_EN		FIELD32(0x04000000)</span>

<span class="cm">/*</span>
<span class="cm"> * MM40_PROT_CFG: MM40 Protection</span>
<span class="cm"> */</span>
<span class="cp">#define MM40_PROT_CFG			0x1370</span>
<span class="cp">#define MM40_PROT_CFG_PROTECT_RATE	FIELD32(0x0000ffff)</span>
<span class="cp">#define MM40_PROT_CFG_PROTECT_CTRL	FIELD32(0x00030000)</span>
<span class="cp">#define MM40_PROT_CFG_PROTECT_NAV_SHORT	FIELD32(0x00040000)</span>
<span class="cp">#define MM40_PROT_CFG_PROTECT_NAV_LONG	FIELD32(0x00080000)</span>
<span class="cp">#define MM40_PROT_CFG_TX_OP_ALLOW_CCK	FIELD32(0x00100000)</span>
<span class="cp">#define MM40_PROT_CFG_TX_OP_ALLOW_OFDM	FIELD32(0x00200000)</span>
<span class="cp">#define MM40_PROT_CFG_TX_OP_ALLOW_MM20	FIELD32(0x00400000)</span>
<span class="cp">#define MM40_PROT_CFG_TX_OP_ALLOW_MM40	FIELD32(0x00800000)</span>
<span class="cp">#define MM40_PROT_CFG_TX_OP_ALLOW_GF20	FIELD32(0x01000000)</span>
<span class="cp">#define MM40_PROT_CFG_TX_OP_ALLOW_GF40	FIELD32(0x02000000)</span>
<span class="cp">#define MM40_PROT_CFG_RTS_TH_EN		FIELD32(0x04000000)</span>

<span class="cm">/*</span>
<span class="cm"> * GF20_PROT_CFG: GF20 Protection</span>
<span class="cm"> */</span>
<span class="cp">#define GF20_PROT_CFG			0x1374</span>
<span class="cp">#define GF20_PROT_CFG_PROTECT_RATE	FIELD32(0x0000ffff)</span>
<span class="cp">#define GF20_PROT_CFG_PROTECT_CTRL	FIELD32(0x00030000)</span>
<span class="cp">#define GF20_PROT_CFG_PROTECT_NAV_SHORT	FIELD32(0x00040000)</span>
<span class="cp">#define GF20_PROT_CFG_PROTECT_NAV_LONG	FIELD32(0x00080000)</span>
<span class="cp">#define GF20_PROT_CFG_TX_OP_ALLOW_CCK	FIELD32(0x00100000)</span>
<span class="cp">#define GF20_PROT_CFG_TX_OP_ALLOW_OFDM	FIELD32(0x00200000)</span>
<span class="cp">#define GF20_PROT_CFG_TX_OP_ALLOW_MM20	FIELD32(0x00400000)</span>
<span class="cp">#define GF20_PROT_CFG_TX_OP_ALLOW_MM40	FIELD32(0x00800000)</span>
<span class="cp">#define GF20_PROT_CFG_TX_OP_ALLOW_GF20	FIELD32(0x01000000)</span>
<span class="cp">#define GF20_PROT_CFG_TX_OP_ALLOW_GF40	FIELD32(0x02000000)</span>
<span class="cp">#define GF20_PROT_CFG_RTS_TH_EN		FIELD32(0x04000000)</span>

<span class="cm">/*</span>
<span class="cm"> * GF40_PROT_CFG: GF40 Protection</span>
<span class="cm"> */</span>
<span class="cp">#define GF40_PROT_CFG			0x1378</span>
<span class="cp">#define GF40_PROT_CFG_PROTECT_RATE	FIELD32(0x0000ffff)</span>
<span class="cp">#define GF40_PROT_CFG_PROTECT_CTRL	FIELD32(0x00030000)</span>
<span class="cp">#define GF40_PROT_CFG_PROTECT_NAV_SHORT	FIELD32(0x00040000)</span>
<span class="cp">#define GF40_PROT_CFG_PROTECT_NAV_LONG	FIELD32(0x00080000)</span>
<span class="cp">#define GF40_PROT_CFG_TX_OP_ALLOW_CCK	FIELD32(0x00100000)</span>
<span class="cp">#define GF40_PROT_CFG_TX_OP_ALLOW_OFDM	FIELD32(0x00200000)</span>
<span class="cp">#define GF40_PROT_CFG_TX_OP_ALLOW_MM20	FIELD32(0x00400000)</span>
<span class="cp">#define GF40_PROT_CFG_TX_OP_ALLOW_MM40	FIELD32(0x00800000)</span>
<span class="cp">#define GF40_PROT_CFG_TX_OP_ALLOW_GF20	FIELD32(0x01000000)</span>
<span class="cp">#define GF40_PROT_CFG_TX_OP_ALLOW_GF40	FIELD32(0x02000000)</span>
<span class="cp">#define GF40_PROT_CFG_RTS_TH_EN		FIELD32(0x04000000)</span>

<span class="cm">/*</span>
<span class="cm"> * EXP_CTS_TIME:</span>
<span class="cm"> */</span>
<span class="cp">#define EXP_CTS_TIME			0x137c</span>

<span class="cm">/*</span>
<span class="cm"> * EXP_ACK_TIME:</span>
<span class="cm"> */</span>
<span class="cp">#define EXP_ACK_TIME			0x1380</span>

<span class="cm">/*</span>
<span class="cm"> * RX_FILTER_CFG: RX configuration register.</span>
<span class="cm"> */</span>
<span class="cp">#define RX_FILTER_CFG			0x1400</span>
<span class="cp">#define RX_FILTER_CFG_DROP_CRC_ERROR	FIELD32(0x00000001)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_PHY_ERROR	FIELD32(0x00000002)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_NOT_TO_ME	FIELD32(0x00000004)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_NOT_MY_BSSD	FIELD32(0x00000008)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_VER_ERROR	FIELD32(0x00000010)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_MULTICAST	FIELD32(0x00000020)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_BROADCAST	FIELD32(0x00000040)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_DUPLICATE	FIELD32(0x00000080)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_CF_END_ACK	FIELD32(0x00000100)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_CF_END	FIELD32(0x00000200)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_ACK		FIELD32(0x00000400)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_CTS		FIELD32(0x00000800)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_RTS		FIELD32(0x00001000)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_PSPOLL	FIELD32(0x00002000)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_BA		FIELD32(0x00004000)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_BAR		FIELD32(0x00008000)</span>
<span class="cp">#define RX_FILTER_CFG_DROP_CNTL		FIELD32(0x00010000)</span>

<span class="cm">/*</span>
<span class="cm"> * AUTO_RSP_CFG:</span>
<span class="cm"> * AUTORESPONDER: 0: disable, 1: enable</span>
<span class="cm"> * BAC_ACK_POLICY: 0:long, 1:short preamble</span>
<span class="cm"> * CTS_40_MMODE: Response CTS 40MHz duplicate mode</span>
<span class="cm"> * CTS_40_MREF: Response CTS 40MHz duplicate mode</span>
<span class="cm"> * AR_PREAMBLE: Auto responder preamble 0:long, 1:short preamble</span>
<span class="cm"> * DUAL_CTS_EN: Power bit value in control frame</span>
<span class="cm"> * ACK_CTS_PSM_BIT:Power bit value in control frame</span>
<span class="cm"> */</span>
<span class="cp">#define AUTO_RSP_CFG			0x1404</span>
<span class="cp">#define AUTO_RSP_CFG_AUTORESPONDER	FIELD32(0x00000001)</span>
<span class="cp">#define AUTO_RSP_CFG_BAC_ACK_POLICY	FIELD32(0x00000002)</span>
<span class="cp">#define AUTO_RSP_CFG_CTS_40_MMODE	FIELD32(0x00000004)</span>
<span class="cp">#define AUTO_RSP_CFG_CTS_40_MREF	FIELD32(0x00000008)</span>
<span class="cp">#define AUTO_RSP_CFG_AR_PREAMBLE	FIELD32(0x00000010)</span>
<span class="cp">#define AUTO_RSP_CFG_DUAL_CTS_EN	FIELD32(0x00000040)</span>
<span class="cp">#define AUTO_RSP_CFG_ACK_CTS_PSM_BIT	FIELD32(0x00000080)</span>

<span class="cm">/*</span>
<span class="cm"> * LEGACY_BASIC_RATE:</span>
<span class="cm"> */</span>
<span class="cp">#define LEGACY_BASIC_RATE		0x1408</span>

<span class="cm">/*</span>
<span class="cm"> * HT_BASIC_RATE:</span>
<span class="cm"> */</span>
<span class="cp">#define HT_BASIC_RATE			0x140c</span>

<span class="cm">/*</span>
<span class="cm"> * HT_CTRL_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define HT_CTRL_CFG			0x1410</span>

<span class="cm">/*</span>
<span class="cm"> * SIFS_COST_CFG:</span>
<span class="cm"> */</span>
<span class="cp">#define SIFS_COST_CFG			0x1414</span>

<span class="cm">/*</span>
<span class="cm"> * RX_PARSER_CFG:</span>
<span class="cm"> * Set NAV for all received frames</span>
<span class="cm"> */</span>
<span class="cp">#define RX_PARSER_CFG			0x1418</span>

<span class="cm">/*</span>
<span class="cm"> * TX_SEC_CNT0:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_SEC_CNT0			0x1500</span>

<span class="cm">/*</span>
<span class="cm"> * RX_SEC_CNT0:</span>
<span class="cm"> */</span>
<span class="cp">#define RX_SEC_CNT0			0x1504</span>

<span class="cm">/*</span>
<span class="cm"> * CCMP_FC_MUTE:</span>
<span class="cm"> */</span>
<span class="cp">#define CCMP_FC_MUTE			0x1508</span>

<span class="cm">/*</span>
<span class="cm"> * TXOP_HLDR_ADDR0:</span>
<span class="cm"> */</span>
<span class="cp">#define TXOP_HLDR_ADDR0			0x1600</span>

<span class="cm">/*</span>
<span class="cm"> * TXOP_HLDR_ADDR1:</span>
<span class="cm"> */</span>
<span class="cp">#define TXOP_HLDR_ADDR1			0x1604</span>

<span class="cm">/*</span>
<span class="cm"> * TXOP_HLDR_ET:</span>
<span class="cm"> */</span>
<span class="cp">#define TXOP_HLDR_ET			0x1608</span>

<span class="cm">/*</span>
<span class="cm"> * QOS_CFPOLL_RA_DW0:</span>
<span class="cm"> */</span>
<span class="cp">#define QOS_CFPOLL_RA_DW0		0x160c</span>

<span class="cm">/*</span>
<span class="cm"> * QOS_CFPOLL_RA_DW1:</span>
<span class="cm"> */</span>
<span class="cp">#define QOS_CFPOLL_RA_DW1		0x1610</span>

<span class="cm">/*</span>
<span class="cm"> * QOS_CFPOLL_QC:</span>
<span class="cm"> */</span>
<span class="cp">#define QOS_CFPOLL_QC			0x1614</span>

<span class="cm">/*</span>
<span class="cm"> * RX_STA_CNT0: RX PLCP error count &amp; RX CRC error count</span>
<span class="cm"> */</span>
<span class="cp">#define RX_STA_CNT0			0x1700</span>
<span class="cp">#define RX_STA_CNT0_CRC_ERR		FIELD32(0x0000ffff)</span>
<span class="cp">#define RX_STA_CNT0_PHY_ERR		FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * RX_STA_CNT1: RX False CCA count &amp; RX LONG frame count</span>
<span class="cm"> */</span>
<span class="cp">#define RX_STA_CNT1			0x1704</span>
<span class="cp">#define RX_STA_CNT1_FALSE_CCA		FIELD32(0x0000ffff)</span>
<span class="cp">#define RX_STA_CNT1_PLCP_ERR		FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * RX_STA_CNT2:</span>
<span class="cm"> */</span>
<span class="cp">#define RX_STA_CNT2			0x1708</span>
<span class="cp">#define RX_STA_CNT2_RX_DUPLI_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define RX_STA_CNT2_RX_FIFO_OVERFLOW	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_STA_CNT0: TX Beacon count</span>
<span class="cm"> */</span>
<span class="cp">#define TX_STA_CNT0			0x170c</span>
<span class="cp">#define TX_STA_CNT0_TX_FAIL_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_STA_CNT0_TX_BEACON_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_STA_CNT1: TX tx count</span>
<span class="cm"> */</span>
<span class="cp">#define TX_STA_CNT1			0x1710</span>
<span class="cp">#define TX_STA_CNT1_TX_SUCCESS		FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_STA_CNT1_TX_RETRANSMIT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_STA_CNT2: TX tx count</span>
<span class="cm"> */</span>
<span class="cp">#define TX_STA_CNT2			0x1714</span>
<span class="cp">#define TX_STA_CNT2_TX_ZERO_LEN_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_STA_CNT2_TX_UNDER_FLOW_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_STA_FIFO: TX Result for specific PID status fifo register.</span>
<span class="cm"> *</span>
<span class="cm"> * This register is implemented as FIFO with 16 entries in the HW. Each</span>
<span class="cm"> * register read fetches the next tx result. If the FIFO is full because</span>
<span class="cm"> * it wasn&#39;t read fast enough after the according interrupt (TX_FIFO_STATUS)</span>
<span class="cm"> * triggered, the hw seems to simply drop further tx results.</span>
<span class="cm"> *</span>
<span class="cm"> * VALID: 1: this tx result is valid</span>
<span class="cm"> *        0: no valid tx result -&gt; driver should stop reading</span>
<span class="cm"> * PID_TYPE: The PID latched from the PID field in the TXWI, can be used</span>
<span class="cm"> *           to match a frame with its tx result (even though the PID is</span>
<span class="cm"> *           only 4 bits wide).</span>
<span class="cm"> * PID_QUEUE: Part of PID_TYPE, this is the queue index number (0-3)</span>
<span class="cm"> * PID_ENTRY: Part of PID_TYPE, this is the queue entry index number (1-3)</span>
<span class="cm"> *            This identification number is calculated by ((idx % 3) + 1).</span>
<span class="cm"> * TX_SUCCESS: Indicates tx success (1) or failure (0)</span>
<span class="cm"> * TX_AGGRE: Indicates if the frame was part of an aggregate (1) or not (0)</span>
<span class="cm"> * TX_ACK_REQUIRED: Indicates if the frame needed to get ack&#39;ed (1) or not (0)</span>
<span class="cm"> * WCID: The wireless client ID.</span>
<span class="cm"> * MCS: The tx rate used during the last transmission of this frame, be it</span>
<span class="cm"> *      successful or not.</span>
<span class="cm"> * PHYMODE: The phymode used for the transmission.</span>
<span class="cm"> */</span>
<span class="cp">#define TX_STA_FIFO			0x1718</span>
<span class="cp">#define TX_STA_FIFO_VALID		FIELD32(0x00000001)</span>
<span class="cp">#define TX_STA_FIFO_PID_TYPE		FIELD32(0x0000001e)</span>
<span class="cp">#define TX_STA_FIFO_PID_QUEUE		FIELD32(0x00000006)</span>
<span class="cp">#define TX_STA_FIFO_PID_ENTRY		FIELD32(0x00000018)</span>
<span class="cp">#define TX_STA_FIFO_TX_SUCCESS		FIELD32(0x00000020)</span>
<span class="cp">#define TX_STA_FIFO_TX_AGGRE		FIELD32(0x00000040)</span>
<span class="cp">#define TX_STA_FIFO_TX_ACK_REQUIRED	FIELD32(0x00000080)</span>
<span class="cp">#define TX_STA_FIFO_WCID		FIELD32(0x0000ff00)</span>
<span class="cp">#define TX_STA_FIFO_SUCCESS_RATE	FIELD32(0xffff0000)</span>
<span class="cp">#define TX_STA_FIFO_MCS			FIELD32(0x007f0000)</span>
<span class="cp">#define TX_STA_FIFO_PHYMODE		FIELD32(0xc0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT: Debug counter</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT			0x171c</span>
<span class="cp">#define TX_AGG_CNT_NON_AGG_TX_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT_AGG_TX_COUNT		FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT0:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT0			0x1720</span>
<span class="cp">#define TX_AGG_CNT0_AGG_SIZE_1_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT0_AGG_SIZE_2_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT1:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT1			0x1724</span>
<span class="cp">#define TX_AGG_CNT1_AGG_SIZE_3_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT1_AGG_SIZE_4_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT2:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT2			0x1728</span>
<span class="cp">#define TX_AGG_CNT2_AGG_SIZE_5_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT2_AGG_SIZE_6_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT3:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT3			0x172c</span>
<span class="cp">#define TX_AGG_CNT3_AGG_SIZE_7_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT3_AGG_SIZE_8_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT4:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT4			0x1730</span>
<span class="cp">#define TX_AGG_CNT4_AGG_SIZE_9_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT4_AGG_SIZE_10_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT5:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT5			0x1734</span>
<span class="cp">#define TX_AGG_CNT5_AGG_SIZE_11_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT5_AGG_SIZE_12_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT6:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT6			0x1738</span>
<span class="cp">#define TX_AGG_CNT6_AGG_SIZE_13_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT6_AGG_SIZE_14_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * TX_AGG_CNT7:</span>
<span class="cm"> */</span>
<span class="cp">#define TX_AGG_CNT7			0x173c</span>
<span class="cp">#define TX_AGG_CNT7_AGG_SIZE_15_COUNT	FIELD32(0x0000ffff)</span>
<span class="cp">#define TX_AGG_CNT7_AGG_SIZE_16_COUNT	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * MPDU_DENSITY_CNT:</span>
<span class="cm"> * TX_ZERO_DEL: TX zero length delimiter count</span>
<span class="cm"> * RX_ZERO_DEL: RX zero length delimiter count</span>
<span class="cm"> */</span>
<span class="cp">#define MPDU_DENSITY_CNT		0x1740</span>
<span class="cp">#define MPDU_DENSITY_CNT_TX_ZERO_DEL	FIELD32(0x0000ffff)</span>
<span class="cp">#define MPDU_DENSITY_CNT_RX_ZERO_DEL	FIELD32(0xffff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * Security key table memory.</span>
<span class="cm"> *</span>
<span class="cm"> * The pairwise key table shares some memory with the beacon frame</span>
<span class="cm"> * buffers 6 and 7. That basically means that when beacon 6 &amp; 7</span>
<span class="cm"> * are used we should only use the reduced pairwise key table which</span>
<span class="cm"> * has a maximum of 222 entries.</span>
<span class="cm"> *</span>
<span class="cm"> * ---------------------------------------------</span>
<span class="cm"> * |0x4000 | Pairwise Key   | Reduced Pairwise |</span>
<span class="cm"> * |       | Table          | Key Table        |</span>
<span class="cm"> * |       | Size: 256 * 32 | Size: 222 * 32   |</span>
<span class="cm"> * |0x5BC0 |                |-------------------</span>
<span class="cm"> * |       |                | Beacon 6         |</span>
<span class="cm"> * |0x5DC0 |                |-------------------</span>
<span class="cm"> * |       |                | Beacon 7         |</span>
<span class="cm"> * |0x5FC0 |                |-------------------</span>
<span class="cm"> * |0x5FFF |                |</span>
<span class="cm"> * --------------------------</span>
<span class="cm"> *</span>
<span class="cm"> * MAC_WCID_BASE: 8-bytes (use only 6 bytes) * 256 entry</span>
<span class="cm"> * PAIRWISE_KEY_TABLE_BASE: 32-byte * 256 entry</span>
<span class="cm"> * MAC_IVEIV_TABLE_BASE: 8-byte * 256-entry</span>
<span class="cm"> * MAC_WCID_ATTRIBUTE_BASE: 4-byte * 256-entry</span>
<span class="cm"> * SHARED_KEY_TABLE_BASE: 32-byte * 16-entry</span>
<span class="cm"> * SHARED_KEY_MODE_BASE: 4-byte * 16-entry</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_WCID_BASE			0x1800</span>
<span class="cp">#define PAIRWISE_KEY_TABLE_BASE		0x4000</span>
<span class="cp">#define MAC_IVEIV_TABLE_BASE		0x6000</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_BASE		0x6800</span>
<span class="cp">#define SHARED_KEY_TABLE_BASE		0x6c00</span>
<span class="cp">#define SHARED_KEY_MODE_BASE		0x7000</span>

<span class="cp">#define MAC_WCID_ENTRY(__idx) \</span>
<span class="cp">	(MAC_WCID_BASE + ((__idx) * sizeof(struct mac_wcid_entry)))</span>
<span class="cp">#define PAIRWISE_KEY_ENTRY(__idx) \</span>
<span class="cp">	(PAIRWISE_KEY_TABLE_BASE + ((__idx) * sizeof(struct hw_key_entry)))</span>
<span class="cp">#define MAC_IVEIV_ENTRY(__idx) \</span>
<span class="cp">	(MAC_IVEIV_TABLE_BASE + ((__idx) * sizeof(struct mac_iveiv_entry)))</span>
<span class="cp">#define MAC_WCID_ATTR_ENTRY(__idx) \</span>
<span class="cp">	(MAC_WCID_ATTRIBUTE_BASE + ((__idx) * sizeof(u32)))</span>
<span class="cp">#define SHARED_KEY_ENTRY(__idx) \</span>
<span class="cp">	(SHARED_KEY_TABLE_BASE + ((__idx) * sizeof(struct hw_key_entry)))</span>
<span class="cp">#define SHARED_KEY_MODE_ENTRY(__idx) \</span>
<span class="cp">	(SHARED_KEY_MODE_BASE + ((__idx) * sizeof(u32)))</span>

<span class="k">struct</span> <span class="n">mac_wcid_entry</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">mac</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">hw_key_entry</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">key</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">tx_mic</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">rx_mic</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mac_iveiv_entry</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">iv</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * MAC_WCID_ATTRIBUTE:</span>
<span class="cm"> */</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_KEYTAB	FIELD32(0x00000001)</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_CIPHER	FIELD32(0x0000000e)</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_BSS_IDX	FIELD32(0x00000070)</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_RX_WIUDF	FIELD32(0x00000380)</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_CIPHER_EXT	FIELD32(0x00000400)</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_BSS_IDX_EXT	FIELD32(0x00000800)</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_WAPI_MCBC	FIELD32(0x00008000)</span>
<span class="cp">#define MAC_WCID_ATTRIBUTE_WAPI_KEY_IDX	FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * SHARED_KEY_MODE:</span>
<span class="cm"> */</span>
<span class="cp">#define SHARED_KEY_MODE_BSS0_KEY0	FIELD32(0x00000007)</span>
<span class="cp">#define SHARED_KEY_MODE_BSS0_KEY1	FIELD32(0x00000070)</span>
<span class="cp">#define SHARED_KEY_MODE_BSS0_KEY2	FIELD32(0x00000700)</span>
<span class="cp">#define SHARED_KEY_MODE_BSS0_KEY3	FIELD32(0x00007000)</span>
<span class="cp">#define SHARED_KEY_MODE_BSS1_KEY0	FIELD32(0x00070000)</span>
<span class="cp">#define SHARED_KEY_MODE_BSS1_KEY1	FIELD32(0x00700000)</span>
<span class="cp">#define SHARED_KEY_MODE_BSS1_KEY2	FIELD32(0x07000000)</span>
<span class="cp">#define SHARED_KEY_MODE_BSS1_KEY3	FIELD32(0x70000000)</span>

<span class="cm">/*</span>
<span class="cm"> * HOST-MCU communication</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * H2M_MAILBOX_CSR: Host-to-MCU Mailbox.</span>
<span class="cm"> * CMD_TOKEN: Command id, 0xff disable status reporting.</span>
<span class="cm"> */</span>
<span class="cp">#define H2M_MAILBOX_CSR			0x7010</span>
<span class="cp">#define H2M_MAILBOX_CSR_ARG0		FIELD32(0x000000ff)</span>
<span class="cp">#define H2M_MAILBOX_CSR_ARG1		FIELD32(0x0000ff00)</span>
<span class="cp">#define H2M_MAILBOX_CSR_CMD_TOKEN	FIELD32(0x00ff0000)</span>
<span class="cp">#define H2M_MAILBOX_CSR_OWNER		FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * H2M_MAILBOX_CID:</span>
<span class="cm"> * Free slots contain 0xff. MCU will store command&#39;s token to lowest free slot.</span>
<span class="cm"> * If all slots are occupied status will be dropped.</span>
<span class="cm"> */</span>
<span class="cp">#define H2M_MAILBOX_CID			0x7014</span>
<span class="cp">#define H2M_MAILBOX_CID_CMD0		FIELD32(0x000000ff)</span>
<span class="cp">#define H2M_MAILBOX_CID_CMD1		FIELD32(0x0000ff00)</span>
<span class="cp">#define H2M_MAILBOX_CID_CMD2		FIELD32(0x00ff0000)</span>
<span class="cp">#define H2M_MAILBOX_CID_CMD3		FIELD32(0xff000000)</span>

<span class="cm">/*</span>
<span class="cm"> * H2M_MAILBOX_STATUS:</span>
<span class="cm"> * Command status will be saved to same slot as command id.</span>
<span class="cm"> */</span>
<span class="cp">#define H2M_MAILBOX_STATUS		0x701c</span>

<span class="cm">/*</span>
<span class="cm"> * H2M_INT_SRC:</span>
<span class="cm"> */</span>
<span class="cp">#define H2M_INT_SRC			0x7024</span>

<span class="cm">/*</span>
<span class="cm"> * H2M_BBP_AGENT:</span>
<span class="cm"> */</span>
<span class="cp">#define H2M_BBP_AGENT			0x7028</span>

<span class="cm">/*</span>
<span class="cm"> * MCU_LEDCS: LED control for MCU Mailbox.</span>
<span class="cm"> */</span>
<span class="cp">#define MCU_LEDCS_LED_MODE		FIELD8(0x1f)</span>
<span class="cp">#define MCU_LEDCS_POLARITY		FIELD8(0x01)</span>

<span class="cm">/*</span>
<span class="cm"> * HW_CS_CTS_BASE:</span>
<span class="cm"> * Carrier-sense CTS frame base address.</span>
<span class="cm"> * It&#39;s where mac stores carrier-sense frame for carrier-sense function.</span>
<span class="cm"> */</span>
<span class="cp">#define HW_CS_CTS_BASE			0x7700</span>

<span class="cm">/*</span>
<span class="cm"> * HW_DFS_CTS_BASE:</span>
<span class="cm"> * DFS CTS frame base address. It&#39;s where mac stores CTS frame for DFS.</span>
<span class="cm"> */</span>
<span class="cp">#define HW_DFS_CTS_BASE			0x7780</span>

<span class="cm">/*</span>
<span class="cm"> * TXRX control registers - base address 0x3000</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * TXRX_CSR1:</span>
<span class="cm"> * rt2860b  UNKNOWN reg use R/O Reg Addr 0x77d0 first..</span>
<span class="cm"> */</span>
<span class="cp">#define TXRX_CSR1			0x77d0</span>

<span class="cm">/*</span>
<span class="cm"> * HW_DEBUG_SETTING_BASE:</span>
<span class="cm"> * since NULL frame won&#39;t be that long (256 byte)</span>
<span class="cm"> * We steal 16 tail bytes to save debugging settings</span>
<span class="cm"> */</span>
<span class="cp">#define HW_DEBUG_SETTING_BASE		0x77f0</span>
<span class="cp">#define HW_DEBUG_SETTING_BASE2		0x7770</span>

<span class="cm">/*</span>
<span class="cm"> * HW_BEACON_BASE</span>
<span class="cm"> * In order to support maximum 8 MBSS and its maximum length</span>
<span class="cm"> * is 512 bytes for each beacon</span>
<span class="cm"> * Three section discontinue memory segments will be used.</span>
<span class="cm"> * 1. The original region for BCN 0~3</span>
<span class="cm"> * 2. Extract memory from FCE table for BCN 4~5</span>
<span class="cm"> * 3. Extract memory from Pair-wise key table for BCN 6~7</span>
<span class="cm"> *    It occupied those memory of wcid 238~253 for BCN 6</span>
<span class="cm"> *    and wcid 222~237 for BCN 7 (see Security key table memory</span>
<span class="cm"> *    for more info).</span>
<span class="cm"> *</span>
<span class="cm"> * IMPORTANT NOTE: Not sure why legacy driver does this,</span>
<span class="cm"> * but HW_BEACON_BASE7 is 0x0200 bytes below HW_BEACON_BASE6.</span>
<span class="cm"> */</span>
<span class="cp">#define HW_BEACON_BASE0			0x7800</span>
<span class="cp">#define HW_BEACON_BASE1			0x7a00</span>
<span class="cp">#define HW_BEACON_BASE2			0x7c00</span>
<span class="cp">#define HW_BEACON_BASE3			0x7e00</span>
<span class="cp">#define HW_BEACON_BASE4			0x7200</span>
<span class="cp">#define HW_BEACON_BASE5			0x7400</span>
<span class="cp">#define HW_BEACON_BASE6			0x5dc0</span>
<span class="cp">#define HW_BEACON_BASE7			0x5bc0</span>

<span class="cp">#define HW_BEACON_OFFSET(__index) \</span>
<span class="cp">	(((__index) &lt; 4) ? (HW_BEACON_BASE0 + (__index * 0x0200)) : \</span>
<span class="cp">	  (((__index) &lt; 6) ? (HW_BEACON_BASE4 + ((__index - 4) * 0x0200)) : \</span>
<span class="cp">	  (HW_BEACON_BASE6 - ((__index - 6) * 0x0200))))</span>

<span class="cm">/*</span>
<span class="cm"> * BBP registers.</span>
<span class="cm"> * The wordsize of the BBP is 8 bits.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * BBP 1: TX Antenna &amp; Power Control</span>
<span class="cm"> * POWER_CTRL:</span>
<span class="cm"> * 0 - normal,</span>
<span class="cm"> * 1 - drop tx power by 6dBm,</span>
<span class="cm"> * 2 - drop tx power by 12dBm,</span>
<span class="cm"> * 3 - increase tx power by 6dBm</span>
<span class="cm"> */</span>
<span class="cp">#define BBP1_TX_POWER_CTRL		FIELD8(0x07)</span>
<span class="cp">#define BBP1_TX_ANTENNA			FIELD8(0x18)</span>

<span class="cm">/*</span>
<span class="cm"> * BBP 3: RX Antenna</span>
<span class="cm"> */</span>
<span class="cp">#define BBP3_RX_ADC				FIELD8(0x03)</span>
<span class="cp">#define BBP3_RX_ANTENNA			FIELD8(0x18)</span>
<span class="cp">#define BBP3_HT40_MINUS			FIELD8(0x20)</span>

<span class="cm">/*</span>
<span class="cm"> * BBP 4: Bandwidth</span>
<span class="cm"> */</span>
<span class="cp">#define BBP4_TX_BF			FIELD8(0x01)</span>
<span class="cp">#define BBP4_BANDWIDTH			FIELD8(0x18)</span>
<span class="cp">#define BBP4_MAC_IF_CTRL		FIELD8(0x40)</span>

<span class="cm">/*</span>
<span class="cm"> * BBP 109</span>
<span class="cm"> */</span>
<span class="cp">#define BBP109_TX0_POWER		FIELD8(0x0f)</span>
<span class="cp">#define BBP109_TX1_POWER		FIELD8(0xf0)</span>

<span class="cm">/*</span>
<span class="cm"> * BBP 138: Unknown</span>
<span class="cm"> */</span>
<span class="cp">#define BBP138_RX_ADC1			FIELD8(0x02)</span>
<span class="cp">#define BBP138_RX_ADC2			FIELD8(0x04)</span>
<span class="cp">#define BBP138_TX_DAC1			FIELD8(0x20)</span>
<span class="cp">#define BBP138_TX_DAC2			FIELD8(0x40)</span>

<span class="cm">/*</span>
<span class="cm"> * BBP 152: Rx Ant</span>
<span class="cm"> */</span>
<span class="cp">#define BBP152_RX_DEFAULT_ANT		FIELD8(0x80)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR registers</span>
<span class="cm"> * The wordsize of the RFCSR is 8 bits.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 1:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR1_RF_BLOCK_EN		FIELD8(0x01)</span>
<span class="cp">#define RFCSR1_PLL_PD			FIELD8(0x02)</span>
<span class="cp">#define RFCSR1_RX0_PD			FIELD8(0x04)</span>
<span class="cp">#define RFCSR1_TX0_PD			FIELD8(0x08)</span>
<span class="cp">#define RFCSR1_RX1_PD			FIELD8(0x10)</span>
<span class="cp">#define RFCSR1_TX1_PD			FIELD8(0x20)</span>
<span class="cp">#define RFCSR1_RX2_PD			FIELD8(0x40)</span>
<span class="cp">#define RFCSR1_TX2_PD			FIELD8(0x80)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 2:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR2_RESCAL_EN		FIELD8(0x80)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 3:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR3_K			FIELD8(0x0f)</span>
<span class="cm">/* Bits [7-4] for RF3320 (RT3370/RT3390), on other chipsets reserved */</span>
<span class="cp">#define RFCSR3_PA1_BIAS_CCK		FIELD8(0x70);</span>
<span class="cp">#define RFCSR3_PA2_CASCODE_BIAS_CCKK	FIELD8(0x80);</span>

<span class="cm">/*</span>
<span class="cm"> * FRCSR 5:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR5_R1			FIELD8(0x0c)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 6:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR6_R1			FIELD8(0x03)</span>
<span class="cp">#define RFCSR6_R2			FIELD8(0x40)</span>
<span class="cp">#define RFCSR6_TXDIV		FIELD8(0x0c)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 7:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR7_RF_TUNING		FIELD8(0x01)</span>
<span class="cp">#define RFCSR7_BIT1			FIELD8(0x02)</span>
<span class="cp">#define RFCSR7_BIT2			FIELD8(0x04)</span>
<span class="cp">#define RFCSR7_BIT3			FIELD8(0x08)</span>
<span class="cp">#define RFCSR7_BIT4			FIELD8(0x10)</span>
<span class="cp">#define RFCSR7_BIT5			FIELD8(0x20)</span>
<span class="cp">#define RFCSR7_BITS67			FIELD8(0xc0)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 11:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR11_R			FIELD8(0x03)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 12:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR12_TX_POWER		FIELD8(0x1f)</span>
<span class="cp">#define RFCSR12_DR0				FIELD8(0xe0)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 13:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR13_TX_POWER		FIELD8(0x1f)</span>
<span class="cp">#define RFCSR13_DR0				FIELD8(0xe0)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 15:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR15_TX_LO2_EN		FIELD8(0x08)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 16:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR16_TXMIXER_GAIN		FIELD8(0x07)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 17:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR17_TXMIXER_GAIN		FIELD8(0x07)</span>
<span class="cp">#define RFCSR17_TX_LO1_EN		FIELD8(0x08)</span>
<span class="cp">#define RFCSR17_R			FIELD8(0x20)</span>
<span class="cp">#define RFCSR17_CODE                   FIELD8(0x7f)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 20:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR20_RX_LO1_EN		FIELD8(0x08)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 21:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR21_RX_LO2_EN		FIELD8(0x08)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 22:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR22_BASEBAND_LOOPBACK	FIELD8(0x01)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 23:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR23_FREQ_OFFSET		FIELD8(0x7f)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 24:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR24_TX_AGC_FC		FIELD8(0x1f)</span>
<span class="cp">#define RFCSR24_TX_H20M			FIELD8(0x20)</span>
<span class="cp">#define RFCSR24_TX_CALIB		FIELD8(0x7f)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 27:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR27_R1			FIELD8(0x03)</span>
<span class="cp">#define RFCSR27_R2			FIELD8(0x04)</span>
<span class="cp">#define RFCSR27_R3			FIELD8(0x30)</span>
<span class="cp">#define RFCSR27_R4			FIELD8(0x40)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 30:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR30_TX_H20M			FIELD8(0x02)</span>
<span class="cp">#define RFCSR30_RX_H20M			FIELD8(0x04)</span>
<span class="cp">#define RFCSR30_RX_VCM			FIELD8(0x18)</span>
<span class="cp">#define RFCSR30_RF_CALIBRATION		FIELD8(0x80)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 31:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR31_RX_AGC_FC		FIELD8(0x1f)</span>
<span class="cp">#define RFCSR31_RX_H20M			FIELD8(0x20)</span>
<span class="cp">#define RFCSR31_RX_CALIB		FIELD8(0x7f)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 38:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR38_RX_LO1_EN		FIELD8(0x20)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 39:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR39_RX_LO2_EN		FIELD8(0x80)</span>

<span class="cm">/*</span>
<span class="cm"> * RFCSR 49:</span>
<span class="cm"> */</span>
<span class="cp">#define RFCSR49_TX			FIELD8(0x3f)</span>

<span class="cm">/*</span>
<span class="cm"> * RF registers</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * RF 2</span>
<span class="cm"> */</span>
<span class="cp">#define RF2_ANTENNA_RX2			FIELD32(0x00000040)</span>
<span class="cp">#define RF2_ANTENNA_TX1			FIELD32(0x00004000)</span>
<span class="cp">#define RF2_ANTENNA_RX1			FIELD32(0x00020000)</span>

<span class="cm">/*</span>
<span class="cm"> * RF 3</span>
<span class="cm"> */</span>
<span class="cp">#define RF3_TXPOWER_G			FIELD32(0x00003e00)</span>
<span class="cp">#define RF3_TXPOWER_A_7DBM_BOOST	FIELD32(0x00000200)</span>
<span class="cp">#define RF3_TXPOWER_A			FIELD32(0x00003c00)</span>

<span class="cm">/*</span>
<span class="cm"> * RF 4</span>
<span class="cm"> */</span>
<span class="cp">#define RF4_TXPOWER_G			FIELD32(0x000007c0)</span>
<span class="cp">#define RF4_TXPOWER_A_7DBM_BOOST	FIELD32(0x00000040)</span>
<span class="cp">#define RF4_TXPOWER_A			FIELD32(0x00000780)</span>
<span class="cp">#define RF4_FREQ_OFFSET			FIELD32(0x001f8000)</span>
<span class="cp">#define RF4_HT40			FIELD32(0x00200000)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM content.</span>
<span class="cm"> * The wordsize of the EEPROM is 16 bits.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Chip ID</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_CHIP_ID			0x0000</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM Version</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_VERSION			0x0001</span>
<span class="cp">#define EEPROM_VERSION_FAE		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_VERSION_VERSION		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * HW MAC address.</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_MAC_ADDR_0		0x0002</span>
<span class="cp">#define EEPROM_MAC_ADDR_BYTE0		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_MAC_ADDR_BYTE1		FIELD16(0xff00)</span>
<span class="cp">#define EEPROM_MAC_ADDR_1		0x0003</span>
<span class="cp">#define EEPROM_MAC_ADDR_BYTE2		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_MAC_ADDR_BYTE3		FIELD16(0xff00)</span>
<span class="cp">#define EEPROM_MAC_ADDR_2		0x0004</span>
<span class="cp">#define EEPROM_MAC_ADDR_BYTE4		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_MAC_ADDR_BYTE5		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM NIC Configuration 0</span>
<span class="cm"> * RXPATH: 1: 1R, 2: 2R, 3: 3R</span>
<span class="cm"> * TXPATH: 1: 1T, 2: 2T, 3: 3T</span>
<span class="cm"> * RF_TYPE: RFIC type</span>
<span class="cm"> */</span>
<span class="cp">#define	EEPROM_NIC_CONF0		0x001a</span>
<span class="cp">#define EEPROM_NIC_CONF0_RXPATH		FIELD16(0x000f)</span>
<span class="cp">#define EEPROM_NIC_CONF0_TXPATH		FIELD16(0x00f0)</span>
<span class="cp">#define EEPROM_NIC_CONF0_RF_TYPE		FIELD16(0x0f00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM NIC Configuration 1</span>
<span class="cm"> * HW_RADIO: 0: disable, 1: enable</span>
<span class="cm"> * EXTERNAL_TX_ALC: 0: disable, 1: enable</span>
<span class="cm"> * EXTERNAL_LNA_2G: 0: disable, 1: enable</span>
<span class="cm"> * EXTERNAL_LNA_5G: 0: disable, 1: enable</span>
<span class="cm"> * CARDBUS_ACCEL: 0: enable, 1: disable</span>
<span class="cm"> * BW40M_SB_2G: 0: disable, 1: enable</span>
<span class="cm"> * BW40M_SB_5G: 0: disable, 1: enable</span>
<span class="cm"> * WPS_PBC: 0: disable, 1: enable</span>
<span class="cm"> * BW40M_2G: 0: enable, 1: disable</span>
<span class="cm"> * BW40M_5G: 0: enable, 1: disable</span>
<span class="cm"> * BROADBAND_EXT_LNA: 0: disable, 1: enable</span>
<span class="cm"> * ANT_DIVERSITY: 00: Disable, 01: Diversity,</span>
<span class="cm"> * 				  10: Main antenna, 11: Aux antenna</span>
<span class="cm"> * INTERNAL_TX_ALC: 0: disable, 1: enable</span>
<span class="cm"> * BT_COEXIST: 0: disable, 1: enable</span>
<span class="cm"> * DAC_TEST: 0: disable, 1: enable</span>
<span class="cm"> */</span>
<span class="cp">#define	EEPROM_NIC_CONF1		0x001b</span>
<span class="cp">#define EEPROM_NIC_CONF1_HW_RADIO		FIELD16(0x0001)</span>
<span class="cp">#define EEPROM_NIC_CONF1_EXTERNAL_TX_ALC		FIELD16(0x0002)</span>
<span class="cp">#define EEPROM_NIC_CONF1_EXTERNAL_LNA_2G		FIELD16(0x0004)</span>
<span class="cp">#define EEPROM_NIC_CONF1_EXTERNAL_LNA_5G		FIELD16(0x0008)</span>
<span class="cp">#define EEPROM_NIC_CONF1_CARDBUS_ACCEL		FIELD16(0x0010)</span>
<span class="cp">#define EEPROM_NIC_CONF1_BW40M_SB_2G		FIELD16(0x0020)</span>
<span class="cp">#define EEPROM_NIC_CONF1_BW40M_SB_5G		FIELD16(0x0040)</span>
<span class="cp">#define EEPROM_NIC_CONF1_WPS_PBC		FIELD16(0x0080)</span>
<span class="cp">#define EEPROM_NIC_CONF1_BW40M_2G		FIELD16(0x0100)</span>
<span class="cp">#define EEPROM_NIC_CONF1_BW40M_5G		FIELD16(0x0200)</span>
<span class="cp">#define EEPROM_NIC_CONF1_BROADBAND_EXT_LNA		FIELD16(0x400)</span>
<span class="cp">#define EEPROM_NIC_CONF1_ANT_DIVERSITY		FIELD16(0x1800)</span>
<span class="cp">#define EEPROM_NIC_CONF1_INTERNAL_TX_ALC		FIELD16(0x2000)</span>
<span class="cp">#define EEPROM_NIC_CONF1_BT_COEXIST		FIELD16(0x4000)</span>
<span class="cp">#define EEPROM_NIC_CONF1_DAC_TEST		FIELD16(0x8000)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM frequency</span>
<span class="cm"> */</span>
<span class="cp">#define	EEPROM_FREQ			0x001d</span>
<span class="cp">#define EEPROM_FREQ_OFFSET		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_FREQ_LED_MODE		FIELD16(0x7f00)</span>
<span class="cp">#define EEPROM_FREQ_LED_POLARITY	FIELD16(0x1000)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM LED</span>
<span class="cm"> * POLARITY_RDY_G: Polarity RDY_G setting.</span>
<span class="cm"> * POLARITY_RDY_A: Polarity RDY_A setting.</span>
<span class="cm"> * POLARITY_ACT: Polarity ACT setting.</span>
<span class="cm"> * POLARITY_GPIO_0: Polarity GPIO0 setting.</span>
<span class="cm"> * POLARITY_GPIO_1: Polarity GPIO1 setting.</span>
<span class="cm"> * POLARITY_GPIO_2: Polarity GPIO2 setting.</span>
<span class="cm"> * POLARITY_GPIO_3: Polarity GPIO3 setting.</span>
<span class="cm"> * POLARITY_GPIO_4: Polarity GPIO4 setting.</span>
<span class="cm"> * LED_MODE: Led mode.</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_LED_AG_CONF		0x001e</span>
<span class="cp">#define EEPROM_LED_ACT_CONF		0x001f</span>
<span class="cp">#define EEPROM_LED_POLARITY		0x0020</span>
<span class="cp">#define EEPROM_LED_POLARITY_RDY_BG	FIELD16(0x0001)</span>
<span class="cp">#define EEPROM_LED_POLARITY_RDY_A	FIELD16(0x0002)</span>
<span class="cp">#define EEPROM_LED_POLARITY_ACT		FIELD16(0x0004)</span>
<span class="cp">#define EEPROM_LED_POLARITY_GPIO_0	FIELD16(0x0008)</span>
<span class="cp">#define EEPROM_LED_POLARITY_GPIO_1	FIELD16(0x0010)</span>
<span class="cp">#define EEPROM_LED_POLARITY_GPIO_2	FIELD16(0x0020)</span>
<span class="cp">#define EEPROM_LED_POLARITY_GPIO_3	FIELD16(0x0040)</span>
<span class="cp">#define EEPROM_LED_POLARITY_GPIO_4	FIELD16(0x0080)</span>
<span class="cp">#define EEPROM_LED_LED_MODE		FIELD16(0x1f00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM NIC Configuration 2</span>
<span class="cm"> * RX_STREAM: 0: Reserved, 1: 1 Stream, 2: 2 Stream</span>
<span class="cm"> * TX_STREAM: 0: Reserved, 1: 1 Stream, 2: 2 Stream</span>
<span class="cm"> * CRYSTAL: 00: Reserved, 01: One crystal, 10: Two crystal, 11: Reserved</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_NIC_CONF2		0x0021</span>
<span class="cp">#define EEPROM_NIC_CONF2_RX_STREAM		FIELD16(0x000f)</span>
<span class="cp">#define EEPROM_NIC_CONF2_TX_STREAM		FIELD16(0x00f0)</span>
<span class="cp">#define EEPROM_NIC_CONF2_CRYSTAL		FIELD16(0x0600)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM LNA</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_LNA			0x0022</span>
<span class="cp">#define EEPROM_LNA_BG			FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_LNA_A0			FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM RSSI BG offset</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_RSSI_BG			0x0023</span>
<span class="cp">#define EEPROM_RSSI_BG_OFFSET0		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_RSSI_BG_OFFSET1		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM RSSI BG2 offset</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_RSSI_BG2			0x0024</span>
<span class="cp">#define EEPROM_RSSI_BG2_OFFSET2		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_RSSI_BG2_LNA_A1		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM TXMIXER GAIN BG offset (note overlaps with EEPROM RSSI BG2).</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TXMIXER_GAIN_BG		0x0024</span>
<span class="cp">#define EEPROM_TXMIXER_GAIN_BG_VAL	FIELD16(0x0007)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM RSSI A offset</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_RSSI_A			0x0025</span>
<span class="cp">#define EEPROM_RSSI_A_OFFSET0		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_RSSI_A_OFFSET1		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM RSSI A2 offset</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_RSSI_A2			0x0026</span>
<span class="cp">#define EEPROM_RSSI_A2_OFFSET2		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_RSSI_A2_LNA_A2		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM TXMIXER GAIN A offset (note overlaps with EEPROM RSSI A2).</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TXMIXER_GAIN_A		0x0026</span>
<span class="cp">#define EEPROM_TXMIXER_GAIN_A_VAL	FIELD16(0x0007)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM EIRP Maximum TX power values(unit: dbm)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_EIRP_MAX_TX_POWER	0x0027</span>
<span class="cp">#define EEPROM_EIRP_MAX_TX_POWER_2GHZ	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_EIRP_MAX_TX_POWER_5GHZ	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM TXpower delta: 20MHZ AND 40 MHZ use different power.</span>
<span class="cm"> * This is delta in 40MHZ.</span>
<span class="cm"> * VALUE: Tx Power dalta value, MAX=4(unit: dbm)</span>
<span class="cm"> * TYPE: 1: Plus the delta value, 0: minus the delta value</span>
<span class="cm"> * ENABLE: enable tx power compensation for 40BW</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TXPOWER_DELTA		0x0028</span>
<span class="cp">#define EEPROM_TXPOWER_DELTA_VALUE_2G	FIELD16(0x003f)</span>
<span class="cp">#define EEPROM_TXPOWER_DELTA_TYPE_2G	FIELD16(0x0040)</span>
<span class="cp">#define EEPROM_TXPOWER_DELTA_ENABLE_2G	FIELD16(0x0080)</span>
<span class="cp">#define EEPROM_TXPOWER_DELTA_VALUE_5G	FIELD16(0x3f00)</span>
<span class="cp">#define EEPROM_TXPOWER_DELTA_TYPE_5G	FIELD16(0x4000)</span>
<span class="cp">#define EEPROM_TXPOWER_DELTA_ENABLE_5G	FIELD16(0x8000)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM TXPOWER 802.11BG</span>
<span class="cm"> */</span>
<span class="cp">#define	EEPROM_TXPOWER_BG1		0x0029</span>
<span class="cp">#define	EEPROM_TXPOWER_BG2		0x0030</span>
<span class="cp">#define EEPROM_TXPOWER_BG_SIZE		7</span>
<span class="cp">#define EEPROM_TXPOWER_BG_1		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TXPOWER_BG_2		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11BG</span>
<span class="cm"> * MINUS4: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -4)</span>
<span class="cm"> * MINUS3: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -3)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG1		0x0037</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG1_MINUS4	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG1_MINUS3	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11BG</span>
<span class="cm"> * MINUS2: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -2)</span>
<span class="cm"> * MINUS1: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -1)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG2		0x0038</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG2_MINUS2	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG2_MINUS1	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11BG</span>
<span class="cm"> * REF: Reference TSSI value, no tx power changes needed</span>
<span class="cm"> * PLUS1: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 1)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG3		0x0039</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG3_REF	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG3_PLUS1	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11BG</span>
<span class="cm"> * PLUS2: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 2)</span>
<span class="cm"> * PLUS3: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 3)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG4		0x003a</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG4_PLUS2	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG4_PLUS3	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11BG</span>
<span class="cm"> * PLUS4: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 4)</span>
<span class="cm"> * AGC_STEP: Temperature compensation step.</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG5		0x003b</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG5_PLUS4	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_BG5_AGC_STEP	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM TXPOWER 802.11A</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TXPOWER_A1		0x003c</span>
<span class="cp">#define EEPROM_TXPOWER_A2		0x0053</span>
<span class="cp">#define EEPROM_TXPOWER_A_SIZE		6</span>
<span class="cp">#define EEPROM_TXPOWER_A_1		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TXPOWER_A_2		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11A</span>
<span class="cm"> * MINUS4: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -4)</span>
<span class="cm"> * MINUS3: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -3)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A1		0x006a</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A1_MINUS4	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A1_MINUS3	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11A</span>
<span class="cm"> * MINUS2: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -2)</span>
<span class="cm"> * MINUS1: If the actual TSSI is below this boundary, tx power needs to be</span>
<span class="cm"> *         reduced by (agc_step * -1)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A2		0x006b</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A2_MINUS2	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A2_MINUS1	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11A</span>
<span class="cm"> * REF: Reference TSSI value, no tx power changes needed</span>
<span class="cm"> * PLUS1: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 1)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A3		0x006c</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A3_REF	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A3_PLUS1	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11A</span>
<span class="cm"> * PLUS2: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 2)</span>
<span class="cm"> * PLUS3: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 3)</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A4		0x006d</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A4_PLUS2	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A4_PLUS3	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM temperature compensation boundaries 802.11A</span>
<span class="cm"> * PLUS4: If the actual TSSI is above this boundary, tx power needs to be</span>
<span class="cm"> *        increased by (agc_step * 4)</span>
<span class="cm"> * AGC_STEP: Temperature compensation step.</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A5		0x006e</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A5_PLUS4	FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_TSSI_BOUND_A5_AGC_STEP	FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM TXPOWER by rate: tx power per tx rate for HT20 mode</span>
<span class="cm"> */</span>
<span class="cp">#define EEPROM_TXPOWER_BYRATE		0x006f</span>
<span class="cp">#define EEPROM_TXPOWER_BYRATE_SIZE	9</span>

<span class="cp">#define EEPROM_TXPOWER_BYRATE_RATE0	FIELD16(0x000f)</span>
<span class="cp">#define EEPROM_TXPOWER_BYRATE_RATE1	FIELD16(0x00f0)</span>
<span class="cp">#define EEPROM_TXPOWER_BYRATE_RATE2	FIELD16(0x0f00)</span>
<span class="cp">#define EEPROM_TXPOWER_BYRATE_RATE3	FIELD16(0xf000)</span>

<span class="cm">/*</span>
<span class="cm"> * EEPROM BBP.</span>
<span class="cm"> */</span>
<span class="cp">#define	EEPROM_BBP_START		0x0078</span>
<span class="cp">#define EEPROM_BBP_SIZE			16</span>
<span class="cp">#define EEPROM_BBP_VALUE		FIELD16(0x00ff)</span>
<span class="cp">#define EEPROM_BBP_REG_ID		FIELD16(0xff00)</span>

<span class="cm">/*</span>
<span class="cm"> * MCU mailbox commands.</span>
<span class="cm"> * MCU_SLEEP - go to power-save mode.</span>
<span class="cm"> *             arg1: 1: save as much power as possible, 0: save less power.</span>
<span class="cm"> *             status: 1: success, 2: already asleep,</span>
<span class="cm"> *                     3: maybe MAC is busy so can&#39;t finish this task.</span>
<span class="cm"> * MCU_RADIO_OFF</span>
<span class="cm"> *             arg0: 0: do power-saving, NOT turn off radio.</span>
<span class="cm"> */</span>
<span class="cp">#define MCU_SLEEP			0x30</span>
<span class="cp">#define MCU_WAKEUP			0x31</span>
<span class="cp">#define MCU_RADIO_OFF			0x35</span>
<span class="cp">#define MCU_CURRENT			0x36</span>
<span class="cp">#define MCU_LED				0x50</span>
<span class="cp">#define MCU_LED_STRENGTH		0x51</span>
<span class="cp">#define MCU_LED_AG_CONF		0x52</span>
<span class="cp">#define MCU_LED_ACT_CONF		0x53</span>
<span class="cp">#define MCU_LED_LED_POLARITY		0x54</span>
<span class="cp">#define MCU_RADAR			0x60</span>
<span class="cp">#define MCU_BOOT_SIGNAL			0x72</span>
<span class="cp">#define MCU_ANT_SELECT			0X73</span>
<span class="cp">#define MCU_BBP_SIGNAL			0x80</span>
<span class="cp">#define MCU_POWER_SAVE			0x83</span>
<span class="cp">#define MCU_BAND_SELECT		0x91</span>

<span class="cm">/*</span>
<span class="cm"> * MCU mailbox tokens</span>
<span class="cm"> */</span>
<span class="cp">#define TOKEN_SLEEP			1</span>
<span class="cp">#define TOKEN_RADIO_OFF			2</span>
<span class="cp">#define TOKEN_WAKEUP			3</span>


<span class="cm">/*</span>
<span class="cm"> * DMA descriptor defines.</span>
<span class="cm"> */</span>
<span class="cp">#define TXWI_DESC_SIZE			(4 * sizeof(__le32))</span>
<span class="cp">#define RXWI_DESC_SIZE			(4 * sizeof(__le32))</span>

<span class="cm">/*</span>
<span class="cm"> * TX WI structure</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Word0</span>
<span class="cm"> * FRAG: 1 To inform TKIP engine this is a fragment.</span>
<span class="cm"> * MIMO_PS: The remote peer is in dynamic MIMO-PS mode</span>
<span class="cm"> * TX_OP: 0:HT TXOP rule , 1:PIFS TX ,2:Backoff, 3:sifs</span>
<span class="cm"> * BW: Channel bandwidth 0:20MHz, 1:40 MHz (for legacy rates this will</span>
<span class="cm"> *     duplicate the frame to both channels).</span>
<span class="cm"> * STBC: 1: STBC support MCS =0-7, 2,3 : RESERVED</span>
<span class="cm"> * AMPDU: 1: this frame is eligible for AMPDU aggregation, the hw will</span>
<span class="cm"> *        aggregate consecutive frames with the same RA and QoS TID. If</span>
<span class="cm"> *        a frame A with the same RA and QoS TID but AMPDU=0 is queued</span>
<span class="cm"> *        directly after a frame B with AMPDU=1, frame A might still</span>
<span class="cm"> *        get aggregated into the AMPDU started by frame B. So, setting</span>
<span class="cm"> *        AMPDU to 0 does _not_ necessarily mean the frame is sent as</span>
<span class="cm"> *        MPDU, it can still end up in an AMPDU if the previous frame</span>
<span class="cm"> *        was tagged as AMPDU.</span>
<span class="cm"> */</span>
<span class="cp">#define TXWI_W0_FRAG			FIELD32(0x00000001)</span>
<span class="cp">#define TXWI_W0_MIMO_PS			FIELD32(0x00000002)</span>
<span class="cp">#define TXWI_W0_CF_ACK			FIELD32(0x00000004)</span>
<span class="cp">#define TXWI_W0_TS			FIELD32(0x00000008)</span>
<span class="cp">#define TXWI_W0_AMPDU			FIELD32(0x00000010)</span>
<span class="cp">#define TXWI_W0_MPDU_DENSITY		FIELD32(0x000000e0)</span>
<span class="cp">#define TXWI_W0_TX_OP			FIELD32(0x00000300)</span>
<span class="cp">#define TXWI_W0_MCS			FIELD32(0x007f0000)</span>
<span class="cp">#define TXWI_W0_BW			FIELD32(0x00800000)</span>
<span class="cp">#define TXWI_W0_SHORT_GI		FIELD32(0x01000000)</span>
<span class="cp">#define TXWI_W0_STBC			FIELD32(0x06000000)</span>
<span class="cp">#define TXWI_W0_IFS			FIELD32(0x08000000)</span>
<span class="cp">#define TXWI_W0_PHYMODE			FIELD32(0xc0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * Word1</span>
<span class="cm"> * ACK: 0: No Ack needed, 1: Ack needed</span>
<span class="cm"> * NSEQ: 0: Don&#39;t assign hw sequence number, 1: Assign hw sequence number</span>
<span class="cm"> * BW_WIN_SIZE: BA windows size of the recipient</span>
<span class="cm"> * WIRELESS_CLI_ID: Client ID for WCID table access</span>
<span class="cm"> * MPDU_TOTAL_BYTE_COUNT: Length of 802.11 frame</span>
<span class="cm"> * PACKETID: Will be latched into the TX_STA_FIFO register once the according</span>
<span class="cm"> *           frame was processed. If multiple frames are aggregated together</span>
<span class="cm"> *           (AMPDU==1) the reported tx status will always contain the packet</span>
<span class="cm"> *           id of the first frame. 0: Don&#39;t report tx status for this frame.</span>
<span class="cm"> * PACKETID_QUEUE: Part of PACKETID, This is the queue index (0-3)</span>
<span class="cm"> * PACKETID_ENTRY: Part of PACKETID, THis is the queue entry index (1-3)</span>
<span class="cm"> *                 This identification number is calculated by ((idx % 3) + 1).</span>
<span class="cm"> *		   The (+1) is required to prevent PACKETID to become 0.</span>
<span class="cm"> */</span>
<span class="cp">#define TXWI_W1_ACK			FIELD32(0x00000001)</span>
<span class="cp">#define TXWI_W1_NSEQ			FIELD32(0x00000002)</span>
<span class="cp">#define TXWI_W1_BW_WIN_SIZE		FIELD32(0x000000fc)</span>
<span class="cp">#define TXWI_W1_WIRELESS_CLI_ID		FIELD32(0x0000ff00)</span>
<span class="cp">#define TXWI_W1_MPDU_TOTAL_BYTE_COUNT	FIELD32(0x0fff0000)</span>
<span class="cp">#define TXWI_W1_PACKETID		FIELD32(0xf0000000)</span>
<span class="cp">#define TXWI_W1_PACKETID_QUEUE		FIELD32(0x30000000)</span>
<span class="cp">#define TXWI_W1_PACKETID_ENTRY		FIELD32(0xc0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * Word2</span>
<span class="cm"> */</span>
<span class="cp">#define TXWI_W2_IV			FIELD32(0xffffffff)</span>

<span class="cm">/*</span>
<span class="cm"> * Word3</span>
<span class="cm"> */</span>
<span class="cp">#define TXWI_W3_EIV			FIELD32(0xffffffff)</span>

<span class="cm">/*</span>
<span class="cm"> * RX WI structure</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Word0</span>
<span class="cm"> */</span>
<span class="cp">#define RXWI_W0_WIRELESS_CLI_ID		FIELD32(0x000000ff)</span>
<span class="cp">#define RXWI_W0_KEY_INDEX		FIELD32(0x00000300)</span>
<span class="cp">#define RXWI_W0_BSSID			FIELD32(0x00001c00)</span>
<span class="cp">#define RXWI_W0_UDF			FIELD32(0x0000e000)</span>
<span class="cp">#define RXWI_W0_MPDU_TOTAL_BYTE_COUNT	FIELD32(0x0fff0000)</span>
<span class="cp">#define RXWI_W0_TID			FIELD32(0xf0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * Word1</span>
<span class="cm"> */</span>
<span class="cp">#define RXWI_W1_FRAG			FIELD32(0x0000000f)</span>
<span class="cp">#define RXWI_W1_SEQUENCE		FIELD32(0x0000fff0)</span>
<span class="cp">#define RXWI_W1_MCS			FIELD32(0x007f0000)</span>
<span class="cp">#define RXWI_W1_BW			FIELD32(0x00800000)</span>
<span class="cp">#define RXWI_W1_SHORT_GI		FIELD32(0x01000000)</span>
<span class="cp">#define RXWI_W1_STBC			FIELD32(0x06000000)</span>
<span class="cp">#define RXWI_W1_PHYMODE			FIELD32(0xc0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * Word2</span>
<span class="cm"> */</span>
<span class="cp">#define RXWI_W2_RSSI0			FIELD32(0x000000ff)</span>
<span class="cp">#define RXWI_W2_RSSI1			FIELD32(0x0000ff00)</span>
<span class="cp">#define RXWI_W2_RSSI2			FIELD32(0x00ff0000)</span>

<span class="cm">/*</span>
<span class="cm"> * Word3</span>
<span class="cm"> */</span>
<span class="cp">#define RXWI_W3_SNR0			FIELD32(0x000000ff)</span>
<span class="cp">#define RXWI_W3_SNR1			FIELD32(0x0000ff00)</span>

<span class="cm">/*</span>
<span class="cm"> * Macros for converting txpower from EEPROM to mac80211 value</span>
<span class="cm"> * and from mac80211 value to register value.</span>
<span class="cm"> */</span>
<span class="cp">#define MIN_G_TXPOWER	0</span>
<span class="cp">#define MIN_A_TXPOWER	-7</span>
<span class="cp">#define MAX_G_TXPOWER	31</span>
<span class="cp">#define MAX_A_TXPOWER	15</span>
<span class="cp">#define DEFAULT_TXPOWER	5</span>

<span class="cp">#define TXPOWER_G_FROM_DEV(__txpower) \</span>
<span class="cp">	((__txpower) &gt; MAX_G_TXPOWER) ? DEFAULT_TXPOWER : (__txpower)</span>

<span class="cp">#define TXPOWER_G_TO_DEV(__txpower) \</span>
<span class="cp">	clamp_t(char, __txpower, MIN_G_TXPOWER, MAX_G_TXPOWER)</span>

<span class="cp">#define TXPOWER_A_FROM_DEV(__txpower) \</span>
<span class="cp">	((__txpower) &gt; MAX_A_TXPOWER) ? DEFAULT_TXPOWER : (__txpower)</span>

<span class="cp">#define TXPOWER_A_TO_DEV(__txpower) \</span>
<span class="cp">	clamp_t(char, __txpower, MIN_A_TXPOWER, MAX_A_TXPOWER)</span>

<span class="cm">/*</span>
<span class="cm"> *  Board&#39;s maximun TX power limitation</span>
<span class="cm"> */</span>
<span class="cp">#define EIRP_MAX_TX_POWER_LIMIT	0x50</span>

<span class="cm">/*</span>
<span class="cm"> * Number of TBTT intervals after which we have to adjust</span>
<span class="cm"> * the hw beacon timer.</span>
<span class="cm"> */</span>
<span class="cp">#define BCN_TBTT_OFFSET 64</span>

<span class="cm">/*</span>
<span class="cm"> * RT2800 driver data structure</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">rt2800_drv_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">calibration_bw20</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">calibration_bw40</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bbp25</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bbp26</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">txmixer_gain_24g</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">txmixer_gain_5g</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">tbtt_tick</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* RT2800_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
