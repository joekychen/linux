f | p54spi_eeprom.h | s | 26K | 638 | Christian Lamparter | chunkeey@googlemail.com | 1297716730 |  | p54spi: update sample eeprom  Commit: "p54: enhance rssi->dBm database import" changed the way how the driver deals with the rssical data. A new data format was necessary and hence this patch.  NOTE: (for users with a custom eeprom binary) I spent some time updating p54tools to support the new format too: => (git available from) http://git.kernel.org/?p=linux/kernel/git/chr/p54tools.git  It now comes with a simplistic script "n800_rssi2v2.sh" which can be used to automate the conversion.  Signed-off-by: Christian Lamparter <chunkeey@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | p54pci.h | s | 3.1K | 100 | Alexey Dobriyan | adobriyan@gmail.com | 1307426111 |  | net: remove interrupt.h inclusion from netdevice.h  * remove interrupt.g inclusion from netdevice.h -- not needed * fixup fallout, add interrupt.h and hardirq.h back where needed.  Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Makefile | g | 234B |  | Christian Lamparter | chunkeey@web.de | 1247252544 |  | p54: Modify p54 files for new organization  Modify the remaining p54 files to account for the new file organization.  Signed-off-by: Christian Lamparter <chunkeey@web.de> Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | net2280.h | s | 14K | 438 | Eric Dumazet | eric.dumazet@gmail.com | 1275560303 |  | drivers/net: use __packed annotation  cleanup patch.  Use new __packed annotation in drivers/net/  Signed-off-by: Eric Dumazet <eric.dumazet@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | p54pci.c | s | 16K | 550 | Axel Lin | axel.lin@gmail.com | 1334601530 |  | net/wireless: use module_pci_driver  This patch converts the drivers in drivers/net/wireless/* to use module_pci_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: "John W. Linville" <linville@tuxdriver.com> Cc: Jiri Slaby <jirislaby@gmail.com> Cc: Nick Kossifidis <mickflemm@gmail.com> Cc: "Luis R. Rodriguez" <mcgrof@qca.qualcomm.com> Cc: Simon Kelley <simon@thekelleys.org.uk> Cc: Jouni Malinen <j@w1.fi> Cc: Lennert Buytenhek <buytenh@wantstofly.org> Cc: Christian Lamparter <chunkeey@googlemail.com> Cc: Ivo van Doorn <IvDoorn@gmail.com> Cc: Larry Finger <Larry.Finger@lwfinger.net> Cc: linux-wireless@vger.kernel.org Acked-by: Lennert Buytenhek <buytenh@wantstofly.org> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | eeprom.c | s | 23K | 786 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103868 |  | drivers/net: Add export.h to files using EXPORT_SYMBOL/THIS_MODULE  These were getting the macros from an implicit module.h include via device.h, but we are planning to clean that up.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>  drivers/net: Add export.h to wireless/brcm80211/brcmfmac/bcmsdh.c  This relatively recently added file uses EXPORT_SYMBOL and hence needs export.h included so that it is compatible with the module.h split up work.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | lmac.h | s | 12K | 494 | Christian Lamparter | chunkeey@googlemail.com | 1303847430 |  | p54: implement multicast filter  "For best CPU usage and power consumption, having as few frames as possible percolate through the stack is desirable. Hence, the hardware should filter as much as possible."  Note: Not all firmwares include the multicast filter feature and the stack does not filter them either. The ARP filter on the other hand was dropped from the patch since it does not work correctly:  Quote from: Max Filippov <jcmvbkbc@gmail.com> <http://www.spinics.net/lists/linux-wireless/msg67466.html> "In the ARP case, when there's no other traffic on p54spi, all ARP requests are dropped. But if there's some egress traffic from p54spi, filter seems to work correctly: only ARP requests that match filter pass through.  In the multicast case filter seems to work correctly, but it treats broadcast as subject to that filtering too. By default only 01:00:5e:00:00:01 gets into priv->mc_maclist, so we miss all broadcasts.  These two filters seem to interfere: - if we set ARP filter and multicast filter without bc 	=>  we miss all ARPs if there's no egress traffic; - if we set ARP filter and multicast filter with bc or 	don't set mc filter at all => we get all ARPs.  This effect does not depend on filter setup order."  Signed-off-by: Christian Lamparter <chunkeey@googlemail.com> Tested-by: Max Filippov <jcmvbkbc@gmail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | p54spi.h | s | 3.1K | 93 | Eric Dumazet | eric.dumazet@gmail.com | 1275560303 |  | drivers/net: use __packed annotation  cleanup patch.  Use new __packed annotation in drivers/net/  Signed-off-by: Eric Dumazet <eric.dumazet@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | txrx.c | s | 25K | 806 | Joe Perches | joe@perches.com | 1336707181 |  | drivers/net: Convert compare_ether_addr to ether_addr_equal  Use the new bool function ether_addr_equal to add some clarity and reduce the likelihood for misuse of compare_ether_addr for sorting.  Done via cocci script:  $ cat compare_ether_addr.cocci @@ expression a,b; @@ -	!compare_ether_addr(a, b) +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	compare_ether_addr(a, b) +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) == 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) != 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) == 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) != 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!!ether_addr_equal(a, b) +	ether_addr_equal(a, b)  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | p54spi.c | s | 17K | 588 | Max Filippov | jcmvbkbc@gmail.com | 1330978997 |  | p54spi: Release GPIO lines and IRQ on error in p54spi_probe  This makes it possible to reload driver if insmod has failed due to missing firmware.  Signed-off-by: Max Filippov <jcmvbkbc@gmail.com> Cc: stable <stable@vger.kernel.org> Acked-by: Christian Lamparter <chunkeey@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | p54.h | s | 6.2K | 239 | Christian Lamparter | chunkeey@googlemail.com | 1334002055 |  | p54: only unregister ieee80211_hw when it has been registered  p54_unregister_common may now be called by the backend driver's remove routine, even if the ieee80211_hw device struct was never successfully registered.  Signed-off-by: Christian Lamparter <chunkeey@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | eeprom.h | s | 6.3K | 201 | Christian Lamparter | chunkeey@googlemail.com | 1297716730 |  | p54: enhance rssi->dBm database import  This patch fixes several shortcomings of the previous implementation. Features of the rewrite include:   * handles undocumented "0x0000" word at the    start of the frequency table.    (Affected some early? DELL 1450 USB devices     and my Symbol 5GHz miniPCI card.)   * supports more than just one reference point    per band. (Also needed for the Symbol card.)   * ships with default values in case the eeprom    data is damaged, absent or unsupported.  Signed-off-by: Christian Lamparter <chunkeey@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | p54usb.c | s | 29K | 951 | Linus Torvalds | torvalds@linux-foundation.org | 1337727046 |  | 
f | fwio.c | s | 20K | 664 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103868 |  | drivers/net: Add export.h to files using EXPORT_SYMBOL/THIS_MODULE  These were getting the macros from an implicit module.h include via device.h, but we are planning to clean that up.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>  drivers/net: Add export.h to wireless/brcm80211/brcmfmac/bcmsdh.c  This relatively recently added file uses EXPORT_SYMBOL and hence needs export.h included so that it is compatible with the module.h split up work.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | main.c | s | 20K | 728 | Christian Lamparter | chunkeey@googlemail.com | 1334002055 |  | p54: only unregister ieee80211_hw when it has been registered  p54_unregister_common may now be called by the backend driver's remove routine, even if the ieee80211_hw device struct was never successfully registered.  Signed-off-by: Christian Lamparter <chunkeey@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | Kconfig | g | 2.3K |  | Michael Buesch | mb@bu3sch.de | 1299523864 |  | p54spi: Update kconfig help text  This updates the p54spi Kconfig help text. The driver works well on n8x0, so remove the words "experimental" and "untested".  Signed-off-by: Michael Buesch <mb@bu3sch.de> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | p54usb.h | s | 3.7K | 126 | Larry Finger | Larry.Finger@lwfinger.net | 1334002055 |  | p54usb: Load firmware asynchronously  Drivers that load firmware from their probe routine have problems with the latest versions of udev as they get timeouts while waiting for user space to start. The problem is fixed by using request_firmware_nowait() and delaying the start of mac80211 until the firmware is loaded.  To prevent the possibility of the driver being unloaded while the firmware loading callback is still active, a completion queue entry is used.  Also, to simplify the firmware loading procedure, this patch removes the old, unofficial and confusing fallback firmware names. However, they are still supported! So any user - who is still using them - is hereby advised to link/rename their old firmware filenames: 	isl3890usb to isl3886usb 	isl3887usb_bare to isl3887usb  Signed-off-by: Larry Finger <Larry.Finger@lwfinger.net> Signed-off-by: Christian Lamparter <chunkeey@googlemail.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | led.c | s | 4.0K | 132 | Joe Perches | joe@perches.com | 1282163864 |  | drivers/net/wireless: Restore upper case words in wiphy_<level> messages  Commit c96c31e499b70964cfc88744046c998bb710e4b8 "(drivers/net/wireless: Use wiphy_<level>)" inadvertently changed some upper case words to lower case.  Restore the original case.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
