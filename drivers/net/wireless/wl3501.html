<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › wl3501.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>wl3501.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef __WL3501_H__</span>
<span class="cp">#define __WL3501_H__</span>

<span class="cp">#include &lt;linux/spinlock.h&gt;</span>
<span class="cp">#include &lt;linux/ieee80211.h&gt;</span>

<span class="cm">/* define for WLA 2.0 */</span>
<span class="cp">#define WL3501_BLKSZ 256</span>
<span class="cm">/*</span>
<span class="cm"> * ID for input Signals of DRIVER block</span>
<span class="cm"> * bit[7-5] is block ID: 000</span>
<span class="cm"> * bit[4-0] is signal ID</span>
<span class="cm">*/</span>
<span class="k">enum</span> <span class="n">wl3501_signals</span> <span class="p">{</span>
	<span class="n">WL3501_SIG_ALARM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_MD_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_MD_IND</span><span class="p">,</span>
	<span class="n">WL3501_SIG_ASSOC_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_ASSOC_IND</span><span class="p">,</span>
	<span class="n">WL3501_SIG_AUTH_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_AUTH_IND</span><span class="p">,</span>
	<span class="n">WL3501_SIG_DEAUTH_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_DEAUTH_IND</span><span class="p">,</span>
	<span class="n">WL3501_SIG_DISASSOC_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_DISASSOC_IND</span><span class="p">,</span>
	<span class="n">WL3501_SIG_GET_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_JOIN_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_PWR_MGMT_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_REASSOC_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_REASSOC_IND</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SCAN_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SET_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_START_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_RESYNC_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SITE_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SAVE_CONFIRM</span><span class="p">,</span>
	<span class="n">WL3501_SIG_RFTEST_CONFIRM</span><span class="p">,</span>
<span class="cm">/*</span>
<span class="cm"> * ID for input Signals of MLME block</span>
<span class="cm"> * bit[7-5] is block ID: 010</span>
<span class="cm"> * bit[4-0] is signal ID</span>
<span class="cm"> */</span>
	<span class="n">WL3501_SIG_ASSOC_REQ</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">WL3501_SIG_AUTH_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_DEAUTH_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_DISASSOC_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_GET_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_JOIN_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_PWR_MGMT_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_REASSOC_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SCAN_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SET_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_START_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_MD_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_RESYNC_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SITE_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_SAVE_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_RF_TEST_REQ</span><span class="p">,</span>
	<span class="n">WL3501_SIG_MM_CONFIRM</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>
	<span class="n">WL3501_SIG_MM_IND</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl3501_mib_attribs</span> <span class="p">{</span>
	<span class="n">WL3501_MIB_ATTR_STATION_ID</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_AUTH_ALGORITHMS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_AUTH_TYPE</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MEDIUM_OCCUPANCY_LIMIT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CF_POLLABLE</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CFP_PERIOD</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CFPMAX_DURATION</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_AUTH_RESP_TMOUT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RX_DTIMS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_PRIV_OPT_IMPLEMENTED</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_PRIV_INVOKED</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_WEP_DEFAULT_KEYS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_WEP_DEFAULT_KEY_ID</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_WEP_KEY_MAPPINGS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_WEP_KEY_MAPPINGS_LEN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_EXCLUDE_UNENCRYPTED</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_WEP_ICV_ERROR_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_WEP_UNDECRYPTABLE_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_WEP_EXCLUDED_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MAC_ADDR</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_GROUP_ADDRS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RTS_THRESHOLD</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SHORT_RETRY_LIMIT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_LONG_RETRY_LIMIT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_FRAG_THRESHOLD</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MAX_TX_MSDU_LIFETIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MAX_RX_LIFETIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MANUFACTURER_ID</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_PRODUCT_ID</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_FRAG_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MULTICAST_TX_FRAME_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_FAILED_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RX_FRAG_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MULTICAST_RX_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_FCS_ERROR_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RETRY_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MULTIPLE_RETRY_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RTS_SUCCESS_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RTS_FAILURE_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_ACK_FAILURE_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_FRAME_DUPLICATE_COUNT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_PHY_TYPE</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_REG_DOMAINS_SUPPORT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CURRENT_REG_DOMAIN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SLOT_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CCA_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RX_TX_TURNAROUND_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PLCP_DELAY</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RX_TX_SWITCH_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_RAMP_ON_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_RF_DELAY</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SIFS_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RX_RF_DELAY</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RX_PLCP_DELAY</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MAC_PROCESSING_DELAY</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_RAMP_OFF_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_PREAMBLE_LEN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_PLCP_HEADER_LEN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MPDU_DURATION_FACTOR</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_AIR_PROPAGATION_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TEMP_TYPE</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CW_MIN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CW_MAX</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SUPPORT_DATA_RATES_TX</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SUPPORT_DATA_RATES_RX</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_MPDU_MAX_LEN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SUPPORT_TX_ANTENNAS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CURRENT_TX_ANTENNA</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SUPPORT_RX_ANTENNAS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_DIVERSITY_SUPPORT</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_DIVERSITY_SELECTION_RS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_NR_SUPPORTED_PWR_LEVELS</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL1</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL2</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL3</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL4</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL5</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL6</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL7</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_TX_PWR_LEVEL8</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CURRENT_TX_PWR_LEVEL</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CURRENT_CHAN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CCA_MODE_SUPPORTED</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CURRENT_CCA_MODE</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_ED_THRESHOLD</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SINTHESIZER_LOCKED</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_CURRENT_PWR_STATE</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_DOZE_TURNON_TIME</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_RCR33</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_DEFAULT_CHAN</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_SSID</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_PWR_MGMT_ENABLE</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_NET_CAPABILITY</span><span class="p">,</span>
	<span class="n">WL3501_MIB_ATTR_ROUTING</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl3501_net_type</span> <span class="p">{</span>
	<span class="n">WL3501_NET_TYPE_INFRA</span><span class="p">,</span>
	<span class="n">WL3501_NET_TYPE_ADHOC</span><span class="p">,</span>
	<span class="n">WL3501_NET_TYPE_ANY_BSS</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl3501_scan_type</span> <span class="p">{</span>
	<span class="n">WL3501_SCAN_TYPE_ACTIVE</span><span class="p">,</span>
	<span class="n">WL3501_SCAN_TYPE_PASSIVE</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl3501_tx_result</span> <span class="p">{</span>
	<span class="n">WL3501_TX_RESULT_SUCCESS</span><span class="p">,</span>
	<span class="n">WL3501_TX_RESULT_NO_BSS</span><span class="p">,</span>
	<span class="n">WL3501_TX_RESULT_RETRY_LIMIT</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl3501_sys_type</span> <span class="p">{</span>
	<span class="n">WL3501_SYS_TYPE_OPEN</span><span class="p">,</span>
	<span class="n">WL3501_SYS_TYPE_SHARE_KEY</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">wl3501_status</span> <span class="p">{</span>
	<span class="n">WL3501_STATUS_SUCCESS</span><span class="p">,</span>
	<span class="n">WL3501_STATUS_INVALID</span><span class="p">,</span>
	<span class="n">WL3501_STATUS_TIMEOUT</span><span class="p">,</span>
	<span class="n">WL3501_STATUS_REFUSED</span><span class="p">,</span>
	<span class="n">WL3501_STATUS_MANY_REQ</span><span class="p">,</span>
	<span class="n">WL3501_STATUS_ALREADY_BSS</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define WL3501_MGMT_CAPABILITY_ESS		0x0001  </span><span class="cm">/* see 802.11 p.58 */</span><span class="cp"></span>
<span class="cp">#define WL3501_MGMT_CAPABILITY_IBSS		0x0002  </span><span class="cm">/*      - &quot; -	   */</span><span class="cp"></span>
<span class="cp">#define WL3501_MGMT_CAPABILITY_CF_POLLABLE	0x0004  </span><span class="cm">/*      - &quot; -	   */</span><span class="cp"></span>
<span class="cp">#define WL3501_MGMT_CAPABILITY_CF_POLL_REQUEST	0x0008  </span><span class="cm">/*      - &quot; -	   */</span><span class="cp"></span>
<span class="cp">#define WL3501_MGMT_CAPABILITY_PRIVACY		0x0010  </span><span class="cm">/*      - &quot; -	   */</span><span class="cp"></span>

<span class="cp">#define IW_REG_DOMAIN_FCC	0x10	</span><span class="cm">/* Channel 1 to 11	USA    */</span><span class="cp"></span>
<span class="cp">#define IW_REG_DOMAIN_DOC	0x20	</span><span class="cm">/* Channel 1 to 11	Canada */</span><span class="cp"></span>
<span class="cp">#define IW_REG_DOMAIN_ETSI	0x30	</span><span class="cm">/* Channel 1 to 13	Europe */</span><span class="cp"></span>
<span class="cp">#define IW_REG_DOMAIN_SPAIN	0x31	</span><span class="cm">/* Channel 10 to 11	Spain  */</span><span class="cp"></span>
<span class="cp">#define IW_REG_DOMAIN_FRANCE	0x32	</span><span class="cm">/* Channel 10 to 13	France */</span><span class="cp"></span>
<span class="cp">#define IW_REG_DOMAIN_MKK	0x40	</span><span class="cm">/* Channel 14		Japan  */</span><span class="cp"></span>
<span class="cp">#define IW_REG_DOMAIN_MKK1	0x41	</span><span class="cm">/* Channel 1-14		Japan  */</span><span class="cp"></span>
<span class="cp">#define IW_REG_DOMAIN_ISRAEL	0x50	</span><span class="cm">/* Channel 3 - 9	Israel */</span><span class="cp"></span>

<span class="cp">#define IW_MGMT_RATE_LABEL_MANDATORY 128 </span><span class="cm">/* MSB */</span><span class="cp"></span>

<span class="k">enum</span> <span class="n">iw_mgmt_rate_labels</span> <span class="p">{</span>
	<span class="n">IW_MGMT_RATE_LABEL_1MBIT</span>   <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">IW_MGMT_RATE_LABEL_2MBIT</span>   <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">IW_MGMT_RATE_LABEL_5_5MBIT</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">IW_MGMT_RATE_LABEL_11MBIT</span>  <span class="o">=</span> <span class="mi">22</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">iw_mgmt_info_element_ids</span> <span class="p">{</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_SSID</span><span class="p">,</span>		  <span class="cm">/* Service Set Identity */</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_SUPPORTED_RATES</span><span class="p">,</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_FH_PARAMETER_SET</span><span class="p">,</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_DS_PARAMETER_SET</span><span class="p">,</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_CS_PARAMETER_SET</span><span class="p">,</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_CS_TIM</span><span class="p">,</span>		  <span class="cm">/* Traffic Information Map */</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_IBSS_PARAMETER_SET</span><span class="p">,</span>
	<span class="cm">/* 7-15: Reserved, unused */</span>
	<span class="n">IW_MGMT_INFO_ELEMENT_CHALLENGE_TEXT</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="cm">/* 17-31 Reserved for challenge text extension */</span>
	<span class="cm">/* 32-255 Reserved, unused */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">iw_mgmt_info_element</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">id</span><span class="p">;</span> <span class="cm">/* one of enum iw_mgmt_info_element_ids,</span>
<span class="cm">		  but sizeof(enum) &gt; sizeof(u8) :-( */</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">iw_mgmt_essid_pset</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_info_element</span> <span class="n">el</span><span class="p">;</span>
	<span class="n">u8</span> 			    <span class="n">essid</span><span class="p">[</span><span class="n">IW_ESSID_MAX_SIZE</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * According to 802.11 Wireless Netowors, the definitive guide - O&#39;Reilly</span>
<span class="cm"> * Pg 75</span>
<span class="cm"> */</span> 
<span class="cp">#define IW_DATA_RATE_MAX_LABELS 8</span>

<span class="k">struct</span> <span class="n">iw_mgmt_data_rset</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_info_element</span> <span class="n">el</span><span class="p">;</span>
	<span class="n">u8</span> 			    <span class="n">data_rate_labels</span><span class="p">[</span><span class="n">IW_DATA_RATE_MAX_LABELS</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">iw_mgmt_ds_pset</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_info_element</span> <span class="n">el</span><span class="p">;</span>
	<span class="n">u8</span> 			    <span class="n">chan</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">iw_mgmt_cf_pset</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_info_element</span> <span class="n">el</span><span class="p">;</span>
	<span class="n">u8</span> 			    <span class="n">cfp_count</span><span class="p">;</span>
	<span class="n">u8</span> 			    <span class="n">cfp_period</span><span class="p">;</span>
	<span class="n">u16</span> 			    <span class="n">cfp_max_duration</span><span class="p">;</span>
	<span class="n">u16</span> 			    <span class="n">cfp_dur_remaining</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">iw_mgmt_ibss_pset</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_info_element</span> <span class="n">el</span><span class="p">;</span>
	<span class="n">u16</span> 			    <span class="n">atim_window</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">wl3501_tx_hdr</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">tx_cnt</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sync</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">u16</span>	<span class="n">sfd</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">signal</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">service</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">len</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">crc16</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">frame_ctrl</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">duration_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">addr1</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">addr2</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">addr3</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u16</span>	<span class="n">seq_ctrl</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">addr4</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_rx_hdr</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">rx_next_blk</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">rc_next_frame_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">rx_blk_ctrl</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">rx_next_frame</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">rx_next_frame1</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">rssi</span><span class="p">;</span>
	<span class="kt">char</span>	<span class="n">time</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">signal</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">service</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">len</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">crc16</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">frame_ctrl</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">duration</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">addr1</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">addr2</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">addr3</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u16</span>	<span class="n">seq</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">addr4</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_start_req</span> <span class="p">{</span>
	<span class="n">u16</span>			    <span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">bss_type</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">beacon_period</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">dtim_period</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">probe_delay</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">cap_info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_essid_pset</span>   <span class="n">ssid</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_data_rset</span>    <span class="n">bss_basic_rset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_data_rset</span>    <span class="n">operational_rset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_cf_pset</span>	    <span class="n">cf_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_ds_pset</span>	    <span class="n">ds_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_ibss_pset</span>    <span class="n">ibss_pset</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_assoc_req</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">timeout</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">listen_interval</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">mac_addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_assoc_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">status</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_assoc_ind</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">mac_addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_auth_req</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">timeout</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">mac_addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_auth_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">status</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">mac_addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_get_req</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">mib_attrib</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_get_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">mib_status</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">mib_attrib</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">mib_value</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_join_req</span> <span class="p">{</span>
	<span class="n">u16</span>			    <span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">reserved</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_data_rset</span>    <span class="n">operational_rset</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">timeout</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">probe_delay</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">timestamp</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u8</span>			    <span class="n">local_time</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u16</span>			    <span class="n">beacon_period</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">dtim_period</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">bss_type</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">bssid</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_essid_pset</span>   <span class="n">ssid</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_ds_pset</span>	    <span class="n">ds_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_cf_pset</span>	    <span class="n">cf_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_ibss_pset</span>    <span class="n">ibss_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_data_rset</span>    <span class="n">bss_basic_rset</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_join_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">status</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_pwr_mgmt_req</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">pwr_save</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">wake_up</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">receive_dtims</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_pwr_mgmt_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">status</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_scan_req</span> <span class="p">{</span>
	<span class="n">u16</span>			    <span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">bss_type</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">probe_delay</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">min_chan_time</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">max_chan_time</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">chan_list</span><span class="p">[</span><span class="mi">14</span><span class="p">];</span>
	<span class="n">u8</span>			    <span class="n">bssid</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_essid_pset</span>   <span class="n">ssid</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">wl3501_scan_type</span>	    <span class="n">scan_type</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_scan_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>			    <span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">status</span><span class="p">;</span>
	<span class="kt">char</span>			    <span class="n">timestamp</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">char</span>			    <span class="n">localtime</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u16</span>			    <span class="n">beacon_period</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">dtim_period</span><span class="p">;</span>
	<span class="n">u16</span>			    <span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">bss_type</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">bssid</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_essid_pset</span>   <span class="n">ssid</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_ds_pset</span>	    <span class="n">ds_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_cf_pset</span>	    <span class="n">cf_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_ibss_pset</span>    <span class="n">ibss_pset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_data_rset</span>    <span class="n">bss_basic_rset</span><span class="p">;</span>
	<span class="n">u8</span>			    <span class="n">rssi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_start_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">status</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_md_req</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">routing</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">data</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">size</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">pri</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">service_class</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">daddr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">saddr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_md_ind</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">routing</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">data</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">size</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reception</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">pri</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">service_class</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">daddr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">saddr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_md_confirm</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">data</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">status</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">pri</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">service_class</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wl3501_resync_req</span> <span class="p">{</span>
	<span class="n">u16</span>	<span class="n">next_blk</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">sig_id</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Definitions for supporting clone adapters. */</span>
<span class="cm">/* System Interface Registers (SIR space) */</span>
<span class="cp">#define WL3501_NIC_GCR ((u8)0x00)	</span><span class="cm">/* SIR0 - General Conf Register */</span><span class="cp"></span>
<span class="cp">#define WL3501_NIC_BSS ((u8)0x01)	</span><span class="cm">/* SIR1 - Bank Switching Select Reg */</span><span class="cp"></span>
<span class="cp">#define WL3501_NIC_LMAL ((u8)0x02)	</span><span class="cm">/* SIR2 - Local Mem addr Reg [7:0] */</span><span class="cp"></span>
<span class="cp">#define WL3501_NIC_LMAH ((u8)0x03)	</span><span class="cm">/* SIR3 - Local Mem addr Reg [14:8] */</span><span class="cp"></span>
<span class="cp">#define WL3501_NIC_IODPA ((u8)0x04)	</span><span class="cm">/* SIR4 - I/O Data Port A */</span><span class="cp"></span>
<span class="cp">#define WL3501_NIC_IODPB ((u8)0x05)	</span><span class="cm">/* SIR5 - I/O Data Port B */</span><span class="cp"></span>
<span class="cp">#define WL3501_NIC_IODPC ((u8)0x06)	</span><span class="cm">/* SIR6 - I/O Data Port C */</span><span class="cp"></span>
<span class="cp">#define WL3501_NIC_IODPD ((u8)0x07)	</span><span class="cm">/* SIR7 - I/O Data Port D */</span><span class="cp"></span>

<span class="cm">/* Bits in GCR */</span>
<span class="cp">#define WL3501_GCR_SWRESET ((u8)0x80)</span>
<span class="cp">#define WL3501_GCR_CORESET ((u8)0x40)</span>
<span class="cp">#define WL3501_GCR_DISPWDN ((u8)0x20)</span>
<span class="cp">#define WL3501_GCR_ECWAIT  ((u8)0x10)</span>
<span class="cp">#define WL3501_GCR_ECINT   ((u8)0x08)</span>
<span class="cp">#define WL3501_GCR_INT2EC  ((u8)0x04)</span>
<span class="cp">#define WL3501_GCR_ENECINT ((u8)0x02)</span>
<span class="cp">#define WL3501_GCR_DAM     ((u8)0x01)</span>

<span class="cm">/* Bits in BSS (Bank Switching Select Register) */</span>
<span class="cp">#define WL3501_BSS_FPAGE0 ((u8)0x20)	</span><span class="cm">/* Flash memory page0 */</span><span class="cp"></span>
<span class="cp">#define WL3501_BSS_FPAGE1 ((u8)0x28)</span>
<span class="cp">#define WL3501_BSS_FPAGE2 ((u8)0x30)</span>
<span class="cp">#define WL3501_BSS_FPAGE3 ((u8)0x38)</span>
<span class="cp">#define WL3501_BSS_SPAGE0 ((u8)0x00)	</span><span class="cm">/* SRAM page0 */</span><span class="cp"></span>
<span class="cp">#define WL3501_BSS_SPAGE1 ((u8)0x08)</span>
<span class="cp">#define WL3501_BSS_SPAGE2 ((u8)0x10)</span>
<span class="cp">#define WL3501_BSS_SPAGE3 ((u8)0x18)</span>

<span class="cm">/* Define Driver Interface */</span>
<span class="cm">/* Refer IEEE 802.11 */</span>
<span class="cm">/* Tx packet header, include PLCP and MPDU */</span>
<span class="cm">/* Tx PLCP Header */</span>
<span class="k">struct</span> <span class="n">wl3501_80211_tx_plcp_hdr</span> <span class="p">{</span>
	<span class="n">u8</span>	<span class="n">sync</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">u16</span>	<span class="n">sfd</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">signal</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">service</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">len</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">crc16</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">wl3501_80211_tx_hdr</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">wl3501_80211_tx_plcp_hdr</span>	<span class="n">pclp_hdr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ieee80211_hdr</span>		<span class="n">mac_hdr</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm">   Reserve the beginning Tx space for descriptor use.</span>

<span class="cm">   TxBlockOffset --&gt;	*----*----*----*----* \</span>
<span class="cm">	(TxFreeDesc)	|  0 |  1 |  2 |  3 |  \</span>
<span class="cm">			|  4 |  5 |  6 |  7 |   |</span>
<span class="cm">			|  8 |  9 | 10 | 11 |   TX_DESC * 20</span>
<span class="cm">			| 12 | 13 | 14 | 15 |   |</span>
<span class="cm">			| 16 | 17 | 18 | 19 |  /</span>
<span class="cm">   TxBufferBegin --&gt;	*----*----*----*----* /</span>
<span class="cm">   (TxBufferHead)	| 		    |</span>
<span class="cm">   (TxBufferTail)	| 		    |</span>
<span class="cm">			|    Send Buffer    |</span>
<span class="cm">			| 		    |</span>
<span class="cm">			|		    |</span>
<span class="cm">			*-------------------*</span>
<span class="cm">   TxBufferEnd    -------------------------/</span>

<span class="cm">*/</span>

<span class="k">struct</span> <span class="n">wl3501_card</span> <span class="p">{</span>
	<span class="kt">int</span>				<span class="n">base_addr</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">mac_addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">spinlock_t</span>			<span class="n">lock</span><span class="p">;</span>
	<span class="n">wait_queue_head_t</span>		<span class="n">wait</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wl3501_get_confirm</span>	<span class="n">sig_get_confirm</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wl3501_pwr_mgmt_confirm</span>	<span class="n">sig_pwr_mgmt_confirm</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">tx_buffer_size</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">tx_buffer_head</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">tx_buffer_tail</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">tx_buffer_cnt</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">esbq_req_start</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">esbq_req_end</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">esbq_req_head</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">esbq_req_tail</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">esbq_confirm_start</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">esbq_confirm_end</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">esbq_confirm</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_essid_pset</span>  	<span class="n">essid</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_mgmt_essid_pset</span>  	<span class="n">keep_essid</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">bssid</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="kt">int</span>				<span class="n">net_type</span><span class="p">;</span>
	<span class="kt">char</span>				<span class="n">nick</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="kt">char</span>				<span class="n">card_name</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="kt">char</span>				<span class="n">firmware_date</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">u8</span>				<span class="n">chan</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">start_seg</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">bss_cnt</span><span class="p">;</span>
	<span class="n">u16</span>				<span class="n">join_sta_bss</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">rssi</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">adhoc_times</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">reg_domain</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">version</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">wl3501_scan_confirm</span>	<span class="n">bss_set</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>

	<span class="k">struct</span> <span class="n">iw_statistics</span>		<span class="n">wstats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_spy_data</span>		<span class="n">spy_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_public_data</span>		<span class="n">wireless_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">pcmcia_device</span>		<span class="o">*</span><span class="n">p_dev</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
