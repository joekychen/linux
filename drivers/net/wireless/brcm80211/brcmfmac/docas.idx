f | sdio_host.h | s | 9.2K | 227 | Franky Lin | frankyl@broadcom.com | 1337117278 |  | brcmfmac: replace brcmf_sdioh_card_regread with brcmf_sdio_regrl  Use the newly introduced brcmf_sdio_regrl to replace brcmf_sdioh_card_regread as part of the SDIO WiFi dongle register access interface clean up.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | usb.h | s | 1.6K | 55 | Arend van Spriel | arend@broadcom.com | 1330980835 |  | brcm80211: fmac: use counters in brcmf_bus structure  The usb code defines a structure for counting statistics. However, it should use the statistics entry provided in brcmf_bus as that is exposed to the net_device. The usb private statistics counter only remains with counters for control packets between driver and usb device.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Franky (Zhenhui) Lin <frankyl@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd_common.c | s | 24K | 755 | Franky Lin | frankyl@broadcom.com | 1334341973 |  | brcm80211: fmac: postpone dongle RF enabling.  BRCMF_C_UP is the command that asks the firmware to enable RF of dongle. Some firmware initialization steps must be performed during RF is down. Postpone BRCMF_C_UP firing until brcmf_netdev_open get called to ensure firmware have enough time to finish initialization.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | Makefile | g | 1.2K |  | Arend van Spriel | arend@broadcom.com | 1329940133 |  | brcm80211: fmac: add USB support for bcm43235/6/8 chipsets  This patch extends the use of the brcmfmac driver with support for chipsets with a USB host interface. The first chipsets supported are the bcm43235, bcm43236, and bcm43238 for which firmware has been submitted.  This driver change has been successfully built for x86, x86_64, ppc64, arm_le, and mips_be.  It has been tested successfully on x86 and x86_64.  Cc: M. Lambert <lambertm@westman.wave.ca> Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Franky (Zhenhui) Lin <frankyl@broadcom.com> Reviewed-by: Kan Yan <kanyan@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd_sdio.c | s | 105K | 3342 | Franky Lin | frankyl@broadcom.com | 1337117278 |  | brcmfmac: remove function brcmf_sdcard_regfail  The new interface brcmf_sdio_regr/w provides result of access attempts. It is no longer necessary to use dedicated variable and function to provide enquiry for failure.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd_proto.h | s | 1.9K | 42 | Franky Lin | frankyl@broadcom.com | 1324323646 |  | brcm80211: fmac: move common layer bus interface context to dhd_bus.h  dhd_bus.h is the header file for bus interface. Move functions declarations and brcmf_bus structure to there. This is part of the fullmac bus interface refactoring.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd_dbg.h | s | 2.4K | 67 | Joe Perches | joe@perches.com | 1327432873 |  | brcm80211: Add and use brcmX_dbg_dump_hex  Reduce the number of #ifdef DEBUG uses by adding a dbg_hex_dump routine which has the appropriate #ifdef DEBUG test.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd.h | s | 19K | 586 | Arend van Spriel | arend@broadcom.com | 1334341971 |  | brcm80211: fmac: make brcmf_net_attach() static  The function brcmf_net_attach() is only used within dhd_linux.c so it does not need to be extern. This patch makes the function static.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Franky (Zhenhui) Lin <frankyl@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | bcmsdh.c | s | 12K | 436 | Joe Perches | joe@perches.com | 1338837971 |  | brcmfmac: Fix likely misuse of || for &  Using || with a constant is always true. Likely this should have be &.  Signed-off-by: Joe Perches <joe@perches.com> Acked-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | bcmsdh_sdmmc.c | s | 17K | 582 | Franky Lin | frankyl@broadcom.com | 1337117278 |  | brcmfmac: replace brcmf_sdioh_card_regread with brcmf_sdio_regrl  Use the newly introduced brcmf_sdio_regrl to replace brcmf_sdioh_card_regread as part of the SDIO WiFi dongle register access interface clean up.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd_linux.c | s | 29K | 993 | Franky Lin | frankyl@broadcom.com | 1334341973 |  | brcm80211: fmac: postpone dongle RF enabling.  BRCMF_C_UP is the command that asks the firmware to enable RF of dongle. Some firmware initialization steps must be performed during RF is down. Postpone BRCMF_C_UP firing until brcmf_netdev_open get called to ensure firmware have enough time to finish initialization.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd_cdc.c | s | 12K | 398 | Franky Lin | frankyl@broadcom.com | 1334341972 |  | brcm80211: fmac: add frame header extension support  A header extension is introduced in the received frame to provide extra space for dongle information. This won't affect current supported chipset since the data_offset is 0. But it's necessary for adding support for future chipset.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | wl_cfg80211.c | s | 97K | 3321 | Johannes Berg | johannes.berg@intel.com | 1331664859 |  | brmc80211: dont use jiffies for BSS TSF  The cfg80211_inform_bss() timestamp argument is intended to be the TSF, not any form of host timestamp.  Signed-off-by: Johannes Berg <johannes.berg@intel.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dhd_bus.h | s | 4.2K | 101 | Arend van Spriel | arend@broadcom.com | 1330980837 |  | brcm80211: fmac: initialize host interface drivers regardless result  The module init function of brcmfmac calls init functions for SDIO and USB doing driver registration. This patch removes terminating the module init when a driver registration for one host interface fails.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Franky (Zhenhui) Lin <frankyl@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | sdio_chip.h | s | 4.3K | 125 | Franky Lin | frankyl@broadcom.com | 1321039717 |  | brcm80211: fmac: add resetcore function for bcm4330 chip  This patch is part of the series of adding new backplane support  Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | usb_rdl.h | s | 2.7K | 66 | Arend van Spriel | arend@broadcom.com | 1329940133 |  | brcm80211: fmac: add USB support for bcm43235/6/8 chipsets  This patch extends the use of the brcmfmac driver with support for chipsets with a USB host interface. The first chipsets supported are the bcm43235, bcm43236, and bcm43238 for which firmware has been submitted.  This driver change has been successfully built for x86, x86_64, ppc64, arm_le, and mips_be.  It has been tested successfully on x86 and x86_64.  Cc: M. Lambert <lambertm@westman.wave.ca> Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Franky (Zhenhui) Lin <frankyl@broadcom.com> Reviewed-by: Kan Yan <kanyan@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | usb.c | s | 39K | 1333 | John W. Linville | linville@tuxdriver.com | 1338388336 |  | Merge branch 'master' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless into for-davem
f | wl_cfg80211.h | s | 9.7K | 324 | Joe Perches | joe@perches.com | 1327432874 |  | brcm80211: Use pr_fmt and pr_<level>  Convert printks to pr_<level> Prefix logging with pr_fmt. Use ##__VA_ARGS__ in some WL_ logging macros.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | sdio_chip.c | s | 16K | 526 | Franky Lin | frankyl@broadcom.com | 1337117277 |  | brcmfmac: replace brcmf_sdcard_reg_write with brcmf_sdio_regwl  Use the newly introduced brcmf_sdio_regwl to replace brcmf_sdcard_reg_write as part of the SDIO WiFi dongle register access interface clean up.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
