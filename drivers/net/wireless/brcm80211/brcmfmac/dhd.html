<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › brcm80211 › brcmfmac › dhd.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>dhd.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2010 Broadcom Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * Permission to use, copy, modify, and/or distribute this software for any</span>
<span class="cm"> * purpose with or without fee is hereby granted, provided that the above</span>
<span class="cm"> * copyright notice and this permission notice appear in all copies.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span>
<span class="cm"> * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY</span>
<span class="cm"> * SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span>
<span class="cm"> * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION</span>
<span class="cm"> * OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN</span>
<span class="cm"> * CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>
<span class="cm"> */</span>

<span class="cm">/****************</span>
<span class="cm"> * Common types *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _BRCMF_H_</span>
<span class="cp">#define _BRCMF_H_</span>

<span class="cp">#define BRCMF_VERSION_STR		&quot;4.218.248.5&quot;</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> * IO codes that are interpreted by dongle firmware</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#define BRCMF_C_UP				2</span>
<span class="cp">#define BRCMF_C_SET_PROMISC			10</span>
<span class="cp">#define BRCMF_C_GET_RATE			12</span>
<span class="cp">#define BRCMF_C_GET_INFRA			19</span>
<span class="cp">#define BRCMF_C_SET_INFRA			20</span>
<span class="cp">#define BRCMF_C_GET_AUTH			21</span>
<span class="cp">#define BRCMF_C_SET_AUTH			22</span>
<span class="cp">#define BRCMF_C_GET_BSSID			23</span>
<span class="cp">#define BRCMF_C_GET_SSID			25</span>
<span class="cp">#define BRCMF_C_SET_SSID			26</span>
<span class="cp">#define BRCMF_C_GET_CHANNEL			29</span>
<span class="cp">#define BRCMF_C_GET_SRL				31</span>
<span class="cp">#define BRCMF_C_GET_LRL				33</span>
<span class="cp">#define BRCMF_C_GET_RADIO			37</span>
<span class="cp">#define BRCMF_C_SET_RADIO			38</span>
<span class="cp">#define BRCMF_C_GET_PHYTYPE			39</span>
<span class="cp">#define BRCMF_C_SET_KEY				45</span>
<span class="cp">#define BRCMF_C_SET_PASSIVE_SCAN		49</span>
<span class="cp">#define BRCMF_C_SCAN				50</span>
<span class="cp">#define BRCMF_C_SCAN_RESULTS			51</span>
<span class="cp">#define BRCMF_C_DISASSOC			52</span>
<span class="cp">#define BRCMF_C_REASSOC				53</span>
<span class="cp">#define BRCMF_C_SET_ROAM_TRIGGER		55</span>
<span class="cp">#define BRCMF_C_SET_ROAM_DELTA			57</span>
<span class="cp">#define BRCMF_C_GET_DTIMPRD			77</span>
<span class="cp">#define BRCMF_C_SET_COUNTRY			84</span>
<span class="cp">#define BRCMF_C_GET_PM				85</span>
<span class="cp">#define BRCMF_C_SET_PM				86</span>
<span class="cp">#define BRCMF_C_GET_AP				117</span>
<span class="cp">#define BRCMF_C_SET_AP				118</span>
<span class="cp">#define BRCMF_C_GET_RSSI			127</span>
<span class="cp">#define BRCMF_C_GET_WSEC			133</span>
<span class="cp">#define BRCMF_C_SET_WSEC			134</span>
<span class="cp">#define BRCMF_C_GET_PHY_NOISE			135</span>
<span class="cp">#define BRCMF_C_GET_BSS_INFO			136</span>
<span class="cp">#define BRCMF_C_SET_SCAN_CHANNEL_TIME		185</span>
<span class="cp">#define BRCMF_C_SET_SCAN_UNASSOC_TIME		187</span>
<span class="cp">#define BRCMF_C_SCB_DEAUTHENTICATE_FOR_REASON	201</span>
<span class="cp">#define BRCMF_C_GET_VALID_CHANNELS		217</span>
<span class="cp">#define BRCMF_C_GET_KEY_PRIMARY			235</span>
<span class="cp">#define BRCMF_C_SET_KEY_PRIMARY			236</span>
<span class="cp">#define BRCMF_C_SET_SCAN_PASSIVE_TIME		258</span>
<span class="cp">#define BRCMF_C_GET_VAR				262</span>
<span class="cp">#define BRCMF_C_SET_VAR				263</span>

<span class="cm">/* phy types (returned by WLC_GET_PHYTPE) */</span>
<span class="cp">#define	WLC_PHY_TYPE_A		0</span>
<span class="cp">#define	WLC_PHY_TYPE_B		1</span>
<span class="cp">#define	WLC_PHY_TYPE_G		2</span>
<span class="cp">#define	WLC_PHY_TYPE_N		4</span>
<span class="cp">#define	WLC_PHY_TYPE_LP		5</span>
<span class="cp">#define	WLC_PHY_TYPE_SSN	6</span>
<span class="cp">#define	WLC_PHY_TYPE_HT		7</span>
<span class="cp">#define	WLC_PHY_TYPE_LCN	8</span>
<span class="cp">#define	WLC_PHY_TYPE_NULL	0xf</span>

<span class="cp">#define BRCMF_EVENTING_MASK_LEN	16</span>

<span class="cp">#define TOE_TX_CSUM_OL		0x00000001</span>
<span class="cp">#define TOE_RX_CSUM_OL		0x00000002</span>

<span class="cp">#define	BRCMF_BSS_INFO_VERSION	109 </span><span class="cm">/* curr ver of brcmf_bss_info_le struct */</span><span class="cp"></span>

<span class="cm">/* size of brcmf_scan_params not including variable length array */</span>
<span class="cp">#define BRCMF_SCAN_PARAMS_FIXED_SIZE 64</span>

<span class="cm">/* masks for channel and ssid count */</span>
<span class="cp">#define BRCMF_SCAN_PARAMS_COUNT_MASK 0x0000ffff</span>
<span class="cp">#define BRCMF_SCAN_PARAMS_NSSID_SHIFT 16</span>

<span class="cp">#define BRCMF_SCAN_ACTION_START      1</span>
<span class="cp">#define BRCMF_SCAN_ACTION_CONTINUE   2</span>
<span class="cp">#define WL_SCAN_ACTION_ABORT      3</span>

<span class="cp">#define BRCMF_ISCAN_REQ_VERSION 1</span>

<span class="cm">/* brcmf_iscan_results status values */</span>
<span class="cp">#define BRCMF_SCAN_RESULTS_SUCCESS	0</span>
<span class="cp">#define BRCMF_SCAN_RESULTS_PARTIAL	1</span>
<span class="cp">#define BRCMF_SCAN_RESULTS_PENDING	2</span>
<span class="cp">#define BRCMF_SCAN_RESULTS_ABORTED	3</span>
<span class="cp">#define BRCMF_SCAN_RESULTS_NO_MEM	4</span>

<span class="cm">/* Indicates this key is using soft encrypt */</span>
<span class="cp">#define WL_SOFT_KEY	(1 &lt;&lt; 0)</span>
<span class="cm">/* primary (ie tx) key */</span>
<span class="cp">#define BRCMF_PRIMARY_KEY	(1 &lt;&lt; 1)</span>
<span class="cm">/* Reserved for backward compat */</span>
<span class="cp">#define WL_KF_RES_4	(1 &lt;&lt; 4)</span>
<span class="cm">/* Reserved for backward compat */</span>
<span class="cp">#define WL_KF_RES_5	(1 &lt;&lt; 5)</span>
<span class="cm">/* Indicates a group key for a IBSS PEER */</span>
<span class="cp">#define WL_IBSS_PEER_GROUP_KEY	(1 &lt;&lt; 6)</span>

<span class="cm">/* For supporting multiple interfaces */</span>
<span class="cp">#define BRCMF_MAX_IFS	16</span>

<span class="cp">#define DOT11_BSSTYPE_ANY			2</span>
<span class="cp">#define DOT11_MAX_DEFAULT_KEYS	4</span>

<span class="cp">#define BRCMF_EVENT_MSG_LINK		0x01</span>
<span class="cp">#define BRCMF_EVENT_MSG_FLUSHTXQ	0x02</span>
<span class="cp">#define BRCMF_EVENT_MSG_GROUP		0x04</span>

<span class="k">struct</span> <span class="n">brcmf_event_msg</span> <span class="p">{</span>
	<span class="n">__be16</span> <span class="n">version</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">event_type</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">status</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">reason</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">auth_type</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">datalen</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">ifname</span><span class="p">[</span><span class="n">IFNAMSIZ</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">brcm_ethhdr</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">subtype</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">oui</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">usr_subtype</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">brcmf_event</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ethhdr</span> <span class="n">eth</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">brcm_ethhdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">brcmf_event_msg</span> <span class="n">msg</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* event codes sent by the dongle to this driver */</span>
<span class="cp">#define BRCMF_E_SET_SSID			0</span>
<span class="cp">#define BRCMF_E_JOIN				1</span>
<span class="cp">#define BRCMF_E_START				2</span>
<span class="cp">#define BRCMF_E_AUTH				3</span>
<span class="cp">#define BRCMF_E_AUTH_IND			4</span>
<span class="cp">#define BRCMF_E_DEAUTH				5</span>
<span class="cp">#define BRCMF_E_DEAUTH_IND			6</span>
<span class="cp">#define BRCMF_E_ASSOC				7</span>
<span class="cp">#define BRCMF_E_ASSOC_IND			8</span>
<span class="cp">#define BRCMF_E_REASSOC				9</span>
<span class="cp">#define BRCMF_E_REASSOC_IND			10</span>
<span class="cp">#define BRCMF_E_DISASSOC			11</span>
<span class="cp">#define BRCMF_E_DISASSOC_IND			12</span>
<span class="cp">#define BRCMF_E_QUIET_START			13</span>
<span class="cp">#define BRCMF_E_QUIET_END			14</span>
<span class="cp">#define BRCMF_E_BEACON_RX			15</span>
<span class="cp">#define BRCMF_E_LINK				16</span>
<span class="cp">#define BRCMF_E_MIC_ERROR			17</span>
<span class="cp">#define BRCMF_E_NDIS_LINK			18</span>
<span class="cp">#define BRCMF_E_ROAM				19</span>
<span class="cp">#define BRCMF_E_TXFAIL				20</span>
<span class="cp">#define BRCMF_E_PMKID_CACHE			21</span>
<span class="cp">#define BRCMF_E_RETROGRADE_TSF			22</span>
<span class="cp">#define BRCMF_E_PRUNE				23</span>
<span class="cp">#define BRCMF_E_AUTOAUTH			24</span>
<span class="cp">#define BRCMF_E_EAPOL_MSG			25</span>
<span class="cp">#define BRCMF_E_SCAN_COMPLETE			26</span>
<span class="cp">#define BRCMF_E_ADDTS_IND			27</span>
<span class="cp">#define BRCMF_E_DELTS_IND			28</span>
<span class="cp">#define BRCMF_E_BCNSENT_IND			29</span>
<span class="cp">#define BRCMF_E_BCNRX_MSG			30</span>
<span class="cp">#define BRCMF_E_BCNLOST_MSG			31</span>
<span class="cp">#define BRCMF_E_ROAM_PREP			32</span>
<span class="cp">#define BRCMF_E_PFN_NET_FOUND			33</span>
<span class="cp">#define BRCMF_E_PFN_NET_LOST			34</span>
<span class="cp">#define BRCMF_E_RESET_COMPLETE			35</span>
<span class="cp">#define BRCMF_E_JOIN_START			36</span>
<span class="cp">#define BRCMF_E_ROAM_START			37</span>
<span class="cp">#define BRCMF_E_ASSOC_START			38</span>
<span class="cp">#define BRCMF_E_IBSS_ASSOC			39</span>
<span class="cp">#define BRCMF_E_RADIO				40</span>
<span class="cp">#define BRCMF_E_PSM_WATCHDOG			41</span>
<span class="cp">#define BRCMF_E_PROBREQ_MSG			44</span>
<span class="cp">#define BRCMF_E_SCAN_CONFIRM_IND		45</span>
<span class="cp">#define BRCMF_E_PSK_SUP				46</span>
<span class="cp">#define BRCMF_E_COUNTRY_CODE_CHANGED		47</span>
<span class="cp">#define	BRCMF_E_EXCEEDED_MEDIUM_TIME		48</span>
<span class="cp">#define BRCMF_E_ICV_ERROR			49</span>
<span class="cp">#define BRCMF_E_UNICAST_DECODE_ERROR		50</span>
<span class="cp">#define BRCMF_E_MULTICAST_DECODE_ERROR		51</span>
<span class="cp">#define BRCMF_E_TRACE				52</span>
<span class="cp">#define BRCMF_E_IF				54</span>
<span class="cp">#define BRCMF_E_RSSI				56</span>
<span class="cp">#define BRCMF_E_PFN_SCAN_COMPLETE		57</span>
<span class="cp">#define BRCMF_E_EXTLOG_MSG			58</span>
<span class="cp">#define BRCMF_E_ACTION_FRAME			59</span>
<span class="cp">#define BRCMF_E_ACTION_FRAME_COMPLETE		60</span>
<span class="cp">#define BRCMF_E_PRE_ASSOC_IND			61</span>
<span class="cp">#define BRCMF_E_PRE_REASSOC_IND			62</span>
<span class="cp">#define BRCMF_E_CHANNEL_ADOPTED			63</span>
<span class="cp">#define BRCMF_E_AP_STARTED			64</span>
<span class="cp">#define BRCMF_E_DFS_AP_STOP			65</span>
<span class="cp">#define BRCMF_E_DFS_AP_RESUME			66</span>
<span class="cp">#define BRCMF_E_RESERVED1			67</span>
<span class="cp">#define BRCMF_E_RESERVED2			68</span>
<span class="cp">#define BRCMF_E_ESCAN_RESULT			69</span>
<span class="cp">#define BRCMF_E_ACTION_FRAME_OFF_CHAN_COMPLETE	70</span>
<span class="cp">#define BRCMF_E_DCS_REQUEST			73</span>

<span class="cp">#define BRCMF_E_FIFO_CREDIT_MAP			74</span>

<span class="cp">#define BRCMF_E_LAST				75</span>

<span class="cp">#define BRCMF_E_STATUS_SUCCESS			0</span>
<span class="cp">#define BRCMF_E_STATUS_FAIL			1</span>
<span class="cp">#define BRCMF_E_STATUS_TIMEOUT			2</span>
<span class="cp">#define BRCMF_E_STATUS_NO_NETWORKS		3</span>
<span class="cp">#define BRCMF_E_STATUS_ABORT			4</span>
<span class="cp">#define BRCMF_E_STATUS_NO_ACK			5</span>
<span class="cp">#define BRCMF_E_STATUS_UNSOLICITED		6</span>
<span class="cp">#define BRCMF_E_STATUS_ATTEMPT			7</span>
<span class="cp">#define BRCMF_E_STATUS_PARTIAL			8</span>
<span class="cp">#define BRCMF_E_STATUS_NEWSCAN			9</span>
<span class="cp">#define BRCMF_E_STATUS_NEWASSOC			10</span>
<span class="cp">#define BRCMF_E_STATUS_11HQUIET			11</span>
<span class="cp">#define BRCMF_E_STATUS_SUPPRESS			12</span>
<span class="cp">#define BRCMF_E_STATUS_NOCHANS			13</span>
<span class="cp">#define BRCMF_E_STATUS_CS_ABORT			15</span>
<span class="cp">#define BRCMF_E_STATUS_ERROR			16</span>

<span class="cp">#define BRCMF_E_REASON_INITIAL_ASSOC		0</span>
<span class="cp">#define BRCMF_E_REASON_LOW_RSSI			1</span>
<span class="cp">#define BRCMF_E_REASON_DEAUTH			2</span>
<span class="cp">#define BRCMF_E_REASON_DISASSOC			3</span>
<span class="cp">#define BRCMF_E_REASON_BCNS_LOST		4</span>
<span class="cp">#define BRCMF_E_REASON_MINTXRATE		9</span>
<span class="cp">#define BRCMF_E_REASON_TXFAIL			10</span>

<span class="cp">#define BRCMF_E_REASON_FAST_ROAM_FAILED		5</span>
<span class="cp">#define BRCMF_E_REASON_DIRECTED_ROAM		6</span>
<span class="cp">#define BRCMF_E_REASON_TSPEC_REJECTED		7</span>
<span class="cp">#define BRCMF_E_REASON_BETTER_AP		8</span>

<span class="cp">#define BRCMF_E_PRUNE_ENCR_MISMATCH		1</span>
<span class="cp">#define BRCMF_E_PRUNE_BCAST_BSSID		2</span>
<span class="cp">#define BRCMF_E_PRUNE_MAC_DENY			3</span>
<span class="cp">#define BRCMF_E_PRUNE_MAC_NA			4</span>
<span class="cp">#define BRCMF_E_PRUNE_REG_PASSV			5</span>
<span class="cp">#define BRCMF_E_PRUNE_SPCT_MGMT			6</span>
<span class="cp">#define BRCMF_E_PRUNE_RADAR			7</span>
<span class="cp">#define BRCMF_E_RSN_MISMATCH			8</span>
<span class="cp">#define BRCMF_E_PRUNE_NO_COMMON_RATES		9</span>
<span class="cp">#define BRCMF_E_PRUNE_BASIC_RATES		10</span>
<span class="cp">#define BRCMF_E_PRUNE_CIPHER_NA			12</span>
<span class="cp">#define BRCMF_E_PRUNE_KNOWN_STA			13</span>
<span class="cp">#define BRCMF_E_PRUNE_WDS_PEER			15</span>
<span class="cp">#define BRCMF_E_PRUNE_QBSS_LOAD			16</span>
<span class="cp">#define BRCMF_E_PRUNE_HOME_AP			17</span>

<span class="cp">#define BRCMF_E_SUP_OTHER			0</span>
<span class="cp">#define BRCMF_E_SUP_DECRYPT_KEY_DATA		1</span>
<span class="cp">#define BRCMF_E_SUP_BAD_UCAST_WEP128		2</span>
<span class="cp">#define BRCMF_E_SUP_BAD_UCAST_WEP40		3</span>
<span class="cp">#define BRCMF_E_SUP_UNSUP_KEY_LEN		4</span>
<span class="cp">#define BRCMF_E_SUP_PW_KEY_CIPHER		5</span>
<span class="cp">#define BRCMF_E_SUP_MSG3_TOO_MANY_IE		6</span>
<span class="cp">#define BRCMF_E_SUP_MSG3_IE_MISMATCH		7</span>
<span class="cp">#define BRCMF_E_SUP_NO_INSTALL_FLAG		8</span>
<span class="cp">#define BRCMF_E_SUP_MSG3_NO_GTK			9</span>
<span class="cp">#define BRCMF_E_SUP_GRP_KEY_CIPHER		10</span>
<span class="cp">#define BRCMF_E_SUP_GRP_MSG1_NO_GTK		11</span>
<span class="cp">#define BRCMF_E_SUP_GTK_DECRYPT_FAIL		12</span>
<span class="cp">#define BRCMF_E_SUP_SEND_FAIL			13</span>
<span class="cp">#define BRCMF_E_SUP_DEAUTH			14</span>

<span class="cp">#define BRCMF_E_IF_ADD				1</span>
<span class="cp">#define BRCMF_E_IF_DEL				2</span>
<span class="cp">#define BRCMF_E_IF_CHANGE			3</span>

<span class="cp">#define BRCMF_E_IF_ROLE_STA			0</span>
<span class="cp">#define BRCMF_E_IF_ROLE_AP			1</span>
<span class="cp">#define BRCMF_E_IF_ROLE_WDS			2</span>

<span class="cp">#define BRCMF_E_LINK_BCN_LOSS			1</span>
<span class="cp">#define BRCMF_E_LINK_DISASSOC			2</span>
<span class="cp">#define BRCMF_E_LINK_ASSOC_REC			3</span>
<span class="cp">#define BRCMF_E_LINK_BSSCFG_DIS			4</span>

<span class="cm">/* Pattern matching filter. Specifies an offset within received packets to</span>
<span class="cm"> * start matching, the pattern to match, the size of the pattern, and a bitmask</span>
<span class="cm"> * that indicates which bits within the pattern should be matched.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">brcmf_pkt_filter_pattern_le</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Offset within received packet to start pattern matching.</span>
<span class="cm">	 * Offset &#39;0&#39; is the first byte of the ethernet header.</span>
<span class="cm">	 */</span>
	<span class="n">__le32</span> <span class="n">offset</span><span class="p">;</span>
	<span class="cm">/* Size of the pattern.  Bitmask must be the same size.*/</span>
	<span class="n">__le32</span> <span class="n">size_bytes</span><span class="p">;</span>
	<span class="cm">/*</span>
<span class="cm">	 * Variable length mask and pattern data. mask starts at offset 0.</span>
<span class="cm">	 * Pattern immediately follows mask.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">mask_and_pattern</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* IOVAR &quot;pkt_filter_add&quot; parameter. Used to install packet filters. */</span>
<span class="k">struct</span> <span class="n">brcmf_pkt_filter_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">id</span><span class="p">;</span>		<span class="cm">/* Unique filter id, specified by app. */</span>
	<span class="n">__le32</span> <span class="n">type</span><span class="p">;</span>		<span class="cm">/* Filter type (WL_PKT_FILTER_TYPE_xxx). */</span>
	<span class="n">__le32</span> <span class="n">negate_match</span><span class="p">;</span>	<span class="cm">/* Negate the result of filter matches */</span>
	<span class="k">union</span> <span class="p">{</span>			<span class="cm">/* Filter definitions */</span>
		<span class="k">struct</span> <span class="n">brcmf_pkt_filter_pattern_le</span> <span class="n">pattern</span><span class="p">;</span> <span class="cm">/* Filter pattern */</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* IOVAR &quot;pkt_filter_enable&quot; parameter. */</span>
<span class="k">struct</span> <span class="n">brcmf_pkt_filter_enable_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">id</span><span class="p">;</span>		<span class="cm">/* Unique filter id */</span>
	<span class="n">__le32</span> <span class="n">enable</span><span class="p">;</span>		<span class="cm">/* Enable/disable bool */</span>
<span class="p">};</span>

<span class="cm">/* BSS info structure</span>
<span class="cm"> * Applications MUST CHECK ie_offset field and length field to access IEs and</span>
<span class="cm"> * next bss_info structure in a vector (in struct brcmf_scan_results)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">brcmf_bss_info_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">version</span><span class="p">;</span>		<span class="cm">/* version field */</span>
	<span class="n">__le32</span> <span class="n">length</span><span class="p">;</span>		<span class="cm">/* byte length of data in this record,</span>
<span class="cm">				 * starting at version and including IEs</span>
<span class="cm">				 */</span>
	<span class="n">u8</span> <span class="n">BSSID</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">__le16</span> <span class="n">beacon_period</span><span class="p">;</span>	<span class="cm">/* units are Kusec */</span>
	<span class="n">__le16</span> <span class="n">capability</span><span class="p">;</span>	<span class="cm">/* Capability information */</span>
	<span class="n">u8</span> <span class="n">SSID_len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">SSID</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">__le32</span> <span class="n">count</span><span class="p">;</span>   <span class="cm">/* # rates in this set */</span>
		<span class="n">u8</span> <span class="n">rates</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span> <span class="cm">/* rates in 500kbps units w/hi bit set if basic */</span>
	<span class="p">}</span> <span class="n">rateset</span><span class="p">;</span>		<span class="cm">/* supported rates */</span>
	<span class="n">__le16</span> <span class="n">chanspec</span><span class="p">;</span>	<span class="cm">/* chanspec for bss */</span>
	<span class="n">__le16</span> <span class="n">atim_window</span><span class="p">;</span>	<span class="cm">/* units are Kusec */</span>
	<span class="n">u8</span> <span class="n">dtim_period</span><span class="p">;</span>	<span class="cm">/* DTIM period */</span>
	<span class="n">__le16</span> <span class="n">RSSI</span><span class="p">;</span>		<span class="cm">/* receive signal strength (in dBm) */</span>
	<span class="n">s8</span> <span class="n">phy_noise</span><span class="p">;</span>		<span class="cm">/* noise (in dBm) */</span>

	<span class="n">u8</span> <span class="n">n_cap</span><span class="p">;</span>		<span class="cm">/* BSS is 802.11N Capable */</span>
	<span class="cm">/* 802.11N BSS Capabilities (based on HT_CAP_*): */</span>
	<span class="n">__le32</span> <span class="n">nbss_cap</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ctl_ch</span><span class="p">;</span>		<span class="cm">/* 802.11N BSS control channel number */</span>
	<span class="n">__le32</span> <span class="n">reserved32</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>	<span class="cm">/* Reserved for expansion of BSS properties */</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>		<span class="cm">/* flags */</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>	<span class="cm">/* Reserved for expansion of BSS properties */</span>
	<span class="n">u8</span> <span class="n">basic_mcs</span><span class="p">[</span><span class="n">MCSSET_LEN</span><span class="p">];</span>	<span class="cm">/* 802.11N BSS required MCS set */</span>

	<span class="n">__le16</span> <span class="n">ie_offset</span><span class="p">;</span>	<span class="cm">/* offset at which IEs start, from beginning */</span>
	<span class="n">__le32</span> <span class="n">ie_length</span><span class="p">;</span>	<span class="cm">/* byte length of Information Elements */</span>
	<span class="n">__le16</span> <span class="n">SNR</span><span class="p">;</span>		<span class="cm">/* average SNR of during frame reception */</span>
	<span class="cm">/* Add new fields here */</span>
	<span class="cm">/* variable length Information Elements */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcm_rateset_le</span> <span class="p">{</span>
	<span class="cm">/* # rates in this set */</span>
	<span class="n">__le32</span> <span class="n">count</span><span class="p">;</span>
	<span class="cm">/* rates in 500kbps units w/hi bit set if basic */</span>
	<span class="n">u8</span> <span class="n">rates</span><span class="p">[</span><span class="n">WL_NUMRATES</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcmf_ssid</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">SSID_len</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">SSID</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcmf_ssid_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">SSID_len</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">SSID</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcmf_scan_params_le</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">brcmf_ssid_le</span> <span class="n">ssid_le</span><span class="p">;</span>	<span class="cm">/* default: {0, &quot;&quot;} */</span>
	<span class="n">u8</span> <span class="n">bssid</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>	<span class="cm">/* default: bcast */</span>
	<span class="n">s8</span> <span class="n">bss_type</span><span class="p">;</span>		<span class="cm">/* default: any,</span>
<span class="cm">				 * DOT11_BSSTYPE_ANY/INFRASTRUCTURE/INDEPENDENT</span>
<span class="cm">				 */</span>
	<span class="n">u8</span> <span class="n">scan_type</span><span class="p">;</span>	<span class="cm">/* flags, 0 use default */</span>
	<span class="n">__le32</span> <span class="n">nprobes</span><span class="p">;</span>	  <span class="cm">/* -1 use default, number of probes per channel */</span>
	<span class="n">__le32</span> <span class="n">active_time</span><span class="p">;</span>	<span class="cm">/* -1 use default, dwell time per channel for</span>
<span class="cm">				 * active scanning</span>
<span class="cm">				 */</span>
	<span class="n">__le32</span> <span class="n">passive_time</span><span class="p">;</span>	<span class="cm">/* -1 use default, dwell time per channel</span>
<span class="cm">				 * for passive scanning</span>
<span class="cm">				 */</span>
	<span class="n">__le32</span> <span class="n">home_time</span><span class="p">;</span>	<span class="cm">/* -1 use default, dwell time for the</span>
<span class="cm">				 * home channel between channel scans</span>
<span class="cm">				 */</span>
	<span class="n">__le32</span> <span class="n">channel_num</span><span class="p">;</span>	<span class="cm">/* count of channels and ssids that follow</span>
<span class="cm">				 *</span>
<span class="cm">				 * low half is count of channels in</span>
<span class="cm">				 * channel_list, 0 means default (use all</span>
<span class="cm">				 * available channels)</span>
<span class="cm">				 *</span>
<span class="cm">				 * high half is entries in struct brcmf_ssid</span>
<span class="cm">				 * array that follows channel_list, aligned for</span>
<span class="cm">				 * s32 (4 bytes) meaning an odd channel count</span>
<span class="cm">				 * implies a 2-byte pad between end of</span>
<span class="cm">				 * channel_list and first ssid</span>
<span class="cm">				 *</span>
<span class="cm">				 * if ssid count is zero, single ssid in the</span>
<span class="cm">				 * fixed parameter portion is assumed, otherwise</span>
<span class="cm">				 * ssid in the fixed portion is ignored</span>
<span class="cm">				 */</span>
	<span class="n">__le16</span> <span class="n">channel_list</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>	<span class="cm">/* list of chanspecs */</span>
<span class="p">};</span>

<span class="cm">/* incremental scan struct */</span>
<span class="k">struct</span> <span class="n">brcmf_iscan_params_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">version</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">action</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">scan_duration</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">brcmf_scan_params_le</span> <span class="n">params_le</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcmf_scan_results</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">buflen</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">version</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">count</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">brcmf_bss_info_le</span> <span class="n">bss_info_le</span><span class="p">[];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcmf_scan_results_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">buflen</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">version</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">count</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* used for association with a specific BSSID and chanspec list */</span>
<span class="k">struct</span> <span class="n">brcmf_assoc_params_le</span> <span class="p">{</span>
	<span class="cm">/* 00:00:00:00:00:00: broadcast scan */</span>
	<span class="n">u8</span> <span class="n">bssid</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="cm">/* 0: all available channels, otherwise count of chanspecs in</span>
<span class="cm">	 * chanspec_list */</span>
	<span class="n">__le32</span> <span class="n">chanspec_num</span><span class="p">;</span>
	<span class="cm">/* list of chanspecs */</span>
	<span class="n">__le16</span> <span class="n">chanspec_list</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* used for join with or without a specific bssid and channel list */</span>
<span class="k">struct</span> <span class="n">brcmf_join_params</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">brcmf_ssid_le</span> <span class="n">ssid_le</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">brcmf_assoc_params_le</span> <span class="n">params_le</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* incremental scan results struct */</span>
<span class="k">struct</span> <span class="n">brcmf_iscan_results</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">status</span><span class="p">;</span>
		<span class="n">__le32</span> <span class="n">status_le</span><span class="p">;</span>
	<span class="p">};</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">brcmf_scan_results</span> <span class="n">results</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">brcmf_scan_results_le</span> <span class="n">results_le</span><span class="p">;</span>
	<span class="p">};</span>
<span class="p">};</span>

<span class="cm">/* size of brcmf_iscan_results not including variable length array */</span>
<span class="cp">#define BRCMF_ISCAN_RESULTS_FIXED_SIZE \</span>
<span class="cp">	(sizeof(struct brcmf_scan_results) + \</span>
<span class="cp">	 offsetof(struct brcmf_iscan_results, results))</span>

<span class="k">struct</span> <span class="n">brcmf_wsec_key</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">index</span><span class="p">;</span>		<span class="cm">/* key index */</span>
	<span class="n">u32</span> <span class="n">len</span><span class="p">;</span>		<span class="cm">/* key length */</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="n">WLAN_MAX_KEY_LEN</span><span class="p">];</span>	<span class="cm">/* key data */</span>
	<span class="n">u32</span> <span class="n">pad_1</span><span class="p">[</span><span class="mi">18</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">algo</span><span class="p">;</span>	<span class="cm">/* CRYPTO_ALGO_AES_CCM, CRYPTO_ALGO_WEP128, etc */</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>	<span class="cm">/* misc flags */</span>
	<span class="n">u32</span> <span class="n">pad_2</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">iv_initialized</span><span class="p">;</span>	<span class="cm">/* has IV been initialized already? */</span>
	<span class="n">u32</span> <span class="n">pad_3</span><span class="p">;</span>
	<span class="cm">/* Rx IV */</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">hi</span><span class="p">;</span>	<span class="cm">/* upper 32 bits of IV */</span>
		<span class="n">u16</span> <span class="n">lo</span><span class="p">;</span>	<span class="cm">/* lower 16 bits of IV */</span>
	<span class="p">}</span> <span class="n">rxiv</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pad_4</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">ea</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>	<span class="cm">/* per station */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * dongle requires same struct as above but with fields in little endian order</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">brcmf_wsec_key_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">index</span><span class="p">;</span>		<span class="cm">/* key index */</span>
	<span class="n">__le32</span> <span class="n">len</span><span class="p">;</span>		<span class="cm">/* key length */</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="n">WLAN_MAX_KEY_LEN</span><span class="p">];</span>	<span class="cm">/* key data */</span>
	<span class="n">__le32</span> <span class="n">pad_1</span><span class="p">[</span><span class="mi">18</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">algo</span><span class="p">;</span>	<span class="cm">/* CRYPTO_ALGO_AES_CCM, CRYPTO_ALGO_WEP128, etc */</span>
	<span class="n">__le32</span> <span class="n">flags</span><span class="p">;</span>	<span class="cm">/* misc flags */</span>
	<span class="n">__le32</span> <span class="n">pad_2</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">iv_initialized</span><span class="p">;</span>	<span class="cm">/* has IV been initialized already? */</span>
	<span class="n">__le32</span> <span class="n">pad_3</span><span class="p">;</span>
	<span class="cm">/* Rx IV */</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">__le32</span> <span class="n">hi</span><span class="p">;</span>	<span class="cm">/* upper 32 bits of IV */</span>
		<span class="n">__le16</span> <span class="n">lo</span><span class="p">;</span>	<span class="cm">/* lower 16 bits of IV */</span>
	<span class="p">}</span> <span class="n">rxiv</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">pad_4</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">ea</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>	<span class="cm">/* per station */</span>
<span class="p">};</span>

<span class="cm">/* Used to get specific STA parameters */</span>
<span class="k">struct</span> <span class="n">brcmf_scb_val_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">val</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ea</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* channel encoding */</span>
<span class="k">struct</span> <span class="n">brcmf_channel_info_le</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">hw_channel</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">target_channel</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">scan_channel</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Bus independent dongle command */</span>
<span class="k">struct</span> <span class="n">brcmf_dcmd</span> <span class="p">{</span>
	<span class="n">uint</span> <span class="n">cmd</span><span class="p">;</span>		<span class="cm">/* common dongle cmd definition */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>		<span class="cm">/* pointer to user buffer */</span>
	<span class="n">uint</span> <span class="n">len</span><span class="p">;</span>		<span class="cm">/* length of user buffer */</span>
	<span class="n">u8</span> <span class="n">set</span><span class="p">;</span>			<span class="cm">/* get or set request (optional) */</span>
	<span class="n">uint</span> <span class="n">used</span><span class="p">;</span>		<span class="cm">/* bytes read or written (optional) */</span>
	<span class="n">uint</span> <span class="n">needed</span><span class="p">;</span>		<span class="cm">/* bytes needed (optional) */</span>
<span class="p">};</span>

<span class="cm">/* Forward decls for struct brcmf_pub (see below) */</span>
<span class="k">struct</span> <span class="n">brcmf_proto</span><span class="p">;</span>	<span class="cm">/* device communication protocol info */</span>
<span class="k">struct</span> <span class="n">brcmf_cfg80211_dev</span><span class="p">;</span> <span class="cm">/* cfg80211 device info */</span>

<span class="cm">/* Common structure for module and instance linkage */</span>
<span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="p">{</span>
	<span class="cm">/* Linkage ponters */</span>
	<span class="k">struct</span> <span class="n">brcmf_bus</span> <span class="o">*</span><span class="n">bus_if</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">brcmf_proto</span> <span class="o">*</span><span class="n">prot</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">brcmf_cfg80211_dev</span> <span class="o">*</span><span class="n">config</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">;</span>		<span class="cm">/* fullmac dongle device pointer */</span>

	<span class="cm">/* Internal brcmf items */</span>
	<span class="n">uint</span> <span class="n">hdrlen</span><span class="p">;</span>		<span class="cm">/* Total BRCMF header length (proto + bus) */</span>
	<span class="n">uint</span> <span class="n">rxsz</span><span class="p">;</span>		<span class="cm">/* Rx buffer size bus module should use */</span>
	<span class="n">u8</span> <span class="n">wme_dp</span><span class="p">;</span>		<span class="cm">/* wme discard priority */</span>

	<span class="cm">/* Dongle media info */</span>
	<span class="n">bool</span> <span class="n">iswl</span><span class="p">;</span>		<span class="cm">/* Dongle-resident driver is wl */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">drv_version</span><span class="p">;</span>	<span class="cm">/* Version of dongle-resident driver */</span>
	<span class="n">u8</span> <span class="n">mac</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>		<span class="cm">/* MAC address obtained from dongle */</span>

	<span class="cm">/* Additional stats for the bus level */</span>

	<span class="cm">/* Multicast data packets sent to dongle */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">tx_multicast</span><span class="p">;</span>
	<span class="cm">/* Packets flushed due to unscheduled sendup thread */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rx_flushed</span><span class="p">;</span>
	<span class="cm">/* Number of times dpc scheduled by watchdog timer */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">wd_dpc_sched</span><span class="p">;</span>

	<span class="cm">/* Number of flow control pkts recvd */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">fc_packets</span><span class="p">;</span>

	<span class="cm">/* Last error return */</span>
	<span class="kt">int</span> <span class="n">bcmerror</span><span class="p">;</span>

	<span class="cm">/* Last error from dongle */</span>
	<span class="kt">int</span> <span class="n">dongle_error</span><span class="p">;</span>

	<span class="cm">/* Suspend disable flag  flag */</span>
	<span class="kt">int</span> <span class="n">suspend_disable_flag</span><span class="p">;</span>	<span class="cm">/* &quot;1&quot; to disable all extra powersaving</span>
<span class="cm">					 during suspend */</span>
	<span class="kt">int</span> <span class="n">in_suspend</span><span class="p">;</span>		<span class="cm">/* flag set to 1 when early suspend called */</span>
	<span class="kt">int</span> <span class="n">dtim_skip</span><span class="p">;</span>		<span class="cm">/* dtim skip , default 0 means wake each dtim */</span>

	<span class="cm">/* Pkt filter defination */</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">pktfilter</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">pktfilter_count</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">country_code</span><span class="p">[</span><span class="n">BRCM_CNTRY_BUF_SZ</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">eventmask</span><span class="p">[</span><span class="n">BRCMF_EVENTING_MASK_LEN</span><span class="p">];</span>

	<span class="k">struct</span> <span class="n">brcmf_if</span> <span class="o">*</span><span class="n">iflist</span><span class="p">[</span><span class="n">BRCMF_MAX_IFS</span><span class="p">];</span>

	<span class="k">struct</span> <span class="n">mutex</span> <span class="n">proto_block</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">work_struct</span> <span class="n">setmacaddr_work</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">work_struct</span> <span class="n">multicast_work</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">macvalue</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">atomic_t</span> <span class="n">pend_8021x_cnt</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcmf_if_event</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">ifidx</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">action</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bssidx</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bcmevent_name</span> <span class="p">{</span>
	<span class="n">uint</span> <span class="n">event</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">bcmevent_name</span> <span class="n">bcmevent_names</span><span class="p">[];</span>

<span class="k">extern</span> <span class="n">uint</span> <span class="n">brcmf_c_mkiovar</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">uint</span> <span class="n">datalen</span><span class="p">,</span>
			  <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">uint</span> <span class="n">len</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">brcmf_netdev_wait_pend8021x</span><span class="p">(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">ndev</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">s32</span> <span class="n">brcmf_exec_dcmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u32</span> <span class="n">cmd</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">arg</span><span class="p">,</span> <span class="n">u32</span> <span class="n">len</span><span class="p">);</span>

<span class="cm">/* Return pointer to interface name */</span>
<span class="k">extern</span> <span class="kt">char</span> <span class="o">*</span><span class="n">brcmf_ifname</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">idx</span><span class="p">);</span>

<span class="cm">/* Query dongle */</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">brcmf_proto_cdc_query_dcmd</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ifidx</span><span class="p">,</span>
				       <span class="n">uint</span> <span class="n">cmd</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="n">uint</span> <span class="n">len</span><span class="p">);</span>

<span class="cp">#ifdef DEBUG</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">brcmf_write_to_file</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">size</span><span class="p">);</span>
<span class="cp">#endif				</span><span class="cm">/* DEBUG */</span><span class="cp"></span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">brcmf_ifname2idx</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">brcmf_c_host_event</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">idx</span><span class="p">,</span>
			      <span class="kt">void</span> <span class="o">*</span><span class="n">pktdata</span><span class="p">,</span> <span class="k">struct</span> <span class="n">brcmf_event_msg</span> <span class="o">*</span><span class="p">,</span>
			      <span class="kt">void</span> <span class="o">**</span><span class="n">data_ptr</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">brcmf_del_if</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ifidx</span><span class="p">);</span>

<span class="cm">/* Send packet to dongle via data channel */</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">brcmf_sendpkt</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ifidx</span><span class="p">,</span>\
			 <span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">*</span><span class="n">pkt</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">brcmf_c_pktfilter_offload_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">arg</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">brcmf_c_pktfilter_offload_enable</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcmf_pub</span> <span class="o">*</span><span class="n">drvr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">arg</span><span class="p">,</span>
					     <span class="kt">int</span> <span class="n">enable</span><span class="p">,</span> <span class="kt">int</span> <span class="n">master_mode</span><span class="p">);</span>

<span class="cp">#define	BRCMF_DCMD_SMLEN	256	</span><span class="cm">/* &quot;small&quot; cmd buffer required */</span><span class="cp"></span>
<span class="cp">#define BRCMF_DCMD_MEDLEN	1536	</span><span class="cm">/* &quot;med&quot; cmd buffer required */</span><span class="cp"></span>
<span class="cp">#define	BRCMF_DCMD_MAXLEN	8192	</span><span class="cm">/* max length cmd buffer required */</span><span class="cp"></span>

<span class="cp">#endif				</span><span class="cm">/* _BRCMF_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
