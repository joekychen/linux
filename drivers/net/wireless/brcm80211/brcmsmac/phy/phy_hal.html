<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › brcm80211 › brcmsmac › phy › phy_hal.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../../index.html"></a><h1>phy_hal.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2010 Broadcom Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * Permission to use, copy, modify, and/or distribute this software for any</span>
<span class="cm"> * purpose with or without fee is hereby granted, provided that the above</span>
<span class="cm"> * copyright notice and this permission notice appear in all copies.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot; AND THE AUTHOR DISCLAIMS ALL WARRANTIES</span>
<span class="cm"> * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY</span>
<span class="cm"> * SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES</span>
<span class="cm"> * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION</span>
<span class="cm"> * OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN</span>
<span class="cm"> * CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * phy_hal.h:  functionality exported from the phy to higher layers</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _BRCM_PHY_HAL_H_</span>
<span class="cp">#define _BRCM_PHY_HAL_H_</span>

<span class="cp">#include &lt;brcmu_utils.h&gt;</span>
<span class="cp">#include &lt;brcmu_wifi.h&gt;</span>
<span class="cp">#include &lt;phy_shim.h&gt;</span>

<span class="cp">#define	IDCODE_VER_MASK		0x0000000f</span>
<span class="cp">#define	IDCODE_VER_SHIFT	0</span>
<span class="cp">#define	IDCODE_MFG_MASK		0x00000fff</span>
<span class="cp">#define	IDCODE_MFG_SHIFT	0</span>
<span class="cp">#define	IDCODE_ID_MASK		0x0ffff000</span>
<span class="cp">#define	IDCODE_ID_SHIFT		12</span>
<span class="cp">#define	IDCODE_REV_MASK		0xf0000000</span>
<span class="cp">#define	IDCODE_REV_SHIFT	28</span>

<span class="cp">#define	NORADIO_ID		0xe4f5</span>
<span class="cp">#define	NORADIO_IDCODE		0x4e4f5246</span>

<span class="cp">#define BCM2055_ID		0x2055</span>
<span class="cp">#define BCM2055_IDCODE		0x02055000</span>
<span class="cp">#define BCM2055A0_IDCODE	0x1205517f</span>

<span class="cp">#define BCM2056_ID		0x2056</span>
<span class="cp">#define BCM2056_IDCODE		0x02056000</span>
<span class="cp">#define BCM2056A0_IDCODE	0x1205617f</span>

<span class="cp">#define BCM2057_ID		0x2057</span>
<span class="cp">#define BCM2057_IDCODE		0x02057000</span>
<span class="cp">#define BCM2057A0_IDCODE	0x1205717f</span>

<span class="cp">#define BCM2064_ID		0x2064</span>
<span class="cp">#define BCM2064_IDCODE		0x02064000</span>
<span class="cp">#define BCM2064A0_IDCODE	0x0206417f</span>

<span class="cp">#define PHY_TPC_HW_OFF		false</span>
<span class="cp">#define PHY_TPC_HW_ON		true</span>

<span class="cp">#define PHY_PERICAL_DRIVERUP	1</span>
<span class="cp">#define PHY_PERICAL_WATCHDOG	2</span>
<span class="cp">#define PHY_PERICAL_PHYINIT	3</span>
<span class="cp">#define PHY_PERICAL_JOIN_BSS	4</span>
<span class="cp">#define PHY_PERICAL_START_IBSS	5</span>
<span class="cp">#define PHY_PERICAL_UP_BSS	6</span>
<span class="cp">#define PHY_PERICAL_CHAN	7</span>
<span class="cp">#define PHY_FULLCAL	8</span>

<span class="cp">#define PHY_PERICAL_DISABLE	0</span>
<span class="cp">#define PHY_PERICAL_SPHASE	1</span>
<span class="cp">#define PHY_PERICAL_MPHASE	2</span>
<span class="cp">#define PHY_PERICAL_MANUAL	3</span>

<span class="cp">#define PHY_HOLD_FOR_ASSOC	1</span>
<span class="cp">#define PHY_HOLD_FOR_SCAN	2</span>
<span class="cp">#define PHY_HOLD_FOR_RM		4</span>
<span class="cp">#define PHY_HOLD_FOR_PLT	8</span>
<span class="cp">#define PHY_HOLD_FOR_MUTE	16</span>
<span class="cp">#define PHY_HOLD_FOR_NOT_ASSOC 0x20</span>

<span class="cp">#define PHY_MUTE_FOR_PREISM	1</span>
<span class="cp">#define PHY_MUTE_ALL		0xffffffff</span>

<span class="cp">#define PHY_NOISE_FIXED_VAL		(-95)</span>
<span class="cp">#define PHY_NOISE_FIXED_VAL_NPHY	(-92)</span>
<span class="cp">#define PHY_NOISE_FIXED_VAL_LCNPHY	(-92)</span>

<span class="cp">#define PHY_MODE_CAL		0x0002</span>
<span class="cp">#define PHY_MODE_NOISEM		0x0004</span>

<span class="cp">#define BRCMS_TXPWR_DB_FACTOR	4</span>

<span class="cm">/* a large TX Power as an init value to factor out of min() calculations,</span>
<span class="cm"> * keep low enough to fit in an s8, units are .25 dBm</span>
<span class="cm"> */</span>
<span class="cp">#define BRCMS_TXPWR_MAX		(127)	</span><span class="cm">/* ~32 dBm = 1,500 mW */</span><span class="cp"></span>

<span class="cp">#define BRCMS_NUM_RATES_CCK           4</span>
<span class="cp">#define BRCMS_NUM_RATES_OFDM          8</span>
<span class="cp">#define BRCMS_NUM_RATES_MCS_1_STREAM  8</span>
<span class="cp">#define BRCMS_NUM_RATES_MCS_2_STREAM  8</span>
<span class="cp">#define BRCMS_NUM_RATES_MCS_3_STREAM  8</span>
<span class="cp">#define BRCMS_NUM_RATES_MCS_4_STREAM  8</span>

<span class="cp">#define	BRCMS_RSSI_INVALID	 0	</span><span class="cm">/* invalid RSSI value */</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">d11regs</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">phy_shim_info</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">txpwr_limits</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">cck</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_CCK</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">ofdm</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_OFDM</span><span class="p">];</span>

	<span class="n">u8</span> <span class="n">ofdm_cdd</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_OFDM</span><span class="p">];</span>

	<span class="n">u8</span> <span class="n">ofdm_40_siso</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_OFDM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">ofdm_40_cdd</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_OFDM</span><span class="p">];</span>

	<span class="n">u8</span> <span class="n">mcs_20_siso</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_1_STREAM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mcs_20_cdd</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_1_STREAM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mcs_20_stbc</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_1_STREAM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mcs_20_mimo</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_2_STREAM</span><span class="p">];</span>

	<span class="n">u8</span> <span class="n">mcs_40_siso</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_1_STREAM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mcs_40_cdd</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_1_STREAM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mcs_40_stbc</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_1_STREAM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mcs_40_mimo</span><span class="p">[</span><span class="n">BRCMS_NUM_RATES_MCS_2_STREAM</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mcs32</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">tx_power</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">chanspec</span><span class="p">;</span>   <span class="cm">/* txpwr report for this channel */</span>
	<span class="n">u16</span> <span class="n">local_chanspec</span><span class="p">;</span>     <span class="cm">/* channel on which we are associated */</span>
	<span class="n">u8</span> <span class="n">local_max</span><span class="p">;</span>   <span class="cm">/* local max according to the AP */</span>
	<span class="n">u8</span> <span class="n">local_constraint</span><span class="p">;</span>    <span class="cm">/* local constraint according to the AP */</span>
	<span class="n">s8</span> <span class="n">antgain</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>  <span class="cm">/* Ant gain for each band - from SROM */</span>
	<span class="n">u8</span> <span class="n">rf_cores</span><span class="p">;</span>            <span class="cm">/* count of RF Cores being reported */</span>
	<span class="n">u8</span> <span class="n">est_Pout</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span> <span class="cm">/* Latest tx power out estimate per RF chain */</span>
	<span class="n">u8</span> <span class="n">est_Pout_act</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>     <span class="cm">/* Latest tx power out estimate per RF chain</span>
<span class="cm">				 * without adjustment */</span>
	<span class="n">u8</span> <span class="n">est_Pout_cck</span><span class="p">;</span>        <span class="cm">/* Latest CCK tx power out estimate */</span>
	<span class="n">u8</span> <span class="n">tx_power_max</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>     <span class="cm">/* Maximum target power among all rates */</span>
	<span class="cm">/* Index of the rate with the max target power */</span>
	<span class="n">u8</span> <span class="n">tx_power_max_rate_ind</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="cm">/* User limit */</span>
	<span class="n">u8</span> <span class="n">user_limit</span><span class="p">[</span><span class="n">WL_TX_POWER_RATES</span><span class="p">];</span>
	<span class="cm">/* Regulatory power limit */</span>
	<span class="n">u8</span> <span class="n">reg_limit</span><span class="p">[</span><span class="n">WL_TX_POWER_RATES</span><span class="p">];</span>
	<span class="cm">/* Max power board can support (SROM) */</span>
	<span class="n">u8</span> <span class="n">board_limit</span><span class="p">[</span><span class="n">WL_TX_POWER_RATES</span><span class="p">];</span>
	<span class="cm">/* Latest target power */</span>
	<span class="n">u8</span> <span class="n">target</span><span class="p">[</span><span class="n">WL_TX_POWER_RATES</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">tx_inst_power</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">txpwr_est_Pout</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>   <span class="cm">/* Latest estimate for 2.4 and 5 Ghz */</span>
	<span class="n">u8</span> <span class="n">txpwr_est_Pout_gofdm</span><span class="p">;</span>        <span class="cm">/* Pwr estimate for 2.4 OFDM */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">brcms_chanvec</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">vec</span><span class="p">[</span><span class="n">MAXCHANNEL</span> <span class="o">/</span> <span class="n">NBBY</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">shared_phy_params</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">si_pub</span> <span class="o">*</span><span class="n">sih</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">phy_shim_info</span> <span class="o">*</span><span class="n">physhim</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">unit</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">corerev</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">vid</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">did</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">chip</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">chiprev</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">chippkg</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">sromrev</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">boardtype</span><span class="p">;</span>
	<span class="n">uint</span> <span class="n">boardrev</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">boardflags</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">boardflags2</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">extern</span> <span class="k">struct</span> <span class="n">shared_phy</span> <span class="o">*</span><span class="n">wlc_phy_shared_attach</span><span class="p">(</span><span class="k">struct</span> <span class="n">shared_phy_params</span> <span class="o">*</span><span class="n">shp</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">wlc_phy_attach</span><span class="p">(</span><span class="k">struct</span> <span class="n">shared_phy</span> <span class="o">*</span><span class="n">sh</span><span class="p">,</span>
					    <span class="k">struct</span> <span class="n">bcma_device</span> <span class="o">*</span><span class="n">d11core</span><span class="p">,</span>
					    <span class="kt">int</span> <span class="n">bandtype</span><span class="p">,</span> <span class="k">struct</span> <span class="n">wiphy</span> <span class="o">*</span><span class="n">wiphy</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_detach</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">bool</span> <span class="n">wlc_phy_get_phyversion</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">phytype</span><span class="p">,</span>
				   <span class="n">u16</span> <span class="o">*</span><span class="n">phyrev</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">radioid</span><span class="p">,</span>
				   <span class="n">u16</span> <span class="o">*</span><span class="n">radiover</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">wlc_phy_get_encore</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">wlc_phy_get_coreflags</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_hw_clk_state_upd</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">newstate</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_hw_state_upd</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">newstate</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u16</span> <span class="n">chanspec</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_watchdog</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">wlc_phy_down</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">wlc_phy_clk_bwbits</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_cal_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_antsel_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">lut_init</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_chanspec_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
				 <span class="n">u16</span> <span class="n">chanspec</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u16</span> <span class="n">wlc_phy_chanspec_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_chanspec_radio_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
				       <span class="n">u16</span> <span class="n">newch</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u16</span> <span class="n">wlc_phy_bw_state_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_bw_state_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u16</span> <span class="n">bw</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">wlc_phy_rssi_compute</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span>
				<span class="k">struct</span> <span class="n">d11rxhdr</span> <span class="o">*</span><span class="n">rxh</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_por_inform</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_noise_sample_intr</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">wlc_phy_bist_check_phy</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_set_deaf</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">user_flag</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_switch_radio</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">on</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_anacore</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">on</span><span class="p">);</span>


<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_BSSinit</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">bonlyap</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rssi</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_chanspec_ch14_widefilter_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
						 <span class="n">bool</span> <span class="n">wide_filter</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_chanspec_band_validch</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">uint</span> <span class="n">band</span><span class="p">,</span>
					  <span class="k">struct</span> <span class="n">brcms_chanvec</span> <span class="o">*</span><span class="n">channels</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u16</span> <span class="n">wlc_phy_chanspec_band_firstch</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
					 <span class="n">uint</span> <span class="n">band</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpower_sromlimit</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">uint</span> <span class="n">chan</span><span class="p">,</span>
				      <span class="n">u8</span> <span class="o">*</span><span class="n">_min_</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">_max_</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rate</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpower_sromlimit_max_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
					      <span class="n">uint</span> <span class="n">chan</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">_max_</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">_min_</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpower_boardlimit_band</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
					    <span class="n">uint</span> <span class="n">band</span><span class="p">,</span> <span class="n">s32</span> <span class="o">*</span><span class="p">,</span> <span class="n">s32</span> <span class="o">*</span><span class="p">,</span> <span class="n">u32</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpower_limit_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
				      <span class="k">struct</span> <span class="n">txpwr_limits</span> <span class="o">*</span><span class="p">,</span>
				      <span class="n">u16</span> <span class="n">chanspec</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">wlc_phy_txpower_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">uint</span> <span class="o">*</span><span class="n">qdbm</span><span class="p">,</span>
			       <span class="n">bool</span> <span class="o">*</span><span class="n">override</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">wlc_phy_txpower_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">uint</span> <span class="n">qdbm</span><span class="p">,</span>
			       <span class="n">bool</span> <span class="n">override</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpower_target_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
				       <span class="k">struct</span> <span class="n">txpwr_limits</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">wlc_phy_txpower_hw_ctrl_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpower_hw_ctrl_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
					<span class="n">bool</span> <span class="n">hwpwrctrl</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u8</span> <span class="n">wlc_phy_txpower_get_target_min</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u8</span> <span class="n">wlc_phy_txpower_get_target_max</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">wlc_phy_txpower_ipa_ison</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_stf_chain_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span> <span class="n">u8</span> <span class="n">txchain</span><span class="p">,</span>
				   <span class="n">u8</span> <span class="n">rxchain</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_stf_chain_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span> <span class="n">u8</span> <span class="n">txchain</span><span class="p">,</span>
				  <span class="n">u8</span> <span class="n">rxchain</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_stf_chain_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">txchain</span><span class="p">,</span>
				  <span class="n">u8</span> <span class="o">*</span><span class="n">rxchain</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u8</span> <span class="n">wlc_phy_stf_chain_active_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">s8</span> <span class="n">wlc_phy_stf_ssmode_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span>
				 <span class="n">u16</span> <span class="n">chanspec</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_ldpc_override_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">val</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_cal_perical</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u8</span> <span class="n">reason</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_noise_sample_request_external</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_edcrs_lock</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span> <span class="n">bool</span> <span class="n">lock</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_cal_papd_recal</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_ant_rxdiv_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u8</span> <span class="n">val</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_clear_tssi</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_hold_upd</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u32</span> <span class="n">id</span><span class="p">,</span> <span class="n">bool</span> <span class="n">val</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_mute_upd</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">val</span><span class="p">,</span> <span class="n">u32</span> <span class="n">flags</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_antsel_type_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u8</span> <span class="n">antsel_type</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpower_get_current</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
					<span class="k">struct</span> <span class="n">tx_power</span> <span class="o">*</span><span class="n">power</span><span class="p">,</span> <span class="n">uint</span> <span class="n">channel</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_initcal_enable</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span> <span class="n">bool</span> <span class="n">initcal</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">wlc_phy_test_ison</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_txpwr_percent_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
				      <span class="n">u8</span> <span class="n">txpwr_percent</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_ofdm_rateset_war</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span> <span class="n">bool</span> <span class="n">war</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_bf_preempt_enable</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">pih</span><span class="p">,</span>
				      <span class="n">bool</span> <span class="n">bf_preempt</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_machwcap_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u32</span> <span class="n">machwcap</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_runbist_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">bool</span> <span class="n">start_end</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_freqtrack_start</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">wlc_phy_freqtrack_end</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">);</span>

<span class="k">extern</span> <span class="k">const</span> <span class="n">u8</span> <span class="o">*</span><span class="n">wlc_phy_get_ofdm_rate_lookup</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">s8</span> <span class="n">wlc_phy_get_tx_power_offset_by_mcs</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span>
					     <span class="n">u8</span> <span class="n">mcs_offset</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">s8</span> <span class="n">wlc_phy_get_tx_power_offset</span><span class="p">(</span><span class="k">struct</span> <span class="n">brcms_phy_pub</span> <span class="o">*</span><span class="n">ppi</span><span class="p">,</span> <span class="n">u8</span> <span class="n">tbl_offset</span><span class="p">);</span>
<span class="cp">#endif                          </span><span class="cm">/* _BRCM_PHY_HAL_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:6}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../../javascript/docco.min.js"></script>
</html>
