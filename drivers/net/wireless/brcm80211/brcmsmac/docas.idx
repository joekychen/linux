f | phy_shim.c | s | 5.5K | 179 | Hauke Mehrtens | hauke@hauke-m.de | 1337186723 |  | brcmsmac: remove brcmsmac own sprom parsing  brcmsmac now takes the sprom from bcma and do not uses its own sprom parsing any more. Remove this code as it is not used any more.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | d11.h | s | 55K | 1649 | Joe Perches | joe@perches.com | 1334175836 |  | wireless: Remove unnecessary ; from while (0) macros  Semicolons are not necessary after macros that end in while (0). Remove them.  Simplify the macros with tests of do { if (foo>size) memset1; else memset2;} while (0); to a single line memset(,,min_t(size_t, foo, size))  Signed-off-by: Joe Perches <joe@perches.com> Acked-by: Arend van Spriel <arend@broadcom.com> Acked-by: Larry Finger <Larry.Finger@lwfinger.net> Acked-by: Bing Zhao <bzhao@marvell.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | rate.c | s | 16K | 470 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | scb.h | s | 2.9K | 69 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | Makefile | g | 1.4K |  | Hauke Mehrtens | hauke@hauke-m.de | 1337186725 |  | brcmsmac: remove nicpci.c  There is no code doing anything useful in nicpci.c anymore, so remove it.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | aiutils.h | s | 7.4K | 201 | Hauke Mehrtens | hauke@hauke-m.de | 1337186725 |  | brcmsmac: remove nicpci.c  There is no code doing anything useful in nicpci.c anymore, so remove it.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | pmu.c | s | 9.8K | 319 | Arend van Spriel | arend@broadcom.com | 1323809303 |  | brcm80211: smac: remove ai_switch_core() function  The function ai_switch_core() is no longer needed and its counterpart ai_restore_core() as well, because interrupts disabling is not needed anymore.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | brcms_trace_events.c | s | 972B | 21 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dma.c | s | 39K | 1200 | Joe Perches | joe@perches.com | 1327432873 |  | brcm80211: Use normal DEBUG define  Current CONFIG_BRCMDBG flag when enabled does not necessarily enable proper pr_debug output when DEBUG is not also enabled.  Remove BCMDBG define and just use DEBUG instead.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | types.h | s | 10K | 250 | Arend van Spriel | arend@broadcom.com | 1323809290 |  | brcm80211: smac: remove register access macro definitions  The register access macros like R_REG/W_REG/etc. are no longer needed as the driver uses the BCMA provided functions.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | ampdu.h | s | 1.3K | 27 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | channel.h | s | 2.1K | 43 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | dma.h | s | 4.0K | 105 | Arend van Spriel | arend@broadcom.com | 1323808376 |  | brcm80211: smac: use bcma function for register access in dma.c  The dma.c source file now uses the register access functions provided by bcma.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | mac80211_if.c | s | 40K | 1390 | Hauke Mehrtens | hauke@hauke-m.de | 1337186726 |  | brcmsmac: do not access host_pci  The irq number is copied from the PCIe host device to the bcma cores so just request it using the bcma core device.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | pmu.h | s | 1.5K | 30 | Arend van Spriel | arend@broadcom.com | 1323809303 |  | brcm80211: smac: remove ai_switch_core() function  The function ai_switch_core() is no longer needed and its counterpart ai_restore_core() as well, because interrupts disabling is not needed anymore.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: Franky Lin <frankyl@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | ucode_loader.h | s | 2.0K | 49 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
d | phy |  | 14 items |  | Hauke Mehrtens | hauke@hauke-m.de | 1337186724 |  | brcmsmac: remove ai_gpiocontrol()  This is now done by calling bcma_chipco_gpio_control().  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | channel.c | s | 43K | 1283 | Hauke Mehrtens | hauke@hauke-m.de | 1337186723 |  | brcmsmac: use sprom from bcma  bcma now provides all sprom attributes needed by brcmsmac and also parses them from the pci sprom ant otp.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | pub.h | s | 13K | 328 | Hauke Mehrtens | hauke@hauke-m.de | 1337186723 |  | brcmsmac: remove brcmsmac own sprom parsing  brcmsmac now takes the sprom from bcma and do not uses its own sprom parsing any more. Remove this code as it is not used any more.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | stf.h | s | 1.8K | 37 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | main.h | s | 23K | 616 | Joe Perches | joe@perches.com | 1327432874 |  | brcm80211: Convert printk(KERN_DEBUG to pr_debug  Use pr_debug to allow dynamic debugging to work.  Move an #endif to allow brcmf_dbg_hex_dump to be outside the #if/#endif block. Move a const char* declaration to be inside a pr_debug so the function doesn't need a #if/#endif block. Don't use temporaries in debugging functions so the code can be optimized away.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | stf.c | s | 12K | 369 | Hauke Mehrtens | hauke@hauke-m.de | 1337186723 |  | brcmsmac: use sprom from bcma  bcma now provides all sprom attributes needed by brcmsmac and also parses them from the pci sprom ant otp.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | ucode_loader.c | s | 3.9K | 103 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | antsel.h | s | 1.2K | 26 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | antsel.c | s | 9.4K | 261 | Hauke Mehrtens | hauke@hauke-m.de | 1337186723 |  | brcmsmac: use sprom from bcma  bcma now provides all sprom attributes needed by brcmsmac and also parses them from the pci sprom ant otp.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | rate.h | s | 7.1K | 209 | Arend van Spriel | arend@broadcom.com | 1320785649 |  | brcm80211: smac: remove phy api bypass in rate.h  Obviously the phy api should be used to interface with the phy. In rate.h a table within phy was accessed directly by declaring the table extern in rate.h itself. This patch fixes this using the provided api function to obtain the table reference. This bypass was found by a sparse warning on the table not being defined static.  Reviewed-by: Alwin Beukers <alwin@broadcom.com> Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Roland Vossen <rvossen@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | phy_shim.h | s | 7.2K | 158 | Hauke Mehrtens | hauke@hauke-m.de | 1337186723 |  | brcmsmac: remove brcmsmac own sprom parsing  brcmsmac now takes the sprom from bcma and do not uses its own sprom parsing any more. Remove this code as it is not used any more.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | brcms_trace_events.h | s | 2.3K | 80 | Arend van Spriel | arend@broadcom.com | 1318362930 |  | net: wireless: add brcm80211 drivers  Add the brcm80211 tree to drivers/net/wireless, and disable the version that's in drivers/staging.  This version includes the sources currently in staging, plus any changes that have been sent out for review.  Sources in staging will be deleted in a followup patch.  Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | aiutils.c | s | 22K | 721 | Hauke Mehrtens | hauke@hauke-m.de | 1337186726 |  | brcmsmac: handle non pci in ai_deviceremoved()  This is based on code from the Broadcom SDK.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | main.c | s | 223K | 7110 | Hauke Mehrtens | hauke@hauke-m.de | 1337186726 |  | brcmsmac: read PCI vendor and device id only for PCI devices  If brcmsmac is used on non PCI(s) devices it should not try to access bus->host_pci.  Signed-off-by: Hauke Mehrtens <hauke@hauke-m.de> Tested-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | ampdu.c | s | 34K | 1071 | Arend van Spriel | arend@broadcom.com | 1330980843 |  | brcm80211: smac: cleanup couple of debug output statements  Tidying up some debug statements in brcms_c_ampdu_dotxstatus_complete() that got broken strings to satisfy checkpatch, but the rules changed.  Reviewed-by: Pieter-Paul Giesberts <pieterpg@broadcom.com> Reviewed-by: Alwin Beukers <alwin@broadcom.com> Signed-off-by: Arend van Spriel <arend@broadcom.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | mac80211_if.h | s | 3.5K | 92 | Joe Perches | joe@perches.com | 1327432873 |  | brcm80211: Use normal DEBUG define  Current CONFIG_BRCMDBG flag when enabled does not necessarily enable proper pr_debug output when DEBUG is not also enabled.  Remove BCMDBG define and just use DEBUG instead.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
