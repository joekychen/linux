<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › libertas_tf › deb_defs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>deb_defs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/**</span>
<span class="cm">  * This header file contains global constant/enum definitions,</span>
<span class="cm">  * global variable declaration.</span>
<span class="cm">  */</span>
<span class="cp">#ifndef _LBS_DEB_DEFS_H_</span>
<span class="cp">#define _LBS_DEB_DEFS_H_</span>

<span class="cp">#ifndef DRV_NAME</span>
<span class="cp">#define DRV_NAME &quot;libertas_tf&quot;</span>
<span class="cp">#endif</span>

<span class="cp">#include &lt;linux/spinlock.h&gt;</span>

<span class="cp">#ifdef CONFIG_LIBERTAS_THINFIRM_DEBUG</span>
<span class="cp">#define DEBUG</span>
<span class="cp">#define PROC_DEBUG</span>
<span class="cp">#endif</span>

<span class="cp">#define LBTF_DEB_ENTER	0x00000001</span>
<span class="cp">#define LBTF_DEB_LEAVE	0x00000002</span>
<span class="cp">#define LBTF_DEB_MAIN	0x00000004</span>
<span class="cp">#define LBTF_DEB_NET	0x00000008</span>
<span class="cp">#define LBTF_DEB_MESH	0x00000010</span>
<span class="cp">#define LBTF_DEB_WEXT	0x00000020</span>
<span class="cp">#define LBTF_DEB_IOCTL	0x00000040</span>
<span class="cp">#define LBTF_DEB_SCAN	0x00000080</span>
<span class="cp">#define LBTF_DEB_ASSOC	0x00000100</span>
<span class="cp">#define LBTF_DEB_JOIN	0x00000200</span>
<span class="cp">#define LBTF_DEB_11D	0x00000400</span>
<span class="cp">#define LBTF_DEB_DEBUGFS	0x00000800</span>
<span class="cp">#define LBTF_DEB_ETHTOOL	0x00001000</span>
<span class="cp">#define LBTF_DEB_HOST	0x00002000</span>
<span class="cp">#define LBTF_DEB_CMD	0x00004000</span>
<span class="cp">#define LBTF_DEB_RX	0x00008000</span>
<span class="cp">#define LBTF_DEB_TX	0x00010000</span>
<span class="cp">#define LBTF_DEB_USB	0x00020000</span>
<span class="cp">#define LBTF_DEB_CS	0x00040000</span>
<span class="cp">#define LBTF_DEB_FW	0x00080000</span>
<span class="cp">#define LBTF_DEB_THREAD	0x00100000</span>
<span class="cp">#define LBTF_DEB_HEX	0x00200000</span>
<span class="cp">#define LBTF_DEB_SDIO	0x00400000</span>
<span class="cp">#define LBTF_DEB_MACOPS	0x00800000</span>

<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">lbtf_debug</span><span class="p">;</span>


<span class="cp">#ifdef DEBUG</span>
<span class="cp">#define LBTF_DEB_LL(grp, grpnam, fmt, args...) \</span>
<span class="cp">do { if ((lbtf_debug &amp; (grp)) == (grp)) \</span>
<span class="cp">  printk(KERN_DEBUG DRV_NAME grpnam &quot;%s: &quot; fmt, \</span>
<span class="cp">         in_interrupt() ? &quot; (INT)&quot; : &quot;&quot;, ## args); } while (0)</span>
<span class="cp">#else</span>
<span class="cp">#define LBTF_DEB_LL(grp, grpnam, fmt, args...) do {} while (0)</span>
<span class="cp">#endif</span>

<span class="cp">#define lbtf_deb_enter(grp) \</span>
<span class="cp">  LBTF_DEB_LL(grp | LBTF_DEB_ENTER, &quot; enter&quot;, &quot;%s()\n&quot;, __func__);</span>
<span class="cp">#define lbtf_deb_enter_args(grp, fmt, args...) \</span>
<span class="cp">  LBTF_DEB_LL(grp | LBTF_DEB_ENTER, &quot; enter&quot;, &quot;%s(&quot; fmt &quot;)\n&quot;, __func__, ## args);</span>
<span class="cp">#define lbtf_deb_leave(grp) \</span>
<span class="cp">  LBTF_DEB_LL(grp | LBTF_DEB_LEAVE, &quot; leave&quot;, &quot;%s()\n&quot;, __func__);</span>
<span class="cp">#define lbtf_deb_leave_args(grp, fmt, args...) \</span>
<span class="cp">  LBTF_DEB_LL(grp | LBTF_DEB_LEAVE, &quot; leave&quot;, &quot;%s(), &quot; fmt &quot;\n&quot;, \</span>
<span class="cp">  __func__, ##args);</span>
<span class="cp">#define lbtf_deb_main(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_MAIN, &quot; main&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_net(fmt, args...)       LBTF_DEB_LL(LBTF_DEB_NET, &quot; net&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_mesh(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_MESH, &quot; mesh&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_wext(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_WEXT, &quot; wext&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_ioctl(fmt, args...)     LBTF_DEB_LL(LBTF_DEB_IOCTL, &quot; ioctl&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_scan(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_SCAN, &quot; scan&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_assoc(fmt, args...)     LBTF_DEB_LL(LBTF_DEB_ASSOC, &quot; assoc&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_join(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_JOIN, &quot; join&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_11d(fmt, args...)       LBTF_DEB_LL(LBTF_DEB_11D, &quot; 11d&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_debugfs(fmt, args...)   LBTF_DEB_LL(LBTF_DEB_DEBUGFS, &quot; debugfs&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_ethtool(fmt, args...)   LBTF_DEB_LL(LBTF_DEB_ETHTOOL, &quot; ethtool&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_host(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_HOST, &quot; host&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_cmd(fmt, args...)       LBTF_DEB_LL(LBTF_DEB_CMD, &quot; cmd&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_rx(fmt, args...)        LBTF_DEB_LL(LBTF_DEB_RX, &quot; rx&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_tx(fmt, args...)        LBTF_DEB_LL(LBTF_DEB_TX, &quot; tx&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_fw(fmt, args...)        LBTF_DEB_LL(LBTF_DEB_FW, &quot; fw&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_usb(fmt, args...)       LBTF_DEB_LL(LBTF_DEB_USB, &quot; usb&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_usbd(dev, fmt, args...) LBTF_DEB_LL(LBTF_DEB_USB, &quot; usbd&quot;, &quot;%s:&quot; fmt, dev_name(dev), ##args)</span>
<span class="cp">#define lbtf_deb_cs(fmt, args...)        LBTF_DEB_LL(LBTF_DEB_CS, &quot; cs&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_thread(fmt, args...)    LBTF_DEB_LL(LBTF_DEB_THREAD, &quot; thread&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_sdio(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_SDIO, &quot; thread&quot;, fmt, ##args)</span>
<span class="cp">#define lbtf_deb_macops(fmt, args...)      LBTF_DEB_LL(LBTF_DEB_MACOPS, &quot; thread&quot;, fmt, ##args)</span>

<span class="cp">#ifdef DEBUG</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">lbtf_deb_hex</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">grp</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">prompt</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">newprompt</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">len</span> <span class="o">&amp;&amp;</span>
	    <span class="p">(</span><span class="n">lbtf_debug</span> <span class="o">&amp;</span> <span class="n">LBTF_DEB_HEX</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
	    <span class="p">(</span><span class="n">lbtf_debug</span> <span class="o">&amp;</span> <span class="n">grp</span><span class="p">))</span>	<span class="p">{</span>
		<span class="n">snprintf</span><span class="p">(</span><span class="n">newprompt</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">newprompt</span><span class="p">),</span> <span class="n">DRV_NAME</span> <span class="s">&quot; %s: &quot;</span><span class="p">,</span> <span class="n">prompt</span><span class="p">);</span>
		<span class="n">print_hex_dump_bytes</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">DUMP_PREFIX_NONE</span><span class="p">,</span> <span class="n">buf</span><span class="p">,</span> <span class="n">len</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="cp">#else</span>
<span class="cp">#define lbtf_deb_hex(grp, prompt, buf, len)	do {} while (0)</span>
<span class="cp">#endif</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
