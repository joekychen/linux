<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › rayctl.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>rayctl.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef RAYLINK_H</span>

<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">UCHAR</span><span class="p">;</span>

<span class="cm">/****** IEEE 802.11 constants ************************************************/</span>
<span class="cp">#define ADDRLEN           6</span>
<span class="cm">/* Frame control 1 bit fields */</span>
<span class="cp">#define PROTOCOL_VER      0x00</span>
<span class="cp">#define DATA_TYPE         0x08</span>
<span class="cp">#define ASSOC_REQ_TYPE    0x00</span>
<span class="cp">#define ASSOC_RESP_TYPE   0x10</span>
<span class="cp">#define REASSOC_REQ_TYPE  0x20</span>
<span class="cp">#define REASSOC_RESP_TYPE 0x30</span>
<span class="cp">#define NULL_MSG_TYPE     0x48</span>
<span class="cp">#define BEACON_TYPE       0x80</span>
<span class="cp">#define DISASSOC_TYPE     0xA0</span>
<span class="cp">#define PSPOLL_TYPE       0xA4</span>
<span class="cp">#define AUTHENTIC_TYPE    0xB0</span>
<span class="cp">#define DEAUTHENTIC_TYPE  0xC0</span>
<span class="cm">/* Frame control 2 bit fields */</span>
<span class="cp">#define FC2_TO_DS         0x01</span>
<span class="cp">#define FC2_FROM_DS       0x02</span>
<span class="cp">#define FC2_MORE_FRAG     0x04</span>
<span class="cp">#define FC2_RETRY         0x08</span>
<span class="cp">#define FC2_PSM           0x10</span>
<span class="cp">#define FC2_MORE_DATA     0x20</span>
<span class="cp">#define FC2_WEP           0x40</span>
<span class="cp">#define FC2_ORDER         0x80</span>
<span class="cm">/*****************************************************************************/</span>
<span class="cm">/* 802.11 element ID&#39;s and lengths */</span>
<span class="cp">#define C_BP_CAPABILITY_ESS             0x01</span>
<span class="cp">#define C_BP_CAPABILITY_IBSS            0x02</span>
<span class="cp">#define C_BP_CAPABILITY_CF_POLLABLE     0x04</span>
<span class="cp">#define C_BP_CAPABILITY_CF_POLL_REQUEST 0x08</span>
<span class="cp">#define C_BP_CAPABILITY_PRIVACY         0x10</span>

<span class="cp">#define C_ESSID_ELEMENT_ID               0</span>
<span class="cp">#define C_ESSID_ELEMENT_MAX_LENGTH       32</span>

<span class="cp">#define C_SUPPORTED_RATES_ELEMENT_ID     1</span>
<span class="cp">#define C_SUPPORTED_RATES_ELEMENT_LENGTH 2</span>

<span class="cp">#define C_FH_PARAM_SET_ELEMENT_ID        2</span>
<span class="cp">#define C_FH_PARAM_SET_ELEMENT_LNGTH     5</span>

<span class="cp">#define C_CF_PARAM_SET_ELEMENT_ID        4</span>
<span class="cp">#define C_CF_PARAM_SET_ELEMENT_LNGTH     6</span>

<span class="cp">#define C_TIM_ELEMENT_ID                 5</span>
<span class="cp">#define C_TIM_BITMAP_LENGTH            251</span>
<span class="cp">#define C_TIM_BMCAST_BIT              0x01</span>

<span class="cp">#define C_IBSS_ELEMENT_ID                6</span>
<span class="cp">#define C_IBSS_ELEMENT_LENGTH            2</span>

<span class="cp">#define C_JAPAN_CALL_SIGN_ELEMENT_ID    51</span>
<span class="cp">#define C_JAPAN_CALL_SIGN_ELEMENT_LNGTH 12</span>

<span class="cp">#define C_DISASSOC_REASON_CODE_LEN       2</span>
<span class="cp">#define C_DISASSOC_REASON_CODE_DEFAULT   8</span>

<span class="cp">#define C_CRC_LEN                        4</span>
<span class="cp">#define C_NUM_SUPPORTED_RATES            8 </span>
<span class="cm">/****** IEEE 802.11 mac header for type data packets *************************/</span>
<span class="k">struct</span> <span class="n">mac_header</span> <span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">frame_ctl_1</span><span class="p">;</span>                          
  <span class="n">UCHAR</span> <span class="n">frame_ctl_2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">duration_lsb</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">duration_msb</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">addr_1</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
  <span class="n">UCHAR</span> <span class="n">addr_2</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
  <span class="n">UCHAR</span> <span class="n">addr_3</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
  <span class="n">UCHAR</span> <span class="n">seq_frag_num</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="cm">/*  UCHAR addr_4[ADDRLEN]; *//* only present for AP to AP (TO DS and FROM DS */</span>
<span class="p">};</span>
<span class="cm">/****** IEEE 802.11 frame element structures *********************************/</span>
<span class="k">struct</span> <span class="n">essid_element</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">text</span><span class="p">[</span><span class="n">C_ESSID_ELEMENT_MAX_LENGTH</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">rates_element</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">value</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">freq_hop_element</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">dwell_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
  <span class="n">UCHAR</span> <span class="n">hop_set</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">hop_pattern</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">hop_index</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">tim_element</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">dtim_count</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">dtim_period</span><span class="p">;</span>    
  <span class="n">UCHAR</span> <span class="n">bitmap_control</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">tim</span><span class="p">[</span><span class="n">C_TIM_BITMAP_LENGTH</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">ibss_element</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">atim_window</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">japan_call_sign_element</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">id</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">call_sign</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
<span class="p">};</span>
<span class="cm">/****** Beacon message structures ********************************************/</span>
<span class="cm">/* .elements is a large lump of max size because elements are variable size  */</span>
<span class="k">struct</span> <span class="n">infra_beacon</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">timestamp</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">beacon_intvl</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">capability</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">elements</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">essid_element</span><span class="p">)</span> 
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">rates_element</span><span class="p">)</span>
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">freq_hop_element</span><span class="p">)</span> 
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">japan_call_sign_element</span><span class="p">)</span>
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">tim_element</span><span class="p">)];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">adhoc_beacon</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">timestamp</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">beacon_intvl</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">capability</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">elements</span><span class="p">[</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">essid_element</span><span class="p">)</span> 
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">rates_element</span><span class="p">)</span>
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">freq_hop_element</span><span class="p">)</span> 
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">japan_call_sign_element</span><span class="p">)</span>
                  <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">ibss_element</span><span class="p">)];</span>
<span class="p">};</span>
<span class="cm">/*****************************************************************************/</span>
<span class="cm">/*****************************************************************************/</span>
<span class="cm">/* #define C_MAC_HDR_2_WEP 0x40 */</span>
<span class="cm">/* TX/RX CCS constants */</span>
<span class="cp">#define TX_HEADER_LENGTH 0x1C</span>
<span class="cp">#define RX_MAC_HEADER_LENGTH 0x18</span>
<span class="cp">#define TX_AUTHENTICATE_LENGTH (TX_HEADER_LENGTH + 6)</span>
<span class="cp">#define TX_AUTHENTICATE_LENGTH_MSB (TX_AUTHENTICATE_LENGTH &gt;&gt; 8)</span>
<span class="cp">#define TX_AUTHENTICATE_LENGTH_LSB (TX_AUTHENTICATE_LENGTH &amp; 0xff)</span>
<span class="cp">#define TX_DEAUTHENTICATE_LENGTH (TX_HEADER_LENGTH + 2)</span>
<span class="cp">#define TX_DEAUTHENTICATE_LENGTH_MSB (TX_AUTHENTICATE_LENGTH &gt;&gt; 8)</span>
<span class="cp">#define TX_DEAUTHENTICATE_LENGTH_LSB (TX_AUTHENTICATE_LENGTH &amp; 0xff)</span>
<span class="cp">#define FCS_LEN           4</span>

<span class="cp">#define ADHOC                 0</span>
<span class="cp">#define INFRA                 1</span>

<span class="cp">#define TYPE_STA              0</span>
<span class="cp">#define TYPE_AP               1</span>

<span class="cp">#define PASSIVE_SCAN          1</span>
<span class="cp">#define ACTIVE_SCAN           1</span>

<span class="cp">#define PSM_CAM               0</span>

<span class="cm">/* Country codes */</span>
<span class="cp">#define USA                   1</span>
<span class="cp">#define EUROPE                2</span>
<span class="cp">#define JAPAN                 3</span>
<span class="cp">#define KOREA                 4</span>
<span class="cp">#define SPAIN                 5</span>
<span class="cp">#define FRANCE                6</span>
<span class="cp">#define ISRAEL                7</span>
<span class="cp">#define AUSTRALIA             8</span>
<span class="cp">#define JAPAN_TEST            9</span>

<span class="cm">/* Hop pattern lengths */</span>
<span class="cp">#define USA_HOP_MOD          79 </span>
<span class="cp">#define EUROPE_HOP_MOD       79 </span>
<span class="cp">#define JAPAN_HOP_MOD        23</span>
<span class="cp">#define KOREA_HOP_MOD        23</span>
<span class="cp">#define SPAIN_HOP_MOD        27</span>
<span class="cp">#define FRANCE_HOP_MOD       35</span>
<span class="cp">#define ISRAEL_HOP_MOD       35</span>
<span class="cp">#define AUSTRALIA_HOP_MOD    47</span>
<span class="cp">#define JAPAN_TEST_HOP_MOD   23</span>

<span class="cp">#define ESSID_SIZE           32</span>
<span class="cm">/**********************************************************************/</span>
<span class="cm">/* CIS Register Constants */</span>
<span class="cp">#define CIS_OFFSET             0x0f00</span>
<span class="cm">/* Configuration Option Register (0x0F00) */</span>
<span class="cp">#define COR_OFFSET             0x00</span>
<span class="cp">#define COR_SOFT_RESET         0x80</span>
<span class="cp">#define COR_LEVEL_IRQ          0x40</span>
<span class="cp">#define COR_CONFIG_NUM         0x01</span>
<span class="cp">#define COR_DEFAULT            (COR_LEVEL_IRQ | COR_CONFIG_NUM)</span>

<span class="cm">/* Card Configuration and Status Register (0x0F01) */</span>
<span class="cp">#define CCSR_OFFSET            0x01</span>
<span class="cp">#define CCSR_HOST_INTR_PENDING 0x01</span>
<span class="cp">#define CCSR_POWER_DOWN        0x04</span>

<span class="cm">/* HCS Interrupt Register (0x0F05) */</span>
<span class="cp">#define HCS_INTR_OFFSET        0x05</span>
<span class="cm">/* #define HCS_INTR_OFFSET        0x0A */</span>
<span class="cp">#define HCS_INTR_CLEAR         0x00</span>

<span class="cm">/* ECF Interrupt Register (0x0F06) */</span>
<span class="cp">#define ECF_INTR_OFFSET        0x06</span>
<span class="cm">/* #define ECF_INTR_OFFSET        0x0C */</span>
<span class="cp">#define ECF_INTR_SET           0x01</span>

<span class="cm">/* Authorization Register 0 (0x0F08) */</span>
<span class="cp">#define AUTH_0_ON              0x57</span>

<span class="cm">/* Authorization Register 1 (0x0F09) */</span>
<span class="cp">#define AUTH_1_ON              0x82</span>

<span class="cm">/* Program Mode Register (0x0F0A) */</span>
<span class="cp">#define PC2PM                  0x02</span>
<span class="cp">#define PC2CAL                 0x10</span>
<span class="cp">#define PC2MLSE                0x20</span>

<span class="cm">/* PC Test Mode Register (0x0F0B) */</span>
<span class="cp">#define PC_TEST_MODE           0x08</span>

<span class="cm">/* Frequency Control Word (0x0F10) */</span>
<span class="cm">/* Range 0x02 - 0xA6 */</span>

<span class="cm">/* Test Mode Control 1-4 (0x0F14 - 0x0F17) */</span>

<span class="cm">/**********************************************************************/</span>

<span class="cm">/* Shared RAM Area */</span>
<span class="cp">#define SCB_BASE               0x0000</span>
<span class="cp">#define STATUS_BASE            0x0100</span>
<span class="cp">#define HOST_TO_ECF_BASE       0x0200</span>
<span class="cp">#define ECF_TO_HOST_BASE       0x0300</span>
<span class="cp">#define CCS_BASE               0x0400</span>
<span class="cp">#define RCS_BASE               0x0800</span>
<span class="cp">#define INFRA_TIM_BASE         0x0C00</span>
<span class="cp">#define SSID_LIST_BASE         0x0D00</span>
<span class="cp">#define TX_BUF_BASE            0x1000</span>
<span class="cp">#define RX_BUF_BASE            0x8000</span>

<span class="cp">#define NUMBER_OF_CCS    64</span>
<span class="cp">#define NUMBER_OF_RCS    64</span>
<span class="cm">/*#define NUMBER_OF_TX_CCS 14 */</span>
<span class="cp">#define NUMBER_OF_TX_CCS 14</span>

<span class="cp">#define TX_BUF_SIZE      (2048 - sizeof(struct tx_msg))</span>
<span class="cp">#define RX_BUFF_END      0x3FFF</span>
<span class="cm">/* Values for buffer_status */</span>
<span class="cp">#define CCS_BUFFER_FREE       0</span>
<span class="cp">#define CCS_BUFFER_BUSY       1</span>
<span class="cp">#define CCS_COMMAND_COMPLETE  2</span>
<span class="cp">#define CCS_COMMAND_FAILED    3</span>

<span class="cm">/* Values for cmd */</span>
<span class="cp">#define CCS_DOWNLOAD_STARTUP_PARAMS    1</span>
<span class="cp">#define CCS_UPDATE_PARAMS              2</span>
<span class="cp">#define CCS_REPORT_PARAMS              3</span>
<span class="cp">#define CCS_UPDATE_MULTICAST_LIST      4</span>
<span class="cp">#define CCS_UPDATE_POWER_SAVINGS_MODE  5</span>
<span class="cp">#define CCS_START_NETWORK              6</span>
<span class="cp">#define CCS_JOIN_NETWORK               7</span>
<span class="cp">#define CCS_START_ASSOCIATION          8</span>
<span class="cp">#define CCS_TX_REQUEST                 9</span>
<span class="cp">#define CCS_TEST_MEMORY              0xa</span>
<span class="cp">#define CCS_SHUTDOWN                 0xb</span>
<span class="cp">#define CCS_DUMP_MEMORY              0xc</span>
<span class="cp">#define CCS_START_TIMER              0xe</span>
<span class="cp">#define CCS_LAST_CMD                 CCS_START_TIMER</span>

<span class="cm">/* Values for link field */</span>
<span class="cp">#define CCS_END_LIST                 0xff</span>

<span class="cm">/* values for buffer_status field */</span>
<span class="cp">#define RCS_BUFFER_FREE       0</span>
<span class="cp">#define RCS_BUFFER_BUSY       1</span>
<span class="cp">#define RCS_COMPLETE          2</span>
<span class="cp">#define RCS_FAILED            3</span>
<span class="cp">#define RCS_BUFFER_RELEASE    0xFF</span>

<span class="cm">/* values for interrupt_id field */</span>
<span class="cp">#define PROCESS_RX_PACKET           0x80 </span><span class="cm">/* */</span><span class="cp"></span>
<span class="cp">#define REJOIN_NET_COMPLETE         0x81 </span><span class="cm">/* RCS ID: Rejoin Net Complete */</span><span class="cp"></span>
<span class="cp">#define ROAMING_INITIATED           0x82 </span><span class="cm">/* RCS ID: Roaming Initiated   */</span><span class="cp"></span>
<span class="cp">#define JAPAN_CALL_SIGN_RXD         0x83 </span><span class="cm">/* RCS ID: New Japan Call Sign */</span><span class="cp"></span>

<span class="cm">/*****************************************************************************/</span>
<span class="cm">/* Memory types for dump memory command */</span>
<span class="cp">#define C_MEM_PROG  0</span>
<span class="cp">#define C_MEM_XDATA 1</span>
<span class="cp">#define C_MEM_SFR   2</span>
<span class="cp">#define C_MEM_IDATA 3</span>

<span class="cm">/*** Return values for hw_xmit **********/</span>
<span class="cp">#define XMIT_OK        (0)</span>
<span class="cp">#define XMIT_MSG_BAD   (-1)</span>
<span class="cp">#define XMIT_NO_CCS    (-2)</span>
<span class="cp">#define XMIT_NO_INTR   (-3)</span>
<span class="cp">#define XMIT_NEED_AUTH (-4)</span>

<span class="cm">/*** Values for card status */</span>
<span class="cp">#define CARD_INSERTED       (0)</span>

<span class="cp">#define CARD_AWAITING_PARAM (1)</span>
<span class="cp">#define CARD_INIT_ERROR     (11)</span>

<span class="cp">#define CARD_DL_PARAM       (2)</span>
<span class="cp">#define CARD_DL_PARAM_ERROR (12)</span>

<span class="cp">#define CARD_DOING_ACQ      (3)</span>

<span class="cp">#define CARD_ACQ_COMPLETE   (4)</span>
<span class="cp">#define CARD_ACQ_FAILED     (14)</span>

<span class="cp">#define CARD_AUTH_COMPLETE  (5)</span>
<span class="cp">#define CARD_AUTH_REFUSED   (15)</span>

<span class="cp">#define CARD_ASSOC_COMPLETE (6)</span>
<span class="cp">#define CARD_ASSOC_FAILED   (16)</span>

<span class="cm">/*** Values for authentication_state ***********************************/</span>
<span class="cp">#define UNAUTHENTICATED     (0)</span>
<span class="cp">#define AWAITING_RESPONSE   (1)</span>
<span class="cp">#define AUTHENTICATED       (2)</span>
<span class="cp">#define NEED_TO_AUTH        (3)</span>

<span class="cm">/*** Values for authentication type ************************************/</span>
<span class="cp">#define OPEN_AUTH_REQUEST   (1)</span>
<span class="cp">#define OPEN_AUTH_RESPONSE  (2)</span>
<span class="cp">#define BROADCAST_DEAUTH    (0xc0)</span>
<span class="cm">/*** Values for timer functions ****************************************/</span>
<span class="cp">#define TODO_NOTHING              (0)</span>
<span class="cp">#define TODO_VERIFY_DL_START      (-1)</span>
<span class="cp">#define TODO_START_NET            (-2)</span>
<span class="cp">#define TODO_JOIN_NET             (-3)</span>
<span class="cp">#define TODO_AUTHENTICATE_TIMEOUT (-4)</span>
<span class="cp">#define TODO_SEND_CCS             (-5)</span>
<span class="cm">/***********************************************************************/</span>
<span class="cm">/* Parameter passing structure for update/report parameter CCS&#39;s */</span>
<span class="k">struct</span> <span class="n">object_id</span> <span class="p">{</span>
    <span class="kt">void</span>          <span class="o">*</span><span class="n">object_addr</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">object_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define OBJID_network_type            0</span>
<span class="cp">#define OBJID_acting_as_ap_status     1</span>
<span class="cp">#define OBJID_current_ess_id          2</span>
<span class="cp">#define OBJID_scanning_mode           3</span>
<span class="cp">#define OBJID_power_mgt_state         4</span>
<span class="cp">#define OBJID_mac_address             5</span>
<span class="cp">#define OBJID_frag_threshold          6</span>
<span class="cp">#define OBJID_hop_time                7</span>
<span class="cp">#define OBJID_beacon_period           8</span>
<span class="cp">#define OBJID_dtim_period             9</span>
<span class="cp">#define OBJID_retry_max              10</span>
<span class="cp">#define OBJID_ack_timeout            11</span>
<span class="cp">#define OBJID_sifs                   12</span>
<span class="cp">#define OBJID_difs                   13</span>
<span class="cp">#define OBJID_pifs                   14</span>
<span class="cp">#define OBJID_rts_threshold          15</span>
<span class="cp">#define OBJID_scan_dwell_time        16</span>
<span class="cp">#define OBJID_max_scan_dwell_time    17</span>
<span class="cp">#define OBJID_assoc_resp_timeout     18</span>
<span class="cp">#define OBJID_adhoc_scan_cycle_max   19</span>
<span class="cp">#define OBJID_infra_scan_cycle_max   20</span>
<span class="cp">#define OBJID_infra_super_cycle_max  21</span>
<span class="cp">#define OBJID_promiscuous_mode       22</span>
<span class="cp">#define OBJID_unique_word            23</span>
<span class="cp">#define OBJID_slot_time              24</span>
<span class="cp">#define OBJID_roaming_low_snr        25</span>
<span class="cp">#define OBJID_low_snr_count_thresh   26</span>
<span class="cp">#define OBJID_infra_missed_bcn       27</span>
<span class="cp">#define OBJID_adhoc_missed_bcn       28</span>
<span class="cp">#define OBJID_curr_country_code      29</span>
<span class="cp">#define OBJID_hop_pattern            30</span>
<span class="cp">#define OBJID_reserved               31</span>
<span class="cp">#define OBJID_cw_max_msb             32</span>
<span class="cp">#define OBJID_cw_min_msb             33</span>
<span class="cp">#define OBJID_noise_filter_gain      34</span>
<span class="cp">#define OBJID_noise_limit_offset     35</span>
<span class="cp">#define OBJID_det_rssi_thresh_offset 36</span>
<span class="cp">#define OBJID_med_busy_thresh_offset 37</span>
<span class="cp">#define OBJID_det_sync_thresh        38</span>
<span class="cp">#define OBJID_test_mode              39</span>
<span class="cp">#define OBJID_test_min_chan_num      40</span>
<span class="cp">#define OBJID_test_max_chan_num      41</span>
<span class="cp">#define OBJID_allow_bcast_ID_prbrsp  42</span>
<span class="cp">#define OBJID_privacy_must_start     43</span>
<span class="cp">#define OBJID_privacy_can_join       44</span>
<span class="cp">#define OBJID_basic_rate_set         45</span>

<span class="cm">/**** Configuration/Status/Control Area ***************************/</span>
<span class="cm">/*    System Control Block (SCB) Area</span>
<span class="cm"> *    Located at Shared RAM offset 0</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">scb</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ccs_index</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">rcs_index</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/****** Status area at Shared RAM offset 0x0100 ******************************/</span>
<span class="k">struct</span> <span class="n">status</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">mrx_overflow_for_host</span><span class="p">;</span>         <span class="cm">/* 0=ECF may write, 1=host may write*/</span>
    <span class="n">UCHAR</span> <span class="n">mrx_checksum_error_for_host</span><span class="p">;</span>   <span class="cm">/* 0=ECF may write, 1=host may write*/</span>
    <span class="n">UCHAR</span> <span class="n">rx_hec_error_for_host</span><span class="p">;</span>         <span class="cm">/* 0=ECF may write, 1=host may write*/</span>
    <span class="n">UCHAR</span> <span class="n">reserved1</span><span class="p">;</span>
    <span class="kt">short</span> <span class="n">mrx_overflow</span><span class="p">;</span>                  <span class="cm">/* ECF increments on rx overflow    */</span>
    <span class="kt">short</span> <span class="n">mrx_checksum_error</span><span class="p">;</span>            <span class="cm">/* ECF increments on rx CRC error   */</span>
    <span class="kt">short</span> <span class="n">rx_hec_error</span><span class="p">;</span>                  <span class="cm">/* ECF incs on mac header CRC error */</span>
    <span class="n">UCHAR</span> <span class="n">rxnoise</span><span class="p">;</span>                       <span class="cm">/* Average RSL measurement          */</span>
<span class="p">};</span>

<span class="cm">/****** Host-to-ECF Data Area at Shared RAM offset 0x200 *********************/</span>
<span class="k">struct</span> <span class="n">host_to_ecf_area</span> <span class="p">{</span>
    
<span class="p">};</span>

<span class="cm">/****** ECF-to-Host Data Area at Shared RAM offset 0x0300 ********************/</span>
<span class="k">struct</span> <span class="n">startup_res_518</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">startup_word</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">station_addr</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">calc_prog_chksum</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">calc_cis_chksum</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ecf_spare</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">japan_call_sign</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">startup_res_6</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">startup_word</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">station_addr</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">reserved</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">supp_rates</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">japan_call_sign</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">calc_prog_chksum</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">calc_cis_chksum</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">firmware_version</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">asic_version</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">tib_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">start_join_net_params</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">net_type</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ssid</span><span class="p">[</span><span class="n">ESSID_SIZE</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">reserved</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">privacy_can_join</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/****** Command Control Structure area at Shared ram offset 0x0400 ***********/</span>
<span class="cm">/* Structures for command specific parameters (ccs.var) */</span>
<span class="k">struct</span> <span class="n">update_param_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">object_id</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">number_objects</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">failure_cause</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">report_param_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">object_id</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">number_objects</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">failure_cause</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">start_network_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">update_param</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">bssid</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">net_initiated</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">net_default_tx_rate</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">encryption</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">join_network_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">update_param</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">bssid</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">net_initiated</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">net_default_tx_rate</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">encryption</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">tx_requested_cmd</span> <span class="p">{</span>
 
    <span class="n">UCHAR</span> <span class="n">tx_data_ptr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">tx_data_length</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">host_reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">tx_rate</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">pow_sav_mode</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">retries</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">antenna</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">tx_requested_cmd_4</span> <span class="p">{</span>
 
    <span class="n">UCHAR</span> <span class="n">tx_data_ptr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">tx_data_length</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">dest_addr</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">pow_sav_mode</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">retries</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">station_id</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">memory_dump_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">memory_type</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">memory_ptr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">length</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">update_association_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">status</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">aid</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">start_timer_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">duration</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ccs</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">buffer_status</span><span class="p">;</span>                 <span class="cm">/* 0 = buffer free, 1 = buffer busy */</span>
                                         <span class="cm">/* 2 = command complete, 3 = failed */</span>
    <span class="n">UCHAR</span> <span class="n">cmd</span><span class="p">;</span>                           <span class="cm">/* command to ECF                   */</span>
    <span class="n">UCHAR</span> <span class="n">link</span><span class="p">;</span>                          <span class="cm">/* link to next CCS, FF=end of list */</span>
    <span class="cm">/* command specific parameters      */</span>
    <span class="k">union</span> <span class="p">{</span>
        <span class="kt">char</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">13</span><span class="p">];</span>
        <span class="k">struct</span> <span class="n">update_param_cmd</span> <span class="n">update_param</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">report_param_cmd</span> <span class="n">report_param</span><span class="p">;</span>
        <span class="n">UCHAR</span> <span class="n">nummulticast</span><span class="p">;</span>
        <span class="n">UCHAR</span> <span class="n">mode</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">start_network_cmd</span> <span class="n">start_network</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">join_network_cmd</span> <span class="n">join_network</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">tx_requested_cmd</span> <span class="n">tx_request</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">memory_dump_cmd</span> <span class="n">memory_dump</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">update_association_cmd</span> <span class="n">update_assoc</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">start_timer_cmd</span> <span class="n">start_timer</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">var</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*****************************************************************************/</span>
<span class="cm">/* Transmit buffer structures */</span>
<span class="k">struct</span> <span class="n">tib_structure</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ccs_index</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">psm</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">pass_fail</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">retry_count</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">max_retries</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">frags_remaining</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">no_rb</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">rts_reqd</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">csma_tx_cntrl_2</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">sifs_tx_cntrl_2</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">tx_dma_addr_1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">tx_dma_addr_2</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">var_dur_2mhz</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">var_dur_1mhz</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">max_dur_2mhz</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">max_dur_1mhz</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">hdr_len</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">max_frag_len</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">var_len</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">phy_hdr_4</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">mac_hdr_1</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">mac_hdr_2</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">sid</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">phy_header</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">sfd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">hdr_3</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">hdr_4</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">ray_rx_msg</span> <span class="p">{</span>
    <span class="k">struct</span> <span class="n">mac_header</span> <span class="n">mac</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">var</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">tx_msg</span> <span class="p">{</span>
    <span class="k">struct</span> <span class="n">tib_structure</span> <span class="n">tib</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">phy_header</span> <span class="n">phy</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">mac_header</span> <span class="n">mac</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">var</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/****** ECF Receive Control Structure (RCS) Area at Shared RAM offset 0x0800  */</span>
<span class="cm">/* Structures for command specific parameters (rcs.var) */</span>
<span class="k">struct</span> <span class="n">rx_packet_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">rx_data_ptr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">rx_data_length</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">rx_sig_lev</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">next_frag_rcs_index</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">totalpacketlength</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">rejoin_net_cmplt_cmd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">reserved</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">bssid</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">japan_call_sign_rxd</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">rxd_call_sign</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
    <span class="n">UCHAR</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">rcs</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">buffer_status</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">interrupt_id</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">link_field</span><span class="p">;</span>
    <span class="cm">/* command specific parameters      */</span>
    <span class="k">union</span> <span class="p">{</span>
        <span class="n">UCHAR</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">13</span><span class="p">];</span> 
        <span class="k">struct</span> <span class="n">rx_packet_cmd</span> <span class="n">rx_packet</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">rejoin_net_cmplt_cmd</span> <span class="n">rejoin_net_complete</span><span class="p">;</span>
        <span class="k">struct</span> <span class="n">japan_call_sign_rxd</span> <span class="n">japan_call_sign</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">var</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/****** Startup parameter structures for both versions of firmware ***********/</span>
<span class="k">struct</span> <span class="n">b4_startup_params</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">a_network_type</span><span class="p">;</span>                <span class="cm">/* C_ADHOC, C_INFRA                 */</span>
    <span class="n">UCHAR</span> <span class="n">a_acting_as_ap_status</span><span class="p">;</span>         <span class="cm">/* C_TYPE_STA, C_TYPE_AP            */</span>
    <span class="n">UCHAR</span> <span class="n">a_current_ess_id</span><span class="p">[</span><span class="n">ESSID_SIZE</span><span class="p">];</span>  <span class="cm">/* Null terminated unless 32 long   */</span>
    <span class="n">UCHAR</span> <span class="n">a_scanning_mode</span><span class="p">;</span>               <span class="cm">/* passive 0, active 1              */</span>
    <span class="n">UCHAR</span> <span class="n">a_power_mgt_state</span><span class="p">;</span>             <span class="cm">/* CAM 0,                           */</span>
    <span class="n">UCHAR</span> <span class="n">a_mac_addr</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_frag_threshold</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>           <span class="cm">/* 512                              */</span>
    <span class="n">UCHAR</span> <span class="n">a_hop_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>                 <span class="cm">/* 16k * 2**n, n=0-4 in Kus         */</span>
    <span class="n">UCHAR</span> <span class="n">a_beacon_period</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>            <span class="cm">/* n * a_hop_time  in Kus           */</span>
    <span class="n">UCHAR</span> <span class="n">a_dtim_period</span><span class="p">;</span>                 <span class="cm">/* in beacons                       */</span>
    <span class="n">UCHAR</span> <span class="n">a_retry_max</span><span class="p">;</span>                   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_ack_timeout</span><span class="p">;</span>                 <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_sifs</span><span class="p">;</span>                        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_difs</span><span class="p">;</span>                        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_pifs</span><span class="p">;</span>                        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_rts_threshold</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>            <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_scan_dwell_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>          <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_max_scan_dwell_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_assoc_resp_timeout_thresh</span><span class="p">;</span>   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_adhoc_scan_cycle_max</span><span class="p">;</span>        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_infra_scan_cycle_max</span><span class="p">;</span>        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_infra_super_scan_cycle_max</span><span class="p">;</span>  <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_promiscuous_mode</span><span class="p">;</span>            <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_unique_word</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>              <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_slot_time</span><span class="p">;</span>                   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_roaming_low_snr_thresh</span><span class="p">;</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_low_snr_count_thresh</span><span class="p">;</span>        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_infra_missed_bcn_thresh</span><span class="p">;</span>     <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_adhoc_missed_bcn_thresh</span><span class="p">;</span>     <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_curr_country_code</span><span class="p">;</span>           <span class="cm">/* C_USA                            */</span>
    <span class="n">UCHAR</span> <span class="n">a_hop_pattern</span><span class="p">;</span>                 <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_hop_pattern_length</span><span class="p">;</span>          <span class="cm">/*                                  */</span>
<span class="cm">/* b4 - b5 differences start here */</span>
    <span class="n">UCHAR</span> <span class="n">a_cw_max</span><span class="p">;</span>                      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_cw_min</span><span class="p">;</span>                      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_noise_filter_gain</span><span class="p">;</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_noise_limit_offset</span><span class="p">;</span>          <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_det_rssi_thresh_offset</span><span class="p">;</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_med_busy_thresh_offset</span><span class="p">;</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_det_sync_thresh</span><span class="p">;</span>             <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_test_mode</span><span class="p">;</span>                   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_test_min_chan_num</span><span class="p">;</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_test_max_chan_num</span><span class="p">;</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_rx_tx_delay</span><span class="p">;</span>                 <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_current_bss_id</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>     <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_hop_set</span><span class="p">;</span>                     <span class="cm">/*                                  */</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">b5_startup_params</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">a_network_type</span><span class="p">;</span>                <span class="cm">/* C_ADHOC, C_INFRA                 */</span>
    <span class="n">UCHAR</span> <span class="n">a_acting_as_ap_status</span><span class="p">;</span>         <span class="cm">/* C_TYPE_STA, C_TYPE_AP            */</span>
    <span class="n">UCHAR</span> <span class="n">a_current_ess_id</span><span class="p">[</span><span class="n">ESSID_SIZE</span><span class="p">];</span>  <span class="cm">/* Null terminated unless 32 long   */</span>
    <span class="n">UCHAR</span> <span class="n">a_scanning_mode</span><span class="p">;</span>               <span class="cm">/* passive 0, active 1              */</span>
    <span class="n">UCHAR</span> <span class="n">a_power_mgt_state</span><span class="p">;</span>             <span class="cm">/* CAM 0,                           */</span>
    <span class="n">UCHAR</span> <span class="n">a_mac_addr</span><span class="p">[</span><span class="n">ADDRLEN</span><span class="p">];</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_frag_threshold</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>           <span class="cm">/* 512                              */</span>
    <span class="n">UCHAR</span> <span class="n">a_hop_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>                 <span class="cm">/* 16k * 2**n, n=0-4 in Kus         */</span>
    <span class="n">UCHAR</span> <span class="n">a_beacon_period</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>            <span class="cm">/* n * a_hop_time  in Kus           */</span>
    <span class="n">UCHAR</span> <span class="n">a_dtim_period</span><span class="p">;</span>                 <span class="cm">/* in beacons                       */</span>
    <span class="n">UCHAR</span> <span class="n">a_retry_max</span><span class="p">;</span>                   <span class="cm">/* 4                                */</span>
    <span class="n">UCHAR</span> <span class="n">a_ack_timeout</span><span class="p">;</span>                 <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_sifs</span><span class="p">;</span>                        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_difs</span><span class="p">;</span>                        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_pifs</span><span class="p">;</span>                        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_rts_threshold</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>            <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_scan_dwell_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>          <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_max_scan_dwell_time</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_assoc_resp_timeout_thresh</span><span class="p">;</span>   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_adhoc_scan_cycle_max</span><span class="p">;</span>        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_infra_scan_cycle_max</span><span class="p">;</span>        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_infra_super_scan_cycle_max</span><span class="p">;</span>  <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_promiscuous_mode</span><span class="p">;</span>            <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_unique_word</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>              <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_slot_time</span><span class="p">;</span>                   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_roaming_low_snr_thresh</span><span class="p">;</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_low_snr_count_thresh</span><span class="p">;</span>        <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_infra_missed_bcn_thresh</span><span class="p">;</span>     <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_adhoc_missed_bcn_thresh</span><span class="p">;</span>     <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_curr_country_code</span><span class="p">;</span>           <span class="cm">/* C_USA                            */</span>
    <span class="n">UCHAR</span> <span class="n">a_hop_pattern</span><span class="p">;</span>                 <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_hop_pattern_length</span><span class="p">;</span>          <span class="cm">/*                                  */</span>
<span class="cm">/* b4 - b5 differences start here */</span>
    <span class="n">UCHAR</span> <span class="n">a_cw_max</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>                   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_cw_min</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>                   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_noise_filter_gain</span><span class="p">;</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_noise_limit_offset</span><span class="p">;</span>          <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_det_rssi_thresh_offset</span><span class="p">;</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_med_busy_thresh_offset</span><span class="p">;</span>      <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_det_sync_thresh</span><span class="p">;</span>             <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_test_mode</span><span class="p">;</span>                   <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_test_min_chan_num</span><span class="p">;</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_test_max_chan_num</span><span class="p">;</span>           <span class="cm">/*                                  */</span>
    <span class="n">UCHAR</span> <span class="n">a_allow_bcast_SSID_probe_rsp</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">a_privacy_must_start</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">a_privacy_can_join</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">a_basic_rate_set</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*****************************************************************************/</span>
<span class="cp">#define RAY_IOCG_PARMS (SIOCDEVPRIVATE)</span>
<span class="cp">#define RAY_IOCS_PARMS (SIOCDEVPRIVATE + 1)</span>
<span class="cp">#define RAY_DO_CMD     (SIOCDEVPRIVATE + 2)</span>

<span class="cm">/****** ethernet &lt;-&gt; 802.11 translation **************************************/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">snaphdr_t</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>   <span class="n">dsap</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ssap</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ctrl</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">org</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">UCHAR</span>   <span class="n">ethertype</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">snaphdr_t</span><span class="p">;</span>

<span class="cp">#define BRIDGE_ENCAP  0xf80000</span>
<span class="cp">#define RFC1042_ENCAP 0</span>
<span class="cp">#define SNAP_ID       0x0003aaaa</span>
<span class="cp">#define RAY_IPX_TYPE  0x8137</span>
<span class="cp">#define APPLEARP_TYPE 0x80f3</span>
<span class="cm">/*****************************************************************************/</span>
<span class="cp">#endif </span><span class="cm">/* #ifndef RAYLINK_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
