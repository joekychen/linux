<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › libertas › types.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>types.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * This header file contains definition for global types</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _LBS_TYPES_H_</span>
<span class="cp">#define _LBS_TYPES_H_</span>

<span class="cp">#include &lt;linux/if_ether.h&gt;</span>
<span class="cp">#include &lt;linux/ieee80211.h&gt;</span>
<span class="cp">#include &lt;asm/byteorder.h&gt;</span>

<span class="k">struct</span> <span class="n">ieee_ie_header</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">ieee_ie_cf_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee_ie_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">cfpcnt</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cfpperiod</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">cfpmaxduration</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">cfpdurationremaining</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="k">struct</span> <span class="n">ieee_ie_ibss_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee_ie_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">__le16</span> <span class="n">atimwindow</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">union</span> <span class="n">ieee_ss_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee_ie_cf_param_set</span> <span class="n">cf</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ieee_ie_ibss_param_set</span> <span class="n">ibss</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">ieee_ie_fh_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee_ie_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">__le16</span> <span class="n">dwelltime</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hopset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hoppattern</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hopindex</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">ieee_ie_ds_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee_ie_header</span> <span class="n">header</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">channel</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">union</span> <span class="n">ieee_phy_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ieee_ie_fh_param_set</span> <span class="n">fh</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ieee_ie_ds_param_set</span> <span class="n">ds</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* TLV  type ID definition */</span>
<span class="cp">#define PROPRIETARY_TLV_BASE_ID		0x0100</span>

<span class="cm">/* Terminating TLV type */</span>
<span class="cp">#define MRVL_TERMINATE_TLV_ID		0xffff</span>

<span class="cp">#define TLV_TYPE_SSID				0x0000</span>
<span class="cp">#define TLV_TYPE_RATES				0x0001</span>
<span class="cp">#define TLV_TYPE_PHY_FH				0x0002</span>
<span class="cp">#define TLV_TYPE_PHY_DS				0x0003</span>
<span class="cp">#define TLV_TYPE_CF				    0x0004</span>
<span class="cp">#define TLV_TYPE_IBSS				0x0006</span>

<span class="cp">#define TLV_TYPE_DOMAIN				0x0007</span>

<span class="cp">#define TLV_TYPE_POWER_CAPABILITY	0x0021</span>

<span class="cp">#define TLV_TYPE_KEY_MATERIAL       (PROPRIETARY_TLV_BASE_ID + 0)</span>
<span class="cp">#define TLV_TYPE_CHANLIST           (PROPRIETARY_TLV_BASE_ID + 1)</span>
<span class="cp">#define TLV_TYPE_NUMPROBES          (PROPRIETARY_TLV_BASE_ID + 2)</span>
<span class="cp">#define TLV_TYPE_RSSI_LOW           (PROPRIETARY_TLV_BASE_ID + 4)</span>
<span class="cp">#define TLV_TYPE_SNR_LOW            (PROPRIETARY_TLV_BASE_ID + 5)</span>
<span class="cp">#define TLV_TYPE_FAILCOUNT          (PROPRIETARY_TLV_BASE_ID + 6)</span>
<span class="cp">#define TLV_TYPE_BCNMISS            (PROPRIETARY_TLV_BASE_ID + 7)</span>
<span class="cp">#define TLV_TYPE_LED_GPIO           (PROPRIETARY_TLV_BASE_ID + 8)</span>
<span class="cp">#define TLV_TYPE_LEDBEHAVIOR        (PROPRIETARY_TLV_BASE_ID + 9)</span>
<span class="cp">#define TLV_TYPE_PASSTHROUGH        (PROPRIETARY_TLV_BASE_ID + 10)</span>
<span class="cp">#define TLV_TYPE_REASSOCAP          (PROPRIETARY_TLV_BASE_ID + 11)</span>
<span class="cp">#define TLV_TYPE_POWER_TBL_2_4GHZ   (PROPRIETARY_TLV_BASE_ID + 12)</span>
<span class="cp">#define TLV_TYPE_POWER_TBL_5GHZ     (PROPRIETARY_TLV_BASE_ID + 13)</span>
<span class="cp">#define TLV_TYPE_BCASTPROBE	    (PROPRIETARY_TLV_BASE_ID + 14)</span>
<span class="cp">#define TLV_TYPE_NUMSSID_PROBE	    (PROPRIETARY_TLV_BASE_ID + 15)</span>
<span class="cp">#define TLV_TYPE_WMMQSTATUS   	    (PROPRIETARY_TLV_BASE_ID + 16)</span>
<span class="cp">#define TLV_TYPE_CRYPTO_DATA	    (PROPRIETARY_TLV_BASE_ID + 17)</span>
<span class="cp">#define TLV_TYPE_WILDCARDSSID	    (PROPRIETARY_TLV_BASE_ID + 18)</span>
<span class="cp">#define TLV_TYPE_TSFTIMESTAMP	    (PROPRIETARY_TLV_BASE_ID + 19)</span>
<span class="cp">#define TLV_TYPE_RSSI_HIGH          (PROPRIETARY_TLV_BASE_ID + 22)</span>
<span class="cp">#define TLV_TYPE_SNR_HIGH           (PROPRIETARY_TLV_BASE_ID + 23)</span>
<span class="cp">#define TLV_TYPE_AUTH_TYPE          (PROPRIETARY_TLV_BASE_ID + 31)</span>
<span class="cp">#define TLV_TYPE_MESH_ID            (PROPRIETARY_TLV_BASE_ID + 37)</span>
<span class="cp">#define TLV_TYPE_OLD_MESH_ID        (PROPRIETARY_TLV_BASE_ID + 291)</span>

<span class="cm">/* TLV related data structures */</span>
<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">len</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">Data</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_rates_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rates</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_ssid_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ssid</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_wildcard_ssid_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">MaxSsidlength</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ssid</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">chanscanmode</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN_BITFIELD</span>
	<span class="n">u8</span> <span class="n">reserved_2_7</span><span class="o">:</span><span class="mi">6</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">disablechanfilt</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">passivescan</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u8</span> <span class="n">passivescan</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">disablechanfilt</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved_2_7</span><span class="o">:</span><span class="mi">6</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">chanscanparamset</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">radiotype</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">channumber</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">chanscanmode</span> <span class="n">chanscanmode</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">minscantime</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">maxscantime</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_chanlist_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">chanscanparamset</span> <span class="n">chanscanparam</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_cf_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cfpcnt</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cfpperiod</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">cfpmaxduration</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">cfpdurationremaining</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_ds_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">channel</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_rsn_param_set</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsnie</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_tsf_timestamp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le64</span> <span class="n">tsftable</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* v9 and later firmware only */</span>
<span class="k">struct</span> <span class="n">mrvl_ie_auth_type</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">auth</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*  Local Power capability */</span>
<span class="k">struct</span> <span class="n">mrvl_ie_power_capability</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">s8</span> <span class="n">minpower</span><span class="p">;</span>
	<span class="n">s8</span> <span class="n">maxpower</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* used in CMD_802_11_SUBSCRIBE_EVENT for SNR, RSSI and Failure */</span>
<span class="k">struct</span> <span class="n">mrvl_ie_thresholds</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">value</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">freq</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_beacons_missed</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">beaconmissed</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_num_probes</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">numprobes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_bcast_probe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">bcastprobe</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_num_ssid_probe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">numssidprobe</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">led_pin</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">led</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pin</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_ie_ledgpio</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">led_pin</span> <span class="n">ledpin</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">led_bhv</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>	<span class="n">firmwarestate</span><span class="p">;</span>
	<span class="kt">uint8_t</span>	<span class="n">led</span><span class="p">;</span>
	<span class="kt">uint8_t</span>	<span class="n">ledstate</span><span class="p">;</span>
	<span class="kt">uint8_t</span>	<span class="n">ledarg</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="k">struct</span> <span class="n">mrvl_ie_ledbhv</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mrvl_ie_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">led_bhv</span> <span class="n">ledbhv</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * Meant to be packed as the value member of a struct ieee80211_info_element.</span>
<span class="cm"> * Note that the len member of the ieee80211_info_element varies depending on</span>
<span class="cm"> * the mesh_id_len</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">mrvl_meshie_val</span> <span class="p">{</span>
	<span class="kt">uint8_t</span> <span class="n">oui</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">uint8_t</span> <span class="n">type</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">subtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">version</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">active_protocol_id</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">active_metric_id</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">mesh_capability</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">mesh_id_len</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">mesh_id</span><span class="p">[</span><span class="n">IEEE80211_MAX_SSID_LEN</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_meshie</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">id</span><span class="p">,</span> <span class="n">len</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">mrvl_meshie_val</span> <span class="n">val</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">mrvl_mesh_defaults</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">bootflag</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">boottime</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">channel</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">mrvl_meshie</span> <span class="n">meshie</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
