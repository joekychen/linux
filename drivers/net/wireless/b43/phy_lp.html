<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › b43 › phy_lp.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>phy_lp.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>

<span class="cm">  Broadcom B43 wireless driver</span>
<span class="cm">  IEEE 802.11a/g LP-PHY driver</span>

<span class="cm">  Copyright (c) 2008-2009 Michael Buesch &lt;m@bues.ch&gt;</span>
<span class="cm">  Copyright (c) 2009 Gábor Stefanik &lt;netrolller.3d@gmail.com&gt;</span>

<span class="cm">  This program is free software; you can redistribute it and/or modify</span>
<span class="cm">  it under the terms of the GNU General Public License as published by</span>
<span class="cm">  the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm">  (at your option) any later version.</span>

<span class="cm">  This program is distributed in the hope that it will be useful,</span>
<span class="cm">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm">  GNU General Public License for more details.</span>

<span class="cm">  You should have received a copy of the GNU General Public License</span>
<span class="cm">  along with this program; see the file COPYING.  If not, write to</span>
<span class="cm">  the Free Software Foundation, Inc., 51 Franklin Steet, Fifth Floor,</span>
<span class="cm">  Boston, MA 02110-1301, USA.</span>

<span class="cm">*/</span>

<span class="cp">#include &lt;linux/slab.h&gt;</span>

<span class="cp">#include &quot;b43.h&quot;</span>
<span class="cp">#include &quot;main.h&quot;</span>
<span class="cp">#include &quot;phy_lp.h&quot;</span>
<span class="cp">#include &quot;phy_common.h&quot;</span>
<span class="cp">#include &quot;tables_lpphy.h&quot;</span>


<span class="k">static</span> <span class="kr">inline</span> <span class="n">u16</span> <span class="nf">channel2freq_lp</span><span class="p">(</span><span class="n">u8</span> <span class="n">channel</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">channel</span> <span class="o">&lt;</span> <span class="mi">14</span><span class="p">)</span>
		<span class="k">return</span> <span class="p">(</span><span class="mi">2407</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">channel</span><span class="p">);</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">channel</span> <span class="o">==</span> <span class="mi">14</span><span class="p">)</span>
		<span class="k">return</span> <span class="mi">2484</span><span class="p">;</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">channel</span> <span class="o">&lt;</span> <span class="mi">184</span><span class="p">)</span>
		<span class="k">return</span> <span class="p">(</span><span class="mi">5000</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">channel</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="k">return</span> <span class="p">(</span><span class="mi">4000</span> <span class="o">+</span> <span class="mi">5</span> <span class="o">*</span> <span class="n">channel</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="nf">b43_lpphy_op_get_default_chan</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span>
		<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">return</span> <span class="mi">36</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">b43_lpphy_op_allocate</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span><span class="p">;</span>

	<span class="n">lpphy</span> <span class="o">=</span> <span class="n">kzalloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">lpphy</span><span class="p">),</span> <span class="n">GFP_KERNEL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">lpphy</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">ENOMEM</span><span class="p">;</span>
	<span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span> <span class="o">=</span> <span class="n">lpphy</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_prepare_structs</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy</span> <span class="o">*</span><span class="n">phy</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">phy</span><span class="o">-&gt;</span><span class="n">lp</span><span class="p">;</span>

	<span class="n">memset</span><span class="p">(</span><span class="n">lpphy</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="o">*</span><span class="n">lpphy</span><span class="p">));</span>
	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">antenna</span> <span class="o">=</span> <span class="n">B43_ANTENNA_DEFAULT</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>TODO</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_free</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>

	<span class="n">kfree</span><span class="p">(</span><span class="n">lpphy</span><span class="p">);</span>
	<span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* http://bcm-v4.sipsolutions.net/802.11/PHY/LP/ReadBandSrom */</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_read_band_sprom</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">bus_sprom</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">cckpo</span><span class="p">,</span> <span class="n">maxpwr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ofdmpo</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_med_band</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri2g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">bx_arch</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">bxa2g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rx_pwr_offset</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxpo2g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vf</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismf2g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vc</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismc2g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_gs</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssisav2g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpa</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa0b0</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpa</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa0b1</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpa</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa0b2</span><span class="p">;</span>
		<span class="n">maxpwr</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_bg</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">max_tx_pwr_med_band</span> <span class="o">=</span> <span class="n">maxpwr</span><span class="p">;</span>
		<span class="n">cckpo</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">cck2gpo</span><span class="p">;</span>
		<span class="cm">/*</span>
<span class="cm">		 * We don&#39;t read SPROM&#39;s opo as specs say. On rev8 SPROMs</span>
<span class="cm">		 * opo == ofdm2gpo and we don&#39;t know any SSB with LP-PHY</span>
<span class="cm">		 * and SPROM rev below 8.</span>
<span class="cm">		 */</span>
		<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">revision</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">);</span>
		<span class="n">ofdmpo</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm2gpo</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">cckpo</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_max_rate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span>
					<span class="n">maxpwr</span> <span class="o">-</span> <span class="p">(</span><span class="n">ofdmpo</span> <span class="o">&amp;</span> <span class="mh">0xF</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
				<span class="n">ofdmpo</span> <span class="o">&gt;&gt;=</span> <span class="mi">4</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">ofdmpo</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm2gpo</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">15</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_max_rate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span>
					<span class="n">maxpwr</span> <span class="o">-</span> <span class="p">(</span><span class="n">ofdmpo</span> <span class="o">&amp;</span> <span class="mh">0xF</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
				<span class="n">ofdmpo</span> <span class="o">&gt;&gt;=</span> <span class="mi">4</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">ofdmpo</span> <span class="o">&amp;=</span> <span class="mh">0xFF</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
				<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_max_rate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxpwr</span><span class="p">;</span>
			<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">15</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
				<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_max_rate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxpwr</span> <span class="o">-</span> <span class="n">ofdmpo</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="cm">/* 5GHz */</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_low_band</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri5gl</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_med_band</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri5g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_hi_band</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">tri5gh</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">bx_arch</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">bxa5g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rx_pwr_offset</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rxpo5g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vf</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismf5g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vc</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssismc5g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_gs</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">rssisav5g</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpa</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1b0</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpa</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1b1</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpa</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1b2</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1lob0</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpal</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1lob1</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpal</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1lob2</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpah</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1hib0</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpah</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1hib1</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpah</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">pa1hib2</span><span class="p">;</span>
		<span class="n">maxpwr</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_al</span><span class="p">;</span>
		<span class="n">ofdmpo</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm5glpo</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">max_tx_pwr_low_band</span> <span class="o">=</span> <span class="n">maxpwr</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_max_ratel</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxpwr</span> <span class="o">-</span> <span class="p">(</span><span class="n">ofdmpo</span> <span class="o">&amp;</span> <span class="mh">0xF</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
			<span class="n">ofdmpo</span> <span class="o">&gt;&gt;=</span> <span class="mi">4</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">maxpwr</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_a</span><span class="p">;</span>
		<span class="n">ofdmpo</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm5gpo</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">max_tx_pwr_med_band</span> <span class="o">=</span> <span class="n">maxpwr</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_max_rate</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxpwr</span> <span class="o">-</span> <span class="p">(</span><span class="n">ofdmpo</span> <span class="o">&amp;</span> <span class="mh">0xF</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
			<span class="n">ofdmpo</span> <span class="o">&gt;&gt;=</span> <span class="mi">4</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">maxpwr</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">maxpwr_ah</span><span class="p">;</span>
		<span class="n">ofdmpo</span> <span class="o">=</span> <span class="n">sprom</span><span class="o">-&gt;</span><span class="n">ofdm5ghpo</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">max_tx_pwr_hi_band</span> <span class="o">=</span> <span class="n">maxpwr</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_max_rateh</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxpwr</span> <span class="o">-</span> <span class="p">(</span><span class="n">ofdmpo</span> <span class="o">&amp;</span> <span class="mh">0xF</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
			<span class="n">ofdmpo</span> <span class="o">&gt;&gt;=</span> <span class="mi">4</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_adjust_gain_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u32</span> <span class="n">freq</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">temp</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">isolation</span><span class="p">;</span>

	<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span>
		<span class="n">isolation</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_med_band</span><span class="p">;</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">freq</span> <span class="o">&lt;=</span> <span class="mi">5320</span><span class="p">)</span>
		<span class="n">isolation</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_low_band</span><span class="p">;</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">freq</span> <span class="o">&lt;=</span> <span class="mi">5700</span><span class="p">)</span>
		<span class="n">isolation</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_med_band</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="n">isolation</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_isolation_hi_band</span><span class="p">;</span>

	<span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">isolation</span> <span class="o">-</span> <span class="mi">26</span><span class="p">)</span> <span class="o">/</span> <span class="mi">12</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span><span class="p">;</span>
	<span class="n">temp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mh">0x1000</span><span class="p">;</span>
	<span class="n">temp</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mh">0x2000</span><span class="p">;</span>

	<span class="n">b43_lptab_write_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="n">temp</span><span class="p">);</span>
	<span class="n">b43_lptab_write_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="n">temp</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_table_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">freq</span> <span class="o">=</span> <span class="n">channel2freq_lp</span><span class="p">(</span><span class="n">b43_lpphy_op_get_default_chan</span><span class="p">(</span><span class="n">dev</span><span class="p">));</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">lpphy_rev0_1_table_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">lpphy_rev2plus_table_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="n">lpphy_init_tx_gain_table</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">lpphy_adjust_gain_table</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">freq</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_baseband_rev0_1_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">ssb_bus</span> <span class="o">*</span><span class="n">bus</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">sdev</span><span class="o">-&gt;</span><span class="n">bus</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ssb_sprom</span> <span class="o">*</span><span class="n">sprom</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">bus_sprom</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">tmp2</span><span class="p">;</span>

	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DAC_CTL</span><span class="p">,</span> <span class="mh">0xF7FF</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DAC_CTL</span><span class="p">,</span> <span class="mh">0x0004</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_OFDMSYNCTHRESH0</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x0078</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">,</span> <span class="mh">0x83FF</span><span class="p">,</span> <span class="mh">0x5800</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_ADC_COMPENSATION_CTL</span><span class="p">,</span> <span class="mh">0x0016</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_ADC_CTL_0</span><span class="p">,</span> <span class="mh">0xFFF8</span><span class="p">,</span> <span class="mh">0x0004</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_VERYLOWGAINDB</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x5400</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_HIGAINDB</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x2400</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LOWGAINDB</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x2100</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_VERYLOWGAINDB</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x0006</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_RADIO_CTL</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">,</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="mh">0x0005</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">,</span> <span class="mh">0xFC1F</span><span class="p">,</span> <span class="mh">0x0180</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">,</span> <span class="mh">0x83FF</span><span class="p">,</span> <span class="mh">0x3C00</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GAINDIRECTMISMATCH</span><span class="p">,</span> <span class="mh">0xFFF0</span><span class="p">,</span> <span class="mh">0x0005</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GAIN_MISMATCH_LIMIT</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x001A</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRS_ED_THRESH</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x00B3</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRS_ED_THRESH</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0xAD00</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_INPUT_PWRDB</span><span class="p">,</span>
			<span class="mh">0xFF00</span><span class="p">,</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rx_pwr_offset</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">((</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_lo</span> <span class="o">&amp;</span> <span class="n">B43_BFL_FEM</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
	   <span class="p">((</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_5GHZ</span><span class="p">)</span> <span class="o">||</span>
	   <span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span> <span class="o">&amp;</span> <span class="n">B43_BFH_PAREF</span><span class="p">)))</span> <span class="p">{</span>
		<span class="n">ssb_pmu_set_ldo_voltage</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">,</span> <span class="n">LDO_PAREF</span><span class="p">,</span> <span class="mh">0x28</span><span class="p">);</span>
		<span class="n">ssb_pmu_set_ldo_paref</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_RF_SIGNAL_LUT</span><span class="p">,</span>
					<span class="mh">0xFFCF</span><span class="p">,</span> <span class="mh">0x0010</span><span class="p">);</span>
		<span class="p">}</span>
		<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">60</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">ssb_pmu_set_ldo_paref</span><span class="p">(</span><span class="o">&amp;</span><span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_RF_SIGNAL_LUT</span><span class="p">,</span>
				<span class="mh">0xFFCF</span><span class="p">,</span> <span class="mh">0x0020</span><span class="p">);</span>
		<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="mi">100</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">tmp</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vf</span> <span class="o">|</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vc</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span> <span class="o">|</span> <span class="mh">0xA000</span><span class="p">;</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_RSSI_CTL_0</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span> <span class="o">&amp;</span> <span class="n">B43_BFH_RSSIINV</span><span class="p">)</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_RSSI_CTL_1</span><span class="p">,</span> <span class="mh">0xF000</span><span class="p">,</span> <span class="mh">0x0AAA</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_RSSI_CTL_1</span><span class="p">,</span> <span class="mh">0xF000</span><span class="p">,</span> <span class="mh">0x02AA</span><span class="p">);</span>
	<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">24</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_RADIO_CTL</span><span class="p">,</span>
			<span class="mh">0xFFF9</span><span class="p">,</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">bx_arch</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
	   <span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span> <span class="o">&amp;</span> <span class="n">B43_BFH_FEM_BT</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0x3F00</span><span class="p">,</span> <span class="mh">0x0900</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0B00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0400</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0B00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_5</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_5</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0900</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_6</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_6</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0B00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_7</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_7</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0900</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_8</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_8</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0B00</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_5GHZ</span> <span class="o">||</span>
		  <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">board_type</span> <span class="o">==</span> <span class="mh">0x048A</span><span class="p">)</span> <span class="o">||</span> <span class="p">((</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
		  <span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_lo</span> <span class="o">&amp;</span> <span class="n">B43_BFL_FEM</span><span class="p">)))</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0001</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0400</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0001</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0500</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0002</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0800</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0002</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0A00</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">||</span>
		  <span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_lo</span> <span class="o">&amp;</span> <span class="n">B43_BFL_FEM</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0004</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0800</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0004</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0C00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0002</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0100</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0002</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0300</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0900</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x000A</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0B00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0006</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0500</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x0006</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">,</span> <span class="mh">0xC0FF</span><span class="p">,</span> <span class="mh">0x0700</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span> <span class="o">&amp;</span> <span class="n">B43_BFH_PAREF</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_phy_copy</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_5</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">);</span>
		<span class="n">b43_phy_copy</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_6</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_2</span><span class="p">);</span>
		<span class="n">b43_phy_copy</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_7</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_3</span><span class="p">);</span>
		<span class="n">b43_phy_copy</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_8</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_4</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">((</span><span class="n">sprom</span><span class="o">-&gt;</span><span class="n">boardflags_hi</span> <span class="o">&amp;</span> <span class="n">B43_BFH_FEM_BT</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
	    <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x5354</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
	    <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_pkg</span> <span class="o">==</span> <span class="n">SSB_CHIPPACK_BCM4712S</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0x0006</span><span class="p">);</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GPIO_SELECT</span><span class="p">,</span> <span class="mh">0x0005</span><span class="p">);</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GPIO_OUTEN</span><span class="p">,</span> <span class="mh">0xFFFF</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>FIXME the Broadcom driver caches &amp; delays this HF write!</p></td><td class="code"><div class="highlight"><pre>		<span class="n">b43_hf_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">b43_hf_read</span><span class="p">(</span><span class="n">dev</span><span class="p">)</span> <span class="o">|</span> <span class="n">B43_HF_PR45960W</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0x8000</span><span class="p">);</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0x0040</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_MINPWR_LEVEL</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0xA400</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0xF0FF</span><span class="p">,</span> <span class="mh">0x0B00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_SYNCPEAKCNT</span><span class="p">,</span> <span class="mh">0xFFF8</span><span class="p">,</span> <span class="mh">0x0007</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_DSSS_CONFIRM_CNT</span><span class="p">,</span> <span class="mh">0xFFF8</span><span class="p">,</span> <span class="mh">0x0003</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_DSSS_CONFIRM_CNT</span><span class="p">,</span> <span class="mh">0xFFC7</span><span class="p">,</span> <span class="mh">0x0020</span><span class="p">);</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IDLEAFTERPKTRXTO</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="cm">/* 5GHz */</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">);</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0xFFBF</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">);</span>
		<span class="n">tmp2</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0x03E0</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">5</span><span class="p">;</span>
		<span class="n">tmp2</span> <span class="o">|=</span> <span class="n">tmp2</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">;</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_4C3</span><span class="p">,</span> <span class="n">tmp2</span><span class="p">);</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GAINDIRECTMISMATCH</span><span class="p">);</span>
		<span class="n">tmp2</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0x1F00</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">;</span>
		<span class="n">tmp2</span> <span class="o">|=</span> <span class="n">tmp2</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">;</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_4C4</span><span class="p">,</span> <span class="n">tmp2</span><span class="p">);</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_VERYLOWGAINDB</span><span class="p">);</span>
		<span class="n">tmp2</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0x00FF</span><span class="p">;</span>
		<span class="n">tmp2</span> <span class="o">|=</span> <span class="n">tmp</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">;</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_4C5</span><span class="p">,</span> <span class="n">tmp2</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_save_dig_flt_state</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">u16</span> <span class="n">addr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC1</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC2</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC3</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC4</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC5</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC6</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC7</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC8</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xCF</span><span class="p">),</span>
	<span class="p">};</span>

	<span class="k">static</span> <span class="k">const</span> <span class="n">u16</span> <span class="n">coefs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="mh">0xDE5E</span><span class="p">,</span> <span class="mh">0xE832</span><span class="p">,</span> <span class="mh">0xE331</span><span class="p">,</span> <span class="mh">0x4D26</span><span class="p">,</span>
		<span class="mh">0x0026</span><span class="p">,</span> <span class="mh">0x1420</span><span class="p">,</span> <span class="mh">0x0020</span><span class="p">,</span> <span class="mh">0xFE08</span><span class="p">,</span>
		<span class="mh">0x0008</span><span class="p">,</span>
	<span class="p">};</span>

	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">addr</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">dig_flt_state</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">addr</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">addr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_restore_dig_flt_state</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">u16</span> <span class="n">addr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC1</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC2</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC3</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC4</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC5</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC6</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC7</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xC8</span><span class="p">),</span>
		<span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xCF</span><span class="p">),</span>
	<span class="p">};</span>

	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">addr</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">addr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">dig_flt_state</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_baseband_rev2plus_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>

	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DAC_CTL</span><span class="p">,</span> <span class="mh">0x50</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL</span><span class="p">,</span> <span class="mh">0x8800</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xF9</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TR_LOOKUP_1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_ADC_COMPENSATION_CTL</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_OFDMSYNCTHRESH0</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0xB4</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_DCOFFSETTRANSIENT</span><span class="p">,</span> <span class="mh">0xF8FF</span><span class="p">,</span> <span class="mh">0x200</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_DCOFFSETTRANSIENT</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x7F</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GAINDIRECTMISMATCH</span><span class="p">,</span> <span class="mh">0xFF0F</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_PREAMBLECONFIRMTO</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="o">~</span><span class="mh">0x4000</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="o">~</span><span class="mh">0x2000</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x10A</span><span class="p">),</span> <span class="mh">0x1</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">board_rev</span> <span class="o">&gt;=</span> <span class="mh">0x18</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">17</span><span class="p">,</span> <span class="mi">65</span><span class="p">),</span> <span class="mh">0xEC</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x10A</span><span class="p">),</span> <span class="mh">0xFF01</span><span class="p">,</span> <span class="mh">0x14</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x10A</span><span class="p">),</span> <span class="mh">0xFF01</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xDF</span><span class="p">),</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0xF4</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xDF</span><span class="p">),</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0xF100</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPTHRESH</span><span class="p">,</span> <span class="mh">0x48</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_HIGAINDB</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x46</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xE4</span><span class="p">),</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_PWR_THRESH1</span><span class="p">,</span> <span class="mh">0xFFF0</span><span class="p">,</span> <span class="mh">0x9</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GAINDIRECTMISMATCH</span><span class="p">,</span> <span class="o">~</span><span class="mh">0xF</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_VERYLOWGAINDB</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x5500</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">,</span> <span class="mh">0xFC1F</span><span class="p">,</span> <span class="mh">0xA0</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GAINDIRECTMISMATCH</span><span class="p">,</span> <span class="mh">0xE0FF</span><span class="p">,</span> <span class="mh">0x300</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_HIGAINDB</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x2A00</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">((</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x4325</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_rev</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LOWGAINDB</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x2100</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_VERYLOWGAINDB</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0xA</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LOWGAINDB</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x1E00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_VERYLOWGAINDB</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0xD</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFE</span><span class="p">),</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="mh">0x1F</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFF</span><span class="p">),</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="mh">0xC</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x100</span><span class="p">),</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x19</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFF</span><span class="p">),</span> <span class="mh">0x03FF</span><span class="p">,</span> <span class="mh">0x3C00</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFE</span><span class="p">),</span> <span class="mh">0xFC1F</span><span class="p">,</span> <span class="mh">0x3E0</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFF</span><span class="p">),</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="mh">0xC</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x100</span><span class="p">),</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x1900</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">,</span> <span class="mh">0x83FF</span><span class="p">,</span> <span class="mh">0x5800</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CLIPCTRTHRESH</span><span class="p">,</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_GAINMISMATCH</span><span class="p">,</span> <span class="mh">0x0FFF</span><span class="p">,</span> <span class="mh">0x9000</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">((</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x4325</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_rev</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x14</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mh">0x08</span><span class="p">,</span> <span class="mh">0x12</span><span class="p">),</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0xF0FF</span><span class="p">,</span> <span class="mh">0xB00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_SYNCPEAKCNT</span><span class="p">,</span> <span class="mh">0xFFF8</span><span class="p">,</span> <span class="mh">0x6</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_MINPWR_LEVEL</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x9D00</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_MINPWR_LEVEL</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0xA1</span><span class="p">);</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IDLEAFTERPKTRXTO</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="cm">/* 5GHz */</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="o">~</span><span class="mh">0x40</span><span class="p">);</span>

	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRS_ED_THRESH</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0xB3</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRS_ED_THRESH</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0xAD00</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_INPUT_PWRDB</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rx_pwr_offset</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RESET_CTL</span><span class="p">,</span> <span class="mh">0x44</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RESET_CTL</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_RSSI_CTL_0</span><span class="p">,</span> <span class="mh">0xA954</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_RSSI_CTL_1</span><span class="p">,</span>
		      <span class="mh">0x2000</span> <span class="o">|</span> <span class="p">((</span><span class="n">u16</span><span class="p">)</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_gs</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">|</span>
		      <span class="p">((</span><span class="n">u16</span><span class="p">)</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vc</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rssi_vf</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">((</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x4325</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_rev</span> <span class="o">==</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_ADC_CTL_0</span><span class="p">,</span> <span class="mh">0x1C</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="mh">0x8800</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_ADC_CTL_1</span><span class="p">,</span> <span class="mh">0xFC3C</span><span class="p">,</span> <span class="mh">0x0400</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">lpphy_save_dig_flt_state</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_baseband_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">lpphy_table_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">lpphy_baseband_rev2plus_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">lpphy_baseband_rev0_1_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">b2062_freqdata</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">freq</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* Initialize the 2062 radio. */</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_2062_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ssb_bus</span> <span class="o">*</span><span class="n">bus</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">sdev</span><span class="o">-&gt;</span><span class="n">bus</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">crystalfreq</span><span class="p">,</span> <span class="n">tmp</span><span class="p">,</span> <span class="n">ref</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">b2062_freqdata</span> <span class="o">*</span><span class="n">fd</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

	<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">b2062_freqdata</span> <span class="n">freqdata_tab</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">{</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">12000</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">,</span>
				 <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">6</span><span class="p">,</span> <span class="p">},</span>
		<span class="p">{</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">13000</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">,</span>
				 <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">7</span><span class="p">,</span> <span class="p">},</span>
		<span class="p">{</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">14400</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span>
				 <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">7</span><span class="p">,</span> <span class="p">},</span>
		<span class="p">{</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">16200</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span>
				 <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">8</span><span class="p">,</span> <span class="p">},</span>
		<span class="p">{</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">18000</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">2</span><span class="p">,</span>
				 <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">8</span><span class="p">,</span> <span class="p">},</span>
		<span class="p">{</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">19200</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">,</span>
				 <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span>  <span class="mi">9</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">};</span>

	<span class="n">b2062_upload_init_table</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_CTL3</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_CTL4</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_CTL5</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_CTL6</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_PDN_CTL0</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_PDN_CTL0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_CALIB_TS</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_CALIB_TS</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_BG_CTL1</span><span class="p">,</span>
			<span class="p">(</span><span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_COMM2</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="mh">0x80</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span>
		<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TSSI_CTL0</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TSSI_CTL0</span><span class="p">,</span> <span class="o">~</span><span class="mh">0x1</span><span class="p">);</span>

	<span class="cm">/* Get the crystal freq, in Hz. */</span>
	<span class="n">crystalfreq</span> <span class="o">=</span> <span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">.</span><span class="n">pmu</span><span class="p">.</span><span class="n">crystalfreq</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>

	<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">.</span><span class="n">capabilities</span> <span class="o">&amp;</span> <span class="n">SSB_CHIPCO_CAP_PMU</span><span class="p">));</span>
	<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="n">crystalfreq</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">crystalfreq</span> <span class="o">&lt;=</span> <span class="mi">30000000</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL1</span><span class="p">,</span> <span class="mh">0xFFFB</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
		<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL1</span><span class="p">,</span> <span class="mh">0x4</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">tmp</span> <span class="o">=</span> <span class="p">(((</span><span class="mi">800000000</span> <span class="o">*</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span> <span class="o">+</span> <span class="n">crystalfreq</span><span class="p">)</span> <span class="o">/</span>
	      <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">crystalfreq</span><span class="p">))</span> <span class="o">-</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL7</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>

	<span class="n">tmp</span> <span class="o">=</span> <span class="p">(((</span><span class="mi">100</span> <span class="o">*</span> <span class="n">crystalfreq</span> <span class="o">+</span> <span class="mi">16000000</span> <span class="o">*</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span><span class="p">)</span> <span class="o">/</span>
	      <span class="p">(</span><span class="mi">32000000</span> <span class="o">*</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL18</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>

	<span class="n">tmp</span> <span class="o">=</span> <span class="p">(((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">crystalfreq</span> <span class="o">+</span> <span class="mi">1000000</span> <span class="o">*</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span><span class="p">)</span> <span class="o">/</span>
	      <span class="p">(</span><span class="mi">2000000</span> <span class="o">*</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL19</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>

	<span class="n">ref</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1000</span> <span class="o">*</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">crystalfreq</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2000</span> <span class="o">*</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span><span class="p">);</span>
	<span class="n">ref</span> <span class="o">&amp;=</span> <span class="mh">0xFFFF</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">freqdata_tab</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ref</span> <span class="o">&lt;</span> <span class="n">freqdata_tab</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">freq</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">fd</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">freqdata_tab</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">fd</span><span class="p">)</span>
		<span class="n">fd</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">freqdata_tab</span><span class="p">[</span><span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">freqdata_tab</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">b43dbg</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">,</span> <span class="s">&quot;b2062: Using crystal tab entry %u kHz.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
	       <span class="n">fd</span><span class="o">-&gt;</span><span class="n">freq</span><span class="p">);</span> <span class="cm">/* FIXME: Keep this printk until the code is fully debugged. */</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL8</span><span class="p">,</span>
			<span class="p">((</span><span class="n">u16</span><span class="p">)(</span><span class="n">fd</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">fd</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL9</span><span class="p">,</span>
			<span class="p">((</span><span class="n">u16</span><span class="p">)(</span><span class="n">fd</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">fd</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL10</span><span class="p">,</span> <span class="n">fd</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL11</span><span class="p">,</span> <span class="n">fd</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span>
<span class="p">}</span>

<span class="cm">/* Initialize the 2063 radio. */</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_2063_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b2063_upload_init_table</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_LOGEN_SP5</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_COMM8</span><span class="p">,</span> <span class="mh">0x38</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_REG_SP1</span><span class="p">,</span> <span class="mh">0x56</span><span class="p">);</span>
	<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RX_BB_CTL2</span><span class="p">,</span> <span class="o">~</span><span class="mh">0x2</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP7</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_RF_SP6</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_RF_SP9</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP3</span><span class="p">,</span> <span class="mh">0xa0</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP4</span><span class="p">,</span> <span class="mh">0xa0</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP2</span><span class="p">,</span> <span class="mh">0x18</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP3</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP2</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">lpphy_stx_table_entry</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">phy_offset</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">phy_shift</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rf_addr</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rf_shift</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">mask</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">lpphy_stx_table_entry</span> <span class="n">lpphy_stx_table</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x3d</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x4c</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x7f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x44</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0xff</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x4a</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0xff</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x4d</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0xff</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x4e</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0xff</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x4f</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x4f</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x49</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x46</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x46</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x46</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x48</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x48</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x49</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x45</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x52</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x52</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x41</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x41</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x42</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x42</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x42</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x43</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x43</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x45</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">phy_offset</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">phy_shift</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_addr</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">rf_shift</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">mask</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_sync_stx</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">lpphy_stx_table_entry</span> <span class="o">*</span><span class="n">e</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lpphy_stx_table</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">e</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lpphy_stx_table</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">rf_addr</span><span class="p">);</span>
		<span class="n">tmp</span> <span class="o">&gt;&gt;=</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">rf_shift</span><span class="p">;</span>
		<span class="n">tmp</span> <span class="o">&lt;&lt;=</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">phy_shift</span><span class="p">;</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xF2</span> <span class="o">+</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">phy_offset</span><span class="p">),</span>
				<span class="o">~</span><span class="p">(</span><span class="n">e</span><span class="o">-&gt;</span><span class="n">mask</span> <span class="o">&lt;&lt;</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">phy_shift</span><span class="p">),</span> <span class="n">tmp</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_radio_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/* The radio is attached through the 4wire bus. */</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_FOURWIRE_CTL</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_FOURWIRE_CTL</span><span class="p">,</span> <span class="mh">0xFFFD</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">radio_ver</span> <span class="o">==</span> <span class="mh">0x2062</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy_2062_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">lpphy_2063_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
		<span class="n">lpphy_sync_stx</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xF0</span><span class="p">),</span> <span class="mh">0x5F80</span><span class="p">);</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xF1</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x4325</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>TODO SSB PMU recalibration</p></td><td class="code"><div class="highlight"><pre>		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">lpphy_iq_est</span> <span class="p">{</span> <span class="n">u32</span> <span class="n">iq_prod</span><span class="p">,</span> <span class="n">i_pwr</span><span class="p">,</span> <span class="n">q_pwr</span><span class="p">;</span> <span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_rc_cap</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">rc_cap</span> <span class="o">=</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span> <span class="o">&amp;</span> <span class="mh">0x1F</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="c1">//FIXME check channel 14!</span>
		<span class="n">rc_cap</span> <span class="o">=</span> <span class="n">min_t</span><span class="p">(</span><span class="n">u8</span><span class="p">,</span> <span class="n">rc_cap</span> <span class="o">+</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_RXBB_CALIB2</span><span class="p">,</span>
			<span class="n">max_t</span><span class="p">(</span><span class="n">u8</span><span class="p">,</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">));</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_CTL_A</span><span class="p">,</span> <span class="n">rc_cap</span> <span class="o">|</span> <span class="mh">0x80</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RXG_CNT16</span><span class="p">,</span>
			<span class="p">((</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span> <span class="o">&amp;</span> <span class="mh">0x1F</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="mh">0x80</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">u8</span> <span class="nf">lpphy_get_bb_mult</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">87</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0xFF00</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_bb_mult</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u8</span> <span class="n">bb_mult</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">87</span><span class="p">),</span> <span class="p">(</span><span class="n">u16</span><span class="p">)</span><span class="n">bb_mult</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_deaf</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">user</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">user</span><span class="p">)</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">crs_usr_disable</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">crs_sys_disable</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0xFF1F</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_clear_deaf</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">user</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">user</span><span class="p">)</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">crs_usr_disable</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">crs_sys_disable</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">crs_usr_disable</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">crs_sys_disable</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span>
			<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span>
					<span class="mh">0xFF1F</span><span class="p">,</span> <span class="mh">0x60</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span>
					<span class="mh">0xFF1F</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_trsw_over</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">tx</span><span class="p">,</span> <span class="n">bool</span> <span class="n">rx</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">trsw</span> <span class="o">=</span> <span class="p">(</span><span class="n">tx</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">rx</span><span class="p">;</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xFFFC</span><span class="p">,</span> <span class="n">trsw</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x3</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_disable_crs</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">user</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">lpphy_set_deaf</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">user</span><span class="p">);</span>
	<span class="n">lpphy_set_trsw_over</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xFFFB</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x4</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xFFF7</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x8</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xFFDF</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xFFBF</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0x7</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0x38</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xFF3F</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0x100</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xFDFF</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_PS_CTL_OVERRIDE_VAL0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_PS_CTL_OVERRIDE_VAL1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_PS_CTL_OVERRIDE_VAL2</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xFBFF</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xF7FF</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">,</span> <span class="mh">0x45AF</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x3FF</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_restore_crs</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">user</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">lpphy_clear_deaf</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">user</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xFF80</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xFC00</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="p">{</span> <span class="n">u16</span> <span class="n">gm</span><span class="p">,</span> <span class="n">pga</span><span class="p">,</span> <span class="n">pad</span><span class="p">,</span> <span class="n">dac</span><span class="p">;</span> <span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_disable_rx_gain_override</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xFFEF</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xFFBF</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xFEFF</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xFBFF</span><span class="p">);</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xE5</span><span class="p">),</span> <span class="mh">0xFFF7</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xFDFF</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_enable_rx_gain_override</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x100</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x400</span><span class="p">);</span>
			<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xE5</span><span class="p">),</span> <span class="mh">0x8</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x200</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_disable_tx_gain_override</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xFEFF</span><span class="p">);</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xFF7F</span><span class="p">);</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xBFFF</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mh">0xFFBF</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_enable_tx_gain_override</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x100</span><span class="p">);</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">);</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="nf">lpphy_get_tx_gains</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">gains</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">;</span>

	<span class="n">gains</span><span class="p">.</span><span class="n">dac</span> <span class="o">=</span> <span class="p">(</span><span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DAC_CTL</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x380</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">7</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span>
				   <span class="n">B43_LPPHY_TX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7FF</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">gm</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0x0007</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0x0078</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0x780</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">7</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">);</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFB</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">gm</span> <span class="o">=</span> <span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">=</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">gains</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_dac_gain</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">dac</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">ctl</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DAC_CTL</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xC7F</span><span class="p">;</span>
	<span class="n">ctl</span> <span class="o">|=</span> <span class="n">dac</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">;</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DAC_CTL</span><span class="p">,</span> <span class="mh">0xF000</span><span class="p">,</span> <span class="n">ctl</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">u16</span> <span class="nf">lpphy_get_pa_gain</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFB</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0x7F</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_pa_gain</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">gain</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFB</span><span class="p">),</span> <span class="mh">0xE03F</span><span class="p">,</span> <span class="n">gain</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFD</span><span class="p">),</span> <span class="mh">0x80FF</span><span class="p">,</span> <span class="n">gain</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_tx_gains</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">gains</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">rf_gain</span><span class="p">,</span> <span class="n">pa_gain</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">rf_gain</span> <span class="o">=</span> <span class="p">(</span><span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">|</span> <span class="n">gains</span><span class="p">.</span><span class="n">gm</span><span class="p">;</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">,</span>
				<span class="mh">0xF800</span><span class="p">,</span> <span class="n">rf_gain</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">pa_gain</span> <span class="o">=</span> <span class="n">lpphy_get_pa_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">,</span>
			      <span class="p">(</span><span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="n">gains</span><span class="p">.</span><span class="n">gm</span><span class="p">);</span>
		<span class="cm">/*</span>
<span class="cm">		 * SPEC FIXME The spec calls for (pa_gain &lt;&lt; 8) here, but that</span>
<span class="cm">		 * conflicts with the spec for set_pa_gain! Vendor driver bug?</span>
<span class="cm">		 */</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFB</span><span class="p">),</span>
				<span class="mh">0x8000</span><span class="p">,</span> <span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">|</span> <span class="p">(</span><span class="n">pa_gain</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">));</span>
		<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFC</span><span class="p">),</span>
			      <span class="p">(</span><span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="n">gains</span><span class="p">.</span><span class="n">gm</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xFD</span><span class="p">),</span>
				<span class="mh">0x8000</span><span class="p">,</span> <span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">|</span> <span class="p">(</span><span class="n">pa_gain</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">));</span>
	<span class="p">}</span>
	<span class="n">lpphy_set_dac_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gains</span><span class="p">.</span><span class="n">dac</span><span class="p">);</span>
	<span class="n">lpphy_enable_tx_gain_override</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_rev0_1_set_rx_gain</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u32</span> <span class="n">gain</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">trsw</span> <span class="o">=</span> <span class="n">gain</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">lna</span> <span class="o">=</span> <span class="p">(</span><span class="n">gain</span> <span class="o">&amp;</span> <span class="mh">0xFFFC</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">gain</span> <span class="o">&amp;</span> <span class="mh">0xC</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">);</span>
	<span class="n">u16</span> <span class="n">ext_lna</span> <span class="o">=</span> <span class="p">(</span><span class="n">gain</span> <span class="o">&amp;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>

	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">,</span> <span class="n">trsw</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span>
			<span class="mh">0xFBFF</span><span class="p">,</span> <span class="n">ext_lna</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span>
			<span class="mh">0xF7FF</span><span class="p">,</span> <span class="n">ext_lna</span> <span class="o">&lt;&lt;</span> <span class="mi">11</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">,</span> <span class="n">lna</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_rev2plus_set_rx_gain</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u32</span> <span class="n">gain</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">low_gain</span> <span class="o">=</span> <span class="n">gain</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">high_gain</span> <span class="o">=</span> <span class="p">(</span><span class="n">gain</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xF</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">ext_lna</span> <span class="o">=</span> <span class="p">(</span><span class="n">gain</span> <span class="o">&gt;&gt;</span> <span class="mi">21</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">trsw</span> <span class="o">=</span> <span class="o">~</span><span class="p">(</span><span class="n">gain</span> <span class="o">&gt;&gt;</span> <span class="mi">20</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">;</span>

	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">,</span> <span class="n">trsw</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span>
			<span class="mh">0xFDFF</span><span class="p">,</span> <span class="n">ext_lna</span> <span class="o">&lt;&lt;</span> <span class="mi">9</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span>
			<span class="mh">0xFBFF</span><span class="p">,</span> <span class="n">ext_lna</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">,</span> <span class="n">low_gain</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0xFFF0</span><span class="p">,</span> <span class="n">high_gain</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="p">(</span><span class="n">gain</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x3</span><span class="p">;</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span>
				<span class="mh">0xE7FF</span><span class="p">,</span> <span class="n">tmp</span><span class="o">&lt;&lt;</span><span class="mi">11</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xE6</span><span class="p">),</span> <span class="mh">0xFFE7</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_rx_gain</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u32</span> <span class="n">gain</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">lpphy_rev0_1_set_rx_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gain</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">lpphy_rev2plus_set_rx_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gain</span><span class="p">);</span>
	<span class="n">lpphy_enable_rx_gain_override</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_rx_gain_by_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">idx</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">gain</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="n">idx</span><span class="p">));</span>
	<span class="n">lpphy_set_rx_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gain</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_stop_ddfs</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0xFFFD</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0xFFDF</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_run_ddfs</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">i_on</span><span class="p">,</span> <span class="kt">int</span> <span class="n">q_on</span><span class="p">,</span>
			   <span class="kt">int</span> <span class="n">incr1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">incr2</span><span class="p">,</span> <span class="kt">int</span> <span class="n">scale_idx</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">lpphy_stop_ddfs</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS_POINTER_INIT</span><span class="p">,</span> <span class="mh">0xFF80</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS_POINTER_INIT</span><span class="p">,</span> <span class="mh">0x80FF</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS_INCR_INIT</span><span class="p">,</span> <span class="mh">0xFF80</span><span class="p">,</span> <span class="n">incr1</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS_INCR_INIT</span><span class="p">,</span> <span class="mh">0x80FF</span><span class="p">,</span> <span class="n">incr2</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0xFFF7</span><span class="p">,</span> <span class="n">i_on</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0xFFEF</span><span class="p">,</span> <span class="n">q_on</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0xFF9F</span><span class="p">,</span> <span class="n">scale_idx</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0xFFFB</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">bool</span> <span class="nf">lpphy_rx_iq_est</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">samples</span><span class="p">,</span> <span class="n">u8</span> <span class="n">time</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">lpphy_iq_est</span> <span class="o">*</span><span class="n">iq_est</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0xFFF7</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_NUM_SMPLS_ADDR</span><span class="p">,</span> <span class="n">samples</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_ENABLE_WAIT_TIME_ADDR</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="n">time</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_ENABLE_WAIT_TIME_ADDR</span><span class="p">,</span> <span class="mh">0xFEFF</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_ENABLE_WAIT_TIME_ADDR</span><span class="p">,</span> <span class="mh">0x200</span><span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">500</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span>
				<span class="n">B43_LPPHY_IQ_ENABLE_WAIT_TIME_ADDR</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x200</span><span class="p">))</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="n">msleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">((</span><span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_ENABLE_WAIT_TIME_ADDR</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x200</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0x8</span><span class="p">);</span>
		<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">iq_prod</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_ACC_HI_ADDR</span><span class="p">);</span>
	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">iq_prod</span> <span class="o">&lt;&lt;=</span> <span class="mi">16</span><span class="p">;</span>
	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">iq_prod</span> <span class="o">|=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_ACC_LO_ADDR</span><span class="p">);</span>

	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">i_pwr</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_I_PWR_ACC_HI_ADDR</span><span class="p">);</span>
	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">i_pwr</span> <span class="o">&lt;&lt;=</span> <span class="mi">16</span><span class="p">;</span>
	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">i_pwr</span> <span class="o">|=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_I_PWR_ACC_LO_ADDR</span><span class="p">);</span>

	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">q_pwr</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_Q_PWR_ACC_HI_ADDR</span><span class="p">);</span>
	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">q_pwr</span> <span class="o">&lt;&lt;=</span> <span class="mi">16</span><span class="p">;</span>
	<span class="n">iq_est</span><span class="o">-&gt;</span><span class="n">q_pwr</span> <span class="o">|=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_IQ_Q_PWR_ACC_LO_ADDR</span><span class="p">);</span>

	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0x8</span><span class="p">);</span>
	<span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">lpphy_loopback</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpphy_iq_est</span> <span class="n">iq_est</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">index</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tmp</span><span class="p">;</span>

	<span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">iq_est</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">iq_est</span><span class="p">));</span>

	<span class="n">lpphy_set_trsw_over</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x800</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0x800</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x8</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0x8</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_CTL_A</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">32</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy_set_rx_gain_by_index</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">lpphy_run_ddfs</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">lpphy_rx_iq_est</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">iq_est</span><span class="p">)))</span>
			<span class="k">continue</span><span class="p">;</span>
		<span class="n">tmp</span> <span class="o">=</span> <span class="p">(</span><span class="n">iq_est</span><span class="p">.</span><span class="n">i_pwr</span> <span class="o">+</span> <span class="n">iq_est</span><span class="p">.</span><span class="n">q_pwr</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">((</span><span class="n">tmp</span> <span class="o">&gt;</span> <span class="mi">4000</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">))</span> <span class="p">{</span>
			<span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">lpphy_stop_ddfs</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">index</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* Fixed-point division algorithm using only integer math. */</span>
<span class="k">static</span> <span class="n">u32</span> <span class="nf">lpphy_qdiv_roundup</span><span class="p">(</span><span class="n">u32</span> <span class="n">dividend</span><span class="p">,</span> <span class="n">u32</span> <span class="n">divisor</span><span class="p">,</span> <span class="n">u8</span> <span class="n">precision</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">quotient</span><span class="p">,</span> <span class="n">remainder</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">divisor</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

	<span class="n">quotient</span> <span class="o">=</span> <span class="n">dividend</span> <span class="o">/</span> <span class="n">divisor</span><span class="p">;</span>
	<span class="n">remainder</span> <span class="o">=</span> <span class="n">dividend</span> <span class="o">%</span> <span class="n">divisor</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span><span class="n">precision</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">quotient</span> <span class="o">&lt;&lt;=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">remainder</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">divisor</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">quotient</span><span class="o">++</span><span class="p">;</span>
			<span class="n">remainder</span> <span class="o">=</span> <span class="p">(</span><span class="n">remainder</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">divisor</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">precision</span><span class="o">--</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">remainder</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">divisor</span><span class="p">)</span>
		<span class="n">quotient</span><span class="o">++</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">quotient</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* Read the TX power control mode from hardware. */</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_read_tx_pctl_mode_from_hardware</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">ctl</span><span class="p">;</span>

	<span class="n">ctl</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD</span><span class="p">);</span>
	<span class="k">switch</span> <span class="p">(</span><span class="n">ctl</span> <span class="o">&amp;</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_OFF</span>:
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span> <span class="o">=</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_SW</span>:
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span> <span class="o">=</span> <span class="n">B43_LPPHY_TXPCTL_SW</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_HW</span>:
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span> <span class="o">=</span> <span class="n">B43_LPPHY_TXPCTL_HW</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="nl">default:</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span> <span class="o">=</span> <span class="n">B43_LPPHY_TXPCTL_UNKNOWN</span><span class="p">;</span>
		<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* Set the TX power control mode in hardware. */</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_write_tx_pctl_mode_to_hardware</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">ctl</span><span class="p">;</span>

	<span class="k">switch</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span>:
		<span class="n">ctl</span> <span class="o">=</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_OFF</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">B43_LPPHY_TXPCTL_HW</span>:
		<span class="n">ctl</span> <span class="o">=</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_HW</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">B43_LPPHY_TXPCTL_SW</span>:
		<span class="n">ctl</span> <span class="o">=</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_SW</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="nl">default:</span>
		<span class="n">ctl</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD</span><span class="p">,</span>
			<span class="o">~</span><span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">,</span> <span class="n">ctl</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_tx_power_control</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
				       <span class="k">enum</span> <span class="n">b43_lpphy_txpctl_mode</span> <span class="n">mode</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">b43_lpphy_txpctl_mode</span> <span class="n">oldmode</span><span class="p">;</span>

	<span class="n">lpphy_read_tx_pctl_mode_from_hardware</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">oldmode</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">oldmode</span> <span class="o">==</span> <span class="n">mode</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span> <span class="o">=</span> <span class="n">mode</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">oldmode</span> <span class="o">==</span> <span class="n">B43_LPPHY_TXPCTL_HW</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>TODO Update TX Power NPT
TODO Clear all TX Power offsets</p></td><td class="code"><div class="highlight"><pre>	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">B43_LPPHY_TXPCTL_HW</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>TODO Recalculate target TX power</p></td><td class="code"><div class="highlight"><pre>			<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD</span><span class="p">,</span>
					<span class="mh">0xFF80</span><span class="p">,</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tssi_idx</span><span class="p">);</span>
			<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_NNUM</span><span class="p">,</span>
					<span class="mh">0x8FFF</span><span class="p">,</span> <span class="p">((</span><span class="n">u16</span><span class="p">)</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tssi_npt</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">));</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>TODO Set "TSSI Transmit Count" variable to total transmitted frame count</p></td><td class="code"><div class="highlight"><pre>			<span class="n">lpphy_disable_tx_gain_override</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
			<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_pwr_idx_over</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">B43_LPPHY_TXPCTL_HW</span><span class="p">)</span>
			<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xD0</span><span class="p">),</span> <span class="mh">0x2</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xD0</span><span class="p">),</span> <span class="mh">0xFFFD</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">lpphy_write_tx_pctl_mode_to_hardware</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">b43_lpphy_op_switch_channel</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
				       <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">new_channel</span><span class="p">);</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_rev0_1_rc_calib</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpphy_iq_est</span> <span class="n">iq_est</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">tx_gains</span><span class="p">;</span>
	<span class="k">static</span> <span class="k">const</span> <span class="n">u32</span> <span class="n">ideal_pwr_table</span><span class="p">[</span><span class="mi">21</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="mh">0x10000</span><span class="p">,</span> <span class="mh">0x10557</span><span class="p">,</span> <span class="mh">0x10e2d</span><span class="p">,</span> <span class="mh">0x113e0</span><span class="p">,</span> <span class="mh">0x10f22</span><span class="p">,</span> <span class="mh">0x0ff64</span><span class="p">,</span>
		<span class="mh">0x0eda2</span><span class="p">,</span> <span class="mh">0x0e5d4</span><span class="p">,</span> <span class="mh">0x0efd1</span><span class="p">,</span> <span class="mh">0x0fbe8</span><span class="p">,</span> <span class="mh">0x0b7b8</span><span class="p">,</span> <span class="mh">0x04b35</span><span class="p">,</span>
		<span class="mh">0x01a5e</span><span class="p">,</span> <span class="mh">0x00a0b</span><span class="p">,</span> <span class="mh">0x00444</span><span class="p">,</span> <span class="mh">0x001fd</span><span class="p">,</span> <span class="mh">0x000ff</span><span class="p">,</span> <span class="mh">0x00088</span><span class="p">,</span>
		<span class="mh">0x0004c</span><span class="p">,</span> <span class="mh">0x0002c</span><span class="p">,</span> <span class="mh">0x0001a</span><span class="p">,</span>
	<span class="p">};</span>
	<span class="n">bool</span> <span class="n">old_txg_ovr</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">old_bbmult</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">old_rf_ovr</span><span class="p">,</span> <span class="n">old_rf_ovrval</span><span class="p">,</span> <span class="n">old_afe_ovr</span><span class="p">,</span> <span class="n">old_afe_ovrval</span><span class="p">,</span>
	    <span class="n">old_rf2_ovr</span><span class="p">,</span> <span class="n">old_rf2_ovrval</span><span class="p">,</span> <span class="n">old_phy_ctl</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">b43_lpphy_txpctl_mode</span> <span class="n">old_txpctl</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">normal_pwr</span><span class="p">,</span> <span class="n">ideal_pwr</span><span class="p">,</span> <span class="n">mean_sq_pwr</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">mean_sq_pwr_min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">loopback</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">inner_sum</span><span class="p">,</span> <span class="n">err</span><span class="p">;</span>

	<span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">iq_est</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">iq_est</span><span class="p">));</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">b43_lpphy_op_switch_channel</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43dbg</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">,</span>
		       <span class="s">&quot;RC calib: Failed to switch to channel 7, error = %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		       <span class="n">err</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">old_txg_ovr</span> <span class="o">=</span> <span class="o">!!</span><span class="p">(</span><span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="n">old_bbmult</span> <span class="o">=</span> <span class="n">lpphy_get_bb_mult</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">old_txg_ovr</span><span class="p">)</span>
		<span class="n">tx_gains</span> <span class="o">=</span> <span class="n">lpphy_get_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">old_rf_ovr</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">);</span>
	<span class="n">old_rf_ovrval</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">);</span>
	<span class="n">old_afe_ovr</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">);</span>
	<span class="n">old_afe_ovrval</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">);</span>
	<span class="n">old_rf2_ovr</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">);</span>
	<span class="n">old_rf2_ovrval</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">);</span>
	<span class="n">old_phy_ctl</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">);</span>
	<span class="n">lpphy_read_tx_pctl_mode_from_hardware</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">old_txpctl</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span><span class="p">;</span>

	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span><span class="p">);</span>
	<span class="n">lpphy_disable_crs</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
	<span class="n">loopback</span> <span class="o">=</span> <span class="n">lpphy_loopback</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">loopback</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
		<span class="k">goto</span> <span class="n">finish</span><span class="p">;</span>
	<span class="n">lpphy_set_rx_gain_by_index</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">loopback</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0xFFBF</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xFFF8</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xFFC7</span><span class="p">,</span> <span class="mh">0x8</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xFF3F</span><span class="p">,</span> <span class="mh">0xC0</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">128</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">159</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_RXBB_CALIB2</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
		<span class="n">inner_sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="mi">25</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">lpphy_run_ddfs</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">lpphy_rx_iq_est</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">iq_est</span><span class="p">)))</span>
				<span class="k">goto</span> <span class="n">finish</span><span class="p">;</span>
			<span class="n">mean_sq_pwr</span> <span class="o">=</span> <span class="n">iq_est</span><span class="p">.</span><span class="n">i_pwr</span> <span class="o">+</span> <span class="n">iq_est</span><span class="p">.</span><span class="n">q_pwr</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span>
				<span class="n">tmp</span> <span class="o">=</span> <span class="n">mean_sq_pwr</span><span class="p">;</span>
			<span class="n">ideal_pwr</span> <span class="o">=</span> <span class="p">((</span><span class="n">ideal_pwr_table</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">normal_pwr</span> <span class="o">=</span> <span class="n">lpphy_qdiv_roundup</span><span class="p">(</span><span class="n">mean_sq_pwr</span><span class="p">,</span> <span class="n">tmp</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
			<span class="n">mean_sq_pwr</span> <span class="o">=</span> <span class="n">ideal_pwr</span> <span class="o">-</span> <span class="n">normal_pwr</span><span class="p">;</span>
			<span class="n">mean_sq_pwr</span> <span class="o">*=</span> <span class="n">mean_sq_pwr</span><span class="p">;</span>
			<span class="n">inner_sum</span> <span class="o">+=</span> <span class="n">mean_sq_pwr</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">((</span><span class="n">i</span> <span class="o">==</span> <span class="mi">128</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">inner_sum</span> <span class="o">&lt;</span> <span class="n">mean_sq_pwr_min</span><span class="p">))</span> <span class="p">{</span>
				<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
				<span class="n">mean_sq_pwr_min</span> <span class="o">=</span> <span class="n">inner_sum</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">lpphy_stop_ddfs</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

<span class="nl">finish:</span>
	<span class="n">lpphy_restore_crs</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="n">old_rf_ovrval</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="n">old_rf_ovr</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span> <span class="n">old_afe_ovrval</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="n">old_afe_ovr</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="n">old_rf2_ovrval</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="n">old_rf2_ovr</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="n">old_phy_ctl</span><span class="p">);</span>

	<span class="n">lpphy_set_bb_mult</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">old_bbmult</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">old_txg_ovr</span><span class="p">)</span> <span class="p">{</span>
		<span class="cm">/*</span>
<span class="cm">		 * SPEC FIXME: The specs say &quot;get_tx_gains&quot; here, which is</span>
<span class="cm">		 * illogical. According to lwfinger, vendor driver v4.150.10.5</span>
<span class="cm">		 * has a Set here, while v4.174.64.19 has a Get - regression in</span>
<span class="cm">		 * the vendor driver? This should be tested this once the code</span>
<span class="cm">		 * is testable.</span>
<span class="cm">		 */</span>
		<span class="n">lpphy_set_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">tx_gains</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">old_txpctl</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span><span class="p">)</span>
		<span class="n">lpphy_set_rc_cap</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_rev2plus_rc_calib</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">ssb_bus</span> <span class="o">*</span><span class="n">bus</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">sdev</span><span class="o">-&gt;</span><span class="n">bus</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">crystal_freq</span> <span class="o">=</span> <span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">.</span><span class="n">pmu</span><span class="p">.</span><span class="n">crystalfreq</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RX_BB_SP8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RX_BB_SP8</span><span class="p">,</span> <span class="mh">0x0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL1</span><span class="p">,</span> <span class="mh">0x7E</span><span class="p">);</span>
	<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_SP1</span><span class="p">,</span> <span class="mh">0xF7</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL1</span><span class="p">,</span> <span class="mh">0x7C</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL2</span><span class="p">,</span> <span class="mh">0x15</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL3</span><span class="p">,</span> <span class="mh">0x70</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL4</span><span class="p">,</span> <span class="mh">0x52</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL5</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL1</span><span class="p">,</span> <span class="mh">0x7D</span><span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL6</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x2</span><span class="p">)</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="n">msleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL6</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x2</span><span class="p">))</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RX_BB_SP8</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>

	<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_BB_SP3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_BB_SP3</span><span class="p">,</span> <span class="mh">0x0</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL1</span><span class="p">,</span> <span class="mh">0x7E</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL1</span><span class="p">,</span> <span class="mh">0x7C</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL2</span><span class="p">,</span> <span class="mh">0x55</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL3</span><span class="p">,</span> <span class="mh">0x76</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">crystal_freq</span> <span class="o">==</span> <span class="mi">24000000</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL4</span><span class="p">,</span> <span class="mh">0xFC</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL5</span><span class="p">,</span> <span class="mh">0x0</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL4</span><span class="p">,</span> <span class="mh">0x13</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL5</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP7</span><span class="p">,</span> <span class="mh">0x7D</span><span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10000</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL6</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x2</span><span class="p">)</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="n">msleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL6</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x2</span><span class="p">))</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_BB_SP3</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_RC_CALIB_CTL1</span><span class="p">,</span> <span class="mh">0x7E</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_calibrate_rc</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy_rev2plus_rc_calib</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span>
			<span class="n">lpphy_rev0_1_rc_calib</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">lpphy_set_rc_cap</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_set_rx_antenna</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">antenna</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span> <span class="c1">// rev2+ doesn&#39;t support antenna diversity</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">B43_WARN_ON</span><span class="p">(</span><span class="n">antenna</span> <span class="o">&gt;</span> <span class="n">B43_ANTENNA_AUTO1</span><span class="p">))</span>
		<span class="k">return</span><span class="p">;</span>

	<span class="n">b43_hf_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">b43_hf_read</span><span class="p">(</span><span class="n">dev</span><span class="p">)</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">B43_HF_ANTDIVHELP</span><span class="p">);</span>

	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0xFFFD</span><span class="p">,</span> <span class="n">antenna</span> <span class="o">&amp;</span> <span class="mh">0x2</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_CRSGAIN_CTL</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">,</span> <span class="n">antenna</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">);</span>

	<span class="n">b43_hf_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">b43_hf_read</span><span class="p">(</span><span class="n">dev</span><span class="p">)</span> <span class="o">|</span> <span class="n">B43_HF_ANTDIVHELP</span><span class="p">);</span>

	<span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="o">-&gt;</span><span class="n">antenna</span> <span class="o">=</span> <span class="n">antenna</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_tx_iqcc</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">a</span><span class="p">,</span> <span class="n">u16</span> <span class="n">b</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="n">tmp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
	<span class="n">tmp</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
	<span class="n">b43_lptab_write_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_tx_power_by_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u8</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">gains</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">iq_comp</span><span class="p">,</span> <span class="n">tx_gain</span><span class="p">,</span> <span class="n">coeff</span><span class="p">,</span> <span class="n">rf_power</span><span class="p">;</span>

	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_pwr_idx_over</span> <span class="o">=</span> <span class="n">index</span><span class="p">;</span>
	<span class="n">lpphy_read_tx_pctl_mode_from_hardware</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span> <span class="o">!=</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span><span class="p">)</span>
		<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TXPCTL_SW</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">iq_comp</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">320</span><span class="p">));</span>
		<span class="n">tx_gain</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">192</span><span class="p">));</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">=</span> <span class="p">(</span><span class="n">tx_gain</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">gm</span> <span class="o">=</span> <span class="n">tx_gain</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">=</span> <span class="p">(</span><span class="n">tx_gain</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">dac</span> <span class="o">=</span> <span class="p">(</span><span class="n">iq_comp</span> <span class="o">&gt;&gt;</span> <span class="mi">28</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
		<span class="n">lpphy_set_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gains</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">iq_comp</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">320</span><span class="p">));</span>
		<span class="n">tx_gain</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">192</span><span class="p">));</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_GAIN_CTL_OVERRIDE_VAL</span><span class="p">,</span>
				<span class="mh">0xF800</span><span class="p">,</span> <span class="p">(</span><span class="n">tx_gain</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7FFF</span><span class="p">);</span>
		<span class="n">lpphy_set_dac_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">tx_gain</span> <span class="o">&amp;</span> <span class="mh">0x7</span><span class="p">);</span>
		<span class="n">lpphy_set_pa_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="p">(</span><span class="n">tx_gain</span> <span class="o">&gt;&gt;</span> <span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7F</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">lpphy_set_bb_mult</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="p">(</span><span class="n">iq_comp</span> <span class="o">&gt;&gt;</span> <span class="mi">20</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>
	<span class="n">lpphy_set_tx_iqcc</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="p">(</span><span class="n">iq_comp</span> <span class="o">&gt;&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x3FF</span><span class="p">,</span> <span class="n">iq_comp</span> <span class="o">&amp;</span> <span class="mh">0x3FF</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">coeff</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">448</span><span class="p">));</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">coeff</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">448</span><span class="p">));</span>
	<span class="p">}</span>
	<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">85</span><span class="p">),</span> <span class="n">coeff</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">rf_power</span> <span class="o">=</span> <span class="n">b43_lptab_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">576</span><span class="p">));</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_PWR_OVERRIDE</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span>
				<span class="n">rf_power</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">);</span><span class="c1">//SPEC FIXME mask &amp; set != 0</span>
	<span class="p">}</span>
	<span class="n">lpphy_enable_tx_gain_override</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_btcoex_override</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_BTCOEX_CTL</span><span class="p">,</span> <span class="mh">0x3</span><span class="p">);</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_BTCOEX_TXCTL</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_software_rfkill</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
					 <span class="n">bool</span> <span class="n">blocked</span><span class="p">)</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>TODO check MAC control register</p></td><td class="code"><div class="highlight"><pre>	<span class="k">if</span> <span class="p">(</span><span class="n">blocked</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0x83FF</span><span class="p">);</span>
			<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x1F00</span><span class="p">);</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_DDFS</span><span class="p">,</span> <span class="mh">0x80FF</span><span class="p">);</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xDFFF</span><span class="p">);</span>
			<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x0808</span><span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xE0FF</span><span class="p">);</span>
			<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x1F00</span><span class="p">);</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2_VAL</span><span class="p">,</span> <span class="mh">0xFCFF</span><span class="p">);</span>
			<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0x0018</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xE0FF</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xF7F7</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_2</span><span class="p">,</span> <span class="mh">0xFFE7</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* This was previously called lpphy_japan_filter */</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_analog_filter</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">channel</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tmp</span> <span class="o">=</span> <span class="p">(</span><span class="n">channel</span> <span class="o">==</span> <span class="mi">14</span><span class="p">);</span> <span class="c1">//SPEC FIXME check japanwidefilter!</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//SPEC FIXME Isn&#39;t this rev0/1-specific?</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0xFCFF</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">&lt;&lt;</span> <span class="mi">9</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">((</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span><span class="p">))</span>
			<span class="n">lpphy_set_rc_cap</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_BB_SP3</span><span class="p">,</span> <span class="mh">0x3F</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_set_tssi_mux</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">enum</span> <span class="n">tssi_mux_mode</span> <span class="n">mode</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">mode</span> <span class="o">!=</span> <span class="n">TSSI_MUX_EXT</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP1</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">);</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0xF3</span><span class="p">),</span> <span class="mh">0x1000</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_CTL10</span><span class="p">,</span> <span class="mh">0x51</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">TSSI_MUX_POSTPA</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP1</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">);</span>
			<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span> <span class="mh">0xFFC7</span><span class="p">);</span>
		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
			<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_SP1</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
			<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span>
					<span class="mh">0xFFC7</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_tx_pctl_init_hw</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>SPEC TODO Call LP PHY Clear TX Power offsets</p></td><td class="code"><div class="highlight"><pre>	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">64</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
			<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">i</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="n">b43_lptab_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="n">i</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_NNUM</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_NNUM</span><span class="p">,</span> <span class="mh">0x8FFF</span><span class="p">,</span> <span class="mh">0x5000</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_IDLETSSI</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="mh">0x1F</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0xEFFF</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_LP_PHY_CTL</span><span class="p">,</span> <span class="mh">0xDFFF</span><span class="p">,</span> <span class="mh">0x2000</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x103</span><span class="p">),</span> <span class="mh">0xFFFE</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x103</span><span class="p">),</span> <span class="mh">0xFFFB</span><span class="p">,</span> <span class="mh">0x4</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_PHY_OFDM</span><span class="p">(</span><span class="mh">0x103</span><span class="p">),</span> <span class="mh">0xFFEF</span><span class="p">,</span> <span class="mh">0x10</span><span class="p">);</span>
		<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_IQ_CALIB_CTL2</span><span class="p">,</span> <span class="mh">0xF3</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
		<span class="n">lpphy_set_tssi_mux</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">TSSI_MUX_POSTPA</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_IDLETSSI</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x8000</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_DELTAPWR_LIMIT</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">);</span>
	<span class="n">b43_phy_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_DELTAPWR_LIMIT</span><span class="p">,</span> <span class="mh">0xA</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD</span><span class="p">,</span>
			<span class="o">~</span><span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">,</span>
			<span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_OFF</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_NNUM</span><span class="p">,</span> <span class="mh">0xF8FF</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_CMD</span><span class="p">,</span>
			<span class="o">~</span><span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE</span> <span class="o">&amp;</span> <span class="mh">0xFFFF</span><span class="p">,</span>
			<span class="n">B43_LPPHY_TX_PWR_CTL_CMD_MODE_SW</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xEFFF</span><span class="p">,</span> <span class="mh">0x1000</span><span class="p">);</span>
		<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0xEFFF</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">lpphy_set_tx_power_by_index</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mh">0x7F</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">b43_dummy_transmission</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>

	<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_STAT</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0x8000</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TX_PWR_CTL_IDLETSSI</span><span class="p">,</span>
				<span class="mh">0xFFC0</span><span class="p">,</span> <span class="p">(</span><span class="n">tmp</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span> <span class="o">-</span> <span class="mi">32</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xEFFF</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>(SPEC?) TODO Set "Target TX frequency" variable to 0
SPEC FIXME "Set BB Multiplier to 0xE000" impossible - bb_mult is u8!</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_tx_pctl_init_sw</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">gains</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">gm</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">dac</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">gm</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pad</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">pga</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
		<span class="n">gains</span><span class="p">.</span><span class="n">dac</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">lpphy_set_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gains</span><span class="p">);</span>
	<span class="n">lpphy_set_bb_mult</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Initialize TX power control */</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_tx_pctl_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="mi">0</span><span class="cm">/*FIXME HWPCTL capable */</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy_tx_pctl_init_hw</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="cm">/* This device is only software TX power control capable. */</span>
		<span class="n">lpphy_tx_pctl_init_sw</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_pr41573_workaround</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u32</span> <span class="o">*</span><span class="n">saved_tab</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">saved_tab_size</span> <span class="o">=</span> <span class="mi">256</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">b43_lpphy_txpctl_mode</span> <span class="n">txpctl_mode</span><span class="p">;</span>
	<span class="n">s8</span> <span class="n">tx_pwr_idx_over</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tssi_npt</span><span class="p">,</span> <span class="n">tssi_idx</span><span class="p">;</span>

	<span class="n">saved_tab</span> <span class="o">=</span> <span class="n">kcalloc</span><span class="p">(</span><span class="n">saved_tab_size</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">saved_tab</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">GFP_KERNEL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">saved_tab</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43err</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">,</span> <span class="s">&quot;PR41573 failed. Out of memory!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">lpphy_read_tx_pctl_mode_from_hardware</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">txpctl_mode</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span><span class="p">;</span>
	<span class="n">tx_pwr_idx_over</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_pwr_idx_over</span><span class="p">;</span>
	<span class="n">tssi_npt</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tssi_npt</span><span class="p">;</span>
	<span class="n">tssi_idx</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tssi_idx</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_lptab_read_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mh">0x140</span><span class="p">),</span>
				    <span class="n">saved_tab_size</span><span class="p">,</span> <span class="n">saved_tab</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_lptab_read_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mh">0x140</span><span class="p">),</span>
				    <span class="n">saved_tab_size</span><span class="p">,</span> <span class="n">saved_tab</span><span class="p">);</span>
	<span class="p">}</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>FIXME PHY reset</p></td><td class="code"><div class="highlight"><pre>	<span class="n">lpphy_table_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span> <span class="c1">//FIXME is table init needed?</span>
	<span class="n">lpphy_baseband_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">lpphy_tx_pctl_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">b43_lpphy_op_software_rfkill</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_lptab_write_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mh">0x140</span><span class="p">),</span>
				     <span class="n">saved_tab_size</span><span class="p">,</span> <span class="n">saved_tab</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_lptab_write_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB32</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mh">0x140</span><span class="p">),</span>
				     <span class="n">saved_tab_size</span><span class="p">,</span> <span class="n">saved_tab</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_CHANNEL</span><span class="p">,</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">channel</span><span class="p">);</span>
	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tssi_npt</span> <span class="o">=</span> <span class="n">tssi_npt</span><span class="p">;</span>
	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tssi_idx</span> <span class="o">=</span> <span class="n">tssi_idx</span><span class="p">;</span>
	<span class="n">lpphy_set_analog_filter</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">channel</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">tx_pwr_idx_over</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
		<span class="n">lpphy_set_tx_power_by_index</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">tx_pwr_idx_over</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">rc_cap</span><span class="p">)</span>
		<span class="n">lpphy_set_rc_cap</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">b43_lpphy_op_set_rx_antenna</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">antenna</span><span class="p">);</span>
	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">txpctl_mode</span><span class="p">);</span>
	<span class="n">kfree</span><span class="p">(</span><span class="n">saved_tab</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">lpphy_rx_iq_comp</span> <span class="p">{</span> <span class="n">u8</span> <span class="n">chan</span><span class="p">;</span> <span class="n">s8</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c0</span><span class="p">;</span> <span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">lpphy_rx_iq_comp</span> <span class="n">lpphy_5354_iq_table</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">66</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">lpphy_rx_iq_comp</span> <span class="n">lpphy_rev0_1_iq_table</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">34</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">38</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">46</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">36</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">44</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">48</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">52</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">56</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">104</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">108</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">112</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">116</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">120</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">124</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">128</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">132</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">136</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">140</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">149</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">61</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">153</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">61</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">157</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">61</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">161</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">61</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">165</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">61</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">184</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">188</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">192</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">196</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">204</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">208</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">212</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">216</span><span class="p">,</span> <span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">62</span><span class="p">,</span> <span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">26</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">lpphy_rx_iq_comp</span> <span class="n">lpphy_rev2plus_iq_comp</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">chan</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">c1</span> <span class="o">=</span> <span class="o">-</span><span class="mi">64</span><span class="p">,</span>
	<span class="p">.</span><span class="n">c0</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">lpphy_calc_rx_iq_comp</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">samples</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpphy_iq_est</span> <span class="n">iq_est</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">c0</span><span class="p">,</span> <span class="n">c1</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">prod</span><span class="p">,</span> <span class="n">ipwr</span><span class="p">,</span> <span class="n">qpwr</span><span class="p">,</span> <span class="n">prod_msb</span><span class="p">,</span> <span class="n">q_msb</span><span class="p">,</span> <span class="n">tmp1</span><span class="p">,</span> <span class="n">tmp2</span><span class="p">,</span> <span class="n">tmp3</span><span class="p">,</span> <span class="n">tmp4</span><span class="p">,</span> <span class="n">ret</span><span class="p">;</span>

	<span class="n">c1</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_COMP_COEFF_S</span><span class="p">);</span>
	<span class="n">c0</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">;</span>
	<span class="n">c1</span> <span class="o">|=</span> <span class="mh">0xFF</span><span class="p">;</span>

	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_COMP_COEFF_S</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="mh">0x00C0</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_COMP_COEFF_S</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">);</span>

	<span class="n">ret</span> <span class="o">=</span> <span class="n">lpphy_rx_iq_est</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">iq_est</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ret</span><span class="p">)</span>
		<span class="k">goto</span> <span class="n">out</span><span class="p">;</span>

	<span class="n">prod</span> <span class="o">=</span> <span class="n">iq_est</span><span class="p">.</span><span class="n">iq_prod</span><span class="p">;</span>
	<span class="n">ipwr</span> <span class="o">=</span> <span class="n">iq_est</span><span class="p">.</span><span class="n">i_pwr</span><span class="p">;</span>
	<span class="n">qpwr</span> <span class="o">=</span> <span class="n">iq_est</span><span class="p">.</span><span class="n">q_pwr</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">ipwr</span> <span class="o">+</span> <span class="n">qpwr</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">out</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">prod_msb</span> <span class="o">=</span> <span class="n">fls</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">prod</span><span class="p">));</span>
	<span class="n">q_msb</span> <span class="o">=</span> <span class="n">fls</span><span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">qpwr</span><span class="p">));</span>
	<span class="n">tmp1</span> <span class="o">=</span> <span class="n">prod_msb</span> <span class="o">-</span> <span class="mi">20</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">tmp1</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">tmp3</span> <span class="o">=</span> <span class="p">((</span><span class="n">prod</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="mi">30</span> <span class="o">-</span> <span class="n">prod_msb</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">ipwr</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">tmp1</span><span class="p">)))</span> <span class="o">/</span>
			<span class="p">(</span><span class="n">ipwr</span> <span class="o">&gt;&gt;</span> <span class="n">tmp1</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">tmp3</span> <span class="o">=</span> <span class="p">((</span><span class="n">prod</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="mi">30</span> <span class="o">-</span> <span class="n">prod_msb</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="n">ipwr</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">tmp1</span><span class="p">)))</span> <span class="o">/</span>
			<span class="p">(</span><span class="n">ipwr</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="n">tmp1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">tmp2</span> <span class="o">=</span> <span class="n">q_msb</span> <span class="o">-</span> <span class="mi">11</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">tmp2</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
		<span class="n">tmp4</span> <span class="o">=</span> <span class="p">(</span><span class="n">qpwr</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="mi">31</span> <span class="o">-</span> <span class="n">q_msb</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">ipwr</span> <span class="o">&gt;&gt;</span> <span class="n">tmp2</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">tmp4</span> <span class="o">=</span> <span class="p">(</span><span class="n">qpwr</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="mi">31</span> <span class="o">-</span> <span class="n">q_msb</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="n">ipwr</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="n">tmp2</span><span class="p">);</span>

	<span class="n">tmp4</span> <span class="o">-=</span> <span class="n">tmp3</span> <span class="o">*</span> <span class="n">tmp3</span><span class="p">;</span>
	<span class="n">tmp4</span> <span class="o">=</span> <span class="o">-</span><span class="n">int_sqrt</span><span class="p">(</span><span class="n">tmp4</span><span class="p">);</span>

	<span class="n">c0</span> <span class="o">=</span> <span class="n">tmp3</span> <span class="o">&gt;&gt;</span> <span class="mi">3</span><span class="p">;</span>
	<span class="n">c1</span> <span class="o">=</span> <span class="n">tmp4</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">;</span>

<span class="nl">out:</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_COMP_COEFF_S</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="n">c1</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_COMP_COEFF_S</span><span class="p">,</span> <span class="mh">0x00FF</span><span class="p">,</span> <span class="n">c0</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_run_samples</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">samples</span><span class="p">,</span> <span class="n">u16</span> <span class="n">loops</span><span class="p">,</span>
			      <span class="n">u16</span> <span class="n">wait</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_SMPL_PLAY_BUFFER_CTL</span><span class="p">,</span>
			<span class="mh">0xFFC0</span><span class="p">,</span> <span class="n">samples</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">loops</span> <span class="o">!=</span> <span class="mh">0xFFFF</span><span class="p">)</span>
		<span class="n">loops</span><span class="o">--</span><span class="p">;</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_SMPL_PLAY_COUNT</span><span class="p">,</span> <span class="mh">0xF000</span><span class="p">,</span> <span class="n">loops</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_SMPL_PLAY_BUFFER_CTL</span><span class="p">,</span> <span class="mh">0x3F</span><span class="p">,</span> <span class="n">wait</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_A_PHY_CTL_ADDR</span><span class="p">,</span> <span class="mh">0x1</span><span class="p">);</span>
<span class="p">}</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>SPEC FIXME what does a negative freq mean?</p></td><td class="code"><div class="highlight"><pre><span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_start_tx_tone</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">s32</span> <span class="n">freq</span><span class="p">,</span> <span class="n">u16</span> <span class="n">max</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">buf</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">samples</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">angle</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">rotation</span> <span class="o">=</span> <span class="p">(((</span><span class="mi">36</span> <span class="o">*</span> <span class="n">freq</span><span class="p">)</span> <span class="o">/</span> <span class="mi">20</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">b43_c32</span> <span class="n">sample</span><span class="p">;</span>

	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_tone_freq</span> <span class="o">=</span> <span class="n">freq</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">freq</span><span class="p">)</span> <span class="p">{</span>
		<span class="cm">/* Find i for which abs(freq) integrally divides 20000 * i */</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">samples</span> <span class="o">*</span> <span class="n">abs</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">20000</span> <span class="o">*</span> <span class="n">i</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">samples</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20000</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">/</span> <span class="n">abs</span><span class="p">(</span><span class="n">freq</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="n">B43_WARN_ON</span><span class="p">(</span><span class="n">samples</span> <span class="o">&gt;</span> <span class="mi">63</span><span class="p">))</span>
				<span class="k">return</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">samples</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">samples</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">sample</span> <span class="o">=</span> <span class="n">b43_cordic</span><span class="p">(</span><span class="n">angle</span><span class="p">);</span>
		<span class="n">angle</span> <span class="o">+=</span> <span class="n">rotation</span><span class="p">;</span>
		<span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">CORDIC_CONVERT</span><span class="p">((</span><span class="n">sample</span><span class="p">.</span><span class="n">i</span> <span class="o">*</span> <span class="n">max</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">;</span>
		<span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">|=</span> <span class="n">CORDIC_CONVERT</span><span class="p">((</span><span class="n">sample</span><span class="p">.</span><span class="n">q</span> <span class="o">*</span> <span class="n">max</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">b43_lptab_write_bulk</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPTAB16</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">samples</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>

	<span class="n">lpphy_run_samples</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">samples</span><span class="p">,</span> <span class="mh">0xFFFF</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_stop_tx_tone</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">tx_tone_freq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_SMPL_PLAY_COUNT</span><span class="p">,</span> <span class="mh">0xF000</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">31</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_A_PHY_CTL_ADDR</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1</span><span class="p">))</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="n">udelay</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>


<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_papd_cal</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">gains</span><span class="p">,</span>
			   <span class="kt">int</span> <span class="n">mode</span><span class="p">,</span> <span class="n">bool</span> <span class="n">useindex</span><span class="p">,</span> <span class="n">u8</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>TODO</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_papd_cal_txpwr</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">gains</span><span class="p">,</span> <span class="n">oldgains</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">old_txpctl</span><span class="p">,</span> <span class="n">old_afe_ovr</span><span class="p">,</span> <span class="n">old_rf</span><span class="p">,</span> <span class="n">old_bbmult</span><span class="p">;</span>

	<span class="n">lpphy_read_tx_pctl_mode_from_hardware</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">old_txpctl</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span><span class="p">;</span>
	<span class="n">old_afe_ovr</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x40</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">old_afe_ovr</span><span class="p">)</span>
		<span class="n">oldgains</span> <span class="o">=</span> <span class="n">lpphy_get_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">old_rf</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_PWR_OVERRIDE</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">;</span>
	<span class="n">old_bbmult</span> <span class="o">=</span> <span class="n">lpphy_get_bb_mult</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x4325</span> <span class="o">&amp;&amp;</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_rev</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
		<span class="n">lpphy_papd_cal</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gains</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">lpphy_papd_cal</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">gains</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">65</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">old_afe_ovr</span><span class="p">)</span>
		<span class="n">lpphy_set_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">oldgains</span><span class="p">);</span>
	<span class="n">lpphy_set_bb_mult</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">old_bbmult</span><span class="p">);</span>
	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">old_txpctl</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_PWR_OVERRIDE</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="n">old_rf</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">lpphy_rx_iq_cal</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">noise</span><span class="p">,</span> <span class="n">bool</span> <span class="n">tx</span><span class="p">,</span>
			    <span class="n">bool</span> <span class="n">rx</span><span class="p">,</span> <span class="n">bool</span> <span class="n">pa</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="o">*</span><span class="n">gains</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">lpphy_rx_iq_comp</span> <span class="o">*</span><span class="n">iqcomp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpphy_tx_gains</span> <span class="n">nogains</span><span class="p">,</span> <span class="n">oldgains</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">ret</span><span class="p">;</span>

	<span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">nogains</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">nogains</span><span class="p">));</span>
	<span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">oldgains</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">oldgains</span><span class="p">));</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x5354</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lpphy_5354_iq_table</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">lpphy_5354_iq_table</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">chan</span> <span class="o">==</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">channel</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">iqcomp</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lpphy_5354_iq_table</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">iqcomp</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lpphy_rev2plus_iq_comp</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lpphy_rev0_1_iq_table</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">lpphy_rev0_1_iq_table</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">chan</span> <span class="o">==</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">channel</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">iqcomp</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lpphy_rev0_1_iq_table</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">B43_WARN_ON</span><span class="p">(</span><span class="o">!</span><span class="n">iqcomp</span><span class="p">))</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_COMP_COEFF_S</span><span class="p">,</span> <span class="mh">0xFF00</span><span class="p">,</span> <span class="n">iqcomp</span><span class="o">-&gt;</span><span class="n">c1</span><span class="p">);</span>
	<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RX_COMP_COEFF_S</span><span class="p">,</span>
			<span class="mh">0x00FF</span><span class="p">,</span> <span class="n">iqcomp</span><span class="o">-&gt;</span><span class="n">c0</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">noise</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">tx</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">rx</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
		<span class="n">pa</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">lpphy_set_trsw_over</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">tx</span><span class="p">,</span> <span class="n">rx</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">b43_current_band</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">)</span> <span class="o">==</span> <span class="n">IEEE80211_BAND_2GHZ</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x8</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span>
				<span class="mh">0xFFF7</span><span class="p">,</span> <span class="n">pa</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">);</span>
		<span class="n">b43_phy_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span>
				<span class="mh">0xFFDF</span><span class="p">,</span> <span class="n">pa</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_phy_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x40</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">noise</span><span class="p">)</span>
		<span class="n">lpphy_set_rx_gain</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mh">0x2D5D</span><span class="p">);</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
			<span class="n">oldgains</span> <span class="o">=</span> <span class="n">lpphy_get_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">gains</span><span class="p">)</span>
			<span class="n">gains</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">nogains</span><span class="p">;</span>
		<span class="n">lpphy_set_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="o">*</span><span class="n">gains</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0x800</span><span class="p">);</span>
	<span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_VAL_0</span><span class="p">,</span> <span class="mh">0x800</span><span class="p">);</span>
	<span class="n">lpphy_set_deaf</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">noise</span><span class="p">)</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="n">lpphy_calc_rx_iq_comp</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mh">0xFFF0</span><span class="p">);</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">lpphy_start_tx_tone</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">4000</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="n">lpphy_calc_rx_iq_comp</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">);</span>
		<span class="n">lpphy_stop_tx_tone</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">lpphy_clear_deaf</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xFFFC</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xFFF7</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_RF_OVERRIDE_0</span><span class="p">,</span> <span class="mh">0xFFDF</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">noise</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
			<span class="n">lpphy_set_tx_gains</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">oldgains</span><span class="p">);</span>
		<span class="k">else</span>
			<span class="n">lpphy_disable_tx_gain_override</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">lpphy_disable_rx_gain_override</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mh">0xFFFE</span><span class="p">);</span>
	<span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span> <span class="mh">0xF7FF</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_calibration</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">b43_lpphy_txpctl_mode</span> <span class="n">saved_pctl_mode</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">full_cal</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">full_calib_chan</span> <span class="o">!=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">channel</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">full_cal</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">full_calib_chan</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">channel</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">b43_mac_suspend</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="n">lpphy_btcoex_override</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">lpphy_save_dig_flt_state</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">lpphy_read_tx_pctl_mode_from_hardware</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">saved_pctl_mode</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">txpctl_mode</span><span class="p">;</span>
	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>TODO Perform transmit power table I/Q LO calibration</p></td><td class="code"><div class="highlight"><pre>	<span class="k">if</span> <span class="p">((</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">saved_pctl_mode</span> <span class="o">!=</span> <span class="n">B43_LPPHY_TXPCTL_OFF</span><span class="p">))</span>
		<span class="n">lpphy_pr41573_workaround</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">((</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="n">full_cal</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpphy_papd_cal_txpwr</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">lpphy_set_tx_power_control</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">saved_pctl_mode</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">lpphy_restore_dig_flt_state</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">lpphy_rx_iq_cal</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="nb">false</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">b43_mac_enable</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">u16</span> <span class="nf">b43_lpphy_op_read</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">reg</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_PHY_CONTROL</span><span class="p">,</span> <span class="n">reg</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">b43_read16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_PHY_DATA</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_write</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">reg</span><span class="p">,</span> <span class="n">u16</span> <span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_PHY_CONTROL</span><span class="p">,</span> <span class="n">reg</span><span class="p">);</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_PHY_DATA</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_maskset</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">reg</span><span class="p">,</span> <span class="n">u16</span> <span class="n">mask</span><span class="p">,</span>
				 <span class="n">u16</span> <span class="n">set</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_PHY_CONTROL</span><span class="p">,</span> <span class="n">reg</span><span class="p">);</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_PHY_DATA</span><span class="p">,</span>
		    <span class="p">(</span><span class="n">b43_read16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_PHY_DATA</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">)</span> <span class="o">|</span> <span class="n">set</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="n">u16</span> <span class="nf">b43_lpphy_op_radio_read</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">reg</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/* Register 1 is a 32-bit register. */</span>
	<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="n">reg</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>
	<span class="cm">/* LP-PHY needs a special bit set for read access */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">rev</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">reg</span> <span class="o">!=</span> <span class="mh">0x4001</span><span class="p">)</span>
			<span class="n">reg</span> <span class="o">|=</span> <span class="mh">0x100</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span>
		<span class="n">reg</span> <span class="o">|=</span> <span class="mh">0x200</span><span class="p">;</span>

	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_RADIO_CONTROL</span><span class="p">,</span> <span class="n">reg</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">b43_read16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_RADIO_DATA_LOW</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_radio_write</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u16</span> <span class="n">reg</span><span class="p">,</span> <span class="n">u16</span> <span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/* Register 1 is a 32-bit register. */</span>
	<span class="n">B43_WARN_ON</span><span class="p">(</span><span class="n">reg</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>

	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_RADIO_CONTROL</span><span class="p">,</span> <span class="n">reg</span><span class="p">);</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_RADIO_DATA_LOW</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">b206x_channel</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">channel</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">freq</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">b206x_channel</span> <span class="n">b2062_chantbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2412</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2417</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2422</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2427</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2432</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2437</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2442</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2447</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2452</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2457</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2462</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2467</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2472</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2484</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x32</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">34</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5170</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x84</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">38</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5190</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5210</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">46</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5230</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">36</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5180</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5200</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x84</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">44</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5220</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">48</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5240</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">52</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5260</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">56</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5280</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5300</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x63</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5320</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x62</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5500</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x30</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">104</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5520</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">108</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5540</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">112</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5560</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">116</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5580</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">120</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5600</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">124</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5620</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">128</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5640</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">132</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5660</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">136</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5680</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">140</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5700</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">149</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5745</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">153</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5765</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">157</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5785</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">161</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5805</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">165</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5825</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x37</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">184</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4920</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x55</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x90</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xF7</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">188</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4940</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x44</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xE7</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">192</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4960</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x44</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x66</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xE7</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">196</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4980</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x33</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x66</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xC7</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x55</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xD7</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">204</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5020</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x55</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xC7</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">208</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5040</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x44</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xC7</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">212</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5060</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x44</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xA5</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">216</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5080</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x44</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB6</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x35</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x88</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">b206x_channel</span> <span class="n">b2063_chantbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2412</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2417</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2422</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x3C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2427</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2432</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2437</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2442</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2447</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2452</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2457</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2462</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2467</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2472</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x1C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">2484</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">34</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5170</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6A</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">36</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5180</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6A</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">38</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5190</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6A</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5200</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x69</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5210</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x69</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x70</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">44</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5220</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x69</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">46</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5230</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x69</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">48</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5240</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x69</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">52</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5260</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x68</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">56</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5280</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x68</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5300</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x68</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">64</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5320</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x67</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5500</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x64</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">104</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5520</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x64</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">108</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5540</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x63</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">112</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5560</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x63</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">116</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5580</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x62</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">120</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5600</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x62</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">124</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5620</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x62</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">128</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5640</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x61</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">132</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5660</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x61</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">136</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5680</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x61</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">140</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5700</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">149</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5745</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">153</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5765</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">157</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5785</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">161</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5805</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">165</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5825</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">184</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4920</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xC0</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">188</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4940</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB0</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">192</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4960</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6E</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xB0</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">196</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">4980</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6D</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xA0</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6D</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xA0</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">204</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5020</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6D</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0xA0</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">208</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5040</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x90</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">212</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5060</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x90</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="mi">216</span><span class="p">,</span> <span class="p">.</span><span class="n">freq</span> <span class="o">=</span> <span class="mi">5080</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x6C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x90</span><span class="p">,</span>
	  <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="p">.</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_b2062_reset_pll_bias</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL2</span><span class="p">,</span> <span class="mh">0xFF</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">==</span> <span class="mh">0x5354</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_COMM1</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL2</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_b2062_vco_calib</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL21</span><span class="p">,</span> <span class="mh">0x42</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL21</span><span class="p">,</span> <span class="mh">0x62</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">lpphy_b2062_tune</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">channel</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ssb_bus</span> <span class="o">*</span><span class="n">bus</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">sdev</span><span class="o">-&gt;</span><span class="n">bus</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">b206x_channel</span> <span class="o">*</span><span class="n">chandata</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">crystal_freq</span> <span class="o">=</span> <span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">.</span><span class="n">pmu</span><span class="p">.</span><span class="n">crystalfreq</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tmp1</span><span class="p">,</span> <span class="n">tmp2</span><span class="p">,</span> <span class="n">tmp3</span><span class="p">,</span> <span class="n">tmp4</span><span class="p">,</span> <span class="n">tmp5</span><span class="p">,</span> <span class="n">tmp6</span><span class="p">,</span> <span class="n">tmp7</span><span class="p">,</span> <span class="n">tmp8</span><span class="p">,</span> <span class="n">tmp9</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">b2062_chantbl</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b2062_chantbl</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">channel</span> <span class="o">==</span> <span class="n">channel</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">chandata</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">b2062_chantbl</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">B43_WARN_ON</span><span class="p">(</span><span class="o">!</span><span class="n">chandata</span><span class="p">))</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>

	<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL14</span><span class="p">,</span> <span class="mh">0x04</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_LGENA_TUNE0</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_LGENA_TUNE2</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_LGENA_TUNE3</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_TUNE</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_LGENG_CTL1</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_LGENA_CTL5</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_LGENA_CTL6</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_PGA</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_N_TX_PAD</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]);</span>

	<span class="n">tmp1</span> <span class="o">=</span> <span class="n">crystal_freq</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">;</span>
	<span class="n">tmp2</span> <span class="o">=</span> <span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">pdiv</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL33</span><span class="p">,</span> <span class="mh">0xCC</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL34</span><span class="p">,</span> <span class="mh">0x07</span><span class="p">);</span>
	<span class="n">lpphy_b2062_reset_pll_bias</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">tmp3</span> <span class="o">=</span> <span class="n">tmp2</span> <span class="o">*</span> <span class="n">channel2freq_lp</span><span class="p">(</span><span class="n">channel</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">channel2freq_lp</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">4000</span><span class="p">)</span>
		<span class="n">tmp3</span> <span class="o">*=</span> <span class="mi">2</span><span class="p">;</span>
	<span class="n">tmp4</span> <span class="o">=</span> <span class="mi">48</span> <span class="o">*</span> <span class="n">tmp1</span><span class="p">;</span>
	<span class="n">tmp6</span> <span class="o">=</span> <span class="n">tmp3</span> <span class="o">/</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">tmp7</span> <span class="o">=</span> <span class="n">tmp3</span> <span class="o">%</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL26</span><span class="p">,</span> <span class="n">tmp6</span><span class="p">);</span>
	<span class="n">tmp5</span> <span class="o">=</span> <span class="n">tmp7</span> <span class="o">*</span> <span class="mh">0x100</span><span class="p">;</span>
	<span class="n">tmp6</span> <span class="o">=</span> <span class="n">tmp5</span> <span class="o">/</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">tmp7</span> <span class="o">=</span> <span class="n">tmp5</span> <span class="o">%</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL27</span><span class="p">,</span> <span class="n">tmp6</span><span class="p">);</span>
	<span class="n">tmp5</span> <span class="o">=</span> <span class="n">tmp7</span> <span class="o">*</span> <span class="mh">0x100</span><span class="p">;</span>
	<span class="n">tmp6</span> <span class="o">=</span> <span class="n">tmp5</span> <span class="o">/</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">tmp7</span> <span class="o">=</span> <span class="n">tmp5</span> <span class="o">%</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL28</span><span class="p">,</span> <span class="n">tmp6</span><span class="p">);</span>
	<span class="n">tmp5</span> <span class="o">=</span> <span class="n">tmp7</span> <span class="o">*</span> <span class="mh">0x100</span><span class="p">;</span>
	<span class="n">tmp6</span> <span class="o">=</span> <span class="n">tmp5</span> <span class="o">/</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">tmp7</span> <span class="o">=</span> <span class="n">tmp5</span> <span class="o">%</span> <span class="n">tmp4</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL29</span><span class="p">,</span> <span class="n">tmp6</span> <span class="o">+</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">tmp7</span><span class="p">)</span> <span class="o">/</span> <span class="n">tmp4</span><span class="p">));</span>
	<span class="n">tmp8</span> <span class="o">=</span> <span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL19</span><span class="p">);</span>
	<span class="n">tmp9</span> <span class="o">=</span> <span class="p">((</span><span class="mi">2</span> <span class="o">*</span> <span class="n">tmp3</span> <span class="o">*</span> <span class="p">(</span><span class="n">tmp8</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="n">tmp1</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="n">tmp1</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL23</span><span class="p">,</span> <span class="p">(</span><span class="n">tmp9</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">+</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL24</span><span class="p">,</span> <span class="n">tmp9</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>

	<span class="n">lpphy_b2062_vco_calib</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x10</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL33</span><span class="p">,</span> <span class="mh">0xFC</span><span class="p">);</span>
		<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL34</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
		<span class="n">lpphy_b2062_reset_pll_bias</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
		<span class="n">lpphy_b2062_vco_calib</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL3</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x10</span><span class="p">)</span>
			<span class="n">err</span> <span class="o">=</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2062_S_RFPLL_CTL14</span><span class="p">,</span> <span class="o">~</span><span class="mh">0x04</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">err</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpphy_b2063_vco_calib</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u16</span> <span class="n">tmp</span><span class="p">;</span>

	<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_SP1</span><span class="p">,</span> <span class="o">~</span><span class="mh">0x40</span><span class="p">);</span>
	<span class="n">tmp</span> <span class="o">=</span> <span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_CALNRST</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xF8</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_CALNRST</span><span class="p">,</span> <span class="n">tmp</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_CALNRST</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">|</span> <span class="mh">0x4</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_CALNRST</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">|</span> <span class="mh">0x6</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_CALNRST</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">|</span> <span class="mh">0x7</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">300</span><span class="p">);</span>
	<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_SP1</span><span class="p">,</span> <span class="mh">0x40</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">lpphy_b2063_tune</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">channel</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">ssb_bus</span> <span class="o">*</span><span class="n">bus</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">sdev</span><span class="o">-&gt;</span><span class="n">bus</span><span class="p">;</span>

	<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">b206x_channel</span> <span class="o">*</span><span class="n">chandata</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">crystal_freq</span> <span class="o">=</span> <span class="n">bus</span><span class="o">-&gt;</span><span class="n">chipco</span><span class="p">.</span><span class="n">pmu</span><span class="p">.</span><span class="n">crystalfreq</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">freqref</span><span class="p">,</span> <span class="n">vco_freq</span><span class="p">,</span> <span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">,</span> <span class="n">val3</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">timeoutref</span><span class="p">,</span> <span class="n">count</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">old_comm15</span><span class="p">,</span> <span class="n">scale</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tmp1</span><span class="p">,</span> <span class="n">tmp2</span><span class="p">,</span> <span class="n">tmp3</span><span class="p">,</span> <span class="n">tmp4</span><span class="p">,</span> <span class="n">tmp5</span><span class="p">,</span> <span class="n">tmp6</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">div</span> <span class="o">=</span> <span class="p">(</span><span class="n">crystal_freq</span> <span class="o">&lt;=</span> <span class="mi">26000000</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">2</span><span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">b2063_chantbl</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">b2063_chantbl</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">channel</span> <span class="o">==</span> <span class="n">channel</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">chandata</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">b2063_chantbl</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">B43_WARN_ON</span><span class="p">(</span><span class="o">!</span><span class="n">chandata</span><span class="p">))</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_LOGEN_VCOBUF1</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_LOGEN_MIXER2</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_LOGEN_BUF2</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_LOGEN_RCCR1</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_A_RX_1ST3</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">4</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_A_RX_2ND1</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_A_RX_2ND4</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">6</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_A_RX_2ND7</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">7</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_A_RX_PS6</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_RF_CTL2</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">9</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_TX_RF_CTL5</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">10</span><span class="p">]);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PA_CTL11</span><span class="p">,</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">data</span><span class="p">[</span><span class="mi">11</span><span class="p">]);</span>

	<span class="n">old_comm15</span> <span class="o">=</span> <span class="n">b43_radio_read</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_COMM15</span><span class="p">);</span>
	<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_COMM15</span><span class="p">,</span> <span class="mh">0x1E</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">chandata</span><span class="o">-&gt;</span><span class="n">freq</span> <span class="o">&gt;</span> <span class="mi">4000</span><span class="p">)</span> <span class="cm">/* spec says 2484, but 4000 is safer */</span>
		<span class="n">vco_freq</span> <span class="o">=</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">freq</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="n">vco_freq</span> <span class="o">=</span> <span class="n">chandata</span><span class="o">-&gt;</span><span class="n">freq</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">;</span>

	<span class="n">freqref</span> <span class="o">=</span> <span class="n">crystal_freq</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
	<span class="n">val1</span> <span class="o">=</span> <span class="n">lpphy_qdiv_roundup</span><span class="p">(</span><span class="n">crystal_freq</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">val2</span> <span class="o">=</span> <span class="n">lpphy_qdiv_roundup</span><span class="p">(</span><span class="n">crystal_freq</span><span class="p">,</span> <span class="mi">1000000</span> <span class="o">*</span> <span class="n">div</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">val3</span> <span class="o">=</span> <span class="n">lpphy_qdiv_roundup</span><span class="p">(</span><span class="n">vco_freq</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">timeout</span> <span class="o">=</span> <span class="p">((((</span><span class="mi">8</span> <span class="o">*</span> <span class="n">crystal_freq</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">div</span> <span class="o">*</span> <span class="mi">5000000</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO_CALIB3</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">);</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO_CALIB6</span><span class="p">,</span>
			  <span class="mh">0xFFF8</span><span class="p">,</span> <span class="n">timeout</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="p">);</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO_CALIB7</span><span class="p">,</span>
			  <span class="mh">0xFF9F</span><span class="p">,</span><span class="n">timeout</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">);</span>

	<span class="n">timeoutref</span> <span class="o">=</span> <span class="p">((((</span><span class="mi">8</span> <span class="o">*</span> <span class="n">crystal_freq</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">div</span> <span class="o">*</span> <span class="p">(</span><span class="n">timeout</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span> <span class="o">+</span>
						<span class="mi">999999</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO_CALIB5</span><span class="p">,</span> <span class="n">timeoutref</span><span class="p">);</span>

	<span class="n">count</span> <span class="o">=</span> <span class="n">lpphy_qdiv_roundup</span><span class="p">(</span><span class="n">val3</span><span class="p">,</span> <span class="n">val2</span> <span class="o">+</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">count</span> <span class="o">*=</span> <span class="p">(</span><span class="n">timeout</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">timeoutref</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
	<span class="n">count</span><span class="o">--</span><span class="p">;</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO_CALIB7</span><span class="p">,</span>
						<span class="mh">0xF0</span><span class="p">,</span> <span class="n">count</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO_CALIB8</span><span class="p">,</span> <span class="n">count</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>

	<span class="n">tmp1</span> <span class="o">=</span> <span class="p">((</span><span class="n">val3</span> <span class="o">*</span> <span class="mi">62500</span><span class="p">)</span> <span class="o">/</span> <span class="n">freqref</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">;</span>
	<span class="n">tmp2</span> <span class="o">=</span> <span class="p">((</span><span class="n">val3</span> <span class="o">*</span> <span class="mi">62500</span><span class="p">)</span> <span class="o">%</span> <span class="n">freqref</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">;</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">tmp2</span> <span class="o">&gt;=</span> <span class="n">freqref</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">tmp1</span><span class="o">++</span><span class="p">;</span>
		<span class="n">tmp2</span> <span class="o">-=</span> <span class="n">freqref</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_SG1</span><span class="p">,</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="n">tmp1</span> <span class="o">&gt;&gt;</span> <span class="mi">4</span><span class="p">);</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_SG2</span><span class="p">,</span> <span class="mh">0xFE0F</span><span class="p">,</span> <span class="n">tmp1</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span><span class="p">);</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_SG2</span><span class="p">,</span> <span class="mh">0xFFF0</span><span class="p">,</span> <span class="n">tmp1</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_SG3</span><span class="p">,</span> <span class="p">(</span><span class="n">tmp2</span> <span class="o">&gt;&gt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_SG4</span><span class="p">,</span> <span class="n">tmp2</span> <span class="o">&amp;</span> <span class="mh">0xFF</span><span class="p">);</span>

	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_LF1</span><span class="p">,</span> <span class="mh">0xB9</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_LF2</span><span class="p">,</span> <span class="mh">0x88</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_LF3</span><span class="p">,</span> <span class="mh">0x28</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_LF4</span><span class="p">,</span> <span class="mh">0x63</span><span class="p">);</span>

	<span class="n">tmp3</span> <span class="o">=</span> <span class="p">((</span><span class="mi">41</span> <span class="o">*</span> <span class="p">(</span><span class="n">val3</span> <span class="o">-</span> <span class="mi">3000</span><span class="p">))</span> <span class="o">/</span><span class="mi">1200</span><span class="p">)</span> <span class="o">+</span> <span class="mi">27</span><span class="p">;</span>
	<span class="n">tmp4</span> <span class="o">=</span> <span class="n">lpphy_qdiv_roundup</span><span class="p">(</span><span class="mi">132000</span> <span class="o">*</span> <span class="n">tmp1</span><span class="p">,</span> <span class="mi">8451</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">((</span><span class="n">tmp4</span> <span class="o">+</span> <span class="n">tmp3</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">tmp3</span> <span class="o">&gt;</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
		<span class="n">tmp5</span> <span class="o">=</span> <span class="p">((</span><span class="n">tmp4</span> <span class="o">+</span> <span class="n">tmp3</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">tmp3</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">))</span> <span class="o">-</span> <span class="mi">8</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">scale</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="n">tmp5</span> <span class="o">=</span> <span class="p">((</span><span class="n">tmp4</span> <span class="o">+</span> <span class="p">(</span><span class="n">tmp3</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">))</span> <span class="o">/</span> <span class="n">tmp3</span><span class="p">)</span> <span class="o">-</span> <span class="mi">8</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_CP2</span><span class="p">,</span> <span class="mh">0xFFC0</span><span class="p">,</span> <span class="n">tmp5</span><span class="p">);</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_CP2</span><span class="p">,</span> <span class="mh">0xFFBF</span><span class="p">,</span> <span class="n">scale</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span><span class="p">);</span>

	<span class="n">tmp6</span> <span class="o">=</span> <span class="n">lpphy_qdiv_roundup</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">val1</span><span class="p">,</span> <span class="n">val3</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
	<span class="n">tmp6</span> <span class="o">*=</span> <span class="p">(</span><span class="n">tmp5</span> <span class="o">*</span> <span class="mi">8</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">scale</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">tmp6</span> <span class="o">&gt;</span> <span class="mi">150</span><span class="p">)</span>
		<span class="n">tmp6</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_CP3</span><span class="p">,</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="n">tmp6</span><span class="p">);</span>
	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_CP3</span><span class="p">,</span> <span class="mh">0xFFDF</span><span class="p">,</span> <span class="n">scale</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span><span class="p">);</span>

	<span class="n">b43_radio_maskset</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_XTAL_12</span><span class="p">,</span> <span class="mh">0xFFFB</span><span class="p">,</span> <span class="mh">0x4</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">crystal_freq</span> <span class="o">&gt;</span> <span class="mi">26000000</span><span class="p">)</span>
		<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_XTAL_12</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_XTAL_12</span><span class="p">,</span> <span class="mh">0xFD</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">val1</span> <span class="o">==</span> <span class="mi">45</span><span class="p">)</span>
		<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO1</span><span class="p">,</span> <span class="mh">0x2</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_JTAG_PLL_VCO1</span><span class="p">,</span> <span class="mh">0xFD</span><span class="p">);</span>

	<span class="n">b43_radio_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_SP2</span><span class="p">,</span> <span class="mh">0x3</span><span class="p">);</span>
	<span class="n">udelay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="n">b43_radio_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_PLL_SP2</span><span class="p">,</span> <span class="mh">0xFFFC</span><span class="p">);</span>
	<span class="n">lpphy_b2063_vco_calib</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">b43_radio_write</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B2063_COMM15</span><span class="p">,</span> <span class="n">old_comm15</span><span class="p">);</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">b43_lpphy_op_switch_channel</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
				       <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">new_channel</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">b43_phy_lp</span> <span class="o">*</span><span class="n">lpphy</span> <span class="o">=</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">lp</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">err</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">phy</span><span class="p">.</span><span class="n">radio_ver</span> <span class="o">==</span> <span class="mh">0x2063</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">err</span> <span class="o">=</span> <span class="n">lpphy_b2063_tune</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">new_channel</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">err</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">err</span> <span class="o">=</span> <span class="n">lpphy_b2062_tune</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">new_channel</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">err</span><span class="p">;</span>
		<span class="n">lpphy_set_analog_filter</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">new_channel</span><span class="p">);</span>
		<span class="n">lpphy_adjust_gain_table</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">channel2freq_lp</span><span class="p">(</span><span class="n">new_channel</span><span class="p">));</span>
	<span class="p">}</span>

	<span class="n">lpphy</span><span class="o">-&gt;</span><span class="n">channel</span> <span class="o">=</span> <span class="n">new_channel</span><span class="p">;</span>
	<span class="n">b43_write16</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_MMIO_CHANNEL</span><span class="p">,</span> <span class="n">new_channel</span><span class="p">);</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">b43_lpphy_op_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">err</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">bus_type</span> <span class="o">!=</span> <span class="n">B43_BUS_SSB</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43err</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">,</span> <span class="s">&quot;LP-PHY is supported only on SSB!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EOPNOTSUPP</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">lpphy_read_band_sprom</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span> <span class="c1">//FIXME should this be in prepare_structs?</span>
	<span class="n">lpphy_baseband_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">lpphy_radio_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">lpphy_calibrate_rc</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">err</span> <span class="o">=</span> <span class="n">b43_lpphy_op_switch_channel</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">b43dbg</span><span class="p">(</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">wl</span><span class="p">,</span> <span class="s">&quot;Switch to channel 7 failed, error = %d.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		       <span class="n">err</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">lpphy_tx_pctl_init</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">lpphy_calibration</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>TODO ACI init</p></td><td class="code"><div class="highlight"><pre>	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_adjust_txpower</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>TODO</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span>

<span class="k">static</span> <span class="k">enum</span> <span class="n">b43_txpwr_result</span> <span class="nf">b43_lpphy_op_recalc_txpower</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
							 <span class="n">bool</span> <span class="n">ignore_tssi</span><span class="p">)</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>TODO</p></td><td class="code"><div class="highlight"><pre>	<span class="k">return</span> <span class="n">B43_TXPWR_RES_DONE</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_switch_analog</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">on</span><span class="p">)</span>
<span class="p">{</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">on</span><span class="p">)</span> <span class="p">{</span>
               <span class="n">b43_phy_mask</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mh">0xfff8</span><span class="p">);</span>
       <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVRVAL</span><span class="p">,</span> <span class="mh">0x0007</span><span class="p">);</span>
               <span class="n">b43_phy_set</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">B43_LPPHY_AFE_CTL_OVR</span><span class="p">,</span> <span class="mh">0x0007</span><span class="p">);</span>
       <span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">b43_lpphy_op_pwork_15sec</span><span class="p">(</span><span class="k">struct</span> <span class="n">b43_wldev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>TODO</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span>

<span class="k">const</span> <span class="k">struct</span> <span class="n">b43_phy_operations</span> <span class="n">b43_phyops_lp</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">allocate</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_allocate</span><span class="p">,</span>
	<span class="p">.</span><span class="n">free</span>			<span class="o">=</span> <span class="n">b43_lpphy_op_free</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prepare_structs</span>	<span class="o">=</span> <span class="n">b43_lpphy_op_prepare_structs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init</span>			<span class="o">=</span> <span class="n">b43_lpphy_op_init</span><span class="p">,</span>
	<span class="p">.</span><span class="n">phy_read</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_read</span><span class="p">,</span>
	<span class="p">.</span><span class="n">phy_write</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_write</span><span class="p">,</span>
	<span class="p">.</span><span class="n">phy_maskset</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_maskset</span><span class="p">,</span>
	<span class="p">.</span><span class="n">radio_read</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_radio_read</span><span class="p">,</span>
	<span class="p">.</span><span class="n">radio_write</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_radio_write</span><span class="p">,</span>
	<span class="p">.</span><span class="n">software_rfkill</span>	<span class="o">=</span> <span class="n">b43_lpphy_op_software_rfkill</span><span class="p">,</span>
	<span class="p">.</span><span class="n">switch_analog</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_switch_analog</span><span class="p">,</span>
	<span class="p">.</span><span class="n">switch_channel</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_switch_channel</span><span class="p">,</span>
	<span class="p">.</span><span class="n">get_default_chan</span>	<span class="o">=</span> <span class="n">b43_lpphy_op_get_default_chan</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_rx_antenna</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_set_rx_antenna</span><span class="p">,</span>
	<span class="p">.</span><span class="n">recalc_txpower</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_recalc_txpower</span><span class="p">,</span>
	<span class="p">.</span><span class="n">adjust_txpower</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_adjust_txpower</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pwork_15sec</span>		<span class="o">=</span> <span class="n">b43_lpphy_op_pwork_15sec</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pwork_60sec</span>		<span class="o">=</span> <span class="n">lpphy_calibration</span><span class="p">,</span>
<span class="p">};</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
