<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wireless › hostap › hostap_common.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>hostap_common.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef HOSTAP_COMMON_H</span>
<span class="cp">#define HOSTAP_COMMON_H</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/if_ether.h&gt;</span>

<span class="cm">/* IEEE 802.11 defines */</span>

<span class="cm">/* HFA384X Configuration RIDs */</span>
<span class="cp">#define HFA384X_RID_CNFPORTTYPE 0xFC00</span>
<span class="cp">#define HFA384X_RID_CNFOWNMACADDR 0xFC01</span>
<span class="cp">#define HFA384X_RID_CNFDESIREDSSID 0xFC02</span>
<span class="cp">#define HFA384X_RID_CNFOWNCHANNEL 0xFC03</span>
<span class="cp">#define HFA384X_RID_CNFOWNSSID 0xFC04</span>
<span class="cp">#define HFA384X_RID_CNFOWNATIMWINDOW 0xFC05</span>
<span class="cp">#define HFA384X_RID_CNFSYSTEMSCALE 0xFC06</span>
<span class="cp">#define HFA384X_RID_CNFMAXDATALEN 0xFC07</span>
<span class="cp">#define HFA384X_RID_CNFWDSADDRESS 0xFC08</span>
<span class="cp">#define HFA384X_RID_CNFPMENABLED 0xFC09</span>
<span class="cp">#define HFA384X_RID_CNFPMEPS 0xFC0A</span>
<span class="cp">#define HFA384X_RID_CNFMULTICASTRECEIVE 0xFC0B</span>
<span class="cp">#define HFA384X_RID_CNFMAXSLEEPDURATION 0xFC0C</span>
<span class="cp">#define HFA384X_RID_CNFPMHOLDOVERDURATION 0xFC0D</span>
<span class="cp">#define HFA384X_RID_CNFOWNNAME 0xFC0E</span>
<span class="cp">#define HFA384X_RID_CNFOWNDTIMPERIOD 0xFC10</span>
<span class="cp">#define HFA384X_RID_CNFWDSADDRESS1 0xFC11 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFWDSADDRESS2 0xFC12 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFWDSADDRESS3 0xFC13 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFWDSADDRESS4 0xFC14 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFWDSADDRESS5 0xFC15 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFWDSADDRESS6 0xFC16 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFMULTICASTPMBUFFERING 0xFC17 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_UNKNOWN1 0xFC20</span>
<span class="cp">#define HFA384X_RID_UNKNOWN2 0xFC21</span>
<span class="cp">#define HFA384X_RID_CNFWEPDEFAULTKEYID 0xFC23</span>
<span class="cp">#define HFA384X_RID_CNFDEFAULTKEY0 0xFC24</span>
<span class="cp">#define HFA384X_RID_CNFDEFAULTKEY1 0xFC25</span>
<span class="cp">#define HFA384X_RID_CNFDEFAULTKEY2 0xFC26</span>
<span class="cp">#define HFA384X_RID_CNFDEFAULTKEY3 0xFC27</span>
<span class="cp">#define HFA384X_RID_CNFWEPFLAGS 0xFC28</span>
<span class="cp">#define HFA384X_RID_CNFWEPKEYMAPPINGTABLE 0xFC29</span>
<span class="cp">#define HFA384X_RID_CNFAUTHENTICATION 0xFC2A</span>
<span class="cp">#define HFA384X_RID_CNFMAXASSOCSTA 0xFC2B </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFTXCONTROL 0xFC2C</span>
<span class="cp">#define HFA384X_RID_CNFROAMINGMODE 0xFC2D</span>
<span class="cp">#define HFA384X_RID_CNFHOSTAUTHENTICATION 0xFC2E </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFRCVCRCERROR 0xFC30</span>
<span class="cp">#define HFA384X_RID_CNFMMLIFE 0xFC31</span>
<span class="cp">#define HFA384X_RID_CNFALTRETRYCOUNT 0xFC32</span>
<span class="cp">#define HFA384X_RID_CNFBEACONINT 0xFC33</span>
<span class="cp">#define HFA384X_RID_CNFAPPCFINFO 0xFC34 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFSTAPCFINFO 0xFC35</span>
<span class="cp">#define HFA384X_RID_CNFPRIORITYQUSAGE 0xFC37</span>
<span class="cp">#define HFA384X_RID_CNFTIMCTRL 0xFC40</span>
<span class="cp">#define HFA384X_RID_UNKNOWN3 0xFC41 </span><span class="cm">/* added in STA f/w 0.7.x */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFTHIRTY2TALLY 0xFC42 </span><span class="cm">/* added in STA f/w 0.8.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFENHSECURITY 0xFC43 </span><span class="cm">/* AP f/w or STA f/w &gt;= 1.6.3 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFDBMADJUST 0xFC46 </span><span class="cm">/* added in STA f/w 1.3.1 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_GENERICELEMENT 0xFC48 </span><span class="cm">/* added in STA f/w 1.7.0;</span>
<span class="cm">					   * write only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_PROPAGATIONDELAY 0xFC49 </span><span class="cm">/* added in STA f/w 1.7.6 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_GROUPADDRESSES 0xFC80</span>
<span class="cp">#define HFA384X_RID_CREATEIBSS 0xFC81</span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD 0xFC82</span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD 0xFC83</span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL 0xFC84</span>
<span class="cp">#define HFA384X_RID_PROMISCUOUSMODE 0xFC85</span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD0 0xFC90 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD1 0xFC91 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD2 0xFC92 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD3 0xFC93 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD4 0xFC94 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD5 0xFC95 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_FRAGMENTATIONTHRESHOLD6 0xFC96 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD0 0xFC97 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD1 0xFC98 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD2 0xFC99 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD3 0xFC9A </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD4 0xFC9B </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD5 0xFC9C </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_RTSTHRESHOLD6 0xFC9D </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL0 0xFC9E </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL1 0xFC9F </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL2 0xFCA0 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL3 0xFCA1 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL4 0xFCA2 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL5 0xFCA3 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXRATECONTROL6 0xFCA4 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFSHORTPREAMBLE 0xFCB0</span>
<span class="cp">#define HFA384X_RID_CNFEXCLUDELONGPREAMBLE 0xFCB1</span>
<span class="cp">#define HFA384X_RID_CNFAUTHENTICATIONRSPTO 0xFCB2</span>
<span class="cp">#define HFA384X_RID_CNFBASICRATES 0xFCB3</span>
<span class="cp">#define HFA384X_RID_CNFSUPPORTEDRATES 0xFCB4</span>
<span class="cp">#define HFA384X_RID_CNFFALLBACKCTRL 0xFCB5 </span><span class="cm">/* added in STA f/w 1.3.1 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_WEPKEYDISABLE 0xFCB6 </span><span class="cm">/* added in STA f/w 1.3.1 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_WEPKEYMAPINDEX 0xFCB7 </span><span class="cm">/* ? */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_BROADCASTKEYID 0xFCB8 </span><span class="cm">/* ? */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_ENTSECFLAGEYID 0xFCB9 </span><span class="cm">/* ? */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFPASSIVESCANCTRL 0xFCBA </span><span class="cm">/* added in STA f/w 1.5.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_SSNHANDLINGMODE 0xFCBB </span><span class="cm">/* added in STA f/w 1.7.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_MDCCONTROL 0xFCBC </span><span class="cm">/* added in STA f/w 1.7.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_MDCCOUNTRY 0xFCBD </span><span class="cm">/* added in STA f/w 1.7.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TXPOWERMAX 0xFCBE </span><span class="cm">/* added in STA f/w 1.7.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFLFOENABLED 0xFCBF </span><span class="cm">/* added in STA f/w 1.6.3 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CAPINFO 0xFCC0 </span><span class="cm">/* added in STA f/w 1.7.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_LISTENINTERVAL 0xFCC1 </span><span class="cm">/* added in STA f/w 1.7.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_SW_ANT_DIV 0xFCC2 </span><span class="cm">/* added in STA f/w 1.7.0; Prism3 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_LED_CTRL 0xFCC4 </span><span class="cm">/* added in STA f/w 1.7.6 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_HFODELAY 0xFCC5 </span><span class="cm">/* added in STA f/w 1.7.6 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_DISALLOWEDBSSID 0xFCC6 </span><span class="cm">/* added in STA f/w 1.8.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_TICKTIME 0xFCE0</span>
<span class="cp">#define HFA384X_RID_SCANREQUEST 0xFCE1</span>
<span class="cp">#define HFA384X_RID_JOINREQUEST 0xFCE2</span>
<span class="cp">#define HFA384X_RID_AUTHENTICATESTATION 0xFCE3 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CHANNELINFOREQUEST 0xFCE4 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_HOSTSCAN 0xFCE5 </span><span class="cm">/* added in STA f/w 1.3.1 */</span><span class="cp"></span>

<span class="cm">/* HFA384X Information RIDs */</span>
<span class="cp">#define HFA384X_RID_MAXLOADTIME 0xFD00</span>
<span class="cp">#define HFA384X_RID_DOWNLOADBUFFER 0xFD01</span>
<span class="cp">#define HFA384X_RID_PRIID 0xFD02</span>
<span class="cp">#define HFA384X_RID_PRISUPRANGE 0xFD03</span>
<span class="cp">#define HFA384X_RID_CFIACTRANGES 0xFD04</span>
<span class="cp">#define HFA384X_RID_NICSERNUM 0xFD0A</span>
<span class="cp">#define HFA384X_RID_NICID 0xFD0B</span>
<span class="cp">#define HFA384X_RID_MFISUPRANGE 0xFD0C</span>
<span class="cp">#define HFA384X_RID_CFISUPRANGE 0xFD0D</span>
<span class="cp">#define HFA384X_RID_CHANNELLIST 0xFD10</span>
<span class="cp">#define HFA384X_RID_REGULATORYDOMAINS 0xFD11</span>
<span class="cp">#define HFA384X_RID_TEMPTYPE 0xFD12</span>
<span class="cp">#define HFA384X_RID_CIS 0xFD13</span>
<span class="cp">#define HFA384X_RID_STAID 0xFD20</span>
<span class="cp">#define HFA384X_RID_STASUPRANGE 0xFD21</span>
<span class="cp">#define HFA384X_RID_MFIACTRANGES 0xFD22</span>
<span class="cp">#define HFA384X_RID_CFIACTRANGES2 0xFD23</span>
<span class="cp">#define HFA384X_RID_PRODUCTNAME 0xFD24 </span><span class="cm">/* added in STA f/w 1.3.1;</span>
<span class="cm">					* only Prism2.5(?) */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_PORTSTATUS 0xFD40</span>
<span class="cp">#define HFA384X_RID_CURRENTSSID 0xFD41</span>
<span class="cp">#define HFA384X_RID_CURRENTBSSID 0xFD42</span>
<span class="cp">#define HFA384X_RID_COMMSQUALITY 0xFD43</span>
<span class="cp">#define HFA384X_RID_CURRENTTXRATE 0xFD44</span>
<span class="cp">#define HFA384X_RID_CURRENTBEACONINTERVAL 0xFD45</span>
<span class="cp">#define HFA384X_RID_CURRENTSCALETHRESHOLDS 0xFD46</span>
<span class="cp">#define HFA384X_RID_PROTOCOLRSPTIME 0xFD47</span>
<span class="cp">#define HFA384X_RID_SHORTRETRYLIMIT 0xFD48</span>
<span class="cp">#define HFA384X_RID_LONGRETRYLIMIT 0xFD49</span>
<span class="cp">#define HFA384X_RID_MAXTRANSMITLIFETIME 0xFD4A</span>
<span class="cp">#define HFA384X_RID_MAXRECEIVELIFETIME 0xFD4B</span>
<span class="cp">#define HFA384X_RID_CFPOLLABLE 0xFD4C</span>
<span class="cp">#define HFA384X_RID_AUTHENTICATIONALGORITHMS 0xFD4D</span>
<span class="cp">#define HFA384X_RID_PRIVACYOPTIONIMPLEMENTED 0xFD4F</span>
<span class="cp">#define HFA384X_RID_DBMCOMMSQUALITY 0xFD51 </span><span class="cm">/* added in STA f/w 1.3.1 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CURRENTTXRATE1 0xFD80 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CURRENTTXRATE2 0xFD81 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CURRENTTXRATE3 0xFD82 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CURRENTTXRATE4 0xFD83 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CURRENTTXRATE5 0xFD84 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CURRENTTXRATE6 0xFD85 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_OWNMACADDR 0xFD86 </span><span class="cm">/* AP f/w only */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_SCANRESULTSTABLE 0xFD88 </span><span class="cm">/* added in STA f/w 0.8.3 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_HOSTSCANRESULTS 0xFD89 </span><span class="cm">/* added in STA f/w 1.3.1 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_AUTHENTICATIONUSED 0xFD8A </span><span class="cm">/* added in STA f/w 1.3.4 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_CNFFAASWITCHCTRL 0xFD8B </span><span class="cm">/* added in STA f/w 1.6.3 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_ASSOCIATIONFAILURE 0xFD8D </span><span class="cm">/* added in STA f/w 1.8.0 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_PHYTYPE 0xFDC0</span>
<span class="cp">#define HFA384X_RID_CURRENTCHANNEL 0xFDC1</span>
<span class="cp">#define HFA384X_RID_CURRENTPOWERSTATE 0xFDC2</span>
<span class="cp">#define HFA384X_RID_CCAMODE 0xFDC3</span>
<span class="cp">#define HFA384X_RID_SUPPORTEDDATARATES 0xFDC6</span>
<span class="cp">#define HFA384X_RID_LFO_VOLT_REG_TEST_RES 0xFDC7 </span><span class="cm">/* added in STA f/w 1.7.1 */</span><span class="cp"></span>
<span class="cp">#define HFA384X_RID_BUILDSEQ 0xFFFE</span>
<span class="cp">#define HFA384X_RID_FWID 0xFFFF</span>


<span class="k">struct</span> <span class="n">hfa384x_comp_ident</span>
<span class="p">{</span>
	<span class="n">__le16</span> <span class="n">id</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">variant</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">major</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">minor</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cp">#define HFA384X_COMP_ID_PRI 0x15</span>
<span class="cp">#define HFA384X_COMP_ID_STA 0x1f</span>
<span class="cp">#define HFA384X_COMP_ID_FW_AP 0x14b</span>

<span class="k">struct</span> <span class="n">hfa384x_sup_range</span>
<span class="p">{</span>
	<span class="n">__le16</span> <span class="n">role</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">id</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">variant</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">bottom</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">top</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="k">struct</span> <span class="n">hfa384x_build_id</span>
<span class="p">{</span>
	<span class="n">__le16</span> <span class="n">pri_seq</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sec_seq</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* FD01 - Download Buffer */</span>
<span class="k">struct</span> <span class="n">hfa384x_rid_download_buffer</span>
<span class="p">{</span>
	<span class="n">__le16</span> <span class="n">page</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">offset</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">length</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>

<span class="cm">/* BSS connection quality (RID FD43 range, RID FD51 dBm-normalized) */</span>
<span class="k">struct</span> <span class="n">hfa384x_comms_quality</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">comm_qual</span><span class="p">;</span> <span class="cm">/* 0 .. 92 */</span>
	<span class="n">__le16</span> <span class="n">signal_level</span><span class="p">;</span> <span class="cm">/* 27 .. 154 */</span>
	<span class="n">__le16</span> <span class="n">noise_level</span><span class="p">;</span> <span class="cm">/* 27 .. 154 */</span>
<span class="p">}</span> <span class="n">__packed</span><span class="p">;</span>


<span class="cm">/* netdevice private ioctls (used, e.g., with iwpriv from user space) */</span>

<span class="cm">/* New wireless extensions API - SET/GET convention (even ioctl numbers are</span>
<span class="cm"> * root only)</span>
<span class="cm"> */</span>
<span class="cp">#define PRISM2_IOCTL_PRISM2_PARAM (SIOCIWFIRSTPRIV + 0)</span>
<span class="cp">#define PRISM2_IOCTL_GET_PRISM2_PARAM (SIOCIWFIRSTPRIV + 1)</span>
<span class="cp">#define PRISM2_IOCTL_WRITEMIF (SIOCIWFIRSTPRIV + 2)</span>
<span class="cp">#define PRISM2_IOCTL_READMIF (SIOCIWFIRSTPRIV + 3)</span>
<span class="cp">#define PRISM2_IOCTL_MONITOR (SIOCIWFIRSTPRIV + 4)</span>
<span class="cp">#define PRISM2_IOCTL_RESET (SIOCIWFIRSTPRIV + 6)</span>
<span class="cp">#define PRISM2_IOCTL_INQUIRE (SIOCIWFIRSTPRIV + 8)</span>
<span class="cp">#define PRISM2_IOCTL_WDS_ADD (SIOCIWFIRSTPRIV + 10)</span>
<span class="cp">#define PRISM2_IOCTL_WDS_DEL (SIOCIWFIRSTPRIV + 12)</span>
<span class="cp">#define PRISM2_IOCTL_SET_RID_WORD (SIOCIWFIRSTPRIV + 14)</span>
<span class="cp">#define PRISM2_IOCTL_MACCMD (SIOCIWFIRSTPRIV + 16)</span>
<span class="cp">#define PRISM2_IOCTL_ADDMAC (SIOCIWFIRSTPRIV + 18)</span>
<span class="cp">#define PRISM2_IOCTL_DELMAC (SIOCIWFIRSTPRIV + 20)</span>
<span class="cp">#define PRISM2_IOCTL_KICKMAC (SIOCIWFIRSTPRIV + 22)</span>

<span class="cm">/* following are not in SIOCGIWPRIV list; check permission in the driver code</span>
<span class="cm"> */</span>
<span class="cp">#define PRISM2_IOCTL_DOWNLOAD (SIOCDEVPRIVATE + 13)</span>
<span class="cp">#define PRISM2_IOCTL_HOSTAPD (SIOCDEVPRIVATE + 14)</span>


<span class="cm">/* PRISM2_IOCTL_PRISM2_PARAM ioctl() subtypes: */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="cm">/* PRISM2_PARAM_PTYPE = 1, */</span> <span class="cm">/* REMOVED 2003-10-22 */</span>
	<span class="n">PRISM2_PARAM_TXRATECTRL</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_BEACON_INT</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_PSEUDO_IBSS</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_ALC</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="cm">/* PRISM2_PARAM_TXPOWER = 6, */</span> <span class="cm">/* REMOVED 2003-10-22 */</span>
	<span class="n">PRISM2_PARAM_DUMP</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_OTHER_AP_POLICY</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_AP_MAX_INACTIVITY</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_AP_BRIDGE_PACKETS</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_DTIM_PERIOD</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_AP_NULLFUNC_ACK</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_MAX_WDS</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_AP_AUTOM_AP_WDS</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_AP_AUTH_ALGS</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_MONITOR_ALLOW_FCSERR</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_HOST_ENCRYPT</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_HOST_DECRYPT</span> <span class="o">=</span> <span class="mi">18</span><span class="p">,</span>
	<span class="cm">/* PRISM2_PARAM_BUS_MASTER_THRESHOLD_RX = 19, REMOVED 2005-08-14 */</span>
	<span class="cm">/* PRISM2_PARAM_BUS_MASTER_THRESHOLD_TX = 20, REMOVED 2005-08-14 */</span>
	<span class="n">PRISM2_PARAM_HOST_ROAMING</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_BCRX_STA_KEY</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_IEEE_802_1X</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_ANTSEL_TX</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_ANTSEL_RX</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_MONITOR_TYPE</span> <span class="o">=</span> <span class="mi">26</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_WDS_TYPE</span> <span class="o">=</span> <span class="mi">27</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_HOSTSCAN</span> <span class="o">=</span> <span class="mi">28</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_AP_SCAN</span> <span class="o">=</span> <span class="mi">29</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_ENH_SEC</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_IO_DEBUG</span> <span class="o">=</span> <span class="mi">31</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_BASIC_RATES</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_OPER_RATES</span> <span class="o">=</span> <span class="mi">33</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_HOSTAPD</span> <span class="o">=</span> <span class="mi">34</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_HOSTAPD_STA</span> <span class="o">=</span> <span class="mi">35</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_WPA</span> <span class="o">=</span> <span class="mi">36</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_PRIVACY_INVOKED</span> <span class="o">=</span> <span class="mi">37</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_TKIP_COUNTERMEASURES</span> <span class="o">=</span> <span class="mi">38</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_DROP_UNENCRYPTED</span> <span class="o">=</span> <span class="mi">39</span><span class="p">,</span>
	<span class="n">PRISM2_PARAM_SCAN_CHANNEL_MASK</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="p">{</span> <span class="n">HOSTAP_ANTSEL_DO_NOT_TOUCH</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">HOSTAP_ANTSEL_DIVERSITY</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
       <span class="n">HOSTAP_ANTSEL_LOW</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">HOSTAP_ANTSEL_HIGH</span> <span class="o">=</span> <span class="mi">3</span> <span class="p">};</span>


<span class="cm">/* PRISM2_IOCTL_MACCMD ioctl() subcommands: */</span>
<span class="k">enum</span> <span class="p">{</span> <span class="n">AP_MAC_CMD_POLICY_OPEN</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">AP_MAC_CMD_POLICY_ALLOW</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
       <span class="n">AP_MAC_CMD_POLICY_DENY</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">AP_MAC_CMD_FLUSH</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
       <span class="n">AP_MAC_CMD_KICKALL</span> <span class="o">=</span> <span class="mi">4</span> <span class="p">};</span>


<span class="cm">/* PRISM2_IOCTL_DOWNLOAD ioctl() dl_cmd: */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">PRISM2_DOWNLOAD_VOLATILE</span> <span class="o">=</span> <span class="mi">1</span> <span class="cm">/* RAM */</span><span class="p">,</span>
	<span class="cm">/* Note! Old versions of prism2_srec have a fatal error in CRC-16</span>
<span class="cm">	 * calculation, which will corrupt all non-volatile downloads.</span>
<span class="cm">	 * PRISM2_DOWNLOAD_NON_VOLATILE used to be 2, but it is now 3 to</span>
<span class="cm">	 * prevent use of old versions of prism2_srec for non-volatile</span>
<span class="cm">	 * download. */</span>
	<span class="n">PRISM2_DOWNLOAD_NON_VOLATILE</span> <span class="o">=</span> <span class="mi">3</span> <span class="cm">/* FLASH */</span><span class="p">,</span>
	<span class="n">PRISM2_DOWNLOAD_VOLATILE_GENESIS</span> <span class="o">=</span> <span class="mi">4</span> <span class="cm">/* RAM in Genesis mode */</span><span class="p">,</span>
	<span class="cm">/* Persistent versions of volatile download commands (keep firmware</span>
<span class="cm">	 * data in memory and automatically re-download after hw_reset */</span>
	<span class="n">PRISM2_DOWNLOAD_VOLATILE_PERSISTENT</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">PRISM2_DOWNLOAD_VOLATILE_GENESIS_PERSISTENT</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">prism2_download_param</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">dl_cmd</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">start_addr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_areas</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">prism2_download_area</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">addr</span><span class="p">;</span> <span class="cm">/* wlan card address */</span>
		<span class="n">u32</span> <span class="n">len</span><span class="p">;</span>
		<span class="kt">void</span> <span class="n">__user</span> <span class="o">*</span><span class="n">ptr</span><span class="p">;</span> <span class="cm">/* pointer to data in user space */</span>
	<span class="p">}</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define PRISM2_MAX_DOWNLOAD_AREA_LEN 131072</span>
<span class="cp">#define PRISM2_MAX_DOWNLOAD_LEN 262144</span>


<span class="cm">/* PRISM2_IOCTL_HOSTAPD ioctl() cmd: */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">PRISM2_HOSTAPD_FLUSH</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_ADD_STA</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_REMOVE_STA</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_GET_INFO_STA</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="cm">/* REMOVED: PRISM2_HOSTAPD_RESET_TXEXC_STA = 5, */</span>
	<span class="n">PRISM2_SET_ENCRYPTION</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">PRISM2_GET_ENCRYPTION</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_SET_FLAGS_STA</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_GET_RID</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_SET_RID</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_SET_ASSOC_AP_ADDR</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_SET_GENERIC_ELEMENT</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_MLME</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_SCAN_REQ</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
	<span class="n">PRISM2_HOSTAPD_STA_CLEAR_STATS</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define PRISM2_HOSTAPD_MAX_BUF_SIZE 1024</span>
<span class="cp">#define PRISM2_HOSTAPD_RID_HDR_LEN \</span>
<span class="cp">offsetof(struct prism2_hostapd_param, u.rid.data)</span>
<span class="cp">#define PRISM2_HOSTAPD_GENERIC_ELEMENT_HDR_LEN \</span>
<span class="cp">offsetof(struct prism2_hostapd_param, u.generic_elem.data)</span>

<span class="cm">/* Maximum length for algorithm names (-1 for nul termination) used in ioctl()</span>
<span class="cm"> */</span>
<span class="cp">#define HOSTAP_CRYPT_ALG_NAME_LEN 16</span>


<span class="k">struct</span> <span class="n">prism2_hostapd_param</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">cmd</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sta_addr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u16</span> <span class="n">aid</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">capability</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">tx_supp_rates</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">add_sta</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">inactive_sec</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">get_info_sta</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">alg</span><span class="p">[</span><span class="n">HOSTAP_CRYPT_ALG_NAME_LEN</span><span class="p">];</span>
			<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">err</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">idx</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">seq</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span> <span class="cm">/* sequence counter (set: RX, get: TX) */</span>
			<span class="n">u16</span> <span class="n">key_len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">crypt</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">flags_and</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">flags_or</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">set_flags_sta</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u16</span> <span class="n">rid</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">rid</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">generic_elem</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
<span class="cp">#define MLME_STA_DEAUTH 0</span>
<span class="cp">#define MLME_STA_DISASSOC 1</span>
			<span class="n">u16</span> <span class="n">cmd</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">reason_code</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">mlme</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">ssid_len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">ssid</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">scan_req</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define HOSTAP_CRYPT_FLAG_SET_TX_KEY BIT(0)</span>
<span class="cp">#define HOSTAP_CRYPT_FLAG_PERMANENT BIT(1)</span>

<span class="cp">#define HOSTAP_CRYPT_ERR_UNKNOWN_ALG 2</span>
<span class="cp">#define HOSTAP_CRYPT_ERR_UNKNOWN_ADDR 3</span>
<span class="cp">#define HOSTAP_CRYPT_ERR_CRYPT_INIT_FAILED 4</span>
<span class="cp">#define HOSTAP_CRYPT_ERR_KEY_SET_FAILED 5</span>
<span class="cp">#define HOSTAP_CRYPT_ERR_TX_KEY_SET_FAILED 6</span>
<span class="cp">#define HOSTAP_CRYPT_ERR_CARD_CONF_FAILED 7</span>


<span class="cp">#endif </span><span class="cm">/* HOSTAP_COMMON_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
