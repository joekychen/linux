<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › wan › hd64572.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>hd64572.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * hd64572.h	Description of the Hitachi HD64572 (SCA-II), valid for </span>
<span class="cm"> * 		CPU modes 0 &amp; 2.</span>
<span class="cm"> *</span>
<span class="cm"> * Author:	Ivan Passos &lt;ivan@cyclades.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright:   (c) 2000-2001 Cyclades Corp.</span>
<span class="cm"> *</span>
<span class="cm"> *	This program is free software; you can redistribute it and/or</span>
<span class="cm"> *	modify it under the terms of the GNU General Public License</span>
<span class="cm"> *	as published by the Free Software Foundation; either version</span>
<span class="cm"> *	2 of the License, or (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * $Log: hd64572.h,v $</span>
<span class="cm"> * Revision 3.1  2001/06/15 12:41:10  regina</span>
<span class="cm"> * upping major version number</span>
<span class="cm"> *</span>
<span class="cm"> * Revision 1.1.1.1  2001/06/13 20:24:49  daniela</span>
<span class="cm"> * PC300 initial CVS version (3.4.0-pre1)</span>
<span class="cm"> *</span>
<span class="cm"> * Revision 1.0 2000/01/25 ivan</span>
<span class="cm"> * Initial version.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __HD64572_H</span>
<span class="cp">#define __HD64572_H</span>

<span class="cm">/* Illegal Access Register */</span>
<span class="cp">#define	ILAR	0x00</span>

<span class="cm">/* Wait Controller Registers */</span>
<span class="cp">#define PABR0L	0x20	</span><span class="cm">/* Physical Addr Boundary Register 0 L */</span><span class="cp"></span>
<span class="cp">#define PABR0H	0x21	</span><span class="cm">/* Physical Addr Boundary Register 0 H */</span><span class="cp"></span>
<span class="cp">#define PABR1L	0x22	</span><span class="cm">/* Physical Addr Boundary Register 1 L */</span><span class="cp"></span>
<span class="cp">#define PABR1H	0x23	</span><span class="cm">/* Physical Addr Boundary Register 1 H */</span><span class="cp"></span>
<span class="cp">#define WCRL	0x24	</span><span class="cm">/* Wait Control Register L */</span><span class="cp"></span>
<span class="cp">#define WCRM	0x25	</span><span class="cm">/* Wait Control Register M */</span><span class="cp"></span>
<span class="cp">#define WCRH	0x26	</span><span class="cm">/* Wait Control Register H */</span><span class="cp"></span>

<span class="cm">/* Interrupt Registers */</span>
<span class="cp">#define IVR	0x60	</span><span class="cm">/* Interrupt Vector Register */</span><span class="cp"></span>
<span class="cp">#define IMVR	0x64	</span><span class="cm">/* Interrupt Modified Vector Register */</span><span class="cp"></span>
<span class="cp">#define ITCR	0x68	</span><span class="cm">/* Interrupt Control Register */</span><span class="cp"></span>
<span class="cp">#define ISR0	0x6c	</span><span class="cm">/* Interrupt Status Register 0 */</span><span class="cp"></span>
<span class="cp">#define ISR1	0x70	</span><span class="cm">/* Interrupt Status Register 1 */</span><span class="cp"></span>
<span class="cp">#define IER0	0x74	</span><span class="cm">/* Interrupt Enable Register 0 */</span><span class="cp"></span>
<span class="cp">#define IER1	0x78	</span><span class="cm">/* Interrupt Enable Register 1 */</span><span class="cp"></span>

<span class="cm">/* Register Access Macros (chan is 0 or 1 in _any_ case) */</span>
<span class="cp">#define	M_REG(reg, chan)	(reg + 0x80*chan)		</span><span class="cm">/* MSCI */</span><span class="cp"></span>
<span class="cp">#define	DRX_REG(reg, chan)	(reg + 0x40*chan)		</span><span class="cm">/* DMA Rx */</span><span class="cp"></span>
<span class="cp">#define	DTX_REG(reg, chan)	(reg + 0x20*(2*chan + 1))	</span><span class="cm">/* DMA Tx */</span><span class="cp"></span>
<span class="cp">#define	TRX_REG(reg, chan)	(reg + 0x20*chan)		</span><span class="cm">/* Timer Rx */</span><span class="cp"></span>
<span class="cp">#define	TTX_REG(reg, chan)	(reg + 0x10*(2*chan + 1))	</span><span class="cm">/* Timer Tx */</span><span class="cp"></span>
<span class="cp">#define	ST_REG(reg, chan)	(reg + 0x80*chan)		</span><span class="cm">/* Status Cnt */</span><span class="cp"></span>
<span class="cp">#define IR0_DRX(val, chan)	((val)&lt;&lt;(8*(chan)))		</span><span class="cm">/* Int DMA Rx */</span><span class="cp"></span>
<span class="cp">#define IR0_DTX(val, chan)	((val)&lt;&lt;(4*(2*chan + 1)))	</span><span class="cm">/* Int DMA Tx */</span><span class="cp"></span>
<span class="cp">#define IR0_M(val, chan)	((val)&lt;&lt;(8*(chan)))		</span><span class="cm">/* Int MSCI */</span><span class="cp"></span>

<span class="cm">/* MSCI Channel Registers */</span>
<span class="cp">#define MSCI0_OFFSET 0x00</span>
<span class="cp">#define MSCI1_OFFSET 0x80</span>

<span class="cp">#define MD0	0x138	</span><span class="cm">/* Mode reg 0 */</span><span class="cp"></span>
<span class="cp">#define MD1	0x139	</span><span class="cm">/* Mode reg 1 */</span><span class="cp"></span>
<span class="cp">#define MD2	0x13a	</span><span class="cm">/* Mode reg 2 */</span><span class="cp"></span>
<span class="cp">#define MD3	0x13b	</span><span class="cm">/* Mode reg 3 */</span><span class="cp"></span>
<span class="cp">#define CTL	0x130	</span><span class="cm">/* Control reg */</span><span class="cp"></span>
<span class="cp">#define RXS	0x13c	</span><span class="cm">/* RX clock source */</span><span class="cp"></span>
<span class="cp">#define TXS	0x13d	</span><span class="cm">/* TX clock source */</span><span class="cp"></span>
<span class="cp">#define EXS	0x13e	</span><span class="cm">/* External clock input selection */</span><span class="cp"></span>
<span class="cp">#define TMCT	0x144	</span><span class="cm">/* Time constant (Tx) */</span><span class="cp"></span>
<span class="cp">#define TMCR	0x145	</span><span class="cm">/* Time constant (Rx) */</span><span class="cp"></span>
<span class="cp">#define CMD	0x128	</span><span class="cm">/* Command reg */</span><span class="cp"></span>
<span class="cp">#define ST0	0x118	</span><span class="cm">/* Status reg 0 */</span><span class="cp"></span>
<span class="cp">#define ST1	0x119	</span><span class="cm">/* Status reg 1 */</span><span class="cp"></span>
<span class="cp">#define ST2	0x11a	</span><span class="cm">/* Status reg 2 */</span><span class="cp"></span>
<span class="cp">#define ST3	0x11b	</span><span class="cm">/* Status reg 3 */</span><span class="cp"></span>
<span class="cp">#define ST4	0x11c	</span><span class="cm">/* Status reg 4 */</span><span class="cp"></span>
<span class="cp">#define FST	0x11d	</span><span class="cm">/* frame Status reg  */</span><span class="cp"></span>
<span class="cp">#define IE0	0x120	</span><span class="cm">/* Interrupt enable reg 0 */</span><span class="cp"></span>
<span class="cp">#define IE1	0x121	</span><span class="cm">/* Interrupt enable reg 1 */</span><span class="cp"></span>
<span class="cp">#define IE2	0x122	</span><span class="cm">/* Interrupt enable reg 2 */</span><span class="cp"></span>
<span class="cp">#define IE4	0x124	</span><span class="cm">/* Interrupt enable reg 4 */</span><span class="cp"></span>
<span class="cp">#define FIE	0x125	</span><span class="cm">/* Frame Interrupt enable reg  */</span><span class="cp"></span>
<span class="cp">#define SA0	0x140	</span><span class="cm">/* Syn Address reg 0 */</span><span class="cp"></span>
<span class="cp">#define SA1	0x141	</span><span class="cm">/* Syn Address reg 1 */</span><span class="cp"></span>
<span class="cp">#define IDL	0x142	</span><span class="cm">/* Idle register */</span><span class="cp"></span>
<span class="cp">#define TRBL	0x100	</span><span class="cm">/* TX/RX buffer reg L */</span><span class="cp"> </span>
<span class="cp">#define TRBK	0x101	</span><span class="cm">/* TX/RX buffer reg K */</span><span class="cp"> </span>
<span class="cp">#define TRBJ	0x102	</span><span class="cm">/* TX/RX buffer reg J */</span><span class="cp"> </span>
<span class="cp">#define TRBH	0x103	</span><span class="cm">/* TX/RX buffer reg H */</span><span class="cp"> </span>
<span class="cp">#define TRC0	0x148	</span><span class="cm">/* TX Ready control reg 0 */</span><span class="cp"> </span>
<span class="cp">#define TRC1	0x149	</span><span class="cm">/* TX Ready control reg 1 */</span><span class="cp"> </span>
<span class="cp">#define RRC	0x14a	</span><span class="cm">/* RX Ready control reg */</span><span class="cp"> </span>
<span class="cp">#define CST0	0x108	</span><span class="cm">/* Current Status Register 0 */</span><span class="cp"> </span>
<span class="cp">#define CST1	0x109	</span><span class="cm">/* Current Status Register 1 */</span><span class="cp"> </span>
<span class="cp">#define CST2	0x10a	</span><span class="cm">/* Current Status Register 2 */</span><span class="cp"> </span>
<span class="cp">#define CST3	0x10b	</span><span class="cm">/* Current Status Register 3 */</span><span class="cp"> </span>
<span class="cp">#define GPO	0x131	</span><span class="cm">/* General Purpose Output Pin Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define TFS	0x14b	</span><span class="cm">/* Tx Start Threshold Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define TFN	0x143	</span><span class="cm">/* Inter-transmit-frame Time Fill Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define TBN	0x110	</span><span class="cm">/* Tx Buffer Number Reg */</span><span class="cp"></span>
<span class="cp">#define RBN	0x111	</span><span class="cm">/* Rx Buffer Number Reg */</span><span class="cp"></span>
<span class="cp">#define TNR0	0x150	</span><span class="cm">/* Tx DMA Request Ctl Reg 0 */</span><span class="cp"></span>
<span class="cp">#define TNR1	0x151	</span><span class="cm">/* Tx DMA Request Ctl Reg 1 */</span><span class="cp"></span>
<span class="cp">#define TCR	0x152	</span><span class="cm">/* Tx DMA Critical Request Reg */</span><span class="cp"></span>
<span class="cp">#define RNR	0x154	</span><span class="cm">/* Rx DMA Request Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define RCR	0x156	</span><span class="cm">/* Rx DMA Critical Request Reg */</span><span class="cp"></span>

<span class="cm">/* Timer Registers */</span>
<span class="cp">#define TIMER0RX_OFFSET 0x00</span>
<span class="cp">#define TIMER0TX_OFFSET 0x10</span>
<span class="cp">#define TIMER1RX_OFFSET 0x20</span>
<span class="cp">#define TIMER1TX_OFFSET 0x30</span>

<span class="cp">#define TCNTL	0x200	</span><span class="cm">/* Timer Upcounter L */</span><span class="cp"></span>
<span class="cp">#define TCNTH	0x201	</span><span class="cm">/* Timer Upcounter H */</span><span class="cp"></span>
<span class="cp">#define TCONRL	0x204	</span><span class="cm">/* Timer Constant Register L */</span><span class="cp"></span>
<span class="cp">#define TCONRH	0x205	</span><span class="cm">/* Timer Constant Register H */</span><span class="cp"></span>
<span class="cp">#define TCSR	0x206	</span><span class="cm">/* Timer Control/Status Register */</span><span class="cp"></span>
<span class="cp">#define TEPR	0x207	</span><span class="cm">/* Timer Expand Prescale Register */</span><span class="cp"></span>

<span class="cm">/* DMA registers */</span>
<span class="cp">#define PCR		0x40		</span><span class="cm">/* DMA priority control reg */</span><span class="cp"></span>
<span class="cp">#define DRR		0x44		</span><span class="cm">/* DMA reset reg */</span><span class="cp"></span>
<span class="cp">#define DMER		0x07		</span><span class="cm">/* DMA Master Enable reg */</span><span class="cp"></span>
<span class="cp">#define BTCR		0x08		</span><span class="cm">/* Burst Tx Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define BOLR		0x0c		</span><span class="cm">/* Back-off Length Reg */</span><span class="cp"></span>
<span class="cp">#define DSR_RX(chan)	(0x48 + 2*chan)	</span><span class="cm">/* DMA Status Reg (Rx) */</span><span class="cp"></span>
<span class="cp">#define DSR_TX(chan)	(0x49 + 2*chan)	</span><span class="cm">/* DMA Status Reg (Tx) */</span><span class="cp"></span>
<span class="cp">#define DIR_RX(chan)	(0x4c + 2*chan)	</span><span class="cm">/* DMA Interrupt Enable Reg (Rx) */</span><span class="cp"></span>
<span class="cp">#define DIR_TX(chan)	(0x4d + 2*chan)	</span><span class="cm">/* DMA Interrupt Enable Reg (Tx) */</span><span class="cp"></span>
<span class="cp">#define FCT_RX(chan)	(0x50 + 2*chan)	</span><span class="cm">/* Frame End Interrupt Counter (Rx) */</span><span class="cp"></span>
<span class="cp">#define FCT_TX(chan)	(0x51 + 2*chan)	</span><span class="cm">/* Frame End Interrupt Counter (Tx) */</span><span class="cp"></span>
<span class="cp">#define DMR_RX(chan)	(0x54 + 2*chan)	</span><span class="cm">/* DMA Mode Reg (Rx) */</span><span class="cp"></span>
<span class="cp">#define DMR_TX(chan)	(0x55 + 2*chan)	</span><span class="cm">/* DMA Mode Reg (Tx) */</span><span class="cp"></span>
<span class="cp">#define DCR_RX(chan)	(0x58 + 2*chan)	</span><span class="cm">/* DMA Command Reg (Rx) */</span><span class="cp"></span>
<span class="cp">#define DCR_TX(chan)	(0x59 + 2*chan)	</span><span class="cm">/* DMA Command Reg (Tx) */</span><span class="cp"></span>

<span class="cm">/* DMA Channel Registers */</span>
<span class="cp">#define DMAC0RX_OFFSET 0x00</span>
<span class="cp">#define DMAC0TX_OFFSET 0x20</span>
<span class="cp">#define DMAC1RX_OFFSET 0x40</span>
<span class="cp">#define DMAC1TX_OFFSET 0x60</span>

<span class="cp">#define DARL	0x80	</span><span class="cm">/* Dest Addr Register L (single-block, RX only) */</span><span class="cp"></span>
<span class="cp">#define DARH	0x81	</span><span class="cm">/* Dest Addr Register H (single-block, RX only) */</span><span class="cp"></span>
<span class="cp">#define DARB	0x82	</span><span class="cm">/* Dest Addr Register B (single-block, RX only) */</span><span class="cp"></span>
<span class="cp">#define DARBH	0x83	</span><span class="cm">/* Dest Addr Register BH (single-block, RX only) */</span><span class="cp"></span>
<span class="cp">#define SARL	0x80	</span><span class="cm">/* Source Addr Register L (single-block, TX only) */</span><span class="cp"></span>
<span class="cp">#define SARH	0x81	</span><span class="cm">/* Source Addr Register H (single-block, TX only) */</span><span class="cp"></span>
<span class="cp">#define SARB	0x82	</span><span class="cm">/* Source Addr Register B (single-block, TX only) */</span><span class="cp"></span>
<span class="cp">#define DARBH	0x83	</span><span class="cm">/* Source Addr Register BH (single-block, TX only) */</span><span class="cp"></span>
<span class="cp">#define BARL	0x80	</span><span class="cm">/* Buffer Addr Register L (chained-block) */</span><span class="cp"></span>
<span class="cp">#define BARH	0x81	</span><span class="cm">/* Buffer Addr Register H (chained-block) */</span><span class="cp"></span>
<span class="cp">#define BARB	0x82	</span><span class="cm">/* Buffer Addr Register B (chained-block) */</span><span class="cp"></span>
<span class="cp">#define BARBH	0x83	</span><span class="cm">/* Buffer Addr Register BH (chained-block) */</span><span class="cp"></span>
<span class="cp">#define CDAL	0x84	</span><span class="cm">/* Current Descriptor Addr Register L */</span><span class="cp"></span>
<span class="cp">#define CDAH	0x85	</span><span class="cm">/* Current Descriptor Addr Register H */</span><span class="cp"></span>
<span class="cp">#define CDAB	0x86	</span><span class="cm">/* Current Descriptor Addr Register B */</span><span class="cp"></span>
<span class="cp">#define CDABH	0x87	</span><span class="cm">/* Current Descriptor Addr Register BH */</span><span class="cp"></span>
<span class="cp">#define EDAL	0x88	</span><span class="cm">/* Error Descriptor Addr Register L */</span><span class="cp"></span>
<span class="cp">#define EDAH	0x89	</span><span class="cm">/* Error Descriptor Addr Register H */</span><span class="cp"></span>
<span class="cp">#define EDAB	0x8a	</span><span class="cm">/* Error Descriptor Addr Register B */</span><span class="cp"></span>
<span class="cp">#define EDABH	0x8b	</span><span class="cm">/* Error Descriptor Addr Register BH */</span><span class="cp"></span>
<span class="cp">#define BFLL	0x90	</span><span class="cm">/* RX Buffer Length L (only RX) */</span><span class="cp"></span>
<span class="cp">#define BFLH	0x91	</span><span class="cm">/* RX Buffer Length H (only RX) */</span><span class="cp"></span>
<span class="cp">#define BCRL	0x8c	</span><span class="cm">/* Byte Count Register L */</span><span class="cp"></span>
<span class="cp">#define BCRH	0x8d	</span><span class="cm">/* Byte Count Register H */</span><span class="cp"></span>

<span class="cm">/* Block Descriptor Structure */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">next</span><span class="p">;</span>		<span class="cm">/* pointer to next block descriptor */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">ptbuf</span><span class="p">;</span>		<span class="cm">/* buffer pointer */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>	<span class="n">len</span><span class="p">;</span>		<span class="cm">/* data length */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">status</span><span class="p">;</span>		<span class="cm">/* status */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>	<span class="n">filler</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>	<span class="cm">/* alignment filler (16 bytes) */</span> 
<span class="p">}</span> <span class="n">pcsca_bd_t</span><span class="p">;</span>

<span class="cm">/* Block Descriptor Structure */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">cp</span><span class="p">;</span>			<span class="cm">/* pointer to next block descriptor */</span>
	<span class="n">u32</span> <span class="n">bp</span><span class="p">;</span>			<span class="cm">/* buffer pointer */</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>		<span class="cm">/* data length */</span>
	<span class="n">u8</span> <span class="n">stat</span><span class="p">;</span>		<span class="cm">/* status */</span>
	<span class="n">u8</span> <span class="n">unused</span><span class="p">;</span>		<span class="cm">/* pads to 4-byte boundary */</span>
<span class="p">}</span><span class="n">pkt_desc</span><span class="p">;</span>


<span class="cm">/*</span>
<span class="cm">	Descriptor Status definitions:</span>

<span class="cm">	Bit	Transmission	Reception</span>

<span class="cm">	7	EOM		EOM</span>
<span class="cm">	6	-		Short Frame</span>
<span class="cm">	5	-		Abort</span>
<span class="cm">	4	-		Residual bit</span>
<span class="cm">	3	Underrun	Overrun	</span>
<span class="cm">	2	-		CRC</span>
<span class="cm">	1	Ownership	Ownership</span>
<span class="cm">	0	EOT		-</span>
<span class="cm">*/</span>
<span class="cp">#define DST_EOT		0x01	</span><span class="cm">/* End of transmit command */</span><span class="cp"></span>
<span class="cp">#define DST_OSB		0x02	</span><span class="cm">/* Ownership bit */</span><span class="cp"></span>
<span class="cp">#define DST_CRC		0x04	</span><span class="cm">/* CRC Error */</span><span class="cp"></span>
<span class="cp">#define DST_OVR		0x08	</span><span class="cm">/* Overrun */</span><span class="cp"></span>
<span class="cp">#define DST_UDR		0x08	</span><span class="cm">/* Underrun */</span><span class="cp"></span>
<span class="cp">#define DST_RBIT	0x10	</span><span class="cm">/* Residual bit */</span><span class="cp"></span>
<span class="cp">#define DST_ABT		0x20	</span><span class="cm">/* Abort */</span><span class="cp"></span>
<span class="cp">#define DST_SHRT	0x40	</span><span class="cm">/* Short Frame  */</span><span class="cp"></span>
<span class="cp">#define DST_EOM		0x80	</span><span class="cm">/* End of Message  */</span><span class="cp"></span>

<span class="cm">/* Packet Descriptor Status bits */</span>

<span class="cp">#define ST_TX_EOM     0x80	</span><span class="cm">/* End of frame */</span><span class="cp"></span>
<span class="cp">#define ST_TX_UNDRRUN 0x08</span>
<span class="cp">#define ST_TX_OWNRSHP 0x02</span>
<span class="cp">#define ST_TX_EOT     0x01	</span><span class="cm">/* End of transmition */</span><span class="cp"></span>

<span class="cp">#define ST_RX_EOM     0x80	</span><span class="cm">/* End of frame */</span><span class="cp"></span>
<span class="cp">#define ST_RX_SHORT   0x40	</span><span class="cm">/* Short frame */</span><span class="cp"></span>
<span class="cp">#define ST_RX_ABORT   0x20	</span><span class="cm">/* Abort */</span><span class="cp"></span>
<span class="cp">#define ST_RX_RESBIT  0x10	</span><span class="cm">/* Residual bit */</span><span class="cp"></span>
<span class="cp">#define ST_RX_OVERRUN 0x08	</span><span class="cm">/* Overrun */</span><span class="cp"></span>
<span class="cp">#define ST_RX_CRC     0x04	</span><span class="cm">/* CRC */</span><span class="cp"></span>
<span class="cp">#define ST_RX_OWNRSHP 0x02</span>

<span class="cp">#define ST_ERROR_MASK 0x7C</span>

<span class="cm">/* Status Counter Registers */</span>
<span class="cp">#define CMCR	0x158	</span><span class="cm">/* Counter Master Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define TECNTL	0x160	</span><span class="cm">/* Tx EOM Counter L */</span><span class="cp"></span>
<span class="cp">#define TECNTM	0x161	</span><span class="cm">/* Tx EOM Counter M */</span><span class="cp"></span>
<span class="cp">#define TECNTH	0x162	</span><span class="cm">/* Tx EOM Counter H */</span><span class="cp"></span>
<span class="cp">#define TECCR	0x163	</span><span class="cm">/* Tx EOM Counter Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define URCNTL	0x164	</span><span class="cm">/* Underrun Counter L */</span><span class="cp"></span>
<span class="cp">#define URCNTH	0x165	</span><span class="cm">/* Underrun Counter H */</span><span class="cp"></span>
<span class="cp">#define URCCR	0x167	</span><span class="cm">/* Underrun Counter Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define RECNTL	0x168	</span><span class="cm">/* Rx EOM Counter L */</span><span class="cp"></span>
<span class="cp">#define RECNTM	0x169	</span><span class="cm">/* Rx EOM Counter M */</span><span class="cp"></span>
<span class="cp">#define RECNTH	0x16a	</span><span class="cm">/* Rx EOM Counter H */</span><span class="cp"></span>
<span class="cp">#define RECCR	0x16b	</span><span class="cm">/* Rx EOM Counter Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define ORCNTL	0x16c	</span><span class="cm">/* Overrun Counter L */</span><span class="cp"></span>
<span class="cp">#define ORCNTH	0x16d	</span><span class="cm">/* Overrun Counter H */</span><span class="cp"></span>
<span class="cp">#define ORCCR	0x16f	</span><span class="cm">/* Overrun Counter Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define CECNTL	0x170	</span><span class="cm">/* CRC Counter L */</span><span class="cp"></span>
<span class="cp">#define CECNTH	0x171	</span><span class="cm">/* CRC Counter H */</span><span class="cp"></span>
<span class="cp">#define CECCR	0x173	</span><span class="cm">/* CRC Counter Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define ABCNTL	0x174	</span><span class="cm">/* Abort frame Counter L */</span><span class="cp"></span>
<span class="cp">#define ABCNTH	0x175	</span><span class="cm">/* Abort frame Counter H */</span><span class="cp"></span>
<span class="cp">#define ABCCR	0x177	</span><span class="cm">/* Abort frame Counter Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define SHCNTL	0x178	</span><span class="cm">/* Short frame Counter L */</span><span class="cp"></span>
<span class="cp">#define SHCNTH	0x179	</span><span class="cm">/* Short frame Counter H */</span><span class="cp"></span>
<span class="cp">#define SHCCR	0x17b	</span><span class="cm">/* Short frame Counter Ctl Reg */</span><span class="cp"></span>
<span class="cp">#define RSCNTL	0x17c	</span><span class="cm">/* Residual bit Counter L */</span><span class="cp"></span>
<span class="cp">#define RSCNTH	0x17d	</span><span class="cm">/* Residual bit Counter H */</span><span class="cp"></span>
<span class="cp">#define RSCCR	0x17f	</span><span class="cm">/* Residual bit Counter Ctl Reg */</span><span class="cp"></span>

<span class="cm">/* Register Programming Constants */</span>

<span class="cp">#define IR0_DMIC	0x00000001</span>
<span class="cp">#define IR0_DMIB	0x00000002</span>
<span class="cp">#define IR0_DMIA	0x00000004</span>
<span class="cp">#define IR0_EFT		0x00000008</span>
<span class="cp">#define IR0_DMAREQ	0x00010000</span>
<span class="cp">#define IR0_TXINT	0x00020000</span>
<span class="cp">#define IR0_RXINTB	0x00040000</span>
<span class="cp">#define IR0_RXINTA	0x00080000</span>
<span class="cp">#define IR0_TXRDY	0x00100000</span>
<span class="cp">#define IR0_RXRDY	0x00200000</span>

<span class="cp">#define MD0_CRC16_0	0x00</span>
<span class="cp">#define MD0_CRC16_1	0x01</span>
<span class="cp">#define MD0_CRC32	0x02</span>
<span class="cp">#define MD0_CRC_CCITT	0x03</span>
<span class="cp">#define MD0_CRCC0	0x04</span>
<span class="cp">#define MD0_CRCC1	0x08</span>
<span class="cp">#define MD0_AUTO_ENA	0x10</span>
<span class="cp">#define MD0_ASYNC	0x00</span>
<span class="cp">#define MD0_BY_MSYNC	0x20</span>
<span class="cp">#define MD0_BY_BISYNC	0x40</span>
<span class="cp">#define MD0_BY_EXT	0x60</span>
<span class="cp">#define MD0_BIT_SYNC	0x80</span>
<span class="cp">#define MD0_TRANSP	0xc0</span>

<span class="cp">#define MD0_HDLC        0x80	</span><span class="cm">/* Bit-sync HDLC mode */</span><span class="cp"></span>

<span class="cp">#define MD0_CRC_NONE	0x00</span>
<span class="cp">#define MD0_CRC_16_0	0x04</span>
<span class="cp">#define MD0_CRC_16	0x05</span>
<span class="cp">#define MD0_CRC_ITU32	0x06</span>
<span class="cp">#define MD0_CRC_ITU	0x07</span>

<span class="cp">#define MD1_NOADDR	0x00</span>
<span class="cp">#define MD1_SADDR1	0x40</span>
<span class="cp">#define MD1_SADDR2	0x80</span>
<span class="cp">#define MD1_DADDR	0xc0</span>

<span class="cp">#define MD2_NRZI_IEEE	0x40</span>
<span class="cp">#define MD2_MANCHESTER	0x80</span>
<span class="cp">#define MD2_FM_MARK	0xA0</span>
<span class="cp">#define MD2_FM_SPACE	0xC0</span>
<span class="cp">#define MD2_LOOPBACK	0x03	</span><span class="cm">/* Local data Loopback */</span><span class="cp"></span>

<span class="cp">#define MD2_F_DUPLEX	0x00</span>
<span class="cp">#define MD2_AUTO_ECHO	0x01</span>
<span class="cp">#define MD2_LOOP_HI_Z	0x02</span>
<span class="cp">#define MD2_LOOP_MIR	0x03</span>
<span class="cp">#define MD2_ADPLL_X8	0x00</span>
<span class="cp">#define MD2_ADPLL_X16	0x08</span>
<span class="cp">#define MD2_ADPLL_X32	0x10</span>
<span class="cp">#define MD2_NRZ		0x00</span>
<span class="cp">#define MD2_NRZI	0x20</span>
<span class="cp">#define MD2_NRZ_IEEE	0x40</span>
<span class="cp">#define MD2_MANCH	0x00</span>
<span class="cp">#define MD2_FM1		0x20</span>
<span class="cp">#define MD2_FM0		0x40</span>
<span class="cp">#define MD2_FM		0x80</span>

<span class="cp">#define CTL_RTS		0x01</span>
<span class="cp">#define CTL_DTR		0x02</span>
<span class="cp">#define CTL_SYN		0x04</span>
<span class="cp">#define CTL_IDLC	0x10</span>
<span class="cp">#define CTL_UDRNC	0x20</span>
<span class="cp">#define CTL_URSKP	0x40</span>
<span class="cp">#define CTL_URCT	0x80</span>

<span class="cp">#define CTL_NORTS	0x01</span>
<span class="cp">#define CTL_NODTR	0x02</span>
<span class="cp">#define CTL_IDLE	0x10</span>

<span class="cp">#define	RXS_BR0		0x01</span>
<span class="cp">#define	RXS_BR1		0x02</span>
<span class="cp">#define	RXS_BR2		0x04</span>
<span class="cp">#define	RXS_BR3		0x08</span>
<span class="cp">#define	RXS_ECLK	0x00</span>
<span class="cp">#define	RXS_ECLK_NS	0x20</span>
<span class="cp">#define	RXS_IBRG	0x40</span>
<span class="cp">#define	RXS_PLL1	0x50</span>
<span class="cp">#define	RXS_PLL2	0x60</span>
<span class="cp">#define	RXS_PLL3	0x70</span>
<span class="cp">#define	RXS_DRTXC	0x80</span>

<span class="cp">#define	TXS_BR0		0x01</span>
<span class="cp">#define	TXS_BR1		0x02</span>
<span class="cp">#define	TXS_BR2		0x04</span>
<span class="cp">#define	TXS_BR3		0x08</span>
<span class="cp">#define	TXS_ECLK	0x00</span>
<span class="cp">#define	TXS_IBRG	0x40</span>
<span class="cp">#define	TXS_RCLK	0x60</span>
<span class="cp">#define	TXS_DTRXC	0x80</span>

<span class="cp">#define	EXS_RES0	0x01</span>
<span class="cp">#define	EXS_RES1	0x02</span>
<span class="cp">#define	EXS_RES2	0x04</span>
<span class="cp">#define	EXS_TES0	0x10</span>
<span class="cp">#define	EXS_TES1	0x20</span>
<span class="cp">#define	EXS_TES2	0x40</span>

<span class="cp">#define CLK_BRG_MASK	0x0F</span>
<span class="cp">#define CLK_PIN_OUT	0x80</span>
<span class="cp">#define CLK_LINE    	0x00	</span><span class="cm">/* clock line input */</span><span class="cp"></span>
<span class="cp">#define CLK_BRG     	0x40	</span><span class="cm">/* internal baud rate generator */</span><span class="cp"></span>
<span class="cp">#define CLK_TX_RXCLK	0x60	</span><span class="cm">/* TX clock from RX clock */</span><span class="cp"></span>

<span class="cp">#define CMD_RX_RST	0x11</span>
<span class="cp">#define CMD_RX_ENA	0x12</span>
<span class="cp">#define CMD_RX_DIS	0x13</span>
<span class="cp">#define CMD_RX_CRC_INIT	0x14</span>
<span class="cp">#define CMD_RX_MSG_REJ	0x15</span>
<span class="cp">#define CMD_RX_MP_SRCH	0x16</span>
<span class="cp">#define CMD_RX_CRC_EXC	0x17</span>
<span class="cp">#define CMD_RX_CRC_FRC	0x18</span>
<span class="cp">#define CMD_TX_RST	0x01</span>
<span class="cp">#define CMD_TX_ENA	0x02</span>
<span class="cp">#define CMD_TX_DISA	0x03</span>
<span class="cp">#define CMD_TX_CRC_INIT	0x04</span>
<span class="cp">#define CMD_TX_CRC_EXC	0x05</span>
<span class="cp">#define CMD_TX_EOM	0x06</span>
<span class="cp">#define CMD_TX_ABORT	0x07</span>
<span class="cp">#define CMD_TX_MP_ON	0x08</span>
<span class="cp">#define CMD_TX_BUF_CLR	0x09</span>
<span class="cp">#define CMD_TX_DISB	0x0b</span>
<span class="cp">#define CMD_CH_RST	0x21</span>
<span class="cp">#define CMD_SRCH_MODE	0x31</span>
<span class="cp">#define CMD_NOP		0x00</span>

<span class="cp">#define CMD_RESET	0x21</span>
<span class="cp">#define CMD_TX_ENABLE	0x02</span>
<span class="cp">#define CMD_RX_ENABLE	0x12</span>

<span class="cp">#define ST0_RXRDY	0x01</span>
<span class="cp">#define ST0_TXRDY	0x02</span>
<span class="cp">#define ST0_RXINTB	0x20</span>
<span class="cp">#define ST0_RXINTA	0x40</span>
<span class="cp">#define ST0_TXINT	0x80</span>

<span class="cp">#define ST1_IDLE	0x01</span>
<span class="cp">#define ST1_ABORT	0x02</span>
<span class="cp">#define ST1_CDCD	0x04</span>
<span class="cp">#define ST1_CCTS	0x08</span>
<span class="cp">#define ST1_SYN_FLAG	0x10</span>
<span class="cp">#define ST1_CLMD	0x20</span>
<span class="cp">#define ST1_TXIDLE	0x40</span>
<span class="cp">#define ST1_UDRN	0x80</span>

<span class="cp">#define ST2_CRCE	0x04</span>
<span class="cp">#define ST2_ONRN	0x08</span>
<span class="cp">#define ST2_RBIT	0x10</span>
<span class="cp">#define ST2_ABORT	0x20</span>
<span class="cp">#define ST2_SHORT	0x40</span>
<span class="cp">#define ST2_EOM		0x80</span>

<span class="cp">#define ST3_RX_ENA	0x01</span>
<span class="cp">#define ST3_TX_ENA	0x02</span>
<span class="cp">#define ST3_DCD		0x04</span>
<span class="cp">#define ST3_CTS		0x08</span>
<span class="cp">#define ST3_SRCH_MODE	0x10</span>
<span class="cp">#define ST3_SLOOP	0x20</span>
<span class="cp">#define ST3_GPI		0x80</span>

<span class="cp">#define ST4_RDNR	0x01</span>
<span class="cp">#define ST4_RDCR	0x02</span>
<span class="cp">#define ST4_TDNR	0x04</span>
<span class="cp">#define ST4_TDCR	0x08</span>
<span class="cp">#define ST4_OCLM	0x20</span>
<span class="cp">#define ST4_CFT		0x40</span>
<span class="cp">#define ST4_CGPI	0x80</span>

<span class="cp">#define FST_CRCEF	0x04</span>
<span class="cp">#define FST_OVRNF	0x08</span>
<span class="cp">#define FST_RBIF	0x10</span>
<span class="cp">#define FST_ABTF	0x20</span>
<span class="cp">#define FST_SHRTF	0x40</span>
<span class="cp">#define FST_EOMF	0x80</span>

<span class="cp">#define IE0_RXRDY	0x01</span>
<span class="cp">#define IE0_TXRDY	0x02</span>
<span class="cp">#define IE0_RXINTB	0x20</span>
<span class="cp">#define IE0_RXINTA	0x40</span>
<span class="cp">#define IE0_TXINT	0x80</span>
<span class="cp">#define IE0_UDRN	0x00008000 </span><span class="cm">/* TX underrun MSCI interrupt enable */</span><span class="cp"></span>
<span class="cp">#define IE0_CDCD	0x00000400 </span><span class="cm">/* CD level change interrupt enable */</span><span class="cp"></span>

<span class="cp">#define IE1_IDLD	0x01</span>
<span class="cp">#define IE1_ABTD	0x02</span>
<span class="cp">#define IE1_CDCD	0x04</span>
<span class="cp">#define IE1_CCTS	0x08</span>
<span class="cp">#define IE1_SYNCD	0x10</span>
<span class="cp">#define IE1_CLMD	0x20</span>
<span class="cp">#define IE1_IDL		0x40</span>
<span class="cp">#define IE1_UDRN	0x80</span>

<span class="cp">#define IE2_CRCE	0x04</span>
<span class="cp">#define IE2_OVRN	0x08</span>
<span class="cp">#define IE2_RBIT	0x10</span>
<span class="cp">#define IE2_ABT		0x20</span>
<span class="cp">#define IE2_SHRT	0x40</span>
<span class="cp">#define IE2_EOM		0x80</span>

<span class="cp">#define IE4_RDNR	0x01</span>
<span class="cp">#define IE4_RDCR	0x02</span>
<span class="cp">#define IE4_TDNR	0x04</span>
<span class="cp">#define IE4_TDCR	0x08</span>
<span class="cp">#define IE4_OCLM	0x20</span>
<span class="cp">#define IE4_CFT		0x40</span>
<span class="cp">#define IE4_CGPI	0x80</span>

<span class="cp">#define FIE_CRCEF	0x04</span>
<span class="cp">#define FIE_OVRNF	0x08</span>
<span class="cp">#define FIE_RBIF	0x10</span>
<span class="cp">#define FIE_ABTF	0x20</span>
<span class="cp">#define FIE_SHRTF	0x40</span>
<span class="cp">#define FIE_EOMF	0x80</span>

<span class="cp">#define DSR_DWE		0x01</span>
<span class="cp">#define DSR_DE		0x02</span>
<span class="cp">#define DSR_REF		0x04</span>
<span class="cp">#define DSR_UDRF	0x04</span>
<span class="cp">#define DSR_COA		0x08</span>
<span class="cp">#define DSR_COF		0x10</span>
<span class="cp">#define DSR_BOF		0x20</span>
<span class="cp">#define DSR_EOM		0x40</span>
<span class="cp">#define DSR_EOT		0x80</span>

<span class="cp">#define DIR_REF		0x04</span>
<span class="cp">#define DIR_UDRF	0x04</span>
<span class="cp">#define DIR_COA		0x08</span>
<span class="cp">#define DIR_COF		0x10</span>
<span class="cp">#define DIR_BOF		0x20</span>
<span class="cp">#define DIR_EOM		0x40</span>
<span class="cp">#define DIR_EOT		0x80</span>

<span class="cp">#define DIR_REFE	0x04</span>
<span class="cp">#define DIR_UDRFE	0x04</span>
<span class="cp">#define DIR_COAE	0x08</span>
<span class="cp">#define DIR_COFE	0x10</span>
<span class="cp">#define DIR_BOFE	0x20</span>
<span class="cp">#define DIR_EOME	0x40</span>
<span class="cp">#define DIR_EOTE	0x80</span>

<span class="cp">#define DMR_CNTE	0x02</span>
<span class="cp">#define DMR_NF		0x04</span>
<span class="cp">#define DMR_SEOME	0x08</span>
<span class="cp">#define DMR_TMOD	0x10</span>

<span class="cp">#define DMER_DME        0x80	</span><span class="cm">/* DMA Master Enable */</span><span class="cp"></span>

<span class="cp">#define DCR_SW_ABT	0x01</span>
<span class="cp">#define DCR_FCT_CLR	0x02</span>

<span class="cp">#define DCR_ABORT	0x01</span>
<span class="cp">#define DCR_CLEAR_EOF	0x02</span>

<span class="cp">#define PCR_COTE	0x80</span>
<span class="cp">#define PCR_PR0		0x01</span>
<span class="cp">#define PCR_PR1		0x02</span>
<span class="cp">#define PCR_PR2		0x04</span>
<span class="cp">#define PCR_CCC		0x08</span>
<span class="cp">#define PCR_BRC		0x10</span>
<span class="cp">#define PCR_OSB		0x40</span>
<span class="cp">#define PCR_BURST	0x80</span>

<span class="cp">#endif </span><span class="cm">/* (__HD64572_H) */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
