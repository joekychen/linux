f | Makefile | g | 2.0K |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1337127796 |  | tokenring: delete all remaining driver support  This represents the mass deletion of the of the tokenring support.  It gets rid of:   - the net/tr.c which the drivers depended on   - the drivers/net component   - the Kbuild infrastructure around it   - any tokenring related CONFIG_ settings in any defconfigs   - the tokenring headers in the include/linux dir   - the firmware associated with the tokenring drivers.   - any associated token ring documentation.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | slip |  | 5 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | appletalk |  | 10 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | ifb.c | s | 7.1K | 248 | Danny Kukawka | danny.kukawka@bisect.de | 1329338056 |  | net: replace random_ether_addr() with eth_hw_addr_random()  Replace usage of random_ether_addr() with eth_hw_addr_random() to set addr_assign_type correctly to NET_ADDR_RANDOM.  Change the trivial cases.  v2: adapt to renamed eth_hw_addr_random()  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de> Signed-off-by: David S. Miller <davem@davemloft.net>
d | usb |  | 33 items |  | Bjørn Mork | bjorn@mork.no | 1340927608 |  | net: qmi_wwan: fix Oops while disconnecting  usbnet_disconnect() will set intfdata to NULL before calling the minidriver unbind function.  The cdc_wdm subdriver cannot know that it is disconnecting until the qmi_wwan unbind function has called its disconnect function.  This means that we must be able to support the cdc_wdm subdriver operating normally while usbnet_disconnect() is running, and in particular that intfdata may be NULL.  The only place this matters is in qmi_wwan_cdc_wdm_manage_power which is called from cdc_wdm.  Simply testing for NULL intfdata there is sufficient to allow it to continue working at all times.  Fixes this Oops where a cdc-wdm device was closed while the USB device was disconnecting, causing wdm_release to call qmi_wwan_cdc_wdm_manage_power after intfdata was set to NULL by usbnet_disconnect:  [41819.087460] BUG: unable to handle kernel NULL pointer dereference at 00000080 [41819.087815] IP: [<f8640458>] qmi_wwan_manage_power+0x68/0x90 [qmi_wwan] [41819.088028] *pdpt = 000000000314f001 *pde = 0000000000000000 [41819.088028] Oops: 0002 [#1] SMP [41819.088028] Modules linked in: qmi_wwan option usb_wwan usbserial usbnet cdc_wdm nls_iso8859_1 nls_cp437 vfat fat usb_storage bnep rfcomm bluetooth parport_pc ppdev binfmt_misc iptable_nat nf_nat nf_conntrack_ipv4 nf_conntrack nf_defrag_ipv4 iptable_mangle iptable_filter ip_tables x_tables dm_crypt uvcvideo snd_hda_codec_realtek snd_hda_intel videobuf2_core snd_hda_codec joydev videodev videobuf2_vmalloc hid_multitouch snd_hwdep arc4 videobuf2_memops snd_pcm snd_seq_midi snd_rawmidi snd_seq_midi_event ath9k mac80211 snd_seq ath9k_common ath9k_hw ath snd_timer snd_seq_device sparse_keymap dm_multipath scsi_dh coretemp mac_hid snd soundcore cfg80211 snd_page_alloc psmouse serio_raw microcode lp parport dm_mirror dm_region_hash dm_log usbhid hid i915 drm_kms_helper drm r8169 i2c_algo_bit wmi video [last unloaded: qmi_wwan] [41819.088028] [41819.088028] Pid: 23292, comm: qmicli Not tainted 3.4.0-5-generic #11-Ubuntu GIGABYTE T1005/T1005 [41819.088028] EIP: 0060:[<f8640458>] EFLAGS: 00010246 CPU: 1 [41819.088028] EIP is at qmi_wwan_manage_power+0x68/0x90 [qmi_wwan] [41819.088028] EAX: 00000000 EBX: 00000000 ECX: 000000c3 EDX: 00000000 [41819.088028] ESI: c3b27658 EDI: 00000000 EBP: c298bea4 ESP: c298be98 [41819.088028]  DS: 007b ES: 007b FS: 00d8 GS: 00e0 SS: 0068 [41819.088028] CR0: 8005003b CR2: 00000080 CR3: 3605e000 CR4: 000007f0 [41819.088028] DR0: 00000000 DR1: 00000000 DR2: 00000000 DR3: 00000000 [41819.088028] DR6: ffff0ff0 DR7: 00000400 [41819.088028] Process qmicli (pid: 23292, ti=c298a000 task=f343b280 task.ti=c298a000) [41819.088028] Stack: [41819.088028]  00000000 c3b27658 e2a80d00 c298beb0 f864051a c3b27600 c298bec0 f9027099 [41819.088028]  c2fd6000 00000008 c298bef0 c1147f96 00000001 00000000 00000000 f4e54790 [41819.088028]  ecf43a00 ecf43a00 c2fd6008 c2fd6000 ebbd7600 ffffffb9 c298bf08 c1144474 [41819.088028] Call Trace: [41819.088028]  [<f864051a>] qmi_wwan_cdc_wdm_manage_power+0x1a/0x20 [qmi_wwan] [41819.088028]  [<f9027099>] wdm_release+0x69/0x70 [cdc_wdm] [41819.088028]  [<c1147f96>] fput+0xe6/0x210 [41819.088028]  [<c1144474>] filp_close+0x54/0x80 [41819.088028]  [<c1046a65>] put_files_struct+0x75/0xc0 [41819.088028]  [<c1046b56>] exit_files+0x46/0x60 [41819.088028]  [<c1046f81>] do_exit+0x141/0x780 [41819.088028]  [<c107248f>] ? wake_up_state+0xf/0x20 [41819.088028]  [<c1053f48>] ? signal_wake_up+0x28/0x40 [41819.088028]  [<c1054f3b>] ? zap_other_threads+0x6b/0x80 [41819.088028]  [<c1047864>] do_group_exit+0x34/0xa0 [41819.088028]  [<c10478e8>] sys_exit_group+0x18/0x20 [41819.088028]  [<c15bb7df>] sysenter_do_call+0x12/0x28 [41819.088028] Code: 04 83 e7 01 c1 e7 03 0f b6 42 18 83 e0 f7 09 f8 88 42 18 8b 43 04 e8 48 9a dd c8 89 f0 8b 5d f4 8b 75 f8 8b 7d fc 89 ec 5d c3 90 <f0> ff 88 80 00 00 00 0f 94 c0 84 c0 75 b7 31 f6 8b 5d f4 89 f0 [41819.088028] EIP: [<f8640458>] qmi_wwan_manage_power+0x68/0x90 [qmi_wwan] SS:ESP 0068:c298be98 [41819.088028] CR2: 0000000000000080 [41819.149492] ---[ end trace 0944479ff8257f55 ]---  Reported-by: Marius Bjørnstad Kotsbak <marius.kotsbak@gmail.com> Cc: <stable@vger.kernel.org> # v3.4 Signed-off-by: Bjørn Mork <bjorn@mork.no> Signed-off-by: David S. Miller <davem@davemloft.net>
f | macvtap.c | s | 27K | 996 | David S. Miller | davem@davemloft.net | 1337221057 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
d | wimax |  | 3 items |  | Alexander Duyck | alexander.h.duyck@intel.com | 1336324399 |  | skb: Add inline helper for getting the skb end offset from head  With the recent changes for how we compute the skb truesize it occurs to me we are probably going to have a lot of calls to skb_end_pointer - skb->head.  Instead of running all over the place doing that it would make more sense to just make it a separate inline skb_end_offset(skb) that way we can return the correct value without having gcc having to do all the optimization to cancel out skb->head - skb->head.  Signed-off-by: Alexander Duyck <alexander.h.duyck@intel.com> Acked-by: Eric Dumazet <edumazet@google.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | loopback.c | s | 5.3K | 189 | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | caif |  | 8 items |  | Sjur Brændeland | sjur.brandeland@stericsson.com | 1340665643 |  | caif-hsi: Add missing return in error path  Fix a missing return, causing access to freed memory.  Signed-off-by: Sjur Brændeland <sjur.brandeland@stericsson.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | ethernet |  | 78 items |  | Bruce Allan | bruce.w.allan@intel.com | 1341127532 |  | e1000e: remove use of IP payload checksum  Currently only used when packet split mode is enabled with jumbo frames, IP payload checksum (for fragmented UDP packets) is mutually exclusive with receive hashing offload since the hardware uses the same space in the receive descriptor for the hardware-provided packet checksum and the RSS hash, respectively.  Users currently must disable jumbos when receive hashing offload is enabled, or vice versa, because of this incompatibility. Since testing has shown that IP payload checksum does not provide any real benefit, just remove it so that there is no longer a choice between jumbos or receive hashing offload but not both as done in other Intel GbE drivers (e.g. e1000, igb).  Also, add a missing check for IP checksum error reported by the hardware; let the stack verify the checksum when this happens.  CC: stable <stable@vger.kernel.org> [3.4] Signed-off-by: Bruce Allan <bruce.w.allan@intel.com> Tested-by: Aaron Brown <aaron.f.brown@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | vmxnet3 |  | 6 items |  | David S. Miller | davem@davemloft.net | 1331000186 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net  Conflicts: 	drivers/net/vmxnet3/vmxnet3_drv.c  Small vmxnet3 conflict with header size bug fix in 'net'.  Signed-off-by: David S. Miller <davem@davemloft.net>
d | plip |  | 3 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | bonding |  | 10 items |  | Amerigo Wang | amwang@redhat.com | 1339975434 |  | bonding: show all the link status of slaves  There are four link statuses of a bonding slave, the procfs code shows a wrong status when using downdelay/updelay:  	(slave->link == BOND_LINK_UP) ?  "up" : "down"  It doesn't respect the rest two statuses. This patch fixes it.  Cc: Jay Vosburgh <fubar@us.ibm.com> Cc: Andy Gospodarek <andy@greyhouse.net> Cc: "David S. Miller" <davem@davemloft.net> Signed-off-by: Cong Wang <amwang@redhat.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | phy |  | 30 items |  | Jason Wang | jason77.wang@gmail.com | 1340091096 |  | phy/micrel: change phy_id_mask for KSZ9021 and KS8001  On a freescale imx6q platform, a hardware phy chip KSZ9021 is recognized as a KS8001 chip by the current driver like this: eth0: Freescale FEC PHY driver [Micrel KS8001 or KS8721]  KSZ9021 has phy_id 0x00221610, while KSZ8001 has phy_id 0x0022161a, the current phy_id_mask (0x00fffff0/0x00ffff10) can't distinguish them. So change phy_id_mask to resolve this problem.  Although the micrel datasheet says that the 4 LSB of phyid2 register contains the chip revision number and the current driver is designed to follow this rule, in reality the chip implementation doesn't follow it.  Cc: David J. Choi <david.choi@micrel.com> Cc: David S. Miller <davem@davemloft.net> Cc: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Hui Wang <jason77.wang@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | dsa |  | 7 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1327437890 |  | drivers/net: dsa/mv88e6xxx.c files need linux/module.h  An implicit instance of module.h leaked back into existence and was masking the fact that these drivers weren't calling out the include for itself.  Fix the drivers before we remove the implicit include path via net/netprio_cgroup.h file.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | irda |  | 49 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337739770 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial  Pull trivial updates from Jiri Kosina:  "As usual, it's mostly typo fixes, redundant code elimination and some   documentation updates."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial: (57 commits)   edac, mips: don't change code that has been removed in edac/mips tree   xtensa: Change mail addresses of Hannes Weiner and Oskar Schirmer   lib: Change mail address of Oskar Schirmer   net: Change mail address of Oskar Schirmer   arm/m68k: Change mail address of Sebastian Hess   i2c: Change mail address of Oskar Schirmer   net: Fix tcp_build_and_update_options comment in struct tcp_sock   atomic64_32.h: fix parameter naming mismatch   Kconfig: replace "--- help ---" with "---help---"   c2port: fix bogus Kconfig "default no"   edac: Fix spelling errors.   qla1280: Remove redundant NULL check before release_firmware() call   remoteproc: remove redundant NULL check before release_firmware()   qla2xxx: Remove redundant NULL check before release_firmware() call.   aic94xx: Get rid of redundant NULL check before release_firmware() call   tehuti: delete redundant NULL check before release_firmware()   qlogic: get rid of a redundant test for NULL before call to release_firmware()   bna: remove redundant NULL test before release_firmware()   tg3: remove redundant NULL test before release_firmware() call   typhoon: get rid of redundant conditional before all to release_firmware()   ...
d | ppp |  | 12 items |  | Eric Dumazet | edumazet@google.com | 1337409150 |  | ppp: avoid false drop_monitor false positives  Call consume_skb() in place of kfree_skb() were appropriate.  Signed-off-by: Eric Dumazet <edumazet@google.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | hyperv |  | 6 items |  | Haiyang Zhang | haiyangz@microsoft.com | 1338832238 |  | net/hyperv: Use wait_event on outstanding sends during device removal  Change the busy-waiting/udelay to wait_event on outstanding sends.  Signed-off-by: Haiyang Zhang <haiyangz@microsoft.com> Reviewed-by: K. Y. Srinivasan <kys@microsoft.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | hippi |  | 4 items |  | Randy Dunlap | rdunlap@xenotime.net | 1334634518 |  | hippi: fix printk format in rrunner.c  Fix printk format warning (from i386 build):  drivers/net/hippi/rrunner.c:146:9: warning: format '%08llx' expects type 'long long unsigned int', but argument 3 has type 'resource_size_t'  Signed-off-by: Randy Dunlap <rdunlap@xenotime.net> Cc: Jes Sorensen <jes@trained-monkey.org> Cc:	linux-hippi@sunsite.dk Signed-off-by: David S. Miller <davem@davemloft.net>
f | macvlan.c | s | 23K | 790 | David S. Miller | davem@davemloft.net | 1337221057 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
f | virtio_net.c | s | 33K | 1080 | Eric Dumazet | edumazet@google.com | 1339385000 |  | virtio-net: fix a race on 32bit arches  commit 3fa2a1df909 (virtio-net: per cpu 64 bit stats (v2)) added a race on 32bit arches.  We must use separate syncp for rx and tx path as they can be run at the same time on different cpus. Thus one sequence increment can be lost and readers spin forever.  Signed-off-by: Eric Dumazet <edumazet@google.com> Cc: Stephen Hemminger <shemminger@vyatta.com> Cc: Michael S. Tsirkin <mst@redhat.com> Cc: Jason Wang <jasowang@redhat.com> Acked-by: Rusty Russell <rusty@rustcorp.com.au> Acked-by: Michael S. Tsirkin <mst@redhat.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Space.c | s | 8.1K | 275 | Paul Gortmaker | paul.gortmaker@windriver.com | 1337287061 |  | drivers/net: delete all code/drivers depending on CONFIG_MCA  The support for CONFIG_MCA is being removed, since the 20 year old hardware simply isn't capable of meeting today's software demands on CPU and memory resources.  This commit removes any MCA specific net drivers, and removes any MCA specific probe/support code from drivers that were doing a dual ISA/MCA role.  Cc: "David S. Miller" <davem@davemloft.net> Cc: James Bottomley <James.Bottomley@HansenPartnership.com> Cc: netdev@vger.kernel.org Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | hamradio |  | 14 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | xen-netback |  | 5 items |  | Simon Graham | simon.graham@citrix.com | 1337890973 |  | xen/netback: Calculate the number of SKB slots required correctly  When calculating the number of slots required for a packet header, the code was reserving too many slots if the header crossed a page boundary. Since netbk_gop_skb copies the header to the start of the page, the count of slots required for the header should be based solely on the header size.  This problem is easy to reproduce if a VIF is bridged to a USB 3G modem device as the skb->data value always starts near the end of the first page.  Signed-off-by: Simon Graham <simon.graham@citrix.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | wireless |  | 44 items |  | David S. Miller | davem@davemloft.net | 1340927889 |  | Merge branch 'for-davem' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless  John Linville says:  ==================== Amitkumar Karwar gives us two mwifiex fixes: one fixes some skb manipulations when handling some event messages; and another that does some similar fixing on an error path.  Avinash Patil gives us a fix for for a memory leak in mwifiex.  Dan Rosenberg offers an NFC NCI fix to enforce some message length limits to prevent buffer overflows.  Eliad Peller provides a mac80211 fix to prevent some frames from being built with an invalid BSSID.  Eric Dumazet sends an NFC fix to prevent a BUG caused by a NULL pointer dereference.  Felix Fietkau has an ath9k fix for a regression causing LEAP-authenticated connection failures.  Johannes Berg provides an iwlwifi fix that eliminates some log SPAM after an authentication/association timeout.  He also provides a mac80211 fix to prevent incorrectly addressing certain action frames (and in so doing, to comply with the 802.11 specs).  Larry Finger provides a few USB IDs for the rtl8192cu driver -- should be harmless.  Panayiotis Karabassis provices a one-liner to fix kernel bug 42903 (a system freeze).  Randy Dunlap provides a one-line Kconfig change to prevent build failures with some configurations.  Stone Piao provides an mwifiex sequence numbering fix and a fix to prevent mwifiex from attempting to include eapol frames in an aggregation frame.  Finally, Tom Hughes provides an ath9k fix for a NULL pointer dereference. ====================  Signed-off-by: David S. Miller <davem@davemloft.net>
d | cris |  | 2 items |  | Wanlong Gao | wanlong.gao@gmail.com | 1333451358 |  | net:removed the unused variable  removed the unused variable "np" of eth_v10.c.  Signed-off-by: Wanlong Gao <wanlong.gao@gmail.com> Signed-off-by: Jesper Nilsson <jespern@axis.com>
f | veth.c | s | 9.6K | 375 | David S. Miller | davem@davemloft.net | 1329685395 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net  Conflicts: 	drivers/net/ethernet/broadcom/bnx2x/bnx2x_stats.c  Small minor conflict in bnx2x, wherein one commit changed how statistics were stored in software, and another commit fixed endianness bugs wrt. reading the values provided by the chip in memory.  Signed-off-by: David S. Miller <davem@davemloft.net>
f | sungem_phy.c | s | 28K | 997 | David S. Miller | davem@davemloft.net | 1313479009 |  | net: Fix sungem_phy sharing.  Since sungem_phy is used by multiple, unrelated, drivers make it build as a real module under drivers/net.  depmod will pick up the symbol dependency and make sure sungem_phy.ko gets loaded any time sungem.ko or spider_net.ko is loaded.  Tested-by: Stephen Rothwell <sfr@canb.auug.org.au> Signed-off-by: David S. Miller <davem@davemloft.net>
d | arcnet |  | 14 items |  | Jiri Kosina | jkosina@suse.cz | 1334715763 |  | arcnet: rimi: Fix device name in debug output  arcrimi_probe() calls BUGMSG() before register_netdev() happens. BUGMSG() itself prints dev->name, but as the format string hasn't been expanded by register_netdev() yet, the output contains bogus device name such as  	arc%d: Given: node 00h, shmem 0h, irq 0  As we don't know the device name yet, just drop the prefix completely from the debugging messages.  Reported-by: Steven Young <sdyoung@vt220.org> Signed-off-by: Jiri Kosina <jkosina@suse.cz> Signed-off-by: David S. Miller <davem@davemloft.net>
f | dummy.c | s | 4.9K | 170 | Eric Dumazet | edumazet@google.com | 1339402324 |  | dummy: fix rcu_sched self-detected stalls  Trying to "modprobe dummy numdummies=30000" triggers :  INFO: rcu_sched self-detected stall on CPU { 8} (t=60000 jiffies)  After this splat, RTNL is locked and reboot is needed.  We must call cond_resched() to avoid this, even holding RTNL.  Signed-off-by: Eric Dumazet <edumazet@google.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Kconfig | g | 11K |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1337127796 |  | tokenring: delete all remaining driver support  This represents the mass deletion of the of the tokenring support.  It gets rid of:   - the net/tr.c which the drivers depended on   - the drivers/net component   - the Kbuild infrastructure around it   - any tokenring related CONFIG_ settings in any defconfigs   - the tokenring headers in the include/linux dir   - the firmware associated with the tokenring drivers.   - any associated token ring documentation.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | netconsole.c | s | 20K | 682 | Joe Perches | joe@perches.com | 1328044821 |  | drivers/net: Remove unnecessary k.alloc/v.alloc OOM messages  alloc failures use dump_stack so emitting an additional out-of-memory message is an unnecessary duplication.  Remove the allocation failure messages.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | tun.c | s | 38K | 1403 | Joe Perches | joe@perches.com | 1336707181 |  | drivers/net: Convert compare_ether_addr to ether_addr_equal  Use the new bool function ether_addr_equal to add some clarity and reduce the likelihood for misuse of compare_ether_addr for sorting.  Done via cocci script:  $ cat compare_ether_addr.cocci @@ expression a,b; @@ -	!compare_ether_addr(a, b) +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	compare_ether_addr(a, b) +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) == 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) != 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) == 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) != 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!!ether_addr_equal(a, b) +	ether_addr_equal(a, b)  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | mii.c | s | 12K | 399 | Ben Hutchings | bhutchings@solarflare.com | 1330638086 |  | ethtool, mdio, mii: Specify MDIO information fields in struct ethtool_cmd  Add comments for ethtool_cmd::phy_address and ethtool_cmd::mdio_support, and definitions of the flags currently used in mdio_support.  In the mdio library, assert that its own flags continue to match those in the ethtool interface.  In the mii library, use the ethtool flag definition and stop including <linux/mdio.h>.  Signed-off-by: Ben Hutchings <bhutchings@solarflare.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | eql.c | s | 14K | 506 | Eric Dumazet | eric.dumazet@gmail.com | 1332902726 |  | eql: dont rely on HZ=100  HZ is more likely to be 1000 these days.  timer handlers are run from softirq, no need to disable bh  skb priority 1 is TC_PRIO_FILLER  Signed-off-by: Eric Dumazet <eric.dumazet@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | LICENSE.SRC | g | 891B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
d | can |  | 18 items |  | Hui Wang | jason77.wang@gmail.com | 1340788327 |  | can: flexcan: use be32_to_cpup to handle the value of dt entry  The freescale arm i.MX series platform can support this driver, and usually the arm cpu works in the little endian mode by default, while device tree entry value is stored in big endian format, we should use be32_to_cpup() to handle them, after modification, it can work well both on the le cpu and be cpu.  Cc: stable <stable@vger.kernel.org> # v3.2+ Cc: Shawn Guo <shawn.guo@linaro.org> Signed-off-by: Hui Wang <jason77.wang@gmail.com> Signed-off-by: Marc Kleine-Budde <mkl@pengutronix.de>
d | wan |  | 43 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337729661 |  | 
f | xen-netfront.c | s | 48K | 1621 | Ian Campbell | Ian.Campbell@citrix.com | 1340785541 |  | xen/netfront: teardown the device before unregistering it.  Fixes: [   15.470311] WARNING: at /local/scratch/ianc/devel/kernels/linux/fs/sysfs/file.c:498 sysfs_attr_ns+0x95/0xa0() [   15.470326] sysfs: kobject eth0 without dirent [   15.470333] Modules linked in: [   15.470342] Pid: 12, comm: xenwatch Not tainted 3.4.0-x86_32p-xenU #93 and [    9.150554] BUG: unable to handle kernel paging request at 2b359000 [    9.150577] IP: [<c1279561>] linkwatch_do_dev+0x81/0xc0 [    9.150592] *pdpt = 000000002c3c9027 *pde = 0000000000000000 [    9.150604] Oops: 0002 [#1] SMP [    9.150613] Modules linked in:  This is http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=675190  Reported-by: George Shuklin <george.shuklin@gmail.com> Signed-off-by: Ian Campbell <ian.campbell@citrix.com> Tested-by: William Dauchy <wdauchy@gmail.com> Cc: stable@kernel.org Cc: 675190@bugs.debian.org Signed-off-by: David S. Miller <davem@davemloft.net>
f | mdio.c | s | 12K | 412 | Ben Hutchings | bhutchings@solarflare.com | 1330638086 |  | ethtool, mdio, mii: Specify MDIO information fields in struct ethtool_cmd  Add comments for ethtool_cmd::phy_address and ethtool_cmd::mdio_support, and definitions of the flags currently used in mdio_support.  In the mdio library, assert that its own flags continue to match those in the ethtool interface.  In the mii library, use the ethtool flag definition and stop including <linux/mdio.h>.  Signed-off-by: Ben Hutchings <bhutchings@solarflare.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | team |  | 6 items |  | Jiri Pirko | jpirko@redhat.com | 1335039993 |  | team: add per-port option for enabling/disabling ports  Signed-off-by: Jiri Pirko <jpirko@redhat.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | rionet.c | s | 13K | 465 | Akinobu Mita | akinobu.mita@gmail.com | 1333336636 |  | rionet: fix page allocation order of rionet_active  rionet_active is allocated from the page allocator and the allocation order is calculated on the assumption that the page size is 4KB, so it wastes memory on more than 4K page systems.  Signed-off-by: Akinobu Mita <akinobu.mita@gmail.com> Cc: Matt Porter <mporter@kernel.crashing.org> Cc: Alexandre Bounine <alexandre.bounine@idt.com> Cc: netdev@vger.kernel.org Signed-off-by: David S. Miller <davem@davemloft.net>
d | fddi |  | 5 items |  | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1314431903 |  | skfp: Fix SysKonnect FDDI driver compile issues  After moving the skfp driver, issues with the #include pathing to their locel headers was somehow exposed.  Several headers had the incorrect path, so they were not able to be found during compile time.  This patch fixes up the path issues to the local headers that need to be included.  CC: "Maciej W. Rozycki" <macro@linux-mips.org> CC: Christoph Goos <cgoos@syskonnect.de> CC: <linux@syskonnect.de> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | sb1000.c | s | 31K | 1024 | Julia Lawall | julia@diku.dk | 1288207400 |  | drivers/net/sb1000.c: delete double assignment  The other code around these duplicated assignments initializes the 0 1 2 and 3 elements of an array, so change the initialization of the rx_session_id array to do the same.  A simplified version of the semantic match that finds this problem is as follows: (http://coccinelle.lip6.fr/)  // <smpl> @@ expression i; @@  *i = ...;  i = ...; // </smpl>  Signed-off-by: Julia Lawall <julia@diku.dk> Signed-off-by: David S. Miller <davem@davemloft.net>
