<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › chelsio › cxgb › fpga_defs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>fpga_defs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* $Date: 2005/03/07 23:59:05 $ $RCSfile: fpga_defs.h,v $ $Revision: 1.4 $ */</span>

<span class="cm">/*</span>
<span class="cm"> * FPGA specific definitions</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __CHELSIO_FPGA_DEFS_H__</span>
<span class="cp">#define __CHELSIO_FPGA_DEFS_H__</span>

<span class="cp">#define FPGA_PCIX_ADDR_VERSION               0xA08</span>
<span class="cp">#define FPGA_PCIX_ADDR_STAT                  0xA0C</span>

<span class="cm">/* FPGA master interrupt Cause/Enable bits */</span>
<span class="cp">#define FPGA_PCIX_INTERRUPT_SGE_ERROR        0x1</span>
<span class="cp">#define FPGA_PCIX_INTERRUPT_SGE_DATA         0x2</span>
<span class="cp">#define FPGA_PCIX_INTERRUPT_TP               0x4</span>
<span class="cp">#define FPGA_PCIX_INTERRUPT_MC3              0x8</span>
<span class="cp">#define FPGA_PCIX_INTERRUPT_GMAC             0x10</span>
<span class="cp">#define FPGA_PCIX_INTERRUPT_PCIX             0x20</span>

<span class="cm">/* TP interrupt register addresses */</span>
<span class="cp">#define FPGA_TP_ADDR_INTERRUPT_ENABLE        0xA10</span>
<span class="cp">#define FPGA_TP_ADDR_INTERRUPT_CAUSE         0xA14</span>
<span class="cp">#define FPGA_TP_ADDR_VERSION                 0xA18</span>

<span class="cm">/* TP interrupt Cause/Enable bits */</span>
<span class="cp">#define FPGA_TP_INTERRUPT_MC4                0x1</span>
<span class="cp">#define FPGA_TP_INTERRUPT_MC5                0x2</span>

<span class="cm">/*</span>
<span class="cm"> * PM interrupt register addresses</span>
<span class="cm"> */</span>
<span class="cp">#define FPGA_MC3_REG_INTRENABLE              0xA20</span>
<span class="cp">#define FPGA_MC3_REG_INTRCAUSE               0xA24</span>
<span class="cp">#define FPGA_MC3_REG_VERSION                 0xA28</span>

<span class="cm">/*</span>
<span class="cm"> * GMAC interrupt register addresses</span>
<span class="cm"> */</span>
<span class="cp">#define FPGA_GMAC_ADDR_INTERRUPT_ENABLE      0xA30</span>
<span class="cp">#define FPGA_GMAC_ADDR_INTERRUPT_CAUSE       0xA34</span>
<span class="cp">#define FPGA_GMAC_ADDR_VERSION               0xA38</span>

<span class="cm">/* GMAC Cause/Enable bits */</span>
<span class="cp">#define FPGA_GMAC_INTERRUPT_PORT0            0x1</span>
<span class="cp">#define FPGA_GMAC_INTERRUPT_PORT1            0x2</span>
<span class="cp">#define FPGA_GMAC_INTERRUPT_PORT2            0x4</span>
<span class="cp">#define FPGA_GMAC_INTERRUPT_PORT3            0x8</span>

<span class="cm">/* MI0 registers */</span>
<span class="cp">#define A_MI0_CLK 0xb00</span>

<span class="cp">#define S_MI0_CLK_DIV    0</span>
<span class="cp">#define M_MI0_CLK_DIV    0xff</span>
<span class="cp">#define V_MI0_CLK_DIV(x) ((x) &lt;&lt; S_MI0_CLK_DIV)</span>
<span class="cp">#define G_MI0_CLK_DIV(x) (((x) &gt;&gt; S_MI0_CLK_DIV) &amp; M_MI0_CLK_DIV)</span>

<span class="cp">#define S_MI0_CLK_CNT    8</span>
<span class="cp">#define M_MI0_CLK_CNT    0xff</span>
<span class="cp">#define V_MI0_CLK_CNT(x) ((x) &lt;&lt; S_MI0_CLK_CNT)</span>
<span class="cp">#define G_MI0_CLK_CNT(x) (((x) &gt;&gt; S_MI0_CLK_CNT) &amp; M_MI0_CLK_CNT)</span>

<span class="cp">#define A_MI0_CSR 0xb04</span>

<span class="cp">#define S_MI0_CSR_POLL    0</span>
<span class="cp">#define V_MI0_CSR_POLL(x) ((x) &lt;&lt; S_MI0_CSR_POLL)</span>
<span class="cp">#define F_MI0_CSR_POLL    V_MI0_CSR_POLL(1U)</span>

<span class="cp">#define S_MI0_PREAMBLE    1</span>
<span class="cp">#define V_MI0_PREAMBLE(x) ((x) &lt;&lt; S_MI0_PREAMBLE)</span>
<span class="cp">#define F_MI0_PREAMBLE    V_MI0_PREAMBLE(1U)</span>

<span class="cp">#define S_MI0_INTR_ENABLE    2</span>
<span class="cp">#define V_MI0_INTR_ENABLE(x) ((x) &lt;&lt; S_MI0_INTR_ENABLE)</span>
<span class="cp">#define F_MI0_INTR_ENABLE    V_MI0_INTR_ENABLE(1U)</span>

<span class="cp">#define S_MI0_BUSY    3</span>
<span class="cp">#define V_MI0_BUSY(x) ((x) &lt;&lt; S_MI0_BUSY)</span>
<span class="cp">#define F_MI0_BUSY    V_MI0_BUSY(1U)</span>

<span class="cp">#define S_MI0_MDIO    4</span>
<span class="cp">#define V_MI0_MDIO(x) ((x) &lt;&lt; S_MI0_MDIO)</span>
<span class="cp">#define F_MI0_MDIO    V_MI0_MDIO(1U)</span>

<span class="cp">#define A_MI0_ADDR 0xb08</span>

<span class="cp">#define S_MI0_PHY_REG_ADDR    0</span>
<span class="cp">#define M_MI0_PHY_REG_ADDR    0x1f</span>
<span class="cp">#define V_MI0_PHY_REG_ADDR(x) ((x) &lt;&lt; S_MI0_PHY_REG_ADDR)</span>
<span class="cp">#define G_MI0_PHY_REG_ADDR(x) (((x) &gt;&gt; S_MI0_PHY_REG_ADDR) &amp; M_MI0_PHY_REG_ADDR)</span>

<span class="cp">#define S_MI0_PHY_ADDR    5</span>
<span class="cp">#define M_MI0_PHY_ADDR    0x1f</span>
<span class="cp">#define V_MI0_PHY_ADDR(x) ((x) &lt;&lt; S_MI0_PHY_ADDR)</span>
<span class="cp">#define G_MI0_PHY_ADDR(x) (((x) &gt;&gt; S_MI0_PHY_ADDR) &amp; M_MI0_PHY_ADDR)</span>

<span class="cp">#define A_MI0_DATA_EXT 0xb0c</span>
<span class="cp">#define A_MI0_DATA_INT 0xb10</span>

<span class="cm">/* GMAC registers */</span>
<span class="cp">#define A_GMAC_MACID_LO	0x28</span>
<span class="cp">#define A_GMAC_MACID_HI	0x2c</span>
<span class="cp">#define A_GMAC_CSR	0x30</span>

<span class="cp">#define S_INTERFACE    0</span>
<span class="cp">#define M_INTERFACE    0x3</span>
<span class="cp">#define V_INTERFACE(x) ((x) &lt;&lt; S_INTERFACE)</span>
<span class="cp">#define G_INTERFACE(x) (((x) &gt;&gt; S_INTERFACE) &amp; M_INTERFACE)</span>

<span class="cp">#define S_MAC_TX_ENABLE    2</span>
<span class="cp">#define V_MAC_TX_ENABLE(x) ((x) &lt;&lt; S_MAC_TX_ENABLE)</span>
<span class="cp">#define F_MAC_TX_ENABLE    V_MAC_TX_ENABLE(1U)</span>

<span class="cp">#define S_MAC_RX_ENABLE    3</span>
<span class="cp">#define V_MAC_RX_ENABLE(x) ((x) &lt;&lt; S_MAC_RX_ENABLE)</span>
<span class="cp">#define F_MAC_RX_ENABLE    V_MAC_RX_ENABLE(1U)</span>

<span class="cp">#define S_MAC_LB_ENABLE    4</span>
<span class="cp">#define V_MAC_LB_ENABLE(x) ((x) &lt;&lt; S_MAC_LB_ENABLE)</span>
<span class="cp">#define F_MAC_LB_ENABLE    V_MAC_LB_ENABLE(1U)</span>

<span class="cp">#define S_MAC_SPEED    5</span>
<span class="cp">#define M_MAC_SPEED    0x3</span>
<span class="cp">#define V_MAC_SPEED(x) ((x) &lt;&lt; S_MAC_SPEED)</span>
<span class="cp">#define G_MAC_SPEED(x) (((x) &gt;&gt; S_MAC_SPEED) &amp; M_MAC_SPEED)</span>

<span class="cp">#define S_MAC_HD_FC_ENABLE    7</span>
<span class="cp">#define V_MAC_HD_FC_ENABLE(x) ((x) &lt;&lt; S_MAC_HD_FC_ENABLE)</span>
<span class="cp">#define F_MAC_HD_FC_ENABLE    V_MAC_HD_FC_ENABLE(1U)</span>

<span class="cp">#define S_MAC_HALF_DUPLEX    8</span>
<span class="cp">#define V_MAC_HALF_DUPLEX(x) ((x) &lt;&lt; S_MAC_HALF_DUPLEX)</span>
<span class="cp">#define F_MAC_HALF_DUPLEX    V_MAC_HALF_DUPLEX(1U)</span>

<span class="cp">#define S_MAC_PROMISC    9</span>
<span class="cp">#define V_MAC_PROMISC(x) ((x) &lt;&lt; S_MAC_PROMISC)</span>
<span class="cp">#define F_MAC_PROMISC    V_MAC_PROMISC(1U)</span>

<span class="cp">#define S_MAC_MC_ENABLE    10</span>
<span class="cp">#define V_MAC_MC_ENABLE(x) ((x) &lt;&lt; S_MAC_MC_ENABLE)</span>
<span class="cp">#define F_MAC_MC_ENABLE    V_MAC_MC_ENABLE(1U)</span>

<span class="cp">#define S_MAC_RESET    11</span>
<span class="cp">#define V_MAC_RESET(x) ((x) &lt;&lt; S_MAC_RESET)</span>
<span class="cp">#define F_MAC_RESET    V_MAC_RESET(1U)</span>

<span class="cp">#define S_MAC_RX_PAUSE_ENABLE    12</span>
<span class="cp">#define V_MAC_RX_PAUSE_ENABLE(x) ((x) &lt;&lt; S_MAC_RX_PAUSE_ENABLE)</span>
<span class="cp">#define F_MAC_RX_PAUSE_ENABLE    V_MAC_RX_PAUSE_ENABLE(1U)</span>

<span class="cp">#define S_MAC_TX_PAUSE_ENABLE    13</span>
<span class="cp">#define V_MAC_TX_PAUSE_ENABLE(x) ((x) &lt;&lt; S_MAC_TX_PAUSE_ENABLE)</span>
<span class="cp">#define F_MAC_TX_PAUSE_ENABLE    V_MAC_TX_PAUSE_ENABLE(1U)</span>

<span class="cp">#define S_MAC_LWM_ENABLE    14</span>
<span class="cp">#define V_MAC_LWM_ENABLE(x) ((x) &lt;&lt; S_MAC_LWM_ENABLE)</span>
<span class="cp">#define F_MAC_LWM_ENABLE    V_MAC_LWM_ENABLE(1U)</span>

<span class="cp">#define S_MAC_MAGIC_PKT_ENABLE    15</span>
<span class="cp">#define V_MAC_MAGIC_PKT_ENABLE(x) ((x) &lt;&lt; S_MAC_MAGIC_PKT_ENABLE)</span>
<span class="cp">#define F_MAC_MAGIC_PKT_ENABLE    V_MAC_MAGIC_PKT_ENABLE(1U)</span>

<span class="cp">#define S_MAC_ISL_ENABLE    16</span>
<span class="cp">#define V_MAC_ISL_ENABLE(x) ((x) &lt;&lt; S_MAC_ISL_ENABLE)</span>
<span class="cp">#define F_MAC_ISL_ENABLE    V_MAC_ISL_ENABLE(1U)</span>

<span class="cp">#define S_MAC_JUMBO_ENABLE    17</span>
<span class="cp">#define V_MAC_JUMBO_ENABLE(x) ((x) &lt;&lt; S_MAC_JUMBO_ENABLE)</span>
<span class="cp">#define F_MAC_JUMBO_ENABLE    V_MAC_JUMBO_ENABLE(1U)</span>

<span class="cp">#define S_MAC_RX_PAD_ENABLE    18</span>
<span class="cp">#define V_MAC_RX_PAD_ENABLE(x) ((x) &lt;&lt; S_MAC_RX_PAD_ENABLE)</span>
<span class="cp">#define F_MAC_RX_PAD_ENABLE    V_MAC_RX_PAD_ENABLE(1U)</span>

<span class="cp">#define S_MAC_RX_CRC_ENABLE    19</span>
<span class="cp">#define V_MAC_RX_CRC_ENABLE(x) ((x) &lt;&lt; S_MAC_RX_CRC_ENABLE)</span>
<span class="cp">#define F_MAC_RX_CRC_ENABLE    V_MAC_RX_CRC_ENABLE(1U)</span>

<span class="cp">#define A_GMAC_IFS 0x34</span>

<span class="cp">#define S_MAC_IFS2    0</span>
<span class="cp">#define M_MAC_IFS2    0x3f</span>
<span class="cp">#define V_MAC_IFS2(x) ((x) &lt;&lt; S_MAC_IFS2)</span>
<span class="cp">#define G_MAC_IFS2(x) (((x) &gt;&gt; S_MAC_IFS2) &amp; M_MAC_IFS2)</span>

<span class="cp">#define S_MAC_IFS1    8</span>
<span class="cp">#define M_MAC_IFS1    0x7f</span>
<span class="cp">#define V_MAC_IFS1(x) ((x) &lt;&lt; S_MAC_IFS1)</span>
<span class="cp">#define G_MAC_IFS1(x) (((x) &gt;&gt; S_MAC_IFS1) &amp; M_MAC_IFS1)</span>

<span class="cp">#define A_GMAC_JUMBO_FRAME_LEN 0x38</span>
<span class="cp">#define A_GMAC_LNK_DLY 0x3c</span>
<span class="cp">#define A_GMAC_PAUSETIME 0x40</span>
<span class="cp">#define A_GMAC_MCAST_LO 0x44</span>
<span class="cp">#define A_GMAC_MCAST_HI 0x48</span>
<span class="cp">#define A_GMAC_MCAST_MASK_LO 0x4c</span>
<span class="cp">#define A_GMAC_MCAST_MASK_HI 0x50</span>
<span class="cp">#define A_GMAC_RMT_CNT 0x54</span>
<span class="cp">#define A_GMAC_RMT_DATA 0x58</span>
<span class="cp">#define A_GMAC_BACKOFF_SEED 0x5c</span>
<span class="cp">#define A_GMAC_TXF_THRES 0x60</span>

<span class="cp">#define S_TXF_READ_THRESHOLD    0</span>
<span class="cp">#define M_TXF_READ_THRESHOLD    0xff</span>
<span class="cp">#define V_TXF_READ_THRESHOLD(x) ((x) &lt;&lt; S_TXF_READ_THRESHOLD)</span>
<span class="cp">#define G_TXF_READ_THRESHOLD(x) (((x) &gt;&gt; S_TXF_READ_THRESHOLD) &amp; M_TXF_READ_THRESHOLD)</span>

<span class="cp">#define S_TXF_WRITE_THRESHOLD    16</span>
<span class="cp">#define M_TXF_WRITE_THRESHOLD    0xff</span>
<span class="cp">#define V_TXF_WRITE_THRESHOLD(x) ((x) &lt;&lt; S_TXF_WRITE_THRESHOLD)</span>
<span class="cp">#define G_TXF_WRITE_THRESHOLD(x) (((x) &gt;&gt; S_TXF_WRITE_THRESHOLD) &amp; M_TXF_WRITE_THRESHOLD)</span>

<span class="cp">#define MAC_REG_BASE 0x600</span>
<span class="cp">#define MAC_REG_ADDR(idx, reg) (MAC_REG_BASE + (idx) * 128 + (reg))</span>

<span class="cp">#define MAC_REG_IDLO(idx)              MAC_REG_ADDR(idx, A_GMAC_MACID_LO)</span>
<span class="cp">#define MAC_REG_IDHI(idx)              MAC_REG_ADDR(idx, A_GMAC_MACID_HI)</span>
<span class="cp">#define MAC_REG_CSR(idx)               MAC_REG_ADDR(idx, A_GMAC_CSR)</span>
<span class="cp">#define MAC_REG_IFS(idx)               MAC_REG_ADDR(idx, A_GMAC_IFS)</span>
<span class="cp">#define MAC_REG_LARGEFRAMELENGTH(idx) MAC_REG_ADDR(idx, A_GMAC_JUMBO_FRAME_LEN)</span>
<span class="cp">#define MAC_REG_LINKDLY(idx)           MAC_REG_ADDR(idx, A_GMAC_LNK_DLY)</span>
<span class="cp">#define MAC_REG_PAUSETIME(idx)         MAC_REG_ADDR(idx, A_GMAC_PAUSETIME)</span>
<span class="cp">#define MAC_REG_CASTLO(idx)            MAC_REG_ADDR(idx, A_GMAC_MCAST_LO)</span>
<span class="cp">#define MAC_REG_MCASTHI(idx)           MAC_REG_ADDR(idx, A_GMAC_MCAST_HI)</span>
<span class="cp">#define MAC_REG_CASTMASKLO(idx)        MAC_REG_ADDR(idx, A_GMAC_MCAST_MASK_LO)</span>
<span class="cp">#define MAC_REG_MCASTMASKHI(idx)       MAC_REG_ADDR(idx, A_GMAC_MCAST_MASK_HI)</span>
<span class="cp">#define MAC_REG_RMCNT(idx)             MAC_REG_ADDR(idx, A_GMAC_RMT_CNT)</span>
<span class="cp">#define MAC_REG_RMDATA(idx)            MAC_REG_ADDR(idx, A_GMAC_RMT_DATA)</span>
<span class="cp">#define MAC_REG_GMRANDBACKOFFSEED(idx) MAC_REG_ADDR(idx, A_GMAC_BACKOFF_SEED)</span>
<span class="cp">#define MAC_REG_TXFTHRESHOLDS(idx)     MAC_REG_ADDR(idx, A_GMAC_TXF_THRES)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
