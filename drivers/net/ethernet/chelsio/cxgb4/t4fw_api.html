<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › chelsio › cxgb4 › t4fw_api.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>t4fw_api.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * This file is part of the Chelsio T4 Ethernet driver for Linux.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2009-2010 Chelsio Communications, Inc. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This software is available to you under a choice of one of two</span>
<span class="cm"> * licenses.  You may choose to be licensed under the terms of the GNU</span>
<span class="cm"> * General Public License (GPL) Version 2, available from the file</span>
<span class="cm"> * COPYING in the main directory of this source tree, or the</span>
<span class="cm"> * OpenIB.org BSD license below:</span>
<span class="cm"> *</span>
<span class="cm"> *     Redistribution and use in source and binary forms, with or</span>
<span class="cm"> *     without modification, are permitted provided that the following</span>
<span class="cm"> *     conditions are met:</span>
<span class="cm"> *</span>
<span class="cm"> *      - Redistributions of source code must retain the above</span>
<span class="cm"> *        copyright notice, this list of conditions and the following</span>
<span class="cm"> *        disclaimer.</span>
<span class="cm"> *</span>
<span class="cm"> *      - Redistributions in binary form must reproduce the above</span>
<span class="cm"> *        copyright notice, this list of conditions and the following</span>
<span class="cm"> *        disclaimer in the documentation and/or other materials</span>
<span class="cm"> *        provided with the distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span>
<span class="cm"> * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</span>
<span class="cm"> * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS</span>
<span class="cm"> * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN</span>
<span class="cm"> * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</span>
<span class="cm"> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="cm"> * SOFTWARE.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _T4FW_INTERFACE_H_</span>
<span class="cp">#define _T4FW_INTERFACE_H_</span>

<span class="cp">#define FW_T4VF_SGE_BASE_ADDR      0x0000</span>
<span class="cp">#define FW_T4VF_MPS_BASE_ADDR      0x0100</span>
<span class="cp">#define FW_T4VF_PL_BASE_ADDR       0x0200</span>
<span class="cp">#define FW_T4VF_MBDATA_BASE_ADDR   0x0240</span>
<span class="cp">#define FW_T4VF_CIM_BASE_ADDR      0x0300</span>

<span class="k">enum</span> <span class="n">fw_wr_opcodes</span> <span class="p">{</span>
	<span class="n">FW_FILTER_WR</span>                   <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_ULPTX_WR</span>                    <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_TP_WR</span>                       <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">FW_ETH_TX_PKT_WR</span>               <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_FLOWC_WR</span>                    <span class="o">=</span> <span class="mh">0x0a</span><span class="p">,</span>
	<span class="n">FW_OFLD_TX_DATA_WR</span>             <span class="o">=</span> <span class="mh">0x0b</span><span class="p">,</span>
	<span class="n">FW_CMD_WR</span>                      <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">FW_ETH_TX_PKT_VM_WR</span>            <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="n">FW_RI_RES_WR</span>                   <span class="o">=</span> <span class="mh">0x0c</span><span class="p">,</span>
	<span class="n">FW_RI_INIT_WR</span>                  <span class="o">=</span> <span class="mh">0x0d</span><span class="p">,</span>
	<span class="n">FW_RI_RDMA_WRITE_WR</span>            <span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="n">FW_RI_SEND_WR</span>                  <span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">FW_RI_RDMA_READ_WR</span>             <span class="o">=</span> <span class="mh">0x16</span><span class="p">,</span>
	<span class="n">FW_RI_RECV_WR</span>                  <span class="o">=</span> <span class="mh">0x17</span><span class="p">,</span>
	<span class="n">FW_RI_BIND_MW_WR</span>               <span class="o">=</span> <span class="mh">0x18</span><span class="p">,</span>
	<span class="n">FW_RI_FR_NSMR_WR</span>               <span class="o">=</span> <span class="mh">0x19</span><span class="p">,</span>
	<span class="n">FW_RI_INV_LSTAG_WR</span>             <span class="o">=</span> <span class="mh">0x1a</span><span class="p">,</span>
	<span class="n">FW_LASTC2E_WR</span>                  <span class="o">=</span> <span class="mh">0x40</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_wr_hdr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">hi</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">lo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_WR_OP(x)	 ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_WR_ATOMIC(x)	 ((x) &lt;&lt; 23)</span>
<span class="cp">#define FW_WR_FLUSH(x)   ((x) &lt;&lt; 22)</span>
<span class="cp">#define FW_WR_COMPL(x)   ((x) &lt;&lt; 21)</span>
<span class="cp">#define FW_WR_IMMDLEN_MASK 0xff</span>
<span class="cp">#define FW_WR_IMMDLEN(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_WR_EQUIQ	(1U &lt;&lt; 31)</span>
<span class="cp">#define FW_WR_EQUEQ	(1U &lt;&lt; 30)</span>
<span class="cp">#define FW_WR_FLOWID(x)	((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_WR_LEN16(x)	((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_ulptx_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_compl</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">flowid_len16</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">cookie</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_tp_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_immdlen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">flowid_len16</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">cookie</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_eth_tx_pkt_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_immdlen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">equiq_to_len16</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r3</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_flowc_mnem</span> <span class="p">{</span>
	<span class="n">FW_FLOWC_MNEM_PFNVFN</span><span class="p">,</span>		<span class="cm">/* PFN [15:8] VFN [7:0] */</span>
	<span class="n">FW_FLOWC_MNEM_CH</span><span class="p">,</span>
	<span class="n">FW_FLOWC_MNEM_PORT</span><span class="p">,</span>
	<span class="n">FW_FLOWC_MNEM_IQID</span><span class="p">,</span>
	<span class="n">FW_FLOWC_MNEM_SNDNXT</span><span class="p">,</span>
	<span class="n">FW_FLOWC_MNEM_RCVNXT</span><span class="p">,</span>
	<span class="n">FW_FLOWC_MNEM_SNDBUF</span><span class="p">,</span>
	<span class="n">FW_FLOWC_MNEM_MSS</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_flowc_mnemval</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">mnemonic</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">r4</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__be32</span> <span class="n">val</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_flowc_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_nparams</span><span class="p">;</span>
<span class="cp">#define FW_FLOWC_WR_NPARAMS(x)	((x) &lt;&lt; 0)</span>
	<span class="n">__be32</span> <span class="n">flowid_len16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fw_flowc_mnemval</span> <span class="n">mnemval</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ofld_tx_data_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_immdlen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">flowid_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">plen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">tunnel_to_proxy</span><span class="p">;</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_TUNNEL(x)	 ((x) &lt;&lt; 19)</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_SAVE(x)	 ((x) &lt;&lt; 18)</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_FLUSH(x)	 ((x) &lt;&lt; 17)</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_URGENT(x)	 ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_MORE(x)	 ((x) &lt;&lt; 15)</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_SHOVE(x)	 ((x) &lt;&lt; 14)</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_ULPMODE(x)	 ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_OFLD_TX_DATA_WR_ULPSUBMODE(x) ((x) &lt;&lt; 6)</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_cmd_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_dma</span><span class="p">;</span>
<span class="cp">#define FW_CMD_WR_DMA (1U &lt;&lt; 17)</span>
	<span class="n">__be32</span> <span class="n">len16_pkd</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">cookie_daddr</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_eth_tx_pkt_vm_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_immdlen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">equiq_to_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r3</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">ethmacdst</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">ethmacsrc</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">ethtype</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">vlantci</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_CMD_MAX_TIMEOUT 3000</span>

<span class="k">enum</span> <span class="n">fw_cmd_opcodes</span> <span class="p">{</span>
	<span class="n">FW_LDST_CMD</span>                    <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_RESET_CMD</span>                   <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">FW_HELLO_CMD</span>                   <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_BYE_CMD</span>                     <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">FW_INITIALIZE_CMD</span>              <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_CMD</span>             <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">FW_PARAMS_CMD</span>                  <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_PFVF_CMD</span>                    <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">FW_IQ_CMD</span>                      <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">FW_EQ_MNGT_CMD</span>                 <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="n">FW_EQ_ETH_CMD</span>                  <span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>
	<span class="n">FW_EQ_CTRL_CMD</span>                 <span class="o">=</span> <span class="mh">0x13</span><span class="p">,</span>
	<span class="n">FW_EQ_OFLD_CMD</span>                 <span class="o">=</span> <span class="mh">0x21</span><span class="p">,</span>
	<span class="n">FW_VI_CMD</span>                      <span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="n">FW_VI_MAC_CMD</span>                  <span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">FW_VI_RXMODE_CMD</span>               <span class="o">=</span> <span class="mh">0x16</span><span class="p">,</span>
	<span class="n">FW_VI_ENABLE_CMD</span>               <span class="o">=</span> <span class="mh">0x17</span><span class="p">,</span>
	<span class="n">FW_ACL_MAC_CMD</span>                 <span class="o">=</span> <span class="mh">0x18</span><span class="p">,</span>
	<span class="n">FW_ACL_VLAN_CMD</span>                <span class="o">=</span> <span class="mh">0x19</span><span class="p">,</span>
	<span class="n">FW_VI_STATS_CMD</span>                <span class="o">=</span> <span class="mh">0x1a</span><span class="p">,</span>
	<span class="n">FW_PORT_CMD</span>                    <span class="o">=</span> <span class="mh">0x1b</span><span class="p">,</span>
	<span class="n">FW_PORT_STATS_CMD</span>              <span class="o">=</span> <span class="mh">0x1c</span><span class="p">,</span>
	<span class="n">FW_PORT_LB_STATS_CMD</span>           <span class="o">=</span> <span class="mh">0x1d</span><span class="p">,</span>
	<span class="n">FW_PORT_TRACE_CMD</span>              <span class="o">=</span> <span class="mh">0x1e</span><span class="p">,</span>
	<span class="n">FW_PORT_TRACE_MMAP_CMD</span>         <span class="o">=</span> <span class="mh">0x1f</span><span class="p">,</span>
	<span class="n">FW_RSS_IND_TBL_CMD</span>             <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">FW_RSS_GLB_CONFIG_CMD</span>          <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span>
	<span class="n">FW_RSS_VI_CONFIG_CMD</span>           <span class="o">=</span> <span class="mh">0x23</span><span class="p">,</span>
	<span class="n">FW_LASTC2E_CMD</span>                 <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span>
	<span class="n">FW_ERROR_CMD</span>                   <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
	<span class="n">FW_DEBUG_CMD</span>                   <span class="o">=</span> <span class="mh">0x81</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_cmd_cap</span> <span class="p">{</span>
	<span class="n">FW_CMD_CAP_PF</span>                  <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_CMD_CAP_DMAQ</span>                <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_CMD_CAP_PORT</span>                <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_CMD_CAP_PORTPROMISC</span>         <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_CMD_CAP_PORTSTATS</span>           <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">FW_CMD_CAP_VF</span>                  <span class="o">=</span> <span class="mh">0x80</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Generic command header flit0</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fw_cmd_hdr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">hi</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">lo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_CMD_OP(x)		((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_CMD_OP_GET(x)        (((x) &gt;&gt; 24) &amp; 0xff)</span>
<span class="cp">#define FW_CMD_REQUEST          (1U &lt;&lt; 23)</span>
<span class="cp">#define FW_CMD_READ		(1U &lt;&lt; 22)</span>
<span class="cp">#define FW_CMD_WRITE		(1U &lt;&lt; 21)</span>
<span class="cp">#define FW_CMD_EXEC		(1U &lt;&lt; 20)</span>
<span class="cp">#define FW_CMD_RAMASK(x)	((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_CMD_RETVAL(x)	((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_CMD_RETVAL_GET(x)	(((x) &gt;&gt; 8) &amp; 0xff)</span>
<span class="cp">#define FW_CMD_LEN16(x)         ((x) &lt;&lt; 0)</span>

<span class="k">enum</span> <span class="n">fw_ldst_addrspc</span> <span class="p">{</span>
	<span class="n">FW_LDST_ADDRSPC_FIRMWARE</span>  <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_SGE_EGRC</span>  <span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_SGE_INGC</span>  <span class="o">=</span> <span class="mh">0x0009</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_SGE_FLMC</span>  <span class="o">=</span> <span class="mh">0x000a</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_SGE_CONMC</span> <span class="o">=</span> <span class="mh">0x000b</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_TP_PIO</span>    <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_TP_TM_PIO</span> <span class="o">=</span> <span class="mh">0x0011</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_TP_MIB</span>    <span class="o">=</span> <span class="mh">0x0012</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_MDIO</span>      <span class="o">=</span> <span class="mh">0x0018</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_MPS</span>       <span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">FW_LDST_ADDRSPC_FUNC</span>      <span class="o">=</span> <span class="mh">0x0028</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ldst_mps_fid</span> <span class="p">{</span>
	<span class="n">FW_LDST_MPS_ATRB</span><span class="p">,</span>
	<span class="n">FW_LDST_MPS_RPLC</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ldst_func_access_ctl</span> <span class="p">{</span>
	<span class="n">FW_LDST_FUNC_ACC_CTL_VIID</span><span class="p">,</span>
	<span class="n">FW_LDST_FUNC_ACC_CTL_FID</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ldst_func_mod_index</span> <span class="p">{</span>
	<span class="n">FW_LDST_FUNC_MPS</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ldst_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_addrspace</span><span class="p">;</span>
<span class="cp">#define FW_LDST_CMD_ADDRSPACE(x) ((x) &lt;&lt; 0)</span>
	<span class="n">__be32</span> <span class="n">cycles_to_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_ldst</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_ldst_addrval</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">addr</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">val</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">addrval</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_ldst_idctxt</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">physid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">msg_pkd</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data7</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data6</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data5</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data4</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data3</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data2</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data1</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ctxt_data0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">idctxt</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_ldst_mdio</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">paddr_mmd</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">raddr</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">vctl</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">rval</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">mdio</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_ldst_mps</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">fid_ctl</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">rplcpf_pkd</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">rplc127_96</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">rplc95_64</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">rplc63_32</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">rplc31_0</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">atrb</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">vlan</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">mps</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_ldst_func</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">access_ctl</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">mod_index</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ctl_id</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">offset</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">data0</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">data1</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">func</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_LDST_CMD_MSG(x)	((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_LDST_CMD_PADDR(x)	((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_LDST_CMD_MMD(x)	((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_LDST_CMD_FID(x)	((x) &lt;&lt; 15)</span>
<span class="cp">#define FW_LDST_CMD_CTL(x)	((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_LDST_CMD_RPLCPF(x)	((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_reset_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_write</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">val</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r3</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_hello_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_write</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">err_to_mbasyncnot</span><span class="p">;</span>
<span class="cp">#define FW_HELLO_CMD_ERR	    (1U &lt;&lt; 31)</span>
<span class="cp">#define FW_HELLO_CMD_INIT	    (1U &lt;&lt; 30)</span>
<span class="cp">#define FW_HELLO_CMD_MASTERDIS(x)   ((x) &lt;&lt; 29)</span>
<span class="cp">#define FW_HELLO_CMD_MASTERFORCE(x) ((x) &lt;&lt; 28)</span>
<span class="cp">#define FW_HELLO_CMD_MBMASTER(x)    ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_HELLO_CMD_MBASYNCNOT(x)  ((x) &lt;&lt; 20)</span>
	<span class="n">__be32</span> <span class="n">fwrev</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_bye_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_write</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r3</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_initialize_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_write</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r3</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_hm</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_HM_PCIE</span>		<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_PL</span>		<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_SGE</span>		<span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_CIM</span>		<span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_ULPTX</span>		<span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_TP</span>		<span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_ULPRX</span>		<span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_PMRX</span>		<span class="o">=</span> <span class="mh">0x00000080</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_PMTX</span>		<span class="o">=</span> <span class="mh">0x00000100</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_MC</span>		<span class="o">=</span> <span class="mh">0x00000200</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_LE</span>		<span class="o">=</span> <span class="mh">0x00000400</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_MPS</span>		<span class="o">=</span> <span class="mh">0x00000800</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_XGMAC</span>		<span class="o">=</span> <span class="mh">0x00001000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_CPLSWITCH</span>	<span class="o">=</span> <span class="mh">0x00002000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_T4DBG</span>		<span class="o">=</span> <span class="mh">0x00004000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_MI</span>		<span class="o">=</span> <span class="mh">0x00008000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_I2CM</span>		<span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_NCSI</span>		<span class="o">=</span> <span class="mh">0x00020000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_SMB</span>		<span class="o">=</span> <span class="mh">0x00040000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_MA</span>		<span class="o">=</span> <span class="mh">0x00080000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_EDRAM</span>		<span class="o">=</span> <span class="mh">0x00100000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_PMU</span>		<span class="o">=</span> <span class="mh">0x00200000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_UART</span>		<span class="o">=</span> <span class="mh">0x00400000</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_HM_SF</span>		<span class="o">=</span> <span class="mh">0x00800000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_nbm</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_NBM_IPMI</span>		<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_NBM_NCSI</span>		<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_link</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_LINK_PPP</span>		<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_LINK_QFC</span>		<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_LINK_DCBX</span>	<span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_switch</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_SWITCH_INGRESS</span>	<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_SWITCH_EGRESS</span>	<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_nic</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_NIC</span>		<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_NIC_VM</span>		<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_ofld</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_OFLD</span>		<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_rdma</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_RDMA_RDDP</span>	<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_RDMA_RDMAC</span>	<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_iscsi</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_ISCSI_INITIATOR_PDU</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_ISCSI_TARGET_PDU</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_ISCSI_INITIATOR_CNXOFLD</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_ISCSI_TARGET_CNXOFLD</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_caps_config_fcoe</span> <span class="p">{</span>
	<span class="n">FW_CAPS_CONFIG_FCOE_INITIATOR</span>	<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
	<span class="n">FW_CAPS_CONFIG_FCOE_TARGET</span>	<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_caps_config_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_write</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r2</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">hwmbitmap</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">nbmcaps</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">linkcaps</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">switchcaps</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">r3</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">niccaps</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">ofldcaps</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">rdmacaps</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">r4</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">iscsicaps</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">fcoecaps</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r5</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r6</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * params command mnemonics</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fw_params_mnem</span> <span class="p">{</span>
	<span class="n">FW_PARAMS_MNEM_DEV</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* device params */</span>
	<span class="n">FW_PARAMS_MNEM_PFVF</span>		<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>	<span class="cm">/* function params */</span>
	<span class="n">FW_PARAMS_MNEM_REG</span>		<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>	<span class="cm">/* limited register access */</span>
	<span class="n">FW_PARAMS_MNEM_DMAQ</span>		<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>	<span class="cm">/* dma queue params */</span>
	<span class="n">FW_PARAMS_MNEM_LAST</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * device parameters</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fw_params_param_dev</span> <span class="p">{</span>
	<span class="n">FW_PARAMS_PARAM_DEV_CCLK</span>	<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span> <span class="cm">/* chip core clock in khz */</span>
	<span class="n">FW_PARAMS_PARAM_DEV_PORTVEC</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="cm">/* the port vector */</span>
	<span class="n">FW_PARAMS_PARAM_DEV_NTID</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span> <span class="cm">/* reads the number of TIDs</span>
<span class="cm">						 * allocated by the device&#39;s</span>
<span class="cm">						 * Lookup Engine</span>
<span class="cm">						 */</span>
	<span class="n">FW_PARAMS_PARAM_DEV_FLOWC_BUFFIFO_SZ</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_INTVER_NIC</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_INTVER_VNIC</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_INTVER_OFLD</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_INTVER_RI</span>	<span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_INTVER_ISCSIPDU</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_INTVER_ISCSI</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_INTVER_FCOE</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_FWREV</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DEV_TPREV</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * physical and virtual function parameters</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fw_params_param_pfvf</span> <span class="p">{</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_RWXCAPS</span>	<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_ROUTE_START</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_ROUTE_END</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_CLIP_START</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_CLIP_END</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_FILTER_START</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_FILTER_END</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_SERVER_START</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_SERVER_END</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_TDDP_START</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_TDDP_END</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_ISCSI_START</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_ISCSI_END</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_STAG_START</span> <span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_STAG_END</span> <span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_RQ_START</span> <span class="o">=</span> <span class="mh">0x1F</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_RQ_END</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_PBL_START</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_PBL_END</span>	<span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_L2T_START</span> <span class="o">=</span> <span class="mh">0x13</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_L2T_END</span> <span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_SQRQ_START</span> <span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_SQRQ_END</span>	<span class="o">=</span> <span class="mh">0x16</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_CQ_START</span>	<span class="o">=</span> <span class="mh">0x17</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_CQ_END</span>	<span class="o">=</span> <span class="mh">0x18</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_SCHEDCLASS_ETH</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_VIID</span>       <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_CPMASK</span>     <span class="o">=</span> <span class="mh">0x25</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_OCQ_START</span>  <span class="o">=</span> <span class="mh">0x26</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_OCQ_END</span>    <span class="o">=</span> <span class="mh">0x27</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_CONM_MAP</span>   <span class="o">=</span> <span class="mh">0x28</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_IQFLINT_START</span> <span class="o">=</span> <span class="mh">0x29</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_IQFLINT_END</span> <span class="o">=</span> <span class="mh">0x2A</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_EQ_START</span>	<span class="o">=</span> <span class="mh">0x2B</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_PFVF_EQ_END</span>	<span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * dma queue parameters</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fw_params_param_dmaq</span> <span class="p">{</span>
	<span class="n">FW_PARAMS_PARAM_DMAQ_IQ_DCAEN_DCACPU</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DMAQ_IQ_INTCNTTHRESH</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DMAQ_EQ_CMPLIQID_MNGT</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DMAQ_EQ_CMPLIQID_CTRL</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="n">FW_PARAMS_PARAM_DMAQ_EQ_SCHEDCLASS_ETH</span> <span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define FW_PARAMS_MNEM(x)      ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_PARAMS_PARAM_X(x)   ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_PARAMS_PARAM_Y(x)   ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_PARAMS_PARAM_Z(x)   ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PARAMS_PARAM_XYZ(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PARAMS_PARAM_YZ(x)  ((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_params_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fw_params_param</span> <span class="p">{</span>
		<span class="n">__be32</span> <span class="n">mnem</span><span class="p">;</span>
		<span class="n">__be32</span> <span class="n">val</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">param</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define FW_PARAMS_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_PARAMS_CMD_VFN(x) ((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_pfvf_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">niqflint_niq</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">type_to_neq</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">tc_to_nexactf</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r_caps_to_nethctrl</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">nricq</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">nriqp</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r4</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_PFVF_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_PFVF_CMD_VFN(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_PFVF_CMD_NIQFLINT(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_PFVF_CMD_NIQFLINT_GET(x) (((x) &gt;&gt; 20) &amp; 0xfff)</span>

<span class="cp">#define FW_PFVF_CMD_NIQ(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PFVF_CMD_NIQ_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>

<span class="cp">#define FW_PFVF_CMD_TYPE (1 &lt;&lt; 31)</span>
<span class="cp">#define FW_PFVF_CMD_TYPE_GET(x) (((x) &gt;&gt; 31) &amp; 0x1)</span>

<span class="cp">#define FW_PFVF_CMD_CMASK(x) ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_PFVF_CMD_CMASK_MASK 0xf</span>
<span class="cp">#define FW_PFVF_CMD_CMASK_GET(x) (((x) &gt;&gt; 24) &amp; FW_PFVF_CMD_CMASK_MASK)</span>

<span class="cp">#define FW_PFVF_CMD_PMASK(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_PFVF_CMD_PMASK_MASK 0xf</span>
<span class="cp">#define FW_PFVF_CMD_PMASK_GET(x) (((x) &gt;&gt; 20) &amp; FW_PFVF_CMD_PMASK_MASK)</span>

<span class="cp">#define FW_PFVF_CMD_NEQ(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PFVF_CMD_NEQ_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>

<span class="cp">#define FW_PFVF_CMD_TC(x) ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_PFVF_CMD_TC_GET(x) (((x) &gt;&gt; 24) &amp; 0xff)</span>

<span class="cp">#define FW_PFVF_CMD_NVI(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_PFVF_CMD_NVI_GET(x) (((x) &gt;&gt; 16) &amp; 0xff)</span>

<span class="cp">#define FW_PFVF_CMD_NEXACTF(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PFVF_CMD_NEXACTF_GET(x) (((x) &gt;&gt; 0) &amp; 0xffff)</span>

<span class="cp">#define FW_PFVF_CMD_R_CAPS(x) ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_PFVF_CMD_R_CAPS_GET(x) (((x) &gt;&gt; 24) &amp; 0xff)</span>

<span class="cp">#define FW_PFVF_CMD_WX_CAPS(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_PFVF_CMD_WX_CAPS_GET(x) (((x) &gt;&gt; 16) &amp; 0xff)</span>

<span class="cp">#define FW_PFVF_CMD_NETHCTRL(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PFVF_CMD_NETHCTRL_GET(x) (((x) &gt;&gt; 0) &amp; 0xffff)</span>

<span class="k">enum</span> <span class="n">fw_iq_type</span> <span class="p">{</span>
	<span class="n">FW_IQ_TYPE_FL_INT_CAP</span><span class="p">,</span>
	<span class="n">FW_IQ_TYPE_NO_FL_INT_CAP</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_iq_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">alloc_to_len16</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">physiqid</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">iqid</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">fl0id</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">fl1id</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">type_to_iqandstindex</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">iqdroprss_to_iqesize</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">iqsize</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">iqaddr</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iqns_to_fl0congen</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">fl0dcaen_to_fl0cidxfthresh</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">fl0size</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">fl0addr</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">fl1cngchmap_to_fl1congen</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">fl1dcaen_to_fl1cidxfthresh</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">fl1size</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">fl1addr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_IQ_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_IQ_CMD_VFN(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_IQ_CMD_ALLOC (1U &lt;&lt; 31)</span>
<span class="cp">#define FW_IQ_CMD_FREE (1U &lt;&lt; 30)</span>
<span class="cp">#define FW_IQ_CMD_MODIFY (1U &lt;&lt; 29)</span>
<span class="cp">#define FW_IQ_CMD_IQSTART(x) ((x) &lt;&lt; 28)</span>
<span class="cp">#define FW_IQ_CMD_IQSTOP(x) ((x) &lt;&lt; 27)</span>

<span class="cp">#define FW_IQ_CMD_TYPE(x) ((x) &lt;&lt; 29)</span>
<span class="cp">#define FW_IQ_CMD_IQASYNCH(x) ((x) &lt;&lt; 28)</span>
<span class="cp">#define FW_IQ_CMD_VIID(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_IQ_CMD_IQANDST(x) ((x) &lt;&lt; 15)</span>
<span class="cp">#define FW_IQ_CMD_IQANUS(x) ((x) &lt;&lt; 14)</span>
<span class="cp">#define FW_IQ_CMD_IQANUD(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_IQ_CMD_IQANDSTINDEX(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_IQ_CMD_IQDROPRSS (1U &lt;&lt; 15)</span>
<span class="cp">#define FW_IQ_CMD_IQGTSMODE (1U &lt;&lt; 14)</span>
<span class="cp">#define FW_IQ_CMD_IQPCIECH(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_IQ_CMD_IQDCAEN(x) ((x) &lt;&lt; 11)</span>
<span class="cp">#define FW_IQ_CMD_IQDCACPU(x) ((x) &lt;&lt; 6)</span>
<span class="cp">#define FW_IQ_CMD_IQINTCNTTHRESH(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_IQ_CMD_IQO (1U &lt;&lt; 3)</span>
<span class="cp">#define FW_IQ_CMD_IQCPRIO(x) ((x) &lt;&lt; 2)</span>
<span class="cp">#define FW_IQ_CMD_IQESIZE(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_IQ_CMD_IQNS(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_IQ_CMD_IQRO(x) ((x) &lt;&lt; 30)</span>
<span class="cp">#define FW_IQ_CMD_IQFLINTIQHSEN(x) ((x) &lt;&lt; 28)</span>
<span class="cp">#define FW_IQ_CMD_IQFLINTCONGEN(x) ((x) &lt;&lt; 27)</span>
<span class="cp">#define FW_IQ_CMD_IQFLINTISCSIC(x) ((x) &lt;&lt; 26)</span>
<span class="cp">#define FW_IQ_CMD_FL0CNGCHMAP(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_IQ_CMD_FL0CACHELOCK(x) ((x) &lt;&lt; 15)</span>
<span class="cp">#define FW_IQ_CMD_FL0DBP(x) ((x) &lt;&lt; 14)</span>
<span class="cp">#define FW_IQ_CMD_FL0DATANS(x) ((x) &lt;&lt; 13)</span>
<span class="cp">#define FW_IQ_CMD_FL0DATARO(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_IQ_CMD_FL0CONGCIF(x) ((x) &lt;&lt; 11)</span>
<span class="cp">#define FW_IQ_CMD_FL0ONCHIP(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_IQ_CMD_FL0STATUSPGNS(x) ((x) &lt;&lt; 9)</span>
<span class="cp">#define FW_IQ_CMD_FL0STATUSPGRO(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_IQ_CMD_FL0FETCHNS(x) ((x) &lt;&lt; 7)</span>
<span class="cp">#define FW_IQ_CMD_FL0FETCHRO(x) ((x) &lt;&lt; 6)</span>
<span class="cp">#define FW_IQ_CMD_FL0HOSTFCMODE(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_IQ_CMD_FL0CPRIO(x) ((x) &lt;&lt; 3)</span>
<span class="cp">#define FW_IQ_CMD_FL0PADEN (1U &lt;&lt; 2)</span>
<span class="cp">#define FW_IQ_CMD_FL0PACKEN (1U &lt;&lt; 1)</span>
<span class="cp">#define FW_IQ_CMD_FL0CONGEN (1U &lt;&lt; 0)</span>

<span class="cp">#define FW_IQ_CMD_FL0DCAEN(x) ((x) &lt;&lt; 15)</span>
<span class="cp">#define FW_IQ_CMD_FL0DCACPU(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_IQ_CMD_FL0FBMIN(x) ((x) &lt;&lt; 7)</span>
<span class="cp">#define FW_IQ_CMD_FL0FBMAX(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_IQ_CMD_FL0CIDXFTHRESHO (1U &lt;&lt; 3)</span>
<span class="cp">#define FW_IQ_CMD_FL0CIDXFTHRESH(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_IQ_CMD_FL1CNGCHMAP(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_IQ_CMD_FL1CACHELOCK(x) ((x) &lt;&lt; 15)</span>
<span class="cp">#define FW_IQ_CMD_FL1DBP(x) ((x) &lt;&lt; 14)</span>
<span class="cp">#define FW_IQ_CMD_FL1DATANS(x) ((x) &lt;&lt; 13)</span>
<span class="cp">#define FW_IQ_CMD_FL1DATARO(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_IQ_CMD_FL1CONGCIF(x) ((x) &lt;&lt; 11)</span>
<span class="cp">#define FW_IQ_CMD_FL1ONCHIP(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_IQ_CMD_FL1STATUSPGNS(x) ((x) &lt;&lt; 9)</span>
<span class="cp">#define FW_IQ_CMD_FL1STATUSPGRO(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_IQ_CMD_FL1FETCHNS(x) ((x) &lt;&lt; 7)</span>
<span class="cp">#define FW_IQ_CMD_FL1FETCHRO(x) ((x) &lt;&lt; 6)</span>
<span class="cp">#define FW_IQ_CMD_FL1HOSTFCMODE(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_IQ_CMD_FL1CPRIO(x) ((x) &lt;&lt; 3)</span>
<span class="cp">#define FW_IQ_CMD_FL1PADEN (1U &lt;&lt; 2)</span>
<span class="cp">#define FW_IQ_CMD_FL1PACKEN (1U &lt;&lt; 1)</span>
<span class="cp">#define FW_IQ_CMD_FL1CONGEN (1U &lt;&lt; 0)</span>

<span class="cp">#define FW_IQ_CMD_FL1DCAEN(x) ((x) &lt;&lt; 15)</span>
<span class="cp">#define FW_IQ_CMD_FL1DCACPU(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_IQ_CMD_FL1FBMIN(x) ((x) &lt;&lt; 7)</span>
<span class="cp">#define FW_IQ_CMD_FL1FBMAX(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_IQ_CMD_FL1CIDXFTHRESHO (1U &lt;&lt; 3)</span>
<span class="cp">#define FW_IQ_CMD_FL1CIDXFTHRESH(x) ((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_eq_eth_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">alloc_to_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">eqid_pkd</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">physeqid_pkd</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">fetchszm_to_iqid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">dcaen_to_eqsize</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">eqaddr</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">viid_pkd</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r8_lo</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r9</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_EQ_ETH_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_EQ_ETH_CMD_VFN(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_EQ_ETH_CMD_ALLOC (1U &lt;&lt; 31)</span>
<span class="cp">#define FW_EQ_ETH_CMD_FREE (1U &lt;&lt; 30)</span>
<span class="cp">#define FW_EQ_ETH_CMD_MODIFY (1U &lt;&lt; 29)</span>
<span class="cp">#define FW_EQ_ETH_CMD_EQSTART (1U &lt;&lt; 28)</span>
<span class="cp">#define FW_EQ_ETH_CMD_EQSTOP (1U &lt;&lt; 27)</span>

<span class="cp">#define FW_EQ_ETH_CMD_EQID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_EQ_ETH_CMD_EQID_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>
<span class="cp">#define FW_EQ_ETH_CMD_PHYSEQID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_EQ_ETH_CMD_PHYSEQID_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>

<span class="cp">#define FW_EQ_ETH_CMD_FETCHSZM(x) ((x) &lt;&lt; 26)</span>
<span class="cp">#define FW_EQ_ETH_CMD_STATUSPGNS(x) ((x) &lt;&lt; 25)</span>
<span class="cp">#define FW_EQ_ETH_CMD_STATUSPGRO(x) ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_EQ_ETH_CMD_FETCHNS(x) ((x) &lt;&lt; 23)</span>
<span class="cp">#define FW_EQ_ETH_CMD_FETCHRO(x) ((x) &lt;&lt; 22)</span>
<span class="cp">#define FW_EQ_ETH_CMD_HOSTFCMODE(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_EQ_ETH_CMD_CPRIO(x) ((x) &lt;&lt; 19)</span>
<span class="cp">#define FW_EQ_ETH_CMD_ONCHIP(x) ((x) &lt;&lt; 18)</span>
<span class="cp">#define FW_EQ_ETH_CMD_PCIECHN(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_EQ_ETH_CMD_IQID(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_EQ_ETH_CMD_DCAEN(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_EQ_ETH_CMD_DCACPU(x) ((x) &lt;&lt; 26)</span>
<span class="cp">#define FW_EQ_ETH_CMD_FBMIN(x) ((x) &lt;&lt; 23)</span>
<span class="cp">#define FW_EQ_ETH_CMD_FBMAX(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_EQ_ETH_CMD_CIDXFTHRESHO(x) ((x) &lt;&lt; 19)</span>
<span class="cp">#define FW_EQ_ETH_CMD_CIDXFTHRESH(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_EQ_ETH_CMD_EQSIZE(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_EQ_ETH_CMD_VIID(x) ((x) &lt;&lt; 16)</span>

<span class="k">struct</span> <span class="n">fw_eq_ctrl_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">alloc_to_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">cmpliqid_eqid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">physeqid_pkd</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">fetchszm_to_iqid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">dcaen_to_eqsize</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">eqaddr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_EQ_CTRL_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_VFN(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_EQ_CTRL_CMD_ALLOC (1U &lt;&lt; 31)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_FREE (1U &lt;&lt; 30)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_MODIFY (1U &lt;&lt; 29)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_EQSTART (1U &lt;&lt; 28)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_EQSTOP (1U &lt;&lt; 27)</span>

<span class="cp">#define FW_EQ_CTRL_CMD_CMPLIQID(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_EQID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_EQID_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_PHYSEQID_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>

<span class="cp">#define FW_EQ_CTRL_CMD_FETCHSZM (1U &lt;&lt; 26)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_STATUSPGNS (1U &lt;&lt; 25)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_STATUSPGRO (1U &lt;&lt; 24)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_FETCHNS (1U &lt;&lt; 23)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_FETCHRO (1U &lt;&lt; 22)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_HOSTFCMODE(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_CPRIO(x) ((x) &lt;&lt; 19)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_ONCHIP(x) ((x) &lt;&lt; 18)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_PCIECHN(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_IQID(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_EQ_CTRL_CMD_DCAEN(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_DCACPU(x) ((x) &lt;&lt; 26)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_FBMIN(x) ((x) &lt;&lt; 23)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_FBMAX(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_CIDXFTHRESHO(x) ((x) &lt;&lt; 19)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_CIDXFTHRESH(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_EQ_CTRL_CMD_EQSIZE(x) ((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_eq_ofld_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">alloc_to_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">eqid_pkd</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">physeqid_pkd</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">fetchszm_to_iqid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">dcaen_to_eqsize</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">eqaddr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_EQ_OFLD_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_VFN(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_EQ_OFLD_CMD_ALLOC (1U &lt;&lt; 31)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_FREE (1U &lt;&lt; 30)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_MODIFY (1U &lt;&lt; 29)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_EQSTART (1U &lt;&lt; 28)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_EQSTOP (1U &lt;&lt; 27)</span>

<span class="cp">#define FW_EQ_OFLD_CMD_EQID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_EQID_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_PHYSEQID_GET(x) (((x) &gt;&gt; 0) &amp; 0xfffff)</span>

<span class="cp">#define FW_EQ_OFLD_CMD_FETCHSZM(x) ((x) &lt;&lt; 26)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_STATUSPGNS(x) ((x) &lt;&lt; 25)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_STATUSPGRO(x) ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_FETCHNS(x) ((x) &lt;&lt; 23)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_FETCHRO(x) ((x) &lt;&lt; 22)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_HOSTFCMODE(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_CPRIO(x) ((x) &lt;&lt; 19)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_ONCHIP(x) ((x) &lt;&lt; 18)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_PCIECHN(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_IQID(x) ((x) &lt;&lt; 0)</span>

<span class="cp">#define FW_EQ_OFLD_CMD_DCAEN(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_DCACPU(x) ((x) &lt;&lt; 26)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_FBMIN(x) ((x) &lt;&lt; 23)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_FBMAX(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_CIDXFTHRESHO(x) ((x) &lt;&lt; 19)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_CIDXFTHRESH(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_EQ_OFLD_CMD_EQSIZE(x) ((x) &lt;&lt; 0)</span>

<span class="cm">/*</span>
<span class="cm"> * Macros for VIID parsing:</span>
<span class="cm"> * VIID - [10:8] PFN, [7] VI Valid, [6:0] VI number</span>
<span class="cm"> */</span>
<span class="cp">#define FW_VIID_PFN_GET(x) (((x) &gt;&gt; 8) &amp; 0x7)</span>
<span class="cp">#define FW_VIID_VIVLD_GET(x) (((x) &gt;&gt; 7) &amp; 0x1)</span>
<span class="cp">#define FW_VIID_VIN_GET(x) (((x) &gt;&gt; 0) &amp; 0x7F)</span>

<span class="k">struct</span> <span class="n">fw_vi_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">alloc_to_len16</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">type_viid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mac</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">portid_pkd</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nmac</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nmac0</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">rsssize_pkd</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nmac1</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">idsiiq_pkd</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nmac2</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">idseiq_pkd</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nmac3</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be64</span> <span class="n">r9</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r10</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_VI_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_VI_CMD_VFN(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_VI_CMD_ALLOC (1U &lt;&lt; 31)</span>
<span class="cp">#define FW_VI_CMD_FREE (1U &lt;&lt; 30)</span>
<span class="cp">#define FW_VI_CMD_VIID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_VI_CMD_VIID_GET(x) ((x) &amp; 0xfff)</span>
<span class="cp">#define FW_VI_CMD_PORTID(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_VI_CMD_PORTID_GET(x) (((x) &gt;&gt; 4) &amp; 0xf)</span>
<span class="cp">#define FW_VI_CMD_RSSSIZE_GET(x) (((x) &gt;&gt; 0) &amp; 0x7ff)</span>

<span class="cm">/* Special VI_MAC command index ids */</span>
<span class="cp">#define FW_VI_MAC_ADD_MAC		0x3FF</span>
<span class="cp">#define FW_VI_MAC_ADD_PERSIST_MAC	0x3FE</span>
<span class="cp">#define FW_VI_MAC_MAC_BASED_FREE	0x3FD</span>
<span class="cp">#define FW_CLS_TCAM_NUM_ENTRIES		336</span>

<span class="k">enum</span> <span class="n">fw_vi_mac_smac</span> <span class="p">{</span>
	<span class="n">FW_VI_MAC_MPS_TCAM_ENTRY</span><span class="p">,</span>
	<span class="n">FW_VI_MAC_MPS_TCAM_ONLY</span><span class="p">,</span>
	<span class="n">FW_VI_MAC_SMT_ONLY</span><span class="p">,</span>
	<span class="n">FW_VI_MAC_SMT_AND_MPSTCAM</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_vi_mac_result</span> <span class="p">{</span>
	<span class="n">FW_VI_MAC_R_SUCCESS</span><span class="p">,</span>
	<span class="n">FW_VI_MAC_R_F_NONEXISTENT_NOMEM</span><span class="p">,</span>
	<span class="n">FW_VI_MAC_R_SMAC_FAIL</span><span class="p">,</span>
	<span class="n">FW_VI_MAC_R_F_ACL_CHECK</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_vi_mac_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_viid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">freemacs_to_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_vi_mac</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_vi_mac_exact</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">valid_to_idx</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">macaddr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">exact</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
		<span class="k">struct</span> <span class="n">fw_vi_mac_hash</span> <span class="p">{</span>
			<span class="n">__be64</span> <span class="n">hashvec</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">hash</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_VI_MAC_CMD_VIID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_VI_MAC_CMD_FREEMACS(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_VI_MAC_CMD_HASHVECEN (1U &lt;&lt; 23)</span>
<span class="cp">#define FW_VI_MAC_CMD_HASHUNIEN(x) ((x) &lt;&lt; 22)</span>
<span class="cp">#define FW_VI_MAC_CMD_VALID (1U &lt;&lt; 15)</span>
<span class="cp">#define FW_VI_MAC_CMD_PRIO(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_VI_MAC_CMD_SMAC_RESULT(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_VI_MAC_CMD_SMAC_RESULT_GET(x) (((x) &gt;&gt; 10) &amp; 0x3)</span>
<span class="cp">#define FW_VI_MAC_CMD_IDX(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_VI_MAC_CMD_IDX_GET(x) (((x) &gt;&gt; 0) &amp; 0x3ff)</span>

<span class="cp">#define FW_RXMODE_MTU_NO_CHG	65535</span>

<span class="k">struct</span> <span class="n">fw_vi_rxmode_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_viid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">mtu_to_vlanexen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r4_lo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_VI_RXMODE_CMD_VIID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_VI_RXMODE_CMD_MTU_MASK 0xffff</span>
<span class="cp">#define FW_VI_RXMODE_CMD_MTU(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_VI_RXMODE_CMD_PROMISCEN_MASK 0x3</span>
<span class="cp">#define FW_VI_RXMODE_CMD_PROMISCEN(x) ((x) &lt;&lt; 14)</span>
<span class="cp">#define FW_VI_RXMODE_CMD_ALLMULTIEN_MASK 0x3</span>
<span class="cp">#define FW_VI_RXMODE_CMD_ALLMULTIEN(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_VI_RXMODE_CMD_BROADCASTEN_MASK 0x3</span>
<span class="cp">#define FW_VI_RXMODE_CMD_BROADCASTEN(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_VI_RXMODE_CMD_VLANEXEN_MASK 0x3</span>
<span class="cp">#define FW_VI_RXMODE_CMD_VLANEXEN(x) ((x) &lt;&lt; 8)</span>

<span class="k">struct</span> <span class="n">fw_vi_enable_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_viid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">ien_to_len16</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">blinkdur</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">r3</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r4</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_VI_ENABLE_CMD_VIID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_VI_ENABLE_CMD_IEN(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_VI_ENABLE_CMD_EEN(x) ((x) &lt;&lt; 30)</span>
<span class="cp">#define FW_VI_ENABLE_CMD_LED (1U &lt;&lt; 29)</span>

<span class="cm">/* VI VF stats offset definitions */</span>
<span class="cp">#define VI_VF_NUM_STATS	16</span>
<span class="k">enum</span> <span class="n">fw_vi_stats_vf_index</span> <span class="p">{</span>
	<span class="n">FW_VI_VF_STAT_TX_BCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_BCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_MCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_MCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_UCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_UCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_DROP_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_OFLD_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_TX_OFLD_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_RX_BCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_RX_BCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_RX_MCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_RX_MCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_RX_UCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_RX_UCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_VF_STAT_RX_ERR_FRAMES_IX</span>
<span class="p">};</span>

<span class="cm">/* VI PF stats offset definitions */</span>
<span class="cp">#define VI_PF_NUM_STATS	17</span>
<span class="k">enum</span> <span class="n">fw_vi_stats_pf_index</span> <span class="p">{</span>
	<span class="n">FW_VI_PF_STAT_TX_BCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_TX_BCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_TX_MCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_TX_MCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_TX_UCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_TX_UCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_TX_OFLD_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_TX_OFLD_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_BCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_BCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_MCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_MCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_UCAST_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_UCAST_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_VI_PF_STAT_RX_ERR_FRAMES_IX</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_vi_stats_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_viid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_vi_stats</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_vi_stats_ctl</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">nstats_ix</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">r6</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r7</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat0</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat1</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat2</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat3</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat4</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat5</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">ctl</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_vi_stats_pf</span> <span class="p">{</span>
			<span class="n">__be64</span> <span class="n">tx_bcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_bcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_mcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_mcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ucast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ucast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_offload_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_offload_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_pf_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_pf_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_mcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_mcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ucast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ucast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_err_frames</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">pf</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_vi_stats_vf</span> <span class="p">{</span>
			<span class="n">__be64</span> <span class="n">tx_bcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_bcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_mcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_mcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ucast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ucast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_drop_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_offload_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_offload_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_mcast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_mcast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ucast_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ucast_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_err_frames</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">vf</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_VI_STATS_CMD_VIID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_VI_STATS_CMD_NSTATS(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_VI_STATS_CMD_IX(x) ((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_acl_mac_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">en_to_len16</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nmac</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">r3</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">r4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">macaddr0</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">r5</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">macaddr1</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">r6</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">macaddr2</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">r7</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">macaddr3</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define FW_ACL_MAC_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_ACL_MAC_CMD_VFN(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_ACL_MAC_CMD_EN(x) ((x) &lt;&lt; 31)</span>

<span class="k">struct</span> <span class="n">fw_acl_vlan_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_vfn</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">en_to_len16</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">nvlan</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dropnovlan_fm</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">r3_lo</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__be16</span> <span class="n">vlanid</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define FW_ACL_VLAN_CMD_PFN(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_ACL_VLAN_CMD_VFN(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_ACL_VLAN_CMD_EN(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_ACL_VLAN_CMD_DROPNOVLAN(x) ((x) &lt;&lt; 7)</span>
<span class="cp">#define FW_ACL_VLAN_CMD_FM(x) ((x) &lt;&lt; 6)</span>

<span class="k">enum</span> <span class="n">fw_port_cap</span> <span class="p">{</span>
	<span class="n">FW_PORT_CAP_SPEED_100M</span>		<span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_SPEED_1G</span>		<span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_SPEED_2_5G</span>		<span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_SPEED_10G</span>		<span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_SPEED_40G</span>		<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_SPEED_100G</span>		<span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_FC_RX</span>		<span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_FC_TX</span>		<span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_ANEG</span>		<span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_MDI_0</span>		<span class="o">=</span> <span class="mh">0x0200</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_MDI_1</span>		<span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_BEAN</span>		<span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_PMA_LPBK</span>		<span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_PCS_LPBK</span>		<span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_PHYXS_LPBK</span>		<span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span>
	<span class="n">FW_PORT_CAP_FAR_END_LPBK</span>	<span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_port_mdi</span> <span class="p">{</span>
	<span class="n">FW_PORT_MDI_UNCHANGED</span><span class="p">,</span>
	<span class="n">FW_PORT_MDI_AUTO</span><span class="p">,</span>
	<span class="n">FW_PORT_MDI_F_STRAIGHT</span><span class="p">,</span>
	<span class="n">FW_PORT_MDI_F_CROSSOVER</span>
<span class="p">};</span>

<span class="cp">#define FW_PORT_MDI(x) ((x) &lt;&lt; 9)</span>

<span class="k">enum</span> <span class="n">fw_port_action</span> <span class="p">{</span>
	<span class="n">FW_PORT_ACTION_L1_CFG</span>		<span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L2_CFG</span>		<span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_GET_PORT_INFO</span>	<span class="o">=</span> <span class="mh">0x0003</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L2_PPP_CFG</span>	<span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L2_DCB_CFG</span>	<span class="o">=</span> <span class="mh">0x0005</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_LOW_PWR_TO_NORMAL</span> <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L1_LOW_PWR_EN</span>	<span class="o">=</span> <span class="mh">0x0011</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L2_WOL_MODE_EN</span>	<span class="o">=</span> <span class="mh">0x0012</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_LPBK_TO_NORMAL</span>	<span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L1_LPBK</span>		<span class="o">=</span> <span class="mh">0x0021</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L1_PMA_LPBK</span>	<span class="o">=</span> <span class="mh">0x0022</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L1_PCS_LPBK</span>	<span class="o">=</span> <span class="mh">0x0023</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L1_PHYXS_CSIDE_LPBK</span> <span class="o">=</span> <span class="mh">0x0024</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_L1_PHYXS_ESIDE_LPBK</span> <span class="o">=</span> <span class="mh">0x0025</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_PHY_RESET</span>	<span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_PMA_RESET</span>	<span class="o">=</span> <span class="mh">0x0041</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_PCS_RESET</span>	<span class="o">=</span> <span class="mh">0x0042</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_PHYXS_RESET</span>	<span class="o">=</span> <span class="mh">0x0043</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_DTEXS_REEST</span>	<span class="o">=</span> <span class="mh">0x0044</span><span class="p">,</span>
	<span class="n">FW_PORT_ACTION_AN_RESET</span>		<span class="o">=</span> <span class="mh">0x0045</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_port_l2cfg_ctlbf</span> <span class="p">{</span>
	<span class="n">FW_PORT_L2_CTLBF_OVLAN0</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_PORT_L2_CTLBF_OVLAN1</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_PORT_L2_CTLBF_OVLAN2</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_PORT_L2_CTLBF_OVLAN3</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_PORT_L2_CTLBF_IVLAN</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">FW_PORT_L2_CTLBF_TXIPG</span>	<span class="o">=</span> <span class="mh">0x20</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_port_dcb_cfg</span> <span class="p">{</span>
	<span class="n">FW_PORT_DCB_CFG_PG</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_PORT_DCB_CFG_PFC</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_PORT_DCB_CFG_APPL</span>	<span class="o">=</span> <span class="mh">0x04</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_port_dcb_cfg_rc</span> <span class="p">{</span>
	<span class="n">FW_PORT_DCB_CFG_SUCCESS</span>	<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>
	<span class="n">FW_PORT_DCB_CFG_ERROR</span>	<span class="o">=</span> <span class="mh">0x1</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_port_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_portid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">action_to_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_port</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_port_l1cfg</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">rcap</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">l1cfg</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_port_l2cfg</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">ctlbf_to_ivlan0</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ivlantype</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">txipg_pkd</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan0mask</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan0type</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan1mask</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan1type</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan2mask</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan2type</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan3mask</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">ovlan3type</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">l2cfg</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_port_info</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">lstatus_to_modtype</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">pcap</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">acap</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">mtu</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">cbllen</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">r9</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r10</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r11</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">info</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_port_ppp</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">pppen_to_ncsich</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r11</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">ppp</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_port_dcb</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">cfg</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">up_map</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">sf_cfgrc</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">prot_ix</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">pe7_to_pe0</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">numTCPFCs</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">pgid0_to_pgid7</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">numTCs_oui</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">pgpc</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">dcb</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_PORT_CMD_READ (1U &lt;&lt; 22)</span>

<span class="cp">#define FW_PORT_CMD_PORTID(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PORT_CMD_PORTID_GET(x) (((x) &gt;&gt; 0) &amp; 0xf)</span>

<span class="cp">#define FW_PORT_CMD_ACTION(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_PORT_CMD_ACTION_GET(x) (((x) &gt;&gt; 16) &amp; 0xffff)</span>

<span class="cp">#define FW_PORT_CMD_CTLBF(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_PORT_CMD_OVLAN3(x) ((x) &lt;&lt; 7)</span>
<span class="cp">#define FW_PORT_CMD_OVLAN2(x) ((x) &lt;&lt; 6)</span>
<span class="cp">#define FW_PORT_CMD_OVLAN1(x) ((x) &lt;&lt; 5)</span>
<span class="cp">#define FW_PORT_CMD_OVLAN0(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_PORT_CMD_IVLAN0(x) ((x) &lt;&lt; 3)</span>

<span class="cp">#define FW_PORT_CMD_TXIPG(x) ((x) &lt;&lt; 19)</span>

<span class="cp">#define FW_PORT_CMD_LSTATUS (1U &lt;&lt; 31)</span>
<span class="cp">#define FW_PORT_CMD_LSPEED(x) ((x) &lt;&lt; 24)</span>
<span class="cp">#define FW_PORT_CMD_LSPEED_GET(x) (((x) &gt;&gt; 24) &amp; 0x3f)</span>
<span class="cp">#define FW_PORT_CMD_TXPAUSE (1U &lt;&lt; 23)</span>
<span class="cp">#define FW_PORT_CMD_RXPAUSE (1U &lt;&lt; 22)</span>
<span class="cp">#define FW_PORT_CMD_MDIOCAP (1U &lt;&lt; 21)</span>
<span class="cp">#define FW_PORT_CMD_MDIOADDR_GET(x) (((x) &gt;&gt; 16) &amp; 0x1f)</span>
<span class="cp">#define FW_PORT_CMD_LPTXPAUSE (1U &lt;&lt; 15)</span>
<span class="cp">#define FW_PORT_CMD_LPRXPAUSE (1U &lt;&lt; 14)</span>
<span class="cp">#define FW_PORT_CMD_PTYPE_MASK 0x1f</span>
<span class="cp">#define FW_PORT_CMD_PTYPE_GET(x) (((x) &gt;&gt; 8) &amp; FW_PORT_CMD_PTYPE_MASK)</span>
<span class="cp">#define FW_PORT_CMD_MODTYPE_MASK 0x1f</span>
<span class="cp">#define FW_PORT_CMD_MODTYPE_GET(x) (((x) &gt;&gt; 0) &amp; FW_PORT_CMD_MODTYPE_MASK)</span>

<span class="cp">#define FW_PORT_CMD_PPPEN(x) ((x) &lt;&lt; 31)</span>
<span class="cp">#define FW_PORT_CMD_TPSRC(x) ((x) &lt;&lt; 28)</span>
<span class="cp">#define FW_PORT_CMD_NCSISRC(x) ((x) &lt;&lt; 24)</span>

<span class="cp">#define FW_PORT_CMD_CH0(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_PORT_CMD_CH1(x) ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_PORT_CMD_CH2(x) ((x) &lt;&lt; 12)</span>
<span class="cp">#define FW_PORT_CMD_CH3(x) ((x) &lt;&lt; 8)</span>
<span class="cp">#define FW_PORT_CMD_NCSICH(x) ((x) &lt;&lt; 4)</span>

<span class="k">enum</span> <span class="n">fw_port_type</span> <span class="p">{</span>
	<span class="n">FW_PORT_TYPE_FIBER_XFI</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_FIBER_XAUI</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_BT_SGMII</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_BT_XFI</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_BT_XAUI</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_KX4</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_CX4</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_KX</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_KR</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_SFP</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_BP_AP</span><span class="p">,</span>
	<span class="n">FW_PORT_TYPE_BP4_AP</span><span class="p">,</span>

	<span class="n">FW_PORT_TYPE_NONE</span> <span class="o">=</span> <span class="n">FW_PORT_CMD_PTYPE_MASK</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_port_module_type</span> <span class="p">{</span>
	<span class="n">FW_PORT_MOD_TYPE_NA</span><span class="p">,</span>
	<span class="n">FW_PORT_MOD_TYPE_LR</span><span class="p">,</span>
	<span class="n">FW_PORT_MOD_TYPE_SR</span><span class="p">,</span>
	<span class="n">FW_PORT_MOD_TYPE_ER</span><span class="p">,</span>
	<span class="n">FW_PORT_MOD_TYPE_TWINAX_PASSIVE</span><span class="p">,</span>
	<span class="n">FW_PORT_MOD_TYPE_TWINAX_ACTIVE</span><span class="p">,</span>
	<span class="n">FW_PORT_MOD_TYPE_LRM</span><span class="p">,</span>

	<span class="n">FW_PORT_MOD_TYPE_NONE</span> <span class="o">=</span> <span class="n">FW_PORT_CMD_MODTYPE_MASK</span>
<span class="p">};</span>

<span class="cm">/* port stats */</span>
<span class="cp">#define FW_NUM_PORT_STATS 50</span>
<span class="cp">#define FW_NUM_PORT_TX_STATS 23</span>
<span class="cp">#define FW_NUM_PORT_RX_STATS 27</span>

<span class="k">enum</span> <span class="n">fw_port_stats_tx_index</span> <span class="p">{</span>
	<span class="n">FW_STAT_TX_PORT_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_BCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_MCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_UCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_ERROR_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_64B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_65B_127B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_128B_255B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_256B_511B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_512B_1023B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_1024B_1518B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_1519B_MAX_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_DROP_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PAUSE_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP0_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP1_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP2_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP3_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP4_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP5_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP6_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_TX_PORT_PPP7_IX</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_port_stat_rx_index</span> <span class="p">{</span>
	<span class="n">FW_STAT_RX_PORT_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_BCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_MCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_UCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_MTU_ERROR_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_MTU_CRC_ERROR_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_CRC_ERROR_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_LEN_ERROR_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_SYM_ERROR_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_64B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_65B_127B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_128B_255B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_256B_511B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_512B_1023B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_1024B_1518B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_1519B_MAX_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PAUSE_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP0_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP1_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP2_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP3_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP4_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP5_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP6_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_PPP7_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_RX_PORT_LESS_64B_IX</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_port_stats_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_portid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_port_stats</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_port_stats_ctl</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">nstats_bg_bm</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">tx_ix</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">r6</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r7</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat0</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat1</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat2</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat3</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat4</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat5</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">ctl</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_port_stats_all</span> <span class="p">{</span>
			<span class="n">__be64</span> <span class="n">tx_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_bcast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_mcast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ucast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_error</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_64b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_65b_127b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_128b_255b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_256b_511b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_512b_1023b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_1024b_1518b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_1519b_max</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_drop</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_pause</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp0</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp1</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp2</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp3</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp4</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp5</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp6</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ppp7</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bcast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_mcast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ucast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_mtu_error</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_mtu_crc_error</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_crc_error</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_len_error</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_sym_error</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_64b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_65b_127b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_128b_255b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_256b_511b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_512b_1023b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_1024b_1518b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_1519b_max</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_pause</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp0</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp1</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp2</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp3</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp4</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp5</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp6</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_ppp7</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_less_64b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bg_drop</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_bg_trunc</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">all</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_PORT_STATS_CMD_NSTATS(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_PORT_STATS_CMD_BG_BM(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PORT_STATS_CMD_TX(x) ((x) &lt;&lt; 7)</span>
<span class="cp">#define FW_PORT_STATS_CMD_IX(x) ((x) &lt;&lt; 0)</span>

<span class="cm">/* port loopback stats */</span>
<span class="cp">#define FW_NUM_LB_STATS 16</span>
<span class="k">enum</span> <span class="n">fw_port_lb_stats_index</span> <span class="p">{</span>
	<span class="n">FW_STAT_LB_PORT_BYTES_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_FRAMES_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_BCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_MCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_UCAST_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_ERROR_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_64B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_65B_127B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_128B_255B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_256B_511B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_512B_1023B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_1024B_1518B_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_1519B_MAX_IX</span><span class="p">,</span>
	<span class="n">FW_STAT_LB_PORT_DROP_FRAMES_IX</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_port_lb_stats_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_lbport</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_port_lb_stats</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_port_lb_stats_ctl</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">nstats_bg_bm</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">ix_pkd</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">r6</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r7</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat0</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat1</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat2</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat3</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat4</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">stat5</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">ctl</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_port_lb_stats_all</span> <span class="p">{</span>
			<span class="n">__be64</span> <span class="n">tx_bytes</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_frames</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_bcast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_mcast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_ucast</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_error</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_64b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_65b_127b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_128b_255b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_256b_511b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_512b_1023b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_1024b_1518b</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">tx_1519b_max</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_lb_drop</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">rx_lb_trunc</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">all</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_PORT_LB_STATS_CMD_LBPORT(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PORT_LB_STATS_CMD_NSTATS(x) ((x) &lt;&lt; 4)</span>
<span class="cp">#define FW_PORT_LB_STATS_CMD_BG_BM(x) ((x) &lt;&lt; 0)</span>
<span class="cp">#define FW_PORT_LB_STATS_CMD_IX(x) ((x) &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">fw_rss_ind_tbl_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_viid</span><span class="p">;</span>
<span class="cp">#define FW_RSS_IND_TBL_CMD_VIID(x) ((x) &lt;&lt; 0)</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">niqid</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">startidx</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r3</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq0_to_iq2</span><span class="p">;</span>
<span class="cp">#define FW_RSS_IND_TBL_CMD_IQ0(x) ((x) &lt;&lt; 20)</span>
<span class="cp">#define FW_RSS_IND_TBL_CMD_IQ1(x) ((x) &lt;&lt; 10)</span>
<span class="cp">#define FW_RSS_IND_TBL_CMD_IQ2(x) ((x) &lt;&lt; 0)</span>
	<span class="n">__be32</span> <span class="n">iq3_to_iq5</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq6_to_iq8</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq9_to_iq11</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq12_to_iq14</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq15_to_iq17</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq18_to_iq20</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq21_to_iq23</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq24_to_iq26</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq27_to_iq29</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">iq30_iq31</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r15_lo</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_rss_glb_config_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_write</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_rss_glb_config</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_rss_glb_config_manual</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">mode_pkd</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r3</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r4</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r5</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">manual</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_rss_glb_config_basicvirtual</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">mode_pkd</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">synmapen_to_hashtoeplitz</span><span class="p">;</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_SYNMAPEN      (1U &lt;&lt; 8)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_SYN4TUPENIPV6 (1U &lt;&lt; 7)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_SYN2TUPENIPV6 (1U &lt;&lt; 6)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_SYN4TUPENIPV4 (1U &lt;&lt; 5)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_SYN2TUPENIPV4 (1U &lt;&lt; 4)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_OFDMAPEN      (1U &lt;&lt; 3)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_TNLMAPEN      (1U &lt;&lt; 2)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_TNLALLLKP     (1U &lt;&lt; 1)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_HASHTOEPLITZ  (1U &lt;&lt; 0)</span>
			<span class="n">__be64</span> <span class="n">r8</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r9</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">basicvirtual</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_MODE(x)	((x) &lt;&lt; 28)</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_MODE_GET(x) (((x) &gt;&gt; 28) &amp; 0xf)</span>

<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_MODE_MANUAL	0</span>
<span class="cp">#define FW_RSS_GLB_CONFIG_CMD_MODE_BASICVIRTUAL	1</span>

<span class="k">struct</span> <span class="n">fw_rss_vi_config_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_viid</span><span class="p">;</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_VIID(x) ((x) &lt;&lt; 0)</span>
	<span class="n">__be32</span> <span class="n">retval_len16</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_rss_vi_config</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_rss_vi_config_manual</span> <span class="p">{</span>
			<span class="n">__be64</span> <span class="n">r3</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r4</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r5</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">manual</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_rss_vi_config_basicvirtual</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">r6</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">defaultq_to_udpen</span><span class="p">;</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_DEFAULTQ(x)  ((x) &lt;&lt; 16)</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_DEFAULTQ_GET(x) (((x) &gt;&gt; 16) &amp; 0x3ff)</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_IP6FOURTUPEN (1U &lt;&lt; 4)</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_IP6TWOTUPEN  (1U &lt;&lt; 3)</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_IP4FOURTUPEN (1U &lt;&lt; 2)</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_IP4TWOTUPEN  (1U &lt;&lt; 1)</span>
<span class="cp">#define FW_RSS_VI_CONFIG_CMD_UDPEN        (1U &lt;&lt; 0)</span>
			<span class="n">__be64</span> <span class="n">r9</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r10</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">basicvirtual</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_error_type</span> <span class="p">{</span>
	<span class="n">FW_ERROR_TYPE_EXCEPTION</span>		<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>
	<span class="n">FW_ERROR_TYPE_HWMODULE</span>		<span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>
	<span class="n">FW_ERROR_TYPE_WR</span>		<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>
	<span class="n">FW_ERROR_TYPE_ACL</span>		<span class="o">=</span> <span class="mh">0x3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_error_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_to_type</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len16_pkd</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_error</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_error_exception</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">info</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">exception</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_error_hwmodule</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">regaddr</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">regval</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">hwmodule</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_error_wr</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">cidx</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">pfn_vfn</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">eqid</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">wrhdr</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">wr</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_error_acl</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">cidx</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">pfn_vfn</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">eqid</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">mv_pkd</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">val</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
			<span class="n">__be64</span> <span class="n">r4</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">acl</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_debug_cmd</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_type</span><span class="p">;</span>
<span class="cp">#define FW_DEBUG_CMD_TYPE_GET(x) ((x) &amp; 0xff)</span>
	<span class="n">__be32</span> <span class="n">len16_pkd</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_debug</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_debug_assert</span> <span class="p">{</span>
			<span class="n">__be32</span> <span class="n">fcid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">line</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">x</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">y</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">filename_0_7</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
			<span class="n">u8</span> <span class="n">filename_8_15</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
			<span class="n">__be64</span> <span class="n">r3</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">assert</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_debug_prt</span> <span class="p">{</span>
			<span class="n">__be16</span> <span class="n">dprtstridx</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">r3</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
			<span class="n">__be32</span> <span class="n">dprtstrparam0</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">dprtstrparam1</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">dprtstrparam2</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">dprtstrparam3</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">prt</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_hdr</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">ver</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__be16</span>	<span class="n">len512</span><span class="p">;</span>			<span class="cm">/* bin length in units of 512-bytes */</span>
	<span class="n">__be32</span>	<span class="n">fw_ver</span><span class="p">;</span>			<span class="cm">/* firmware version */</span>
	<span class="n">__be32</span>	<span class="n">tp_microcode_ver</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">intfver_nic</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">intfver_vnic</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">intfver_ofld</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">intfver_ri</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">intfver_iscsipdu</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">intfver_iscsi</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">intfver_fcoe</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">__be32</span>  <span class="n">reserved3</span><span class="p">[</span><span class="mi">27</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define FW_HDR_FW_VER_MAJOR_GET(x) (((x) &gt;&gt; 24) &amp; 0xff)</span>
<span class="cp">#define FW_HDR_FW_VER_MINOR_GET(x) (((x) &gt;&gt; 16) &amp; 0xff)</span>
<span class="cp">#define FW_HDR_FW_VER_MICRO_GET(x) (((x) &gt;&gt; 8) &amp; 0xff)</span>
<span class="cp">#define FW_HDR_FW_VER_BUILD_GET(x) (((x) &gt;&gt; 0) &amp; 0xff)</span>

<span class="cp">#define S_FW_CMD_OP 24</span>
<span class="cp">#define V_FW_CMD_OP(x) ((x) &lt;&lt; S_FW_CMD_OP)</span>

<span class="cp">#define S_FW_CMD_REQUEST 23</span>
<span class="cp">#define V_FW_CMD_REQUEST(x) ((x) &lt;&lt; S_FW_CMD_REQUEST)</span>
<span class="cp">#define F_FW_CMD_REQUEST V_FW_CMD_REQUEST(1U)</span>

<span class="cp">#define S_FW_CMD_WRITE 21</span>
<span class="cp">#define V_FW_CMD_WRITE(x) ((x) &lt;&lt; S_FW_CMD_WRITE)</span>
<span class="cp">#define F_FW_CMD_WRITE V_FW_CMD_WRITE(1U)</span>

<span class="cp">#define S_FW_LDST_CMD_ADDRSPACE 0</span>
<span class="cp">#define V_FW_LDST_CMD_ADDRSPACE(x) ((x) &lt;&lt; S_FW_LDST_CMD_ADDRSPACE)</span>

<span class="cp">#endif </span><span class="cm">/* _T4FW_INTERFACE_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
