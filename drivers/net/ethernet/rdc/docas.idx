f | r6040.c | s | 33K | 1087 | Devendra Naga | devendra.aaru@gmail.com | 1338345068 |  | r6040: Do a Proper deinit at errorpath and also when driver unloads (calling r6040_remove_one)  so if mdiobus_alloc fails, the errorpath doesnt do a netif_napi_del and also doesn't set the priv data of the driver to NULL.  at the driver unload stage the driver doesn't remove the NAPI context, and doesnt' set the priv data to NULL, and also doesn't call the pci_iounmap.  Signed-off-by: Devendra Naga <devendra.aaru@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Kconfig | g | 945B |  | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1316116148 |  | MII: fix Kconfig dependencies for MII  MII Kconfig option is apart of the core networking drivers and by default NET_CORE is enabled so drivers selecting MII will have MII enabled as well.  It was found using the randconfig option during testing, MII would be selected but NET_CORE could be disabled.  This caused a dependency error.  Resolved the dependency by selecting NET_CORE when MII is selected.  Reported-by: Emil Tantilov <emil.s.tantilov@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com> Tested-by: Aaron Brown <aaron.f.brown@intel.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Makefile | g | 83B |  | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1313177914 |  | r6040: Move the RDC driver  Move the RDC driver into drivers/net/ethernet/rdc/ and make the necessary Kconfig and Makefile changes.  CC: Florian Fainelli <florian@openwrt.org> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
