<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › broadcom › bnx2x › bnx2x_hsi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>bnx2x_hsi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* bnx2x_hsi.h: Broadcom Everest network driver.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2007-2012 Broadcom Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef BNX2X_HSI_H</span>
<span class="cp">#define BNX2X_HSI_H</span>

<span class="cp">#include &quot;bnx2x_fw_defs.h&quot;</span>

<span class="cp">#define FW_ENCODE_32BIT_PATTERN         0x1e1e1e1e</span>

<span class="k">struct</span> <span class="n">license_key</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>

	<span class="n">u32</span> <span class="n">max_iscsi_conn</span><span class="p">;</span>
<span class="cp">#define BNX2X_MAX_ISCSI_TRGT_CONN_MASK	0xFFFF</span>
<span class="cp">#define BNX2X_MAX_ISCSI_TRGT_CONN_SHIFT	0</span>
<span class="cp">#define BNX2X_MAX_ISCSI_INIT_CONN_MASK	0xFFFF0000</span>
<span class="cp">#define BNX2X_MAX_ISCSI_INIT_CONN_SHIFT	16</span>

	<span class="n">u32</span> <span class="n">reserved_a</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">max_fcoe_conn</span><span class="p">;</span>
<span class="cp">#define BNX2X_MAX_FCOE_TRGT_CONN_MASK	0xFFFF</span>
<span class="cp">#define BNX2X_MAX_FCOE_TRGT_CONN_SHIFT	0</span>
<span class="cp">#define BNX2X_MAX_FCOE_INIT_CONN_MASK	0xFFFF0000</span>
<span class="cp">#define BNX2X_MAX_FCOE_INIT_CONN_SHIFT	16</span>

	<span class="n">u32</span> <span class="n">reserved_b</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>


<span class="cp">#define PORT_0			0</span>
<span class="cp">#define PORT_1			1</span>
<span class="cp">#define PORT_MAX		2</span>
<span class="cp">#define NVM_PATH_MAX		2</span>

<span class="cm">/****************************************************************************</span>
<span class="cm"> * Shared HW configuration                                                  *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="cp">#define PIN_CFG_NA                          0x00000000</span>
<span class="cp">#define PIN_CFG_GPIO0_P0                    0x00000001</span>
<span class="cp">#define PIN_CFG_GPIO1_P0                    0x00000002</span>
<span class="cp">#define PIN_CFG_GPIO2_P0                    0x00000003</span>
<span class="cp">#define PIN_CFG_GPIO3_P0                    0x00000004</span>
<span class="cp">#define PIN_CFG_GPIO0_P1                    0x00000005</span>
<span class="cp">#define PIN_CFG_GPIO1_P1                    0x00000006</span>
<span class="cp">#define PIN_CFG_GPIO2_P1                    0x00000007</span>
<span class="cp">#define PIN_CFG_GPIO3_P1                    0x00000008</span>
<span class="cp">#define PIN_CFG_EPIO0                       0x00000009</span>
<span class="cp">#define PIN_CFG_EPIO1                       0x0000000a</span>
<span class="cp">#define PIN_CFG_EPIO2                       0x0000000b</span>
<span class="cp">#define PIN_CFG_EPIO3                       0x0000000c</span>
<span class="cp">#define PIN_CFG_EPIO4                       0x0000000d</span>
<span class="cp">#define PIN_CFG_EPIO5                       0x0000000e</span>
<span class="cp">#define PIN_CFG_EPIO6                       0x0000000f</span>
<span class="cp">#define PIN_CFG_EPIO7                       0x00000010</span>
<span class="cp">#define PIN_CFG_EPIO8                       0x00000011</span>
<span class="cp">#define PIN_CFG_EPIO9                       0x00000012</span>
<span class="cp">#define PIN_CFG_EPIO10                      0x00000013</span>
<span class="cp">#define PIN_CFG_EPIO11                      0x00000014</span>
<span class="cp">#define PIN_CFG_EPIO12                      0x00000015</span>
<span class="cp">#define PIN_CFG_EPIO13                      0x00000016</span>
<span class="cp">#define PIN_CFG_EPIO14                      0x00000017</span>
<span class="cp">#define PIN_CFG_EPIO15                      0x00000018</span>
<span class="cp">#define PIN_CFG_EPIO16                      0x00000019</span>
<span class="cp">#define PIN_CFG_EPIO17                      0x0000001a</span>
<span class="cp">#define PIN_CFG_EPIO18                      0x0000001b</span>
<span class="cp">#define PIN_CFG_EPIO19                      0x0000001c</span>
<span class="cp">#define PIN_CFG_EPIO20                      0x0000001d</span>
<span class="cp">#define PIN_CFG_EPIO21                      0x0000001e</span>
<span class="cp">#define PIN_CFG_EPIO22                      0x0000001f</span>
<span class="cp">#define PIN_CFG_EPIO23                      0x00000020</span>
<span class="cp">#define PIN_CFG_EPIO24                      0x00000021</span>
<span class="cp">#define PIN_CFG_EPIO25                      0x00000022</span>
<span class="cp">#define PIN_CFG_EPIO26                      0x00000023</span>
<span class="cp">#define PIN_CFG_EPIO27                      0x00000024</span>
<span class="cp">#define PIN_CFG_EPIO28                      0x00000025</span>
<span class="cp">#define PIN_CFG_EPIO29                      0x00000026</span>
<span class="cp">#define PIN_CFG_EPIO30                      0x00000027</span>
<span class="cp">#define PIN_CFG_EPIO31                      0x00000028</span>

<span class="cm">/* EPIO definition */</span>
<span class="cp">#define EPIO_CFG_NA                         0x00000000</span>
<span class="cp">#define EPIO_CFG_EPIO0                      0x00000001</span>
<span class="cp">#define EPIO_CFG_EPIO1                      0x00000002</span>
<span class="cp">#define EPIO_CFG_EPIO2                      0x00000003</span>
<span class="cp">#define EPIO_CFG_EPIO3                      0x00000004</span>
<span class="cp">#define EPIO_CFG_EPIO4                      0x00000005</span>
<span class="cp">#define EPIO_CFG_EPIO5                      0x00000006</span>
<span class="cp">#define EPIO_CFG_EPIO6                      0x00000007</span>
<span class="cp">#define EPIO_CFG_EPIO7                      0x00000008</span>
<span class="cp">#define EPIO_CFG_EPIO8                      0x00000009</span>
<span class="cp">#define EPIO_CFG_EPIO9                      0x0000000a</span>
<span class="cp">#define EPIO_CFG_EPIO10                     0x0000000b</span>
<span class="cp">#define EPIO_CFG_EPIO11                     0x0000000c</span>
<span class="cp">#define EPIO_CFG_EPIO12                     0x0000000d</span>
<span class="cp">#define EPIO_CFG_EPIO13                     0x0000000e</span>
<span class="cp">#define EPIO_CFG_EPIO14                     0x0000000f</span>
<span class="cp">#define EPIO_CFG_EPIO15                     0x00000010</span>
<span class="cp">#define EPIO_CFG_EPIO16                     0x00000011</span>
<span class="cp">#define EPIO_CFG_EPIO17                     0x00000012</span>
<span class="cp">#define EPIO_CFG_EPIO18                     0x00000013</span>
<span class="cp">#define EPIO_CFG_EPIO19                     0x00000014</span>
<span class="cp">#define EPIO_CFG_EPIO20                     0x00000015</span>
<span class="cp">#define EPIO_CFG_EPIO21                     0x00000016</span>
<span class="cp">#define EPIO_CFG_EPIO22                     0x00000017</span>
<span class="cp">#define EPIO_CFG_EPIO23                     0x00000018</span>
<span class="cp">#define EPIO_CFG_EPIO24                     0x00000019</span>
<span class="cp">#define EPIO_CFG_EPIO25                     0x0000001a</span>
<span class="cp">#define EPIO_CFG_EPIO26                     0x0000001b</span>
<span class="cp">#define EPIO_CFG_EPIO27                     0x0000001c</span>
<span class="cp">#define EPIO_CFG_EPIO28                     0x0000001d</span>
<span class="cp">#define EPIO_CFG_EPIO29                     0x0000001e</span>
<span class="cp">#define EPIO_CFG_EPIO30                     0x0000001f</span>
<span class="cp">#define EPIO_CFG_EPIO31                     0x00000020</span>


<span class="k">struct</span> <span class="n">shared_hw_cfg</span> <span class="p">{</span>			 <span class="cm">/* NVRAM Offset */</span>
	<span class="cm">/* Up to 16 bytes of NULL-terminated string */</span>
	<span class="n">u8</span>  <span class="n">part_num</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>		    <span class="cm">/* 0x104 */</span>

	<span class="n">u32</span> <span class="n">config</span><span class="p">;</span>			<span class="cm">/* 0x114 */</span>
	<span class="cp">#define SHARED_HW_CFG_MDIO_VOLTAGE_MASK             0x00000001</span>
		<span class="cp">#define SHARED_HW_CFG_MDIO_VOLTAGE_SHIFT             0</span>
		<span class="cp">#define SHARED_HW_CFG_MDIO_VOLTAGE_1_2V              0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDIO_VOLTAGE_2_5V              0x00000001</span>
	<span class="cp">#define SHARED_HW_CFG_MCP_RST_ON_CORE_RST_EN        0x00000002</span>

	<span class="cp">#define SHARED_HW_CFG_PORT_SWAP                     0x00000004</span>

	<span class="cp">#define SHARED_HW_CFG_BEACON_WOL_EN                 0x00000008</span>

	<span class="cp">#define SHARED_HW_CFG_PCIE_GEN3_DISABLED            0x00000000</span>
	<span class="cp">#define SHARED_HW_CFG_PCIE_GEN3_ENABLED             0x00000010</span>

	<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_MASK               0x00000700</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_SHIFT               8</span>
	<span class="cm">/* Whatever MFW found in NVM</span>
<span class="cm">	   (if multiple found, priority order is: NC-SI, UMP, IPMI) */</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_DEFAULT             0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_NC_SI               0x00000100</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_UMP                 0x00000200</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_IPMI                0x00000300</span>
	<span class="cm">/* Use SPIO4 as an arbiter between: 0-NC_SI, 1-IPMI</span>
<span class="cm">	  (can only be used when an add-in board, not BMC, pulls-down SPIO4) */</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_SPIO4_NC_SI_IPMI    0x00000400</span>
	<span class="cm">/* Use SPIO4 as an arbiter between: 0-UMP, 1-IPMI</span>
<span class="cm">	  (can only be used when an add-in board, not BMC, pulls-down SPIO4) */</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_SPIO4_UMP_IPMI      0x00000500</span>
	<span class="cm">/* Use SPIO4 as an arbiter between: 0-NC-SI, 1-UMP</span>
<span class="cm">	  (can only be used when an add-in board, not BMC, pulls-down SPIO4) */</span>
		<span class="cp">#define SHARED_HW_CFG_MFW_SELECT_SPIO4_NC_SI_UMP     0x00000600</span>

	<span class="cp">#define SHARED_HW_CFG_LED_MODE_MASK                 0x000f0000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_MODE_SHIFT                 16</span>
		<span class="cp">#define SHARED_HW_CFG_LED_MAC1                       0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY1                       0x00010000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY2                       0x00020000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY3                       0x00030000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_MAC2                       0x00040000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY4                       0x00050000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY5                       0x00060000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY6                       0x00070000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_MAC3                       0x00080000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY7                       0x00090000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY9                       0x000a0000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY11                      0x000b0000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_MAC4                       0x000c0000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_PHY8                       0x000d0000</span>
		<span class="cp">#define SHARED_HW_CFG_LED_EXTPHY1                    0x000e0000</span>


	<span class="cp">#define SHARED_HW_CFG_AN_ENABLE_MASK                0x3f000000</span>
		<span class="cp">#define SHARED_HW_CFG_AN_ENABLE_SHIFT                24</span>
		<span class="cp">#define SHARED_HW_CFG_AN_ENABLE_CL37                 0x01000000</span>
		<span class="cp">#define SHARED_HW_CFG_AN_ENABLE_CL73                 0x02000000</span>
		<span class="cp">#define SHARED_HW_CFG_AN_ENABLE_BAM                  0x04000000</span>
		<span class="cp">#define SHARED_HW_CFG_AN_ENABLE_PARALLEL_DETECTION   0x08000000</span>
		<span class="cp">#define SHARED_HW_CFG_AN_EN_SGMII_FIBER_AUTO_DETECT  0x10000000</span>
		<span class="cp">#define SHARED_HW_CFG_AN_ENABLE_REMOTE_PHY           0x20000000</span>

	<span class="cp">#define SHARED_HW_CFG_SRIOV_MASK                    0x40000000</span>
		<span class="cp">#define SHARED_HW_CFG_SRIOV_DISABLED                 0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_SRIOV_ENABLED                  0x40000000</span>

	<span class="cp">#define SHARED_HW_CFG_ATC_MASK                      0x80000000</span>
		<span class="cp">#define SHARED_HW_CFG_ATC_DISABLED                   0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_ATC_ENABLED                    0x80000000</span>

	<span class="n">u32</span> <span class="n">config2</span><span class="p">;</span>			    <span class="cm">/* 0x118 */</span>
	<span class="cm">/* one time auto detect grace period (in sec) */</span>
	<span class="cp">#define SHARED_HW_CFG_GRACE_PERIOD_MASK             0x000000ff</span>
	<span class="cp">#define SHARED_HW_CFG_GRACE_PERIOD_SHIFT                     0</span>

	<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_ENABLED             0x00000100</span>
	<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_DISABLED            0x00000000</span>

	<span class="cm">/* The default value for the core clock is 250MHz and it is</span>
<span class="cm">	   achieved by setting the clock change to 4 */</span>
	<span class="cp">#define SHARED_HW_CFG_CLOCK_CHANGE_MASK             0x00000e00</span>
	<span class="cp">#define SHARED_HW_CFG_CLOCK_CHANGE_SHIFT                     9</span>

	<span class="cp">#define SHARED_HW_CFG_SMBUS_TIMING_MASK             0x00001000</span>
		<span class="cp">#define SHARED_HW_CFG_SMBUS_TIMING_100KHZ            0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_SMBUS_TIMING_400KHZ            0x00001000</span>

	<span class="cp">#define SHARED_HW_CFG_HIDE_PORT1                    0x00002000</span>

	<span class="cp">#define SHARED_HW_CFG_WOL_CAPABLE_MASK              0x00004000</span>
		<span class="cp">#define SHARED_HW_CFG_WOL_CAPABLE_DISABLED           0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_WOL_CAPABLE_ENABLED            0x00004000</span>

		<span class="cm">/* Output low when PERST is asserted */</span>
	<span class="cp">#define SHARED_HW_CFG_SPIO4_FOLLOW_PERST_MASK       0x00008000</span>
		<span class="cp">#define SHARED_HW_CFG_SPIO4_FOLLOW_PERST_DISABLED    0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_SPIO4_FOLLOW_PERST_ENABLED     0x00008000</span>

	<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_PREEMPHASIS_MASK    0x00070000</span>
		<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_PREEMPHASIS_SHIFT    16</span>
		<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_PREEMPHASIS_HW       0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_PREEMPHASIS_0DB      0x00010000</span>
		<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_PREEMPHASIS_3_5DB    0x00020000</span>
		<span class="cp">#define SHARED_HW_CFG_PCIE_GEN2_PREEMPHASIS_6_0DB    0x00030000</span>

	<span class="cm">/*  The fan failure mechanism is usually related to the PHY type</span>
<span class="cm">	      since the power consumption of the board is determined by the PHY.</span>
<span class="cm">	      Currently, fan is required for most designs with SFX7101, BCM8727</span>
<span class="cm">	      and BCM8481. If a fan is not required for a board which uses one</span>
<span class="cm">	      of those PHYs, this field should be set to &quot;Disabled&quot;. If a fan is</span>
<span class="cm">	      required for a different PHY type, this option should be set to</span>
<span class="cm">	      &quot;Enabled&quot;. The fan failure indication is expected on SPIO5 */</span>
	<span class="cp">#define SHARED_HW_CFG_FAN_FAILURE_MASK              0x00180000</span>
		<span class="cp">#define SHARED_HW_CFG_FAN_FAILURE_SHIFT              19</span>
		<span class="cp">#define SHARED_HW_CFG_FAN_FAILURE_PHY_TYPE           0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_FAN_FAILURE_DISABLED           0x00080000</span>
		<span class="cp">#define SHARED_HW_CFG_FAN_FAILURE_ENABLED            0x00100000</span>

		<span class="cm">/* ASPM Power Management support */</span>
	<span class="cp">#define SHARED_HW_CFG_ASPM_SUPPORT_MASK             0x00600000</span>
		<span class="cp">#define SHARED_HW_CFG_ASPM_SUPPORT_SHIFT             21</span>
		<span class="cp">#define SHARED_HW_CFG_ASPM_SUPPORT_L0S_L1_ENABLED    0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_ASPM_SUPPORT_L0S_DISABLED      0x00200000</span>
		<span class="cp">#define SHARED_HW_CFG_ASPM_SUPPORT_L1_DISABLED       0x00400000</span>
		<span class="cp">#define SHARED_HW_CFG_ASPM_SUPPORT_L0S_L1_DISABLED   0x00600000</span>

	<span class="cm">/* The value of PM_TL_IGNORE_REQS (bit0) in PCI register</span>
<span class="cm">	   tl_control_0 (register 0x2800) */</span>
	<span class="cp">#define SHARED_HW_CFG_PREVENT_L1_ENTRY_MASK         0x00800000</span>
		<span class="cp">#define SHARED_HW_CFG_PREVENT_L1_ENTRY_DISABLED      0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_PREVENT_L1_ENTRY_ENABLED       0x00800000</span>

	<span class="cp">#define SHARED_HW_CFG_PORT_MODE_MASK                0x01000000</span>
		<span class="cp">#define SHARED_HW_CFG_PORT_MODE_2                    0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_PORT_MODE_4                    0x01000000</span>

	<span class="cp">#define SHARED_HW_CFG_PATH_SWAP_MASK                0x02000000</span>
		<span class="cp">#define SHARED_HW_CFG_PATH_SWAP_DISABLED             0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_PATH_SWAP_ENABLED              0x02000000</span>

	<span class="cm">/*  Set the MDC/MDIO access for the first external phy */</span>
	<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS1_MASK         0x1C000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS1_SHIFT         26</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS1_PHY_TYPE      0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS1_EMAC0         0x04000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS1_EMAC1         0x08000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS1_BOTH          0x0c000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS1_SWAPPED       0x10000000</span>

	<span class="cm">/*  Set the MDC/MDIO access for the second external phy */</span>
	<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS2_MASK         0xE0000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS2_SHIFT         29</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS2_PHY_TYPE      0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS2_EMAC0         0x20000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS2_EMAC1         0x40000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS2_BOTH          0x60000000</span>
		<span class="cp">#define SHARED_HW_CFG_MDC_MDIO_ACCESS2_SWAPPED       0x80000000</span>


	<span class="n">u32</span> <span class="n">power_dissipated</span><span class="p">;</span>			<span class="cm">/* 0x11c */</span>
	<span class="cp">#define SHARED_HW_CFG_POWER_MGNT_SCALE_MASK         0x00ff0000</span>
		<span class="cp">#define SHARED_HW_CFG_POWER_MGNT_SCALE_SHIFT         16</span>
		<span class="cp">#define SHARED_HW_CFG_POWER_MGNT_UNKNOWN_SCALE       0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_POWER_MGNT_DOT_1_WATT          0x00010000</span>
		<span class="cp">#define SHARED_HW_CFG_POWER_MGNT_DOT_01_WATT         0x00020000</span>
		<span class="cp">#define SHARED_HW_CFG_POWER_MGNT_DOT_001_WATT        0x00030000</span>

	<span class="cp">#define SHARED_HW_CFG_POWER_DIS_CMN_MASK            0xff000000</span>
	<span class="cp">#define SHARED_HW_CFG_POWER_DIS_CMN_SHIFT                    24</span>

	<span class="n">u32</span> <span class="n">ump_nc_si_config</span><span class="p">;</span>			<span class="cm">/* 0x120 */</span>
	<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_MII_MODE_MASK       0x00000003</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_MII_MODE_SHIFT       0</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_MII_MODE_MAC         0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_MII_MODE_PHY         0x00000001</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_MII_MODE_MII         0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_MII_MODE_RMII        0x00000002</span>

	<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_NUM_DEVS_MASK       0x00000f00</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_NUM_DEVS_SHIFT       8</span>

	<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_EXT_PHY_TYPE_MASK   0x00ff0000</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_EXT_PHY_TYPE_SHIFT   16</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_EXT_PHY_TYPE_NONE    0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_UMP_NC_SI_EXT_PHY_TYPE_BCM5221 0x00010000</span>

	<span class="n">u32</span> <span class="n">board</span><span class="p">;</span>			<span class="cm">/* 0x124 */</span>
	<span class="cp">#define SHARED_HW_CFG_E3_I2C_MUX0_MASK              0x0000003F</span>
	<span class="cp">#define SHARED_HW_CFG_E3_I2C_MUX0_SHIFT                      0</span>
	<span class="cp">#define SHARED_HW_CFG_E3_I2C_MUX1_MASK              0x00000FC0</span>
	<span class="cp">#define SHARED_HW_CFG_E3_I2C_MUX1_SHIFT                      6</span>
	<span class="cm">/* Use the PIN_CFG_XXX defines on top */</span>
	<span class="cp">#define SHARED_HW_CFG_BOARD_REV_MASK                0x00ff0000</span>
	<span class="cp">#define SHARED_HW_CFG_BOARD_REV_SHIFT                        16</span>

	<span class="cp">#define SHARED_HW_CFG_BOARD_MAJOR_VER_MASK          0x0f000000</span>
	<span class="cp">#define SHARED_HW_CFG_BOARD_MAJOR_VER_SHIFT                  24</span>

	<span class="cp">#define SHARED_HW_CFG_BOARD_MINOR_VER_MASK          0xf0000000</span>
	<span class="cp">#define SHARED_HW_CFG_BOARD_MINOR_VER_SHIFT                  28</span>

	<span class="n">u32</span> <span class="n">wc_lane_config</span><span class="p">;</span>				    <span class="cm">/* 0x128 */</span>
	<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_MASK            0x0000FFFF</span>
		<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_SHIFT            0</span>
		<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_32103210         0x00001b1b</span>
		<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_32100123         0x00001be4</span>
		<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_01233210         0x0000e41b</span>
		<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_01230123         0x0000e4e4</span>
	<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_TX_MASK         0x000000FF</span>
	<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_TX_SHIFT                 0</span>
	<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_RX_MASK         0x0000FF00</span>
	<span class="cp">#define SHARED_HW_CFG_LANE_SWAP_CFG_RX_SHIFT                 8</span>

	<span class="cm">/* TX lane Polarity swap */</span>
	<span class="cp">#define SHARED_HW_CFG_TX_LANE0_POL_FLIP_ENABLED     0x00010000</span>
	<span class="cp">#define SHARED_HW_CFG_TX_LANE1_POL_FLIP_ENABLED     0x00020000</span>
	<span class="cp">#define SHARED_HW_CFG_TX_LANE2_POL_FLIP_ENABLED     0x00040000</span>
	<span class="cp">#define SHARED_HW_CFG_TX_LANE3_POL_FLIP_ENABLED     0x00080000</span>
	<span class="cm">/* TX lane Polarity swap */</span>
	<span class="cp">#define SHARED_HW_CFG_RX_LANE0_POL_FLIP_ENABLED     0x00100000</span>
	<span class="cp">#define SHARED_HW_CFG_RX_LANE1_POL_FLIP_ENABLED     0x00200000</span>
	<span class="cp">#define SHARED_HW_CFG_RX_LANE2_POL_FLIP_ENABLED     0x00400000</span>
	<span class="cp">#define SHARED_HW_CFG_RX_LANE3_POL_FLIP_ENABLED     0x00800000</span>

	<span class="cm">/*  Selects the port layout of the board */</span>
	<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_MASK           0x0F000000</span>
		<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_SHIFT           24</span>
		<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_2P_01           0x00000000</span>
		<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_2P_10           0x01000000</span>
		<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_4P_0123         0x02000000</span>
		<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_4P_1032         0x03000000</span>
		<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_4P_2301         0x04000000</span>
		<span class="cp">#define SHARED_HW_CFG_E3_PORT_LAYOUT_4P_3210         0x05000000</span>
<span class="p">};</span>


<span class="cm">/****************************************************************************</span>
<span class="cm"> * Port HW configuration                                                    *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="k">struct</span> <span class="n">port_hw_cfg</span> <span class="p">{</span>		    <span class="cm">/* port 0: 0x12c  port 1: 0x2bc */</span>

	<span class="n">u32</span> <span class="n">pci_id</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_PCI_VENDOR_ID_MASK              0xffff0000</span>
	<span class="cp">#define PORT_HW_CFG_PCI_DEVICE_ID_MASK              0x0000ffff</span>

	<span class="n">u32</span> <span class="n">pci_sub_id</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_PCI_SUBSYS_DEVICE_ID_MASK       0xffff0000</span>
	<span class="cp">#define PORT_HW_CFG_PCI_SUBSYS_VENDOR_ID_MASK       0x0000ffff</span>

	<span class="n">u32</span> <span class="n">power_dissipated</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D0_MASK               0x000000ff</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D0_SHIFT                       0</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D1_MASK               0x0000ff00</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D1_SHIFT                       8</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D2_MASK               0x00ff0000</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D2_SHIFT                       16</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D3_MASK               0xff000000</span>
	<span class="cp">#define PORT_HW_CFG_POWER_DIS_D3_SHIFT                       24</span>

	<span class="n">u32</span> <span class="n">power_consumed</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D0_MASK              0x000000ff</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D0_SHIFT                      0</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D1_MASK              0x0000ff00</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D1_SHIFT                      8</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D2_MASK              0x00ff0000</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D2_SHIFT                      16</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D3_MASK              0xff000000</span>
	<span class="cp">#define PORT_HW_CFG_POWER_CONS_D3_SHIFT                      24</span>

	<span class="n">u32</span> <span class="n">mac_upper</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_UPPERMAC_MASK                   0x0000ffff</span>
	<span class="cp">#define PORT_HW_CFG_UPPERMAC_SHIFT                           0</span>
	<span class="n">u32</span> <span class="n">mac_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">iscsi_mac_upper</span><span class="p">;</span>  <span class="cm">/* Upper 16 bits are always zeroes */</span>
	<span class="n">u32</span> <span class="n">iscsi_mac_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">rdma_mac_upper</span><span class="p">;</span>   <span class="cm">/* Upper 16 bits are always zeroes */</span>
	<span class="n">u32</span> <span class="n">rdma_mac_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">serdes_config</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_SERDES_TX_DRV_PRE_EMPHASIS_MASK 0x0000ffff</span>
	<span class="cp">#define PORT_HW_CFG_SERDES_TX_DRV_PRE_EMPHASIS_SHIFT         0</span>

	<span class="cp">#define PORT_HW_CFG_SERDES_RX_DRV_EQUALIZER_MASK    0xffff0000</span>
	<span class="cp">#define PORT_HW_CFG_SERDES_RX_DRV_EQUALIZER_SHIFT            16</span>


	<span class="cm">/*  Default values: 2P-64, 4P-32 */</span>
	<span class="n">u32</span> <span class="n">pf_config</span><span class="p">;</span>					    <span class="cm">/* 0x158 */</span>
	<span class="cp">#define PORT_HW_CFG_PF_NUM_VF_MASK                  0x0000007F</span>
	<span class="cp">#define PORT_HW_CFG_PF_NUM_VF_SHIFT                          0</span>

	<span class="cm">/*  Default values: 17 */</span>
	<span class="cp">#define PORT_HW_CFG_PF_NUM_MSIX_VECTORS_MASK        0x00007F00</span>
	<span class="cp">#define PORT_HW_CFG_PF_NUM_MSIX_VECTORS_SHIFT                8</span>

	<span class="cp">#define PORT_HW_CFG_ENABLE_FLR_MASK                 0x00010000</span>
	<span class="cp">#define PORT_HW_CFG_FLR_ENABLED                     0x00010000</span>

	<span class="n">u32</span> <span class="n">vf_config</span><span class="p">;</span>					    <span class="cm">/* 0x15C */</span>
	<span class="cp">#define PORT_HW_CFG_VF_NUM_MSIX_VECTORS_MASK        0x0000007F</span>
	<span class="cp">#define PORT_HW_CFG_VF_NUM_MSIX_VECTORS_SHIFT                0</span>

	<span class="cp">#define PORT_HW_CFG_VF_PCI_DEVICE_ID_MASK           0xFFFF0000</span>
	<span class="cp">#define PORT_HW_CFG_VF_PCI_DEVICE_ID_SHIFT                   16</span>

	<span class="n">u32</span> <span class="n">mf_pci_id</span><span class="p">;</span>					    <span class="cm">/* 0x160 */</span>
	<span class="cp">#define PORT_HW_CFG_MF_PCI_DEVICE_ID_MASK           0x0000FFFF</span>
	<span class="cp">#define PORT_HW_CFG_MF_PCI_DEVICE_ID_SHIFT                   0</span>

	<span class="cm">/*  Controls the TX laser of the SFP+ module */</span>
	<span class="n">u32</span> <span class="n">sfp_ctrl</span><span class="p">;</span>					    <span class="cm">/* 0x164 */</span>
	<span class="cp">#define PORT_HW_CFG_TX_LASER_MASK                   0x000000FF</span>
		<span class="cp">#define PORT_HW_CFG_TX_LASER_SHIFT                   0</span>
		<span class="cp">#define PORT_HW_CFG_TX_LASER_MDIO                    0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_TX_LASER_GPIO0                   0x00000001</span>
		<span class="cp">#define PORT_HW_CFG_TX_LASER_GPIO1                   0x00000002</span>
		<span class="cp">#define PORT_HW_CFG_TX_LASER_GPIO2                   0x00000003</span>
		<span class="cp">#define PORT_HW_CFG_TX_LASER_GPIO3                   0x00000004</span>

	<span class="cm">/*  Controls the fault module LED of the SFP+ */</span>
	<span class="cp">#define PORT_HW_CFG_FAULT_MODULE_LED_MASK           0x0000FF00</span>
		<span class="cp">#define PORT_HW_CFG_FAULT_MODULE_LED_SHIFT           8</span>
		<span class="cp">#define PORT_HW_CFG_FAULT_MODULE_LED_GPIO0           0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_FAULT_MODULE_LED_GPIO1           0x00000100</span>
		<span class="cp">#define PORT_HW_CFG_FAULT_MODULE_LED_GPIO2           0x00000200</span>
		<span class="cp">#define PORT_HW_CFG_FAULT_MODULE_LED_GPIO3           0x00000300</span>
		<span class="cp">#define PORT_HW_CFG_FAULT_MODULE_LED_DISABLED        0x00000400</span>

	<span class="cm">/*  The output pin TX_DIS that controls the TX laser of the SFP+</span>
<span class="cm">	  module. Use the PIN_CFG_XXX defines on top */</span>
	<span class="n">u32</span> <span class="n">e3_sfp_ctrl</span><span class="p">;</span>				    <span class="cm">/* 0x168 */</span>
	<span class="cp">#define PORT_HW_CFG_E3_TX_LASER_MASK                0x000000FF</span>
	<span class="cp">#define PORT_HW_CFG_E3_TX_LASER_SHIFT                        0</span>

	<span class="cm">/*  The output pin for SFPP_TYPE which turns on the Fault module LED */</span>
	<span class="cp">#define PORT_HW_CFG_E3_FAULT_MDL_LED_MASK           0x0000FF00</span>
	<span class="cp">#define PORT_HW_CFG_E3_FAULT_MDL_LED_SHIFT                   8</span>

	<span class="cm">/*  The input pin MOD_ABS that indicates whether SFP+ module is</span>
<span class="cm">	  present or not. Use the PIN_CFG_XXX defines on top */</span>
	<span class="cp">#define PORT_HW_CFG_E3_MOD_ABS_MASK                 0x00FF0000</span>
	<span class="cp">#define PORT_HW_CFG_E3_MOD_ABS_SHIFT                         16</span>

	<span class="cm">/*  The output pin PWRDIS_SFP_X which disable the power of the SFP+</span>
<span class="cm">	  module. Use the PIN_CFG_XXX defines on top */</span>
	<span class="cp">#define PORT_HW_CFG_E3_PWR_DIS_MASK                 0xFF000000</span>
	<span class="cp">#define PORT_HW_CFG_E3_PWR_DIS_SHIFT                         24</span>

	<span class="cm">/*</span>
<span class="cm">	 * The input pin which signals module transmit fault. Use the</span>
<span class="cm">	 * PIN_CFG_XXX defines on top</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">e3_cmn_pin_cfg</span><span class="p">;</span>				    <span class="cm">/* 0x16C */</span>
	<span class="cp">#define PORT_HW_CFG_E3_TX_FAULT_MASK                0x000000FF</span>
	<span class="cp">#define PORT_HW_CFG_E3_TX_FAULT_SHIFT                        0</span>

	<span class="cm">/*  The output pin which reset the PHY. Use the PIN_CFG_XXX defines on</span>
<span class="cm">	 top */</span>
	<span class="cp">#define PORT_HW_CFG_E3_PHY_RESET_MASK               0x0000FF00</span>
	<span class="cp">#define PORT_HW_CFG_E3_PHY_RESET_SHIFT                       8</span>

	<span class="cm">/*</span>
<span class="cm">	 * The output pin which powers down the PHY. Use the PIN_CFG_XXX</span>
<span class="cm">	 * defines on top</span>
<span class="cm">	 */</span>
	<span class="cp">#define PORT_HW_CFG_E3_PWR_DOWN_MASK                0x00FF0000</span>
	<span class="cp">#define PORT_HW_CFG_E3_PWR_DOWN_SHIFT                        16</span>

	<span class="cm">/*  The output pin values BSC_SEL which selects the I2C for this port</span>
<span class="cm">	  in the I2C Mux */</span>
	<span class="cp">#define PORT_HW_CFG_E3_I2C_MUX0_MASK                0x01000000</span>
	<span class="cp">#define PORT_HW_CFG_E3_I2C_MUX1_MASK                0x02000000</span>


	<span class="cm">/*</span>
<span class="cm">	 * The input pin I_FAULT which indicate over-current has occurred.</span>
<span class="cm">	 * Use the PIN_CFG_XXX defines on top</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">e3_cmn_pin_cfg1</span><span class="p">;</span>				    <span class="cm">/* 0x170 */</span>
	<span class="cp">#define PORT_HW_CFG_E3_OVER_CURRENT_MASK            0x000000FF</span>
	<span class="cp">#define PORT_HW_CFG_E3_OVER_CURRENT_SHIFT                    0</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>				    <span class="cm">/* 0x174 */</span>

	<span class="n">u32</span> <span class="n">aeu_int_mask</span><span class="p">;</span>				    <span class="cm">/* 0x190 */</span>

	<span class="n">u32</span> <span class="n">media_type</span><span class="p">;</span>					    <span class="cm">/* 0x194 */</span>
	<span class="cp">#define PORT_HW_CFG_MEDIA_TYPE_PHY0_MASK            0x000000FF</span>
	<span class="cp">#define PORT_HW_CFG_MEDIA_TYPE_PHY0_SHIFT                    0</span>

	<span class="cp">#define PORT_HW_CFG_MEDIA_TYPE_PHY1_MASK            0x0000FF00</span>
	<span class="cp">#define PORT_HW_CFG_MEDIA_TYPE_PHY1_SHIFT                    8</span>

	<span class="cp">#define PORT_HW_CFG_MEDIA_TYPE_PHY2_MASK            0x00FF0000</span>
	<span class="cp">#define PORT_HW_CFG_MEDIA_TYPE_PHY2_SHIFT                    16</span>

	<span class="cm">/*  4 times 16 bits for all 4 lanes. In case external PHY is present</span>
<span class="cm">	      (not direct mode), those values will not take effect on the 4 XGXS</span>
<span class="cm">	      lanes. For some external PHYs (such as 8706 and 8726) the values</span>
<span class="cm">	      will be used to configure the external PHY  in those cases, not</span>
<span class="cm">	      all 4 values are needed. */</span>
	<span class="n">u16</span> <span class="n">xgxs_config_rx</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>			<span class="cm">/* 0x198 */</span>
	<span class="n">u16</span> <span class="n">xgxs_config_tx</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>			<span class="cm">/* 0x1A0 */</span>

	<span class="cm">/* For storing FCOE mac on shared memory */</span>
	<span class="n">u32</span> <span class="n">fcoe_fip_mac_upper</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_FCOE_UPPERMAC_MASK              0x0000ffff</span>
	<span class="cp">#define PORT_HW_CFG_FCOE_UPPERMAC_SHIFT                      0</span>
	<span class="n">u32</span> <span class="n">fcoe_fip_mac_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">fcoe_wwn_port_name_upper</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fcoe_wwn_port_name_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">fcoe_wwn_node_name_upper</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fcoe_wwn_node_name_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">Reserved1</span><span class="p">[</span><span class="mi">49</span><span class="p">];</span>				    <span class="cm">/* 0x1C0 */</span>

	<span class="cm">/*  Enable RJ45 magjack pair swapping on 10GBase-T PHY (0=default),</span>
<span class="cm">	      84833 only */</span>
	<span class="n">u32</span> <span class="n">xgbt_phy_cfg</span><span class="p">;</span>				    <span class="cm">/* 0x284 */</span>
	<span class="cp">#define PORT_HW_CFG_RJ45_PAIR_SWAP_MASK             0x000000FF</span>
	<span class="cp">#define PORT_HW_CFG_RJ45_PAIR_SWAP_SHIFT                     0</span>

		<span class="n">u32</span> <span class="n">default_cfg</span><span class="p">;</span>			    <span class="cm">/* 0x288 */</span>
	<span class="cp">#define PORT_HW_CFG_GPIO0_CONFIG_MASK               0x00000003</span>
		<span class="cp">#define PORT_HW_CFG_GPIO0_CONFIG_SHIFT               0</span>
		<span class="cp">#define PORT_HW_CFG_GPIO0_CONFIG_NA                  0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_GPIO0_CONFIG_LOW                 0x00000001</span>
		<span class="cp">#define PORT_HW_CFG_GPIO0_CONFIG_HIGH                0x00000002</span>
		<span class="cp">#define PORT_HW_CFG_GPIO0_CONFIG_INPUT               0x00000003</span>

	<span class="cp">#define PORT_HW_CFG_GPIO1_CONFIG_MASK               0x0000000C</span>
		<span class="cp">#define PORT_HW_CFG_GPIO1_CONFIG_SHIFT               2</span>
		<span class="cp">#define PORT_HW_CFG_GPIO1_CONFIG_NA                  0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_GPIO1_CONFIG_LOW                 0x00000004</span>
		<span class="cp">#define PORT_HW_CFG_GPIO1_CONFIG_HIGH                0x00000008</span>
		<span class="cp">#define PORT_HW_CFG_GPIO1_CONFIG_INPUT               0x0000000c</span>

	<span class="cp">#define PORT_HW_CFG_GPIO2_CONFIG_MASK               0x00000030</span>
		<span class="cp">#define PORT_HW_CFG_GPIO2_CONFIG_SHIFT               4</span>
		<span class="cp">#define PORT_HW_CFG_GPIO2_CONFIG_NA                  0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_GPIO2_CONFIG_LOW                 0x00000010</span>
		<span class="cp">#define PORT_HW_CFG_GPIO2_CONFIG_HIGH                0x00000020</span>
		<span class="cp">#define PORT_HW_CFG_GPIO2_CONFIG_INPUT               0x00000030</span>

	<span class="cp">#define PORT_HW_CFG_GPIO3_CONFIG_MASK               0x000000C0</span>
		<span class="cp">#define PORT_HW_CFG_GPIO3_CONFIG_SHIFT               6</span>
		<span class="cp">#define PORT_HW_CFG_GPIO3_CONFIG_NA                  0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_GPIO3_CONFIG_LOW                 0x00000040</span>
		<span class="cp">#define PORT_HW_CFG_GPIO3_CONFIG_HIGH                0x00000080</span>
		<span class="cp">#define PORT_HW_CFG_GPIO3_CONFIG_INPUT               0x000000c0</span>

	<span class="cm">/*  When KR link is required to be set to force which is not</span>
<span class="cm">	      KR-compliant, this parameter determine what is the trigger for it.</span>
<span class="cm">	      When GPIO is selected, low input will force the speed. Currently</span>
<span class="cm">	      default speed is 1G. In the future, it may be widen to select the</span>
<span class="cm">	      forced speed in with another parameter. Note when force-1G is</span>
<span class="cm">	      enabled, it override option 56: Link Speed option. */</span>
	<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_MASK           0x00000F00</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_SHIFT           8</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_NOT_FORCED      0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO0_P0        0x00000100</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO1_P0        0x00000200</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO2_P0        0x00000300</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO3_P0        0x00000400</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO0_P1        0x00000500</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO1_P1        0x00000600</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO2_P1        0x00000700</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_GPIO3_P1        0x00000800</span>
		<span class="cp">#define PORT_HW_CFG_FORCE_KR_ENABLER_FORCED          0x00000900</span>
	<span class="cm">/*  Enable to determine with which GPIO to reset the external phy */</span>
	<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_MASK           0x000F0000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_SHIFT           16</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_PHY_TYPE        0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO0_P0        0x00010000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO1_P0        0x00020000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO2_P0        0x00030000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO3_P0        0x00040000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO0_P1        0x00050000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO1_P1        0x00060000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO2_P1        0x00070000</span>
		<span class="cp">#define PORT_HW_CFG_EXT_PHY_GPIO_RST_GPIO3_P1        0x00080000</span>

	<span class="cm">/*  Enable BAM on KR */</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_BAM_ON_KR_MASK           0x00100000</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_BAM_ON_KR_SHIFT                   20</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_BAM_ON_KR_DISABLED                0x00000000</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_BAM_ON_KR_ENABLED                 0x00100000</span>

	<span class="cm">/*  Enable Common Mode Sense */</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_CMS_MASK                 0x00200000</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_CMS_SHIFT                         21</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_CMS_DISABLED                      0x00000000</span>
	<span class="cp">#define PORT_HW_CFG_ENABLE_CMS_ENABLED                       0x00200000</span>

	<span class="cm">/*  Determine the Serdes electrical interface   */</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_MASK              0x0F000000</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_SHIFT                      24</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_SGMII                      0x00000000</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_XFI                        0x01000000</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_SFI                        0x02000000</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_KR                         0x03000000</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_DXGXS                      0x04000000</span>
	<span class="cp">#define PORT_HW_CFG_NET_SERDES_IF_KR2                        0x05000000</span>


	<span class="n">u32</span> <span class="n">speed_capability_mask2</span><span class="p">;</span>			    <span class="cm">/* 0x28C */</span>
	<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_MASK       0x0000FFFF</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_SHIFT       0</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_10M_FULL    0x00000001</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3__           0x00000002</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3___          0x00000004</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_100M_FULL   0x00000008</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_1G          0x00000010</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_2_DOT_5G    0x00000020</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_10G         0x00000040</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D3_20G         0x00000080</span>

	<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_MASK       0xFFFF0000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_SHIFT       16</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_10M_FULL    0x00010000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0__           0x00020000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0___          0x00040000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_100M_FULL   0x00080000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_1G          0x00100000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_2_DOT_5G    0x00200000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_10G         0x00400000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY2_D0_20G         0x00800000</span>


	<span class="cm">/*  In the case where two media types (e.g. copper and fiber) are</span>
<span class="cm">	      present and electrically active at the same time, PHY Selection</span>
<span class="cm">	      will determine which of the two PHYs will be designated as the</span>
<span class="cm">	      Active PHY and used for a connection to the network.  */</span>
	<span class="n">u32</span> <span class="n">multi_phy_config</span><span class="p">;</span>				    <span class="cm">/* 0x290 */</span>
	<span class="cp">#define PORT_HW_CFG_PHY_SELECTION_MASK              0x00000007</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SELECTION_SHIFT              0</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SELECTION_HARDWARE_DEFAULT   0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SELECTION_FIRST_PHY          0x00000001</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SELECTION_SECOND_PHY         0x00000002</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SELECTION_FIRST_PHY_PRIORITY 0x00000003</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SELECTION_SECOND_PHY_PRIORITY 0x00000004</span>

	<span class="cm">/*  When enabled, all second phy nvram parameters will be swapped</span>
<span class="cm">	      with the first phy parameters */</span>
	<span class="cp">#define PORT_HW_CFG_PHY_SWAPPED_MASK                0x00000008</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SWAPPED_SHIFT                3</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SWAPPED_DISABLED             0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_PHY_SWAPPED_ENABLED              0x00000008</span>


	<span class="cm">/*  Address of the second external phy */</span>
	<span class="n">u32</span> <span class="n">external_phy_config2</span><span class="p">;</span>			    <span class="cm">/* 0x294 */</span>
	<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_ADDR_MASK         0x000000FF</span>
	<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_ADDR_SHIFT                 0</span>

	<span class="cm">/*  The second XGXS external PHY type */</span>
	<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_MASK         0x0000FF00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_SHIFT         8</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_DIRECT        0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8071       0x00000100</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8072       0x00000200</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8073       0x00000300</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8705       0x00000400</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8706       0x00000500</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8726       0x00000600</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8481       0x00000700</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_SFX7101       0x00000800</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8727       0x00000900</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8727_NOC   0x00000a00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM84823      0x00000b00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM54640      0x00000c00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM84833      0x00000d00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM54618SE    0x00000e00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM8722       0x00000f00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_BCM54616      0x00001000</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_FAILURE       0x0000fd00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY2_TYPE_NOT_CONN      0x0000ff00</span>


	<span class="cm">/*  4 times 16 bits for all 4 lanes. For some external PHYs (such as</span>
<span class="cm">	      8706, 8726 and 8727) not all 4 values are needed. */</span>
	<span class="n">u16</span> <span class="n">xgxs_config2_rx</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>				    <span class="cm">/* 0x296 */</span>
	<span class="n">u16</span> <span class="n">xgxs_config2_tx</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>				    <span class="cm">/* 0x2A0 */</span>

	<span class="n">u32</span> <span class="n">lane_config</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_MASK              0x0000ffff</span>
		<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_SHIFT              0</span>
		<span class="cm">/* AN and forced */</span>
		<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_01230123           0x00001b1b</span>
		<span class="cm">/* forced only */</span>
		<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_01233210           0x00001be4</span>
		<span class="cm">/* forced only */</span>
		<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_31203120           0x0000d8d8</span>
		<span class="cm">/* forced only */</span>
		<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_32103210           0x0000e4e4</span>
	<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_TX_MASK           0x000000ff</span>
	<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_TX_SHIFT                   0</span>
	<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_RX_MASK           0x0000ff00</span>
	<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_RX_SHIFT                   8</span>
	<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_MASTER_MASK       0x0000c000</span>
	<span class="cp">#define PORT_HW_CFG_LANE_SWAP_CFG_MASTER_SHIFT               14</span>

	<span class="cm">/*  Indicate whether to swap the external phy polarity */</span>
	<span class="cp">#define PORT_HW_CFG_SWAP_PHY_POLARITY_MASK          0x00010000</span>
		<span class="cp">#define PORT_HW_CFG_SWAP_PHY_POLARITY_DISABLED       0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_SWAP_PHY_POLARITY_ENABLED        0x00010000</span>


	<span class="n">u32</span> <span class="n">external_phy_config</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_ADDR_MASK          0x000000ff</span>
	<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_ADDR_SHIFT                  0</span>

	<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_MASK          0x0000ff00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_SHIFT          8</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_DIRECT         0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8071        0x00000100</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8072        0x00000200</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8073        0x00000300</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8705        0x00000400</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8706        0x00000500</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8726        0x00000600</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8481        0x00000700</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_SFX7101        0x00000800</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8727        0x00000900</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8727_NOC    0x00000a00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM84823       0x00000b00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM54640       0x00000c00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM84833       0x00000d00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM54618SE     0x00000e00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM8722        0x00000f00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_BCM54616       0x00001000</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_DIRECT_WC      0x0000fc00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_FAILURE        0x0000fd00</span>
		<span class="cp">#define PORT_HW_CFG_XGXS_EXT_PHY_TYPE_NOT_CONN       0x0000ff00</span>

	<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_ADDR_MASK        0x00ff0000</span>
	<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_ADDR_SHIFT                16</span>

	<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_TYPE_MASK        0xff000000</span>
		<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_TYPE_SHIFT        24</span>
		<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_TYPE_DIRECT       0x00000000</span>
		<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_TYPE_BCM5482      0x01000000</span>
		<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_TYPE_DIRECT_SD    0x02000000</span>
		<span class="cp">#define PORT_HW_CFG_SERDES_EXT_PHY_TYPE_NOT_CONN     0xff000000</span>

	<span class="n">u32</span> <span class="n">speed_capability_mask</span><span class="p">;</span>
	<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_MASK        0x0000ffff</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_SHIFT        0</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_10M_FULL     0x00000001</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_10M_HALF     0x00000002</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_100M_HALF    0x00000004</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_100M_FULL    0x00000008</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_1G           0x00000010</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_2_5G         0x00000020</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_10G          0x00000040</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_20G          0x00000080</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D3_RESERVED     0x0000f000</span>

	<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_MASK        0xffff0000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_SHIFT        16</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_10M_FULL     0x00010000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_10M_HALF     0x00020000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_100M_HALF    0x00040000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_100M_FULL    0x00080000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_1G           0x00100000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_2_5G         0x00200000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_10G          0x00400000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_20G          0x00800000</span>
		<span class="cp">#define PORT_HW_CFG_SPEED_CAPABILITY_D0_RESERVED     0xf0000000</span>

	<span class="cm">/*  A place to hold the original MAC address as a backup */</span>
	<span class="n">u32</span> <span class="n">backup_mac_upper</span><span class="p">;</span>			<span class="cm">/* 0x2B4 */</span>
	<span class="n">u32</span> <span class="n">backup_mac_lower</span><span class="p">;</span>			<span class="cm">/* 0x2B8 */</span>

<span class="p">};</span>


<span class="cm">/****************************************************************************</span>
<span class="cm"> * Shared Feature configuration                                             *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="k">struct</span> <span class="n">shared_feat_cfg</span> <span class="p">{</span>		 <span class="cm">/* NVRAM Offset */</span>

	<span class="n">u32</span> <span class="n">config</span><span class="p">;</span>			<span class="cm">/* 0x450 */</span>
	<span class="cp">#define SHARED_FEATURE_BMC_ECHO_MODE_EN             0x00000001</span>

	<span class="cm">/* Use NVRAM values instead of HW default values */</span>
	<span class="cp">#define SHARED_FEAT_CFG_OVERRIDE_PREEMPHASIS_CFG_MASK \</span>
<span class="cp">							    0x00000002</span>
		<span class="cp">#define SHARED_FEAT_CFG_OVERRIDE_PREEMPHASIS_CFG_DISABLED \</span>
<span class="cp">								     0x00000000</span>
		<span class="cp">#define SHARED_FEAT_CFG_OVERRIDE_PREEMPHASIS_CFG_ENABLED \</span>
<span class="cp">								     0x00000002</span>

	<span class="cp">#define SHARED_FEAT_CFG_NCSI_ID_METHOD_MASK         0x00000008</span>
		<span class="cp">#define SHARED_FEAT_CFG_NCSI_ID_METHOD_SPIO          0x00000000</span>
		<span class="cp">#define SHARED_FEAT_CFG_NCSI_ID_METHOD_NVRAM         0x00000008</span>

	<span class="cp">#define SHARED_FEAT_CFG_NCSI_ID_MASK                0x00000030</span>
	<span class="cp">#define SHARED_FEAT_CFG_NCSI_ID_SHIFT                        4</span>

	<span class="cm">/*  Override the OTP back to single function mode. When using GPIO,</span>
<span class="cm">	      high means only SF, 0 is according to CLP configuration */</span>
	<span class="cp">#define SHARED_FEAT_CFG_FORCE_SF_MODE_MASK          0x00000700</span>
		<span class="cp">#define SHARED_FEAT_CFG_FORCE_SF_MODE_SHIFT          8</span>
		<span class="cp">#define SHARED_FEAT_CFG_FORCE_SF_MODE_MF_ALLOWED     0x00000000</span>
		<span class="cp">#define SHARED_FEAT_CFG_FORCE_SF_MODE_FORCED_SF      0x00000100</span>
		<span class="cp">#define SHARED_FEAT_CFG_FORCE_SF_MODE_SPIO4          0x00000200</span>
		<span class="cp">#define SHARED_FEAT_CFG_FORCE_SF_MODE_SWITCH_INDEPT  0x00000300</span>
		<span class="cp">#define SHARED_FEAT_CFG_FORCE_SF_MODE_AFEX_MODE      0x00000400</span>

	<span class="cm">/* The interval in seconds between sending LLDP packets. Set to zero</span>
<span class="cm">	   to disable the feature */</span>
	<span class="cp">#define SHARED_FEAT_CFG_LLDP_XMIT_INTERVAL_MASK     0x00ff0000</span>
	<span class="cp">#define SHARED_FEAT_CFG_LLDP_XMIT_INTERVAL_SHIFT             16</span>

	<span class="cm">/* The assigned device type ID for LLDP usage */</span>
	<span class="cp">#define SHARED_FEAT_CFG_LLDP_DEVICE_TYPE_ID_MASK    0xff000000</span>
	<span class="cp">#define SHARED_FEAT_CFG_LLDP_DEVICE_TYPE_ID_SHIFT            24</span>

<span class="p">};</span>


<span class="cm">/****************************************************************************</span>
<span class="cm"> * Port Feature configuration                                               *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="k">struct</span> <span class="n">port_feat_cfg</span> <span class="p">{</span>		    <span class="cm">/* port 0: 0x454  port 1: 0x4c8 */</span>

	<span class="n">u32</span> <span class="n">config</span><span class="p">;</span>
	<span class="cp">#define PORT_FEATURE_BAR1_SIZE_MASK                 0x0000000f</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_SHIFT                 0</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_DISABLED              0x00000000</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_64K                   0x00000001</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_128K                  0x00000002</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_256K                  0x00000003</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_512K                  0x00000004</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_1M                    0x00000005</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_2M                    0x00000006</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_4M                    0x00000007</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_8M                    0x00000008</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_16M                   0x00000009</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_32M                   0x0000000a</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_64M                   0x0000000b</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_128M                  0x0000000c</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_256M                  0x0000000d</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_512M                  0x0000000e</span>
		<span class="cp">#define PORT_FEATURE_BAR1_SIZE_1G                    0x0000000f</span>
	<span class="cp">#define PORT_FEATURE_BAR2_SIZE_MASK                 0x000000f0</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_SHIFT                 4</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_DISABLED              0x00000000</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_64K                   0x00000010</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_128K                  0x00000020</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_256K                  0x00000030</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_512K                  0x00000040</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_1M                    0x00000050</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_2M                    0x00000060</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_4M                    0x00000070</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_8M                    0x00000080</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_16M                   0x00000090</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_32M                   0x000000a0</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_64M                   0x000000b0</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_128M                  0x000000c0</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_256M                  0x000000d0</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_512M                  0x000000e0</span>
		<span class="cp">#define PORT_FEATURE_BAR2_SIZE_1G                    0x000000f0</span>

	<span class="cp">#define PORT_FEAT_CFG_DCBX_MASK                     0x00000100</span>
		<span class="cp">#define PORT_FEAT_CFG_DCBX_DISABLED                  0x00000000</span>
		<span class="cp">#define PORT_FEAT_CFG_DCBX_ENABLED                   0x00000100</span>

	<span class="cp">#define PORT_FEATURE_EN_SIZE_MASK                   0x0f000000</span>
	<span class="cp">#define PORT_FEATURE_EN_SIZE_SHIFT                           24</span>
	<span class="cp">#define PORT_FEATURE_WOL_ENABLED                             0x01000000</span>
	<span class="cp">#define PORT_FEATURE_MBA_ENABLED                             0x02000000</span>
	<span class="cp">#define PORT_FEATURE_MFW_ENABLED                             0x04000000</span>

	<span class="cm">/* Advertise expansion ROM even if MBA is disabled */</span>
	<span class="cp">#define PORT_FEAT_CFG_FORCE_EXP_ROM_ADV_MASK        0x08000000</span>
		<span class="cp">#define PORT_FEAT_CFG_FORCE_EXP_ROM_ADV_DISABLED     0x00000000</span>
		<span class="cp">#define PORT_FEAT_CFG_FORCE_EXP_ROM_ADV_ENABLED      0x08000000</span>

	<span class="cm">/* Check the optic vendor via i2c against a list of approved modules</span>
<span class="cm">	   in a separate nvram image */</span>
	<span class="cp">#define PORT_FEAT_CFG_OPT_MDL_ENFRCMNT_MASK         0xe0000000</span>
		<span class="cp">#define PORT_FEAT_CFG_OPT_MDL_ENFRCMNT_SHIFT         29</span>
		<span class="cp">#define PORT_FEAT_CFG_OPT_MDL_ENFRCMNT_NO_ENFORCEMENT \</span>
<span class="cp">								     0x00000000</span>
		<span class="cp">#define PORT_FEAT_CFG_OPT_MDL_ENFRCMNT_DISABLE_TX_LASER \</span>
<span class="cp">								     0x20000000</span>
		<span class="cp">#define PORT_FEAT_CFG_OPT_MDL_ENFRCMNT_WARNING_MSG   0x40000000</span>
		<span class="cp">#define PORT_FEAT_CFG_OPT_MDL_ENFRCMNT_POWER_DOWN    0x60000000</span>

	<span class="n">u32</span> <span class="n">wol_config</span><span class="p">;</span>
	<span class="cm">/* Default is used when driver sets to &quot;auto&quot; mode */</span>
	<span class="cp">#define PORT_FEATURE_WOL_DEFAULT_MASK               0x00000003</span>
		<span class="cp">#define PORT_FEATURE_WOL_DEFAULT_SHIFT               0</span>
		<span class="cp">#define PORT_FEATURE_WOL_DEFAULT_DISABLE             0x00000000</span>
		<span class="cp">#define PORT_FEATURE_WOL_DEFAULT_MAGIC               0x00000001</span>
		<span class="cp">#define PORT_FEATURE_WOL_DEFAULT_ACPI                0x00000002</span>
		<span class="cp">#define PORT_FEATURE_WOL_DEFAULT_MAGIC_AND_ACPI      0x00000003</span>
	<span class="cp">#define PORT_FEATURE_WOL_RES_PAUSE_CAP              0x00000004</span>
	<span class="cp">#define PORT_FEATURE_WOL_RES_ASYM_PAUSE_CAP         0x00000008</span>
	<span class="cp">#define PORT_FEATURE_WOL_ACPI_UPON_MGMT             0x00000010</span>

	<span class="n">u32</span> <span class="n">mba_config</span><span class="p">;</span>
	<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_MASK       0x00000007</span>
		<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_SHIFT       0</span>
		<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_PXE         0x00000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_RPL         0x00000001</span>
		<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_BOOTP       0x00000002</span>
		<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_ISCSIB      0x00000003</span>
		<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_FCOE_BOOT   0x00000004</span>
		<span class="cp">#define PORT_FEATURE_MBA_BOOT_AGENT_TYPE_NONE        0x00000007</span>

	<span class="cp">#define PORT_FEATURE_MBA_BOOT_RETRY_MASK            0x00000038</span>
	<span class="cp">#define PORT_FEATURE_MBA_BOOT_RETRY_SHIFT                    3</span>

	<span class="cp">#define PORT_FEATURE_MBA_RES_PAUSE_CAP              0x00000100</span>
	<span class="cp">#define PORT_FEATURE_MBA_RES_ASYM_PAUSE_CAP         0x00000200</span>
	<span class="cp">#define PORT_FEATURE_MBA_SETUP_PROMPT_ENABLE        0x00000400</span>
	<span class="cp">#define PORT_FEATURE_MBA_HOTKEY_MASK                0x00000800</span>
		<span class="cp">#define PORT_FEATURE_MBA_HOTKEY_CTRL_S               0x00000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_HOTKEY_CTRL_B               0x00000800</span>
	<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_MASK          0x000ff000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_SHIFT          12</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_DISABLED       0x00000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_2K             0x00001000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_4K             0x00002000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_8K             0x00003000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_16K            0x00004000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_32K            0x00005000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_64K            0x00006000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_128K           0x00007000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_256K           0x00008000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_512K           0x00009000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_1M             0x0000a000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_2M             0x0000b000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_4M             0x0000c000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_8M             0x0000d000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_16M            0x0000e000</span>
		<span class="cp">#define PORT_FEATURE_MBA_EXP_ROM_SIZE_32M            0x0000f000</span>
	<span class="cp">#define PORT_FEATURE_MBA_MSG_TIMEOUT_MASK           0x00f00000</span>
	<span class="cp">#define PORT_FEATURE_MBA_MSG_TIMEOUT_SHIFT                   20</span>
	<span class="cp">#define PORT_FEATURE_MBA_BIOS_BOOTSTRAP_MASK        0x03000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_BIOS_BOOTSTRAP_SHIFT        24</span>
		<span class="cp">#define PORT_FEATURE_MBA_BIOS_BOOTSTRAP_AUTO         0x00000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_BIOS_BOOTSTRAP_BBS          0x01000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_BIOS_BOOTSTRAP_INT18H       0x02000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_BIOS_BOOTSTRAP_INT19H       0x03000000</span>
	<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_MASK            0x3c000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_SHIFT            26</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_AUTO             0x00000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_10HD             0x04000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_10FD             0x08000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_100HD            0x0c000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_100FD            0x10000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_1GBPS            0x14000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_2_5GBPS          0x18000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_10GBPS_CX4       0x1c000000</span>
		<span class="cp">#define PORT_FEATURE_MBA_LINK_SPEED_20GBPS           0x20000000</span>
	<span class="n">u32</span> <span class="n">bmc_config</span><span class="p">;</span>
	<span class="cp">#define PORT_FEATURE_BMC_LINK_OVERRIDE_MASK         0x00000001</span>
		<span class="cp">#define PORT_FEATURE_BMC_LINK_OVERRIDE_DEFAULT       0x00000000</span>
		<span class="cp">#define PORT_FEATURE_BMC_LINK_OVERRIDE_EN            0x00000001</span>

	<span class="n">u32</span> <span class="n">mba_vlan_cfg</span><span class="p">;</span>
	<span class="cp">#define PORT_FEATURE_MBA_VLAN_TAG_MASK              0x0000ffff</span>
	<span class="cp">#define PORT_FEATURE_MBA_VLAN_TAG_SHIFT                      0</span>
	<span class="cp">#define PORT_FEATURE_MBA_VLAN_EN                    0x00010000</span>

	<span class="n">u32</span> <span class="n">resource_cfg</span><span class="p">;</span>
	<span class="cp">#define PORT_FEATURE_RESOURCE_CFG_VALID             0x00000001</span>
	<span class="cp">#define PORT_FEATURE_RESOURCE_CFG_DIAG              0x00000002</span>
	<span class="cp">#define PORT_FEATURE_RESOURCE_CFG_L2                0x00000004</span>
	<span class="cp">#define PORT_FEATURE_RESOURCE_CFG_ISCSI             0x00000008</span>
	<span class="cp">#define PORT_FEATURE_RESOURCE_CFG_RDMA              0x00000010</span>

	<span class="n">u32</span> <span class="n">smbus_config</span><span class="p">;</span>
	<span class="cp">#define PORT_FEATURE_SMBUS_ADDR_MASK                0x000000fe</span>
	<span class="cp">#define PORT_FEATURE_SMBUS_ADDR_SHIFT                        1</span>

	<span class="n">u32</span> <span class="n">vf_config</span><span class="p">;</span>
	<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_MASK             0x0000000f</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_SHIFT             0</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_DISABLED          0x00000000</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_4K                0x00000001</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_8K                0x00000002</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_16K               0x00000003</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_32K               0x00000004</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_64K               0x00000005</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_128K              0x00000006</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_256K              0x00000007</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_512K              0x00000008</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_1M                0x00000009</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_2M                0x0000000a</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_4M                0x0000000b</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_8M                0x0000000c</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_16M               0x0000000d</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_32M               0x0000000e</span>
		<span class="cp">#define PORT_FEAT_CFG_VF_BAR2_SIZE_64M               0x0000000f</span>

	<span class="n">u32</span> <span class="n">link_config</span><span class="p">;</span>    <span class="cm">/* Used as HW defaults for the driver */</span>
	<span class="cp">#define PORT_FEATURE_CONNECTED_SWITCH_MASK          0x03000000</span>
		<span class="cp">#define PORT_FEATURE_CONNECTED_SWITCH_SHIFT          24</span>
		<span class="cm">/* (forced) low speed switch (&lt; 10G) */</span>
		<span class="cp">#define PORT_FEATURE_CON_SWITCH_1G_SWITCH            0x00000000</span>
		<span class="cm">/* (forced) high speed switch (&gt;= 10G) */</span>
		<span class="cp">#define PORT_FEATURE_CON_SWITCH_10G_SWITCH           0x01000000</span>
		<span class="cp">#define PORT_FEATURE_CON_SWITCH_AUTO_DETECT          0x02000000</span>
		<span class="cp">#define PORT_FEATURE_CON_SWITCH_ONE_TIME_DETECT      0x03000000</span>

	<span class="cp">#define PORT_FEATURE_LINK_SPEED_MASK                0x000f0000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_SHIFT                16</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_AUTO                 0x00000000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_10M_FULL             0x00010000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_10M_HALF             0x00020000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_100M_HALF            0x00030000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_100M_FULL            0x00040000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_1G                   0x00050000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_2_5G                 0x00060000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_10G_CX4              0x00070000</span>
		<span class="cp">#define PORT_FEATURE_LINK_SPEED_20G                  0x00080000</span>

	<span class="cp">#define PORT_FEATURE_FLOW_CONTROL_MASK              0x00000700</span>
		<span class="cp">#define PORT_FEATURE_FLOW_CONTROL_SHIFT              8</span>
		<span class="cp">#define PORT_FEATURE_FLOW_CONTROL_AUTO               0x00000000</span>
		<span class="cp">#define PORT_FEATURE_FLOW_CONTROL_TX                 0x00000100</span>
		<span class="cp">#define PORT_FEATURE_FLOW_CONTROL_RX                 0x00000200</span>
		<span class="cp">#define PORT_FEATURE_FLOW_CONTROL_BOTH               0x00000300</span>
		<span class="cp">#define PORT_FEATURE_FLOW_CONTROL_NONE               0x00000400</span>

	<span class="cm">/* The default for MCP link configuration,</span>
<span class="cm">	   uses the same defines as link_config */</span>
	<span class="n">u32</span> <span class="n">mfw_wol_link_cfg</span><span class="p">;</span>

	<span class="cm">/* The default for the driver of the second external phy,</span>
<span class="cm">	   uses the same defines as link_config */</span>
	<span class="n">u32</span> <span class="n">link_config2</span><span class="p">;</span>				    <span class="cm">/* 0x47C */</span>

	<span class="cm">/* The default for MCP of the second external phy,</span>
<span class="cm">	   uses the same defines as link_config */</span>
	<span class="n">u32</span> <span class="n">mfw_wol_link_cfg2</span><span class="p">;</span>				    <span class="cm">/* 0x480 */</span>

	<span class="n">u32</span> <span class="n">Reserved2</span><span class="p">[</span><span class="mi">17</span><span class="p">];</span>				    <span class="cm">/* 0x484 */</span>

<span class="p">};</span>


<span class="cm">/****************************************************************************</span>
<span class="cm"> * Device Information                                                       *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="k">struct</span> <span class="n">shm_dev_info</span> <span class="p">{</span>				<span class="cm">/* size */</span>

	<span class="n">u32</span>    <span class="n">bc_rev</span><span class="p">;</span> <span class="cm">/* 8 bits each: major, minor, build */</span>	       <span class="cm">/* 4 */</span>

	<span class="k">struct</span> <span class="n">shared_hw_cfg</span>     <span class="n">shared_hw_config</span><span class="p">;</span>	      <span class="cm">/* 40 */</span>

	<span class="k">struct</span> <span class="n">port_hw_cfg</span>       <span class="n">port_hw_config</span><span class="p">[</span><span class="n">PORT_MAX</span><span class="p">];</span>     <span class="cm">/* 400*2=800 */</span>

	<span class="k">struct</span> <span class="n">shared_feat_cfg</span>   <span class="n">shared_feature_config</span><span class="p">;</span>		   <span class="cm">/* 4 */</span>

	<span class="k">struct</span> <span class="n">port_feat_cfg</span>     <span class="n">port_feature_config</span><span class="p">[</span><span class="n">PORT_MAX</span><span class="p">];</span><span class="cm">/* 116*2=232 */</span>

<span class="p">};</span>


<span class="cp">#if !defined(__LITTLE_ENDIAN) &amp;&amp; !defined(__BIG_ENDIAN)</span>
	<span class="cp">#error &quot;Missing either LITTLE_ENDIAN or BIG_ENDIAN definition.&quot;</span>
<span class="cp">#endif</span>

<span class="cp">#define FUNC_0              0</span>
<span class="cp">#define FUNC_1              1</span>
<span class="cp">#define FUNC_2              2</span>
<span class="cp">#define FUNC_3              3</span>
<span class="cp">#define FUNC_4              4</span>
<span class="cp">#define FUNC_5              5</span>
<span class="cp">#define FUNC_6              6</span>
<span class="cp">#define FUNC_7              7</span>
<span class="cp">#define E1_FUNC_MAX         2</span>
<span class="cp">#define E1H_FUNC_MAX            8</span>
<span class="cp">#define E2_FUNC_MAX         4   </span><span class="cm">/* per path */</span><span class="cp"></span>

<span class="cp">#define VN_0                0</span>
<span class="cp">#define VN_1                1</span>
<span class="cp">#define VN_2                2</span>
<span class="cp">#define VN_3                3</span>
<span class="cp">#define E1VN_MAX            1</span>
<span class="cp">#define E1HVN_MAX           4</span>

<span class="cp">#define E2_VF_MAX           64  </span><span class="cm">/* HC_REG_VF_CONFIGURATION_SIZE */</span><span class="cp"></span>
<span class="cm">/* This value (in milliseconds) determines the frequency of the driver</span>
<span class="cm"> * issuing the PULSE message code.  The firmware monitors this periodic</span>
<span class="cm"> * pulse to determine when to switch to an OS-absent mode. */</span>
<span class="cp">#define DRV_PULSE_PERIOD_MS     250</span>

<span class="cm">/* This value (in milliseconds) determines how long the driver should</span>
<span class="cm"> * wait for an acknowledgement from the firmware before timing out.  Once</span>
<span class="cm"> * the firmware has timed out, the driver will assume there is no firmware</span>
<span class="cm"> * running and there won&#39;t be any firmware-driver synchronization during a</span>
<span class="cm"> * driver reset. */</span>
<span class="cp">#define FW_ACK_TIME_OUT_MS      5000</span>

<span class="cp">#define FW_ACK_POLL_TIME_MS     1</span>

<span class="cp">#define FW_ACK_NUM_OF_POLL  (FW_ACK_TIME_OUT_MS/FW_ACK_POLL_TIME_MS)</span>

<span class="cp">#define MFW_TRACE_SIGNATURE     0x54524342</span>

<span class="cm">/****************************************************************************</span>
<span class="cm"> * Driver &lt;-&gt; FW Mailbox                                                    *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="k">struct</span> <span class="n">drv_port_mb</span> <span class="p">{</span>

	<span class="n">u32</span> <span class="n">link_status</span><span class="p">;</span>
	<span class="cm">/* Driver should update this field on any link change event */</span>

	<span class="cp">#define LINK_STATUS_LINK_FLAG_MASK			0x00000001</span>
	<span class="cp">#define LINK_STATUS_LINK_UP				0x00000001</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_MASK		0x0000001E</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_AN_NOT_COMPLETE	(0&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_10THD		(1&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_10TFD		(2&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_100TXHD		(3&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_100T4		(4&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_100TXFD		(5&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_1000THD		(6&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_1000TFD		(7&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_1000XFD		(7&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_2500THD		(8&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_2500TFD		(9&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_2500XFD		(9&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_10GTFD		(10&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_10GXFD		(10&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_20GTFD		(11&lt;&lt;1)</span>
	<span class="cp">#define LINK_STATUS_SPEED_AND_DUPLEX_20GXFD		(11&lt;&lt;1)</span>

	<span class="cp">#define LINK_STATUS_AUTO_NEGOTIATE_FLAG_MASK		0x00000020</span>
	<span class="cp">#define LINK_STATUS_AUTO_NEGOTIATE_ENABLED		0x00000020</span>

	<span class="cp">#define LINK_STATUS_AUTO_NEGOTIATE_COMPLETE		0x00000040</span>
	<span class="cp">#define LINK_STATUS_PARALLEL_DETECTION_FLAG_MASK	0x00000080</span>
	<span class="cp">#define LINK_STATUS_PARALLEL_DETECTION_USED		0x00000080</span>

	<span class="cp">#define LINK_STATUS_LINK_PARTNER_1000TFD_CAPABLE	0x00000200</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_1000THD_CAPABLE	0x00000400</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_100T4_CAPABLE		0x00000800</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_100TXFD_CAPABLE	0x00001000</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_100TXHD_CAPABLE	0x00002000</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_10TFD_CAPABLE		0x00004000</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_10THD_CAPABLE		0x00008000</span>

	<span class="cp">#define LINK_STATUS_TX_FLOW_CONTROL_FLAG_MASK		0x00010000</span>
	<span class="cp">#define LINK_STATUS_TX_FLOW_CONTROL_ENABLED		0x00010000</span>

	<span class="cp">#define LINK_STATUS_RX_FLOW_CONTROL_FLAG_MASK		0x00020000</span>
	<span class="cp">#define LINK_STATUS_RX_FLOW_CONTROL_ENABLED		0x00020000</span>

	<span class="cp">#define LINK_STATUS_LINK_PARTNER_FLOW_CONTROL_MASK	0x000C0000</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_NOT_PAUSE_CAPABLE	(0&lt;&lt;18)</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_SYMMETRIC_PAUSE	(1&lt;&lt;18)</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_ASYMMETRIC_PAUSE	(2&lt;&lt;18)</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_BOTH_PAUSE		(3&lt;&lt;18)</span>

	<span class="cp">#define LINK_STATUS_SERDES_LINK				0x00100000</span>

	<span class="cp">#define LINK_STATUS_LINK_PARTNER_2500XFD_CAPABLE	0x00200000</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_2500XHD_CAPABLE	0x00400000</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_10GXFD_CAPABLE		0x00800000</span>
	<span class="cp">#define LINK_STATUS_LINK_PARTNER_20GXFD_CAPABLE		0x10000000</span>

	<span class="cp">#define LINK_STATUS_PFC_ENABLED				0x20000000</span>

	<span class="cp">#define LINK_STATUS_PHYSICAL_LINK_FLAG			0x40000000</span>

	<span class="n">u32</span> <span class="n">port_stx</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">stat_nig_timer</span><span class="p">;</span>

	<span class="cm">/* MCP firmware does not use this field */</span>
	<span class="n">u32</span> <span class="n">ext_phy_fw_version</span><span class="p">;</span>

<span class="p">};</span>


<span class="k">struct</span> <span class="n">drv_func_mb</span> <span class="p">{</span>

	<span class="n">u32</span> <span class="n">drv_mb_header</span><span class="p">;</span>
	<span class="cp">#define DRV_MSG_CODE_MASK                       0xffff0000</span>
	<span class="cp">#define DRV_MSG_CODE_LOAD_REQ                   0x10000000</span>
	<span class="cp">#define DRV_MSG_CODE_LOAD_DONE                  0x11000000</span>
	<span class="cp">#define DRV_MSG_CODE_UNLOAD_REQ_WOL_EN          0x20000000</span>
	<span class="cp">#define DRV_MSG_CODE_UNLOAD_REQ_WOL_DIS         0x20010000</span>
	<span class="cp">#define DRV_MSG_CODE_UNLOAD_REQ_WOL_MCP         0x20020000</span>
	<span class="cp">#define DRV_MSG_CODE_UNLOAD_DONE                0x21000000</span>
	<span class="cp">#define DRV_MSG_CODE_DCC_OK                     0x30000000</span>
	<span class="cp">#define DRV_MSG_CODE_DCC_FAILURE                0x31000000</span>
	<span class="cp">#define DRV_MSG_CODE_DIAG_ENTER_REQ             0x50000000</span>
	<span class="cp">#define DRV_MSG_CODE_DIAG_EXIT_REQ              0x60000000</span>
	<span class="cp">#define DRV_MSG_CODE_VALIDATE_KEY               0x70000000</span>
	<span class="cp">#define DRV_MSG_CODE_GET_CURR_KEY               0x80000000</span>
	<span class="cp">#define DRV_MSG_CODE_GET_UPGRADE_KEY            0x81000000</span>
	<span class="cp">#define DRV_MSG_CODE_GET_MANUF_KEY              0x82000000</span>
	<span class="cp">#define DRV_MSG_CODE_LOAD_L2B_PRAM              0x90000000</span>
	<span class="cm">/*</span>
<span class="cm">	 * The optic module verification command requires bootcode</span>
<span class="cm">	 * v5.0.6 or later, te specific optic module verification command</span>
<span class="cm">	 * requires bootcode v5.2.12 or later</span>
<span class="cm">	 */</span>
	<span class="cp">#define DRV_MSG_CODE_VRFY_FIRST_PHY_OPT_MDL     0xa0000000</span>
	<span class="cp">#define REQ_BC_VER_4_VRFY_FIRST_PHY_OPT_MDL     0x00050006</span>
	<span class="cp">#define DRV_MSG_CODE_VRFY_SPECIFIC_PHY_OPT_MDL  0xa1000000</span>
	<span class="cp">#define REQ_BC_VER_4_VRFY_SPECIFIC_PHY_OPT_MDL  0x00050234</span>
	<span class="cp">#define DRV_MSG_CODE_VRFY_AFEX_SUPPORTED        0xa2000000</span>
	<span class="cp">#define REQ_BC_VER_4_VRFY_AFEX_SUPPORTED        0x00070002</span>
	<span class="cp">#define REQ_BC_VER_4_SFP_TX_DISABLE_SUPPORTED   0x00070014</span>
	<span class="cp">#define REQ_BC_VER_4_PFC_STATS_SUPPORTED        0x00070201</span>

	<span class="cp">#define DRV_MSG_CODE_DCBX_ADMIN_PMF_MSG         0xb0000000</span>
	<span class="cp">#define DRV_MSG_CODE_DCBX_PMF_DRV_OK            0xb2000000</span>

	<span class="cp">#define DRV_MSG_CODE_VF_DISABLED_DONE           0xc0000000</span>

	<span class="cp">#define DRV_MSG_CODE_AFEX_DRIVER_SETMAC         0xd0000000</span>
	<span class="cp">#define DRV_MSG_CODE_AFEX_LISTGET_ACK           0xd1000000</span>
	<span class="cp">#define DRV_MSG_CODE_AFEX_LISTSET_ACK           0xd2000000</span>
	<span class="cp">#define DRV_MSG_CODE_AFEX_STATSGET_ACK          0xd3000000</span>
	<span class="cp">#define DRV_MSG_CODE_AFEX_VIFSET_ACK            0xd4000000</span>

	<span class="cp">#define DRV_MSG_CODE_DRV_INFO_ACK               0xd8000000</span>
	<span class="cp">#define DRV_MSG_CODE_DRV_INFO_NACK              0xd9000000</span>

	<span class="cp">#define DRV_MSG_CODE_SET_MF_BW                  0xe0000000</span>
	<span class="cp">#define REQ_BC_VER_4_SET_MF_BW                  0x00060202</span>
	<span class="cp">#define DRV_MSG_CODE_SET_MF_BW_ACK              0xe1000000</span>

	<span class="cp">#define DRV_MSG_CODE_LINK_STATUS_CHANGED        0x01000000</span>

	<span class="cp">#define DRV_MSG_CODE_INITIATE_FLR               0x02000000</span>
	<span class="cp">#define REQ_BC_VER_4_INITIATE_FLR               0x00070213</span>

	<span class="cp">#define BIOS_MSG_CODE_LIC_CHALLENGE             0xff010000</span>
	<span class="cp">#define BIOS_MSG_CODE_LIC_RESPONSE              0xff020000</span>
	<span class="cp">#define BIOS_MSG_CODE_VIRT_MAC_PRIM             0xff030000</span>
	<span class="cp">#define BIOS_MSG_CODE_VIRT_MAC_ISCSI            0xff040000</span>

	<span class="cp">#define DRV_MSG_SEQ_NUMBER_MASK                 0x0000ffff</span>

	<span class="n">u32</span> <span class="n">drv_mb_param</span><span class="p">;</span>
	<span class="cp">#define DRV_MSG_CODE_SET_MF_BW_MIN_MASK         0x00ff0000</span>
	<span class="cp">#define DRV_MSG_CODE_SET_MF_BW_MAX_MASK         0xff000000</span>

	<span class="n">u32</span> <span class="n">fw_mb_header</span><span class="p">;</span>
	<span class="cp">#define FW_MSG_CODE_MASK                        0xffff0000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_LOAD_COMMON             0x10100000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_LOAD_PORT               0x10110000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_LOAD_FUNCTION           0x10120000</span>
	<span class="cm">/* Load common chip is supported from bc 6.0.0  */</span>
	<span class="cp">#define REQ_BC_VER_4_DRV_LOAD_COMMON_CHIP       0x00060000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_LOAD_COMMON_CHIP        0x10130000</span>

	<span class="cp">#define FW_MSG_CODE_DRV_LOAD_REFUSED            0x10200000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_LOAD_DONE               0x11100000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_UNLOAD_COMMON           0x20100000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_UNLOAD_PORT             0x20110000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_UNLOAD_FUNCTION         0x20120000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_UNLOAD_DONE             0x21100000</span>
	<span class="cp">#define FW_MSG_CODE_DCC_DONE                    0x30100000</span>
	<span class="cp">#define FW_MSG_CODE_LLDP_DONE                   0x40100000</span>
	<span class="cp">#define FW_MSG_CODE_DIAG_ENTER_DONE             0x50100000</span>
	<span class="cp">#define FW_MSG_CODE_DIAG_REFUSE                 0x50200000</span>
	<span class="cp">#define FW_MSG_CODE_DIAG_EXIT_DONE              0x60100000</span>
	<span class="cp">#define FW_MSG_CODE_VALIDATE_KEY_SUCCESS        0x70100000</span>
	<span class="cp">#define FW_MSG_CODE_VALIDATE_KEY_FAILURE        0x70200000</span>
	<span class="cp">#define FW_MSG_CODE_GET_KEY_DONE                0x80100000</span>
	<span class="cp">#define FW_MSG_CODE_NO_KEY                      0x80f00000</span>
	<span class="cp">#define FW_MSG_CODE_LIC_INFO_NOT_READY          0x80f80000</span>
	<span class="cp">#define FW_MSG_CODE_L2B_PRAM_LOADED             0x90100000</span>
	<span class="cp">#define FW_MSG_CODE_L2B_PRAM_T_LOAD_FAILURE     0x90210000</span>
	<span class="cp">#define FW_MSG_CODE_L2B_PRAM_C_LOAD_FAILURE     0x90220000</span>
	<span class="cp">#define FW_MSG_CODE_L2B_PRAM_X_LOAD_FAILURE     0x90230000</span>
	<span class="cp">#define FW_MSG_CODE_L2B_PRAM_U_LOAD_FAILURE     0x90240000</span>
	<span class="cp">#define FW_MSG_CODE_VRFY_OPT_MDL_SUCCESS        0xa0100000</span>
	<span class="cp">#define FW_MSG_CODE_VRFY_OPT_MDL_INVLD_IMG      0xa0200000</span>
	<span class="cp">#define FW_MSG_CODE_VRFY_OPT_MDL_UNAPPROVED     0xa0300000</span>
	<span class="cp">#define FW_MSG_CODE_VF_DISABLED_DONE            0xb0000000</span>
	<span class="cp">#define FW_MSG_CODE_HW_SET_INVALID_IMAGE        0xb0100000</span>

	<span class="cp">#define FW_MSG_CODE_AFEX_DRIVER_SETMAC_DONE     0xd0100000</span>
	<span class="cp">#define FW_MSG_CODE_AFEX_LISTGET_ACK            0xd1100000</span>
	<span class="cp">#define FW_MSG_CODE_AFEX_LISTSET_ACK            0xd2100000</span>
	<span class="cp">#define FW_MSG_CODE_AFEX_STATSGET_ACK           0xd3100000</span>
	<span class="cp">#define FW_MSG_CODE_AFEX_VIFSET_ACK             0xd4100000</span>

	<span class="cp">#define FW_MSG_CODE_DRV_INFO_ACK                0xd8100000</span>
	<span class="cp">#define FW_MSG_CODE_DRV_INFO_NACK               0xd9100000</span>

	<span class="cp">#define FW_MSG_CODE_SET_MF_BW_SENT              0xe0000000</span>
	<span class="cp">#define FW_MSG_CODE_SET_MF_BW_DONE              0xe1000000</span>

	<span class="cp">#define FW_MSG_CODE_LINK_CHANGED_ACK            0x01100000</span>

	<span class="cp">#define FW_MSG_CODE_LIC_CHALLENGE               0xff010000</span>
	<span class="cp">#define FW_MSG_CODE_LIC_RESPONSE                0xff020000</span>
	<span class="cp">#define FW_MSG_CODE_VIRT_MAC_PRIM               0xff030000</span>
	<span class="cp">#define FW_MSG_CODE_VIRT_MAC_ISCSI              0xff040000</span>

	<span class="cp">#define FW_MSG_SEQ_NUMBER_MASK                  0x0000ffff</span>

	<span class="n">u32</span> <span class="n">fw_mb_param</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">drv_pulse_mb</span><span class="p">;</span>
	<span class="cp">#define DRV_PULSE_SEQ_MASK                      0x00007fff</span>
	<span class="cp">#define DRV_PULSE_SYSTEM_TIME_MASK              0xffff0000</span>
	<span class="cm">/*</span>
<span class="cm">	 * The system time is in the format of</span>
<span class="cm">	 * (year-2001)*12*32 + month*32 + day.</span>
<span class="cm">	 */</span>
	<span class="cp">#define DRV_PULSE_ALWAYS_ALIVE                  0x00008000</span>
	<span class="cm">/*</span>
<span class="cm">	 * Indicate to the firmware not to go into the</span>
<span class="cm">	 * OS-absent when it is not getting driver pulse.</span>
<span class="cm">	 * This is used for debugging as well for PXE(MBA).</span>
<span class="cm">	 */</span>

	<span class="n">u32</span> <span class="n">mcp_pulse_mb</span><span class="p">;</span>
	<span class="cp">#define MCP_PULSE_SEQ_MASK                      0x00007fff</span>
	<span class="cp">#define MCP_PULSE_ALWAYS_ALIVE                  0x00008000</span>
	<span class="cm">/* Indicates to the driver not to assert due to lack</span>
<span class="cm">	 * of MCP response */</span>
	<span class="cp">#define MCP_EVENT_MASK                          0xffff0000</span>
	<span class="cp">#define MCP_EVENT_OTHER_DRIVER_RESET_REQ        0x00010000</span>

	<span class="n">u32</span> <span class="n">iscsi_boot_signature</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">iscsi_boot_block_offset</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">drv_status</span><span class="p">;</span>
	<span class="cp">#define DRV_STATUS_PMF                          0x00000001</span>
	<span class="cp">#define DRV_STATUS_VF_DISABLED                  0x00000002</span>
	<span class="cp">#define DRV_STATUS_SET_MF_BW                    0x00000004</span>
	<span class="cp">#define DRV_STATUS_LINK_EVENT                   0x00000008</span>

	<span class="cp">#define DRV_STATUS_DCC_EVENT_MASK               0x0000ff00</span>
	<span class="cp">#define DRV_STATUS_DCC_DISABLE_ENABLE_PF        0x00000100</span>
	<span class="cp">#define DRV_STATUS_DCC_BANDWIDTH_ALLOCATION     0x00000200</span>
	<span class="cp">#define DRV_STATUS_DCC_CHANGE_MAC_ADDRESS       0x00000400</span>
	<span class="cp">#define DRV_STATUS_DCC_RESERVED1                0x00000800</span>
	<span class="cp">#define DRV_STATUS_DCC_SET_PROTOCOL             0x00001000</span>
	<span class="cp">#define DRV_STATUS_DCC_SET_PRIORITY             0x00002000</span>

	<span class="cp">#define DRV_STATUS_DCBX_EVENT_MASK              0x000f0000</span>
	<span class="cp">#define DRV_STATUS_DCBX_NEGOTIATION_RESULTS     0x00010000</span>
	<span class="cp">#define DRV_STATUS_AFEX_EVENT_MASK              0x03f00000</span>
	<span class="cp">#define DRV_STATUS_AFEX_LISTGET_REQ             0x00100000</span>
	<span class="cp">#define DRV_STATUS_AFEX_LISTSET_REQ             0x00200000</span>
	<span class="cp">#define DRV_STATUS_AFEX_STATSGET_REQ            0x00400000</span>
	<span class="cp">#define DRV_STATUS_AFEX_VIFSET_REQ              0x00800000</span>

	<span class="cp">#define DRV_STATUS_DRV_INFO_REQ                 0x04000000</span>

	<span class="n">u32</span> <span class="n">virt_mac_upper</span><span class="p">;</span>
	<span class="cp">#define VIRT_MAC_SIGN_MASK                      0xffff0000</span>
	<span class="cp">#define VIRT_MAC_SIGNATURE                      0x564d0000</span>
	<span class="n">u32</span> <span class="n">virt_mac_lower</span><span class="p">;</span>

<span class="p">};</span>


<span class="cm">/****************************************************************************</span>
<span class="cm"> * Management firmware state                                                *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="cm">/* Allocate 440 bytes for management firmware */</span>
<span class="cp">#define MGMTFW_STATE_WORD_SIZE                          110</span>

<span class="k">struct</span> <span class="n">mgmtfw_state</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">opaque</span><span class="p">[</span><span class="n">MGMTFW_STATE_WORD_SIZE</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/****************************************************************************</span>
<span class="cm"> * Multi-Function configuration                                             *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="k">struct</span> <span class="n">shared_mf_cfg</span> <span class="p">{</span>

	<span class="n">u32</span> <span class="n">clp_mb</span><span class="p">;</span>
	<span class="cp">#define SHARED_MF_CLP_SET_DEFAULT               0x00000000</span>
	<span class="cm">/* set by CLP */</span>
	<span class="cp">#define SHARED_MF_CLP_EXIT                      0x00000001</span>
	<span class="cm">/* set by MCP */</span>
	<span class="cp">#define SHARED_MF_CLP_EXIT_DONE                 0x00010000</span>

<span class="p">};</span>

<span class="k">struct</span> <span class="n">port_mf_cfg</span> <span class="p">{</span>

	<span class="n">u32</span> <span class="n">dynamic_cfg</span><span class="p">;</span>    <span class="cm">/* device control channel */</span>
	<span class="cp">#define PORT_MF_CFG_E1HOV_TAG_MASK              0x0000ffff</span>
	<span class="cp">#define PORT_MF_CFG_E1HOV_TAG_SHIFT             0</span>
	<span class="cp">#define PORT_MF_CFG_E1HOV_TAG_DEFAULT         PORT_MF_CFG_E1HOV_TAG_MASK</span>

	<span class="n">u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

<span class="p">};</span>

<span class="k">struct</span> <span class="n">func_mf_cfg</span> <span class="p">{</span>

	<span class="n">u32</span> <span class="n">config</span><span class="p">;</span>
	<span class="cm">/* E/R/I/D */</span>
	<span class="cm">/* function 0 of each port cannot be hidden */</span>
	<span class="cp">#define FUNC_MF_CFG_FUNC_HIDE                   0x00000001</span>

	<span class="cp">#define FUNC_MF_CFG_PROTOCOL_MASK               0x00000006</span>
	<span class="cp">#define FUNC_MF_CFG_PROTOCOL_FCOE               0x00000000</span>
	<span class="cp">#define FUNC_MF_CFG_PROTOCOL_ETHERNET           0x00000002</span>
	<span class="cp">#define FUNC_MF_CFG_PROTOCOL_ETHERNET_WITH_RDMA 0x00000004</span>
	<span class="cp">#define FUNC_MF_CFG_PROTOCOL_ISCSI              0x00000006</span>
	<span class="cp">#define FUNC_MF_CFG_PROTOCOL_DEFAULT \</span>
<span class="cp">				FUNC_MF_CFG_PROTOCOL_ETHERNET_WITH_RDMA</span>

	<span class="cp">#define FUNC_MF_CFG_FUNC_DISABLED               0x00000008</span>
	<span class="cp">#define FUNC_MF_CFG_FUNC_DELETED                0x00000010</span>

	<span class="cm">/* PRI */</span>
	<span class="cm">/* 0 - low priority, 3 - high priority */</span>
	<span class="cp">#define FUNC_MF_CFG_TRANSMIT_PRIORITY_MASK      0x00000300</span>
	<span class="cp">#define FUNC_MF_CFG_TRANSMIT_PRIORITY_SHIFT     8</span>
	<span class="cp">#define FUNC_MF_CFG_TRANSMIT_PRIORITY_DEFAULT   0x00000000</span>

	<span class="cm">/* MINBW, MAXBW */</span>
	<span class="cm">/* value range - 0..100, increments in 100Mbps */</span>
	<span class="cp">#define FUNC_MF_CFG_MIN_BW_MASK                 0x00ff0000</span>
	<span class="cp">#define FUNC_MF_CFG_MIN_BW_SHIFT                16</span>
	<span class="cp">#define FUNC_MF_CFG_MIN_BW_DEFAULT              0x00000000</span>
	<span class="cp">#define FUNC_MF_CFG_MAX_BW_MASK                 0xff000000</span>
	<span class="cp">#define FUNC_MF_CFG_MAX_BW_SHIFT                24</span>
	<span class="cp">#define FUNC_MF_CFG_MAX_BW_DEFAULT              0x64000000</span>

	<span class="n">u32</span> <span class="n">mac_upper</span><span class="p">;</span>	    <span class="cm">/* MAC */</span>
	<span class="cp">#define FUNC_MF_CFG_UPPERMAC_MASK               0x0000ffff</span>
	<span class="cp">#define FUNC_MF_CFG_UPPERMAC_SHIFT              0</span>
	<span class="cp">#define FUNC_MF_CFG_UPPERMAC_DEFAULT           FUNC_MF_CFG_UPPERMAC_MASK</span>
	<span class="n">u32</span> <span class="n">mac_lower</span><span class="p">;</span>
	<span class="cp">#define FUNC_MF_CFG_LOWERMAC_DEFAULT            0xffffffff</span>

	<span class="n">u32</span> <span class="n">e1hov_tag</span><span class="p">;</span>	<span class="cm">/* VNI */</span>
	<span class="cp">#define FUNC_MF_CFG_E1HOV_TAG_MASK              0x0000ffff</span>
	<span class="cp">#define FUNC_MF_CFG_E1HOV_TAG_SHIFT             0</span>
	<span class="cp">#define FUNC_MF_CFG_E1HOV_TAG_DEFAULT         FUNC_MF_CFG_E1HOV_TAG_MASK</span>

	<span class="cm">/* afex default VLAN ID - 12 bits */</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_VLAN_MASK              0x0fff0000</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_VLAN_SHIFT             16</span>

	<span class="n">u32</span> <span class="n">afex_config</span><span class="p">;</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_COS_FILTER_MASK                     0x000000ff</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_COS_FILTER_SHIFT                    0</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_MBA_ENABLED_MASK                    0x0000ff00</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_MBA_ENABLED_SHIFT                   8</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_MBA_ENABLED_VAL                     0x00000100</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_VLAN_MODE_MASK                      0x000f0000</span>
	<span class="cp">#define FUNC_MF_CFG_AFEX_VLAN_MODE_SHIFT                     16</span>

	<span class="n">u32</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">mf_cfg_afex_vlan_mode</span> <span class="p">{</span>
	<span class="n">FUNC_MF_CFG_AFEX_VLAN_TRUNK_MODE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FUNC_MF_CFG_AFEX_VLAN_ACCESS_MODE</span><span class="p">,</span>
	<span class="n">FUNC_MF_CFG_AFEX_VLAN_TRUNK_TAG_NATIVE_MODE</span>
<span class="p">};</span>

<span class="cm">/* This structure is not applicable and should not be accessed on 57711 */</span>
<span class="k">struct</span> <span class="n">func_ext_cfg</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">func_cfg</span><span class="p">;</span>
	<span class="cp">#define MACP_FUNC_CFG_FLAGS_MASK                0x000000FF</span>
	<span class="cp">#define MACP_FUNC_CFG_FLAGS_SHIFT               0</span>
	<span class="cp">#define MACP_FUNC_CFG_FLAGS_ENABLED             0x00000001</span>
	<span class="cp">#define MACP_FUNC_CFG_FLAGS_ETHERNET            0x00000002</span>
	<span class="cp">#define MACP_FUNC_CFG_FLAGS_ISCSI_OFFLOAD       0x00000004</span>
	<span class="cp">#define MACP_FUNC_CFG_FLAGS_FCOE_OFFLOAD        0x00000008</span>

	<span class="n">u32</span> <span class="n">iscsi_mac_addr_upper</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">iscsi_mac_addr_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">fcoe_mac_addr_upper</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fcoe_mac_addr_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">fcoe_wwn_port_name_upper</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fcoe_wwn_port_name_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">fcoe_wwn_node_name_upper</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fcoe_wwn_node_name_lower</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">preserve_data</span><span class="p">;</span>
	<span class="cp">#define MF_FUNC_CFG_PRESERVE_L2_MAC             (1&lt;&lt;0)</span>
	<span class="cp">#define MF_FUNC_CFG_PRESERVE_ISCSI_MAC          (1&lt;&lt;1)</span>
	<span class="cp">#define MF_FUNC_CFG_PRESERVE_FCOE_MAC           (1&lt;&lt;2)</span>
	<span class="cp">#define MF_FUNC_CFG_PRESERVE_FCOE_WWN_P         (1&lt;&lt;3)</span>
	<span class="cp">#define MF_FUNC_CFG_PRESERVE_FCOE_WWN_N         (1&lt;&lt;4)</span>
	<span class="cp">#define MF_FUNC_CFG_PRESERVE_TX_BW              (1&lt;&lt;5)</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">mf_cfg</span> <span class="p">{</span>

	<span class="k">struct</span> <span class="n">shared_mf_cfg</span>    <span class="n">shared_mf_config</span><span class="p">;</span>       <span class="cm">/* 0x4 */</span>
							<span class="cm">/* 0x8*2*2=0x20 */</span>
	<span class="k">struct</span> <span class="n">port_mf_cfg</span>  <span class="n">port_mf_config</span><span class="p">[</span><span class="n">NVM_PATH_MAX</span><span class="p">][</span><span class="n">PORT_MAX</span><span class="p">];</span>
	<span class="cm">/* for all chips, there are 8 mf functions */</span>
	<span class="k">struct</span> <span class="n">func_mf_cfg</span>  <span class="n">func_mf_config</span><span class="p">[</span><span class="n">E1H_FUNC_MAX</span><span class="p">];</span> <span class="cm">/* 0x18 * 8 = 0xc0 */</span>
	<span class="cm">/*</span>
<span class="cm">	 * Extended configuration per function  - this array does not exist and</span>
<span class="cm">	 * should not be accessed on 57711</span>
<span class="cm">	 */</span>
	<span class="k">struct</span> <span class="n">func_ext_cfg</span> <span class="n">func_ext_config</span><span class="p">[</span><span class="n">E1H_FUNC_MAX</span><span class="p">];</span> <span class="cm">/* 0x28 * 8 = 0x140*/</span>
<span class="p">};</span> <span class="cm">/* 0x224 */</span>

<span class="cm">/****************************************************************************</span>
<span class="cm"> * Shared Memory Region                                                     *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="k">struct</span> <span class="n">shmem_region</span> <span class="p">{</span>		       <span class="cm">/*   SharedMem Offset (size) */</span>

	<span class="n">u32</span>         <span class="n">validity_map</span><span class="p">[</span><span class="n">PORT_MAX</span><span class="p">];</span>  <span class="cm">/* 0x0 (4*2 = 0x8) */</span>
	<span class="cp">#define SHR_MEM_FORMAT_REV_MASK                     0xff000000</span>
	<span class="cp">#define SHR_MEM_FORMAT_REV_ID                       (&#39;A&#39;&lt;&lt;24)</span>
	<span class="cm">/* validity bits */</span>
	<span class="cp">#define SHR_MEM_VALIDITY_PCI_CFG                    0x00100000</span>
	<span class="cp">#define SHR_MEM_VALIDITY_MB                         0x00200000</span>
	<span class="cp">#define SHR_MEM_VALIDITY_DEV_INFO                   0x00400000</span>
	<span class="cp">#define SHR_MEM_VALIDITY_RESERVED                   0x00000007</span>
	<span class="cm">/* One licensing bit should be set */</span>
	<span class="cp">#define SHR_MEM_VALIDITY_LIC_KEY_IN_EFFECT_MASK     0x00000038</span>
	<span class="cp">#define SHR_MEM_VALIDITY_LIC_MANUF_KEY_IN_EFFECT    0x00000008</span>
	<span class="cp">#define SHR_MEM_VALIDITY_LIC_UPGRADE_KEY_IN_EFFECT  0x00000010</span>
	<span class="cp">#define SHR_MEM_VALIDITY_LIC_NO_KEY_IN_EFFECT       0x00000020</span>
	<span class="cm">/* Active MFW */</span>
	<span class="cp">#define SHR_MEM_VALIDITY_ACTIVE_MFW_UNKNOWN         0x00000000</span>
	<span class="cp">#define SHR_MEM_VALIDITY_ACTIVE_MFW_MASK            0x000001c0</span>
	<span class="cp">#define SHR_MEM_VALIDITY_ACTIVE_MFW_IPMI            0x00000040</span>
	<span class="cp">#define SHR_MEM_VALIDITY_ACTIVE_MFW_UMP             0x00000080</span>
	<span class="cp">#define SHR_MEM_VALIDITY_ACTIVE_MFW_NCSI            0x000000c0</span>
	<span class="cp">#define SHR_MEM_VALIDITY_ACTIVE_MFW_NONE            0x000001c0</span>

	<span class="k">struct</span> <span class="n">shm_dev_info</span> <span class="n">dev_info</span><span class="p">;</span>	     <span class="cm">/* 0x8     (0x438) */</span>

	<span class="k">struct</span> <span class="n">license_key</span>       <span class="n">drv_lic_key</span><span class="p">[</span><span class="n">PORT_MAX</span><span class="p">];</span> <span class="cm">/* 0x440 (52*2=0x68) */</span>

	<span class="cm">/* FW information (for internal FW use) */</span>
	<span class="n">u32</span>         <span class="n">fw_info_fio_offset</span><span class="p">;</span>		<span class="cm">/* 0x4a8       (0x4) */</span>
	<span class="k">struct</span> <span class="n">mgmtfw_state</span> <span class="n">mgmtfw_state</span><span class="p">;</span>	<span class="cm">/* 0x4ac     (0x1b8) */</span>

	<span class="k">struct</span> <span class="n">drv_port_mb</span>  <span class="n">port_mb</span><span class="p">[</span><span class="n">PORT_MAX</span><span class="p">];</span>	<span class="cm">/* 0x664 (16*2=0x20) */</span>

<span class="cp">#ifdef BMAPI</span>
	<span class="cm">/* This is a variable length array */</span>
	<span class="cm">/* the number of function depends on the chip type */</span>
	<span class="k">struct</span> <span class="n">drv_func_mb</span> <span class="n">func_mb</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>	<span class="cm">/* 0x684 (44*2/4/8=0x58/0xb0/0x160) */</span>
<span class="cp">#else</span>
	<span class="cm">/* the number of function depends on the chip type */</span>
	<span class="k">struct</span> <span class="n">drv_func_mb</span>  <span class="n">func_mb</span><span class="p">[];</span>	<span class="cm">/* 0x684 (44*2/4/8=0x58/0xb0/0x160) */</span>
<span class="cp">#endif </span><span class="cm">/* BMAPI */</span><span class="cp"></span>

<span class="p">};</span> <span class="cm">/* 57710 = 0x6dc | 57711 = 0x7E4 | 57712 = 0x734 */</span>

<span class="cm">/****************************************************************************</span>
<span class="cm"> * Shared Memory 2 Region                                                   *</span>
<span class="cm"> ****************************************************************************/</span>
<span class="cm">/* The fw_flr_ack is actually built in the following way:                   */</span>
<span class="cm">/* 8 bit:  PF ack                                                           */</span>
<span class="cm">/* 64 bit: VF ack                                                           */</span>
<span class="cm">/* 8 bit:  ios_dis_ack                                                      */</span>
<span class="cm">/* In order to maintain endianity in the mailbox hsi, we want to keep using */</span>
<span class="cm">/* u32. The fw must have the VF right after the PF since this is how it     */</span>
<span class="cm">/* access arrays(it expects always the VF to reside after the PF, and that  */</span>
<span class="cm">/* makes the calculation much easier for it. )                              */</span>
<span class="cm">/* In order to answer both limitations, and keep the struct small, the code */</span>
<span class="cm">/* will abuse the structure defined here to achieve the actual partition    */</span>
<span class="cm">/* above                                                                    */</span>
<span class="cm">/****************************************************************************/</span>
<span class="k">struct</span> <span class="n">fw_flr_ack</span> <span class="p">{</span>
	<span class="n">u32</span>         <span class="n">pf_ack</span><span class="p">;</span>
	<span class="n">u32</span>         <span class="n">vf_ack</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">u32</span>         <span class="n">iov_dis_ack</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_flr_mb</span> <span class="p">{</span>
	<span class="n">u32</span>         <span class="n">aggint</span><span class="p">;</span>
	<span class="n">u32</span>         <span class="n">opgen_addr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fw_flr_ack</span> <span class="n">ack</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**** SUPPORT FOR SHMEM ARRRAYS ***</span>
<span class="cm"> * The SHMEM HSI is aligned on 32 bit boundaries which makes it difficult to</span>
<span class="cm"> * define arrays with storage types smaller then unsigned dwords.</span>
<span class="cm"> * The macros below add generic support for SHMEM arrays with numeric elements</span>
<span class="cm"> * that can span 2,4,8 or 16 bits. The array underlying type is a 32 bit dword</span>
<span class="cm"> * array with individual bit-filed elements accessed using shifts and masks.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/* eb is the bitwidth of a single element */</span>
<span class="cp">#define SHMEM_ARRAY_MASK(eb)		((1&lt;&lt;(eb))-1)</span>
<span class="cp">#define SHMEM_ARRAY_ENTRY(i, eb)	((i)/(32/(eb)))</span>

<span class="cm">/* the bit-position macro allows the used to flip the order of the arrays</span>
<span class="cm"> * elements on a per byte or word boundary.</span>
<span class="cm"> *</span>
<span class="cm"> * example: an array with 8 entries each 4 bit wide. This array will fit into</span>
<span class="cm"> * a single dword. The diagrmas below show the array order of the nibbles.</span>
<span class="cm"> *</span>
<span class="cm"> * SHMEM_ARRAY_BITPOS(i, 4, 4) defines the stadard ordering:</span>
<span class="cm"> *</span>
<span class="cm"> *                |                |                |               |</span>
<span class="cm"> *   0    |   1   |   2    |   3   |   4    |   5   |   6   |   7   |</span>
<span class="cm"> *                |                |                |               |</span>
<span class="cm"> *</span>
<span class="cm"> * SHMEM_ARRAY_BITPOS(i, 4, 8) defines a flip ordering per byte:</span>
<span class="cm"> *</span>
<span class="cm"> *                |                |                |               |</span>
<span class="cm"> *   1   |   0    |   3    |   2   |   5    |   4   |   7   |   6   |</span>
<span class="cm"> *                |                |                |               |</span>
<span class="cm"> *</span>
<span class="cm"> * SHMEM_ARRAY_BITPOS(i, 4, 16) defines a flip ordering per word:</span>
<span class="cm"> *</span>
<span class="cm"> *                |                |                |               |</span>
<span class="cm"> *   3   |   2    |   1   |   0    |   7   |   6    |   5   |   4   |</span>
<span class="cm"> *                |                |                |               |</span>
<span class="cm"> */</span>
<span class="cp">#define SHMEM_ARRAY_BITPOS(i, eb, fb)	\</span>
<span class="cp">	((((32/(fb)) - 1 - ((i)/((fb)/(eb))) % (32/(fb))) * (fb)) + \</span>
<span class="cp">	(((i)%((fb)/(eb))) * (eb)))</span>

<span class="cp">#define SHMEM_ARRAY_GET(a, i, eb, fb)					\</span>
<span class="cp">	((a[SHMEM_ARRAY_ENTRY(i, eb)] &gt;&gt; SHMEM_ARRAY_BITPOS(i, eb, fb)) &amp;  \</span>
<span class="cp">	SHMEM_ARRAY_MASK(eb))</span>

<span class="cp">#define SHMEM_ARRAY_SET(a, i, eb, fb, val)				\</span>
<span class="cp">do {									   \</span>
<span class="cp">	a[SHMEM_ARRAY_ENTRY(i, eb)] &amp;= ~(SHMEM_ARRAY_MASK(eb) &lt;&lt;	   \</span>
<span class="cp">	SHMEM_ARRAY_BITPOS(i, eb, fb));					   \</span>
<span class="cp">	a[SHMEM_ARRAY_ENTRY(i, eb)] |= (((val) &amp; SHMEM_ARRAY_MASK(eb)) &lt;&lt;  \</span>
<span class="cp">	SHMEM_ARRAY_BITPOS(i, eb, fb));					   \</span>
<span class="cp">} while (0)</span>


<span class="cm">/****START OF DCBX STRUCTURES DECLARATIONS****/</span>
<span class="cp">#define DCBX_MAX_NUM_PRI_PG_ENTRIES	8</span>
<span class="cp">#define DCBX_PRI_PG_BITWIDTH		4</span>
<span class="cp">#define DCBX_PRI_PG_FBITS		8</span>
<span class="cp">#define DCBX_PRI_PG_GET(a, i)		\</span>
<span class="cp">	SHMEM_ARRAY_GET(a, i, DCBX_PRI_PG_BITWIDTH, DCBX_PRI_PG_FBITS)</span>
<span class="cp">#define DCBX_PRI_PG_SET(a, i, val)	\</span>
<span class="cp">	SHMEM_ARRAY_SET(a, i, DCBX_PRI_PG_BITWIDTH, DCBX_PRI_PG_FBITS, val)</span>
<span class="cp">#define DCBX_MAX_NUM_PG_BW_ENTRIES	8</span>
<span class="cp">#define DCBX_BW_PG_BITWIDTH		8</span>
<span class="cp">#define DCBX_PG_BW_GET(a, i)		\</span>
<span class="cp">	SHMEM_ARRAY_GET(a, i, DCBX_BW_PG_BITWIDTH, DCBX_BW_PG_BITWIDTH)</span>
<span class="cp">#define DCBX_PG_BW_SET(a, i, val)	\</span>
<span class="cp">	SHMEM_ARRAY_SET(a, i, DCBX_BW_PG_BITWIDTH, DCBX_BW_PG_BITWIDTH, val)</span>
<span class="cp">#define DCBX_STRICT_PRI_PG		15</span>
<span class="cp">#define DCBX_MAX_APP_PROTOCOL		16</span>
<span class="cp">#define FCOE_APP_IDX			0</span>
<span class="cp">#define ISCSI_APP_IDX			1</span>
<span class="cp">#define PREDEFINED_APP_IDX_MAX		2</span>


<span class="cm">/* Big/Little endian have the same representation. */</span>
<span class="k">struct</span> <span class="n">dcbx_ets_feature</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * For Admin MIB - is this feature supported by the</span>
<span class="cm">	 * driver | For Local MIB - should this feature be enabled.</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">enabled</span><span class="p">;</span>
	<span class="n">u32</span>  <span class="n">pg_bw_tbl</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>  <span class="n">pri_pg_tbl</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* Driver structure in LE */</span>
<span class="k">struct</span> <span class="n">dcbx_pfc_feature</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u8</span> <span class="n">pri_en_bitmap</span><span class="p">;</span>
	<span class="cp">#define DCBX_PFC_PRI_0 0x01</span>
	<span class="cp">#define DCBX_PFC_PRI_1 0x02</span>
	<span class="cp">#define DCBX_PFC_PRI_2 0x04</span>
	<span class="cp">#define DCBX_PFC_PRI_3 0x08</span>
	<span class="cp">#define DCBX_PFC_PRI_4 0x10</span>
	<span class="cp">#define DCBX_PFC_PRI_5 0x20</span>
	<span class="cp">#define DCBX_PFC_PRI_6 0x40</span>
	<span class="cp">#define DCBX_PFC_PRI_7 0x80</span>
	<span class="n">u8</span> <span class="n">pfc_caps</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">enabled</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">enabled</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pfc_caps</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pri_en_bitmap</span><span class="p">;</span>
	<span class="cp">#define DCBX_PFC_PRI_0 0x01</span>
	<span class="cp">#define DCBX_PFC_PRI_1 0x02</span>
	<span class="cp">#define DCBX_PFC_PRI_2 0x04</span>
	<span class="cp">#define DCBX_PFC_PRI_3 0x08</span>
	<span class="cp">#define DCBX_PFC_PRI_4 0x10</span>
	<span class="cp">#define DCBX_PFC_PRI_5 0x20</span>
	<span class="cp">#define DCBX_PFC_PRI_6 0x40</span>
	<span class="cp">#define DCBX_PFC_PRI_7 0x80</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">dcbx_app_priority_entry</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u16</span>  <span class="n">app_id</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">pri_bitmap</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">appBitfield</span><span class="p">;</span>
	<span class="cp">#define DCBX_APP_ENTRY_VALID         0x01</span>
	<span class="cp">#define DCBX_APP_ENTRY_SF_MASK       0x30</span>
	<span class="cp">#define DCBX_APP_ENTRY_SF_SHIFT      4</span>
	<span class="cp">#define DCBX_APP_SF_ETH_TYPE         0x10</span>
	<span class="cp">#define DCBX_APP_SF_PORT             0x20</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">appBitfield</span><span class="p">;</span>
	<span class="cp">#define DCBX_APP_ENTRY_VALID         0x01</span>
	<span class="cp">#define DCBX_APP_ENTRY_SF_MASK       0x30</span>
	<span class="cp">#define DCBX_APP_ENTRY_SF_SHIFT      4</span>
	<span class="cp">#define DCBX_APP_SF_ETH_TYPE         0x10</span>
	<span class="cp">#define DCBX_APP_SF_PORT             0x20</span>
	<span class="n">u8</span>  <span class="n">pri_bitmap</span><span class="p">;</span>
	<span class="n">u16</span>  <span class="n">app_id</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/* FW structure in BE */</span>
<span class="k">struct</span> <span class="n">dcbx_app_priority_feature</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">default_pri</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tc_supported</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">enabled</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">enabled</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tc_supported</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">default_pri</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="k">struct</span> <span class="n">dcbx_app_priority_entry</span>  <span class="n">app_pri_tbl</span><span class="p">[</span><span class="n">DCBX_MAX_APP_PROTOCOL</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* FW structure in BE */</span>
<span class="k">struct</span> <span class="n">dcbx_features</span> <span class="p">{</span>
	<span class="cm">/* PG feature */</span>
	<span class="k">struct</span> <span class="n">dcbx_ets_feature</span> <span class="n">ets</span><span class="p">;</span>
	<span class="cm">/* PFC feature */</span>
	<span class="k">struct</span> <span class="n">dcbx_pfc_feature</span> <span class="n">pfc</span><span class="p">;</span>
	<span class="cm">/* APP feature */</span>
	<span class="k">struct</span> <span class="n">dcbx_app_priority_feature</span> <span class="n">app</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* LLDP protocol parameters */</span>
<span class="cm">/* FW structure in BE */</span>
<span class="k">struct</span> <span class="n">lldp_params</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u8</span>  <span class="n">msg_fast_tx_interval</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">msg_tx_hold</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">msg_tx_interval</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">admin_status</span><span class="p">;</span>
	<span class="cp">#define LLDP_TX_ONLY  0x01</span>
	<span class="cp">#define LLDP_RX_ONLY  0x02</span>
	<span class="cp">#define LLDP_TX_RX    0x03</span>
	<span class="cp">#define LLDP_DISABLED 0x04</span>
	<span class="n">u8</span>  <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">tx_fast</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">tx_crd_max</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">tx_crd</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span>  <span class="n">admin_status</span><span class="p">;</span>
	<span class="cp">#define LLDP_TX_ONLY  0x01</span>
	<span class="cp">#define LLDP_RX_ONLY  0x02</span>
	<span class="cp">#define LLDP_TX_RX    0x03</span>
	<span class="cp">#define LLDP_DISABLED 0x04</span>
	<span class="n">u8</span>  <span class="n">msg_tx_interval</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">msg_tx_hold</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">msg_fast_tx_interval</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">tx_crd</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">tx_crd_max</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">tx_fast</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">reserved1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="cp">#define REM_CHASSIS_ID_STAT_LEN 4</span>
	<span class="cp">#define REM_PORT_ID_STAT_LEN 4</span>
	<span class="cm">/* Holds remote Chassis ID TLV header, subtype and 9B of payload. */</span>
	<span class="n">u32</span> <span class="n">peer_chassis_id</span><span class="p">[</span><span class="n">REM_CHASSIS_ID_STAT_LEN</span><span class="p">];</span>
	<span class="cm">/* Holds remote Port ID TLV header, subtype and 9B of payload. */</span>
	<span class="n">u32</span> <span class="n">peer_port_id</span><span class="p">[</span><span class="n">REM_PORT_ID_STAT_LEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lldp_dcbx_stat</span> <span class="p">{</span>
	<span class="cp">#define LOCAL_CHASSIS_ID_STAT_LEN 2</span>
	<span class="cp">#define LOCAL_PORT_ID_STAT_LEN 2</span>
	<span class="cm">/* Holds local Chassis ID 8B payload of constant subtype 4. */</span>
	<span class="n">u32</span> <span class="n">local_chassis_id</span><span class="p">[</span><span class="n">LOCAL_CHASSIS_ID_STAT_LEN</span><span class="p">];</span>
	<span class="cm">/* Holds local Port ID 8B payload of constant subtype 3. */</span>
	<span class="n">u32</span> <span class="n">local_port_id</span><span class="p">[</span><span class="n">LOCAL_PORT_ID_STAT_LEN</span><span class="p">];</span>
	<span class="cm">/* Number of DCBX frames transmitted. */</span>
	<span class="n">u32</span> <span class="n">num_tx_dcbx_pkts</span><span class="p">;</span>
	<span class="cm">/* Number of DCBX frames received. */</span>
	<span class="n">u32</span> <span class="n">num_rx_dcbx_pkts</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* ADMIN MIB - DCBX local machine default configuration. */</span>
<span class="k">struct</span> <span class="n">lldp_admin_mib</span> <span class="p">{</span>
	<span class="n">u32</span>     <span class="n">ver_cfg_flags</span><span class="p">;</span>
	<span class="cp">#define DCBX_ETS_CONFIG_TX_ENABLED       0x00000001</span>
	<span class="cp">#define DCBX_PFC_CONFIG_TX_ENABLED       0x00000002</span>
	<span class="cp">#define DCBX_APP_CONFIG_TX_ENABLED       0x00000004</span>
	<span class="cp">#define DCBX_ETS_RECO_TX_ENABLED         0x00000008</span>
	<span class="cp">#define DCBX_ETS_RECO_VALID              0x00000010</span>
	<span class="cp">#define DCBX_ETS_WILLING                 0x00000020</span>
	<span class="cp">#define DCBX_PFC_WILLING                 0x00000040</span>
	<span class="cp">#define DCBX_APP_WILLING                 0x00000080</span>
	<span class="cp">#define DCBX_VERSION_CEE                 0x00000100</span>
	<span class="cp">#define DCBX_VERSION_IEEE                0x00000200</span>
	<span class="cp">#define DCBX_DCBX_ENABLED                0x00000400</span>
	<span class="cp">#define DCBX_CEE_VERSION_MASK            0x0000f000</span>
	<span class="cp">#define DCBX_CEE_VERSION_SHIFT           12</span>
	<span class="cp">#define DCBX_CEE_MAX_VERSION_MASK        0x000f0000</span>
	<span class="cp">#define DCBX_CEE_MAX_VERSION_SHIFT       16</span>
	<span class="k">struct</span> <span class="n">dcbx_features</span>     <span class="n">features</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* REMOTE MIB - remote machine DCBX configuration. */</span>
<span class="k">struct</span> <span class="n">lldp_remote_mib</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">prefix_seq_num</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="cp">#define DCBX_ETS_TLV_RX                  0x00000001</span>
	<span class="cp">#define DCBX_PFC_TLV_RX                  0x00000002</span>
	<span class="cp">#define DCBX_APP_TLV_RX                  0x00000004</span>
	<span class="cp">#define DCBX_ETS_RX_ERROR                0x00000010</span>
	<span class="cp">#define DCBX_PFC_RX_ERROR                0x00000020</span>
	<span class="cp">#define DCBX_APP_RX_ERROR                0x00000040</span>
	<span class="cp">#define DCBX_ETS_REM_WILLING             0x00000100</span>
	<span class="cp">#define DCBX_PFC_REM_WILLING             0x00000200</span>
	<span class="cp">#define DCBX_APP_REM_WILLING             0x00000400</span>
	<span class="cp">#define DCBX_REMOTE_ETS_RECO_VALID       0x00001000</span>
	<span class="cp">#define DCBX_REMOTE_MIB_VALID            0x00002000</span>
	<span class="k">struct</span> <span class="n">dcbx_features</span> <span class="n">features</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">suffix_seq_num</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* LOCAL MIB - operational DCBX configuration - transmitted on Tx LLDPDU. */</span>
<span class="k">struct</span> <span class="n">lldp_local_mib</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">prefix_seq_num</span><span class="p">;</span>
	<span class="cm">/* Indicates if there is mismatch with negotiation results. */</span>
	<span class="n">u32</span> <span class="n">error</span><span class="p">;</span>
	<span class="cp">#define DCBX_LOCAL_ETS_ERROR             0x00000001</span>
	<span class="cp">#define DCBX_LOCAL_PFC_ERROR             0x00000002</span>
	<span class="cp">#define DCBX_LOCAL_APP_ERROR             0x00000004</span>
	<span class="cp">#define DCBX_LOCAL_PFC_MISMATCH          0x00000010</span>
	<span class="cp">#define DCBX_LOCAL_APP_MISMATCH          0x00000020</span>
	<span class="cp">#define DCBX_REMOTE_MIB_ERROR		 0x00000040</span>
	<span class="cp">#define DCBX_REMOTE_ETS_TLV_NOT_FOUND    0x00000080</span>
	<span class="cp">#define DCBX_REMOTE_PFC_TLV_NOT_FOUND    0x00000100</span>
	<span class="cp">#define DCBX_REMOTE_APP_TLV_NOT_FOUND    0x00000200</span>
	<span class="k">struct</span> <span class="n">dcbx_features</span>   <span class="n">features</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">suffix_seq_num</span><span class="p">;</span>
<span class="p">};</span>
<span class="cm">/***END OF DCBX STRUCTURES DECLARATIONS***/</span>

<span class="k">struct</span> <span class="n">ncsi_oem_fcoe_features</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">fcoe_features1</span><span class="p">;</span>
	<span class="cp">#define FCOE_FEATURES1_IOS_PER_CONNECTION_MASK          0x0000FFFF</span>
	<span class="cp">#define FCOE_FEATURES1_IOS_PER_CONNECTION_OFFSET        0</span>

	<span class="cp">#define FCOE_FEATURES1_LOGINS_PER_PORT_MASK             0xFFFF0000</span>
	<span class="cp">#define FCOE_FEATURES1_LOGINS_PER_PORT_OFFSET           16</span>

	<span class="n">u32</span> <span class="n">fcoe_features2</span><span class="p">;</span>
	<span class="cp">#define FCOE_FEATURES2_EXCHANGES_MASK                   0x0000FFFF</span>
	<span class="cp">#define FCOE_FEATURES2_EXCHANGES_OFFSET                 0</span>

	<span class="cp">#define FCOE_FEATURES2_NPIV_WWN_PER_PORT_MASK           0xFFFF0000</span>
	<span class="cp">#define FCOE_FEATURES2_NPIV_WWN_PER_PORT_OFFSET         16</span>

	<span class="n">u32</span> <span class="n">fcoe_features3</span><span class="p">;</span>
	<span class="cp">#define FCOE_FEATURES3_TARGETS_SUPPORTED_MASK           0x0000FFFF</span>
	<span class="cp">#define FCOE_FEATURES3_TARGETS_SUPPORTED_OFFSET         0</span>

	<span class="cp">#define FCOE_FEATURES3_OUTSTANDING_COMMANDS_MASK        0xFFFF0000</span>
	<span class="cp">#define FCOE_FEATURES3_OUTSTANDING_COMMANDS_OFFSET      16</span>

	<span class="n">u32</span> <span class="n">fcoe_features4</span><span class="p">;</span>
	<span class="cp">#define FCOE_FEATURES4_FEATURE_SETTINGS_MASK            0x0000000F</span>
	<span class="cp">#define FCOE_FEATURES4_FEATURE_SETTINGS_OFFSET          0</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ncsi_oem_data</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">driver_version</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">ncsi_oem_fcoe_features</span> <span class="n">ncsi_oem_fcoe_features</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">shmem2_region</span> <span class="p">{</span>

	<span class="n">u32</span> <span class="n">size</span><span class="p">;</span>					<span class="cm">/* 0x0000 */</span>

	<span class="n">u32</span> <span class="n">dcc_support</span><span class="p">;</span>				<span class="cm">/* 0x0004 */</span>
	<span class="cp">#define SHMEM_DCC_SUPPORT_NONE                      0x00000000</span>
	<span class="cp">#define SHMEM_DCC_SUPPORT_DISABLE_ENABLE_PF_TLV     0x00000001</span>
	<span class="cp">#define SHMEM_DCC_SUPPORT_BANDWIDTH_ALLOCATION_TLV  0x00000004</span>
	<span class="cp">#define SHMEM_DCC_SUPPORT_CHANGE_MAC_ADDRESS_TLV    0x00000008</span>
	<span class="cp">#define SHMEM_DCC_SUPPORT_SET_PROTOCOL_TLV          0x00000040</span>
	<span class="cp">#define SHMEM_DCC_SUPPORT_SET_PRIORITY_TLV          0x00000080</span>

	<span class="n">u32</span> <span class="n">ext_phy_fw_version2</span><span class="p">[</span><span class="n">PORT_MAX</span><span class="p">];</span>		<span class="cm">/* 0x0008 */</span>
	<span class="cm">/*</span>
<span class="cm">	 * For backwards compatibility, if the mf_cfg_addr does not exist</span>
<span class="cm">	 * (the size filed is smaller than 0xc) the mf_cfg resides at the</span>
<span class="cm">	 * end of struct shmem_region</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">mf_cfg_addr</span><span class="p">;</span>				<span class="cm">/* 0x0010 */</span>
	<span class="cp">#define SHMEM_MF_CFG_ADDR_NONE                  0x00000000</span>

	<span class="k">struct</span> <span class="n">fw_flr_mb</span> <span class="n">flr_mb</span><span class="p">;</span>			<span class="cm">/* 0x0014 */</span>
	<span class="n">u32</span> <span class="n">dcbx_lldp_params_offset</span><span class="p">;</span>			<span class="cm">/* 0x0028 */</span>
	<span class="cp">#define SHMEM_LLDP_DCBX_PARAMS_NONE             0x00000000</span>
	<span class="n">u32</span> <span class="n">dcbx_neg_res_offset</span><span class="p">;</span>			<span class="cm">/* 0x002c */</span>
	<span class="cp">#define SHMEM_DCBX_NEG_RES_NONE			0x00000000</span>
	<span class="n">u32</span> <span class="n">dcbx_remote_mib_offset</span><span class="p">;</span>			<span class="cm">/* 0x0030 */</span>
	<span class="cp">#define SHMEM_DCBX_REMOTE_MIB_NONE              0x00000000</span>
	<span class="cm">/*</span>
<span class="cm">	 * The other shmemX_base_addr holds the other path&#39;s shmem address</span>
<span class="cm">	 * required for example in case of common phy init, or for path1 to know</span>
<span class="cm">	 * the address of mcp debug trace which is located in offset from shmem</span>
<span class="cm">	 * of path0</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">other_shmem_base_addr</span><span class="p">;</span>			<span class="cm">/* 0x0034 */</span>
	<span class="n">u32</span> <span class="n">other_shmem2_base_addr</span><span class="p">;</span>			<span class="cm">/* 0x0038 */</span>
	<span class="cm">/*</span>
<span class="cm">	 * mcp_vf_disabled is set by the MCP to indicate the driver about VFs</span>
<span class="cm">	 * which were disabled/flred</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">mcp_vf_disabled</span><span class="p">[</span><span class="n">E2_VF_MAX</span> <span class="o">/</span> <span class="mi">32</span><span class="p">];</span>		<span class="cm">/* 0x003c */</span>

	<span class="cm">/*</span>
<span class="cm">	 * drv_ack_vf_disabled is set by the PF driver to ack handled disabled</span>
<span class="cm">	 * VFs</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">drv_ack_vf_disabled</span><span class="p">[</span><span class="n">E2_FUNC_MAX</span><span class="p">][</span><span class="n">E2_VF_MAX</span> <span class="o">/</span> <span class="mi">32</span><span class="p">];</span> <span class="cm">/* 0x0044 */</span>

	<span class="n">u32</span> <span class="n">dcbx_lldp_dcbx_stat_offset</span><span class="p">;</span>			<span class="cm">/* 0x0064 */</span>
	<span class="cp">#define SHMEM_LLDP_DCBX_STAT_NONE               0x00000000</span>

	<span class="cm">/*</span>
<span class="cm">	 * edebug_driver_if field is used to transfer messages between edebug</span>
<span class="cm">	 * app to the driver through shmem2.</span>
<span class="cm">	 *</span>
<span class="cm">	 * message format:</span>
<span class="cm">	 * bits 0-2 -  function number / instance of driver to perform request</span>
<span class="cm">	 * bits 3-5 -  op code / is_ack?</span>
<span class="cm">	 * bits 6-63 - data</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">edebug_driver_if</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>			<span class="cm">/* 0x0068 */</span>
	<span class="cp">#define EDEBUG_DRIVER_IF_OP_CODE_GET_PHYS_ADDR  1</span>
	<span class="cp">#define EDEBUG_DRIVER_IF_OP_CODE_GET_BUS_ADDR   2</span>
	<span class="cp">#define EDEBUG_DRIVER_IF_OP_CODE_DISABLE_STAT   3</span>

	<span class="n">u32</span> <span class="n">nvm_retain_bitmap_addr</span><span class="p">;</span>			<span class="cm">/* 0x0070 */</span>

	<span class="cm">/* afex support of that driver */</span>
	<span class="n">u32</span> <span class="n">afex_driver_support</span><span class="p">;</span>			<span class="cm">/* 0x0074 */</span>
	<span class="cp">#define SHMEM_AFEX_VERSION_MASK                  0x100f</span>
	<span class="cp">#define SHMEM_AFEX_SUPPORTED_VERSION_ONE         0x1001</span>
	<span class="cp">#define SHMEM_AFEX_REDUCED_DRV_LOADED            0x8000</span>

	<span class="cm">/* driver receives addr in scratchpad to which it should respond */</span>
	<span class="n">u32</span> <span class="n">afex_scratchpad_addr_to_write</span><span class="p">[</span><span class="n">E2_FUNC_MAX</span><span class="p">];</span>

	<span class="cm">/* generic params from MCP to driver (value depends on the msg sent</span>
<span class="cm">	 * to driver</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">afex_param1_to_driver</span><span class="p">[</span><span class="n">E2_FUNC_MAX</span><span class="p">];</span>		<span class="cm">/* 0x0088 */</span>
	<span class="n">u32</span> <span class="n">afex_param2_to_driver</span><span class="p">[</span><span class="n">E2_FUNC_MAX</span><span class="p">];</span>		<span class="cm">/* 0x0098 */</span>

	<span class="n">u32</span> <span class="n">swim_base_addr</span><span class="p">;</span>				<span class="cm">/* 0x0108 */</span>
	<span class="n">u32</span> <span class="n">swim_funcs</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">swim_main_cb</span><span class="p">;</span>

	<span class="cm">/* bitmap notifying which VIF profiles stored in nvram are enabled by</span>
<span class="cm">	 * switch</span>
<span class="cm">	 */</span>
	<span class="n">u32</span> <span class="n">afex_profiles_enabled</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="cm">/* generic flags controlled by the driver */</span>
	<span class="n">u32</span> <span class="n">drv_flags</span><span class="p">;</span>
	<span class="cp">#define DRV_FLAGS_DCB_CONFIGURED                0x1</span>

	<span class="cm">/* pointer to extended dev_info shared data copied from nvm image */</span>
	<span class="n">u32</span> <span class="n">extended_dev_info_shared_addr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ncsi_oem_data_addr</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">ocsd_host_addr</span><span class="p">;</span> <span class="cm">/* initialized by option ROM */</span>
	<span class="n">u32</span> <span class="n">ocbb_host_addr</span><span class="p">;</span> <span class="cm">/* initialized by option ROM */</span>
	<span class="n">u32</span> <span class="n">ocsd_req_update_interval</span><span class="p">;</span> <span class="cm">/* initialized by option ROM */</span>
	<span class="n">u32</span> <span class="n">temperature_in_half_celsius</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">glob_struct_in_host</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">dcbx_neg_res_ext_offset</span><span class="p">;</span>
<span class="cp">#define SHMEM_DCBX_NEG_RES_EXT_NONE			0x00000000</span>

	<span class="n">u32</span> <span class="n">drv_capabilities_flag</span><span class="p">[</span><span class="n">E2_FUNC_MAX</span><span class="p">];</span>
<span class="cp">#define DRV_FLAGS_CAPABILITIES_LOADED_SUPPORTED 0x00000001</span>
<span class="cp">#define DRV_FLAGS_CAPABILITIES_LOADED_L2        0x00000002</span>
<span class="cp">#define DRV_FLAGS_CAPABILITIES_LOADED_FCOE      0x00000004</span>
<span class="cp">#define DRV_FLAGS_CAPABILITIES_LOADED_ISCSI     0x00000008</span>

	<span class="n">u32</span> <span class="n">extended_dev_info_shared_cfg_size</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">dcbx_en</span><span class="p">[</span><span class="n">PORT_MAX</span><span class="p">];</span>

	<span class="cm">/* The offset points to the multi threaded meta structure */</span>
	<span class="n">u32</span> <span class="n">multi_thread_data_offset</span><span class="p">;</span>

	<span class="cm">/* address of DMAable host address holding values from the drivers */</span>
	<span class="n">u32</span> <span class="n">drv_info_host_addr_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">drv_info_host_addr_hi</span><span class="p">;</span>

	<span class="cm">/* general values written by the MFW (such as current version) */</span>
	<span class="n">u32</span> <span class="n">drv_info_control</span><span class="p">;</span>
<span class="cp">#define DRV_INFO_CONTROL_VER_MASK          0x000000ff</span>
<span class="cp">#define DRV_INFO_CONTROL_VER_SHIFT         0</span>
<span class="cp">#define DRV_INFO_CONTROL_OP_CODE_MASK      0x0000ff00</span>
<span class="cp">#define DRV_INFO_CONTROL_OP_CODE_SHIFT     8</span>
	<span class="n">u32</span> <span class="n">ibft_host_addr</span><span class="p">;</span> <span class="cm">/* initialized by option ROM */</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">emac_stats</span> <span class="p">{</span>
	<span class="n">u32</span>     <span class="n">rx_stat_ifhcinoctets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_ifhcinbadoctets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsfragments</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_ifhcinucastpkts</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_ifhcinmulticastpkts</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_ifhcinbroadcastpkts</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsfcserrors</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsalignmenterrors</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statscarriersenseerrors</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xonpauseframesreceived</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xoffpauseframesreceived</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_maccontrolframesreceived</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xoffstateentered</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsframestoolong</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsjabbers</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsundersizepkts</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatspkts64octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatspkts65octetsto127octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatspkts128octetsto255octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatspkts256octetsto511octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatspkts512octetsto1023octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatspkts1024octetsto1522octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatspktsover1522octets</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">rx_stat_falsecarriererrors</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">tx_stat_ifhcoutoctets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_ifhcoutbadoctets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatscollisions</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_outxonsent</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_outxoffsent</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_flowcontroldone</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statssinglecollisionframes</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsmultiplecollisionframes</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsdeferredtransmissions</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsexcessivecollisions</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statslatecollisions</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_ifhcoutucastpkts</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_ifhcoutmulticastpkts</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_ifhcoutbroadcastpkts</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts64octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts65octetsto127octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts128octetsto255octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts256octetsto511octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts512octetsto1023octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts1024octetsto1522octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspktsover1522octets</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsinternalmactransmiterrors</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">bmac1_stats</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpkt_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpkt_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtxpf_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtxpf_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfcs_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfcs_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfrg_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfrg_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtovr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtovr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt64_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt64_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt127_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt127_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt255_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt255_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt511_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt511_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1023_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1023_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1518_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1518_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt2047_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt2047_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt4095_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt4095_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt9216_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt9216_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt16383_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt16383_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmax_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmax_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtufl_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtufl_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gterr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gterr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbyt_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbyt_hi</span><span class="p">;</span>

	<span class="n">u32</span>	<span class="n">rx_stat_gr64_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr64_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr127_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr127_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr255_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr255_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr511_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr511_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1023_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1023_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1518_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1518_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr2047_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr2047_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr4095_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr4095_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr9216_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr9216_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr16383_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr16383_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmax_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmax_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpkt_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpkt_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfcs_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfcs_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxcf_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxcf_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxpf_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxpf_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxuo_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxuo_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grjbr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grjbr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grovr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grovr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grflr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grflr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeg_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeg_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeb_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeb_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbyt_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbyt_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grund_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grund_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfrg_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfrg_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grerb_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grerb_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfre_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfre_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gripj_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gripj_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bmac2_stats</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpk_lo</span><span class="p">;</span> <span class="cm">/* gtpok */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpk_hi</span><span class="p">;</span> <span class="cm">/* gtpok */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtxpf_lo</span><span class="p">;</span> <span class="cm">/* gtpf */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtxpf_hi</span><span class="p">;</span> <span class="cm">/* gtpf */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpp_lo</span><span class="p">;</span> <span class="cm">/* NEW BMAC2 */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpp_hi</span><span class="p">;</span> <span class="cm">/* NEW BMAC2 */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfcs_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfcs_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtuca_lo</span><span class="p">;</span> <span class="cm">/* NEW BMAC2 */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtuca_hi</span><span class="p">;</span> <span class="cm">/* NEW BMAC2 */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtovr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtovr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfrg_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtfrg_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpkt1_lo</span><span class="p">;</span> <span class="cm">/* gtpkt */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtpkt1_hi</span><span class="p">;</span> <span class="cm">/* gtpkt */</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt64_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt64_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt127_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt127_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt255_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt255_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt511_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt511_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1023_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1023_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1518_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt1518_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt2047_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt2047_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt4095_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt4095_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt9216_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt9216_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt16383_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gt16383_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmax_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtmax_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtufl_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtufl_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gterr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gterr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbyt_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tx_stat_gtbyt_hi</span><span class="p">;</span>

	<span class="n">u32</span>	<span class="n">rx_stat_gr64_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr64_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr127_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr127_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr255_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr255_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr511_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr511_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1023_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1023_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1518_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr1518_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr2047_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr2047_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr4095_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr4095_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr9216_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr9216_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr16383_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gr16383_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmax_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmax_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpkt_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpkt_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfcs_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfcs_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gruca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gruca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbca_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbca_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxpf_lo</span><span class="p">;</span> <span class="cm">/* grpf */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxpf_hi</span><span class="p">;</span> <span class="cm">/* grpf */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpp_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpp_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxuo_lo</span><span class="p">;</span> <span class="cm">/* gruo */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxuo_hi</span><span class="p">;</span> <span class="cm">/* gruo */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grjbr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grjbr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grovr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grovr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxcf_lo</span><span class="p">;</span> <span class="cm">/* grcf */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grxcf_hi</span><span class="p">;</span> <span class="cm">/* grcf */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grflr_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grflr_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpok_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grpok_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeg_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeg_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeb_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grmeb_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbyt_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grbyt_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grund_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grund_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfrg_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfrg_hi</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grerb_lo</span><span class="p">;</span> <span class="cm">/* grerrbyt */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grerb_hi</span><span class="p">;</span> <span class="cm">/* grerrbyt */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfre_lo</span><span class="p">;</span> <span class="cm">/* grfrerr */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_grfre_hi</span><span class="p">;</span> <span class="cm">/* grfrerr */</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gripj_lo</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rx_stat_gripj_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">mstat_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="cm">/* OTE MSTAT on E3 has a bug where this register&#39;s contents are</span>
<span class="cm">		 * actually tx_gtxpok + tx_gtxpf + (possibly)tx_gtxpp</span>
<span class="cm">		 */</span>
		<span class="n">u32</span> <span class="n">tx_gtxpok_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtxpok_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtxpf_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtxpf_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtxpp_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtxpp_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtfcs_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtfcs_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtuca_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtuca_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtmca_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtmca_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtgca_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtgca_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtpkt_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtpkt_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt64_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt64_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt127_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt127_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt255_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt255_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt511_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt511_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt1023_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt1023_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt1518_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt1518_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt2047_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt2047_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt4095_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt4095_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt9216_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt9216_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt16383_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gt16383_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtufl_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtufl_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gterr_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gterr_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtbyt_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_gtbyt_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_collisions_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_collisions_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_singlecollision_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_singlecollision_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_multiplecollisions_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_multiplecollisions_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_deferred_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_deferred_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_excessivecollisions_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_excessivecollisions_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_latecollisions_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">tx_latecollisions_hi</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">stats_tx</span><span class="p">;</span>

	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">rx_gr64_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr64_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr127_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr127_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr255_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr255_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr511_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr511_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr1023_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr1023_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr1518_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr1518_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr2047_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr2047_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr4095_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr4095_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr9216_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr9216_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr16383_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gr16383_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grpkt_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grpkt_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grfcs_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grfcs_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gruca_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_gruca_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grmca_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grmca_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grbca_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grbca_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxpf_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxpf_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxpp_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxpp_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxuo_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxuo_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grovr_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grovr_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxcf_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grxcf_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grflr_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grflr_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grpok_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grpok_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grbyt_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grbyt_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grund_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grund_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grfrg_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grfrg_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grerb_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grerb_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grfre_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_grfre_hi</span><span class="p">;</span>

		<span class="n">u32</span> <span class="n">rx_alignmenterrors_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_alignmenterrors_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_falsecarrier_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_falsecarrier_hi</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_llfcmsgcnt_lo</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">rx_llfcmsgcnt_hi</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">stats_rx</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">mac_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">emac_stats</span>	<span class="n">emac_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bmac1_stats</span>	<span class="n">bmac1_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bmac2_stats</span>	<span class="n">bmac2_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">mstat_stats</span>	<span class="n">mstat_stats</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">mac_stx</span> <span class="p">{</span>
	<span class="cm">/* in_bad_octets */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_ifhcinbadoctets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_ifhcinbadoctets_lo</span><span class="p">;</span>

	<span class="cm">/* out_bad_octets */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_ifhcoutbadoctets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_ifhcoutbadoctets_lo</span><span class="p">;</span>

	<span class="cm">/* crc_receive_errors */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsfcserrors_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsfcserrors_lo</span><span class="p">;</span>
	<span class="cm">/* alignment_errors */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsalignmenterrors_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsalignmenterrors_lo</span><span class="p">;</span>
	<span class="cm">/* carrier_sense_errors */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statscarriersenseerrors_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statscarriersenseerrors_lo</span><span class="p">;</span>
	<span class="cm">/* false_carrier_detections */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_falsecarriererrors_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_falsecarriererrors_lo</span><span class="p">;</span>

	<span class="cm">/* runt_packets_received */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsundersizepkts_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsundersizepkts_lo</span><span class="p">;</span>
	<span class="cm">/* jabber_packets_received */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsframestoolong_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_dot3statsframestoolong_lo</span><span class="p">;</span>

	<span class="cm">/* error_runt_packets_received */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsfragments_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsfragments_lo</span><span class="p">;</span>
	<span class="cm">/* error_jabber_packets_received */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsjabbers_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_etherstatsjabbers_lo</span><span class="p">;</span>

	<span class="cm">/* control_frames_received */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_maccontrolframesreceived_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_maccontrolframesreceived_lo</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_mac_xpf_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_mac_xpf_lo</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_mac_xcf_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_mac_xcf_lo</span><span class="p">;</span>

	<span class="cm">/* xoff_state_entered */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xoffstateentered_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xoffstateentered_lo</span><span class="p">;</span>
	<span class="cm">/* pause_xon_frames_received */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xonpauseframesreceived_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xonpauseframesreceived_lo</span><span class="p">;</span>
	<span class="cm">/* pause_xoff_frames_received */</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xoffpauseframesreceived_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">rx_stat_xoffpauseframesreceived_lo</span><span class="p">;</span>
	<span class="cm">/* pause_xon_frames_transmitted */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_outxonsent_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_outxonsent_lo</span><span class="p">;</span>
	<span class="cm">/* pause_xoff_frames_transmitted */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_outxoffsent_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_outxoffsent_lo</span><span class="p">;</span>
	<span class="cm">/* flow_control_done */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_flowcontroldone_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_flowcontroldone_lo</span><span class="p">;</span>

	<span class="cm">/* ether_stats_collisions */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatscollisions_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatscollisions_lo</span><span class="p">;</span>
	<span class="cm">/* single_collision_transmit_frames */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statssinglecollisionframes_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statssinglecollisionframes_lo</span><span class="p">;</span>
	<span class="cm">/* multiple_collision_transmit_frames */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsmultiplecollisionframes_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsmultiplecollisionframes_lo</span><span class="p">;</span>
	<span class="cm">/* deferred_transmissions */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsdeferredtransmissions_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsdeferredtransmissions_lo</span><span class="p">;</span>
	<span class="cm">/* excessive_collision_frames */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsexcessivecollisions_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsexcessivecollisions_lo</span><span class="p">;</span>
	<span class="cm">/* late_collision_frames */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statslatecollisions_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statslatecollisions_lo</span><span class="p">;</span>

	<span class="cm">/* frames_transmitted_64_bytes */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts64octets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts64octets_lo</span><span class="p">;</span>
	<span class="cm">/* frames_transmitted_65_127_bytes */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts65octetsto127octets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts65octetsto127octets_lo</span><span class="p">;</span>
	<span class="cm">/* frames_transmitted_128_255_bytes */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts128octetsto255octets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts128octetsto255octets_lo</span><span class="p">;</span>
	<span class="cm">/* frames_transmitted_256_511_bytes */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts256octetsto511octets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts256octetsto511octets_lo</span><span class="p">;</span>
	<span class="cm">/* frames_transmitted_512_1023_bytes */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts512octetsto1023octets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts512octetsto1023octets_lo</span><span class="p">;</span>
	<span class="cm">/* frames_transmitted_1024_1522_bytes */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts1024octetsto1522octets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspkts1024octetsto1522octets_lo</span><span class="p">;</span>
	<span class="cm">/* frames_transmitted_1523_9022_bytes */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspktsover1522octets_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_etherstatspktsover1522octets_lo</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_2047_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_2047_lo</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_4095_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_4095_lo</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_9216_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_9216_lo</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_16383_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_16383_lo</span><span class="p">;</span>

	<span class="cm">/* internal_mac_transmit_errors */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsinternalmactransmiterrors_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_dot3statsinternalmactransmiterrors_lo</span><span class="p">;</span>

	<span class="cm">/* if_out_discards */</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_ufl_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">tx_stat_mac_ufl_lo</span><span class="p">;</span>
<span class="p">};</span>


<span class="cp">#define MAC_STX_IDX_MAX                     2</span>

<span class="k">struct</span> <span class="n">host_port_stats</span> <span class="p">{</span>
	<span class="n">u32</span>            <span class="n">host_port_stats_counter</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">mac_stx</span> <span class="n">mac_stx</span><span class="p">[</span><span class="n">MAC_STX_IDX_MAX</span><span class="p">];</span>

	<span class="n">u32</span>            <span class="n">brb_drop_hi</span><span class="p">;</span>
	<span class="n">u32</span>            <span class="n">brb_drop_lo</span><span class="p">;</span>

	<span class="n">u32</span>            <span class="n">not_used</span><span class="p">;</span> <span class="cm">/* obsolete */</span>
	<span class="n">u32</span>            <span class="n">pfc_frames_tx_hi</span><span class="p">;</span>
	<span class="n">u32</span>            <span class="n">pfc_frames_tx_lo</span><span class="p">;</span>
	<span class="n">u32</span>            <span class="n">pfc_frames_rx_hi</span><span class="p">;</span>
	<span class="n">u32</span>            <span class="n">pfc_frames_rx_lo</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">host_func_stats</span> <span class="p">{</span>
	<span class="n">u32</span>     <span class="n">host_func_stats_start</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_bytes_received_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_bytes_received_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_bytes_transmitted_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_bytes_transmitted_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_unicast_packets_received_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_unicast_packets_received_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_multicast_packets_received_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_multicast_packets_received_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_broadcast_packets_received_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_broadcast_packets_received_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_unicast_packets_transmitted_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_unicast_packets_transmitted_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_multicast_packets_transmitted_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_multicast_packets_transmitted_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">total_broadcast_packets_transmitted_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">total_broadcast_packets_transmitted_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">valid_bytes_received_hi</span><span class="p">;</span>
	<span class="n">u32</span>     <span class="n">valid_bytes_received_lo</span><span class="p">;</span>

	<span class="n">u32</span>     <span class="n">host_func_stats_end</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* VIC definitions */</span>
<span class="cp">#define VICSTATST_UIF_INDEX 2</span>

<span class="cm">/* current drv_info version */</span>
<span class="cp">#define DRV_INFO_CUR_VER 1</span>

<span class="cm">/* drv_info op codes supported */</span>
<span class="k">enum</span> <span class="n">drv_info_opcode</span> <span class="p">{</span>
	<span class="n">ETH_STATS_OPCODE</span><span class="p">,</span>
	<span class="n">FCOE_STATS_OPCODE</span><span class="p">,</span>
	<span class="n">ISCSI_STATS_OPCODE</span>
<span class="p">};</span>

<span class="cp">#define ETH_STAT_INFO_VERSION_LEN	12</span>
<span class="cm">/*  Per PCI Function Ethernet Statistics required from the driver */</span>
<span class="k">struct</span> <span class="n">eth_stats_info</span> <span class="p">{</span>
	<span class="cm">/* Function&#39;s Driver Version. padded to 12 */</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">[</span><span class="n">ETH_STAT_INFO_VERSION_LEN</span><span class="p">];</span>
	<span class="cm">/* Locally Admin Addr. BigEndian EIU48. Actual size is 6 bytes */</span>
	<span class="n">u8</span> <span class="n">mac_local</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">mac_add1</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>		<span class="cm">/* Additional Programmed MAC Addr 1. */</span>
	<span class="n">u8</span> <span class="n">mac_add2</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>		<span class="cm">/* Additional Programmed MAC Addr 2. */</span>
	<span class="n">u32</span> <span class="n">mtu_size</span><span class="p">;</span>		<span class="cm">/* MTU Size. Note   : Negotiated MTU */</span>
	<span class="n">u32</span> <span class="n">feature_flags</span><span class="p">;</span>	<span class="cm">/* Feature_Flags. */</span>
<span class="cp">#define FEATURE_ETH_CHKSUM_OFFLOAD_MASK		0x01</span>
<span class="cp">#define FEATURE_ETH_LSO_MASK			0x02</span>
<span class="cp">#define FEATURE_ETH_BOOTMODE_MASK		0x1C</span>
<span class="cp">#define FEATURE_ETH_BOOTMODE_SHIFT		2</span>
<span class="cp">#define FEATURE_ETH_BOOTMODE_NONE		(0x0 &lt;&lt; 2)</span>
<span class="cp">#define FEATURE_ETH_BOOTMODE_PXE		(0x1 &lt;&lt; 2)</span>
<span class="cp">#define FEATURE_ETH_BOOTMODE_ISCSI		(0x2 &lt;&lt; 2)</span>
<span class="cp">#define FEATURE_ETH_BOOTMODE_FCOE		(0x3 &lt;&lt; 2)</span>
<span class="cp">#define FEATURE_ETH_TOE_MASK			0x20</span>
	<span class="n">u32</span> <span class="n">lso_max_size</span><span class="p">;</span>	<span class="cm">/* LSO MaxOffloadSize. */</span>
	<span class="n">u32</span> <span class="n">lso_min_seg_cnt</span><span class="p">;</span>	<span class="cm">/* LSO MinSegmentCount. */</span>
	<span class="cm">/* Num Offloaded Connections TCP_IPv4. */</span>
	<span class="n">u32</span> <span class="n">ipv4_ofld_cnt</span><span class="p">;</span>
	<span class="cm">/* Num Offloaded Connections TCP_IPv6. */</span>
	<span class="n">u32</span> <span class="n">ipv6_ofld_cnt</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">promiscuous_mode</span><span class="p">;</span>	<span class="cm">/* Promiscuous Mode. non-zero true */</span>
	<span class="n">u32</span> <span class="n">txq_size</span><span class="p">;</span>		<span class="cm">/* TX Descriptors Queue Size */</span>
	<span class="n">u32</span> <span class="n">rxq_size</span><span class="p">;</span>		<span class="cm">/* RX Descriptors Queue Size */</span>
	<span class="cm">/* TX Descriptor Queue Avg Depth. % Avg Queue Depth since last poll */</span>
	<span class="n">u32</span> <span class="n">txq_avg_depth</span><span class="p">;</span>
	<span class="cm">/* RX Descriptors Queue Avg Depth. % Avg Queue Depth since last poll */</span>
	<span class="n">u32</span> <span class="n">rxq_avg_depth</span><span class="p">;</span>
	<span class="cm">/* IOV_Offload. 0=none; 1=MultiQueue, 2=VEB 3= VEPA*/</span>
	<span class="n">u32</span> <span class="n">iov_offload</span><span class="p">;</span>
	<span class="cm">/* Number of NetQueue/VMQ Config&#39;d. */</span>
	<span class="n">u32</span> <span class="n">netq_cnt</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">vf_cnt</span><span class="p">;</span>		<span class="cm">/* Num VF assigned to this PF. */</span>
<span class="p">};</span>

<span class="cm">/*  Per PCI Function FCOE Statistics required from the driver */</span>
<span class="k">struct</span> <span class="n">fcoe_stats_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>		<span class="cm">/* Function&#39;s Driver Version. */</span>
	<span class="n">u8</span> <span class="n">mac_local</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* Locally Admin Addr. */</span>
	<span class="n">u8</span> <span class="n">mac_add1</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>		<span class="cm">/* Additional Programmed MAC Addr 1. */</span>
	<span class="n">u8</span> <span class="n">mac_add2</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>		<span class="cm">/* Additional Programmed MAC Addr 2. */</span>
	<span class="cm">/* QoS Priority (per 802.1p). 0-7255 */</span>
	<span class="n">u32</span> <span class="n">qos_priority</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">txq_size</span><span class="p">;</span>		<span class="cm">/* FCoE TX Descriptors Queue Size. */</span>
	<span class="n">u32</span> <span class="n">rxq_size</span><span class="p">;</span>		<span class="cm">/* FCoE RX Descriptors Queue Size. */</span>
	<span class="cm">/* FCoE TX Descriptor Queue Avg Depth. */</span>
	<span class="n">u32</span> <span class="n">txq_avg_depth</span><span class="p">;</span>
	<span class="cm">/* FCoE RX Descriptors Queue Avg Depth. */</span>
	<span class="n">u32</span> <span class="n">rxq_avg_depth</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_frames_lo</span><span class="p">;</span>	<span class="cm">/* FCoE RX Frames received. */</span>
	<span class="n">u32</span> <span class="n">rx_frames_hi</span><span class="p">;</span>	<span class="cm">/* FCoE RX Frames received. */</span>
	<span class="n">u32</span> <span class="n">rx_bytes_lo</span><span class="p">;</span>	<span class="cm">/* FCoE RX Bytes received. */</span>
	<span class="n">u32</span> <span class="n">rx_bytes_hi</span><span class="p">;</span>	<span class="cm">/* FCoE RX Bytes received. */</span>
	<span class="n">u32</span> <span class="n">tx_frames_lo</span><span class="p">;</span>	<span class="cm">/* FCoE TX Frames sent. */</span>
	<span class="n">u32</span> <span class="n">tx_frames_hi</span><span class="p">;</span>	<span class="cm">/* FCoE TX Frames sent. */</span>
	<span class="n">u32</span> <span class="n">tx_bytes_lo</span><span class="p">;</span>	<span class="cm">/* FCoE TX Bytes sent. */</span>
	<span class="n">u32</span> <span class="n">tx_bytes_hi</span><span class="p">;</span>	<span class="cm">/* FCoE TX Bytes sent. */</span>
<span class="p">};</span>

<span class="cm">/* Per PCI  Function iSCSI Statistics required from the driver*/</span>
<span class="k">struct</span> <span class="n">iscsi_stats_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>		<span class="cm">/* Function&#39;s Driver Version. */</span>
	<span class="n">u8</span> <span class="n">mac_local</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* Locally Admin iSCSI MAC Addr. */</span>
	<span class="n">u8</span> <span class="n">mac_add1</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>		<span class="cm">/* Additional Programmed MAC Addr 1. */</span>
	<span class="cm">/* QoS Priority (per 802.1p). 0-7255 */</span>
	<span class="n">u32</span> <span class="n">qos_priority</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">initiator_name</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>	<span class="cm">/* iSCSI Boot Initiator Node name. */</span>
	<span class="n">u8</span> <span class="n">ww_port_name</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>	<span class="cm">/* iSCSI World wide port name */</span>
	<span class="n">u8</span> <span class="n">boot_target_name</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span><span class="cm">/* iSCSI Boot Target Name. */</span>
	<span class="n">u8</span> <span class="n">boot_target_ip</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>	<span class="cm">/* iSCSI Boot Target IP. */</span>
	<span class="n">u32</span> <span class="n">boot_target_portal</span><span class="p">;</span>	<span class="cm">/* iSCSI Boot Target Portal. */</span>
	<span class="n">u8</span> <span class="n">boot_init_ip</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>	<span class="cm">/* iSCSI Boot Initiator IP Address. */</span>
	<span class="n">u32</span> <span class="n">max_frame_size</span><span class="p">;</span>	<span class="cm">/* Max Frame Size. bytes */</span>
	<span class="n">u32</span> <span class="n">txq_size</span><span class="p">;</span>		<span class="cm">/* PDU TX Descriptors Queue Size. */</span>
	<span class="n">u32</span> <span class="n">rxq_size</span><span class="p">;</span>		<span class="cm">/* PDU RX Descriptors Queue Size. */</span>
	<span class="n">u32</span> <span class="n">txq_avg_depth</span><span class="p">;</span>	<span class="cm">/* PDU TX Descriptor Queue Avg Depth. */</span>
	<span class="n">u32</span> <span class="n">rxq_avg_depth</span><span class="p">;</span>	<span class="cm">/* PDU RX Descriptors Queue Avg Depth. */</span>
	<span class="n">u32</span> <span class="n">rx_pdus_lo</span><span class="p">;</span>		<span class="cm">/* iSCSI PDUs received. */</span>
	<span class="n">u32</span> <span class="n">rx_pdus_hi</span><span class="p">;</span>		<span class="cm">/* iSCSI PDUs received. */</span>
	<span class="n">u32</span> <span class="n">rx_bytes_lo</span><span class="p">;</span>	<span class="cm">/* iSCSI RX Bytes received. */</span>
	<span class="n">u32</span> <span class="n">rx_bytes_hi</span><span class="p">;</span>	<span class="cm">/* iSCSI RX Bytes received. */</span>
	<span class="n">u32</span> <span class="n">tx_pdus_lo</span><span class="p">;</span>		<span class="cm">/* iSCSI PDUs sent. */</span>
	<span class="n">u32</span> <span class="n">tx_pdus_hi</span><span class="p">;</span>		<span class="cm">/* iSCSI PDUs sent. */</span>
	<span class="n">u32</span> <span class="n">tx_bytes_lo</span><span class="p">;</span>	<span class="cm">/* iSCSI PDU TX Bytes sent. */</span>
	<span class="n">u32</span> <span class="n">tx_bytes_hi</span><span class="p">;</span>	<span class="cm">/* iSCSI PDU TX Bytes sent. */</span>
	<span class="n">u32</span> <span class="n">pcp_prior_map_tbl</span><span class="p">;</span>	<span class="cm">/* C-PCP to S-PCP Priority MapTable.</span>
<span class="cm">				 * 9 nibbles, the position of each nibble</span>
<span class="cm">				 * represents the C-PCP value, the value</span>
<span class="cm">				 * of the nibble = S-PCP value.</span>
<span class="cm">				 */</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">drv_info_to_mcp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_stats_info</span>	<span class="n">ether_stat</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fcoe_stats_info</span>	<span class="n">fcoe_stat</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iscsi_stats_info</span>	<span class="n">iscsi_stat</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* stats collected for afex.</span>
<span class="cm"> * NOTE: structure is exactly as expected to be received by the switch.</span>
<span class="cm"> *       order must remain exactly as is unless protocol changes !</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">afex_stats</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">tx_unicast_frames_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_unicast_frames_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_unicast_bytes_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_unicast_bytes_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_multicast_frames_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_multicast_frames_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_multicast_bytes_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_multicast_bytes_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_broadcast_frames_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_broadcast_frames_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_broadcast_bytes_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_broadcast_bytes_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_frames_discarded_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_frames_discarded_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_frames_dropped_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">tx_frames_dropped_lo</span><span class="p">;</span>

	<span class="n">u32</span> <span class="n">rx_unicast_frames_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_unicast_frames_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_unicast_bytes_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_unicast_bytes_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_multicast_frames_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_multicast_frames_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_multicast_bytes_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_multicast_bytes_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_broadcast_frames_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_broadcast_frames_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_broadcast_bytes_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_broadcast_bytes_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_frames_discarded_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_frames_discarded_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_frames_dropped_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_frames_dropped_lo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define BCM_5710_FW_MAJOR_VERSION			7</span>
<span class="cp">#define BCM_5710_FW_MINOR_VERSION			2</span>
<span class="cp">#define BCM_5710_FW_REVISION_VERSION			51</span>
<span class="cp">#define BCM_5710_FW_ENGINEERING_VERSION			0</span>
<span class="cp">#define BCM_5710_FW_COMPILE_FLAGS			1</span>


<span class="cm">/*</span>
<span class="cm"> * attention bits</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">atten_sp_status_block</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">attn_bits</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">attn_bits_ack</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">status_block_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">attn_bits_index</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth aggregative context of Cstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cstorm_eth_ag_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">__reserved0</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * dmae command structure</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">dmae_command</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">opcode</span><span class="p">;</span>
<span class="cp">#define DMAE_COMMAND_SRC (0x1&lt;&lt;0)</span>
<span class="cp">#define DMAE_COMMAND_SRC_SHIFT 0</span>
<span class="cp">#define DMAE_COMMAND_DST (0x3&lt;&lt;1)</span>
<span class="cp">#define DMAE_COMMAND_DST_SHIFT 1</span>
<span class="cp">#define DMAE_COMMAND_C_DST (0x1&lt;&lt;3)</span>
<span class="cp">#define DMAE_COMMAND_C_DST_SHIFT 3</span>
<span class="cp">#define DMAE_COMMAND_C_TYPE_ENABLE (0x1&lt;&lt;4)</span>
<span class="cp">#define DMAE_COMMAND_C_TYPE_ENABLE_SHIFT 4</span>
<span class="cp">#define DMAE_COMMAND_C_TYPE_CRC_ENABLE (0x1&lt;&lt;5)</span>
<span class="cp">#define DMAE_COMMAND_C_TYPE_CRC_ENABLE_SHIFT 5</span>
<span class="cp">#define DMAE_COMMAND_C_TYPE_CRC_OFFSET (0x7&lt;&lt;6)</span>
<span class="cp">#define DMAE_COMMAND_C_TYPE_CRC_OFFSET_SHIFT 6</span>
<span class="cp">#define DMAE_COMMAND_ENDIANITY (0x3&lt;&lt;9)</span>
<span class="cp">#define DMAE_COMMAND_ENDIANITY_SHIFT 9</span>
<span class="cp">#define DMAE_COMMAND_PORT (0x1&lt;&lt;11)</span>
<span class="cp">#define DMAE_COMMAND_PORT_SHIFT 11</span>
<span class="cp">#define DMAE_COMMAND_CRC_RESET (0x1&lt;&lt;12)</span>
<span class="cp">#define DMAE_COMMAND_CRC_RESET_SHIFT 12</span>
<span class="cp">#define DMAE_COMMAND_SRC_RESET (0x1&lt;&lt;13)</span>
<span class="cp">#define DMAE_COMMAND_SRC_RESET_SHIFT 13</span>
<span class="cp">#define DMAE_COMMAND_DST_RESET (0x1&lt;&lt;14)</span>
<span class="cp">#define DMAE_COMMAND_DST_RESET_SHIFT 14</span>
<span class="cp">#define DMAE_COMMAND_E1HVN (0x3&lt;&lt;15)</span>
<span class="cp">#define DMAE_COMMAND_E1HVN_SHIFT 15</span>
<span class="cp">#define DMAE_COMMAND_DST_VN (0x3&lt;&lt;17)</span>
<span class="cp">#define DMAE_COMMAND_DST_VN_SHIFT 17</span>
<span class="cp">#define DMAE_COMMAND_C_FUNC (0x1&lt;&lt;19)</span>
<span class="cp">#define DMAE_COMMAND_C_FUNC_SHIFT 19</span>
<span class="cp">#define DMAE_COMMAND_ERR_POLICY (0x3&lt;&lt;20)</span>
<span class="cp">#define DMAE_COMMAND_ERR_POLICY_SHIFT 20</span>
<span class="cp">#define DMAE_COMMAND_RESERVED0 (0x3FF&lt;&lt;22)</span>
<span class="cp">#define DMAE_COMMAND_RESERVED0_SHIFT 22</span>
	<span class="n">u32</span> <span class="n">src_addr_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">src_addr_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">dst_addr_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">dst_addr_hi</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">opcode_iov</span><span class="p">;</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFID (0x3F&lt;&lt;0)</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFID_SHIFT 0</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFPF (0x1&lt;&lt;6)</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFPF_SHIFT 6</span>
<span class="cp">#define DMAE_COMMAND_RESERVED1 (0x1&lt;&lt;7)</span>
<span class="cp">#define DMAE_COMMAND_RESERVED1_SHIFT 7</span>
<span class="cp">#define DMAE_COMMAND_DST_VFID (0x3F&lt;&lt;8)</span>
<span class="cp">#define DMAE_COMMAND_DST_VFID_SHIFT 8</span>
<span class="cp">#define DMAE_COMMAND_DST_VFPF (0x1&lt;&lt;14)</span>
<span class="cp">#define DMAE_COMMAND_DST_VFPF_SHIFT 14</span>
<span class="cp">#define DMAE_COMMAND_RESERVED2 (0x1&lt;&lt;15)</span>
<span class="cp">#define DMAE_COMMAND_RESERVED2_SHIFT 15</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">opcode_iov</span><span class="p">;</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFID (0x3F&lt;&lt;0)</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFID_SHIFT 0</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFPF (0x1&lt;&lt;6)</span>
<span class="cp">#define DMAE_COMMAND_SRC_VFPF_SHIFT 6</span>
<span class="cp">#define DMAE_COMMAND_RESERVED1 (0x1&lt;&lt;7)</span>
<span class="cp">#define DMAE_COMMAND_RESERVED1_SHIFT 7</span>
<span class="cp">#define DMAE_COMMAND_DST_VFID (0x3F&lt;&lt;8)</span>
<span class="cp">#define DMAE_COMMAND_DST_VFID_SHIFT 8</span>
<span class="cp">#define DMAE_COMMAND_DST_VFPF (0x1&lt;&lt;14)</span>
<span class="cp">#define DMAE_COMMAND_DST_VFPF_SHIFT 14</span>
<span class="cp">#define DMAE_COMMAND_RESERVED2 (0x1&lt;&lt;15)</span>
<span class="cp">#define DMAE_COMMAND_RESERVED2_SHIFT 15</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">comp_addr_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">comp_addr_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">comp_val</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">crc32</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">crc32_c</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">crc16_c</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">crc16</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">crc16</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">crc16_c</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">reserved3</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">crc_t10</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">crc_t10</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">xsum8</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">xsum16</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">xsum16</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">xsum8</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * common data for all protocols</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">doorbell_hdr</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">header</span><span class="p">;</span>
<span class="cp">#define DOORBELL_HDR_RX (0x1&lt;&lt;0)</span>
<span class="cp">#define DOORBELL_HDR_RX_SHIFT 0</span>
<span class="cp">#define DOORBELL_HDR_DB_TYPE (0x1&lt;&lt;1)</span>
<span class="cp">#define DOORBELL_HDR_DB_TYPE_SHIFT 1</span>
<span class="cp">#define DOORBELL_HDR_DPM_SIZE (0x3&lt;&lt;2)</span>
<span class="cp">#define DOORBELL_HDR_DPM_SIZE_SHIFT 2</span>
<span class="cp">#define DOORBELL_HDR_CONN_TYPE (0xF&lt;&lt;4)</span>
<span class="cp">#define DOORBELL_HDR_CONN_TYPE_SHIFT 4</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Ethernet doorbell</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_doorbell</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">npackets</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">params</span><span class="p">;</span>
<span class="cp">#define ETH_TX_DOORBELL_NUM_BDS (0x3F&lt;&lt;0)</span>
<span class="cp">#define ETH_TX_DOORBELL_NUM_BDS_SHIFT 0</span>
<span class="cp">#define ETH_TX_DOORBELL_RESERVED_TX_FIN_FLAG (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_TX_DOORBELL_RESERVED_TX_FIN_FLAG_SHIFT 6</span>
<span class="cp">#define ETH_TX_DOORBELL_SPARE (0x1&lt;&lt;7)</span>
<span class="cp">#define ETH_TX_DOORBELL_SPARE_SHIFT 7</span>
	<span class="k">struct</span> <span class="n">doorbell_hdr</span> <span class="n">hdr</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="k">struct</span> <span class="n">doorbell_hdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">params</span><span class="p">;</span>
<span class="cp">#define ETH_TX_DOORBELL_NUM_BDS (0x3F&lt;&lt;0)</span>
<span class="cp">#define ETH_TX_DOORBELL_NUM_BDS_SHIFT 0</span>
<span class="cp">#define ETH_TX_DOORBELL_RESERVED_TX_FIN_FLAG (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_TX_DOORBELL_RESERVED_TX_FIN_FLAG_SHIFT 6</span>
<span class="cp">#define ETH_TX_DOORBELL_SPARE (0x1&lt;&lt;7)</span>
<span class="cp">#define ETH_TX_DOORBELL_SPARE_SHIFT 7</span>
	<span class="n">u16</span> <span class="n">npackets</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * 3 lines. status block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_status_block_e1x</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">index_values</span><span class="p">[</span><span class="n">HC_SB_MAX_INDICES_E1X</span><span class="p">];</span>
	<span class="n">__le16</span> <span class="n">running_index</span><span class="p">[</span><span class="n">HC_SB_MAX_SM</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">rsrv</span><span class="p">[</span><span class="mi">11</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * host status block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">host_hc_status_block_e1x</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hc_status_block_e1x</span> <span class="n">sb</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * 3 lines. status block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_status_block_e2</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">index_values</span><span class="p">[</span><span class="n">HC_SB_MAX_INDICES_E2</span><span class="p">];</span>
	<span class="n">__le16</span> <span class="n">running_index</span><span class="p">[</span><span class="n">HC_SB_MAX_SM</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">11</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * host status block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">host_hc_status_block_e2</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hc_status_block_e2</span> <span class="n">sb</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * 5 lines. slow-path status block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_sp_status_block</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">index_values</span><span class="p">[</span><span class="n">HC_SP_SB_MAX_INDICES</span><span class="p">];</span>
	<span class="n">__le16</span> <span class="n">running_index</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">rsrv</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rsrv1</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * host status block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">host_sp_status_block</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">atten_sp_status_block</span> <span class="n">atten_status_block</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">hc_sp_status_block</span> <span class="n">sp_sb</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * IGU driver acknowledgment register</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">igu_ack_register</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">sb_id_and_flags</span><span class="p">;</span>
<span class="cp">#define IGU_ACK_REGISTER_STATUS_BLOCK_ID (0x1F&lt;&lt;0)</span>
<span class="cp">#define IGU_ACK_REGISTER_STATUS_BLOCK_ID_SHIFT 0</span>
<span class="cp">#define IGU_ACK_REGISTER_STORM_ID (0x7&lt;&lt;5)</span>
<span class="cp">#define IGU_ACK_REGISTER_STORM_ID_SHIFT 5</span>
<span class="cp">#define IGU_ACK_REGISTER_UPDATE_INDEX (0x1&lt;&lt;8)</span>
<span class="cp">#define IGU_ACK_REGISTER_UPDATE_INDEX_SHIFT 8</span>
<span class="cp">#define IGU_ACK_REGISTER_INTERRUPT_MODE (0x3&lt;&lt;9)</span>
<span class="cp">#define IGU_ACK_REGISTER_INTERRUPT_MODE_SHIFT 9</span>
<span class="cp">#define IGU_ACK_REGISTER_RESERVED (0x1F&lt;&lt;11)</span>
<span class="cp">#define IGU_ACK_REGISTER_RESERVED_SHIFT 11</span>
	<span class="n">u16</span> <span class="n">status_block_index</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">status_block_index</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">sb_id_and_flags</span><span class="p">;</span>
<span class="cp">#define IGU_ACK_REGISTER_STATUS_BLOCK_ID (0x1F&lt;&lt;0)</span>
<span class="cp">#define IGU_ACK_REGISTER_STATUS_BLOCK_ID_SHIFT 0</span>
<span class="cp">#define IGU_ACK_REGISTER_STORM_ID (0x7&lt;&lt;5)</span>
<span class="cp">#define IGU_ACK_REGISTER_STORM_ID_SHIFT 5</span>
<span class="cp">#define IGU_ACK_REGISTER_UPDATE_INDEX (0x1&lt;&lt;8)</span>
<span class="cp">#define IGU_ACK_REGISTER_UPDATE_INDEX_SHIFT 8</span>
<span class="cp">#define IGU_ACK_REGISTER_INTERRUPT_MODE (0x3&lt;&lt;9)</span>
<span class="cp">#define IGU_ACK_REGISTER_INTERRUPT_MODE_SHIFT 9</span>
<span class="cp">#define IGU_ACK_REGISTER_RESERVED (0x1F&lt;&lt;11)</span>
<span class="cp">#define IGU_ACK_REGISTER_RESERVED_SHIFT 11</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * IGU driver acknowledgement register</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">igu_backward_compatible</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">sb_id_and_flags</span><span class="p">;</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_SB_INDEX (0xFFFF&lt;&lt;0)</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_SB_INDEX_SHIFT 0</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_SB_SELECT (0x1F&lt;&lt;16)</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_SB_SELECT_SHIFT 16</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_SEGMENT_ACCESS (0x7&lt;&lt;21)</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_SEGMENT_ACCESS_SHIFT 21</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_BUPDATE (0x1&lt;&lt;24)</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_BUPDATE_SHIFT 24</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_ENABLE_INT (0x3&lt;&lt;25)</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_ENABLE_INT_SHIFT 25</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_RESERVED_0 (0x1F&lt;&lt;27)</span>
<span class="cp">#define IGU_BACKWARD_COMPATIBLE_RESERVED_0_SHIFT 27</span>
	<span class="n">u32</span> <span class="n">reserved_2</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * IGU driver acknowledgement register</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">igu_regular</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">sb_id_and_flags</span><span class="p">;</span>
<span class="cp">#define IGU_REGULAR_SB_INDEX (0xFFFFF&lt;&lt;0)</span>
<span class="cp">#define IGU_REGULAR_SB_INDEX_SHIFT 0</span>
<span class="cp">#define IGU_REGULAR_RESERVED0 (0x1&lt;&lt;20)</span>
<span class="cp">#define IGU_REGULAR_RESERVED0_SHIFT 20</span>
<span class="cp">#define IGU_REGULAR_SEGMENT_ACCESS (0x7&lt;&lt;21)</span>
<span class="cp">#define IGU_REGULAR_SEGMENT_ACCESS_SHIFT 21</span>
<span class="cp">#define IGU_REGULAR_BUPDATE (0x1&lt;&lt;24)</span>
<span class="cp">#define IGU_REGULAR_BUPDATE_SHIFT 24</span>
<span class="cp">#define IGU_REGULAR_ENABLE_INT (0x3&lt;&lt;25)</span>
<span class="cp">#define IGU_REGULAR_ENABLE_INT_SHIFT 25</span>
<span class="cp">#define IGU_REGULAR_RESERVED_1 (0x1&lt;&lt;27)</span>
<span class="cp">#define IGU_REGULAR_RESERVED_1_SHIFT 27</span>
<span class="cp">#define IGU_REGULAR_CLEANUP_TYPE (0x3&lt;&lt;28)</span>
<span class="cp">#define IGU_REGULAR_CLEANUP_TYPE_SHIFT 28</span>
<span class="cp">#define IGU_REGULAR_CLEANUP_SET (0x1&lt;&lt;30)</span>
<span class="cp">#define IGU_REGULAR_CLEANUP_SET_SHIFT 30</span>
<span class="cp">#define IGU_REGULAR_BCLEANUP (0x1&lt;&lt;31)</span>
<span class="cp">#define IGU_REGULAR_BCLEANUP_SHIFT 31</span>
	<span class="n">u32</span> <span class="n">reserved_2</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * IGU driver acknowledgement register</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">igu_consprod_reg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">igu_regular</span> <span class="n">regular</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">igu_backward_compatible</span> <span class="n">backward_compatible</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Igu control commands</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">igu_ctrl_cmd</span> <span class="p">{</span>
	<span class="n">IGU_CTRL_CMD_TYPE_RD</span><span class="p">,</span>
	<span class="n">IGU_CTRL_CMD_TYPE_WR</span><span class="p">,</span>
	<span class="n">MAX_IGU_CTRL_CMD</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Control register for the IGU command register</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">igu_ctrl_reg</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">ctrl_data</span><span class="p">;</span>
<span class="cp">#define IGU_CTRL_REG_ADDRESS (0xFFF&lt;&lt;0)</span>
<span class="cp">#define IGU_CTRL_REG_ADDRESS_SHIFT 0</span>
<span class="cp">#define IGU_CTRL_REG_FID (0x7F&lt;&lt;12)</span>
<span class="cp">#define IGU_CTRL_REG_FID_SHIFT 12</span>
<span class="cp">#define IGU_CTRL_REG_RESERVED (0x1&lt;&lt;19)</span>
<span class="cp">#define IGU_CTRL_REG_RESERVED_SHIFT 19</span>
<span class="cp">#define IGU_CTRL_REG_TYPE (0x1&lt;&lt;20)</span>
<span class="cp">#define IGU_CTRL_REG_TYPE_SHIFT 20</span>
<span class="cp">#define IGU_CTRL_REG_UNUSED (0x7FF&lt;&lt;21)</span>
<span class="cp">#define IGU_CTRL_REG_UNUSED_SHIFT 21</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Igu interrupt command</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">igu_int_cmd</span> <span class="p">{</span>
	<span class="n">IGU_INT_ENABLE</span><span class="p">,</span>
	<span class="n">IGU_INT_DISABLE</span><span class="p">,</span>
	<span class="n">IGU_INT_NOP</span><span class="p">,</span>
	<span class="n">IGU_INT_NOP2</span><span class="p">,</span>
	<span class="n">MAX_IGU_INT_CMD</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Igu segments</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">igu_seg_access</span> <span class="p">{</span>
	<span class="n">IGU_SEG_ACCESS_NORM</span><span class="p">,</span>
	<span class="n">IGU_SEG_ACCESS_DEF</span><span class="p">,</span>
	<span class="n">IGU_SEG_ACCESS_ATTN</span><span class="p">,</span>
	<span class="n">MAX_IGU_SEG_ACCESS</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Parser parsing flags field</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">parsing_flags</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define PARSING_FLAGS_ETHERNET_ADDRESS_TYPE (0x1&lt;&lt;0)</span>
<span class="cp">#define PARSING_FLAGS_ETHERNET_ADDRESS_TYPE_SHIFT 0</span>
<span class="cp">#define PARSING_FLAGS_VLAN (0x1&lt;&lt;1)</span>
<span class="cp">#define PARSING_FLAGS_VLAN_SHIFT 1</span>
<span class="cp">#define PARSING_FLAGS_EXTRA_VLAN (0x1&lt;&lt;2)</span>
<span class="cp">#define PARSING_FLAGS_EXTRA_VLAN_SHIFT 2</span>
<span class="cp">#define PARSING_FLAGS_OVER_ETHERNET_PROTOCOL (0x3&lt;&lt;3)</span>
<span class="cp">#define PARSING_FLAGS_OVER_ETHERNET_PROTOCOL_SHIFT 3</span>
<span class="cp">#define PARSING_FLAGS_IP_OPTIONS (0x1&lt;&lt;5)</span>
<span class="cp">#define PARSING_FLAGS_IP_OPTIONS_SHIFT 5</span>
<span class="cp">#define PARSING_FLAGS_FRAGMENTATION_STATUS (0x1&lt;&lt;6)</span>
<span class="cp">#define PARSING_FLAGS_FRAGMENTATION_STATUS_SHIFT 6</span>
<span class="cp">#define PARSING_FLAGS_OVER_IP_PROTOCOL (0x3&lt;&lt;7)</span>
<span class="cp">#define PARSING_FLAGS_OVER_IP_PROTOCOL_SHIFT 7</span>
<span class="cp">#define PARSING_FLAGS_PURE_ACK_INDICATION (0x1&lt;&lt;9)</span>
<span class="cp">#define PARSING_FLAGS_PURE_ACK_INDICATION_SHIFT 9</span>
<span class="cp">#define PARSING_FLAGS_TCP_OPTIONS_EXIST (0x1&lt;&lt;10)</span>
<span class="cp">#define PARSING_FLAGS_TCP_OPTIONS_EXIST_SHIFT 10</span>
<span class="cp">#define PARSING_FLAGS_TIME_STAMP_EXIST_FLAG (0x1&lt;&lt;11)</span>
<span class="cp">#define PARSING_FLAGS_TIME_STAMP_EXIST_FLAG_SHIFT 11</span>
<span class="cp">#define PARSING_FLAGS_CONNECTION_MATCH (0x1&lt;&lt;12)</span>
<span class="cp">#define PARSING_FLAGS_CONNECTION_MATCH_SHIFT 12</span>
<span class="cp">#define PARSING_FLAGS_LLC_SNAP (0x1&lt;&lt;13)</span>
<span class="cp">#define PARSING_FLAGS_LLC_SNAP_SHIFT 13</span>
<span class="cp">#define PARSING_FLAGS_RESERVED0 (0x3&lt;&lt;14)</span>
<span class="cp">#define PARSING_FLAGS_RESERVED0_SHIFT 14</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Parsing flags for TCP ACK type</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">prs_flags_ack_type</span> <span class="p">{</span>
	<span class="n">PRS_FLAG_PUREACK_PIGGY</span><span class="p">,</span>
	<span class="n">PRS_FLAG_PUREACK_PURE</span><span class="p">,</span>
	<span class="n">MAX_PRS_FLAGS_ACK_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Parsing flags for Ethernet address type</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">prs_flags_eth_addr_type</span> <span class="p">{</span>
	<span class="n">PRS_FLAG_ETHTYPE_NON_UNICAST</span><span class="p">,</span>
	<span class="n">PRS_FLAG_ETHTYPE_UNICAST</span><span class="p">,</span>
	<span class="n">MAX_PRS_FLAGS_ETH_ADDR_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Parsing flags for over-ethernet protocol</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">prs_flags_over_eth</span> <span class="p">{</span>
	<span class="n">PRS_FLAG_OVERETH_UNKNOWN</span><span class="p">,</span>
	<span class="n">PRS_FLAG_OVERETH_IPV4</span><span class="p">,</span>
	<span class="n">PRS_FLAG_OVERETH_IPV6</span><span class="p">,</span>
	<span class="n">PRS_FLAG_OVERETH_LLCSNAP_UNKNOWN</span><span class="p">,</span>
	<span class="n">MAX_PRS_FLAGS_OVER_ETH</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Parsing flags for over-IP protocol</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">prs_flags_over_ip</span> <span class="p">{</span>
	<span class="n">PRS_FLAG_OVERIP_UNKNOWN</span><span class="p">,</span>
	<span class="n">PRS_FLAG_OVERIP_TCP</span><span class="p">,</span>
	<span class="n">PRS_FLAG_OVERIP_UDP</span><span class="p">,</span>
	<span class="n">MAX_PRS_FLAGS_OVER_IP</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * SDM operation gen command (generate aggregative interrupt)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">sdm_op_gen</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">command</span><span class="p">;</span>
<span class="cp">#define SDM_OP_GEN_COMP_PARAM (0x1F&lt;&lt;0)</span>
<span class="cp">#define SDM_OP_GEN_COMP_PARAM_SHIFT 0</span>
<span class="cp">#define SDM_OP_GEN_COMP_TYPE (0x7&lt;&lt;5)</span>
<span class="cp">#define SDM_OP_GEN_COMP_TYPE_SHIFT 5</span>
<span class="cp">#define SDM_OP_GEN_AGG_VECT_IDX (0xFF&lt;&lt;8)</span>
<span class="cp">#define SDM_OP_GEN_AGG_VECT_IDX_SHIFT 8</span>
<span class="cp">#define SDM_OP_GEN_AGG_VECT_IDX_VALID (0x1&lt;&lt;16)</span>
<span class="cp">#define SDM_OP_GEN_AGG_VECT_IDX_VALID_SHIFT 16</span>
<span class="cp">#define SDM_OP_GEN_RESERVED (0x7FFF&lt;&lt;17)</span>
<span class="cp">#define SDM_OP_GEN_RESERVED_SHIFT 17</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Timers connection context</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">timers_block_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">__reserved_0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">__reserved_1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">__reserved_2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define __TIMERS_BLOCK_CONTEXT_NUM_OF_ACTIVE_TIMERS (0x3&lt;&lt;0)</span>
<span class="cp">#define __TIMERS_BLOCK_CONTEXT_NUM_OF_ACTIVE_TIMERS_SHIFT 0</span>
<span class="cp">#define TIMERS_BLOCK_CONTEXT_CONN_VALID_FLG (0x1&lt;&lt;2)</span>
<span class="cp">#define TIMERS_BLOCK_CONTEXT_CONN_VALID_FLG_SHIFT 2</span>
<span class="cp">#define __TIMERS_BLOCK_CONTEXT_RESERVED0 (0x1FFFFFFF&lt;&lt;3)</span>
<span class="cp">#define __TIMERS_BLOCK_CONTEXT_RESERVED0_SHIFT 3</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth aggregative context of Tstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_eth_ag_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">__reserved0</span><span class="p">[</span><span class="mi">14</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth aggregative context of Ustorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ustorm_eth_ag_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">__reserved0</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">cdu_usage</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">__reserved2</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">__reserved1</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">__reserved1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">__reserved2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cdu_usage</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">__reserved3</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth aggregative context of Xstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xstorm_eth_ag_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">cdu_reserved</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cdu_reserved</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">reserved3</span><span class="p">[</span><span class="mi">30</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * doorbell message sent to the chip</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">doorbell</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">zero_fill2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">zero_fill1</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">doorbell_hdr</span> <span class="n">header</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="k">struct</span> <span class="n">doorbell_hdr</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">zero_fill1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">zero_fill2</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * doorbell message sent to the chip</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">doorbell_set_prod</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">prod</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">zero_fill1</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">doorbell_hdr</span> <span class="n">header</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="k">struct</span> <span class="n">doorbell_hdr</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">zero_fill1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">prod</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">regpair</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">hi</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Classify rule opcodes in E2/E3</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">classify_rule</span> <span class="p">{</span>
	<span class="n">CLASSIFY_RULE_OPCODE_MAC</span><span class="p">,</span>
	<span class="n">CLASSIFY_RULE_OPCODE_VLAN</span><span class="p">,</span>
	<span class="n">CLASSIFY_RULE_OPCODE_PAIR</span><span class="p">,</span>
	<span class="n">MAX_CLASSIFY_RULE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Classify rule types in E2/E3</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">classify_rule_action_type</span> <span class="p">{</span>
	<span class="n">CLASSIFY_RULE_REMOVE</span><span class="p">,</span>
	<span class="n">CLASSIFY_RULE_ADD</span><span class="p">,</span>
	<span class="n">MAX_CLASSIFY_RULE_ACTION_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * client init ramrod data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">client_init_general_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">statistics_counter_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">statistics_en_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">is_fcoe_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">activate_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sp_client_id</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mtu</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">statistics_zero_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">func_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cos</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">traffic_type</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * client init rx data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">client_init_rx_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">tpa_en</span><span class="p">;</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_TPA_EN_IPV4 (0x1&lt;&lt;0)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_TPA_EN_IPV4_SHIFT 0</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_TPA_EN_IPV6 (0x1&lt;&lt;1)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_TPA_EN_IPV6_SHIFT 1</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_TPA_MODE (0x1&lt;&lt;2)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_TPA_MODE_SHIFT 2</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_RESERVED5 (0x1F&lt;&lt;3)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_RESERVED5_SHIFT 3</span>
	<span class="n">u8</span> <span class="n">vmqueue_mode_en_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">extra_data_over_sgl_en_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cache_line_alignment_log_size</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">enable_dynamic_hc</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">max_sges_for_packet</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">client_qzone_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">drop_ip_cs_err_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">drop_tcp_cs_err_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">drop_ttl0_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">drop_udp_cs_err_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">inner_vlan_removal_enable_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">outer_vlan_removal_enable_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">status_block_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rx_sb_index_number</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dont_verify_rings_pause_thr_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">max_tpa_queues</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">silent_vlan_removal_flg</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">max_bytes_on_bd</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sge_buff_size</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">approx_mcast_engine_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rss_engine_id</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">bd_page_base</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">sge_page_base</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">cqe_page_base</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">is_leading_rss</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">is_approx_mcast</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">max_agg_size</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">state</span><span class="p">;</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_UCAST_DROP_ALL (0x1&lt;&lt;0)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_UCAST_DROP_ALL_SHIFT 0</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_UCAST_ACCEPT_ALL (0x1&lt;&lt;1)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_UCAST_ACCEPT_ALL_SHIFT 1</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_UCAST_ACCEPT_UNMATCHED (0x1&lt;&lt;2)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_UCAST_ACCEPT_UNMATCHED_SHIFT 2</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_MCAST_DROP_ALL (0x1&lt;&lt;3)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_MCAST_DROP_ALL_SHIFT 3</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_MCAST_ACCEPT_ALL (0x1&lt;&lt;4)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_MCAST_ACCEPT_ALL_SHIFT 4</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_BCAST_ACCEPT_ALL (0x1&lt;&lt;5)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_BCAST_ACCEPT_ALL_SHIFT 5</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_ACCEPT_ANY_VLAN (0x1&lt;&lt;6)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_ACCEPT_ANY_VLAN_SHIFT 6</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_RESERVED2 (0x1FF&lt;&lt;7)</span>
<span class="cp">#define CLIENT_INIT_RX_DATA_RESERVED2_SHIFT 7</span>
	<span class="n">__le16</span> <span class="n">cqe_pause_thr_low</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">cqe_pause_thr_high</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">bd_pause_thr_low</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">bd_pause_thr_high</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sge_pause_thr_low</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sge_pause_thr_high</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">rx_cos_mask</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">silent_vlan_value</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">silent_vlan_mask</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved6</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * client init tx data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">client_init_tx_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">enforce_security_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tx_status_block_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tx_sb_index_number</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tss_leading_client_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tx_switching_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">anti_spoofing_flg</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">default_vlan</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">tx_bd_page_base</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">state</span><span class="p">;</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_UCAST_ACCEPT_ALL (0x1&lt;&lt;0)</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_UCAST_ACCEPT_ALL_SHIFT 0</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_MCAST_ACCEPT_ALL (0x1&lt;&lt;1)</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_MCAST_ACCEPT_ALL_SHIFT 1</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_BCAST_ACCEPT_ALL (0x1&lt;&lt;2)</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_BCAST_ACCEPT_ALL_SHIFT 2</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_ACCEPT_ANY_VLAN (0x1&lt;&lt;3)</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_ACCEPT_ANY_VLAN_SHIFT 3</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_RESERVED1 (0xFFF&lt;&lt;4)</span>
<span class="cp">#define CLIENT_INIT_TX_DATA_RESERVED1_SHIFT 4</span>
	<span class="n">u8</span> <span class="n">default_vlan_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">force_default_pri_flg</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * client init ramrod data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">client_init_ramrod_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">client_init_general_data</span> <span class="n">general</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">client_init_rx_data</span> <span class="n">rx</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">client_init_tx_data</span> <span class="n">tx</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * client update ramrod data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">client_update_ramrod_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">func_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">inner_vlan_removal_enable_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">inner_vlan_removal_change_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">outer_vlan_removal_enable_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">outer_vlan_removal_change_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">anti_spoofing_enable_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">anti_spoofing_change_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">activate_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">activate_change_flg</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">default_vlan</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">default_vlan_enable_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">default_vlan_change_flg</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">silent_vlan_value</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">silent_vlan_mask</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">silent_vlan_removal_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">silent_vlan_change_flg</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">echo</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth storm context of Cstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cstorm_eth_st_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">__reserved0</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">double_regpair</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">regpair0_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">regpair0_hi</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">regpair1_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">regpair1_hi</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Ethernet address typesm used in ethernet tx BDs</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_addr_type</span> <span class="p">{</span>
	<span class="n">UNKNOWN_ADDRESS</span><span class="p">,</span>
	<span class="n">UNICAST_ADDRESS</span><span class="p">,</span>
	<span class="n">MULTICAST_ADDRESS</span><span class="p">,</span>
	<span class="n">BROADCAST_ADDRESS</span><span class="p">,</span>
	<span class="n">MAX_ETH_ADDR_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_classify_cmd_header</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">cmd_general_data</span><span class="p">;</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_RX_CMD (0x1&lt;&lt;0)</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_RX_CMD_SHIFT 0</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_TX_CMD (0x1&lt;&lt;1)</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_TX_CMD_SHIFT 1</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_OPCODE (0x3&lt;&lt;2)</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_OPCODE_SHIFT 2</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_IS_ADD (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_IS_ADD_SHIFT 4</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_RESERVED0 (0x7&lt;&lt;5)</span>
<span class="cp">#define ETH_CLASSIFY_CMD_HEADER_RESERVED0_SHIFT 5</span>
	<span class="n">u8</span> <span class="n">func_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * header for eth classification config ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_classify_header</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">rule_cnt</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">echo</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Command for adding/removing a MAC classification rule</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_classify_mac_cmd</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_cmd_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mac_lsb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mac_mid</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mac_msb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Command for adding/removing a MAC-VLAN pair classification rule</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_classify_pair_cmd</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_cmd_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mac_lsb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mac_mid</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">mac_msb</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vlan</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Command for adding/removing a VLAN classification rule</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_classify_vlan_cmd</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_cmd_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vlan</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * union for eth classification rule</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">eth_classify_rule_cmd</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_mac_cmd</span> <span class="n">mac</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_classify_vlan_cmd</span> <span class="n">vlan</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_classify_pair_cmd</span> <span class="n">pair</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * parameters for eth classification configuration ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_classify_rules_ramrod_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">eth_classify_rule_cmd</span> <span class="n">rules</span><span class="p">[</span><span class="n">CLASSIFY_RULES_COUNT</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The data contain client ID need to the ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_common_ramrod_data</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth storm context of Ustorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ustorm_eth_st_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">[</span><span class="mi">52</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The eth storm context of Tstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_eth_st_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">__reserved0</span><span class="p">[</span><span class="mi">28</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The eth storm context of Xstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xstorm_eth_st_context</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">[</span><span class="mi">60</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Ethernet connection context</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_context</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ustorm_eth_st_context</span> <span class="n">ustorm_st_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">tstorm_eth_st_context</span> <span class="n">tstorm_st_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xstorm_eth_ag_context</span> <span class="n">xstorm_ag_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">tstorm_eth_ag_context</span> <span class="n">tstorm_ag_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cstorm_eth_ag_context</span> <span class="n">cstorm_ag_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ustorm_eth_ag_context</span> <span class="n">ustorm_ag_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timers_block_context</span> <span class="n">timers_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xstorm_eth_st_context</span> <span class="n">xstorm_st_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cstorm_eth_st_context</span> <span class="n">cstorm_st_context</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * union for sgl and raw data.</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">eth_sgl_or_raw_data</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">sgl</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">raw_data</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * eth FP end aggregation CQE parameters struct</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_end_agg_rx_cqe</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type_error_flags</span><span class="p">;</span>
<span class="cp">#define ETH_END_AGG_RX_CQE_TYPE (0x3&lt;&lt;0)</span>
<span class="cp">#define ETH_END_AGG_RX_CQE_TYPE_SHIFT 0</span>
<span class="cp">#define ETH_END_AGG_RX_CQE_SGL_RAW_SEL (0x1&lt;&lt;2)</span>
<span class="cp">#define ETH_END_AGG_RX_CQE_SGL_RAW_SEL_SHIFT 2</span>
<span class="cp">#define ETH_END_AGG_RX_CQE_RESERVED0 (0x1F&lt;&lt;3)</span>
<span class="cp">#define ETH_END_AGG_RX_CQE_RESERVED0_SHIFT 3</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">queue_index</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">timestamp_delta</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">num_of_coalesced_segs</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">pkt_len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pure_ack_count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved3</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved4</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">eth_sgl_or_raw_data</span> <span class="n">sgl_or_raw_data</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved5</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * regular eth FP CQE parameters struct</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_fast_path_rx_cqe</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type_error_flags</span><span class="p">;</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_TYPE (0x3&lt;&lt;0)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_TYPE_SHIFT 0</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_SGL_RAW_SEL (0x1&lt;&lt;2)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_SGL_RAW_SEL_SHIFT 2</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_PHY_DECODE_ERR_FLG (0x1&lt;&lt;3)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_PHY_DECODE_ERR_FLG_SHIFT 3</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_IP_BAD_XSUM_FLG (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_IP_BAD_XSUM_FLG_SHIFT 4</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_L4_BAD_XSUM_FLG (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_L4_BAD_XSUM_FLG_SHIFT 5</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_RESERVED0 (0x3&lt;&lt;6)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_RESERVED0_SHIFT 6</span>
	<span class="n">u8</span> <span class="n">status_flags</span><span class="p">;</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_RSS_HASH_TYPE (0x7&lt;&lt;0)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_RSS_HASH_TYPE_SHIFT 0</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_RSS_HASH_FLG (0x1&lt;&lt;3)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_RSS_HASH_FLG_SHIFT 3</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_BROADCAST_FLG (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_BROADCAST_FLG_SHIFT 4</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_MAC_MATCH_FLG (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_MAC_MATCH_FLG_SHIFT 5</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_IP_XSUM_NO_VALIDATION_FLG (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_IP_XSUM_NO_VALIDATION_FLG_SHIFT 6</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_L4_XSUM_NO_VALIDATION_FLG (0x1&lt;&lt;7)</span>
<span class="cp">#define ETH_FAST_PATH_RX_CQE_L4_XSUM_NO_VALIDATION_FLG_SHIFT 7</span>
	<span class="n">u8</span> <span class="n">queue_index</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">placement_offset</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">rss_hash_result</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vlan_tag</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">pkt_len_or_gro_seg_len</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">len_on_bd</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">parsing_flags</span> <span class="n">pars_flags</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">eth_sgl_or_raw_data</span> <span class="n">sgl_or_raw_data</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Command for setting classification flags for a client</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_filter_rules_cmd</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">cmd_general_data</span><span class="p">;</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_RX_CMD (0x1&lt;&lt;0)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_RX_CMD_SHIFT 0</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_TX_CMD (0x1&lt;&lt;1)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_TX_CMD_SHIFT 1</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_RESERVED0 (0x3F&lt;&lt;2)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_RESERVED0_SHIFT 2</span>
	<span class="n">u8</span> <span class="n">func_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">state</span><span class="p">;</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_UCAST_DROP_ALL (0x1&lt;&lt;0)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_UCAST_DROP_ALL_SHIFT 0</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_UCAST_ACCEPT_ALL (0x1&lt;&lt;1)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_UCAST_ACCEPT_ALL_SHIFT 1</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_UCAST_ACCEPT_UNMATCHED (0x1&lt;&lt;2)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_UCAST_ACCEPT_UNMATCHED_SHIFT 2</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_MCAST_DROP_ALL (0x1&lt;&lt;3)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_MCAST_DROP_ALL_SHIFT 3</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_MCAST_ACCEPT_ALL (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_MCAST_ACCEPT_ALL_SHIFT 4</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_BCAST_ACCEPT_ALL (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_BCAST_ACCEPT_ALL_SHIFT 5</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_ACCEPT_ANY_VLAN (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_ACCEPT_ANY_VLAN_SHIFT 6</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_RESERVED2 (0x1FF&lt;&lt;7)</span>
<span class="cp">#define ETH_FILTER_RULES_CMD_RESERVED2_SHIFT 7</span>
	<span class="n">__le16</span> <span class="n">reserved3</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved4</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * parameters for eth classification filters ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_filter_rules_ramrod_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_filter_rules_cmd</span> <span class="n">rules</span><span class="p">[</span><span class="n">FILTER_RULES_COUNT</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * parameters for eth classification configuration ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_general_rules_ramrod_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">eth_classify_rule_cmd</span> <span class="n">rules</span><span class="p">[</span><span class="n">CLASSIFY_RULES_COUNT</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The data for Halt ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_halt_ramrod_data</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Command for setting multicast classification for a client</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_multicast_rules_cmd</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">cmd_general_data</span><span class="p">;</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_RX_CMD (0x1&lt;&lt;0)</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_RX_CMD_SHIFT 0</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_TX_CMD (0x1&lt;&lt;1)</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_TX_CMD_SHIFT 1</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_IS_ADD (0x1&lt;&lt;2)</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_IS_ADD_SHIFT 2</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_RESERVED0 (0x1F&lt;&lt;3)</span>
<span class="cp">#define ETH_MULTICAST_RULES_CMD_RESERVED0_SHIFT 3</span>
	<span class="n">u8</span> <span class="n">func_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bin_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">engine_id</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * parameters for multicast classification ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_multicast_rules_ramrod_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_classify_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_multicast_rules_cmd</span> <span class="n">rules</span><span class="p">[</span><span class="n">MULTICAST_RULES_COUNT</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Place holder for ramrods protocol specific data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ramrod_data</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">data_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">data_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * union for ramrod data for Ethernet protocol (CQE) (force size of 16 bits)</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">eth_ramrod_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ramrod_data</span> <span class="n">general</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * RSS toeplitz hash type, as reported in CQE</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_rss_hash_type</span> <span class="p">{</span>
	<span class="n">DEFAULT_HASH_TYPE</span><span class="p">,</span>
	<span class="n">IPV4_HASH_TYPE</span><span class="p">,</span>
	<span class="n">TCP_IPV4_HASH_TYPE</span><span class="p">,</span>
	<span class="n">IPV6_HASH_TYPE</span><span class="p">,</span>
	<span class="n">TCP_IPV6_HASH_TYPE</span><span class="p">,</span>
	<span class="n">VLAN_PRI_HASH_TYPE</span><span class="p">,</span>
	<span class="n">E1HOV_PRI_HASH_TYPE</span><span class="p">,</span>
	<span class="n">DSCP_HASH_TYPE</span><span class="p">,</span>
	<span class="n">MAX_ETH_RSS_HASH_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Ethernet RSS mode</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_rss_mode</span> <span class="p">{</span>
	<span class="n">ETH_RSS_MODE_DISABLED</span><span class="p">,</span>
	<span class="n">ETH_RSS_MODE_REGULAR</span><span class="p">,</span>
	<span class="n">ETH_RSS_MODE_VLAN_PRI</span><span class="p">,</span>
	<span class="n">ETH_RSS_MODE_E1HOV_PRI</span><span class="p">,</span>
	<span class="n">ETH_RSS_MODE_IP_DSCP</span><span class="p">,</span>
	<span class="n">MAX_ETH_RSS_MODE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * parameters for RSS update ramrod (E2)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_rss_update_ramrod_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">rss_engine_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">capabilities</span><span class="p">;</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV4_CAPABILITY (0x1&lt;&lt;0)</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV4_CAPABILITY_SHIFT 0</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV4_TCP_CAPABILITY (0x1&lt;&lt;1)</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV4_TCP_CAPABILITY_SHIFT 1</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV4_UDP_CAPABILITY (0x1&lt;&lt;2)</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV4_UDP_CAPABILITY_SHIFT 2</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV6_CAPABILITY (0x1&lt;&lt;3)</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV6_CAPABILITY_SHIFT 3</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV6_TCP_CAPABILITY (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV6_TCP_CAPABILITY_SHIFT 4</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV6_UDP_CAPABILITY (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_IPV6_UDP_CAPABILITY_SHIFT 5</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_UPDATE_RSS_KEY (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_RSS_UPDATE_RAMROD_DATA_UPDATE_RSS_KEY_SHIFT 6</span>
<span class="cp">#define __ETH_RSS_UPDATE_RAMROD_DATA_RESERVED0 (0x1&lt;&lt;7)</span>
<span class="cp">#define __ETH_RSS_UPDATE_RAMROD_DATA_RESERVED0_SHIFT 7</span>
	<span class="n">u8</span> <span class="n">rss_result_mask</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rss_mode</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">__reserved2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">indirection_table</span><span class="p">[</span><span class="n">T_ETH_INDIRECTION_TABLE_SIZE</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">rss_key</span><span class="p">[</span><span class="n">T_ETH_RSS_KEY</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">echo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth Rx Buffer Descriptor</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_rx_bd</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">addr_hi</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Eth Rx Cqe structure- general structure for ramrods</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">common_ramrod_eth_rx_cqe</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">ramrod_type</span><span class="p">;</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_TYPE (0x3&lt;&lt;0)</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_TYPE_SHIFT 0</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_ERROR (0x1&lt;&lt;2)</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_ERROR_SHIFT 2</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_RESERVED0 (0x1F&lt;&lt;3)</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_RESERVED0_SHIFT 3</span>
	<span class="n">u8</span> <span class="n">conn_type</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">conn_and_cmd_data</span><span class="p">;</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_CID (0xFFFFFF&lt;&lt;0)</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_CID_SHIFT 0</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_CMD_ID (0xFF&lt;&lt;24)</span>
<span class="cp">#define COMMON_RAMROD_ETH_RX_CQE_CMD_ID_SHIFT 24</span>
	<span class="k">struct</span> <span class="n">ramrod_data</span> <span class="n">protocol_data</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">echo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved2</span><span class="p">[</span><span class="mi">11</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Rx Last CQE in page (in ETH)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_rx_cqe_next_page</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">addr_hi</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">14</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * union for all eth rx cqe types (fix their sizes)</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">eth_rx_cqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_fast_path_rx_cqe</span> <span class="n">fast_path_cqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">common_ramrod_eth_rx_cqe</span> <span class="n">ramrod_cqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_rx_cqe_next_page</span> <span class="n">next_page_cqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_end_agg_rx_cqe</span> <span class="n">end_agg_cqe</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Values for RX ETH CQE type field</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_rx_cqe_type</span> <span class="p">{</span>
	<span class="n">RX_ETH_CQE_TYPE_ETH_FASTPATH</span><span class="p">,</span>
	<span class="n">RX_ETH_CQE_TYPE_ETH_RAMROD</span><span class="p">,</span>
	<span class="n">RX_ETH_CQE_TYPE_ETH_START_AGG</span><span class="p">,</span>
	<span class="n">RX_ETH_CQE_TYPE_ETH_STOP_AGG</span><span class="p">,</span>
	<span class="n">MAX_ETH_RX_CQE_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Type of SGL/Raw field in ETH RX fast path CQE</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_rx_fp_sel</span> <span class="p">{</span>
	<span class="n">ETH_FP_CQE_REGULAR</span><span class="p">,</span>
	<span class="n">ETH_FP_CQE_RAW</span><span class="p">,</span>
	<span class="n">MAX_ETH_RX_FP_SEL</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The eth Rx SGE Descriptor</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_rx_sge</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">addr_hi</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * common data for all protocols</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">spe_hdr</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">conn_and_cmd_data</span><span class="p">;</span>
<span class="cp">#define SPE_HDR_CID (0xFFFFFF&lt;&lt;0)</span>
<span class="cp">#define SPE_HDR_CID_SHIFT 0</span>
<span class="cp">#define SPE_HDR_CMD_ID (0xFF&lt;&lt;24)</span>
<span class="cp">#define SPE_HDR_CMD_ID_SHIFT 24</span>
	<span class="n">__le16</span> <span class="n">type</span><span class="p">;</span>
<span class="cp">#define SPE_HDR_CONN_TYPE (0xFF&lt;&lt;0)</span>
<span class="cp">#define SPE_HDR_CONN_TYPE_SHIFT 0</span>
<span class="cp">#define SPE_HDR_FUNCTION_ID (0xFF&lt;&lt;8)</span>
<span class="cp">#define SPE_HDR_FUNCTION_ID_SHIFT 8</span>
	<span class="n">__le16</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * specific data for ethernet slow path element</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">eth_specific_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">protocol_data</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">client_update_ramrod_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">client_init_ramrod_init_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_halt_ramrod_data</span> <span class="n">halt_ramrod_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">update_data_addr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_common_ramrod_data</span> <span class="n">common_ramrod_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">classify_cfg_addr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">filter_cfg_addr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">mcast_cfg_addr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Ethernet slow path element</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_spe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">spe_hdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">eth_specific_data</span> <span class="n">data</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Ethernet command ID for slow path elements</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_spqe_cmd_id</span> <span class="p">{</span>
	<span class="n">RAMROD_CMD_ID_ETH_UNUSED</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_CLIENT_SETUP</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_HALT</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_FORWARD_SETUP</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_TX_QUEUE_SETUP</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_CLIENT_UPDATE</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_EMPTY</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_TERMINATE</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_TPA_UPDATE</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_CLASSIFICATION_RULES</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_FILTER_RULES</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_MULTICAST_RULES</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_RSS_UPDATE</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_ETH_SET_MAC</span><span class="p">,</span>
	<span class="n">MAX_ETH_SPQE_CMD_ID</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * eth tpa update command</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_tpa_update_command</span> <span class="p">{</span>
	<span class="n">TPA_UPDATE_NONE_COMMAND</span><span class="p">,</span>
	<span class="n">TPA_UPDATE_ENABLE_COMMAND</span><span class="p">,</span>
	<span class="n">TPA_UPDATE_DISABLE_COMMAND</span><span class="p">,</span>
	<span class="n">MAX_ETH_TPA_UPDATE_COMMAND</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Tx regular BD structure</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_bd</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">addr_hi</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">total_pkt_bytes</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">nbytes</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * structure for easy accessibility to assembler</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_bd_flags</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">as_bitfield</span><span class="p">;</span>
<span class="cp">#define ETH_TX_BD_FLAGS_IP_CSUM (0x1&lt;&lt;0)</span>
<span class="cp">#define ETH_TX_BD_FLAGS_IP_CSUM_SHIFT 0</span>
<span class="cp">#define ETH_TX_BD_FLAGS_L4_CSUM (0x1&lt;&lt;1)</span>
<span class="cp">#define ETH_TX_BD_FLAGS_L4_CSUM_SHIFT 1</span>
<span class="cp">#define ETH_TX_BD_FLAGS_VLAN_MODE (0x3&lt;&lt;2)</span>
<span class="cp">#define ETH_TX_BD_FLAGS_VLAN_MODE_SHIFT 2</span>
<span class="cp">#define ETH_TX_BD_FLAGS_START_BD (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_TX_BD_FLAGS_START_BD_SHIFT 4</span>
<span class="cp">#define ETH_TX_BD_FLAGS_IS_UDP (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_TX_BD_FLAGS_IS_UDP_SHIFT 5</span>
<span class="cp">#define ETH_TX_BD_FLAGS_SW_LSO (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_TX_BD_FLAGS_SW_LSO_SHIFT 6</span>
<span class="cp">#define ETH_TX_BD_FLAGS_IPV6 (0x1&lt;&lt;7)</span>
<span class="cp">#define ETH_TX_BD_FLAGS_IPV6_SHIFT 7</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The eth Tx Buffer Descriptor</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_start_bd</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">addr_hi</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">nbd</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">nbytes</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vlan_or_ethertype</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_tx_bd_flags</span> <span class="n">bd_flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">general_data</span><span class="p">;</span>
<span class="cp">#define ETH_TX_START_BD_HDR_NBDS (0xF&lt;&lt;0)</span>
<span class="cp">#define ETH_TX_START_BD_HDR_NBDS_SHIFT 0</span>
<span class="cp">#define ETH_TX_START_BD_FORCE_VLAN_MODE (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_TX_START_BD_FORCE_VLAN_MODE_SHIFT 4</span>
<span class="cp">#define ETH_TX_START_BD_RESREVED (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_TX_START_BD_RESREVED_SHIFT 5</span>
<span class="cp">#define ETH_TX_START_BD_ETH_ADDR_TYPE (0x3&lt;&lt;6)</span>
<span class="cp">#define ETH_TX_START_BD_ETH_ADDR_TYPE_SHIFT 6</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Tx parsing BD structure for ETH E1/E1h</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_parse_bd_e1x</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">global_data</span><span class="p">;</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_IP_HDR_START_OFFSET_W (0xF&lt;&lt;0)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_IP_HDR_START_OFFSET_W_SHIFT 0</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_RESERVED0 (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_RESERVED0_SHIFT 4</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_PSEUDO_CS_WITHOUT_LEN (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_PSEUDO_CS_WITHOUT_LEN_SHIFT 5</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_LLC_SNAP_EN (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_LLC_SNAP_EN_SHIFT 6</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_NS_FLG (0x1&lt;&lt;7)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_NS_FLG_SHIFT 7</span>
	<span class="n">u8</span> <span class="n">tcp_flags</span><span class="p">;</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_FIN_FLG (0x1&lt;&lt;0)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_FIN_FLG_SHIFT 0</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_SYN_FLG (0x1&lt;&lt;1)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_SYN_FLG_SHIFT 1</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_RST_FLG (0x1&lt;&lt;2)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_RST_FLG_SHIFT 2</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_PSH_FLG (0x1&lt;&lt;3)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_PSH_FLG_SHIFT 3</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_ACK_FLG (0x1&lt;&lt;4)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_ACK_FLG_SHIFT 4</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_URG_FLG (0x1&lt;&lt;5)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_URG_FLG_SHIFT 5</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_ECE_FLG (0x1&lt;&lt;6)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_ECE_FLG_SHIFT 6</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_CWR_FLG (0x1&lt;&lt;7)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E1X_CWR_FLG_SHIFT 7</span>
	<span class="n">u8</span> <span class="n">ip_hlen_w</span><span class="p">;</span>
	<span class="n">s8</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">total_hlen_w</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">tcp_pseudo_csum</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">lso_mss</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">ip_id</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">tcp_send_seq</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Tx parsing BD structure for ETH E2</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_parse_bd_e2</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">dst_mac_addr_lo</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">dst_mac_addr_mid</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">dst_mac_addr_hi</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">src_mac_addr_lo</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">src_mac_addr_mid</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">src_mac_addr_hi</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">parsing_data</span><span class="p">;</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_TCP_HDR_START_OFFSET_W (0x1FFF&lt;&lt;0)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_TCP_HDR_START_OFFSET_W_SHIFT 0</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_TCP_HDR_LENGTH_DW (0xF&lt;&lt;13)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_TCP_HDR_LENGTH_DW_SHIFT 13</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_LSO_MSS (0x3FFF&lt;&lt;17)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_LSO_MSS_SHIFT 17</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_IPV6_WITH_EXT_HDR (0x1&lt;&lt;31)</span>
<span class="cp">#define ETH_TX_PARSE_BD_E2_IPV6_WITH_EXT_HDR_SHIFT 31</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The last BD in the BD memory will hold a pointer to the next BD memory</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_next_bd</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">addr_hi</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * union for 4 Bd types</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">eth_tx_bd_types</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">eth_tx_start_bd</span> <span class="n">start_bd</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_tx_bd</span> <span class="n">reg_bd</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_tx_parse_bd_e1x</span> <span class="n">parse_bd_e1x</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_tx_parse_bd_e2</span> <span class="n">parse_bd_e2</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_tx_next_bd</span> <span class="n">next_bd</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * array of 13 bds as appears in the eth xstorm context</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_tx_bds_array</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">eth_tx_bd_types</span> <span class="n">bds</span><span class="p">[</span><span class="mi">13</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * VLAN mode on TX BDs</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_tx_vlan_type</span> <span class="p">{</span>
	<span class="n">X_ETH_NO_VLAN</span><span class="p">,</span>
	<span class="n">X_ETH_OUTBAND_VLAN</span><span class="p">,</span>
	<span class="n">X_ETH_INBAND_VLAN</span><span class="p">,</span>
	<span class="n">X_ETH_FW_ADDED_VLAN</span><span class="p">,</span>
	<span class="n">MAX_ETH_TX_VLAN_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Ethernet VLAN filtering mode in E1x</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">eth_vlan_filter_mode</span> <span class="p">{</span>
	<span class="n">ETH_VLAN_FILTER_ANY_VLAN</span><span class="p">,</span>
	<span class="n">ETH_VLAN_FILTER_SPECIFIC_VLAN</span><span class="p">,</span>
	<span class="n">ETH_VLAN_FILTER_CLASSIFY</span><span class="p">,</span>
	<span class="n">MAX_ETH_VLAN_FILTER_MODE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * MAC filtering configuration command header</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">mac_configuration_hdr</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">offset</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">echo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * MAC address in list for ramrod</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">mac_configuration_entry</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">lsb_mac_addr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">middle_mac_addr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">msb_mac_addr</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vlan_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pf_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_ACTION_TYPE (0x1&lt;&lt;0)</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_ACTION_TYPE_SHIFT 0</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_RDMA_MAC (0x1&lt;&lt;1)</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_RDMA_MAC_SHIFT 1</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_VLAN_FILTERING_MODE (0x3&lt;&lt;2)</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_VLAN_FILTERING_MODE_SHIFT 2</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_OVERRIDE_VLAN_REMOVAL (0x1&lt;&lt;4)</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_OVERRIDE_VLAN_REMOVAL_SHIFT 4</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_BROADCAST (0x1&lt;&lt;5)</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_BROADCAST_SHIFT 5</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_RESERVED1 (0x3&lt;&lt;6)</span>
<span class="cp">#define MAC_CONFIGURATION_ENTRY_RESERVED1_SHIFT 6</span>
	<span class="n">__le16</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">clients_bit_vector</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * MAC filtering configuration command</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">mac_configuration_cmd</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mac_configuration_hdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">mac_configuration_entry</span> <span class="n">config_table</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Set-MAC command type (in E1x)</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">set_mac_action_type</span> <span class="p">{</span>
	<span class="n">T_ETH_MAC_COMMAND_INVALIDATE</span><span class="p">,</span>
	<span class="n">T_ETH_MAC_COMMAND_SET</span><span class="p">,</span>
	<span class="n">MAX_SET_MAC_ACTION_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Ethernet TPA Modes</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">tpa_mode</span> <span class="p">{</span>
	<span class="n">TPA_LRO</span><span class="p">,</span>
	<span class="n">TPA_GRO</span><span class="p">,</span>
	<span class="n">MAX_TPA_MODE</span><span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * tpa update ramrod data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tpa_update_ramrod_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">update_ipv4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">update_ipv6</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">client_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">max_tpa_queues</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">max_sges_for_packet</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">complete_on_both_clients</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dont_verify_rings_pause_thr_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tpa_mode</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sge_buff_size</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">max_agg_size</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">sge_page_base_lo</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">sge_page_base_hi</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sge_pause_thr_low</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sge_pause_thr_high</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * approximate-match multicast filtering for E1H per function in Tstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_eth_approximate_match_multicast_filtering</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">mcast_add_hash_bit_array</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Common configuration parameters per function in Tstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_eth_function_common_config</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">config_flags</span><span class="p">;</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV4_CAPABILITY (0x1&lt;&lt;0)</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV4_CAPABILITY_SHIFT 0</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV4_TCP_CAPABILITY (0x1&lt;&lt;1)</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV4_TCP_CAPABILITY_SHIFT 1</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV6_CAPABILITY (0x1&lt;&lt;2)</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV6_CAPABILITY_SHIFT 2</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV6_TCP_CAPABILITY (0x1&lt;&lt;3)</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_IPV6_TCP_CAPABILITY_SHIFT 3</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_MODE (0x7&lt;&lt;4)</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_RSS_MODE_SHIFT 4</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_VLAN_FILTERING_ENABLE (0x1&lt;&lt;7)</span>
<span class="cp">#define TSTORM_ETH_FUNCTION_COMMON_CONFIG_VLAN_FILTERING_ENABLE_SHIFT 7</span>
<span class="cp">#define __TSTORM_ETH_FUNCTION_COMMON_CONFIG_RESERVED0 (0xFF&lt;&lt;8)</span>
<span class="cp">#define __TSTORM_ETH_FUNCTION_COMMON_CONFIG_RESERVED0_SHIFT 8</span>
	<span class="n">u8</span> <span class="n">rss_result_mask</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vlan_id</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * MAC filtering configuration parameters per port in Tstorm</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_eth_mac_filter_config</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">ucast_drop_all</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">ucast_accept_all</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">mcast_drop_all</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">mcast_accept_all</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">bcast_accept_all</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">vlan_filter</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">unmatched_unicast</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * tx only queue init ramrod data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tx_queue_init_ramrod_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">client_init_general_data</span> <span class="n">general</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">client_init_tx_data</span> <span class="n">tx</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Three RX producers for ETH</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ustorm_eth_rx_producers</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">bd_prod</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">cqe_prod</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">cqe_prod</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">bd_prod</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">sge_prod</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">sge_prod</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * FCoE RX statistics parameters section#0</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcoe_rx_stat_params_section0</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">fcoe_rx_pkt_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">fcoe_rx_byte_cnt</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * FCoE RX statistics parameters section#1</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcoe_rx_stat_params_section1</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">fcoe_ver_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">fcoe_rx_drop_pkt_cnt</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * FCoE RX statistics parameters section#2</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcoe_rx_stat_params_section2</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">fc_crc_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">eofa_del_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">miss_frame_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">seq_timeout_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">drop_seq_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">fcoe_rx_drop_pkt_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">fcp_rx_pkt_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * FCoE TX statistics parameters</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcoe_tx_stat_params</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">fcoe_tx_pkt_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">fcoe_tx_byte_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">fcp_tx_pkt_cnt</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FCoE statistics parameters</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcoe_statistics_params</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fcoe_tx_stat_params</span> <span class="n">tx_stat</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fcoe_rx_stat_params_section0</span> <span class="n">rx_stat0</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fcoe_rx_stat_params_section1</span> <span class="n">rx_stat1</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fcoe_rx_stat_params_section2</span> <span class="n">rx_stat2</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The data afex vif list ramrod need</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">afex_vif_list_ramrod_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">afex_vif_list_command</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">func_bit_map</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vif_list_index</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">func_to_clear</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">echo</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * cfc delete event data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cfc_del_event_data</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">cid</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * per-port SAFC demo variables</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cmng_flags_per_port</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">cmng_enables</span><span class="p">;</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_FAIRNESS_VN (0x1&lt;&lt;0)</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_FAIRNESS_VN_SHIFT 0</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_RATE_SHAPING_VN (0x1&lt;&lt;1)</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_RATE_SHAPING_VN_SHIFT 1</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_FAIRNESS_COS (0x1&lt;&lt;2)</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_FAIRNESS_COS_SHIFT 2</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_FAIRNESS_COS_MODE (0x1&lt;&lt;3)</span>
<span class="cp">#define CMNG_FLAGS_PER_PORT_FAIRNESS_COS_MODE_SHIFT 3</span>
<span class="cp">#define __CMNG_FLAGS_PER_PORT_RESERVED0 (0xFFFFFFF&lt;&lt;4)</span>
<span class="cp">#define __CMNG_FLAGS_PER_PORT_RESERVED0_SHIFT 4</span>
	<span class="n">u32</span> <span class="n">__reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * per-port rate shaping variables</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">rate_shaping_vars_per_port</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">rs_periodic_timeout</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rs_threshold</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * per-port fairness variables</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fairness_vars_per_port</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">upper_bound</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fair_threshold</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">fairness_timeout</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * per-port SAFC variables</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">safc_struct_per_port</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">__reserved1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">__reserved0</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">safc_timeout_usec</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">safc_timeout_usec</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">__reserved0</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">__reserved1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u8</span> <span class="n">cos_to_traffic_types</span><span class="p">[</span><span class="n">MAX_COS_NUMBER</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">cos_to_pause_mask</span><span class="p">[</span><span class="n">NUM_OF_SAFC_BITS</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Per-port congestion management variables</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cmng_struct_per_port</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rate_shaping_vars_per_port</span> <span class="n">rs_vars</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fairness_vars_per_port</span> <span class="n">fair_vars</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">safc_struct_per_port</span> <span class="n">safc_vars</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cmng_flags_per_port</span> <span class="n">flags</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * a single rate shaping counter. can be used as protocol or vnic counter</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">rate_shaping_counter</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">quota</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">__reserved0</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">rate</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">rate</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">__reserved0</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * per-vnic rate shaping variables</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">rate_shaping_vars_per_vn</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rate_shaping_counter</span> <span class="n">vn_counter</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * per-vnic fairness variables</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fairness_vars_per_vn</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">cos_credit_delta</span><span class="p">[</span><span class="n">MAX_COS_NUMBER</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">vn_credit_delta</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">__reserved0</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * cmng port init state</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cmng_vnic</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">rate_shaping_vars_per_vn</span> <span class="n">vnic_max_rate</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">fairness_vars_per_vn</span> <span class="n">vnic_min_rate</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * cmng port init state</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cmng_init</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">cmng_struct_per_port</span> <span class="n">port</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cmng_vnic</span> <span class="n">vnic</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * driver parameters for congestion management init, all rates are in Mbps</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cmng_init_input</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">port_rate</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">vnic_min_rate</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">vnic_max_rate</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">cos_min_rate</span><span class="p">[</span><span class="n">MAX_COS_NUMBER</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">cos_to_pause_mask</span><span class="p">[</span><span class="n">MAX_COS_NUMBER</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">cmng_flags_per_port</span> <span class="n">flags</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Protocol-common command ID for slow path elements</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">common_spqe_cmd_id</span> <span class="p">{</span>
	<span class="n">RAMROD_CMD_ID_COMMON_UNUSED</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_FUNCTION_START</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_FUNCTION_STOP</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_FUNCTION_UPDATE</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_CFC_DEL</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_CFC_DEL_WB</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_STAT_QUERY</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_STOP_TRAFFIC</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_START_TRAFFIC</span><span class="p">,</span>
	<span class="n">RAMROD_CMD_ID_COMMON_AFEX_VIF_LISTS</span><span class="p">,</span>
	<span class="n">MAX_COMMON_SPQE_CMD_ID</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Per-protocol connection types</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">connection_type</span> <span class="p">{</span>
	<span class="n">ETH_CONNECTION_TYPE</span><span class="p">,</span>
	<span class="n">TOE_CONNECTION_TYPE</span><span class="p">,</span>
	<span class="n">RDMA_CONNECTION_TYPE</span><span class="p">,</span>
	<span class="n">ISCSI_CONNECTION_TYPE</span><span class="p">,</span>
	<span class="n">FCOE_CONNECTION_TYPE</span><span class="p">,</span>
	<span class="n">RESERVED_CONNECTION_TYPE_0</span><span class="p">,</span>
	<span class="n">RESERVED_CONNECTION_TYPE_1</span><span class="p">,</span>
	<span class="n">RESERVED_CONNECTION_TYPE_2</span><span class="p">,</span>
	<span class="n">NONE_CONNECTION_TYPE</span><span class="p">,</span>
	<span class="n">MAX_CONNECTION_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Cos modes</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">cos_mode</span> <span class="p">{</span>
	<span class="n">OVERRIDE_COS</span><span class="p">,</span>
	<span class="n">STATIC_COS</span><span class="p">,</span>
	<span class="n">FW_WRR</span><span class="p">,</span>
	<span class="n">MAX_COS_MODE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Dynamic HC counters set by the driver</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_dynamic_drv_counter</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">val</span><span class="p">[</span><span class="n">HC_SB_MAX_DYNAMIC_INDICES</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * zone A per-queue data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cstorm_queue_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hc_dynamic_drv_counter</span> <span class="n">hc_dyn_drv_cnt</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Vf-PF channel data in cstorm ram (non-triggered zone)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">vf_pf_channel_zone_data</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">msg_addr_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">msg_addr_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * zone for VF non-triggered data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">non_trigger_vf_zone</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">vf_pf_channel_zone_data</span> <span class="n">vf_pf_channel</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Vf-PF channel trigger zone in cstorm ram</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">vf_pf_channel_zone_trigger</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">addr_valid</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * zone that triggers the in-bound interrupt</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">trigger_vf_zone</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">vf_pf_channel_zone_trigger</span> <span class="n">vf_pf_channel</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="k">struct</span> <span class="n">vf_pf_channel_zone_trigger</span> <span class="n">vf_pf_channel</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">reserved2</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * zone B per-VF data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">cstorm_vf_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">non_trigger_vf_zone</span> <span class="n">non_trigger</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">trigger_vf_zone</span> <span class="n">trigger</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Dynamic host coalescing init parameters, per state machine</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">dynamic_hc_sm_config</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">threshold</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">shift_per_protocol</span><span class="p">[</span><span class="n">HC_SB_MAX_DYNAMIC_INDICES</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">hc_timeout0</span><span class="p">[</span><span class="n">HC_SB_MAX_DYNAMIC_INDICES</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">hc_timeout1</span><span class="p">[</span><span class="n">HC_SB_MAX_DYNAMIC_INDICES</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">hc_timeout2</span><span class="p">[</span><span class="n">HC_SB_MAX_DYNAMIC_INDICES</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">hc_timeout3</span><span class="p">[</span><span class="n">HC_SB_MAX_DYNAMIC_INDICES</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Dynamic host coalescing init parameters</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">dynamic_hc_config</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">dynamic_hc_sm_config</span> <span class="n">sm_config</span><span class="p">[</span><span class="n">HC_SB_MAX_SM</span><span class="p">];</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">e2_integ_data</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define E2_INTEG_DATA_TESTING_EN (0x1&lt;&lt;0)</span>
<span class="cp">#define E2_INTEG_DATA_TESTING_EN_SHIFT 0</span>
<span class="cp">#define E2_INTEG_DATA_LB_TX (0x1&lt;&lt;1)</span>
<span class="cp">#define E2_INTEG_DATA_LB_TX_SHIFT 1</span>
<span class="cp">#define E2_INTEG_DATA_COS_TX (0x1&lt;&lt;2)</span>
<span class="cp">#define E2_INTEG_DATA_COS_TX_SHIFT 2</span>
<span class="cp">#define E2_INTEG_DATA_OPPORTUNISTICQM (0x1&lt;&lt;3)</span>
<span class="cp">#define E2_INTEG_DATA_OPPORTUNISTICQM_SHIFT 3</span>
<span class="cp">#define E2_INTEG_DATA_DPMTESTRELEASEDQ (0x1&lt;&lt;4)</span>
<span class="cp">#define E2_INTEG_DATA_DPMTESTRELEASEDQ_SHIFT 4</span>
<span class="cp">#define E2_INTEG_DATA_RESERVED (0x7&lt;&lt;5)</span>
<span class="cp">#define E2_INTEG_DATA_RESERVED_SHIFT 5</span>
	<span class="n">u8</span> <span class="n">cos</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">voq</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pbf_queue</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">pbf_queue</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">voq</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cos</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define E2_INTEG_DATA_TESTING_EN (0x1&lt;&lt;0)</span>
<span class="cp">#define E2_INTEG_DATA_TESTING_EN_SHIFT 0</span>
<span class="cp">#define E2_INTEG_DATA_LB_TX (0x1&lt;&lt;1)</span>
<span class="cp">#define E2_INTEG_DATA_LB_TX_SHIFT 1</span>
<span class="cp">#define E2_INTEG_DATA_COS_TX (0x1&lt;&lt;2)</span>
<span class="cp">#define E2_INTEG_DATA_COS_TX_SHIFT 2</span>
<span class="cp">#define E2_INTEG_DATA_OPPORTUNISTICQM (0x1&lt;&lt;3)</span>
<span class="cp">#define E2_INTEG_DATA_OPPORTUNISTICQM_SHIFT 3</span>
<span class="cp">#define E2_INTEG_DATA_DPMTESTRELEASEDQ (0x1&lt;&lt;4)</span>
<span class="cp">#define E2_INTEG_DATA_DPMTESTRELEASEDQ_SHIFT 4</span>
<span class="cp">#define E2_INTEG_DATA_RESERVED (0x7&lt;&lt;5)</span>
<span class="cp">#define E2_INTEG_DATA_RESERVED_SHIFT 5</span>
<span class="cp">#endif</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">reserved3</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ramEn</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">ramEn</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * set mac event data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">eth_event_data</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">echo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * pf-vf event data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">vf_pf_event_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">vf_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">msg_addr_lo</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">msg_addr_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * VF FLR event data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">vf_flr_event_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">vf_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * malicious VF event data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">malicious_vf_event_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">vf_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * vif list event data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">vif_list_event_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">func_bit_map</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">echo</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved2</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * union for all event ring message types</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">event_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">vf_pf_event_data</span> <span class="n">vf_pf_event</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">eth_event_data</span> <span class="n">eth_event</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cfc_del_event_data</span> <span class="n">cfc_del_event</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">vf_flr_event_data</span> <span class="n">vf_flr_event</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">malicious_vf_event_data</span> <span class="n">malicious_vf_event</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">vif_list_event_data</span> <span class="n">vif_list_event</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * per PF event ring data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">event_ring_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">base_addr</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">index_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sb_id</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">producer</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">producer</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sb_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">index_id</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * event ring message element (each element is 128 bits)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">event_ring_msg</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">opcode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">error</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">event_data</span> <span class="n">data</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * event ring next page element (128 bits)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">event_ring_next</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">addr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * union for event ring element types (each element is 128 bits)</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">event_ring_elem</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">event_ring_msg</span> <span class="n">message</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">event_ring_next</span> <span class="n">next_page</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Common event ring opcodes</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">event_ring_opcode</span> <span class="p">{</span>
	<span class="n">EVENT_RING_OPCODE_VF_PF_CHANNEL</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_FUNCTION_START</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_FUNCTION_STOP</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_CFC_DEL</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_CFC_DEL_WB</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_STAT_QUERY</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_STOP_TRAFFIC</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_START_TRAFFIC</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_VF_FLR</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_MALICIOUS_VF</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_FORWARD_SETUP</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_RSS_UPDATE_RULES</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_FUNCTION_UPDATE</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_AFEX_VIF_LISTS</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_SET_MAC</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_CLASSIFICATION_RULES</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_FILTERS_RULES</span><span class="p">,</span>
	<span class="n">EVENT_RING_OPCODE_MULTICAST_RULES</span><span class="p">,</span>
	<span class="n">MAX_EVENT_RING_OPCODE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Modes for fairness algorithm</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fairness_mode</span> <span class="p">{</span>
	<span class="n">FAIRNESS_COS_WRR_MODE</span><span class="p">,</span>
	<span class="n">FAIRNESS_COS_ETS_MODE</span><span class="p">,</span>
	<span class="n">MAX_FAIRNESS_MODE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Priority and cos</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">priority_cos</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">priority</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cos</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The data for flow control configuration</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">flow_control_configuration</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">priority_cos</span> <span class="n">traffic_type_to_priority_cos</span><span class="p">[</span><span class="n">MAX_TRAFFIC_TYPES</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">dcb_enabled</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dcb_version</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dont_add_pri_0_en</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved2</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">function_start_data</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">function_mode</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">sd_vlan_tag</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vif_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">path_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">network_cos_mode</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">function_update_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">vif_id_change_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">afex_default_vlan_change_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">allowed_priorities_change_flg</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">network_cos_mode_change_flg</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">vif_id</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">afex_default_vlan</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">allowed_priorities</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">network_cos_mode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">lb_mode_en</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * FW version stored in the Xstorm RAM</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fw_version</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">engineering</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">revision</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">minor</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">major</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">major</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">minor</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">revision</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">engineering</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define FW_VERSION_OPTIMIZED (0x1&lt;&lt;0)</span>
<span class="cp">#define FW_VERSION_OPTIMIZED_SHIFT 0</span>
<span class="cp">#define FW_VERSION_BIG_ENDIEN (0x1&lt;&lt;1)</span>
<span class="cp">#define FW_VERSION_BIG_ENDIEN_SHIFT 1</span>
<span class="cp">#define FW_VERSION_CHIP_VERSION (0x3&lt;&lt;2)</span>
<span class="cp">#define FW_VERSION_CHIP_VERSION_SHIFT 2</span>
<span class="cp">#define __FW_VERSION_RESERVED (0xFFFFFFF&lt;&lt;4)</span>
<span class="cp">#define __FW_VERSION_RESERVED_SHIFT 4</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Dynamic Host-Coalescing - Driver(host) counters</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_dynamic_sb_drv_counters</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">dynamic_hc_drv_counter</span><span class="p">[</span><span class="n">HC_SB_MAX_DYNAMIC_INDICES</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * 2 bytes. configuration/state parameters for a single protocol index</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_index_data</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define HC_INDEX_DATA_SM_ID (0x1&lt;&lt;0)</span>
<span class="cp">#define HC_INDEX_DATA_SM_ID_SHIFT 0</span>
<span class="cp">#define HC_INDEX_DATA_HC_ENABLED (0x1&lt;&lt;1)</span>
<span class="cp">#define HC_INDEX_DATA_HC_ENABLED_SHIFT 1</span>
<span class="cp">#define HC_INDEX_DATA_DYNAMIC_HC_ENABLED (0x1&lt;&lt;2)</span>
<span class="cp">#define HC_INDEX_DATA_DYNAMIC_HC_ENABLED_SHIFT 2</span>
<span class="cp">#define HC_INDEX_DATA_RESERVE (0x1F&lt;&lt;3)</span>
<span class="cp">#define HC_INDEX_DATA_RESERVE_SHIFT 3</span>
	<span class="n">u8</span> <span class="n">timeout</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">timeout</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define HC_INDEX_DATA_SM_ID (0x1&lt;&lt;0)</span>
<span class="cp">#define HC_INDEX_DATA_SM_ID_SHIFT 0</span>
<span class="cp">#define HC_INDEX_DATA_HC_ENABLED (0x1&lt;&lt;1)</span>
<span class="cp">#define HC_INDEX_DATA_HC_ENABLED_SHIFT 1</span>
<span class="cp">#define HC_INDEX_DATA_DYNAMIC_HC_ENABLED (0x1&lt;&lt;2)</span>
<span class="cp">#define HC_INDEX_DATA_DYNAMIC_HC_ENABLED_SHIFT 2</span>
<span class="cp">#define HC_INDEX_DATA_RESERVE (0x1F&lt;&lt;3)</span>
<span class="cp">#define HC_INDEX_DATA_RESERVE_SHIFT 3</span>
<span class="cp">#endif</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * HC state-machine</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_status_block_sm</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">igu_seg_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">igu_sb_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">timer_value</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">__flags</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">__flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">timer_value</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">igu_sb_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">igu_seg_id</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">time_to_expire</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * hold PCI identification variables- used in various places in firmware</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">pci_entity</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">vf_valid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vf_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vnic_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pf_id</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">pf_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vnic_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vf_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vf_valid</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The fast-path status block meta-data, common to all chips</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_sb_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">host_sb_addr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">hc_status_block_sm</span> <span class="n">state_machine</span><span class="p">[</span><span class="n">HC_SB_MAX_SM</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">pci_entity</span> <span class="n">p_func</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">rsrv0</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dhc_qzone_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">same_igu_sb_1b</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">same_igu_sb_1b</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dhc_qzone_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsrv0</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">rsrv1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Segment types for host coaslescing</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">hc_segment</span> <span class="p">{</span>
	<span class="n">HC_REGULAR_SEGMENT</span><span class="p">,</span>
	<span class="n">HC_DEFAULT_SEGMENT</span><span class="p">,</span>
	<span class="n">MAX_HC_SEGMENT</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The fast-path status block meta-data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_sp_status_block_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">host_sb_addr</span><span class="p">;</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">rsrv1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">igu_seg_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">igu_sb_id</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">igu_sb_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">igu_seg_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsrv1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="k">struct</span> <span class="n">pci_entity</span> <span class="n">p_func</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The fast-path status block meta-data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_status_block_data_e1x</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hc_index_data</span> <span class="n">index_data</span><span class="p">[</span><span class="n">HC_SB_MAX_INDICES_E1X</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">hc_sb_data</span> <span class="n">common</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The fast-path status block meta-data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">hc_status_block_data_e2</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hc_index_data</span> <span class="n">index_data</span><span class="p">[</span><span class="n">HC_SB_MAX_INDICES_E2</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">hc_sb_data</span> <span class="n">common</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * IGU block operartion modes (in Everest2)</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">igu_mode</span> <span class="p">{</span>
	<span class="n">HC_IGU_BC_MODE</span><span class="p">,</span>
	<span class="n">HC_IGU_NBC_MODE</span><span class="p">,</span>
	<span class="n">MAX_IGU_MODE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * IP versions</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">ip_ver</span> <span class="p">{</span>
	<span class="n">IP_V4</span><span class="p">,</span>
	<span class="n">IP_V6</span><span class="p">,</span>
	<span class="n">MAX_IP_VER</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Multi-function modes</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">mf_mode</span> <span class="p">{</span>
	<span class="n">SINGLE_FUNCTION</span><span class="p">,</span>
	<span class="n">MULTI_FUNCTION_SD</span><span class="p">,</span>
	<span class="n">MULTI_FUNCTION_SI</span><span class="p">,</span>
	<span class="n">MULTI_FUNCTION_AFEX</span><span class="p">,</span>
	<span class="n">MAX_MF_MODE</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Protocol-common statistics collected by the Tstorm (per pf)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_per_pf_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">rcv_error_bytes</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">per_pf_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tstorm_per_pf_stats</span> <span class="n">tstorm_pf_statistics</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Protocol-common statistics collected by the Tstorm (per port)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_per_port_stats</span> <span class="p">{</span>
	<span class="n">__le32</span> <span class="n">mac_discard</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">mac_filter_discard</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">brb_truncate_discard</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">mf_tag_discard</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">packet_drop</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">per_port_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tstorm_per_port_stats</span> <span class="n">tstorm_port_statistics</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Protocol-common statistics collected by the Tstorm (per client)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_per_queue_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">rcv_ucast_bytes</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">rcv_ucast_pkts</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">checksum_discard</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">rcv_bcast_bytes</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">rcv_bcast_pkts</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">pkts_too_big_discard</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">rcv_mcast_bytes</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">rcv_mcast_pkts</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">ttl0_discard</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">no_buff_discard</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Protocol-common statistics collected by the Ustorm (per client)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ustorm_per_queue_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">ucast_no_buff_bytes</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">mcast_no_buff_bytes</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">bcast_no_buff_bytes</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">ucast_no_buff_pkts</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">mcast_no_buff_pkts</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">bcast_no_buff_pkts</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">coalesced_pkts</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">coalesced_bytes</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">coalesced_events</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">coalesced_aborts</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Protocol-common statistics collected by the Xstorm (per client)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xstorm_per_queue_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">ucast_bytes_sent</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">mcast_bytes_sent</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">bcast_bytes_sent</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">ucast_pkts_sent</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">mcast_pkts_sent</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">bcast_pkts_sent</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">error_drop_pkts</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">per_queue_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tstorm_per_queue_stats</span> <span class="n">tstorm_queue_statistics</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ustorm_per_queue_stats</span> <span class="n">ustorm_queue_statistics</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xstorm_per_queue_stats</span> <span class="n">xstorm_queue_statistics</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * FW version stored in first line of pram</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">pram_fw_version</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">major</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">minor</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">revision</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">engineering</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define PRAM_FW_VERSION_OPTIMIZED (0x1&lt;&lt;0)</span>
<span class="cp">#define PRAM_FW_VERSION_OPTIMIZED_SHIFT 0</span>
<span class="cp">#define PRAM_FW_VERSION_STORM_ID (0x3&lt;&lt;1)</span>
<span class="cp">#define PRAM_FW_VERSION_STORM_ID_SHIFT 1</span>
<span class="cp">#define PRAM_FW_VERSION_BIG_ENDIEN (0x1&lt;&lt;3)</span>
<span class="cp">#define PRAM_FW_VERSION_BIG_ENDIEN_SHIFT 3</span>
<span class="cp">#define PRAM_FW_VERSION_CHIP_VERSION (0x3&lt;&lt;4)</span>
<span class="cp">#define PRAM_FW_VERSION_CHIP_VERSION_SHIFT 4</span>
<span class="cp">#define __PRAM_FW_VERSION_RESERVED0 (0x3&lt;&lt;6)</span>
<span class="cp">#define __PRAM_FW_VERSION_RESERVED0_SHIFT 6</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Ethernet slow path element</span>
<span class="cm"> */</span>
<span class="k">union</span> <span class="n">protocol_common_specific_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">protocol_data</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">phy_address</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">mac_config_addr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">afex_vif_list_ramrod_data</span> <span class="n">afex_vif_list_data</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * The send queue element</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">protocol_common_spe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">spe_hdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">protocol_common_specific_data</span> <span class="n">data</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * The send queue element</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">slow_path_element</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">spe_hdr</span> <span class="n">hdr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">protocol_data</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Protocol-common statistics counter</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">stats_counter</span> <span class="p">{</span>
	<span class="n">__le16</span> <span class="n">xstats_counter</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">tstats_counter</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved3</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">ustats_counter</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved4</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved5</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">cstats_counter</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">reserved6</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved7</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">stats_query_entry</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">kind</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">index</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">funcID</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">address</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * statistic command</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">stats_query_cmd_group</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">stats_query_entry</span> <span class="n">query</span><span class="p">[</span><span class="n">STATS_QUERY_CMD_COUNT</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * statistic command header</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">stats_query_header</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">cmd_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">drv_stats_counter</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">stats_counters_addrs</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Types of statistcis query entry</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">stats_query_type</span> <span class="p">{</span>
	<span class="n">STATS_TYPE_QUEUE</span><span class="p">,</span>
	<span class="n">STATS_TYPE_PORT</span><span class="p">,</span>
	<span class="n">STATS_TYPE_PF</span><span class="p">,</span>
	<span class="n">STATS_TYPE_TOE</span><span class="p">,</span>
	<span class="n">STATS_TYPE_FCOE</span><span class="p">,</span>
	<span class="n">MAX_STATS_QUERY_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Indicate of the function status block state</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">status_block_state</span> <span class="p">{</span>
	<span class="n">SB_DISABLED</span><span class="p">,</span>
	<span class="n">SB_ENABLED</span><span class="p">,</span>
	<span class="n">SB_CLEANED</span><span class="p">,</span>
	<span class="n">MAX_STATUS_BLOCK_STATE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Storm IDs (including attentions for IGU related enums)</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">storm_id</span> <span class="p">{</span>
	<span class="n">USTORM_ID</span><span class="p">,</span>
	<span class="n">CSTORM_ID</span><span class="p">,</span>
	<span class="n">XSTORM_ID</span><span class="p">,</span>
	<span class="n">TSTORM_ID</span><span class="p">,</span>
	<span class="n">ATTENTION_ID</span><span class="p">,</span>
	<span class="n">MAX_STORM_ID</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * Taffic types used in ETS and flow control algorithms</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">traffic_type</span> <span class="p">{</span>
	<span class="n">LLFC_TRAFFIC_TYPE_NW</span><span class="p">,</span>
	<span class="n">LLFC_TRAFFIC_TYPE_FCOE</span><span class="p">,</span>
	<span class="n">LLFC_TRAFFIC_TYPE_ISCSI</span><span class="p">,</span>
	<span class="n">MAX_TRAFFIC_TYPE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * zone A per-queue data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_queue_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * zone B per-VF data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">tstorm_vf_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * zone A per-queue data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ustorm_queue_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ustorm_eth_rx_producers</span> <span class="n">eth_rx_producers</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * zone B per-VF data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ustorm_vf_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * data per VF-PF channel</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">vf_pf_channel_data</span> <span class="p">{</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">valid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">state</span><span class="p">;</span>
<span class="cp">#elif defined(__LITTLE_ENDIAN)</span>
	<span class="n">u8</span> <span class="n">state</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">valid</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">reserved0</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * State of VF-PF channel</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">vf_pf_channel_state</span> <span class="p">{</span>
	<span class="n">VF_PF_CHANNEL_STATE_READY</span><span class="p">,</span>
	<span class="n">VF_PF_CHANNEL_STATE_WAITING_FOR_ACK</span><span class="p">,</span>
	<span class="n">MAX_VF_PF_CHANNEL_STATE</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * vif_list_rule_kind</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">vif_list_rule_kind</span> <span class="p">{</span>
	<span class="n">VIF_LIST_RULE_SET</span><span class="p">,</span>
	<span class="n">VIF_LIST_RULE_GET</span><span class="p">,</span>
	<span class="n">VIF_LIST_RULE_CLEAR_ALL</span><span class="p">,</span>
	<span class="n">VIF_LIST_RULE_CLEAR_FUNC</span><span class="p">,</span>
	<span class="n">MAX_VIF_LIST_RULE_KIND</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * zone A per-queue data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xstorm_queue_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * zone B per-VF data</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">xstorm_vf_zone_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">regpair</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* BNX2X_HSI_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
