<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › neterion › s2io-regs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>s2io-regs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/************************************************************************</span>
<span class="cm"> * regs.h: A Linux PCI-X Ethernet driver for Neterion 10GbE Server NIC</span>
<span class="cm"> * Copyright(c) 2002-2010 Exar Corp.</span>

<span class="cm"> * This software may be used and distributed according to the terms of</span>
<span class="cm"> * the GNU General Public License (GPL), incorporated herein by reference.</span>
<span class="cm"> * Drivers based on or derived from this code fall under the GPL and must</span>
<span class="cm"> * retain the authorship, copyright and license notice.  This file is not</span>
<span class="cm"> * a complete program and may only be used when the entire operating</span>
<span class="cm"> * system is licensed under the GPL.</span>
<span class="cm"> * See the file COPYING in this distribution for more information.</span>
<span class="cm"> ************************************************************************/</span>
<span class="cp">#ifndef _REGS_H</span>
<span class="cp">#define _REGS_H</span>

<span class="cp">#define TBD 0</span>

<span class="k">struct</span> <span class="n">XENA_dev_config</span> <span class="p">{</span>
<span class="cm">/* Convention: mHAL_XXX is mask, vHAL_XXX is value */</span>

<span class="cm">/* General Control-Status Registers */</span>
	<span class="n">u64</span> <span class="n">general_int_status</span><span class="p">;</span>
<span class="cp">#define GEN_INTR_TXPIC             s2BIT(0)</span>
<span class="cp">#define GEN_INTR_TXDMA             s2BIT(1)</span>
<span class="cp">#define GEN_INTR_TXMAC             s2BIT(2)</span>
<span class="cp">#define GEN_INTR_TXXGXS            s2BIT(3)</span>
<span class="cp">#define GEN_INTR_TXTRAFFIC         s2BIT(8)</span>
<span class="cp">#define GEN_INTR_RXPIC             s2BIT(32)</span>
<span class="cp">#define GEN_INTR_RXDMA             s2BIT(33)</span>
<span class="cp">#define GEN_INTR_RXMAC             s2BIT(34)</span>
<span class="cp">#define GEN_INTR_MC                s2BIT(35)</span>
<span class="cp">#define GEN_INTR_RXXGXS            s2BIT(36)</span>
<span class="cp">#define GEN_INTR_RXTRAFFIC         s2BIT(40)</span>
<span class="cp">#define GEN_ERROR_INTR             GEN_INTR_TXPIC | GEN_INTR_RXPIC | \</span>
<span class="cp">                                   GEN_INTR_TXDMA | GEN_INTR_RXDMA | \</span>
<span class="cp">                                   GEN_INTR_TXMAC | GEN_INTR_RXMAC | \</span>
<span class="cp">                                   GEN_INTR_TXXGXS| GEN_INTR_RXXGXS| \</span>
<span class="cp">                                   GEN_INTR_MC</span>

	<span class="n">u64</span> <span class="n">general_int_mask</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused0</span><span class="p">[</span><span class="mh">0x100</span> <span class="o">-</span> <span class="mh">0x10</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">sw_reset</span><span class="p">;</span>
<span class="cm">/* XGXS must be removed from reset only once. */</span>
<span class="cp">#define SW_RESET_XENA              vBIT(0xA5,0,8)</span>
<span class="cp">#define SW_RESET_FLASH             vBIT(0xA5,8,8)</span>
<span class="cp">#define SW_RESET_EOI               vBIT(0xA5,16,8)</span>
<span class="cp">#define SW_RESET_ALL               (SW_RESET_XENA     |   \</span>
<span class="cp">                                    SW_RESET_FLASH    |   \</span>
<span class="cp">                                    SW_RESET_EOI)</span>
<span class="cm">/* The SW_RESET register must read this value after a successful reset. */</span>
<span class="cp">#define	SW_RESET_RAW_VAL			0xA5000000</span>


	<span class="n">u64</span> <span class="n">adapter_status</span><span class="p">;</span>
<span class="cp">#define ADAPTER_STATUS_TDMA_READY          s2BIT(0)</span>
<span class="cp">#define ADAPTER_STATUS_RDMA_READY          s2BIT(1)</span>
<span class="cp">#define ADAPTER_STATUS_PFC_READY           s2BIT(2)</span>
<span class="cp">#define ADAPTER_STATUS_TMAC_BUF_EMPTY      s2BIT(3)</span>
<span class="cp">#define ADAPTER_STATUS_PIC_QUIESCENT       s2BIT(5)</span>
<span class="cp">#define ADAPTER_STATUS_RMAC_REMOTE_FAULT   s2BIT(6)</span>
<span class="cp">#define ADAPTER_STATUS_RMAC_LOCAL_FAULT    s2BIT(7)</span>
<span class="cp">#define ADAPTER_STATUS_RMAC_PCC_IDLE       vBIT(0xFF,8,8)</span>
<span class="cp">#define ADAPTER_STATUS_RMAC_PCC_FOUR_IDLE  vBIT(0x0F,8,8)</span>
<span class="cp">#define ADAPTER_STATUS_RC_PRC_QUIESCENT    vBIT(0xFF,16,8)</span>
<span class="cp">#define ADAPTER_STATUS_MC_DRAM_READY       s2BIT(24)</span>
<span class="cp">#define ADAPTER_STATUS_MC_QUEUES_READY     s2BIT(25)</span>
<span class="cp">#define ADAPTER_STATUS_RIC_RUNNING         s2BIT(26)</span>
<span class="cp">#define ADAPTER_STATUS_M_PLL_LOCK          s2BIT(30)</span>
<span class="cp">#define ADAPTER_STATUS_P_PLL_LOCK          s2BIT(31)</span>

	<span class="n">u64</span> <span class="n">adapter_control</span><span class="p">;</span>
<span class="cp">#define ADAPTER_CNTL_EN                    s2BIT(7)</span>
<span class="cp">#define ADAPTER_EOI_TX_ON                  s2BIT(15)</span>
<span class="cp">#define ADAPTER_LED_ON                     s2BIT(23)</span>
<span class="cp">#define ADAPTER_UDPI(val)                  vBIT(val,36,4)</span>
<span class="cp">#define ADAPTER_WAIT_INT                   s2BIT(48)</span>
<span class="cp">#define ADAPTER_ECC_EN                     s2BIT(55)</span>

	<span class="n">u64</span> <span class="n">serr_source</span><span class="p">;</span>
<span class="cp">#define SERR_SOURCE_PIC			s2BIT(0)</span>
<span class="cp">#define SERR_SOURCE_TXDMA		s2BIT(1)</span>
<span class="cp">#define SERR_SOURCE_RXDMA		s2BIT(2)</span>
<span class="cp">#define SERR_SOURCE_MAC                 s2BIT(3)</span>
<span class="cp">#define SERR_SOURCE_MC                  s2BIT(4)</span>
<span class="cp">#define SERR_SOURCE_XGXS                s2BIT(5)</span>
<span class="cp">#define	SERR_SOURCE_ANY			(SERR_SOURCE_PIC	| \</span>
<span class="cp">					SERR_SOURCE_TXDMA	| \</span>
<span class="cp">					SERR_SOURCE_RXDMA	| \</span>
<span class="cp">					SERR_SOURCE_MAC		| \</span>
<span class="cp">					SERR_SOURCE_MC		| \</span>
<span class="cp">					SERR_SOURCE_XGXS)</span>

	<span class="n">u64</span> <span class="n">pci_mode</span><span class="p">;</span>
<span class="cp">#define	GET_PCI_MODE(val)		((val &amp; vBIT(0xF, 0, 4)) &gt;&gt; 60)</span>
<span class="cp">#define	PCI_MODE_PCI_33			0</span>
<span class="cp">#define	PCI_MODE_PCI_66			0x1</span>
<span class="cp">#define	PCI_MODE_PCIX_M1_66		0x2</span>
<span class="cp">#define	PCI_MODE_PCIX_M1_100		0x3</span>
<span class="cp">#define	PCI_MODE_PCIX_M1_133		0x4</span>
<span class="cp">#define	PCI_MODE_PCIX_M2_66		0x5</span>
<span class="cp">#define	PCI_MODE_PCIX_M2_100		0x6</span>
<span class="cp">#define	PCI_MODE_PCIX_M2_133		0x7</span>
<span class="cp">#define	PCI_MODE_UNSUPPORTED		s2BIT(0)</span>
<span class="cp">#define	PCI_MODE_32_BITS		s2BIT(8)</span>
<span class="cp">#define	PCI_MODE_UNKNOWN_MODE		s2BIT(9)</span>

	<span class="n">u8</span> <span class="n">unused_0</span><span class="p">[</span><span class="mh">0x800</span> <span class="o">-</span> <span class="mh">0x128</span><span class="p">];</span>

<span class="cm">/* PCI-X Controller registers */</span>
	<span class="n">u64</span> <span class="n">pic_int_status</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">pic_int_mask</span><span class="p">;</span>
<span class="cp">#define PIC_INT_TX                     s2BIT(0)</span>
<span class="cp">#define PIC_INT_FLSH                   s2BIT(1)</span>
<span class="cp">#define PIC_INT_MDIO                   s2BIT(2)</span>
<span class="cp">#define PIC_INT_IIC                    s2BIT(3)</span>
<span class="cp">#define PIC_INT_GPIO                   s2BIT(4)</span>
<span class="cp">#define PIC_INT_RX                     s2BIT(32)</span>

	<span class="n">u64</span> <span class="n">txpic_int_reg</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txpic_int_mask</span><span class="p">;</span>
<span class="cp">#define PCIX_INT_REG_ECC_SG_ERR                s2BIT(0)</span>
<span class="cp">#define PCIX_INT_REG_ECC_DB_ERR                s2BIT(1)</span>
<span class="cp">#define PCIX_INT_REG_FLASHR_R_FSM_ERR          s2BIT(8)</span>
<span class="cp">#define PCIX_INT_REG_FLASHR_W_FSM_ERR          s2BIT(9)</span>
<span class="cp">#define PCIX_INT_REG_INI_TX_FSM_SERR           s2BIT(10)</span>
<span class="cp">#define PCIX_INT_REG_INI_TXO_FSM_ERR           s2BIT(11)</span>
<span class="cp">#define PCIX_INT_REG_TRT_FSM_SERR              s2BIT(13)</span>
<span class="cp">#define PCIX_INT_REG_SRT_FSM_SERR              s2BIT(14)</span>
<span class="cp">#define PCIX_INT_REG_PIFR_FSM_SERR             s2BIT(15)</span>
<span class="cp">#define PCIX_INT_REG_WRC_TX_SEND_FSM_SERR      s2BIT(21)</span>
<span class="cp">#define PCIX_INT_REG_RRC_TX_REQ_FSM_SERR       s2BIT(23)</span>
<span class="cp">#define PCIX_INT_REG_INI_RX_FSM_SERR           s2BIT(48)</span>
<span class="cp">#define PCIX_INT_REG_RA_RX_FSM_SERR            s2BIT(50)</span>
<span class="cm">/*</span>
<span class="cm">#define PCIX_INT_REG_WRC_RX_SEND_FSM_SERR      s2BIT(52)</span>
<span class="cm">#define PCIX_INT_REG_RRC_RX_REQ_FSM_SERR       s2BIT(54)</span>
<span class="cm">#define PCIX_INT_REG_RRC_RX_SPLIT_FSM_SERR     s2BIT(58)</span>
<span class="cm">*/</span>
	<span class="n">u64</span> <span class="n">txpic_alarms</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxpic_int_reg</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxpic_int_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxpic_alarms</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">flsh_int_reg</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">flsh_int_mask</span><span class="p">;</span>
<span class="cp">#define PIC_FLSH_INT_REG_CYCLE_FSM_ERR         s2BIT(63)</span>
<span class="cp">#define PIC_FLSH_INT_REG_ERR                   s2BIT(62)</span>
	<span class="n">u64</span> <span class="n">flash_alarms</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">mdio_int_reg</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mdio_int_mask</span><span class="p">;</span>
<span class="cp">#define MDIO_INT_REG_MDIO_BUS_ERR              s2BIT(0)</span>
<span class="cp">#define MDIO_INT_REG_DTX_BUS_ERR               s2BIT(8)</span>
<span class="cp">#define MDIO_INT_REG_LASI                      s2BIT(39)</span>
	<span class="n">u64</span> <span class="n">mdio_alarms</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">iic_int_reg</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">iic_int_mask</span><span class="p">;</span>
<span class="cp">#define IIC_INT_REG_BUS_FSM_ERR                s2BIT(4)</span>
<span class="cp">#define IIC_INT_REG_BIT_FSM_ERR                s2BIT(5)</span>
<span class="cp">#define IIC_INT_REG_CYCLE_FSM_ERR              s2BIT(6)</span>
<span class="cp">#define IIC_INT_REG_REQ_FSM_ERR                s2BIT(7)</span>
<span class="cp">#define IIC_INT_REG_ACK_ERR                    s2BIT(8)</span>
	<span class="n">u64</span> <span class="n">iic_alarms</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused4</span><span class="p">[</span><span class="mh">0x08</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">gpio_int_reg</span><span class="p">;</span>
<span class="cp">#define GPIO_INT_REG_DP_ERR_INT                s2BIT(0)</span>
<span class="cp">#define GPIO_INT_REG_LINK_DOWN                 s2BIT(1)</span>
<span class="cp">#define GPIO_INT_REG_LINK_UP                   s2BIT(2)</span>
	<span class="n">u64</span> <span class="n">gpio_int_mask</span><span class="p">;</span>
<span class="cp">#define GPIO_INT_MASK_LINK_DOWN                s2BIT(1)</span>
<span class="cp">#define GPIO_INT_MASK_LINK_UP                  s2BIT(2)</span>
	<span class="n">u64</span> <span class="n">gpio_alarms</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused5</span><span class="p">[</span><span class="mh">0x38</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">tx_traffic_int</span><span class="p">;</span>
<span class="cp">#define TX_TRAFFIC_INT_n(n)                    s2BIT(n)</span>
	<span class="n">u64</span> <span class="n">tx_traffic_mask</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rx_traffic_int</span><span class="p">;</span>
<span class="cp">#define RX_TRAFFIC_INT_n(n)                    s2BIT(n)</span>
	<span class="n">u64</span> <span class="n">rx_traffic_mask</span><span class="p">;</span>

<span class="cm">/* PIC Control registers */</span>
	<span class="n">u64</span> <span class="n">pic_control</span><span class="p">;</span>
<span class="cp">#define PIC_CNTL_RX_ALARM_MAP_1                s2BIT(0)</span>
<span class="cp">#define PIC_CNTL_SHARED_SPLITS(n)              vBIT(n,11,5)</span>

	<span class="n">u64</span> <span class="n">swapper_ctrl</span><span class="p">;</span>
<span class="cp">#define SWAPPER_CTRL_PIF_R_FE                  s2BIT(0)</span>
<span class="cp">#define SWAPPER_CTRL_PIF_R_SE                  s2BIT(1)</span>
<span class="cp">#define SWAPPER_CTRL_PIF_W_FE                  s2BIT(8)</span>
<span class="cp">#define SWAPPER_CTRL_PIF_W_SE                  s2BIT(9)</span>
<span class="cp">#define SWAPPER_CTRL_TXP_FE                    s2BIT(16)</span>
<span class="cp">#define SWAPPER_CTRL_TXP_SE                    s2BIT(17)</span>
<span class="cp">#define SWAPPER_CTRL_TXD_R_FE                  s2BIT(18)</span>
<span class="cp">#define SWAPPER_CTRL_TXD_R_SE                  s2BIT(19)</span>
<span class="cp">#define SWAPPER_CTRL_TXD_W_FE                  s2BIT(20)</span>
<span class="cp">#define SWAPPER_CTRL_TXD_W_SE                  s2BIT(21)</span>
<span class="cp">#define SWAPPER_CTRL_TXF_R_FE                  s2BIT(22)</span>
<span class="cp">#define SWAPPER_CTRL_TXF_R_SE                  s2BIT(23)</span>
<span class="cp">#define SWAPPER_CTRL_RXD_R_FE                  s2BIT(32)</span>
<span class="cp">#define SWAPPER_CTRL_RXD_R_SE                  s2BIT(33)</span>
<span class="cp">#define SWAPPER_CTRL_RXD_W_FE                  s2BIT(34)</span>
<span class="cp">#define SWAPPER_CTRL_RXD_W_SE                  s2BIT(35)</span>
<span class="cp">#define SWAPPER_CTRL_RXF_W_FE                  s2BIT(36)</span>
<span class="cp">#define SWAPPER_CTRL_RXF_W_SE                  s2BIT(37)</span>
<span class="cp">#define SWAPPER_CTRL_XMSI_FE                   s2BIT(40)</span>
<span class="cp">#define SWAPPER_CTRL_XMSI_SE                   s2BIT(41)</span>
<span class="cp">#define SWAPPER_CTRL_STATS_FE                  s2BIT(48)</span>
<span class="cp">#define SWAPPER_CTRL_STATS_SE                  s2BIT(49)</span>

	<span class="n">u64</span> <span class="n">pif_rd_swapper_fb</span><span class="p">;</span>
<span class="cp">#define IF_RD_SWAPPER_FB                            0x0123456789ABCDEF</span>

	<span class="n">u64</span> <span class="n">scheduled_int_ctrl</span><span class="p">;</span>
<span class="cp">#define SCHED_INT_CTRL_TIMER_EN                s2BIT(0)</span>
<span class="cp">#define SCHED_INT_CTRL_ONE_SHOT                s2BIT(1)</span>
<span class="cp">#define SCHED_INT_CTRL_INT2MSI(val)		vBIT(val,10,6)</span>
<span class="cp">#define SCHED_INT_PERIOD                       TBD</span>

	<span class="n">u64</span> <span class="n">txreqtimeout</span><span class="p">;</span>
<span class="cp">#define TXREQTO_VAL(val)						vBIT(val,0,32)</span>
<span class="cp">#define TXREQTO_EN								s2BIT(63)</span>

	<span class="n">u64</span> <span class="n">statsreqtimeout</span><span class="p">;</span>
<span class="cp">#define STATREQTO_VAL(n)                       TBD</span>
<span class="cp">#define STATREQTO_EN                           s2BIT(63)</span>

	<span class="n">u64</span> <span class="n">read_retry_delay</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">read_retry_acceleration</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">write_retry_delay</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">write_retry_acceleration</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">xmsi_control</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xmsi_access</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xmsi_address</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xmsi_data</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rx_mat</span><span class="p">;</span>
<span class="cp">#define RX_MAT_SET(ring, msi)			vBIT(msi, (8 * ring), 8)</span>

	<span class="n">u8</span> <span class="n">unused6</span><span class="p">[</span><span class="mh">0x8</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">tx_mat0_n</span><span class="p">[</span><span class="mh">0x8</span><span class="p">];</span>
<span class="cp">#define TX_MAT_SET(fifo, msi)			vBIT(msi, (8 * fifo), 8)</span>

	<span class="n">u64</span> <span class="n">xmsi_mask_reg</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">stat_byte_cnt</span><span class="p">;</span>
<span class="cp">#define STAT_BC(n)                              vBIT(n,4,12)</span>

	<span class="cm">/* Automated statistics collection */</span>
	<span class="n">u64</span> <span class="n">stat_cfg</span><span class="p">;</span>
<span class="cp">#define STAT_CFG_STAT_EN           s2BIT(0)</span>
<span class="cp">#define STAT_CFG_ONE_SHOT_EN       s2BIT(1)</span>
<span class="cp">#define STAT_CFG_STAT_NS_EN        s2BIT(8)</span>
<span class="cp">#define STAT_CFG_STAT_RO           s2BIT(9)</span>
<span class="cp">#define STAT_TRSF_PER(n)           TBD</span>
<span class="cp">#define	PER_SEC					   0x208d5</span>
<span class="cp">#define	SET_UPDT_PERIOD(n)		   vBIT((PER_SEC*n),32,32)</span>
<span class="cp">#define	SET_UPDT_CLICKS(val)		   vBIT(val, 32, 32)</span>

	<span class="n">u64</span> <span class="n">stat_addr</span><span class="p">;</span>

	<span class="cm">/* General Configuration */</span>
	<span class="n">u64</span> <span class="n">mdio_control</span><span class="p">;</span>
<span class="cp">#define MDIO_MMD_INDX_ADDR(val)		vBIT(val, 0, 16)</span>
<span class="cp">#define MDIO_MMD_DEV_ADDR(val)		vBIT(val, 19, 5)</span>
<span class="cp">#define MDIO_MMS_PRT_ADDR(val)		vBIT(val, 27, 5)</span>
<span class="cp">#define MDIO_CTRL_START_TRANS(val)	vBIT(val, 56, 4)</span>
<span class="cp">#define MDIO_OP(val)			vBIT(val, 60, 2)</span>
<span class="cp">#define MDIO_OP_ADDR_TRANS		0x0</span>
<span class="cp">#define MDIO_OP_WRITE_TRANS		0x1</span>
<span class="cp">#define MDIO_OP_READ_POST_INC_TRANS	0x2</span>
<span class="cp">#define MDIO_OP_READ_TRANS		0x3</span>
<span class="cp">#define MDIO_MDIO_DATA(val)		vBIT(val, 32, 16)</span>

	<span class="n">u64</span> <span class="n">dtx_control</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">i2c_control</span><span class="p">;</span>
<span class="cp">#define	I2C_CONTROL_DEV_ID(id)		vBIT(id,1,3)</span>
<span class="cp">#define	I2C_CONTROL_ADDR(addr)		vBIT(addr,5,11)</span>
<span class="cp">#define	I2C_CONTROL_BYTE_CNT(cnt)	vBIT(cnt,22,2)</span>
<span class="cp">#define	I2C_CONTROL_READ			s2BIT(24)</span>
<span class="cp">#define	I2C_CONTROL_NACK			s2BIT(25)</span>
<span class="cp">#define	I2C_CONTROL_CNTL_START		vBIT(0xE,28,4)</span>
<span class="cp">#define	I2C_CONTROL_CNTL_END(val)	(val &amp; vBIT(0x1,28,4))</span>
<span class="cp">#define	I2C_CONTROL_GET_DATA(val)	(u32)(val &amp; 0xFFFFFFFF)</span>
<span class="cp">#define	I2C_CONTROL_SET_DATA(val)	vBIT(val,32,32)</span>

	<span class="n">u64</span> <span class="n">gpio_control</span><span class="p">;</span>
<span class="cp">#define GPIO_CTRL_GPIO_0		s2BIT(8)</span>
	<span class="n">u64</span> <span class="n">misc_control</span><span class="p">;</span>
<span class="cp">#define FAULT_BEHAVIOUR			s2BIT(0)</span>
<span class="cp">#define EXT_REQ_EN			s2BIT(1)</span>
<span class="cp">#define MISC_LINK_STABILITY_PRD(val)   vBIT(val,29,3)</span>

	<span class="n">u8</span> <span class="n">unused7_1</span><span class="p">[</span><span class="mh">0x230</span> <span class="o">-</span> <span class="mh">0x208</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">pic_control2</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">ini_dperr_ctrl</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">wreq_split_mask</span><span class="p">;</span>
<span class="cp">#define	WREQ_SPLIT_MASK_SET_MASK(val)	vBIT(val, 52, 12)</span>

	<span class="n">u8</span> <span class="n">unused7_2</span><span class="p">[</span><span class="mh">0x800</span> <span class="o">-</span> <span class="mh">0x248</span><span class="p">];</span>

<span class="cm">/* TxDMA registers */</span>
	<span class="n">u64</span> <span class="n">txdma_int_status</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txdma_int_mask</span><span class="p">;</span>
<span class="cp">#define TXDMA_PFC_INT                  s2BIT(0)</span>
<span class="cp">#define TXDMA_TDA_INT                  s2BIT(1)</span>
<span class="cp">#define TXDMA_PCC_INT                  s2BIT(2)</span>
<span class="cp">#define TXDMA_TTI_INT                  s2BIT(3)</span>
<span class="cp">#define TXDMA_LSO_INT                  s2BIT(4)</span>
<span class="cp">#define TXDMA_TPA_INT                  s2BIT(5)</span>
<span class="cp">#define TXDMA_SM_INT                   s2BIT(6)</span>
	<span class="n">u64</span> <span class="n">pfc_err_reg</span><span class="p">;</span>
<span class="cp">#define PFC_ECC_SG_ERR			s2BIT(7)</span>
<span class="cp">#define PFC_ECC_DB_ERR			s2BIT(15)</span>
<span class="cp">#define PFC_SM_ERR_ALARM		s2BIT(23)</span>
<span class="cp">#define PFC_MISC_0_ERR			s2BIT(31)</span>
<span class="cp">#define PFC_MISC_1_ERR			s2BIT(32)</span>
<span class="cp">#define PFC_PCIX_ERR			s2BIT(39)</span>
	<span class="n">u64</span> <span class="n">pfc_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">pfc_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">tda_err_reg</span><span class="p">;</span>
<span class="cp">#define TDA_Fn_ECC_SG_ERR		vBIT(0xff,0,8)</span>
<span class="cp">#define TDA_Fn_ECC_DB_ERR		vBIT(0xff,8,8)</span>
<span class="cp">#define TDA_SM0_ERR_ALARM		s2BIT(22)</span>
<span class="cp">#define TDA_SM1_ERR_ALARM		s2BIT(23)</span>
<span class="cp">#define TDA_PCIX_ERR			s2BIT(39)</span>
	<span class="n">u64</span> <span class="n">tda_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tda_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">pcc_err_reg</span><span class="p">;</span>
<span class="cp">#define PCC_FB_ECC_SG_ERR		vBIT(0xFF,0,8)</span>
<span class="cp">#define PCC_TXB_ECC_SG_ERR		vBIT(0xFF,8,8)</span>
<span class="cp">#define PCC_FB_ECC_DB_ERR		vBIT(0xFF,16, 8)</span>
<span class="cp">#define PCC_TXB_ECC_DB_ERR		vBIT(0xff,24,8)</span>
<span class="cp">#define PCC_SM_ERR_ALARM		vBIT(0xff,32,8)</span>
<span class="cp">#define PCC_WR_ERR_ALARM		vBIT(0xff,40,8)</span>
<span class="cp">#define PCC_N_SERR			vBIT(0xff,48,8)</span>
<span class="cp">#define PCC_6_COF_OV_ERR		s2BIT(56)</span>
<span class="cp">#define PCC_7_COF_OV_ERR		s2BIT(57)</span>
<span class="cp">#define PCC_6_LSO_OV_ERR		s2BIT(58)</span>
<span class="cp">#define PCC_7_LSO_OV_ERR		s2BIT(59)</span>
<span class="cp">#define PCC_ENABLE_FOUR			vBIT(0x0F,0,8)</span>
	<span class="n">u64</span> <span class="n">pcc_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">pcc_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">tti_err_reg</span><span class="p">;</span>
<span class="cp">#define TTI_ECC_SG_ERR			s2BIT(7)</span>
<span class="cp">#define TTI_ECC_DB_ERR			s2BIT(15)</span>
<span class="cp">#define TTI_SM_ERR_ALARM		s2BIT(23)</span>
	<span class="n">u64</span> <span class="n">tti_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tti_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">lso_err_reg</span><span class="p">;</span>
<span class="cp">#define LSO6_SEND_OFLOW			s2BIT(12)</span>
<span class="cp">#define LSO7_SEND_OFLOW			s2BIT(13)</span>
<span class="cp">#define LSO6_ABORT			s2BIT(14)</span>
<span class="cp">#define LSO7_ABORT			s2BIT(15)</span>
<span class="cp">#define LSO6_SM_ERR_ALARM		s2BIT(22)</span>
<span class="cp">#define LSO7_SM_ERR_ALARM		s2BIT(23)</span>
	<span class="n">u64</span> <span class="n">lso_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">lso_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">tpa_err_reg</span><span class="p">;</span>
<span class="cp">#define TPA_TX_FRM_DROP			s2BIT(7)</span>
<span class="cp">#define TPA_SM_ERR_ALARM		s2BIT(23)</span>

	<span class="n">u64</span> <span class="n">tpa_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tpa_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">sm_err_reg</span><span class="p">;</span>
<span class="cp">#define SM_SM_ERR_ALARM			s2BIT(15)</span>
	<span class="n">u64</span> <span class="n">sm_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">sm_err_alarm</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused8</span><span class="p">[</span><span class="mh">0x100</span> <span class="o">-</span> <span class="mh">0xB8</span><span class="p">];</span>

<span class="cm">/* TxDMA arbiter */</span>
	<span class="n">u64</span> <span class="n">tx_dma_wrap_stat</span><span class="p">;</span>

<span class="cm">/* Tx FIFO controller */</span>
<span class="cp">#define X_MAX_FIFOS                        8</span>
<span class="cp">#define X_FIFO_MAX_LEN                     0x1FFF	</span><span class="cm">/*8191 */</span><span class="cp"></span>
	<span class="n">u64</span> <span class="n">tx_fifo_partition_0</span><span class="p">;</span>
<span class="cp">#define TX_FIFO_PARTITION_EN               s2BIT(0)</span>
<span class="cp">#define TX_FIFO_PARTITION_0_PRI(val)       vBIT(val,5,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_0_LEN(val)       vBIT(val,19,13)</span>
<span class="cp">#define TX_FIFO_PARTITION_1_PRI(val)       vBIT(val,37,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_1_LEN(val)       vBIT(val,51,13  )</span>

	<span class="n">u64</span> <span class="n">tx_fifo_partition_1</span><span class="p">;</span>
<span class="cp">#define TX_FIFO_PARTITION_2_PRI(val)       vBIT(val,5,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_2_LEN(val)       vBIT(val,19,13)</span>
<span class="cp">#define TX_FIFO_PARTITION_3_PRI(val)       vBIT(val,37,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_3_LEN(val)       vBIT(val,51,13)</span>

	<span class="n">u64</span> <span class="n">tx_fifo_partition_2</span><span class="p">;</span>
<span class="cp">#define TX_FIFO_PARTITION_4_PRI(val)       vBIT(val,5,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_4_LEN(val)       vBIT(val,19,13)</span>
<span class="cp">#define TX_FIFO_PARTITION_5_PRI(val)       vBIT(val,37,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_5_LEN(val)       vBIT(val,51,13)</span>

	<span class="n">u64</span> <span class="n">tx_fifo_partition_3</span><span class="p">;</span>
<span class="cp">#define TX_FIFO_PARTITION_6_PRI(val)       vBIT(val,5,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_6_LEN(val)       vBIT(val,19,13)</span>
<span class="cp">#define TX_FIFO_PARTITION_7_PRI(val)       vBIT(val,37,3)</span>
<span class="cp">#define TX_FIFO_PARTITION_7_LEN(val)       vBIT(val,51,13)</span>

<span class="cp">#define TX_FIFO_PARTITION_PRI_0                 0	</span><span class="cm">/* highest */</span><span class="cp"></span>
<span class="cp">#define TX_FIFO_PARTITION_PRI_1                 1</span>
<span class="cp">#define TX_FIFO_PARTITION_PRI_2                 2</span>
<span class="cp">#define TX_FIFO_PARTITION_PRI_3                 3</span>
<span class="cp">#define TX_FIFO_PARTITION_PRI_4                 4</span>
<span class="cp">#define TX_FIFO_PARTITION_PRI_5                 5</span>
<span class="cp">#define TX_FIFO_PARTITION_PRI_6                 6</span>
<span class="cp">#define TX_FIFO_PARTITION_PRI_7                 7	</span><span class="cm">/* lowest */</span><span class="cp"></span>

	<span class="n">u64</span> <span class="n">tx_w_round_robin_0</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_w_round_robin_1</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_w_round_robin_2</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_w_round_robin_3</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_w_round_robin_4</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">tti_command_mem</span><span class="p">;</span>
<span class="cp">#define TTI_CMD_MEM_WE                     s2BIT(7)</span>
<span class="cp">#define TTI_CMD_MEM_STROBE_NEW_CMD         s2BIT(15)</span>
<span class="cp">#define TTI_CMD_MEM_STROBE_BEING_EXECUTED  s2BIT(15)</span>
<span class="cp">#define TTI_CMD_MEM_OFFSET(n)              vBIT(n,26,6)</span>

	<span class="n">u64</span> <span class="n">tti_data1_mem</span><span class="p">;</span>
<span class="cp">#define TTI_DATA1_MEM_TX_TIMER_VAL(n)      vBIT(n,6,26)</span>
<span class="cp">#define TTI_DATA1_MEM_TX_TIMER_AC_CI(n)    vBIT(n,38,2)</span>
<span class="cp">#define TTI_DATA1_MEM_TX_TIMER_AC_EN       s2BIT(38)</span>
<span class="cp">#define TTI_DATA1_MEM_TX_TIMER_CI_EN       s2BIT(39)</span>
<span class="cp">#define TTI_DATA1_MEM_TX_URNG_A(n)         vBIT(n,41,7)</span>
<span class="cp">#define TTI_DATA1_MEM_TX_URNG_B(n)         vBIT(n,49,7)</span>
<span class="cp">#define TTI_DATA1_MEM_TX_URNG_C(n)         vBIT(n,57,7)</span>

	<span class="n">u64</span> <span class="n">tti_data2_mem</span><span class="p">;</span>
<span class="cp">#define TTI_DATA2_MEM_TX_UFC_A(n)          vBIT(n,0,16)</span>
<span class="cp">#define TTI_DATA2_MEM_TX_UFC_B(n)          vBIT(n,16,16)</span>
<span class="cp">#define TTI_DATA2_MEM_TX_UFC_C(n)          vBIT(n,32,16)</span>
<span class="cp">#define TTI_DATA2_MEM_TX_UFC_D(n)          vBIT(n,48,16)</span>

<span class="cm">/* Tx Protocol assist */</span>
	<span class="n">u64</span> <span class="n">tx_pa_cfg</span><span class="p">;</span>
<span class="cp">#define TX_PA_CFG_IGNORE_FRM_ERR           s2BIT(1)</span>
<span class="cp">#define TX_PA_CFG_IGNORE_SNAP_OUI          s2BIT(2)</span>
<span class="cp">#define TX_PA_CFG_IGNORE_LLC_CTRL          s2BIT(3)</span>
<span class="cp">#define	TX_PA_CFG_IGNORE_L2_ERR			   s2BIT(6)</span>
<span class="cp">#define RX_PA_CFG_STRIP_VLAN_TAG		s2BIT(15)</span>

<span class="cm">/* Recent add, used only debug purposes. */</span>
	<span class="n">u64</span> <span class="n">pcc_enable</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused9</span><span class="p">[</span><span class="mh">0x700</span> <span class="o">-</span> <span class="mh">0x178</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">txdma_debug_ctrl</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused10</span><span class="p">[</span><span class="mh">0x1800</span> <span class="o">-</span> <span class="mh">0x1708</span><span class="p">];</span>

<span class="cm">/* RxDMA Registers */</span>
	<span class="n">u64</span> <span class="n">rxdma_int_status</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxdma_int_mask</span><span class="p">;</span>
<span class="cp">#define RXDMA_INT_RC_INT_M             s2BIT(0)</span>
<span class="cp">#define RXDMA_INT_RPA_INT_M            s2BIT(1)</span>
<span class="cp">#define RXDMA_INT_RDA_INT_M            s2BIT(2)</span>
<span class="cp">#define RXDMA_INT_RTI_INT_M            s2BIT(3)</span>

	<span class="n">u64</span> <span class="n">rda_err_reg</span><span class="p">;</span>
<span class="cp">#define RDA_RXDn_ECC_SG_ERR		vBIT(0xFF,0,8)</span>
<span class="cp">#define RDA_RXDn_ECC_DB_ERR		vBIT(0xFF,8,8)</span>
<span class="cp">#define RDA_FRM_ECC_SG_ERR		s2BIT(23)</span>
<span class="cp">#define RDA_FRM_ECC_DB_N_AERR		s2BIT(31)</span>
<span class="cp">#define RDA_SM1_ERR_ALARM		s2BIT(38)</span>
<span class="cp">#define RDA_SM0_ERR_ALARM		s2BIT(39)</span>
<span class="cp">#define RDA_MISC_ERR			s2BIT(47)</span>
<span class="cp">#define RDA_PCIX_ERR			s2BIT(55)</span>
<span class="cp">#define RDA_RXD_ECC_DB_SERR		s2BIT(63)</span>
	<span class="n">u64</span> <span class="n">rda_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rda_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rc_err_reg</span><span class="p">;</span>
<span class="cp">#define RC_PRCn_ECC_SG_ERR		vBIT(0xFF,0,8)</span>
<span class="cp">#define RC_PRCn_ECC_DB_ERR		vBIT(0xFF,8,8)</span>
<span class="cp">#define RC_FTC_ECC_SG_ERR		s2BIT(23)</span>
<span class="cp">#define RC_FTC_ECC_DB_ERR		s2BIT(31)</span>
<span class="cp">#define RC_PRCn_SM_ERR_ALARM		vBIT(0xFF,32,8)</span>
<span class="cp">#define RC_FTC_SM_ERR_ALARM		s2BIT(47)</span>
<span class="cp">#define RC_RDA_FAIL_WR_Rn		vBIT(0xFF,48,8)</span>
	<span class="n">u64</span> <span class="n">rc_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rc_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">prc_pcix_err_reg</span><span class="p">;</span>
<span class="cp">#define PRC_PCI_AB_RD_Rn		vBIT(0xFF,0,8)</span>
<span class="cp">#define PRC_PCI_DP_RD_Rn		vBIT(0xFF,8,8)</span>
<span class="cp">#define PRC_PCI_AB_WR_Rn		vBIT(0xFF,16,8)</span>
<span class="cp">#define PRC_PCI_DP_WR_Rn		vBIT(0xFF,24,8)</span>
<span class="cp">#define PRC_PCI_AB_F_WR_Rn		vBIT(0xFF,32,8)</span>
<span class="cp">#define PRC_PCI_DP_F_WR_Rn		vBIT(0xFF,40,8)</span>
	<span class="n">u64</span> <span class="n">prc_pcix_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">prc_pcix_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rpa_err_reg</span><span class="p">;</span>
<span class="cp">#define RPA_ECC_SG_ERR			s2BIT(7)</span>
<span class="cp">#define RPA_ECC_DB_ERR			s2BIT(15)</span>
<span class="cp">#define RPA_FLUSH_REQUEST		s2BIT(22)</span>
<span class="cp">#define RPA_SM_ERR_ALARM		s2BIT(23)</span>
<span class="cp">#define RPA_CREDIT_ERR			s2BIT(31)</span>
	<span class="n">u64</span> <span class="n">rpa_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rpa_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rti_err_reg</span><span class="p">;</span>
<span class="cp">#define RTI_ECC_SG_ERR			s2BIT(7)</span>
<span class="cp">#define RTI_ECC_DB_ERR			s2BIT(15)</span>
<span class="cp">#define RTI_SM_ERR_ALARM		s2BIT(23)</span>
	<span class="n">u64</span> <span class="n">rti_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rti_err_alarm</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused11</span><span class="p">[</span><span class="mh">0x100</span> <span class="o">-</span> <span class="mh">0x88</span><span class="p">];</span>

<span class="cm">/* DMA arbiter */</span>
	<span class="n">u64</span> <span class="n">rx_queue_priority</span><span class="p">;</span>
<span class="cp">#define RX_QUEUE_0_PRIORITY(val)       vBIT(val,5,3)</span>
<span class="cp">#define RX_QUEUE_1_PRIORITY(val)       vBIT(val,13,3)</span>
<span class="cp">#define RX_QUEUE_2_PRIORITY(val)       vBIT(val,21,3)</span>
<span class="cp">#define RX_QUEUE_3_PRIORITY(val)       vBIT(val,29,3)</span>
<span class="cp">#define RX_QUEUE_4_PRIORITY(val)       vBIT(val,37,3)</span>
<span class="cp">#define RX_QUEUE_5_PRIORITY(val)       vBIT(val,45,3)</span>
<span class="cp">#define RX_QUEUE_6_PRIORITY(val)       vBIT(val,53,3)</span>
<span class="cp">#define RX_QUEUE_7_PRIORITY(val)       vBIT(val,61,3)</span>

<span class="cp">#define RX_QUEUE_PRI_0                 0	</span><span class="cm">/* highest */</span><span class="cp"></span>
<span class="cp">#define RX_QUEUE_PRI_1                 1</span>
<span class="cp">#define RX_QUEUE_PRI_2                 2</span>
<span class="cp">#define RX_QUEUE_PRI_3                 3</span>
<span class="cp">#define RX_QUEUE_PRI_4                 4</span>
<span class="cp">#define RX_QUEUE_PRI_5                 5</span>
<span class="cp">#define RX_QUEUE_PRI_6                 6</span>
<span class="cp">#define RX_QUEUE_PRI_7                 7	</span><span class="cm">/* lowest */</span><span class="cp"></span>

	<span class="n">u64</span> <span class="n">rx_w_round_robin_0</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_w_round_robin_1</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_w_round_robin_2</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_w_round_robin_3</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_w_round_robin_4</span><span class="p">;</span>

	<span class="cm">/* Per-ring controller regs */</span>
<span class="cp">#define RX_MAX_RINGS                8</span>
<span class="cp">#if 0</span><span class="c"></span>
<span class="c">#define RX_MAX_RINGS_SZ             0xFFFF	/* 65536 */</span>
<span class="c">#define RX_MIN_RINGS_SZ             0x3F	/* 63 */</span>
<span class="cp">#endif</span>
	<span class="n">u64</span> <span class="n">prc_rxd0_n</span><span class="p">[</span><span class="n">RX_MAX_RINGS</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">prc_ctrl_n</span><span class="p">[</span><span class="n">RX_MAX_RINGS</span><span class="p">];</span>
<span class="cp">#define PRC_CTRL_RC_ENABLED                    s2BIT(7)</span>
<span class="cp">#define PRC_CTRL_RING_MODE                     (s2BIT(14)|s2BIT(15))</span>
<span class="cp">#define PRC_CTRL_RING_MODE_1                   vBIT(0,14,2)</span>
<span class="cp">#define PRC_CTRL_RING_MODE_3                   vBIT(1,14,2)</span>
<span class="cp">#define PRC_CTRL_RING_MODE_5                   vBIT(2,14,2)</span>
<span class="cp">#define PRC_CTRL_RING_MODE_x                   vBIT(3,14,2)</span>
<span class="cp">#define PRC_CTRL_NO_SNOOP                      (s2BIT(22)|s2BIT(23))</span>
<span class="cp">#define PRC_CTRL_NO_SNOOP_DESC                 s2BIT(22)</span>
<span class="cp">#define PRC_CTRL_NO_SNOOP_BUFF                 s2BIT(23)</span>
<span class="cp">#define PRC_CTRL_BIMODAL_INTERRUPT             s2BIT(37)</span>
<span class="cp">#define PRC_CTRL_GROUP_READS                   s2BIT(38)</span>
<span class="cp">#define PRC_CTRL_RXD_BACKOFF_INTERVAL(val)     vBIT(val,40,24)</span>

	<span class="n">u64</span> <span class="n">prc_alarm_action</span><span class="p">;</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R0_STOP            s2BIT(3)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R0_STOP            s2BIT(7)</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R1_STOP            s2BIT(11)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R1_STOP            s2BIT(15)</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R2_STOP            s2BIT(19)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R2_STOP            s2BIT(23)</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R3_STOP            s2BIT(27)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R3_STOP            s2BIT(31)</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R4_STOP            s2BIT(35)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R4_STOP            s2BIT(39)</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R5_STOP            s2BIT(43)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R5_STOP            s2BIT(47)</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R6_STOP            s2BIT(51)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R6_STOP            s2BIT(55)</span>
<span class="cp">#define PRC_ALARM_ACTION_RR_R7_STOP            s2BIT(59)</span>
<span class="cp">#define PRC_ALARM_ACTION_RW_R7_STOP            s2BIT(63)</span>

<span class="cm">/* Receive traffic interrupts */</span>
	<span class="n">u64</span> <span class="n">rti_command_mem</span><span class="p">;</span>
<span class="cp">#define RTI_CMD_MEM_WE                          s2BIT(7)</span>
<span class="cp">#define RTI_CMD_MEM_STROBE                      s2BIT(15)</span>
<span class="cp">#define RTI_CMD_MEM_STROBE_NEW_CMD              s2BIT(15)</span>
<span class="cp">#define RTI_CMD_MEM_STROBE_CMD_BEING_EXECUTED   s2BIT(15)</span>
<span class="cp">#define RTI_CMD_MEM_OFFSET(n)                   vBIT(n,29,3)</span>

	<span class="n">u64</span> <span class="n">rti_data1_mem</span><span class="p">;</span>
<span class="cp">#define RTI_DATA1_MEM_RX_TIMER_VAL(n)      vBIT(n,3,29)</span>
<span class="cp">#define RTI_DATA1_MEM_RX_TIMER_AC_EN       s2BIT(38)</span>
<span class="cp">#define RTI_DATA1_MEM_RX_TIMER_CI_EN       s2BIT(39)</span>
<span class="cp">#define RTI_DATA1_MEM_RX_URNG_A(n)         vBIT(n,41,7)</span>
<span class="cp">#define RTI_DATA1_MEM_RX_URNG_B(n)         vBIT(n,49,7)</span>
<span class="cp">#define RTI_DATA1_MEM_RX_URNG_C(n)         vBIT(n,57,7)</span>

	<span class="n">u64</span> <span class="n">rti_data2_mem</span><span class="p">;</span>
<span class="cp">#define RTI_DATA2_MEM_RX_UFC_A(n)          vBIT(n,0,16)</span>
<span class="cp">#define RTI_DATA2_MEM_RX_UFC_B(n)          vBIT(n,16,16)</span>
<span class="cp">#define RTI_DATA2_MEM_RX_UFC_C(n)          vBIT(n,32,16)</span>
<span class="cp">#define RTI_DATA2_MEM_RX_UFC_D(n)          vBIT(n,48,16)</span>

	<span class="n">u64</span> <span class="n">rx_pa_cfg</span><span class="p">;</span>
<span class="cp">#define RX_PA_CFG_IGNORE_FRM_ERR           s2BIT(1)</span>
<span class="cp">#define RX_PA_CFG_IGNORE_SNAP_OUI          s2BIT(2)</span>
<span class="cp">#define RX_PA_CFG_IGNORE_LLC_CTRL          s2BIT(3)</span>
<span class="cp">#define RX_PA_CFG_IGNORE_L2_ERR            s2BIT(6)</span>

	<span class="n">u64</span> <span class="n">unused_11_1</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">ring_bump_counter1</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">ring_bump_counter2</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused12</span><span class="p">[</span><span class="mh">0x700</span> <span class="o">-</span> <span class="mh">0x1F0</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">rxdma_debug_ctrl</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused13</span><span class="p">[</span><span class="mh">0x2000</span> <span class="o">-</span> <span class="mh">0x1f08</span><span class="p">];</span>

<span class="cm">/* Media Access Controller Register */</span>
	<span class="n">u64</span> <span class="n">mac_int_status</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mac_int_mask</span><span class="p">;</span>
<span class="cp">#define MAC_INT_STATUS_TMAC_INT            s2BIT(0)</span>
<span class="cp">#define MAC_INT_STATUS_RMAC_INT            s2BIT(1)</span>

	<span class="n">u64</span> <span class="n">mac_tmac_err_reg</span><span class="p">;</span>
<span class="cp">#define TMAC_ECC_SG_ERR				s2BIT(7)</span>
<span class="cp">#define TMAC_ECC_DB_ERR				s2BIT(15)</span>
<span class="cp">#define TMAC_TX_BUF_OVRN			s2BIT(23)</span>
<span class="cp">#define TMAC_TX_CRI_ERR				s2BIT(31)</span>
<span class="cp">#define TMAC_TX_SM_ERR				s2BIT(39)</span>
<span class="cp">#define TMAC_DESC_ECC_SG_ERR			s2BIT(47)</span>
<span class="cp">#define TMAC_DESC_ECC_DB_ERR			s2BIT(55)</span>

	<span class="n">u64</span> <span class="n">mac_tmac_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mac_tmac_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">mac_rmac_err_reg</span><span class="p">;</span>
<span class="cp">#define RMAC_RX_BUFF_OVRN			s2BIT(0)</span>
<span class="cp">#define RMAC_FRM_RCVD_INT			s2BIT(1)</span>
<span class="cp">#define RMAC_UNUSED_INT				s2BIT(2)</span>
<span class="cp">#define RMAC_RTS_PNUM_ECC_SG_ERR		s2BIT(5)</span>
<span class="cp">#define RMAC_RTS_DS_ECC_SG_ERR			s2BIT(6)</span>
<span class="cp">#define RMAC_RD_BUF_ECC_SG_ERR			s2BIT(7)</span>
<span class="cp">#define RMAC_RTH_MAP_ECC_SG_ERR			s2BIT(8)</span>
<span class="cp">#define RMAC_RTH_SPDM_ECC_SG_ERR		s2BIT(9)</span>
<span class="cp">#define RMAC_RTS_VID_ECC_SG_ERR			s2BIT(10)</span>
<span class="cp">#define RMAC_DA_SHADOW_ECC_SG_ERR		s2BIT(11)</span>
<span class="cp">#define RMAC_RTS_PNUM_ECC_DB_ERR		s2BIT(13)</span>
<span class="cp">#define RMAC_RTS_DS_ECC_DB_ERR			s2BIT(14)</span>
<span class="cp">#define RMAC_RD_BUF_ECC_DB_ERR			s2BIT(15)</span>
<span class="cp">#define RMAC_RTH_MAP_ECC_DB_ERR			s2BIT(16)</span>
<span class="cp">#define RMAC_RTH_SPDM_ECC_DB_ERR		s2BIT(17)</span>
<span class="cp">#define RMAC_RTS_VID_ECC_DB_ERR			s2BIT(18)</span>
<span class="cp">#define RMAC_DA_SHADOW_ECC_DB_ERR		s2BIT(19)</span>
<span class="cp">#define RMAC_LINK_STATE_CHANGE_INT		s2BIT(31)</span>
<span class="cp">#define RMAC_RX_SM_ERR				s2BIT(39)</span>
<span class="cp">#define RMAC_SINGLE_ECC_ERR			(s2BIT(5) | s2BIT(6) | s2BIT(7) |\</span>
<span class="cp">						s2BIT(8)  | s2BIT(9) | s2BIT(10)|\</span>
<span class="cp">						s2BIT(11))</span>
<span class="cp">#define RMAC_DOUBLE_ECC_ERR			(s2BIT(13) | s2BIT(14) | s2BIT(15) |\</span>
<span class="cp">						s2BIT(16)  | s2BIT(17) | s2BIT(18)|\</span>
<span class="cp">						s2BIT(19))</span>
	<span class="n">u64</span> <span class="n">mac_rmac_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mac_rmac_err_alarm</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused14</span><span class="p">[</span><span class="mh">0x100</span> <span class="o">-</span> <span class="mh">0x40</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">mac_cfg</span><span class="p">;</span>
<span class="cp">#define MAC_CFG_TMAC_ENABLE             s2BIT(0)</span>
<span class="cp">#define MAC_CFG_RMAC_ENABLE             s2BIT(1)</span>
<span class="cp">#define MAC_CFG_LAN_NOT_WAN             s2BIT(2)</span>
<span class="cp">#define MAC_CFG_TMAC_LOOPBACK           s2BIT(3)</span>
<span class="cp">#define MAC_CFG_TMAC_APPEND_PAD         s2BIT(4)</span>
<span class="cp">#define MAC_CFG_RMAC_STRIP_FCS          s2BIT(5)</span>
<span class="cp">#define MAC_CFG_RMAC_STRIP_PAD          s2BIT(6)</span>
<span class="cp">#define MAC_CFG_RMAC_PROM_ENABLE        s2BIT(7)</span>
<span class="cp">#define MAC_RMAC_DISCARD_PFRM           s2BIT(8)</span>
<span class="cp">#define MAC_RMAC_BCAST_ENABLE           s2BIT(9)</span>
<span class="cp">#define MAC_RMAC_ALL_ADDR_ENABLE        s2BIT(10)</span>
<span class="cp">#define MAC_RMAC_INVLD_IPG_THR(val)     vBIT(val,16,8)</span>

	<span class="n">u64</span> <span class="n">tmac_avg_ipg</span><span class="p">;</span>
<span class="cp">#define TMAC_AVG_IPG(val)           vBIT(val,0,8)</span>

	<span class="n">u64</span> <span class="n">rmac_max_pyld_len</span><span class="p">;</span>
<span class="cp">#define RMAC_MAX_PYLD_LEN(val)      vBIT(val,2,14)</span>
<span class="cp">#define RMAC_MAX_PYLD_LEN_DEF       vBIT(1500,2,14)</span>
<span class="cp">#define RMAC_MAX_PYLD_LEN_JUMBO_DEF vBIT(9600,2,14)</span>

	<span class="n">u64</span> <span class="n">rmac_err_cfg</span><span class="p">;</span>
<span class="cp">#define RMAC_ERR_FCS                    s2BIT(0)</span>
<span class="cp">#define RMAC_ERR_FCS_ACCEPT             s2BIT(1)</span>
<span class="cp">#define RMAC_ERR_TOO_LONG               s2BIT(1)</span>
<span class="cp">#define RMAC_ERR_TOO_LONG_ACCEPT        s2BIT(1)</span>
<span class="cp">#define RMAC_ERR_RUNT                   s2BIT(2)</span>
<span class="cp">#define RMAC_ERR_RUNT_ACCEPT            s2BIT(2)</span>
<span class="cp">#define RMAC_ERR_LEN_MISMATCH           s2BIT(3)</span>
<span class="cp">#define RMAC_ERR_LEN_MISMATCH_ACCEPT    s2BIT(3)</span>

	<span class="n">u64</span> <span class="n">rmac_cfg_key</span><span class="p">;</span>
<span class="cp">#define RMAC_CFG_KEY(val)               vBIT(val,0,16)</span>

<span class="cp">#define S2IO_MAC_ADDR_START_OFFSET	0</span>

<span class="cp">#define S2IO_XENA_MAX_MC_ADDRESSES	64	</span><span class="cm">/* multicast addresses */</span><span class="cp"></span>
<span class="cp">#define S2IO_HERC_MAX_MC_ADDRESSES	256</span>

<span class="cp">#define S2IO_XENA_MAX_MAC_ADDRESSES	16</span>
<span class="cp">#define S2IO_HERC_MAX_MAC_ADDRESSES	64</span>

<span class="cp">#define S2IO_XENA_MC_ADDR_START_OFFSET	16</span>
<span class="cp">#define S2IO_HERC_MC_ADDR_START_OFFSET	64</span>

	<span class="n">u64</span> <span class="n">rmac_addr_cmd_mem</span><span class="p">;</span>
<span class="cp">#define RMAC_ADDR_CMD_MEM_WE                    s2BIT(7)</span>
<span class="cp">#define RMAC_ADDR_CMD_MEM_RD                    0</span>
<span class="cp">#define RMAC_ADDR_CMD_MEM_STROBE_NEW_CMD        s2BIT(15)</span>
<span class="cp">#define RMAC_ADDR_CMD_MEM_STROBE_CMD_EXECUTING  s2BIT(15)</span>
<span class="cp">#define RMAC_ADDR_CMD_MEM_OFFSET(n)             vBIT(n,26,6)</span>

	<span class="n">u64</span> <span class="n">rmac_addr_data0_mem</span><span class="p">;</span>
<span class="cp">#define RMAC_ADDR_DATA0_MEM_ADDR(n)    vBIT(n,0,48)</span>
<span class="cp">#define RMAC_ADDR_DATA0_MEM_USER       s2BIT(48)</span>

	<span class="n">u64</span> <span class="n">rmac_addr_data1_mem</span><span class="p">;</span>
<span class="cp">#define RMAC_ADDR_DATA1_MEM_MASK(n)    vBIT(n,0,48)</span>

	<span class="n">u8</span> <span class="n">unused15</span><span class="p">[</span><span class="mh">0x8</span><span class="p">];</span>

<span class="cm">/*</span>
<span class="cm">        u64 rmac_addr_cfg;</span>
<span class="cm">#define RMAC_ADDR_UCASTn_EN(n)     mBIT(0)_n(n)</span>
<span class="cm">#define RMAC_ADDR_MCASTn_EN(n)     mBIT(0)_n(n)</span>
<span class="cm">#define RMAC_ADDR_BCAST_EN         vBIT(0)_48</span>
<span class="cm">#define RMAC_ADDR_ALL_ADDR_EN      vBIT(0)_49</span>
<span class="cm">*/</span>
	<span class="n">u64</span> <span class="n">tmac_ipg_cfg</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rmac_pause_cfg</span><span class="p">;</span>
<span class="cp">#define RMAC_PAUSE_GEN             s2BIT(0)</span>
<span class="cp">#define RMAC_PAUSE_GEN_ENABLE      s2BIT(0)</span>
<span class="cp">#define RMAC_PAUSE_RX              s2BIT(1)</span>
<span class="cp">#define RMAC_PAUSE_RX_ENABLE       s2BIT(1)</span>
<span class="cp">#define RMAC_PAUSE_HG_PTIME_DEF    vBIT(0xFFFF,16,16)</span>
<span class="cp">#define RMAC_PAUSE_HG_PTIME(val)    vBIT(val,16,16)</span>

	<span class="n">u64</span> <span class="n">rmac_red_cfg</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rmac_red_rate_q0q3</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rmac_red_rate_q4q7</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">mac_link_util</span><span class="p">;</span>
<span class="cp">#define MAC_TX_LINK_UTIL           vBIT(0xFE,1,7)</span>
<span class="cp">#define MAC_TX_LINK_UTIL_DISABLE   vBIT(0xF, 8,4)</span>
<span class="cp">#define MAC_TX_LINK_UTIL_VAL( n )  vBIT(n,8,4)</span>
<span class="cp">#define MAC_RX_LINK_UTIL           vBIT(0xFE,33,7)</span>
<span class="cp">#define MAC_RX_LINK_UTIL_DISABLE   vBIT(0xF,40,4)</span>
<span class="cp">#define MAC_RX_LINK_UTIL_VAL( n )  vBIT(n,40,4)</span>

<span class="cp">#define MAC_LINK_UTIL_DISABLE      MAC_TX_LINK_UTIL_DISABLE | \</span>
<span class="cp">                                   MAC_RX_LINK_UTIL_DISABLE</span>

	<span class="n">u64</span> <span class="n">rmac_invalid_ipg</span><span class="p">;</span>

<span class="cm">/* rx traffic steering */</span>
<span class="cp">#define	MAC_RTS_FRM_LEN_SET(len)	vBIT(len,2,14)</span>
	<span class="n">u64</span> <span class="n">rts_frm_len_n</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">rts_qos_steering</span><span class="p">;</span>

<span class="cp">#define MAX_DIX_MAP                         4</span>
	<span class="n">u64</span> <span class="n">rts_dix_map_n</span><span class="p">[</span><span class="n">MAX_DIX_MAP</span><span class="p">];</span>
<span class="cp">#define RTS_DIX_MAP_ETYPE(val)             vBIT(val,0,16)</span>
<span class="cp">#define RTS_DIX_MAP_SCW(val)               s2BIT(val,21)</span>

	<span class="n">u64</span> <span class="n">rts_q_alternates</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rts_default_q</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rts_ctrl</span><span class="p">;</span>
<span class="cp">#define RTS_CTRL_IGNORE_SNAP_OUI           s2BIT(2)</span>
<span class="cp">#define RTS_CTRL_IGNORE_LLC_CTRL           s2BIT(3)</span>

	<span class="n">u64</span> <span class="n">rts_pn_cam_ctrl</span><span class="p">;</span>
<span class="cp">#define RTS_PN_CAM_CTRL_WE                 s2BIT(7)</span>
<span class="cp">#define RTS_PN_CAM_CTRL_STROBE_NEW_CMD     s2BIT(15)</span>
<span class="cp">#define RTS_PN_CAM_CTRL_STROBE_BEING_EXECUTED   s2BIT(15)</span>
<span class="cp">#define RTS_PN_CAM_CTRL_OFFSET(n)          vBIT(n,24,8)</span>
	<span class="n">u64</span> <span class="n">rts_pn_cam_data</span><span class="p">;</span>
<span class="cp">#define RTS_PN_CAM_DATA_TCP_SELECT         s2BIT(7)</span>
<span class="cp">#define RTS_PN_CAM_DATA_PORT(val)          vBIT(val,8,16)</span>
<span class="cp">#define RTS_PN_CAM_DATA_SCW(val)           vBIT(val,24,8)</span>

	<span class="n">u64</span> <span class="n">rts_ds_mem_ctrl</span><span class="p">;</span>
<span class="cp">#define RTS_DS_MEM_CTRL_WE                 s2BIT(7)</span>
<span class="cp">#define RTS_DS_MEM_CTRL_STROBE_NEW_CMD     s2BIT(15)</span>
<span class="cp">#define RTS_DS_MEM_CTRL_STROBE_CMD_BEING_EXECUTED   s2BIT(15)</span>
<span class="cp">#define RTS_DS_MEM_CTRL_OFFSET(n)          vBIT(n,26,6)</span>
	<span class="n">u64</span> <span class="n">rts_ds_mem_data</span><span class="p">;</span>
<span class="cp">#define RTS_DS_MEM_DATA(n)                 vBIT(n,0,8)</span>

	<span class="n">u8</span> <span class="n">unused16</span><span class="p">[</span><span class="mh">0x700</span> <span class="o">-</span> <span class="mh">0x220</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">mac_debug_ctrl</span><span class="p">;</span>
<span class="cp">#define MAC_DBG_ACTIVITY_VALUE		   0x411040400000000ULL</span>

	<span class="n">u8</span> <span class="n">unused17</span><span class="p">[</span><span class="mh">0x2800</span> <span class="o">-</span> <span class="mh">0x2708</span><span class="p">];</span>

<span class="cm">/* memory controller registers */</span>
	<span class="n">u64</span> <span class="n">mc_int_status</span><span class="p">;</span>
<span class="cp">#define MC_INT_STATUS_MC_INT               s2BIT(0)</span>
	<span class="n">u64</span> <span class="n">mc_int_mask</span><span class="p">;</span>
<span class="cp">#define MC_INT_MASK_MC_INT                 s2BIT(0)</span>

	<span class="n">u64</span> <span class="n">mc_err_reg</span><span class="p">;</span>
<span class="cp">#define MC_ERR_REG_ECC_DB_ERR_L            s2BIT(14)</span>
<span class="cp">#define MC_ERR_REG_ECC_DB_ERR_U            s2BIT(15)</span>
<span class="cp">#define MC_ERR_REG_MIRI_ECC_DB_ERR_0       s2BIT(18)</span>
<span class="cp">#define MC_ERR_REG_MIRI_ECC_DB_ERR_1       s2BIT(20)</span>
<span class="cp">#define MC_ERR_REG_MIRI_CRI_ERR_0          s2BIT(22)</span>
<span class="cp">#define MC_ERR_REG_MIRI_CRI_ERR_1          s2BIT(23)</span>
<span class="cp">#define MC_ERR_REG_SM_ERR                  s2BIT(31)</span>
<span class="cp">#define MC_ERR_REG_ECC_ALL_SNG		   (s2BIT(2) | s2BIT(3) | s2BIT(4) | s2BIT(5) |\</span>
<span class="cp">					s2BIT(17) | s2BIT(19))</span>
<span class="cp">#define MC_ERR_REG_ECC_ALL_DBL		   (s2BIT(10) | s2BIT(11) | s2BIT(12) |\</span>
<span class="cp">					s2BIT(13) | s2BIT(18) | s2BIT(20))</span>
<span class="cp">#define PLL_LOCK_N			s2BIT(39)</span>
	<span class="n">u64</span> <span class="n">mc_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mc_err_alarm</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused18</span><span class="p">[</span><span class="mh">0x100</span> <span class="o">-</span> <span class="mh">0x28</span><span class="p">];</span>

<span class="cm">/* MC configuration */</span>
	<span class="n">u64</span> <span class="n">rx_queue_cfg</span><span class="p">;</span>
<span class="cp">#define RX_QUEUE_CFG_Q0_SZ(n)              vBIT(n,0,8)</span>
<span class="cp">#define RX_QUEUE_CFG_Q1_SZ(n)              vBIT(n,8,8)</span>
<span class="cp">#define RX_QUEUE_CFG_Q2_SZ(n)              vBIT(n,16,8)</span>
<span class="cp">#define RX_QUEUE_CFG_Q3_SZ(n)              vBIT(n,24,8)</span>
<span class="cp">#define RX_QUEUE_CFG_Q4_SZ(n)              vBIT(n,32,8)</span>
<span class="cp">#define RX_QUEUE_CFG_Q5_SZ(n)              vBIT(n,40,8)</span>
<span class="cp">#define RX_QUEUE_CFG_Q6_SZ(n)              vBIT(n,48,8)</span>
<span class="cp">#define RX_QUEUE_CFG_Q7_SZ(n)              vBIT(n,56,8)</span>

	<span class="n">u64</span> <span class="n">mc_rldram_mrs</span><span class="p">;</span>
<span class="cp">#define	MC_RLDRAM_QUEUE_SIZE_ENABLE			s2BIT(39)</span>
<span class="cp">#define	MC_RLDRAM_MRS_ENABLE				s2BIT(47)</span>

	<span class="n">u64</span> <span class="n">mc_rldram_interleave</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">mc_pause_thresh_q0q3</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mc_pause_thresh_q4q7</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">mc_red_thresh_q</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>

	<span class="n">u8</span> <span class="n">unused19</span><span class="p">[</span><span class="mh">0x200</span> <span class="o">-</span> <span class="mh">0x168</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_ref_per</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">unused20</span><span class="p">[</span><span class="mh">0x220</span> <span class="o">-</span> <span class="mh">0x208</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_test_ctrl</span><span class="p">;</span>
<span class="cp">#define MC_RLDRAM_TEST_MODE		s2BIT(47)</span>
<span class="cp">#define MC_RLDRAM_TEST_WRITE	s2BIT(7)</span>
<span class="cp">#define MC_RLDRAM_TEST_GO		s2BIT(15)</span>
<span class="cp">#define MC_RLDRAM_TEST_DONE		s2BIT(23)</span>
<span class="cp">#define MC_RLDRAM_TEST_PASS		s2BIT(31)</span>

	<span class="n">u8</span> <span class="n">unused21</span><span class="p">[</span><span class="mh">0x240</span> <span class="o">-</span> <span class="mh">0x228</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_test_add</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">unused22</span><span class="p">[</span><span class="mh">0x260</span> <span class="o">-</span> <span class="mh">0x248</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_test_d0</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">unused23</span><span class="p">[</span><span class="mh">0x280</span> <span class="o">-</span> <span class="mh">0x268</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_test_d1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">unused24</span><span class="p">[</span><span class="mh">0x300</span> <span class="o">-</span> <span class="mh">0x288</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_test_d2</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused24_1</span><span class="p">[</span><span class="mh">0x360</span> <span class="o">-</span> <span class="mh">0x308</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_ctrl</span><span class="p">;</span>
<span class="cp">#define	MC_RLDRAM_ENABLE_ODT		s2BIT(7)</span>

	<span class="n">u8</span> <span class="n">unused24_2</span><span class="p">[</span><span class="mh">0x640</span> <span class="o">-</span> <span class="mh">0x368</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_ref_per_herc</span><span class="p">;</span>
<span class="cp">#define	MC_RLDRAM_SET_REF_PERIOD(val)	vBIT(val, 0, 16)</span>

	<span class="n">u8</span> <span class="n">unused24_3</span><span class="p">[</span><span class="mh">0x660</span> <span class="o">-</span> <span class="mh">0x648</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_rldram_mrs_herc</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused25</span><span class="p">[</span><span class="mh">0x700</span> <span class="o">-</span> <span class="mh">0x668</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">mc_debug_ctrl</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused26</span><span class="p">[</span><span class="mh">0x3000</span> <span class="o">-</span> <span class="mh">0x2f08</span><span class="p">];</span>

<span class="cm">/* XGXG */</span>
	<span class="cm">/* XGXS control registers */</span>

	<span class="n">u64</span> <span class="n">xgxs_int_status</span><span class="p">;</span>
<span class="cp">#define XGXS_INT_STATUS_TXGXS              s2BIT(0)</span>
<span class="cp">#define XGXS_INT_STATUS_RXGXS              s2BIT(1)</span>
	<span class="n">u64</span> <span class="n">xgxs_int_mask</span><span class="p">;</span>
<span class="cp">#define XGXS_INT_MASK_TXGXS                s2BIT(0)</span>
<span class="cp">#define XGXS_INT_MASK_RXGXS                s2BIT(1)</span>

	<span class="n">u64</span> <span class="n">xgxs_txgxs_err_reg</span><span class="p">;</span>
<span class="cp">#define TXGXS_ECC_SG_ERR		s2BIT(7)</span>
<span class="cp">#define TXGXS_ECC_DB_ERR		s2BIT(15)</span>
<span class="cp">#define TXGXS_ESTORE_UFLOW		s2BIT(31)</span>
<span class="cp">#define TXGXS_TX_SM_ERR			s2BIT(39)</span>

	<span class="n">u64</span> <span class="n">xgxs_txgxs_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xgxs_txgxs_err_alarm</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">xgxs_rxgxs_err_reg</span><span class="p">;</span>
<span class="cp">#define RXGXS_ESTORE_OFLOW		s2BIT(7)</span>
<span class="cp">#define RXGXS_RX_SM_ERR			s2BIT(39)</span>
	<span class="n">u64</span> <span class="n">xgxs_rxgxs_err_mask</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xgxs_rxgxs_err_alarm</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">unused27</span><span class="p">[</span><span class="mh">0x100</span> <span class="o">-</span> <span class="mh">0x40</span><span class="p">];</span>

	<span class="n">u64</span> <span class="n">xgxs_cfg</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xgxs_status</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">xgxs_cfg_key</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">xgxs_efifo_cfg</span><span class="p">;</span>	<span class="cm">/* CHANGED */</span>
	<span class="n">u64</span> <span class="n">rxgxs_ber_0</span><span class="p">;</span>	<span class="cm">/* CHANGED */</span>
	<span class="n">u64</span> <span class="n">rxgxs_ber_1</span><span class="p">;</span>	<span class="cm">/* CHANGED */</span>

	<span class="n">u64</span> <span class="n">spi_control</span><span class="p">;</span>
<span class="cp">#define SPI_CONTROL_KEY(key)		vBIT(key,0,4)</span>
<span class="cp">#define SPI_CONTROL_BYTECNT(cnt)	vBIT(cnt,29,3)</span>
<span class="cp">#define SPI_CONTROL_CMD(cmd)		vBIT(cmd,32,8)</span>
<span class="cp">#define SPI_CONTROL_ADDR(addr)		vBIT(addr,40,24)</span>
<span class="cp">#define SPI_CONTROL_SEL1		s2BIT(4)</span>
<span class="cp">#define SPI_CONTROL_REQ			s2BIT(7)</span>
<span class="cp">#define SPI_CONTROL_NACK		s2BIT(5)</span>
<span class="cp">#define SPI_CONTROL_DONE		s2BIT(6)</span>
	<span class="n">u64</span> <span class="n">spi_data</span><span class="p">;</span>
<span class="cp">#define SPI_DATA_WRITE(data,len)	vBIT(data,0,len)</span>
<span class="p">};</span>

<span class="cp">#define XENA_REG_SPACE	sizeof(struct XENA_dev_config)</span>
<span class="cp">#define	XENA_EEPROM_SPACE (0x01 &lt;&lt; 11)</span>

<span class="cp">#endif				</span><span class="cm">/* _REGS_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
