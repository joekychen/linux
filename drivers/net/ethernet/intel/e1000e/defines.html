<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › intel › e1000e › defines.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>defines.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*******************************************************************************</span>

<span class="cm">  Intel PRO/1000 Linux driver</span>
<span class="cm">  Copyright(c) 1999 - 2012 Intel Corporation.</span>

<span class="cm">  This program is free software; you can redistribute it and/or modify it</span>
<span class="cm">  under the terms and conditions of the GNU General Public License,</span>
<span class="cm">  version 2, as published by the Free Software Foundation.</span>

<span class="cm">  This program is distributed in the hope it will be useful, but WITHOUT</span>
<span class="cm">  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm">  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span>
<span class="cm">  more details.</span>

<span class="cm">  You should have received a copy of the GNU General Public License along with</span>
<span class="cm">  this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm">  51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.</span>

<span class="cm">  The full GNU General Public License is included in this distribution in</span>
<span class="cm">  the file called &quot;COPYING&quot;.</span>

<span class="cm">  Contact Information:</span>
<span class="cm">  Linux NICS &lt;linux.nics@intel.com&gt;</span>
<span class="cm">  e1000-devel Mailing List &lt;e1000-devel@lists.sourceforge.net&gt;</span>
<span class="cm">  Intel Corporation, 5200 N.E. Elam Young Parkway, Hillsboro, OR 97124-6497</span>

<span class="cm">*******************************************************************************/</span>

<span class="cp">#ifndef _E1000_DEFINES_H_</span>
<span class="cp">#define _E1000_DEFINES_H_</span>

<span class="cp">#define E1000_TXD_POPTS_IXSM 0x01       </span><span class="cm">/* Insert IP checksum */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_POPTS_TXSM 0x02       </span><span class="cm">/* Insert TCP/UDP checksum */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_EOP    0x01000000 </span><span class="cm">/* End of Packet */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IFCS   0x02000000 </span><span class="cm">/* Insert FCS (Ethernet CRC) */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IC     0x04000000 </span><span class="cm">/* Insert Checksum */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_RS     0x08000000 </span><span class="cm">/* Report Status */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_RPS    0x10000000 </span><span class="cm">/* Report Packet Sent */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_DEXT   0x20000000 </span><span class="cm">/* Descriptor extension (0 = legacy) */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_VLE    0x40000000 </span><span class="cm">/* Add VLAN tag */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IDE    0x80000000 </span><span class="cm">/* Enable Tidv register */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_DD    0x00000001 </span><span class="cm">/* Descriptor Done */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_EC    0x00000002 </span><span class="cm">/* Excess Collisions */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_LC    0x00000004 </span><span class="cm">/* Late Collisions */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_TU    0x00000008 </span><span class="cm">/* Transmit underrun */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_TCP    0x01000000 </span><span class="cm">/* TCP packet */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IP     0x02000000 </span><span class="cm">/* IP packet */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_TSE    0x04000000 </span><span class="cm">/* TCP Seg enable */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_TC    0x00000004 </span><span class="cm">/* Tx Underrun */</span><span class="cp"></span>

<span class="cm">/* Number of Transmit and Receive Descriptors must be a multiple of 8 */</span>
<span class="cp">#define REQ_TX_DESCRIPTOR_MULTIPLE  8</span>
<span class="cp">#define REQ_RX_DESCRIPTOR_MULTIPLE  8</span>

<span class="cm">/* Definitions for power management and wakeup registers */</span>
<span class="cm">/* Wake Up Control */</span>
<span class="cp">#define E1000_WUC_APME       0x00000001 </span><span class="cm">/* APM Enable */</span><span class="cp"></span>
<span class="cp">#define E1000_WUC_PME_EN     0x00000002 </span><span class="cm">/* PME Enable */</span><span class="cp"></span>
<span class="cp">#define E1000_WUC_PHY_WAKE   0x00000100 </span><span class="cm">/* if PHY supports wakeup */</span><span class="cp"></span>

<span class="cm">/* Wake Up Filter Control */</span>
<span class="cp">#define E1000_WUFC_LNKC 0x00000001 </span><span class="cm">/* Link Status Change Wakeup Enable */</span><span class="cp"></span>
<span class="cp">#define E1000_WUFC_MAG  0x00000002 </span><span class="cm">/* Magic Packet Wakeup Enable */</span><span class="cp"></span>
<span class="cp">#define E1000_WUFC_EX   0x00000004 </span><span class="cm">/* Directed Exact Wakeup Enable */</span><span class="cp"></span>
<span class="cp">#define E1000_WUFC_MC   0x00000008 </span><span class="cm">/* Directed Multicast Wakeup Enable */</span><span class="cp"></span>
<span class="cp">#define E1000_WUFC_BC   0x00000010 </span><span class="cm">/* Broadcast Wakeup Enable */</span><span class="cp"></span>
<span class="cp">#define E1000_WUFC_ARP  0x00000020 </span><span class="cm">/* ARP Request Packet Wakeup Enable */</span><span class="cp"></span>

<span class="cm">/* Wake Up Status */</span>
<span class="cp">#define E1000_WUS_LNKC         E1000_WUFC_LNKC</span>
<span class="cp">#define E1000_WUS_MAG          E1000_WUFC_MAG</span>
<span class="cp">#define E1000_WUS_EX           E1000_WUFC_EX</span>
<span class="cp">#define E1000_WUS_MC           E1000_WUFC_MC</span>
<span class="cp">#define E1000_WUS_BC           E1000_WUFC_BC</span>

<span class="cm">/* Extended Device Control */</span>
<span class="cp">#define E1000_CTRL_EXT_LPCD  0x00000004     </span><span class="cm">/* LCD Power Cycle Done */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_SDP3_DATA 0x00000080 </span><span class="cm">/* Value of SW Definable Pin 3 */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_FORCE_SMBUS 0x00000800 </span><span class="cm">/* Force SMBus mode */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_EE_RST    0x00002000 </span><span class="cm">/* Reinitialize from EEPROM */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_SPD_BYPS  0x00008000 </span><span class="cm">/* Speed Select Bypass */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_RO_DIS    0x00020000 </span><span class="cm">/* Relaxed Ordering disable */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_DMA_DYN_CLK_EN 0x00080000 </span><span class="cm">/* DMA Dynamic Clock Gating */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_LINK_MODE_MASK 0x00C00000</span>
<span class="cp">#define E1000_CTRL_EXT_LINK_MODE_PCIE_SERDES  0x00C00000</span>
<span class="cp">#define E1000_CTRL_EXT_EIAME          0x01000000</span>
<span class="cp">#define E1000_CTRL_EXT_DRV_LOAD       0x10000000 </span><span class="cm">/* Driver loaded bit for FW */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_IAME           0x08000000 </span><span class="cm">/* Interrupt acknowledge Auto-mask */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_INT_TIMER_CLR  0x20000000 </span><span class="cm">/* Clear Interrupt timers after IMS clear */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_PBA_CLR        0x80000000 </span><span class="cm">/* PBA Clear */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_EXT_LSECCK         0x00001000</span>
<span class="cp">#define E1000_CTRL_EXT_PHYPDEN        0x00100000</span>

<span class="cm">/* Receive Descriptor bit definitions */</span>
<span class="cp">#define E1000_RXD_STAT_DD       0x01    </span><span class="cm">/* Descriptor Done */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_STAT_EOP      0x02    </span><span class="cm">/* End of Packet */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_STAT_IXSM     0x04    </span><span class="cm">/* Ignore checksum */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_STAT_VP       0x08    </span><span class="cm">/* IEEE VLAN Packet */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_STAT_UDPCS    0x10    </span><span class="cm">/* UDP xsum calculated */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_STAT_TCPCS    0x20    </span><span class="cm">/* TCP xsum calculated */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_ERR_CE        0x01    </span><span class="cm">/* CRC Error */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_ERR_SE        0x02    </span><span class="cm">/* Symbol Error */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_ERR_SEQ       0x04    </span><span class="cm">/* Sequence Error */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_ERR_CXE       0x10    </span><span class="cm">/* Carrier Extension Error */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_ERR_TCPE      0x20    </span><span class="cm">/* TCP/UDP Checksum Error */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_ERR_IPE       0x40    </span><span class="cm">/* IP Checksum Error */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_ERR_RXE       0x80    </span><span class="cm">/* Rx Data Error */</span><span class="cp"></span>
<span class="cp">#define E1000_RXD_SPC_VLAN_MASK 0x0FFF  </span><span class="cm">/* VLAN ID is in lower 12 bits */</span><span class="cp"></span>

<span class="cp">#define E1000_RXDEXT_STATERR_CE    0x01000000</span>
<span class="cp">#define E1000_RXDEXT_STATERR_SE    0x02000000</span>
<span class="cp">#define E1000_RXDEXT_STATERR_SEQ   0x04000000</span>
<span class="cp">#define E1000_RXDEXT_STATERR_CXE   0x10000000</span>
<span class="cp">#define E1000_RXDEXT_STATERR_RXE   0x80000000</span>

<span class="cm">/* mask to determine if packets should be dropped due to frame errors */</span>
<span class="cp">#define E1000_RXD_ERR_FRAME_ERR_MASK ( \</span>
<span class="cp">    E1000_RXD_ERR_CE  |                \</span>
<span class="cp">    E1000_RXD_ERR_SE  |                \</span>
<span class="cp">    E1000_RXD_ERR_SEQ |                \</span>
<span class="cp">    E1000_RXD_ERR_CXE |                \</span>
<span class="cp">    E1000_RXD_ERR_RXE)</span>

<span class="cm">/* Same mask, but for extended and packet split descriptors */</span>
<span class="cp">#define E1000_RXDEXT_ERR_FRAME_ERR_MASK ( \</span>
<span class="cp">    E1000_RXDEXT_STATERR_CE  |            \</span>
<span class="cp">    E1000_RXDEXT_STATERR_SE  |            \</span>
<span class="cp">    E1000_RXDEXT_STATERR_SEQ |            \</span>
<span class="cp">    E1000_RXDEXT_STATERR_CXE |            \</span>
<span class="cp">    E1000_RXDEXT_STATERR_RXE)</span>

<span class="cp">#define E1000_MRQC_RSS_FIELD_MASK              0xFFFF0000</span>
<span class="cp">#define E1000_MRQC_RSS_FIELD_IPV4_TCP          0x00010000</span>
<span class="cp">#define E1000_MRQC_RSS_FIELD_IPV4              0x00020000</span>
<span class="cp">#define E1000_MRQC_RSS_FIELD_IPV6_TCP_EX       0x00040000</span>
<span class="cp">#define E1000_MRQC_RSS_FIELD_IPV6              0x00100000</span>
<span class="cp">#define E1000_MRQC_RSS_FIELD_IPV6_TCP          0x00200000</span>

<span class="cp">#define E1000_RXDPS_HDRSTAT_HDRSP              0x00008000</span>

<span class="cm">/* Management Control */</span>
<span class="cp">#define E1000_MANC_SMBUS_EN      0x00000001 </span><span class="cm">/* SMBus Enabled - RO */</span><span class="cp"></span>
<span class="cp">#define E1000_MANC_ASF_EN        0x00000002 </span><span class="cm">/* ASF Enabled - RO */</span><span class="cp"></span>
<span class="cp">#define E1000_MANC_ARP_EN        0x00002000 </span><span class="cm">/* Enable ARP Request Filtering */</span><span class="cp"></span>
<span class="cp">#define E1000_MANC_RCV_TCO_EN    0x00020000 </span><span class="cm">/* Receive TCO Packets Enabled */</span><span class="cp"></span>
<span class="cp">#define E1000_MANC_BLK_PHY_RST_ON_IDE   0x00040000 </span><span class="cm">/* Block phy resets */</span><span class="cp"></span>
<span class="cm">/* Enable MAC address filtering */</span>
<span class="cp">#define E1000_MANC_EN_MAC_ADDR_FILTER   0x00100000</span>
<span class="cm">/* Enable MNG packets to host memory */</span>
<span class="cp">#define E1000_MANC_EN_MNG2HOST   0x00200000</span>

<span class="cp">#define E1000_MANC2H_PORT_623    0x00000020 </span><span class="cm">/* Port 0x26f */</span><span class="cp"></span>
<span class="cp">#define E1000_MANC2H_PORT_664    0x00000040 </span><span class="cm">/* Port 0x298 */</span><span class="cp"></span>
<span class="cp">#define E1000_MDEF_PORT_623      0x00000800 </span><span class="cm">/* Port 0x26f */</span><span class="cp"></span>
<span class="cp">#define E1000_MDEF_PORT_664      0x00000400 </span><span class="cm">/* Port 0x298 */</span><span class="cp"></span>

<span class="cm">/* Receive Control */</span>
<span class="cp">#define E1000_RCTL_EN             0x00000002    </span><span class="cm">/* enable */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_SBP            0x00000004    </span><span class="cm">/* store bad packet */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_UPE            0x00000008    </span><span class="cm">/* unicast promiscuous enable */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_MPE            0x00000010    </span><span class="cm">/* multicast promiscuous enab */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_LPE            0x00000020    </span><span class="cm">/* long packet enable */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_LBM_NO         0x00000000    </span><span class="cm">/* no loopback mode */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_LBM_MAC        0x00000040    </span><span class="cm">/* MAC loopback mode */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_LBM_TCVR       0x000000C0    </span><span class="cm">/* tcvr loopback mode */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_DTYP_PS        0x00000400    </span><span class="cm">/* Packet Split descriptor */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_RDMTS_HALF     0x00000000    </span><span class="cm">/* Rx desc min threshold size */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_MO_SHIFT       12            </span><span class="cm">/* multicast offset shift */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_MO_3           0x00003000    </span><span class="cm">/* multicast offset 15:4 */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_BAM            0x00008000    </span><span class="cm">/* broadcast enable */</span><span class="cp"></span>
<span class="cm">/* these buffer sizes are valid if E1000_RCTL_BSEX is 0 */</span>
<span class="cp">#define E1000_RCTL_SZ_2048        0x00000000    </span><span class="cm">/* Rx buffer size 2048 */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_SZ_1024        0x00010000    </span><span class="cm">/* Rx buffer size 1024 */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_SZ_512         0x00020000    </span><span class="cm">/* Rx buffer size 512 */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_SZ_256         0x00030000    </span><span class="cm">/* Rx buffer size 256 */</span><span class="cp"></span>
<span class="cm">/* these buffer sizes are valid if E1000_RCTL_BSEX is 1 */</span>
<span class="cp">#define E1000_RCTL_SZ_16384       0x00010000    </span><span class="cm">/* Rx buffer size 16384 */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_SZ_8192        0x00020000    </span><span class="cm">/* Rx buffer size 8192 */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_SZ_4096        0x00030000    </span><span class="cm">/* Rx buffer size 4096 */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_VFE            0x00040000    </span><span class="cm">/* vlan filter enable */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_CFIEN          0x00080000    </span><span class="cm">/* canonical form enable */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_CFI            0x00100000    </span><span class="cm">/* canonical form indicator */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_DPF            0x00400000    </span><span class="cm">/* Discard Pause Frames */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_PMCF           0x00800000    </span><span class="cm">/* pass MAC control frames */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_BSEX           0x02000000    </span><span class="cm">/* Buffer size extension */</span><span class="cp"></span>
<span class="cp">#define E1000_RCTL_SECRC          0x04000000    </span><span class="cm">/* Strip Ethernet CRC */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Use byte values for the following shift parameters</span>
<span class="cm"> * Usage:</span>
<span class="cm"> *     psrctl |= (((ROUNDUP(value0, 128) &gt;&gt; E1000_PSRCTL_BSIZE0_SHIFT) &amp;</span>
<span class="cm"> *                  E1000_PSRCTL_BSIZE0_MASK) |</span>
<span class="cm"> *                ((ROUNDUP(value1, 1024) &gt;&gt; E1000_PSRCTL_BSIZE1_SHIFT) &amp;</span>
<span class="cm"> *                  E1000_PSRCTL_BSIZE1_MASK) |</span>
<span class="cm"> *                ((ROUNDUP(value2, 1024) &lt;&lt; E1000_PSRCTL_BSIZE2_SHIFT) &amp;</span>
<span class="cm"> *                  E1000_PSRCTL_BSIZE2_MASK) |</span>
<span class="cm"> *                ((ROUNDUP(value3, 1024) &lt;&lt; E1000_PSRCTL_BSIZE3_SHIFT) |;</span>
<span class="cm"> *                  E1000_PSRCTL_BSIZE3_MASK))</span>
<span class="cm"> * where value0 = [128..16256],  default=256</span>
<span class="cm"> *       value1 = [1024..64512], default=4096</span>
<span class="cm"> *       value2 = [0..64512],    default=4096</span>
<span class="cm"> *       value3 = [0..64512],    default=0</span>
<span class="cm"> */</span>

<span class="cp">#define E1000_PSRCTL_BSIZE0_MASK   0x0000007F</span>
<span class="cp">#define E1000_PSRCTL_BSIZE1_MASK   0x00003F00</span>
<span class="cp">#define E1000_PSRCTL_BSIZE2_MASK   0x003F0000</span>
<span class="cp">#define E1000_PSRCTL_BSIZE3_MASK   0x3F000000</span>

<span class="cp">#define E1000_PSRCTL_BSIZE0_SHIFT  7            </span><span class="cm">/* Shift _right_ 7 */</span><span class="cp"></span>
<span class="cp">#define E1000_PSRCTL_BSIZE1_SHIFT  2            </span><span class="cm">/* Shift _right_ 2 */</span><span class="cp"></span>
<span class="cp">#define E1000_PSRCTL_BSIZE2_SHIFT  6            </span><span class="cm">/* Shift _left_ 6 */</span><span class="cp"></span>
<span class="cp">#define E1000_PSRCTL_BSIZE3_SHIFT 14            </span><span class="cm">/* Shift _left_ 14 */</span><span class="cp"></span>

<span class="cm">/* SWFW_SYNC Definitions */</span>
<span class="cp">#define E1000_SWFW_EEP_SM   0x1</span>
<span class="cp">#define E1000_SWFW_PHY0_SM  0x2</span>
<span class="cp">#define E1000_SWFW_PHY1_SM  0x4</span>
<span class="cp">#define E1000_SWFW_CSR_SM   0x8</span>

<span class="cm">/* Device Control */</span>
<span class="cp">#define E1000_CTRL_FD       0x00000001  </span><span class="cm">/* Full duplex.0=half; 1=full */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_GIO_MASTER_DISABLE 0x00000004 </span><span class="cm">/*Blocks new Master requests */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_LRST     0x00000008  </span><span class="cm">/* Link reset. 0=normal,1=reset */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_ASDE     0x00000020  </span><span class="cm">/* Auto-speed detect enable */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SLU      0x00000040  </span><span class="cm">/* Set link up (Force Link) */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_ILOS     0x00000080  </span><span class="cm">/* Invert Loss-Of Signal */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SPD_SEL  0x00000300  </span><span class="cm">/* Speed Select Mask */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SPD_10   0x00000000  </span><span class="cm">/* Force 10Mb */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SPD_100  0x00000100  </span><span class="cm">/* Force 100Mb */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SPD_1000 0x00000200  </span><span class="cm">/* Force 1Gb */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_FRCSPD   0x00000800  </span><span class="cm">/* Force Speed */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_FRCDPX   0x00001000  </span><span class="cm">/* Force Duplex */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_LANPHYPC_OVERRIDE 0x00010000 </span><span class="cm">/* SW control of LANPHYPC */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_LANPHYPC_VALUE    0x00020000 </span><span class="cm">/* SW value of LANPHYPC */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SWDPIN0  0x00040000  </span><span class="cm">/* SWDPIN 0 value */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SWDPIN1  0x00080000  </span><span class="cm">/* SWDPIN 1 value */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_SWDPIO0  0x00400000  </span><span class="cm">/* SWDPIN 0 Input or output */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_RST      0x04000000  </span><span class="cm">/* Global reset */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_RFCE     0x08000000  </span><span class="cm">/* Receive Flow Control enable */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_TFCE     0x10000000  </span><span class="cm">/* Transmit flow control enable */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_VME      0x40000000  </span><span class="cm">/* IEEE VLAN mode enable */</span><span class="cp"></span>
<span class="cp">#define E1000_CTRL_PHY_RST  0x80000000  </span><span class="cm">/* PHY Reset */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Bit definitions for the Management Data IO (MDIO) and Management Data</span>
<span class="cm"> * Clock (MDC) pins in the Device Control Register.</span>
<span class="cm"> */</span>

<span class="cm">/* Device Status */</span>
<span class="cp">#define E1000_STATUS_FD         0x00000001      </span><span class="cm">/* Full duplex.0=half,1=full */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_LU         0x00000002      </span><span class="cm">/* Link up.0=no,1=link */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_FUNC_MASK  0x0000000C      </span><span class="cm">/* PCI Function Mask */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_FUNC_SHIFT 2</span>
<span class="cp">#define E1000_STATUS_FUNC_1     0x00000004      </span><span class="cm">/* Function 1 */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_TXOFF      0x00000010      </span><span class="cm">/* transmission paused */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_SPEED_10   0x00000000      </span><span class="cm">/* Speed 10Mb/s */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_SPEED_100  0x00000040      </span><span class="cm">/* Speed 100Mb/s */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_SPEED_1000 0x00000080      </span><span class="cm">/* Speed 1000Mb/s */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_LAN_INIT_DONE 0x00000200   </span><span class="cm">/* Lan Init Completion by NVM */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_PHYRA      0x00000400      </span><span class="cm">/* PHY Reset Asserted */</span><span class="cp"></span>
<span class="cp">#define E1000_STATUS_GIO_MASTER_ENABLE 0x00080000 </span><span class="cm">/* Status of Master requests. */</span><span class="cp"></span>

<span class="cm">/* Constants used to interpret the masked PCI-X bus speed. */</span>

<span class="cp">#define HALF_DUPLEX 1</span>
<span class="cp">#define FULL_DUPLEX 2</span>


<span class="cp">#define ADVERTISE_10_HALF                 0x0001</span>
<span class="cp">#define ADVERTISE_10_FULL                 0x0002</span>
<span class="cp">#define ADVERTISE_100_HALF                0x0004</span>
<span class="cp">#define ADVERTISE_100_FULL                0x0008</span>
<span class="cp">#define ADVERTISE_1000_HALF               0x0010 </span><span class="cm">/* Not used, just FYI */</span><span class="cp"></span>
<span class="cp">#define ADVERTISE_1000_FULL               0x0020</span>

<span class="cm">/* 1000/H is not supported, nor spec-compliant. */</span>
<span class="cp">#define E1000_ALL_SPEED_DUPLEX ( ADVERTISE_10_HALF |   ADVERTISE_10_FULL | \</span>
<span class="cp">				ADVERTISE_100_HALF |  ADVERTISE_100_FULL | \</span>
<span class="cp">						     ADVERTISE_1000_FULL)</span>
<span class="cp">#define E1000_ALL_NOT_GIG      ( ADVERTISE_10_HALF |   ADVERTISE_10_FULL | \</span>
<span class="cp">				ADVERTISE_100_HALF |  ADVERTISE_100_FULL)</span>
<span class="cp">#define E1000_ALL_100_SPEED    (ADVERTISE_100_HALF |  ADVERTISE_100_FULL)</span>
<span class="cp">#define E1000_ALL_10_SPEED      (ADVERTISE_10_HALF |   ADVERTISE_10_FULL)</span>
<span class="cp">#define E1000_ALL_HALF_DUPLEX   (ADVERTISE_10_HALF |  ADVERTISE_100_HALF)</span>

<span class="cp">#define AUTONEG_ADVERTISE_SPEED_DEFAULT   E1000_ALL_SPEED_DUPLEX</span>

<span class="cm">/* LED Control */</span>
<span class="cp">#define E1000_PHY_LED0_MODE_MASK          0x00000007</span>
<span class="cp">#define E1000_PHY_LED0_IVRT               0x00000008</span>
<span class="cp">#define E1000_PHY_LED0_MASK               0x0000001F</span>

<span class="cp">#define E1000_LEDCTL_LED0_MODE_MASK       0x0000000F</span>
<span class="cp">#define E1000_LEDCTL_LED0_MODE_SHIFT      0</span>
<span class="cp">#define E1000_LEDCTL_LED0_IVRT            0x00000040</span>
<span class="cp">#define E1000_LEDCTL_LED0_BLINK           0x00000080</span>

<span class="cp">#define E1000_LEDCTL_MODE_LINK_UP       0x2</span>
<span class="cp">#define E1000_LEDCTL_MODE_LED_ON        0xE</span>
<span class="cp">#define E1000_LEDCTL_MODE_LED_OFF       0xF</span>

<span class="cm">/* Transmit Descriptor bit definitions */</span>
<span class="cp">#define E1000_TXD_DTYP_D     0x00100000 </span><span class="cm">/* Data Descriptor */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_POPTS_IXSM 0x01       </span><span class="cm">/* Insert IP checksum */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_POPTS_TXSM 0x02       </span><span class="cm">/* Insert TCP/UDP checksum */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_EOP    0x01000000 </span><span class="cm">/* End of Packet */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IFCS   0x02000000 </span><span class="cm">/* Insert FCS (Ethernet CRC) */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IC     0x04000000 </span><span class="cm">/* Insert Checksum */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_RS     0x08000000 </span><span class="cm">/* Report Status */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_RPS    0x10000000 </span><span class="cm">/* Report Packet Sent */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_DEXT   0x20000000 </span><span class="cm">/* Descriptor extension (0 = legacy) */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_VLE    0x40000000 </span><span class="cm">/* Add VLAN tag */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IDE    0x80000000 </span><span class="cm">/* Enable Tidv register */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_DD    0x00000001 </span><span class="cm">/* Descriptor Done */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_EC    0x00000002 </span><span class="cm">/* Excess Collisions */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_LC    0x00000004 </span><span class="cm">/* Late Collisions */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_TU    0x00000008 </span><span class="cm">/* Transmit underrun */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_TCP    0x01000000 </span><span class="cm">/* TCP packet */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_IP     0x02000000 </span><span class="cm">/* IP packet */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_CMD_TSE    0x04000000 </span><span class="cm">/* TCP Seg enable */</span><span class="cp"></span>
<span class="cp">#define E1000_TXD_STAT_TC    0x00000004 </span><span class="cm">/* Tx Underrun */</span><span class="cp"></span>

<span class="cm">/* Transmit Control */</span>
<span class="cp">#define E1000_TCTL_EN     0x00000002    </span><span class="cm">/* enable Tx */</span><span class="cp"></span>
<span class="cp">#define E1000_TCTL_PSP    0x00000008    </span><span class="cm">/* pad short packets */</span><span class="cp"></span>
<span class="cp">#define E1000_TCTL_CT     0x00000ff0    </span><span class="cm">/* collision threshold */</span><span class="cp"></span>
<span class="cp">#define E1000_TCTL_COLD   0x003ff000    </span><span class="cm">/* collision distance */</span><span class="cp"></span>
<span class="cp">#define E1000_TCTL_RTLC   0x01000000    </span><span class="cm">/* Re-transmit on late collision */</span><span class="cp"></span>
<span class="cp">#define E1000_TCTL_MULR   0x10000000    </span><span class="cm">/* Multiple request support */</span><span class="cp"></span>

<span class="cm">/* Transmit Arbitration Count */</span>

<span class="cm">/* SerDes Control */</span>
<span class="cp">#define E1000_SCTL_DISABLE_SERDES_LOOPBACK 0x0400</span>

<span class="cm">/* Receive Checksum Control */</span>
<span class="cp">#define E1000_RXCSUM_TUOFL     0x00000200   </span><span class="cm">/* TCP / UDP checksum offload */</span><span class="cp"></span>
<span class="cp">#define E1000_RXCSUM_IPPCSE    0x00001000   </span><span class="cm">/* IP payload checksum enable */</span><span class="cp"></span>
<span class="cp">#define E1000_RXCSUM_PCSD      0x00002000   </span><span class="cm">/* packet checksum disabled */</span><span class="cp"></span>

<span class="cm">/* Header split receive */</span>
<span class="cp">#define E1000_RFCTL_NFSW_DIS            0x00000040</span>
<span class="cp">#define E1000_RFCTL_NFSR_DIS            0x00000080</span>
<span class="cp">#define E1000_RFCTL_ACK_DIS             0x00001000</span>
<span class="cp">#define E1000_RFCTL_EXTEN               0x00008000</span>
<span class="cp">#define E1000_RFCTL_IPV6_EX_DIS         0x00010000</span>
<span class="cp">#define E1000_RFCTL_NEW_IPV6_EXT_DIS    0x00020000</span>

<span class="cm">/* Collision related configuration parameters */</span>
<span class="cp">#define E1000_COLLISION_THRESHOLD       15</span>
<span class="cp">#define E1000_CT_SHIFT                  4</span>
<span class="cp">#define E1000_COLLISION_DISTANCE        63</span>
<span class="cp">#define E1000_COLD_SHIFT                12</span>

<span class="cm">/* Default values for the transmit IPG register */</span>
<span class="cp">#define DEFAULT_82543_TIPG_IPGT_COPPER 8</span>

<span class="cp">#define E1000_TIPG_IPGT_MASK  0x000003FF</span>

<span class="cp">#define DEFAULT_82543_TIPG_IPGR1 8</span>
<span class="cp">#define E1000_TIPG_IPGR1_SHIFT  10</span>

<span class="cp">#define DEFAULT_82543_TIPG_IPGR2 6</span>
<span class="cp">#define DEFAULT_80003ES2LAN_TIPG_IPGR2 7</span>
<span class="cp">#define E1000_TIPG_IPGR2_SHIFT  20</span>

<span class="cp">#define MAX_JUMBO_FRAME_SIZE    0x3F00</span>

<span class="cm">/* Extended Configuration Control and Size */</span>
<span class="cp">#define E1000_EXTCNF_CTRL_MDIO_SW_OWNERSHIP      0x00000020</span>
<span class="cp">#define E1000_EXTCNF_CTRL_LCD_WRITE_ENABLE       0x00000001</span>
<span class="cp">#define E1000_EXTCNF_CTRL_OEM_WRITE_ENABLE       0x00000008</span>
<span class="cp">#define E1000_EXTCNF_CTRL_SWFLAG                 0x00000020</span>
<span class="cp">#define E1000_EXTCNF_CTRL_GATE_PHY_CFG           0x00000080</span>
<span class="cp">#define E1000_EXTCNF_SIZE_EXT_PCIE_LENGTH_MASK   0x00FF0000</span>
<span class="cp">#define E1000_EXTCNF_SIZE_EXT_PCIE_LENGTH_SHIFT          16</span>
<span class="cp">#define E1000_EXTCNF_CTRL_EXT_CNF_POINTER_MASK   0x0FFF0000</span>
<span class="cp">#define E1000_EXTCNF_CTRL_EXT_CNF_POINTER_SHIFT          16</span>

<span class="cp">#define E1000_PHY_CTRL_D0A_LPLU           0x00000002</span>
<span class="cp">#define E1000_PHY_CTRL_NOND0A_LPLU        0x00000004</span>
<span class="cp">#define E1000_PHY_CTRL_NOND0A_GBE_DISABLE 0x00000008</span>
<span class="cp">#define E1000_PHY_CTRL_GBE_DISABLE        0x00000040</span>

<span class="cp">#define E1000_KABGTXD_BGSQLBIAS           0x00050000</span>

<span class="cm">/* PBA constants */</span>
<span class="cp">#define E1000_PBA_8K  0x0008    </span><span class="cm">/* 8KB */</span><span class="cp"></span>
<span class="cp">#define E1000_PBA_16K 0x0010    </span><span class="cm">/* 16KB */</span><span class="cp"></span>

<span class="cp">#define E1000_PBS_16K E1000_PBA_16K</span>

<span class="cp">#define IFS_MAX       80</span>
<span class="cp">#define IFS_MIN       40</span>
<span class="cp">#define IFS_RATIO     4</span>
<span class="cp">#define IFS_STEP      10</span>
<span class="cp">#define MIN_NUM_XMITS 1000</span>

<span class="cm">/* SW Semaphore Register */</span>
<span class="cp">#define E1000_SWSM_SMBI         0x00000001 </span><span class="cm">/* Driver Semaphore bit */</span><span class="cp"></span>
<span class="cp">#define E1000_SWSM_SWESMBI      0x00000002 </span><span class="cm">/* FW Semaphore bit */</span><span class="cp"></span>
<span class="cp">#define E1000_SWSM_DRV_LOAD     0x00000008 </span><span class="cm">/* Driver Loaded Bit */</span><span class="cp"></span>

<span class="cp">#define E1000_SWSM2_LOCK        0x00000002 </span><span class="cm">/* Secondary driver semaphore bit */</span><span class="cp"></span>

<span class="cm">/* Interrupt Cause Read */</span>
<span class="cp">#define E1000_ICR_TXDW          0x00000001 </span><span class="cm">/* Transmit desc written back */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_LSC           0x00000004 </span><span class="cm">/* Link Status Change */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_RXSEQ         0x00000008 </span><span class="cm">/* Rx sequence error */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_RXDMT0        0x00000010 </span><span class="cm">/* Rx desc min. threshold (0) */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_RXT0          0x00000080 </span><span class="cm">/* Rx timer intr (ring 0) */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_INT_ASSERTED  0x80000000 </span><span class="cm">/* If this bit asserted, the driver should claim the interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_RXQ0          0x00100000 </span><span class="cm">/* Rx Queue 0 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_RXQ1          0x00200000 </span><span class="cm">/* Rx Queue 1 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_TXQ0          0x00400000 </span><span class="cm">/* Tx Queue 0 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_TXQ1          0x00800000 </span><span class="cm">/* Tx Queue 1 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_ICR_OTHER         0x01000000 </span><span class="cm">/* Other Interrupts */</span><span class="cp"></span>

<span class="cm">/* PBA ECC Register */</span>
<span class="cp">#define E1000_PBA_ECC_COUNTER_MASK  0xFFF00000 </span><span class="cm">/* ECC counter mask */</span><span class="cp"></span>
<span class="cp">#define E1000_PBA_ECC_COUNTER_SHIFT 20         </span><span class="cm">/* ECC counter shift value */</span><span class="cp"></span>
<span class="cp">#define E1000_PBA_ECC_CORR_EN       0x00000001 </span><span class="cm">/* ECC correction enable */</span><span class="cp"></span>
<span class="cp">#define E1000_PBA_ECC_STAT_CLR      0x00000002 </span><span class="cm">/* Clear ECC error counter */</span><span class="cp"></span>
<span class="cp">#define E1000_PBA_ECC_INT_EN        0x00000004 </span><span class="cm">/* Enable ICR bit 5 for ECC */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * This defines the bits that are set in the Interrupt Mask</span>
<span class="cm"> * Set/Read Register.  Each bit is documented below:</span>
<span class="cm"> *   o RXT0   = Receiver Timer Interrupt (ring 0)</span>
<span class="cm"> *   o TXDW   = Transmit Descriptor Written Back</span>
<span class="cm"> *   o RXDMT0 = Receive Descriptor Minimum Threshold hit (ring 0)</span>
<span class="cm"> *   o RXSEQ  = Receive Sequence Error</span>
<span class="cm"> *   o LSC    = Link Status Change</span>
<span class="cm"> */</span>
<span class="cp">#define IMS_ENABLE_MASK ( \</span>
<span class="cp">    E1000_IMS_RXT0   |    \</span>
<span class="cp">    E1000_IMS_TXDW   |    \</span>
<span class="cp">    E1000_IMS_RXDMT0 |    \</span>
<span class="cp">    E1000_IMS_RXSEQ  |    \</span>
<span class="cp">    E1000_IMS_LSC)</span>

<span class="cm">/* Interrupt Mask Set */</span>
<span class="cp">#define E1000_IMS_TXDW      E1000_ICR_TXDW      </span><span class="cm">/* Transmit desc written back */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_LSC       E1000_ICR_LSC       </span><span class="cm">/* Link Status Change */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_RXSEQ     E1000_ICR_RXSEQ     </span><span class="cm">/* Rx sequence error */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_RXDMT0    E1000_ICR_RXDMT0    </span><span class="cm">/* Rx desc min. threshold */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_RXT0      E1000_ICR_RXT0      </span><span class="cm">/* Rx timer intr */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_RXQ0      E1000_ICR_RXQ0      </span><span class="cm">/* Rx Queue 0 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_RXQ1      E1000_ICR_RXQ1      </span><span class="cm">/* Rx Queue 1 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_TXQ0      E1000_ICR_TXQ0      </span><span class="cm">/* Tx Queue 0 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_TXQ1      E1000_ICR_TXQ1      </span><span class="cm">/* Tx Queue 1 Interrupt */</span><span class="cp"></span>
<span class="cp">#define E1000_IMS_OTHER     E1000_ICR_OTHER     </span><span class="cm">/* Other Interrupts */</span><span class="cp"></span>

<span class="cm">/* Interrupt Cause Set */</span>
<span class="cp">#define E1000_ICS_LSC       E1000_ICR_LSC       </span><span class="cm">/* Link Status Change */</span><span class="cp"></span>
<span class="cp">#define E1000_ICS_RXSEQ     E1000_ICR_RXSEQ     </span><span class="cm">/* Rx sequence error */</span><span class="cp"></span>
<span class="cp">#define E1000_ICS_RXDMT0    E1000_ICR_RXDMT0    </span><span class="cm">/* Rx desc min. threshold */</span><span class="cp"></span>

<span class="cm">/* Transmit Descriptor Control */</span>
<span class="cp">#define E1000_TXDCTL_PTHRESH 0x0000003F </span><span class="cm">/* TXDCTL Prefetch Threshold */</span><span class="cp"></span>
<span class="cp">#define E1000_TXDCTL_HTHRESH 0x00003F00 </span><span class="cm">/* TXDCTL Host Threshold */</span><span class="cp"></span>
<span class="cp">#define E1000_TXDCTL_WTHRESH 0x003F0000 </span><span class="cm">/* TXDCTL Writeback Threshold */</span><span class="cp"></span>
<span class="cp">#define E1000_TXDCTL_GRAN    0x01000000 </span><span class="cm">/* TXDCTL Granularity */</span><span class="cp"></span>
<span class="cp">#define E1000_TXDCTL_FULL_TX_DESC_WB 0x01010000 </span><span class="cm">/* GRAN=1, WTHRESH=1 */</span><span class="cp"></span>
<span class="cp">#define E1000_TXDCTL_MAX_TX_DESC_PREFETCH 0x0100001F </span><span class="cm">/* GRAN=1, PTHRESH=31 */</span><span class="cp"></span>
<span class="cm">/* Enable the counting of desc. still to be processed. */</span>
<span class="cp">#define E1000_TXDCTL_COUNT_DESC 0x00400000</span>

<span class="cm">/* Flow Control Constants */</span>
<span class="cp">#define FLOW_CONTROL_ADDRESS_LOW  0x00C28001</span>
<span class="cp">#define FLOW_CONTROL_ADDRESS_HIGH 0x00000100</span>
<span class="cp">#define FLOW_CONTROL_TYPE         0x8808</span>

<span class="cm">/* 802.1q VLAN Packet Size */</span>
<span class="cp">#define E1000_VLAN_FILTER_TBL_SIZE 128  </span><span class="cm">/* VLAN Filter Table (4096 bits) */</span><span class="cp"></span>

<span class="cm">/* Receive Address */</span>
<span class="cm">/*</span>
<span class="cm"> * Number of high/low register pairs in the RAR. The RAR (Receive Address</span>
<span class="cm"> * Registers) holds the directed and multicast addresses that we monitor.</span>
<span class="cm"> * Technically, we have 16 spots.  However, we reserve one of these spots</span>
<span class="cm"> * (RAR[15]) for our directed address used by controllers with</span>
<span class="cm"> * manageability enabled, allowing us room for 15 multicast addresses.</span>
<span class="cm"> */</span>
<span class="cp">#define E1000_RAR_ENTRIES     15</span>
<span class="cp">#define E1000_RAH_AV  0x80000000        </span><span class="cm">/* Receive descriptor valid */</span><span class="cp"></span>
<span class="cp">#define E1000_RAL_MAC_ADDR_LEN 4</span>
<span class="cp">#define E1000_RAH_MAC_ADDR_LEN 2</span>

<span class="cm">/* Error Codes */</span>
<span class="cp">#define E1000_ERR_NVM      1</span>
<span class="cp">#define E1000_ERR_PHY      2</span>
<span class="cp">#define E1000_ERR_CONFIG   3</span>
<span class="cp">#define E1000_ERR_PARAM    4</span>
<span class="cp">#define E1000_ERR_MAC_INIT 5</span>
<span class="cp">#define E1000_ERR_PHY_TYPE 6</span>
<span class="cp">#define E1000_ERR_RESET   9</span>
<span class="cp">#define E1000_ERR_MASTER_REQUESTS_PENDING 10</span>
<span class="cp">#define E1000_ERR_HOST_INTERFACE_COMMAND 11</span>
<span class="cp">#define E1000_BLK_PHY_RESET   12</span>
<span class="cp">#define E1000_ERR_SWFW_SYNC 13</span>
<span class="cp">#define E1000_NOT_IMPLEMENTED 14</span>
<span class="cp">#define E1000_ERR_INVALID_ARGUMENT  16</span>
<span class="cp">#define E1000_ERR_NO_SPACE          17</span>
<span class="cp">#define E1000_ERR_NVM_PBA_SECTION   18</span>

<span class="cm">/* Loop limit on how long we wait for auto-negotiation to complete */</span>
<span class="cp">#define FIBER_LINK_UP_LIMIT               50</span>
<span class="cp">#define COPPER_LINK_UP_LIMIT              10</span>
<span class="cp">#define PHY_AUTO_NEG_LIMIT                45</span>
<span class="cp">#define PHY_FORCE_LIMIT                   20</span>
<span class="cm">/* Number of 100 microseconds we wait for PCI Express master disable */</span>
<span class="cp">#define MASTER_DISABLE_TIMEOUT      800</span>
<span class="cm">/* Number of milliseconds we wait for PHY configuration done after MAC reset */</span>
<span class="cp">#define PHY_CFG_TIMEOUT             100</span>
<span class="cm">/* Number of 2 milliseconds we wait for acquiring MDIO ownership. */</span>
<span class="cp">#define MDIO_OWNERSHIP_TIMEOUT      10</span>
<span class="cm">/* Number of milliseconds for NVM auto read done after MAC reset. */</span>
<span class="cp">#define AUTO_READ_DONE_TIMEOUT      10</span>

<span class="cm">/* Flow Control */</span>
<span class="cp">#define E1000_FCRTH_RTH  0x0000FFF8     </span><span class="cm">/* Mask Bits[15:3] for RTH */</span><span class="cp"></span>
<span class="cp">#define E1000_FCRTL_RTL  0x0000FFF8     </span><span class="cm">/* Mask Bits[15:3] for RTL */</span><span class="cp"></span>
<span class="cp">#define E1000_FCRTL_XONE 0x80000000     </span><span class="cm">/* Enable XON frame transmission */</span><span class="cp"></span>

<span class="cm">/* Transmit Configuration Word */</span>
<span class="cp">#define E1000_TXCW_FD         0x00000020        </span><span class="cm">/* TXCW full duplex */</span><span class="cp"></span>
<span class="cp">#define E1000_TXCW_PAUSE      0x00000080        </span><span class="cm">/* TXCW sym pause request */</span><span class="cp"></span>
<span class="cp">#define E1000_TXCW_ASM_DIR    0x00000100        </span><span class="cm">/* TXCW astm pause direction */</span><span class="cp"></span>
<span class="cp">#define E1000_TXCW_PAUSE_MASK 0x00000180        </span><span class="cm">/* TXCW pause request mask */</span><span class="cp"></span>
<span class="cp">#define E1000_TXCW_ANE        0x80000000        </span><span class="cm">/* Auto-neg enable */</span><span class="cp"></span>

<span class="cm">/* Receive Configuration Word */</span>
<span class="cp">#define E1000_RXCW_CW         0x0000ffff        </span><span class="cm">/* RxConfigWord mask */</span><span class="cp"></span>
<span class="cp">#define E1000_RXCW_IV         0x08000000        </span><span class="cm">/* Receive config invalid */</span><span class="cp"></span>
<span class="cp">#define E1000_RXCW_C          0x20000000        </span><span class="cm">/* Receive config */</span><span class="cp"></span>
<span class="cp">#define E1000_RXCW_SYNCH      0x40000000        </span><span class="cm">/* Receive config synch */</span><span class="cp"></span>

<span class="cm">/* PCI Express Control */</span>
<span class="cp">#define E1000_GCR_RXD_NO_SNOOP          0x00000001</span>
<span class="cp">#define E1000_GCR_RXDSCW_NO_SNOOP       0x00000002</span>
<span class="cp">#define E1000_GCR_RXDSCR_NO_SNOOP       0x00000004</span>
<span class="cp">#define E1000_GCR_TXD_NO_SNOOP          0x00000008</span>
<span class="cp">#define E1000_GCR_TXDSCW_NO_SNOOP       0x00000010</span>
<span class="cp">#define E1000_GCR_TXDSCR_NO_SNOOP       0x00000020</span>

<span class="cp">#define PCIE_NO_SNOOP_ALL (E1000_GCR_RXD_NO_SNOOP         | \</span>
<span class="cp">			   E1000_GCR_RXDSCW_NO_SNOOP      | \</span>
<span class="cp">			   E1000_GCR_RXDSCR_NO_SNOOP      | \</span>
<span class="cp">			   E1000_GCR_TXD_NO_SNOOP         | \</span>
<span class="cp">			   E1000_GCR_TXDSCW_NO_SNOOP      | \</span>
<span class="cp">			   E1000_GCR_TXDSCR_NO_SNOOP)</span>

<span class="cm">/* PHY Control Register */</span>
<span class="cp">#define MII_CR_FULL_DUPLEX      0x0100  </span><span class="cm">/* FDX =1, half duplex =0 */</span><span class="cp"></span>
<span class="cp">#define MII_CR_RESTART_AUTO_NEG 0x0200  </span><span class="cm">/* Restart auto negotiation */</span><span class="cp"></span>
<span class="cp">#define MII_CR_POWER_DOWN       0x0800  </span><span class="cm">/* Power down */</span><span class="cp"></span>
<span class="cp">#define MII_CR_AUTO_NEG_EN      0x1000  </span><span class="cm">/* Auto Neg Enable */</span><span class="cp"></span>
<span class="cp">#define MII_CR_LOOPBACK         0x4000  </span><span class="cm">/* 0 = normal, 1 = loopback */</span><span class="cp"></span>
<span class="cp">#define MII_CR_RESET            0x8000  </span><span class="cm">/* 0 = normal, 1 = PHY reset */</span><span class="cp"></span>
<span class="cp">#define MII_CR_SPEED_1000       0x0040</span>
<span class="cp">#define MII_CR_SPEED_100        0x2000</span>
<span class="cp">#define MII_CR_SPEED_10         0x0000</span>

<span class="cm">/* PHY Status Register */</span>
<span class="cp">#define MII_SR_LINK_STATUS       0x0004 </span><span class="cm">/* Link Status 1 = link */</span><span class="cp"></span>
<span class="cp">#define MII_SR_AUTONEG_COMPLETE  0x0020 </span><span class="cm">/* Auto Neg Complete */</span><span class="cp"></span>

<span class="cm">/* Autoneg Advertisement Register */</span>
<span class="cp">#define NWAY_AR_10T_HD_CAPS      0x0020   </span><span class="cm">/* 10T   Half Duplex Capable */</span><span class="cp"></span>
<span class="cp">#define NWAY_AR_10T_FD_CAPS      0x0040   </span><span class="cm">/* 10T   Full Duplex Capable */</span><span class="cp"></span>
<span class="cp">#define NWAY_AR_100TX_HD_CAPS    0x0080   </span><span class="cm">/* 100TX Half Duplex Capable */</span><span class="cp"></span>
<span class="cp">#define NWAY_AR_100TX_FD_CAPS    0x0100   </span><span class="cm">/* 100TX Full Duplex Capable */</span><span class="cp"></span>
<span class="cp">#define NWAY_AR_PAUSE            0x0400   </span><span class="cm">/* Pause operation desired */</span><span class="cp"></span>
<span class="cp">#define NWAY_AR_ASM_DIR          0x0800   </span><span class="cm">/* Asymmetric Pause Direction bit */</span><span class="cp"></span>

<span class="cm">/* Link Partner Ability Register (Base Page) */</span>
<span class="cp">#define NWAY_LPAR_100TX_FD_CAPS  0x0100 </span><span class="cm">/* LP 100TX Full Dplx Capable */</span><span class="cp"></span>
<span class="cp">#define NWAY_LPAR_PAUSE          0x0400 </span><span class="cm">/* LP Pause operation desired */</span><span class="cp"></span>
<span class="cp">#define NWAY_LPAR_ASM_DIR        0x0800 </span><span class="cm">/* LP Asymmetric Pause Direction bit */</span><span class="cp"></span>

<span class="cm">/* Autoneg Expansion Register */</span>
<span class="cp">#define NWAY_ER_LP_NWAY_CAPS     0x0001 </span><span class="cm">/* LP has Auto Neg Capability */</span><span class="cp"></span>

<span class="cm">/* 1000BASE-T Control Register */</span>
<span class="cp">#define CR_1000T_HD_CAPS         0x0100 </span><span class="cm">/* Advertise 1000T HD capability */</span><span class="cp"></span>
<span class="cp">#define CR_1000T_FD_CAPS         0x0200 </span><span class="cm">/* Advertise 1000T FD capability  */</span><span class="cp"></span>
					<span class="cm">/* 0=DTE device */</span>
<span class="cp">#define CR_1000T_MS_VALUE        0x0800 </span><span class="cm">/* 1=Configure PHY as Master */</span><span class="cp"></span>
					<span class="cm">/* 0=Configure PHY as Slave */</span>
<span class="cp">#define CR_1000T_MS_ENABLE       0x1000 </span><span class="cm">/* 1=Master/Slave manual config value */</span><span class="cp"></span>
					<span class="cm">/* 0=Automatic Master/Slave config */</span>

<span class="cm">/* 1000BASE-T Status Register */</span>
<span class="cp">#define SR_1000T_REMOTE_RX_STATUS 0x1000 </span><span class="cm">/* Remote receiver OK */</span><span class="cp"></span>
<span class="cp">#define SR_1000T_LOCAL_RX_STATUS  0x2000 </span><span class="cm">/* Local receiver OK */</span><span class="cp"></span>


<span class="cm">/* PHY 1000 MII Register/Bit Definitions */</span>
<span class="cm">/* PHY Registers defined by IEEE */</span>
<span class="cp">#define PHY_CONTROL      0x00 </span><span class="cm">/* Control Register */</span><span class="cp"></span>
<span class="cp">#define PHY_STATUS       0x01 </span><span class="cm">/* Status Register */</span><span class="cp"></span>
<span class="cp">#define PHY_ID1          0x02 </span><span class="cm">/* Phy Id Reg (word 1) */</span><span class="cp"></span>
<span class="cp">#define PHY_ID2          0x03 </span><span class="cm">/* Phy Id Reg (word 2) */</span><span class="cp"></span>
<span class="cp">#define PHY_AUTONEG_ADV  0x04 </span><span class="cm">/* Autoneg Advertisement */</span><span class="cp"></span>
<span class="cp">#define PHY_LP_ABILITY   0x05 </span><span class="cm">/* Link Partner Ability (Base Page) */</span><span class="cp"></span>
<span class="cp">#define PHY_AUTONEG_EXP  0x06 </span><span class="cm">/* Autoneg Expansion Reg */</span><span class="cp"></span>
<span class="cp">#define PHY_1000T_CTRL   0x09 </span><span class="cm">/* 1000Base-T Control Reg */</span><span class="cp"></span>
<span class="cp">#define PHY_1000T_STATUS 0x0A </span><span class="cm">/* 1000Base-T Status Reg */</span><span class="cp"></span>
<span class="cp">#define PHY_EXT_STATUS   0x0F </span><span class="cm">/* Extended Status Reg */</span><span class="cp"></span>

<span class="cp">#define PHY_CONTROL_LB   0x4000 </span><span class="cm">/* PHY Loopback bit */</span><span class="cp"></span>

<span class="cm">/* NVM Control */</span>
<span class="cp">#define E1000_EECD_SK        0x00000001 </span><span class="cm">/* NVM Clock */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_CS        0x00000002 </span><span class="cm">/* NVM Chip Select */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_DI        0x00000004 </span><span class="cm">/* NVM Data In */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_DO        0x00000008 </span><span class="cm">/* NVM Data Out */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_REQ       0x00000040 </span><span class="cm">/* NVM Access Request */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_GNT       0x00000080 </span><span class="cm">/* NVM Access Grant */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_PRES      0x00000100 </span><span class="cm">/* NVM Present */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_SIZE      0x00000200 </span><span class="cm">/* NVM Size (0=64 word 1=256 word) */</span><span class="cp"></span>
<span class="cm">/* NVM Addressing bits based on type (0-small, 1-large) */</span>
<span class="cp">#define E1000_EECD_ADDR_BITS 0x00000400</span>
<span class="cp">#define E1000_NVM_GRANT_ATTEMPTS   1000 </span><span class="cm">/* NVM # attempts to gain grant */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_AUTO_RD          0x00000200  </span><span class="cm">/* NVM Auto Read done */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_SIZE_EX_MASK     0x00007800  </span><span class="cm">/* NVM Size */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_SIZE_EX_SHIFT     11</span>
<span class="cp">#define E1000_EECD_FLUPD     0x00080000 </span><span class="cm">/* Update FLASH */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_AUPDEN    0x00100000 </span><span class="cm">/* Enable Autonomous FLASH update */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_SEC1VAL   0x00400000 </span><span class="cm">/* Sector One Valid */</span><span class="cp"></span>
<span class="cp">#define E1000_EECD_SEC1VAL_VALID_MASK (E1000_EECD_AUTO_RD | E1000_EECD_PRES)</span>

<span class="cp">#define E1000_NVM_RW_REG_DATA   16   </span><span class="cm">/* Offset to data in NVM read/write registers */</span><span class="cp"></span>
<span class="cp">#define E1000_NVM_RW_REG_DONE   2    </span><span class="cm">/* Offset to READ/WRITE done bit */</span><span class="cp"></span>
<span class="cp">#define E1000_NVM_RW_REG_START  1    </span><span class="cm">/* Start operation */</span><span class="cp"></span>
<span class="cp">#define E1000_NVM_RW_ADDR_SHIFT 2    </span><span class="cm">/* Shift to the address bits */</span><span class="cp"></span>
<span class="cp">#define E1000_NVM_POLL_WRITE    1    </span><span class="cm">/* Flag for polling for write complete */</span><span class="cp"></span>
<span class="cp">#define E1000_NVM_POLL_READ     0    </span><span class="cm">/* Flag for polling for read complete */</span><span class="cp"></span>
<span class="cp">#define E1000_FLASH_UPDATES  2000</span>

<span class="cm">/* NVM Word Offsets */</span>
<span class="cp">#define NVM_COMPAT                 0x0003</span>
<span class="cp">#define NVM_ID_LED_SETTINGS        0x0004</span>
<span class="cp">#define NVM_INIT_CONTROL2_REG      0x000F</span>
<span class="cp">#define NVM_INIT_CONTROL3_PORT_B   0x0014</span>
<span class="cp">#define NVM_INIT_3GIO_3            0x001A</span>
<span class="cp">#define NVM_INIT_CONTROL3_PORT_A   0x0024</span>
<span class="cp">#define NVM_CFG                    0x0012</span>
<span class="cp">#define NVM_ALT_MAC_ADDR_PTR       0x0037</span>
<span class="cp">#define NVM_CHECKSUM_REG           0x003F</span>

<span class="cp">#define E1000_NVM_INIT_CTRL2_MNGM 0x6000 </span><span class="cm">/* Manageability Operation Mode mask */</span><span class="cp"></span>

<span class="cp">#define E1000_NVM_CFG_DONE_PORT_0  0x40000 </span><span class="cm">/* MNG config cycle done */</span><span class="cp"></span>
<span class="cp">#define E1000_NVM_CFG_DONE_PORT_1  0x80000 </span><span class="cm">/* ...for second port */</span><span class="cp"></span>

<span class="cm">/* Mask bits for fields in Word 0x0f of the NVM */</span>
<span class="cp">#define NVM_WORD0F_PAUSE_MASK       0x3000</span>
<span class="cp">#define NVM_WORD0F_PAUSE            0x1000</span>
<span class="cp">#define NVM_WORD0F_ASM_DIR          0x2000</span>

<span class="cm">/* Mask bits for fields in Word 0x1a of the NVM */</span>
<span class="cp">#define NVM_WORD1A_ASPM_MASK  0x000C</span>

<span class="cm">/* Mask bits for fields in Word 0x03 of the EEPROM */</span>
<span class="cp">#define NVM_COMPAT_LOM    0x0800</span>

<span class="cm">/* length of string needed to store PBA number */</span>
<span class="cp">#define E1000_PBANUM_LENGTH             11</span>

<span class="cm">/* For checksumming, the sum of all words in the NVM should equal 0xBABA. */</span>
<span class="cp">#define NVM_SUM                    0xBABA</span>

<span class="cm">/* PBA (printed board assembly) number words */</span>
<span class="cp">#define NVM_PBA_OFFSET_0           8</span>
<span class="cp">#define NVM_PBA_OFFSET_1           9</span>
<span class="cp">#define NVM_PBA_PTR_GUARD          0xFAFA</span>
<span class="cp">#define NVM_WORD_SIZE_BASE_SHIFT   6</span>

<span class="cm">/* NVM Commands - SPI */</span>
<span class="cp">#define NVM_MAX_RETRY_SPI          5000 </span><span class="cm">/* Max wait of 5ms, for RDY signal */</span><span class="cp"></span>
<span class="cp">#define NVM_READ_OPCODE_SPI        0x03 </span><span class="cm">/* NVM read opcode */</span><span class="cp"></span>
<span class="cp">#define NVM_WRITE_OPCODE_SPI       0x02 </span><span class="cm">/* NVM write opcode */</span><span class="cp"></span>
<span class="cp">#define NVM_A8_OPCODE_SPI          0x08 </span><span class="cm">/* opcode bit-3 = address bit-8 */</span><span class="cp"></span>
<span class="cp">#define NVM_WREN_OPCODE_SPI        0x06 </span><span class="cm">/* NVM set Write Enable latch */</span><span class="cp"></span>
<span class="cp">#define NVM_RDSR_OPCODE_SPI        0x05 </span><span class="cm">/* NVM read Status register */</span><span class="cp"></span>

<span class="cm">/* SPI NVM Status Register */</span>
<span class="cp">#define NVM_STATUS_RDY_SPI         0x01</span>

<span class="cm">/* Word definitions for ID LED Settings */</span>
<span class="cp">#define ID_LED_RESERVED_0000 0x0000</span>
<span class="cp">#define ID_LED_RESERVED_FFFF 0xFFFF</span>
<span class="cp">#define ID_LED_DEFAULT       ((ID_LED_OFF1_ON2  &lt;&lt; 12) | \</span>
<span class="cp">			      (ID_LED_OFF1_OFF2 &lt;&lt;  8) | \</span>
<span class="cp">			      (ID_LED_DEF1_DEF2 &lt;&lt;  4) | \</span>
<span class="cp">			      (ID_LED_DEF1_DEF2))</span>
<span class="cp">#define ID_LED_DEF1_DEF2     0x1</span>
<span class="cp">#define ID_LED_DEF1_ON2      0x2</span>
<span class="cp">#define ID_LED_DEF1_OFF2     0x3</span>
<span class="cp">#define ID_LED_ON1_DEF2      0x4</span>
<span class="cp">#define ID_LED_ON1_ON2       0x5</span>
<span class="cp">#define ID_LED_ON1_OFF2      0x6</span>
<span class="cp">#define ID_LED_OFF1_DEF2     0x7</span>
<span class="cp">#define ID_LED_OFF1_ON2      0x8</span>
<span class="cp">#define ID_LED_OFF1_OFF2     0x9</span>

<span class="cp">#define IGP_ACTIVITY_LED_MASK   0xFFFFF0FF</span>
<span class="cp">#define IGP_ACTIVITY_LED_ENABLE 0x0300</span>
<span class="cp">#define IGP_LED3_MODE           0x07000000</span>

<span class="cm">/* PCI/PCI-X/PCI-EX Config space */</span>
<span class="cp">#define PCI_HEADER_TYPE_REGISTER     0x0E</span>
<span class="cp">#define PCIE_LINK_STATUS             0x12</span>

<span class="cp">#define PCI_HEADER_TYPE_MULTIFUNC    0x80</span>
<span class="cp">#define PCIE_LINK_WIDTH_MASK         0x3F0</span>
<span class="cp">#define PCIE_LINK_WIDTH_SHIFT        4</span>

<span class="cp">#define PHY_REVISION_MASK      0xFFFFFFF0</span>
<span class="cp">#define MAX_PHY_REG_ADDRESS    0x1F  </span><span class="cm">/* 5 bit address bus (0-0x1F) */</span><span class="cp"></span>
<span class="cp">#define MAX_PHY_MULTI_PAGE_REG 0xF</span>

<span class="cm">/* Bit definitions for valid PHY IDs. */</span>
<span class="cm">/*</span>
<span class="cm"> * I = Integrated</span>
<span class="cm"> * E = External</span>
<span class="cm"> */</span>
<span class="cp">#define M88E1000_E_PHY_ID    0x01410C50</span>
<span class="cp">#define M88E1000_I_PHY_ID    0x01410C30</span>
<span class="cp">#define M88E1011_I_PHY_ID    0x01410C20</span>
<span class="cp">#define IGP01E1000_I_PHY_ID  0x02A80380</span>
<span class="cp">#define M88E1111_I_PHY_ID    0x01410CC0</span>
<span class="cp">#define GG82563_E_PHY_ID     0x01410CA0</span>
<span class="cp">#define IGP03E1000_E_PHY_ID  0x02A80390</span>
<span class="cp">#define IFE_E_PHY_ID         0x02A80330</span>
<span class="cp">#define IFE_PLUS_E_PHY_ID    0x02A80320</span>
<span class="cp">#define IFE_C_E_PHY_ID       0x02A80310</span>
<span class="cp">#define BME1000_E_PHY_ID     0x01410CB0</span>
<span class="cp">#define BME1000_E_PHY_ID_R2  0x01410CB1</span>
<span class="cp">#define I82577_E_PHY_ID      0x01540050</span>
<span class="cp">#define I82578_E_PHY_ID      0x004DD040</span>
<span class="cp">#define I82579_E_PHY_ID      0x01540090</span>
<span class="cp">#define I217_E_PHY_ID        0x015400A0</span>

<span class="cm">/* M88E1000 Specific Registers */</span>
<span class="cp">#define M88E1000_PHY_SPEC_CTRL     0x10  </span><span class="cm">/* PHY Specific Control Register */</span><span class="cp"></span>
<span class="cp">#define M88E1000_PHY_SPEC_STATUS   0x11  </span><span class="cm">/* PHY Specific Status Register */</span><span class="cp"></span>
<span class="cp">#define M88E1000_EXT_PHY_SPEC_CTRL 0x14  </span><span class="cm">/* Extended PHY Specific Control */</span><span class="cp"></span>

<span class="cp">#define M88E1000_PHY_PAGE_SELECT   0x1D  </span><span class="cm">/* Reg 29 for page number setting */</span><span class="cp"></span>
<span class="cp">#define M88E1000_PHY_GEN_CONTROL   0x1E  </span><span class="cm">/* Its meaning depends on reg 29 */</span><span class="cp"></span>

<span class="cm">/* M88E1000 PHY Specific Control Register */</span>
<span class="cp">#define M88E1000_PSCR_POLARITY_REVERSAL 0x0002 </span><span class="cm">/* 1=Polarity Reversal enabled */</span><span class="cp"></span>
<span class="cp">#define M88E1000_PSCR_MDI_MANUAL_MODE  0x0000  </span><span class="cm">/* MDI Crossover Mode bits 6:5 */</span><span class="cp"></span>
					       <span class="cm">/* Manual MDI configuration */</span>
<span class="cp">#define M88E1000_PSCR_MDIX_MANUAL_MODE 0x0020  </span><span class="cm">/* Manual MDIX configuration */</span><span class="cp"></span>
<span class="cm">/* 1000BASE-T: Auto crossover, 100BASE-TX/10BASE-T: MDI Mode */</span>
<span class="cp">#define M88E1000_PSCR_AUTO_X_1000T     0x0040</span>
<span class="cm">/* Auto crossover enabled all speeds */</span>
<span class="cp">#define M88E1000_PSCR_AUTO_X_MODE      0x0060</span>
<span class="cm">/*</span>
<span class="cm"> * 1=Enable Extended 10BASE-T distance (Lower 10BASE-T Rx Threshold)</span>
<span class="cm"> * 0=Normal 10BASE-T Rx Threshold</span>
<span class="cm"> */</span>
<span class="cp">#define M88E1000_PSCR_ASSERT_CRS_ON_TX 0x0800 </span><span class="cm">/* 1=Assert CRS on Transmit */</span><span class="cp"></span>

<span class="cm">/* M88E1000 PHY Specific Status Register */</span>
<span class="cp">#define M88E1000_PSSR_REV_POLARITY       0x0002 </span><span class="cm">/* 1=Polarity reversed */</span><span class="cp"></span>
<span class="cp">#define M88E1000_PSSR_DOWNSHIFT          0x0020 </span><span class="cm">/* 1=Downshifted */</span><span class="cp"></span>
<span class="cp">#define M88E1000_PSSR_MDIX               0x0040 </span><span class="cm">/* 1=MDIX; 0=MDI */</span><span class="cp"></span>
<span class="cm">/* 0=&lt;50M; 1=50-80M; 2=80-110M; 3=110-140M; 4=&gt;140M */</span>
<span class="cp">#define M88E1000_PSSR_CABLE_LENGTH       0x0380</span>
<span class="cp">#define M88E1000_PSSR_SPEED              0xC000 </span><span class="cm">/* Speed, bits 14:15 */</span><span class="cp"></span>
<span class="cp">#define M88E1000_PSSR_1000MBS            0x8000 </span><span class="cm">/* 10=1000Mbs */</span><span class="cp"></span>

<span class="cp">#define M88E1000_PSSR_CABLE_LENGTH_SHIFT 7</span>

<span class="cm">/*</span>
<span class="cm"> * Number of times we will attempt to autonegotiate before downshifting if we</span>
<span class="cm"> * are the master</span>
<span class="cm"> */</span>
<span class="cp">#define M88E1000_EPSCR_MASTER_DOWNSHIFT_MASK 0x0C00</span>
<span class="cp">#define M88E1000_EPSCR_MASTER_DOWNSHIFT_1X   0x0000</span>
<span class="cm">/*</span>
<span class="cm"> * Number of times we will attempt to autonegotiate before downshifting if we</span>
<span class="cm"> * are the slave</span>
<span class="cm"> */</span>
<span class="cp">#define M88E1000_EPSCR_SLAVE_DOWNSHIFT_MASK  0x0300</span>
<span class="cp">#define M88E1000_EPSCR_SLAVE_DOWNSHIFT_1X    0x0100</span>
<span class="cp">#define M88E1000_EPSCR_TX_CLK_25      0x0070 </span><span class="cm">/* 25  MHz TX_CLK */</span><span class="cp"></span>

<span class="cm">/* M88EC018 Rev 2 specific DownShift settings */</span>
<span class="cp">#define M88EC018_EPSCR_DOWNSHIFT_COUNTER_MASK  0x0E00</span>
<span class="cp">#define M88EC018_EPSCR_DOWNSHIFT_COUNTER_5X    0x0800</span>

<span class="cp">#define I82578_EPSCR_DOWNSHIFT_ENABLE          0x0020</span>
<span class="cp">#define I82578_EPSCR_DOWNSHIFT_COUNTER_MASK    0x001C</span>

<span class="cm">/* BME1000 PHY Specific Control Register */</span>
<span class="cp">#define BME1000_PSCR_ENABLE_DOWNSHIFT   0x0800 </span><span class="cm">/* 1 = enable downshift */</span><span class="cp"></span>


<span class="cp">#define PHY_PAGE_SHIFT 5</span>
<span class="cp">#define PHY_REG(page, reg) (((page) &lt;&lt; PHY_PAGE_SHIFT) | \</span>
<span class="cp">                           ((reg) &amp; MAX_PHY_REG_ADDRESS))</span>

<span class="cm">/*</span>
<span class="cm"> * Bits...</span>
<span class="cm"> * 15-5: page</span>
<span class="cm"> * 4-0: register offset</span>
<span class="cm"> */</span>
<span class="cp">#define GG82563_PAGE_SHIFT        5</span>
<span class="cp">#define GG82563_REG(page, reg)    \</span>
<span class="cp">	(((page) &lt;&lt; GG82563_PAGE_SHIFT) | ((reg) &amp; MAX_PHY_REG_ADDRESS))</span>
<span class="cp">#define GG82563_MIN_ALT_REG       30</span>

<span class="cm">/* GG82563 Specific Registers */</span>
<span class="cp">#define GG82563_PHY_SPEC_CTRL           \</span>
<span class="cp">	GG82563_REG(0, 16) </span><span class="cm">/* PHY Specific Control */</span><span class="cp"></span>
<span class="cp">#define GG82563_PHY_PAGE_SELECT         \</span>
<span class="cp">	GG82563_REG(0, 22) </span><span class="cm">/* Page Select */</span><span class="cp"></span>
<span class="cp">#define GG82563_PHY_SPEC_CTRL_2         \</span>
<span class="cp">	GG82563_REG(0, 26) </span><span class="cm">/* PHY Specific Control 2 */</span><span class="cp"></span>
<span class="cp">#define GG82563_PHY_PAGE_SELECT_ALT     \</span>
<span class="cp">	GG82563_REG(0, 29) </span><span class="cm">/* Alternate Page Select */</span><span class="cp"></span>

<span class="cp">#define GG82563_PHY_MAC_SPEC_CTRL       \</span>
<span class="cp">	GG82563_REG(2, 21) </span><span class="cm">/* MAC Specific Control Register */</span><span class="cp"></span>

<span class="cp">#define GG82563_PHY_DSP_DISTANCE    \</span>
<span class="cp">	GG82563_REG(5, 26) </span><span class="cm">/* DSP Distance */</span><span class="cp"></span>

<span class="cm">/* Page 193 - Port Control Registers */</span>
<span class="cp">#define GG82563_PHY_KMRN_MODE_CTRL   \</span>
<span class="cp">	GG82563_REG(193, 16) </span><span class="cm">/* Kumeran Mode Control */</span><span class="cp"></span>
<span class="cp">#define GG82563_PHY_PWR_MGMT_CTRL       \</span>
<span class="cp">	GG82563_REG(193, 20) </span><span class="cm">/* Power Management Control */</span><span class="cp"></span>

<span class="cm">/* Page 194 - KMRN Registers */</span>
<span class="cp">#define GG82563_PHY_INBAND_CTRL         \</span>
<span class="cp">	GG82563_REG(194, 18) </span><span class="cm">/* Inband Control */</span><span class="cp"></span>

<span class="cm">/* MDI Control */</span>
<span class="cp">#define E1000_MDIC_REG_SHIFT 16</span>
<span class="cp">#define E1000_MDIC_PHY_SHIFT 21</span>
<span class="cp">#define E1000_MDIC_OP_WRITE  0x04000000</span>
<span class="cp">#define E1000_MDIC_OP_READ   0x08000000</span>
<span class="cp">#define E1000_MDIC_READY     0x10000000</span>
<span class="cp">#define E1000_MDIC_ERROR     0x40000000</span>

<span class="cm">/* SerDes Control */</span>
<span class="cp">#define E1000_GEN_POLL_TIMEOUT          640</span>

<span class="cm">/* FW Semaphore */</span>
<span class="cp">#define E1000_FWSM_WLOCK_MAC_MASK	0x0380</span>
<span class="cp">#define E1000_FWSM_WLOCK_MAC_SHIFT	7</span>

<span class="cp">#endif </span><span class="cm">/* _E1000_DEFINES_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
