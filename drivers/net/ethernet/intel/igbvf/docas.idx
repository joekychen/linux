f | ethtool.c | s | 13K | 392 | Mitch A Williams | mitch.a.williams@intel.com | 1341103245 |  | igbvf: fix divide by zero  Using ethtool -C ethX rx-usecs 0 crashes with a divide by zero. Refactor this function to fix this issue and make it more clear what the intent of each conditional is. Add comment regarding using a setting of zero.  CC: stable <stable@vger.kernel.org> [3.3+] CC: David Ahern <daahern@cisco.com> Signed-off-by: Mitch Williams <mitch.a.williams@intel.com> Tested-by: Aaron Brown <aaron.f.brown@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | igbvf.h | s | 8.6K | 258 | Mitch A Williams | mitch.a.williams@intel.com | 1328615363 |  | igbvf: refactor Interrupt Throttle Rate code  The existing ITR code is broken and confusing, with lots of similarly-named variables that do different things. Additionally, after the driver carefully determines the optimal interrupt rate for the adapter, it then ignores it and always writes a fixed, suboptimal value.  This patch refactors that code to make variable names more descriptive of what they actually do, and then actually writes the calculated result to the hardware.  Preliminary testing shows that netperf TCP_STREAM tests goes from ~918Mbps to ~940Mbps, and TCP_RR goes from ~2k transactions/sec up to > 8k.  Signed-off-by: Mitch Williams <mitch.a.williams@intel.com> Tested-by: Robert E Garrett <robertX.e.garrett@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | mbx.h | s | 3.5K | 57 | Mitch A Williams | mitch.a.williams@intel.com | 1328267235 |  | igbvf: change copyright date  Change copyright date to 2012 in the source files.  Signed-off-by: Mitch Williams <mitch.a.williams@intel.com> Tested-by: Robert E Garrett <robertX.e.garrett@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | Makefile | g | 1.3K |  | Mitch A Williams | mitch.a.williams@intel.com | 1328267235 |  | igbvf: change copyright date  Change copyright date to 2012 in the source files.  Signed-off-by: Mitch Williams <mitch.a.williams@intel.com> Tested-by: Robert E Garrett <robertX.e.garrett@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | vf.c | s | 11K | 331 | Joe Perches | joe@perches.com | 1332190388 |  | igbvf: Use ETH_ALEN  Remove an unnecessary #define and use memcpy instead of a loop to copy an ethernet address.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | vf.h | s | 6.8K | 222 | Mitch A Williams | mitch.a.williams@intel.com | 1328267235 |  | igbvf: change copyright date  Change copyright date to 2012 in the source files.  Signed-off-by: Mitch Williams <mitch.a.williams@intel.com> Tested-by: Robert E Garrett <robertX.e.garrett@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | defines.h | s | 4.9K | 94 | Joe Perches | joe@perches.com | 1332190388 |  | igbvf: Use ETH_ALEN  Remove an unnecessary #define and use memcpy instead of a loop to copy an ethernet address.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | regs.h | s | 5.1K | 95 | Mitch A Williams | mitch.a.williams@intel.com | 1328267235 |  | igbvf: change copyright date  Change copyright date to 2012 in the source files.  Signed-off-by: Mitch Williams <mitch.a.williams@intel.com> Tested-by: Robert E Garrett <robertX.e.garrett@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | netdev.c | s | 76K | 2398 | Samuel Liao | samuelliao@tencent.com | 1335837271 |  | igbvf: fix the bug when initializing the igbvf  Maybe it's a typo, but it cause that igbvf can't be initialized successfully. Set perm_addr value using valid dev_addr, although which is equal to hw.mac.addr.  Signed-off-by: Samuel Liao <samuelliao@tencent.com> Signed-off-by: Shan Wei <davidshan@tencent.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | mbx.c | s | 8.9K | 286 | Mitch A Williams | mitch.a.williams@intel.com | 1328267235 |  | igbvf: change copyright date  Change copyright date to 2012 in the source files.  Signed-off-by: Mitch Williams <mitch.a.williams@intel.com> Tested-by: Robert E Garrett <robertX.e.garrett@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
