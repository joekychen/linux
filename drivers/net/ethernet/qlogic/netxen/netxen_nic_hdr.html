<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › qlogic › netxen › netxen_nic_hdr.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>netxen_nic_hdr.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2003 - 2009 NetXen, Inc.</span>
<span class="cm"> * Copyright (C) 2009 - QLogic Corporation.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Public License</span>
<span class="cm"> * as published by the Free Software Foundation; either version 2</span>
<span class="cm"> * of the License, or (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston,</span>
<span class="cm"> * MA  02111-1307, USA.</span>
<span class="cm"> *</span>
<span class="cm"> * The full GNU General Public License is included in this distribution</span>
<span class="cm"> * in the file called &quot;COPYING&quot;.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __NETXEN_NIC_HDR_H_</span>
<span class="cp">#define __NETXEN_NIC_HDR_H_</span>

<span class="cp">#include &lt;linux/kernel.h&gt;</span>
<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * The basic unit of access when reading/writing control registers.</span>
<span class="cm"> */</span>

<span class="k">typedef</span> <span class="n">__le32</span> <span class="n">netxen_crbword_t</span><span class="p">;</span>	<span class="cm">/* single word in CRB space */</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_H0_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">NETXEN_HW_H1_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	<span class="n">NETXEN_HW_H2_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">NETXEN_HW_H3_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">NETXEN_HW_H4_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">NETXEN_HW_H5_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">NETXEN_HW_H6_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x08</span>
<span class="p">};</span>

<span class="cm">/*  Hub 0 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_MN_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">NETXEN_HW_MS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x25</span>
<span class="p">};</span>

<span class="cm">/*  Hub 1 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_PS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x73</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0b</span><span class="p">,</span>
	<span class="n">NETXEN_HW_QMS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQGS0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQGS1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQGS2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQGS3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">NETXEN_HW_C2C0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x58</span><span class="p">,</span>
	<span class="n">NETXEN_HW_C2C1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x59</span><span class="p">,</span>
	<span class="n">NETXEN_HW_C2C2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x5a</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0a</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX4_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0c</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX7_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX9_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SMB_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x18</span>
<span class="p">};</span>

<span class="cm">/*  Hub 2 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_NIU_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x31</span><span class="p">,</span>
	<span class="n">NETXEN_HW_I2C0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x19</span><span class="p">,</span>
	<span class="n">NETXEN_HW_I2C1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x29</span><span class="p">,</span>

	<span class="n">NETXEN_HW_SN_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">NETXEN_HW_I2Q_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">NETXEN_HW_LPC_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span>
	<span class="n">NETXEN_HW_ROMUSB_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x21</span><span class="p">,</span>
	<span class="n">NETXEN_HW_QM_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x66</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQG0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQG1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x61</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQG2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x62</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SQG3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x63</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX5_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0d</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX6_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0e</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX8_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x11</span>
<span class="p">};</span>

<span class="cm">/*  Hub 3 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_PH_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x1A</span><span class="p">,</span>
	<span class="n">NETXEN_HW_SRE_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span>
	<span class="n">NETXEN_HW_EG_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x51</span><span class="p">,</span>
	<span class="n">NETXEN_HW_RPMX0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x08</span>
<span class="p">};</span>

<span class="cm">/*  Hub 4 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_PEGN0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGN1_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGN2_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGN3_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGNI_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGND_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGNC_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGR0_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGR1_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGR2_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGR3_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGN4_CRB_AGT_ADR</span>
<span class="p">};</span>

<span class="cm">/*  Hub 5 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_PEGS0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGS1_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGS2_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGS3_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGSI_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGSD_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PEGSC_CRB_AGT_ADR</span>
<span class="p">};</span>

<span class="cm">/*  Hub 6 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_CAS0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x46</span><span class="p">,</span>
	<span class="n">NETXEN_HW_CAS1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x47</span><span class="p">,</span>
	<span class="n">NETXEN_HW_CAS2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x48</span><span class="p">,</span>
	<span class="n">NETXEN_HW_CAS3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x49</span><span class="p">,</span>
	<span class="n">NETXEN_HW_NCM_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x16</span><span class="p">,</span>
	<span class="n">NETXEN_HW_TMR_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x17</span><span class="p">,</span>
	<span class="n">NETXEN_HW_XDMA_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">NETXEN_HW_OCM0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">NETXEN_HW_OCM1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x07</span>
<span class="p">};</span>

<span class="cm">/*  Floaters - non existent modules */</span>
<span class="cp">#define NETXEN_HW_EFC_RPMX0_CRB_AGT_ADR	0x67</span>

<span class="cm">/*  This field defines PCI/X adr [25:20] of agents on the CRB */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PH</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PS</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_MN</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_MS</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGR1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SRE</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_NIU</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_QMN</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQN0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQN1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQN2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQN3</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_QMS</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQS0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQS1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQS2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SQS3</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGN0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGN1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGN2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGN3</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGND</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGNI</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGS0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGS1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGS2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGS3</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGSD</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGSI</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SN</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGR2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_EG</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PH2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PS2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_CAM</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_CAS0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_CAS1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_CAS2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_C2C0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_C2C1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_TIMR</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGR3</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX2</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX3</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX4</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX5</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX6</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX7</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_XDMA</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_I2Q</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_ROMUSB</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_CAS3</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX8</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_RPMX9</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_OCM0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_OCM1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_SMB</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_I2C0</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_I2C1</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_LPC</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGNC</span><span class="p">,</span>
	<span class="n">NETXEN_HW_PX_MAP_CRB_PGR0</span>
<span class="p">};</span>

<span class="cm">/*  This field defines CRB adr [31:20] of the agents */</span>

<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_MN	\</span>
<span class="cp">	((NETXEN_HW_H0_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_MN_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PH	\</span>
<span class="cp">	((NETXEN_HW_H0_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PH_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_MS	\</span>
<span class="cp">	((NETXEN_HW_H0_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_MS_CRB_AGT_ADR)</span>

<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PS	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PS_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SS	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SS_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX3	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX3_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_QMS	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_QMS_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQS0	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQGS0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQS1	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQGS1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQS2	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQGS2_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQS3	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQGS3_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_C2C0	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_C2C0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_C2C1	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_C2C1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX2	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX2_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX4	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX4_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX7	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX7_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX9	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX9_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SMB	\</span>
<span class="cp">	((NETXEN_HW_H1_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SMB_CRB_AGT_ADR)</span>

<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_NIU	\</span>
<span class="cp">	((NETXEN_HW_H2_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_NIU_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_I2C0	\</span>
<span class="cp">	((NETXEN_HW_H2_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_I2C0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_I2C1	\</span>
<span class="cp">	((NETXEN_HW_H2_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_I2C1_CRB_AGT_ADR)</span>

<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SRE	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SRE_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_EG	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_EG_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX0	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_QMN	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_QM_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQN0	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQG0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQN1	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQG1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQN2	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQG2_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SQN3	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SQG3_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX1	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX5	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX5_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX6	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX6_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_RPMX8	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_RPMX8_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_CAS0	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_CAS0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_CAS1	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_CAS1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_CAS2	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_CAS2_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_CAS3	\</span>
<span class="cp">	((NETXEN_HW_H3_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_CAS3_CRB_AGT_ADR)</span>

<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGNI	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGNI_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGND	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGND_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGN0	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGN0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGN1	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGN1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGN2	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGN2_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGN3	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGN3_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGN4	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGN4_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGNC	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGNC_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGR0	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGR0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGR1	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGR1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGR2	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGR2_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGR3	\</span>
<span class="cp">	((NETXEN_HW_H4_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGR3_CRB_AGT_ADR)</span>

<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGSI	\</span>
<span class="cp">	((NETXEN_HW_H5_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGSI_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGSD	\</span>
<span class="cp">	((NETXEN_HW_H5_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGSD_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGS0	\</span>
<span class="cp">	((NETXEN_HW_H5_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGS0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGS1	\</span>
<span class="cp">	((NETXEN_HW_H5_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGS1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGS2	\</span>
<span class="cp">	((NETXEN_HW_H5_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGS2_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGS3	\</span>
<span class="cp">	((NETXEN_HW_H5_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGS3_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_PGSC	\</span>
<span class="cp">	((NETXEN_HW_H5_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_PEGSC_CRB_AGT_ADR)</span>

<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_CAM	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_NCM_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_TIMR	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_TMR_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_XDMA	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_XDMA_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_SN	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_SN_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_I2Q	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_I2Q_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_ROMUSB	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_ROMUSB_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_OCM0	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_OCM0_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_OCM1	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_OCM1_CRB_AGT_ADR)</span>
<span class="cp">#define NETXEN_HW_CRB_HUB_AGT_ADR_LPC	\</span>
<span class="cp">	((NETXEN_HW_H6_CH_HUB_ADR &lt;&lt; 7) | NETXEN_HW_LPC_CRB_AGT_ADR)</span>

<span class="cp">#define NETXEN_SRE_MISC			(NETXEN_CRB_SRE + 0x0002c)</span>
<span class="cp">#define NETXEN_SRE_INT_STATUS		(NETXEN_CRB_SRE + 0x00034)</span>
<span class="cp">#define NETXEN_SRE_PBI_ACTIVE_STATUS	(NETXEN_CRB_SRE + 0x01014)</span>
<span class="cp">#define NETXEN_SRE_L1RE_CTL		(NETXEN_CRB_SRE + 0x03000)</span>
<span class="cp">#define NETXEN_SRE_L2RE_CTL		(NETXEN_CRB_SRE + 0x05000)</span>
<span class="cp">#define NETXEN_SRE_BUF_CTL		(NETXEN_CRB_SRE + 0x01000)</span>

<span class="cp">#define	NETXEN_DMA_BASE(U)	(NETXEN_CRB_PCIX_MD + 0x20000 + ((U)&lt;&lt;16))</span>
<span class="cp">#define	NETXEN_DMA_COMMAND(U)	(NETXEN_DMA_BASE(U) + 0x00008)</span>

<span class="cp">#define NETXEN_I2Q_CLR_PCI_HI	(NETXEN_CRB_I2Q + 0x00034)</span>

<span class="cp">#define PEG_NETWORK_BASE(N)	(NETXEN_CRB_PEG_NET_0 + (((N)&amp;3) &lt;&lt; 20))</span>
<span class="cp">#define CRB_REG_EX_PC		0x3c</span>

<span class="cp">#define ROMUSB_GLB	(NETXEN_CRB_ROMUSB + 0x00000)</span>
<span class="cp">#define ROMUSB_ROM	(NETXEN_CRB_ROMUSB + 0x10000)</span>

<span class="cp">#define NETXEN_ROMUSB_GLB_STATUS	(ROMUSB_GLB + 0x0004)</span>
<span class="cp">#define NETXEN_ROMUSB_GLB_SW_RESET	(ROMUSB_GLB + 0x0008)</span>
<span class="cp">#define NETXEN_ROMUSB_GLB_PAD_GPIO_I	(ROMUSB_GLB + 0x000c)</span>
<span class="cp">#define NETXEN_ROMUSB_GLB_CAS_RST	(ROMUSB_GLB + 0x0038)</span>
<span class="cp">#define NETXEN_ROMUSB_GLB_TEST_MUX_SEL	(ROMUSB_GLB + 0x0044)</span>
<span class="cp">#define NETXEN_ROMUSB_GLB_PEGTUNE_DONE	(ROMUSB_GLB + 0x005c)</span>
<span class="cp">#define NETXEN_ROMUSB_GLB_CHIP_CLK_CTRL	(ROMUSB_GLB + 0x00A8)</span>

<span class="cp">#define NETXEN_ROMUSB_GPIO(n)		(ROMUSB_GLB + 0x60 + (4 * (n)))</span>

<span class="cp">#define NETXEN_ROMUSB_ROM_INSTR_OPCODE	(ROMUSB_ROM + 0x0004)</span>
<span class="cp">#define NETXEN_ROMUSB_ROM_ADDRESS	(ROMUSB_ROM + 0x0008)</span>
<span class="cp">#define NETXEN_ROMUSB_ROM_WDATA		(ROMUSB_ROM + 0x000c)</span>
<span class="cp">#define NETXEN_ROMUSB_ROM_ABYTE_CNT	(ROMUSB_ROM + 0x0010)</span>
<span class="cp">#define NETXEN_ROMUSB_ROM_DUMMY_BYTE_CNT (ROMUSB_ROM + 0x0014)</span>
<span class="cp">#define NETXEN_ROMUSB_ROM_RDATA		(ROMUSB_ROM + 0x0018)</span>

<span class="cm">/* Lock IDs for ROM lock */</span>
<span class="cp">#define ROM_LOCK_DRIVER	0x0d417340</span>

<span class="cm">/******************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*    Definitions specific to M25P flash</span>
<span class="cm">*</span>
<span class="cm">*******************************************************************************</span>
<span class="cm">*   Instructions</span>
<span class="cm">*/</span>
<span class="cp">#define M25P_INSTR_WREN		0x06</span>
<span class="cp">#define M25P_INSTR_WRDI		0x04</span>
<span class="cp">#define M25P_INSTR_RDID		0x9f</span>
<span class="cp">#define M25P_INSTR_RDSR		0x05</span>
<span class="cp">#define M25P_INSTR_WRSR		0x01</span>
<span class="cp">#define M25P_INSTR_READ		0x03</span>
<span class="cp">#define M25P_INSTR_FAST_READ	0x0b</span>
<span class="cp">#define M25P_INSTR_PP		0x02</span>
<span class="cp">#define M25P_INSTR_SE		0xd8</span>
<span class="cp">#define M25P_INSTR_BE		0xc7</span>
<span class="cp">#define M25P_INSTR_DP		0xb9</span>
<span class="cp">#define M25P_INSTR_RES		0xab</span>

<span class="cm">/* all are 1MB windows */</span>

<span class="cp">#define NETXEN_PCI_CRB_WINDOWSIZE	0x00100000</span>
<span class="cp">#define NETXEN_PCI_CRB_WINDOW(A)	\</span>
<span class="cp">	(NETXEN_PCI_CRBSPACE + (A)*NETXEN_PCI_CRB_WINDOWSIZE)</span>

<span class="cp">#define NETXEN_CRB_NIU		NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_NIU)</span>
<span class="cp">#define NETXEN_CRB_SRE		NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_SRE)</span>
<span class="cp">#define NETXEN_CRB_ROMUSB	\</span>
<span class="cp">	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_ROMUSB)</span>
<span class="cp">#define NETXEN_CRB_I2Q		NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_I2Q)</span>
<span class="cp">#define NETXEN_CRB_I2C0		NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_I2C0)</span>
<span class="cp">#define NETXEN_CRB_SMB		NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_SMB)</span>
<span class="cp">#define NETXEN_CRB_MAX		NETXEN_PCI_CRB_WINDOW(64)</span>

<span class="cp">#define NETXEN_CRB_PCIX_HOST	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PH)</span>
<span class="cp">#define NETXEN_CRB_PCIX_HOST2	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PH2)</span>
<span class="cp">#define NETXEN_CRB_PEG_NET_0	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PGN0)</span>
<span class="cp">#define NETXEN_CRB_PEG_NET_1	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PGN1)</span>
<span class="cp">#define NETXEN_CRB_PEG_NET_2	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PGN2)</span>
<span class="cp">#define NETXEN_CRB_PEG_NET_3	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PGN3)</span>
<span class="cp">#define NETXEN_CRB_PEG_NET_4	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_SQS2)</span>
<span class="cp">#define NETXEN_CRB_PEG_NET_D	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PGND)</span>
<span class="cp">#define NETXEN_CRB_PEG_NET_I	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PGNI)</span>
<span class="cp">#define NETXEN_CRB_DDR_NET	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_MN)</span>
<span class="cp">#define NETXEN_CRB_QDR_NET	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_SN)</span>

<span class="cp">#define NETXEN_CRB_PCIX_MD	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_PS)</span>
<span class="cp">#define NETXEN_CRB_PCIE		NETXEN_CRB_PCIX_MD</span>

<span class="cp">#define ISR_INT_VECTOR		(NETXEN_PCIX_PS_REG(PCIX_INT_VECTOR))</span>
<span class="cp">#define ISR_INT_MASK		(NETXEN_PCIX_PS_REG(PCIX_INT_MASK))</span>
<span class="cp">#define ISR_INT_MASK_SLOW	(NETXEN_PCIX_PS_REG(PCIX_INT_MASK))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS	(NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS))</span>
<span class="cp">#define ISR_INT_TARGET_MASK	(NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F1   (NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS_F1))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F1     (NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK_F1))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F2   (NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS_F2))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F2     (NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK_F2))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F3   (NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS_F3))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F3     (NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK_F3))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F4   (NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS_F4))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F4     (NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK_F4))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F5   (NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS_F5))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F5     (NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK_F5))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F6   (NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS_F6))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F6     (NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK_F6))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F7   (NETXEN_PCIX_PS_REG(PCIX_TARGET_STATUS_F7))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F7     (NETXEN_PCIX_PS_REG(PCIX_TARGET_MASK_F7))</span>

<span class="cp">#define NETXEN_PCI_MAPSIZE	128</span>
<span class="cp">#define NETXEN_PCI_DDR_NET	(0x00000000UL)</span>
<span class="cp">#define NETXEN_PCI_QDR_NET	(0x04000000UL)</span>
<span class="cp">#define NETXEN_PCI_DIRECT_CRB	(0x04400000UL)</span>
<span class="cp">#define NETXEN_PCI_CAMQM	(0x04800000UL)</span>
<span class="cp">#define NETXEN_PCI_CAMQM_MAX	(0x04ffffffUL)</span>
<span class="cp">#define NETXEN_PCI_OCM0		(0x05000000UL)</span>
<span class="cp">#define NETXEN_PCI_OCM0_MAX	(0x050fffffUL)</span>
<span class="cp">#define NETXEN_PCI_OCM1		(0x05100000UL)</span>
<span class="cp">#define NETXEN_PCI_OCM1_MAX	(0x051fffffUL)</span>
<span class="cp">#define NETXEN_PCI_CRBSPACE	(0x06000000UL)</span>
<span class="cp">#define NETXEN_PCI_128MB_SIZE	(0x08000000UL)</span>
<span class="cp">#define NETXEN_PCI_32MB_SIZE	(0x02000000UL)</span>
<span class="cp">#define NETXEN_PCI_2MB_SIZE	(0x00200000UL)</span>

<span class="cp">#define NETXEN_PCI_MN_2M	(0)</span>
<span class="cp">#define NETXEN_PCI_MS_2M	(0x80000)</span>
<span class="cp">#define NETXEN_PCI_OCM0_2M	(0x000c0000UL)</span>
<span class="cp">#define NETXEN_PCI_CAMQM_2M_BASE	(0x000ff800UL)</span>
<span class="cp">#define NETXEN_PCI_CAMQM_2M_END		(0x04800800UL)</span>

<span class="cp">#define NETXEN_CRB_CAM	NETXEN_PCI_CRB_WINDOW(NETXEN_HW_PX_MAP_CRB_CAM)</span>

<span class="cp">#define NETXEN_ADDR_DDR_NET	(0x0000000000000000ULL)</span>
<span class="cp">#define NETXEN_ADDR_DDR_NET_MAX (0x000000000fffffffULL)</span>
<span class="cp">#define NETXEN_ADDR_OCM0	(0x0000000200000000ULL)</span>
<span class="cp">#define NETXEN_ADDR_OCM0_MAX	(0x00000002000fffffULL)</span>
<span class="cp">#define NETXEN_ADDR_OCM1	(0x0000000200400000ULL)</span>
<span class="cp">#define NETXEN_ADDR_OCM1_MAX	(0x00000002004fffffULL)</span>
<span class="cp">#define NETXEN_ADDR_QDR_NET	(0x0000000300000000ULL)</span>
<span class="cp">#define NETXEN_ADDR_QDR_NET_MAX_P2 (0x00000003003fffffULL)</span>
<span class="cp">#define NETXEN_ADDR_QDR_NET_MAX_P3 (0x0000000303ffffffULL)</span>

<span class="cm">/*</span>
<span class="cm"> *   Register offsets for MN</span>
<span class="cm"> */</span>
<span class="cp">#define	NETXEN_MIU_CONTROL	(0x000)</span>
<span class="cp">#define	NETXEN_MIU_MN_CONTROL	(NETXEN_CRB_DDR_NET+NETXEN_MIU_CONTROL)</span>

	<span class="cm">/* 200ms delay in each loop */</span>
<span class="cp">#define	NETXEN_NIU_PHY_WAITLEN		200000</span>
	<span class="cm">/* 10 seconds before we give up */</span>
<span class="cp">#define	NETXEN_NIU_PHY_WAITMAX		50</span>
<span class="cp">#define	NETXEN_NIU_MAX_GBE_PORTS	4</span>
<span class="cp">#define	NETXEN_NIU_MAX_XG_PORTS		2</span>

<span class="cp">#define	NETXEN_NIU_MODE			(NETXEN_CRB_NIU + 0x00000)</span>

<span class="cp">#define	NETXEN_NIU_XG_SINGLE_TERM	(NETXEN_CRB_NIU + 0x00004)</span>
<span class="cp">#define	NETXEN_NIU_XG_DRIVE_HI		(NETXEN_CRB_NIU + 0x00008)</span>
<span class="cp">#define	NETXEN_NIU_XG_DRIVE_LO		(NETXEN_CRB_NIU + 0x0000c)</span>
<span class="cp">#define	NETXEN_NIU_XG_DTX		(NETXEN_CRB_NIU + 0x00010)</span>
<span class="cp">#define	NETXEN_NIU_XG_DEQ		(NETXEN_CRB_NIU + 0x00014)</span>
<span class="cp">#define	NETXEN_NIU_XG_WORD_ALIGN	(NETXEN_CRB_NIU + 0x00018)</span>
<span class="cp">#define	NETXEN_NIU_XG_RESET		(NETXEN_CRB_NIU + 0x0001c)</span>
<span class="cp">#define	NETXEN_NIU_XG_POWER_DOWN	(NETXEN_CRB_NIU + 0x00020)</span>
<span class="cp">#define	NETXEN_NIU_XG_RESET_PLL		(NETXEN_CRB_NIU + 0x00024)</span>
<span class="cp">#define	NETXEN_NIU_XG_SERDES_LOOPBACK	(NETXEN_CRB_NIU + 0x00028)</span>
<span class="cp">#define	NETXEN_NIU_XG_DO_BYTE_ALIGN	(NETXEN_CRB_NIU + 0x0002c)</span>
<span class="cp">#define	NETXEN_NIU_XG_TX_ENABLE		(NETXEN_CRB_NIU + 0x00030)</span>
<span class="cp">#define	NETXEN_NIU_XG_RX_ENABLE		(NETXEN_CRB_NIU + 0x00034)</span>
<span class="cp">#define	NETXEN_NIU_XG_STATUS		(NETXEN_CRB_NIU + 0x00038)</span>
<span class="cp">#define	NETXEN_NIU_XG_PAUSE_THRESHOLD	(NETXEN_CRB_NIU + 0x0003c)</span>
<span class="cp">#define	NETXEN_NIU_INT_MASK		(NETXEN_CRB_NIU + 0x00040)</span>
<span class="cp">#define	NETXEN_NIU_ACTIVE_INT		(NETXEN_CRB_NIU + 0x00044)</span>
<span class="cp">#define	NETXEN_NIU_MASKABLE_INT		(NETXEN_CRB_NIU + 0x00048)</span>

<span class="cp">#define NETXEN_NIU_STRAP_VALUE_SAVE_HIGHER	(NETXEN_CRB_NIU + 0x0004c)</span>

<span class="cp">#define	NETXEN_NIU_GB_SERDES_RESET	(NETXEN_CRB_NIU + 0x00050)</span>
<span class="cp">#define	NETXEN_NIU_GB0_GMII_MODE	(NETXEN_CRB_NIU + 0x00054)</span>
<span class="cp">#define	NETXEN_NIU_GB0_MII_MODE		(NETXEN_CRB_NIU + 0x00058)</span>
<span class="cp">#define	NETXEN_NIU_GB1_GMII_MODE	(NETXEN_CRB_NIU + 0x0005c)</span>
<span class="cp">#define	NETXEN_NIU_GB1_MII_MODE		(NETXEN_CRB_NIU + 0x00060)</span>
<span class="cp">#define	NETXEN_NIU_GB2_GMII_MODE	(NETXEN_CRB_NIU + 0x00064)</span>
<span class="cp">#define	NETXEN_NIU_GB2_MII_MODE		(NETXEN_CRB_NIU + 0x00068)</span>
<span class="cp">#define	NETXEN_NIU_GB3_GMII_MODE	(NETXEN_CRB_NIU + 0x0006c)</span>
<span class="cp">#define	NETXEN_NIU_GB3_MII_MODE		(NETXEN_CRB_NIU + 0x00070)</span>
<span class="cp">#define	NETXEN_NIU_REMOTE_LOOPBACK	(NETXEN_CRB_NIU + 0x00074)</span>
<span class="cp">#define	NETXEN_NIU_GB0_HALF_DUPLEX	(NETXEN_CRB_NIU + 0x00078)</span>
<span class="cp">#define	NETXEN_NIU_GB1_HALF_DUPLEX	(NETXEN_CRB_NIU + 0x0007c)</span>
<span class="cp">#define	NETXEN_NIU_RESET_SYS_FIFOS	(NETXEN_CRB_NIU + 0x00088)</span>
<span class="cp">#define	NETXEN_NIU_GB_CRC_DROP		(NETXEN_CRB_NIU + 0x0008c)</span>
<span class="cp">#define	NETXEN_NIU_GB_DROP_WRONGADDR	(NETXEN_CRB_NIU + 0x00090)</span>
<span class="cp">#define	NETXEN_NIU_TEST_MUX_CTL		(NETXEN_CRB_NIU + 0x00094)</span>
<span class="cp">#define	NETXEN_NIU_XG_PAUSE_CTL		(NETXEN_CRB_NIU + 0x00098)</span>
<span class="cp">#define	NETXEN_NIU_XG_PAUSE_LEVEL	(NETXEN_CRB_NIU + 0x000dc)</span>
<span class="cp">#define	NETXEN_NIU_FRAME_COUNT_SELECT	(NETXEN_CRB_NIU + 0x000ac)</span>
<span class="cp">#define	NETXEN_NIU_FRAME_COUNT		(NETXEN_CRB_NIU + 0x000b0)</span>
<span class="cp">#define	NETXEN_NIU_XG_SEL		(NETXEN_CRB_NIU + 0x00128)</span>
<span class="cp">#define NETXEN_NIU_GB_PAUSE_CTL		(NETXEN_CRB_NIU + 0x0030c)</span>

<span class="cp">#define NETXEN_NIU_FULL_LEVEL_XG	(NETXEN_CRB_NIU + 0x00450)</span>

<span class="cp">#define NETXEN_NIU_XG1_RESET	    	(NETXEN_CRB_NIU + 0x0011c)</span>
<span class="cp">#define NETXEN_NIU_XG1_POWER_DOWN	(NETXEN_CRB_NIU + 0x00120)</span>
<span class="cp">#define NETXEN_NIU_XG1_RESET_PLL	(NETXEN_CRB_NIU + 0x00124)</span>

<span class="cp">#define NETXEN_MAC_ADDR_CNTL_REG	(NETXEN_CRB_NIU + 0x1000)</span>

<span class="cp">#define	NETXEN_MULTICAST_ADDR_HI_0	(NETXEN_CRB_NIU + 0x1010)</span>
<span class="cp">#define NETXEN_MULTICAST_ADDR_HI_1	(NETXEN_CRB_NIU + 0x1014)</span>
<span class="cp">#define NETXEN_MULTICAST_ADDR_HI_2	(NETXEN_CRB_NIU + 0x1018)</span>
<span class="cp">#define NETXEN_MULTICAST_ADDR_HI_3	(NETXEN_CRB_NIU + 0x101c)</span>

<span class="cp">#define NETXEN_UNICAST_ADDR_BASE	(NETXEN_CRB_NIU + 0x1080)</span>
<span class="cp">#define	NETXEN_MULTICAST_ADDR_BASE	(NETXEN_CRB_NIU + 0x1100)</span>

<span class="cp">#define	NETXEN_NIU_GB_MAC_CONFIG_0(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30000 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MAC_CONFIG_1(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30004 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MAC_IPG_IFG(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30008 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_HALF_DUPLEX_CTRL(I)	\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x3000c + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MAX_FRAME_SIZE(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30010 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_TEST_REG(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x3001c + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MII_MGMT_CONFIG(I)	\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30020 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MII_MGMT_COMMAND(I)	\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30024 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MII_MGMT_ADDR(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30028 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MII_MGMT_CTRL(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x3002c + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MII_MGMT_STATUS(I)	\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30030 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_MII_MGMT_INDICATE(I)	\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30034 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_INTERFACE_CTRL(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30038 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_INTERFACE_STATUS(I)	\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x3003c + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_STATION_ADDR_0(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30040 + (I)*0x10000)</span>
<span class="cp">#define	NETXEN_NIU_GB_STATION_ADDR_1(I)		\</span>
<span class="cp">	(NETXEN_CRB_NIU + 0x30044 + (I)*0x10000)</span>

<span class="cp">#define	NETXEN_NIU_XGE_CONFIG_0			(NETXEN_CRB_NIU + 0x70000)</span>
<span class="cp">#define	NETXEN_NIU_XGE_CONFIG_1			(NETXEN_CRB_NIU + 0x70004)</span>
<span class="cp">#define	NETXEN_NIU_XGE_IPG			(NETXEN_CRB_NIU + 0x70008)</span>
<span class="cp">#define	NETXEN_NIU_XGE_STATION_ADDR_0_HI	(NETXEN_CRB_NIU + 0x7000c)</span>
<span class="cp">#define	NETXEN_NIU_XGE_STATION_ADDR_0_1		(NETXEN_CRB_NIU + 0x70010)</span>
<span class="cp">#define	NETXEN_NIU_XGE_STATION_ADDR_1_LO	(NETXEN_CRB_NIU + 0x70014)</span>
<span class="cp">#define	NETXEN_NIU_XGE_STATUS			(NETXEN_CRB_NIU + 0x70018)</span>
<span class="cp">#define	NETXEN_NIU_XGE_MAX_FRAME_SIZE		(NETXEN_CRB_NIU + 0x7001c)</span>
<span class="cp">#define	NETXEN_NIU_XGE_PAUSE_FRAME_VALUE	(NETXEN_CRB_NIU + 0x70020)</span>
<span class="cp">#define	NETXEN_NIU_XGE_TX_BYTE_CNT		(NETXEN_CRB_NIU + 0x70024)</span>
<span class="cp">#define	NETXEN_NIU_XGE_TX_FRAME_CNT		(NETXEN_CRB_NIU + 0x70028)</span>
<span class="cp">#define	NETXEN_NIU_XGE_RX_BYTE_CNT		(NETXEN_CRB_NIU + 0x7002c)</span>
<span class="cp">#define	NETXEN_NIU_XGE_RX_FRAME_CNT		(NETXEN_CRB_NIU + 0x70030)</span>
<span class="cp">#define	NETXEN_NIU_XGE_AGGR_ERROR_CNT		(NETXEN_CRB_NIU + 0x70034)</span>
<span class="cp">#define	NETXEN_NIU_XGE_MULTICAST_FRAME_CNT 	(NETXEN_CRB_NIU + 0x70038)</span>
<span class="cp">#define	NETXEN_NIU_XGE_UNICAST_FRAME_CNT	(NETXEN_CRB_NIU + 0x7003c)</span>
<span class="cp">#define	NETXEN_NIU_XGE_CRC_ERROR_CNT		(NETXEN_CRB_NIU + 0x70040)</span>
<span class="cp">#define	NETXEN_NIU_XGE_OVERSIZE_FRAME_ERR	(NETXEN_CRB_NIU + 0x70044)</span>
<span class="cp">#define	NETXEN_NIU_XGE_UNDERSIZE_FRAME_ERR	(NETXEN_CRB_NIU + 0x70048)</span>
<span class="cp">#define	NETXEN_NIU_XGE_LOCAL_ERROR_CNT		(NETXEN_CRB_NIU + 0x7004c)</span>
<span class="cp">#define	NETXEN_NIU_XGE_REMOTE_ERROR_CNT		(NETXEN_CRB_NIU + 0x70050)</span>
<span class="cp">#define	NETXEN_NIU_XGE_CONTROL_CHAR_CNT		(NETXEN_CRB_NIU + 0x70054)</span>
<span class="cp">#define	NETXEN_NIU_XGE_PAUSE_FRAME_CNT		(NETXEN_CRB_NIU + 0x70058)</span>
<span class="cp">#define NETXEN_NIU_XG1_CONFIG_0			(NETXEN_CRB_NIU + 0x80000)</span>
<span class="cp">#define NETXEN_NIU_XG1_CONFIG_1			(NETXEN_CRB_NIU + 0x80004)</span>
<span class="cp">#define NETXEN_NIU_XG1_IPG			(NETXEN_CRB_NIU + 0x80008)</span>
<span class="cp">#define NETXEN_NIU_XG1_STATION_ADDR_0_HI	(NETXEN_CRB_NIU + 0x8000c)</span>
<span class="cp">#define NETXEN_NIU_XG1_STATION_ADDR_0_1		(NETXEN_CRB_NIU + 0x80010)</span>
<span class="cp">#define NETXEN_NIU_XG1_STATION_ADDR_1_LO	(NETXEN_CRB_NIU + 0x80014)</span>
<span class="cp">#define NETXEN_NIU_XG1_STATUS		    	(NETXEN_CRB_NIU + 0x80018)</span>
<span class="cp">#define NETXEN_NIU_XG1_MAX_FRAME_SIZE	   	(NETXEN_CRB_NIU + 0x8001c)</span>
<span class="cp">#define NETXEN_NIU_XG1_PAUSE_FRAME_VALUE	(NETXEN_CRB_NIU + 0x80020)</span>
<span class="cp">#define NETXEN_NIU_XG1_TX_BYTE_CNT		(NETXEN_CRB_NIU + 0x80024)</span>
<span class="cp">#define NETXEN_NIU_XG1_TX_FRAME_CNT	 	(NETXEN_CRB_NIU + 0x80028)</span>
<span class="cp">#define NETXEN_NIU_XG1_RX_BYTE_CNT	  	(NETXEN_CRB_NIU + 0x8002c)</span>
<span class="cp">#define NETXEN_NIU_XG1_RX_FRAME_CNT	 	(NETXEN_CRB_NIU + 0x80030)</span>
<span class="cp">#define NETXEN_NIU_XG1_AGGR_ERROR_CNT	   	(NETXEN_CRB_NIU + 0x80034)</span>
<span class="cp">#define NETXEN_NIU_XG1_MULTICAST_FRAME_CNT	(NETXEN_CRB_NIU + 0x80038)</span>
<span class="cp">#define NETXEN_NIU_XG1_UNICAST_FRAME_CNT	(NETXEN_CRB_NIU + 0x8003c)</span>
<span class="cp">#define NETXEN_NIU_XG1_CRC_ERROR_CNT		(NETXEN_CRB_NIU + 0x80040)</span>
<span class="cp">#define NETXEN_NIU_XG1_OVERSIZE_FRAME_ERR	(NETXEN_CRB_NIU + 0x80044)</span>
<span class="cp">#define NETXEN_NIU_XG1_UNDERSIZE_FRAME_ERR	(NETXEN_CRB_NIU + 0x80048)</span>
<span class="cp">#define NETXEN_NIU_XG1_LOCAL_ERROR_CNT		(NETXEN_CRB_NIU + 0x8004c)</span>
<span class="cp">#define NETXEN_NIU_XG1_REMOTE_ERROR_CNT		(NETXEN_CRB_NIU + 0x80050)</span>
<span class="cp">#define NETXEN_NIU_XG1_CONTROL_CHAR_CNT		(NETXEN_CRB_NIU + 0x80054)</span>
<span class="cp">#define NETXEN_NIU_XG1_PAUSE_FRAME_CNT		(NETXEN_CRB_NIU + 0x80058)</span>

<span class="cm">/* P3 802.3ap */</span>
<span class="cp">#define NETXEN_NIU_AP_MAC_CONFIG_0(I)      (NETXEN_CRB_NIU+0xa0000+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MAC_CONFIG_1(I)      (NETXEN_CRB_NIU+0xa0004+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MAC_IPG_IFG(I)       (NETXEN_CRB_NIU+0xa0008+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_HALF_DUPLEX_CTRL(I)  (NETXEN_CRB_NIU+0xa000c+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MAX_FRAME_SIZE(I)    (NETXEN_CRB_NIU+0xa0010+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_TEST_REG(I)          (NETXEN_CRB_NIU+0xa001c+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MII_MGMT_CONFIG(I)   (NETXEN_CRB_NIU+0xa0020+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MII_MGMT_COMMAND(I)  (NETXEN_CRB_NIU+0xa0024+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MII_MGMT_ADDR(I)     (NETXEN_CRB_NIU+0xa0028+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MII_MGMT_CTRL(I)     (NETXEN_CRB_NIU+0xa002c+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MII_MGMT_STATUS(I)   (NETXEN_CRB_NIU+0xa0030+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_MII_MGMT_INDICATE(I) (NETXEN_CRB_NIU+0xa0034+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_INTERFACE_CTRL(I)    (NETXEN_CRB_NIU+0xa0038+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_INTERFACE_STATUS(I)  (NETXEN_CRB_NIU+0xa003c+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_STATION_ADDR_0(I)    (NETXEN_CRB_NIU+0xa0040+(I)*0x10000)</span>
<span class="cp">#define NETXEN_NIU_AP_STATION_ADDR_1(I)    (NETXEN_CRB_NIU+0xa0044+(I)*0x10000)</span>


<span class="cp">#define TEST_AGT_CTRL	(0x00)</span>

<span class="cp">#define TA_CTL_START	1</span>
<span class="cp">#define TA_CTL_ENABLE	2</span>
<span class="cp">#define TA_CTL_WRITE	4</span>
<span class="cp">#define TA_CTL_BUSY	8</span>

<span class="cm">/*</span>
<span class="cm"> *   Register offsets for MN</span>
<span class="cm"> */</span>
<span class="cp">#define MIU_TEST_AGT_BASE		(0x90)</span>

<span class="cp">#define MIU_TEST_AGT_ADDR_LO		(0x04)</span>
<span class="cp">#define MIU_TEST_AGT_ADDR_HI		(0x08)</span>
<span class="cp">#define MIU_TEST_AGT_WRDATA_LO		(0x10)</span>
<span class="cp">#define MIU_TEST_AGT_WRDATA_HI		(0x14)</span>
<span class="cp">#define MIU_TEST_AGT_RDDATA_LO		(0x18)</span>
<span class="cp">#define MIU_TEST_AGT_RDDATA_HI		(0x1c)</span>

<span class="cp">#define MIU_TEST_AGT_ADDR_MASK		0xfffffff8</span>
<span class="cp">#define MIU_TEST_AGT_UPPER_ADDR(off)	(0)</span>

<span class="cm">/*</span>
<span class="cm"> *   Register offsets for MS</span>
<span class="cm"> */</span>
<span class="cp">#define SIU_TEST_AGT_BASE		(0x60)</span>

<span class="cp">#define SIU_TEST_AGT_ADDR_LO		(0x04)</span>
<span class="cp">#define SIU_TEST_AGT_ADDR_HI		(0x18)</span>
<span class="cp">#define SIU_TEST_AGT_WRDATA_LO		(0x08)</span>
<span class="cp">#define SIU_TEST_AGT_WRDATA_HI		(0x0c)</span>
<span class="cp">#define SIU_TEST_AGT_WRDATA(i)		(0x08+(4*(i)))</span>
<span class="cp">#define SIU_TEST_AGT_RDDATA_LO		(0x10)</span>
<span class="cp">#define SIU_TEST_AGT_RDDATA_HI		(0x14)</span>
<span class="cp">#define SIU_TEST_AGT_RDDATA(i)		(0x10+(4*(i)))</span>

<span class="cp">#define SIU_TEST_AGT_ADDR_MASK		0x3ffff8</span>
<span class="cp">#define SIU_TEST_AGT_UPPER_ADDR(off)	((off)&gt;&gt;22)</span>

<span class="cm">/* XG Link status */</span>
<span class="cp">#define XG_LINK_UP	0x10</span>
<span class="cp">#define XG_LINK_DOWN	0x20</span>

<span class="cp">#define XG_LINK_UP_P3	0x01</span>
<span class="cp">#define XG_LINK_DOWN_P3	0x02</span>
<span class="cp">#define XG_LINK_STATE_P3_MASK 0xf</span>
<span class="cp">#define XG_LINK_STATE_P3(pcifn,val) \</span>
<span class="cp">	(((val) &gt;&gt; ((pcifn) * 4)) &amp; XG_LINK_STATE_P3_MASK)</span>

<span class="cp">#define P3_LINK_SPEED_MHZ	100</span>
<span class="cp">#define P3_LINK_SPEED_MASK	0xff</span>
<span class="cp">#define P3_LINK_SPEED_REG(pcifn)	\</span>
<span class="cp">	(CRB_PF_LINK_SPEED_1 + (((pcifn) / 4) * 4))</span>
<span class="cp">#define P3_LINK_SPEED_VAL(pcifn, reg)	\</span>
<span class="cp">	(((reg) &gt;&gt; (8 * ((pcifn) &amp; 0x3))) &amp; P3_LINK_SPEED_MASK)</span>

<span class="cp">#define NETXEN_CAM_RAM_BASE	(NETXEN_CRB_CAM + 0x02000)</span>
<span class="cp">#define NETXEN_CAM_RAM(reg)	(NETXEN_CAM_RAM_BASE + (reg))</span>
<span class="cp">#define NETXEN_FW_VERSION_MAJOR (NETXEN_CAM_RAM(0x150))</span>
<span class="cp">#define NETXEN_FW_VERSION_MINOR (NETXEN_CAM_RAM(0x154))</span>
<span class="cp">#define NETXEN_FW_VERSION_SUB	(NETXEN_CAM_RAM(0x158))</span>
<span class="cp">#define NETXEN_ROM_LOCK_ID	(NETXEN_CAM_RAM(0x100))</span>
<span class="cp">#define NETXEN_PHY_LOCK_ID	(NETXEN_CAM_RAM(0x120))</span>
<span class="cp">#define NETXEN_CRB_WIN_LOCK_ID	(NETXEN_CAM_RAM(0x124))</span>

<span class="cp">#define NIC_CRB_BASE		(NETXEN_CAM_RAM(0x200))</span>
<span class="cp">#define NIC_CRB_BASE_2		(NETXEN_CAM_RAM(0x700))</span>
<span class="cp">#define NETXEN_NIC_REG(X)	(NIC_CRB_BASE+(X))</span>
<span class="cp">#define NETXEN_NIC_REG_2(X)	(NIC_CRB_BASE_2+(X))</span>

<span class="cp">#define NX_CDRP_CRB_OFFSET		(NETXEN_NIC_REG(0x18))</span>
<span class="cp">#define NX_ARG1_CRB_OFFSET		(NETXEN_NIC_REG(0x1c))</span>
<span class="cp">#define NX_ARG2_CRB_OFFSET		(NETXEN_NIC_REG(0x20))</span>
<span class="cp">#define NX_ARG3_CRB_OFFSET		(NETXEN_NIC_REG(0x24))</span>
<span class="cp">#define NX_SIGN_CRB_OFFSET		(NETXEN_NIC_REG(0x28))</span>

<span class="cp">#define CRB_HOST_DUMMY_BUF_ADDR_HI	(NETXEN_NIC_REG(0x3c))</span>
<span class="cp">#define CRB_HOST_DUMMY_BUF_ADDR_LO	(NETXEN_NIC_REG(0x40))</span>

<span class="cp">#define CRB_CMDPEG_STATE		(NETXEN_NIC_REG(0x50))</span>
<span class="cp">#define CRB_RCVPEG_STATE		(NETXEN_NIC_REG(0x13c))</span>

<span class="cp">#define CRB_XG_STATE			(NETXEN_NIC_REG(0x94))</span>
<span class="cp">#define CRB_XG_STATE_P3			(NETXEN_NIC_REG(0x98))</span>
<span class="cp">#define CRB_PF_LINK_SPEED_1		(NETXEN_NIC_REG(0xe8))</span>
<span class="cp">#define CRB_PF_LINK_SPEED_2		(NETXEN_NIC_REG(0xec))</span>

<span class="cp">#define CRB_MPORT_MODE			(NETXEN_NIC_REG(0xc4))</span>
<span class="cp">#define CRB_DMA_SHIFT			(NETXEN_NIC_REG(0xcc))</span>
<span class="cp">#define CRB_INT_VECTOR			(NETXEN_NIC_REG(0xd4))</span>

<span class="cp">#define CRB_CMD_PRODUCER_OFFSET		(NETXEN_NIC_REG(0x08))</span>
<span class="cp">#define CRB_CMD_CONSUMER_OFFSET		(NETXEN_NIC_REG(0x0c))</span>
<span class="cp">#define CRB_CMD_PRODUCER_OFFSET_1   	(NETXEN_NIC_REG(0x1ac))</span>
<span class="cp">#define CRB_CMD_CONSUMER_OFFSET_1	(NETXEN_NIC_REG(0x1b0))</span>
<span class="cp">#define CRB_CMD_PRODUCER_OFFSET_2	(NETXEN_NIC_REG(0x1b8))</span>
<span class="cp">#define CRB_CMD_CONSUMER_OFFSET_2	(NETXEN_NIC_REG(0x1bc))</span>
<span class="cp">#define CRB_CMD_PRODUCER_OFFSET_3	(NETXEN_NIC_REG(0x1d0))</span>
<span class="cp">#define CRB_CMD_CONSUMER_OFFSET_3	(NETXEN_NIC_REG(0x1d4))</span>
<span class="cp">#define CRB_TEMP_STATE			(NETXEN_NIC_REG(0x1b4))</span>

<span class="cp">#define CRB_V2P_0			(NETXEN_NIC_REG(0x290))</span>
<span class="cp">#define CRB_V2P(port)			(CRB_V2P_0+((port)*4))</span>
<span class="cp">#define CRB_DRIVER_VERSION		(NETXEN_NIC_REG(0x2a0))</span>

<span class="cp">#define CRB_SW_INT_MASK_0		(NETXEN_NIC_REG(0x1d8))</span>
<span class="cp">#define CRB_SW_INT_MASK_1		(NETXEN_NIC_REG(0x1e0))</span>
<span class="cp">#define CRB_SW_INT_MASK_2		(NETXEN_NIC_REG(0x1e4))</span>
<span class="cp">#define CRB_SW_INT_MASK_3		(NETXEN_NIC_REG(0x1e8))</span>

<span class="cp">#define CRB_FW_CAPABILITIES_1		(NETXEN_CAM_RAM(0x128))</span>
<span class="cp">#define CRB_FW_CAPABILITIES_2		(NETXEN_CAM_RAM(0x12c))</span>
<span class="cp">#define CRB_MAC_BLOCK_START		(NETXEN_CAM_RAM(0x1c0))</span>

<span class="cm">/*</span>
<span class="cm"> * capabilities register, can be used to selectively enable/disable features</span>
<span class="cm"> * for backward compatibility</span>
<span class="cm"> */</span>
<span class="cp">#define CRB_NIC_CAPABILITIES_HOST	NETXEN_NIC_REG(0x1a8)</span>
<span class="cp">#define CRB_NIC_MSI_MODE_HOST		NETXEN_NIC_REG(0x270)</span>

<span class="cp">#define INTR_SCHEME_PERPORT	      	0x1</span>
<span class="cp">#define MSI_MODE_MULTIFUNC	      	0x1</span>

<span class="cm">/* used for ethtool tests */</span>
<span class="cp">#define CRB_SCRATCHPAD_TEST	    NETXEN_NIC_REG(0x280)</span>

<span class="cm">/*</span>
<span class="cm"> * CrbPortPhanCntrHi/Lo is used to pass the address of HostPhantomIndex address</span>
<span class="cm"> * which can be read by the Phantom host to get producer/consumer indexes from</span>
<span class="cm"> * Phantom/Casper. If it is not HOST_SHARED_MEMORY, then the following</span>
<span class="cm"> * registers will be used for the addresses of the ring&#39;s shared memory</span>
<span class="cm"> * on the Phantom.</span>
<span class="cm"> */</span>

<span class="cp">#define nx_get_temp_val(x)		((x) &gt;&gt; 16)</span>
<span class="cp">#define nx_get_temp_state(x)		((x) &amp; 0xffff)</span>
<span class="cp">#define nx_encode_temp(val, state)	(((val) &lt;&lt; 16) | (state))</span>

<span class="cm">/*</span>
<span class="cm"> * Temperature control.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">NX_TEMP_NORMAL</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>	<span class="cm">/* Normal operating range */</span>
	<span class="n">NX_TEMP_WARN</span><span class="p">,</span>		<span class="cm">/* Sound alert, temperature getting high */</span>
	<span class="n">NX_TEMP_PANIC</span>		<span class="cm">/* Fatal error, hardware has shut down. */</span>
<span class="p">};</span>

<span class="cm">/* Lock IDs for PHY lock */</span>
<span class="cp">#define PHY_LOCK_DRIVER		0x44524956</span>

<span class="cm">/* Used for PS PCI Memory access */</span>
<span class="cp">#define PCIX_PS_OP_ADDR_LO	(0x10000)</span>
<span class="cm">/*   via CRB  (PS side only)     */</span>
<span class="cp">#define PCIX_PS_OP_ADDR_HI	(0x10004)</span>

<span class="cp">#define PCIX_INT_VECTOR		(0x10100)</span>
<span class="cp">#define PCIX_INT_MASK		(0x10104)</span>

<span class="cp">#define PCIX_CRB_WINDOW		(0x10210)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F0	(0x10210)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F1	(0x10230)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F2	(0x10250)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F3	(0x10270)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F4	(0x102ac)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F5	(0x102bc)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F6	(0x102cc)</span>
<span class="cp">#define PCIX_CRB_WINDOW_F7	(0x102dc)</span>
<span class="cp">#define PCIE_CRB_WINDOW_REG(func)	(((func) &lt; 4) ? \</span>
<span class="cp">		(PCIX_CRB_WINDOW_F0 + (0x20 * (func))) :\</span>
<span class="cp">		(PCIX_CRB_WINDOW_F4 + (0x10 * ((func)-4))))</span>

<span class="cp">#define PCIX_MN_WINDOW		(0x10200)</span>
<span class="cp">#define PCIX_MN_WINDOW_F0	(0x10200)</span>
<span class="cp">#define PCIX_MN_WINDOW_F1	(0x10220)</span>
<span class="cp">#define PCIX_MN_WINDOW_F2	(0x10240)</span>
<span class="cp">#define PCIX_MN_WINDOW_F3	(0x10260)</span>
<span class="cp">#define PCIX_MN_WINDOW_F4	(0x102a0)</span>
<span class="cp">#define PCIX_MN_WINDOW_F5	(0x102b0)</span>
<span class="cp">#define PCIX_MN_WINDOW_F6	(0x102c0)</span>
<span class="cp">#define PCIX_MN_WINDOW_F7	(0x102d0)</span>
<span class="cp">#define PCIE_MN_WINDOW_REG(func)	(((func) &lt; 4) ? \</span>
<span class="cp">		(PCIX_MN_WINDOW_F0 + (0x20 * (func))) :\</span>
<span class="cp">		(PCIX_MN_WINDOW_F4 + (0x10 * ((func)-4))))</span>

<span class="cp">#define PCIX_SN_WINDOW		(0x10208)</span>
<span class="cp">#define PCIX_SN_WINDOW_F0	(0x10208)</span>
<span class="cp">#define PCIX_SN_WINDOW_F1	(0x10228)</span>
<span class="cp">#define PCIX_SN_WINDOW_F2	(0x10248)</span>
<span class="cp">#define PCIX_SN_WINDOW_F3	(0x10268)</span>
<span class="cp">#define PCIX_SN_WINDOW_F4	(0x102a8)</span>
<span class="cp">#define PCIX_SN_WINDOW_F5	(0x102b8)</span>
<span class="cp">#define PCIX_SN_WINDOW_F6	(0x102c8)</span>
<span class="cp">#define PCIX_SN_WINDOW_F7	(0x102d8)</span>
<span class="cp">#define PCIE_SN_WINDOW_REG(func)	(((func) &lt; 4) ? \</span>
<span class="cp">		(PCIX_SN_WINDOW_F0 + (0x20 * (func))) :\</span>
<span class="cp">		(PCIX_SN_WINDOW_F4 + (0x10 * ((func)-4))))</span>

<span class="cp">#define PCIX_OCM_WINDOW		(0x10800)</span>
<span class="cp">#define PCIX_OCM_WINDOW_REG(func)	(PCIX_OCM_WINDOW + 0x20 * (func))</span>

<span class="cp">#define PCIX_TARGET_STATUS	(0x10118)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F1	(0x10160)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F2	(0x10164)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F3	(0x10168)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F4	(0x10360)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F5	(0x10364)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F6	(0x10368)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F7	(0x1036c)</span>

<span class="cp">#define PCIX_TARGET_MASK	(0x10128)</span>
<span class="cp">#define PCIX_TARGET_MASK_F1	(0x10170)</span>
<span class="cp">#define PCIX_TARGET_MASK_F2	(0x10174)</span>
<span class="cp">#define PCIX_TARGET_MASK_F3	(0x10178)</span>
<span class="cp">#define PCIX_TARGET_MASK_F4	(0x10370)</span>
<span class="cp">#define PCIX_TARGET_MASK_F5	(0x10374)</span>
<span class="cp">#define PCIX_TARGET_MASK_F6	(0x10378)</span>
<span class="cp">#define PCIX_TARGET_MASK_F7	(0x1037c)</span>

<span class="cp">#define PCIX_MSI_F0		(0x13000)</span>
<span class="cp">#define PCIX_MSI_F1		(0x13004)</span>
<span class="cp">#define PCIX_MSI_F2		(0x13008)</span>
<span class="cp">#define PCIX_MSI_F3		(0x1300c)</span>
<span class="cp">#define PCIX_MSI_F4		(0x13010)</span>
<span class="cp">#define PCIX_MSI_F5		(0x13014)</span>
<span class="cp">#define PCIX_MSI_F6		(0x13018)</span>
<span class="cp">#define PCIX_MSI_F7		(0x1301c)</span>
<span class="cp">#define PCIX_MSI_F(i)		(0x13000+((i)*4))</span>

<span class="cp">#define PCIX_PS_MEM_SPACE	(0x90000)</span>

<span class="cp">#define NETXEN_PCIX_PH_REG(reg)	(NETXEN_CRB_PCIE + (reg))</span>
<span class="cp">#define NETXEN_PCIX_PS_REG(reg)	(NETXEN_CRB_PCIX_MD + (reg))</span>

<span class="cp">#define NETXEN_PCIE_REG(reg)	(NETXEN_CRB_PCIE + (reg))</span>

<span class="cp">#define PCIE_MAX_DMA_XFER_SIZE	(0x1404c)</span>

<span class="cp">#define PCIE_DCR		0x00d8</span>

<span class="cp">#define PCIE_SEM0_LOCK		(0x1c000)</span>
<span class="cp">#define PCIE_SEM0_UNLOCK	(0x1c004)</span>
<span class="cp">#define PCIE_SEM1_LOCK		(0x1c008)</span>
<span class="cp">#define PCIE_SEM1_UNLOCK	(0x1c00c)</span>
<span class="cp">#define PCIE_SEM2_LOCK		(0x1c010)	</span><span class="cm">/* Flash lock   */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM2_UNLOCK	(0x1c014)	</span><span class="cm">/* Flash unlock */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM3_LOCK	  	(0x1c018)	</span><span class="cm">/* Phy lock     */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM3_UNLOCK	(0x1c01c)	</span><span class="cm">/* Phy unlock   */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM4_LOCK	  	(0x1c020)</span>
<span class="cp">#define PCIE_SEM4_UNLOCK	(0x1c024)</span>
<span class="cp">#define PCIE_SEM5_LOCK		(0x1c028)	</span><span class="cm">/* API lock     */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM5_UNLOCK	(0x1c02c)	</span><span class="cm">/* API unlock   */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM6_LOCK		(0x1c030)	</span><span class="cm">/* sw lock      */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM6_UNLOCK	(0x1c034)	</span><span class="cm">/* sw unlock    */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM7_LOCK		(0x1c038)	</span><span class="cm">/* crb win lock */</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM7_UNLOCK	(0x1c03c)	</span><span class="cm">/* crbwin unlock*/</span><span class="cp"></span>
<span class="cp">#define PCIE_SEM_LOCK(N)	(PCIE_SEM0_LOCK + 8*(N))</span>
<span class="cp">#define PCIE_SEM_UNLOCK(N)	(PCIE_SEM0_UNLOCK + 8*(N))</span>

<span class="cp">#define PCIE_SETUP_FUNCTION	(0x12040)</span>
<span class="cp">#define PCIE_SETUP_FUNCTION2	(0x12048)</span>
<span class="cp">#define PCIE_MISCCFG_RC         (0x1206c)</span>
<span class="cp">#define PCIE_TGT_SPLIT_CHICKEN	(0x12080)</span>
<span class="cp">#define PCIE_CHICKEN3		(0x120c8)</span>

<span class="cp">#define ISR_INT_STATE_REG       (NETXEN_PCIX_PS_REG(PCIE_MISCCFG_RC))</span>
<span class="cp">#define PCIE_MAX_MASTER_SPLIT	(0x14048)</span>

<span class="cp">#define NETXEN_PORT_MODE_NONE		0</span>
<span class="cp">#define NETXEN_PORT_MODE_XG		1</span>
<span class="cp">#define NETXEN_PORT_MODE_GB		2</span>
<span class="cp">#define NETXEN_PORT_MODE_802_3_AP	3</span>
<span class="cp">#define NETXEN_PORT_MODE_AUTO_NEG	4</span>
<span class="cp">#define NETXEN_PORT_MODE_AUTO_NEG_1G	5</span>
<span class="cp">#define NETXEN_PORT_MODE_AUTO_NEG_XG	6</span>
<span class="cp">#define NETXEN_PORT_MODE_ADDR		(NETXEN_CAM_RAM(0x24))</span>
<span class="cp">#define NETXEN_WOL_PORT_MODE		(NETXEN_CAM_RAM(0x198))</span>

<span class="cp">#define NETXEN_WOL_CONFIG_NV		(NETXEN_CAM_RAM(0x184))</span>
<span class="cp">#define NETXEN_WOL_CONFIG		(NETXEN_CAM_RAM(0x188))</span>

<span class="cp">#define NX_PEG_TUNE_MN_PRESENT		0x1</span>
<span class="cp">#define NX_PEG_TUNE_CAPABILITY		(NETXEN_CAM_RAM(0x02c))</span>

<span class="cp">#define NETXEN_DMA_WATCHDOG_CTRL	(NETXEN_CAM_RAM(0x14))</span>
<span class="cp">#define NETXEN_PEG_ALIVE_COUNTER	(NETXEN_CAM_RAM(0xb0))</span>
<span class="cp">#define NETXEN_PEG_HALT_STATUS1 	(NETXEN_CAM_RAM(0xa8))</span>
<span class="cp">#define NETXEN_PEG_HALT_STATUS2 	(NETXEN_CAM_RAM(0xac))</span>
<span class="cp">#define NX_CRB_DEV_REF_COUNT		(NETXEN_CAM_RAM(0x138))</span>
<span class="cp">#define NX_CRB_DEV_STATE		(NETXEN_CAM_RAM(0x140))</span>

<span class="cm">/* MiniDIMM related macros */</span>
<span class="cp">#define NETXEN_DIMM_CAPABILITY		(NETXEN_CAM_RAM(0x258))</span>
<span class="cp">#define NETXEN_DIMM_PRESENT			0x1</span>
<span class="cp">#define NETXEN_DIMM_MEMTYPE_DDR2_SDRAM	0x2</span>
<span class="cp">#define NETXEN_DIMM_SIZE			0x4</span>
<span class="cp">#define NETXEN_DIMM_MEMTYPE(VAL)		((VAL &gt;&gt; 3) &amp; 0xf)</span>
<span class="cp">#define	NETXEN_DIMM_NUMROWS(VAL)		((VAL &gt;&gt; 7) &amp; 0xf)</span>
<span class="cp">#define	NETXEN_DIMM_NUMCOLS(VAL)		((VAL &gt;&gt; 11) &amp; 0xf)</span>
<span class="cp">#define	NETXEN_DIMM_NUMRANKS(VAL)		((VAL &gt;&gt; 15) &amp; 0x3)</span>
<span class="cp">#define NETXEN_DIMM_DATAWIDTH(VAL)		((VAL &gt;&gt; 18) &amp; 0x3)</span>
<span class="cp">#define NETXEN_DIMM_NUMBANKS(VAL)		((VAL &gt;&gt; 21) &amp; 0xf)</span>
<span class="cp">#define NETXEN_DIMM_TYPE(VAL)		((VAL &gt;&gt; 25) &amp; 0x3f)</span>
<span class="cp">#define NETXEN_DIMM_VALID_FLAG		0x80000000</span>

<span class="cp">#define NETXEN_DIMM_MEM_DDR2_SDRAM	0x8</span>

<span class="cp">#define NETXEN_DIMM_STD_MEM_SIZE	512</span>

<span class="cp">#define NETXEN_DIMM_TYPE_RDIMM	0x1</span>
<span class="cp">#define NETXEN_DIMM_TYPE_UDIMM	0x2</span>
<span class="cp">#define NETXEN_DIMM_TYPE_SO_DIMM	0x4</span>
<span class="cp">#define NETXEN_DIMM_TYPE_Micro_DIMM	0x8</span>
<span class="cp">#define NETXEN_DIMM_TYPE_Mini_RDIMM	0x10</span>
<span class="cp">#define NETXEN_DIMM_TYPE_Mini_UDIMM	0x20</span>

<span class="cm">/* Device State */</span>
<span class="cp">#define NX_DEV_COLD		1</span>
<span class="cp">#define NX_DEV_INITALIZING	2</span>
<span class="cp">#define NX_DEV_READY		3</span>
<span class="cp">#define NX_DEV_NEED_RESET	4</span>
<span class="cp">#define NX_DEV_NEED_QUISCENT	5</span>
<span class="cp">#define NX_DEV_NEED_AER 	6</span>
<span class="cp">#define NX_DEV_FAILED		7</span>

<span class="cp">#define NX_RCODE_DRIVER_INFO		0x20000000</span>
<span class="cp">#define NX_RCODE_DRIVER_CAN_RELOAD	0x40000000</span>
<span class="cp">#define NX_RCODE_FATAL_ERROR		0x80000000</span>
<span class="cp">#define NX_FWERROR_PEGNUM(code)		((code) &amp; 0xff)</span>
<span class="cp">#define NX_FWERROR_CODE(code)		((code &gt;&gt; 8) &amp; 0xfffff)</span>
<span class="cp">#define NX_FWERROR_PEGSTAT1(code)	((code &gt;&gt; 8) &amp; 0x1fffff)</span>

<span class="cp">#define FW_POLL_DELAY			(2 * HZ)</span>
<span class="cp">#define FW_FAIL_THRESH			3</span>
<span class="cp">#define FW_POLL_THRESH			10</span>

<span class="cp">#define	ISR_MSI_INT_TRIGGER(FUNC) (NETXEN_PCIX_PS_REG(PCIX_MSI_F(FUNC)))</span>
<span class="cp">#define ISR_LEGACY_INT_TRIGGERED(VAL)	(((VAL) &amp; 0x300) == 0x200)</span>

<span class="cm">/*</span>
<span class="cm"> * PCI Interrupt Vector Values.</span>
<span class="cm"> */</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F0	0x0080</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F1	0x0100</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F2	0x0200</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F3	0x0400</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F4	0x0800</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F5	0x1000</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F6	0x2000</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F7	0x4000</span>

<span class="k">struct</span> <span class="n">netxen_legacy_intr_set</span> <span class="p">{</span>
	<span class="kt">uint32_t</span>	<span class="n">int_vec_bit</span><span class="p">;</span>
	<span class="kt">uint32_t</span>	<span class="n">tgt_status_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span>	<span class="n">tgt_mask_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span>	<span class="n">pci_int_reg</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define	NX_LEGACY_INTR_CONFIG						\</span>
<span class="cp">{									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F0,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS,		\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(0) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F1,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F1,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F1,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(1) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F2,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F2,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F2,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(2) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F3,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F3,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F3,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(3) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F4,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F4,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F4,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(4) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F5,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F5,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F5,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(5) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F6,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F6,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F6,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(6) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F7,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F7,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F7,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(7) },	\</span>
<span class="cp">}</span>

<span class="cp">#endif				</span><span class="cm">/* __NETXEN_NIC_HDR_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
