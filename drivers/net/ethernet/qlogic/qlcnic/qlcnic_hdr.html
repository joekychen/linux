<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › qlogic › qlcnic › qlcnic_hdr.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>qlcnic_hdr.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * QLogic qlcnic NIC Driver</span>
<span class="cm"> * Copyright (c)  2009-2010 QLogic Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * See LICENSE.qlcnic for copyright and licensing details.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __QLCNIC_HDR_H_</span>
<span class="cp">#define __QLCNIC_HDR_H_</span>

<span class="cp">#include &lt;linux/kernel.h&gt;</span>
<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * The basic unit of access when reading/writing control registers.</span>
<span class="cm"> */</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_H0_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_H1_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_H2_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_H3_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_H4_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_H5_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_H6_CH_HUB_ADR</span> <span class="o">=</span> <span class="mh">0x08</span>
<span class="p">};</span>

<span class="cm">/*  Hub 0 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_MN_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_MS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x25</span>
<span class="p">};</span>

<span class="cm">/*  Hub 1 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_PS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x73</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0b</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_QMS_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQGS0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQGS1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQGS2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQGS3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_C2C0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x58</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_C2C1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x59</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_C2C2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x5a</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0a</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX4_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0c</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX7_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0f</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX9_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SMB_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x18</span>
<span class="p">};</span>

<span class="cm">/*  Hub 2 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_NIU_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x31</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_I2C0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x19</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_I2C1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x29</span><span class="p">,</span>

	<span class="n">QLCNIC_HW_SN_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_I2Q_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_LPC_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_ROMUSB_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x21</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_QM_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x66</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQG0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQG1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x61</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQG2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x62</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SQG3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x63</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX5_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0d</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX6_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x0e</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX8_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x11</span>
<span class="p">};</span>

<span class="cm">/*  Hub 3 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_PH_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x1A</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_SRE_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_EG_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x51</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_RPMX0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x08</span>
<span class="p">};</span>

<span class="cm">/*  Hub 4 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_PEGN0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGN1_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGN2_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGN3_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGNI_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGND_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGNC_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGR0_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGR1_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGR2_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGR3_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGN4_CRB_AGT_ADR</span>
<span class="p">};</span>

<span class="cm">/*  Hub 5 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_PEGS0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGS1_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGS2_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGS3_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGSI_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGSD_CRB_AGT_ADR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PEGSC_CRB_AGT_ADR</span>
<span class="p">};</span>

<span class="cm">/*  Hub 6 */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_CAS0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x46</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_CAS1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x47</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_CAS2_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x48</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_CAS3_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x49</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_NCM_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x16</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_TMR_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x17</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_XDMA_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_OCM0_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_OCM1_CRB_AGT_ADR</span> <span class="o">=</span> <span class="mh">0x07</span>
<span class="p">};</span>

<span class="cm">/*  Floaters - non existent modules */</span>
<span class="cp">#define QLCNIC_HW_EFC_RPMX0_CRB_AGT_ADR	0x67</span>

<span class="cm">/*  This field defines PCI/X adr [25:20] of agents on the CRB */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PH</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PS</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_MN</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_MS</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGR1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SRE</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_NIU</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_QMN</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQN0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQN1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQN2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQN3</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_QMS</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQS0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQS1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQS2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SQS3</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGN0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGN1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGN2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGN3</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGND</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGNI</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGS0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGS1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGS2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGS3</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGSD</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGSI</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SN</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGR2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_EG</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PH2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PS2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_CAM</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_CAS0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_CAS1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_CAS2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_C2C0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_C2C1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_TIMR</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGR3</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX2</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX3</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX4</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX5</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX6</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX7</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_XDMA</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_I2Q</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_ROMUSB</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_CAS3</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX8</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_RPMX9</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_OCM0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_OCM1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_SMB</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_I2C0</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_I2C1</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_LPC</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGNC</span><span class="p">,</span>
	<span class="n">QLCNIC_HW_PX_MAP_CRB_PGR0</span>
<span class="p">};</span>

<span class="cp">#define	BIT_0	0x1</span>
<span class="cp">#define	BIT_1	0x2</span>
<span class="cp">#define	BIT_2	0x4</span>
<span class="cp">#define	BIT_3	0x8</span>
<span class="cp">#define	BIT_4	0x10</span>
<span class="cp">#define	BIT_5	0x20</span>
<span class="cp">#define	BIT_6	0x40</span>
<span class="cp">#define	BIT_7	0x80</span>
<span class="cp">#define	BIT_8	0x100</span>
<span class="cp">#define	BIT_9	0x200</span>
<span class="cp">#define	BIT_10	0x400</span>
<span class="cp">#define	BIT_11	0x800</span>
<span class="cp">#define	BIT_12	0x1000</span>
<span class="cp">#define	BIT_13	0x2000</span>
<span class="cp">#define	BIT_14	0x4000</span>
<span class="cp">#define	BIT_15	0x8000</span>
<span class="cp">#define	BIT_16	0x10000</span>
<span class="cp">#define	BIT_17	0x20000</span>
<span class="cp">#define	BIT_18	0x40000</span>
<span class="cp">#define	BIT_19	0x80000</span>
<span class="cp">#define	BIT_20	0x100000</span>
<span class="cp">#define	BIT_21	0x200000</span>
<span class="cp">#define	BIT_22	0x400000</span>
<span class="cp">#define	BIT_23	0x800000</span>
<span class="cp">#define	BIT_24	0x1000000</span>
<span class="cp">#define	BIT_25	0x2000000</span>
<span class="cp">#define	BIT_26	0x4000000</span>
<span class="cp">#define	BIT_27	0x8000000</span>
<span class="cp">#define	BIT_28	0x10000000</span>
<span class="cp">#define	BIT_29	0x20000000</span>
<span class="cp">#define	BIT_30	0x40000000</span>
<span class="cp">#define	BIT_31	0x80000000</span>

<span class="cm">/*  This field defines CRB adr [31:20] of the agents */</span>

<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_MN	\</span>
<span class="cp">	((QLCNIC_HW_H0_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_MN_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PH	\</span>
<span class="cp">	((QLCNIC_HW_H0_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PH_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_MS	\</span>
<span class="cp">	((QLCNIC_HW_H0_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_MS_CRB_AGT_ADR)</span>

<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PS	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PS_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SS	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SS_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX3	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX3_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_QMS	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_QMS_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQS0	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQGS0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQS1	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQGS1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQS2	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQGS2_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQS3	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQGS3_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_C2C0	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_C2C0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_C2C1	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_C2C1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX2	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX2_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX4	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX4_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX7	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX7_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX9	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX9_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SMB	\</span>
<span class="cp">	((QLCNIC_HW_H1_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SMB_CRB_AGT_ADR)</span>

<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_NIU	\</span>
<span class="cp">	((QLCNIC_HW_H2_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_NIU_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_I2C0	\</span>
<span class="cp">	((QLCNIC_HW_H2_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_I2C0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_I2C1	\</span>
<span class="cp">	((QLCNIC_HW_H2_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_I2C1_CRB_AGT_ADR)</span>

<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SRE	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SRE_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_EG	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_EG_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX0	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_QMN	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_QM_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQN0	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQG0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQN1	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQG1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQN2	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQG2_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SQN3	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SQG3_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX1	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX5	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX5_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX6	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX6_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_RPMX8	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_RPMX8_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_CAS0	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_CAS0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_CAS1	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_CAS1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_CAS2	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_CAS2_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_CAS3	\</span>
<span class="cp">	((QLCNIC_HW_H3_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_CAS3_CRB_AGT_ADR)</span>

<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGNI	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGNI_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGND	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGND_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGN0	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGN0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGN1	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGN1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGN2	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGN2_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGN3	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGN3_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGN4	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGN4_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGNC	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGNC_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGR0	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGR0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGR1	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGR1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGR2	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGR2_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGR3	\</span>
<span class="cp">	((QLCNIC_HW_H4_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGR3_CRB_AGT_ADR)</span>

<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGSI	\</span>
<span class="cp">	((QLCNIC_HW_H5_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGSI_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGSD	\</span>
<span class="cp">	((QLCNIC_HW_H5_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGSD_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGS0	\</span>
<span class="cp">	((QLCNIC_HW_H5_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGS0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGS1	\</span>
<span class="cp">	((QLCNIC_HW_H5_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGS1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGS2	\</span>
<span class="cp">	((QLCNIC_HW_H5_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGS2_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGS3	\</span>
<span class="cp">	((QLCNIC_HW_H5_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGS3_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_PGSC	\</span>
<span class="cp">	((QLCNIC_HW_H5_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_PEGSC_CRB_AGT_ADR)</span>

<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_CAM	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_NCM_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_TIMR	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_TMR_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_XDMA	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_XDMA_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_SN	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_SN_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_I2Q	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_I2Q_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_ROMUSB	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_ROMUSB_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_OCM0	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_OCM0_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_OCM1	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_OCM1_CRB_AGT_ADR)</span>
<span class="cp">#define QLCNIC_HW_CRB_HUB_AGT_ADR_LPC	\</span>
<span class="cp">	((QLCNIC_HW_H6_CH_HUB_ADR &lt;&lt; 7) | QLCNIC_HW_LPC_CRB_AGT_ADR)</span>

<span class="cp">#define QLCNIC_SRE_MISC		(QLCNIC_CRB_SRE + 0x0002c)</span>

<span class="cp">#define QLCNIC_I2Q_CLR_PCI_HI	(QLCNIC_CRB_I2Q + 0x00034)</span>

<span class="cp">#define ROMUSB_GLB		(QLCNIC_CRB_ROMUSB + 0x00000)</span>
<span class="cp">#define ROMUSB_ROM		(QLCNIC_CRB_ROMUSB + 0x10000)</span>

<span class="cp">#define QLCNIC_ROMUSB_GLB_STATUS	(ROMUSB_GLB + 0x0004)</span>
<span class="cp">#define QLCNIC_ROMUSB_GLB_SW_RESET	(ROMUSB_GLB + 0x0008)</span>
<span class="cp">#define QLCNIC_ROMUSB_GLB_PAD_GPIO_I	(ROMUSB_GLB + 0x000c)</span>
<span class="cp">#define QLCNIC_ROMUSB_GLB_CAS_RST	(ROMUSB_GLB + 0x0038)</span>
<span class="cp">#define QLCNIC_ROMUSB_GLB_TEST_MUX_SEL	(ROMUSB_GLB + 0x0044)</span>
<span class="cp">#define QLCNIC_ROMUSB_GLB_PEGTUNE_DONE	(ROMUSB_GLB + 0x005c)</span>
<span class="cp">#define QLCNIC_ROMUSB_GLB_CHIP_CLK_CTRL	(ROMUSB_GLB + 0x00A8)</span>

<span class="cp">#define QLCNIC_ROMUSB_GPIO(n)		(ROMUSB_GLB + 0x60 + (4 * (n)))</span>

<span class="cp">#define QLCNIC_ROMUSB_ROM_INSTR_OPCODE	(ROMUSB_ROM + 0x0004)</span>
<span class="cp">#define QLCNIC_ROMUSB_ROM_ADDRESS	(ROMUSB_ROM + 0x0008)</span>
<span class="cp">#define QLCNIC_ROMUSB_ROM_WDATA		(ROMUSB_ROM + 0x000c)</span>
<span class="cp">#define QLCNIC_ROMUSB_ROM_ABYTE_CNT	(ROMUSB_ROM + 0x0010)</span>
<span class="cp">#define QLCNIC_ROMUSB_ROM_DUMMY_BYTE_CNT (ROMUSB_ROM + 0x0014)</span>
<span class="cp">#define QLCNIC_ROMUSB_ROM_RDATA		(ROMUSB_ROM + 0x0018)</span>

<span class="cm">/* Lock IDs for ROM lock */</span>
<span class="cp">#define ROM_LOCK_DRIVER	0x0d417340</span>

<span class="cm">/******************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*    Definitions specific to M25P flash</span>
<span class="cm">*</span>
<span class="cm">*******************************************************************************</span>
<span class="cm">*/</span>

<span class="cm">/* all are 1MB windows */</span>

<span class="cp">#define QLCNIC_PCI_CRB_WINDOWSIZE	0x00100000</span>
<span class="cp">#define QLCNIC_PCI_CRB_WINDOW(A)	\</span>
<span class="cp">	(QLCNIC_PCI_CRBSPACE + (A)*QLCNIC_PCI_CRB_WINDOWSIZE)</span>

<span class="cp">#define QLCNIC_CRB_NIU		QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_NIU)</span>
<span class="cp">#define QLCNIC_CRB_SRE		QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_SRE)</span>
<span class="cp">#define QLCNIC_CRB_ROMUSB	\</span>
<span class="cp">	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_ROMUSB)</span>
<span class="cp">#define QLCNIC_CRB_EPG		QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_EG)</span>
<span class="cp">#define QLCNIC_CRB_I2Q		QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_I2Q)</span>
<span class="cp">#define QLCNIC_CRB_TIMER	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_TIMR)</span>
<span class="cp">#define QLCNIC_CRB_I2C0 	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_I2C0)</span>
<span class="cp">#define QLCNIC_CRB_SMB		QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_SMB)</span>
<span class="cp">#define QLCNIC_CRB_MAX		QLCNIC_PCI_CRB_WINDOW(64)</span>

<span class="cp">#define QLCNIC_CRB_PCIX_HOST	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PH)</span>
<span class="cp">#define QLCNIC_CRB_PCIX_HOST2	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PH2)</span>
<span class="cp">#define QLCNIC_CRB_PEG_NET_0	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PGN0)</span>
<span class="cp">#define QLCNIC_CRB_PEG_NET_1	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PGN1)</span>
<span class="cp">#define QLCNIC_CRB_PEG_NET_2	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PGN2)</span>
<span class="cp">#define QLCNIC_CRB_PEG_NET_3	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PGN3)</span>
<span class="cp">#define QLCNIC_CRB_PEG_NET_4	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_SQS2)</span>
<span class="cp">#define QLCNIC_CRB_PEG_NET_D	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PGND)</span>
<span class="cp">#define QLCNIC_CRB_PEG_NET_I	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PGNI)</span>
<span class="cp">#define QLCNIC_CRB_DDR_NET	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_MN)</span>
<span class="cp">#define QLCNIC_CRB_QDR_NET	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_SN)</span>

<span class="cp">#define QLCNIC_CRB_PCIX_MD	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_PS)</span>
<span class="cp">#define QLCNIC_CRB_PCIE 	QLCNIC_CRB_PCIX_MD</span>

<span class="cp">#define ISR_INT_VECTOR		(QLCNIC_PCIX_PS_REG(PCIX_INT_VECTOR))</span>
<span class="cp">#define ISR_INT_MASK		(QLCNIC_PCIX_PS_REG(PCIX_INT_MASK))</span>
<span class="cp">#define ISR_INT_MASK_SLOW	(QLCNIC_PCIX_PS_REG(PCIX_INT_MASK))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS	(QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS))</span>
<span class="cp">#define ISR_INT_TARGET_MASK	(QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F1   (QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS_F1))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F1     (QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK_F1))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F2   (QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS_F2))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F2     (QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK_F2))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F3   (QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS_F3))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F3     (QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK_F3))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F4   (QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS_F4))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F4     (QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK_F4))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F5   (QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS_F5))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F5     (QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK_F5))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F6   (QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS_F6))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F6     (QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK_F6))</span>
<span class="cp">#define ISR_INT_TARGET_STATUS_F7   (QLCNIC_PCIX_PS_REG(PCIX_TARGET_STATUS_F7))</span>
<span class="cp">#define ISR_INT_TARGET_MASK_F7     (QLCNIC_PCIX_PS_REG(PCIX_TARGET_MASK_F7))</span>

<span class="cp">#define QLCNIC_PCI_MN_2M	(0)</span>
<span class="cp">#define QLCNIC_PCI_MS_2M	(0x80000)</span>
<span class="cp">#define QLCNIC_PCI_OCM0_2M	(0x000c0000UL)</span>
<span class="cp">#define QLCNIC_PCI_CRBSPACE	(0x06000000UL)</span>
<span class="cp">#define QLCNIC_PCI_CAMQM	(0x04800000UL)</span>
<span class="cp">#define QLCNIC_PCI_CAMQM_END	(0x04800800UL)</span>
<span class="cp">#define QLCNIC_PCI_2MB_SIZE	(0x00200000UL)</span>
<span class="cp">#define QLCNIC_PCI_CAMQM_2M_BASE	(0x000ff800UL)</span>

<span class="cp">#define QLCNIC_CRB_CAM	QLCNIC_PCI_CRB_WINDOW(QLCNIC_HW_PX_MAP_CRB_CAM)</span>

<span class="cp">#define QLCNIC_ADDR_DDR_NET	(0x0000000000000000ULL)</span>
<span class="cp">#define QLCNIC_ADDR_DDR_NET_MAX (0x000000000fffffffULL)</span>
<span class="cp">#define QLCNIC_ADDR_OCM0	(0x0000000200000000ULL)</span>
<span class="cp">#define QLCNIC_ADDR_OCM0_MAX	(0x00000002000fffffULL)</span>
<span class="cp">#define QLCNIC_ADDR_OCM1	(0x0000000200400000ULL)</span>
<span class="cp">#define QLCNIC_ADDR_OCM1_MAX	(0x00000002004fffffULL)</span>
<span class="cp">#define QLCNIC_ADDR_QDR_NET	(0x0000000300000000ULL)</span>
<span class="cp">#define QLCNIC_ADDR_QDR_NET_MAX (0x0000000307ffffffULL)</span>

<span class="cm">/*</span>
<span class="cm"> *   Register offsets for MN</span>
<span class="cm"> */</span>
<span class="cp">#define QLCNIC_MIU_CONTROL	(0x000)</span>
<span class="cp">#define QLCNIC_MIU_MN_CONTROL	(QLCNIC_CRB_DDR_NET+QLCNIC_MIU_CONTROL)</span>

<span class="cm">/* 200ms delay in each loop */</span>
<span class="cp">#define QLCNIC_NIU_PHY_WAITLEN		200000</span>
<span class="cm">/* 10 seconds before we give up */</span>
<span class="cp">#define QLCNIC_NIU_PHY_WAITMAX		50</span>
<span class="cp">#define QLCNIC_NIU_MAX_GBE_PORTS	4</span>
<span class="cp">#define QLCNIC_NIU_MAX_XG_PORTS		2</span>

<span class="cp">#define QLCNIC_NIU_MODE			(QLCNIC_CRB_NIU + 0x00000)</span>
<span class="cp">#define QLCNIC_NIU_GB_PAUSE_CTL		(QLCNIC_CRB_NIU + 0x0030c)</span>
<span class="cp">#define QLCNIC_NIU_XG_PAUSE_CTL		(QLCNIC_CRB_NIU + 0x00098)</span>

<span class="cp">#define QLCNIC_NIU_GB_MAC_CONFIG_0(I)		\</span>
<span class="cp">		(QLCNIC_CRB_NIU + 0x30000 + (I)*0x10000)</span>
<span class="cp">#define QLCNIC_NIU_GB_MAC_CONFIG_1(I)		\</span>
<span class="cp">		(QLCNIC_CRB_NIU + 0x30004 + (I)*0x10000)</span>


<span class="cp">#define TEST_AGT_CTRL	(0x00)</span>

<span class="cp">#define TA_CTL_START	BIT_0</span>
<span class="cp">#define TA_CTL_ENABLE	BIT_1</span>
<span class="cp">#define TA_CTL_WRITE	BIT_2</span>
<span class="cp">#define TA_CTL_BUSY	BIT_3</span>

<span class="cm">/*</span>
<span class="cm"> *   Register offsets for MN</span>
<span class="cm"> */</span>
<span class="cp">#define MIU_TEST_AGT_BASE		(0x90)</span>

<span class="cp">#define MIU_TEST_AGT_ADDR_LO		(0x04)</span>
<span class="cp">#define MIU_TEST_AGT_ADDR_HI		(0x08)</span>
<span class="cp">#define MIU_TEST_AGT_WRDATA_LO		(0x10)</span>
<span class="cp">#define MIU_TEST_AGT_WRDATA_HI		(0x14)</span>
<span class="cp">#define MIU_TEST_AGT_WRDATA_UPPER_LO	(0x20)</span>
<span class="cp">#define MIU_TEST_AGT_WRDATA_UPPER_HI	(0x24)</span>
<span class="cp">#define MIU_TEST_AGT_WRDATA(i)		(0x10+(0x10*((i)&gt;&gt;1))+(4*((i)&amp;1)))</span>
<span class="cp">#define MIU_TEST_AGT_RDDATA_LO		(0x18)</span>
<span class="cp">#define MIU_TEST_AGT_RDDATA_HI		(0x1c)</span>
<span class="cp">#define MIU_TEST_AGT_RDDATA_UPPER_LO	(0x28)</span>
<span class="cp">#define MIU_TEST_AGT_RDDATA_UPPER_HI	(0x2c)</span>
<span class="cp">#define MIU_TEST_AGT_RDDATA(i)		(0x18+(0x10*((i)&gt;&gt;1))+(4*((i)&amp;1)))</span>

<span class="cp">#define MIU_TEST_AGT_ADDR_MASK		0xfffffff8</span>
<span class="cp">#define MIU_TEST_AGT_UPPER_ADDR(off)	(0)</span>

<span class="cm">/*</span>
<span class="cm"> *   Register offsets for MS</span>
<span class="cm"> */</span>
<span class="cp">#define SIU_TEST_AGT_BASE		(0x60)</span>

<span class="cp">#define SIU_TEST_AGT_ADDR_LO		(0x04)</span>
<span class="cp">#define SIU_TEST_AGT_ADDR_HI		(0x18)</span>
<span class="cp">#define SIU_TEST_AGT_WRDATA_LO		(0x08)</span>
<span class="cp">#define SIU_TEST_AGT_WRDATA_HI		(0x0c)</span>
<span class="cp">#define SIU_TEST_AGT_WRDATA(i)		(0x08+(4*(i)))</span>
<span class="cp">#define SIU_TEST_AGT_RDDATA_LO		(0x10)</span>
<span class="cp">#define SIU_TEST_AGT_RDDATA_HI		(0x14)</span>
<span class="cp">#define SIU_TEST_AGT_RDDATA(i)		(0x10+(4*(i)))</span>

<span class="cp">#define SIU_TEST_AGT_ADDR_MASK		0x3ffff8</span>
<span class="cp">#define SIU_TEST_AGT_UPPER_ADDR(off)	((off)&gt;&gt;22)</span>

<span class="cm">/* XG Link status */</span>
<span class="cp">#define XG_LINK_UP	0x10</span>
<span class="cp">#define XG_LINK_DOWN	0x20</span>

<span class="cp">#define XG_LINK_UP_P3P	0x01</span>
<span class="cp">#define XG_LINK_DOWN_P3P	0x02</span>
<span class="cp">#define XG_LINK_STATE_P3P_MASK 0xf</span>
<span class="cp">#define XG_LINK_STATE_P3P(pcifn, val) \</span>
<span class="cp">	(((val) &gt;&gt; ((pcifn) * 4)) &amp; XG_LINK_STATE_P3P_MASK)</span>

<span class="cp">#define P3P_LINK_SPEED_MHZ	100</span>
<span class="cp">#define P3P_LINK_SPEED_MASK	0xff</span>
<span class="cp">#define P3P_LINK_SPEED_REG(pcifn)	\</span>
<span class="cp">	(CRB_PF_LINK_SPEED_1 + (((pcifn) / 4) * 4))</span>
<span class="cp">#define P3P_LINK_SPEED_VAL(pcifn, reg)	\</span>
<span class="cp">	(((reg) &gt;&gt; (8 * ((pcifn) &amp; 0x3))) &amp; P3P_LINK_SPEED_MASK)</span>

<span class="cp">#define QLCNIC_CAM_RAM_BASE	(QLCNIC_CRB_CAM + 0x02000)</span>
<span class="cp">#define QLCNIC_CAM_RAM(reg)	(QLCNIC_CAM_RAM_BASE + (reg))</span>
<span class="cp">#define QLCNIC_FW_VERSION_MAJOR (QLCNIC_CAM_RAM(0x150))</span>
<span class="cp">#define QLCNIC_FW_VERSION_MINOR (QLCNIC_CAM_RAM(0x154))</span>
<span class="cp">#define QLCNIC_FW_VERSION_SUB	(QLCNIC_CAM_RAM(0x158))</span>
<span class="cp">#define QLCNIC_ROM_LOCK_ID	(QLCNIC_CAM_RAM(0x100))</span>
<span class="cp">#define QLCNIC_PHY_LOCK_ID	(QLCNIC_CAM_RAM(0x120))</span>
<span class="cp">#define QLCNIC_CRB_WIN_LOCK_ID	(QLCNIC_CAM_RAM(0x124))</span>

<span class="cp">#define NIC_CRB_BASE		(QLCNIC_CAM_RAM(0x200))</span>
<span class="cp">#define NIC_CRB_BASE_2		(QLCNIC_CAM_RAM(0x700))</span>
<span class="cp">#define QLCNIC_REG(X)		(NIC_CRB_BASE+(X))</span>
<span class="cp">#define QLCNIC_REG_2(X) 	(NIC_CRB_BASE_2+(X))</span>

<span class="cp">#define QLCNIC_CDRP_CRB_OFFSET		(QLCNIC_REG(0x18))</span>
<span class="cp">#define QLCNIC_ARG1_CRB_OFFSET		(QLCNIC_REG(0x1c))</span>
<span class="cp">#define QLCNIC_ARG2_CRB_OFFSET		(QLCNIC_REG(0x20))</span>
<span class="cp">#define QLCNIC_ARG3_CRB_OFFSET		(QLCNIC_REG(0x24))</span>
<span class="cp">#define QLCNIC_SIGN_CRB_OFFSET		(QLCNIC_REG(0x28))</span>

<span class="cp">#define CRB_CMDPEG_STATE		(QLCNIC_REG(0x50))</span>
<span class="cp">#define CRB_RCVPEG_STATE		(QLCNIC_REG(0x13c))</span>

<span class="cp">#define CRB_XG_STATE_P3P		(QLCNIC_REG(0x98))</span>
<span class="cp">#define CRB_PF_LINK_SPEED_1		(QLCNIC_REG(0xe8))</span>
<span class="cp">#define CRB_PF_LINK_SPEED_2		(QLCNIC_REG(0xec))</span>

<span class="cp">#define CRB_TEMP_STATE			(QLCNIC_REG(0x1b4))</span>

<span class="cp">#define CRB_V2P_0			(QLCNIC_REG(0x290))</span>
<span class="cp">#define CRB_V2P(port)			(CRB_V2P_0+((port)*4))</span>
<span class="cp">#define CRB_DRIVER_VERSION		(QLCNIC_REG(0x2a0))</span>

<span class="cp">#define CRB_FW_CAPABILITIES_1		(QLCNIC_CAM_RAM(0x128))</span>
<span class="cp">#define CRB_MAC_BLOCK_START		(QLCNIC_CAM_RAM(0x1c0))</span>

<span class="cm">/*</span>
<span class="cm"> * CrbPortPhanCntrHi/Lo is used to pass the address of HostPhantomIndex address</span>
<span class="cm"> * which can be read by the Phantom host to get producer/consumer indexes from</span>
<span class="cm"> * Phantom/Casper. If it is not HOST_SHARED_MEMORY, then the following</span>
<span class="cm"> * registers will be used for the addresses of the ring&#39;s shared memory</span>
<span class="cm"> * on the Phantom.</span>
<span class="cm"> */</span>

<span class="cp">#define qlcnic_get_temp_val(x)		((x) &gt;&gt; 16)</span>
<span class="cp">#define qlcnic_get_temp_state(x)	((x) &amp; 0xffff)</span>
<span class="cp">#define qlcnic_encode_temp(val, state)	(((val) &lt;&lt; 16) | (state))</span>

<span class="cm">/*</span>
<span class="cm"> * Temperature control.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_TEMP_NORMAL</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>	<span class="cm">/* Normal operating range */</span>
	<span class="n">QLCNIC_TEMP_WARN</span><span class="p">,</span>	<span class="cm">/* Sound alert, temperature getting high */</span>
	<span class="n">QLCNIC_TEMP_PANIC</span>	<span class="cm">/* Fatal error, hardware has shut down. */</span>
<span class="p">};</span>


<span class="cm">/* Lock IDs for PHY lock */</span>
<span class="cp">#define PHY_LOCK_DRIVER		0x44524956</span>

<span class="cm">/* Used for PS PCI Memory access */</span>
<span class="cp">#define PCIX_PS_OP_ADDR_LO	(0x10000)</span>
<span class="cm">/*   via CRB  (PS side only)     */</span>
<span class="cp">#define PCIX_PS_OP_ADDR_HI	(0x10004)</span>

<span class="cp">#define PCIX_INT_VECTOR 	(0x10100)</span>
<span class="cp">#define PCIX_INT_MASK		(0x10104)</span>

<span class="cp">#define PCIX_OCM_WINDOW		(0x10800)</span>
<span class="cp">#define PCIX_OCM_WINDOW_REG(func)	(PCIX_OCM_WINDOW + 0x4 * (func))</span>

<span class="cp">#define PCIX_TARGET_STATUS	(0x10118)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F1	(0x10160)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F2	(0x10164)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F3	(0x10168)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F4	(0x10360)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F5	(0x10364)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F6	(0x10368)</span>
<span class="cp">#define PCIX_TARGET_STATUS_F7	(0x1036c)</span>

<span class="cp">#define PCIX_TARGET_MASK	(0x10128)</span>
<span class="cp">#define PCIX_TARGET_MASK_F1	(0x10170)</span>
<span class="cp">#define PCIX_TARGET_MASK_F2	(0x10174)</span>
<span class="cp">#define PCIX_TARGET_MASK_F3	(0x10178)</span>
<span class="cp">#define PCIX_TARGET_MASK_F4	(0x10370)</span>
<span class="cp">#define PCIX_TARGET_MASK_F5	(0x10374)</span>
<span class="cp">#define PCIX_TARGET_MASK_F6	(0x10378)</span>
<span class="cp">#define PCIX_TARGET_MASK_F7	(0x1037c)</span>

<span class="cp">#define PCIX_MSI_F(i)		(0x13000+((i)*4))</span>

<span class="cp">#define QLCNIC_PCIX_PH_REG(reg)	(QLCNIC_CRB_PCIE + (reg))</span>
<span class="cp">#define QLCNIC_PCIX_PS_REG(reg)	(QLCNIC_CRB_PCIX_MD + (reg))</span>
<span class="cp">#define QLCNIC_PCIE_REG(reg)	(QLCNIC_CRB_PCIE + (reg))</span>

<span class="cp">#define PCIE_SEM0_LOCK		(0x1c000)</span>
<span class="cp">#define PCIE_SEM0_UNLOCK	(0x1c004)</span>
<span class="cp">#define PCIE_SEM_LOCK(N)	(PCIE_SEM0_LOCK + 8*(N))</span>
<span class="cp">#define PCIE_SEM_UNLOCK(N)	(PCIE_SEM0_UNLOCK + 8*(N))</span>

<span class="cp">#define PCIE_SETUP_FUNCTION	(0x12040)</span>
<span class="cp">#define PCIE_SETUP_FUNCTION2	(0x12048)</span>
<span class="cp">#define PCIE_MISCCFG_RC         (0x1206c)</span>
<span class="cp">#define PCIE_TGT_SPLIT_CHICKEN	(0x12080)</span>
<span class="cp">#define PCIE_CHICKEN3		(0x120c8)</span>

<span class="cp">#define ISR_INT_STATE_REG       (QLCNIC_PCIX_PS_REG(PCIE_MISCCFG_RC))</span>
<span class="cp">#define PCIE_MAX_MASTER_SPLIT	(0x14048)</span>

<span class="cp">#define QLCNIC_PORT_MODE_NONE		0</span>
<span class="cp">#define QLCNIC_PORT_MODE_XG		1</span>
<span class="cp">#define QLCNIC_PORT_MODE_GB		2</span>
<span class="cp">#define QLCNIC_PORT_MODE_802_3_AP	3</span>
<span class="cp">#define QLCNIC_PORT_MODE_AUTO_NEG	4</span>
<span class="cp">#define QLCNIC_PORT_MODE_AUTO_NEG_1G	5</span>
<span class="cp">#define QLCNIC_PORT_MODE_AUTO_NEG_XG	6</span>
<span class="cp">#define QLCNIC_PORT_MODE_ADDR		(QLCNIC_CAM_RAM(0x24))</span>
<span class="cp">#define QLCNIC_WOL_PORT_MODE		(QLCNIC_CAM_RAM(0x198))</span>

<span class="cp">#define QLCNIC_WOL_CONFIG_NV		(QLCNIC_CAM_RAM(0x184))</span>
<span class="cp">#define QLCNIC_WOL_CONFIG		(QLCNIC_CAM_RAM(0x188))</span>

<span class="cp">#define QLCNIC_PEG_TUNE_MN_PRESENT	0x1</span>
<span class="cp">#define QLCNIC_PEG_TUNE_CAPABILITY	(QLCNIC_CAM_RAM(0x02c))</span>

<span class="cp">#define QLCNIC_DMA_WATCHDOG_CTRL	(QLCNIC_CAM_RAM(0x14))</span>
<span class="cp">#define QLCNIC_PEG_ALIVE_COUNTER	(QLCNIC_CAM_RAM(0xb0))</span>
<span class="cp">#define QLCNIC_PEG_HALT_STATUS1 	(QLCNIC_CAM_RAM(0xa8))</span>
<span class="cp">#define QLCNIC_PEG_HALT_STATUS2 	(QLCNIC_CAM_RAM(0xac))</span>
<span class="cp">#define QLCNIC_CRB_DRV_ACTIVE	(QLCNIC_CAM_RAM(0x138))</span>
<span class="cp">#define QLCNIC_CRB_DEV_STATE		(QLCNIC_CAM_RAM(0x140))</span>

<span class="cp">#define QLCNIC_CRB_DRV_STATE		(QLCNIC_CAM_RAM(0x144))</span>
<span class="cp">#define QLCNIC_CRB_DRV_SCRATCH		(QLCNIC_CAM_RAM(0x148))</span>
<span class="cp">#define QLCNIC_CRB_DEV_PARTITION_INFO	(QLCNIC_CAM_RAM(0x14c))</span>
<span class="cp">#define QLCNIC_CRB_DRV_IDC_VER		(QLCNIC_CAM_RAM(0x174))</span>
<span class="cp">#define QLCNIC_CRB_DEV_NPAR_STATE	(QLCNIC_CAM_RAM(0x19c))</span>
<span class="cp">#define QLCNIC_ROM_DEV_INIT_TIMEOUT	(0x3e885c)</span>
<span class="cp">#define QLCNIC_ROM_DRV_RESET_TIMEOUT	(0x3e8860)</span>

<span class="cm">/* Device State */</span>
<span class="cp">#define QLCNIC_DEV_COLD			0x1</span>
<span class="cp">#define QLCNIC_DEV_INITIALIZING		0x2</span>
<span class="cp">#define QLCNIC_DEV_READY		0x3</span>
<span class="cp">#define QLCNIC_DEV_NEED_RESET		0x4</span>
<span class="cp">#define QLCNIC_DEV_NEED_QUISCENT	0x5</span>
<span class="cp">#define QLCNIC_DEV_FAILED		0x6</span>
<span class="cp">#define QLCNIC_DEV_QUISCENT		0x7</span>

<span class="cp">#define QLCNIC_DEV_BADBAD		0xbad0bad0</span>

<span class="cp">#define QLCNIC_DEV_NPAR_NON_OPER	0 </span><span class="cm">/* NON Operational */</span><span class="cp"></span>
<span class="cp">#define QLCNIC_DEV_NPAR_OPER		1 </span><span class="cm">/* NPAR Operational */</span><span class="cp"></span>
<span class="cp">#define QLCNIC_DEV_NPAR_OPER_TIMEO	30 </span><span class="cm">/* Operational time out */</span><span class="cp"></span>

<span class="cp">#define QLC_DEV_CHECK_ACTIVE(VAL, FN)		((VAL) &amp; (1 &lt;&lt; (FN * 4)))</span>
<span class="cp">#define QLC_DEV_SET_REF_CNT(VAL, FN)		((VAL) |= (1 &lt;&lt; (FN * 4)))</span>
<span class="cp">#define QLC_DEV_CLR_REF_CNT(VAL, FN)		((VAL) &amp;= ~(1 &lt;&lt; (FN * 4)))</span>
<span class="cp">#define QLC_DEV_SET_RST_RDY(VAL, FN)		((VAL) |= (1 &lt;&lt; (FN * 4)))</span>
<span class="cp">#define QLC_DEV_SET_QSCNT_RDY(VAL, FN)		((VAL) |= (2 &lt;&lt; (FN * 4)))</span>
<span class="cp">#define QLC_DEV_CLR_RST_QSCNT(VAL, FN)		((VAL) &amp;= ~(3 &lt;&lt; (FN * 4)))</span>

<span class="cp">#define QLC_DEV_GET_DRV(VAL, FN)		(0xf &amp; ((VAL) &gt;&gt; (FN * 4)))</span>
<span class="cp">#define QLC_DEV_SET_DRV(VAL, FN)		((VAL) &lt;&lt; (FN * 4))</span>

<span class="cp">#define QLCNIC_TYPE_NIC		1</span>
<span class="cp">#define QLCNIC_TYPE_FCOE		2</span>
<span class="cp">#define QLCNIC_TYPE_ISCSI		3</span>

<span class="cp">#define QLCNIC_RCODE_DRIVER_INFO		0x20000000</span>
<span class="cp">#define QLCNIC_RCODE_DRIVER_CAN_RELOAD		BIT_30</span>
<span class="cp">#define QLCNIC_RCODE_FATAL_ERROR		BIT_31</span>
<span class="cp">#define QLCNIC_FWERROR_PEGNUM(code)		((code) &amp; 0xff)</span>
<span class="cp">#define QLCNIC_FWERROR_CODE(code)		((code &gt;&gt; 8) &amp; 0x1fffff)</span>
<span class="cp">#define QLCNIC_FWERROR_FAN_FAILURE		0x16</span>

<span class="cp">#define FW_POLL_DELAY		(1 * HZ)</span>
<span class="cp">#define FW_FAIL_THRESH		2</span>

<span class="cp">#define QLCNIC_RESET_TIMEOUT_SECS	10</span>
<span class="cp">#define QLCNIC_INIT_TIMEOUT_SECS	30</span>
<span class="cp">#define QLCNIC_RCVPEG_CHECK_RETRY_COUNT	2000</span>
<span class="cp">#define QLCNIC_RCVPEG_CHECK_DELAY	10</span>
<span class="cp">#define QLCNIC_CMDPEG_CHECK_RETRY_COUNT	60</span>
<span class="cp">#define QLCNIC_CMDPEG_CHECK_DELAY	500</span>
<span class="cp">#define QLCNIC_HEARTBEAT_PERIOD_MSECS	200</span>
<span class="cp">#define QLCNIC_HEARTBEAT_CHECK_RETRY_COUNT	45</span>

<span class="cp">#define	ISR_MSI_INT_TRIGGER(FUNC) (QLCNIC_PCIX_PS_REG(PCIX_MSI_F(FUNC)))</span>
<span class="cp">#define ISR_LEGACY_INT_TRIGGERED(VAL)	(((VAL) &amp; 0x300) == 0x200)</span>

<span class="cm">/*</span>
<span class="cm"> * PCI Interrupt Vector Values.</span>
<span class="cm"> */</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F0	0x0080</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F1	0x0100</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F2	0x0200</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F3	0x0400</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F4	0x0800</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F5	0x1000</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F6	0x2000</span>
<span class="cp">#define	PCIX_INT_VECTOR_BIT_F7	0x4000</span>

<span class="k">struct</span> <span class="n">qlcnic_legacy_intr_set</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">int_vec_bit</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tgt_status_reg</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">tgt_mask_reg</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">pci_int_reg</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define QLCNIC_FW_API		0x1b216c</span>
<span class="cp">#define QLCNIC_DRV_OP_MODE	0x1b2170</span>
<span class="cp">#define QLCNIC_MSIX_BASE	0x132110</span>
<span class="cp">#define QLCNIC_MAX_PCI_FUNC	8</span>
<span class="cp">#define QLCNIC_MAX_VLAN_FILTERS	64</span>

<span class="cm">/* FW dump defines */</span>
<span class="cp">#define MIU_TEST_CTR		0x41000090</span>
<span class="cp">#define MIU_TEST_ADDR_LO	0x41000094</span>
<span class="cp">#define MIU_TEST_ADDR_HI	0x41000098</span>
<span class="cp">#define FLASH_ROM_WINDOW	0x42110030</span>
<span class="cp">#define FLASH_ROM_DATA		0x42150000</span>


<span class="k">static</span> <span class="k">const</span> <span class="n">u32</span> <span class="n">FW_DUMP_LEVELS</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x3</span><span class="p">,</span> <span class="mh">0x7</span><span class="p">,</span> <span class="mh">0xf</span><span class="p">,</span> <span class="mh">0x1f</span><span class="p">,</span> <span class="mh">0x3f</span><span class="p">,</span> <span class="mh">0x7f</span><span class="p">,</span> <span class="mh">0xff</span> <span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="n">u32</span> <span class="n">MIU_TEST_READ_DATA</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x410000A8</span><span class="p">,</span> <span class="mh">0x410000AC</span><span class="p">,</span> <span class="mh">0x410000B8</span><span class="p">,</span> <span class="mh">0x410000BC</span><span class="p">,</span> <span class="p">};</span>

<span class="cp">#define QLCNIC_FW_DUMP_REG1	0x00130060</span>
<span class="cp">#define QLCNIC_FW_DUMP_REG2	0x001e0000</span>
<span class="cp">#define QLCNIC_FLASH_SEM2_LK	0x0013C010</span>
<span class="cp">#define QLCNIC_FLASH_SEM2_ULK	0x0013C014</span>
<span class="cp">#define QLCNIC_FLASH_LOCK_ID	0x001B2100</span>

<span class="cp">#define QLCNIC_RD_DUMP_REG(addr, bar0, data) do {			\</span>
<span class="cp">	writel((addr &amp; 0xFFFF0000), (void *) (bar0 +			\</span>
<span class="cp">		QLCNIC_FW_DUMP_REG1));					\</span>
<span class="cp">	readl((void *) (bar0 + QLCNIC_FW_DUMP_REG1));			\</span>
<span class="cp">	*data = readl((void *) (bar0 + QLCNIC_FW_DUMP_REG2 +		\</span>
<span class="cp">		LSW(addr)));						\</span>
<span class="cp">} while (0)</span>

<span class="cp">#define QLCNIC_WR_DUMP_REG(addr, bar0, data) do {			\</span>
<span class="cp">	writel((addr &amp; 0xFFFF0000), (void *) (bar0 +			\</span>
<span class="cp">		QLCNIC_FW_DUMP_REG1));					\</span>
<span class="cp">	readl((void *) (bar0 + QLCNIC_FW_DUMP_REG1));			\</span>
<span class="cp">	writel(data, (void *) (bar0 + QLCNIC_FW_DUMP_REG2 + LSW(addr)));\</span>
<span class="cp">	readl((void *) (bar0 + QLCNIC_FW_DUMP_REG2 + LSW(addr)));	\</span>
<span class="cp">} while (0)</span>

<span class="cm">/* PCI function operational mode */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_MGMT_FUNC</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">QLCNIC_PRIV_FUNC</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">QLCNIC_NON_PRIV_FUNC</span>	<span class="o">=</span> <span class="mi">2</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">QLCNIC_PORT_DEFAULTS</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">QLCNIC_ADD_VLAN</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">QLCNIC_DEL_VLAN</span>	<span class="o">=</span> <span class="mi">2</span>
<span class="p">};</span>

<span class="cp">#define QLC_DEV_DRV_DEFAULT 0x11111111</span>

<span class="cp">#define LSB(x)	((uint8_t)(x))</span>
<span class="cp">#define MSB(x)	((uint8_t)((uint16_t)(x) &gt;&gt; 8))</span>

<span class="cp">#define LSW(x)  ((uint16_t)((uint32_t)(x)))</span>
<span class="cp">#define MSW(x)  ((uint16_t)((uint32_t)(x) &gt;&gt; 16))</span>

<span class="cp">#define LSD(x)  ((uint32_t)((uint64_t)(x)))</span>
<span class="cp">#define MSD(x)  ((uint32_t)((((uint64_t)(x)) &gt;&gt; 16) &gt;&gt; 16))</span>

<span class="cp">#define	QLCNIC_LEGACY_INTR_CONFIG					\</span>
<span class="cp">{									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F0,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS,		\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(0) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F1,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F1,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F1,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(1) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F2,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F2,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F2,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(2) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F3,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F3,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F3,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(3) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F4,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F4,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F4,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(4) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F5,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F5,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F5,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(5) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F6,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F6,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F6,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(6) },	\</span>
<span class="cp">									\</span>
<span class="cp">	{								\</span>
<span class="cp">		.int_vec_bit	=	PCIX_INT_VECTOR_BIT_F7,		\</span>
<span class="cp">		.tgt_status_reg	=	ISR_INT_TARGET_STATUS_F7,	\</span>
<span class="cp">		.tgt_mask_reg	=	ISR_INT_TARGET_MASK_F7,		\</span>
<span class="cp">		.pci_int_reg	=	ISR_MSI_INT_TRIGGER(7) },	\</span>
<span class="cp">}</span>

<span class="cm">/* NIU REGS */</span>

<span class="cp">#define _qlcnic_crb_get_bit(var, bit)  ((var &gt;&gt; bit) &amp; 0x1)</span>

<span class="cm">/*</span>
<span class="cm"> * NIU GB MAC Config Register 0 (applies to GB0, GB1, GB2, GB3)</span>
<span class="cm"> *</span>
<span class="cm"> *	Bit 0 : enable_tx =&gt; 1:enable frame xmit, 0:disable</span>
<span class="cm"> *	Bit 1 : tx_synced =&gt; R/O: xmit enable synched to xmit stream</span>
<span class="cm"> *	Bit 2 : enable_rx =&gt; 1:enable frame recv, 0:disable</span>
<span class="cm"> *	Bit 3 : rx_synced =&gt; R/O: recv enable synched to recv stream</span>
<span class="cm"> *	Bit 4 : tx_flowctl =&gt; 1:enable pause frame generation, 0:disable</span>
<span class="cm"> *	Bit 5 : rx_flowctl =&gt; 1:act on recv&#39;d pause frames, 0:ignore</span>
<span class="cm"> *	Bit 8 : loopback =&gt; 1:loop MAC xmits to MAC recvs, 0:normal</span>
<span class="cm"> *	Bit 16: tx_reset_pb =&gt; 1:reset frame xmit protocol blk, 0:no-op</span>
<span class="cm"> *	Bit 17: rx_reset_pb =&gt; 1:reset frame recv protocol blk, 0:no-op</span>
<span class="cm"> *	Bit 18: tx_reset_mac =&gt; 1:reset data/ctl multiplexer blk, 0:no-op</span>
<span class="cm"> *	Bit 19: rx_reset_mac =&gt; 1:reset ctl frames &amp; timers blk, 0:no-op</span>
<span class="cm"> *	Bit 31: soft_reset =&gt; 1:reset the MAC and the SERDES, 0:no-op</span>
<span class="cm"> */</span>
<span class="cp">#define qlcnic_gb_rx_flowctl(config_word)	\</span>
<span class="cp">	((config_word) |= 1 &lt;&lt; 5)</span>
<span class="cp">#define qlcnic_gb_get_rx_flowctl(config_word)	\</span>
<span class="cp">	_qlcnic_crb_get_bit((config_word), 5)</span>
<span class="cp">#define qlcnic_gb_unset_rx_flowctl(config_word)	\</span>
<span class="cp">	((config_word) &amp;= ~(1 &lt;&lt; 5))</span>

<span class="cm">/*</span>
<span class="cm"> * NIU GB Pause Ctl Register</span>
<span class="cm"> */</span>

<span class="cp">#define qlcnic_gb_set_gb0_mask(config_word)    \</span>
<span class="cp">	((config_word) |= 1 &lt;&lt; 0)</span>
<span class="cp">#define qlcnic_gb_set_gb1_mask(config_word)    \</span>
<span class="cp">	((config_word) |= 1 &lt;&lt; 2)</span>
<span class="cp">#define qlcnic_gb_set_gb2_mask(config_word)    \</span>
<span class="cp">	((config_word) |= 1 &lt;&lt; 4)</span>
<span class="cp">#define qlcnic_gb_set_gb3_mask(config_word)    \</span>
<span class="cp">	((config_word) |= 1 &lt;&lt; 6)</span>

<span class="cp">#define qlcnic_gb_get_gb0_mask(config_word)    \</span>
<span class="cp">	_qlcnic_crb_get_bit((config_word), 0)</span>
<span class="cp">#define qlcnic_gb_get_gb1_mask(config_word)    \</span>
<span class="cp">	_qlcnic_crb_get_bit((config_word), 2)</span>
<span class="cp">#define qlcnic_gb_get_gb2_mask(config_word)    \</span>
<span class="cp">	_qlcnic_crb_get_bit((config_word), 4)</span>
<span class="cp">#define qlcnic_gb_get_gb3_mask(config_word)    \</span>
<span class="cp">	_qlcnic_crb_get_bit((config_word), 6)</span>

<span class="cp">#define qlcnic_gb_unset_gb0_mask(config_word)  \</span>
<span class="cp">	((config_word) &amp;= ~(1 &lt;&lt; 0))</span>
<span class="cp">#define qlcnic_gb_unset_gb1_mask(config_word)  \</span>
<span class="cp">	((config_word) &amp;= ~(1 &lt;&lt; 2))</span>
<span class="cp">#define qlcnic_gb_unset_gb2_mask(config_word)  \</span>
<span class="cp">	((config_word) &amp;= ~(1 &lt;&lt; 4))</span>
<span class="cp">#define qlcnic_gb_unset_gb3_mask(config_word)  \</span>
<span class="cp">	((config_word) &amp;= ~(1 &lt;&lt; 6))</span>

<span class="cm">/*</span>
<span class="cm"> * NIU XG Pause Ctl Register</span>
<span class="cm"> *</span>
<span class="cm"> *      Bit 0       : xg0_mask =&gt; 1:disable tx pause frames</span>
<span class="cm"> *      Bit 1       : xg0_request =&gt; 1:request single pause frame</span>
<span class="cm"> *      Bit 2       : xg0_on_off =&gt; 1:request is pause on, 0:off</span>
<span class="cm"> *      Bit 3       : xg1_mask =&gt; 1:disable tx pause frames</span>
<span class="cm"> *      Bit 4       : xg1_request =&gt; 1:request single pause frame</span>
<span class="cm"> *      Bit 5       : xg1_on_off =&gt; 1:request is pause on, 0:off</span>
<span class="cm"> */</span>

<span class="cp">#define qlcnic_xg_set_xg0_mask(config_word)    \</span>
<span class="cp">	((config_word) |= 1 &lt;&lt; 0)</span>
<span class="cp">#define qlcnic_xg_set_xg1_mask(config_word)    \</span>
<span class="cp">	((config_word) |= 1 &lt;&lt; 3)</span>

<span class="cp">#define qlcnic_xg_get_xg0_mask(config_word)    \</span>
<span class="cp">	_qlcnic_crb_get_bit((config_word), 0)</span>
<span class="cp">#define qlcnic_xg_get_xg1_mask(config_word)    \</span>
<span class="cp">	_qlcnic_crb_get_bit((config_word), 3)</span>

<span class="cp">#define qlcnic_xg_unset_xg0_mask(config_word)  \</span>
<span class="cp">	((config_word) &amp;= ~(1 &lt;&lt; 0))</span>
<span class="cp">#define qlcnic_xg_unset_xg1_mask(config_word)  \</span>
<span class="cp">	((config_word) &amp;= ~(1 &lt;&lt; 3))</span>

<span class="cm">/*</span>
<span class="cm"> * NIU XG Pause Ctl Register</span>
<span class="cm"> *</span>
<span class="cm"> *      Bit 0       : xg0_mask =&gt; 1:disable tx pause frames</span>
<span class="cm"> *      Bit 1       : xg0_request =&gt; 1:request single pause frame</span>
<span class="cm"> *      Bit 2       : xg0_on_off =&gt; 1:request is pause on, 0:off</span>
<span class="cm"> *      Bit 3       : xg1_mask =&gt; 1:disable tx pause frames</span>
<span class="cm"> *      Bit 4       : xg1_request =&gt; 1:request single pause frame</span>
<span class="cm"> *      Bit 5       : xg1_on_off =&gt; 1:request is pause on, 0:off</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * PHY-Specific MII control/status registers.</span>
<span class="cm"> */</span>
<span class="cp">#define QLCNIC_NIU_GB_MII_MGMT_ADDR_AUTONEG		4</span>
<span class="cp">#define QLCNIC_NIU_GB_MII_MGMT_ADDR_PHY_STATUS		17</span>

<span class="cm">/*</span>
<span class="cm"> * PHY-Specific Status Register (reg 17).</span>
<span class="cm"> *</span>
<span class="cm"> * Bit 0      : jabber =&gt; 1:jabber detected, 0:not</span>
<span class="cm"> * Bit 1      : polarity =&gt; 1:polarity reversed, 0:normal</span>
<span class="cm"> * Bit 2      : recvpause =&gt; 1:receive pause enabled, 0:disabled</span>
<span class="cm"> * Bit 3      : xmitpause =&gt; 1:transmit pause enabled, 0:disabled</span>
<span class="cm"> * Bit 4      : energydetect =&gt; 1:sleep, 0:active</span>
<span class="cm"> * Bit 5      : downshift =&gt; 1:downshift, 0:no downshift</span>
<span class="cm"> * Bit 6      : crossover =&gt; 1:MDIX (crossover), 0:MDI (no crossover)</span>
<span class="cm"> * Bits 7-9   : cablelen =&gt; not valid in 10Mb/s mode</span>
<span class="cm"> *			0:&lt;50m, 1:50-80m, 2:80-110m, 3:110-140m, 4:&gt;140m</span>
<span class="cm"> * Bit 10     : link =&gt; 1:link up, 0:link down</span>
<span class="cm"> * Bit 11     : resolved =&gt; 1:speed and duplex resolved, 0:not yet</span>
<span class="cm"> * Bit 12     : pagercvd =&gt; 1:page received, 0:page not received</span>
<span class="cm"> * Bit 13     : duplex =&gt; 1:full duplex, 0:half duplex</span>
<span class="cm"> * Bits 14-15 : speed =&gt; 0:10Mb/s, 1:100Mb/s, 2:1000Mb/s, 3:rsvd</span>
<span class="cm"> */</span>

<span class="cp">#define qlcnic_get_phy_speed(config_word) (((config_word) &gt;&gt; 14) &amp; 0x03)</span>

<span class="cp">#define qlcnic_set_phy_speed(config_word, val)	\</span>
<span class="cp">		((config_word) |= ((val &amp; 0x03) &lt;&lt; 14))</span>
<span class="cp">#define qlcnic_set_phy_duplex(config_word)	\</span>
<span class="cp">		((config_word) |= 1 &lt;&lt; 13)</span>
<span class="cp">#define qlcnic_clear_phy_duplex(config_word)	\</span>
<span class="cp">		((config_word) &amp;= ~(1 &lt;&lt; 13))</span>

<span class="cp">#define qlcnic_get_phy_link(config_word)	\</span>
<span class="cp">		_qlcnic_crb_get_bit(config_word, 10)</span>
<span class="cp">#define qlcnic_get_phy_duplex(config_word)	\</span>
<span class="cp">		_qlcnic_crb_get_bit(config_word, 13)</span>

<span class="cp">#define QLCNIC_NIU_NON_PROMISC_MODE	0</span>
<span class="cp">#define QLCNIC_NIU_PROMISC_MODE		1</span>
<span class="cp">#define QLCNIC_NIU_ALLMULTI_MODE	2</span>

<span class="k">struct</span> <span class="n">crb_128M_2M_sub_block_map</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="n">valid</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">start_128M</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">end_128M</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">start_2M</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">crb_128M_2M_block_map</span><span class="p">{</span>
	<span class="k">struct</span> <span class="n">crb_128M_2M_sub_block_map</span> <span class="n">sub_block</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">};</span>
<span class="cp">#endif				</span><span class="cm">/* __QLCNIC_HDR_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
