<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › stmicro › stmmac › dwmac100.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>dwmac100.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*******************************************************************************</span>
<span class="cm">  MAC 10/100 Header File</span>

<span class="cm">  Copyright (C) 2007-2009  STMicroelectronics Ltd</span>

<span class="cm">  This program is free software; you can redistribute it and/or modify it</span>
<span class="cm">  under the terms and conditions of the GNU General Public License,</span>
<span class="cm">  version 2, as published by the Free Software Foundation.</span>

<span class="cm">  This program is distributed in the hope it will be useful, but WITHOUT</span>
<span class="cm">  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm">  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span>
<span class="cm">  more details.</span>

<span class="cm">  You should have received a copy of the GNU General Public License along with</span>
<span class="cm">  this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm">  51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.</span>

<span class="cm">  The full GNU General Public License is included in this distribution in</span>
<span class="cm">  the file called &quot;COPYING&quot;.</span>

<span class="cm">  Author: Giuseppe Cavallaro &lt;peppe.cavallaro@st.com&gt;</span>
<span class="cm">*******************************************************************************/</span>

<span class="cp">#include &lt;linux/phy.h&gt;</span>
<span class="cp">#include &quot;common.h&quot;</span>

<span class="cm">/*----------------------------------------------------------------------------</span>
<span class="cm"> *	 			MAC BLOCK defines</span>
<span class="cm"> *---------------------------------------------------------------------------*/</span>
<span class="cm">/* MAC CSR offset */</span>
<span class="cp">#define MAC_CONTROL	0x00000000	</span><span class="cm">/* MAC Control */</span><span class="cp"></span>
<span class="cp">#define MAC_ADDR_HIGH	0x00000004	</span><span class="cm">/* MAC Address High */</span><span class="cp"></span>
<span class="cp">#define MAC_ADDR_LOW	0x00000008	</span><span class="cm">/* MAC Address Low */</span><span class="cp"></span>
<span class="cp">#define MAC_HASH_HIGH	0x0000000c	</span><span class="cm">/* Multicast Hash Table High */</span><span class="cp"></span>
<span class="cp">#define MAC_HASH_LOW	0x00000010	</span><span class="cm">/* Multicast Hash Table Low */</span><span class="cp"></span>
<span class="cp">#define MAC_MII_ADDR	0x00000014	</span><span class="cm">/* MII Address */</span><span class="cp"></span>
<span class="cp">#define MAC_MII_DATA	0x00000018	</span><span class="cm">/* MII Data */</span><span class="cp"></span>
<span class="cp">#define MAC_FLOW_CTRL	0x0000001c	</span><span class="cm">/* Flow Control */</span><span class="cp"></span>
<span class="cp">#define MAC_VLAN1	0x00000020	</span><span class="cm">/* VLAN1 Tag */</span><span class="cp"></span>
<span class="cp">#define MAC_VLAN2	0x00000024	</span><span class="cm">/* VLAN2 Tag */</span><span class="cp"></span>

<span class="cm">/* MAC CTRL defines */</span>
<span class="cp">#define MAC_CONTROL_RA	0x80000000	</span><span class="cm">/* Receive All Mode */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_BLE	0x40000000	</span><span class="cm">/* Endian Mode */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_HBD	0x10000000	</span><span class="cm">/* Heartbeat Disable */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_PS	0x08000000	</span><span class="cm">/* Port Select */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_DRO	0x00800000	</span><span class="cm">/* Disable Receive Own */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_EXT_LOOPBACK 0x00400000	</span><span class="cm">/* Reserved (ext loopback?) */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_OM	0x00200000	</span><span class="cm">/* Loopback Operating Mode */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_F	0x00100000	</span><span class="cm">/* Full Duplex Mode */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_PM	0x00080000	</span><span class="cm">/* Pass All Multicast */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_PR	0x00040000	</span><span class="cm">/* Promiscuous Mode */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_IF	0x00020000	</span><span class="cm">/* Inverse Filtering */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_PB	0x00010000	</span><span class="cm">/* Pass Bad Frames */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_HO	0x00008000	</span><span class="cm">/* Hash Only Filtering Mode */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_HP	0x00002000	</span><span class="cm">/* Hash/Perfect Filtering Mode */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_LCC	0x00001000	</span><span class="cm">/* Late Collision Control */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_DBF	0x00000800	</span><span class="cm">/* Disable Broadcast Frames */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_DRTY	0x00000400	</span><span class="cm">/* Disable Retry */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_ASTP	0x00000100	</span><span class="cm">/* Automatic Pad Stripping */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_BOLMT_10	0x00000000	</span><span class="cm">/* Back Off Limit 10 */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_BOLMT_8	0x00000040	</span><span class="cm">/* Back Off Limit 8 */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_BOLMT_4	0x00000080	</span><span class="cm">/* Back Off Limit 4 */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_BOLMT_1	0x000000c0	</span><span class="cm">/* Back Off Limit 1 */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_DC		0x00000020	</span><span class="cm">/* Deferral Check */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_TE		0x00000008	</span><span class="cm">/* Transmitter Enable */</span><span class="cp"></span>
<span class="cp">#define MAC_CONTROL_RE		0x00000004	</span><span class="cm">/* Receiver Enable */</span><span class="cp"></span>

<span class="cp">#define MAC_CORE_INIT (MAC_CONTROL_HBD | MAC_CONTROL_ASTP)</span>

<span class="cm">/* MAC FLOW CTRL defines */</span>
<span class="cp">#define MAC_FLOW_CTRL_PT_MASK	0xffff0000	</span><span class="cm">/* Pause Time Mask */</span><span class="cp"></span>
<span class="cp">#define MAC_FLOW_CTRL_PT_SHIFT	16</span>
<span class="cp">#define MAC_FLOW_CTRL_PASS	0x00000004	</span><span class="cm">/* Pass Control Frames */</span><span class="cp"></span>
<span class="cp">#define MAC_FLOW_CTRL_ENABLE	0x00000002	</span><span class="cm">/* Flow Control Enable */</span><span class="cp"></span>
<span class="cp">#define MAC_FLOW_CTRL_PAUSE	0x00000001	</span><span class="cm">/* Flow Control Busy ... */</span><span class="cp"></span>

<span class="cm">/* MII ADDR  defines */</span>
<span class="cp">#define MAC_MII_ADDR_WRITE	0x00000002	</span><span class="cm">/* MII Write */</span><span class="cp"></span>
<span class="cp">#define MAC_MII_ADDR_BUSY	0x00000001	</span><span class="cm">/* MII Busy */</span><span class="cp"></span>

<span class="cm">/*----------------------------------------------------------------------------</span>
<span class="cm"> * 				DMA BLOCK defines</span>
<span class="cm"> *---------------------------------------------------------------------------*/</span>

<span class="cm">/* DMA Bus Mode register defines */</span>
<span class="cp">#define DMA_BUS_MODE_DBO	0x00100000	</span><span class="cm">/* Descriptor Byte Ordering */</span><span class="cp"></span>
<span class="cp">#define DMA_BUS_MODE_BLE	0x00000080	</span><span class="cm">/* Big Endian/Little Endian */</span><span class="cp"></span>
<span class="cp">#define DMA_BUS_MODE_PBL_MASK	0x00003f00	</span><span class="cm">/* Programmable Burst Len */</span><span class="cp"></span>
<span class="cp">#define DMA_BUS_MODE_PBL_SHIFT	8</span>
<span class="cp">#define DMA_BUS_MODE_DSL_MASK	0x0000007c	</span><span class="cm">/* Descriptor Skip Length */</span><span class="cp"></span>
<span class="cp">#define DMA_BUS_MODE_DSL_SHIFT	2	</span><span class="cm">/*   (in DWORDS)      */</span><span class="cp"></span>
<span class="cp">#define DMA_BUS_MODE_BAR_BUS	0x00000002	</span><span class="cm">/* Bar-Bus Arbitration */</span><span class="cp"></span>
<span class="cp">#define DMA_BUS_MODE_SFT_RESET	0x00000001	</span><span class="cm">/* Software Reset */</span><span class="cp"></span>
<span class="cp">#define DMA_BUS_MODE_DEFAULT	0x00000000</span>

<span class="cm">/* DMA Control register defines */</span>
<span class="cp">#define DMA_CONTROL_SF		0x00200000	</span><span class="cm">/* Store And Forward */</span><span class="cp"></span>

<span class="cm">/* Transmit Threshold Control */</span>
<span class="k">enum</span> <span class="n">ttc_control</span> <span class="p">{</span>
	<span class="n">DMA_CONTROL_TTC_DEFAULT</span> <span class="o">=</span> <span class="mh">0x00000000</span><span class="p">,</span>	<span class="cm">/* Threshold is 32 DWORDS */</span>
	<span class="n">DMA_CONTROL_TTC_64</span> <span class="o">=</span> <span class="mh">0x00004000</span><span class="p">,</span>	<span class="cm">/* Threshold is 64 DWORDS */</span>
	<span class="n">DMA_CONTROL_TTC_128</span> <span class="o">=</span> <span class="mh">0x00008000</span><span class="p">,</span>	<span class="cm">/* Threshold is 128 DWORDS */</span>
	<span class="n">DMA_CONTROL_TTC_256</span> <span class="o">=</span> <span class="mh">0x0000c000</span><span class="p">,</span>	<span class="cm">/* Threshold is 256 DWORDS */</span>
	<span class="n">DMA_CONTROL_TTC_18</span> <span class="o">=</span> <span class="mh">0x00400000</span><span class="p">,</span>	<span class="cm">/* Threshold is 18 DWORDS */</span>
	<span class="n">DMA_CONTROL_TTC_24</span> <span class="o">=</span> <span class="mh">0x00404000</span><span class="p">,</span>	<span class="cm">/* Threshold is 24 DWORDS */</span>
	<span class="n">DMA_CONTROL_TTC_32</span> <span class="o">=</span> <span class="mh">0x00408000</span><span class="p">,</span>	<span class="cm">/* Threshold is 32 DWORDS */</span>
	<span class="n">DMA_CONTROL_TTC_40</span> <span class="o">=</span> <span class="mh">0x0040c000</span><span class="p">,</span>	<span class="cm">/* Threshold is 40 DWORDS */</span>
	<span class="n">DMA_CONTROL_SE</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>	<span class="cm">/* Stop On Empty */</span>
	<span class="n">DMA_CONTROL_OSF</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>	<span class="cm">/* Operate On 2nd Frame */</span>
<span class="p">};</span>

<span class="cm">/* STMAC110 DMA Missed Frame Counter register defines */</span>
<span class="cp">#define DMA_MISSED_FRAME_OVE	0x10000000	</span><span class="cm">/* FIFO Overflow Overflow */</span><span class="cp"></span>
<span class="cp">#define DMA_MISSED_FRAME_OVE_CNTR 0x0ffe0000	</span><span class="cm">/* Overflow Frame Counter */</span><span class="cp"></span>
<span class="cp">#define DMA_MISSED_FRAME_OVE_M	0x00010000	</span><span class="cm">/* Missed Frame Overflow */</span><span class="cp"></span>
<span class="cp">#define DMA_MISSED_FRAME_M_CNTR	0x0000ffff	</span><span class="cm">/* Missed Frame Couinter */</span><span class="cp"></span>

<span class="k">extern</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">stmmac_dma_ops</span> <span class="n">dwmac100_dma_ops</span><span class="p">;</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
