<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › sfc › enum.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>enum.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************</span>
<span class="cm"> * Driver for Solarflare Solarstorm network controllers and boards</span>
<span class="cm"> * Copyright 2007-2009 Solarflare Communications Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms of the GNU General Public License version 2 as published</span>
<span class="cm"> * by the Free Software Foundation, incorporated herein by reference.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef EFX_ENUM_H</span>
<span class="cp">#define EFX_ENUM_H</span>

<span class="cm">/**</span>
<span class="cm"> * enum efx_loopback_mode - loopback modes</span>
<span class="cm"> * @LOOPBACK_NONE: no loopback</span>
<span class="cm"> * @LOOPBACK_DATA: data path loopback</span>
<span class="cm"> * @LOOPBACK_GMAC: loopback within GMAC</span>
<span class="cm"> * @LOOPBACK_XGMII: loopback after XMAC</span>
<span class="cm"> * @LOOPBACK_XGXS: loopback within BPX after XGXS</span>
<span class="cm"> * @LOOPBACK_XAUI: loopback within BPX before XAUI serdes</span>
<span class="cm"> * @LOOPBACK_GMII: loopback within BPX after GMAC</span>
<span class="cm"> * @LOOPBACK_SGMII: loopback within BPX within SGMII</span>
<span class="cm"> * @LOOPBACK_XGBR: loopback within BPX within XGBR</span>
<span class="cm"> * @LOOPBACK_XFI: loopback within BPX before XFI serdes</span>
<span class="cm"> * @LOOPBACK_XAUI_FAR: loopback within BPX after XAUI serdes</span>
<span class="cm"> * @LOOPBACK_GMII_FAR: loopback within BPX before SGMII</span>
<span class="cm"> * @LOOPBACK_SGMII_FAR: loopback within BPX after SGMII</span>
<span class="cm"> * @LOOPBACK_XFI_FAR: loopback after XFI serdes</span>
<span class="cm"> * @LOOPBACK_GPHY: loopback within 1G PHY at unspecified level</span>
<span class="cm"> * @LOOPBACK_PHYXS: loopback within 10G PHY at PHYXS level</span>
<span class="cm"> * @LOOPBACK_PCS: loopback within 10G PHY at PCS level</span>
<span class="cm"> * @LOOPBACK_PMAPMD: loopback within 10G PHY at PMAPMD level</span>
<span class="cm"> * @LOOPBACK_XPORT: cross port loopback</span>
<span class="cm"> * @LOOPBACK_XGMII_WS: wireside loopback excluding XMAC</span>
<span class="cm"> * @LOOPBACK_XAUI_WS: wireside loopback within BPX within XAUI serdes</span>
<span class="cm"> * @LOOPBACK_XAUI_WS_FAR: wireside loopback within BPX including XAUI serdes</span>
<span class="cm"> * @LOOPBACK_XAUI_WS_NEAR: wireside loopback within BPX excluding XAUI serdes</span>
<span class="cm"> * @LOOPBACK_GMII_WS: wireside loopback excluding GMAC</span>
<span class="cm"> * @LOOPBACK_XFI_WS: wireside loopback excluding XFI serdes</span>
<span class="cm"> * @LOOPBACK_XFI_WS_FAR: wireside loopback including XFI serdes</span>
<span class="cm"> * @LOOPBACK_PHYXS_WS: wireside loopback within 10G PHY at PHYXS level</span>
<span class="cm"> */</span>
<span class="cm">/* Please keep up-to-date w.r.t the following two #defines */</span>
<span class="k">enum</span> <span class="n">efx_loopback_mode</span> <span class="p">{</span>
	<span class="n">LOOPBACK_NONE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">LOOPBACK_DATA</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">LOOPBACK_GMAC</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">LOOPBACK_XGMII</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">LOOPBACK_XGXS</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">LOOPBACK_XAUI</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">LOOPBACK_GMII</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">LOOPBACK_SGMII</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">LOOPBACK_XGBR</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">LOOPBACK_XFI</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">LOOPBACK_XAUI_FAR</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">LOOPBACK_GMII_FAR</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">LOOPBACK_SGMII_FAR</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="n">LOOPBACK_XFI_FAR</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
	<span class="n">LOOPBACK_GPHY</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
	<span class="n">LOOPBACK_PHYXS</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
	<span class="n">LOOPBACK_PCS</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="n">LOOPBACK_PMAPMD</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
	<span class="n">LOOPBACK_XPORT</span> <span class="o">=</span> <span class="mi">18</span><span class="p">,</span>
	<span class="n">LOOPBACK_XGMII_WS</span> <span class="o">=</span> <span class="mi">19</span><span class="p">,</span>
	<span class="n">LOOPBACK_XAUI_WS</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
	<span class="n">LOOPBACK_XAUI_WS_FAR</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>
	<span class="n">LOOPBACK_XAUI_WS_NEAR</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span>
	<span class="n">LOOPBACK_GMII_WS</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span>
	<span class="n">LOOPBACK_XFI_WS</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span>
	<span class="n">LOOPBACK_XFI_WS_FAR</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
	<span class="n">LOOPBACK_PHYXS_WS</span> <span class="o">=</span> <span class="mi">26</span><span class="p">,</span>
	<span class="n">LOOPBACK_MAX</span>
<span class="p">};</span>
<span class="cp">#define LOOPBACK_TEST_MAX LOOPBACK_PMAPMD</span>

<span class="cm">/* These loopbacks occur within the controller */</span>
<span class="cp">#define LOOPBACKS_INTERNAL ((1 &lt;&lt; LOOPBACK_DATA) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_GMAC) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XGMII)|		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XGXS) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XAUI) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_GMII) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_SGMII) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_SGMII) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XGBR) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XFI) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XAUI_FAR) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_GMII_FAR) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_SGMII_FAR) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XFI_FAR) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XGMII_WS) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XAUI_WS) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XAUI_WS_FAR) |	\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XAUI_WS_NEAR) |	\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_GMII_WS) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XFI_WS) |		\</span>
<span class="cp">			    (1 &lt;&lt; LOOPBACK_XFI_WS_FAR))</span>

<span class="cp">#define LOOPBACKS_WS ((1 &lt;&lt; LOOPBACK_XGMII_WS) |		\</span>
<span class="cp">		      (1 &lt;&lt; LOOPBACK_XAUI_WS) |			\</span>
<span class="cp">		      (1 &lt;&lt; LOOPBACK_XAUI_WS_FAR) |		\</span>
<span class="cp">		      (1 &lt;&lt; LOOPBACK_XAUI_WS_NEAR) |		\</span>
<span class="cp">		      (1 &lt;&lt; LOOPBACK_GMII_WS) |			\</span>
<span class="cp">		      (1 &lt;&lt; LOOPBACK_XFI_WS) |			\</span>
<span class="cp">		      (1 &lt;&lt; LOOPBACK_XFI_WS_FAR) |		\</span>
<span class="cp">		      (1 &lt;&lt; LOOPBACK_PHYXS_WS))</span>

<span class="cp">#define LOOPBACKS_EXTERNAL(_efx)					\</span>
<span class="cp">	((_efx)-&gt;loopback_modes &amp; ~LOOPBACKS_INTERNAL &amp;			\</span>
<span class="cp">	 ~(1 &lt;&lt; LOOPBACK_NONE))</span>

<span class="cp">#define LOOPBACK_MASK(_efx)			\</span>
<span class="cp">	(1 &lt;&lt; (_efx)-&gt;loopback_mode)</span>

<span class="cp">#define LOOPBACK_INTERNAL(_efx)				\</span>
<span class="cp">	(!!(LOOPBACKS_INTERNAL &amp; LOOPBACK_MASK(_efx)))</span>

<span class="cp">#define LOOPBACK_EXTERNAL(_efx)				\</span>
<span class="cp">	(!!(LOOPBACK_MASK(_efx) &amp; LOOPBACKS_EXTERNAL(_efx)))</span>

<span class="cp">#define LOOPBACK_CHANGED(_from, _to, _mask)				\</span>
<span class="cp">	(!!((LOOPBACK_MASK(_from) ^ LOOPBACK_MASK(_to)) &amp; (_mask)))</span>

<span class="cp">#define LOOPBACK_OUT_OF(_from, _to, _mask)				\</span>
<span class="cp">	((LOOPBACK_MASK(_from) &amp; (_mask)) &amp;&amp; !(LOOPBACK_MASK(_to) &amp; (_mask)))</span>

<span class="cm">/*****************************************************************************/</span>

<span class="cm">/**</span>
<span class="cm"> * enum reset_type - reset types</span>
<span class="cm"> *</span>
<span class="cm"> * %RESET_TYPE_INVSIBLE, %RESET_TYPE_ALL, %RESET_TYPE_WORLD and</span>
<span class="cm"> * %RESET_TYPE_DISABLE specify the method/scope of the reset.  The</span>
<span class="cm"> * other valuesspecify reasons, which efx_schedule_reset() will choose</span>
<span class="cm"> * a method for.</span>
<span class="cm"> *</span>
<span class="cm"> * Reset methods are numbered in order of increasing scope.</span>
<span class="cm"> *</span>
<span class="cm"> * @RESET_TYPE_INVISIBLE: don&#39;t reset the PHYs or interrupts</span>
<span class="cm"> * @RESET_TYPE_ALL: reset everything but PCI core blocks</span>
<span class="cm"> * @RESET_TYPE_WORLD: reset everything, save &amp; restore PCI config</span>
<span class="cm"> * @RESET_TYPE_DISABLE: disable NIC</span>
<span class="cm"> * @RESET_TYPE_TX_WATCHDOG: reset due to TX watchdog</span>
<span class="cm"> * @RESET_TYPE_INT_ERROR: reset due to internal error</span>
<span class="cm"> * @RESET_TYPE_RX_RECOVERY: reset to recover from RX datapath errors</span>
<span class="cm"> * @RESET_TYPE_RX_DESC_FETCH: pcie error during rx descriptor fetch</span>
<span class="cm"> * @RESET_TYPE_TX_DESC_FETCH: pcie error during tx descriptor fetch</span>
<span class="cm"> * @RESET_TYPE_TX_SKIP: hardware completed empty tx descriptors</span>
<span class="cm"> * @RESET_TYPE_MC_FAILURE: MC reboot/assertion</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">reset_type</span> <span class="p">{</span>
	<span class="n">RESET_TYPE_INVISIBLE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RESET_TYPE_ALL</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">RESET_TYPE_WORLD</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">RESET_TYPE_DISABLE</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">RESET_TYPE_MAX_METHOD</span><span class="p">,</span>
	<span class="n">RESET_TYPE_TX_WATCHDOG</span><span class="p">,</span>
	<span class="n">RESET_TYPE_INT_ERROR</span><span class="p">,</span>
	<span class="n">RESET_TYPE_RX_RECOVERY</span><span class="p">,</span>
	<span class="n">RESET_TYPE_RX_DESC_FETCH</span><span class="p">,</span>
	<span class="n">RESET_TYPE_TX_DESC_FETCH</span><span class="p">,</span>
	<span class="n">RESET_TYPE_TX_SKIP</span><span class="p">,</span>
	<span class="n">RESET_TYPE_MC_FAILURE</span><span class="p">,</span>
	<span class="n">RESET_TYPE_MAX</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* EFX_ENUM_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
