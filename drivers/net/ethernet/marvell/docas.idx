f | sky2.c | s | 135K | 4230 | stephen hemminger | shemminger@vyatta.com | 1339099602 |  | sky2: fix checksum bit management on some chips  The newer flavors of Yukon II use a different method for receive checksum offload. This is indicated in the driver by the SKY2_HW_NEW_LE flag. On these newer chips, the BMU_ENA_RX_CHKSUM should not be set.  The driver would get incorrectly toggle the bit, enabling the old checksum logic on these chips and cause a BUG_ON() assertion. If receive checksum was toggled via ethtool.  Reported-by: Kirill Smelkov <kirr@mns.spb.ru> Signed-off-by: Stephen Hemminger <shemminger@vyatta.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | pxa168_eth.c | s | 41K | 1426 | David S. Miller | davem@davemloft.net | 1334082645 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
f | skge.c | s | 105K | 3409 | David S. Miller | davem@davemloft.net | 1328934748 |  | Merge branch 'master' of git://git.kernel.org/pub/scm/linux/kernel/git/davem/net  Conflicts: 	drivers/infiniband/hw/nes/nes_cm.c  Simple whitespace conflict.  Signed-off-by: David S. Miller <davem@davemloft.net>
f | Makefile | g | 190B |  | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1313133711 |  | skge/sky2/mv643xx/pxa168: Move the Marvell Ethernet drivers  Move the Marvell Ethernet drivers into drivers/net/ethernet/marvell/ and make the necessary Kconfig and Makefile changes.  CC: Sachin Sanap <ssanap@marvell.com> CC: Zhangfei Gao <zgao6@marvell.com> CC: Philip Rakity <prakity@marvell.com> CC: Mark Brown <markb@marvell.com> CC: Lennert Buytenhek <buytenh@marvell.com> CC: Stephen Hemminger <shemminger@linux-foundation.org> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | mv643xx_eth.c | s | 71K | 2478 | Andrew Lunn | andrew@lunn.ch | 1339004318 |  | mv643xx_eth: Fix compile error for architectures without clk.  Commit 452503ebc (ARM: Orion: Eth: Add clk/clkdev support.) broke the building of the driver on architectures which don't have clk support. In particular PPC32 Pegasos which uses this driver.  Add #ifdef around the clk API usage.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Signed-off-by: David S. Miller <davem@davemloft.net>
f | sky2.h | s | 90K | 2089 | stephen hemminger | shemminger@vyatta.com | 1335893953 |  | sky2: fix receive length error in mixed non-VLAN/VLAN traffic  Bug: The VLAN bit of the MAC RX Status Word is unreliable in several older supported chips. Sometimes the VLAN bit is not set for valid VLAN packets and also sometimes the VLAN bit is set for non-VLAN packets that came after a VLAN packet. This results in a receive length error when VLAN hardware tagging is enabled.  Fix: Variation on original fix proposed by Mirko. The VLAN information is decoded in the status loop, and can be applied to the received SKB there. This eliminates the need for the separate tag field in the interface data structure. The tag has to be copied and cleared if packet is copied. This version checked out with vlan and normal traffic.  Note: vlan_tx_tag_present should be renamed vlan_tag_present, but that is outside scope of this.  Reported-by: Mirko Lindner <mlindner@marvell.com> Signed-off-by: Stephen Hemminger <shemminger@vyatta.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Kconfig | g | 3.6K |  | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1314431936 |  | drivers/net/ethernet/*: Enabled vendor Kconfig options  Based on finds for Stephen Rothwell, where current defconfig's enable a ethernet driver and it is not compiled due to the newly added NET_VENDOR_* component of Kconfig.  This patch enables all the "new" Kconfig options so that current defconfig's will continue to compile the expected drivers.  In addition, by enabling all the new Kconfig options does not add any un-expected options.  CC: Stephen Rothwll <sfc@canb.auug.org.au> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | skge.h | s | 100K | 2271 | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1313133711 |  | skge/sky2/mv643xx/pxa168: Move the Marvell Ethernet drivers  Move the Marvell Ethernet drivers into drivers/net/ethernet/marvell/ and make the necessary Kconfig and Makefile changes.  CC: Sachin Sanap <ssanap@marvell.com> CC: Zhangfei Gao <zgao6@marvell.com> CC: Philip Rakity <prakity@marvell.com> CC: Mark Brown <markb@marvell.com> CC: Lennert Buytenhek <buytenh@marvell.com> CC: Stephen Hemminger <shemminger@linux-foundation.org> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
