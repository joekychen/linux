d | ehea |  | 9 items |  | Thadeu Lima de Souza Cascardo | cascardo@linux.vnet.ibm.com | 1336704354 |  | ehea: fix losing of NEQ events when one event occurred early  The NEQ interrupt is only triggered when there was no previous pending interrupt. If we request irq handling after an interrupt has occurred, we will never get an interrupt until we call H_RESET_EVENTS.  Events seem to be cleared when we first register the NEQ. So, when we requested irq handling right after registering it, a possible race with an interrupt was much less likely. Now, there is a chance we may lose this race and never get any events.  The fix here is to poll and acknowledge any events that might have happened right after registering the irq handler.  Signed-off-by: Thadeu Lima de Souza Cascardo <cascardo@linux.vnet.ibm.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | ibmveth.c | s | 43K | 1351 | Benjamin Herrenschmidt | benh@kernel.crashing.org | 1332894804 |  | powerpc+sparc/vio: Modernize driver registration  This makes vio_register_driver() get the module owner & name at compile time like PCI drivers do, and adds a name pointer directly in struct vio_driver to avoid having to explicitly initialize the embedded struct device.  Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> Acked-by: David S. Miller <davem@davemloft.net>
f | Makefile | g | 146B |  | Stephen Rothwell | sfr@canb.auug.org.au | 1331354486 |  | net: powerpc: remove the legacy iSeries ethernet driver  This driver is specific to the PowerPC legcay iSeries platform which is being removed.  Cc: David Miller <davem@davemloft.net> Cc: <netdev@vger.kernel.org> Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au> Acked-by: David S. Miller <davem@davemloft.net> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
f | ibmveth.h | s | 5.9K | 166 | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1313055719 |  | ehea/ibm*: Move the IBM drivers  Move the IBM drivers into drivers/net/ethernet/ibm/ and make the necessary Kconfig and Makefile changes.  - Renamed ibm_new_emac to emac - Cleaned up Makefile and Kconfig options which referred to   IBM_NEW_EMAC to IBM_EMAC - ibmlana driver is a National Semiconductor SONIC driver so   it was not moved  CC: Christoph Raisch <raisch@de.ibm.com> CC: Santiago Leon <santil@linux.vnet.ibm.com> CC: Benjamin Herrenschmidt <benh@kernel.crashing.org> CC: David Gibson <dwg@au1.ibm.com> CC: Kyle Lucke <klucke@us.ibm.com> CC: Michael Ellerman <michael@ellerman.id.au> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
f | Kconfig | g | 1.2K |  | Stephen Rothwell | sfr@canb.auug.org.au | 1331354486 |  | net: powerpc: remove the legacy iSeries ethernet driver  This driver is specific to the PowerPC legcay iSeries platform which is being removed.  Cc: David Miller <davem@davemloft.net> Cc: <netdev@vger.kernel.org> Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au> Acked-by: David S. Miller <davem@davemloft.net> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
d | emac |  | 17 items |  | Duc Dang | dhdang@apm.com | 1331071662 |  | powerpc/44x: Add more changes for APM821XX EMAC driver  This patch includes:    Configure EMAC PHY clock source (clock from PHY or internal clock).    Do not advertise PHY half duplex capability as APM821XX EMAC does not support half duplex mode.    Add changes to support configuring jumbo frame for APM821XX EMAC.  [ Fix coding style -DaveM ]  Signed-off-by: Duc Dang <dhdang@apm.com> Signed-off-by: David S. Miller <davem@davemloft.net>
