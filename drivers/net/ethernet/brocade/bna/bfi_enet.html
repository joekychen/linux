<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › brocade › bna › bfi_enet.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>bfi_enet.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Linux network driver for Brocade Converged Network Adapter.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms of the GNU General Public License (GPL) Version 2 as</span>
<span class="cm"> * published by the Free Software Foundation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2005-2011 Brocade Communications Systems, Inc.</span>
<span class="cm"> * All rights reserved</span>
<span class="cm"> * www.brocade.com</span>
<span class="cm"> */</span>

<span class="cm">/**</span>
<span class="cm"> * @file bfi_enet.h BNA Hardware and Firmware Interface</span>
<span class="cm"> */</span>

<span class="cm">/**</span>
<span class="cm"> * Skipping statistics collection to avoid clutter.</span>
<span class="cm"> * Command is no longer needed:</span>
<span class="cm"> *	MTU</span>
<span class="cm"> *	TxQ Stop</span>
<span class="cm"> *	RxQ Stop</span>
<span class="cm"> *	RxF Enable/Disable</span>
<span class="cm"> *</span>
<span class="cm"> * HDS-off request is dynamic</span>
<span class="cm"> * keep structures as multiple of 32-bit fields for alignment.</span>
<span class="cm"> * All values must be written in big-endian.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __BFI_ENET_H__</span>
<span class="cp">#define __BFI_ENET_H__</span>

<span class="cp">#include &quot;bfa_defs.h&quot;</span>
<span class="cp">#include &quot;bfi.h&quot;</span>

<span class="cp">#pragma pack(1)</span>

<span class="cp">#define BFI_ENET_CFG_MAX		32	</span><span class="cm">/* Max resources per PF */</span><span class="cp"></span>

<span class="cp">#define BFI_ENET_TXQ_PRIO_MAX		8</span>
<span class="cp">#define BFI_ENET_RX_QSET_MAX		16</span>
<span class="cp">#define BFI_ENET_TXQ_WI_VECT_MAX	4</span>

<span class="cp">#define BFI_ENET_VLAN_ID_MAX		4096</span>
<span class="cp">#define BFI_ENET_VLAN_BLOCK_SIZE	512	</span><span class="cm">/* in bits */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_VLAN_BLOCKS_MAX					\</span>
<span class="cp">	(BFI_ENET_VLAN_ID_MAX / BFI_ENET_VLAN_BLOCK_SIZE)</span>
<span class="cp">#define BFI_ENET_VLAN_WORD_SIZE		32	</span><span class="cm">/* in bits */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_VLAN_WORDS_MAX						\</span>
<span class="cp">	(BFI_ENET_VLAN_BLOCK_SIZE / BFI_ENET_VLAN_WORD_SIZE)</span>

<span class="cp">#define BFI_ENET_RSS_RIT_MAX		64	</span><span class="cm">/* entries */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_RSS_KEY_LEN		10	</span><span class="cm">/* 32-bit words */</span><span class="cp"></span>

<span class="k">union</span> <span class="n">bfi_addr_be_u</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span>	<span class="n">addr_hi</span><span class="p">;</span>	<span class="cm">/* Most Significant 32-bits */</span>
		<span class="n">u32</span>	<span class="n">addr_lo</span><span class="p">;</span>	<span class="cm">/* Least Significant 32-Bits */</span>
	<span class="p">}</span> <span class="n">a32</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> *	T X   Q U E U E   D E F I N E S</span>
<span class="cm"> */</span>
<span class="cm">/* TxQ Vector (a.k.a. Tx-Buffer Descriptor) */</span>
<span class="cm">/* TxQ Entry Opcodes */</span>
<span class="cp">#define BFI_ENET_TXQ_WI_SEND		(0x402)	</span><span class="cm">/* Single Frame Transmission */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_TXQ_WI_SEND_LSO	(0x403)	</span><span class="cm">/* Multi-Frame Transmission */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_TXQ_WI_EXTENSION	(0x104)	</span><span class="cm">/* Extension WI */</span><span class="cp"></span>

<span class="cm">/* TxQ Entry Control Flags */</span>
<span class="cp">#define BFI_ENET_TXQ_WI_CF_FCOE_CRC	(1 &lt;&lt; 8)</span>
<span class="cp">#define BFI_ENET_TXQ_WI_CF_IPID_MODE	(1 &lt;&lt; 5)</span>
<span class="cp">#define BFI_ENET_TXQ_WI_CF_INS_PRIO	(1 &lt;&lt; 4)</span>
<span class="cp">#define BFI_ENET_TXQ_WI_CF_INS_VLAN	(1 &lt;&lt; 3)</span>
<span class="cp">#define BFI_ENET_TXQ_WI_CF_UDP_CKSUM	(1 &lt;&lt; 2)</span>
<span class="cp">#define BFI_ENET_TXQ_WI_CF_TCP_CKSUM	(1 &lt;&lt; 1)</span>
<span class="cp">#define BFI_ENET_TXQ_WI_CF_IP_CKSUM	(1 &lt;&lt; 0)</span>

<span class="k">struct</span> <span class="n">bfi_enet_txq_wi_base</span> <span class="p">{</span>
	<span class="n">u8</span>			<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">num_vectors</span><span class="p">;</span>	<span class="cm">/* number of vectors present */</span>
	<span class="n">u16</span>			<span class="n">opcode</span><span class="p">;</span>
			<span class="cm">/* BFI_ENET_TXQ_WI_SEND or BFI_ENET_TXQ_WI_SEND_LSO */</span>
	<span class="n">u16</span>			<span class="n">flags</span><span class="p">;</span>		<span class="cm">/* OR of all the flags */</span>
	<span class="n">u16</span>			<span class="n">l4_hdr_size_n_offset</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">vlan_tag</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">lso_mss</span><span class="p">;</span>	<span class="cm">/* Only 14 LSB are valid */</span>
	<span class="n">u32</span>			<span class="n">frame_length</span><span class="p">;</span>	<span class="cm">/* Only 24 LSB are valid */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_txq_wi_ext</span> <span class="p">{</span>
	<span class="n">u16</span>			<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">opcode</span><span class="p">;</span>		<span class="cm">/* BFI_ENET_TXQ_WI_EXTENSION */</span>
	<span class="n">u32</span>			<span class="n">reserved2</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_txq_wi_vector</span> <span class="p">{</span>			<span class="cm">/* Tx Buffer Descriptor */</span>
	<span class="n">u16</span>			<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">length</span><span class="p">;</span>		<span class="cm">/* Only 14 LSB are valid */</span>
	<span class="k">union</span> <span class="n">bfi_addr_be_u</span>	<span class="n">addr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> *  TxQ Entry Structure</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_txq_entry</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">bfi_enet_txq_wi_base</span>	<span class="n">base</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">bfi_enet_txq_wi_ext</span>	<span class="n">ext</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">wi</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_txq_wi_vector</span> <span class="n">vector</span><span class="p">[</span><span class="n">BFI_ENET_TXQ_WI_VECT_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define wi_hdr		wi.base</span>
<span class="cp">#define wi_ext_hdr	wi.ext</span>

<span class="cp">#define BFI_ENET_TXQ_WI_L4_HDR_N_OFFSET(_hdr_size, _offset) \</span>
<span class="cp">		(((_hdr_size) &lt;&lt; 10) | ((_offset) &amp; 0x3FF))</span>

<span class="cm">/**</span>
<span class="cm"> *   R X   Q U E U E   D E F I N E S</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_rxq_entry</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">bfi_addr_be_u</span>  <span class="n">rx_buffer</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> *   R X   C O M P L E T I O N   Q U E U E   D E F I N E S</span>
<span class="cm"> */</span>
<span class="cm">/* CQ Entry Flags */</span>
<span class="cp">#define	BFI_ENET_CQ_EF_MAC_ERROR	(1 &lt;&lt;  0)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_FCS_ERROR	(1 &lt;&lt;  1)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_TOO_LONG		(1 &lt;&lt;  2)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_FC_CRC_OK	(1 &lt;&lt;  3)</span>

<span class="cp">#define	BFI_ENET_CQ_EF_RSVD1		(1 &lt;&lt;  4)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_L4_CKSUM_OK	(1 &lt;&lt;  5)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_L3_CKSUM_OK	(1 &lt;&lt;  6)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_HDS_HEADER	(1 &lt;&lt;  7)</span>

<span class="cp">#define	BFI_ENET_CQ_EF_UDP		(1 &lt;&lt;  8)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_TCP		(1 &lt;&lt;  9)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_IP_OPTIONS	(1 &lt;&lt; 10)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_IPV6		(1 &lt;&lt; 11)</span>

<span class="cp">#define	BFI_ENET_CQ_EF_IPV4		(1 &lt;&lt; 12)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_VLAN		(1 &lt;&lt; 13)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_RSS		(1 &lt;&lt; 14)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_RSVD2		(1 &lt;&lt; 15)</span>

<span class="cp">#define	BFI_ENET_CQ_EF_MCAST_MATCH	(1 &lt;&lt; 16)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_MCAST		(1 &lt;&lt; 17)</span>
<span class="cp">#define BFI_ENET_CQ_EF_BCAST		(1 &lt;&lt; 18)</span>
<span class="cp">#define	BFI_ENET_CQ_EF_REMOTE		(1 &lt;&lt; 19)</span>

<span class="cp">#define	BFI_ENET_CQ_EF_LOCAL		(1 &lt;&lt; 20)</span>

<span class="cm">/* CQ Entry Structure */</span>
<span class="k">struct</span> <span class="n">bfi_enet_cq_entry</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">vlan_tag</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">length</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rss_hash</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">valid</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">rxq_id</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> *   E N E T   C O N T R O L   P A T H   C O M M A N D S</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_q</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">bfi_addr_u</span>	<span class="n">pg_tbl</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">bfi_addr_u</span>	<span class="n">first_entry</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">pages</span><span class="p">;</span>	<span class="cm">/* # of pages */</span>
	<span class="n">u16</span>		<span class="n">page_sz</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_txq</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_enet_q</span>	<span class="n">q</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">priority</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_rxq</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_enet_q</span>	<span class="n">q</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">rx_buffer_size</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">rsvd</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_cq</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_enet_q</span>	<span class="n">q</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_ib_cfg</span> <span class="p">{</span>
	<span class="n">u8</span>		<span class="n">int_pkt_dma</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">int_enabled</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">int_pkt_enabled</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">continuous_coalescing</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">msix</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u32</span>	<span class="n">coalescing_timeout</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">inter_pkt_timeout</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">inter_pkt_count</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">rsvd1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_ib</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">bfi_addr_u</span>	<span class="n">index_addr</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="n">u16</span>	<span class="n">msix_index</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">intx_bitmask</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">intr</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">rsvd</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * ENET command messages</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">bfi_enet_h2i_msgs</span> <span class="p">{</span>
	<span class="cm">/* Rx Commands */</span>
	<span class="n">BFI_ENET_H2I_RX_CFG_SET_REQ</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_RX_CFG_CLR_REQ</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>

	<span class="n">BFI_ENET_H2I_RIT_CFG_REQ</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_RSS_CFG_REQ</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_RSS_ENABLE_REQ</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_RX_PROMISCUOUS_REQ</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_RX_DEFAULT_REQ</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>

	<span class="n">BFI_ENET_H2I_MAC_UCAST_SET_REQ</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_MAC_UCAST_CLR_REQ</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_MAC_UCAST_ADD_REQ</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_MAC_UCAST_DEL_REQ</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>

	<span class="n">BFI_ENET_H2I_MAC_MCAST_ADD_REQ</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_MAC_MCAST_DEL_REQ</span> <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_MAC_MCAST_FILTER_REQ</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>

	<span class="n">BFI_ENET_H2I_RX_VLAN_SET_REQ</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_RX_VLAN_STRIP_ENABLE_REQ</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>

	<span class="cm">/* Tx Commands */</span>
	<span class="n">BFI_ENET_H2I_TX_CFG_SET_REQ</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_TX_CFG_CLR_REQ</span> <span class="o">=</span> <span class="mi">18</span><span class="p">,</span>

	<span class="cm">/* Port Commands */</span>
	<span class="n">BFI_ENET_H2I_PORT_ADMIN_UP_REQ</span> <span class="o">=</span> <span class="mi">19</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_SET_PAUSE_REQ</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_DIAG_LOOPBACK_REQ</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span>

	<span class="cm">/* Get Attributes Command */</span>
	<span class="n">BFI_ENET_H2I_GET_ATTR_REQ</span> <span class="o">=</span> <span class="mi">22</span><span class="p">,</span>

	<span class="cm">/*  Statistics Commands */</span>
	<span class="n">BFI_ENET_H2I_STATS_GET_REQ</span> <span class="o">=</span> <span class="mi">23</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_STATS_CLR_REQ</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span>

	<span class="n">BFI_ENET_H2I_WOL_MAGIC_REQ</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
	<span class="n">BFI_ENET_H2I_WOL_FRAME_REQ</span> <span class="o">=</span> <span class="mi">26</span><span class="p">,</span>

	<span class="n">BFI_ENET_H2I_MAX</span> <span class="o">=</span> <span class="mi">27</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">bfi_enet_i2h_msgs</span> <span class="p">{</span>
	<span class="cm">/* Rx Responses */</span>
	<span class="n">BFI_ENET_I2H_RX_CFG_SET_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RX_CFG_SET_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_RX_CFG_CLR_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RX_CFG_CLR_REQ</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_RIT_CFG_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RIT_CFG_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_RSS_CFG_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RSS_CFG_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_RSS_ENABLE_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RSS_ENABLE_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_RX_PROMISCUOUS_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RX_PROMISCUOUS_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_RX_DEFAULT_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RX_DEFAULT_REQ</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_MAC_UCAST_SET_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAC_UCAST_SET_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_MAC_UCAST_CLR_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAC_UCAST_CLR_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_MAC_UCAST_ADD_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAC_UCAST_ADD_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_MAC_UCAST_DEL_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAC_UCAST_DEL_REQ</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_MAC_MCAST_ADD_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAC_MCAST_ADD_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_MAC_MCAST_DEL_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAC_MCAST_DEL_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_MAC_MCAST_FILTER_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAC_MCAST_FILTER_REQ</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_RX_VLAN_SET_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RX_VLAN_SET_REQ</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_RX_VLAN_STRIP_ENABLE_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_RX_VLAN_STRIP_ENABLE_REQ</span><span class="p">),</span>

	<span class="cm">/* Tx Responses */</span>
	<span class="n">BFI_ENET_I2H_TX_CFG_SET_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_TX_CFG_SET_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_TX_CFG_CLR_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_TX_CFG_CLR_REQ</span><span class="p">),</span>

	<span class="cm">/* Port Responses */</span>
	<span class="n">BFI_ENET_I2H_PORT_ADMIN_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_PORT_ADMIN_UP_REQ</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_SET_PAUSE_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_SET_PAUSE_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_DIAG_LOOPBACK_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_DIAG_LOOPBACK_REQ</span><span class="p">),</span>

	<span class="cm">/*  Attributes Response */</span>
	<span class="n">BFI_ENET_I2H_GET_ATTR_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_GET_ATTR_REQ</span><span class="p">),</span>

	<span class="cm">/* Statistics Responses */</span>
	<span class="n">BFI_ENET_I2H_STATS_GET_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_STATS_GET_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_STATS_CLR_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_STATS_CLR_REQ</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_WOL_MAGIC_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_WOL_MAGIC_REQ</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_WOL_FRAME_RSP</span> <span class="o">=</span>
		<span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_WOL_FRAME_REQ</span><span class="p">),</span>

	<span class="cm">/* AENs */</span>
	<span class="n">BFI_ENET_I2H_LINK_DOWN_AEN</span> <span class="o">=</span> <span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAX</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_LINK_UP_AEN</span> <span class="o">=</span> <span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAX</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_PORT_ENABLE_AEN</span> <span class="o">=</span> <span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAX</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">BFI_ENET_I2H_PORT_DISABLE_AEN</span> <span class="o">=</span> <span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAX</span> <span class="o">+</span> <span class="mi">3</span><span class="p">),</span>

	<span class="n">BFI_ENET_I2H_BW_UPDATE_AEN</span> <span class="o">=</span> <span class="n">BFA_I2HM</span><span class="p">(</span><span class="n">BFI_ENET_H2I_MAX</span> <span class="o">+</span> <span class="mi">4</span><span class="p">),</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> *  The following error codes can be returned by the enet commands</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">bfi_enet_err</span> <span class="p">{</span>
	<span class="n">BFI_ENET_CMD_OK</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BFI_ENET_CMD_FAIL</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">BFI_ENET_CMD_DUP_ENTRY</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>	<span class="cm">/* !&lt; Duplicate entry in CAM */</span>
	<span class="n">BFI_ENET_CMD_CAM_FULL</span>	<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>	<span class="cm">/* !&lt; CAM is full */</span>
	<span class="n">BFI_ENET_CMD_NOT_OWNER</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>	<span class="cm">/* !&lt; Not permitted, b&#39;cos not owner */</span>
	<span class="n">BFI_ENET_CMD_NOT_EXEC</span>	<span class="o">=</span> <span class="mi">5</span><span class="p">,</span>	<span class="cm">/* !&lt; Was not sent to f/w at all */</span>
	<span class="n">BFI_ENET_CMD_WAITING</span>	<span class="o">=</span> <span class="mi">6</span><span class="p">,</span>	<span class="cm">/* !&lt; Waiting for completion */</span>
	<span class="n">BFI_ENET_CMD_PORT_DISABLED</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>	<span class="cm">/* !&lt; port in disabled state */</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Generic Request</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_RX_CFG_CLR_REQ</span>
<span class="cm"> *	BFI_ENET_H2I_TX_CFG_CLR_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Enable/Disable Request</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_enable_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_RSS_ENABLE_REQ	(enet_id must be zero)</span>
<span class="cm"> *	BFI_ENET_H2I_RX_PROMISCUOUS_REQ (enet_id must be zero)</span>
<span class="cm"> *	BFI_ENET_H2I_RX_DEFAULT_REQ	(enet_id must be zero)</span>
<span class="cm"> *	BFI_ENET_H2I_RX_MAC_MCAST_FILTER_REQ</span>
<span class="cm"> *	BFI_ENET_H2I_PORT_ADMIN_UP_REQ	(enet_id must be zero)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_enable_req</span> <span class="p">{</span>
	<span class="k">struct</span>		<span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">enable</span><span class="p">;</span>		<span class="cm">/* 1 = enable;  0 = disable */</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Generic Response</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_rsp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">error</span><span class="p">;</span>		<span class="cm">/*!&lt; if error see cmd_offset */</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">cmd_offset</span><span class="p">;</span>	<span class="cm">/*!&lt; offset to invalid parameter */</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * GLOBAL CONFIGURATION</span>
<span class="cm"> */</span>

<span class="cm">/**</span>
<span class="cm"> * bfi_enet_attr_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_GET_ATTR_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_attr_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * bfi_enet_attr_rsp is used by:</span>
<span class="cm"> *	BFI_ENET_I2H_GET_ATTR_RSP</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_attr_rsp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">error</span><span class="p">;</span>		<span class="cm">/*!&lt; if error see cmd_offset */</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">cmd_offset</span><span class="p">;</span>	<span class="cm">/*!&lt; offset to invalid parameter */</span>
	<span class="n">u32</span>		<span class="n">max_cfg</span><span class="p">;</span>
	<span class="n">u32</span>		<span class="n">max_ucmac</span><span class="p">;</span>
	<span class="n">u32</span>		<span class="n">rit_size</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Tx Configuration</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_tx_cfg is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_TX_CFG_SET_REQ</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">bfi_enet_tx_vlan_mode</span> <span class="p">{</span>
	<span class="n">BFI_ENET_TX_VLAN_NOP</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BFI_ENET_TX_VLAN_INS</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">BFI_ENET_TX_VLAN_WI</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_tx_cfg</span> <span class="p">{</span>
	<span class="n">u8</span>		<span class="n">vlan_mode</span><span class="p">;</span>	<span class="cm">/*!&lt; processing mode */</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">;</span>
	<span class="n">u16</span>		<span class="n">vlan_id</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">admit_tagged_frame</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">apply_vlan_filter</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">add_to_vswitch</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">rsvd1</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_tx_cfg_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">num_queues</span><span class="p">;</span>	<span class="cm">/* # of Tx Queues */</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

	<span class="k">struct</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">bfi_enet_txq</span>	<span class="n">q</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">bfi_enet_ib</span>	<span class="n">ib</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">q_cfg</span><span class="p">[</span><span class="n">BFI_ENET_TXQ_PRIO_MAX</span><span class="p">];</span>

	<span class="k">struct</span> <span class="n">bfi_enet_ib_cfg</span>	<span class="n">ib_cfg</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">bfi_enet_tx_cfg</span>	<span class="n">tx_cfg</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_tx_cfg_rsp</span> <span class="p">{</span>
	<span class="k">struct</span>		<span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">error</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">hw_id</span><span class="p">;</span>		<span class="cm">/* For debugging */</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span>	<span class="n">q_dbell</span><span class="p">;</span>	<span class="cm">/* PCI base address offset */</span>
		<span class="n">u32</span>	<span class="n">i_dbell</span><span class="p">;</span>	<span class="cm">/* PCI base address offset */</span>
		<span class="n">u8</span>	<span class="n">hw_qid</span><span class="p">;</span>		<span class="cm">/* For debugging */</span>
		<span class="n">u8</span>	<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">q_handles</span><span class="p">[</span><span class="n">BFI_ENET_TXQ_PRIO_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Rx Configuration</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_rx_cfg is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_RX_CFG_SET_REQ</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">bfi_enet_rxq_type</span> <span class="p">{</span>
	<span class="n">BFI_ENET_RXQ_SINGLE</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">BFI_ENET_RXQ_LARGE_SMALL</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">BFI_ENET_RXQ_HDS</span>		<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">BFI_ENET_RXQ_HDS_OPT_BASED</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">bfi_enet_hds_type</span> <span class="p">{</span>
	<span class="n">BFI_ENET_HDS_FORCED</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">BFI_ENET_HDS_IPV6_UDP</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">BFI_ENET_HDS_IPV6_TCP</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">BFI_ENET_HDS_IPV4_TCP</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">BFI_ENET_HDS_IPV4_UDP</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_rx_cfg</span> <span class="p">{</span>
	<span class="n">u8</span>		<span class="n">rxq_type</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u8</span>			<span class="n">max_header_size</span><span class="p">;</span>
		<span class="n">u8</span>			<span class="n">force_offset</span><span class="p">;</span>
		<span class="n">u8</span>			<span class="n">type</span><span class="p">;</span>
		<span class="n">u8</span>			<span class="n">rsvd1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">hds</span><span class="p">;</span>

	<span class="n">u8</span>		<span class="n">multi_buffer</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">strip_vlan</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">drop_untagged</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">rsvd2</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Multicast frames are received on the ql of q-set index zero.</span>
<span class="cm"> * On the completion queue.  RxQ ID = even is for large/data buffer queues</span>
<span class="cm"> * and RxQ ID = odd is for small/header buffer queues.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_rx_cfg_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">num_queue_sets</span><span class="p">;</span>	<span class="cm">/* # of Rx Queue Sets */</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>

	<span class="k">struct</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">bfi_enet_rxq</span>	<span class="n">ql</span><span class="p">;</span>	<span class="cm">/* large/data/single buffers */</span>
		<span class="k">struct</span> <span class="n">bfi_enet_rxq</span>	<span class="n">qs</span><span class="p">;</span>	<span class="cm">/* small/header buffers */</span>
		<span class="k">struct</span> <span class="n">bfi_enet_cq</span>	<span class="n">cq</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">bfi_enet_ib</span>	<span class="n">ib</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">q_cfg</span><span class="p">[</span><span class="n">BFI_ENET_RX_QSET_MAX</span><span class="p">];</span>

	<span class="k">struct</span> <span class="n">bfi_enet_ib_cfg</span>	<span class="n">ib_cfg</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">bfi_enet_rx_cfg</span>	<span class="n">rx_cfg</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_rx_cfg_rsp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">error</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">hw_id</span><span class="p">;</span>	 <span class="cm">/* For debugging */</span>
	<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span>	<span class="n">ql_dbell</span><span class="p">;</span> <span class="cm">/* PCI base address offset */</span>
		<span class="n">u32</span>	<span class="n">qs_dbell</span><span class="p">;</span> <span class="cm">/* PCI base address offset */</span>
		<span class="n">u32</span>	<span class="n">i_dbell</span><span class="p">;</span>  <span class="cm">/* PCI base address offset */</span>
		<span class="n">u8</span>		<span class="n">hw_lqid</span><span class="p">;</span>  <span class="cm">/* For debugging */</span>
		<span class="n">u8</span>		<span class="n">hw_sqid</span><span class="p">;</span>  <span class="cm">/* For debugging */</span>
		<span class="n">u8</span>		<span class="n">hw_cqid</span><span class="p">;</span>  <span class="cm">/* For debugging */</span>
		<span class="n">u8</span>		<span class="n">rsvd</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">q_handles</span><span class="p">[</span><span class="n">BFI_ENET_RX_QSET_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * RIT</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_rit_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_RIT_CFG_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_rit_req</span> <span class="p">{</span>
	<span class="k">struct</span>	<span class="n">bfi_msgq_mhdr</span> <span class="n">mh</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">size</span><span class="p">;</span>			<span class="cm">/* number of table-entries used */</span>
	<span class="n">u8</span>	<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span>	<span class="n">table</span><span class="p">[</span><span class="n">BFI_ENET_RSS_RIT_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * RSS</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_rss_cfg_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_RSS_CFG_REQ</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">bfi_enet_rss_type</span> <span class="p">{</span>
	<span class="n">BFI_ENET_RSS_IPV6</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">BFI_ENET_RSS_IPV6_TCP</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">BFI_ENET_RSS_IPV4</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">BFI_ENET_RSS_IPV4_TCP</span>	<span class="o">=</span> <span class="mh">0x08</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_rss_cfg</span> <span class="p">{</span>
	<span class="n">u8</span>	<span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">mask</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>	<span class="n">key</span><span class="p">[</span><span class="n">BFI_ENET_RSS_KEY_LEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bfi_enet_rss_cfg_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_rss_cfg</span>	<span class="n">cfg</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * MAC Unicast</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_rx_vlan_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_MAC_UCAST_SET_REQ</span>
<span class="cm"> *	BFI_ENET_H2I_MAC_UCAST_CLR_REQ</span>
<span class="cm"> *	BFI_ENET_H2I_MAC_UCAST_ADD_REQ</span>
<span class="cm"> *	BFI_ENET_H2I_MAC_UCAST_DEL_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_ucast_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">mac_t</span>			<span class="n">mac_addr</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * MAC Unicast + VLAN</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_mac_n_vlan_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">vlan_id</span><span class="p">;</span>
	<span class="n">mac_t</span>			<span class="n">mac_addr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * MAC Multicast</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_mac_mfilter_add_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_MAC_MCAST_ADD_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_mcast_add_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">mac_t</span>			<span class="n">mac_addr</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * bfi_enet_mac_mfilter_add_rsp is used by:</span>
<span class="cm"> *	BFI_ENET_I2H_MAC_MCAST_ADD_RSP</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_mcast_add_rsp</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">error</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">cmd_offset</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">handle</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * bfi_enet_mac_mfilter_del_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_MAC_MCAST_DEL_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_mcast_del_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">handle</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * VLAN</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_rx_vlan_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_RX_VLAN_SET_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_rx_vlan_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">block_idx</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u32</span>			<span class="n">bit_mask</span><span class="p">[</span><span class="n">BFI_ENET_VLAN_WORDS_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * PAUSE</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_set_pause_req is used by:</span>
<span class="cm"> *	BFI_ENET_H2I_SET_PAUSE_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_set_pause_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span>			<span class="n">tx_pause</span><span class="p">;</span>	<span class="cm">/* 1 = enable;  0 = disable */</span>
	<span class="n">u8</span>			<span class="n">rx_pause</span><span class="p">;</span>	<span class="cm">/* 1 = enable;  0 = disable */</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * DIAGNOSTICS</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_diag_lb_req is used by:</span>
<span class="cm"> *      BFI_ENET_H2I_DIAG_LOOPBACK</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_diag_lb_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span>			<span class="n">mode</span><span class="p">;</span>		<span class="cm">/* cable or Serdes */</span>
	<span class="n">u8</span>			<span class="n">enable</span><span class="p">;</span>		<span class="cm">/* 1 = enable;  0 = disable */</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * enum for Loopback opmodes</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">BFI_ENET_DIAG_LB_OPMODE_EXT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">BFI_ENET_DIAG_LB_OPMODE_CBL</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * STATISTICS</span>
<span class="cm"> *</span>
<span class="cm"> * bfi_enet_stats_req is used by:</span>
<span class="cm"> *    BFI_ENET_H2I_STATS_GET_REQ</span>
<span class="cm"> *    BFI_ENET_I2H_STATS_CLR_REQ</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_req</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_msgq_mhdr</span>	<span class="n">mh</span><span class="p">;</span>
	<span class="n">u16</span>			<span class="n">stats_mask</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">rsvd</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>			<span class="n">rx_enet_mask</span><span class="p">;</span>
	<span class="n">u32</span>			<span class="n">tx_enet_mask</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">bfi_addr_u</span>	<span class="n">host_buffer</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * defines for &quot;stats_mask&quot; above.</span>
<span class="cm"> */</span>
<span class="cp">#define BFI_ENET_STATS_MAC    (1 &lt;&lt; 0)    </span><span class="cm">/* !&lt; MAC Statistics */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_STATS_BPC    (1 &lt;&lt; 1)    </span><span class="cm">/* !&lt; Pause Stats from BPC */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_STATS_RAD    (1 &lt;&lt; 2)    </span><span class="cm">/* !&lt; Rx Admission Statistics */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_STATS_RX_FC  (1 &lt;&lt; 3)    </span><span class="cm">/* !&lt; Rx FC Stats from RxA */</span><span class="cp"></span>
<span class="cp">#define BFI_ENET_STATS_TX_FC  (1 &lt;&lt; 4)    </span><span class="cm">/* !&lt; Tx FC Stats from TxA */</span><span class="cp"></span>

<span class="cp">#define BFI_ENET_STATS_ALL    0x1f</span>

<span class="cm">/* TxF Frame Statistics */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_txf</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">ucast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">ucast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">ucast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">mcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">bcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">bcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">bcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">errors</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">filter_vlan</span><span class="p">;</span>      <span class="cm">/* frames filtered due to VLAN */</span>
	<span class="n">u64</span> <span class="n">filter_mac_sa</span><span class="p">;</span>    <span class="cm">/* frames filtered due to SA check */</span>
<span class="p">};</span>

<span class="cm">/* RxF Frame Statistics */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_rxf</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">ucast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">ucast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">ucast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">mcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">mcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">bcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">bcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">bcast_vlan</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">frame_drops</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* FC Tx Frame Statistics */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_fc_tx</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">txf_ucast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_ucast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_ucast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">txf_mcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_mcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_mcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">txf_bcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_bcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_bcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">txf_parity_errors</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_timeout</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">txf_fid_parity_errors</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* FC Rx Frame Statistics */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_fc_rx</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">rxf_ucast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxf_ucast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxf_ucast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rxf_mcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxf_mcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxf_mcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rxf_bcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxf_bcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rxf_bcast_vlan</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* RAD Frame Statistics */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_rad</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">rx_frames</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_vlan_frames</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rx_ucast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_ucast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_ucast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rx_mcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_mcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_mcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rx_bcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_bcast_octets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_bcast_vlan</span><span class="p">;</span>

	<span class="n">u64</span> <span class="n">rx_drops</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* BPC Tx Registers */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_bpc</span> <span class="p">{</span>
	<span class="cm">/* transmit stats */</span>
	<span class="n">u64</span> <span class="n">tx_pause</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">tx_zero_pause</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/*!&lt; Pause cancellation */</span>
	<span class="cm">/*!&lt;Pause initiation rather than retention */</span>
	<span class="n">u64</span> <span class="n">tx_first_pause</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>

	<span class="cm">/* receive stats */</span>
	<span class="n">u64</span> <span class="n">rx_pause</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u64</span> <span class="n">rx_zero_pause</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/*!&lt; Pause cancellation */</span>
	<span class="cm">/*!&lt;Pause initiation rather than retention */</span>
	<span class="n">u64</span> <span class="n">rx_first_pause</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* MAC Rx Statistics */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats_mac</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">frame_64</span><span class="p">;</span>		<span class="cm">/* both rx and tx counter */</span>
	<span class="n">u64</span> <span class="n">frame_65_127</span><span class="p">;</span>		<span class="cm">/* both rx and tx counter */</span>
	<span class="n">u64</span> <span class="n">frame_128_255</span><span class="p">;</span>		<span class="cm">/* both rx and tx counter */</span>
	<span class="n">u64</span> <span class="n">frame_256_511</span><span class="p">;</span>		<span class="cm">/* both rx and tx counter */</span>
	<span class="n">u64</span> <span class="n">frame_512_1023</span><span class="p">;</span>	<span class="cm">/* both rx and tx counter */</span>
	<span class="n">u64</span> <span class="n">frame_1024_1518</span><span class="p">;</span>	<span class="cm">/* both rx and tx counter */</span>
	<span class="n">u64</span> <span class="n">frame_1519_1522</span><span class="p">;</span>	<span class="cm">/* both rx and tx counter */</span>

	<span class="cm">/* receive stats */</span>
	<span class="n">u64</span> <span class="n">rx_bytes</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_packets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_fcs_error</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_multicast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_broadcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_control_frames</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_pause</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_unknown_opcode</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_alignment_error</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_frame_length_error</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_code_error</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_carrier_sense_error</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_undersize</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_oversize</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_fragments</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_jabber</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">rx_drop</span><span class="p">;</span>

	<span class="cm">/* transmit stats */</span>
	<span class="n">u64</span> <span class="n">tx_bytes</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_packets</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_multicast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_broadcast</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_pause</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_deferral</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_excessive_deferral</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_single_collision</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_muliple_collision</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_late_collision</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_excessive_collision</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_total_collision</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_pause_honored</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_drop</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_jabber</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_fcs_error</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_control_frame</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_oversize</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_undersize</span><span class="p">;</span>
	<span class="n">u64</span> <span class="n">tx_fragments</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * Complete statistics, DMAed from fw to host followed by</span>
<span class="cm"> * BFI_ENET_I2H_STATS_GET_RSP</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">bfi_enet_stats</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_mac</span>	<span class="n">mac_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_bpc</span>	<span class="n">bpc_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_rad</span>	<span class="n">rad_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_rad</span>	<span class="n">rlb_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_fc_rx</span>	<span class="n">fc_rx_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_fc_tx</span>	<span class="n">fc_tx_stats</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_rxf</span>	<span class="n">rxf_stats</span><span class="p">[</span><span class="n">BFI_ENET_CFG_MAX</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">bfi_enet_stats_txf</span>	<span class="n">txf_stats</span><span class="p">[</span><span class="n">BFI_ENET_CFG_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#pragma pack()</span>

<span class="cp">#endif  </span><span class="cm">/* __BFI_ENET_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
