d | tile |  | 4 items |  | Chris Metcalf | cmetcalf@tilera.com | 1339459286 |  | tilegx network driver: initial support  This change adds support for the tilegx network driver based on the GXIO IORPC support in the tilegx software stack, using the on-chip mPIPE packet processing engine.  Signed-off-by: Chris Metcalf <cmetcalf@tilera.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | cirrus |  | 6 items |  | Joe Perches | joe@perches.com | 1337399287 |  | cirrus: cs89x0: Remove function prototypes and reorder declarations  Move blocks of code around to avoid function prototypes.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | neterion |  | 6 items |  | David S. Miller | davem@davemloft.net | 1334082645 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
d | sgi |  | 5 items |  | Joshua Kinard | kumba@gentoo.org | 1325009854 |  | net: meth: Add set_rx_mode hook to fix ICMPv6 neighbor discovery  SGI IP32 (O2)'s ethernet driver (meth) lacks a set_rx_mode function, which prevents IPv6 from working completely because any ICMPv6 neighbor solicitation requests aren't picked up by the driver.  So the machine can ping out and connect to other systems, but other systems will have a very hard time connecting to the O2.  Signed-off-by: Joshua Kinard <kumba@gentoo.org> Signed-off-by: David S. Miller <davem@davemloft.net>
d | 8390 |  | 30 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1337287061 |  | drivers/net: delete all code/drivers depending on CONFIG_MCA  The support for CONFIG_MCA is being removed, since the 20 year old hardware simply isn't capable of meeting today's software demands on CPU and memory resources.  This commit removes any MCA specific net drivers, and removes any MCA specific probe/support code from drivers that were doing a dual ISA/MCA role.  Cc: "David S. Miller" <davem@davemloft.net> Cc: James Bottomley <James.Bottomley@HansenPartnership.com> Cc: netdev@vger.kernel.org Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | Makefile | g | 3.0K |  | Mike Sinkovsky | msink@permonline.ru | 1333604582 |  | Ethernet driver for the WIZnet W5300 chip  Based on original driver from chip manufacturer, but nearly full rewite. Tested and used in production with Blackfin BF531 embedded processor.  Signed-off-by: Mike Sinkovsky <msink@permonline.ru> Signed-off-by: David S. Miller <davem@davemloft.net>
f | jme.c | s | 74K | 2779 | David S. Miller | davem@davemloft.net | 1330311351 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net  Conflicts: 	drivers/net/ethernet/sfc/rx.c  Overlapping changes in drivers/net/ethernet/sfc/rx.c, one to change the rx_buf->is_page boolean into a set of u16 flags, and another to adjust how ->ip_summed is initialized.  Signed-off-by: David S. Miller <davem@davemloft.net>
d | myricom |  | 3 items |  | Francois Romieu | romieu@fr.zoreil.com | 1333792689 |  | myri10ge: stop using net_device.{base_addr, irq}.  Signed-off-by: Francois Romieu <romieu@fr.zoreil.com> Cc: Jon Mason <mason@myri.com> Acked-by: Andrew Gallatin <gallatin@myri.com>
d | marvell |  | 8 items |  | stephen hemminger | shemminger@vyatta.com | 1339099602 |  | sky2: fix checksum bit management on some chips  The newer flavors of Yukon II use a different method for receive checksum offload. This is indicated in the driver by the SKY2_HW_NEW_LE flag. On these newer chips, the BMU_ENA_RX_CHKSUM should not be set.  The driver would get incorrectly toggle the bit, enabling the old checksum logic on these chips and cause a BUG_ON() assertion. If receive checksum was toggled via ethtool.  Reported-by: Kirill Smelkov <kirr@mns.spb.ru> Signed-off-by: Stephen Hemminger <shemminger@vyatta.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | broadcom |  | 17 items |  | Yuval Mintz | yuvalmin@broadcom.com | 1339915116 |  | bnx2x: fix link for BCM57711 with 84823 phy  Signed-off-by: Yaniv Rosner <yaniv.rosner@broadcom.com> Signed-off-by: Yuval Mintz <yuvalmin@broadcom.com> Signed-off-by: Eilon Greenstein <eilong@broadcom.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | octeon |  | 3 items |  | Florian Fainelli | florian@openwrt.org | 1329167049 |  | octeon: fix PHY name to match MDIO bus name  Commit "d6c25be: mdio-octeon: use an unique MDIO bus name" changed the octeon MDIO bus name from "0" to "mdio-octeon-0", change the PHY formatting logic to account for that name change, so that PHY connection on this bus succeeds.  Signed-off-by: Florian Fainelli <florian@openwrt.org> Signed-off-by: David S. Miller <davem@davemloft.net>
d | silan |  | 3 items |  | Francois Romieu | romieu@fr.zoreil.com | 1333791927 |  | sc92031: stop using net_device.{base_addr, irq}  Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
d | freescale |  | 18 items |  | Claudiu Manoil | claudiu.manoil@freescale.com | 1340927846 |  | gianfar: Fix RXICr/TXICr programming for multi-queue mode  The correct behavior is to program the interrupt coalescing regs (RXICr/TXICr) in accordance with the Rx/Tx Q's "rx/txcoalescing" flag. That is, if the coalescing flag is 0 for a given Rx/Tx queue then the corresponding coalescing register should be cleared. This behavior is correctly implemented for the single-queue mode (SQ_SG_MODE), but not for the multi-queue mode (MQ_MG_MODE). This fixes the later case.  Signed-off-by: Claudiu Manoil <claudiu.manoil@freescale.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | natsemi |  | 11 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1337287061 |  | drivers/net: delete all code/drivers depending on CONFIG_MCA  The support for CONFIG_MCA is being removed, since the 20 year old hardware simply isn't capable of meeting today's software demands on CPU and memory resources.  This commit removes any MCA specific net drivers, and removes any MCA specific probe/support code from drivers that were doing a dual ISA/MCA role.  Cc: "David S. Miller" <davem@davemloft.net> Cc: James Bottomley <James.Bottomley@HansenPartnership.com> Cc: netdev@vger.kernel.org Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | sun |  | 16 items |  | David S. Miller | davem@davemloft.net | 1339140496 |  | Revert "niu: Add support for byte queue limits."  This reverts commit efa230f2c68abab817f13473077f8d0cc74f43f3.  BQL doesn't work with how this driver currently only takes TX interrupts every 1/4 of the TX ring.  That behavior needs to be fixed, but that's a larger non-trivial task and for now we have to revert BQL support as this makes the device currently completely unusable.  Signed-off-by: David S. Miller <davem@davemloft.net>
d | apple |  | 7 items |  | Pradeep A. Dalvi | netdev@pradeepdalvi.com | 1328744798 |  | netdev: ethernet dev_alloc_skb to netdev_alloc_skb  Replaced deprecating dev_alloc_skb with netdev_alloc_skb in drivers/net/ethernet   - Removed extra skb->dev = dev after netdev_alloc_skb  Signed-off-by: Pradeep A Dalvi <netdev@pradeepdalvi.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | atheros |  | 5 items |  | Huang, Xiong | xiong@qca.qualcomm.com | 1335836656 |  | atl1c: remove PHY polling from atl1c_change_mtu  PHY polling code for FPGA is considered in every MDIO R/W API. no need to add additional code to atl1c_change_mtu.  Signed-off-by: xiong <xiong@qca.qualcomm.com> Tested-by: David Liu <dwliu@qca.qaulcomm.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | xircom |  | 3 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | seeq |  | 8 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | fealnx.c | s | 53K | 1638 | David S. Miller | davem@davemloft.net | 1333803752 |  | fealnx: Remove unused local label 'out' in netdev_open().  Signed-off-by: David S. Miller <davem@davemloft.net>
d | oki-semi |  | 3 items |  | David S. Miller | davem@davemloft.net | 1337221057 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
d | xscale |  | 3 items |  | Rob Herring | rob.herring@calxeda.com | 1333577377 |  | net: remove ixp2000 ethernet driver  The platform is removed, so there are no users of this driver.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Jeff Kirsher <jeffrey.t.kirsher@intel.com> Cc: Jesse Brandeburg <jesse.brandeburg@intel.com> Cc: Bruce Allan <bruce.w.allan@intel.com> Cc: Carolyn Wyborny <carolyn.wyborny@intel.com> Cc: Don Skidmore <donald.c.skidmore@intel.com> Cc: Greg Rose <gregory.v.rose@intel.com> Cc: Peter P Waskiewicz Jr <peter.p.waskiewicz.jr@intel.com> Cc: Alex Duyck <alexander.h.duyck@intel.com> Cc: John Ronciak <john.ronciak@intel.com> Cc: netdev@vger.kernel.org Signed-off-by: David S. Miller <davem@davemloft.net>
f | korina.c | s | 31K | 1008 | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | toshiba |  | 10 items |  | Joe Perches | joe@perches.com | 1336707181 |  | drivers/net: Convert compare_ether_addr to ether_addr_equal  Use the new bool function ether_addr_equal to add some clarity and reduce the likelihood for misuse of compare_ether_addr for sorting.  Done via cocci script:  $ cat compare_ether_addr.cocci @@ expression a,b; @@ -	!compare_ether_addr(a, b) +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	compare_ether_addr(a, b) +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) == 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) != 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) == 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) != 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!!ether_addr_equal(a, b) +	ether_addr_equal(a, b)  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | 3com |  | 11 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337739770 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial  Pull trivial updates from Jiri Kosina:  "As usual, it's mostly typo fixes, redundant code elimination and some   documentation updates."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial: (57 commits)   edac, mips: don't change code that has been removed in edac/mips tree   xtensa: Change mail addresses of Hannes Weiner and Oskar Schirmer   lib: Change mail address of Oskar Schirmer   net: Change mail address of Oskar Schirmer   arm/m68k: Change mail address of Sebastian Hess   i2c: Change mail address of Oskar Schirmer   net: Fix tcp_build_and_update_options comment in struct tcp_sock   atomic64_32.h: fix parameter naming mismatch   Kconfig: replace "--- help ---" with "---help---"   c2port: fix bogus Kconfig "default no"   edac: Fix spelling errors.   qla1280: Remove redundant NULL check before release_firmware() call   remoteproc: remove redundant NULL check before release_firmware()   qla2xxx: Remove redundant NULL check before release_firmware() call.   aic94xx: Get rid of redundant NULL check before release_firmware() call   tehuti: delete redundant NULL check before release_firmware()   qlogic: get rid of a redundant test for NULL before call to release_firmware()   bna: remove redundant NULL test before release_firmware()   tg3: remove redundant NULL test before release_firmware() call   typhoon: get rid of redundant conditional before all to release_firmware()   ...
d | adaptec |  | 3 items |  | Francois Romieu | romieu@fr.zoreil.com | 1333791926 |  | starfire: remove deprecated options.  Some settings are duplicated between ethtool link management and module options. The latter is trimmed. The half duplex, speed and autonegotiation defaults are kept unchanged.  Signed-off-by: Francois Romieu <romieu@fr.zoreil.com> Cc: Ion Badulescu <ionut@badula.org>
f | lantiq_etop.c | s | 19K | 695 | Masanari Iida | standby24x7@gmail.com | 1329696162 |  | ethernet: Fix typo in lantiq_etop.c  Correct spelling "platfom" to "platform" in drivers/net/ethernet/lantiq_etop.c  Signed-off-by: Masanari Iida <standby24x7@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | aeroflex |  | 4 items |  | Danny Kukawka | danny.kukawka@bisect.de | 1330034600 |  | ethernet: unify return value of .ndo_set_mac_address if address is invalid  Unify return value of .ndo_set_mac_address if the given address isn't valid. Return -EADDRNOTAVAIL as eth_mac_addr() already does if is_valid_ether_addr() fails.  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de> Signed-off-by: David S. Miller <davem@davemloft.net>
d | qlogic |  | 7 items |  | Dan Carpenter | dan.carpenter@oracle.com | 1339799415 |  | qlcnic: off by one in qlcnic_init_pci_info()  The adapter->npars[] array has QLCNIC_MAX_PCI_FUNC elements.  We allocate it that way a few lines earlier in the function.  So this test is off by one.  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com> Acked-by: Anirban Chakraborty <anirban.chakraborty@qlogic.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | davicom |  | 4 items |  | Steven King | sfking@fdwdc.com | 1337035216 |  | dm9000: some coldfire boards need this  Some coldfire boards (ie m5253demo) have a dm9000 onboard.  Signed-off-by: Steven King <sfking@fdwdc.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | tundra |  | 4 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | faraday |  | 6 items |  | Danny Kukawka | danny.kukawka@bisect.de | 1329338056 |  | net: replace random_ether_addr() with eth_hw_addr_random()  Replace usage of random_ether_addr() with eth_hw_addr_random() to set addr_assign_type correctly to NET_ADDR_RANDOM.  Change the trivial cases.  v2: adapt to renamed eth_hw_addr_random()  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de> Signed-off-by: David S. Miller <davem@davemloft.net>
d | renesas |  | 4 items |  | Yoshihiro Shimoda | yoshihiro.shimoda.uh@renesas.com | 1340427037 |  | net: sh_eth: fix the condition to fix the cur_tx/dirty_rx  The following commit couldn't work if the RMCR is not set to 1.  "net: sh_eth: fix the rxdesc pointer when rx descriptor empty happens" commit id 79fba9f51755c704c0a7d7b7f0df10874dc0a744  If RMCR is not set, the controller will clear the EDRRR after it received a frame. In this case, the driver doesn't need to fix the value of cur_rx/dirty_rx. The driver only needs it when the controll detects receive descriptors are empty.  Signed-off-by: Yoshihiro Shimoda <yoshihiro.shimoda.uh@renesas.com> Tested-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de> Signed-off-by: David S. Miller <davem@davemloft.net>
d | ti |  | 12 items |  | Daniel Mack | zonque@gmail.com | 1340928186 |  | davinci_cpdma: include linux/module.h  This fixes a number of warnings such as:    CC      drivers/net/ethernet/ti/davinci_cpdma.o drivers/net/ethernet/ti/davinci_cpdma.c:279:1: warning: data definition has no type or storage class drivers/net/ethernet/ti/davinci_cpdma.c:279:1: warning: type defaults to ‘int’ in declaration of ‘EXPORT_SYMBOL_GPL’ drivers/net/ethernet/ti/davinci_cpdma.c:279:1: warning: parameter names (without types) in function declaration  Signed-off-by: Daniel Mack <zonque@gmail.com> Cc: Vaibhav Hiremath <hvaibhav@ti.com> Cc: David S. Miller <davem@davemloft.net> Cc: Christian Riesch <christian.riesch@omicron.at> Signed-off-by: David S. Miller <davem@davemloft.net>
d | adi |  | 4 items |  | David S. Miller | davem@davemloft.net | 1333685870 |  | bfin: Fix build failure due to get_ts_info() changes.  Reported-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | via |  | 5 items |  | David S. Miller | davem@davemloft.net | 1334082645 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
d | stmicro |  | 3 items |  | Stefan Roese | sr@denx.de | 1339458495 |  | net: stmmac: Fix clock en-/disable calls  clk_{un}prepare is mandatory for platforms using common clock framework. Since these drivers are used by SPEAr platform, which supports common clock framework, add clk_{un}prepare() support for them. Otherwise the clocks are not correctly en-/disabled and ethernet support doesn't work.  Signed-off-by: Stefan Roese <sr@denx.de> Cc: Viresh Kumar <viresh.linux@gmail.com> Cc: Giuseppe Cavallaro <peppe.cavallaro@st.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | realtek |  | 7 items |  | françois romieu | romieu@fr.zoreil.com | 1340426912 |  | r8169: RxConfig hack for the 8168evl.  The 8168evl (RTL_GIGA_MAC_VER_34) based Gigabyte GA-990FXA motherboards are very prone to NETDEV watchdog problems without this change. See https://bugzilla.kernel.org/show_bug.cgi?id=42899 for instance.  I don't know why it *works*. It's depressingly effective though.  For the record: - the problem may go along IOMMU (AMD-Vi) errors but it really looks   like a red herring. - the patch sets the RX_MULTI_EN bit. If the 8168c doc is any guide,   the chipset now fetches several Rx descriptors at a time. - long ago the driver ignored the RX_MULTI_EN bit.   e542a2269f232d61270ceddd42b73a4348dee2bb changed the RxConfig   settings. Whatever the problem it's now labeled a regression. - Realtek's own driver can identify two different 8168evl devices   (CFG_METHOD_16 and CFG_METHOD_17) where the r8169 driver only   sees one. It sucks.  Signed-off-by: Francois Romieu <romieu@fr.zoreil.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | nvidia |  | 3 items |  | Willem de Bruijn | willemb@google.com | 1335836007 |  | forcedeth: add transmit timestamping support  Insert an skb_tx_timestamp call in both ndo_start_xmit routines Tested to work for the nv_start_xmit_optimized case  Signed-off-by: Willem de Bruijn <willemb@google.com> Acked-by: Eric Dumazet <edumazet@google.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | netx-eth.c | s | 13K | 413 | Pradeep A. Dalvi | netdev@pradeepdalvi.com | 1328744798 |  | netdev: ethernet dev_alloc_skb to netdev_alloc_skb  Replaced deprecating dev_alloc_skb with netdev_alloc_skb in drivers/net/ethernet   - Removed extra skb->dev = dev after netdev_alloc_skb  Signed-off-by: Pradeep A Dalvi <netdev@pradeepdalvi.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | mellanox |  | 3 items |  | Yevgeny Petrilin | yevgenyp@mellanox.co.il | 1340667012 |  | net/mlx4_en: Release QP range in free_resources  Add a missing resource release in ring cleanup. Not doing this leaves a range of QPs that are being reserved, and no one can use them.  Signed-off-by: Yevgeny Petrilin <yevgenyp@mellanox.co.il> Signed-off-by: David S. Miller <davem@davemloft.net>
d | nxp |  | 3 items |  | Eric Dumazet | edumazet@google.com | 1339445553 |  | lpc_eth: fix tx completion  __lpc_handle_xmit() has two bugs :  1) It can leak skbs in case TXSTATUS_ERROR is set  2) It can wake up txqueue while no slot was freed.  Signed-off-by: Eric Dumazet <edumazet@google.com> Reported-by: Roland Stigge <stigge@antcom.de> Tested-by: Roland Stigge <stigge@antcom.de> Cc: Kevin Wells <kevin.wells@nxp.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | rdc |  | 3 items |  | Devendra Naga | devendra.aaru@gmail.com | 1338345068 |  | r6040: Do a Proper deinit at errorpath and also when driver unloads (calling r6040_remove_one)  so if mdiobus_alloc fails, the errorpath doesnt do a netif_napi_del and also doesn't set the priv data of the driver to NULL.  at the driver unload stage the driver doesn't remove the NAPI context, and doesnt' set the priv data to NULL, and also doesn't call the pci_iounmap.  Signed-off-by: Devendra Naga <devendra.aaru@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | chelsio |  | 6 items |  | Vipul Pandya | vipul@chelsio.com | 1337372548 |  | cxgb4: DB Drop Recovery for RDMA and LLD queues  recover LLD EQs for DB drop interrupts.  This includes adding a new db_lock, a spin lock disabling BH too, used by the recovery thread and the ring_tx_db() paths to allow db drop recovery.  Clean up initial DB avoidance code.  Add read_eq_indices() - this allows the LLD to use the PCIe mw to efficiently read hw eq contexts.  Add cxgb4_sync_txq_pidx() - called by iw_cxgb4 to sync up the sw/hw pidx value.  Add flush_eq_cache() and cxgb4_flush_eq_cache().  This allows iw_cxgb4 to flush the sge eq context cache before beginning db drop recovery.  Add module parameter, dbfoifo_int_thresh, to allow tuning the db interrupt threshold value.  Add dbfifo_int_thresh to cxgb4_lld_info so iw_cxgb4 knows the threshold.  Add module parameter, dbfoifo_drain_delay, to allow tuning the amount of time delay between DB FULL and EMPTY upcalls to iw_cxgb4.  Signed-off-by: Vipul Pandya <vipul@chelsio.com> Signed-off-by: Steve Wise <swise@opengridcomputing.com> Signed-off-by: Roland Dreier <roland@purestorage.com>
d | intel |  | 10 items |  | Bruce Allan | bruce.w.allan@intel.com | 1341127532 |  | e1000e: remove use of IP payload checksum  Currently only used when packet split mode is enabled with jumbo frames, IP payload checksum (for fragmented UDP packets) is mutually exclusive with receive hashing offload since the hardware uses the same space in the receive descriptor for the hardware-provided packet checksum and the RSS hash, respectively.  Users currently must disable jumbos when receive hashing offload is enabled, or vice versa, because of this incompatibility. Since testing has shown that IP payload checksum does not provide any real benefit, just remove it so that there is no longer a choice between jumbos or receive hashing offload but not both as done in other Intel GbE drivers (e.g. e1000, igb).  Also, add a missing check for IP checksum error reported by the hardware; let the stack verify the checksum when this happens.  CC: stable <stable@vger.kernel.org> [3.4] Signed-off-by: Bruce Allan <bruce.w.allan@intel.com> Tested-by: Aaron Brown <aaron.f.brown@intel.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | xilinx |  | 9 items |  | David S. Miller | davem@davemloft.net | 1334510344 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net  Conflicts: 	drivers/net/ethernet/atheros/atlx/atl1.c 	drivers/net/ethernet/atheros/atlx/atl1.h  Resolved a conflict between a DMA error bug fix and NAPI support changes in the atl1 driver.  Signed-off-by: David S. Miller <davem@davemloft.net>
f | s6gmac.c | s | 33K | 1017 | Linus Torvalds | torvalds@linux-foundation.org | 1337739770 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial  Pull trivial updates from Jiri Kosina:  "As usual, it's mostly typo fixes, redundant code elimination and some   documentation updates."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial: (57 commits)   edac, mips: don't change code that has been removed in edac/mips tree   xtensa: Change mail addresses of Hannes Weiner and Oskar Schirmer   lib: Change mail address of Oskar Schirmer   net: Change mail address of Oskar Schirmer   arm/m68k: Change mail address of Sebastian Hess   i2c: Change mail address of Oskar Schirmer   net: Fix tcp_build_and_update_options comment in struct tcp_sock   atomic64_32.h: fix parameter naming mismatch   Kconfig: replace "--- help ---" with "---help---"   c2port: fix bogus Kconfig "default no"   edac: Fix spelling errors.   qla1280: Remove redundant NULL check before release_firmware() call   remoteproc: remove redundant NULL check before release_firmware()   qla2xxx: Remove redundant NULL check before release_firmware() call.   aic94xx: Get rid of redundant NULL check before release_firmware() call   tehuti: delete redundant NULL check before release_firmware()   qlogic: get rid of a redundant test for NULL before call to release_firmware()   bna: remove redundant NULL test before release_firmware()   tg3: remove redundant NULL test before release_firmware() call   typhoon: get rid of redundant conditional before all to release_firmware()   ...
d | ibm |  | 6 items |  | Thadeu Lima de Souza Cascardo | cascardo@linux.vnet.ibm.com | 1336704354 |  | ehea: fix losing of NEQ events when one event occurred early  The NEQ interrupt is only triggered when there was no previous pending interrupt. If we request irq handling after an interrupt has occurred, we will never get an interrupt until we call H_RESET_EVENTS.  Events seem to be cleared when we first register the NEQ. So, when we requested irq handling right after registering it, a possible race with an interrupt was much less likely. Now, there is a chance we may lose this race and never get any events.  The fix here is to poll and acknowledge any events that might have happened right after registering the irq handler.  Signed-off-by: Thadeu Lima de Souza Cascardo <cascardo@linux.vnet.ibm.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | cadence |  | 6 items |  | Nicolas Ferre | nicolas.ferre@atmel.com | 1335664119 |  | net/at91_ether: use gpio_to_irq for phy IRQ line  Use the gpio_to_irq() function to retrieve the phy IRQ line from the GPIO pin specification. This fix is needed now that we have moved to irqdomains on AT91.  Reported-by: Jamie Iles <jamie@jamieiles.com> Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com> Cc: Andrew Victor <avictor.za@gmail.com> Cc: David S. Miller <davem@davemloft.net> Cc: netdev@vger.kernel.org Signed-off-by: David S. Miller <davem@davemloft.net>
d | alteon |  | 4 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
d | calxeda |  | 3 items |  | Danny Kukawka | danny.kukawka@bisect.de | 1329338057 |  | net: use eth_hw_addr_random() and reset addr_assign_type  Use eth_hw_addr_random() instead of calling random_ether_addr() to set addr_assign_type correctly to NET_ADDR_RANDOM.  Reset the state to NET_ADDR_PERM as soon as the MAC get changed via .ndo_set_mac_address.  v2: adapt to renamed eth_hw_addr_random()  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de> Signed-off-by: David S. Miller <davem@davemloft.net>
f | dnet.h | s | 7.1K | 197 | Jeff Kirsher | jeffrey.t.kirsher@intel.com | 1313218011 |  | dnet: Move the Dave Ethernet driver  Move the Dave Ethernet driver into drivers/net/ethernet/ and make the necessary Kconfig and Makefile changes.  CC: Ilya Yanok <yanok@emcraft.com> Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
d | amd |  | 28 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337629434 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/geert/linux-m68k  Pull m68k updates from Geert Uytterhoeven.  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/geert/linux-m68k:   m68k: Setup CROSS_COMPILE at the top   m68k: Correct the Atari ALLOWINT definition   m68k/video: Create <asm/vga.h>   m68k: Make sure {read,write}s[bwl]() are always defined   m68k/mm: Port OOM changes to do_page_fault()   scsi/atari: Make more functions static   scsi/atari: Revive "atascsi=" setup option   net/ariadne: Improve debug prints   m68k/atari: Change VME irq numbers from unsigned long to unsigned int   m68k/amiga: Use arch_initcall() for registering platform devices   m68k/amiga: Add error checks when registering platform devices   m68k/amiga: Mark z_dev_present() __init   m68k: Remove unused MAX_NOINT_IPL definition
d | micrel |  | 9 items |  | David S. Miller | davem@davemloft.net | 1337221057 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
d | i825xx |  | 20 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1337287061 |  | drivers/net: delete all code/drivers depending on CONFIG_MCA  The support for CONFIG_MCA is being removed, since the 20 year old hardware simply isn't capable of meeting today's software demands on CPU and memory resources.  This commit removes any MCA specific net drivers, and removes any MCA specific probe/support code from drivers that were doing a dual ISA/MCA role.  Cc: "David S. Miller" <davem@davemloft.net> Cc: James Bottomley <James.Bottomley@HansenPartnership.com> Cc: netdev@vger.kernel.org Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | racal |  | 4 items |  | Pradeep A. Dalvi | netdev@pradeepdalvi.com | 1328744798 |  | netdev: ethernet dev_alloc_skb to netdev_alloc_skb  Replaced deprecating dev_alloc_skb with netdev_alloc_skb in drivers/net/ethernet   - Removed extra skb->dev = dev after netdev_alloc_skb  Signed-off-by: Pradeep A Dalvi <netdev@pradeepdalvi.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | brocade |  | 3 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337739770 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial  Pull trivial updates from Jiri Kosina:  "As usual, it's mostly typo fixes, redundant code elimination and some   documentation updates."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial: (57 commits)   edac, mips: don't change code that has been removed in edac/mips tree   xtensa: Change mail addresses of Hannes Weiner and Oskar Schirmer   lib: Change mail address of Oskar Schirmer   net: Change mail address of Oskar Schirmer   arm/m68k: Change mail address of Sebastian Hess   i2c: Change mail address of Oskar Schirmer   net: Fix tcp_build_and_update_options comment in struct tcp_sock   atomic64_32.h: fix parameter naming mismatch   Kconfig: replace "--- help ---" with "---help---"   c2port: fix bogus Kconfig "default no"   edac: Fix spelling errors.   qla1280: Remove redundant NULL check before release_firmware() call   remoteproc: remove redundant NULL check before release_firmware()   qla2xxx: Remove redundant NULL check before release_firmware() call.   aic94xx: Get rid of redundant NULL check before release_firmware() call   tehuti: delete redundant NULL check before release_firmware()   qlogic: get rid of a redundant test for NULL before call to release_firmware()   bna: remove redundant NULL test before release_firmware()   tg3: remove redundant NULL test before release_firmware() call   typhoon: get rid of redundant conditional before all to release_firmware()   ...
d | tehuti |  | 4 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337739770 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial  Pull trivial updates from Jiri Kosina:  "As usual, it's mostly typo fixes, redundant code elimination and some   documentation updates."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/trivial: (57 commits)   edac, mips: don't change code that has been removed in edac/mips tree   xtensa: Change mail addresses of Hannes Weiner and Oskar Schirmer   lib: Change mail address of Oskar Schirmer   net: Change mail address of Oskar Schirmer   arm/m68k: Change mail address of Sebastian Hess   i2c: Change mail address of Oskar Schirmer   net: Fix tcp_build_and_update_options comment in struct tcp_sock   atomic64_32.h: fix parameter naming mismatch   Kconfig: replace "--- help ---" with "---help---"   c2port: fix bogus Kconfig "default no"   edac: Fix spelling errors.   qla1280: Remove redundant NULL check before release_firmware() call   remoteproc: remove redundant NULL check before release_firmware()   qla2xxx: Remove redundant NULL check before release_firmware() call.   aic94xx: Get rid of redundant NULL check before release_firmware() call   tehuti: delete redundant NULL check before release_firmware()   qlogic: get rid of a redundant test for NULL before call to release_firmware()   bna: remove redundant NULL test before release_firmware()   tg3: remove redundant NULL test before release_firmware() call   typhoon: get rid of redundant conditional before all to release_firmware()   ...
f | Kconfig | g | 5.4K |  | Mike Sinkovsky | msink@permonline.ru | 1333604582 |  | Ethernet driver for the WIZnet W5300 chip  Based on original driver from chip manufacturer, but nearly full rewite. Tested and used in production with Blackfin BF531 embedded processor.  Signed-off-by: Mike Sinkovsky <msink@permonline.ru> Signed-off-by: David S. Miller <davem@davemloft.net>
f | dnet.c | s | 25K | 801 | Richard Cochran | richardcochran@gmail.com | 1333531726 |  | dnet: Support the get_ts_info ethtool method.  Signed-off-by: Richard Cochran <richardcochran@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | emulex |  | 3 items |  | Vasundhara Volam | vasundhara.volam@emulex.com | 1339975131 |  | be2net: Increase statistics structure size for skyhawk.  Increasing the hardware statistics structure to accomodate statistics for skyhawk.  Signed-off-by: Vasundhara Volam <vasundhara.volam@emulex.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | dlink |  | 9 items |  | David S. Miller | davem@davemloft.net | 1336448140 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net  Conflicts: 	drivers/net/ethernet/intel/e1000e/param.c 	drivers/net/wireless/iwlwifi/iwl-agn-rx.c 	drivers/net/wireless/iwlwifi/iwl-trans-pcie-rx.c 	drivers/net/wireless/iwlwifi/iwl-trans.h  Resolved the iwlwifi conflict with mainline using 3-way diff posted by John Linville and Stephen Rothwell.  In 'net' we added a bug fix to make iwlwifi report a more accurate skb->truesize but this conflicted with RX path changes that happened meanwhile in net-next.  In e1000e a conflict arose in the validation code for settings of adapter->itr.  'net-next' had more sophisticated logic so that logic was used.  Signed-off-by: David S. Miller <davem@davemloft.net>
d | packetengines |  | 4 items |  | Francois Romieu | romieu@fr.zoreil.com | 1333791926 |  | yellowfin: stop using net_device.{base_addr, irq}.  Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
f | mipsnet.c | s | 8.2K | 282 | Danny Kukawka | danny.kukawka@bisect.de | 1329338056 |  | net: replace random_ether_addr() with eth_hw_addr_random()  Replace usage of random_ether_addr() with eth_hw_addr_random() to set addr_assign_type correctly to NET_ADDR_RANDOM.  Change the trivial cases.  v2: adapt to renamed eth_hw_addr_random()  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de> Signed-off-by: David S. Miller <davem@davemloft.net>
d | fujitsu |  | 5 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1337287061 |  | drivers/net: delete all code/drivers depending on CONFIG_MCA  The support for CONFIG_MCA is being removed, since the 20 year old hardware simply isn't capable of meeting today's software demands on CPU and memory resources.  This commit removes any MCA specific net drivers, and removes any MCA specific probe/support code from drivers that were doing a dual ISA/MCA role.  Cc: "David S. Miller" <davem@davemloft.net> Cc: James Bottomley <James.Bottomley@HansenPartnership.com> Cc: netdev@vger.kernel.org Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | cisco |  | 3 items |  | Joe Perches | joe@perches.com | 1336707181 |  | drivers/net: Convert compare_ether_addr to ether_addr_equal  Use the new bool function ether_addr_equal to add some clarity and reduce the likelihood for misuse of compare_ether_addr for sorting.  Done via cocci script:  $ cat compare_ether_addr.cocci @@ expression a,b; @@ -	!compare_ether_addr(a, b) +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	compare_ether_addr(a, b) +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) == 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) != 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) == 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) != 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!!ether_addr_equal(a, b) +	ether_addr_equal(a, b)  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | pasemi |  | 5 items |  | Stephen Rothwell | sfr@canb.auug.org.au | 1336006368 |  | net/pasemi: fix compiler warning  Fix this compiler warning (on PowerPC) by not marking a parameter as const:  drivers/net/ethernet/pasemi/pasemi_mac.c: In function 'pasemi_mac_replenish_rx_ring': drivers/net/ethernet/pasemi/pasemi_mac.c:646:3: warning: passing argument 1 of 'netdev_alloc_skb' discards qualifiers from pointer target type include/linux/skbuff.h:1706:31: note: expected 'struct net_device *' but argument is of type 'const struct net_device *'  Cc: Olof Johansson <olof@lixom.net> Cc: Pradeep A. Dalvi <netdev@pradeepdalvi.com> Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au> Signed-off-by: David S. Miller <davem@davemloft.net>
f | jme.h | s | 30K | 1127 | Guo-Fu Tseng | cooldavid@cooldavid.org | 1329939881 |  | jme: Fix FIFO flush issue  Set the RX FIFO flush watermark lower. According to Federico and JMicron's reply, setting it to 16QW would be stable on most platforms. Otherwise, user might experience packet drop issue.  CC: stable@kernel.org Reported-by: Federico Quagliata <federico@quagliata.org> Fixed-by: Federico Quagliata <federico@quagliata.org> Signed-off-by: Guo-Fu Tseng <cooldavid@cooldavid.org> Signed-off-by: David S. Miller <davem@davemloft.net>
d | smsc |  | 14 items |  | Lee Jones | lee.jones@linaro.org | 1338414736 |  | net/smsc911x: Repair broken failure paths  Current failure paths attempt to free resources which we failed to request and disable resources which we failed to enable ones. This leads to kernel oops/panic. This patch does some simple re-ordering to prevent this from happening.  Cc: netdev@vger.kernel.org Signed-off-by: Lee Jones <lee.jones@linaro.org> Acked-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: David S. Miller <davem@davemloft.net>
d | wiznet |  | 4 items |  | Mike Sinkovsky | msink@permonline.ru | 1334338452 |  | net: WIZnet drivers: fix possible NULL dereference  This fixes possible null dereference in probe() function: when both .mac_addr and .link_gpio are unknown, dev.platform_data may be NULL  Reported-by: Dan Carpenter <dan.carpenter@oracle.com> Signed-off-by: Mike Sinkovsky <msink@permonline.ru> Signed-off-by: David S. Miller <davem@davemloft.net>
d | sis |  | 5 items |  | Francois Romieu | romieu@fr.zoreil.com | 1333792038 |  | sis900: stop using net_device.{base_addr, irq} and convert to __iomem.  - pci_resource_start() can be removed from sis900_get_mac_addr() because   the IO range is maped and stored into the device private struct early   in the device probe function. - the driver contains a few direct accesses to low IO ports that forbid   to re(#)define the usual out{l, w, b} macros.  Signed-off-by: Francois Romieu <romieu@fr.zoreil.com> Cc: Daniele Venzano <venza@brownhat.org>
d | hp |  | 4 items |  | Pradeep A Dalvi | netdev@pradeepdalvi.com | 1328547147 |  | netdev: ethernet dev_alloc_skb to netdev_alloc_skb  Replaced deprecating dev_alloc_skb with netdev_alloc_skb in drivers/net/ethernet   - Removed extra skb->dev = dev after netdev_alloc_skb  Signed-off-by: Pradeep A Dalvi <netdev@pradeepdalvi.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | microchip |  | 4 items |  | Danny Kukawka | danny.kukawka@bisect.de | 1329338057 |  | net: use eth_hw_addr_random() and reset addr_assign_type  Use eth_hw_addr_random() instead of calling random_ether_addr() to set addr_assign_type correctly to NET_ADDR_RANDOM.  Reset the state to NET_ADDR_PERM as soon as the MAC get changed via .ndo_set_mac_address.  v2: adapt to renamed eth_hw_addr_random()  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de> Signed-off-by: David S. Miller <davem@davemloft.net>
d | dec |  | 5 items |  | Joe Perches | joe@perches.com | 1336707181 |  | drivers/net: Convert compare_ether_addr to ether_addr_equal  Use the new bool function ether_addr_equal to add some clarity and reduce the likelihood for misuse of compare_ether_addr for sorting.  Done via cocci script:  $ cat compare_ether_addr.cocci @@ expression a,b; @@ -	!compare_ether_addr(a, b) +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	compare_ether_addr(a, b) +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) == 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!ether_addr_equal(a, b) != 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) == 0 +	!ether_addr_equal(a, b)  @@ expression a,b; @@ -	ether_addr_equal(a, b) != 0 +	ether_addr_equal(a, b)  @@ expression a,b; @@ -	!!ether_addr_equal(a, b) +	ether_addr_equal(a, b)  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: David S. Miller <davem@davemloft.net>
d | icplus |  | 4 items |  | Pradeep A Dalvi | netdev@pradeepdalvi.com | 1328547147 |  | netdev: ethernet dev_alloc_skb to netdev_alloc_skb  Replaced deprecating dev_alloc_skb with netdev_alloc_skb in drivers/net/ethernet   - Removed extra skb->dev = dev after netdev_alloc_skb  Signed-off-by: Pradeep A Dalvi <netdev@pradeepdalvi.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | ethoc.c | s | 28K | 996 | Danny Kukawka | danny.kukawka@bisect.de | 1329512286 |  | ethoc: set addr_assign_type if random_ether_addr() used  Set addr_assign_type correctly to NET_ADDR_RANDOM in case a random MAC address was generated and assigned to the netdevice.  Fixed ethoc_set_mac_address() to check if the given mac address is valid and set also dev_addr of the net_device. Check also the return value of ethoc_set_mac_address() in ethoc_probe().  Reset the state to NET_ADDR_PERM as soon as the MAC get changed via .ndo_set_mac_address.  v2: set net_device->dev_addr in ethoc_set_mac_address(),     check if given address is valid  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de>
d | sfc |  | 39 items |  | David S. Miller | davem@davemloft.net | 1337221057 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net
d | nuvoton |  | 3 items |  | Pradeep A. Dalvi | netdev@pradeepdalvi.com | 1328744798 |  | netdev: ethernet dev_alloc_skb to netdev_alloc_skb  Replaced deprecating dev_alloc_skb with netdev_alloc_skb in drivers/net/ethernet   - Removed extra skb->dev = dev after netdev_alloc_skb  Signed-off-by: Pradeep A Dalvi <netdev@pradeepdalvi.com> Signed-off-by: David S. Miller <davem@davemloft.net>
