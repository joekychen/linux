<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › net › ethernet › renesas › sh_eth.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>sh_eth.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  SuperH Ethernet device driver</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (C) 2006-2012 Nobuhiro Iwamatsu</span>
<span class="cm"> *  Copyright (C) 2008-2012 Renesas Solutions Corp.</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> *  under the terms and conditions of the GNU General Public License,</span>
<span class="cm"> *  version 2, as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is distributed in the hope it will be useful, but WITHOUT</span>
<span class="cm"> *  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm"> *  FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span>
<span class="cm"> *  more details.</span>
<span class="cm"> *  You should have received a copy of the GNU General Public License along with</span>
<span class="cm"> *  this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> *  51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.</span>
<span class="cm"> *</span>
<span class="cm"> *  The full GNU General Public License is included in this distribution in</span>
<span class="cm"> *  the file called &quot;COPYING&quot;.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __SH_ETH_H__</span>
<span class="cp">#define __SH_ETH_H__</span>

<span class="cp">#define CARDNAME	&quot;sh-eth&quot;</span>
<span class="cp">#define TX_TIMEOUT	(5*HZ)</span>
<span class="cp">#define TX_RING_SIZE	64	</span><span class="cm">/* Tx ring size */</span><span class="cp"></span>
<span class="cp">#define RX_RING_SIZE	64	</span><span class="cm">/* Rx ring size */</span><span class="cp"></span>
<span class="cp">#define ETHERSMALL		60</span>
<span class="cp">#define PKT_BUF_SZ		1538</span>
<span class="cp">#define SH_ETH_TSU_TIMEOUT_MS	500</span>
<span class="cp">#define SH_ETH_TSU_CAM_ENTRIES	32</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="cm">/* E-DMAC registers */</span>
	<span class="n">EDSR</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">EDMR</span><span class="p">,</span>
	<span class="n">EDTRR</span><span class="p">,</span>
	<span class="n">EDRRR</span><span class="p">,</span>
	<span class="n">EESR</span><span class="p">,</span>
	<span class="n">EESIPR</span><span class="p">,</span>
	<span class="n">TDLAR</span><span class="p">,</span>
	<span class="n">TDFAR</span><span class="p">,</span>
	<span class="n">TDFXR</span><span class="p">,</span>
	<span class="n">TDFFR</span><span class="p">,</span>
	<span class="n">RDLAR</span><span class="p">,</span>
	<span class="n">RDFAR</span><span class="p">,</span>
	<span class="n">RDFXR</span><span class="p">,</span>
	<span class="n">RDFFR</span><span class="p">,</span>
	<span class="n">TRSCER</span><span class="p">,</span>
	<span class="n">RMFCR</span><span class="p">,</span>
	<span class="n">TFTR</span><span class="p">,</span>
	<span class="n">FDR</span><span class="p">,</span>
	<span class="n">RMCR</span><span class="p">,</span>
	<span class="n">EDOCR</span><span class="p">,</span>
	<span class="n">TFUCR</span><span class="p">,</span>
	<span class="n">RFOCR</span><span class="p">,</span>
	<span class="n">FCFTR</span><span class="p">,</span>
	<span class="n">RPADIR</span><span class="p">,</span>
	<span class="n">TRIMD</span><span class="p">,</span>
	<span class="n">RBWAR</span><span class="p">,</span>
	<span class="n">TBRAR</span><span class="p">,</span>

	<span class="cm">/* Ether registers */</span>
	<span class="n">ECMR</span><span class="p">,</span>
	<span class="n">ECSR</span><span class="p">,</span>
	<span class="n">ECSIPR</span><span class="p">,</span>
	<span class="n">PIR</span><span class="p">,</span>
	<span class="n">PSR</span><span class="p">,</span>
	<span class="n">RDMLR</span><span class="p">,</span>
	<span class="n">PIPR</span><span class="p">,</span>
	<span class="n">RFLR</span><span class="p">,</span>
	<span class="n">IPGR</span><span class="p">,</span>
	<span class="n">APR</span><span class="p">,</span>
	<span class="n">MPR</span><span class="p">,</span>
	<span class="n">PFTCR</span><span class="p">,</span>
	<span class="n">PFRCR</span><span class="p">,</span>
	<span class="n">RFCR</span><span class="p">,</span>
	<span class="n">RFCF</span><span class="p">,</span>
	<span class="n">TPAUSER</span><span class="p">,</span>
	<span class="n">TPAUSECR</span><span class="p">,</span>
	<span class="n">BCFR</span><span class="p">,</span>
	<span class="n">BCFRR</span><span class="p">,</span>
	<span class="n">GECMR</span><span class="p">,</span>
	<span class="n">BCULR</span><span class="p">,</span>
	<span class="n">MAHR</span><span class="p">,</span>
	<span class="n">MALR</span><span class="p">,</span>
	<span class="n">TROCR</span><span class="p">,</span>
	<span class="n">CDCR</span><span class="p">,</span>
	<span class="n">LCCR</span><span class="p">,</span>
	<span class="n">CNDCR</span><span class="p">,</span>
	<span class="n">CEFCR</span><span class="p">,</span>
	<span class="n">FRECR</span><span class="p">,</span>
	<span class="n">TSFRCR</span><span class="p">,</span>
	<span class="n">TLFRCR</span><span class="p">,</span>
	<span class="n">CERCR</span><span class="p">,</span>
	<span class="n">CEECR</span><span class="p">,</span>
	<span class="n">MAFCR</span><span class="p">,</span>
	<span class="n">RTRATE</span><span class="p">,</span>
	<span class="n">CSMR</span><span class="p">,</span>
	<span class="n">RMII_MII</span><span class="p">,</span>

	<span class="cm">/* TSU Absolute address */</span>
	<span class="n">ARSTR</span><span class="p">,</span>
	<span class="n">TSU_CTRST</span><span class="p">,</span>
	<span class="n">TSU_FWEN0</span><span class="p">,</span>
	<span class="n">TSU_FWEN1</span><span class="p">,</span>
	<span class="n">TSU_FCM</span><span class="p">,</span>
	<span class="n">TSU_BSYSL0</span><span class="p">,</span>
	<span class="n">TSU_BSYSL1</span><span class="p">,</span>
	<span class="n">TSU_PRISL0</span><span class="p">,</span>
	<span class="n">TSU_PRISL1</span><span class="p">,</span>
	<span class="n">TSU_FWSL0</span><span class="p">,</span>
	<span class="n">TSU_FWSL1</span><span class="p">,</span>
	<span class="n">TSU_FWSLC</span><span class="p">,</span>
	<span class="n">TSU_QTAG0</span><span class="p">,</span>
	<span class="n">TSU_QTAG1</span><span class="p">,</span>
	<span class="n">TSU_QTAGM0</span><span class="p">,</span>
	<span class="n">TSU_QTAGM1</span><span class="p">,</span>
	<span class="n">TSU_FWSR</span><span class="p">,</span>
	<span class="n">TSU_FWINMK</span><span class="p">,</span>
	<span class="n">TSU_ADQT0</span><span class="p">,</span>
	<span class="n">TSU_ADQT1</span><span class="p">,</span>
	<span class="n">TSU_VTAG0</span><span class="p">,</span>
	<span class="n">TSU_VTAG1</span><span class="p">,</span>
	<span class="n">TSU_ADSBSY</span><span class="p">,</span>
	<span class="n">TSU_TEN</span><span class="p">,</span>
	<span class="n">TSU_POST1</span><span class="p">,</span>
	<span class="n">TSU_POST2</span><span class="p">,</span>
	<span class="n">TSU_POST3</span><span class="p">,</span>
	<span class="n">TSU_POST4</span><span class="p">,</span>
	<span class="n">TSU_ADRH0</span><span class="p">,</span>
	<span class="n">TSU_ADRL0</span><span class="p">,</span>
	<span class="n">TSU_ADRH31</span><span class="p">,</span>
	<span class="n">TSU_ADRL31</span><span class="p">,</span>

	<span class="n">TXNLCR0</span><span class="p">,</span>
	<span class="n">TXALCR0</span><span class="p">,</span>
	<span class="n">RXNLCR0</span><span class="p">,</span>
	<span class="n">RXALCR0</span><span class="p">,</span>
	<span class="n">FWNLCR0</span><span class="p">,</span>
	<span class="n">FWALCR0</span><span class="p">,</span>
	<span class="n">TXNLCR1</span><span class="p">,</span>
	<span class="n">TXALCR1</span><span class="p">,</span>
	<span class="n">RXNLCR1</span><span class="p">,</span>
	<span class="n">RXALCR1</span><span class="p">,</span>
	<span class="n">FWNLCR1</span><span class="p">,</span>
	<span class="n">FWALCR1</span><span class="p">,</span>

	<span class="cm">/* This value must be written at last. */</span>
	<span class="n">SH_ETH_MAX_REGISTER_OFFSET</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="n">u16</span> <span class="n">sh_eth_offset_gigabit</span><span class="p">[</span><span class="n">SH_ETH_MAX_REGISTER_OFFSET</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="n">EDSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EDMR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EDTRR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0408</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EDRRR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0410</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EESR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0428</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EESIPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0430</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TDLAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TDFAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TDFXR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0018</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TDFFR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x001c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RDLAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0030</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RDFAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0034</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RDFXR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0038</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RDFFR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x003c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TRSCER</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0438</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RMFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0440</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TFTR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0448</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FDR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0450</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RMCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0458</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RPADIR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0460</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FCFTR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0468</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CSMR</span><span class="p">]</span> <span class="o">=</span> <span class="mh">0x04E4</span><span class="p">,</span>

	<span class="p">[</span><span class="n">ECMR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0500</span><span class="p">,</span>
	<span class="p">[</span><span class="n">ECSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0510</span><span class="p">,</span>
	<span class="p">[</span><span class="n">ECSIPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0518</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PIR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0520</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0528</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PIPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x052c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFLR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0508</span><span class="p">,</span>
	<span class="p">[</span><span class="n">APR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0554</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0558</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PFTCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x055c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PFRCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0560</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TPAUSER</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0564</span><span class="p">,</span>
	<span class="p">[</span><span class="n">GECMR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x05b0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">BCULR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x05b4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MAHR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x05c0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MALR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x05c8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TROCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0700</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CDCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0708</span><span class="p">,</span>
	<span class="p">[</span><span class="n">LCCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0710</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CEFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0740</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FRECR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0748</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSFRCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0750</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TLFRCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0758</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0760</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CERCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0768</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CEECR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0770</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MAFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0778</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RMII_MII</span><span class="p">]</span> <span class="o">=</span>  <span class="mh">0x0790</span><span class="p">,</span>

	<span class="p">[</span><span class="n">ARSTR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_CTRST</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWEN0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWEN1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FCM</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0018</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_BSYSL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_BSYSL1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0024</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_PRISL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0028</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_PRISL1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x002c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0030</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSL1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0034</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSLC</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0038</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_QTAG0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_QTAG1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0044</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0050</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWINMK</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0054</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADQT0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0048</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADQT1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x004c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_VTAG0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0058</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_VTAG1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x005c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADSBSY</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0060</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_TEN</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0064</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0070</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST2</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0074</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST3</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0078</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST4</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x007c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADRH0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADRL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0104</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADRH31</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01f8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADRL31</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01fc</span><span class="p">,</span>

	<span class="p">[</span><span class="n">TXNLCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TXALCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0084</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXNLCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0088</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXALCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x008c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWNLCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0090</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWALCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0094</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TXNLCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00a0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TXALCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00a0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXNLCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00a8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXALCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00ac</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWNLCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00b0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWALCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00b4</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="n">u16</span> <span class="n">sh_eth_offset_fast_sh4</span><span class="p">[</span><span class="n">SH_ETH_MAX_REGISTER_OFFSET</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="n">ECMR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFLR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0108</span><span class="p">,</span>
	<span class="p">[</span><span class="n">ECSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0110</span><span class="p">,</span>
	<span class="p">[</span><span class="n">ECSIPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0118</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PIR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0120</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0128</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RDMLR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0140</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IPGR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0150</span><span class="p">,</span>
	<span class="p">[</span><span class="n">APR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0154</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0158</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TPAUSER</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0164</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFCF</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0160</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TPAUSECR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0168</span><span class="p">,</span>
	<span class="p">[</span><span class="n">BCFRR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x016c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MAHR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01c0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MALR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01c8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TROCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01d0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CDCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01d4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">LCCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01d8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CNDCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01dc</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CEFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01e4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FRECR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01e8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSFRCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01ec</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TLFRCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01f0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01f4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MAFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01f8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RTRATE</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01fc</span><span class="p">,</span>

	<span class="p">[</span><span class="n">EDMR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EDTRR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EDRRR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TDLAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0018</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RDLAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EESR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0028</span><span class="p">,</span>
	<span class="p">[</span><span class="n">EESIPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0030</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TRSCER</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0038</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RMFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TFTR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0048</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FDR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0050</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RMCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0058</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TFUCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0064</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFOCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0068</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FCFTR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0070</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RPADIR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0078</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TRIMD</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x007c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RBWAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00c8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RDFAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00cc</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TBRAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00d4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TDFAR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00d8</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="n">u16</span> <span class="n">sh_eth_offset_fast_sh3_sh2</span><span class="p">[</span><span class="n">SH_ETH_MAX_REGISTER_OFFSET</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="n">ECMR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0160</span><span class="p">,</span>
	<span class="p">[</span><span class="n">ECSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0164</span><span class="p">,</span>
	<span class="p">[</span><span class="n">ECSIPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0168</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PIR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x016c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MAHR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0170</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MALR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0174</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFLR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0178</span><span class="p">,</span>
	<span class="p">[</span><span class="n">PSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x017c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TROCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0180</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CDCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0184</span><span class="p">,</span>
	<span class="p">[</span><span class="n">LCCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0188</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CNDCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x018c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">CEFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0194</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FRECR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0198</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSFRCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x019c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TLFRCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01a0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01a4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MAFCR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01a8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IPGR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01b4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">APR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01b8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">MPR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01bc</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TPAUSER</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01c4</span><span class="p">,</span>
	<span class="p">[</span><span class="n">BCFR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01cc</span><span class="p">,</span>

	<span class="p">[</span><span class="n">ARSTR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_CTRST</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWEN0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWEN1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FCM</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0018</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_BSYSL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_BSYSL1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0024</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_PRISL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0028</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_PRISL1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x002c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0030</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSL1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0034</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSLC</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0038</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_QTAGM0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_QTAGM1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0044</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADQT0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0048</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADQT1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x004c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWSR</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0050</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_FWINMK</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0054</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADSBSY</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0060</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_TEN</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0064</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0070</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST2</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0074</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST3</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0078</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_POST4</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x007c</span><span class="p">,</span>

	<span class="p">[</span><span class="n">TXNLCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TXALCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0084</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXNLCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0088</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXALCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x008c</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWNLCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0090</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWALCR0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0094</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TXNLCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00a0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TXALCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00a0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXNLCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00a8</span><span class="p">,</span>
	<span class="p">[</span><span class="n">RXALCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00ac</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWNLCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00b0</span><span class="p">,</span>
	<span class="p">[</span><span class="n">FWALCR1</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x00b4</span><span class="p">,</span>

	<span class="p">[</span><span class="n">TSU_ADRH0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADRL0</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x0104</span><span class="p">,</span>
	<span class="p">[</span><span class="n">TSU_ADRL31</span><span class="p">]</span>	<span class="o">=</span> <span class="mh">0x01fc</span><span class="p">,</span>

<span class="p">};</span>

<span class="cm">/* Driver&#39;s parameters */</span>
<span class="cp">#if defined(CONFIG_CPU_SH4) || defined(CONFIG_ARCH_SHMOBILE)</span>
<span class="cp">#define SH4_SKB_RX_ALIGN	32</span>
<span class="cp">#else</span>
<span class="cp">#define SH2_SH3_SKB_RX_ALIGN	2</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * Register&#39;s bits</span>
<span class="cm"> */</span>
<span class="cp">#if defined(CONFIG_CPU_SUBTYPE_SH7734) || defined(CONFIG_CPU_SUBTYPE_SH7763) ||\</span>
<span class="cp">    defined(CONFIG_ARCH_R8A7740)</span>
<span class="cm">/* EDSR */</span>
<span class="k">enum</span> <span class="n">EDSR_BIT</span> <span class="p">{</span>
	<span class="n">EDSR_ENT</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="n">EDSR_ENR</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#define EDSR_ENALL (EDSR_ENT|EDSR_ENR)</span>

<span class="cm">/* GECMR */</span>
<span class="k">enum</span> <span class="n">GECMR_BIT</span> <span class="p">{</span>
	<span class="n">GECMR_10</span> <span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span> <span class="n">GECMR_100</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="n">GECMR_1000</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#endif</span>

<span class="cm">/* EDMR */</span>
<span class="k">enum</span> <span class="n">DMAC_M_BIT</span> <span class="p">{</span>
	<span class="n">EDMR_EL</span> <span class="o">=</span> <span class="mh">0x40</span><span class="p">,</span> <span class="cm">/* Litte endian */</span>
	<span class="n">EDMR_DL1</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="n">EDMR_DL0</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">EDMR_SRST_GETHER</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">EDMR_SRST_ETHER</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* EDTRR */</span>
<span class="k">enum</span> <span class="n">DMAC_T_BIT</span> <span class="p">{</span>
	<span class="n">EDTRR_TRNS_GETHER</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">EDTRR_TRNS_ETHER</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* EDRRR*/</span>
<span class="k">enum</span> <span class="n">EDRRR_R_BIT</span> <span class="p">{</span>
	<span class="n">EDRRR_R</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* TPAUSER */</span>
<span class="k">enum</span> <span class="n">TPAUSER_BIT</span> <span class="p">{</span>
	<span class="n">TPAUSER_TPAUSE</span> <span class="o">=</span> <span class="mh">0x0000ffff</span><span class="p">,</span>
	<span class="n">TPAUSER_UNLIMITED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* BCFR */</span>
<span class="k">enum</span> <span class="n">BCFR_BIT</span> <span class="p">{</span>
	<span class="n">BCFR_RPAUSE</span> <span class="o">=</span> <span class="mh">0x0000ffff</span><span class="p">,</span>
	<span class="n">BCFR_UNLIMITED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* PIR */</span>
<span class="k">enum</span> <span class="n">PIR_BIT</span> <span class="p">{</span>
	<span class="n">PIR_MDI</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span> <span class="n">PIR_MDO</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="n">PIR_MMD</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span> <span class="n">PIR_MDC</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* PSR */</span>
<span class="k">enum</span> <span class="n">PHY_STATUS_BIT</span> <span class="p">{</span> <span class="n">PHY_ST_LINK</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span> <span class="p">};</span>

<span class="cm">/* EESR */</span>
<span class="k">enum</span> <span class="n">EESR_BIT</span> <span class="p">{</span>
	<span class="n">EESR_TWB1</span>	<span class="o">=</span> <span class="mh">0x80000000</span><span class="p">,</span>
	<span class="n">EESR_TWB</span>	<span class="o">=</span> <span class="mh">0x40000000</span><span class="p">,</span>	<span class="cm">/* same as TWB0 */</span>
	<span class="n">EESR_TC1</span>	<span class="o">=</span> <span class="mh">0x20000000</span><span class="p">,</span>
	<span class="n">EESR_TUC</span>	<span class="o">=</span> <span class="mh">0x10000000</span><span class="p">,</span>
	<span class="n">EESR_ROC</span>	<span class="o">=</span> <span class="mh">0x08000000</span><span class="p">,</span>
	<span class="n">EESR_TABT</span>	<span class="o">=</span> <span class="mh">0x04000000</span><span class="p">,</span>
	<span class="n">EESR_RABT</span>	<span class="o">=</span> <span class="mh">0x02000000</span><span class="p">,</span>
	<span class="n">EESR_RFRMER</span>	<span class="o">=</span> <span class="mh">0x01000000</span><span class="p">,</span>	<span class="cm">/* same as RFCOF */</span>
	<span class="n">EESR_ADE</span>	<span class="o">=</span> <span class="mh">0x00800000</span><span class="p">,</span>
	<span class="n">EESR_ECI</span>	<span class="o">=</span> <span class="mh">0x00400000</span><span class="p">,</span>
	<span class="n">EESR_FTC</span>	<span class="o">=</span> <span class="mh">0x00200000</span><span class="p">,</span>	<span class="cm">/* same as TC or TC0 */</span>
	<span class="n">EESR_TDE</span>	<span class="o">=</span> <span class="mh">0x00100000</span><span class="p">,</span>
	<span class="n">EESR_TFE</span>	<span class="o">=</span> <span class="mh">0x00080000</span><span class="p">,</span>	<span class="cm">/* same as TFUF */</span>
	<span class="n">EESR_FRC</span>	<span class="o">=</span> <span class="mh">0x00040000</span><span class="p">,</span>	<span class="cm">/* same as FR */</span>
	<span class="n">EESR_RDE</span>	<span class="o">=</span> <span class="mh">0x00020000</span><span class="p">,</span>
	<span class="n">EESR_RFE</span>	<span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span>
	<span class="n">EESR_CND</span>	<span class="o">=</span> <span class="mh">0x00000800</span><span class="p">,</span>
	<span class="n">EESR_DLC</span>	<span class="o">=</span> <span class="mh">0x00000400</span><span class="p">,</span>
	<span class="n">EESR_CD</span>		<span class="o">=</span> <span class="mh">0x00000200</span><span class="p">,</span>
	<span class="n">EESR_RTO</span>	<span class="o">=</span> <span class="mh">0x00000100</span><span class="p">,</span>
	<span class="n">EESR_RMAF</span>	<span class="o">=</span> <span class="mh">0x00000080</span><span class="p">,</span>
	<span class="n">EESR_CEEF</span>	<span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span>
	<span class="n">EESR_CELF</span>	<span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
	<span class="n">EESR_RRF</span>	<span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span>
	<span class="n">EESR_RTLF</span>	<span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
	<span class="n">EESR_RTSF</span>	<span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
	<span class="n">EESR_PRE</span>	<span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">EESR_CERF</span>	<span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define DEFAULT_TX_CHECK	(EESR_FTC | EESR_CND | EESR_DLC | EESR_CD | \</span>
<span class="cp">				 EESR_RTO)</span>
<span class="cp">#define DEFAULT_EESR_ERR_CHECK	(EESR_TWB | EESR_TABT | EESR_RABT | \</span>
<span class="cp">				 EESR_RDE | EESR_RFRMER | EESR_ADE | \</span>
<span class="cp">				 EESR_TFE | EESR_TDE | EESR_ECI)</span>
<span class="cp">#define DEFAULT_TX_ERROR_CHECK	(EESR_TWB | EESR_TABT | EESR_ADE | EESR_TDE | \</span>
<span class="cp">				 EESR_TFE)</span>

<span class="cm">/* EESIPR */</span>
<span class="k">enum</span> <span class="n">DMAC_IM_BIT</span> <span class="p">{</span>
	<span class="n">DMAC_M_TWB</span> <span class="o">=</span> <span class="mh">0x40000000</span><span class="p">,</span> <span class="n">DMAC_M_TABT</span> <span class="o">=</span> <span class="mh">0x04000000</span><span class="p">,</span>
	<span class="n">DMAC_M_RABT</span> <span class="o">=</span> <span class="mh">0x02000000</span><span class="p">,</span>
	<span class="n">DMAC_M_RFRMER</span> <span class="o">=</span> <span class="mh">0x01000000</span><span class="p">,</span> <span class="n">DMAC_M_ADF</span> <span class="o">=</span> <span class="mh">0x00800000</span><span class="p">,</span>
	<span class="n">DMAC_M_ECI</span> <span class="o">=</span> <span class="mh">0x00400000</span><span class="p">,</span> <span class="n">DMAC_M_FTC</span> <span class="o">=</span> <span class="mh">0x00200000</span><span class="p">,</span>
	<span class="n">DMAC_M_TDE</span> <span class="o">=</span> <span class="mh">0x00100000</span><span class="p">,</span> <span class="n">DMAC_M_TFE</span> <span class="o">=</span> <span class="mh">0x00080000</span><span class="p">,</span>
	<span class="n">DMAC_M_FRC</span> <span class="o">=</span> <span class="mh">0x00040000</span><span class="p">,</span> <span class="n">DMAC_M_RDE</span> <span class="o">=</span> <span class="mh">0x00020000</span><span class="p">,</span>
	<span class="n">DMAC_M_RFE</span> <span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span> <span class="n">DMAC_M_TINT4</span> <span class="o">=</span> <span class="mh">0x00000800</span><span class="p">,</span>
	<span class="n">DMAC_M_TINT3</span> <span class="o">=</span> <span class="mh">0x00000400</span><span class="p">,</span> <span class="n">DMAC_M_TINT2</span> <span class="o">=</span> <span class="mh">0x00000200</span><span class="p">,</span>
	<span class="n">DMAC_M_TINT1</span> <span class="o">=</span> <span class="mh">0x00000100</span><span class="p">,</span> <span class="n">DMAC_M_RINT8</span> <span class="o">=</span> <span class="mh">0x00000080</span><span class="p">,</span>
	<span class="n">DMAC_M_RINT5</span> <span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span> <span class="n">DMAC_M_RINT4</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
	<span class="n">DMAC_M_RINT3</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span> <span class="n">DMAC_M_RINT2</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">DMAC_M_RINT1</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Receive descriptor bit */</span>
<span class="k">enum</span> <span class="n">RD_STS_BIT</span> <span class="p">{</span>
	<span class="n">RD_RACT</span> <span class="o">=</span> <span class="mh">0x80000000</span><span class="p">,</span> <span class="n">RD_RDEL</span> <span class="o">=</span> <span class="mh">0x40000000</span><span class="p">,</span>
	<span class="n">RD_RFP1</span> <span class="o">=</span> <span class="mh">0x20000000</span><span class="p">,</span> <span class="n">RD_RFP0</span> <span class="o">=</span> <span class="mh">0x10000000</span><span class="p">,</span>
	<span class="n">RD_RFE</span> <span class="o">=</span> <span class="mh">0x08000000</span><span class="p">,</span> <span class="n">RD_RFS10</span> <span class="o">=</span> <span class="mh">0x00000200</span><span class="p">,</span>
	<span class="n">RD_RFS9</span> <span class="o">=</span> <span class="mh">0x00000100</span><span class="p">,</span> <span class="n">RD_RFS8</span> <span class="o">=</span> <span class="mh">0x00000080</span><span class="p">,</span>
	<span class="n">RD_RFS7</span> <span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span> <span class="n">RD_RFS6</span> <span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
	<span class="n">RD_RFS5</span> <span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span> <span class="n">RD_RFS4</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span>
	<span class="n">RD_RFS3</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span> <span class="n">RD_RFS2</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span>
	<span class="n">RD_RFS1</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#define RDF1ST	RD_RFP1</span>
<span class="cp">#define RDFEND	RD_RFP0</span>
<span class="cp">#define RD_RFP	(RD_RFP1|RD_RFP0)</span>

<span class="cm">/* FCFTR */</span>
<span class="k">enum</span> <span class="n">FCFTR_BIT</span> <span class="p">{</span>
	<span class="n">FCFTR_RFF2</span> <span class="o">=</span> <span class="mh">0x00040000</span><span class="p">,</span> <span class="n">FCFTR_RFF1</span> <span class="o">=</span> <span class="mh">0x00020000</span><span class="p">,</span>
	<span class="n">FCFTR_RFF0</span> <span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span> <span class="n">FCFTR_RFD2</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
	<span class="n">FCFTR_RFD1</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span> <span class="n">FCFTR_RFD0</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#define DEFAULT_FIFO_F_D_RFF	(FCFTR_RFF2 | FCFTR_RFF1 | FCFTR_RFF0)</span>
<span class="cp">#define DEFAULT_FIFO_F_D_RFD	(FCFTR_RFD2 | FCFTR_RFD1 | FCFTR_RFD0)</span>

<span class="cm">/* Transfer descriptor bit */</span>
<span class="k">enum</span> <span class="n">TD_STS_BIT</span> <span class="p">{</span>
	<span class="n">TD_TACT</span> <span class="o">=</span> <span class="mh">0x80000000</span><span class="p">,</span>
	<span class="n">TD_TDLE</span> <span class="o">=</span> <span class="mh">0x40000000</span><span class="p">,</span> <span class="n">TD_TFP1</span> <span class="o">=</span> <span class="mh">0x20000000</span><span class="p">,</span>
	<span class="n">TD_TFP0</span> <span class="o">=</span> <span class="mh">0x10000000</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#define TDF1ST	TD_TFP1</span>
<span class="cp">#define TDFEND	TD_TFP0</span>
<span class="cp">#define TD_TFP	(TD_TFP1|TD_TFP0)</span>

<span class="cm">/* RMCR */</span>
<span class="cp">#define DEFAULT_RMCR_VALUE	0x00000000</span>

<span class="cm">/* ECMR */</span>
<span class="k">enum</span> <span class="n">FELIC_MODE_BIT</span> <span class="p">{</span>
	<span class="n">ECMR_TRCCM</span> <span class="o">=</span> <span class="mh">0x04000000</span><span class="p">,</span> <span class="n">ECMR_RCSC</span> <span class="o">=</span> <span class="mh">0x00800000</span><span class="p">,</span>
	<span class="n">ECMR_DPAD</span> <span class="o">=</span> <span class="mh">0x00200000</span><span class="p">,</span> <span class="n">ECMR_RZPF</span> <span class="o">=</span> <span class="mh">0x00100000</span><span class="p">,</span>
	<span class="n">ECMR_ZPF</span> <span class="o">=</span> <span class="mh">0x00080000</span><span class="p">,</span> <span class="n">ECMR_PFR</span> <span class="o">=</span> <span class="mh">0x00040000</span><span class="p">,</span> <span class="n">ECMR_RXF</span> <span class="o">=</span> <span class="mh">0x00020000</span><span class="p">,</span>
	<span class="n">ECMR_TXF</span> <span class="o">=</span> <span class="mh">0x00010000</span><span class="p">,</span> <span class="n">ECMR_MCT</span> <span class="o">=</span> <span class="mh">0x00002000</span><span class="p">,</span> <span class="n">ECMR_PRCEF</span> <span class="o">=</span> <span class="mh">0x00001000</span><span class="p">,</span>
	<span class="n">ECMR_PMDE</span> <span class="o">=</span> <span class="mh">0x00000200</span><span class="p">,</span> <span class="n">ECMR_RE</span> <span class="o">=</span> <span class="mh">0x00000040</span><span class="p">,</span> <span class="n">ECMR_TE</span> <span class="o">=</span> <span class="mh">0x00000020</span><span class="p">,</span>
	<span class="n">ECMR_RTM</span> <span class="o">=</span> <span class="mh">0x00000010</span><span class="p">,</span> <span class="n">ECMR_ILB</span> <span class="o">=</span> <span class="mh">0x00000008</span><span class="p">,</span> <span class="n">ECMR_ELB</span> <span class="o">=</span> <span class="mh">0x00000004</span><span class="p">,</span>
	<span class="n">ECMR_DM</span> <span class="o">=</span> <span class="mh">0x00000002</span><span class="p">,</span> <span class="n">ECMR_PRM</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* ECSR */</span>
<span class="k">enum</span> <span class="n">ECSR_STATUS_BIT</span> <span class="p">{</span>
	<span class="n">ECSR_BRCRX</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="n">ECSR_PSRTO</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">ECSR_LCHNG</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">ECSR_MPD</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span> <span class="n">ECSR_ICD</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define DEFAULT_ECSR_INIT	(ECSR_BRCRX | ECSR_PSRTO | ECSR_LCHNG | \</span>
<span class="cp">				 ECSR_ICD | ECSIPR_MPDIP)</span>

<span class="cm">/* ECSIPR */</span>
<span class="k">enum</span> <span class="n">ECSIPR_STATUS_MASK_BIT</span> <span class="p">{</span>
	<span class="n">ECSIPR_BRCRXIP</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span> <span class="n">ECSIPR_PSRTOIP</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">ECSIPR_LCHNGIP</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">ECSIPR_MPDIP</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span> <span class="n">ECSIPR_ICDIP</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define DEFAULT_ECSIPR_INIT	(ECSIPR_BRCRXIP | ECSIPR_PSRTOIP | \</span>
<span class="cp">				 ECSIPR_LCHNGIP | ECSIPR_ICDIP | ECSIPR_MPDIP)</span>

<span class="cm">/* APR */</span>
<span class="k">enum</span> <span class="n">APR_BIT</span> <span class="p">{</span>
	<span class="n">APR_AP</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MPR */</span>
<span class="k">enum</span> <span class="n">MPR_BIT</span> <span class="p">{</span>
	<span class="n">MPR_MP</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* TRSCER */</span>
<span class="k">enum</span> <span class="n">DESC_I_BIT</span> <span class="p">{</span>
	<span class="n">DESC_I_TINT4</span> <span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span> <span class="n">DESC_I_TINT3</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span> <span class="n">DESC_I_TINT2</span> <span class="o">=</span> <span class="mh">0x0200</span><span class="p">,</span>
	<span class="n">DESC_I_TINT1</span> <span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span> <span class="n">DESC_I_RINT8</span> <span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span> <span class="n">DESC_I_RINT5</span> <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">DESC_I_RINT4</span> <span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span> <span class="n">DESC_I_RINT3</span> <span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span> <span class="n">DESC_I_RINT2</span> <span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span>
	<span class="n">DESC_I_RINT1</span> <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* RPADIR */</span>
<span class="k">enum</span> <span class="n">RPADIR_BIT</span> <span class="p">{</span>
	<span class="n">RPADIR_PADS1</span> <span class="o">=</span> <span class="mh">0x20000</span><span class="p">,</span> <span class="n">RPADIR_PADS0</span> <span class="o">=</span> <span class="mh">0x10000</span><span class="p">,</span>
	<span class="n">RPADIR_PADR</span> <span class="o">=</span> <span class="mh">0x0003f</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* FDR */</span>
<span class="cp">#define DEFAULT_FDR_INIT	0x00000707</span>

<span class="k">enum</span> <span class="n">phy_offsets</span> <span class="p">{</span>
	<span class="n">PHY_CTRL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">PHY_STAT</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">PHY_IDT1</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">PHY_IDT2</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">PHY_ANA</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">PHY_ANL</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">PHY_ANE</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">PHY_16</span> <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* PHY_CTRL */</span>
<span class="k">enum</span> <span class="n">PHY_CTRL_BIT</span> <span class="p">{</span>
	<span class="n">PHY_C_RESET</span> <span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span> <span class="n">PHY_C_LOOPBK</span> <span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="n">PHY_C_SPEEDSL</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">PHY_C_ANEGEN</span> <span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span> <span class="n">PHY_C_PWRDN</span> <span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span> <span class="n">PHY_C_ISO</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>
	<span class="n">PHY_C_RANEG</span> <span class="o">=</span> <span class="mh">0x0200</span><span class="p">,</span> <span class="n">PHY_C_DUPLEX</span> <span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span> <span class="n">PHY_C_COLT</span> <span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#define DM9161_PHY_C_ANEGEN 0	</span><span class="cm">/* auto nego special */</span><span class="cp"></span>

<span class="cm">/* PHY_STAT */</span>
<span class="k">enum</span> <span class="n">PHY_STAT_BIT</span> <span class="p">{</span>
	<span class="n">PHY_S_100T4</span> <span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span> <span class="n">PHY_S_100X_F</span> <span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="n">PHY_S_100X_H</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">PHY_S_10T_F</span> <span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span> <span class="n">PHY_S_10T_H</span> <span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span> <span class="n">PHY_S_ANEGC</span> <span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">PHY_S_RFAULT</span> <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span> <span class="n">PHY_S_ANEGA</span> <span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span> <span class="n">PHY_S_LINK</span> <span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="n">PHY_S_JAB</span> <span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span> <span class="n">PHY_S_EXTD</span> <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* PHY_ANA */</span>
<span class="k">enum</span> <span class="n">PHY_ANA_BIT</span> <span class="p">{</span>
	<span class="n">PHY_A_NP</span> <span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span> <span class="n">PHY_A_ACK</span> <span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="n">PHY_A_RF</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">PHY_A_FCS</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span> <span class="n">PHY_A_T4</span> <span class="o">=</span> <span class="mh">0x0200</span><span class="p">,</span> <span class="n">PHY_A_FDX</span> <span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>
	<span class="n">PHY_A_HDX</span> <span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span> <span class="n">PHY_A_10FDX</span> <span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span> <span class="n">PHY_A_10HDX</span> <span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">PHY_A_SEL</span> <span class="o">=</span> <span class="mh">0x001e</span><span class="p">,</span>
<span class="p">};</span>
<span class="cm">/* PHY_ANL */</span>
<span class="k">enum</span> <span class="n">PHY_ANL_BIT</span> <span class="p">{</span>
	<span class="n">PHY_L_NP</span> <span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span> <span class="n">PHY_L_ACK</span> <span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="n">PHY_L_RF</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">PHY_L_FCS</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span> <span class="n">PHY_L_T4</span> <span class="o">=</span> <span class="mh">0x0200</span><span class="p">,</span> <span class="n">PHY_L_FDX</span> <span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>
	<span class="n">PHY_L_HDX</span> <span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span> <span class="n">PHY_L_10FDX</span> <span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span> <span class="n">PHY_L_10HDX</span> <span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">PHY_L_SEL</span> <span class="o">=</span> <span class="mh">0x001f</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* PHY_ANE */</span>
<span class="k">enum</span> <span class="n">PHY_ANE_BIT</span> <span class="p">{</span>
	<span class="n">PHY_E_PDF</span> <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span> <span class="n">PHY_E_LPNPA</span> <span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span> <span class="n">PHY_E_NPA</span> <span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="n">PHY_E_PRX</span> <span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span> <span class="n">PHY_E_LPANEGA</span> <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* DM9161 */</span>
<span class="k">enum</span> <span class="n">PHY_16_BIT</span> <span class="p">{</span>
	<span class="n">PHY_16_BP4B45</span> <span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span> <span class="n">PHY_16_BPSCR</span> <span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="n">PHY_16_BPALIGN</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">PHY_16_BP_ADPOK</span> <span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span> <span class="n">PHY_16_Repeatmode</span> <span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span>
	<span class="n">PHY_16_TXselect</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>
	<span class="n">PHY_16_Rsvd</span> <span class="o">=</span> <span class="mh">0x0200</span><span class="p">,</span> <span class="n">PHY_16_RMIIEnable</span> <span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>
	<span class="n">PHY_16_Force100LNK</span> <span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span>
	<span class="n">PHY_16_APDLED_CTL</span> <span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span> <span class="n">PHY_16_COLLED_CTL</span> <span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span>
	<span class="n">PHY_16_RPDCTR_EN</span> <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">PHY_16_ResetStMch</span> <span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span> <span class="n">PHY_16_PreamSupr</span> <span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="n">PHY_16_Sleepmode</span> <span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span>
	<span class="n">PHY_16_RemoteLoopOut</span> <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define POST_RX		0x08</span>
<span class="cp">#define POST_FW		0x04</span>
<span class="cp">#define POST0_RX	(POST_RX)</span>
<span class="cp">#define POST0_FW	(POST_FW)</span>
<span class="cp">#define POST1_RX	(POST_RX &gt;&gt; 2)</span>
<span class="cp">#define POST1_FW	(POST_FW &gt;&gt; 2)</span>
<span class="cp">#define POST_ALL	(POST0_RX | POST0_FW | POST1_RX | POST1_FW)</span>

<span class="cm">/* ARSTR */</span>
<span class="k">enum</span> <span class="n">ARSTR_BIT</span> <span class="p">{</span> <span class="n">ARSTR_ARSTR</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span> <span class="p">};</span>

<span class="cm">/* TSU_FWEN0 */</span>
<span class="k">enum</span> <span class="n">TSU_FWEN0_BIT</span> <span class="p">{</span>
	<span class="n">TSU_FWEN0_0</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* TSU_ADSBSY */</span>
<span class="k">enum</span> <span class="n">TSU_ADSBSY_BIT</span> <span class="p">{</span>
	<span class="n">TSU_ADSBSY_0</span> <span class="o">=</span> <span class="mh">0x00000001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* TSU_TEN */</span>
<span class="k">enum</span> <span class="n">TSU_TEN_BIT</span> <span class="p">{</span>
	<span class="n">TSU_TEN_0</span> <span class="o">=</span> <span class="mh">0x80000000</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* TSU_FWSL0 */</span>
<span class="k">enum</span> <span class="n">TSU_FWSL0_BIT</span> <span class="p">{</span>
	<span class="n">TSU_FWSL0_FW50</span> <span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span> <span class="n">TSU_FWSL0_FW40</span> <span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span>
	<span class="n">TSU_FWSL0_FW30</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span> <span class="n">TSU_FWSL0_FW20</span> <span class="o">=</span> <span class="mh">0x0200</span><span class="p">,</span>
	<span class="n">TSU_FWSL0_FW10</span> <span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span> <span class="n">TSU_FWSL0_RMSA0</span> <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* TSU_FWSLC */</span>
<span class="k">enum</span> <span class="n">TSU_FWSLC_BIT</span> <span class="p">{</span>
	<span class="n">TSU_FWSLC_POSTENU</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span> <span class="n">TSU_FWSLC_POSTENL</span> <span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span>
	<span class="n">TSU_FWSLC_CAMSEL03</span> <span class="o">=</span> <span class="mh">0x0080</span><span class="p">,</span> <span class="n">TSU_FWSLC_CAMSEL02</span> <span class="o">=</span> <span class="mh">0x0040</span><span class="p">,</span>
	<span class="n">TSU_FWSLC_CAMSEL01</span> <span class="o">=</span> <span class="mh">0x0020</span><span class="p">,</span> <span class="n">TSU_FWSLC_CAMSEL00</span> <span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="n">TSU_FWSLC_CAMSEL13</span> <span class="o">=</span> <span class="mh">0x0008</span><span class="p">,</span> <span class="n">TSU_FWSLC_CAMSEL12</span> <span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="n">TSU_FWSLC_CAMSEL11</span> <span class="o">=</span> <span class="mh">0x0002</span><span class="p">,</span> <span class="n">TSU_FWSLC_CAMSEL10</span> <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* TSU_VTAGn */</span>
<span class="cp">#define TSU_VTAG_ENABLE		0x80000000</span>
<span class="cp">#define TSU_VTAG_VID_MASK	0x00000fff</span>

<span class="cm">/*</span>
<span class="cm"> * The sh ether Tx buffer descriptors.</span>
<span class="cm"> * This structure should be 20 bytes.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">sh_eth_txdesc</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">status</span><span class="p">;</span>		<span class="cm">/* TD0 */</span>
<span class="cp">#if defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">pad0</span><span class="p">;</span>		<span class="cm">/* TD1 */</span>
	<span class="n">u16</span> <span class="n">buffer_length</span><span class="p">;</span>	<span class="cm">/* TD1 */</span>
<span class="cp">#else</span>
	<span class="n">u16</span> <span class="n">buffer_length</span><span class="p">;</span>	<span class="cm">/* TD1 */</span>
	<span class="n">u16</span> <span class="n">pad0</span><span class="p">;</span>		<span class="cm">/* TD1 */</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">addr</span><span class="p">;</span>		<span class="cm">/* TD2 */</span>
	<span class="n">u32</span> <span class="n">pad1</span><span class="p">;</span>		<span class="cm">/* padding data */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">aligned</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">packed</span><span class="p">));</span>

<span class="cm">/*</span>
<span class="cm"> * The sh ether Rx buffer descriptors.</span>
<span class="cm"> * This structure should be 20 bytes.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">sh_eth_rxdesc</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">status</span><span class="p">;</span>		<span class="cm">/* RD0 */</span>
<span class="cp">#if defined(__LITTLE_ENDIAN)</span>
	<span class="n">u16</span> <span class="n">frame_length</span><span class="p">;</span>	<span class="cm">/* RD1 */</span>
	<span class="n">u16</span> <span class="n">buffer_length</span><span class="p">;</span>	<span class="cm">/* RD1 */</span>
<span class="cp">#else</span>
	<span class="n">u16</span> <span class="n">buffer_length</span><span class="p">;</span>	<span class="cm">/* RD1 */</span>
	<span class="n">u16</span> <span class="n">frame_length</span><span class="p">;</span>	<span class="cm">/* RD1 */</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">addr</span><span class="p">;</span>		<span class="cm">/* RD2 */</span>
	<span class="n">u32</span> <span class="n">pad0</span><span class="p">;</span>		<span class="cm">/* padding data */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">aligned</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">packed</span><span class="p">));</span>

<span class="cm">/* This structure is used by each CPU dependency handling. */</span>
<span class="k">struct</span> <span class="n">sh_eth_cpu_data</span> <span class="p">{</span>
	<span class="cm">/* optional functions */</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">chip_reset</span><span class="p">)(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">ndev</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_duplex</span><span class="p">)(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">ndev</span><span class="p">);</span>
	<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">set_rate</span><span class="p">)(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">ndev</span><span class="p">);</span>

	<span class="cm">/* mandatory initialize value */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">eesipr_value</span><span class="p">;</span>

	<span class="cm">/* optional initialize value */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ecsr_value</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ecsipr_value</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">fdr_value</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">fcftr_value</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rpadir_value</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rmcr_value</span><span class="p">;</span>

	<span class="cm">/* interrupt checking mask */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">tx_check</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">eesr_err_check</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">tx_error_check</span><span class="p">;</span>

	<span class="cm">/* hardware features */</span>
	<span class="kt">unsigned</span> <span class="n">no_psr</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* EtherC DO NOT have PSR */</span>
	<span class="kt">unsigned</span> <span class="n">apr</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>			<span class="cm">/* EtherC have APR */</span>
	<span class="kt">unsigned</span> <span class="n">mpr</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>			<span class="cm">/* EtherC have MPR */</span>
	<span class="kt">unsigned</span> <span class="n">tpauser</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* EtherC have TPAUSER */</span>
	<span class="kt">unsigned</span> <span class="n">bculr</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* EtherC have BCULR */</span>
	<span class="kt">unsigned</span> <span class="n">tsu</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>			<span class="cm">/* EtherC have TSU */</span>
	<span class="kt">unsigned</span> <span class="n">hw_swap</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* E-DMAC have DE bit in EDMR */</span>
	<span class="kt">unsigned</span> <span class="n">rpadir</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* E-DMAC have RPADIR */</span>
	<span class="kt">unsigned</span> <span class="n">no_trimd</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* E-DMAC DO NOT have TRIMD */</span>
	<span class="kt">unsigned</span> <span class="n">no_ade</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* E-DMAC DO NOT have ADE bit in EESR */</span>
	<span class="kt">unsigned</span> <span class="n">hw_crc</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* E-DMAC have CSMR */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">sh_eth_private</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sh_eth_cpu_data</span> <span class="o">*</span><span class="n">cd</span><span class="p">;</span>
	<span class="k">const</span> <span class="n">u16</span> <span class="o">*</span><span class="n">reg_offset</span><span class="p">;</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">addr</span><span class="p">;</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">tsu_addr</span><span class="p">;</span>
	<span class="n">dma_addr_t</span> <span class="n">rx_desc_dma</span><span class="p">;</span>
	<span class="n">dma_addr_t</span> <span class="n">tx_desc_dma</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sh_eth_rxdesc</span> <span class="o">*</span><span class="n">rx_ring</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sh_eth_txdesc</span> <span class="o">*</span><span class="n">tx_ring</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">**</span><span class="n">rx_skbuff</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sk_buff</span> <span class="o">**</span><span class="n">tx_skbuff</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span> <span class="n">timer</span><span class="p">;</span>
	<span class="n">spinlock_t</span> <span class="n">lock</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">cur_rx</span><span class="p">,</span> <span class="n">dirty_rx</span><span class="p">;</span>	<span class="cm">/* Producer/consumer ring indices */</span>
	<span class="n">u32</span> <span class="n">cur_tx</span><span class="p">,</span> <span class="n">dirty_tx</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_buf_sz</span><span class="p">;</span>		<span class="cm">/* Based on MTU+slack. */</span>
	<span class="kt">int</span> <span class="n">edmac_endian</span><span class="p">;</span>
	<span class="cm">/* MII transceiver section. */</span>
	<span class="n">u32</span> <span class="n">phy_id</span><span class="p">;</span>					<span class="cm">/* PHY ID */</span>
	<span class="k">struct</span> <span class="n">mii_bus</span> <span class="o">*</span><span class="n">mii_bus</span><span class="p">;</span>	<span class="cm">/* MDIO bus control */</span>
	<span class="k">struct</span> <span class="n">phy_device</span> <span class="o">*</span><span class="n">phydev</span><span class="p">;</span>	<span class="cm">/* PHY device control */</span>
	<span class="k">enum</span> <span class="n">phy_state</span> <span class="n">link</span><span class="p">;</span>
	<span class="n">phy_interface_t</span> <span class="n">phy_interface</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">msg_enable</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">speed</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">duplex</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">rx_int_var</span><span class="p">,</span> <span class="n">tx_int_var</span><span class="p">;</span>	<span class="cm">/* interrupt control variables */</span>
	<span class="kt">char</span> <span class="n">post_rx</span><span class="p">;</span>		<span class="cm">/* POST receive */</span>
	<span class="kt">char</span> <span class="n">post_fw</span><span class="p">;</span>		<span class="cm">/* POST forward */</span>
	<span class="k">struct</span> <span class="n">net_device_stats</span> <span class="n">tsu_stats</span><span class="p">;</span>	<span class="cm">/* TSU forward status */</span>
	<span class="kt">int</span> <span class="n">port</span><span class="p">;</span>		<span class="cm">/* for TSU */</span>
	<span class="kt">int</span> <span class="n">vlan_num_ids</span><span class="p">;</span>	<span class="cm">/* for VLAN tag filter */</span>

	<span class="kt">unsigned</span> <span class="n">no_ether_link</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">ether_link_active_low</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">sh_eth_soft_swap</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
<span class="p">{</span>
<span class="cp">#ifdef __LITTLE_ENDIAN__</span>
	<span class="n">u32</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="p">(</span><span class="n">u32</span> <span class="o">*</span><span class="p">)</span><span class="n">src</span><span class="p">;</span>
	<span class="n">u32</span> <span class="o">*</span><span class="n">maxp</span><span class="p">;</span>
	<span class="n">maxp</span> <span class="o">=</span> <span class="n">p</span> <span class="o">+</span> <span class="p">((</span><span class="n">len</span> <span class="o">+</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">u32</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">u32</span><span class="p">));</span>

	<span class="k">for</span> <span class="p">(;</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">maxp</span><span class="p">;</span> <span class="n">p</span><span class="o">++</span><span class="p">)</span>
		<span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">swab32</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">sh_eth_write</span><span class="p">(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">ndev</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">data</span><span class="p">,</span>
				<span class="kt">int</span> <span class="n">enum_index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">sh_eth_private</span> <span class="o">*</span><span class="n">mdp</span> <span class="o">=</span> <span class="n">netdev_priv</span><span class="p">(</span><span class="n">ndev</span><span class="p">);</span>

	<span class="n">iowrite32</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">reg_offset</span><span class="p">[</span><span class="n">enum_index</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="nf">sh_eth_read</span><span class="p">(</span><span class="k">struct</span> <span class="n">net_device</span> <span class="o">*</span><span class="n">ndev</span><span class="p">,</span>
					<span class="kt">int</span> <span class="n">enum_index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">sh_eth_private</span> <span class="o">*</span><span class="n">mdp</span> <span class="o">=</span> <span class="n">netdev_priv</span><span class="p">(</span><span class="n">ndev</span><span class="p">);</span>

	<span class="k">return</span> <span class="n">ioread32</span><span class="p">(</span><span class="n">mdp</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">reg_offset</span><span class="p">[</span><span class="n">enum_index</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="o">*</span><span class="nf">sh_eth_tsu_get_offset</span><span class="p">(</span><span class="k">struct</span> <span class="n">sh_eth_private</span> <span class="o">*</span><span class="n">mdp</span><span class="p">,</span>
					  <span class="kt">int</span> <span class="n">enum_index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">tsu_addr</span> <span class="o">+</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">reg_offset</span><span class="p">[</span><span class="n">enum_index</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">sh_eth_tsu_write</span><span class="p">(</span><span class="k">struct</span> <span class="n">sh_eth_private</span> <span class="o">*</span><span class="n">mdp</span><span class="p">,</span>
				<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">enum_index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">iowrite32</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">tsu_addr</span> <span class="o">+</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">reg_offset</span><span class="p">[</span><span class="n">enum_index</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="nf">sh_eth_tsu_read</span><span class="p">(</span><span class="k">struct</span> <span class="n">sh_eth_private</span> <span class="o">*</span><span class="n">mdp</span><span class="p">,</span>
					<span class="kt">int</span> <span class="n">enum_index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">ioread32</span><span class="p">(</span><span class="n">mdp</span><span class="o">-&gt;</span><span class="n">tsu_addr</span> <span class="o">+</span> <span class="n">mdp</span><span class="o">-&gt;</span><span class="n">reg_offset</span><span class="p">[</span><span class="n">enum_index</span><span class="p">]);</span>
<span class="p">}</span>

<span class="cp">#endif	</span><span class="cm">/* #ifndef __SH_ETH_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
