<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › block › ida_cmd.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>ida_cmd.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *    Disk Array driver for Compaq SMART2 Controllers</span>
<span class="cm"> *    Copyright 1998 Compaq Computer Corporation</span>
<span class="cm"> *</span>
<span class="cm"> *    This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *    it under the terms of the GNU General Public License as published by</span>
<span class="cm"> *    the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> *    (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *    This program is distributed in the hope that it will be useful,</span>
<span class="cm"> *    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *    MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, GOOD TITLE or</span>
<span class="cm"> *    NON INFRINGEMENT.  See the GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *    You should have received a copy of the GNU General Public License</span>
<span class="cm"> *    along with this program; if not, write to the Free Software</span>
<span class="cm"> *    Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> *</span>
<span class="cm"> *    Questions/Comments/Bugfixes to iss_storagedev@hp.com</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="cp">#ifndef ARRAYCMD_H</span>
<span class="cp">#define ARRAYCMD_H</span>

<span class="cp">#include &lt;asm/types.h&gt;</span>
<span class="cp">#if 0</span><span class="c"></span>
<span class="c">#include &lt;linux/blkdev.h&gt;</span>
<span class="cp">#endif</span>

<span class="cm">/* for the Smart Array 42XX cards */</span>
<span class="cp">#define S42XX_REQUEST_PORT_OFFSET	0x40</span>
<span class="cp">#define S42XX_REPLY_INTR_MASK_OFFSET	0x34</span>
<span class="cp">#define S42XX_REPLY_PORT_OFFSET		0x44</span>
<span class="cp">#define S42XX_INTR_STATUS		0x30</span>

<span class="cp">#define S42XX_INTR_OFF		0x08</span>
<span class="cp">#define S42XX_INTR_PENDING	0x08</span>

<span class="cp">#define COMMAND_FIFO		0x04</span>
<span class="cp">#define COMMAND_COMPLETE_FIFO	0x08</span>
<span class="cp">#define INTR_MASK		0x0C</span>
<span class="cp">#define INTR_STATUS		0x10</span>
<span class="cp">#define INTR_PENDING		0x14</span>

<span class="cp">#define FIFO_NOT_EMPTY		0x01</span>
<span class="cp">#define FIFO_NOT_FULL		0x02</span>

<span class="cp">#define BIG_PROBLEM		0x40</span>
<span class="cp">#define LOG_NOT_CONF		2</span>

<span class="cp">#pragma pack(1)</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">size</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">addr</span><span class="p">;</span>
<span class="p">}</span> <span class="n">sg_t</span><span class="p">;</span>

<span class="cp">#define RCODE_NONFATAL	0x02</span>
<span class="cp">#define RCODE_FATAL	0x04</span>
<span class="cp">#define RCODE_INVREQ	0x10</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u16</span>	<span class="n">next</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">cmd</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">rcode</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">blk</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">blk_cnt</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sg_cnt</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">;</span>
<span class="p">}</span> <span class="n">rhdr_t</span><span class="p">;</span>

<span class="cp">#define SG_MAX			32</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">rhdr_t</span>	<span class="n">hdr</span><span class="p">;</span>
	<span class="n">sg_t</span>	<span class="n">sg</span><span class="p">[</span><span class="n">SG_MAX</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">bp</span><span class="p">;</span>
<span class="p">}</span> <span class="n">rblk_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">unit</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">prio</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">chdr_t</span><span class="p">;</span>

<span class="cp">#define CMD_RWREQ	0x00</span>
<span class="cp">#define CMD_IOCTL_PEND	0x01</span>
<span class="cp">#define CMD_IOCTL_DONE	0x02</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">cmdlist</span> <span class="p">{</span>
	<span class="n">chdr_t</span>	<span class="n">hdr</span><span class="p">;</span>
	<span class="n">rblk_t</span>	<span class="n">req</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">size</span><span class="p">;</span>
	<span class="kt">int</span>	<span class="n">retry_cnt</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">busaddr</span><span class="p">;</span>
	<span class="kt">int</span>	<span class="n">ctlr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cmdlist</span> <span class="o">*</span><span class="n">prev</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cmdlist</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">request</span> <span class="o">*</span><span class="n">rq</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">type</span><span class="p">;</span>
<span class="p">}</span> <span class="n">cmdlist_t</span><span class="p">;</span>
	
<span class="cp">#define ID_CTLR		0x11</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">nr_drvs</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">cfg_sig</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">firm_rev</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">rom_rev</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">hw_rev</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">bb_rev</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">drv_present_map</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">ext_drv_map</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">board_id</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">cfg_error</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">non_disk_bits</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">bad_ram_addr</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">cpu_rev</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">pdpi_rev</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">epic_rev</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">wcxc_rev</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">marketing_rev</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">ctlr_flags</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">host_flags</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">expand_dis</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">scsi_chips</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">max_req_blocks</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">ctlr_clock</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">drvs_per_bus</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">big_drv_present_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_ext_drv_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_non_disk_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">task_flags</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">icl_bus</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">red_modes</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">cur_red_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">red_ctlr_stat</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">red_fail_reason</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">[</span><span class="mi">403</span><span class="p">];</span>
<span class="p">}</span> <span class="n">id_ctlr_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u16</span>	<span class="n">cyl</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">heads</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">xsig</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">psectors</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">wpre</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">maxecc</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">drv_ctrl</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">pcyls</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">pheads</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">landz</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sect_per_track</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">cksum</span><span class="p">;</span>
<span class="p">}</span> <span class="n">drv_param_t</span><span class="p">;</span>

<span class="cp">#define ID_LOG_DRV	0x10</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u16</span>	<span class="n">blk_size</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">nr_blks</span><span class="p">;</span>
	<span class="n">drv_param_t</span> <span class="n">drv</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">fault_tol</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">bios_disable</span><span class="p">;</span>
<span class="p">}</span> <span class="n">id_log_drv_t</span><span class="p">;</span>

<span class="cp">#define ID_LOG_DRV_EXT	0x18</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">log_drv_id</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">log_drv_label</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">[</span><span class="mi">418</span><span class="p">];</span>
<span class="p">}</span> <span class="n">id_log_drv_ext_t</span><span class="p">;</span>

<span class="cp">#define SENSE_LOG_DRV_STAT	0x12</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">status</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">fail_map</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">read_err</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">write_err</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">drv_err_data</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">drq_timeout</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">blks_to_recover</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">drv_recovering</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">remap_cnt</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">replace_drv_map</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">act_spare_map</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">spare_stat</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">spare_repl_map</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">repl_ok_map</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">media_exch</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">cache_fail</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">expn_fail</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">unit_flags</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">big_fail_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_remap_map</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_repl_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_act_spare_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">big_spar_repl_map</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_repl_ok_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">big_drv_rebuild</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">[</span><span class="mi">36</span><span class="p">];</span>
<span class="p">}</span> <span class="n">sense_log_drv_stat_t</span><span class="p">;</span>

<span class="cp">#define START_RECOVER		0x13</span>

<span class="cp">#define ID_PHYS_DRV		0x15</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">scsi_bus</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">scsi_id</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">blk_size</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">nr_blks</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">rsvd_blks</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">drv_model</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">drv_sn</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">drv_fw</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">scsi_iq_bits</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">compaq_drv_stmp</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">last_fail</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">phys_drv_flags</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">phys_drv_flags1</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">scsi_lun</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">phys_drv_flags2</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">spi_speed_rules</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">phys_connector</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">phys_box_on_bus</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">phys_bay_in_box</span><span class="p">;</span>
<span class="p">}</span> <span class="n">id_phys_drv_t</span><span class="p">;</span>

<span class="cp">#define BLINK_DRV_LEDS		0x16</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">blink_duration</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">blink</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">reserved1</span><span class="p">[</span><span class="mi">248</span><span class="p">];</span>
<span class="p">}</span> <span class="n">blink_drv_leds_t</span><span class="p">;</span>

<span class="cp">#define SENSE_BLINK_LEDS	0x17</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">blink_duration</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">btime_elap</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">blink</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">reserved1</span><span class="p">[</span><span class="mi">248</span><span class="p">];</span>
<span class="p">}</span> <span class="n">sense_blink_leds_t</span><span class="p">;</span>

<span class="cp">#define IDA_READ		0x20</span>
<span class="cp">#define IDA_WRITE		0x30</span>
<span class="cp">#define IDA_WRITE_MEDIA		0x31</span>
<span class="cp">#define RESET_TO_DIAG		0x40</span>
<span class="cp">#define DIAG_PASS_THRU		0x41</span>

<span class="cp">#define SENSE_CONFIG		0x50</span>
<span class="cp">#define SET_CONFIG		0x51</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u32</span>	<span class="n">cfg_sig</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">compat_port</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">data_dist_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">surf_an_ctrl</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">ctlr_phys_drv</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">log_unit_phys_drv</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">fault_tol_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">phys_drv_param</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">drv_param_t</span> <span class="n">drv</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">drv_asgn_map</span><span class="p">;</span>
	<span class="n">__u16</span>	<span class="n">dist_factor</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">spare_asgn_map</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">os</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">ctlr_order</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">extra_info</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">data_offs</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">parity_backedout_write_drvs</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">parity_dist_mode</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">parity_shift_fact</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">bios_disable_flag</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">blks_on_vol</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">blks_per_drv</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">scratch</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_drv_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u16</span>	<span class="n">big_spare_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">ss_source_vol</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">mix_drv_cap_range</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">__u16</span>	<span class="n">big_drv_map</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
		<span class="n">__u32</span>	<span class="n">blks_per_drv</span><span class="p">;</span>
		<span class="n">__u16</span>	<span class="n">fault_tol_mode</span><span class="p">;</span>
		<span class="n">__u16</span>	<span class="n">dist_factor</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">MDC_range</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">reserved1</span><span class="p">[</span><span class="mi">248</span><span class="p">];</span>
<span class="p">}</span> <span class="n">config_t</span><span class="p">;</span>

<span class="cp">#define BYPASS_VOL_STATE	0x52</span>
<span class="cp">#define SS_CREATE_VOL		0x53</span>
<span class="cp">#define CHANGE_CONFIG		0x54</span>
<span class="cp">#define SENSE_ORIG_CONF		0x55</span>
<span class="cp">#define REORDER_LOG_DRV		0x56</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">old_units</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">}</span> <span class="n">reorder_log_drv_t</span><span class="p">;</span>

<span class="cp">#define LABEL_LOG_DRV		0x57</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">log_drv_label</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
<span class="p">}</span> <span class="n">label_log_drv_t</span><span class="p">;</span>

<span class="cp">#define SS_TO_VOL		0x58</span>
	
<span class="cp">#define SET_SURF_DELAY		0x60</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u16</span>	<span class="n">delay</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">[</span><span class="mi">510</span><span class="p">];</span>
<span class="p">}</span> <span class="n">surf_delay_t</span><span class="p">;</span>

<span class="cp">#define SET_OVERHEAT_DELAY	0x61</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u16</span>	<span class="n">delay</span><span class="p">;</span>
<span class="p">}</span> <span class="n">overhead_delay_t</span><span class="p">;</span>
 
<span class="cp">#define SET_MP_DELAY</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u16</span>	<span class="n">delay</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">[</span><span class="mi">510</span><span class="p">];</span>
<span class="p">}</span> <span class="n">mp_delay_t</span><span class="p">;</span>

<span class="cp">#define PASSTHRU_A	0x91</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">target</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">bus</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">lun</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">timeout</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">flags</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">status</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">error</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">cdb_len</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sense_error</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sense_key</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">sense_info</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sense_code</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">sense_qual</span><span class="p">;</span>
	<span class="n">__u32</span>	<span class="n">residual</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">reserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">__u8</span>	<span class="n">cdb</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>	
<span class="p">}</span> <span class="n">scsi_param_t</span><span class="p">;</span>

<span class="cp">#define RESUME_BACKGROUND_ACTIVITY	0x99</span>
<span class="cp">#define SENSE_CONTROLLER_PERFORMANCE	0xa8</span>
<span class="cp">#define FLUSH_CACHE			0xc2</span>
<span class="cp">#define COLLECT_BUFFER			0xd2</span>
<span class="cp">#define READ_FLASH_ROM			0xf6</span>
<span class="cp">#define WRITE_FLASH_ROM			0xf7</span>
<span class="cp">#pragma pack()	</span>

<span class="cp">#endif </span><span class="cm">/* ARRAYCMD_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
