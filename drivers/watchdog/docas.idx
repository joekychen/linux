f | sc1200wdt.c | s | 11K | 387 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | rc32434_wdt.c | s | 8.2K | 279 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | bcm63xx_wdt.c | s | 7.1K | 263 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | da9052_wdt.c | s | 6.0K | 210 | Ashish Jangam | ashish.jangam@kpitcummins.com | 1338357372 |  | Watchdog: DA9052/53 PMIC watchdog support  This driver adds support for the watchdog functionality provided by the Dialog Semiconductor DA9052 PMIC chip.  Tested on samsung smdkv6410 and i.mx53 QS boards.  Signed-off-by: Anthony Olech <Anthony.Olech@diasemi.com> Signed-off-by: Ashish Jangam <ashish.jangam@kpitcummins.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | sch311x_wdt.c | s | 13K | 452 | Dave Mueller | d.mueller@elsoft.ch | 1337782671 |  | watchdog: sch311x_wdt.c: Remove RESGEN  The SCH311x chip contains 2 watchdogs. One is the watchdog programmable by the runtime register at address 0x65-0x68, the other is the watchdog inside the power on reset generator. This second watchdog has a fixed timeout value of ~1.6 seconds and is configurable only by the RESGEN register.  The BIOS normally takes care of the RESGEN watchdog and disables it (at least) before the OS is booted.  Unfortunately the sch311x_wdt driver clears bit 0 of the RESGEN register which has the effect that at the latest 1.6 seconds later, a POR is triggered.  The attached patch fixes this problem by completely removing any reference to the RESGEN watchdog from the sch311x_wdt driver.  Signed-off-by: Dave Mueller <d.mueller@elsoft.ch> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | iTCO_wdt.c | s | 18K | 596 | Jan Beulich | JBeulich@suse.com | 1340908810 |  | watchdog: iTCO_wdt: add platform driver module alias  The recent conversion of iTCO_wdt resulted in the driver no longer getting loaded automatically, since it no longer has a MODULE_DEVICE_TABLE() included. As the lpc_ich driver now creates a platform device, auto-loading can easily be done by having a respective module alias in place.  Signed-off-by: Jan Beulich <jbeulich@suse.com> Cc: Aaron Sierra <asierra@xes-inc.com> Acked-by: Guenter Roeck <linux@roeck-us.net> Cc: Samuel Ortiz <sameo@linux.intel.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | iop_wdt.c | s | 5.9K | 222 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | stmp3xxx_wdt.c | s | 6.3K | 239 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | Makefile | g | 5.4K |  | Ashish Jangam | ashish.jangam@kpitcummins.com | 1338357372 |  | Watchdog: DA9052/53 PMIC watchdog support  This driver adds support for the watchdog functionality provided by the Dialog Semiconductor DA9052 PMIC chip.  Tested on samsung smdkv6410 and i.mx53 QS boards.  Signed-off-by: Anthony Olech <Anthony.Olech@diasemi.com> Signed-off-by: Ashish Jangam <ashish.jangam@kpitcummins.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | s3c2410_wdt.c | s | 12K | 425 | Hans de Goede | hdegoede@redhat.com | 1337783180 |  | watchdog: s3c2410_wdt: Set timeout to actually achieved timeout  While rebasing my "watchdog_dev: Let the driver update the timeout field on set_timeout success" patch (before I noticed it was already picked up by Wim), I noticed that the s3c2410_wdt driver may not always have a 1 second resolution, this patch changes s3c2410wdt_set_heartbeat to update the timeout to the actually achieved timeout.  Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | w83877f_wdt.c | s | 10.0K | 340 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | acquirewdt.c | s | 8.6K | 296 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | mixcomwd.c | s | 7.3K | 280 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | cpu5wdt.c | s | 6.7K | 247 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | iTCO_vendor.h | s | 680B | 15 | Aaron Sierra | asierra@xes-inc.com | 1336576809 |  | watchdog: Convert iTCO_wdt driver to mfd model  This patch converts the iTCO_wdt driver to use the multi-function device driver model. It uses resources discovered by the lpc_ich driver, so that it no longer does its own PCI scanning.  Signed-off-by: Aaron Sierra <asierra@xes-inc.com> Signed-off-by: Guenter Roeck <linux@roeck-us.net> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | sp5100_tco.h | s | 1.1K | 32 | Priyanka Gupta | priyankag@google.com | 1294840276 |  | watchdog: Add support for sp5100 chipset TCO  This driver adds /dev/watchdog support for the AMD sp5100 aka SB7x0 chipsets.  It follows the same conventions found in other /dev/watchdog drivers.  Signed-off-by: Priyanka Gupta <priyankag@google.com> Signed-off-by: Mike Waychison <mikew@google.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | ks8695_wdt.c | s | 7.4K | 268 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | bcm47xx_wdt.c | s | 6.6K | 255 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | smsc37b787_wdt.c | s | 15K | 503 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | ixp4xx_wdt.c | s | 4.6K | 172 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | watchdog_dev.c | s | 14K | 504 | Wim Van Sebroeck | wim@iguana.be | 1340908856 |  | watchdog: core: fix WDIOC_GETSTATUS return value  In commit 7a87982420e5e126bfefeb42232d1fd92052794e we added a wrapper for the WDIOC_GETSTATUS ioctl call. The code results however in a different behaviour: it returns an error if the driver doesn't support the status operation. This is not according to the API that says that when we don't support the status operation, that we just should return a 0 value. Only when the device isn't there anymore, we should return an error.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | via_wdt.c | s | 7.5K | 220 | Viresh Kumar | viresh.kumar@st.com | 1338357226 |  | watchdog: Add watchdog_active() routine  Some watchdog may need to check if watchdog is ACTIVE or not, for example in their suspend/resume hooks.  This patch adds this routine and changes the core drivers to use it.  Signed-off-by: Viresh Kumar <viresh.kumar@st.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | gef_wdt.c | s | 7.5K | 270 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | sp5100_tco.c | s | 11K | 412 | H Hartley Sweeten | hartleys@visionengravers.com | 1337782581 |  | watchdog: sp5100_tco.c: quiet sparse noise about using plain integer was NULL pointer  Pointers should not be compared to plain integers. Quiets the sparse warning: warning: Using plain integer as NULL pointer  Signed-off-by: H Hartley Sweeten <hsweeten@visionengravers.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | ar7_wdt.c | s | 7.9K | 296 | Julia Lawall | Julia.Lawall@lip6.fr | 1337782603 |  | watchdog: ar7_wdt.c: use devm_request_and_ioremap  Combine request_region and ioremap into devm_request_and_ioremap.  This has the effect of fixing a missing iounmap on the failure of clk_get.  This also introduces a call to clk_put and clears the vbus_clk variable in the case of failure or device removal.  Signed-off-by: Julia Lawall <Julia.Lawall@lip6.fr> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | max63xx_wdt.c | s | 6.3K | 208 | Axel Lin | axel.lin@gmail.com | 1332871619 |  | watchdog: Convert max63xx_wdt driver to watchdog framework  This patch converts max63xx_wdt driver to watchdog framework. Also use devm_* APIs to save a few error handling code.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | at32ap700x_wdt.c | s | 10K | 397 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wd501p.h | s | 1.6K | 46 | Wim Van Sebroeck | wim@iguana.be | 1237972024 |  | [WATCHDOG] More coding-style and trivial clean-up  Some more cleaning-up of the watchdog drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wm8350_wdt.c | s | 4.1K | 142 | Wim Van Sebroeck | wim@iguana.be | 1332871689 |  | watchdog: fix set_timeout operations  Since we changed the behaviour of the set_timeout operation in the watchdog API, we need to change the allready converted drivers so that they update the timeout field at the end of the set_timeout operation.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | eurotechwdt.c | s | 10K | 401 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | sbc_epx_c3.c | s | 5.0K | 183 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | pnx4008_wdt.c | s | 6.2K | 197 | Roland Stigge | stigge@antcom.de | 1337782615 |  | watchdog: Device tree support for pnx4008-wdt  This patch adds device tree support to pnx4008-wdt.c  Signed-off-by: Roland Stigge <stigge@antcom.de> Reviewed-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | machzwd.c | s | 9.9K | 373 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | pc87413_wdt.c | s | 14K | 482 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | softdog.c | s | 5.2K | 179 | Alan Cox | alan@linux.intel.com | 1332871641 |  | watchdog: softdog: convert to watchdog core  Convert softdog.c to the new watchdog API.  Signed-off-by: Alan Cox <alan@linux.intel.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | ibmasr.c | s | 9.4K | 347 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | sp805_wdt.c | s | 7.8K | 275 | Viresh Kumar | viresh.linux@gmail.com | 1340228376 |  | Viresh has moved  viresh.kumar@st.com email-id doesn't exist anymore as I have left the company.  Replace ST's id with viresh.linux@gmail.com.  It also updates .mailmap file to fix address for 'git shortlog'  Signed-off-by: Viresh Kumar <viresh.linux@gmail.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ath79_wdt.c | s | 6.9K | 254 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | w83627hf_wdt.c | s | 9.1K | 334 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | w83697hf_wdt.c | s | 9.8K | 377 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | advantechwdt.c | s | 7.9K | 299 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | ep93xx_wdt.c | s | 4.5K | 147 | Wim Van Sebroeck | wim@iguana.be | 1332872124 |  | watchdog: ep93xx_wdt: timeout is an unsigned int value.  the timeout is a positive thus unsigned int value. Also re-add the comment about the actual heartbeat.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | dw_wdt.c | s | 8.1K | 289 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | txx9wdt.c | s | 4.8K | 164 | Wim Van Sebroeck | wim@iguana.be | 1332872173 |  | watchdog: txx9wdt: fix timeout  timeout should be an unsigned int. Set the timeout value properly in the watchdog_device struct so that we don't get an faulty values for the WDIOC_GETTIMEOUT ioctl call. Add check to see that timeout is a valid parameter after it is loaded as a module.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be> Acked-by: Wolfram Sang <w.sang@pengutronix.de>
f | wdt977.c | s | 11K | 415 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | octeon-wdt-main.c | s | 19K | 642 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | at91rm9200_wdt.c | s | 6.5K | 248 | Linus Torvalds | torvalds@linux-foundation.org | 1332965006 |  | Merge git://www.linux-watchdog.org/linux-watchdog  Pull watchdog updates from Wim Van Sebroeck:  - Removal of the Documentation/watchdog/00-INDEX file  - Fix boot status reporting for imx2_wdt  - clean-up sp805_wdt, pnx4008_wdt and mpcore_wdt  - convert printk in watchdog drivers to pr_ functions  - change nowayout module parameter to bool for every watchdog device  - conversion of jz4740_wdt, pnx4008_wdt, max63xx_wdt, softdog,    ep93xx_wdt, coh901327 and txx9wdt to new watchdog API  - Add support for the WDIOC_GETTIMELEFT ioctl call to the new watchdog    API  - Change the new watchdog API so that the driver updates the timeout    value  - two fixes for the xen_wdt driver  Fix up conflicts in ep93xx driver due to the same patches being merged through separate branches.  * git://www.linux-watchdog.org/linux-watchdog: (33 commits)   watchdog: txx9wdt: fix timeout   watchdog: Convert txx9wdt driver to watchdog framework   watchdog: coh901327_wdt.c: fix timeout   watchdog: coh901327: convert to use watchdog core   watchdog: Add support for WDIOC_GETTIMELEFT IOCTL in watchdog core   watchdog: ep93xx_wdt: timeout is an unsigned int value.   watchdog: ep93xx_wdt: Fix timeout after conversion to watchdog core   watchdog: Convert ep93xx driver to watchdog core   watchdog: sp805: Use devm routines   watchdog: sp805: replace readl/writel with lighter _relaxed variants   watchdog: sp805: Fix documentation style comment   watchdog: mpcore_wdt: Allow platform_get_irq() to fail   watchdog: mpcore_wdt: Use devm routines   watchdog: mpcore_wdt: Rename dev to pdev for pointing to struct platform_device   watchdog: xen: don't clear is_active when xen_wdt_stop() failed   watchdog: xen: don't unconditionally enable the watchdog during resume   watchdog: fix compiler error for missing parenthesis   watchdog: ep93xx_wdt.c: fix platform probe   watchdog: ep93xx: Convert the watchdog driver into a platform device.   watchdog: fix set_timeout operations   ...
f | jz4740_wdt.c | s | 6.1K | 185 | Wim Van Sebroeck | wim@iguana.be | 1332871689 |  | watchdog: fix set_timeout operations  Since we changed the behaviour of the set_timeout operation in the watchdog API, we need to change the allready converted drivers so that they update the timeout field at the end of the set_timeout operation.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | it87_wdt.c | s | 17K | 672 | Diego Elio Pettenò | flameeyes@flameeyes.eu | 1337783083 |  | watchdog: it87_wdt: Add support for IT8728F watchdog.  This works the same way IT8721F works, but it supports WDT_PWROK (checked on the datasheet).  Signed-off-by: Diego Elio Pettenò <flameeyes@flameeyes.eu> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | bfin_wdt.c | s | 10K | 413 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wdt285.c | s | 4.8K | 197 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | intel_scu_watchdog.c | s | 15K | 465 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wafer5823wdt.c | s | 7.1K | 279 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | mpc8xxx_wdt.c | s | 8.1K | 286 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wdrtas.c | s | 16K | 570 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wdt_pci.c | s | 17K | 649 | Wim Van Sebroeck | wim@iguana.be | 1337783033 |  | watchdog: Use module_pci_driver  This patch converts the PCI watchdog drivers so that they use the module_pci_driver() macro. This makes the code smaller and simpler.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be> Cc: Thomas Mingarelli <thomas.mingarelli@hp.com> Cc: Marc Vertes <marc.vertes@sigfox.com>
f | mv64x60_wdt.c | s | 7.7K | 268 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | w83977f_wdt.c | s | 11K | 429 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | sb_wdog.c | s | 8.6K | 311 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | mtx-1_wdt.c | s | 6.3K | 227 | Axel Lin | axel.lin@gmail.com | 1325859445 |  | watchdog: convert drivers/watchdog/* to use module_platform_driver()  This patch converts the drivers in drivers/watchdog/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Nicolas Thill <nico@openwrt.org> Cc: Florian Fainelli <florian@openwrt.org> Cc: "David S. Miller" <davem@davemloft.net> Cc: Paul Cercueil <paul@crapouillou.net> Cc: Marc Zyngier <maz@misterjones.org> Cc: Wan ZongShun <mcuos.com@gmail.com> Cc: Alejandro Cabrera <aldaya@gmail.com> Cc: "George G. Davis" <gdavis@mvista.com> Cc: Sylver Bruneau <sylver.bruneau@googlemail.com> Cc: Vitaly Wool <vital@embeddedalley.com> Cc: Mika Westerberg <mika.westerberg@iki.fi> Cc: Timo Kokkonen <timo.t.kokkonen@nokia.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | at91sam9_wdt.c | s | 7.7K | 268 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | watchdog_core.c | s | 4.7K | 152 | Hans de Goede | hdegoede@redhat.com | 1338357323 |  | watchdog: Add Locking support  This patch fixes some potential multithreading issues, despite only allowing one process to open the /dev/watchdog device, we can still get called multiple times at the same time, since a program could be using thread, or could share the fd after a fork.  This causes 2 potential problems: 1) watchdog_start / open do an unlocked test_n_set / test_n_clear,    if these 2 race, the watchdog could be stopped while the active    bit indicates it is running or visa versa.  2) Most watchdog_dev drivers probably assume that only one    watchdog-op will get called at a time, this is not necessary    true atm.  Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | it8712f_wdt.c | s | 10.0K | 375 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | geodewdt.c | s | 6.6K | 239 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | scx200_wdt.c | s | 6.5K | 224 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | i6300esb.c | s | 12K | 421 | Wim Van Sebroeck | wim@iguana.be | 1337783033 |  | watchdog: Use module_pci_driver  This patch converts the PCI watchdog drivers so that they use the module_pci_driver() macro. This makes the code smaller and simpler.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be> Cc: Thomas Mingarelli <thomas.mingarelli@hp.com> Cc: Marc Vertes <marc.vertes@sigfox.com>
f | pcwd_pci.c | s | 20K | 668 | Wim Van Sebroeck | wim@iguana.be | 1337783033 |  | watchdog: Use module_pci_driver  This patch converts the PCI watchdog drivers so that they use the module_pci_driver() macro. This makes the code smaller and simpler.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be> Cc: Thomas Mingarelli <thomas.mingarelli@hp.com> Cc: Marc Vertes <marc.vertes@sigfox.com>
f | omap_wdt.h | s | 2.2K | 49 | Wim Van Sebroeck | wim@iguana.be | 1300204947 |  | watchdog: cleanup spaces before tabs  cleanup spaces before tabs in drivers/watchdog/  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | ib700wdt.c | s | 8.4K | 329 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | at91sam9_wdt.h | s | 1.4K | 32 | Jean-Christophe PLAGNIOL-VILLARD | plagnioj@jcrosoft.com | 1322491839 |  | ARM: at91: make watchdog drivers soc independent  switch the watchdog drivers to resource and pass it via platform_device  Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com> Acked-by: Nicolas Ferre <nicolas.ferre@atmel.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | intel_scu_watchdog.h | s | 2.0K | 54 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | octeon-wdt-nmi.S | g | 1.3K |  | David Daney | ddaney@caviumnetworks.com | 1281011182 |  | WATCHDOG: Add watchdog driver for OCTEON SOCs  The OCTEON is a MIPS64 based SOC family with an on chip watchdog unit.  The driver is split into two source files one for the C code and one for assembly.  Assembly is needed to handle the NMI and then print the machine state before the reboot is triggered.  Signed-off-by: David Daney <ddaney@caviumnetworks.com> Cc: Wim Van Sebroeck <wim@iguana.be> Cc: Andrew Morton <akpm@linux-foundation.org> Cc: Russell King <rmk+kernel@arm.linux.org.uk> Cc: Tony Lindgren <tony@atomide.com> Cc: Marc Zyngier <maz@misterjones.org> Cc: Thierry Reding <thierry.reding@avionic-design.de> Cc: Sam Ravnborg <sam@ravnborg.org> To: linux-mips@linux-mips.org Cc: linux-kernel@vger.kernel.org, Patchwork: https://patchwork.linux-mips.org/patch/1503/ Signed-off-by: Wim Van Sebroeck <wim@iguana.be> Signed-off-by: Ralf Baechle <ralf@linux-mips.org>   create mode 100644 drivers/watchdog/octeon-wdt-main.c  create mode 100644 drivers/watchdog/octeon-wdt-nmi.S
f | ie6xx_wdt.c | s | 8.7K | 287 | Randy Dunlap | rdunlap@xenotime.net | 1337783133 |  | watchdog: ie6xx_wdt needs io.h  Fix build error by including <linux/io.h>:  drivers/watchdog/ie6xx_wdt.c:97:2: error: implicit declaration of function 'outb' drivers/watchdog/ie6xx_wdt.c:133:2: error: implicit declaration of function 'outl' drivers/watchdog/ie6xx_wdt.c:161:2: error: implicit declaration of function 'inb' drivers/watchdog/ie6xx_wdt.c:199:3: error: implicit declaration of function 'inl' drivers/watchdog/ie6xx_wdt.c:203:3: error: implicit declaration of function 'inw'  Signed-off-by: Randy Dunlap <rdunlap@xenotime.net> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | orion_wdt.c | s | 6.8K | 260 | Andrew Lunn | andrew@lunn.ch | 1336520037 |  | ARM: Orion: WDT: Add clk/clkdev support  Remove tclk from platform data.  This makes the platform data structure empty, so remove it.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
f | xen_wdt.c | s | 7.5K | 299 | Jan Beulich | JBeulich@suse.com | 1332872035 |  | watchdog: xen: don't clear is_active when xen_wdt_stop() failed  xen_wdt_release() shouldn't clear is_active even when the watchdog didn't get stopped (which by itself shouldn't happen, but let's return a proper error in this case rather than adding a BUG() upon hypercall failure).  Signed-off-by: Jan Beulich <jbeulich@suse.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | rdc321x_wdt.c | s | 7.3K | 249 | Axel Lin | axel.lin@gmail.com | 1325859445 |  | watchdog: convert drivers/watchdog/* to use module_platform_driver()  This patch converts the drivers in drivers/watchdog/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Nicolas Thill <nico@openwrt.org> Cc: Florian Fainelli <florian@openwrt.org> Cc: "David S. Miller" <davem@davemloft.net> Cc: Paul Cercueil <paul@crapouillou.net> Cc: Marc Zyngier <maz@misterjones.org> Cc: Wan ZongShun <mcuos.com@gmail.com> Cc: Alejandro Cabrera <aldaya@gmail.com> Cc: "George G. Davis" <gdavis@mvista.com> Cc: Sylver Bruneau <sylver.bruneau@googlemail.com> Cc: Vitaly Wool <vital@embeddedalley.com> Cc: Mika Westerberg <mika.westerberg@iki.fi> Cc: Timo Kokkonen <timo.t.kokkonen@nokia.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | imx2_wdt.c | s | 9.3K | 298 | Sascha Hauer | s.hauer@pengutronix.de | 1335366222 |  | watchdog imx2: prepare clk before enabling it  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | pika_wdt.c | s | 6.7K | 248 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | pcwd_usb.c | s | 21K | 674 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | sbc8360.c | s | 9.8K | 367 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | w83697ug_wdt.c | s | 8.5K | 328 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | sbc_fitpc2_wdt.c | s | 5.3K | 206 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | sa1100_wdt.c | s | 4.5K | 165 | Linus Torvalds | torvalds@linux-foundation.org | 1333069330 |  | 
f | davinci_wdt.c | s | 6.6K | 236 | Axel Lin | axel.lin@gmail.com | 1325859445 |  | watchdog: convert drivers/watchdog/* to use module_platform_driver()  This patch converts the drivers in drivers/watchdog/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Nicolas Thill <nico@openwrt.org> Cc: Florian Fainelli <florian@openwrt.org> Cc: "David S. Miller" <davem@davemloft.net> Cc: Paul Cercueil <paul@crapouillou.net> Cc: Marc Zyngier <maz@misterjones.org> Cc: Wan ZongShun <mcuos.com@gmail.com> Cc: Alejandro Cabrera <aldaya@gmail.com> Cc: "George G. Davis" <gdavis@mvista.com> Cc: Sylver Bruneau <sylver.bruneau@googlemail.com> Cc: Vitaly Wool <vital@embeddedalley.com> Cc: Mika Westerberg <mika.westerberg@iki.fi> Cc: Timo Kokkonen <timo.t.kokkonen@nokia.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | Kconfig | g | 41K |  | Viresh Kumar | viresh.kumar@st.com | 1338357401 |  | watchdog: sp805_wdt: convert to watchdog core  This patch converts existing sp805 watchdog driver to use already in place common infrastructure present in watchdog core. With this lot of code goes away.  Signed-off-by: Viresh Kumar <viresh.kumar@st.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | iTCO_vendor_support.c | s | 10K | 317 | Aaron Sierra | asierra@xes-inc.com | 1336576809 |  | watchdog: Convert iTCO_wdt driver to mfd model  This patch converts the iTCO_wdt driver to use the multi-function device driver model. It uses resources discovered by the lpc_ich driver, so that it no longer does its own PCI scanning.  Signed-off-by: Aaron Sierra <asierra@xes-inc.com> Signed-off-by: Guenter Roeck <linux@roeck-us.net> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | sc520_wdt.c | s | 10K | 373 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | cpwd.c | s | 16K | 577 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | alim7101_wdt.c | s | 10K | 370 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | m54xx_wdt.c | s | 5.2K | 187 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | pcwd.c | s | 26K | 841 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | omap_wdt.c | s | 10K | 364 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | hpwdt.c | s | 21K | 770 | Mingarelli, Thomas | Thomas.Mingarelli@hp.com | 1340908831 |  | watchdog: hpwdt: Unregister NMI events on exit.  This patch is to unregister for NMI events upon exit. Also we are now making the default setting for allow_kdump enabled.  Signed-off-by: Thomas Mingarelli <thomas.mingarelli@hp.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | indydog.c | s | 4.8K | 183 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | riowd.c | s | 5.7K | 205 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | twl4030_wdt.c | s | 6.3K | 216 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | wdt.c | s | 15K | 584 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | wm831x_wdt.c | s | 7.6K | 263 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1337783167 |  | watchdog: wm831x: Convert to gpio_request_one()  Use the more modern API.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | booke_wdt.c | s | 7.4K | 258 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | sbc7240_wdt.c | s | 6.9K | 263 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | lantiq_wdt.c | s | 6.0K | 213 | John Crispin | blogic@openwrt.org | 1337607114 |  | watchdog: MIPS: lantiq: implement OF support and minor fixes  Add support for OF. We also apply the following small fixes * reduce boiler plate by using devm_request_and_ioremap * sane error path for the clock * move LTQ_RST_CAUSE_WDTRST to a soc specific header file * add a message to show that the driver loaded  Signed-off-by: John Crispin <blogic@openwrt.org> Acked-by: Wim Van Sebroeck <wim@iguana.be> Cc: linux-watchdog@vger.kernel.org Cc: linux-mips@linux-mips.org Patchwork: https://patchwork.linux-mips.org/patch/3810/ Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
f | sbc60xxwdt.c | s | 10K | 339 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | nuc900_wdt.c | s | 8.0K | 280 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | nv_tco.h | s | 2.0K | 58 | Mike Waychison | mikew@google.com | 1294840283 |  | watchdog: Add TCO support for nVidia chipsets  This driver adds support for /dev/watchdog for boards using either the MCP51 or MCP55 chipsets.  These are also known as the nForce 430 and nForce 550.  This driver is likely to work on other chipsets as well, though those are the only two that have been tested.  Signed-off-by: Mike Waychison <mikew@google.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | shwdt.c | s | 9.4K | 296 | Paul Mundt | lethal@linux-sh.org | 1336634080 |  | watchdog: shwdt: Use finer grained clock control.  The clk enable/disable pairs can be pushed down to start/stop rather than probe/remove, along with the runtime PM callsites. This will allow us to keep the block powered off until userspace comes along and decides to do something with it.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | watchdog_core.h | s | 1.3K | 35 | Alan Cox | alan@linux.intel.com | 1338357265 |  | watchdog: Add multiple device support  We keep the old /dev/watchdog interface file for the first watchdog via miscdev. This is basically a cut and paste of the relevant interface code from the rtc driver layer tweaked for watchdog.  Revised to fix problems noted by Hans de Goede  Signed-off-by: Alan Cox <alan@linux.intel.com> Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Tomas Winkler <tomas.winkler@intel.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | coh901327_wdt.c | s | 12K | 424 | Wim Van Sebroeck | wim@iguana.be | 1332872157 |  | watchdog: coh901327_wdt.c: fix timeout  Set the timeout value properly so that we don't get faulty values for the WDIOC_GETTIMEOUT iotcl. 'margin' should be an unsigned int. Also add a check to see if margin is a valid parameter after it is loaded as a module.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be> Acked-by: Linus Walleij <linus.walleij@linaro.org> Acked-by: Wolfram Sang <w.sang@pengutronix.de>
f | of_xilinx_wdt.c | s | 9.7K | 338 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | nv_tco.c | s | 12K | 438 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | alim1535_wdt.c | s | 9.9K | 385 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | pnx833x_wdt.c | s | 7.1K | 227 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | f71808e_wdt.c | s | 20K | 676 | Joe Perches | joe@perches.com | 1332871166 |  | watchdog: Use pr_<fmt> and pr_<level>  Use the current logging styles.  Make sure all output has a prefix. Add missing newlines. Remove now unnecessary PFX, NAME, and miscellaneous other #defines. Coalesce formats.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | mpcore_wdt.c | s | 10K | 386 | Viresh Kumar | viresh.kumar@st.com | 1332872060 |  | watchdog: mpcore_wdt: Allow platform_get_irq() to fail  irq is not necessary for mpcore wdt. Don't return error if it is not passed. But if it is passed, then request_irq must pass.  Signed-off-by: Viresh Kumar <viresh.kumar@st.com> Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
f | ts72xx_wdt.c | s | 11K | 431 | Wim Van Sebroeck | wim@iguana.be | 1332871562 |  | watchdog: nowayout is bool  nowayout is actually a boolean value. So make it bool for all watchdog device drivers.  Signed-off-by: Wim Van Sebroeck <wim@iguana.be>
