f | apple-gmux.c | s | 6.7K | 206 | Matthew Garrett | mjg@redhat.com | 1338578332 |  | apple-gmux: Fix up the suspend/resume patch  I incorporated the wrong version of the suspend/resume patch for gmux, and so lost David Woodhouse's fix to leave the backlight level unchanged over suspend/resume. This fixes it up to v2.  Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | Makefile | g | 2.1K |  | Seth Forshee | seth.forshee@canonical.com | 1332788725 |  | platform/x86: Add driver for Apple gmux device  Apple laptops with hybrid graphics have a device named gmux that controls the muxing of the LVDS panel between the GPUs as well as screen brightness. This driver adds support for the gmux device. Only backlight control is supported initially.  Signed-off-by: Seth Forshee <seth.forshee@canonical.com> Signed-off-by: Matthew Garrett <mjg@redhat.com> Tested-by: Grant Likely <grant.likely@secretlab.ca>
f | hdaps.c | s | 16K | 532 | Jesper Juhl | jj@chaosbits.net | 1338488620 |  | hdaps: Jesper Juhl: Fix outdated email address  I haven't had a working gmail address for many years - update to my actual working address.  Signed-off-by: Jesper Juhl <jj@chaosbits.net> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | tc1100-wmi.c | s | 6.6K | 231 | Joe Perches | joe@perches.com | 1306514151 |  | tc1100-wmi: Add pr_fmt, use pr_<level>  Use the more normal logging styles. Removed now unused local logging #defines.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | sony-laptop.c | s | 106K | 3654 | Marco Chiappero | marco@absence.it | 1338489306 |  | sony-laptop: add touchpad enable/disable function  This setting is stored in the EC and available across reboots.  [malattia@linux.it: group function specific variables in a struct, use kstrtoul]  Signed-off-by: Marco Chiappero <marco@absence.it> Signed-off-by: Mattia Dongili <malattia@linux.it> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | asus-nb-wmi.c | s | 3.9K | 109 | Corentin Chary | corentin.chary@gmail.com | 1332788746 |  | asus-nb-wmi: set panel_power correctly  Even if it's currently unused.  Signed-off-by: Corentin Chary <corentin.chary@gmail.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | intel_oaktrail.c | s | 9.6K | 331 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1332259322 |  | intel-oaktrail: switch to using use MODULE_DEVICE_TABLE  Use MODULE_DEVCE_TABLE instead of rolling MODULE_ALIAS by hand.  Signed-off-by: Dmitry Torokhov <dtor@mail.ru> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | toshiba_bluetooth.c | s | 3.7K | 120 | Joe Perches | joe@perches.com | 1306514152 |  | toshiba: Convert printks to pr_<level>  Add pr_fmt. Remove local MY_<foo> #defines. Convert printks to pr_<level>.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | amilo-rfkill.c | s | 4.2K | 146 | Jesper Juhl | jj@chaosbits.net | 1332791132 |  | drivers/platform/x86/amilo-rfkill.c::amilo_rfkill_probe() avoid NULL deref  In drivers/platform/x86/amilo-rfkill.c::amilo_rfkill_probe() the call to dmi_first_match() may fail and return NULL. If it does return NULL, then we'll be dereferencing a NULL pointer in the rfkill_alloc() call where we do 'system_id->driver_data' --> KABOOM!  Avoid that problem by testing for a NULL return value from dmi_first_match() and bailing out if it fails.  I was a bit uncertain about what to return in the failure case. In the end I settled for -ENXIO as the most logical error to return.  Signed-off-by: Jesper Juhl <jj@chaosbits.net> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | thinkpad_acpi.c | s | 230K | 7619 | Alex Hung | alex.hung@canonical.com | 1338488619 |  | thinkpad-acpi: fix issuing duplicated key events for brightness up/down  The tp_features.bright_acpimode will not be set correctly for brightness control because ACPI_VIDEO_HID will not be located in ACPI. As a result, a duplicated key event will always be sent. acpi_video_backlight_support() is sufficient to detect standard ACPI brightness control.  Signed-off-by: Alex Hung <alex.hung@canonical.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | hp_accel.c | s | 12K | 352 | Linus Torvalds | torvalds@linux-foundation.org | 1320108367 |  | Merge branch 'akpm' (Andrew's incoming)  Quoth Andrew:   - Most of MM.  Still waiting for the poweroc guys to get off their    butts and review some threaded hugepages patches.   - alpha   - vfs bits   - drivers/misc   - a few core kerenl tweaks   - printk() features   - MAINTAINERS updates   - backlight merge   - leds merge   - various lib/ updates   - checkpatch updates  * akpm: (127 commits)   epoll: fix spurious lockdep warnings   checkpatch: add a --strict check for utf-8 in commit logs   kernel.h/checkpatch: mark strict_strto<foo> and simple_strto<foo> as obsolete   llist-return-whether-list-is-empty-before-adding-in-llist_add-fix   wireless: at76c50x: follow rename pack_hex_byte to hex_byte_pack   fat: follow rename pack_hex_byte() to hex_byte_pack()   security: follow rename pack_hex_byte() to hex_byte_pack()   kgdb: follow rename pack_hex_byte() to hex_byte_pack()   lib: rename pack_hex_byte() to hex_byte_pack()   lib/string.c: fix strim() semantics for strings that have only blanks   lib/idr.c: fix comment for ida_get_new_above()   lib/percpu_counter.c: enclose hotplug only variables in hotplug ifdef   lib/bitmap.c: quiet sparse noise about address space   lib/spinlock_debug.c: print owner on spinlock lockup   lib/kstrtox: common code between kstrto*() and simple_strto*() functions   drivers/leds/leds-lp5521.c: check if reset is successful   leds: turn the blink_timer off before starting to blink   leds: save the delay values after a successful call to blink_set()   drivers/leds/leds-gpio.c: use gpio_get_value_cansleep() when initializing   drivers/leds/leds-lm3530.c: add __devexit_p where needed   ...
f | panasonic-laptop.c | s | 18K | 572 | Xi Wang | xi.wang@gmail.com | 1331562351 |  | panasonic-laptop: avoid overflow in acpi_pcc_hotkey_add()  num_sifr could go negative since acpi_pcc_get_sqty() returns -EINVAL on error.  Then it could bypass the sanity check (num_sifr > 255). The subsequent call to kzalloc() would allocate a small buffer, leading to a memory corruption.  Signed-off-by: Xi Wang <xi.wang@gmail.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | intel_mid_powerbtn.c | s | 3.9K | 125 | Yong Wang | yong.y.wang@intel.com | 1336167652 |  | intel_mid_powerbtn: mark irq as IRQF_NO_SUSPEND  So that the power button still wakes up the platform.  Signed-off-by: Pierre Tardy <pierre.tardy@intel.com> Link: http://lkml.kernel.org/r/20120504210244.F2EA5A018B@akpm.mtv.corp.google.com Tested-by: Kangkai Yin <kangkai.yin@intel.com> Tested-by: Yong Wang <yong.y.wang@intel.com> Signed-off-by: Kirill A. Shutemov <kirill.shutemov@linux.intel.com> Signed-off-by: Alan Cox <alan@linux.intel.com> Cc: Matthew Garrett <mjg@redhat.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: H. Peter Anvin <hpa@zytor.com>
f | eeepc-laptop.c | s | 37K | 1316 | Linus Torvalds | torvalds@linux-foundation.org | 1332969623 |  | Merge branch 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86  Pull x86 platform driver updates from Matthew Garrett:  "Some significant updates to samsung-laptop, additional hardware   support for Toshibas, misc updates to various hardware and a new   backlight driver for some Apple machines."  Fix up trivial conflicts: geode Geos update happening next to net5501 support, and MSIC thermal platform support added twice.  * 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86: (77 commits)   acer-wmi: add quirk table for video backlight vendor mode   drivers/platform/x86/amilo-rfkill.c::amilo_rfkill_probe() avoid NULL deref   samsung-laptop: unregister ACPI video module for some well known laptops   acer-wmi: No wifi rfkill on Sony machines   thinkpad-acpi: recognize Lenovo as version string in newer V-series BIOS   asus-wmi: don't update power and brightness when using scalar   eeepc-wmi: split et2012 specific hacks   eeepc-wmi: refine quirks handling   asus-nb-wmi: set panel_power correctly   asus-wmi: move WAPF variable into quirks_entry   asus-wmi: store backlight power status for AIO machine   asus-wmi: add scalar board brightness adj. support   samsung-laptop: cleanup return type: mode_t vs umode_t   drivers, samsung-laptop: fix usage of isalnum   drivers, samsung-laptop: fix initialization of sabi_data in sabi_set_commandb   asus-wmi: on/off bit is not set when reading the value   eeepc-wmi: add extra keymaps for EP121   asus-nb-wmi: ignore useless keys   acer-wmi: support Lenovo ideapad S205 Brazos wifi switch   acer-wmi: fix out of input parameter size when set   ...
f | intel_mid_thermal.c | s | 13K | 494 | Linus Torvalds | torvalds@linux-foundation.org | 1332969623 |  | Merge branch 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86  Pull x86 platform driver updates from Matthew Garrett:  "Some significant updates to samsung-laptop, additional hardware   support for Toshibas, misc updates to various hardware and a new   backlight driver for some Apple machines."  Fix up trivial conflicts: geode Geos update happening next to net5501 support, and MSIC thermal platform support added twice.  * 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86: (77 commits)   acer-wmi: add quirk table for video backlight vendor mode   drivers/platform/x86/amilo-rfkill.c::amilo_rfkill_probe() avoid NULL deref   samsung-laptop: unregister ACPI video module for some well known laptops   acer-wmi: No wifi rfkill on Sony machines   thinkpad-acpi: recognize Lenovo as version string in newer V-series BIOS   asus-wmi: don't update power and brightness when using scalar   eeepc-wmi: split et2012 specific hacks   eeepc-wmi: refine quirks handling   asus-nb-wmi: set panel_power correctly   asus-wmi: move WAPF variable into quirks_entry   asus-wmi: store backlight power status for AIO machine   asus-wmi: add scalar board brightness adj. support   samsung-laptop: cleanup return type: mode_t vs umode_t   drivers, samsung-laptop: fix usage of isalnum   drivers, samsung-laptop: fix initialization of sabi_data in sabi_set_commandb   asus-wmi: on/off bit is not set when reading the value   eeepc-wmi: add extra keymaps for EP121   asus-nb-wmi: ignore useless keys   acer-wmi: support Lenovo ideapad S205 Brazos wifi switch   acer-wmi: fix out of input parameter size when set   ...
f | compal-laptop.c | s | 29K | 938 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1332259321 |  | compal-laptop: switch to using use MODULE_DEVICE_TABLE  Use MODULE_DEVCE_TABLE instead of rolling MODULE_ALIAS by hand.  Signed-off-by: Dmitry Torokhov <dtor@mail.ru> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | asus-laptop.c | s | 51K | 1682 | Corentin Chary | corentin.chary@gmail.com | 1332259338 |  | asus-laptop: add some keys found on Lenovo SL500  Signed-off-by: Corentin Chary <corentin.chary@gmail.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | msi-wmi.c | s | 7.8K | 245 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103836 |  | x86: fix up files really needing to include module.h  These files aren't just exporting symbols -- they are also defining a MODULE_LICENSE etc. so give them the full module.h file.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | classmate-laptop.c | s | 17K | 633 | Matthew Garrett | mjg@redhat.com | 1300841039 |  | backlight: add backlight type  There may be multiple ways of controlling the backlight on a given machine.  Allow drivers to expose the type of interface they are providing, making it possible for userspace to make appropriate policy decisions.  Signed-off-by: Matthew Garrett <mjg@redhat.com> Cc: Richard Purdie <rpurdie@rpsys.net> Cc: Chris Wilson <chris@chris-wilson.co.uk> Cc: David Airlie <airlied@linux.ie> Cc: Alex Deucher <alexdeucher@gmail.com> Cc: Ben Skeggs <bskeggs@redhat.com> Cc: Zhang Rui <rui.zhang@intel.com> Cc: Len Brown <lenb@kernel.org> Cc: Jesse Barnes <jbarnes@virtuousgeek.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | intel_ips.h | s | 856B | 20 | Eric Anholt | eric@anholt.net | 1293097896 |  | drm/i915, intel_ips: When i915 loads after IPS, make IPS relink to i915.  The IPS driver is designed to be able to run detached from i915 and just not enable GPU turbo in that case, in order to avoid module dependencies between the two drivers.  This means that we don't know what the load order between the two is going to be, and we had previously only supported IPS after (optionally) i915, but not i915 after IPS.  If the wrong order was chosen, you'd get no GPU turbo, and something like half the possible graphics performance.  Signed-off-by: Eric Anholt <eric@anholt.net> Signed-off-by: Chris Wilson <chris@chris-wilson.co.uk> Cc: stable@kernel.org
f | eeepc-wmi.c | s | 6.6K | 215 | Corentin Chary | corentin.chary@gmail.com | 1332788749 |  | eeepc-wmi: split et2012 specific hacks  Signed-off-by: Corentin Chary <corentin.chary@gmail.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | acer-wmi.c | s | 49K | 1850 | Lee, Chun-Yi | joeyli.kernel@gmail.com | 1338489438 |  | acer-wmi: add 3 laptops to video backlight vendor mode quirk table  Acer Extensa 5235, TravelMate 5760 and Aspire 5750 laptop have broken _BCM implemenation, the AML code wrote value to EC register but firmware didn't change brighenss.  Fortunately, the brightness control works on those machines with vendor mode. So, add this machine to video backlight vendor mode quirk table.  Reference: bko#36322         https://bugzilla.kernel.org/show_bug.cgi?id=36322 Reference: bko#42833         https://bugzilla.kernel.org/show_bug.cgi?id=42833 Reference: bko#42993         https://bugzilla.kernel.org/show_bug.cgi?id=42993  Cc: Christopher M. Penalver <christopher.penalver@gmx.com> Cc: Bence Lukacs <lukacs.bence1@gmail.com> Cc: Joern Heissler <kernelbugs2012@joern.heissler.de> Cc: Carlos Corbacho <carlos@strangeworlds.co.uk> Cc: Matthew Garrett <mjg@redhat.com> Cc: Dmitry Torokhov <dtor@mail.ru> Cc: Corentin Chary <corentincj@iksaif.net> Cc: Thomas Renninger <trenn@suse.de> Signed-off-by: Lee, Chun-Yi <jlee@suse.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | mxm-wmi.c | s | 2.6K | 90 | Dave Airlie | airlied@redhat.com | 1304905238 |  | mxm/wmi: add MXMX interface entry point.  The MXMX method appears to be a mutex of some sort.  Signed-off-by: Dave Airlie <airlied@redhat.com>
f | dell-wmi-aio.c | s | 4.2K | 143 | Joe Perches | joe@perches.com | 1306514147 |  | dell: Convert printks to pr_<level>  Add pr_fmt. Remove hard coded prefixes and use pr_<level>.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | asus-wmi.c | s | 45K | 1527 | Linus Torvalds | torvalds@linux-foundation.org | 1332969623 |  | Merge branch 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86  Pull x86 platform driver updates from Matthew Garrett:  "Some significant updates to samsung-laptop, additional hardware   support for Toshibas, misc updates to various hardware and a new   backlight driver for some Apple machines."  Fix up trivial conflicts: geode Geos update happening next to net5501 support, and MSIC thermal platform support added twice.  * 'for_linus' of git://cavan.codon.org.uk/platform-drivers-x86: (77 commits)   acer-wmi: add quirk table for video backlight vendor mode   drivers/platform/x86/amilo-rfkill.c::amilo_rfkill_probe() avoid NULL deref   samsung-laptop: unregister ACPI video module for some well known laptops   acer-wmi: No wifi rfkill on Sony machines   thinkpad-acpi: recognize Lenovo as version string in newer V-series BIOS   asus-wmi: don't update power and brightness when using scalar   eeepc-wmi: split et2012 specific hacks   eeepc-wmi: refine quirks handling   asus-nb-wmi: set panel_power correctly   asus-wmi: move WAPF variable into quirks_entry   asus-wmi: store backlight power status for AIO machine   asus-wmi: add scalar board brightness adj. support   samsung-laptop: cleanup return type: mode_t vs umode_t   drivers, samsung-laptop: fix usage of isalnum   drivers, samsung-laptop: fix initialization of sabi_data in sabi_set_commandb   asus-wmi: on/off bit is not set when reading the value   eeepc-wmi: add extra keymaps for EP121   asus-nb-wmi: ignore useless keys   acer-wmi: support Lenovo ideapad S205 Brazos wifi switch   acer-wmi: fix out of input parameter size when set   ...
f | samsung-q10.c | s | 4.6K | 158 | Axel Lin | axel.lin@gmail.com | 1312572107 |  | platform-drivers-x86: samsung-q10: make dmi_check_callback return 1  We only care about if there is any successful match from the dmi table or no match at all, we can make dmi_check_system return immediately if we have a successful match instead of iterate thorough the whole table.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | dell-wmi.c | s | 8.8K | 259 | Seth Forshee | seth.forshee@canonical.com | 1312572107 |  | dell-wmi: Add keys for Dell XPS L502X  All of these keys are being reported on the keyboard controller but are also generating WMI events. Add them to the legacy keymap to silence the noise.  BugLink: http://bugs.launchpad.net/bugs/815914 Signed-off-by: Seth Forshee <seth.forshee@canonical.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | topstar-laptop.c | s | 5.0K | 172 | Manuel Lauss | manuel.lauss@googlemail.com | 1319467957 |  | topstar-latop: ignore 0x82 event  Event 0x82 is emitted whenever a backlight event happens (brightness change, backlight on/off).  For instance, when display is switched off after a timeout, event 0x82 is emitted, and along with it a keypress which switches the display back on again.  This patch adds 0x82 to the event ignore list so that the display stays off when it is automatically switched off.  Signed-off-by: Manuel Lauss <manuel.lauss@googlemail.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | ideapad-laptop.c | s | 19K | 710 | Ike Panhc | ike.pan@canonical.com | 1338488620 |  | ideapad: generate valid key event only  Otherwise will generate KEY_UNKNOWN on un-listed vpc event, which means nothing and is hard for user to report the detail of the event.  Signed-off-by: Ike Panhc <ike.pan@canonical.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | asus-wmi.h | s | 2.2K | 60 | Corentin Chary | corentin.chary@gmail.com | 1332788744 |  | asus-wmi: move WAPF variable into quirks_entry  Some models work better with different values of wapf, so move the variable into quriks_entry to make it more easy to give a specific value to different models.  Based on original patch from AceLan Kao <acelan.kao@canonical.com>  Cc: AceLan Kao <acelan.kao@canonical.com> Signed-off-by: Corentin Chary <corentin.chary@gmail.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | intel_ips.c | s | 43K | 1485 | Adam Jackson | ajax@redhat.com | 1334669493 |  | intel_ips: Hush the i915 symbols message  We can't control order here, and getting it inverted is harmless.  So turn this down to dev_info() and leave a note about how to fix it in case userspace is insufficiently automagic.  Bugzilla: https://bugzilla.redhat.com/794953 Signed-off-by: Adam Jackson <ajax@redhat.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | xo15-ebook.c | s | 4.1K | 146 | Joe Perches | joe@perches.com | 1306514153 |  | xo15-ebook: Use pr_<level>  Use the current logging styles.  Remove local #define PREFIX. Add pr_fmt. Convert printk to pr_<level>.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | dell-laptop.c | s | 13K | 498 | Matthew Garrett | mjg@redhat.com | 1338569216 |  | dell-laptop: Remove rfkill code  The interface just doesn't work on some machines, and Dell haven't been able to tell us either which machines those are or what we should be doing instead. This would be fine, except it results in userspace ending up confused and general sadness. So let's just rip it out for now.  Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | wmi.c | s | 23K | 816 | Rusty Russell | rusty@rustcorp.com.au | 1326409340 |  | module_param: make bool parameters really bool (drivers & misc)  module_param(bool) used to counter-intuitively take an int.  In fddd5201 (mid-2009) we allowed bool or int/unsigned int using a messy trick.  It's time to remove the int/unsigned int option.  For this version it'll simply give a warning, but it'll break next kernel version.  Acked-by: Mauro Carvalho Chehab <mchehab@redhat.com> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | hp-wmi.c | s | 22K | 804 | Dan Carpenter | dan.carpenter@oracle.com | 1338488973 |  | hp-wmi: check for allocation failures  rfkill_alloc() returns NULL on failure.  Check for it, to make the static checkers happy.  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | intel_scu_ipc.c | s | 16K | 528 | Alan Cox | alan@linux.intel.com | 1331020885 |  | x86/mid/scu_ipc: Remove Moorestown support  All the production devices use the PC compatible version of this device so don't use the SCU interfaces or the SCU firmware interfaces.  Delete lots of code and conditional paths  Signed-off-by: Alan Cox <alan@linux.intel.com> Acked-by: H. Peter Anvin <hpa@zytor.com> Cc: Matthew Garrett <mjg@redhat.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Link: http://lkml.kernel.org/n/tip-4bg4fn9na37b350ohhgiy18n@git.kernel.org Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | Kconfig | g | 23K |  | Lee, Chun-Yi | jlee@suse.com | 1332791278 |  | acer-wmi: add quirk table for video backlight vendor mode  There have some acer laptop have broken _BCM implemenation, the AML code wrote value to EC register but firmware didn't change brighenss.  Fortunately, the brightness control works on those machines with vendor mode. So, add quirk table for video backlight vendor mode and unregister acpi video interface on those machines.  Tested on Acer TravelMate 4750  Cc: Carlos Corbacho <carlos@strangeworlds.co.uk> Cc: Matthew Garrett <mjg@redhat.com> Cc: Dmitry Torokhov <dtor@mail.ru> Cc: Corentin Chary <corentincj@iksaif.net> Cc: Thomas Renninger <trenn@suse.de> Signed-off-by: Lee, Chun-Yi <jlee@suse.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | fujitsu-laptop.c | s | 32K | 1035 | Jonathan Woithe | jwoithe@just42.net | 1332923715 |  | Email/web address change  This patch updates Jonathan Woithe's contact details across the kernel tree.  Signed-off-by: Jonathan Woithe <jwoithe@just42.net> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | msi-laptop.c | s | 23K | 808 | Rusty Russell | rusty@rustcorp.com.au | 1326409340 |  | module_param: make bool parameters really bool (drivers & misc)  module_param(bool) used to counter-intuitively take an int.  In fddd5201 (mid-2009) we allowed bool or int/unsigned int using a messy trick.  It's time to remove the int/unsigned int option.  For this version it'll simply give a warning, but it'll break next kernel version.  Acked-by: Mauro Carvalho Chehab <mchehab@redhat.com> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | intel_pmic_gpio.c | s | 8.1K | 279 | Joe Perches | joe@perches.com | 1306514150 |  | intel_pmic_gpio: Convert printks to pr_<level>  Add #define pr_fmt(fmt) "%s: " fmt, __func__ to prefix function name to each output message. Convert printks to pr_<level>.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | toshiba_acpi.c | s | 33K | 1152 | Matthew Garrett | mjg@redhat.com | 1338562956 |  | toshiba_acpi: Fix mis-merge  I managed to screw up the various backlight changes and ended up memsetting the props structure after it had already been populated. This should fix it.  Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | acerhdf.c | s | 21K | 630 | Borislav Petkov | bp@alien8.de | 1339105435 |  | drivers/platform/x86/acerhdf.c: correct Boris' mail address  Correct mail address reference to a mail account which I actually read.  Signed-off-by: Borislav Petkov <bp@alien8.de> Cc: Peter Feuerer <peter@piie.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | intel_scu_ipcutil.c | s | 3.0K | 104 | Alan Cox | alan@linux.intel.com | 1331020885 |  | x86/mid/scu_ipc: Remove Moorestown support  All the production devices use the PC compatible version of this device so don't use the SCU interfaces or the SCU firmware interfaces.  Delete lots of code and conditional paths  Signed-off-by: Alan Cox <alan@linux.intel.com> Acked-by: H. Peter Anvin <hpa@zytor.com> Cc: Matthew Garrett <mjg@redhat.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Link: http://lkml.kernel.org/n/tip-4bg4fn9na37b350ohhgiy18n@git.kernel.org Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | ibm_rtl.c | s | 8.1K | 276 | Hitoshi Mitake | mitake@dcl.info.waseda.ac.jp | 1329871648 |  | asm-generic: architecture independent readq/writeq for 32bit environment  This provides unified readq()/writeq() helper functions for 32-bit drivers.  For some cases, readq/writeq without atomicity is harmful, and order of io access has to be specified explicitly.  So in this patch, new two header files which contain non-atomic readq/writeq are added.   - <asm-generic/io-64-nonatomic-lo-hi.h> provides non-atomic readq/    writeq with the order of lower address -> higher address   - <asm-generic/io-64-nonatomic-hi-lo.h> provides non-atomic readq/    writeq with reversed order  This allows us to remove some readq()s that were added drivers when the default non-atomic ones were removed in commit dbee8a0affd5 ("x86: remove 32-bit versions of readq()/writeq()")  The drivers which need readq/writeq but can do with the non-atomic ones must add the line:    #include <asm-generic/io-64-nonatomic-lo-hi.h> /* or hi-lo.h */  But this will be nop in 64-bit environments, and no other #ifdefs are required.  So I believe that this patch can solve the problem of  1. driver-specific readq/writeq  2. atomicity and order of io access  This patch is tested with building allyesconfig and allmodconfig as ARCH=x86 and ARCH=i386 on top of tip/master.  Cc: Kashyap Desai <Kashyap.Desai@lsi.com> Cc: Len Brown <lenb@kernel.org> Cc: Ravi Anand <ravi.anand@qlogic.com> Cc: Vikas Chaudhary <vikas.chaudhary@qlogic.com> Cc: Matthew Garrett <mjg@redhat.com> Cc: Jason Uhlenkott <juhlenko@akamai.com> Cc: James Bottomley <James.Bottomley@parallels.com> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Roland Dreier <roland@purestorage.com> Cc: James Bottomley <jbottomley@parallels.com> Cc: Alan Cox <alan@lxorguk.ukuu.org.uk> Cc: Matthew Wilcox <matthew.r.wilcox@intel.com> Cc: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Hitoshi Mitake <h.mitake@gmail.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | fujitsu-tablet.c | s | 10K | 410 | Robert Gerlach | khnz@gmx.de | 1338488619 |  | fujitsu-tablet: correct quirks for Lifebook and Stylistic tablets  This patch adds a quirk to fix the dock detection for Fujitsu Stylistic devices and fixes an bug in which tablet mode state was not correctly reported in Fujitsu Lifebook and Stylistic models.  Signed-off-by: Robert Gerlach <khnz@gmx.de> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | samsung-laptop.c | s | 38K | 1317 | Corentin Chary | corentincj@iksaif.net | 1332791125 |  | samsung-laptop: unregister ACPI video module for some well known laptops  On these laptops, the ACPI video is not functional, and very unlikely to be fixed by the vendor. Note that intel_backlight works for some of these laptops, and the backlight from samsung-laptop always work.  The good news is that newer laptops have functional ACPI video device and won't end up growing this list.  Signed-off-by: Corentin Chary <corentincj@iksaif.net> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | xo1-rfkill.c | s | 1.7K | 68 | Daniel Drake | dsd@laptop.org | 1338488619 |  | xo1-rfkill: only act when blocked state is changed  The XO-1 rfkill driver should only send EC commands when changing between blocked/unblocked state.  The rfkill switch is asked to be unblocked on every resume (even when the card was never blocked before) and sending a EC_WLAN_LEAVE_RESET command here upsets the resume sequence of the libertas driver. Adding the check to avoid the spurious EC_WLAN_LEAVE_RESET fixes the wifi resume behaviour.  The rfkill state is maintained by the hardware over suspend/resume so no extra consideration is needed here.  Signed-off-by: Daniel Drake <dsd@laptop.org> Signed-off-by: Matthew Garrett <mjg@redhat.com>
f | intel_menlow.c | s | 13K | 443 | Al Viro | viro@zeniv.linux.org.uk | 1325649295 |  | switch sysfs attr->mode to umode_t  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
