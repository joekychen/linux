f | virtio_rpmsg_bus.c | s | 29K | 893 | Mark Asselstine | mark.asselstine@windriver.com | 1330861421 |  | rpmsg: fix build warning when dma_addr_t is 64-bit  dev_dbg() in rpmsg_probe() made use of the %x formatting that expects an 'unsigned int' which dma_addr_t is not in cases where dma_addr_t is 64-bit (CONFIG_ARCH_DMA_ADDR_T_64BIT). Casting to a 'unsigned long long' and using %llx will avoid this.  Signed-off-by: Mark Asselstine <mark.asselstine@windriver.com> CC: Ohad Ben-Cohen <ohad@wizery.com> CC: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Ohad Ben-Cohen <ohad@wizery.com>
f | Kconfig | g | 178B |  | Ohad Ben-Cohen | ohad@wizery.com | 1329928123 |  | rpmsg: depend on EXPERIMENTAL  There isn't any binary change in sight or evidence of any stability issue, but as we just begin to get traction we can't rule them out completely.  To be on the safe side, let's mark rpmsg as EXPERIMENTAL, and remove it later on after we have several happy users.  Signed-off-by: Ohad Ben-Cohen <ohad@wizery.com> Cc: Stephen Boyd <sboyd@codeaurora.org> Cc: Rob Clark <rob@ti.com> Cc: Mark Grosen <mgrosen@ti.com> Cc: Ludovic BARRE <ludovic.barre@stericsson.com>
f | Makefile | g | 42B |  | Ohad Ben-Cohen | ohad@wizery.com | 1328734438 |  | rpmsg: add virtio-based remote processor messaging bus  Add a virtio-based inter-processor communication bus, which enables kernel drivers to communicate with entities, running on remote processors, over shared memory using a simple messaging protocol.  Every pair of AMP processors share two vrings, which are used to send and receive the messages over shared memory.  The header of every message sent on the rpmsg bus contains src and dst addresses, which make it possible to multiplex several rpmsg channels on the same vring.  Every rpmsg channel is a device on this bus. When a channel is added, and an appropriate rpmsg driver is found and probed, it is also assigned a local rpmsg address, which is then bound to the driver's callback.  When inbound messages carry the local address of a bound driver, its callback is invoked by the bus.  This patch provides a kernel interface only; user space interfaces will be later exposed by kernel users of this rpmsg bus.  Designed with Brian Swetland <swetland@google.com>.  Signed-off-by: Ohad Ben-Cohen <ohad@wizery.com> Acked-by: Rusty Russell <rusty@rustcorp.com.au> (virtio_ids.h) Cc: Brian Swetland <swetland@google.com> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Tony Lindgren <tony@atomide.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Andrew Morton <akpm@linux-foundation.org> Cc: Greg KH <greg@kroah.com> Cc: Stephen Boyd <sboyd@codeaurora.org>
