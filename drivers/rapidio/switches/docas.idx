f | idt_gen2.c | s | 11K | 341 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103917 |  | drivers/rapidio: idt_gen2.c is implicitly relying on getting stat.h  Upon the trial removal of the implicit presence of module.h, lots of files showed up that were getting the sub-includes by default without calling them out.  Fix them in advance.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | tsi568.c | s | 4.0K | 124 | Alexandre Bounine | alexandre.bounine@idt.com | 1294934597 |  | rapidio: use common destid storage for endpoints and switches  Change code to use one storage location common for switches and endpoints. This eliminates unnecessary device type checks during basic access operations.  Logic that assigns destid to RIO devices stays unchanged - as before, switches use an associated destid because they do not have their own.  Signed-off-by: Alexandre Bounine <alexandre.bounine@idt.com> Cc: Kumar Gala <galak@kernel.crashing.org> Cc: Matt Porter <mporter@kernel.crashing.org> Cc: Li Yang <leoli@freescale.com> Cc: Thomas Moll <thomas.moll@sysgo.com> Cc: Micha Nelissen <micha@neli.hopto.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | idtcps.c | s | 4.0K | 123 | Alexandre Bounine | alexandre.bounine@idt.com | 1305712522 |  | rapidio: fix default routing initialization  Fix switch initialization to ensure that all switches have default routing disabled.  This guarantees that no unexpected RapidIO packets arrive to the default port set by reset and there is no default routing destination until it is properly configured by software.  This update also unifies handling of unmapped destinations by tsi57x, IDT Gen1 and IDT Gen2 switches.  Signed-off-by: Alexandre Bounine <alexandre.bounine@idt.com> Cc: Kumar Gala <galak@kernel.crashing.org> Cc: Matt Porter <mporter@kernel.crashing.org> Cc: Li Yang <leoli@freescale.com> Cc: Thomas Moll <thomas.moll@sysgo.com> Cc: <stable@kernel.org>		[2.6.37+] Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Makefile | g | 242B |  | matt mooney | mfm@muteddisk.com | 1300367135 |  | rapidio: change to new flag variable  switches/ depends on RAPIDIO_DEBUG so the subdir-ccflags-y variant seems to be appropriate here.  Signed-off-by: matt mooney <mfm@muteddisk.com> Acked-by: WANG Cong <xiyou.wangcong@gmail.com> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | tsi57x.c | s | 8.8K | 270 | Alexandre Bounine | alexandre.bounine@idt.com | 1305712522 |  | rapidio: fix default routing initialization  Fix switch initialization to ensure that all switches have default routing disabled.  This guarantees that no unexpected RapidIO packets arrive to the default port set by reset and there is no default routing destination until it is properly configured by software.  This update also unifies handling of unmapped destinations by tsi57x, IDT Gen1 and IDT Gen2 switches.  Signed-off-by: Alexandre Bounine <alexandre.bounine@idt.com> Cc: Kumar Gala <galak@kernel.crashing.org> Cc: Matt Porter <mporter@kernel.crashing.org> Cc: Li Yang <leoli@freescale.com> Cc: Thomas Moll <thomas.moll@sysgo.com> Cc: <stable@kernel.org>		[2.6.37+] Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Kconfig | g | 871B |  | Alexandre Bounine | alexandre.bounine@idt.com | 1288227796 |  | rapidio: add support for IDT CPS Gen2 switches  Add the RIO switch driver and definitions for IDT CPS-1848 and CPS-1616 Gen2 devices.  Signed-off-by: Alexandre Bounine <alexandre.bounine@idt.com> Cc: Thomas Moll <thomas.moll@sysgo.com> Cc: Matt Porter <mporter@kernel.crashing.org> Cc: Li Yang <leoli@freescale.com> Cc: Kumar Gala <galak@kernel.crashing.org> Cc: Micha Nelissen <micha@neli.hopto.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | tsi500.c | s | 2.4K | 67 | Alexandre Bounine | alexandre.bounine@idt.com | 1274976771 |  | rapidio: add switch domain routines  Add switch specific domain routines required for 16-bit routing support in switches with hierarchical implementation of routing tables.  Signed-off-by: Alexandre Bounine <alexandre.bounine@idt.com> Cc: Matt Porter <mporter@kernel.crashing.org> Cc: Li Yang <leoli@freescale.com> Cc: Kumar Gala <galak@kernel.crashing.org> Cc: Thomas Moll <thomas.moll@sysgo.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
