f | pn533.c | s | 44K | 1497 | Dan Carpenter | dan.carpenter@oracle.com | 1337117281 |  | NFC: Remove unneeded pn533 dev NULL check  container_of() works by subtracting the offset of the member.  The math can't really return a zero here.  Sometimes people check it when they actually meant to check something else but in this case we can just remove the check.  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | nfcwilink.c | s | 14K | 497 | Ilan Elias | ilane@ti.com | 1327432916 |  | NFC: Free sk_buff if nfcwilink_send fails  Free sk_buff if nfcwilink_send fails.  Signed-off-by: Ilan Elias <ilane@ti.com> Acked-by: Samuel Ortiz <sameo@linux.intel.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | Makefile | g | 227B |  | Eric Lapuyade | eric.lapuyade@intel.com | 1337117430 |  | NFC: HCI based pn544 driver  This is an NFC driver for NXP pn544. Unlike pn544.c, this one is based on the NFC HCI and SHDLC kernel layers.  Signed-off-by: Eric Lapuyade <eric.lapuyade@intel.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | pn544.c | s | 19K | 706 | Matti J. Aaltonen | matti.j.aaltonen@nokia.com | 1298675256 |  | drivers/nfc/pn544.c: add missing regulator  The regulator framework is used for power management.  The regulators are only named in the driver code, the actual control stuff is in the board file for each architecture or use case.  The PN544 chip has three regulators that can be controlled or not - depending on the architecture where the chip is being used.  So some of the regulators may not be controllable.  In our current case the third regulator, which was missing from the code, went unnoticed because we didn't need to control it.  To be as general as possible - in this respect - the driver needs to list all regulators.  Then the board file can be used to actually set the usage.  Signed-off-by: Matti J. Aaltonen <matti.j.aaltonen@nokia.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | pn544_hci.c | s | 22K | 745 | Dan Carpenter | dan.carpenter@oracle.com | 1337958976 |  | NFC: potential integer overflow problem in check_crc()  If "buf[0]" is 255 then "len" gets set to 0.  The call to "crc_ccitt(0xffff, buf, len - 2);" casts the "len - 2" to a high positive number which is ugly.  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
f | Kconfig | g | 1.5K |  | Eric Lapuyade | eric.lapuyade@intel.com | 1337117430 |  | NFC: HCI based pn544 driver  This is an NFC driver for NXP pn544. Unlike pn544.c, this one is based on the NFC HCI and SHDLC kernel layers.  Signed-off-by: Eric Lapuyade <eric.lapuyade@intel.com> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com> Signed-off-by: John W. Linville <linville@tuxdriver.com>
