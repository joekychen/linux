f | Makefile | g | 781B |  | Tomi Valkeinen | tomi.valkeinen@ti.com | 1329982775 |  | OMAPFB: remove remaining OMAP arch checks  Now that the old omapfb driver is only omap1 display driver, there's no need to check if the arch is omap1. This patch removes the few remaining checks for the arch.  Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com> Acked-by: Tony Lindgren <tony@atomide.com>
f | lcd_palmte.c | s | 2.5K | 95 | Axel Lin | axel.lin@gmail.com | 1325487085 |  | video: omap: convert drivers/video/omap/* to use module_platform_driver()  This patch converts the drivers in drivers/video/omap/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Cc: Jonathan McDowell <noodles@earth.li> Cc: Cory Maccarrone <darkstar6262@gmail.com> Cc: Laurent Gonzalez <palmte.linux@free.fr> Cc: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
f | lcd_inn1510.c | s | 2.7K | 96 | Axel Lin | axel.lin@gmail.com | 1325487085 |  | video: omap: convert drivers/video/omap/* to use module_platform_driver()  This patch converts the drivers in drivers/video/omap/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Cc: Jonathan McDowell <noodles@earth.li> Cc: Cory Maccarrone <darkstar6262@gmail.com> Cc: Laurent Gonzalez <palmte.linux@free.fr> Cc: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
f | lcd_palmtt.c | s | 2.6K | 100 | Axel Lin | axel.lin@gmail.com | 1325487085 |  | video: omap: convert drivers/video/omap/* to use module_platform_driver()  This patch converts the drivers in drivers/video/omap/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Cc: Jonathan McDowell <noodles@earth.li> Cc: Cory Maccarrone <darkstar6262@gmail.com> Cc: Laurent Gonzalez <palmte.linux@free.fr> Cc: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
f | omapfb_main.c | s | 47K | 1714 | Tomi Valkeinen | tomi.valkeinen@ti.com | 1329982775 |  | OMAPFB: remove remaining OMAP arch checks  Now that the old omapfb driver is only omap1 display driver, there's no need to check if the arch is omap1. This patch removes the few remaining checks for the arch.  Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com> Acked-by: Tony Lindgren <tony@atomide.com>
f | lcd_palmz71.c | s | 2.6K | 96 | Axel Lin | axel.lin@gmail.com | 1325487085 |  | video: omap: convert drivers/video/omap/* to use module_platform_driver()  This patch converts the drivers in drivers/video/omap/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Cc: Jonathan McDowell <noodles@earth.li> Cc: Cory Maccarrone <darkstar6262@gmail.com> Cc: Laurent Gonzalez <palmte.linux@free.fr> Cc: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
f | hwa742.c | s | 26K | 877 | Tomi Valkeinen | tomi.valkeinen@ti.com | 1329982745 |  | OMAP: N770: remove HWA742 platform data  In an effort to clean up the old omapfb driver, this patch removes HWA742 (the display chip used in N770) platform data. This can be done as N770 is the only user of HWA742, and the platform data contains only one field, te_connected, which we can just presume to be true in the HWA742 driver.  This allows us to remove omapfb_set_ctrl_platform_data(), and the mechanism to pass the platform data, in a later patch.  Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com> Acked-by: Tony Lindgren <tony@atomide.com>
f | sossi.c | s | 15K | 586 | Al Viro | viro@zeniv.linux.org.uk | 1325505895 |  | misc latin1 to utf8 conversions  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | lcd_mipid.c | s | 13K | 512 | Axel Lin | axel.lin@gmail.com | 1327784378 |  | video: convert drivers/video/* to use module_spi_driver()  This patch converts the drivers in drivers/video/* to use the module_spi_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Imre Deak <imre.deak@nokia.com> Cc: Roger Quadros <roger.quadros@nokia.com> Cc: Steve Sakoman <steve@sakoman.com> Cc: Erik Gilling <konkers@android.com> Cc: Gra≈ævydas Ignotas <notasas@gmail.com> Signed-off-by: Florian Tobias Schandinat <FlorianSchandinat@gmx.de>
f | lcd_inn1610.c | s | 3.1K | 116 | Jingoo Han | jg1.han@samsung.com | 1327783811 |  | video: use gpio_request_one  Using gpio_request_one can make the code simpler because it can set the direction and initial value in one shot.  Signed-off-by: Jingoo Han <jg1.han@samsung.com> Acked-by: Tomi Valkeinen <tomi.valkeinen@ti.com> Cc: Michael Hennerich <michael.hennerich@analog.com> Cc: Pavel Machek <pavel@ucw.cz> Signed-off-by: Florian Tobias Schandinat <FlorianSchandinat@gmx.de>
f | lcd_osk.c | s | 2.8K | 108 | Axel Lin | axel.lin@gmail.com | 1325487085 |  | video: omap: convert drivers/video/omap/* to use module_platform_driver()  This patch converts the drivers in drivers/video/omap/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Cc: Jonathan McDowell <noodles@earth.li> Cc: Cory Maccarrone <darkstar6262@gmail.com> Cc: Laurent Gonzalez <palmte.linux@free.fr> Cc: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
f | lcdc.h | s | 199B | 6 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1220630554 |  | [ARM] omap: fix a load of "warning: symbol 'xxx' was not declared. Should it be static?"  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Kconfig | g | 2.0K |  | Peter Meerwald | p.meerwald@bct-electronic.com | 1335167289 |  | OMAPFB: remove unused FB_OMAP_BOOTLOADER_INIT config option  code depending on FB_OMAP_BOOTLOADER_INIT has been removed long before (e.g. Tomi Valkeinen, 03 Mar 2011: OMAP: DSS2: Remove FB_OMAP_BOOTLOADER_INIT support), but the option still exists Kconfig and has no use  Signed-off-by: Peter Meerwald <p.meerwald@bct-electronic.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
f | lcd_ams_delta.c | s | 5.2K | 187 | Janusz Krzysztofik | jkrzyszt@tis.icnet.pl | 1330644026 |  | ARM: OMAP1: ams-delta: clean up init data section assignments  The main purpose of this patch is to fix several section mismatch warnings from the board file and a few board specific drivers, introduced with recent Amstrad Delta patch series, some of them rising up only when building with CONFIG_MODULES not set.  While being at it, section tagging of all init data found in the board file have been revised and hopefully corrected and/or optimized.  Signed-off-by: Janusz Krzysztofik <jkrzyszt@tis.icnet.pl> Signed-off-by: Tony Lindgren <tony@atomide.com>
f | lcd_h3.c | s | 2.9K | 107 | Axel Lin | axel.lin@gmail.com | 1325487085 |  | video: omap: convert drivers/video/omap/* to use module_platform_driver()  This patch converts the drivers in drivers/video/omap/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Cc: Jonathan McDowell <noodles@earth.li> Cc: Cory Maccarrone <darkstar6262@gmail.com> Cc: Laurent Gonzalez <palmte.linux@free.fr> Cc: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
f | lcdc.c | s | 19K | 735 | Janusz Krzysztofik | jkrzyszt@tis.icnet.pl | 1276586239 |  | OMAPFB: LCDC: change update_mode to DISABLED when going suspend  I was observing the following error messages on my OMAP1 based Amstrad Delta board when first changing from text to graphics mode or vice versa after the LCD display had been blanked: 	omapfb omapfb: timeout waiting for FRAME DONE with a followup error message while unblanking it back: 	omapfb omapfb: resetting (status 0xffffffb2,reset count 1) As a visible result, image pixels happened to be shifted by a few bits, giving wrong colors.  Examining the code, I found that this problem occures when an OMAP1 internal LCD controller is disabled from omap_lcdc_suspend() and then a subsequent omap_lcdc_setup_plane() calls disable_controller() again. This potentially error provoking behaviour is triggered by the lcdc.update_mode flag being kept at OMAP_AUTO_UPDATE, regardless of the controller and panel being suspended.  This patch tries to correct the problem by replacing both omap_lcdc_suspend() and omap_lcdc_resume() function bodies with single calls to omap_lcdc_set_update_mode() with a respective OMAP_UPDATE_DISABLE or OMAP_AUTO_UPDATE argument. As a result, exactly the same lower level operations are performed, with addition of changing the lcdc.update_mode flag to a value better suited for the controller state. This prevents any further calls to disable_controller() from omap_lcdc_setup_plane() while the display is suspended.  Created against linux-2.6.34-rc7. Tested on Amstrad Delta.  Signed-off-by: Janusz Krzysztofik <jkrzyszt@tis.icnet.pl> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@nokia.com>
f | omapfb.h | s | 7.5K | 212 | Tomi Valkeinen | tomi.valkeinen@ti.com | 1329982775 |  | OMAPFB: remove remaining OMAP arch checks  Now that the old omapfb driver is only omap1 display driver, there's no need to check if the arch is omap1. This patch removes the few remaining checks for the arch.  Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com> Acked-by: Tony Lindgren <tony@atomide.com>
f | lcd_htcherald.c | s | 2.9K | 103 | Axel Lin | axel.lin@gmail.com | 1325487085 |  | video: omap: convert drivers/video/omap/* to use module_platform_driver()  This patch converts the drivers in drivers/video/omap/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Cc: Jonathan McDowell <noodles@earth.li> Cc: Cory Maccarrone <darkstar6262@gmail.com> Cc: Laurent Gonzalez <palmte.linux@free.fr> Cc: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Tomi Valkeinen <tomi.valkeinen@ti.com>
