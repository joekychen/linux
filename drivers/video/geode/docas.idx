f | display_gx.c | s | 4.8K | 148 | Andres Salomon | dilinger@collabora.co.uk | 1260896008 |  | cs5535: define lxfb/gxfb MSRs in linux/cs5535.h  ..and include them in the lxfb/gxfb drivers rather than asm/geode.h (where possible).  Signed-off-by: Andres Salomon <dilinger@collabora.co.uk> Cc: Jordan Crouse <jordan@cosmicpenguin.net> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: john stultz <johnstul@us.ibm.com> Cc: Chris Ball <cjb@laptop.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | suspend_gx.c | s | 6.1K | 222 | Andres Salomon | dilinger@collabora.co.uk | 1260896008 |  | cs5535: define lxfb/gxfb MSRs in linux/cs5535.h  ..and include them in the lxfb/gxfb drivers rather than asm/geode.h (where possible).  Signed-off-by: Andres Salomon <dilinger@collabora.co.uk> Cc: Jordan Crouse <jordan@cosmicpenguin.net> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: john stultz <johnstul@us.ibm.com> Cc: Chris Ball <cjb@laptop.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Makefile | g | 322B |  | Andres Salomon | dilinger@queued.net | 1209398316 |  | gxfb: add power management functionality  This adds the ability to suspend/resume the gxfb driver, which includes:   - The addition of a Graphics Processor register table in gxfb.h, and     associated GP handling.   - Register and palette saving code; registers are stored in gxfb_par.     A few MSR values are saved as well.   - gx_powerup and gx_powerdown functions which restore/save registers and     enable/disable graphic engines.   - gxfb_suspend/gxfb_resume  Originally based on a patch by Jordan Crouse.  Signed-off-by: Andres Salomon <dilinger@debian.org> Cc: Jordan Crouse <jordan.crouse@amd.com> Cc: "Antonino A. Daplas" <adaplas@pol.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | video_cs5530.c | s | 5.7K | 172 | David Vrabel | dvrabel@arcom.com | 1126299479 |  | [PATCH] fbdev: geode updates  Geode framebuffer driver updates:  - Local mode list (taken from modedb.c) containing only relevant modes.   This also makes the driver work as a module.  - Make it a PCI driver (from James Simmons <jsimmons@infradead.org>).  - A few other minor cosmetic bits and pieces.  Signed-off-by: David Vrabel <dvrabel@arcom.com> Signed-off-by: James Simmons <jsimmons@infradead.org> Cc: "Antonino A. Daplas" <adaplas@pol.net> Signed-off-by: Adrian Bunk <bunk@stusta.de> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | gx1fb_core.c | s | 12K | 393 | Randy Dunlap | randy.dunlap@oracle.com | 1308902431 |  | gx1fb: Fix section mismatch warnings  Fix a chain of section mismatches in geode driver, beginning with:  WARNING: drivers/video/geode/gx1fb.o(.data+0x70): Section mismatch in reference from the variable gx1fb_driver to the function .init.text:gx1fb_probe() The variable gx1fb_driver references the function __init gx1fb_probe() If the reference is valid then annotate the variable with __init* or __refdata (see linux/init.h) or name the variable: *_template, *_timer, *_sht, *_ops, *_probe, *_probe_one, *_console  Making the changes that Paul pointed out resulted in a few more changes being needed, so they are all included here.  Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | gxfb_core.c | s | 13K | 455 | Torben Hohn | torbenh@gmx.de | 1296003006 |  | console: rename acquire/release_console_sem() to console_lock/unlock()  The -rt patches change the console_semaphore to console_mutex.  As a result, a quite large chunk of the patches changes all acquire/release_console_sem() to acquire/release_console_mutex()  This commit makes things use more neutral function names which dont make implications about the underlying lock.  The only real change is the return value of console_trylock which is inverted from try_acquire_console_sem()  This patch also paves the way to switching console_sem from a semaphore to a mutex.  [akpm@linux-foundation.org: coding-style fixes] [akpm@linux-foundation.org: make console_trylock return 1 on success, per Geert] Signed-off-by: Torben Hohn <torbenh@gmx.de> Cc: Thomas Gleixner <tglx@tglx.de> Cc: Greg KH <gregkh@suse.de> Cc: Ingo Molnar <mingo@elte.hu> Cc: Geert Uytterhoeven <geert@linux-m68k.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | display_gx1.h | s | 4.5K | 136 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | video_cs5530.h | s | 2.8K | 69 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | lxfb_ops.c | s | 20K | 671 | Daniel Drake | dsd@laptop.org | 1291195136 |  | lxfb: Maintain video processor palette through suspend/resume  The Geode X driver uses both of the LX's palettes, one for gamma correction and one for colormaps.  The kernel driver currently only backs up the one used for colormaps during suspend/resume. If you mess with gamma settings and do a suspend/resume, colors go funny.  Fix this by backing up the video proc palette during suspend/resume, alongside the display controller one which is already handled.  Signed-off-by: Daniel Drake <dsd@laptop.org> Acked-by: Andres Salomon <dilinger@queued.net> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | video_gx.c | s | 9.9K | 293 | Andres Salomon | dilinger@collabora.co.uk | 1260896008 |  | cs5535: define lxfb/gxfb MSRs in linux/cs5535.h  ..and include them in the lxfb/gxfb drivers rather than asm/geode.h (where possible).  Signed-off-by: Andres Salomon <dilinger@collabora.co.uk> Cc: Jordan Crouse <jordan@cosmicpenguin.net> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: john stultz <johnstul@us.ibm.com> Cc: Chris Ball <cjb@laptop.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Kconfig | g | 1.5K |  | Andres Salomon | dilinger@queued.net | 1209398316 |  | gxfb: replace FBSIZE config option with a module parameter  Use a command line option (vram) rather than hardcoding the vram size.  LxFB already does this; it's useful for machines that can't query the BIOS for fb size.  This patch originated from David Woodhouse, was modified by Jordan Crouse, and was then modified further by me.  This also adds some gxfb documentation in Documentation/fb.  Signed-off-by: Andres Salomon <dilinger@debian.org> Cc: Jordan Crouse <jordan.crouse@amd.com> Cc: "Antonino A. Daplas" <adaplas@pol.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | geodefb.h | s | 1.0K | 33 | David Vrabel | dvrabel@arcom.com | 1126299479 |  | [PATCH] fbdev: geode updates  Geode framebuffer driver updates:  - Local mode list (taken from modedb.c) containing only relevant modes.   This also makes the driver work as a module.  - Make it a PCI driver (from James Simmons <jsimmons@infradead.org>).  - A few other minor cosmetic bits and pieces.  Signed-off-by: David Vrabel <dvrabel@arcom.com> Signed-off-by: James Simmons <jsimmons@infradead.org> Cc: "Antonino A. Daplas" <adaplas@pol.net> Signed-off-by: Adrian Bunk <bunk@stusta.de> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | lxfb.h | s | 9.4K | 349 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | lxfb_core.c | s | 17K | 574 | Torben Hohn | torbenh@gmx.de | 1296003006 |  | console: rename acquire/release_console_sem() to console_lock/unlock()  The -rt patches change the console_semaphore to console_mutex.  As a result, a quite large chunk of the patches changes all acquire/release_console_sem() to acquire/release_console_mutex()  This commit makes things use more neutral function names which dont make implications about the underlying lock.  The only real change is the return value of console_trylock which is inverted from try_acquire_console_sem()  This patch also paves the way to switching console_sem from a semaphore to a mutex.  [akpm@linux-foundation.org: coding-style fixes] [akpm@linux-foundation.org: make console_trylock return 1 on success, per Geert] Signed-off-by: Torben Hohn <torbenh@gmx.de> Cc: Thomas Gleixner <tglx@tglx.de> Cc: Greg KH <gregkh@suse.de> Cc: Ingo Molnar <mingo@elte.hu> Cc: Geert Uytterhoeven <geert@linux-m68k.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | gxfb.h | s | 7.1K | 273 | Andres Salomon | dilinger@collabora.co.uk | 1260896008 |  | cs5535: define lxfb/gxfb MSRs in linux/cs5535.h  ..and include them in the lxfb/gxfb drivers rather than asm/geode.h (where possible).  Signed-off-by: Andres Salomon <dilinger@collabora.co.uk> Cc: Jordan Crouse <jordan@cosmicpenguin.net> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: john stultz <johnstul@us.ibm.com> Cc: Chris Ball <cjb@laptop.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | display_gx1.c | s | 6.2K | 169 | Ingo Molnar | mingo@elte.hu | 1126299828 |  | [PATCH] more SPIN_LOCK_UNLOCKED -> DEFINE_SPINLOCK conversions  This converts the final 20 DEFINE_SPINLOCK holdouts.  (another 580 places are already using DEFINE_SPINLOCK).  Build tested on x86.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
