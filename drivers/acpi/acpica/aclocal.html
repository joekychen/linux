<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › acpi › acpica › aclocal.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>aclocal.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Name: aclocal.h - Internal data types used across the ACPI subsystem</span>
<span class="cm"> *</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2000 - 2012, Intel Corp.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> * 1. Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions, and the following disclaimer,</span>
<span class="cm"> *    without modification.</span>
<span class="cm"> * 2. Redistributions in binary form must reproduce at minimum a disclaimer</span>
<span class="cm"> *    substantially similar to the &quot;NO WARRANTY&quot; disclaimer below</span>
<span class="cm"> *    (&quot;Disclaimer&quot;) and any redistribution must be conditioned upon</span>
<span class="cm"> *    including a substantially similar Disclaimer requirement for further</span>
<span class="cm"> *    binary redistribution.</span>
<span class="cm"> * 3. Neither the names of the above-listed copyright holders nor the names</span>
<span class="cm"> *    of any contributors may be used to endorse or promote products derived</span>
<span class="cm"> *    from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Alternatively, this software may be distributed under the terms of the</span>
<span class="cm"> * GNU General Public License (&quot;GPL&quot;) version 2 as published by the Free</span>
<span class="cm"> * Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * NO WARRANTY</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<span class="cm"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR</span>
<span class="cm"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<span class="cm"> * HOLDERS OR CONTRIBUTORS BE LIABLE FOR SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<span class="cm"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</span>
<span class="cm"> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
<span class="cm"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span>
<span class="cm"> * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span>
<span class="cm"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
<span class="cm"> * POSSIBILITY OF SUCH DAMAGES.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ACLOCAL_H__</span>
<span class="cp">#define __ACLOCAL_H__</span>

<span class="cm">/* acpisrc:struct_defs -- for acpisrc conversion */</span>

<span class="cp">#define ACPI_SERIALIZED                 0xFF</span>

<span class="k">typedef</span> <span class="n">u32</span> <span class="n">acpi_mutex_handle</span><span class="p">;</span>
<span class="cp">#define ACPI_GLOBAL_LOCK                (acpi_semaphore) (-1)</span>

<span class="cm">/* Total number of aml opcodes defined */</span>

<span class="cp">#define AML_NUM_OPCODES                 0x81</span>

<span class="cm">/* Forward declarations */</span>

<span class="k">struct</span> <span class="n">acpi_walk_state</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">acpi_obj_mutex</span><span class="p">;</span>
<span class="k">union</span> <span class="n">acpi_parse_object</span><span class="p">;</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Mutex typedefs and structs</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> * Predefined handles for the mutex objects used within the subsystem</span>
<span class="cm"> * All mutex objects are automatically created by acpi_ut_mutex_initialize.</span>
<span class="cm"> *</span>
<span class="cm"> * The acquire/release ordering protocol is implied via this list. Mutexes</span>
<span class="cm"> * with a lower value must be acquired before mutexes with a higher value.</span>
<span class="cm"> *</span>
<span class="cm"> * NOTE: any changes here must be reflected in the acpi_gbl_mutex_names</span>
<span class="cm"> * table below also!</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_MTX_INTERPRETER            0	</span><span class="cm">/* AML Interpreter, main lock */</span><span class="cp"></span>
<span class="cp">#define ACPI_MTX_NAMESPACE              1	</span><span class="cm">/* ACPI Namespace */</span><span class="cp"></span>
<span class="cp">#define ACPI_MTX_TABLES                 2	</span><span class="cm">/* Data for ACPI tables */</span><span class="cp"></span>
<span class="cp">#define ACPI_MTX_EVENTS                 3	</span><span class="cm">/* Data for ACPI events */</span><span class="cp"></span>
<span class="cp">#define ACPI_MTX_CACHES                 4	</span><span class="cm">/* Internal caches, general purposes */</span><span class="cp"></span>
<span class="cp">#define ACPI_MTX_MEMORY                 5	</span><span class="cm">/* Debug memory tracking lists */</span><span class="cp"></span>
<span class="cp">#define ACPI_MTX_DEBUG_CMD_COMPLETE     6	</span><span class="cm">/* AML debugger */</span><span class="cp"></span>
<span class="cp">#define ACPI_MTX_DEBUG_CMD_READY        7	</span><span class="cm">/* AML debugger */</span><span class="cp"></span>

<span class="cp">#define ACPI_MAX_MUTEX                  7</span>
<span class="cp">#define ACPI_NUM_MUTEX                  ACPI_MAX_MUTEX+1</span>

<span class="cm">/* Lock structure for reader/writer interfaces */</span>

<span class="k">struct</span> <span class="n">acpi_rw_lock</span> <span class="p">{</span>
	<span class="n">acpi_mutex</span> <span class="n">writer_mutex</span><span class="p">;</span>
	<span class="n">acpi_mutex</span> <span class="n">reader_mutex</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_readers</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Predefined handles for spinlocks used within the subsystem.</span>
<span class="cm"> * These spinlocks are created by acpi_ut_mutex_initialize</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_LOCK_GPES                  0</span>
<span class="cp">#define ACPI_LOCK_HARDWARE              1</span>

<span class="cp">#define ACPI_MAX_LOCK                   1</span>
<span class="cp">#define ACPI_NUM_LOCK                   ACPI_MAX_LOCK+1</span>

<span class="cm">/* This Thread ID means that the mutex is not in use (unlocked) */</span>

<span class="cp">#define ACPI_MUTEX_NOT_ACQUIRED         (acpi_thread_id) 0</span>

<span class="cm">/* Table for the global mutexes */</span>

<span class="k">struct</span> <span class="n">acpi_mutex_info</span> <span class="p">{</span>
	<span class="n">acpi_mutex</span> <span class="n">mutex</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">use_count</span><span class="p">;</span>
	<span class="n">acpi_thread_id</span> <span class="n">thread_id</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Lock flag parameter for various interfaces */</span>

<span class="cp">#define ACPI_MTX_DO_NOT_LOCK            0</span>
<span class="cp">#define ACPI_MTX_LOCK                   1</span>

<span class="cm">/* Field access granularities */</span>

<span class="cp">#define ACPI_FIELD_BYTE_GRANULARITY     1</span>
<span class="cp">#define ACPI_FIELD_WORD_GRANULARITY     2</span>
<span class="cp">#define ACPI_FIELD_DWORD_GRANULARITY    4</span>
<span class="cp">#define ACPI_FIELD_QWORD_GRANULARITY    8</span>

<span class="cp">#define ACPI_ENTRY_NOT_FOUND            NULL</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Namespace typedefs and structs</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/* Operational modes of the AML interpreter/scanner */</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">ACPI_IMODE_LOAD_PASS1</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">ACPI_IMODE_LOAD_PASS2</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">ACPI_IMODE_EXECUTE</span> <span class="o">=</span> <span class="mh">0x03</span>
<span class="p">}</span> <span class="n">acpi_interpreter_mode</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * The Namespace Node describes a named object that appears in the AML.</span>
<span class="cm"> * descriptor_type is used to differentiate between internal descriptors.</span>
<span class="cm"> *</span>
<span class="cm"> * The node is optimized for both 32-bit and 64-bit platforms:</span>
<span class="cm"> * 20 bytes for the 32-bit case, 32 bytes for the 64-bit case.</span>
<span class="cm"> *</span>
<span class="cm"> * Note: The descriptor_type and Type fields must appear in the identical</span>
<span class="cm"> * position in both the struct acpi_namespace_node and union acpi_operand_object</span>
<span class="cm"> * structures.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">object</span><span class="p">;</span>	<span class="cm">/* Interpreter object */</span>
	<span class="n">u8</span> <span class="n">descriptor_type</span><span class="p">;</span>	<span class="cm">/* Differentiate object descriptor types */</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>		<span class="cm">/* ACPI Type associated with this name */</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>		<span class="cm">/* Miscellaneous flags */</span>
	<span class="n">acpi_owner_id</span> <span class="n">owner_id</span><span class="p">;</span>	<span class="cm">/* Node creator */</span>
	<span class="k">union</span> <span class="n">acpi_name_union</span> <span class="n">name</span><span class="p">;</span>	<span class="cm">/* ACPI Name, always 4 chars per ACPI spec */</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">parent</span><span class="p">;</span>	<span class="cm">/* Parent node */</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">child</span><span class="p">;</span>	<span class="cm">/* First child */</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">peer</span><span class="p">;</span>	<span class="cm">/* First peer */</span>

	<span class="cm">/*</span>
<span class="cm">	 * The following fields are used by the ASL compiler and disassembler only</span>
<span class="cm">	 */</span>
<span class="cp">#ifdef ACPI_LARGE_NAMESPACE_NODE</span>
	<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">op</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">value</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cm">/* Namespace Node flags */</span>

<span class="cp">#define ANOBJ_RESERVED                  0x01	</span><span class="cm">/* Available for use */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_TEMPORARY                 0x02	</span><span class="cm">/* Node is create by a method and is temporary */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_METHOD_ARG                0x04	</span><span class="cm">/* Node is a method argument */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_METHOD_LOCAL              0x08	</span><span class="cm">/* Node is a method local */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_SUBTREE_HAS_INI           0x10	</span><span class="cm">/* Used to optimize device initialization */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_EVALUATED                 0x20	</span><span class="cm">/* Set on first evaluation of node */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_ALLOCATED_BUFFER          0x40	</span><span class="cm">/* Method AML buffer is dynamic (install_method) */</span><span class="cp"></span>

<span class="cp">#define ANOBJ_IS_EXTERNAL               0x08	</span><span class="cm">/* i_aSL only: This object created via External() */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_METHOD_NO_RETVAL          0x10	</span><span class="cm">/* i_aSL only: Method has no return value */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_METHOD_SOME_NO_RETVAL     0x20	</span><span class="cm">/* i_aSL only: Method has at least one return value */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_IS_BIT_OFFSET             0x40	</span><span class="cm">/* i_aSL only: Reference is a bit offset */</span><span class="cp"></span>
<span class="cp">#define ANOBJ_IS_REFERENCED             0x80	</span><span class="cm">/* i_aSL only: Object was referenced */</span><span class="cp"></span>

<span class="cm">/* Internal ACPI table management - master table list */</span>

<span class="k">struct</span> <span class="n">acpi_table_list</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_table_desc</span> <span class="o">*</span><span class="n">tables</span><span class="p">;</span>	<span class="cm">/* Table descriptor array */</span>
	<span class="n">u32</span> <span class="n">current_table_count</span><span class="p">;</span>	<span class="cm">/* Tables currently in the array */</span>
	<span class="n">u32</span> <span class="n">max_table_count</span><span class="p">;</span>	<span class="cm">/* Max tables array will hold */</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Flags for above */</span>

<span class="cp">#define ACPI_ROOT_ORIGIN_UNKNOWN        (0)	</span><span class="cm">/* ~ORIGIN_ALLOCATED */</span><span class="cp"></span>
<span class="cp">#define ACPI_ROOT_ORIGIN_ALLOCATED      (1)</span>
<span class="cp">#define ACPI_ROOT_ALLOW_RESIZE          (2)</span>

<span class="cm">/* Predefined (fixed) table indexes */</span>

<span class="cp">#define ACPI_TABLE_INDEX_DSDT           (0)</span>
<span class="cp">#define ACPI_TABLE_INDEX_FACS           (1)</span>

<span class="k">struct</span> <span class="n">acpi_find_context</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">search_for</span><span class="p">;</span>
	<span class="n">acpi_handle</span> <span class="o">*</span><span class="n">list</span><span class="p">;</span>
	<span class="n">u32</span> <span class="o">*</span><span class="n">count</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_ns_search_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">node</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Object types used during package copies */</span>

<span class="cp">#define ACPI_COPY_TYPE_SIMPLE           0</span>
<span class="cp">#define ACPI_COPY_TYPE_PACKAGE          1</span>

<span class="cm">/* Info structure used to convert external&lt;-&gt;internal namestrings */</span>

<span class="k">struct</span> <span class="n">acpi_namestring_info</span> <span class="p">{</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">external_name</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">next_external_char</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">internal_name</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_segments</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_carats</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">fully_qualified</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Field creation info */</span>

<span class="k">struct</span> <span class="n">acpi_create_field_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">region_node</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">field_node</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">register_node</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">data_register_node</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">connection_node</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">resource_buffer</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">bank_value</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">field_bit_position</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">field_bit_length</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">resource_length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">field_flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">attribute</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">field_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">access_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">typedef</span>
<span class="n">acpi_status</span><span class="p">(</span><span class="o">*</span><span class="n">ACPI_INTERNAL_METHOD</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_walk_state</span> <span class="o">*</span> <span class="n">walk_state</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * Bitmapped ACPI types.  Used internally only</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_BTYPE_ANY                  0x00000000</span>
<span class="cp">#define ACPI_BTYPE_INTEGER              0x00000001</span>
<span class="cp">#define ACPI_BTYPE_STRING               0x00000002</span>
<span class="cp">#define ACPI_BTYPE_BUFFER               0x00000004</span>
<span class="cp">#define ACPI_BTYPE_PACKAGE              0x00000008</span>
<span class="cp">#define ACPI_BTYPE_FIELD_UNIT           0x00000010</span>
<span class="cp">#define ACPI_BTYPE_DEVICE               0x00000020</span>
<span class="cp">#define ACPI_BTYPE_EVENT                0x00000040</span>
<span class="cp">#define ACPI_BTYPE_METHOD               0x00000080</span>
<span class="cp">#define ACPI_BTYPE_MUTEX                0x00000100</span>
<span class="cp">#define ACPI_BTYPE_REGION               0x00000200</span>
<span class="cp">#define ACPI_BTYPE_POWER                0x00000400</span>
<span class="cp">#define ACPI_BTYPE_PROCESSOR            0x00000800</span>
<span class="cp">#define ACPI_BTYPE_THERMAL              0x00001000</span>
<span class="cp">#define ACPI_BTYPE_BUFFER_FIELD         0x00002000</span>
<span class="cp">#define ACPI_BTYPE_DDB_HANDLE           0x00004000</span>
<span class="cp">#define ACPI_BTYPE_DEBUG_OBJECT         0x00008000</span>
<span class="cp">#define ACPI_BTYPE_REFERENCE            0x00010000</span>
<span class="cp">#define ACPI_BTYPE_RESOURCE             0x00020000</span>

<span class="cp">#define ACPI_BTYPE_COMPUTE_DATA         (ACPI_BTYPE_INTEGER | ACPI_BTYPE_STRING | ACPI_BTYPE_BUFFER)</span>

<span class="cp">#define ACPI_BTYPE_DATA                 (ACPI_BTYPE_COMPUTE_DATA  | ACPI_BTYPE_PACKAGE)</span>
<span class="cp">#define ACPI_BTYPE_DATA_REFERENCE       (ACPI_BTYPE_DATA | ACPI_BTYPE_REFERENCE | ACPI_BTYPE_DDB_HANDLE)</span>
<span class="cp">#define ACPI_BTYPE_DEVICE_OBJECTS       (ACPI_BTYPE_DEVICE | ACPI_BTYPE_THERMAL | ACPI_BTYPE_PROCESSOR)</span>
<span class="cp">#define ACPI_BTYPE_OBJECTS_AND_REFS     0x0001FFFF	</span><span class="cm">/* ARG or LOCAL */</span><span class="cp"></span>
<span class="cp">#define ACPI_BTYPE_ALL_OBJECTS          0x0000FFFF</span>

<span class="cm">/*</span>
<span class="cm"> * Information structure for ACPI predefined names.</span>
<span class="cm"> * Each entry in the table contains the following items:</span>
<span class="cm"> *</span>
<span class="cm"> * Name                 - The ACPI reserved name</span>
<span class="cm"> * param_count          - Number of arguments to the method</span>
<span class="cm"> * expected_return_btypes - Allowed type(s) for the return value</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_name_info</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="n">ACPI_NAME_SIZE</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">param_count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">expected_btypes</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Secondary information structures for ACPI predefined objects that return</span>
<span class="cm"> * package objects. This structure appears as the next entry in the table</span>
<span class="cm"> * after the NAME_INFO structure above.</span>
<span class="cm"> *</span>
<span class="cm"> * The reason for this is to minimize the size of the predefined name table.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Used for ACPI_PTYPE1_FIXED, ACPI_PTYPE1_VAR, ACPI_PTYPE2,</span>
<span class="cm"> * ACPI_PTYPE2_MIN, ACPI_PTYPE2_PKG_COUNT, ACPI_PTYPE2_COUNT,</span>
<span class="cm"> * ACPI_PTYPE2_FIX_VAR</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_package_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">object_type1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">count1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">object_type2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">count2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Used for ACPI_PTYPE2_FIXED */</span>

<span class="k">struct</span> <span class="n">acpi_package_info2</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">object_type</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* Used for ACPI_PTYPE1_OPTION */</span>

<span class="k">struct</span> <span class="n">acpi_package_info3</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">object_type</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">tail_object_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">acpi_predefined_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_name_info</span> <span class="n">info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_package_info</span> <span class="n">ret_info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_package_info2</span> <span class="n">ret_info2</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_package_info3</span> <span class="n">ret_info3</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Data block used during object validation */</span>

<span class="k">struct</span> <span class="n">acpi_predefined_data</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">pathname</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">union</span> <span class="n">acpi_predefined_info</span> <span class="o">*</span><span class="n">predefined</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">parent_package</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">node</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">node_flags</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Defines for Flags field above */</span>

<span class="cp">#define ACPI_OBJECT_REPAIRED    1</span>
<span class="cp">#define ACPI_OBJECT_WRAPPED     2</span>

<span class="cm">/*</span>
<span class="cm"> * Bitmapped return value types</span>
<span class="cm"> * Note: the actual data types must be contiguous, a loop in nspredef.c</span>
<span class="cm"> * depends on this.</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_RTYPE_ANY                  0x00</span>
<span class="cp">#define ACPI_RTYPE_NONE                 0x01</span>
<span class="cp">#define ACPI_RTYPE_INTEGER              0x02</span>
<span class="cp">#define ACPI_RTYPE_STRING               0x04</span>
<span class="cp">#define ACPI_RTYPE_BUFFER               0x08</span>
<span class="cp">#define ACPI_RTYPE_PACKAGE              0x10</span>
<span class="cp">#define ACPI_RTYPE_REFERENCE            0x20</span>
<span class="cp">#define ACPI_RTYPE_ALL                  0x3F</span>

<span class="cp">#define ACPI_NUM_RTYPES                 5	</span><span class="cm">/* Number of actual object types */</span><span class="cp"></span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Event typedefs and structs</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/* Dispatch info for each GPE -- either a method or handler, cannot be both */</span>

<span class="k">struct</span> <span class="n">acpi_gpe_handler_info</span> <span class="p">{</span>
	<span class="n">acpi_gpe_handler</span> <span class="n">address</span><span class="p">;</span>	<span class="cm">/* Address of handler, if any */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">;</span>		<span class="cm">/* Context to be passed to handler */</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">method_node</span><span class="p">;</span>	<span class="cm">/* Method node for this GPE level (saved) */</span>
	<span class="n">u8</span> <span class="n">original_flags</span><span class="p">;</span>      <span class="cm">/* Original (pre-handler) GPE info */</span>
	<span class="n">u8</span> <span class="n">originally_enabled</span><span class="p">;</span>  <span class="cm">/* True if GPE was originally enabled */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_gpe_notify_object</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">node</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_notify_object</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">acpi_gpe_dispatch_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">method_node</span><span class="p">;</span>	<span class="cm">/* Method node for this GPE level */</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_handler_info</span> <span class="o">*</span><span class="n">handler</span><span class="p">;</span>  <span class="cm">/* Installed GPE handler */</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_notify_object</span> <span class="n">device</span><span class="p">;</span>   <span class="cm">/* List of _PRW devices for implicit notify */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Information about a GPE, one per each GPE in an array.</span>
<span class="cm"> * NOTE: Important to keep this struct as small as possible.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_gpe_event_info</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">acpi_gpe_dispatch_info</span> <span class="n">dispatch</span><span class="p">;</span>	<span class="cm">/* Either Method or Handler */</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_register_info</span> <span class="o">*</span><span class="n">register_info</span><span class="p">;</span>	<span class="cm">/* Backpointer to register info */</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>		<span class="cm">/* Misc info about this GPE */</span>
	<span class="n">u8</span> <span class="n">gpe_number</span><span class="p">;</span>		<span class="cm">/* This GPE */</span>
	<span class="n">u8</span> <span class="n">runtime_count</span><span class="p">;</span>	<span class="cm">/* References to a run GPE */</span>
<span class="p">};</span>

<span class="cm">/* Information about a GPE register pair, one per each status/enable pair in an array */</span>

<span class="k">struct</span> <span class="n">acpi_gpe_register_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">status_address</span><span class="p">;</span>	<span class="cm">/* Address of status reg */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">enable_address</span><span class="p">;</span>	<span class="cm">/* Address of enable reg */</span>
	<span class="n">u8</span> <span class="n">enable_for_wake</span><span class="p">;</span>	<span class="cm">/* GPEs to keep enabled when sleeping */</span>
	<span class="n">u8</span> <span class="n">enable_for_run</span><span class="p">;</span>	<span class="cm">/* GPEs to keep enabled when running */</span>
	<span class="n">u8</span> <span class="n">base_gpe_number</span><span class="p">;</span>	<span class="cm">/* Base GPE number for this register */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Information about a GPE register block, one per each installed block --</span>
<span class="cm"> * GPE0, GPE1, and one per each installed GPE Block Device.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_gpe_block_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">node</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_block_info</span> <span class="o">*</span><span class="n">previous</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_block_info</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_xrupt_info</span> <span class="o">*</span><span class="n">xrupt_block</span><span class="p">;</span>	<span class="cm">/* Backpointer to interrupt block */</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_register_info</span> <span class="o">*</span><span class="n">register_info</span><span class="p">;</span>	<span class="cm">/* One per GPE register pair */</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_event_info</span> <span class="o">*</span><span class="n">event_info</span><span class="p">;</span>	<span class="cm">/* One for each GPE */</span>
	<span class="k">struct</span> <span class="n">acpi_generic_address</span> <span class="n">block_address</span><span class="p">;</span>	<span class="cm">/* Base address of the block */</span>
	<span class="n">u32</span> <span class="n">register_count</span><span class="p">;</span>	<span class="cm">/* Number of register pairs in block */</span>
	<span class="n">u16</span> <span class="n">gpe_count</span><span class="p">;</span>		<span class="cm">/* Number of individual GPEs in block */</span>
	<span class="n">u8</span> <span class="n">block_base_number</span><span class="p">;</span>	<span class="cm">/* Base GPE number for this block */</span>
	<span class="n">u8</span> <span class="n">initialized</span><span class="p">;</span>         <span class="cm">/* TRUE if this block is initialized */</span>
<span class="p">};</span>

<span class="cm">/* Information about GPE interrupt handlers, one per each interrupt level used for GPEs */</span>

<span class="k">struct</span> <span class="n">acpi_gpe_xrupt_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_xrupt_info</span> <span class="o">*</span><span class="n">previous</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_xrupt_info</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_block_info</span> <span class="o">*</span><span class="n">gpe_block_list_head</span><span class="p">;</span>	<span class="cm">/* List of GPE blocks for this xrupt */</span>
	<span class="n">u32</span> <span class="n">interrupt_number</span><span class="p">;</span>	<span class="cm">/* System interrupt number */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_gpe_walk_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">gpe_device</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_gpe_block_info</span> <span class="o">*</span><span class="n">gpe_block</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">count</span><span class="p">;</span>
	<span class="n">acpi_owner_id</span> <span class="n">owner_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">execute_by_owner_id</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_gpe_device_info</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">index</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">next_block_base_index</span><span class="p">;</span>
	<span class="n">acpi_status</span> <span class="n">status</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">gpe_device</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">typedef</span> <span class="n">acpi_status</span><span class="p">(</span><span class="o">*</span><span class="n">acpi_gpe_callback</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_gpe_xrupt_info</span> <span class="o">*</span><span class="n">gpe_xrupt_info</span><span class="p">,</span>
		<span class="k">struct</span> <span class="n">acpi_gpe_block_info</span> <span class="o">*</span><span class="n">gpe_block</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">);</span>

<span class="cm">/* Information about each particular fixed event */</span>

<span class="k">struct</span> <span class="n">acpi_fixed_event_handler</span> <span class="p">{</span>
	<span class="n">acpi_event_handler</span> <span class="n">handler</span><span class="p">;</span>	<span class="cm">/* Address of handler. */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">context</span><span class="p">;</span>		<span class="cm">/* Context to be passed to handler */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_fixed_event_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">status_register_id</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">enable_register_id</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">status_bit_mask</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">enable_bit_mask</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Information used during field processing */</span>

<span class="k">struct</span> <span class="n">acpi_field_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">skip_field</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">field_flag</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pkg_length</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Generic &quot;state&quot; object for stacks</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cp">#define ACPI_CONTROL_NORMAL                  0xC0</span>
<span class="cp">#define ACPI_CONTROL_CONDITIONAL_EXECUTING   0xC1</span>
<span class="cp">#define ACPI_CONTROL_PREDICATE_EXECUTING     0xC2</span>
<span class="cp">#define ACPI_CONTROL_PREDICATE_FALSE         0xC3</span>
<span class="cp">#define ACPI_CONTROL_PREDICATE_TRUE          0xC4</span>

<span class="cp">#define ACPI_STATE_COMMON \</span>
<span class="cp">	void                            *next; \</span>
<span class="cp">	u8                              descriptor_type; </span><span class="cm">/* To differentiate various internal objs */</span><span class="cp">\</span>
<span class="cp">	u8                              flags; \</span>
<span class="cp">	u16                             value; \</span>
<span class="cp">	u16                             state;</span>

	<span class="cm">/* There are 2 bytes available here until the next natural alignment boundary */</span>

<span class="k">struct</span> <span class="n">acpi_common_state</span> <span class="p">{</span>
<span class="n">ACPI_STATE_COMMON</span><span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Update state - used to traverse complex objects such as packages</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_update_state</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span> <span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">object</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Pkg state - used to traverse nested package structures</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_pkg_state</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span> <span class="n">u16</span> <span class="n">index</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">source_object</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">dest_object</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_walk_state</span> <span class="o">*</span><span class="n">walk_state</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">this_target_obj</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_packages</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Control state - one per if/else and while constructs.</span>
<span class="cm"> * Allows nesting of these constructs</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_control_state</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span> <span class="n">u16</span> <span class="n">opcode</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">predicate_op</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">aml_predicate_start</span><span class="p">;</span>	<span class="cm">/* Start of if/while predicate */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">package_end</span><span class="p">;</span>	<span class="cm">/* End of if/while block */</span>
	<span class="n">u32</span> <span class="n">loop_count</span><span class="p">;</span>		<span class="cm">/* While() loop counter */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Scope state - current scope during namespace lookups</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_scope_state</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span> <span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">node</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_pscope_state</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span> <span class="n">u32</span> <span class="n">arg_count</span><span class="p">;</span>	<span class="cm">/* Number of fixed arguments */</span>
	<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">op</span><span class="p">;</span>	<span class="cm">/* Current op being parsed */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">arg_end</span><span class="p">;</span>		<span class="cm">/* Current argument end */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">pkg_end</span><span class="p">;</span>		<span class="cm">/* Current package end */</span>
	<span class="n">u32</span> <span class="n">arg_list</span><span class="p">;</span>		<span class="cm">/* Next argument to parse */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Thread state - one per thread across multiple walk states.  Multiple walk</span>
<span class="cm"> * states are created when there are nested control methods executing.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_thread_state</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span> <span class="n">u8</span> <span class="n">current_sync_level</span><span class="p">;</span>	<span class="cm">/* Mutex Sync (nested acquire) level */</span>
	<span class="k">struct</span> <span class="n">acpi_walk_state</span> <span class="o">*</span><span class="n">walk_state_list</span><span class="p">;</span>	<span class="cm">/* Head of list of walk_states for this thread */</span>
	<span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">acquired_mutex_list</span><span class="p">;</span>	<span class="cm">/* List of all currently acquired mutexes */</span>
	<span class="n">acpi_thread_id</span> <span class="n">thread_id</span><span class="p">;</span>	<span class="cm">/* Running thread ID */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Result values - used to accumulate the results of nested</span>
<span class="cm"> * AML arguments</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_result_values</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span>
	    <span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">obj_desc</span><span class="p">[</span><span class="n">ACPI_RESULTS_FRAME_OBJ_NUM</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">typedef</span>
<span class="n">acpi_status</span><span class="p">(</span><span class="o">*</span><span class="n">acpi_parse_downwards</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_walk_state</span> <span class="o">*</span> <span class="n">walk_state</span><span class="p">,</span>
				    <span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">**</span> <span class="n">out_op</span><span class="p">);</span>

<span class="k">typedef</span> <span class="n">acpi_status</span><span class="p">(</span><span class="o">*</span><span class="n">acpi_parse_upwards</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_walk_state</span> <span class="o">*</span> <span class="n">walk_state</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * Notify info - used to pass info to the deferred notify</span>
<span class="cm"> * handler/dispatcher.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_notify_info</span> <span class="p">{</span>
	<span class="n">ACPI_STATE_COMMON</span> <span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">node</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_operand_object</span> <span class="o">*</span><span class="n">handler_obj</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Generic state is union of structs above */</span>

<span class="k">union</span> <span class="n">acpi_generic_state</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_common_state</span> <span class="n">common</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_control_state</span> <span class="n">control</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_update_state</span> <span class="n">update</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_scope_state</span> <span class="n">scope</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_pscope_state</span> <span class="n">parse_scope</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_pkg_state</span> <span class="n">pkg</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_thread_state</span> <span class="kr">thread</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_result_values</span> <span class="n">results</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_notify_info</span> <span class="n">notify</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Interpreter typedefs and structs</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="k">typedef</span> <span class="n">acpi_status</span><span class="p">(</span><span class="o">*</span><span class="n">ACPI_EXECUTE_OP</span><span class="p">)</span> <span class="p">(</span><span class="k">struct</span> <span class="n">acpi_walk_state</span> <span class="o">*</span> <span class="n">walk_state</span><span class="p">);</span>

<span class="cm">/* Address Range info block */</span>

<span class="k">struct</span> <span class="n">acpi_address_range</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_address_range</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">region_node</span><span class="p">;</span>
	<span class="n">acpi_physical_address</span> <span class="n">start_address</span><span class="p">;</span>
	<span class="n">acpi_physical_address</span> <span class="n">end_address</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Parser typedefs and structs</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> * AML opcode, name, and argument layout</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_opcode_info</span> <span class="p">{</span>
<span class="cp">#if defined(ACPI_DISASSEMBLER) || defined(ACPI_DEBUG_OUTPUT)</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>		<span class="cm">/* Opcode name (disassembler/debug only) */</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">parse_args</span><span class="p">;</span>		<span class="cm">/* Grammar/Parse time arguments */</span>
	<span class="n">u32</span> <span class="n">runtime_args</span><span class="p">;</span>	<span class="cm">/* Interpret time arguments */</span>
	<span class="n">u16</span> <span class="n">flags</span><span class="p">;</span>		<span class="cm">/* Misc flags */</span>
	<span class="n">u8</span> <span class="n">object_type</span><span class="p">;</span>		<span class="cm">/* Corresponding internal object type */</span>
	<span class="n">u8</span> <span class="n">class</span><span class="p">;</span>		<span class="cm">/* Opcode class */</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>		<span class="cm">/* Opcode type */</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">acpi_parse_value</span> <span class="p">{</span>
	<span class="n">u64</span> <span class="n">integer</span><span class="p">;</span>		<span class="cm">/* Integer constant (Up to 64 bits) */</span>
	<span class="n">u32</span> <span class="n">size</span><span class="p">;</span>		<span class="cm">/* bytelist or field size */</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">string</span><span class="p">;</span>		<span class="cm">/* NULL terminated string */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buffer</span><span class="p">;</span>		<span class="cm">/* buffer or string */</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>		<span class="cm">/* NULL terminated string */</span>
	<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">arg</span><span class="p">;</span>	<span class="cm">/* arguments and contained ops */</span>
<span class="p">};</span>

<span class="cp">#ifdef ACPI_DISASSEMBLER</span>
<span class="cp">#define ACPI_DISASM_ONLY_MEMBERS(a)     a;</span>
<span class="cp">#else</span>
<span class="cp">#define ACPI_DISASM_ONLY_MEMBERS(a)</span>
<span class="cp">#endif</span>

<span class="cp">#define ACPI_PARSE_COMMON \</span>
<span class="cp">	union acpi_parse_object         *parent;        </span><span class="cm">/* Parent op */</span><span class="cp">\</span>
<span class="cp">	u8                              descriptor_type; </span><span class="cm">/* To differentiate various internal objs */</span><span class="cp">\</span>
<span class="cp">	u8                              flags;          </span><span class="cm">/* Type of Op */</span><span class="cp">\</span>
<span class="cp">	u16                             aml_opcode;     </span><span class="cm">/* AML opcode */</span><span class="cp">\</span>
<span class="cp">	u32                             aml_offset;     </span><span class="cm">/* Offset of declaration in AML */</span><span class="cp">\</span>
<span class="cp">	union acpi_parse_object         *next;          </span><span class="cm">/* Next op */</span><span class="cp">\</span>
<span class="cp">	struct acpi_namespace_node      *node;          </span><span class="cm">/* For use by interpreter */</span><span class="cp">\</span>
<span class="cp">	union acpi_parse_value          value;          </span><span class="cm">/* Value or args associated with the opcode */</span><span class="cp">\</span>
<span class="cp">	u8                              arg_list_length; </span><span class="cm">/* Number of elements in the arg list */</span><span class="cp">\</span>
<span class="cp">	ACPI_DISASM_ONLY_MEMBERS (\</span>
<span class="cp">	u8                              disasm_flags;   </span><span class="cm">/* Used during AML disassembly */</span><span class="cp">\</span>
<span class="cp">	u8                              disasm_opcode;  </span><span class="cm">/* Subtype used for disassembly */</span><span class="cp">\</span>
<span class="cp">	char                            aml_op_name[16])	</span><span class="cm">/* Op name (debug only) */</span><span class="cp"></span>

<span class="cp">#define ACPI_DASM_BUFFER                0x00</span>
<span class="cp">#define ACPI_DASM_RESOURCE              0x01</span>
<span class="cp">#define ACPI_DASM_STRING                0x02</span>
<span class="cp">#define ACPI_DASM_UNICODE               0x03</span>
<span class="cp">#define ACPI_DASM_EISAID                0x04</span>
<span class="cp">#define ACPI_DASM_MATCHOP               0x05</span>
<span class="cp">#define ACPI_DASM_LNOT_PREFIX           0x06</span>
<span class="cp">#define ACPI_DASM_LNOT_SUFFIX           0x07</span>
<span class="cp">#define ACPI_DASM_IGNORE                0x08</span>

<span class="cm">/*</span>
<span class="cm"> * Generic operation (for example:  If, While, Store)</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_parse_obj_common</span> <span class="p">{</span>
<span class="n">ACPI_PARSE_COMMON</span><span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Extended Op for named ops (Scope, Method, etc.), deferred ops (Methods and op_regions),</span>
<span class="cm"> * and bytelists.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_parse_obj_named</span> <span class="p">{</span>
	<span class="n">ACPI_PARSE_COMMON</span> <span class="n">u8</span> <span class="o">*</span><span class="n">path</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>		<span class="cm">/* AML body or bytelist data */</span>
	<span class="n">u32</span> <span class="n">length</span><span class="p">;</span>		<span class="cm">/* AML length */</span>
	<span class="n">u32</span> <span class="n">name</span><span class="p">;</span>		<span class="cm">/* 4-byte name or zero if no name */</span>
<span class="p">};</span>

<span class="cm">/* This version is used by the i_aSL compiler only */</span>

<span class="cp">#define ACPI_MAX_PARSEOP_NAME   20</span>

<span class="k">struct</span> <span class="n">acpi_parse_obj_asl</span> <span class="p">{</span>
	<span class="n">ACPI_PARSE_COMMON</span> <span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">child</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">parent_method</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">filename</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">external_name</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">namepath</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">name_seg</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">extra_value</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">column</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">line_number</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">logical_line_number</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">logical_byte_offset</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">end_line</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">end_logical_line</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">acpi_btype</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">aml_length</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">aml_subtree_length</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">final_aml_length</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">final_aml_offset</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">compile_flags</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">parse_opcode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">aml_opcode_length</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">aml_pkg_len_bytes</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">extra</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">parse_op_name</span><span class="p">[</span><span class="n">ACPI_MAX_PARSEOP_NAME</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">acpi_parse_obj_common</span> <span class="n">common</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_parse_obj_named</span> <span class="n">named</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_parse_obj_asl</span> <span class="n">asl</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Parse state - one state per parser invocation and each control</span>
<span class="cm"> * method.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">acpi_parse_state</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">aml_start</span><span class="p">;</span>		<span class="cm">/* First AML byte */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">aml</span><span class="p">;</span>		<span class="cm">/* Next AML byte */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">aml_end</span><span class="p">;</span>		<span class="cm">/* (last + 1) AML byte */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">pkg_start</span><span class="p">;</span>		<span class="cm">/* Current package begin */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">pkg_end</span><span class="p">;</span>		<span class="cm">/* Current package end */</span>
	<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">start_op</span><span class="p">;</span>	<span class="cm">/* Root of parse tree */</span>
	<span class="k">struct</span> <span class="n">acpi_namespace_node</span> <span class="o">*</span><span class="n">start_node</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">acpi_generic_state</span> <span class="o">*</span><span class="n">scope</span><span class="p">;</span>	<span class="cm">/* Current scope */</span>
	<span class="k">union</span> <span class="n">acpi_parse_object</span> <span class="o">*</span><span class="n">start_scope</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">aml_size</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Parse object flags */</span>

<span class="cp">#define ACPI_PARSEOP_GENERIC            0x01</span>
<span class="cp">#define ACPI_PARSEOP_NAMED              0x02</span>
<span class="cp">#define ACPI_PARSEOP_DEFERRED           0x04</span>
<span class="cp">#define ACPI_PARSEOP_BYTELIST           0x08</span>
<span class="cp">#define ACPI_PARSEOP_IN_STACK           0x10</span>
<span class="cp">#define ACPI_PARSEOP_TARGET             0x20</span>
<span class="cp">#define ACPI_PARSEOP_IN_CACHE           0x80</span>

<span class="cm">/* Parse object disasm_flags */</span>

<span class="cp">#define ACPI_PARSEOP_IGNORE             0x01</span>
<span class="cp">#define ACPI_PARSEOP_PARAMLIST          0x02</span>
<span class="cp">#define ACPI_PARSEOP_EMPTY_TERMLIST     0x04</span>
<span class="cp">#define ACPI_PARSEOP_SPECIAL            0x10</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Hardware (ACPI registers) and PNP</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="k">struct</span> <span class="n">acpi_bit_register_info</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">parent_register</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bit_position</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">access_bit_mask</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Some ACPI registers have bits that must be ignored -- meaning that they</span>
<span class="cm"> * must be preserved.</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_PM1_STATUS_PRESERVED_BITS          0x0800	</span><span class="cm">/* Bit 11 */</span><span class="cp"></span>

<span class="cm">/* Write-only bits must be zeroed by software */</span>

<span class="cp">#define ACPI_PM1_CONTROL_WRITEONLY_BITS         0x2004	</span><span class="cm">/* Bits 13, 2 */</span><span class="cp"></span>

<span class="cm">/* For control registers, both ignored and reserved bits must be preserved */</span>

<span class="cm">/*</span>
<span class="cm"> * For PM1 control, the SCI enable bit (bit 0, SCI_EN) is defined by the</span>
<span class="cm"> * ACPI specification to be a &quot;preserved&quot; bit - &quot;OSPM always preserves this</span>
<span class="cm"> * bit position&quot;, section 4.7.3.2.1. However, on some machines the OS must</span>
<span class="cm"> * write a one to this bit after resume for the machine to work properly.</span>
<span class="cm"> * To enable this, we no longer attempt to preserve this bit. No machines</span>
<span class="cm"> * are known to fail if the bit is not preserved. (May 2009)</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_PM1_CONTROL_IGNORED_BITS           0x0200	</span><span class="cm">/* Bit 9 */</span><span class="cp"></span>
<span class="cp">#define ACPI_PM1_CONTROL_RESERVED_BITS          0xC1F8	</span><span class="cm">/* Bits 14-15, 3-8 */</span><span class="cp"></span>
<span class="cp">#define ACPI_PM1_CONTROL_PRESERVED_BITS \</span>
<span class="cp">	       (ACPI_PM1_CONTROL_IGNORED_BITS | ACPI_PM1_CONTROL_RESERVED_BITS)</span>

<span class="cp">#define ACPI_PM2_CONTROL_PRESERVED_BITS         0xFFFFFFFE	</span><span class="cm">/* All except bit 0 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Register IDs</span>
<span class="cm"> * These are the full ACPI registers</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_REGISTER_PM1_STATUS                0x01</span>
<span class="cp">#define ACPI_REGISTER_PM1_ENABLE                0x02</span>
<span class="cp">#define ACPI_REGISTER_PM1_CONTROL               0x03</span>
<span class="cp">#define ACPI_REGISTER_PM2_CONTROL               0x04</span>
<span class="cp">#define ACPI_REGISTER_PM_TIMER                  0x05</span>
<span class="cp">#define ACPI_REGISTER_PROCESSOR_BLOCK           0x06</span>
<span class="cp">#define ACPI_REGISTER_SMI_COMMAND_BLOCK         0x07</span>

<span class="cm">/* Masks used to access the bit_registers */</span>

<span class="cp">#define ACPI_BITMASK_TIMER_STATUS               0x0001</span>
<span class="cp">#define ACPI_BITMASK_BUS_MASTER_STATUS          0x0010</span>
<span class="cp">#define ACPI_BITMASK_GLOBAL_LOCK_STATUS         0x0020</span>
<span class="cp">#define ACPI_BITMASK_POWER_BUTTON_STATUS        0x0100</span>
<span class="cp">#define ACPI_BITMASK_SLEEP_BUTTON_STATUS        0x0200</span>
<span class="cp">#define ACPI_BITMASK_RT_CLOCK_STATUS            0x0400</span>
<span class="cp">#define ACPI_BITMASK_PCIEXP_WAKE_STATUS         0x4000	</span><span class="cm">/* ACPI 3.0 */</span><span class="cp"></span>
<span class="cp">#define ACPI_BITMASK_WAKE_STATUS                0x8000</span>

<span class="cp">#define ACPI_BITMASK_ALL_FIXED_STATUS           (\</span>
<span class="cp">	ACPI_BITMASK_TIMER_STATUS          | \</span>
<span class="cp">	ACPI_BITMASK_BUS_MASTER_STATUS     | \</span>
<span class="cp">	ACPI_BITMASK_GLOBAL_LOCK_STATUS    | \</span>
<span class="cp">	ACPI_BITMASK_POWER_BUTTON_STATUS   | \</span>
<span class="cp">	ACPI_BITMASK_SLEEP_BUTTON_STATUS   | \</span>
<span class="cp">	ACPI_BITMASK_RT_CLOCK_STATUS       | \</span>
<span class="cp">	ACPI_BITMASK_PCIEXP_WAKE_STATUS    | \</span>
<span class="cp">	ACPI_BITMASK_WAKE_STATUS)</span>

<span class="cp">#define ACPI_BITMASK_TIMER_ENABLE               0x0001</span>
<span class="cp">#define ACPI_BITMASK_GLOBAL_LOCK_ENABLE         0x0020</span>
<span class="cp">#define ACPI_BITMASK_POWER_BUTTON_ENABLE        0x0100</span>
<span class="cp">#define ACPI_BITMASK_SLEEP_BUTTON_ENABLE        0x0200</span>
<span class="cp">#define ACPI_BITMASK_RT_CLOCK_ENABLE            0x0400</span>
<span class="cp">#define ACPI_BITMASK_PCIEXP_WAKE_DISABLE        0x4000	</span><span class="cm">/* ACPI 3.0 */</span><span class="cp"></span>

<span class="cp">#define ACPI_BITMASK_SCI_ENABLE                 0x0001</span>
<span class="cp">#define ACPI_BITMASK_BUS_MASTER_RLD             0x0002</span>
<span class="cp">#define ACPI_BITMASK_GLOBAL_LOCK_RELEASE        0x0004</span>
<span class="cp">#define ACPI_BITMASK_SLEEP_TYPE                 0x1C00</span>
<span class="cp">#define ACPI_BITMASK_SLEEP_ENABLE               0x2000</span>

<span class="cp">#define ACPI_BITMASK_ARB_DISABLE                0x0001</span>

<span class="cm">/* Raw bit position of each bit_register */</span>

<span class="cp">#define ACPI_BITPOSITION_TIMER_STATUS           0x00</span>
<span class="cp">#define ACPI_BITPOSITION_BUS_MASTER_STATUS      0x04</span>
<span class="cp">#define ACPI_BITPOSITION_GLOBAL_LOCK_STATUS     0x05</span>
<span class="cp">#define ACPI_BITPOSITION_POWER_BUTTON_STATUS    0x08</span>
<span class="cp">#define ACPI_BITPOSITION_SLEEP_BUTTON_STATUS    0x09</span>
<span class="cp">#define ACPI_BITPOSITION_RT_CLOCK_STATUS        0x0A</span>
<span class="cp">#define ACPI_BITPOSITION_PCIEXP_WAKE_STATUS     0x0E	</span><span class="cm">/* ACPI 3.0 */</span><span class="cp"></span>
<span class="cp">#define ACPI_BITPOSITION_WAKE_STATUS            0x0F</span>

<span class="cp">#define ACPI_BITPOSITION_TIMER_ENABLE           0x00</span>
<span class="cp">#define ACPI_BITPOSITION_GLOBAL_LOCK_ENABLE     0x05</span>
<span class="cp">#define ACPI_BITPOSITION_POWER_BUTTON_ENABLE    0x08</span>
<span class="cp">#define ACPI_BITPOSITION_SLEEP_BUTTON_ENABLE    0x09</span>
<span class="cp">#define ACPI_BITPOSITION_RT_CLOCK_ENABLE        0x0A</span>
<span class="cp">#define ACPI_BITPOSITION_PCIEXP_WAKE_DISABLE    0x0E	</span><span class="cm">/* ACPI 3.0 */</span><span class="cp"></span>

<span class="cp">#define ACPI_BITPOSITION_SCI_ENABLE             0x00</span>
<span class="cp">#define ACPI_BITPOSITION_BUS_MASTER_RLD         0x01</span>
<span class="cp">#define ACPI_BITPOSITION_GLOBAL_LOCK_RELEASE    0x02</span>
<span class="cp">#define ACPI_BITPOSITION_SLEEP_TYPE             0x0A</span>
<span class="cp">#define ACPI_BITPOSITION_SLEEP_ENABLE           0x0D</span>

<span class="cp">#define ACPI_BITPOSITION_ARB_DISABLE            0x00</span>

<span class="cm">/* Structs and definitions for _OSI support and I/O port validation */</span>

<span class="cp">#define ACPI_OSI_WIN_2000               0x01</span>
<span class="cp">#define ACPI_OSI_WIN_XP                 0x02</span>
<span class="cp">#define ACPI_OSI_WIN_XP_SP1             0x03</span>
<span class="cp">#define ACPI_OSI_WINSRV_2003            0x04</span>
<span class="cp">#define ACPI_OSI_WIN_XP_SP2             0x05</span>
<span class="cp">#define ACPI_OSI_WINSRV_2003_SP1        0x06</span>
<span class="cp">#define ACPI_OSI_WIN_VISTA              0x07</span>
<span class="cp">#define ACPI_OSI_WINSRV_2008            0x08</span>
<span class="cp">#define ACPI_OSI_WIN_VISTA_SP1          0x09</span>
<span class="cp">#define ACPI_OSI_WIN_VISTA_SP2          0x0A</span>
<span class="cp">#define ACPI_OSI_WIN_7                  0x0B</span>

<span class="cp">#define ACPI_ALWAYS_ILLEGAL             0x00</span>

<span class="k">struct</span> <span class="n">acpi_interface_info</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">acpi_interface_info</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">value</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define ACPI_OSI_INVALID                0x01</span>
<span class="cp">#define ACPI_OSI_DYNAMIC                0x02</span>

<span class="k">struct</span> <span class="n">acpi_port_info</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">start</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">end</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">osi_dependency</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Resource descriptors</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/* resource_type values */</span>

<span class="cp">#define ACPI_ADDRESS_TYPE_MEMORY_RANGE          0</span>
<span class="cp">#define ACPI_ADDRESS_TYPE_IO_RANGE              1</span>
<span class="cp">#define ACPI_ADDRESS_TYPE_BUS_NUMBER_RANGE      2</span>

<span class="cm">/* Resource descriptor types and masks */</span>

<span class="cp">#define ACPI_RESOURCE_NAME_LARGE                0x80</span>
<span class="cp">#define ACPI_RESOURCE_NAME_SMALL                0x00</span>

<span class="cp">#define ACPI_RESOURCE_NAME_SMALL_MASK           0x78	</span><span class="cm">/* Bits 6:3 contain the type */</span><span class="cp"></span>
<span class="cp">#define ACPI_RESOURCE_NAME_SMALL_LENGTH_MASK    0x07	</span><span class="cm">/* Bits 2:0 contain the length */</span><span class="cp"></span>
<span class="cp">#define ACPI_RESOURCE_NAME_LARGE_MASK           0x7F	</span><span class="cm">/* Bits 6:0 contain the type */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Small resource descriptor &quot;names&quot; as defined by the ACPI specification.</span>
<span class="cm"> * Note: Bits 2:0 are used for the descriptor length</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_RESOURCE_NAME_IRQ                  0x20</span>
<span class="cp">#define ACPI_RESOURCE_NAME_DMA                  0x28</span>
<span class="cp">#define ACPI_RESOURCE_NAME_START_DEPENDENT      0x30</span>
<span class="cp">#define ACPI_RESOURCE_NAME_END_DEPENDENT        0x38</span>
<span class="cp">#define ACPI_RESOURCE_NAME_IO                   0x40</span>
<span class="cp">#define ACPI_RESOURCE_NAME_FIXED_IO             0x48</span>
<span class="cp">#define ACPI_RESOURCE_NAME_FIXED_DMA            0x50</span>
<span class="cp">#define ACPI_RESOURCE_NAME_RESERVED_S2          0x58</span>
<span class="cp">#define ACPI_RESOURCE_NAME_RESERVED_S3          0x60</span>
<span class="cp">#define ACPI_RESOURCE_NAME_RESERVED_S4          0x68</span>
<span class="cp">#define ACPI_RESOURCE_NAME_VENDOR_SMALL         0x70</span>
<span class="cp">#define ACPI_RESOURCE_NAME_END_TAG              0x78</span>

<span class="cm">/*</span>
<span class="cm"> * Large resource descriptor &quot;names&quot; as defined by the ACPI specification.</span>
<span class="cm"> * Note: includes the Large Descriptor bit in bit[7]</span>
<span class="cm"> */</span>
<span class="cp">#define ACPI_RESOURCE_NAME_MEMORY24             0x81</span>
<span class="cp">#define ACPI_RESOURCE_NAME_GENERIC_REGISTER     0x82</span>
<span class="cp">#define ACPI_RESOURCE_NAME_RESERVED_L1          0x83</span>
<span class="cp">#define ACPI_RESOURCE_NAME_VENDOR_LARGE         0x84</span>
<span class="cp">#define ACPI_RESOURCE_NAME_MEMORY32             0x85</span>
<span class="cp">#define ACPI_RESOURCE_NAME_FIXED_MEMORY32       0x86</span>
<span class="cp">#define ACPI_RESOURCE_NAME_ADDRESS32            0x87</span>
<span class="cp">#define ACPI_RESOURCE_NAME_ADDRESS16            0x88</span>
<span class="cp">#define ACPI_RESOURCE_NAME_EXTENDED_IRQ         0x89</span>
<span class="cp">#define ACPI_RESOURCE_NAME_ADDRESS64            0x8A</span>
<span class="cp">#define ACPI_RESOURCE_NAME_EXTENDED_ADDRESS64   0x8B</span>
<span class="cp">#define ACPI_RESOURCE_NAME_GPIO                 0x8C</span>
<span class="cp">#define ACPI_RESOURCE_NAME_SERIAL_BUS           0x8E</span>
<span class="cp">#define ACPI_RESOURCE_NAME_LARGE_MAX            0x8E</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Miscellaneous</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cp">#define ACPI_ASCII_ZERO                 0x30</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Debugger</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="k">struct</span> <span class="n">acpi_db_method_info</span> <span class="p">{</span>
	<span class="n">acpi_handle</span> <span class="n">main_thread_gate</span><span class="p">;</span>
	<span class="n">acpi_handle</span> <span class="n">thread_complete_gate</span><span class="p">;</span>
	<span class="n">acpi_thread_id</span> <span class="o">*</span><span class="n">threads</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_threads</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_created</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_completed</span><span class="p">;</span>

	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">num_loops</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">pathname</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="kt">char</span> <span class="o">**</span><span class="n">args</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Arguments to be passed to method for the command</span>
<span class="cm">	 * Threads -</span>
<span class="cm">	 *   the Number of threads, ID of current thread and</span>
<span class="cm">	 *   Index of current thread inside all them created.</span>
<span class="cm">	 */</span>
	<span class="kt">char</span> <span class="n">init_args</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">arguments</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">num_threads_str</span><span class="p">[</span><span class="mi">11</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">id_of_thread_str</span><span class="p">[</span><span class="mi">11</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">index_of_thread_str</span><span class="p">[</span><span class="mi">11</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_integrity_info</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">nodes</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">objects</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define ACPI_DB_REDIRECTABLE_OUTPUT     0x01</span>
<span class="cp">#define ACPI_DB_CONSOLE_OUTPUT          0x02</span>
<span class="cp">#define ACPI_DB_DUPLICATE_OUTPUT        0x03</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Debug</span>
<span class="cm"> *</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/* Entry for a memory allocation (debug only) */</span>

<span class="cp">#define ACPI_MEM_MALLOC                 0</span>
<span class="cp">#define ACPI_MEM_CALLOC                 1</span>
<span class="cp">#define ACPI_MAX_MODULE_NAME            16</span>

<span class="cp">#define ACPI_COMMON_DEBUG_MEM_HEADER \</span>
<span class="cp">	struct acpi_debug_mem_block     *previous; \</span>
<span class="cp">	struct acpi_debug_mem_block     *next; \</span>
<span class="cp">	u32                             size; \</span>
<span class="cp">	u32                             component; \</span>
<span class="cp">	u32                             line; \</span>
<span class="cp">	char                            module[ACPI_MAX_MODULE_NAME]; \</span>
<span class="cp">	u8                              alloc_type;</span>

<span class="k">struct</span> <span class="n">acpi_debug_mem_header</span> <span class="p">{</span>
<span class="n">ACPI_COMMON_DEBUG_MEM_HEADER</span><span class="p">};</span>

<span class="k">struct</span> <span class="n">acpi_debug_mem_block</span> <span class="p">{</span>
	<span class="n">ACPI_COMMON_DEBUG_MEM_HEADER</span> <span class="n">u64</span> <span class="n">user_space</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define ACPI_MEM_LIST_GLOBAL            0</span>
<span class="cp">#define ACPI_MEM_LIST_NSNODE            1</span>
<span class="cp">#define ACPI_MEM_LIST_MAX               1</span>
<span class="cp">#define ACPI_NUM_MEM_LISTS              2</span>

<span class="cp">#endif				</span><span class="cm">/* __ACLOCAL_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
