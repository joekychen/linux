<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › acpi › acpica › amlcode.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>amlcode.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Name: amlcode.h - Definitions for AML, as included in &quot;definition blocks&quot;</span>
<span class="cm"> *                   Declarations and definitions contained herein are derived</span>
<span class="cm"> *                   directly from the ACPI specification.</span>
<span class="cm"> *</span>
<span class="cm"> *****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2000 - 2012, Intel Corp.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> * 1. Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions, and the following disclaimer,</span>
<span class="cm"> *    without modification.</span>
<span class="cm"> * 2. Redistributions in binary form must reproduce at minimum a disclaimer</span>
<span class="cm"> *    substantially similar to the &quot;NO WARRANTY&quot; disclaimer below</span>
<span class="cm"> *    (&quot;Disclaimer&quot;) and any redistribution must be conditioned upon</span>
<span class="cm"> *    including a substantially similar Disclaimer requirement for further</span>
<span class="cm"> *    binary redistribution.</span>
<span class="cm"> * 3. Neither the names of the above-listed copyright holders nor the names</span>
<span class="cm"> *    of any contributors may be used to endorse or promote products derived</span>
<span class="cm"> *    from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Alternatively, this software may be distributed under the terms of the</span>
<span class="cm"> * GNU General Public License (&quot;GPL&quot;) version 2 as published by the Free</span>
<span class="cm"> * Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * NO WARRANTY</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<span class="cm"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<span class="cm"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR</span>
<span class="cm"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<span class="cm"> * HOLDERS OR CONTRIBUTORS BE LIABLE FOR SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<span class="cm"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</span>
<span class="cm"> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
<span class="cm"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span>
<span class="cm"> * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span>
<span class="cm"> * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span>
<span class="cm"> * POSSIBILITY OF SUCH DAMAGES.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __AMLCODE_H__</span>
<span class="cp">#define __AMLCODE_H__</span>

<span class="cm">/* primary opcodes */</span>

<span class="cp">#define AML_NULL_CHAR               (u16) 0x00</span>

<span class="cp">#define AML_ZERO_OP                 (u16) 0x00</span>
<span class="cp">#define AML_ONE_OP                  (u16) 0x01</span>
<span class="cp">#define AML_UNASSIGNED              (u16) 0x02</span>
<span class="cp">#define AML_ALIAS_OP                (u16) 0x06</span>
<span class="cp">#define AML_NAME_OP                 (u16) 0x08</span>
<span class="cp">#define AML_BYTE_OP                 (u16) 0x0a</span>
<span class="cp">#define AML_WORD_OP                 (u16) 0x0b</span>
<span class="cp">#define AML_DWORD_OP                (u16) 0x0c</span>
<span class="cp">#define AML_STRING_OP               (u16) 0x0d</span>
<span class="cp">#define AML_QWORD_OP                (u16) 0x0e	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_SCOPE_OP                (u16) 0x10</span>
<span class="cp">#define AML_BUFFER_OP               (u16) 0x11</span>
<span class="cp">#define AML_PACKAGE_OP              (u16) 0x12</span>
<span class="cp">#define AML_VAR_PACKAGE_OP          (u16) 0x13	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_METHOD_OP               (u16) 0x14</span>
<span class="cp">#define AML_DUAL_NAME_PREFIX        (u16) 0x2e</span>
<span class="cp">#define AML_MULTI_NAME_PREFIX_OP    (u16) 0x2f</span>
<span class="cp">#define AML_NAME_CHAR_SUBSEQ        (u16) 0x30</span>
<span class="cp">#define AML_NAME_CHAR_FIRST         (u16) 0x41</span>
<span class="cp">#define AML_EXTENDED_OP_PREFIX      (u16) 0x5b</span>
<span class="cp">#define AML_ROOT_PREFIX             (u16) 0x5c</span>
<span class="cp">#define AML_PARENT_PREFIX           (u16) 0x5e</span>
<span class="cp">#define AML_LOCAL_OP                (u16) 0x60</span>
<span class="cp">#define AML_LOCAL0                  (u16) 0x60</span>
<span class="cp">#define AML_LOCAL1                  (u16) 0x61</span>
<span class="cp">#define AML_LOCAL2                  (u16) 0x62</span>
<span class="cp">#define AML_LOCAL3                  (u16) 0x63</span>
<span class="cp">#define AML_LOCAL4                  (u16) 0x64</span>
<span class="cp">#define AML_LOCAL5                  (u16) 0x65</span>
<span class="cp">#define AML_LOCAL6                  (u16) 0x66</span>
<span class="cp">#define AML_LOCAL7                  (u16) 0x67</span>
<span class="cp">#define AML_ARG_OP                  (u16) 0x68</span>
<span class="cp">#define AML_ARG0                    (u16) 0x68</span>
<span class="cp">#define AML_ARG1                    (u16) 0x69</span>
<span class="cp">#define AML_ARG2                    (u16) 0x6a</span>
<span class="cp">#define AML_ARG3                    (u16) 0x6b</span>
<span class="cp">#define AML_ARG4                    (u16) 0x6c</span>
<span class="cp">#define AML_ARG5                    (u16) 0x6d</span>
<span class="cp">#define AML_ARG6                    (u16) 0x6e</span>
<span class="cp">#define AML_STORE_OP                (u16) 0x70</span>
<span class="cp">#define AML_REF_OF_OP               (u16) 0x71</span>
<span class="cp">#define AML_ADD_OP                  (u16) 0x72</span>
<span class="cp">#define AML_CONCAT_OP               (u16) 0x73</span>
<span class="cp">#define AML_SUBTRACT_OP             (u16) 0x74</span>
<span class="cp">#define AML_INCREMENT_OP            (u16) 0x75</span>
<span class="cp">#define AML_DECREMENT_OP            (u16) 0x76</span>
<span class="cp">#define AML_MULTIPLY_OP             (u16) 0x77</span>
<span class="cp">#define AML_DIVIDE_OP               (u16) 0x78</span>
<span class="cp">#define AML_SHIFT_LEFT_OP           (u16) 0x79</span>
<span class="cp">#define AML_SHIFT_RIGHT_OP          (u16) 0x7a</span>
<span class="cp">#define AML_BIT_AND_OP              (u16) 0x7b</span>
<span class="cp">#define AML_BIT_NAND_OP             (u16) 0x7c</span>
<span class="cp">#define AML_BIT_OR_OP               (u16) 0x7d</span>
<span class="cp">#define AML_BIT_NOR_OP              (u16) 0x7e</span>
<span class="cp">#define AML_BIT_XOR_OP              (u16) 0x7f</span>
<span class="cp">#define AML_BIT_NOT_OP              (u16) 0x80</span>
<span class="cp">#define AML_FIND_SET_LEFT_BIT_OP    (u16) 0x81</span>
<span class="cp">#define AML_FIND_SET_RIGHT_BIT_OP   (u16) 0x82</span>
<span class="cp">#define AML_DEREF_OF_OP             (u16) 0x83</span>
<span class="cp">#define AML_CONCAT_RES_OP           (u16) 0x84	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_MOD_OP                  (u16) 0x85	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_NOTIFY_OP               (u16) 0x86</span>
<span class="cp">#define AML_SIZE_OF_OP              (u16) 0x87</span>
<span class="cp">#define AML_INDEX_OP                (u16) 0x88</span>
<span class="cp">#define AML_MATCH_OP                (u16) 0x89</span>
<span class="cp">#define AML_CREATE_DWORD_FIELD_OP   (u16) 0x8a</span>
<span class="cp">#define AML_CREATE_WORD_FIELD_OP    (u16) 0x8b</span>
<span class="cp">#define AML_CREATE_BYTE_FIELD_OP    (u16) 0x8c</span>
<span class="cp">#define AML_CREATE_BIT_FIELD_OP     (u16) 0x8d</span>
<span class="cp">#define AML_TYPE_OP                 (u16) 0x8e</span>
<span class="cp">#define AML_CREATE_QWORD_FIELD_OP   (u16) 0x8f	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_LAND_OP                 (u16) 0x90</span>
<span class="cp">#define AML_LOR_OP                  (u16) 0x91</span>
<span class="cp">#define AML_LNOT_OP                 (u16) 0x92</span>
<span class="cp">#define AML_LEQUAL_OP               (u16) 0x93</span>
<span class="cp">#define AML_LGREATER_OP             (u16) 0x94</span>
<span class="cp">#define AML_LLESS_OP                (u16) 0x95</span>
<span class="cp">#define AML_TO_BUFFER_OP            (u16) 0x96	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_TO_DECSTRING_OP         (u16) 0x97	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_TO_HEXSTRING_OP         (u16) 0x98	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_TO_INTEGER_OP           (u16) 0x99	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_TO_STRING_OP            (u16) 0x9c	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_COPY_OP                 (u16) 0x9d	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_MID_OP                  (u16) 0x9e	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_CONTINUE_OP             (u16) 0x9f	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_IF_OP                   (u16) 0xa0</span>
<span class="cp">#define AML_ELSE_OP                 (u16) 0xa1</span>
<span class="cp">#define AML_WHILE_OP                (u16) 0xa2</span>
<span class="cp">#define AML_NOOP_OP                 (u16) 0xa3</span>
<span class="cp">#define AML_RETURN_OP               (u16) 0xa4</span>
<span class="cp">#define AML_BREAK_OP                (u16) 0xa5</span>
<span class="cp">#define AML_BREAK_POINT_OP          (u16) 0xcc</span>
<span class="cp">#define AML_ONES_OP                 (u16) 0xff</span>

<span class="cm">/* prefixed opcodes */</span>

<span class="cp">#define AML_EXTENDED_OPCODE         (u16) 0x5b00	</span><span class="cm">/* prefix for 2-byte opcodes */</span><span class="cp"></span>

<span class="cp">#define AML_MUTEX_OP                (u16) 0x5b01</span>
<span class="cp">#define AML_EVENT_OP                (u16) 0x5b02</span>
<span class="cp">#define AML_SHIFT_RIGHT_BIT_OP      (u16) 0x5b10</span>
<span class="cp">#define AML_SHIFT_LEFT_BIT_OP       (u16) 0x5b11</span>
<span class="cp">#define AML_COND_REF_OF_OP          (u16) 0x5b12</span>
<span class="cp">#define AML_CREATE_FIELD_OP         (u16) 0x5b13</span>
<span class="cp">#define AML_LOAD_TABLE_OP           (u16) 0x5b1f	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>
<span class="cp">#define AML_LOAD_OP                 (u16) 0x5b20</span>
<span class="cp">#define AML_STALL_OP                (u16) 0x5b21</span>
<span class="cp">#define AML_SLEEP_OP                (u16) 0x5b22</span>
<span class="cp">#define AML_ACQUIRE_OP              (u16) 0x5b23</span>
<span class="cp">#define AML_SIGNAL_OP               (u16) 0x5b24</span>
<span class="cp">#define AML_WAIT_OP                 (u16) 0x5b25</span>
<span class="cp">#define AML_RESET_OP                (u16) 0x5b26</span>
<span class="cp">#define AML_RELEASE_OP              (u16) 0x5b27</span>
<span class="cp">#define AML_FROM_BCD_OP             (u16) 0x5b28</span>
<span class="cp">#define AML_TO_BCD_OP               (u16) 0x5b29</span>
<span class="cp">#define AML_UNLOAD_OP               (u16) 0x5b2a</span>
<span class="cp">#define AML_REVISION_OP             (u16) 0x5b30</span>
<span class="cp">#define AML_DEBUG_OP                (u16) 0x5b31</span>
<span class="cp">#define AML_FATAL_OP                (u16) 0x5b32</span>
<span class="cp">#define AML_TIMER_OP                (u16) 0x5b33	</span><span class="cm">/* ACPI 3.0 */</span><span class="cp"></span>
<span class="cp">#define AML_REGION_OP               (u16) 0x5b80</span>
<span class="cp">#define AML_FIELD_OP                (u16) 0x5b81</span>
<span class="cp">#define AML_DEVICE_OP               (u16) 0x5b82</span>
<span class="cp">#define AML_PROCESSOR_OP            (u16) 0x5b83</span>
<span class="cp">#define AML_POWER_RES_OP            (u16) 0x5b84</span>
<span class="cp">#define AML_THERMAL_ZONE_OP         (u16) 0x5b85</span>
<span class="cp">#define AML_INDEX_FIELD_OP          (u16) 0x5b86</span>
<span class="cp">#define AML_BANK_FIELD_OP           (u16) 0x5b87</span>
<span class="cp">#define AML_DATA_REGION_OP          (u16) 0x5b88	</span><span class="cm">/* ACPI 2.0 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Combination opcodes (actually two one-byte opcodes)</span>
<span class="cm"> * Used by the disassembler and i_aSL compiler</span>
<span class="cm"> */</span>
<span class="cp">#define AML_LGREATEREQUAL_OP        (u16) 0x9295</span>
<span class="cp">#define AML_LLESSEQUAL_OP           (u16) 0x9294</span>
<span class="cp">#define AML_LNOTEQUAL_OP            (u16) 0x9293</span>

<span class="cm">/*</span>
<span class="cm"> * Opcodes for &quot;Field&quot; operators</span>
<span class="cm"> */</span>
<span class="cp">#define AML_FIELD_OFFSET_OP         (u8) 0x00</span>
<span class="cp">#define AML_FIELD_ACCESS_OP         (u8) 0x01</span>
<span class="cp">#define AML_FIELD_CONNECTION_OP     (u8) 0x02	</span><span class="cm">/* ACPI 5.0 */</span><span class="cp"></span>
<span class="cp">#define AML_FIELD_EXT_ACCESS_OP     (u8) 0x03	</span><span class="cm">/* ACPI 5.0 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Internal opcodes</span>
<span class="cm"> * Use only &quot;Unknown&quot; AML opcodes, don&#39;t attempt to use</span>
<span class="cm"> * any valid ACPI ASCII values (A-Z, 0-9, &#39;-&#39;)</span>
<span class="cm"> */</span>
<span class="cp">#define AML_INT_NAMEPATH_OP         (u16) 0x002d</span>
<span class="cp">#define AML_INT_NAMEDFIELD_OP       (u16) 0x0030</span>
<span class="cp">#define AML_INT_RESERVEDFIELD_OP    (u16) 0x0031</span>
<span class="cp">#define AML_INT_ACCESSFIELD_OP      (u16) 0x0032</span>
<span class="cp">#define AML_INT_BYTELIST_OP         (u16) 0x0033</span>
<span class="cp">#define AML_INT_STATICSTRING_OP     (u16) 0x0034</span>
<span class="cp">#define AML_INT_METHODCALL_OP       (u16) 0x0035</span>
<span class="cp">#define AML_INT_RETURN_VALUE_OP     (u16) 0x0036</span>
<span class="cp">#define AML_INT_EVAL_SUBTREE_OP     (u16) 0x0037</span>
<span class="cp">#define AML_INT_CONNECTION_OP       (u16) 0x0038</span>
<span class="cp">#define AML_INT_EXTACCESSFIELD_OP   (u16) 0x0039</span>

<span class="cp">#define ARG_NONE                    0x0</span>

<span class="cm">/*</span>
<span class="cm"> * Argument types for the AML Parser</span>
<span class="cm"> * Each field in the arg_types u32 is 5 bits, allowing for a maximum of 6 arguments.</span>
<span class="cm"> * There can be up to 31 unique argument types</span>
<span class="cm"> * Zero is reserved as end-of-list indicator</span>
<span class="cm"> */</span>
<span class="cp">#define ARGP_BYTEDATA               0x01</span>
<span class="cp">#define ARGP_BYTELIST               0x02</span>
<span class="cp">#define ARGP_CHARLIST               0x03</span>
<span class="cp">#define ARGP_DATAOBJ                0x04</span>
<span class="cp">#define ARGP_DATAOBJLIST            0x05</span>
<span class="cp">#define ARGP_DWORDDATA              0x06</span>
<span class="cp">#define ARGP_FIELDLIST              0x07</span>
<span class="cp">#define ARGP_NAME                   0x08</span>
<span class="cp">#define ARGP_NAMESTRING             0x09</span>
<span class="cp">#define ARGP_OBJLIST                0x0A</span>
<span class="cp">#define ARGP_PKGLENGTH              0x0B</span>
<span class="cp">#define ARGP_SUPERNAME              0x0C</span>
<span class="cp">#define ARGP_TARGET                 0x0D</span>
<span class="cp">#define ARGP_TERMARG                0x0E</span>
<span class="cp">#define ARGP_TERMLIST               0x0F</span>
<span class="cp">#define ARGP_WORDDATA               0x10</span>
<span class="cp">#define ARGP_QWORDDATA              0x11</span>
<span class="cp">#define ARGP_SIMPLENAME             0x12</span>

<span class="cm">/*</span>
<span class="cm"> * Resolved argument types for the AML Interpreter</span>
<span class="cm"> * Each field in the arg_types u32 is 5 bits, allowing for a maximum of 6 arguments.</span>
<span class="cm"> * There can be up to 31 unique argument types (0 is end-of-arg-list indicator)</span>
<span class="cm"> *</span>
<span class="cm"> * Note1: These values are completely independent from the ACPI_TYPEs</span>
<span class="cm"> *        i.e., ARGI_INTEGER != ACPI_TYPE_INTEGER</span>
<span class="cm"> *</span>
<span class="cm"> * Note2: If and when 5 bits becomes insufficient, it would probably be best</span>
<span class="cm"> * to convert to a 6-byte array of argument types, allowing 8 bits per argument.</span>
<span class="cm"> */</span>

<span class="cm">/* Single, simple types */</span>

<span class="cp">#define ARGI_ANYTYPE                0x01	</span><span class="cm">/* Don&#39;t care */</span><span class="cp"></span>
<span class="cp">#define ARGI_PACKAGE                0x02</span>
<span class="cp">#define ARGI_EVENT                  0x03</span>
<span class="cp">#define ARGI_MUTEX                  0x04</span>
<span class="cp">#define ARGI_DDBHANDLE              0x05</span>

<span class="cm">/* Interchangeable types (via implicit conversion) */</span>

<span class="cp">#define ARGI_INTEGER                0x06</span>
<span class="cp">#define ARGI_STRING                 0x07</span>
<span class="cp">#define ARGI_BUFFER                 0x08</span>
<span class="cp">#define ARGI_BUFFER_OR_STRING       0x09	</span><span class="cm">/* Used by MID op only */</span><span class="cp"></span>
<span class="cp">#define ARGI_COMPUTEDATA            0x0A	</span><span class="cm">/* Buffer, String, or Integer */</span><span class="cp"></span>

<span class="cm">/* Reference objects */</span>

<span class="cp">#define ARGI_INTEGER_REF            0x0B</span>
<span class="cp">#define ARGI_OBJECT_REF             0x0C</span>
<span class="cp">#define ARGI_DEVICE_REF             0x0D</span>
<span class="cp">#define ARGI_REFERENCE              0x0E</span>
<span class="cp">#define ARGI_TARGETREF              0x0F	</span><span class="cm">/* Target, subject to implicit conversion */</span><span class="cp"></span>
<span class="cp">#define ARGI_FIXED_TARGET           0x10	</span><span class="cm">/* Target, no implicit conversion */</span><span class="cp"></span>
<span class="cp">#define ARGI_SIMPLE_TARGET          0x11	</span><span class="cm">/* Name, Local, Arg -- no implicit conversion */</span><span class="cp"></span>

<span class="cm">/* Multiple/complex types */</span>

<span class="cp">#define ARGI_DATAOBJECT             0x12	</span><span class="cm">/* Buffer, String, package or reference to a Node - Used only by size_of operator */</span><span class="cp"></span>
<span class="cp">#define ARGI_COMPLEXOBJ             0x13	</span><span class="cm">/* Buffer, String, or package (Used by INDEX op only) */</span><span class="cp"></span>
<span class="cp">#define ARGI_REF_OR_STRING          0x14	</span><span class="cm">/* Reference or String (Used by DEREFOF op only) */</span><span class="cp"></span>
<span class="cp">#define ARGI_REGION_OR_BUFFER       0x15	</span><span class="cm">/* Used by LOAD op only */</span><span class="cp"></span>
<span class="cp">#define ARGI_DATAREFOBJ             0x16</span>

<span class="cm">/* Note: types above can expand to 0x1F maximum */</span>

<span class="cp">#define ARGI_INVALID_OPCODE         0xFFFFFFFF</span>

<span class="cm">/*</span>
<span class="cm"> * hash offsets</span>
<span class="cm"> */</span>
<span class="cp">#define AML_EXTOP_HASH_OFFSET       22</span>
<span class="cp">#define AML_LNOT_HASH_OFFSET        19</span>

<span class="cm">/*</span>
<span class="cm"> * opcode groups and types</span>
<span class="cm"> */</span>
<span class="cp">#define OPGRP_NAMED                 0x01</span>
<span class="cp">#define OPGRP_FIELD                 0x02</span>
<span class="cp">#define OPGRP_BYTELIST              0x04</span>

<span class="cm">/*</span>
<span class="cm"> * Opcode information</span>
<span class="cm"> */</span>

<span class="cm">/* Opcode flags */</span>

<span class="cp">#define AML_LOGICAL                 0x0001</span>
<span class="cp">#define AML_LOGICAL_NUMERIC         0x0002</span>
<span class="cp">#define AML_MATH                    0x0004</span>
<span class="cp">#define AML_CREATE                  0x0008</span>
<span class="cp">#define AML_FIELD                   0x0010</span>
<span class="cp">#define AML_DEFER                   0x0020</span>
<span class="cp">#define AML_NAMED                   0x0040</span>
<span class="cp">#define AML_NSNODE                  0x0080</span>
<span class="cp">#define AML_NSOPCODE                0x0100</span>
<span class="cp">#define AML_NSOBJECT                0x0200</span>
<span class="cp">#define AML_HAS_RETVAL              0x0400</span>
<span class="cp">#define AML_HAS_TARGET              0x0800</span>
<span class="cp">#define AML_HAS_ARGS                0x1000</span>
<span class="cp">#define AML_CONSTANT                0x2000</span>
<span class="cp">#define AML_NO_OPERAND_RESOLVE      0x4000</span>

<span class="cm">/* Convenient flag groupings */</span>

<span class="cp">#define AML_FLAGS_EXEC_0A_0T_1R                                     AML_HAS_RETVAL</span>
<span class="cp">#define AML_FLAGS_EXEC_1A_0T_0R     AML_HAS_ARGS	</span><span class="cm">/* Monadic1  */</span><span class="cp"></span>
<span class="cp">#define AML_FLAGS_EXEC_1A_0T_1R     AML_HAS_ARGS |                  AML_HAS_RETVAL	</span><span class="cm">/* Monadic2  */</span><span class="cp"></span>
<span class="cp">#define AML_FLAGS_EXEC_1A_1T_0R     AML_HAS_ARGS | AML_HAS_TARGET</span>
<span class="cp">#define AML_FLAGS_EXEC_1A_1T_1R     AML_HAS_ARGS | AML_HAS_TARGET | AML_HAS_RETVAL	</span><span class="cm">/* monadic2_r */</span><span class="cp"></span>
<span class="cp">#define AML_FLAGS_EXEC_2A_0T_0R     AML_HAS_ARGS	</span><span class="cm">/* Dyadic1   */</span><span class="cp"></span>
<span class="cp">#define AML_FLAGS_EXEC_2A_0T_1R     AML_HAS_ARGS |                  AML_HAS_RETVAL	</span><span class="cm">/* Dyadic2   */</span><span class="cp"></span>
<span class="cp">#define AML_FLAGS_EXEC_2A_1T_1R     AML_HAS_ARGS | AML_HAS_TARGET | AML_HAS_RETVAL	</span><span class="cm">/* dyadic2_r  */</span><span class="cp"></span>
<span class="cp">#define AML_FLAGS_EXEC_2A_2T_1R     AML_HAS_ARGS | AML_HAS_TARGET | AML_HAS_RETVAL</span>
<span class="cp">#define AML_FLAGS_EXEC_3A_0T_0R     AML_HAS_ARGS</span>
<span class="cp">#define AML_FLAGS_EXEC_3A_1T_1R     AML_HAS_ARGS | AML_HAS_TARGET | AML_HAS_RETVAL</span>
<span class="cp">#define AML_FLAGS_EXEC_6A_0T_1R     AML_HAS_ARGS |                  AML_HAS_RETVAL</span>

<span class="cm">/*</span>
<span class="cm"> * The opcode Type is used in a dispatch table, do not change</span>
<span class="cm"> * without updating the table.</span>
<span class="cm"> */</span>
<span class="cp">#define AML_TYPE_EXEC_0A_0T_1R      0x00</span>
<span class="cp">#define AML_TYPE_EXEC_1A_0T_0R      0x01	</span><span class="cm">/* Monadic1  */</span><span class="cp"></span>
<span class="cp">#define AML_TYPE_EXEC_1A_0T_1R      0x02	</span><span class="cm">/* Monadic2  */</span><span class="cp"></span>
<span class="cp">#define AML_TYPE_EXEC_1A_1T_0R      0x03</span>
<span class="cp">#define AML_TYPE_EXEC_1A_1T_1R      0x04	</span><span class="cm">/* monadic2_r */</span><span class="cp"></span>
<span class="cp">#define AML_TYPE_EXEC_2A_0T_0R      0x05	</span><span class="cm">/* Dyadic1   */</span><span class="cp"></span>
<span class="cp">#define AML_TYPE_EXEC_2A_0T_1R      0x06	</span><span class="cm">/* Dyadic2   */</span><span class="cp"></span>
<span class="cp">#define AML_TYPE_EXEC_2A_1T_1R      0x07	</span><span class="cm">/* dyadic2_r  */</span><span class="cp"></span>
<span class="cp">#define AML_TYPE_EXEC_2A_2T_1R      0x08</span>
<span class="cp">#define AML_TYPE_EXEC_3A_0T_0R      0x09</span>
<span class="cp">#define AML_TYPE_EXEC_3A_1T_1R      0x0A</span>
<span class="cp">#define AML_TYPE_EXEC_6A_0T_1R      0x0B</span>
<span class="cm">/* End of types used in dispatch table */</span>

<span class="cp">#define AML_TYPE_LITERAL            0x0B</span>
<span class="cp">#define AML_TYPE_CONSTANT           0x0C</span>
<span class="cp">#define AML_TYPE_METHOD_ARGUMENT    0x0D</span>
<span class="cp">#define AML_TYPE_LOCAL_VARIABLE     0x0E</span>
<span class="cp">#define AML_TYPE_DATA_TERM          0x0F</span>

<span class="cm">/* Generic for an op that returns a value */</span>

<span class="cp">#define AML_TYPE_METHOD_CALL        0x10</span>

<span class="cm">/* Misc */</span>

<span class="cp">#define AML_TYPE_CREATE_FIELD       0x11</span>
<span class="cp">#define AML_TYPE_CREATE_OBJECT      0x12</span>
<span class="cp">#define AML_TYPE_CONTROL            0x13</span>
<span class="cp">#define AML_TYPE_NAMED_NO_OBJ       0x14</span>
<span class="cp">#define AML_TYPE_NAMED_FIELD        0x15</span>
<span class="cp">#define AML_TYPE_NAMED_SIMPLE       0x16</span>
<span class="cp">#define AML_TYPE_NAMED_COMPLEX      0x17</span>
<span class="cp">#define AML_TYPE_RETURN             0x18</span>

<span class="cp">#define AML_TYPE_UNDEFINED          0x19</span>
<span class="cp">#define AML_TYPE_BOGUS              0x1A</span>

<span class="cm">/* AML Package Length encodings */</span>

<span class="cp">#define ACPI_AML_PACKAGE_TYPE1      0x40</span>
<span class="cp">#define ACPI_AML_PACKAGE_TYPE2      0x4000</span>
<span class="cp">#define ACPI_AML_PACKAGE_TYPE3      0x400000</span>
<span class="cp">#define ACPI_AML_PACKAGE_TYPE4      0x40000000</span>

<span class="cm">/*</span>
<span class="cm"> * Opcode classes</span>
<span class="cm"> */</span>
<span class="cp">#define AML_CLASS_EXECUTE           0x00</span>
<span class="cp">#define AML_CLASS_CREATE            0x01</span>
<span class="cp">#define AML_CLASS_ARGUMENT          0x02</span>
<span class="cp">#define AML_CLASS_NAMED_OBJECT      0x03</span>
<span class="cp">#define AML_CLASS_CONTROL           0x04</span>
<span class="cp">#define AML_CLASS_ASCII             0x05</span>
<span class="cp">#define AML_CLASS_PREFIX            0x06</span>
<span class="cp">#define AML_CLASS_INTERNAL          0x07</span>
<span class="cp">#define AML_CLASS_RETURN_VALUE      0x08</span>
<span class="cp">#define AML_CLASS_METHOD_CALL       0x09</span>
<span class="cp">#define AML_CLASS_UNKNOWN           0x0A</span>

<span class="cm">/* Comparison operation codes for match_op operator */</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">MATCH_MTR</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">MATCH_MEQ</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">MATCH_MLE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">MATCH_MLT</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">MATCH_MGE</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">MATCH_MGT</span> <span class="o">=</span> <span class="mi">5</span>
<span class="p">}</span> <span class="n">AML_MATCH_OPERATOR</span><span class="p">;</span>

<span class="cp">#define MAX_MATCH_OPERATOR          5</span>

<span class="cm">/*</span>
<span class="cm"> * field_flags</span>
<span class="cm"> *</span>
<span class="cm"> * This byte is extracted from the AML and includes three separate</span>
<span class="cm"> * pieces of information about the field:</span>
<span class="cm"> * 1) The field access type</span>
<span class="cm"> * 2) The field update rule</span>
<span class="cm"> * 3) The lock rule for the field</span>
<span class="cm"> *</span>
<span class="cm"> * Bits 00 - 03 : access_type (any_acc, byte_acc, etc.)</span>
<span class="cm"> *      04      : lock_rule (1 == Lock)</span>
<span class="cm"> *      05 - 06 : update_rule</span>
<span class="cm"> */</span>
<span class="cp">#define AML_FIELD_ACCESS_TYPE_MASK  0x0F</span>
<span class="cp">#define AML_FIELD_LOCK_RULE_MASK    0x10</span>
<span class="cp">#define AML_FIELD_UPDATE_RULE_MASK  0x60</span>

<span class="cm">/* 1) Field Access Types */</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">AML_FIELD_ACCESS_ANY</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">AML_FIELD_ACCESS_BYTE</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">AML_FIELD_ACCESS_WORD</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">AML_FIELD_ACCESS_DWORD</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">AML_FIELD_ACCESS_QWORD</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>	<span class="cm">/* ACPI 2.0 */</span>
	<span class="n">AML_FIELD_ACCESS_BUFFER</span> <span class="o">=</span> <span class="mh">0x05</span>	<span class="cm">/* ACPI 2.0 */</span>
<span class="p">}</span> <span class="n">AML_ACCESS_TYPE</span><span class="p">;</span>

<span class="cm">/* 2) Field Lock Rules */</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">AML_FIELD_LOCK_NEVER</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">AML_FIELD_LOCK_ALWAYS</span> <span class="o">=</span> <span class="mh">0x10</span>
<span class="p">}</span> <span class="n">AML_LOCK_RULE</span><span class="p">;</span>

<span class="cm">/* 3) Field Update Rules */</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">AML_FIELD_UPDATE_PRESERVE</span> <span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">AML_FIELD_UPDATE_WRITE_AS_ONES</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="n">AML_FIELD_UPDATE_WRITE_AS_ZEROS</span> <span class="o">=</span> <span class="mh">0x40</span>
<span class="p">}</span> <span class="n">AML_UPDATE_RULE</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * Field Access Attributes.</span>
<span class="cm"> * This byte is extracted from the AML via the</span>
<span class="cm"> * access_as keyword</span>
<span class="cm"> */</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">AML_FIELD_ATTRIB_QUICK</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_SEND_RCV</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_BYTE</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_WORD</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_BLOCK</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_MULTIBYTE</span> <span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_WORD_CALL</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_BLOCK_CALL</span> <span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_RAW_BYTES</span> <span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	<span class="n">AML_FIELD_ATTRIB_RAW_PROCESS</span> <span class="o">=</span> <span class="mh">0x0F</span>
<span class="p">}</span> <span class="n">AML_ACCESS_ATTRIBUTE</span><span class="p">;</span>

<span class="cm">/* Bit fields in the AML method_flags byte */</span>

<span class="cp">#define AML_METHOD_ARG_COUNT        0x07</span>
<span class="cp">#define AML_METHOD_SERIALIZED       0x08</span>
<span class="cp">#define AML_METHOD_SYNC_LEVEL       0xF0</span>

<span class="cp">#endif				</span><span class="cm">/* __AMLCODE_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
