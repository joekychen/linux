f | einj.c | s | 20K | 683 | Chen Gong | gong.chen@linux.intel.com | 1333092618 |  | ACPI, APEI, EINJ, new parameter to control trigger action  Some APEI firmware implementation will access injected address specified in param1 to trigger the error when injecting memory error, which means if one SRAR error is injected, the crash always happens because it is executed in kernel context. This new parameter can disable trigger action and control is taken over by the user. In this way, an SRAR error can happen in user context instead of crashing the system. This function is highly depended on BIOS implementation so please ensure you know the BIOS trigger procedure before you enable this switch.  v2:   notrigger should be created together with param1/param2  Tested-by: Tony Luck <tony.luck@lintel.com> Signed-off-by: Chen Gong <gong.chen@linux.intel.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | apei-internal.h | s | 4.2K | 117 | Huang Ying | ying.huang@intel.com | 1339474638 |  | ACPI, APEI, Avoid too much error reporting in runtime  This patch fixed the following bug.  https://bugzilla.kernel.org/show_bug.cgi?id=43282  This is caused by a firmware bug checking (checking generic address register provided by firmware) in runtime.  The checking should be done in address mapping time instead of runtime to avoid too much error reporting in runtime.  Reported-by: Pawel Sikora <pluto@agmk.net> Signed-off-by: Huang Ying <ying.huang@intel.com> Tested-by: Jean Delvare <khali@linux-fr.org> Cc: stable@vger.kernel.org Signed-off-by: Len Brown <len.brown@intel.com>
f | cper.c | s | 13K | 376 | Jiang Liu | liuj97@gmail.com | 1333094486 |  | CPER failed to handle generic error records with multiple sections  The function apei_estatus_print() and apei_estatus_check() forget to move ahead the gdata pointer when dealing with multiple generic error data sections.  Signed-off-by: Jiang Liu <jiang.liu@huawei.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | Makefile | g | 206B |  | Huang Ying | ying.huang@intel.com | 1281840475 |  | ACPI, APEI, ERST debug support  This patch adds debugging/testing support to ERST. A misc device is implemented to export raw ERST read/write/clear etc operations to user space. With this patch, we can add ERST testing support to linuxfirmwarekit ISO (linuxfirmwarekit.org) to verify the kernel support and the firmware implementation.  Signed-off-by: Huang Ying <ying.huang@intel.com> Acked-by: Randy Dunlap <randy.dunlap@oracle.com> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | ghes.c | s | 29K | 994 | Huang Ying | ying.huang@intel.com | 1339474638 |  | ACPI, APEI, Avoid too much error reporting in runtime  This patch fixed the following bug.  https://bugzilla.kernel.org/show_bug.cgi?id=43282  This is caused by a firmware bug checking (checking generic address register provided by firmware) in runtime.  The checking should be done in address mapping time instead of runtime to avoid too much error reporting in runtime.  Reported-by: Pawel Sikora <pluto@agmk.net> Signed-off-by: Huang Ying <ying.huang@intel.com> Tested-by: Jean Delvare <khali@linux-fr.org> Cc: stable@vger.kernel.org Signed-off-by: Len Brown <len.brown@intel.com>
f | erst.c | s | 28K | 1060 | Jiang Liu | liuj97@gmail.com | 1333092617 |  | ACPI, APEI, Fix ERST header length check  This fixes a trivial copy & paste error in ERST header length check. It's just for future safety because sizeof(struct acpi_table_einj) equals to sizeof(struct acpi_table_erst) with current ACPI5.0 specification. It applies to v3.3-rc6.  Signed-off-by: Jiang Liu <jiang.liu@huawei.com> Acked-by: Huang Ying <ying.huang@intel.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | hest.c | s | 6.2K | 208 | Linus Torvalds | torvalds@linux-foundation.org | 1326930708 |  | Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/lenb/linux  This includes initial support for the recently published ACPI 5.0 spec. In particular, support for the "hardware-reduced" bit that eliminates the dependency on legacy hardware.  APEI has patches resulting from testing on real hardware.  Plus other random fixes.  * 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/lenb/linux: (52 commits)   acpi/apei/einj: Add extensions to EINJ from rev 5.0 of acpi spec   intel_idle: Split up and provide per CPU initialization func   ACPI processor: Remove unneeded variable passed by acpi_processor_hotadd_init V2   ACPI processor: Remove unneeded cpuidle_unregister_driver call   intel idle: Make idle driver more robust   intel_idle: Fix a cast to pointer from integer of different size warning in intel_idle   ACPI: kernel-parameters.txt : Add intel_idle.max_cstate   intel_idle: remove redundant local_irq_disable() call   ACPI processor: Fix error path, also remove sysdev link   ACPI: processor: fix acpi_get_cpuid for UP processor   intel_idle: fix API misuse   ACPI APEI: Convert atomicio routines   ACPI: Export interfaces for ioremapping/iounmapping ACPI registers   ACPI: Fix possible alignment issues with GAS 'address' references   ACPI, ia64: Use SRAT table rev to use 8bit or 16/32bit PXM fields (ia64)   ACPI, x86: Use SRAT table rev to use 8bit or 32bit PXM fields (x86/x86-64)   ACPI: Store SRAT table revision   ACPI, APEI, Resolve false conflict between ACPI NVS and APEI   ACPI, Record ACPI NVS regions   ACPI, APEI, EINJ, Refine the fix of resource conflict   ...
f | erst-dbg.c | s | 5.1K | 200 | Chen Gong | gong.chen@linux.intel.com | 1310614311 |  | ACPI, APEI, ERST, Fix erst-dbg long record reading issue  When we debug ERST table with erst-dbg, if the error record in ERST table is too long(>4K), it can't be read out.  So this patch increases the buffer size to 16K to ensure such error records can be read from ERST table.  Signed-off-by: Chen Gong <gong.chen@linux.intel.com> Signed-off-by: Huang Ying <ying.huang@intel.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | apei-base.c | s | 18K | 668 | Huang Ying | ying.huang@intel.com | 1339474638 |  | ACPI, APEI, Avoid too much error reporting in runtime  This patch fixed the following bug.  https://bugzilla.kernel.org/show_bug.cgi?id=43282  This is caused by a firmware bug checking (checking generic address register provided by firmware) in runtime.  The checking should be done in address mapping time instead of runtime to avoid too much error reporting in runtime.  Reported-by: Pawel Sikora <pluto@agmk.net> Signed-off-by: Huang Ying <ying.huang@intel.com> Tested-by: Jean Delvare <khali@linux-fr.org> Cc: stable@vger.kernel.org Signed-off-by: Len Brown <len.brown@intel.com>
f | Kconfig | g | 2.0K |  | Huang Ying | ying.huang@intel.com | 1317720653 |  | llist: Make some llist functions inline  Because llist code will be used in performance critical scheduler code path, make llist_add() and llist_del_all() inline to avoid function calling overhead and related 'glue' overhead.  Signed-off-by: Huang Ying <ying.huang@intel.com> Acked-by: Mathieu Desnoyers <mathieu.desnoyers@efficios.com> Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Link: http://lkml.kernel.org/r/1315461646-1379-2-git-send-email-ying.huang@intel.com Signed-off-by: Ingo Molnar <mingo@elte.hu>
