<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › clk › spear › spear1340_clock.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>spear1340_clock.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * arch/arm/mach-spear13xx/spear1340_clock.c</span>
<span class="cm"> *</span>
<span class="cm"> * SPEAr1340 machine clock framework source file</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2012 ST Microelectronics</span>
<span class="cm"> * Viresh Kumar &lt;viresh.linux@gmail.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This file is licensed under the terms of the GNU General Public</span>
<span class="cm"> * License version 2. This program is licensed &quot;as is&quot; without any</span>
<span class="cm"> * warranty of any kind, whether express or implied.</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;linux/clk.h&gt;</span>
<span class="cp">#include &lt;linux/clkdev.h&gt;</span>
<span class="cp">#include &lt;linux/err.h&gt;</span>
<span class="cp">#include &lt;linux/io.h&gt;</span>
<span class="cp">#include &lt;linux/of_platform.h&gt;</span>
<span class="cp">#include &lt;linux/spinlock_types.h&gt;</span>
<span class="cp">#include &lt;mach/spear.h&gt;</span>
<span class="cp">#include &quot;clk.h&quot;</span>

<span class="cm">/* Clock Configuration Registers */</span>
<span class="cp">#define SPEAR1340_SYS_CLK_CTRL			(VA_MISC_BASE + 0x200)</span>
	<span class="cp">#define SPEAR1340_HCLK_SRC_SEL_SHIFT	27</span>
	<span class="cp">#define SPEAR1340_HCLK_SRC_SEL_MASK	1</span>
	<span class="cp">#define SPEAR1340_SCLK_SRC_SEL_SHIFT	23</span>
	<span class="cp">#define SPEAR1340_SCLK_SRC_SEL_MASK	3</span>

<span class="cm">/* PLL related registers and bit values */</span>
<span class="cp">#define SPEAR1340_PLL_CFG			(VA_MISC_BASE + 0x210)</span>
	<span class="cm">/* PLL_CFG bit values */</span>
	<span class="cp">#define SPEAR1340_CLCD_SYNT_CLK_MASK		1</span>
	<span class="cp">#define SPEAR1340_CLCD_SYNT_CLK_SHIFT		31</span>
	<span class="cp">#define SPEAR1340_GEN_SYNT2_3_CLK_SHIFT		29</span>
	<span class="cp">#define SPEAR1340_GEN_SYNT_CLK_MASK		2</span>
	<span class="cp">#define SPEAR1340_GEN_SYNT0_1_CLK_SHIFT		27</span>
	<span class="cp">#define SPEAR1340_PLL_CLK_MASK			2</span>
	<span class="cp">#define SPEAR1340_PLL3_CLK_SHIFT		24</span>
	<span class="cp">#define SPEAR1340_PLL2_CLK_SHIFT		22</span>
	<span class="cp">#define SPEAR1340_PLL1_CLK_SHIFT		20</span>

<span class="cp">#define SPEAR1340_PLL1_CTR			(VA_MISC_BASE + 0x214)</span>
<span class="cp">#define SPEAR1340_PLL1_FRQ			(VA_MISC_BASE + 0x218)</span>
<span class="cp">#define SPEAR1340_PLL2_CTR			(VA_MISC_BASE + 0x220)</span>
<span class="cp">#define SPEAR1340_PLL2_FRQ			(VA_MISC_BASE + 0x224)</span>
<span class="cp">#define SPEAR1340_PLL3_CTR			(VA_MISC_BASE + 0x22C)</span>
<span class="cp">#define SPEAR1340_PLL3_FRQ			(VA_MISC_BASE + 0x230)</span>
<span class="cp">#define SPEAR1340_PLL4_CTR			(VA_MISC_BASE + 0x238)</span>
<span class="cp">#define SPEAR1340_PLL4_FRQ			(VA_MISC_BASE + 0x23C)</span>
<span class="cp">#define SPEAR1340_PERIP_CLK_CFG			(VA_MISC_BASE + 0x244)</span>
	<span class="cm">/* PERIP_CLK_CFG bit values */</span>
	<span class="cp">#define SPEAR1340_SPDIF_CLK_MASK		1</span>
	<span class="cp">#define SPEAR1340_SPDIF_OUT_CLK_SHIFT		15</span>
	<span class="cp">#define SPEAR1340_SPDIF_IN_CLK_SHIFT		14</span>
	<span class="cp">#define SPEAR1340_GPT3_CLK_SHIFT		13</span>
	<span class="cp">#define SPEAR1340_GPT2_CLK_SHIFT		12</span>
	<span class="cp">#define SPEAR1340_GPT_CLK_MASK			1</span>
	<span class="cp">#define SPEAR1340_GPT1_CLK_SHIFT		9</span>
	<span class="cp">#define SPEAR1340_GPT0_CLK_SHIFT		8</span>
	<span class="cp">#define SPEAR1340_UART_CLK_MASK			2</span>
	<span class="cp">#define SPEAR1340_UART1_CLK_SHIFT		6</span>
	<span class="cp">#define SPEAR1340_UART0_CLK_SHIFT		4</span>
	<span class="cp">#define SPEAR1340_CLCD_CLK_MASK			2</span>
	<span class="cp">#define SPEAR1340_CLCD_CLK_SHIFT		2</span>
	<span class="cp">#define SPEAR1340_C3_CLK_MASK			1</span>
	<span class="cp">#define SPEAR1340_C3_CLK_SHIFT			1</span>

<span class="cp">#define SPEAR1340_GMAC_CLK_CFG			(VA_MISC_BASE + 0x248)</span>
	<span class="cp">#define SPEAR1340_GMAC_PHY_CLK_MASK		1</span>
	<span class="cp">#define SPEAR1340_GMAC_PHY_CLK_SHIFT		2</span>
	<span class="cp">#define SPEAR1340_GMAC_PHY_INPUT_CLK_MASK	2</span>
	<span class="cp">#define SPEAR1340_GMAC_PHY_INPUT_CLK_SHIFT	0</span>

<span class="cp">#define SPEAR1340_I2S_CLK_CFG			(VA_MISC_BASE + 0x24C)</span>
	<span class="cm">/* I2S_CLK_CFG register mask */</span>
	<span class="cp">#define SPEAR1340_I2S_SCLK_X_MASK		0x1F</span>
	<span class="cp">#define SPEAR1340_I2S_SCLK_X_SHIFT		27</span>
	<span class="cp">#define SPEAR1340_I2S_SCLK_Y_MASK		0x1F</span>
	<span class="cp">#define SPEAR1340_I2S_SCLK_Y_SHIFT		22</span>
	<span class="cp">#define SPEAR1340_I2S_SCLK_EQ_SEL_SHIFT		21</span>
	<span class="cp">#define SPEAR1340_I2S_SCLK_SYNTH_ENB		20</span>
	<span class="cp">#define SPEAR1340_I2S_PRS1_CLK_X_MASK		0xFF</span>
	<span class="cp">#define SPEAR1340_I2S_PRS1_CLK_X_SHIFT		12</span>
	<span class="cp">#define SPEAR1340_I2S_PRS1_CLK_Y_MASK		0xFF</span>
	<span class="cp">#define SPEAR1340_I2S_PRS1_CLK_Y_SHIFT		4</span>
	<span class="cp">#define SPEAR1340_I2S_PRS1_EQ_SEL_SHIFT		3</span>
	<span class="cp">#define SPEAR1340_I2S_REF_SEL_MASK		1</span>
	<span class="cp">#define SPEAR1340_I2S_REF_SHIFT			2</span>
	<span class="cp">#define SPEAR1340_I2S_SRC_CLK_MASK		2</span>
	<span class="cp">#define SPEAR1340_I2S_SRC_CLK_SHIFT		0</span>

<span class="cp">#define SPEAR1340_C3_CLK_SYNT			(VA_MISC_BASE + 0x250)</span>
<span class="cp">#define SPEAR1340_UART0_CLK_SYNT		(VA_MISC_BASE + 0x254)</span>
<span class="cp">#define SPEAR1340_UART1_CLK_SYNT		(VA_MISC_BASE + 0x258)</span>
<span class="cp">#define SPEAR1340_GMAC_CLK_SYNT			(VA_MISC_BASE + 0x25C)</span>
<span class="cp">#define SPEAR1340_SDHCI_CLK_SYNT		(VA_MISC_BASE + 0x260)</span>
<span class="cp">#define SPEAR1340_CFXD_CLK_SYNT			(VA_MISC_BASE + 0x264)</span>
<span class="cp">#define SPEAR1340_ADC_CLK_SYNT			(VA_MISC_BASE + 0x270)</span>
<span class="cp">#define SPEAR1340_AMBA_CLK_SYNT			(VA_MISC_BASE + 0x274)</span>
<span class="cp">#define SPEAR1340_CLCD_CLK_SYNT			(VA_MISC_BASE + 0x27C)</span>
<span class="cp">#define SPEAR1340_SYS_CLK_SYNT			(VA_MISC_BASE + 0x284)</span>
<span class="cp">#define SPEAR1340_GEN_CLK_SYNT0			(VA_MISC_BASE + 0x28C)</span>
<span class="cp">#define SPEAR1340_GEN_CLK_SYNT1			(VA_MISC_BASE + 0x294)</span>
<span class="cp">#define SPEAR1340_GEN_CLK_SYNT2			(VA_MISC_BASE + 0x29C)</span>
<span class="cp">#define SPEAR1340_GEN_CLK_SYNT3			(VA_MISC_BASE + 0x304)</span>
<span class="cp">#define SPEAR1340_PERIP1_CLK_ENB		(VA_MISC_BASE + 0x30C)</span>
	<span class="cp">#define SPEAR1340_RTC_CLK_ENB			31</span>
	<span class="cp">#define SPEAR1340_ADC_CLK_ENB			30</span>
	<span class="cp">#define SPEAR1340_C3_CLK_ENB			29</span>
	<span class="cp">#define SPEAR1340_CLCD_CLK_ENB			27</span>
	<span class="cp">#define SPEAR1340_DMA_CLK_ENB			25</span>
	<span class="cp">#define SPEAR1340_GPIO1_CLK_ENB			24</span>
	<span class="cp">#define SPEAR1340_GPIO0_CLK_ENB			23</span>
	<span class="cp">#define SPEAR1340_GPT1_CLK_ENB			22</span>
	<span class="cp">#define SPEAR1340_GPT0_CLK_ENB			21</span>
	<span class="cp">#define SPEAR1340_I2S_PLAY_CLK_ENB		20</span>
	<span class="cp">#define SPEAR1340_I2S_REC_CLK_ENB		19</span>
	<span class="cp">#define SPEAR1340_I2C0_CLK_ENB			18</span>
	<span class="cp">#define SPEAR1340_SSP_CLK_ENB			17</span>
	<span class="cp">#define SPEAR1340_UART0_CLK_ENB			15</span>
	<span class="cp">#define SPEAR1340_PCIE_SATA_CLK_ENB		12</span>
	<span class="cp">#define SPEAR1340_UOC_CLK_ENB			11</span>
	<span class="cp">#define SPEAR1340_UHC1_CLK_ENB			10</span>
	<span class="cp">#define SPEAR1340_UHC0_CLK_ENB			9</span>
	<span class="cp">#define SPEAR1340_GMAC_CLK_ENB			8</span>
	<span class="cp">#define SPEAR1340_CFXD_CLK_ENB			7</span>
	<span class="cp">#define SPEAR1340_SDHCI_CLK_ENB			6</span>
	<span class="cp">#define SPEAR1340_SMI_CLK_ENB			5</span>
	<span class="cp">#define SPEAR1340_FSMC_CLK_ENB			4</span>
	<span class="cp">#define SPEAR1340_SYSRAM0_CLK_ENB		3</span>
	<span class="cp">#define SPEAR1340_SYSRAM1_CLK_ENB		2</span>
	<span class="cp">#define SPEAR1340_SYSROM_CLK_ENB		1</span>
	<span class="cp">#define SPEAR1340_BUS_CLK_ENB			0</span>

<span class="cp">#define SPEAR1340_PERIP2_CLK_ENB		(VA_MISC_BASE + 0x310)</span>
	<span class="cp">#define SPEAR1340_THSENS_CLK_ENB		8</span>
	<span class="cp">#define SPEAR1340_I2S_REF_PAD_CLK_ENB		7</span>
	<span class="cp">#define SPEAR1340_ACP_CLK_ENB			6</span>
	<span class="cp">#define SPEAR1340_GPT3_CLK_ENB			5</span>
	<span class="cp">#define SPEAR1340_GPT2_CLK_ENB			4</span>
	<span class="cp">#define SPEAR1340_KBD_CLK_ENB			3</span>
	<span class="cp">#define SPEAR1340_CPU_DBG_CLK_ENB		2</span>
	<span class="cp">#define SPEAR1340_DDR_CORE_CLK_ENB		1</span>
	<span class="cp">#define SPEAR1340_DDR_CTRL_CLK_ENB		0</span>

<span class="cp">#define SPEAR1340_PERIP3_CLK_ENB		(VA_MISC_BASE + 0x314)</span>
	<span class="cp">#define SPEAR1340_PLGPIO_CLK_ENB		18</span>
	<span class="cp">#define SPEAR1340_VIDEO_DEC_CLK_ENB		16</span>
	<span class="cp">#define SPEAR1340_VIDEO_ENC_CLK_ENB		15</span>
	<span class="cp">#define SPEAR1340_SPDIF_OUT_CLK_ENB		13</span>
	<span class="cp">#define SPEAR1340_SPDIF_IN_CLK_ENB		12</span>
	<span class="cp">#define SPEAR1340_VIDEO_IN_CLK_ENB		11</span>
	<span class="cp">#define SPEAR1340_CAM0_CLK_ENB			10</span>
	<span class="cp">#define SPEAR1340_CAM1_CLK_ENB			9</span>
	<span class="cp">#define SPEAR1340_CAM2_CLK_ENB			8</span>
	<span class="cp">#define SPEAR1340_CAM3_CLK_ENB			7</span>
	<span class="cp">#define SPEAR1340_MALI_CLK_ENB			6</span>
	<span class="cp">#define SPEAR1340_CEC0_CLK_ENB			5</span>
	<span class="cp">#define SPEAR1340_CEC1_CLK_ENB			4</span>
	<span class="cp">#define SPEAR1340_PWM_CLK_ENB			3</span>
	<span class="cp">#define SPEAR1340_I2C1_CLK_ENB			2</span>
	<span class="cp">#define SPEAR1340_UART1_CLK_ENB			1</span>

<span class="k">static</span> <span class="n">DEFINE_SPINLOCK</span><span class="p">(</span><span class="n">_lock</span><span class="p">);</span>

<span class="cm">/* pll rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">pll_rate_tbl</span> <span class="n">pll_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* PCLK 24MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x83</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x5</span><span class="p">},</span> <span class="cm">/* vco 1572, pll 49.125 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x7D</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x3</span><span class="p">},</span> <span class="cm">/* vco 1000, pll 125 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x64</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">},</span> <span class="cm">/* vco 800, pll 400 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x7D</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">},</span> <span class="cm">/* vco 1000, pll 500 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0xA6</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">},</span> <span class="cm">/* vco 1328, pll 664 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0xC8</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">},</span> <span class="cm">/* vco 1600, pll 800 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x7D</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x0</span><span class="p">},</span> <span class="cm">/* vco 1, pll 1 GHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x96</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x0</span><span class="p">},</span> <span class="cm">/* vco 1200, pll 1200 MHz */</span>
<span class="p">};</span>

<span class="cm">/* vco-pll4 rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">pll_rate_tbl</span> <span class="n">pll4_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x7D</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x2</span><span class="p">},</span> <span class="cm">/* vco 1000, pll 250 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0xA6</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x2</span><span class="p">},</span> <span class="cm">/* vco 1328, pll 332 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0xC8</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x2</span><span class="p">},</span> <span class="cm">/* vco 1600, pll 400 MHz */</span>
	<span class="p">{.</span><span class="n">mode</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="p">.</span><span class="n">m</span> <span class="o">=</span> <span class="mh">0x7D</span><span class="p">,</span> <span class="p">.</span><span class="n">n</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span> <span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="mh">0x0</span><span class="p">},</span> <span class="cm">/* vco 1, pll 1 GHz */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * All below entries generate 166 MHz for</span>
<span class="cm"> * different values of vco1div2</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">frac_rate_tbl</span> <span class="n">amba_synth_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x06062</span><span class="p">},</span> <span class="cm">/* for vco1div2 = 500 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x04D1B</span><span class="p">},</span> <span class="cm">/* for vco1div2 = 400 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x04000</span><span class="p">},</span> <span class="cm">/* for vco1div2 = 332 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x03031</span><span class="p">},</span> <span class="cm">/* for vco1div2 = 250 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0268D</span><span class="p">},</span> <span class="cm">/* for vco1div2 = 200 MHz */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Synthesizer Clock derived from vcodiv2. This clock is one of the</span>
<span class="cm"> * possible clocks to feed cpu directly.</span>
<span class="cm"> * We can program this synthesizer to make cpu run on different clock</span>
<span class="cm"> * frequencies.</span>
<span class="cm"> * Following table provides configuration values to let cpu run on 200,</span>
<span class="cm"> * 250, 332, 400 or 500 MHz considering different possibilites of input</span>
<span class="cm"> * (vco1div2) clock.</span>
<span class="cm"> *</span>
<span class="cm"> * --------------------------------------------------------------------</span>
<span class="cm"> * vco1div2(Mhz)	fout(Mhz)	cpuclk = fout/2		div</span>
<span class="cm"> * --------------------------------------------------------------------</span>
<span class="cm"> * 400			200		100			0x04000</span>
<span class="cm"> * 400			250		125			0x03333</span>
<span class="cm"> * 400			332		166			0x0268D</span>
<span class="cm"> * 400			400		200			0x02000</span>
<span class="cm"> * --------------------------------------------------------------------</span>
<span class="cm"> * 500			200		100			0x05000</span>
<span class="cm"> * 500			250		125			0x04000</span>
<span class="cm"> * 500			332		166			0x03031</span>
<span class="cm"> * 500			400		200			0x02800</span>
<span class="cm"> * 500			500		250			0x02000</span>
<span class="cm"> * --------------------------------------------------------------------</span>
<span class="cm"> * 664			200		100			0x06a38</span>
<span class="cm"> * 664			250		125			0x054FD</span>
<span class="cm"> * 664			332		166			0x04000</span>
<span class="cm"> * 664			400		200			0x0351E</span>
<span class="cm"> * 664			500		250			0x02A7E</span>
<span class="cm"> * --------------------------------------------------------------------</span>
<span class="cm"> * 800			200		100			0x08000</span>
<span class="cm"> * 800			250		125			0x06666</span>
<span class="cm"> * 800			332		166			0x04D18</span>
<span class="cm"> * 800			400		200			0x04000</span>
<span class="cm"> * 800			500		250			0x03333</span>
<span class="cm"> * --------------------------------------------------------------------</span>
<span class="cm"> * sys rate configuration table is in descending order of divisor.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">frac_rate_tbl</span> <span class="n">sys_synth_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x08000</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x06a38</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x06666</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x054FD</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x05000</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x04D18</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x04000</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0351E</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x03333</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x03031</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02A7E</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02800</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0268D</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02000</span><span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* aux rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">aux_rate_tbl</span> <span class="n">aux_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* For VCO1div2 = 500 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">204</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 12.29 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 48 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 83 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 125 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">},</span> <span class="cm">/* 166 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">},</span> <span class="cm">/* 250 MHz */</span>
<span class="p">};</span>

<span class="cm">/* gmac rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">aux_rate_tbl</span> <span class="n">gmac_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* For gmac phy input clk */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* divided by 6 */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* divided by 4 */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">},</span> <span class="cm">/* divided by 3 */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">},</span> <span class="cm">/* divided by 2 */</span>
<span class="p">};</span>

<span class="cm">/* clcd rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">frac_rate_tbl</span> <span class="n">clcd_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x14000</span><span class="p">},</span> <span class="cm">/* 25 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x1284B</span><span class="p">},</span> <span class="cm">/* 27 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0D8D3</span><span class="p">},</span> <span class="cm">/* 58 Mhz , for vco1div4 = 393 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0B72C</span><span class="p">},</span> <span class="cm">/* 58 Mhz , for vco1div4 = 332 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x089EE</span><span class="p">},</span> <span class="cm">/* 58 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x07BA0</span><span class="p">},</span> <span class="cm">/* 65 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x06f1C</span><span class="p">},</span> <span class="cm">/* 72 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x06E58</span><span class="p">},</span> <span class="cm">/* 58 Mhz , for vco1div4 = 200 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x06c1B</span><span class="p">},</span> <span class="cm">/* 74 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x04A12</span><span class="p">},</span> <span class="cm">/* 108 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0378E</span><span class="p">},</span> <span class="cm">/* 144 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0360D</span><span class="p">},</span> <span class="cm">/* 148 Mhz , for vc01div4 = 250 MHz*/</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x035E0</span><span class="p">},</span> <span class="cm">/* 148.5 MHz, for vc01div4 = 250 MHz*/</span>
<span class="p">};</span>

<span class="cm">/* i2s prescaler1 masks */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">aux_clk_masks</span> <span class="n">i2s_prs1_masks</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">eq_sel_mask</span> <span class="o">=</span> <span class="n">AUX_EQ_SEL_MASK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">eq_sel_shift</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_PRS1_EQ_SEL_SHIFT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">eq1_mask</span> <span class="o">=</span> <span class="n">AUX_EQ1_SEL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">eq2_mask</span> <span class="o">=</span> <span class="n">AUX_EQ2_SEL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">xscale_sel_mask</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_PRS1_CLK_X_MASK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">xscale_sel_shift</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_PRS1_CLK_X_SHIFT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">yscale_sel_mask</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_PRS1_CLK_Y_MASK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">yscale_sel_shift</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_PRS1_CLK_Y_SHIFT</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* i2s sclk (bit clock) syynthesizers masks */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">aux_clk_masks</span> <span class="n">i2s_sclk_masks</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">eq_sel_mask</span> <span class="o">=</span> <span class="n">AUX_EQ_SEL_MASK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">eq_sel_shift</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_SCLK_EQ_SEL_SHIFT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">eq1_mask</span> <span class="o">=</span> <span class="n">AUX_EQ1_SEL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">eq2_mask</span> <span class="o">=</span> <span class="n">AUX_EQ2_SEL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">xscale_sel_mask</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_SCLK_X_MASK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">xscale_sel_shift</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_SCLK_X_SHIFT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">yscale_sel_mask</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_SCLK_Y_MASK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">yscale_sel_shift</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_SCLK_Y_SHIFT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">enable_bit</span> <span class="o">=</span> <span class="n">SPEAR1340_I2S_SCLK_SYNTH_ENB</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* i2s prs1 aux rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">aux_rate_tbl</span> <span class="n">i2s_prs1_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* For parent clk = 49.152 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 2.048 MHz, smp freq = 8Khz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">96</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 2.816 MHz, smp freq = 11Khz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 4.096 MHz, smp freq = 16Khz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">48</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 5.632 MHz, smp freq = 22Khz */</span>

	<span class="cm">/*</span>
<span class="cm">	 * with parent clk = 49.152, freq gen is 8.192 MHz, smp freq = 32Khz</span>
<span class="cm">	 * with parent clk = 12.288, freq gen is 2.048 MHz, smp freq = 8Khz</span>
<span class="cm">	 */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span>

	<span class="cm">/* For parent clk = 49.152 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">17</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">37</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 11.289 MHz, smp freq = 44Khz*/</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 12.288 MHz, smp freq = 48Khz*/</span>
<span class="p">};</span>

<span class="cm">/* i2s sclk aux rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">aux_rate_tbl</span> <span class="n">i2s_sclk_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* For sclk = ref_clk * x/2/y */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* adc rate configuration table, in ascending order of rates */</span>
<span class="cm">/* possible adc range is 2.5 MHz to 20 MHz. */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">aux_rate_tbl</span> <span class="n">adc_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* For ahb = 166.67 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">31</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 2.68 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 7.94 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">21</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 15.87 MHz */</span>
	<span class="p">{.</span><span class="n">xscale</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="p">.</span><span class="n">yscale</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span> <span class="p">.</span><span class="n">eq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">},</span> <span class="cm">/* 19.84 MHz */</span>
<span class="p">};</span>

<span class="cm">/* General synth rate configuration table, in ascending order of rates */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">frac_rate_tbl</span> <span class="n">gen_rtbl</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* For vco1div4 = 250 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x1624E</span><span class="p">},</span> <span class="cm">/* 22.5792 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x14585</span><span class="p">},</span> <span class="cm">/* 24.576 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x14000</span><span class="p">},</span> <span class="cm">/* 25 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0B127</span><span class="p">},</span> <span class="cm">/* 45.1584 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x0A000</span><span class="p">},</span> <span class="cm">/* 50 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x061A8</span><span class="p">},</span> <span class="cm">/* 81.92 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x05000</span><span class="p">},</span> <span class="cm">/* 100 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02800</span><span class="p">},</span> <span class="cm">/* 200 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02620</span><span class="p">},</span> <span class="cm">/* 210 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02460</span><span class="p">},</span> <span class="cm">/* 220 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x022C0</span><span class="p">},</span> <span class="cm">/* 230 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02160</span><span class="p">},</span> <span class="cm">/* 240 MHz */</span>
	<span class="p">{.</span><span class="n">div</span> <span class="o">=</span> <span class="mh">0x02000</span><span class="p">},</span> <span class="cm">/* 250 MHz */</span>
<span class="p">};</span>

<span class="cm">/* clock parents */</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">vco_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span> <span class="s">&quot;osc_25m_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">sys_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;none&quot;</span><span class="p">,</span> <span class="s">&quot;pll1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;none&quot;</span><span class="p">,</span> <span class="s">&quot;none&quot;</span><span class="p">,</span>
	<span class="s">&quot;sys_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;none&quot;</span><span class="p">,</span> <span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll3_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">ahb_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;cpu_div3_clk&quot;</span><span class="p">,</span> <span class="s">&quot;amba_synth_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">gpt_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">uart0_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;pll5_clk&quot;</span><span class="p">,</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span>
	<span class="s">&quot;uart0_synth_gate_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">uart1_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;pll5_clk&quot;</span><span class="p">,</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span>
	<span class="s">&quot;uart1_synth_gate_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">c3_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;pll5_clk&quot;</span><span class="p">,</span> <span class="s">&quot;c3_synth_gate_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">gmac_phy_input_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;gmii_125m_pad_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span>
	<span class="s">&quot;osc_25m_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">gmac_phy_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;gmac_phy_input_mux_clk&quot;</span><span class="p">,</span>
	<span class="s">&quot;gmac_phy_synth_gate_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">clcd_synth_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;vco1div4_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">clcd_pixel_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;pll5_clk&quot;</span><span class="p">,</span> <span class="s">&quot;clcd_synth_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">i2s_src_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll3_clk&quot;</span><span class="p">,</span>
	<span class="s">&quot;i2s_src_pad_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">i2s_ref_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;i2s_src_mux_clk&quot;</span><span class="p">,</span> <span class="s">&quot;i2s_prs1_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">spdif_out_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;i2s_src_pad_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gen_synth2_clk&quot;</span><span class="p">,</span>
<span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">spdif_in_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gen_synth3_clk&quot;</span><span class="p">,</span> <span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">gen_synth0_1_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;vco1div4_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco3div2_clk&quot;</span><span class="p">,</span>
	<span class="s">&quot;pll3_clk&quot;</span><span class="p">,</span> <span class="p">};</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">gen_synth2_3_parents</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;vco1div4_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco3div2_clk&quot;</span><span class="p">,</span>
	<span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span> <span class="p">};</span>

<span class="kt">void</span> <span class="n">__init</span> <span class="nf">spear1340_clk_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="o">*</span><span class="n">clk1</span><span class="p">;</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;apb_pclk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">CLK_IS_ROOT</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;apb_pclk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;osc_32k_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">CLK_IS_ROOT</span><span class="p">,</span>
			<span class="mi">32000</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;osc_32k_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">CLK_IS_ROOT</span><span class="p">,</span>
			<span class="mi">24000000</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;osc_25m_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">CLK_IS_ROOT</span><span class="p">,</span>
			<span class="mi">25000000</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;osc_25m_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gmii_125m_pad_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
			<span class="n">CLK_IS_ROOT</span><span class="p">,</span> <span class="mi">125000000</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gmii_125m_pad_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2s_src_pad_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
			<span class="n">CLK_IS_ROOT</span><span class="p">,</span> <span class="mi">12288000</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;i2s_src_pad_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="cm">/* clock derived from 32 KHz osc clk */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;rtc-spear&quot;</span><span class="p">,</span> <span class="s">&quot;osc_32k_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_RTC_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;fc900000.rtc&quot;</span><span class="p">);</span>

	<span class="cm">/* clock derived from 24 or 25 MHz osc clk */</span>
	<span class="cm">/* vco-pll */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco1_mux_clk&quot;</span><span class="p">,</span> <span class="n">vco_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">vco_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_PLL1_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco1_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_vco_pll</span><span class="p">(</span><span class="s">&quot;vco1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco1_mux_clk&quot;</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL1_CTR</span><span class="p">,</span> <span class="n">SPEAR1340_PLL1_FRQ</span><span class="p">,</span> <span class="n">pll_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">pll_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;pll1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco2_mux_clk&quot;</span><span class="p">,</span> <span class="n">vco_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">vco_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_PLL2_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco2_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_vco_pll</span><span class="p">(</span><span class="s">&quot;vco2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco2_mux_clk&quot;</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL2_CTR</span><span class="p">,</span> <span class="n">SPEAR1340_PLL2_FRQ</span><span class="p">,</span> <span class="n">pll_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">pll_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco2_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;pll2_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco3_mux_clk&quot;</span><span class="p">,</span> <span class="n">vco_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">vco_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_PLL3_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco3_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_vco_pll</span><span class="p">(</span><span class="s">&quot;vco3_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll3_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco3_mux_clk&quot;</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL3_CTR</span><span class="p">,</span> <span class="n">SPEAR1340_PLL3_FRQ</span><span class="p">,</span> <span class="n">pll_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">pll_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco3_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;pll3_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_vco_pll</span><span class="p">(</span><span class="s">&quot;vco4_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll4_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL4_CTR</span><span class="p">,</span> <span class="n">SPEAR1340_PLL4_FRQ</span><span class="p">,</span> <span class="n">pll4_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">pll4_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco4_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;pll4_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pll5_clk&quot;</span><span class="p">,</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="mi">48000000</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;pll5_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_rate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pll6_clk&quot;</span><span class="p">,</span> <span class="s">&quot;osc_25m_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="mi">25000000</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;pll6_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="cm">/* vco div n clocks */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco1_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">2</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco1div4_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco1_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">4</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco1div4_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco2div2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">2</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco2div2_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;vco3div2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco3_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">2</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;vco3div2_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="cm">/* peripherals */</span>
	<span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;thermal_clk&quot;</span><span class="p">,</span> <span class="s">&quot;osc_24m_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">128</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;thermal_gate_clk&quot;</span><span class="p">,</span> <span class="s">&quot;thermal_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP2_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_THSENS_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_thermal&quot;</span><span class="p">);</span>

	<span class="cm">/* clock derived from pll4 clk */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ddr_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pll4_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;ddr_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="cm">/* clock derived from pll1 clk */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_frac</span><span class="p">(</span><span class="s">&quot;sys_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_SYS_CLK_SYNT</span><span class="p">,</span> <span class="n">sys_synth_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">sys_synth_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;sys_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_frac</span><span class="p">(</span><span class="s">&quot;amba_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_AMBA_CLK_SYNT</span><span class="p">,</span> <span class="n">amba_synth_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">amba_synth_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;amba_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;sys_mux_clk&quot;</span><span class="p">,</span> <span class="n">sys_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">sys_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_SYS_CLK_CTRL</span><span class="p">,</span>
			<span class="n">SPEAR1340_SCLK_SRC_SEL_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_SCLK_SRC_SEL_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;sys_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cpu_clk&quot;</span><span class="p">,</span> <span class="s">&quot;sys_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">2</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;cpu_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cpu_div3_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cpu_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">3</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;cpu_div3_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;wdt_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cpu_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">2</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ec800620.wdt&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="n">ahb_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">ahb_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_SYS_CLK_CTRL</span><span class="p">,</span>
			<span class="n">SPEAR1340_HCLK_SRC_SEL_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_HCLK_SRC_SEL_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_fixed_factor</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
			<span class="mi">2</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="cm">/* gpt clocks */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt0_mux_clk&quot;</span><span class="p">,</span> <span class="n">gpt_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpt_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_GPT0_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_GPT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gpt0_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gpt0_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_GPT0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt0&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt1_mux_clk&quot;</span><span class="p">,</span> <span class="n">gpt_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpt_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_GPT1_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_GPT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gpt1_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gpt1_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_GPT1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt1&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt2_mux_clk&quot;</span><span class="p">,</span> <span class="n">gpt_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpt_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_GPT2_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_GPT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gpt2_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gpt2_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP2_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_GPT2_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt2&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt3_mux_clk&quot;</span><span class="p">,</span> <span class="n">gpt_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpt_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_GPT3_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_GPT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gpt3_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt3_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gpt3_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP2_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_GPT3_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpt3&quot;</span><span class="p">);</span>

	<span class="cm">/* others */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;uart0_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;uart0_synth_gate_clk&quot;</span><span class="p">,</span>
			<span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_UART0_CLK_SYNT</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
			<span class="n">aux_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">aux_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;uart0_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;uart0_synth_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;uart0_mux_clk&quot;</span><span class="p">,</span> <span class="n">uart0_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">uart0_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_UART0_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_UART_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;uart0_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;uart0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;uart0_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_UART0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;e0000000.serial&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;uart1_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;uart1_synth_gate_clk&quot;</span><span class="p">,</span>
			<span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_UART1_CLK_SYNT</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
			<span class="n">aux_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">aux_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;uart1_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;uart1_synth_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;uart1_mux_clk&quot;</span><span class="p">,</span> <span class="n">uart1_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">uart1_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_UART1_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_UART_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;uart1_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;uart1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;uart1_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_UART1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;b4100000.serial&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;sdhci_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;sdhci_synth_gate_clk&quot;</span><span class="p">,</span>
			<span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_SDHCI_CLK_SYNT</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
			<span class="n">aux_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">aux_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;sdhci_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;sdhci_synth_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;sdhci_clk&quot;</span><span class="p">,</span> <span class="s">&quot;sdhci_synth_gate_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_SDHCI_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;b3000000.sdhci&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;cfxd_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cfxd_synth_gate_clk&quot;</span><span class="p">,</span>
			<span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_CFXD_CLK_SYNT</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
			<span class="n">aux_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">aux_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;cfxd_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;cfxd_synth_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cfxd_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cfxd_synth_gate_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CFXD_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;b2800000.cf&quot;</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;arasan_xd&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;c3_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;c3_synth_gate_clk&quot;</span><span class="p">,</span>
			<span class="s">&quot;vco1div2_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_C3_CLK_SYNT</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
			<span class="n">aux_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">aux_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;c3_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;c3_synth_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;c3_mux_clk&quot;</span><span class="p">,</span> <span class="n">c3_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">c3_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_C3_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_C3_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;c3_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;c3_clk&quot;</span><span class="p">,</span> <span class="s">&quot;c3_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_C3_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;c3&quot;</span><span class="p">);</span>

	<span class="cm">/* gmac */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gmac_phy_input_mux_clk&quot;</span><span class="p">,</span>
			<span class="n">gmac_phy_input_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gmac_phy_input_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_GMAC_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_GMAC_PHY_INPUT_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_GMAC_PHY_INPUT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gmac_phy_input_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;gmac_phy_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gmac_phy_synth_gate_clk&quot;</span><span class="p">,</span>
			<span class="s">&quot;gmac_phy_input_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_GMAC_CLK_SYNT</span><span class="p">,</span>
			<span class="nb">NULL</span><span class="p">,</span> <span class="n">gmac_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gmac_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gmac_phy_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;gmac_phy_synth_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gmac_phy_mux_clk&quot;</span><span class="p">,</span> <span class="n">gmac_phy_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gmac_phy_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span> <span class="n">SPEAR1340_GMAC_PHY_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_GMAC_PHY_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;stmmacphy.0&quot;</span><span class="p">);</span>

	<span class="cm">/* clcd */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;clcd_synth_mux_clk&quot;</span><span class="p">,</span> <span class="n">clcd_synth_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">clcd_synth_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_CLCD_CLK_SYNT</span><span class="p">,</span> <span class="n">SPEAR1340_CLCD_SYNT_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_CLCD_SYNT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;clcd_synth_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_frac</span><span class="p">(</span><span class="s">&quot;clcd_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;clcd_synth_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_CLCD_CLK_SYNT</span><span class="p">,</span> <span class="n">clcd_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">clcd_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;clcd_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;clcd_pixel_mux_clk&quot;</span><span class="p">,</span> <span class="n">clcd_pixel_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">clcd_pixel_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span> <span class="n">SPEAR1340_CLCD_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_CLCD_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;clcd_pixel_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;clcd_clk&quot;</span><span class="p">,</span> <span class="s">&quot;clcd_pixel_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CLCD_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;clcd_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="cm">/* i2s */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2s_src_mux_clk&quot;</span><span class="p">,</span> <span class="n">i2s_src_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2s_src_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_I2S_SRC_CLK_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_SRC_CLK_MASK</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;i2s_src_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;i2s_prs1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2s_src_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_I2S_CLK_CFG</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i2s_prs1_masks</span><span class="p">,</span> <span class="n">i2s_prs1_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2s_prs1_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;i2s_prs1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2s_ref_mux_clk&quot;</span><span class="p">,</span> <span class="n">i2s_ref_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2s_ref_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_CLK_CFG</span><span class="p">,</span>
			<span class="n">SPEAR1340_I2S_REF_SHIFT</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_REF_SEL_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;i2s_ref_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2s_ref_pad_clk&quot;</span><span class="p">,</span> <span class="s">&quot;i2s_ref_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP2_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_REF_PAD_CLK_ENB</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;i2s_ref_pad_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;i2s_sclk_clk&quot;</span><span class="p">,</span> <span class="s">&quot;i2s_sclk_gate_clk&quot;</span><span class="p">,</span>
			<span class="s">&quot;i2s_ref_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_CLK_CFG</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">i2s_sclk_masks</span><span class="p">,</span> <span class="n">i2s_sclk_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2s_sclk_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;i2s_sclk_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;i2s_sclk_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="cm">/* clock derived from ahb clk */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2c0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_I2C0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;e0280000.i2c&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2c1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_I2C1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;b4000000.i2c&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;dma_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_DMA_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ea800000.dma&quot;</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;eb000000.dma&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gmac_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_GMAC_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;e2000000.eth&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;fsmc_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_FSMC_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;b0000000.flash&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;smi_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_SMI_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ea000000.flash&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;usbh0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_UHC0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;usbh.0_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;usbh1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_UHC1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;usbh.1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;uoc_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_UOC_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;uoc&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pcie_sata_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_PCIE_SATA_CLK_ENB</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;dw_pcie&quot;</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ahci&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;sysram0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_SYSRAM0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;sysram0_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;sysram1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_SYSRAM1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;sysram1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_aux</span><span class="p">(</span><span class="s">&quot;adc_synth_clk&quot;</span><span class="p">,</span> <span class="s">&quot;adc_synth_gate_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_ADC_CLK_SYNT</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">adc_rtbl</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">adc_rtbl</span><span class="p">),</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">clk1</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;adc_synth_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk1</span><span class="p">,</span> <span class="s">&quot;adc_synth_gate_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;adc_clk&quot;</span><span class="p">,</span> <span class="s">&quot;adc_synth_gate_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_ADC_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;adc_clk&quot;</span><span class="p">);</span>

	<span class="cm">/* clock derived from apb clk */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;ssp_clk&quot;</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_SSP_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;e0100000.spi&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpio0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_GPIO0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;e0600000.gpio&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gpio1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_GPIO1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;e0680000.gpio&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2s_play_clk&quot;</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_PLAY_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;b2400000.i2s&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;i2s_rec_clk&quot;</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP1_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_I2S_REC_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;b2000000.i2s&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;kbd_clk&quot;</span><span class="p">,</span> <span class="s">&quot;apb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP2_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_KBD_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;e0300000.kbd&quot;</span><span class="p">);</span>

	<span class="cm">/* RAS clks */</span>
	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gen_synth0_1_mux_clk&quot;</span><span class="p">,</span>
			<span class="n">gen_synth0_1_parents</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gen_synth0_1_parents</span><span class="p">),</span>
			<span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CFG</span><span class="p">,</span> <span class="n">SPEAR1340_GEN_SYNT0_1_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_GEN_SYNT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gen_synth0_1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;gen_synth2_3_mux_clk&quot;</span><span class="p">,</span>
			<span class="n">gen_synth2_3_parents</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gen_synth2_3_parents</span><span class="p">),</span>
			<span class="mi">0</span><span class="p">,</span> <span class="n">SPEAR1340_PLL_CFG</span><span class="p">,</span> <span class="n">SPEAR1340_GEN_SYNT2_3_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_GEN_SYNT_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gen_synth2_3_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_frac</span><span class="p">(</span><span class="s">&quot;gen_synth0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gen_synth0_1_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_GEN_CLK_SYNT0</span><span class="p">,</span> <span class="n">gen_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gen_rtbl</span><span class="p">),</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gen_synth0_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_frac</span><span class="p">(</span><span class="s">&quot;gen_synth1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gen_synth0_1_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_GEN_CLK_SYNT1</span><span class="p">,</span> <span class="n">gen_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gen_rtbl</span><span class="p">),</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gen_synth1_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_frac</span><span class="p">(</span><span class="s">&quot;gen_synth2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gen_synth2_3_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_GEN_CLK_SYNT2</span><span class="p">,</span> <span class="n">gen_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gen_rtbl</span><span class="p">),</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gen_synth2_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_frac</span><span class="p">(</span><span class="s">&quot;gen_synth3_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gen_synth2_3_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_GEN_CLK_SYNT3</span><span class="p">,</span> <span class="n">gen_rtbl</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gen_rtbl</span><span class="p">),</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;gen_synth3_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mali_clk&quot;</span><span class="p">,</span> <span class="s">&quot;gen_synth3_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_MALI_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;mali&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cec0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CEC0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_cec.0&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cec1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;ahb_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CEC1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_cec.1&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spdif_out_mux_clk&quot;</span><span class="p">,</span> <span class="n">spdif_out_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">spdif_out_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span> <span class="n">SPEAR1340_SPDIF_OUT_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_SPDIF_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;spdif_out_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spdif_out_clk&quot;</span><span class="p">,</span> <span class="s">&quot;spdif_out_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_SPDIF_OUT_CLK_ENB</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spdif-out&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_mux</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spdif_in_mux_clk&quot;</span><span class="p">,</span> <span class="n">spdif_in_parents</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">spdif_in_parents</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP_CLK_CFG</span><span class="p">,</span> <span class="n">SPEAR1340_SPDIF_IN_CLK_SHIFT</span><span class="p">,</span>
			<span class="n">SPEAR1340_SPDIF_CLK_MASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="s">&quot;spdif_in_mux_clk&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spdif_in_clk&quot;</span><span class="p">,</span> <span class="s">&quot;spdif_in_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_SPDIF_IN_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spdif-in&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;acp_clk&quot;</span><span class="p">,</span> <span class="s">&quot;acp_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP2_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_ACP_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;acp_clk&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;plgpio_clk&quot;</span><span class="p">,</span> <span class="s">&quot;plgpio_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_PLGPIO_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;plgpio&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;video_dec_clk&quot;</span><span class="p">,</span> <span class="s">&quot;video_dec_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_VIDEO_DEC_CLK_ENB</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;video_dec&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;video_enc_clk&quot;</span><span class="p">,</span> <span class="s">&quot;video_enc_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_VIDEO_ENC_CLK_ENB</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;video_enc&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;video_in_clk&quot;</span><span class="p">,</span> <span class="s">&quot;video_in_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_VIDEO_IN_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_vip&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cam0_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cam0_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CAM0_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_camif.0&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cam1_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cam1_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CAM1_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_camif.1&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cam2_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cam2_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CAM2_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_camif.2&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cam3_clk&quot;</span><span class="p">,</span> <span class="s">&quot;cam3_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_CAM3_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;spear_camif.3&quot;</span><span class="p">);</span>

	<span class="n">clk</span> <span class="o">=</span> <span class="n">clk_register_gate</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pwm_clk&quot;</span><span class="p">,</span> <span class="s">&quot;pwm_mux_clk&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="n">SPEAR1340_PERIP3_CLK_ENB</span><span class="p">,</span> <span class="n">SPEAR1340_PWM_CLK_ENB</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">_lock</span><span class="p">);</span>
	<span class="n">clk_register_clkdev</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;pwm&quot;</span><span class="p">);</span>
<span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
