f | synaptics_i2c.c | s | 17K | 548 | Axel Lin | axel.lin@gmail.com | 1331964379 |  | Input: convert I2C drivers to use module_i2c_driver()  This patch converts the drivers in drivers/input/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | amimouse.c | s | 3.5K | 126 | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | maplemouse.c | s | 3.5K | 124 | Adrian McMenamin | adrian@newgolddream.dyndns.info | 1240791751 |  | maple: input: fix up maple mouse driver  The maple mouse driver currently in mainline is broken:  bash-3.1# modprobe maplemouse [   56.886378] input: Dreamcast Mouse as /devices/virtual/input/input3 [   56.918379] Unable to handle kernel NULL pointer dereference at virtual address 00000004 [   56.930543] pc = c003304e [   56.934973] *pde = 00000000 [   56.944948] Oops: 0000 [#1] [   56.947867] Modules linked in: maplemouse(+) [   56.952353] [   56.953921] Pid : 1157, Comm: \0x09\0x09modprobe [   56.958021] CPU : 0        \0x09\0x09Not tainted  (2.6.30-rc2-00130-g3e98f9f #1) [   56.958052] [   56.966567] PC is at dc_mouse_open+0xe/0x40 [maplemouse] [   56.972125] PR is at input_open_device+0x8a/0xc0 [   56.976944] PC  : c003304e SP  : 8c88bdcc SR  : 40008100 TEA : c0033834 [   56.983854] R0  : 000006c4 R1  : 00000000 R2  : 40008101 R3  : 00000000 [   56.990744] R4  : 8c8db800 R5  : c0033080 R6  : 00000005 R7  : 00000200 [   56.997635] R8  : 8c8db800 R9  : 8c8dbe3c R10 : 00000000 R11 : 8c98881c [   57.004525] R12 : 8c8dbe64 R13 : 8ca50140 R14 : 8c88bdd4 [   57.010063] MACH: 00000497 MACL: 00000348 GBR : 29674440 PR  : 8c1b4d0a [   57.016939] ...  Here is a fix for this, keeping an open and close, so reducing the load on the system when the mouse is not in use, and also properly referencing the maple device buffer following the recent update.  Signed-off-by: Adrian McMenamin <adrian@mcmen.demon.co.uk> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | sermouse.c | s | 8.7K | 292 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | Makefile | g | 1.3K |  | Paul Parsons | lost.distance@yahoo.com | 1336713159 |  | Input: Add Synaptics NavPoint (PXA27x SSP/SPI) driver  This driver adds support for the Synaptics NavPoint touchpad connected to a PXA27x SSP port in SPI slave mode. The device emulates a mouse; a tap or tap-and-a-half drag gesture emulates the left mouse button. For example, use the xf86-input-evdev driver for an X pointing device.  Signed-off-by: Paul Parsons <lost.distance@yahoo.com> Tested-by: Philipp Zabel <philipp.zabel@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | lifebook.c | s | 8.2K | 305 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1318296496 |  | Input: psmouse - switch to using dev_*() for messages  This will ensure our reporting is consistent with the rest of the system and we do not refer to obsolete source file names.  Reviewed-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Reviewed-by: JJ Ding <dgdunix@gmail.com> Reviewed-by: Daniel Kurtz <djkurtz@chromium.org> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | touchkit_ps2.h | s | 742B | 22 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1252645898 |  | Input: psmouse - use boolean type  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | navpoint.c | s | 9.3K | 306 | Paul Parsons | lost.distance@yahoo.com | 1336713159 |  | Input: Add Synaptics NavPoint (PXA27x SSP/SPI) driver  This driver adds support for the Synaptics NavPoint touchpad connected to a PXA27x SSP port in SPI slave mode. The device emulates a mouse; a tap or tap-and-a-half drag gesture emulates the left mouse button. For example, use the xf86-input-evdev driver for an X pointing device.  Signed-off-by: Paul Parsons <lost.distance@yahoo.com> Tested-by: Philipp Zabel <philipp.zabel@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | elantech.c | s | 36K | 1190 | JJ Ding | jj_ding@emc.com.tw | 1334043635 |  | Input: elantech - v4 is a clickpad, with only one button  Add pointer and buttonpad properties for v4 hardware.  Also, Jachiet reported that on Asus UX31, right button has no effect. It turns out v4 has only one button, the right-button effect is implemented with software when Windows driver is installed, or in firmware when touchpad is in relative mode. So remove BTN_RIGHT while at it.  Reported-by: Jachiet Louis <louis@jachiet.com> Signed-off-by: JJ Ding <jj_ding@emc.com.tw> Reviewed-by: Chase Douglas <chase.douglas@canonical.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | synaptics.h | s | 6.4K | 164 | Daniel Drake | dsd@laptop.org | 1320902611 |  | Input: synaptics - add support for Relative mode  Currently, the synaptics driver puts the device into Absolute mode. As explained in the synaptics documentation section 3.2, in this mode, the device sends a continuous stream of packets at the maximum rate to the host when the user's fingers are near or on the pad or pressing buttons, and continues streaming for 1 second afterwards. These packets are even sent when there is no new information to report, even when they are duplicates of the previous packet.  For embedded systems this is a bit much - it results in a huge and uninterrupted stream of interrupts at high rate.  This patch adds support for Relative mode, which can be selected as a new psmouse protocol. In this mode, the device does not send duplicate packets and acts like a standard PS/2 mouse. However, synaptics-specific functionality is still available, such as the ability to set the packet rate, and rather than disabling gestures and taps at the hardware level unconditionally, a 'synaptics_disable_gesture' sysfs attribute has been added to allow control of this functionality.  This solves a long standing OLPC issue: synaptics hardware enables tap to click by default (even in the default relative mode), but we have found this to be inappropriate for young children and first time computer users. Enabling the synaptics driver disables tap-to-click, but we have previously been unable to use this because it also enables Absolute mode, which is too "spammy" for our desires and actually overloads our EC with its continuous stream of packets. Now we can enable the synaptics driver, disabling tap to click while retaining the less noisy Relative mode.  Signed-off-by: Daniel Drake <dsd@laptop.org> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | rpcmouse.c | s | 2.9K | 90 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1237976495 |  | [ARM] acorn,ebsa110,footbridge,integrator,sa1100: Convert asm/io.h to linux/io.h  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | inport.c | s | 5.3K | 159 | Adrian Bunk | bunk@kernel.org | 1211300259 |  | Input: remove CVS keywords  This patch removes CVS keywords that weren't updated for a long time from comments.  Signed-off-by: Adrian Bunk <bunk@kernel.org> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | synaptics.c | s | 41K | 1317 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1337847181 |  | Merge branch 'next' into for-linus
f | synaptics_usb.c | s | 14K | 456 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1331964394 |  | Input: synaptics_usb - switch to module_usb_driver()  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | hgpk.h | s | 1.5K | 58 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1318296496 |  | Input: psmouse - switch to using dev_*() for messages  This will ensure our reporting is consistent with the rest of the system and we do not refer to obsolete source file names.  Reviewed-by: Wanlong Gao <gaowanlong@cn.fujitsu.com> Reviewed-by: JJ Ding <dgdunix@gmail.com> Reviewed-by: Daniel Kurtz <djkurtz@chromium.org> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | logibm.c | s | 5.1K | 152 | Adrian Bunk | bunk@kernel.org | 1211300259 |  | Input: remove CVS keywords  This patch removes CVS keywords that weren't updated for a long time from comments.  Signed-off-by: Adrian Bunk <bunk@kernel.org> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | appletouch.c | s | 24K | 794 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1336170956 |  | USB: input: appletouch: fix up compiler warning  My last patch fixing up the dev_* messages caused a compiler warning accidentally for an unused variable.  Fix this up, as it was my fault.  Cc: Alessandro Rubini <rubini@ipvvis.unipv.it> Cc: Dmitry Torokhov <dmitry.torokhov@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | psmouse.h | s | 5.5K | 161 | Andres Salomon | dilinger@queued.net | 1330073728 |  | Input: psmouse - allow drivers to use psmouse_{de,}activate  Other drivers duplicate this code; no sense in having it be private to psmouse-base.  Signed-off-by: Andres Salomon <dilinger@queued.net> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | elantech.h | s | 3.6K | 137 | JJ Ding | jj_ding@emc.com.tw | 1321856914 |  | Input: elantech - add resolution query support for v4 hardware  It turns out that v4's firmware provides a command so we can query the resolution. Let's use it.  Signed-off-by: JJ Ding <jj_ding@emc.com.tw> Reviewed-by: Daniel Kurtz <djkurtz@chromium.org> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | logips2pp.h | s | 577B | 20 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1252645898 |  | Input: psmouse - use boolean type  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | alps.c | s | 46K | 1427 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1336714353 |  | Input: ALPS - switch to using input_mt_report_finger_count  Instead of open-coded reporting number of fingers on the touchpad let's use input_mt_report_finger_count() helper.  Acked-by: Seth Forshee <seth.forshee@canonical.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | sentelic.h | s | 4.1K | 120 | Tai-hwa Liang | avatar@sentelic.com | 1336707544 |  | Input: sentelic - report device's production serial number  Hardware since Cx supports an unique identity (used to identify OEM vendors and released lot number) which is very helpful for diagnostic purpose. This revision tries to make it as a part of driver boot up message.  Whilst here, also bumping fsp_drv_ver to acknowledge recent addition of absolute coordinates output.  Signed-off-by: Tai-hwa Liang <avatar@sentelic.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | logips2pp.c | s | 11K | 344 | JJ Ding | dgdunix@gmail.com | 1320902606 |  | Input: convert obsolete strict_strtox to kstrtox  With commit 67d0a0754455f89ef3946946159d8ec9e45ce33a we mark strict_strtox as obsolete. Convert all remaining such uses in drivers/input/.  Also change long to appropriate types, and return error conditions from kstrtox separately, as Dmitry sugguests.  Signed-off-by: JJ Ding <dgdunix@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | lifebook.h | s | 738B | 29 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1259911536 |  | Input: psmouse - do not carry DMI data around  DMI tables use considerable amount of memory. Mark them as __initconst so they will be discarded once module is loaded.  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | gpio_mouse.c | s | 4.6K | 154 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1334073927 |  | Input: gpio_mouse - use linux/gpio.h rather than asm/gpio.h  Direct usage of the asm include has long been deprecated by the introduction of gpiolib.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | pxa930_trkball.c | s | 6.3K | 203 | JJ Ding | dgdunix@gmail.com | 1322725302 |  | Input: mouse - use macro module_platform_driver()  Commit 940ab88962bc1aff3273a8356d64577a6e386736 introduced a new macro to save some platform_driver boilerplate code. Use it.  Signed-off-by: JJ Ding <dgdunix@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | atarimouse.c | s | 3.8K | 129 | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | trackpoint.h | s | 4.6K | 128 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1252645898 |  | Input: psmouse - use boolean type  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | sentelic.c | s | 25K | 885 | Tai-hwa Liang | avatar@sentelic.com | 1336707544 |  | Input: sentelic - report device's production serial number  Hardware since Cx supports an unique identity (used to identify OEM vendors and released lot number) which is very helpful for diagnostic purpose. This revision tries to make it as a part of driver boot up message.  Whilst here, also bumping fsp_drv_ver to acknowledge recent addition of absolute coordinates output.  Signed-off-by: Tai-hwa Liang <avatar@sentelic.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | Kconfig | g | 10.0K |  | Paul Parsons | lost.distance@yahoo.com | 1336713159 |  | Input: Add Synaptics NavPoint (PXA27x SSP/SPI) driver  This driver adds support for the Synaptics NavPoint touchpad connected to a PXA27x SSP port in SPI slave mode. The device emulates a mouse; a tap or tap-and-a-half drag gesture emulates the left mouse button. For example, use the xf86-input-evdev driver for an X pointing device.  Signed-off-by: Paul Parsons <lost.distance@yahoo.com> Tested-by: Philipp Zabel <philipp.zabel@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | hgpk.c | s | 27K | 876 | Paul Fox | pgf@laptop.org | 1330073733 |  | Input: psmouse - use psmouse_[de]activate() from sentelic and hgpk drivers  Make use of psmouse_activate() and psmouse_deactivate() from psmouse-base.c  Signed-off-by: Andres Salomon <dilinger@queued.net> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | pc110pad.c | s | 4.6K | 146 | Daniel Mack | daniel@caiaq.de | 1280806196 |  | Input: switch to input_abs_*() access functions  Change all call sites in drivers/input to not access the ABS axis information directly anymore. Make them use the access helpers instead.  Also use input_set_abs_params() when possible. Did some code refactoring as I was on it.  Signed-off-by: Daniel Mack <daniel@caiaq.de> Cc: Dmitry Torokhov <dtor@mail.ru> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | alps.h | s | 1.7K | 56 | George Pantalos | gpantalos@gmail.com | 1336714340 |  | Input: ALPS - add semi-MT support for v4 protocol  This patch adds semi-MT support for ALPS v4 protocol touchpads. It is based on the work by Seth Forshee for ALPS v3 and v4 protocol support. Three packets are required to assemble and process the MT data. ST events are reported at once to avoid latency. If there were two contacts or more, report MT data instead of ST events.  Thanks to Seth Forshee for providing most of the code, guidance and insight for producing this patch.  Signed-off-by: George Pantalos <gpantalos@gmail.com> Acked-by: Seth Forshee <seth.forshee@canonical.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | trackpoint.c | s | 9.6K | 274 | JJ Ding | dgdunix@gmail.com | 1334043639 |  | Input: trackpoint - use psmouse_fmt() for messages  Use psmouse_*() macros introduced in commit b5d21704361ee.  Signed-off-by: JJ Ding <dgdunix@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | psmouse-base.c | s | 44K | 1496 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1331319317 |  | Merge commit 'v3.3-rc6' into next
f | touchkit_ps2.c | s | 3.1K | 81 | Justin P. Mattock | justinmattock@gmail.com | 1287392594 |  | Update broken web addresses in the kernel.  The patch below updates broken web addresses in the kernel  Signed-off-by: Justin P. Mattock <justinmattock@gmail.com> Cc: Maciej W. Rozycki <macro@linux-mips.org> Cc: Geert Uytterhoeven <geert@linux-m68k.org> Cc: Finn Thain <fthain@telegraphics.com.au> Cc: Randy Dunlap <rdunlap@xenotime.net> Cc: Matt Turner <mattst88@gmail.com> Cc: Dimitry Torokhov <dmitry.torokhov@gmail.com> Cc: Mike Frysinger <vapier.adi@gmail.com> Acked-by: Ben Pfaff <blp@cs.stanford.edu> Acked-by: Hans J. Koch <hjk@linutronix.de> Reviewed-by: Finn Thain <fthain@telegraphics.com.au> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | bcm5974.c | s | 29K | 820 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1336170782 |  | USB: input: bcm5974.c: fix up dev_* messages  Previously I had made the struct device point to the input device, but after talking with Dmitry, he said that the USB device would make more sense for this driver to point to.  So converted it to use that instead.  CC: Henrik Rydberg <rydberg@euromail.se> CC: Alessandro Rubini <rubini@ipvvis.unipv.it> CC: Dmitry Torokhov <dmitry.torokhov@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | vsxxxaa.c | s | 14K | 474 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
