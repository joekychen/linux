f | Makefile | g | 833B |  | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1336714727 |  | Input: matrix-keymap - uninline and prepare for device tree support  Change matrix-keymap helper to be out-of-line, like sparse keymap, allow the helper perform basic keymap validation and return errors, and prepare for device tree support.  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | input-compat.h | s | 2.1K | 74 | H. J. Lu | hjl.tools@gmail.com | 1329770927 |  | compat: Use COMPAT_USE_64BIT_TIME in the input subsystem  Enable the input system to be used with a compat ABI with 64-bit time.  Signed-off-by: H. Peter Anvin <hpa@zytor.com> Cc: Dmitry Torokhov <dmitry.torokhov@gmail.com>
f | sparse-keymap.c | s | 8.6K | 285 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103876 |  | drivers/input: Add module.h to modular drivers implicitly using it  A pending cleanup will mean that module.h won't be implicitly everywhere anymore.  Make sure the modular drivers in input dir are actually calling out for <module.h> explicitly in advance.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | apm-power.c | s | 2.6K | 106 | Joe Perches | joe@perches.com | 1291187426 |  | Input: use pr_fmt and pr_<level>  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
d | joystick |  | 30 items |  | Mark Brown | broonie@opensource.wolfsonmicro.com | 1338368134 |  | i2c: Split I2C_M_NOSTART support out of I2C_FUNC_PROTOCOL_MANGLING  Since there are uses for I2C_M_NOSTART which are much more sensible and standard than most of the protocol mangling functionality (the main one being gather writes to devices where something like a register address needs to be inserted before a block of data) create a new I2C_FUNC_NOSTART for this feature and update all the users to use it.  Also strengthen the disrecommendation of the protocol mangling while we're at it.  In the case of regmap-i2c we remove the requirement for mangling as I2C_M_NOSTART is the only mangling feature which is being used.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Acked-by: Wolfram Sang <w.sang@pengutronix.de> Signed-off-by: Jean Delvare <khali@linux-fr.org>
d | mouse |  | 38 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337880869 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input  Pull input layer updates from Dmitry Torokhov:  - a bunch of new drivers (DA9052/53 touchscreenn controller, Synaptics    Navpoint, LM8333 keypads, Wacom I2C touhscreen);  - updates to existing touchpad drivers (ALPS, Sntelic);  - Wacom driver now supports Intuos5;  - device-tree bindings in numerous drivers;  - other cleanups and fixes.  Fix annoying conflict in drivers/input/tablet/wacom_wac.c that I think implies that the input layer device naming is broken, but let's see.  I brough it up with Dmitry.  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input: (57 commits)   Input: matrix-keymap - fix building keymaps   Input: spear-keyboard - document DT bindings   Input: spear-keyboard - add device tree bindings   Input: matrix-keymap - wire up device tree support   Input: matrix-keymap - uninline and prepare for device tree support   Input: adp5588 - add support for gpio names   Input: omap-keypad - dynamically handle register offsets   Input: synaptics - fix compile warning   MAINTAINERS: adjust input-related patterns   Input: ALPS - switch to using input_mt_report_finger_count   Input: ALPS - add semi-MT support for v4 protocol   Input: Add Synaptics NavPoint (PXA27x SSP/SPI) driver   Input: atmel_mxt_ts - dump each message on just 1 line   Input: atmel_mxt_ts - do not read extra (checksum) byte   Input: atmel_mxt_ts - verify object size in mxt_write_object   Input: atmel_mxt_ts - only allow root to update firmware   Input: atmel_mxt_ts - use CONFIG_PM_SLEEP   Input: sentelic - report device's production serial number   Input: tl6040-vibra - Device Tree support   Input: evdev - properly handle read/write with count 0   ...
f | matrix-keymap.c | s | 4.5K | 142 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1337847140 |  | Input: matrix-keymap - fix building keymaps  Keymaps used by drivers based on matrix-keymap facilities are arrays of unsigned shorts, not chars. Treating them otherwise produces corrupted keymaps.  Reported-by: Sourav Poddar <sourav.poddar@ti.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
d | gameport |  | 7 items |  | Axel Lin | axel.lin@gmail.com | 1335077338 |  | Input: use module_pci_driver  This patch converts the drivers in drivers/input/* to use module_pci_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
d | misc |  | 57 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338317591 |  | 
d | touchscreen |  | 69 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338317591 |  | 
f | input-polldev.c | s | 6.2K | 202 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1322560267 |  | Merge commit 'v3.2-rc3' into next
f | input-mt.c | s | 5.1K | 152 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103876 |  | drivers/input: add export.h to symbol exporting files.  These files are not modules but are exporting symbols and/or making use of THIS_MODULE macro.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | serio |  | 33 items |  | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1335943273 |  | Input: serio_raw - signal EFAULT even if read/write partially succeeds  When copy_to/from_user fails in the middle of transfer we should not report to the user that read/write partially succeeded but rather report -EFAULT right away, so that application will know that it got its buffers all wrong.  If application messed up its buffers we can't trust the data fetched from userspace and successfully written to the device or if data read from the device and transferred to userspace ended up where application expected it to end.  If serio_write() fails we still going to report partial writes if failure happens in the middle of the transfer.  This is basically a revert of 7a0a27d2ce38aee19a31fee8c12095f586eed393 and 4fa0771138d0b56fe59ab8ab3b1ce9e594484362.  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | input.c | s | 52K | 1785 | Henrik Rydberg | rydberg@euromail.se | 1328190140 |  | Input: Use accessor for MT values  The current MT accessor function does not distinguish between the MT values and the slot specification event. Add an accessor function for the values only, and use it where appropriate.  Signed-off-by: Henrik Rydberg <rydberg@euromail.se>
f | ff-core.c | s | 8.9K | 316 | Dan Carpenter | dan.carpenter@oracle.com | 1318479191 |  | Input: force feedback - potential integer wrap in input_ff_create()  The problem here is that max_effects can wrap on 32 bits systems. We'd allocate a smaller amount of data than sizeof(struct ff_device). The call to kcalloc() on the next line would fail but it would write the NULL return outside of the memory we just allocated causing data corruption.  The call path is that uinput_setup_device() get ->ff_effects_max from the user and sets the value in the ->private_data struct.  From there it is: -> uinput_ioctl_handler()    -> uinput_create_device()       -> input_ff_create(dev, udev->ff_effects_max);  I've also changed ff_effects_max so it's an unsigned int instead of a signed int as a cleanup.  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | evbug.c | s | 3.1K | 97 | Joe Perches | joe@perches.com | 1291187426 |  | Input: use pr_fmt and pr_<level>  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | Kconfig | g | 5.6K |  | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1336714727 |  | Input: matrix-keymap - uninline and prepare for device tree support  Change matrix-keymap helper to be out-of-line, like sparse keymap, allow the helper perform basic keymap validation and return errors, and prepare for device tree support.  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
d | tablet |  | 11 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337880869 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input  Pull input layer updates from Dmitry Torokhov:  - a bunch of new drivers (DA9052/53 touchscreenn controller, Synaptics    Navpoint, LM8333 keypads, Wacom I2C touhscreen);  - updates to existing touchpad drivers (ALPS, Sntelic);  - Wacom driver now supports Intuos5;  - device-tree bindings in numerous drivers;  - other cleanups and fixes.  Fix annoying conflict in drivers/input/tablet/wacom_wac.c that I think implies that the input layer device naming is broken, but let's see.  I brough it up with Dmitry.  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input: (57 commits)   Input: matrix-keymap - fix building keymaps   Input: spear-keyboard - document DT bindings   Input: spear-keyboard - add device tree bindings   Input: matrix-keymap - wire up device tree support   Input: matrix-keymap - uninline and prepare for device tree support   Input: adp5588 - add support for gpio names   Input: omap-keypad - dynamically handle register offsets   Input: synaptics - fix compile warning   MAINTAINERS: adjust input-related patterns   Input: ALPS - switch to using input_mt_report_finger_count   Input: ALPS - add semi-MT support for v4 protocol   Input: Add Synaptics NavPoint (PXA27x SSP/SPI) driver   Input: atmel_mxt_ts - dump each message on just 1 line   Input: atmel_mxt_ts - do not read extra (checksum) byte   Input: atmel_mxt_ts - verify object size in mxt_write_object   Input: atmel_mxt_ts - only allow root to update firmware   Input: atmel_mxt_ts - use CONFIG_PM_SLEEP   Input: sentelic - report device's production serial number   Input: tl6040-vibra - Device Tree support   Input: evdev - properly handle read/write with count 0   ...
f | joydev.c | s | 22K | 790 | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | ff-memless.c | s | 14K | 448 | Antonio Ospite | ospite@studenti.unina.it | 1336999643 |  | [media] Input: move drivers/input/fixp-arith.h to include/linux  Move drivers/input/fixp-arith.h to include/linux so that the functions defined there can be used by other subsystems, for instance some video devices ISPs can control the output HUE value by setting registers for sin(HUE) and cos(HUE).  Signed-off-by: Antonio Ospite <ospite@studenti.unina.it> Acked-by: Dmitry Torokhov <dmitry.torokhov@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
d | keyboard |  | 52 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338060147 |  | 
f | evdev.c | s | 23K | 847 | Dmitry Torokhov | dmitry.torokhov@gmail.com | 1335943438 |  | Input: evdev - properly handle read/write with count 0  According to the standard count 0 is special - no IO should happen but we can check error conditions (device gone away, etc), and return 0 if there are no errors. We used to return -EINVAL instead and we also could return 0 if an event was "stolen" by another thread.  Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | input-compat.c | s | 3.3K | 107 | H. J. Lu | hjl.tools@gmail.com | 1329770927 |  | compat: Use COMPAT_USE_64BIT_TIME in the input subsystem  Enable the input system to be used with a compat ABI with 64-bit time.  Signed-off-by: H. Peter Anvin <hpa@zytor.com> Cc: Dmitry Torokhov <dmitry.torokhov@gmail.com>
f | mousedev.c | s | 25K | 911 | Hans Petter Selasky | hselasky@c2i.net | 1306340698 |  | Input: properly assign return value of clamp() macro.  [dtor@mail.ru: added mousedev changes] Signed-off-by: Hans Petter Selasky <hselasky@c2i.net> Cc: stable@kernel.org Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
