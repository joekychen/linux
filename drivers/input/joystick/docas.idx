f | amijoy.c | s | 4.5K | 145 | Linus Torvalds | torvalds@linux-foundation.org | 1333088264 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input  Pull 2nd round of input updates from Dmitry Torokhov:  - update to Wacom driver to support wireless devices  - update to Sentelci touchpad driver to support newer hardware  - update to gpio-keys driver to support "interrupt-only" keys  - fixups to earlier commits  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input:   Input: wacom - check for allocation failure in probe()   Input: tegra-kbc - allocate pdata before using it   Input: amijoy - add missing platform check   Input: wacom - wireless battery status   Input: wacom - create inputs when wireless connect   Input: wacom - wireless monitor framework   Input: wacom - isolate input registration   Input: sentelic - improve packet debugging information   Input: sentelic - minor code cleanup   Input: sentelic - enabling absolute coordinates output for newer hardware   Input: sentelic - refactor code for upcoming new hardware support   Input: gpio_keys - add support for interrupt only keys   Input: gpio_keys - consolidate key destructor code   Input: revert "gpio_keys - switch to using threaded IRQs"   Input: gpio_keys - constify platform data   Input: spear-keyboard - remove kbd_set_plat_data()
f | spaceball.c | s | 7.9K | 253 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | grip_mp.c | s | 16K | 535 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | Makefile | g | 1.3K |  | Fabien Marteau | fabien.marteau@armadeus.com | 1294686103 |  | Input: add Austria Microsystem AS5011 joystick driver  This is driver for EasyPoint AS5011 2 axis joystick chip. This chip is plugged on an I2C bus.  Tested on ARM processor (i.MX27).  Signed-off-by: Fabien Marteau <fabien.marteau@armadeus.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | analog.c | s | 19K | 620 | Linus Torvalds | torvalds@linux-foundation.org | 1314202743 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input:   Input: ad714x - read the interrupt status registers in a row   Input: ad714x - use DMA-safe buffers for spi_write()   Input: ad714x - fix endianness issues   Input: ad714xx-spi - force SPI bus into the default 8-bit mode   Input: ep93xx_keypad - add missing include of linux/module.h   Input: tnetv107x-ts - add missing include of linux/module.h   Input: max11801_ts - correct license statement   Input: atmel_mxt_ts - report pressure information from the driver   Input: bcm5974 - Add support for newer MacBookPro8,2   Input: wacom - report id 3 returns 4 bytes of data   Input: wacom - add WAC_MSG_RETRIES define   Input: wacom - add support for the Wacom Bamboo Pen (CTL-660/K)   Input: tegra-kbc - correct call to input_free_device   Input: mpu3050 - correct call to input_free_device   Input: bcm5974 - add support for touchpads found in MacBookAir4,2   Input: mma8450 - fix module device table type   Input: remove CLOCK_TICK_RATE from analog joystick driver
f | gamecon.c | s | 24K | 840 | Justin P. Mattock | justinmattock@gmail.com | 1287392594 |  | Update broken web addresses in the kernel.  The patch below updates broken web addresses in the kernel  Signed-off-by: Justin P. Mattock <justinmattock@gmail.com> Cc: Maciej W. Rozycki <macro@linux-mips.org> Cc: Geert Uytterhoeven <geert@linux-m68k.org> Cc: Finn Thain <fthain@telegraphics.com.au> Cc: Randy Dunlap <rdunlap@xenotime.net> Cc: Matt Turner <mattst88@gmail.com> Cc: Dimitry Torokhov <dmitry.torokhov@gmail.com> Cc: Mike Frysinger <vapier.adi@gmail.com> Acked-by: Ben Pfaff <blp@cs.stanford.edu> Acked-by: Hans J. Koch <hjk@linutronix.de> Reviewed-by: Finn Thain <fthain@telegraphics.com.au> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | magellan.c | s | 5.6K | 182 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | guillemot.c | s | 7.2K | 224 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
d | iforce |  | 8 items |  | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1336170184 |  | USB: input: iforce: fix up dev_* messages  Previously I had made the struct device point to the input device, but after talking with Dmitry, he said that the USB device would make more sense for this driver to point to.  So converted it to use that instead.  Cc: Dmitry Torokhov <dmitry.torokhov@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sidewinder.c | s | 21K | 645 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | tmdc.c | s | 10K | 354 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | twidjoy.c | s | 7.3K | 214 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | gf2k.c | s | 9.5K | 289 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | joydump.c | s | 4.1K | 128 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | stinger.c | s | 5.4K | 170 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | walkera0701.c | s | 8.0K | 244 | Peter Popovec | popovec@oko.fei.tuke.sk | 1227131740 |  | Input: add joystick driver for Walkera WK-0701 RC transmitter  Signed-off-by: Peter Popovec <popovec@fei.tuke.sk> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | a3d.c | s | 10K | 327 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | interact.c | s | 7.8K | 246 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | warrior.c | s | 6.0K | 183 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | zhenhua.c | s | 5.8K | 187 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | adi.c | s | 13K | 450 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | spaceorb.c | s | 6.3K | 195 | Axel Lin | axel.lin@gmail.com | 1333556743 |  | Input: serio - use module_serio_driver  This patch converts the drivers in drivers/input/* to use module_serio_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | turbografx.c | s | 7.9K | 264 | Namhyung Kim | namhyung@gmail.com | 1291224034 |  | Input: turbografx - fix reference counting  The ref-count of parport gained from parport_find_number() was not released in normal path.  Signed-off-by: Namhyung Kim <namhyung@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | db9.c | s | 20K | 612 | Tejun Heo | tj@kernel.org | 1269954152 |  | include cleanup: Update gfp.h and slab.h includes to prepare for breaking implicit slab.h inclusion from percpu.h  percpu.h is included by sched.h and module.h and thus ends up being included when building most .c files.  percpu.h includes slab.h which in turn includes gfp.h making everything defined by the two files universally available and complicating inclusion dependencies.  percpu.h -> slab.h dependency is about to be removed.  Prepare for this change by updating users of gfp and slab facilities include those headers directly instead of assuming availability.  As this conversion needs to touch large number of source files, the following script is used as the basis of conversion.    http://userweb.kernel.org/~tj/misc/slabh-sweep.py  The script does the followings.  * Scan files for gfp and slab usages and update includes such that   only the necessary includes are there.  ie. if only gfp is used,   gfp.h, if slab is used, slab.h.  * When the script inserts a new include, it looks at the include   blocks and try to put the new include such that its order conforms   to its surrounding.  It's put in the include block which contains   core kernel includes, in the same order that the rest are ordered -   alphabetical, Christmas tree, rev-Xmas-tree or at the end if there   doesn't seem to be any matching order.  * If the script can't find a place to put a new include (mostly   because the file doesn't have fitting include block), it prints out   an error message indicating which .h file needs to be added to the   file.  The conversion was done in the following steps.  1. The initial automatic conversion of all .c files updated slightly    over 4000 files, deleting around 700 includes and adding ~480 gfp.h    and ~3000 slab.h inclusions.  The script emitted errors for ~400    files.  2. Each error was manually checked.  Some didn't need the inclusion,    some needed manual addition while adding it to implementation .h or    embedding .c file was more appropriate for others.  This step added    inclusions to around 150 files.  3. The script was run again and the output was compared to the edits    from #2 to make sure no file was left behind.  4. Several build tests were done and a couple of problems were fixed.    e.g. lib/decompress_*.c used malloc/free() wrappers around slab    APIs requiring slab.h to be added manually.  5. The script was run on all .h files but without automatically    editing them as sprinkling gfp.h and slab.h inclusions around .h    files could easily lead to inclusion dependency hell.  Most gfp.h    inclusion directives were ignored as stuff from gfp.h was usually    wildly available and often used in preprocessor macros.  Each    slab.h inclusion directive was examined and added manually as    necessary.  6. percpu.h was updated not to include slab.h.  7. Build test were done on the following configurations and failures    were fixed.  CONFIG_GCOV_KERNEL was turned off for all tests (as my    distributed build env didn't work with gcov compiles) and a few    more options had to be turned off depending on archs to make things    build (like ipr on powerpc/64 which failed due to missing writeq).     * x86 and x86_64 UP and SMP allmodconfig and a custom test config.    * powerpc and powerpc64 SMP allmodconfig    * sparc and sparc64 SMP allmodconfig    * ia64 SMP allmodconfig    * s390 SMP allmodconfig    * alpha SMP allmodconfig    * um on x86_64 SMP allmodconfig  8. percpu.h modifications were reverted so that it could be applied as    a separate patch and serve as bisection point.  Given the fact that I had only a couple of failures from tests on step 6, I'm fairly confident about the coverage of this conversion patch. If there is a breakage, it's likely to be something in one of the arch headers which should be easily discoverable easily on most builds of the specific arch.  Signed-off-by: Tejun Heo <tj@kernel.org> Guess-its-ok-by: Christoph Lameter <cl@linux-foundation.org> Cc: Ingo Molnar <mingo@redhat.com> Cc: Lee Schermerhorn <Lee.Schermerhorn@hp.com>
f | as5011.c | s | 9.0K | 300 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1338368134 |  | i2c: Split I2C_M_NOSTART support out of I2C_FUNC_PROTOCOL_MANGLING  Since there are uses for I2C_M_NOSTART which are much more sensible and standard than most of the protocol mangling functionality (the main one being gather writes to devices where something like a register address needs to be inserted before a block of data) create a new I2C_FUNC_NOSTART for this feature and update all the users to use it.  Also strengthen the disrecommendation of the protocol mangling while we're at it.  In the case of regmap-i2c we remove the requirement for mangling as I2C_M_NOSTART is the only mangling feature which is being used.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Acked-by: Wolfram Sang <w.sang@pengutronix.de> Signed-off-by: Jean Delvare <khali@linux-fr.org>
f | xpad.c | s | 30K | 903 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1336170773 |  | USB: input: xpad.c: fix up dev_* messages  Previously I had made the struct device point to the input device, but after talking with Dmitry, he said that the USB device would make more sense for this driver to point to.  So converted it to use that instead.  CC: Dmitry Torokhov <dmitry.torokhov@gmail.com> CC: "Magnus Hörlin" <magnus@alefors.se> CC: Rusty Russell <rusty@rustcorp.com.au> CC: Mauro Carvalho Chehab <mchehab@redhat.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | Kconfig | g | 10K |  | Fabien Marteau | fabien.marteau@armadeus.com | 1294686103 |  | Input: add Austria Microsystem AS5011 joystick driver  This is driver for EasyPoint AS5011 2 axis joystick chip. This chip is plugged on an I2C bus.  Tested on ARM processor (i.MX27).  Signed-off-by: Fabien Marteau <fabien.marteau@armadeus.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | maplecontrol.c | s | 4.8K | 157 | Adrian McMenamin | adrian@mcmen.demon.co.uk | 1235718452 |  | sh: maple: Support block reads and writes.  This patch updates the maple bus to support asynchronous block reads and writes as well as generally improving the quality of the code and supporting concurrency (all needed to support the Dreamcast visual memory unit - a driver will also be posted for that).  Changes in the bus driver necessitate some changes in the two maple bus input drivers that are currently in mainline.  As well as supporting block reads and writes this code clean up removes some poor handling of locks, uses an atomic status variable to serialise access to devices and more robusly handles the general performance problems of the bus.  Signed-off-by: Adrian McMenamin <adrian@mcmen.demon.co.uk> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | cobra.c | s | 6.4K | 205 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | grip.c | s | 11K | 333 | Axel Lin | axel.lin@gmail.com | 1333556744 |  | Input: gameport - use module_gameport_driver  This patch converts the drivers in drivers/input/* to use module_gameport_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
