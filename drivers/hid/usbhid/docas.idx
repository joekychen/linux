f | hid-core.c | s | 43K | 1404 | Linus Torvalds | torvalds@linux-foundation.org | 1337739708 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/hid  Pull HID subsystem updates from Jiri Kosina:  "Apart from various driver updates and added support for a number of   new devices (mostly multitouch ones, but not limited to), there is one   change that is worth pointing out explicitly: creation of HID device   groups and proper autoloading of hid-multitouch, implemented by Henrik   Rydberg."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/hid: (50 commits)   HID: wacom: fix build breakage without CONFIG_LEDS_CLASS   HID: waltop: Extend barrel button fix   HID: hyperv: Set the hid drvdata correctly   HID: wacom: Unify speed setting   HID: wacom: Add speed setting for Intuos4 WL   HID: wacom: Move Graphire raport header check.   HID: uclogic: Add support for UC-Logic TWHL850   HID: explain the signed/unsigned handling in hid_add_field()   HID: handle logical min/max signedness properly in parser   HID: logitech: read all 32 bits of report type bitfield   HID: wacom: Add LED selector control for Wacom Intuos4 WL   HID: hid-multitouch: fix wrong protocol detection   HID: wiimote: Fix IR data parser   HID: wacom: Add tilt reporting for Intuos4 WL   HID: multitouch: MT interface matching for Baanto   HID: hid-multitouch: Only match MT interfaces   HID: Create a common generic driver   HID: hid-multitouch: Switch to device groups   HID: Create a generic device group   HID: Allow bus wildcard matching   ...
f | usbmouse.c | s | 6.4K | 201 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1335390500 |  | USB: usbmouse.c: remove err() usage  err() was a very old USB-specific macro that I thought had gone away.  This patch removes it from being used in the driver and uses dev_err() instead.  CC: Jiri Kosina <jkosina@suse.cz> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | hid-pidff.c | s | 36K | 1130 | Joe Perches | joe@perches.com | 1291990238 |  | HID: Add and use hid_<level>: dev_<level> equivalents  Neaten current uses of dev_<level> by adding and using hid specific hid_<level> macros.  Convert existing uses of dev_<level> uses to hid_<level>. Convert hid-pidff printk uses to hid_<level>.  Remove err_hid and use hid_err instead.  Add missing newlines to logging messages where necessary. Coalesce format strings.  Add and use pr_fmt(fmt) KBUILD_MODNAME ": " fmt  Other miscellaneous changes:  Add const struct hid_device * argument to hid-core functions extract() and implement() so hid_<level> can be used by them. Fix bad indentation in hid-core hid_input_field function that calls extract() function above.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | Makefile | g | 367B |  | Tracey Dent | tdent48227@gmail.com | 1290073398 |  | HID: usbhid: Clean up makefile (-y instead of -objs)  Changed Makefile to use <modules>-y instead of <modules>-objs because -objs is deprecated and should now be switched. According to (documentation/kbuild/makefiles.txt).  Signed-off-by: Tracey Dent <tdent48227@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | hid-quirks.c | s | 11K | 283 | Nikolai Kondrashov | spbnick@gmail.com | 1332924022 |  | HID: waltop: Add support for Sirius tablet  Add support for Waltop Sirius Battery Free Tablet. VisTablet Muse and Princeton PTB-S1BK are other possible names of this tablet.  Signed-off-by: Nikolai Kondrashov <spbnick@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | usbkbd.c | s | 11K | 338 | Linus Torvalds | torvalds@linux-foundation.org | 1326221308 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/hid  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/jikos/hid: (68 commits)   hid-input/battery: add FEATURE quirk   hid-input/battery: remove battery_val   hid-input/battery: power-supply type really *is* a battery   hid-input/battery: make the battery setup common for INPUTs and FEATUREs   hid-input/battery: deal with both FEATURE and INPUT report batteries   hid-input/battery: add quirks for battery   hid-input/battery: remove apparently redundant kmalloc   hid-input: add support for HID devices reporting Battery Strength   HID: hid-multitouch: add support 9 new Xiroku devices   HID: multitouch: add support for 3M 32"   HID: multitouch: add support of Atmel multitouch panels   HID: usbhid: defer LED setting to a workqueue   HID: usbhid: hid-core: submit queued urbs before suspend   HID: usbhid: remove LED_ON   HID: emsff: use symbolic name instead of hardcoded PID constant   HID: Enable HID_QUIRK_MULTI_INPUT for Trio Linker Plus II   HID: Kconfig: fix syntax   HID: introduce proper dependency of HID_BATTERY on POWER_SUPPLY   HID: multitouch: support PixArt optical touch screen   HID: make parser more verbose about parsing errors by default   ...  Fix up rename/delete conflict in drivers/hid/hid-hyperv.c (removed in staging, moved in this branch) and similarly for the rules for same file in drivers/staging/hv/{Kconfig,Makefile}.
f | usbhid.h | s | 4.4K | 91 | Oliver Neukum | oneukum@suse.de | 1333113267 |  | HID: usbhid: fix error handling of not enough bandwidth  In case IO cannot be started because there is a lack of bandwidth on the bus, it makes no sense to reset the device. If IO is requested because the device is opened, user space should be notified with an error right away. If the lack of bandwidth arises later, for example after resume, there's no other choice but to retry in the hope that bandwidth will be freed.  Signed-off-by: Oliver Neukum <oneukum@suse.de> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | Kconfig | g | 2.6K |  | Henrik Rydberg | rydberg@euromail.se | 1340637900 |  | HID: Fix the generic Kconfig options  The generic HID driver is obviously not a special driver, so move it outside of the special drivers menu. Explain the usage and make the default follow the HID setting. This should simplify migration from older kernels. While at it, remove the redundant HID_SUPPORT option and modify the HID and USB_HID entries to better explain the bus structure.  Reported-by: Jan Beulich <jbeulich@suse.com> Signed-off-by: Henrik Rydberg <rydberg@euromail.se> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | hiddev.c | s | 22K | 789 | Havard Skinnemoen | hskinnemoen@google.com | 1335535420 |  | HID: hiddev: Use vzalloc to allocate hiddev_list  Everytime a HID device is opened, a new hiddev_list is allocated with kzalloc. This requires 64KB of physically contiguous memory, which could easily push a heavily loaded system over the edge.  Allocating the same amount of memory with vmalloc shouldn't be nearly as demanding, so let's do that instead. The memory isn't used for DMA and doesn't look particularly performance sensitive, so this should be safe.  Signed-off-by: Havard Skinnemoen <hskinnemoen@google.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
