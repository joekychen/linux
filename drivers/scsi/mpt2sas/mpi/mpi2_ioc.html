<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › mpt2sas › mpi › mpi2_ioc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mpi2_ioc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Copyright (c) 2000-2011 LSI Corporation.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> *           Name:  mpi2_ioc.h</span>
<span class="cm"> *          Title:  MPI IOC, Port, Event, FW Download, and FW Upload messages</span>
<span class="cm"> *  Creation Date:  October 11, 2006</span>
<span class="cm"> *</span>
<span class="cm"> *  mpi2_ioc.h Version:  02.00.19</span>
<span class="cm"> *</span>
<span class="cm"> *  Version History</span>
<span class="cm"> *  ---------------</span>
<span class="cm"> *</span>
<span class="cm"> *  Date      Version   Description</span>
<span class="cm"> *  --------  --------  ------------------------------------------------------</span>
<span class="cm"> *  04-30-07  02.00.00  Corresponds to Fusion-MPT MPI Specification Rev A.</span>
<span class="cm"> *  06-04-07  02.00.01  In IOCFacts Reply structure, renamed MaxDevices to</span>
<span class="cm"> *                      MaxTargets.</span>
<span class="cm"> *                      Added TotalImageSize field to FWDownload Request.</span>
<span class="cm"> *                      Added reserved words to FWUpload Request.</span>
<span class="cm"> *  06-26-07  02.00.02  Added IR Configuration Change List Event.</span>
<span class="cm"> *  08-31-07  02.00.03  Removed SystemReplyQueueDepth field from the IOCInit</span>
<span class="cm"> *                      request and replaced it with</span>
<span class="cm"> *                      ReplyDescriptorPostQueueDepth and ReplyFreeQueueDepth.</span>
<span class="cm"> *                      Replaced the MinReplyQueueDepth field of the IOCFacts</span>
<span class="cm"> *                      reply with MaxReplyDescriptorPostQueueDepth.</span>
<span class="cm"> *                      Added MPI2_RDPQ_DEPTH_MIN define to specify the minimum</span>
<span class="cm"> *                      depth for the Reply Descriptor Post Queue.</span>
<span class="cm"> *                      Added SASAddress field to Initiator Device Table</span>
<span class="cm"> *                      Overflow Event data.</span>
<span class="cm"> *  10-31-07  02.00.04  Added ReasonCode MPI2_EVENT_SAS_INIT_RC_NOT_RESPONDING</span>
<span class="cm"> *                      for SAS Initiator Device Status Change Event data.</span>
<span class="cm"> *                      Modified Reason Code defines for SAS Topology Change</span>
<span class="cm"> *                      List Event data, including adding a bit for PHY Vacant</span>
<span class="cm"> *                      status, and adding a mask for the Reason Code.</span>
<span class="cm"> *                      Added define for</span>
<span class="cm"> *                      MPI2_EVENT_SAS_TOPO_ES_DELAY_NOT_RESPONDING.</span>
<span class="cm"> *                      Added define for MPI2_EXT_IMAGE_TYPE_MEGARAID.</span>
<span class="cm"> *  12-18-07  02.00.05  Added Boot Status defines for the IOCExceptions field of</span>
<span class="cm"> *                      the IOCFacts Reply.</span>
<span class="cm"> *                      Removed MPI2_IOCFACTS_CAPABILITY_EXTENDED_BUFFER define.</span>
<span class="cm"> *                      Moved MPI2_VERSION_UNION to mpi2.h.</span>
<span class="cm"> *                      Changed MPI2_EVENT_NOTIFICATION_REQUEST to use masks</span>
<span class="cm"> *                      instead of enables, and added SASBroadcastPrimitiveMasks</span>
<span class="cm"> *                      field.</span>
<span class="cm"> *                      Added Log Entry Added Event and related structure.</span>
<span class="cm"> *  02-29-08  02.00.06  Added define MPI2_IOCFACTS_CAPABILITY_INTEGRATED_RAID.</span>
<span class="cm"> *                      Removed define MPI2_IOCFACTS_PROTOCOL_SMP_TARGET.</span>
<span class="cm"> *                      Added MaxVolumes and MaxPersistentEntries fields to</span>
<span class="cm"> *                      IOCFacts reply.</span>
<span class="cm"> *                      Added ProtocalFlags and IOCCapabilities fields to</span>
<span class="cm"> *                      MPI2_FW_IMAGE_HEADER.</span>
<span class="cm"> *                      Removed MPI2_PORTENABLE_FLAGS_ENABLE_SINGLE_PORT.</span>
<span class="cm"> *  03-03-08  02.00.07  Fixed MPI2_FW_IMAGE_HEADER by changing Reserved26 to</span>
<span class="cm"> *                      a U16 (from a U32).</span>
<span class="cm"> *                      Removed extra &#39;s&#39; from EventMasks name.</span>
<span class="cm"> *  06-27-08  02.00.08  Fixed an offset in a comment.</span>
<span class="cm"> *  10-02-08  02.00.09  Removed SystemReplyFrameSize from MPI2_IOC_INIT_REQUEST.</span>
<span class="cm"> *                      Removed CurReplyFrameSize from MPI2_IOC_FACTS_REPLY and</span>
<span class="cm"> *                      renamed MinReplyFrameSize to ReplyFrameSize.</span>
<span class="cm"> *                      Added MPI2_IOCFACTS_EXCEPT_IR_FOREIGN_CONFIG_MAX.</span>
<span class="cm"> *                      Added two new RAIDOperation values for Integrated RAID</span>
<span class="cm"> *                      Operations Status Event data.</span>
<span class="cm"> *                      Added four new IR Configuration Change List Event data</span>
<span class="cm"> *                      ReasonCode values.</span>
<span class="cm"> *                      Added two new ReasonCode defines for SAS Device Status</span>
<span class="cm"> *                      Change Event data.</span>
<span class="cm"> *                      Added three new DiscoveryStatus bits for the SAS</span>
<span class="cm"> *                      Discovery event data.</span>
<span class="cm"> *                      Added Multiplexing Status Change bit to the PhyStatus</span>
<span class="cm"> *                      field of the SAS Topology Change List event data.</span>
<span class="cm"> *                      Removed define for MPI2_INIT_IMAGE_BOOTFLAGS_XMEMCOPY.</span>
<span class="cm"> *                      BootFlags are now product-specific.</span>
<span class="cm"> *                      Added defines for the indivdual signature bytes</span>
<span class="cm"> *                      for MPI2_INIT_IMAGE_FOOTER.</span>
<span class="cm"> *  01-19-09  02.00.10  Added MPI2_IOCFACTS_CAPABILITY_EVENT_REPLAY define.</span>
<span class="cm"> *                      Added MPI2_EVENT_SAS_DISC_DS_DOWNSTREAM_INITIATOR</span>
<span class="cm"> *                      define.</span>
<span class="cm"> *                      Added MPI2_EVENT_SAS_DEV_STAT_RC_SATA_INIT_FAILURE</span>
<span class="cm"> *                      define.</span>
<span class="cm"> *                      Removed MPI2_EVENT_SAS_DISC_DS_SATA_INIT_FAILURE define.</span>
<span class="cm"> *  05-06-09  02.00.11  Added MPI2_IOCFACTS_CAPABILITY_RAID_ACCELERATOR define.</span>
<span class="cm"> *                      Added MPI2_IOCFACTS_CAPABILITY_MSI_X_INDEX define.</span>
<span class="cm"> *                      Added two new reason codes for SAS Device Status Change</span>
<span class="cm"> *                      Event.</span>
<span class="cm"> *                      Added new event: SAS PHY Counter.</span>
<span class="cm"> *  07-30-09  02.00.12  Added GPIO Interrupt event define and structure.</span>
<span class="cm"> *                      Added MPI2_IOCFACTS_CAPABILITY_EXTENDED_BUFFER define.</span>
<span class="cm"> *                      Added new product id family for 2208.</span>
<span class="cm"> *  10-28-09  02.00.13  Added HostMSIxVectors field to MPI2_IOC_INIT_REQUEST.</span>
<span class="cm"> *                      Added MaxMSIxVectors field to MPI2_IOC_FACTS_REPLY.</span>
<span class="cm"> *                      Added MinDevHandle field to MPI2_IOC_FACTS_REPLY.</span>
<span class="cm"> *                      Added MPI2_IOCFACTS_CAPABILITY_HOST_BASED_DISCOVERY.</span>
<span class="cm"> *                      Added MPI2_EVENT_HOST_BASED_DISCOVERY_PHY define.</span>
<span class="cm"> *                      Added MPI2_EVENT_SAS_TOPO_ES_NO_EXPANDER define.</span>
<span class="cm"> *                      Added Host Based Discovery Phy Event data.</span>
<span class="cm"> *                      Added defines for ProductID Product field</span>
<span class="cm"> *                      (MPI2_FW_HEADER_PID_).</span>
<span class="cm"> *                      Modified values for SAS ProductID Family</span>
<span class="cm"> *                      (MPI2_FW_HEADER_PID_FAMILY_).</span>
<span class="cm"> *  02-10-10  02.00.14  Added SAS Quiesce Event structure and defines.</span>
<span class="cm"> *                      Added PowerManagementControl Request structures and</span>
<span class="cm"> *                      defines.</span>
<span class="cm"> *  05-12-10  02.00.15  Marked Task Set Full Event as obsolete.</span>
<span class="cm"> *                      Added MPI2_EVENT_SAS_TOPO_LR_UNSUPPORTED_PHY define.</span>
<span class="cm"> *  11-10-10  02.00.16  Added MPI2_FW_DOWNLOAD_ITYPE_MIN_PRODUCT_SPECIFIC.</span>
<span class="cm"> *  02-23-11  02.00.17  Added SAS NOTIFY Primitive event, and added</span>
<span class="cm"> *                      SASNotifyPrimitiveMasks field to</span>
<span class="cm"> *                      MPI2_EVENT_NOTIFICATION_REQUEST.</span>
<span class="cm"> *                      Added Temperature Threshold Event.</span>
<span class="cm"> *                      Added Host Message Event.</span>
<span class="cm"> *                      Added Send Host Message request and reply.</span>
<span class="cm"> *  05-25-11  02.00.18  For Extended Image Header, added</span>
<span class="cm"> *                      MPI2_EXT_IMAGE_TYPE_MIN_PRODUCT_SPECIFIC and</span>
<span class="cm"> *                      MPI2_EXT_IMAGE_TYPE_MAX_PRODUCT_SPECIFIC defines.</span>
<span class="cm"> *                      Deprecated MPI2_EXT_IMAGE_TYPE_MAX define.</span>
<span class="cm"> *  08-24-11  02.00.19  Added PhysicalPort field to</span>
<span class="cm"> *                      MPI2_EVENT_DATA_SAS_DEVICE_STATUS_CHANGE structure.</span>
<span class="cm"> *                      Marked MPI2_PM_CONTROL_FEATURE_PCIE_LINK as obsolete.</span>
<span class="cm"> *  --------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cp">#ifndef MPI2_IOC_H</span>
<span class="cp">#define MPI2_IOC_H</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*               IOC Messages</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  IOCInit message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* IOCInit Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_IOC_INIT_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">WhoInit</span><span class="p">;</span>                        <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">MsgVersion</span><span class="p">;</span>                     <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">HeaderVersion</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x10 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved6</span><span class="p">;</span>                      <span class="cm">/* 0x14 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved7</span><span class="p">;</span>                      <span class="cm">/* 0x16 */</span>
    <span class="n">U8</span>                      <span class="n">HostMSIxVectors</span><span class="p">;</span>                <span class="cm">/* 0x17 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved8</span><span class="p">;</span>                      <span class="cm">/* 0x18 */</span>
    <span class="n">U16</span>                     <span class="n">SystemRequestFrameSize</span><span class="p">;</span>         <span class="cm">/* 0x1A */</span>
    <span class="n">U16</span>                     <span class="n">ReplyDescriptorPostQueueDepth</span><span class="p">;</span>  <span class="cm">/* 0x1C */</span>
    <span class="n">U16</span>                     <span class="n">ReplyFreeQueueDepth</span><span class="p">;</span>            <span class="cm">/* 0x1E */</span>
    <span class="n">U32</span>                     <span class="n">SenseBufferAddressHigh</span><span class="p">;</span>         <span class="cm">/* 0x20 */</span>
    <span class="n">U32</span>                     <span class="n">SystemReplyAddressHigh</span><span class="p">;</span>         <span class="cm">/* 0x24 */</span>
    <span class="n">U64</span>                     <span class="n">SystemRequestFrameBaseAddress</span><span class="p">;</span>  <span class="cm">/* 0x28 */</span>
    <span class="n">U64</span>                     <span class="n">ReplyDescriptorPostQueueAddress</span><span class="p">;</span><span class="cm">/* 0x30 */</span>
    <span class="n">U64</span>                     <span class="n">ReplyFreeQueueAddress</span><span class="p">;</span>          <span class="cm">/* 0x38 */</span>
    <span class="n">U64</span>                     <span class="n">TimeStamp</span><span class="p">;</span>                      <span class="cm">/* 0x40 */</span>
<span class="p">}</span> <span class="n">MPI2_IOC_INIT_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IOC_INIT_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2IOCInitRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IOCInitRequest_t</span><span class="p">;</span>

<span class="cm">/* WhoInit values */</span>
<span class="cp">#define MPI2_WHOINIT_NOT_INITIALIZED            (0x00)</span>
<span class="cp">#define MPI2_WHOINIT_SYSTEM_BIOS                (0x01)</span>
<span class="cp">#define MPI2_WHOINIT_ROM_BIOS                   (0x02)</span>
<span class="cp">#define MPI2_WHOINIT_PCI_PEER                   (0x03)</span>
<span class="cp">#define MPI2_WHOINIT_HOST_DRIVER                (0x04)</span>
<span class="cp">#define MPI2_WHOINIT_MANUFACTURER               (0x05)</span>

<span class="cm">/* MsgVersion */</span>
<span class="cp">#define MPI2_IOCINIT_MSGVERSION_MAJOR_MASK      (0xFF00)</span>
<span class="cp">#define MPI2_IOCINIT_MSGVERSION_MAJOR_SHIFT     (8)</span>
<span class="cp">#define MPI2_IOCINIT_MSGVERSION_MINOR_MASK      (0x00FF)</span>
<span class="cp">#define MPI2_IOCINIT_MSGVERSION_MINOR_SHIFT     (0)</span>

<span class="cm">/* HeaderVersion */</span>
<span class="cp">#define MPI2_IOCINIT_HDRVERSION_UNIT_MASK       (0xFF00)</span>
<span class="cp">#define MPI2_IOCINIT_HDRVERSION_UNIT_SHIFT      (8)</span>
<span class="cp">#define MPI2_IOCINIT_HDRVERSION_DEV_MASK        (0x00FF)</span>
<span class="cp">#define MPI2_IOCINIT_HDRVERSION_DEV_SHIFT       (0)</span>

<span class="cm">/* minimum depth for the Reply Descriptor Post Queue */</span>
<span class="cp">#define MPI2_RDPQ_DEPTH_MIN                     (16)</span>


<span class="cm">/* IOCInit Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_IOC_INIT_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">WhoInit</span><span class="p">;</span>                        <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                     <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_IOC_INIT_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IOC_INIT_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2IOCInitReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IOCInitReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  IOCFacts message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* IOCFacts Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_IOC_FACTS_REQUEST</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
<span class="p">}</span> <span class="n">MPI2_IOC_FACTS_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IOC_FACTS_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2IOCFactsRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IOCFactsRequest_t</span><span class="p">;</span>


<span class="cm">/* IOCFacts Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_IOC_FACTS_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">MsgVersion</span><span class="p">;</span>                     <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">HeaderVersion</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">IOCNumber</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">IOCExceptions</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                     <span class="cm">/* 0x10 */</span>
    <span class="n">U8</span>                      <span class="n">MaxChainDepth</span><span class="p">;</span>                  <span class="cm">/* 0x14 */</span>
    <span class="n">U8</span>                      <span class="n">WhoInit</span><span class="p">;</span>                        <span class="cm">/* 0x15 */</span>
    <span class="n">U8</span>                      <span class="n">NumberOfPorts</span><span class="p">;</span>                  <span class="cm">/* 0x16 */</span>
    <span class="n">U8</span>                      <span class="n">MaxMSIxVectors</span><span class="p">;</span>                 <span class="cm">/* 0x17 */</span>
    <span class="n">U16</span>                     <span class="n">RequestCredit</span><span class="p">;</span>                  <span class="cm">/* 0x18 */</span>
    <span class="n">U16</span>                     <span class="n">ProductID</span><span class="p">;</span>                      <span class="cm">/* 0x1A */</span>
    <span class="n">U32</span>                     <span class="n">IOCCapabilities</span><span class="p">;</span>                <span class="cm">/* 0x1C */</span>
    <span class="n">MPI2_VERSION_UNION</span>      <span class="n">FWVersion</span><span class="p">;</span>                      <span class="cm">/* 0x20 */</span>
    <span class="n">U16</span>                     <span class="n">IOCRequestFrameSize</span><span class="p">;</span>            <span class="cm">/* 0x24 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x26 */</span>
    <span class="n">U16</span>                     <span class="n">MaxInitiators</span><span class="p">;</span>                  <span class="cm">/* 0x28 */</span>
    <span class="n">U16</span>                     <span class="n">MaxTargets</span><span class="p">;</span>                     <span class="cm">/* 0x2A */</span>
    <span class="n">U16</span>                     <span class="n">MaxSasExpanders</span><span class="p">;</span>                <span class="cm">/* 0x2C */</span>
    <span class="n">U16</span>                     <span class="n">MaxEnclosures</span><span class="p">;</span>                  <span class="cm">/* 0x2E */</span>
    <span class="n">U16</span>                     <span class="n">ProtocolFlags</span><span class="p">;</span>                  <span class="cm">/* 0x30 */</span>
    <span class="n">U16</span>                     <span class="n">HighPriorityCredit</span><span class="p">;</span>             <span class="cm">/* 0x32 */</span>
    <span class="n">U16</span>                     <span class="n">MaxReplyDescriptorPostQueueDepth</span><span class="p">;</span> <span class="cm">/* 0x34 */</span>
    <span class="n">U8</span>                      <span class="n">ReplyFrameSize</span><span class="p">;</span>                 <span class="cm">/* 0x36 */</span>
    <span class="n">U8</span>                      <span class="n">MaxVolumes</span><span class="p">;</span>                     <span class="cm">/* 0x37 */</span>
    <span class="n">U16</span>                     <span class="n">MaxDevHandle</span><span class="p">;</span>                   <span class="cm">/* 0x38 */</span>
    <span class="n">U16</span>                     <span class="n">MaxPersistentEntries</span><span class="p">;</span>           <span class="cm">/* 0x3A */</span>
    <span class="n">U16</span>                     <span class="n">MinDevHandle</span><span class="p">;</span>                   <span class="cm">/* 0x3C */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x3E */</span>
<span class="p">}</span> <span class="n">MPI2_IOC_FACTS_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IOC_FACTS_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2IOCFactsReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IOCFactsReply_t</span><span class="p">;</span>

<span class="cm">/* MsgVersion */</span>
<span class="cp">#define MPI2_IOCFACTS_MSGVERSION_MAJOR_MASK             (0xFF00)</span>
<span class="cp">#define MPI2_IOCFACTS_MSGVERSION_MAJOR_SHIFT            (8)</span>
<span class="cp">#define MPI2_IOCFACTS_MSGVERSION_MINOR_MASK             (0x00FF)</span>
<span class="cp">#define MPI2_IOCFACTS_MSGVERSION_MINOR_SHIFT            (0)</span>

<span class="cm">/* HeaderVersion */</span>
<span class="cp">#define MPI2_IOCFACTS_HDRVERSION_UNIT_MASK              (0xFF00)</span>
<span class="cp">#define MPI2_IOCFACTS_HDRVERSION_UNIT_SHIFT             (8)</span>
<span class="cp">#define MPI2_IOCFACTS_HDRVERSION_DEV_MASK               (0x00FF)</span>
<span class="cp">#define MPI2_IOCFACTS_HDRVERSION_DEV_SHIFT              (0)</span>

<span class="cm">/* IOCExceptions */</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_IR_FOREIGN_CONFIG_MAX      (0x0100)</span>

<span class="cp">#define MPI2_IOCFACTS_EXCEPT_BOOTSTAT_MASK              (0x00E0)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_BOOTSTAT_GOOD              (0x0000)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_BOOTSTAT_BACKUP            (0x0020)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_BOOTSTAT_RESTORED          (0x0040)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_BOOTSTAT_CORRUPT_BACKUP    (0x0060)</span>

<span class="cp">#define MPI2_IOCFACTS_EXCEPT_METADATA_UNSUPPORTED       (0x0010)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_MANUFACT_CHECKSUM_FAIL     (0x0008)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_FW_CHECKSUM_FAIL           (0x0004)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_RAID_CONFIG_INVALID        (0x0002)</span>
<span class="cp">#define MPI2_IOCFACTS_EXCEPT_CONFIG_CHECKSUM_FAIL       (0x0001)</span>

<span class="cm">/* defines for WhoInit field are after the IOCInit Request */</span>

<span class="cm">/* ProductID field uses MPI2_FW_HEADER_PID_ */</span>

<span class="cm">/* IOCCapabilities */</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_HOST_BASED_DISCOVERY   (0x00010000)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_MSI_X_INDEX            (0x00008000)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_RAID_ACCELERATOR       (0x00004000)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_EVENT_REPLAY           (0x00002000)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_INTEGRATED_RAID        (0x00001000)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_TLR                    (0x00000800)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_MULTICAST              (0x00000100)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_BIDIRECTIONAL_TARGET   (0x00000080)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_EEDP                   (0x00000040)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_EXTENDED_BUFFER        (0x00000020)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_SNAPSHOT_BUFFER        (0x00000010)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_DIAG_TRACE_BUFFER      (0x00000008)</span>
<span class="cp">#define MPI2_IOCFACTS_CAPABILITY_TASK_SET_FULL_HANDLING (0x00000004)</span>

<span class="cm">/* ProtocolFlags */</span>
<span class="cp">#define MPI2_IOCFACTS_PROTOCOL_SCSI_TARGET              (0x0001)</span>
<span class="cp">#define MPI2_IOCFACTS_PROTOCOL_SCSI_INITIATOR           (0x0002)</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  PortFacts message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* PortFacts Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_PORT_FACTS_REQUEST</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">PortNumber</span><span class="p">;</span>                     <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
<span class="p">}</span> <span class="n">MPI2_PORT_FACTS_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_PORT_FACTS_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2PortFactsRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2PortFactsRequest_t</span><span class="p">;</span>

<span class="cm">/* PortFacts Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_PORT_FACTS_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">PortNumber</span><span class="p">;</span>                     <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                     <span class="cm">/* 0x10 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x14 */</span>
    <span class="n">U8</span>                      <span class="n">PortType</span><span class="p">;</span>                       <span class="cm">/* 0x15 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved6</span><span class="p">;</span>                      <span class="cm">/* 0x16 */</span>
    <span class="n">U16</span>                     <span class="n">MaxPostedCmdBuffers</span><span class="p">;</span>            <span class="cm">/* 0x18 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved7</span><span class="p">;</span>                      <span class="cm">/* 0x1A */</span>
<span class="p">}</span> <span class="n">MPI2_PORT_FACTS_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_PORT_FACTS_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2PortFactsReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2PortFactsReply_t</span><span class="p">;</span>

<span class="cm">/* PortType values */</span>
<span class="cp">#define MPI2_PORTFACTS_PORTTYPE_INACTIVE            (0x00)</span>
<span class="cp">#define MPI2_PORTFACTS_PORTTYPE_FC                  (0x10)</span>
<span class="cp">#define MPI2_PORTFACTS_PORTTYPE_ISCSI               (0x20)</span>
<span class="cp">#define MPI2_PORTFACTS_PORTTYPE_SAS_PHYSICAL        (0x30)</span>
<span class="cp">#define MPI2_PORTFACTS_PORTTYPE_SAS_VIRTUAL         (0x31)</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  PortEnable message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* PortEnable Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_PORT_ENABLE_REQUEST</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">PortFlags</span><span class="p">;</span>                      <span class="cm">/* 0x05 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
<span class="p">}</span> <span class="n">MPI2_PORT_ENABLE_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_PORT_ENABLE_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2PortEnableRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2PortEnableRequest_t</span><span class="p">;</span>


<span class="cm">/* PortEnable Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_PORT_ENABLE_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">PortFlags</span><span class="p">;</span>                      <span class="cm">/* 0x05 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                     <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_PORT_ENABLE_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_PORT_ENABLE_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2PortEnableReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2PortEnableReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  EventNotification message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* EventNotification Request message */</span>
<span class="cp">#define MPI2_EVENT_NOTIFY_EVENTMASK_WORDS           (4)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_NOTIFICATION_REQUEST</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved6</span><span class="p">;</span>                      <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>                     <span class="n">EventMasks</span><span class="p">[</span><span class="n">MPI2_EVENT_NOTIFY_EVENTMASK_WORDS</span><span class="p">];</span><span class="cm">/* 0x14 */</span>
    <span class="n">U16</span>                     <span class="n">SASBroadcastPrimitiveMasks</span><span class="p">;</span>     <span class="cm">/* 0x24 */</span>
	 <span class="n">U16</span>                     <span class="n">SASNotifyPrimitiveMasks</span><span class="p">;</span>        <span class="cm">/* 0x26 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved8</span><span class="p">;</span>                      <span class="cm">/* 0x28 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_NOTIFICATION_REQUEST</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_NOTIFICATION_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2EventNotificationRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventNotificationRequest_t</span><span class="p">;</span>


<span class="cm">/* EventNotification Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_NOTIFICATION_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">EventDataLength</span><span class="p">;</span>                <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">AckRequired</span><span class="p">;</span>                    <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                     <span class="cm">/* 0x10 */</span>
    <span class="n">U16</span>                     <span class="n">Event</span><span class="p">;</span>                          <span class="cm">/* 0x14 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x16 */</span>
    <span class="n">U32</span>                     <span class="n">EventContext</span><span class="p">;</span>                   <span class="cm">/* 0x18 */</span>
    <span class="n">U32</span>                     <span class="n">EventData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                   <span class="cm">/* 0x1C */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_NOTIFICATION_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_NOTIFICATION_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2EventNotificationReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventNotificationReply_t</span><span class="p">;</span>

<span class="cm">/* AckRequired */</span>
<span class="cp">#define MPI2_EVENT_NOTIFICATION_ACK_NOT_REQUIRED    (0x00)</span>
<span class="cp">#define MPI2_EVENT_NOTIFICATION_ACK_REQUIRED        (0x01)</span>

<span class="cm">/* Event */</span>
<span class="cp">#define MPI2_EVENT_LOG_DATA                         (0x0001)</span>
<span class="cp">#define MPI2_EVENT_STATE_CHANGE                     (0x0002)</span>
<span class="cp">#define MPI2_EVENT_HARD_RESET_RECEIVED              (0x0005)</span>
<span class="cp">#define MPI2_EVENT_EVENT_CHANGE                     (0x000A)</span>
<span class="cp">#define MPI2_EVENT_TASK_SET_FULL                    (0x000E) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define MPI2_EVENT_SAS_DEVICE_STATUS_CHANGE         (0x000F)</span>
<span class="cp">#define MPI2_EVENT_IR_OPERATION_STATUS              (0x0014)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISCOVERY                    (0x0016)</span>
<span class="cp">#define MPI2_EVENT_SAS_BROADCAST_PRIMITIVE          (0x0017)</span>
<span class="cp">#define MPI2_EVENT_SAS_INIT_DEVICE_STATUS_CHANGE    (0x0018)</span>
<span class="cp">#define MPI2_EVENT_SAS_INIT_TABLE_OVERFLOW          (0x0019)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPOLOGY_CHANGE_LIST         (0x001C)</span>
<span class="cp">#define MPI2_EVENT_SAS_ENCL_DEVICE_STATUS_CHANGE    (0x001D)</span>
<span class="cp">#define MPI2_EVENT_IR_VOLUME                        (0x001E)</span>
<span class="cp">#define MPI2_EVENT_IR_PHYSICAL_DISK                 (0x001F)</span>
<span class="cp">#define MPI2_EVENT_IR_CONFIGURATION_CHANGE_LIST     (0x0020)</span>
<span class="cp">#define MPI2_EVENT_LOG_ENTRY_ADDED                  (0x0021)</span>
<span class="cp">#define MPI2_EVENT_SAS_PHY_COUNTER                  (0x0022)</span>
<span class="cp">#define MPI2_EVENT_GPIO_INTERRUPT                   (0x0023)</span>
<span class="cp">#define MPI2_EVENT_HOST_BASED_DISCOVERY_PHY         (0x0024)</span>
<span class="cp">#define MPI2_EVENT_SAS_QUIESCE                      (0x0025)</span>
<span class="cp">#define MPI2_EVENT_SAS_NOTIFY_PRIMITIVE             (0x0026)</span>
<span class="cp">#define MPI2_EVENT_TEMP_THRESHOLD                   (0x0027)</span>
<span class="cp">#define MPI2_EVENT_HOST_MESSAGE                     (0x0028)</span>


<span class="cm">/* Log Entry Added Event data */</span>

<span class="cm">/* the following structure matches MPI2_LOG_0_ENTRY in mpi2_cnfg.h */</span>
<span class="cp">#define MPI2_EVENT_DATA_LOG_DATA_LENGTH             (0x1C)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_LOG_ENTRY_ADDED</span>
<span class="p">{</span>
    <span class="n">U64</span>         <span class="n">TimeStamp</span><span class="p">;</span>                          <span class="cm">/* 0x00 */</span>
    <span class="n">U32</span>         <span class="n">Reserved1</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U16</span>         <span class="n">LogSequence</span><span class="p">;</span>                        <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>         <span class="n">LogEntryQualifier</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U8</span>          <span class="n">VP_ID</span><span class="p">;</span>                              <span class="cm">/* 0x10 */</span>
    <span class="n">U8</span>          <span class="n">VF_ID</span><span class="p">;</span>                              <span class="cm">/* 0x11 */</span>
    <span class="n">U16</span>         <span class="n">Reserved2</span><span class="p">;</span>                          <span class="cm">/* 0x12 */</span>
    <span class="n">U8</span>          <span class="n">LogData</span><span class="p">[</span><span class="n">MPI2_EVENT_DATA_LOG_DATA_LENGTH</span><span class="p">];</span><span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_LOG_ENTRY_ADDED</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_LOG_ENTRY_ADDED</span><span class="p">,</span>
  <span class="n">Mpi2EventDataLogEntryAdded_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataLogEntryAdded_t</span><span class="p">;</span>

<span class="cm">/* GPIO Interrupt Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_GPIO_INTERRUPT</span> <span class="p">{</span>
    <span class="n">U8</span>          <span class="n">GPIONum</span><span class="p">;</span>                            <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>          <span class="n">Reserved1</span><span class="p">;</span>                          <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>         <span class="n">Reserved2</span><span class="p">;</span>                          <span class="cm">/* 0x02 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_GPIO_INTERRUPT</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_GPIO_INTERRUPT</span><span class="p">,</span>
  <span class="n">Mpi2EventDataGpioInterrupt_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataGpioInterrupt_t</span><span class="p">;</span>

<span class="cm">/* Temperature Threshold Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_TEMPERATURE</span> <span class="p">{</span>
	<span class="n">U16</span>         <span class="n">Status</span><span class="p">;</span>                             <span class="cm">/* 0x00 */</span>
	<span class="n">U8</span>          <span class="n">SensorNum</span><span class="p">;</span>                          <span class="cm">/* 0x02 */</span>
	<span class="n">U8</span>          <span class="n">Reserved1</span><span class="p">;</span>                          <span class="cm">/* 0x03 */</span>
	<span class="n">U16</span>         <span class="n">CurrentTemperature</span><span class="p">;</span>                 <span class="cm">/* 0x04 */</span>
	<span class="n">U16</span>         <span class="n">Reserved2</span><span class="p">;</span>                          <span class="cm">/* 0x06 */</span>
	<span class="n">U32</span>         <span class="n">Reserved3</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
	<span class="n">U32</span>         <span class="n">Reserved4</span><span class="p">;</span>                          <span class="cm">/* 0x0C */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_TEMPERATURE</span><span class="p">,</span>
<span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_TEMPERATURE</span><span class="p">,</span>
<span class="n">Mpi2EventDataTemperature_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataTemperature_t</span><span class="p">;</span>

<span class="cm">/* Temperature Threshold Event data Status bits */</span>
<span class="cp">#define MPI2_EVENT_TEMPERATURE3_EXCEEDED            (0x0008)</span>
<span class="cp">#define MPI2_EVENT_TEMPERATURE2_EXCEEDED            (0x0004)</span>
<span class="cp">#define MPI2_EVENT_TEMPERATURE1_EXCEEDED            (0x0002)</span>
<span class="cp">#define MPI2_EVENT_TEMPERATURE0_EXCEEDED            (0x0001)</span>


<span class="cm">/* Host Message Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_HOST_MESSAGE</span> <span class="p">{</span>
	<span class="n">U8</span>          <span class="n">SourceVF_ID</span><span class="p">;</span>                        <span class="cm">/* 0x00 */</span>
	<span class="n">U8</span>          <span class="n">Reserved1</span><span class="p">;</span>                          <span class="cm">/* 0x01 */</span>
	<span class="n">U16</span>         <span class="n">Reserved2</span><span class="p">;</span>                          <span class="cm">/* 0x02 */</span>
	<span class="n">U32</span>         <span class="n">Reserved3</span><span class="p">;</span>                          <span class="cm">/* 0x04 */</span>
	<span class="n">U32</span>         <span class="n">HostData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                        <span class="cm">/* 0x08 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_HOST_MESSAGE</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_HOST_MESSAGE</span><span class="p">,</span>
<span class="n">Mpi2EventDataHostMessage_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataHostMessage_t</span><span class="p">;</span>


<span class="cm">/* Hard Reset Received Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_HARD_RESET_RECEIVED</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Port</span><span class="p">;</span>                           <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_HARD_RESET_RECEIVED</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_HARD_RESET_RECEIVED</span><span class="p">,</span>
  <span class="n">Mpi2EventDataHardResetReceived_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataHardResetReceived_t</span><span class="p">;</span>

<span class="cm">/* Task Set Full Event data */</span>
<span class="cm">/*   this event is obsolete */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_TASK_SET_FULL</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">DevHandle</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U16</span>                     <span class="n">CurrentDepth</span><span class="p">;</span>                   <span class="cm">/* 0x02 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_TASK_SET_FULL</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_TASK_SET_FULL</span><span class="p">,</span>
  <span class="n">Mpi2EventDataTaskSetFull_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataTaskSetFull_t</span><span class="p">;</span>


<span class="cm">/* SAS Device Status Change Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_DEVICE_STATUS_CHANGE</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">TaskTag</span><span class="p">;</span>                        <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                     <span class="cm">/* 0x02 */</span>
	<span class="n">U8</span>                      <span class="n">PhysicalPort</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U8</span>                      <span class="n">ASC</span><span class="p">;</span>                            <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">ASCQ</span><span class="p">;</span>                           <span class="cm">/* 0x05 */</span>
    <span class="n">U16</span>                     <span class="n">DevHandle</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U64</span>                     <span class="n">SASAddress</span><span class="p">;</span>                     <span class="cm">/* 0x0C */</span>
    <span class="n">U8</span>                      <span class="n">LUN</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>                         <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_DEVICE_STATUS_CHANGE</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_DEVICE_STATUS_CHANGE</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasDeviceStatusChange_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasDeviceStatusChange_t</span><span class="p">;</span>

<span class="cm">/* SAS Device Status Change Event data ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_SMART_DATA                           (0x05)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_UNSUPPORTED                          (0x07)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_INTERNAL_DEVICE_RESET                (0x08)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_TASK_ABORT_INTERNAL                  (0x09)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_ABORT_TASK_SET_INTERNAL              (0x0A)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_CLEAR_TASK_SET_INTERNAL              (0x0B)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_QUERY_TASK_INTERNAL                  (0x0C)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_ASYNC_NOTIFICATION                   (0x0D)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_CMP_INTERNAL_DEV_RESET               (0x0E)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_CMP_TASK_ABORT_INTERNAL              (0x0F)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_SATA_INIT_FAILURE                    (0x10)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_EXPANDER_REDUCED_FUNCTIONALITY       (0x11)</span>
<span class="cp">#define MPI2_EVENT_SAS_DEV_STAT_RC_CMP_EXPANDER_REDUCED_FUNCTIONALITY   (0x12)</span>


<span class="cm">/* Integrated RAID Operation Status Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_IR_OPERATION_STATUS</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">VolDevHandle</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">RAIDOperation</span><span class="p">;</span>              <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">PercentComplete</span><span class="p">;</span>            <span class="cm">/* 0x05 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U32</span>                     <span class="n">Resereved3</span><span class="p">;</span>                 <span class="cm">/* 0x08 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_IR_OPERATION_STATUS</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_IR_OPERATION_STATUS</span><span class="p">,</span>
  <span class="n">Mpi2EventDataIrOperationStatus_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataIrOperationStatus_t</span><span class="p">;</span>

<span class="cm">/* Integrated RAID Operation Status Event data RAIDOperation values */</span>
<span class="cp">#define MPI2_EVENT_IR_RAIDOP_RESYNC                     (0x00)</span>
<span class="cp">#define MPI2_EVENT_IR_RAIDOP_ONLINE_CAP_EXPANSION       (0x01)</span>
<span class="cp">#define MPI2_EVENT_IR_RAIDOP_CONSISTENCY_CHECK          (0x02)</span>
<span class="cp">#define MPI2_EVENT_IR_RAIDOP_BACKGROUND_INIT            (0x03)</span>
<span class="cp">#define MPI2_EVENT_IR_RAIDOP_MAKE_DATA_CONSISTENT       (0x04)</span>


<span class="cm">/* Integrated RAID Volume Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_IR_VOLUME</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">VolDevHandle</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                 <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x03 */</span>
    <span class="n">U32</span>                     <span class="n">NewValue</span><span class="p">;</span>                   <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">PreviousValue</span><span class="p">;</span>              <span class="cm">/* 0x08 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_IR_VOLUME</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_IR_VOLUME</span><span class="p">,</span>
  <span class="n">Mpi2EventDataIrVolume_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataIrVolume_t</span><span class="p">;</span>

<span class="cm">/* Integrated RAID Volume Event data ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_IR_VOLUME_RC_SETTINGS_CHANGED        (0x01)</span>
<span class="cp">#define MPI2_EVENT_IR_VOLUME_RC_STATUS_FLAGS_CHANGED    (0x02)</span>
<span class="cp">#define MPI2_EVENT_IR_VOLUME_RC_STATE_CHANGED           (0x03)</span>


<span class="cm">/* Integrated RAID Physical Disk Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_IR_PHYSICAL_DISK</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                 <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">PhysDiskNum</span><span class="p">;</span>                <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">PhysDiskDevHandle</span><span class="p">;</span>          <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U16</span>                     <span class="n">Slot</span><span class="p">;</span>                       <span class="cm">/* 0x08 */</span>
    <span class="n">U16</span>                     <span class="n">EnclosureHandle</span><span class="p">;</span>            <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">NewValue</span><span class="p">;</span>                   <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">PreviousValue</span><span class="p">;</span>              <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_IR_PHYSICAL_DISK</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_IR_PHYSICAL_DISK</span><span class="p">,</span>
  <span class="n">Mpi2EventDataIrPhysicalDisk_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataIrPhysicalDisk_t</span><span class="p">;</span>

<span class="cm">/* Integrated RAID Physical Disk Event data ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_IR_PHYSDISK_RC_SETTINGS_CHANGED      (0x01)</span>
<span class="cp">#define MPI2_EVENT_IR_PHYSDISK_RC_STATUS_FLAGS_CHANGED  (0x02)</span>
<span class="cp">#define MPI2_EVENT_IR_PHYSDISK_RC_STATE_CHANGED         (0x03)</span>


<span class="cm">/* Integrated RAID Configuration Change List Event data */</span>

<span class="cm">/*</span>
<span class="cm"> * Host code (drivers, BIOS, utilities, etc.) should leave this define set to</span>
<span class="cm"> * one and check NumElements at runtime.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef MPI2_EVENT_IR_CONFIG_ELEMENT_COUNT</span>
<span class="cp">#define MPI2_EVENT_IR_CONFIG_ELEMENT_COUNT          (1)</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_IR_CONFIG_ELEMENT</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">ElementFlags</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U16</span>                     <span class="n">VolDevHandle</span><span class="p">;</span>               <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                 <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">PhysDiskNum</span><span class="p">;</span>                <span class="cm">/* 0x05 */</span>
    <span class="n">U16</span>                     <span class="n">PhysDiskDevHandle</span><span class="p">;</span>          <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_IR_CONFIG_ELEMENT</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_IR_CONFIG_ELEMENT</span><span class="p">,</span>
  <span class="n">Mpi2EventIrConfigElement_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventIrConfigElement_t</span><span class="p">;</span>

<span class="cm">/* IR Configuration Change List Event data ElementFlags values */</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_EFLAGS_ELEMENT_TYPE_MASK   (0x000F)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_EFLAGS_VOLUME_ELEMENT      (0x0000)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_EFLAGS_VOLPHYSDISK_ELEMENT (0x0001)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_EFLAGS_HOTSPARE_ELEMENT    (0x0002)</span>

<span class="cm">/* IR Configuration Change List Event data ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_ADDED                   (0x01)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_REMOVED                 (0x02)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_NO_CHANGE               (0x03)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_HIDE                    (0x04)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_UNHIDE                  (0x05)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_VOLUME_CREATED          (0x06)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_VOLUME_DELETED          (0x07)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_PD_CREATED              (0x08)</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_RC_PD_DELETED              (0x09)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_IR_CONFIG_CHANGE_LIST</span>
<span class="p">{</span>
    <span class="n">U8</span>                              <span class="n">NumElements</span><span class="p">;</span>        <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                              <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                              <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                              <span class="n">ConfigNum</span><span class="p">;</span>          <span class="cm">/* 0x03 */</span>
    <span class="n">U32</span>                             <span class="n">Flags</span><span class="p">;</span>              <span class="cm">/* 0x04 */</span>
    <span class="n">MPI2_EVENT_IR_CONFIG_ELEMENT</span>    <span class="n">ConfigElement</span><span class="p">[</span><span class="n">MPI2_EVENT_IR_CONFIG_ELEMENT_COUNT</span><span class="p">];</span>    <span class="cm">/* 0x08 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_IR_CONFIG_CHANGE_LIST</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_IR_CONFIG_CHANGE_LIST</span><span class="p">,</span>
  <span class="n">Mpi2EventDataIrConfigChangeList_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataIrConfigChangeList_t</span><span class="p">;</span>

<span class="cm">/* IR Configuration Change List Event data Flags values */</span>
<span class="cp">#define MPI2_EVENT_IR_CHANGE_FLAGS_FOREIGN_CONFIG   (0x00000001)</span>


<span class="cm">/* SAS Discovery Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_DISCOVERY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                 <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">PhysicalPort</span><span class="p">;</span>               <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x03 */</span>
    <span class="n">U32</span>                     <span class="n">DiscoveryStatus</span><span class="p">;</span>            <span class="cm">/* 0x04 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_DISCOVERY</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_DISCOVERY</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasDiscovery_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasDiscovery_t</span><span class="p">;</span>

<span class="cm">/* SAS Discovery Event data Flags values */</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DEVICE_CHANGE                   (0x02)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_IN_PROGRESS                     (0x01)</span>

<span class="cm">/* SAS Discovery Event data ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_RC_STARTED                      (0x01)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_RC_COMPLETED                    (0x02)</span>

<span class="cm">/* SAS Discovery Event data DiscoveryStatus values */</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_MAX_ENCLOSURES_EXCEED            (0x80000000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_MAX_EXPANDERS_EXCEED             (0x40000000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_MAX_DEVICES_EXCEED               (0x20000000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_MAX_TOPO_PHYS_EXCEED             (0x10000000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_DOWNSTREAM_INITIATOR             (0x08000000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_MULTI_SUBTRACTIVE_SUBTRACTIVE    (0x00008000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_EXP_MULTI_SUBTRACTIVE            (0x00004000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_MULTI_PORT_DOMAIN                (0x00002000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_TABLE_TO_SUBTRACTIVE_LINK        (0x00001000)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_UNSUPPORTED_DEVICE               (0x00000800)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_TABLE_LINK                       (0x00000400)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_SUBTRACTIVE_LINK                 (0x00000200)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_SMP_CRC_ERROR                    (0x00000100)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_SMP_FUNCTION_FAILED              (0x00000080)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_INDEX_NOT_EXIST                  (0x00000040)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_OUT_ROUTE_ENTRIES                (0x00000020)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_SMP_TIMEOUT                      (0x00000010)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_MULTIPLE_PORTS                   (0x00000004)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_UNADDRESSABLE_DEVICE             (0x00000002)</span>
<span class="cp">#define MPI2_EVENT_SAS_DISC_DS_LOOP_DETECTED                    (0x00000001)</span>


<span class="cm">/* SAS Broadcast Primitive Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_BROADCAST_PRIMITIVE</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">PhyNum</span><span class="p">;</span>                     <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Port</span><span class="p">;</span>                       <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">PortWidth</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Primitive</span><span class="p">;</span>                  <span class="cm">/* 0x03 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_BROADCAST_PRIMITIVE</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_BROADCAST_PRIMITIVE</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasBroadcastPrimitive_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasBroadcastPrimitive_t</span><span class="p">;</span>

<span class="cm">/* defines for the Primitive field */</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_CHANGE                         (0x01)</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_SES                            (0x02)</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_EXPANDER                       (0x03)</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_ASYNCHRONOUS_EVENT             (0x04)</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_RESERVED3                      (0x05)</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_RESERVED4                      (0x06)</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_CHANGE0_RESERVED               (0x07)</span>
<span class="cp">#define MPI2_EVENT_PRIMITIVE_CHANGE1_RESERVED               (0x08)</span>

<span class="cm">/* SAS Notify Primitive Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_NOTIFY_PRIMITIVE</span> <span class="p">{</span>
	<span class="n">U8</span>                      <span class="n">PhyNum</span><span class="p">;</span>                     <span class="cm">/* 0x00 */</span>
	<span class="n">U8</span>                      <span class="n">Port</span><span class="p">;</span>                       <span class="cm">/* 0x01 */</span>
	<span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
	<span class="n">U8</span>                      <span class="n">Primitive</span><span class="p">;</span>                  <span class="cm">/* 0x03 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_NOTIFY_PRIMITIVE</span><span class="p">,</span>
<span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_NOTIFY_PRIMITIVE</span><span class="p">,</span>
<span class="n">Mpi2EventDataSasNotifyPrimitive_t</span><span class="p">,</span>
<span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasNotifyPrimitive_t</span><span class="p">;</span>

<span class="cm">/* defines for the Primitive field */</span>
<span class="cp">#define MPI2_EVENT_NOTIFY_ENABLE_SPINUP                     (0x01)</span>
<span class="cp">#define MPI2_EVENT_NOTIFY_POWER_LOSS_EXPECTED               (0x02)</span>
<span class="cp">#define MPI2_EVENT_NOTIFY_RESERVED1                         (0x03)</span>
<span class="cp">#define MPI2_EVENT_NOTIFY_RESERVED2                         (0x04)</span>


<span class="cm">/* SAS Initiator Device Status Change Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_INIT_DEV_STATUS_CHANGE</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">PhysicalPort</span><span class="p">;</span>               <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>                     <span class="n">DevHandle</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U64</span>                     <span class="n">SASAddress</span><span class="p">;</span>                 <span class="cm">/* 0x04 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_INIT_DEV_STATUS_CHANGE</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_INIT_DEV_STATUS_CHANGE</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasInitDevStatusChange_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasInitDevStatusChange_t</span><span class="p">;</span>

<span class="cm">/* SAS Initiator Device Status Change event ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_SAS_INIT_RC_ADDED                (0x01)</span>
<span class="cp">#define MPI2_EVENT_SAS_INIT_RC_NOT_RESPONDING       (0x02)</span>


<span class="cm">/* SAS Initiator Device Table Overflow Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_INIT_TABLE_OVERFLOW</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">MaxInit</span><span class="p">;</span>                    <span class="cm">/* 0x00 */</span>
    <span class="n">U16</span>                     <span class="n">CurrentInit</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U64</span>                     <span class="n">SASAddress</span><span class="p">;</span>                 <span class="cm">/* 0x04 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_INIT_TABLE_OVERFLOW</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_INIT_TABLE_OVERFLOW</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasInitTableOverflow_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasInitTableOverflow_t</span><span class="p">;</span>


<span class="cm">/* SAS Topology Change List Event data */</span>

<span class="cm">/*</span>
<span class="cm"> * Host code (drivers, BIOS, utilities, etc.) should leave this define set to</span>
<span class="cm"> * one and check NumEntries at runtime.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef MPI2_EVENT_SAS_TOPO_PHY_COUNT</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_PHY_COUNT           (1)</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_SAS_TOPO_PHY_ENTRY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">AttachedDevHandle</span><span class="p">;</span>          <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">LinkRate</span><span class="p">;</span>                   <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">PhyStatus</span><span class="p">;</span>                  <span class="cm">/* 0x03 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_SAS_TOPO_PHY_ENTRY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_SAS_TOPO_PHY_ENTRY</span><span class="p">,</span>
  <span class="n">Mpi2EventSasTopoPhyEntry_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventSasTopoPhyEntry_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_TOPOLOGY_CHANGE_LIST</span>
<span class="p">{</span>
    <span class="n">U16</span>                             <span class="n">EnclosureHandle</span><span class="p">;</span>            <span class="cm">/* 0x00 */</span>
    <span class="n">U16</span>                             <span class="n">ExpanderDevHandle</span><span class="p">;</span>          <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                              <span class="n">NumPhys</span><span class="p">;</span>                    <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                              <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x05 */</span>
    <span class="n">U16</span>                             <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                              <span class="n">NumEntries</span><span class="p">;</span>                 <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                              <span class="n">StartPhyNum</span><span class="p">;</span>                <span class="cm">/* 0x09 */</span>
    <span class="n">U8</span>                              <span class="n">ExpStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U8</span>                              <span class="n">PhysicalPort</span><span class="p">;</span>               <span class="cm">/* 0x0B */</span>
    <span class="n">MPI2_EVENT_SAS_TOPO_PHY_ENTRY</span>   <span class="n">PHY</span><span class="p">[</span><span class="n">MPI2_EVENT_SAS_TOPO_PHY_COUNT</span><span class="p">];</span> <span class="cm">/* 0x0C*/</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_TOPOLOGY_CHANGE_LIST</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_TOPOLOGY_CHANGE_LIST</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasTopologyChangeList_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasTopologyChangeList_t</span><span class="p">;</span>

<span class="cm">/* values for the ExpStatus field */</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_ES_NO_EXPANDER                  (0x00)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_ES_ADDED                        (0x01)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_ES_NOT_RESPONDING               (0x02)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_ES_RESPONDING                   (0x03)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_ES_DELAY_NOT_RESPONDING         (0x04)</span>

<span class="cm">/* defines for the LinkRate field */</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_CURRENT_MASK                 (0xF0)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_CURRENT_SHIFT                (4)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_PREV_MASK                    (0x0F)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_PREV_SHIFT                   (0)</span>

<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_UNKNOWN_LINK_RATE            (0x00)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_PHY_DISABLED                 (0x01)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_NEGOTIATION_FAILED           (0x02)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_SATA_OOB_COMPLETE            (0x03)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_PORT_SELECTOR                (0x04)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_SMP_RESET_IN_PROGRESS        (0x05)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_UNSUPPORTED_PHY              (0x06)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_RATE_1_5                     (0x08)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_RATE_3_0                     (0x09)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_LR_RATE_6_0                     (0x0A)</span>

<span class="cm">/* values for the PhyStatus field */</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_PHYSTATUS_VACANT                (0x80)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_PS_MULTIPLEX_CHANGE             (0x10)</span>
<span class="cm">/* values for the PhyStatus ReasonCode sub-field */</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_RC_MASK                         (0x0F)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_RC_TARG_ADDED                   (0x01)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_RC_TARG_NOT_RESPONDING          (0x02)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_RC_PHY_CHANGED                  (0x03)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_RC_NO_CHANGE                    (0x04)</span>
<span class="cp">#define MPI2_EVENT_SAS_TOPO_RC_DELAY_NOT_RESPONDING         (0x05)</span>


<span class="cm">/* SAS Enclosure Device Status Change Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_ENCL_DEV_STATUS_CHANGE</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">EnclosureHandle</span><span class="p">;</span>            <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                 <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">PhysicalPort</span><span class="p">;</span>               <span class="cm">/* 0x03 */</span>
    <span class="n">U64</span>                     <span class="n">EnclosureLogicalID</span><span class="p">;</span>         <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>                     <span class="n">NumSlots</span><span class="p">;</span>                   <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">StartSlot</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">PhyBits</span><span class="p">;</span>                    <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_ENCL_DEV_STATUS_CHANGE</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_ENCL_DEV_STATUS_CHANGE</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasEnclDevStatusChange_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasEnclDevStatusChange_t</span><span class="p">;</span>

<span class="cm">/* SAS Enclosure Device Status Change event ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_SAS_ENCL_RC_ADDED                (0x01)</span>
<span class="cp">#define MPI2_EVENT_SAS_ENCL_RC_NOT_RESPONDING       (0x02)</span>


<span class="cm">/* SAS PHY Counter Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_PHY_COUNTER</span> <span class="p">{</span>
    <span class="n">U64</span>         <span class="n">TimeStamp</span><span class="p">;</span>          <span class="cm">/* 0x00 */</span>
    <span class="n">U32</span>         <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>          <span class="n">PhyEventCode</span><span class="p">;</span>       <span class="cm">/* 0x0C */</span>
    <span class="n">U8</span>          <span class="n">PhyNum</span><span class="p">;</span>             <span class="cm">/* 0x0D */</span>
    <span class="n">U16</span>         <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>         <span class="n">PhyEventInfo</span><span class="p">;</span>       <span class="cm">/* 0x10 */</span>
    <span class="n">U8</span>          <span class="n">CounterType</span><span class="p">;</span>        <span class="cm">/* 0x14 */</span>
    <span class="n">U8</span>          <span class="n">ThresholdWindow</span><span class="p">;</span>    <span class="cm">/* 0x15 */</span>
    <span class="n">U8</span>          <span class="n">TimeUnits</span><span class="p">;</span>          <span class="cm">/* 0x16 */</span>
    <span class="n">U8</span>          <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0x17 */</span>
    <span class="n">U32</span>         <span class="n">EventThreshold</span><span class="p">;</span>     <span class="cm">/* 0x18 */</span>
    <span class="n">U16</span>         <span class="n">ThresholdFlags</span><span class="p">;</span>     <span class="cm">/* 0x1C */</span>
    <span class="n">U16</span>         <span class="n">Reserved4</span><span class="p">;</span>          <span class="cm">/* 0x1E */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_PHY_COUNTER</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_PHY_COUNTER</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasPhyCounter_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasPhyCounter_t</span><span class="p">;</span>

<span class="cm">/* use MPI2_SASPHY3_EVENT_CODE_ values from mpi2_cnfg.h for the</span>
<span class="cm"> * PhyEventCode field</span>
<span class="cm"> * use MPI2_SASPHY3_COUNTER_TYPE_ values from mpi2_cnfg.h for the</span>
<span class="cm"> * CounterType field</span>
<span class="cm"> * use MPI2_SASPHY3_TIME_UNITS_ values from mpi2_cnfg.h for the</span>
<span class="cm"> * TimeUnits field</span>
<span class="cm"> * use MPI2_SASPHY3_TFLAGS_ values from mpi2_cnfg.h for the</span>
<span class="cm"> * ThresholdFlags field</span>
<span class="cm"> * */</span>


<span class="cm">/* SAS Quiesce Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_SAS_QUIESCE</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ReasonCode</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_SAS_QUIESCE</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_SAS_QUIESCE</span><span class="p">,</span>
  <span class="n">Mpi2EventDataSasQuiesce_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataSasQuiesce_t</span><span class="p">;</span>

<span class="cm">/* SAS Quiesce Event data ReasonCode values */</span>
<span class="cp">#define MPI2_EVENT_SAS_QUIESCE_RC_STARTED                   (0x01)</span>
<span class="cp">#define MPI2_EVENT_SAS_QUIESCE_RC_COMPLETED                 (0x02)</span>


<span class="cm">/* Host Based Discovery Phy Event data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_HBD_PHY_SAS</span> <span class="p">{</span>
    <span class="n">U8</span>          <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>          <span class="n">NegotiatedLinkRate</span><span class="p">;</span>         <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>          <span class="n">PhyNum</span><span class="p">;</span>                     <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>          <span class="n">PhysicalPort</span><span class="p">;</span>               <span class="cm">/* 0x03 */</span>
    <span class="n">U32</span>         <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>          <span class="n">InitialFrame</span><span class="p">[</span><span class="mi">28</span><span class="p">];</span>           <span class="cm">/* 0x08 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_HBD_PHY_SAS</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_HBD_PHY_SAS</span><span class="p">,</span>
  <span class="n">Mpi2EventHbdPhySas_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventHbdPhySas_t</span><span class="p">;</span>

<span class="cm">/* values for the Flags field */</span>
<span class="cp">#define MPI2_EVENT_HBD_SAS_FLAGS_FRAME_VALID        (0x02)</span>
<span class="cp">#define MPI2_EVENT_HBD_SAS_FLAGS_SATA_FRAME         (0x01)</span>

<span class="cm">/* use MPI2_SAS_NEG_LINK_RATE_ defines from mpi2_cnfg.h for</span>
<span class="cm"> * the NegotiatedLinkRate field */</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_EVENT_HBD_DESCRIPTOR</span> <span class="p">{</span>
    <span class="n">MPI2_EVENT_HBD_PHY_SAS</span>      <span class="n">Sas</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_HBD_DESCRIPTOR</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_HBD_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2EventHbdDescriptor_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventHbdDescriptor_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_DATA_HBD_PHY</span> <span class="p">{</span>
    <span class="n">U8</span>                          <span class="n">DescriptorType</span><span class="p">;</span>     <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                          <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>                         <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 0x02 */</span>
    <span class="n">U32</span>                         <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0x04 */</span>
    <span class="n">MPI2_EVENT_HBD_DESCRIPTOR</span>   <span class="n">Descriptor</span><span class="p">;</span>         <span class="cm">/* 0x08 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_DATA_HBD_PHY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_DATA_HBD_PHY</span><span class="p">,</span>
  <span class="n">Mpi2EventDataHbdPhy_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventDataMpi2EventDataHbdPhy_t</span><span class="p">;</span>

<span class="cm">/* values for the DescriptorType field */</span>
<span class="cp">#define MPI2_EVENT_HBD_DT_SAS               (0x01)</span>



<span class="cm">/****************************************************************************</span>
<span class="cm">*  EventAck message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* EventAck Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_ACK_REQUEST</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Event</span><span class="p">;</span>                          <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">EventContext</span><span class="p">;</span>                   <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_ACK_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_ACK_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2EventAckRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventAckRequest_t</span><span class="p">;</span>


<span class="cm">/* EventAck Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EVENT_ACK_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                     <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_EVENT_ACK_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EVENT_ACK_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2EventAckReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2EventAckReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  SendHostMessage message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* SendHostMessage Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SEND_HOST_MESSAGE_REQUEST</span> <span class="p">{</span>
	<span class="n">U16</span>                     <span class="n">HostDataLength</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
	<span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 0x02 */</span>
	<span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
	<span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
	<span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
	<span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
	<span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
	<span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
	<span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
	<span class="n">U8</span>                      <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
	<span class="n">U8</span>                      <span class="n">DestVF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x0D */</span>
	<span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
	<span class="n">U32</span>                     <span class="n">Reserved6</span><span class="p">;</span>                      <span class="cm">/* 0x10 */</span>
	<span class="n">U32</span>                     <span class="n">Reserved7</span><span class="p">;</span>                      <span class="cm">/* 0x14 */</span>
	<span class="n">U32</span>                     <span class="n">Reserved8</span><span class="p">;</span>                      <span class="cm">/* 0x18 */</span>
	<span class="n">U32</span>                     <span class="n">Reserved9</span><span class="p">;</span>                      <span class="cm">/* 0x1C */</span>
	<span class="n">U32</span>                     <span class="n">Reserved10</span><span class="p">;</span>                     <span class="cm">/* 0x20 */</span>
	<span class="n">U32</span>                     <span class="n">HostData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                    <span class="cm">/* 0x24 */</span>
<span class="p">}</span> <span class="n">MPI2_SEND_HOST_MESSAGE_REQUEST</span><span class="p">,</span>
<span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SEND_HOST_MESSAGE_REQUEST</span><span class="p">,</span>
<span class="n">Mpi2SendHostMessageRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SendHostMessageRequest_t</span><span class="p">;</span>


<span class="cm">/* SendHostMessage Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SEND_HOST_MESSAGE_REPLY</span> <span class="p">{</span>
	<span class="n">U16</span>                     <span class="n">HostDataLength</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
	<span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
	<span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 0x03 */</span>
	<span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 0x04 */</span>
	<span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 0x06 */</span>
	<span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 0x07 */</span>
	<span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                          <span class="cm">/* 0x08 */</span>
	<span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                          <span class="cm">/* 0x09 */</span>
	<span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 0x0A */</span>
	<span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
	<span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                      <span class="cm">/* 0x0E */</span>
	<span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                     <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_SEND_HOST_MESSAGE_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SEND_HOST_MESSAGE_REPLY</span><span class="p">,</span>
<span class="n">Mpi2SendHostMessageReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SendHostMessageReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  FWDownload message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* FWDownload Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FW_DOWNLOAD_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ImageType</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">TotalImageSize</span><span class="p">;</span>             <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x10 */</span>
    <span class="n">MPI2_MPI_SGE_UNION</span>      <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_FW_DOWNLOAD_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FW_DOWNLOAD_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2FWDownloadRequest</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FWDownloadRequest</span><span class="p">;</span>

<span class="cp">#define MPI2_FW_DOWNLOAD_MSGFLGS_LAST_SEGMENT   (0x01)</span>

<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_FW                   (0x01)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_BIOS                 (0x02)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_MANUFACTURING        (0x06)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_CONFIG_1             (0x07)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_CONFIG_2             (0x08)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_MEGARAID             (0x09)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_COMPLETE             (0x0A)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_COMMON_BOOT_BLOCK    (0x0B)</span>
<span class="cp">#define MPI2_FW_DOWNLOAD_ITYPE_MIN_PRODUCT_SPECIFIC (0xF0)</span>

<span class="cm">/* FWDownload TransactionContext Element */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FW_DOWNLOAD_TCSGE</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ContextSize</span><span class="p">;</span>                <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">DetailsLength</span><span class="p">;</span>              <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x03 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">ImageOffset</span><span class="p">;</span>                <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>                     <span class="n">ImageSize</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
<span class="p">}</span> <span class="n">MPI2_FW_DOWNLOAD_TCSGE</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FW_DOWNLOAD_TCSGE</span><span class="p">,</span>
  <span class="n">Mpi2FWDownloadTCSGE_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FWDownloadTCSGE_t</span><span class="p">;</span>

<span class="cm">/* FWDownload Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FW_DOWNLOAD_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ImageType</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_FW_DOWNLOAD_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FW_DOWNLOAD_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2FWDownloadReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FWDownloadReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  FWUpload message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* FWUpload Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FW_UPLOAD_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ImageType</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x10 */</span>
    <span class="n">MPI2_MPI_SGE_UNION</span>      <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_FW_UPLOAD_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FW_UPLOAD_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2FWUploadRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FWUploadRequest_t</span><span class="p">;</span>

<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_FW_CURRENT         (0x00)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_FW_FLASH           (0x01)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_BIOS_FLASH         (0x02)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_FW_BACKUP          (0x05)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_MANUFACTURING      (0x06)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_CONFIG_1           (0x07)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_CONFIG_2           (0x08)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_MEGARAID           (0x09)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_COMPLETE           (0x0A)</span>
<span class="cp">#define MPI2_FW_UPLOAD_ITYPE_COMMON_BOOT_BLOCK  (0x0B)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FW_UPLOAD_TCSGE</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">ContextSize</span><span class="p">;</span>                <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">DetailsLength</span><span class="p">;</span>              <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x03 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">ImageOffset</span><span class="p">;</span>                <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>                     <span class="n">ImageSize</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
<span class="p">}</span> <span class="n">MPI2_FW_UPLOAD_TCSGE</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FW_UPLOAD_TCSGE</span><span class="p">,</span>
  <span class="n">Mpi2FWUploadTCSGE_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FWUploadTCSGE_t</span><span class="p">;</span>

<span class="cm">/* FWUpload Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FW_UPLOAD_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ImageType</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>                     <span class="n">ActualImageSize</span><span class="p">;</span>            <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_FW_UPLOAD_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FW_UPLOAD_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2FWUploadReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMPi2FWUploadReply_t</span><span class="p">;</span>


<span class="cm">/* FW Image Header */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FW_IMAGE_HEADER</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">Signature</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U32</span>                     <span class="n">Signature0</span><span class="p">;</span>                 <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">Signature1</span><span class="p">;</span>                 <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>                     <span class="n">Signature2</span><span class="p">;</span>                 <span class="cm">/* 0x0C */</span>
    <span class="n">MPI2_VERSION_UNION</span>      <span class="n">MPIVersion</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">MPI2_VERSION_UNION</span>      <span class="n">FWVersion</span><span class="p">;</span>                  <span class="cm">/* 0x14 */</span>
    <span class="n">MPI2_VERSION_UNION</span>      <span class="n">NVDATAVersion</span><span class="p">;</span>              <span class="cm">/* 0x18 */</span>
    <span class="n">MPI2_VERSION_UNION</span>      <span class="n">PackageVersion</span><span class="p">;</span>             <span class="cm">/* 0x1C */</span>
    <span class="n">U16</span>                     <span class="n">VendorID</span><span class="p">;</span>                   <span class="cm">/* 0x20 */</span>
    <span class="n">U16</span>                     <span class="n">ProductID</span><span class="p">;</span>                  <span class="cm">/* 0x22 */</span>
    <span class="n">U16</span>                     <span class="n">ProtocolFlags</span><span class="p">;</span>              <span class="cm">/* 0x24 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved26</span><span class="p">;</span>                 <span class="cm">/* 0x26 */</span>
    <span class="n">U32</span>                     <span class="n">IOCCapabilities</span><span class="p">;</span>            <span class="cm">/* 0x28 */</span>
    <span class="n">U32</span>                     <span class="n">ImageSize</span><span class="p">;</span>                  <span class="cm">/* 0x2C */</span>
    <span class="n">U32</span>                     <span class="n">NextImageHeaderOffset</span><span class="p">;</span>      <span class="cm">/* 0x30 */</span>
    <span class="n">U32</span>                     <span class="n">Checksum</span><span class="p">;</span>                   <span class="cm">/* 0x34 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved38</span><span class="p">;</span>                 <span class="cm">/* 0x38 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3C</span><span class="p">;</span>                 <span class="cm">/* 0x3C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved40</span><span class="p">;</span>                 <span class="cm">/* 0x40 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved44</span><span class="p">;</span>                 <span class="cm">/* 0x44 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved48</span><span class="p">;</span>                 <span class="cm">/* 0x48 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved4C</span><span class="p">;</span>                 <span class="cm">/* 0x4C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved50</span><span class="p">;</span>                 <span class="cm">/* 0x50 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved54</span><span class="p">;</span>                 <span class="cm">/* 0x54 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved58</span><span class="p">;</span>                 <span class="cm">/* 0x58 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5C</span><span class="p">;</span>                 <span class="cm">/* 0x5C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved60</span><span class="p">;</span>                 <span class="cm">/* 0x60 */</span>
    <span class="n">U32</span>                     <span class="n">FirmwareVersionNameWhat</span><span class="p">;</span>    <span class="cm">/* 0x64 */</span>
    <span class="n">U8</span>                      <span class="n">FirmwareVersionName</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>    <span class="cm">/* 0x68 */</span>
    <span class="n">U32</span>                     <span class="n">VendorNameWhat</span><span class="p">;</span>             <span class="cm">/* 0x88 */</span>
    <span class="n">U8</span>                      <span class="n">VendorName</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>             <span class="cm">/* 0x8C */</span>
    <span class="n">U32</span>                     <span class="n">PackageNameWhat</span><span class="p">;</span>            <span class="cm">/* 0x88 */</span>
    <span class="n">U8</span>                      <span class="n">PackageName</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>            <span class="cm">/* 0x8C */</span>
    <span class="n">U32</span>                     <span class="n">ReservedD0</span><span class="p">;</span>                 <span class="cm">/* 0xD0 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedD4</span><span class="p">;</span>                 <span class="cm">/* 0xD4 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedD8</span><span class="p">;</span>                 <span class="cm">/* 0xD8 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedDC</span><span class="p">;</span>                 <span class="cm">/* 0xDC */</span>
    <span class="n">U32</span>                     <span class="n">ReservedE0</span><span class="p">;</span>                 <span class="cm">/* 0xE0 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedE4</span><span class="p">;</span>                 <span class="cm">/* 0xE4 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedE8</span><span class="p">;</span>                 <span class="cm">/* 0xE8 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedEC</span><span class="p">;</span>                 <span class="cm">/* 0xEC */</span>
    <span class="n">U32</span>                     <span class="n">ReservedF0</span><span class="p">;</span>                 <span class="cm">/* 0xF0 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedF4</span><span class="p">;</span>                 <span class="cm">/* 0xF4 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedF8</span><span class="p">;</span>                 <span class="cm">/* 0xF8 */</span>
    <span class="n">U32</span>                     <span class="n">ReservedFC</span><span class="p">;</span>                 <span class="cm">/* 0xFC */</span>
<span class="p">}</span> <span class="n">MPI2_FW_IMAGE_HEADER</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FW_IMAGE_HEADER</span><span class="p">,</span>
  <span class="n">Mpi2FWImageHeader_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FWImageHeader_t</span><span class="p">;</span>

<span class="cm">/* Signature field */</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE_OFFSET         (0x00)</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE_MASK           (0xFF000000)</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE                (0xEA000000)</span>

<span class="cm">/* Signature0 field */</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE0_OFFSET        (0x04)</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE0               (0x5AFAA55A)</span>

<span class="cm">/* Signature1 field */</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE1_OFFSET        (0x08)</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE1               (0xA55AFAA5)</span>

<span class="cm">/* Signature2 field */</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE2_OFFSET        (0x0C)</span>
<span class="cp">#define MPI2_FW_HEADER_SIGNATURE2               (0x5AA55AFA)</span>


<span class="cm">/* defines for using the ProductID field */</span>
<span class="cp">#define MPI2_FW_HEADER_PID_TYPE_MASK            (0xF000)</span>
<span class="cp">#define MPI2_FW_HEADER_PID_TYPE_SAS             (0x2000)</span>

<span class="cp">#define MPI2_FW_HEADER_PID_PROD_MASK                    (0x0F00)</span>
<span class="cp">#define MPI2_FW_HEADER_PID_PROD_A                       (0x0000)</span>
<span class="cp">#define MPI2_FW_HEADER_PID_PROD_TARGET_INITIATOR_SCSI   (0x0200)</span>
<span class="cp">#define MPI2_FW_HEADER_PID_PROD_IR_SCSI                 (0x0700)</span>


<span class="cp">#define MPI2_FW_HEADER_PID_FAMILY_MASK          (0x00FF)</span>
<span class="cm">/* SAS */</span>
<span class="cp">#define MPI2_FW_HEADER_PID_FAMILY_2108_SAS      (0x0013)</span>
<span class="cp">#define MPI2_FW_HEADER_PID_FAMILY_2208_SAS      (0x0014)</span>

<span class="cm">/* use MPI2_IOCFACTS_PROTOCOL_ defines for ProtocolFlags field */</span>

<span class="cm">/* use MPI2_IOCFACTS_CAPABILITY_ defines for IOCCapabilities field */</span>


<span class="cp">#define MPI2_FW_HEADER_IMAGESIZE_OFFSET         (0x2C)</span>
<span class="cp">#define MPI2_FW_HEADER_NEXTIMAGE_OFFSET         (0x30)</span>
<span class="cp">#define MPI2_FW_HEADER_VERNMHWAT_OFFSET         (0x64)</span>

<span class="cp">#define MPI2_FW_HEADER_WHAT_SIGNATURE           (0x29232840)</span>

<span class="cp">#define MPI2_FW_HEADER_SIZE                     (0x100)</span>


<span class="cm">/* Extended Image Header */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_EXT_IMAGE_HEADER</span>

<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ImageType</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U32</span>                     <span class="n">Checksum</span><span class="p">;</span>                   <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">ImageSize</span><span class="p">;</span>                  <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>                     <span class="n">NextImageHeaderOffset</span><span class="p">;</span>      <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">PackageVersion</span><span class="p">;</span>             <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x14 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x18 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x1C */</span>
    <span class="n">U8</span>                      <span class="n">IdentifyString</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>         <span class="cm">/* 0x20 */</span>
<span class="p">}</span> <span class="n">MPI2_EXT_IMAGE_HEADER</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_EXT_IMAGE_HEADER</span><span class="p">,</span>
  <span class="n">Mpi2ExtImageHeader_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ExtImageHeader_t</span><span class="p">;</span>

<span class="cm">/* useful offsets */</span>
<span class="cp">#define MPI2_EXT_IMAGE_IMAGETYPE_OFFSET         (0x00)</span>
<span class="cp">#define MPI2_EXT_IMAGE_IMAGESIZE_OFFSET         (0x08)</span>
<span class="cp">#define MPI2_EXT_IMAGE_NEXTIMAGE_OFFSET         (0x0C)</span>

<span class="cp">#define MPI2_EXT_IMAGE_HEADER_SIZE              (0x40)</span>

<span class="cm">/* defines for the ImageType field */</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_UNSPECIFIED				(0x00)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_FW						(0x01)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_NVDATA					(0x03)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_BOOTLOADER				(0x04)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_INITIALIZATION			(0x05)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_FLASH_LAYOUT			(0x06)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_SUPPORTED_DEVICES		(0x07)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_MEGARAID				(0x08)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_MIN_PRODUCT_SPECIFIC    (0x80)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_MAX_PRODUCT_SPECIFIC    (0xFF)</span>
<span class="cp">#define MPI2_EXT_IMAGE_TYPE_MAX                   \</span>
<span class="cp">	(MPI2_EXT_IMAGE_TYPE_MAX_PRODUCT_SPECIFIC)	</span><span class="cm">/* deprecated */</span><span class="cp"></span>



<span class="cm">/* FLASH Layout Extended Image Data */</span>

<span class="cm">/*</span>
<span class="cm"> * Host code (drivers, BIOS, utilities, etc.) should leave this define set to</span>
<span class="cm"> * one and check RegionsPerLayout at runtime.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef MPI2_FLASH_NUMBER_OF_REGIONS</span>
<span class="cp">#define MPI2_FLASH_NUMBER_OF_REGIONS        (1)</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * Host code (drivers, BIOS, utilities, etc.) should leave this define set to</span>
<span class="cm"> * one and check NumberOfLayouts at runtime.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef MPI2_FLASH_NUMBER_OF_LAYOUTS</span>
<span class="cp">#define MPI2_FLASH_NUMBER_OF_LAYOUTS        (1)</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FLASH_REGION</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">RegionType</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U32</span>                     <span class="n">RegionOffset</span><span class="p">;</span>               <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">RegionSize</span><span class="p">;</span>                 <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
<span class="p">}</span> <span class="n">MPI2_FLASH_REGION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FLASH_REGION</span><span class="p">,</span>
  <span class="n">Mpi2FlashRegion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FlashRegion_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FLASH_LAYOUT</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">FlashSize</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">MPI2_FLASH_REGION</span>       <span class="n">Region</span><span class="p">[</span><span class="n">MPI2_FLASH_NUMBER_OF_REGIONS</span><span class="p">];</span><span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_FLASH_LAYOUT</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FLASH_LAYOUT</span><span class="p">,</span>
  <span class="n">Mpi2FlashLayout_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FlashLayout_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_FLASH_LAYOUT_DATA</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ImageRevision</span><span class="p">;</span>              <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">SizeOfRegion</span><span class="p">;</span>               <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">NumberOfLayouts</span><span class="p">;</span>            <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>                     <span class="n">RegionsPerLayout</span><span class="p">;</span>           <span class="cm">/* 0x06 */</span>
    <span class="n">U16</span>                     <span class="n">MinimumSectorAlignment</span><span class="p">;</span>     <span class="cm">/* 0x08 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">MPI2_FLASH_LAYOUT</span>       <span class="n">Layout</span><span class="p">[</span><span class="n">MPI2_FLASH_NUMBER_OF_LAYOUTS</span><span class="p">];</span><span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_FLASH_LAYOUT_DATA</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_FLASH_LAYOUT_DATA</span><span class="p">,</span>
  <span class="n">Mpi2FlashLayoutData_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2FlashLayoutData_t</span><span class="p">;</span>

<span class="cm">/* defines for the RegionType field */</span>
<span class="cp">#define MPI2_FLASH_REGION_UNUSED                (0x00)</span>
<span class="cp">#define MPI2_FLASH_REGION_FIRMWARE              (0x01)</span>
<span class="cp">#define MPI2_FLASH_REGION_BIOS                  (0x02)</span>
<span class="cp">#define MPI2_FLASH_REGION_NVDATA                (0x03)</span>
<span class="cp">#define MPI2_FLASH_REGION_FIRMWARE_BACKUP       (0x05)</span>
<span class="cp">#define MPI2_FLASH_REGION_MFG_INFORMATION       (0x06)</span>
<span class="cp">#define MPI2_FLASH_REGION_CONFIG_1              (0x07)</span>
<span class="cp">#define MPI2_FLASH_REGION_CONFIG_2              (0x08)</span>
<span class="cp">#define MPI2_FLASH_REGION_MEGARAID              (0x09)</span>
<span class="cp">#define MPI2_FLASH_REGION_INIT                  (0x0A)</span>

<span class="cm">/* ImageRevision */</span>
<span class="cp">#define MPI2_FLASH_LAYOUT_IMAGE_REVISION        (0x00)</span>



<span class="cm">/* Supported Devices Extended Image Data */</span>

<span class="cm">/*</span>
<span class="cm"> * Host code (drivers, BIOS, utilities, etc.) should leave this define set to</span>
<span class="cm"> * one and check NumberOfDevices at runtime.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef MPI2_SUPPORTED_DEVICES_IMAGE_NUM_DEVICES</span>
<span class="cp">#define MPI2_SUPPORTED_DEVICES_IMAGE_NUM_DEVICES    (1)</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SUPPORTED_DEVICE</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">DeviceID</span><span class="p">;</span>                   <span class="cm">/* 0x00 */</span>
    <span class="n">U16</span>                     <span class="n">VendorID</span><span class="p">;</span>                   <span class="cm">/* 0x02 */</span>
    <span class="n">U16</span>                     <span class="n">DeviceIDMask</span><span class="p">;</span>               <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">LowPCIRev</span><span class="p">;</span>                  <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">HighPCIRev</span><span class="p">;</span>                 <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
<span class="p">}</span> <span class="n">MPI2_SUPPORTED_DEVICE</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SUPPORTED_DEVICE</span><span class="p">,</span>
  <span class="n">Mpi2SupportedDevice_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SupportedDevice_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SUPPORTED_DEVICES_DATA</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ImageRevision</span><span class="p">;</span>              <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">NumberOfDevices</span><span class="p">;</span>            <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x03 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">MPI2_SUPPORTED_DEVICE</span>   <span class="n">SupportedDevice</span><span class="p">[</span><span class="n">MPI2_SUPPORTED_DEVICES_IMAGE_NUM_DEVICES</span><span class="p">];</span> <span class="cm">/* 0x08 */</span>
<span class="p">}</span> <span class="n">MPI2_SUPPORTED_DEVICES_DATA</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SUPPORTED_DEVICES_DATA</span><span class="p">,</span>
  <span class="n">Mpi2SupportedDevicesData_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SupportedDevicesData_t</span><span class="p">;</span>

<span class="cm">/* ImageRevision */</span>
<span class="cp">#define MPI2_SUPPORTED_DEVICES_IMAGE_REVISION   (0x00)</span>


<span class="cm">/* Init Extended Image Data */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_INIT_IMAGE_FOOTER</span>

<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">BootFlags</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U32</span>                     <span class="n">ImageSize</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>                     <span class="n">Signature0</span><span class="p">;</span>                 <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>                     <span class="n">Signature1</span><span class="p">;</span>                 <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">Signature2</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>                     <span class="n">ResetVector</span><span class="p">;</span>                <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_INIT_IMAGE_FOOTER</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_INIT_IMAGE_FOOTER</span><span class="p">,</span>
  <span class="n">Mpi2InitImageFooter_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2InitImageFooter_t</span><span class="p">;</span>

<span class="cm">/* defines for the BootFlags field */</span>
<span class="cp">#define MPI2_INIT_IMAGE_BOOTFLAGS_OFFSET        (0x00)</span>

<span class="cm">/* defines for the ImageSize field */</span>
<span class="cp">#define MPI2_INIT_IMAGE_IMAGESIZE_OFFSET        (0x04)</span>

<span class="cm">/* defines for the Signature0 field */</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE0_OFFSET       (0x08)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE0              (0x5AA55AEA)</span>

<span class="cm">/* defines for the Signature1 field */</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE1_OFFSET       (0x0C)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE1              (0xA55AEAA5)</span>

<span class="cm">/* defines for the Signature2 field */</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE2_OFFSET       (0x10)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE2              (0x5AEAA55A)</span>

<span class="cm">/* Signature fields as individual bytes */</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_0        (0xEA)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_1        (0x5A)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_2        (0xA5)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_3        (0x5A)</span>

<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_4        (0xA5)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_5        (0xEA)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_6        (0x5A)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_7        (0xA5)</span>

<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_8        (0x5A)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_9        (0xA5)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_A        (0xEA)</span>
<span class="cp">#define MPI2_INIT_IMAGE_SIGNATURE_BYTE_B        (0x5A)</span>

<span class="cm">/* defines for the ResetVector field */</span>
<span class="cp">#define MPI2_INIT_IMAGE_RESETVECTOR_OFFSET      (0x14)</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  PowerManagementControl message</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* PowerManagementControl Request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_PWR_MGMT_CONTROL_REQUEST</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Feature</span><span class="p">;</span>                    <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U8</span>                      <span class="n">Parameter1</span><span class="p">;</span>                 <span class="cm">/* 0x0C */</span>
    <span class="n">U8</span>                      <span class="n">Parameter2</span><span class="p">;</span>                 <span class="cm">/* 0x0D */</span>
    <span class="n">U8</span>                      <span class="n">Parameter3</span><span class="p">;</span>                 <span class="cm">/* 0x0E */</span>
    <span class="n">U8</span>                      <span class="n">Parameter4</span><span class="p">;</span>                 <span class="cm">/* 0x0F */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_PWR_MGMT_CONTROL_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_PWR_MGMT_CONTROL_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2PwrMgmtControlRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2PwrMgmtControlRequest_t</span><span class="p">;</span>

<span class="cm">/* defines for the Feature field */</span>
<span class="cp">#define MPI2_PM_CONTROL_FEATURE_DA_PHY_POWER_COND       (0x01)</span>
<span class="cp">#define MPI2_PM_CONTROL_FEATURE_PORT_WIDTH_MODULATION   (0x02)</span>
<span class="cp">#define MPI2_PM_CONTROL_FEATURE_PCIE_LINK               (0x03) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define MPI2_PM_CONTROL_FEATURE_IOC_SPEED               (0x04)</span>
<span class="cp">#define MPI2_PM_CONTROL_FEATURE_MIN_PRODUCT_SPECIFIC    (0x80)</span>
<span class="cp">#define MPI2_PM_CONTROL_FEATURE_MAX_PRODUCT_SPECIFIC    (0xFF)</span>

<span class="cm">/* parameter usage for the MPI2_PM_CONTROL_FEATURE_DA_PHY_POWER_COND Feature */</span>
<span class="cm">/* Parameter1 contains a PHY number */</span>
<span class="cm">/* Parameter2 indicates power condition action using these defines */</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_PARTIAL                  (0x01)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_SLUMBER                  (0x02)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_EXIT_PWR_MGMT            (0x03)</span>
<span class="cm">/* Parameter3 and Parameter4 are reserved */</span>

<span class="cm">/* parameter usage for the MPI2_PM_CONTROL_FEATURE_PORT_WIDTH_MODULATION</span>
<span class="cm"> *  Feature */</span>
<span class="cm">/* Parameter1 contains SAS port width modulation group number */</span>
<span class="cm">/* Parameter2 indicates IOC action using these defines */</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_REQUEST_OWNERSHIP        (0x01)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_CHANGE_MODULATION        (0x02)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_RELINQUISH_OWNERSHIP     (0x03)</span>
<span class="cm">/* Parameter3 indicates desired modulation level using these defines */</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM3_25_PERCENT               (0x00)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM3_50_PERCENT               (0x01)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM3_75_PERCENT               (0x02)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM3_100_PERCENT              (0x03)</span>
<span class="cm">/* Parameter4 is reserved */</span>

<span class="cm">/* parameter usage for the MPI2_PM_CONTROL_FEATURE_PCIE_LINK Feature */</span>
<span class="cm">/* Parameter1 indicates desired PCIe link speed using these defines */</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM1_PCIE_2_5_GBPS            (0x00) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM1_PCIE_5_0_GBPS            (0x01) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM1_PCIE_8_0_GBPS            (0x02) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cm">/* Parameter2 indicates desired PCIe link width using these defines */</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_WIDTH_X1                 (0x01) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_WIDTH_X2                 (0x02) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_WIDTH_X4                 (0x04) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM2_WIDTH_X8                 (0x08) </span><span class="cm">/* obsolete */</span><span class="cp"></span>
<span class="cm">/* Parameter3 and Parameter4 are reserved */</span>

<span class="cm">/* parameter usage for the MPI2_PM_CONTROL_FEATURE_IOC_SPEED Feature */</span>
<span class="cm">/* Parameter1 indicates desired IOC hardware clock speed using these defines */</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM1_FULL_IOC_SPEED           (0x01)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM1_HALF_IOC_SPEED           (0x02)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM1_QUARTER_IOC_SPEED        (0x04)</span>
<span class="cp">#define MPI2_PM_CONTROL_PARAM1_EIGHTH_IOC_SPEED         (0x08)</span>
<span class="cm">/* Parameter2, Parameter3, and Parameter4 are reserved */</span>


<span class="cm">/* PowerManagementControl Reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_PWR_MGMT_CONTROL_REPLY</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Feature</span><span class="p">;</span>                    <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_PWR_MGMT_CONTROL_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_PWR_MGMT_CONTROL_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2PwrMgmtControlReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2PwrMgmtControlReply_t</span><span class="p">;</span>


<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
