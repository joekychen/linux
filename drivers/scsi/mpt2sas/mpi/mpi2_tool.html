<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › mpt2sas › mpi › mpi2_tool.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mpi2_tool.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Copyright (c) 2000-2010 LSI Corporation.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> *           Name:  mpi2_tool.h</span>
<span class="cm"> *          Title:  MPI diagnostic tool structures and definitions</span>
<span class="cm"> *  Creation Date:  March 26, 2007</span>
<span class="cm"> *</span>
<span class="cm"> *    mpi2_tool.h Version:  02.00.07</span>
<span class="cm"> *</span>
<span class="cm"> *  Version History</span>
<span class="cm"> *  ---------------</span>
<span class="cm"> *</span>
<span class="cm"> *  Date      Version   Description</span>
<span class="cm"> *  --------  --------  ------------------------------------------------------</span>
<span class="cm"> *  04-30-07  02.00.00  Corresponds to Fusion-MPT MPI Specification Rev A.</span>
<span class="cm"> *  12-18-07  02.00.01  Added Diagnostic Buffer Post and Diagnostic Release</span>
<span class="cm"> *                      structures and defines.</span>
<span class="cm"> *  02-29-08  02.00.02  Modified various names to make them 32-character unique.</span>
<span class="cm"> *  05-06-09  02.00.03  Added ISTWI Read Write Tool and Diagnostic CLI Tool.</span>
<span class="cm"> *  07-30-09  02.00.04  Added ExtendedType field to DiagnosticBufferPost request</span>
<span class="cm"> *                      and reply messages.</span>
<span class="cm"> *                      Added MPI2_DIAG_BUF_TYPE_EXTENDED.</span>
<span class="cm"> *                      Incremented MPI2_DIAG_BUF_TYPE_COUNT.</span>
<span class="cm"> *  05-12-10  02.00.05  Added Diagnostic Data Upload tool.</span>
<span class="cm"> *  08-11-10  02.00.06  Added defines that were missing for Diagnostic Buffer</span>
<span class="cm"> *                      Post Request.</span>
<span class="cm"> *  05-25-11  02.00.07  Added Flags field and related defines to</span>
<span class="cm"> *                      MPI2_TOOLBOX_ISTWI_READ_WRITE_REQUEST.</span>
<span class="cm"> *  --------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cp">#ifndef MPI2_TOOL_H</span>
<span class="cp">#define MPI2_TOOL_H</span>

<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*               Toolbox Messages</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/* defines for the Tools */</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_TOOL                     (0x00)</span>
<span class="cp">#define MPI2_TOOLBOX_MEMORY_MOVE_TOOL               (0x01)</span>
<span class="cp">#define MPI2_TOOLBOX_DIAG_DATA_UPLOAD_TOOL          (0x02)</span>
<span class="cp">#define MPI2_TOOLBOX_ISTWI_READ_WRITE_TOOL          (0x03)</span>
<span class="cp">#define MPI2_TOOLBOX_BEACON_TOOL                    (0x05)</span>
<span class="cp">#define MPI2_TOOLBOX_DIAGNOSTIC_CLI_TOOL            (0x06)</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Toolbox reply</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Toolbox Clean Tool request</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_CLEAN_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x0C */</span>
   <span class="p">}</span> <span class="n">MPI2_TOOLBOX_CLEAN_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_CLEAN_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxCleanRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxCleanRequest_t</span><span class="p">;</span>

<span class="cm">/* values for the Flags field */</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_BOOT_SERVICES            (0x80000000)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_PERSIST_MANUFACT_PAGES   (0x40000000)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_OTHER_PERSIST_PAGES      (0x20000000)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_FW_CURRENT               (0x10000000)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_FW_BACKUP                (0x08000000)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_MEGARAID                 (0x02000000)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_INITIALIZATION           (0x01000000)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_FLASH                    (0x00000004)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_SEEPROM                  (0x00000002)</span>
<span class="cp">#define MPI2_TOOLBOX_CLEAN_NVSRAM                   (0x00000001)</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Toolbox Memory Move request</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_MEM_MOVE_REQUEST</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">MPI2_SGE_SIMPLE_UNION</span>   <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 0x0C */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_MEM_MOVE_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_MEM_MOVE_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxMemMoveRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxMemMoveRequest_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Toolbox Diagnostic Data Upload request</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_DIAG_DATA_UPLOAD_REQUEST</span> <span class="p">{</span>
	<span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
	<span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
	<span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
	<span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
	<span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
	<span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
	<span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
	<span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
	<span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
	<span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
	<span class="n">U8</span>                      <span class="n">SGLFlags</span><span class="p">;</span>                   <span class="cm">/* 0x0C */</span>
	<span class="n">U8</span>                      <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0D */</span>
	<span class="n">U16</span>                     <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
	<span class="n">U32</span>                     <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x10 */</span>
	<span class="n">U32</span>                     <span class="n">DataLength</span><span class="p">;</span>                 <span class="cm">/* 0x14 */</span>
	<span class="n">MPI2_SGE_SIMPLE_UNION</span>   <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 0x18 */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_DIAG_DATA_UPLOAD_REQUEST</span><span class="p">,</span>
<span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_DIAG_DATA_UPLOAD_REQUEST</span><span class="p">,</span>
<span class="n">Mpi2ToolboxDiagDataUploadRequest_t</span><span class="p">,</span>
<span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxDiagDataUploadRequest_t</span><span class="p">;</span>

<span class="cm">/* use MPI2_SGLFLAGS_ defines from mpi2.h for the SGLFlags field */</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DIAG_DATA_UPLOAD_HEADER</span> <span class="p">{</span>
	<span class="n">U32</span>                     <span class="n">DiagDataLength</span><span class="p">;</span>             <span class="cm">/* 00h */</span>
	<span class="n">U8</span>                      <span class="n">FormatCode</span><span class="p">;</span>                 <span class="cm">/* 04h */</span>
	<span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 05h */</span>
	<span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
<span class="p">}</span> <span class="n">MPI2_DIAG_DATA_UPLOAD_HEADER</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DIAG_DATA_UPLOAD_HEADER</span><span class="p">,</span>
<span class="n">Mpi2DiagDataUploadHeader_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2DiagDataUploadHeader_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Toolbox ISTWI Read Write Tool</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* Toolbox ISTWI Read Write Tool request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_ISTWI_READ_WRITE_REQUEST</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x10 */</span>
    <span class="n">U8</span>                      <span class="n">DevIndex</span><span class="p">;</span>                   <span class="cm">/* 0x14 */</span>
    <span class="n">U8</span>                      <span class="n">Action</span><span class="p">;</span>                     <span class="cm">/* 0x15 */</span>
    <span class="n">U8</span>                      <span class="n">SGLFlags</span><span class="p">;</span>                   <span class="cm">/* 0x16 */</span>
	 <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x17 */</span>
    <span class="n">U16</span>                     <span class="n">TxDataLength</span><span class="p">;</span>               <span class="cm">/* 0x18 */</span>
    <span class="n">U16</span>                     <span class="n">RxDataLength</span><span class="p">;</span>               <span class="cm">/* 0x1A */</span>
    <span class="n">U32</span>                     <span class="n">Reserved8</span><span class="p">;</span>                  <span class="cm">/* 0x1C */</span>
    <span class="n">U32</span>                     <span class="n">Reserved9</span><span class="p">;</span>                  <span class="cm">/* 0x20 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved10</span><span class="p">;</span>                 <span class="cm">/* 0x24 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved11</span><span class="p">;</span>                 <span class="cm">/* 0x28 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved12</span><span class="p">;</span>                 <span class="cm">/* 0x2C */</span>
    <span class="n">MPI2_SGE_SIMPLE_UNION</span>   <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 0x30 */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_ISTWI_READ_WRITE_REQUEST</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_ISTWI_READ_WRITE_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxIstwiReadWriteRequest_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxIstwiReadWriteRequest_t</span><span class="p">;</span>

<span class="cm">/* values for the Action field */</span>
<span class="cp">#define MPI2_TOOL_ISTWI_ACTION_READ_DATA            (0x01)</span>
<span class="cp">#define MPI2_TOOL_ISTWI_ACTION_WRITE_DATA           (0x02)</span>
<span class="cp">#define MPI2_TOOL_ISTWI_ACTION_SEQUENCE             (0x03)</span>
<span class="cp">#define MPI2_TOOL_ISTWI_ACTION_RESERVE_BUS          (0x10)</span>
<span class="cp">#define MPI2_TOOL_ISTWI_ACTION_RELEASE_BUS          (0x11)</span>
<span class="cp">#define MPI2_TOOL_ISTWI_ACTION_RESET                (0x12)</span>

<span class="cm">/* use MPI2_SGLFLAGS_ defines from mpi2.h for the SGLFlags field */</span>

<span class="cm">/* values for the Flags field */</span>
<span class="cp">#define MPI2_TOOL_ISTWI_FLAG_AUTO_RESERVE_RELEASE   (0x80)</span>
<span class="cp">#define MPI2_TOOL_ISTWI_FLAG_PAGE_ADDR_MASK         (0x07)</span>

<span class="cm">/* Toolbox ISTWI Read Write Tool reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_ISTWI_REPLY</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">U8</span>                      <span class="n">DevIndex</span><span class="p">;</span>                   <span class="cm">/* 0x14 */</span>
    <span class="n">U8</span>                      <span class="n">Action</span><span class="p">;</span>                     <span class="cm">/* 0x15 */</span>
    <span class="n">U8</span>                      <span class="n">IstwiStatus</span><span class="p">;</span>                <span class="cm">/* 0x16 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x17 */</span>
    <span class="n">U16</span>                     <span class="n">TxDataCount</span><span class="p">;</span>                <span class="cm">/* 0x18 */</span>
    <span class="n">U16</span>                     <span class="n">RxDataCount</span><span class="p">;</span>                <span class="cm">/* 0x1A */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_ISTWI_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_ISTWI_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxIstwiReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxIstwiReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Toolbox Beacon Tool request</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_BEACON_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U8</span>                      <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U8</span>                      <span class="n">PhysicalPort</span><span class="p">;</span>               <span class="cm">/* 0x0D */</span>
    <span class="n">U8</span>                      <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x0F */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_BEACON_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_BEACON_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxBeaconRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxBeaconRequest_t</span><span class="p">;</span>

<span class="cm">/* values for the Flags field */</span>
<span class="cp">#define MPI2_TOOLBOX_FLAGS_BEACONMODE_OFF       (0x00)</span>
<span class="cp">#define MPI2_TOOLBOX_FLAGS_BEACONMODE_ON        (0x01)</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Toolbox Diagnostic CLI Tool</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_TOOLBOX_DIAG_CLI_CMD_LENGTH    (0x5C)</span>

<span class="cm">/* Toolbox Diagnostic CLI Tool request message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_DIAGNOSTIC_CLI_REQUEST</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U8</span>                      <span class="n">SGLFlags</span><span class="p">;</span>                   <span class="cm">/* 0x0C */</span>
    <span class="n">U8</span>                      <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0D */</span>
    <span class="n">U16</span>                     <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">DataLength</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">U8</span>                      <span class="n">DiagnosticCliCommand</span>
		<span class="p">[</span><span class="n">MPI2_TOOLBOX_DIAG_CLI_CMD_LENGTH</span><span class="p">];</span>     <span class="cm">/* 0x14 */</span>
    <span class="n">MPI2_SGE_SIMPLE_UNION</span>   <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 0x70 */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_DIAGNOSTIC_CLI_REQUEST</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_DIAGNOSTIC_CLI_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxDiagnosticCliRequest_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxDiagnosticCliRequest_t</span><span class="p">;</span>

<span class="cm">/* use MPI2_SGLFLAGS_ defines from mpi2.h for the SGLFlags field */</span>


<span class="cm">/* Toolbox Diagnostic CLI Tool reply message */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TOOLBOX_DIAGNOSTIC_CLI_REPLY</span> <span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>                     <span class="n">ReturnedDataLength</span><span class="p">;</span>         <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_TOOLBOX_DIAGNOSTIC_CLI_REPLY</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TOOLBOX_DIAG_CLI_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2ToolboxDiagnosticCliReply_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ToolboxDiagnosticCliReply_t</span><span class="p">;</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*       Diagnostic Buffer Messages</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Diagnostic Buffer Post request</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DIAG_BUFFER_POST_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ExtendedType</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U64</span>                     <span class="n">BufferAddress</span><span class="p">;</span>              <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>                     <span class="n">BufferLength</span><span class="p">;</span>               <span class="cm">/* 0x14 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x18 */</span>
    <span class="n">U32</span>                     <span class="n">Reserved6</span><span class="p">;</span>                  <span class="cm">/* 0x1C */</span>
    <span class="n">U32</span>                     <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x20 */</span>
    <span class="n">U32</span>                     <span class="n">ProductSpecific</span><span class="p">[</span><span class="mi">23</span><span class="p">];</span>        <span class="cm">/* 0x24 */</span>
<span class="p">}</span> <span class="n">MPI2_DIAG_BUFFER_POST_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DIAG_BUFFER_POST_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2DiagBufferPostRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2DiagBufferPostRequest_t</span><span class="p">;</span>

<span class="cm">/* values for the ExtendedType field */</span>
<span class="cp">#define MPI2_DIAG_EXTENDED_TYPE_UTILIZATION         (0x02)</span>

<span class="cm">/* values for the BufferType field */</span>
<span class="cp">#define MPI2_DIAG_BUF_TYPE_TRACE                    (0x00)</span>
<span class="cp">#define MPI2_DIAG_BUF_TYPE_SNAPSHOT                 (0x01)</span>
<span class="cp">#define MPI2_DIAG_BUF_TYPE_EXTENDED                 (0x02)</span>
<span class="cm">/* count of the number of buffer types */</span>
<span class="cp">#define MPI2_DIAG_BUF_TYPE_COUNT                    (0x03)</span>

<span class="cm">/* values for the Flags field */</span>
<span class="cp">#define MPI2_DIAG_BUF_FLAG_RELEASE_ON_FULL          (0x00000002)</span>
<span class="cp">#define MPI2_DIAG_BUF_FLAG_IMMEDIATE_RELEASE        (0x00000001)</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Diagnostic Buffer Post reply</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DIAG_BUFFER_POST_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">ExtendedType</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>                     <span class="n">TransferLength</span><span class="p">;</span>             <span class="cm">/* 0x14 */</span>
<span class="p">}</span> <span class="n">MPI2_DIAG_BUFFER_POST_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DIAG_BUFFER_POST_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2DiagBufferPostReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2DiagBufferPostReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Diagnostic Release request</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DIAG_RELEASE_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
<span class="p">}</span> <span class="n">MPI2_DIAG_RELEASE_REQUEST</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DIAG_RELEASE_REQUEST</span><span class="p">,</span>
  <span class="n">Mpi2DiagReleaseRequest_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2DiagReleaseRequest_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Diagnostic Buffer Post reply</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DIAG_RELEASE_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>                      <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>                      <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_DIAG_RELEASE_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DIAG_RELEASE_REPLY</span><span class="p">,</span>
  <span class="n">Mpi2DiagReleaseReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2DiagReleaseReply_t</span><span class="p">;</span>


<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
