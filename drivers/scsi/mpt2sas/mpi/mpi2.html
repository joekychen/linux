<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › mpt2sas › mpi › mpi2.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mpi2.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Copyright (c) 2000-2011 LSI Corporation.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> *           Name:  mpi2.h</span>
<span class="cm"> *          Title:  MPI Message independent structures and definitions</span>
<span class="cm"> *                  including System Interface Register Set and</span>
<span class="cm"> *                  scatter/gather formats.</span>
<span class="cm"> *  Creation Date:  June 21, 2006</span>
<span class="cm"> *</span>
<span class="cm"> *  mpi2.h Version:  02.00.23</span>
<span class="cm"> *</span>
<span class="cm"> *  Version History</span>
<span class="cm"> *  ---------------</span>
<span class="cm"> *</span>
<span class="cm"> *  Date      Version   Description</span>
<span class="cm"> *  --------  --------  ------------------------------------------------------</span>
<span class="cm"> *  04-30-07  02.00.00  Corresponds to Fusion-MPT MPI Specification Rev A.</span>
<span class="cm"> *  06-04-07  02.00.01  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  06-26-07  02.00.02  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  08-31-07  02.00.03  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Moved ReplyPostHostIndex register to offset 0x6C of the</span>
<span class="cm"> *                      MPI2_SYSTEM_INTERFACE_REGS and modified the define for</span>
<span class="cm"> *                      MPI2_REPLY_POST_HOST_INDEX_OFFSET.</span>
<span class="cm"> *                      Added union of request descriptors.</span>
<span class="cm"> *                      Added union of reply descriptors.</span>
<span class="cm"> *  10-31-07  02.00.04  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Added define for MPI2_VERSION_02_00.</span>
<span class="cm"> *                      Fixed the size of the FunctionDependent5 field in the</span>
<span class="cm"> *                      MPI2_DEFAULT_REPLY structure.</span>
<span class="cm"> *  12-18-07  02.00.05  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Removed the MPI-defined Fault Codes and extended the</span>
<span class="cm"> *                      product specific codes up to 0xEFFF.</span>
<span class="cm"> *                      Added a sixth key value for the WriteSequence register</span>
<span class="cm"> *                      and changed the flush value to 0x0.</span>
<span class="cm"> *                      Added message function codes for Diagnostic Buffer Post</span>
<span class="cm"> *                      and Diagnsotic Release.</span>
<span class="cm"> *                      New IOCStatus define: MPI2_IOCSTATUS_DIAGNOSTIC_RELEASED</span>
<span class="cm"> *                      Moved MPI2_VERSION_UNION from mpi2_ioc.h.</span>
<span class="cm"> *  02-29-08  02.00.06  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  03-03-08  02.00.07  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  05-21-08  02.00.08  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Added #defines for marking a reply descriptor as unused.</span>
<span class="cm"> *  06-27-08  02.00.09  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  10-02-08  02.00.10  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Moved LUN field defines from mpi2_init.h.</span>
<span class="cm"> *  01-19-09  02.00.11  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  05-06-09  02.00.12  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      In all request and reply descriptors, replaced VF_ID</span>
<span class="cm"> *                      field with MSIxIndex field.</span>
<span class="cm"> *                      Removed DevHandle field from</span>
<span class="cm"> *                      MPI2_SCSI_IO_SUCCESS_REPLY_DESCRIPTOR and made those</span>
<span class="cm"> *                      bytes reserved.</span>
<span class="cm"> *                      Added RAID Accelerator functionality.</span>
<span class="cm"> *  07-30-09  02.00.13  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  10-28-09  02.00.14  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Added MSI-x index mask and shift for Reply Post Host</span>
<span class="cm"> *                      Index register.</span>
<span class="cm"> *                      Added function code for Host Based Discovery Action.</span>
<span class="cm"> *  02-10-10  02.00.15  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Added define for MPI2_FUNCTION_PWR_MGMT_CONTROL.</span>
<span class="cm"> *                      Added defines for product-specific range of message</span>
<span class="cm"> *                      function codes, 0xF0 to 0xFF.</span>
<span class="cm"> *  05-12-10  02.00.16  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Added alternative defines for the SGE Direction bit.</span>
<span class="cm"> *  08-11-10  02.00.17  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  11-10-10  02.00.18  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Added MPI2_IEEE_SGE_FLAGS_SYSTEMPLBCPI_ADDR define.</span>
<span class="cm"> *  02-23-11  02.00.19  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *                      Added MPI2_FUNCTION_SEND_HOST_MESSAGE.</span>
<span class="cm"> *  03-09-11  02.00.20  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  05-25-11  02.00.21  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  08-24-11  02.00.22  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  11-18-11  02.00.23  Bumped MPI2_HEADER_VERSION_UNIT.</span>
<span class="cm"> *  --------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cp">#ifndef MPI2_H</span>
<span class="cp">#define MPI2_H</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        MPI Version Definitions</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cp">#define MPI2_VERSION_MAJOR                  (0x02)</span>
<span class="cp">#define MPI2_VERSION_MINOR                  (0x00)</span>
<span class="cp">#define MPI2_VERSION_MAJOR_MASK             (0xFF00)</span>
<span class="cp">#define MPI2_VERSION_MAJOR_SHIFT            (8)</span>
<span class="cp">#define MPI2_VERSION_MINOR_MASK             (0x00FF)</span>
<span class="cp">#define MPI2_VERSION_MINOR_SHIFT            (0)</span>
<span class="cp">#define MPI2_VERSION ((MPI2_VERSION_MAJOR &lt;&lt; MPI2_VERSION_MAJOR_SHIFT) |   \</span>
<span class="cp">                                      MPI2_VERSION_MINOR)</span>

<span class="cp">#define MPI2_VERSION_02_00                  (0x0200)</span>

<span class="cm">/* versioning for this MPI header set */</span>
<span class="cp">#define MPI2_HEADER_VERSION_UNIT            (0x17)</span>
<span class="cp">#define MPI2_HEADER_VERSION_DEV             (0x00)</span>
<span class="cp">#define MPI2_HEADER_VERSION_UNIT_MASK       (0xFF00)</span>
<span class="cp">#define MPI2_HEADER_VERSION_UNIT_SHIFT      (8)</span>
<span class="cp">#define MPI2_HEADER_VERSION_DEV_MASK        (0x00FF)</span>
<span class="cp">#define MPI2_HEADER_VERSION_DEV_SHIFT       (0)</span>
<span class="cp">#define MPI2_HEADER_VERSION ((MPI2_HEADER_VERSION_UNIT &lt;&lt; 8) | MPI2_HEADER_VERSION_DEV)</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        IOC State Definitions</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cp">#define MPI2_IOC_STATE_RESET               (0x00000000)</span>
<span class="cp">#define MPI2_IOC_STATE_READY               (0x10000000)</span>
<span class="cp">#define MPI2_IOC_STATE_OPERATIONAL         (0x20000000)</span>
<span class="cp">#define MPI2_IOC_STATE_FAULT               (0x40000000)</span>

<span class="cp">#define MPI2_IOC_STATE_MASK                (0xF0000000)</span>
<span class="cp">#define MPI2_IOC_STATE_SHIFT               (28)</span>

<span class="cm">/* Fault state range for prodcut specific codes */</span>
<span class="cp">#define MPI2_FAULT_PRODUCT_SPECIFIC_MIN                 (0x0000)</span>
<span class="cp">#define MPI2_FAULT_PRODUCT_SPECIFIC_MAX                 (0xEFFF)</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        System Interface Register Definitions</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">volatile</span> <span class="k">struct</span> <span class="n">_MPI2_SYSTEM_INTERFACE_REGS</span>
<span class="p">{</span>
    <span class="n">U32</span>         <span class="n">Doorbell</span><span class="p">;</span>                   <span class="cm">/* 0x00 */</span>
    <span class="n">U32</span>         <span class="n">WriteSequence</span><span class="p">;</span>              <span class="cm">/* 0x04 */</span>
    <span class="n">U32</span>         <span class="n">HostDiagnostic</span><span class="p">;</span>             <span class="cm">/* 0x08 */</span>
    <span class="n">U32</span>         <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x0C */</span>
    <span class="n">U32</span>         <span class="n">DiagRWData</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
    <span class="n">U32</span>         <span class="n">DiagRWAddressLow</span><span class="p">;</span>           <span class="cm">/* 0x14 */</span>
    <span class="n">U32</span>         <span class="n">DiagRWAddressHigh</span><span class="p">;</span>          <span class="cm">/* 0x18 */</span>
    <span class="n">U32</span>         <span class="n">Reserved2</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>               <span class="cm">/* 0x1C */</span>
    <span class="n">U32</span>         <span class="n">HostInterruptStatus</span><span class="p">;</span>        <span class="cm">/* 0x30 */</span>
    <span class="n">U32</span>         <span class="n">HostInterruptMask</span><span class="p">;</span>          <span class="cm">/* 0x34 */</span>
    <span class="n">U32</span>         <span class="n">DCRData</span><span class="p">;</span>                    <span class="cm">/* 0x38 */</span>
    <span class="n">U32</span>         <span class="n">DCRAddress</span><span class="p">;</span>                 <span class="cm">/* 0x3C */</span>
    <span class="n">U32</span>         <span class="n">Reserved3</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>               <span class="cm">/* 0x40 */</span>
    <span class="n">U32</span>         <span class="n">ReplyFreeHostIndex</span><span class="p">;</span>         <span class="cm">/* 0x48 */</span>
    <span class="n">U32</span>         <span class="n">Reserved4</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>               <span class="cm">/* 0x4C */</span>
    <span class="n">U32</span>         <span class="n">ReplyPostHostIndex</span><span class="p">;</span>         <span class="cm">/* 0x6C */</span>
    <span class="n">U32</span>         <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 0x70 */</span>
    <span class="n">U32</span>         <span class="n">HCBSize</span><span class="p">;</span>                    <span class="cm">/* 0x74 */</span>
    <span class="n">U32</span>         <span class="n">HCBAddressLow</span><span class="p">;</span>              <span class="cm">/* 0x78 */</span>
    <span class="n">U32</span>         <span class="n">HCBAddressHigh</span><span class="p">;</span>             <span class="cm">/* 0x7C */</span>
    <span class="n">U32</span>         <span class="n">Reserved6</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>              <span class="cm">/* 0x80 */</span>
    <span class="n">U32</span>         <span class="n">RequestDescriptorPostLow</span><span class="p">;</span>   <span class="cm">/* 0xC0 */</span>
    <span class="n">U32</span>         <span class="n">RequestDescriptorPostHigh</span><span class="p">;</span>  <span class="cm">/* 0xC4 */</span>
    <span class="n">U32</span>         <span class="n">Reserved7</span><span class="p">[</span><span class="mi">14</span><span class="p">];</span>              <span class="cm">/* 0xC8 */</span>
<span class="p">}</span> <span class="n">MPI2_SYSTEM_INTERFACE_REGS</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SYSTEM_INTERFACE_REGS</span><span class="p">,</span>
  <span class="n">Mpi2SystemInterfaceRegs_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SystemInterfaceRegs_t</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * Defines for working with the Doorbell register.</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_DOORBELL_OFFSET                    (0x00000000)</span>

<span class="cm">/* IOC --&gt; System values */</span>
<span class="cp">#define MPI2_DOORBELL_USED                      (0x08000000)</span>
<span class="cp">#define MPI2_DOORBELL_WHO_INIT_MASK             (0x07000000)</span>
<span class="cp">#define MPI2_DOORBELL_WHO_INIT_SHIFT            (24)</span>
<span class="cp">#define MPI2_DOORBELL_FAULT_CODE_MASK           (0x0000FFFF)</span>
<span class="cp">#define MPI2_DOORBELL_DATA_MASK                 (0x0000FFFF)</span>

<span class="cm">/* System --&gt; IOC values */</span>
<span class="cp">#define MPI2_DOORBELL_FUNCTION_MASK             (0xFF000000)</span>
<span class="cp">#define MPI2_DOORBELL_FUNCTION_SHIFT            (24)</span>
<span class="cp">#define MPI2_DOORBELL_ADD_DWORDS_MASK           (0x00FF0000)</span>
<span class="cp">#define MPI2_DOORBELL_ADD_DWORDS_SHIFT          (16)</span>


<span class="cm">/*</span>
<span class="cm"> * Defines for the WriteSequence register</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_WRITE_SEQUENCE_OFFSET              (0x00000004)</span>
<span class="cp">#define MPI2_WRSEQ_KEY_VALUE_MASK               (0x0000000F)</span>
<span class="cp">#define MPI2_WRSEQ_FLUSH_KEY_VALUE              (0x0)</span>
<span class="cp">#define MPI2_WRSEQ_1ST_KEY_VALUE                (0xF)</span>
<span class="cp">#define MPI2_WRSEQ_2ND_KEY_VALUE                (0x4)</span>
<span class="cp">#define MPI2_WRSEQ_3RD_KEY_VALUE                (0xB)</span>
<span class="cp">#define MPI2_WRSEQ_4TH_KEY_VALUE                (0x2)</span>
<span class="cp">#define MPI2_WRSEQ_5TH_KEY_VALUE                (0x7)</span>
<span class="cp">#define MPI2_WRSEQ_6TH_KEY_VALUE                (0xD)</span>

<span class="cm">/*</span>
<span class="cm"> * Defines for the HostDiagnostic register</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_HOST_DIAGNOSTIC_OFFSET             (0x00000008)</span>

<span class="cp">#define MPI2_DIAG_BOOT_DEVICE_SELECT_MASK       (0x00001800)</span>
<span class="cp">#define MPI2_DIAG_BOOT_DEVICE_SELECT_DEFAULT    (0x00000000)</span>
<span class="cp">#define MPI2_DIAG_BOOT_DEVICE_SELECT_HCDW       (0x00000800)</span>

<span class="cp">#define MPI2_DIAG_CLEAR_FLASH_BAD_SIG           (0x00000400)</span>
<span class="cp">#define MPI2_DIAG_FORCE_HCB_ON_RESET            (0x00000200)</span>
<span class="cp">#define MPI2_DIAG_HCB_MODE                      (0x00000100)</span>
<span class="cp">#define MPI2_DIAG_DIAG_WRITE_ENABLE             (0x00000080)</span>
<span class="cp">#define MPI2_DIAG_FLASH_BAD_SIG                 (0x00000040)</span>
<span class="cp">#define MPI2_DIAG_RESET_HISTORY                 (0x00000020)</span>
<span class="cp">#define MPI2_DIAG_DIAG_RW_ENABLE                (0x00000010)</span>
<span class="cp">#define MPI2_DIAG_RESET_ADAPTER                 (0x00000004)</span>
<span class="cp">#define MPI2_DIAG_HOLD_IOC_RESET                (0x00000002)</span>

<span class="cm">/*</span>
<span class="cm"> * Offsets for DiagRWData and address</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_DIAG_RW_DATA_OFFSET                (0x00000010)</span>
<span class="cp">#define MPI2_DIAG_RW_ADDRESS_LOW_OFFSET         (0x00000014)</span>
<span class="cp">#define MPI2_DIAG_RW_ADDRESS_HIGH_OFFSET        (0x00000018)</span>

<span class="cm">/*</span>
<span class="cm"> * Defines for the HostInterruptStatus register</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_HOST_INTERRUPT_STATUS_OFFSET       (0x00000030)</span>
<span class="cp">#define MPI2_HIS_SYS2IOC_DB_STATUS              (0x80000000)</span>
<span class="cp">#define MPI2_HIS_IOP_DOORBELL_STATUS            MPI2_HIS_SYS2IOC_DB_STATUS</span>
<span class="cp">#define MPI2_HIS_RESET_IRQ_STATUS               (0x40000000)</span>
<span class="cp">#define MPI2_HIS_REPLY_DESCRIPTOR_INTERRUPT     (0x00000008)</span>
<span class="cp">#define MPI2_HIS_IOC2SYS_DB_STATUS              (0x00000001)</span>
<span class="cp">#define MPI2_HIS_DOORBELL_INTERRUPT             MPI2_HIS_IOC2SYS_DB_STATUS</span>

<span class="cm">/*</span>
<span class="cm"> * Defines for the HostInterruptMask register</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_HOST_INTERRUPT_MASK_OFFSET         (0x00000034)</span>
<span class="cp">#define MPI2_HIM_RESET_IRQ_MASK                 (0x40000000)</span>
<span class="cp">#define MPI2_HIM_REPLY_INT_MASK                 (0x00000008)</span>
<span class="cp">#define MPI2_HIM_RIM                            MPI2_HIM_REPLY_INT_MASK</span>
<span class="cp">#define MPI2_HIM_IOC2SYS_DB_MASK                (0x00000001)</span>
<span class="cp">#define MPI2_HIM_DIM                            MPI2_HIM_IOC2SYS_DB_MASK</span>

<span class="cm">/*</span>
<span class="cm"> * Offsets for DCRData and address</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_DCR_DATA_OFFSET                    (0x00000038)</span>
<span class="cp">#define MPI2_DCR_ADDRESS_OFFSET                 (0x0000003C)</span>

<span class="cm">/*</span>
<span class="cm"> * Offset for the Reply Free Queue</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_REPLY_FREE_HOST_INDEX_OFFSET       (0x00000048)</span>

<span class="cm">/*</span>
<span class="cm"> * Defines for the Reply Descriptor Post Queue</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_REPLY_POST_HOST_INDEX_OFFSET       (0x0000006C)</span>
<span class="cp">#define MPI2_REPLY_POST_HOST_INDEX_MASK         (0x00FFFFFF)</span>
<span class="cp">#define MPI2_RPHI_MSIX_INDEX_MASK               (0xFF000000)</span>
<span class="cp">#define MPI2_RPHI_MSIX_INDEX_SHIFT              (24)</span>

<span class="cm">/*</span>
<span class="cm"> * Defines for the HCBSize and address</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_HCB_SIZE_OFFSET                    (0x00000074)</span>
<span class="cp">#define MPI2_HCB_SIZE_SIZE_MASK                 (0xFFFFF000)</span>
<span class="cp">#define MPI2_HCB_SIZE_HCB_ENABLE                (0x00000001)</span>

<span class="cp">#define MPI2_HCB_ADDRESS_LOW_OFFSET             (0x00000078)</span>
<span class="cp">#define MPI2_HCB_ADDRESS_HIGH_OFFSET            (0x0000007C)</span>

<span class="cm">/*</span>
<span class="cm"> * Offsets for the Request Queue</span>
<span class="cm"> */</span>
<span class="cp">#define MPI2_REQUEST_DESCRIPTOR_POST_LOW_OFFSET     (0x000000C0)</span>
<span class="cp">#define MPI2_REQUEST_DESCRIPTOR_POST_HIGH_OFFSET    (0x000000C4)</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        Message Descriptors</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/* Request Descriptors */</span>

<span class="cm">/* Default Request Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DEFAULT_REQUEST_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">RequestFlags</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U16</span>             <span class="n">LMID</span><span class="p">;</span>                       <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>             <span class="n">DescriptorTypeDependent</span><span class="p">;</span>    <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_DEFAULT_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DEFAULT_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2DefaultRequestDescriptor_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2DefaultRequestDescriptor_t</span><span class="p">;</span>

<span class="cm">/* defines for the RequestFlags field */</span>
<span class="cp">#define MPI2_REQ_DESCRIPT_FLAGS_TYPE_MASK               (0x0E)</span>
<span class="cp">#define MPI2_REQ_DESCRIPT_FLAGS_SCSI_IO                 (0x00)</span>
<span class="cp">#define MPI2_REQ_DESCRIPT_FLAGS_SCSI_TARGET             (0x02)</span>
<span class="cp">#define MPI2_REQ_DESCRIPT_FLAGS_HIGH_PRIORITY           (0x06)</span>
<span class="cp">#define MPI2_REQ_DESCRIPT_FLAGS_DEFAULT_TYPE            (0x08)</span>
<span class="cp">#define MPI2_REQ_DESCRIPT_FLAGS_RAID_ACCELERATOR        (0x0A)</span>

<span class="cp">#define MPI2_REQ_DESCRIPT_FLAGS_IOC_FIFO_MARKER (0x01)</span>


<span class="cm">/* High Priority Request Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_HIGH_PRIORITY_REQUEST_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">RequestFlags</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U16</span>             <span class="n">LMID</span><span class="p">;</span>                       <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>             <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_HIGH_PRIORITY_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_HIGH_PRIORITY_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2HighPriorityRequestDescriptor_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2HighPriorityRequestDescriptor_t</span><span class="p">;</span>


<span class="cm">/* SCSI IO Request Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SCSI_IO_REQUEST_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">RequestFlags</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U16</span>             <span class="n">LMID</span><span class="p">;</span>                       <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>             <span class="n">DevHandle</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_SCSI_IO_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SCSI_IO_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2SCSIIORequestDescriptor_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SCSIIORequestDescriptor_t</span><span class="p">;</span>


<span class="cm">/* SCSI Target Request Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SCSI_TARGET_REQUEST_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">RequestFlags</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U16</span>             <span class="n">LMID</span><span class="p">;</span>                       <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>             <span class="n">IoIndex</span><span class="p">;</span>                    <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_SCSI_TARGET_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SCSI_TARGET_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2SCSITargetRequestDescriptor_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SCSITargetRequestDescriptor_t</span><span class="p">;</span>


<span class="cm">/* RAID Accelerator Request Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_RAID_ACCEL_REQUEST_DESCRIPTOR</span> <span class="p">{</span>
    <span class="n">U8</span>              <span class="n">RequestFlags</span><span class="p">;</span>               <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U16</span>             <span class="n">LMID</span><span class="p">;</span>                       <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>             <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_RAID_ACCEL_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_RAID_ACCEL_REQUEST_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2RAIDAcceleratorRequestDescriptor_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2RAIDAcceleratorRequestDescriptor_t</span><span class="p">;</span>


<span class="cm">/* union of Request Descriptors */</span>
<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_REQUEST_DESCRIPTOR_UNION</span>
<span class="p">{</span>
    <span class="n">MPI2_DEFAULT_REQUEST_DESCRIPTOR</span>             <span class="n">Default</span><span class="p">;</span>
    <span class="n">MPI2_HIGH_PRIORITY_REQUEST_DESCRIPTOR</span>       <span class="n">HighPriority</span><span class="p">;</span>
    <span class="n">MPI2_SCSI_IO_REQUEST_DESCRIPTOR</span>             <span class="n">SCSIIO</span><span class="p">;</span>
    <span class="n">MPI2_SCSI_TARGET_REQUEST_DESCRIPTOR</span>         <span class="n">SCSITarget</span><span class="p">;</span>
    <span class="n">MPI2_RAID_ACCEL_REQUEST_DESCRIPTOR</span>          <span class="n">RAIDAccelerator</span><span class="p">;</span>
    <span class="n">U64</span>                                         <span class="n">Words</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_REQUEST_DESCRIPTOR_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_REQUEST_DESCRIPTOR_UNION</span><span class="p">,</span>
  <span class="n">Mpi2RequestDescriptorUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2RequestDescriptorUnion_t</span><span class="p">;</span>


<span class="cm">/* Reply Descriptors */</span>

<span class="cm">/* Default Reply Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DEFAULT_REPLY_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">ReplyFlags</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">DescriptorTypeDependent1</span><span class="p">;</span>   <span class="cm">/* 0x02 */</span>
    <span class="n">U32</span>             <span class="n">DescriptorTypeDependent2</span><span class="p">;</span>   <span class="cm">/* 0x04 */</span>
<span class="p">}</span> <span class="n">MPI2_DEFAULT_REPLY_DESCRIPTOR</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DEFAULT_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2DefaultReplyDescriptor_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2DefaultReplyDescriptor_t</span><span class="p">;</span>

<span class="cm">/* defines for the ReplyFlags field */</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_FLAGS_TYPE_MASK                   (0x0F)</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_FLAGS_SCSI_IO_SUCCESS             (0x00)</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_FLAGS_ADDRESS_REPLY               (0x01)</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_FLAGS_TARGETASSIST_SUCCESS        (0x02)</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_FLAGS_TARGET_COMMAND_BUFFER       (0x03)</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_FLAGS_RAID_ACCELERATOR_SUCCESS    (0x05)</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_FLAGS_UNUSED                      (0x0F)</span>

<span class="cm">/* values for marking a reply descriptor as unused */</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_UNUSED_WORD0_MARK             (0xFFFFFFFF)</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_UNUSED_WORD1_MARK             (0xFFFFFFFF)</span>

<span class="cm">/* Address Reply Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_ADDRESS_REPLY_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">ReplyFlags</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U32</span>             <span class="n">ReplyFrameAddress</span><span class="p">;</span>          <span class="cm">/* 0x04 */</span>
<span class="p">}</span> <span class="n">MPI2_ADDRESS_REPLY_DESCRIPTOR</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_ADDRESS_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2AddressReplyDescriptor_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2AddressReplyDescriptor_t</span><span class="p">;</span>

<span class="cp">#define MPI2_ADDRESS_REPLY_SMID_INVALID                 (0x00)</span>


<span class="cm">/* SCSI IO Success Reply Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SCSI_IO_SUCCESS_REPLY_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">ReplyFlags</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U16</span>             <span class="n">TaskTag</span><span class="p">;</span>                    <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>             <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_SCSI_IO_SUCCESS_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SCSI_IO_SUCCESS_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2SCSIIOSuccessReplyDescriptor_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SCSIIOSuccessReplyDescriptor_t</span><span class="p">;</span>


<span class="cm">/* TargetAssist Success Reply Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TARGETASSIST_SUCCESS_REPLY_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">ReplyFlags</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>              <span class="n">SequenceNumber</span><span class="p">;</span>             <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>              <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x05 */</span>
    <span class="n">U16</span>             <span class="n">IoIndex</span><span class="p">;</span>                    <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_TARGETASSIST_SUCCESS_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TARGETASSIST_SUCCESS_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2TargetAssistSuccessReplyDescriptor_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2TargetAssistSuccessReplyDescriptor_t</span><span class="p">;</span>


<span class="cm">/* Target Command Buffer Reply Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_TARGET_COMMAND_BUFFER_REPLY_DESCRIPTOR</span>
<span class="p">{</span>
    <span class="n">U8</span>              <span class="n">ReplyFlags</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>              <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>              <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>             <span class="n">InitiatorDevHandle</span><span class="p">;</span>         <span class="cm">/* 0x04 */</span>
    <span class="n">U16</span>             <span class="n">IoIndex</span><span class="p">;</span>                    <span class="cm">/* 0x06 */</span>
<span class="p">}</span> <span class="n">MPI2_TARGET_COMMAND_BUFFER_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_TARGET_COMMAND_BUFFER_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2TargetCommandBufferReplyDescriptor_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2TargetCommandBufferReplyDescriptor_t</span><span class="p">;</span>

<span class="cm">/* defines for Flags field */</span>
<span class="cp">#define MPI2_RPY_DESCRIPT_TCB_FLAGS_PHYNUM_MASK     (0x3F)</span>


<span class="cm">/* RAID Accelerator Success Reply Descriptor */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_RAID_ACCELERATOR_SUCCESS_REPLY_DESCRIPTOR</span> <span class="p">{</span>
    <span class="n">U8</span>              <span class="n">ReplyFlags</span><span class="p">;</span>                 <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MSIxIndex</span><span class="p">;</span>                  <span class="cm">/* 0x01 */</span>
    <span class="n">U16</span>             <span class="n">SMID</span><span class="p">;</span>                       <span class="cm">/* 0x02 */</span>
    <span class="n">U32</span>             <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 0x04 */</span>
<span class="p">}</span> <span class="n">MPI2_RAID_ACCELERATOR_SUCCESS_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_RAID_ACCELERATOR_SUCCESS_REPLY_DESCRIPTOR</span><span class="p">,</span>
  <span class="n">Mpi2RAIDAcceleratorSuccessReplyDescriptor_t</span><span class="p">,</span>
  <span class="n">MPI2_POINTER</span> <span class="n">pMpi2RAIDAcceleratorSuccessReplyDescriptor_t</span><span class="p">;</span>


<span class="cm">/* union of Reply Descriptors */</span>
<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_REPLY_DESCRIPTORS_UNION</span>
<span class="p">{</span>
    <span class="n">MPI2_DEFAULT_REPLY_DESCRIPTOR</span>                   <span class="n">Default</span><span class="p">;</span>
    <span class="n">MPI2_ADDRESS_REPLY_DESCRIPTOR</span>                   <span class="n">AddressReply</span><span class="p">;</span>
    <span class="n">MPI2_SCSI_IO_SUCCESS_REPLY_DESCRIPTOR</span>           <span class="n">SCSIIOSuccess</span><span class="p">;</span>
    <span class="n">MPI2_TARGETASSIST_SUCCESS_REPLY_DESCRIPTOR</span>      <span class="n">TargetAssistSuccess</span><span class="p">;</span>
    <span class="n">MPI2_TARGET_COMMAND_BUFFER_REPLY_DESCRIPTOR</span>     <span class="n">TargetCommandBuffer</span><span class="p">;</span>
    <span class="n">MPI2_RAID_ACCELERATOR_SUCCESS_REPLY_DESCRIPTOR</span>  <span class="n">RAIDAcceleratorSuccess</span><span class="p">;</span>
    <span class="n">U64</span>                                             <span class="n">Words</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_REPLY_DESCRIPTORS_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_REPLY_DESCRIPTORS_UNION</span><span class="p">,</span>
<span class="n">Mpi2ReplyDescriptorsUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2ReplyDescriptorsUnion_t</span><span class="p">;</span>



<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        Message Functions</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cp">#define MPI2_FUNCTION_SCSI_IO_REQUEST               (0x00) </span><span class="cm">/* SCSI IO */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_SCSI_TASK_MGMT                (0x01) </span><span class="cm">/* SCSI Task Management */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_IOC_INIT                      (0x02) </span><span class="cm">/* IOC Init */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_IOC_FACTS                     (0x03) </span><span class="cm">/* IOC Facts */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_CONFIG                        (0x04) </span><span class="cm">/* Configuration */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_PORT_FACTS                    (0x05) </span><span class="cm">/* Port Facts */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_PORT_ENABLE                   (0x06) </span><span class="cm">/* Port Enable */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_EVENT_NOTIFICATION            (0x07) </span><span class="cm">/* Event Notification */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_EVENT_ACK                     (0x08) </span><span class="cm">/* Event Acknowledge */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_FW_DOWNLOAD                   (0x09) </span><span class="cm">/* FW Download */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_TARGET_ASSIST                 (0x0B) </span><span class="cm">/* Target Assist */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_TARGET_STATUS_SEND            (0x0C) </span><span class="cm">/* Target Status Send */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_TARGET_MODE_ABORT             (0x0D) </span><span class="cm">/* Target Mode Abort */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_FW_UPLOAD                     (0x12) </span><span class="cm">/* FW Upload */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_RAID_ACTION                   (0x15) </span><span class="cm">/* RAID Action */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_RAID_SCSI_IO_PASSTHROUGH      (0x16) </span><span class="cm">/* SCSI IO RAID Passthrough */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_TOOLBOX                       (0x17) </span><span class="cm">/* Toolbox */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_SCSI_ENCLOSURE_PROCESSOR      (0x18) </span><span class="cm">/* SCSI Enclosure Processor */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_SMP_PASSTHROUGH               (0x1A) </span><span class="cm">/* SMP Passthrough */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_SAS_IO_UNIT_CONTROL           (0x1B) </span><span class="cm">/* SAS IO Unit Control */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_SATA_PASSTHROUGH              (0x1C) </span><span class="cm">/* SATA Passthrough */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_DIAG_BUFFER_POST              (0x1D) </span><span class="cm">/* Diagnostic Buffer Post */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_DIAG_RELEASE                  (0x1E) </span><span class="cm">/* Diagnostic Release */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_TARGET_CMD_BUF_BASE_POST      (0x24) </span><span class="cm">/* Target Command Buffer Post Base */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_TARGET_CMD_BUF_LIST_POST      (0x25) </span><span class="cm">/* Target Command Buffer Post List */</span><span class="cp"></span>
<span class="cp">#define MPI2_FUNCTION_RAID_ACCELERATOR              (0x2C) </span><span class="cm">/* RAID Accelerator*/</span><span class="cp"></span>
<span class="cm">/* Host Based Discovery Action */</span>
<span class="cp">#define MPI2_FUNCTION_HOST_BASED_DISCOVERY_ACTION   (0x2F)</span>
<span class="cm">/* Power Management Control */</span>
<span class="cp">#define MPI2_FUNCTION_PWR_MGMT_CONTROL              (0x30)</span>
<span class="cm">/* Send Host Message */</span>
<span class="cp">#define MPI2_FUNCTION_SEND_HOST_MESSAGE             (0x31)</span>
<span class="cm">/* beginning of product-specific range */</span>
<span class="cp">#define MPI2_FUNCTION_MIN_PRODUCT_SPECIFIC          (0xF0)</span>
<span class="cm">/* end of product-specific range */</span>
<span class="cp">#define MPI2_FUNCTION_MAX_PRODUCT_SPECIFIC          (0xFF)</span>




<span class="cm">/* Doorbell functions */</span>
<span class="cp">#define MPI2_FUNCTION_IOC_MESSAGE_UNIT_RESET        (0x40)</span>
<span class="cp">#define MPI2_FUNCTION_HANDSHAKE                     (0x42)</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        IOC Status Values</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/* mask for IOCStatus status value */</span>
<span class="cp">#define MPI2_IOCSTATUS_MASK                     (0x7FFF)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  Common IOCStatus values for all replies</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_SUCCESS                      (0x0000)</span>
<span class="cp">#define MPI2_IOCSTATUS_INVALID_FUNCTION             (0x0001)</span>
<span class="cp">#define MPI2_IOCSTATUS_BUSY                         (0x0002)</span>
<span class="cp">#define MPI2_IOCSTATUS_INVALID_SGL                  (0x0003)</span>
<span class="cp">#define MPI2_IOCSTATUS_INTERNAL_ERROR               (0x0004)</span>
<span class="cp">#define MPI2_IOCSTATUS_INVALID_VPID                 (0x0005)</span>
<span class="cp">#define MPI2_IOCSTATUS_INSUFFICIENT_RESOURCES       (0x0006)</span>
<span class="cp">#define MPI2_IOCSTATUS_INVALID_FIELD                (0x0007)</span>
<span class="cp">#define MPI2_IOCSTATUS_INVALID_STATE                (0x0008)</span>
<span class="cp">#define MPI2_IOCSTATUS_OP_STATE_NOT_SUPPORTED       (0x0009)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  Config IOCStatus values</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_CONFIG_INVALID_ACTION        (0x0020)</span>
<span class="cp">#define MPI2_IOCSTATUS_CONFIG_INVALID_TYPE          (0x0021)</span>
<span class="cp">#define MPI2_IOCSTATUS_CONFIG_INVALID_PAGE          (0x0022)</span>
<span class="cp">#define MPI2_IOCSTATUS_CONFIG_INVALID_DATA          (0x0023)</span>
<span class="cp">#define MPI2_IOCSTATUS_CONFIG_NO_DEFAULTS           (0x0024)</span>
<span class="cp">#define MPI2_IOCSTATUS_CONFIG_CANT_COMMIT           (0x0025)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  SCSI IO Reply</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_SCSI_RECOVERED_ERROR         (0x0040)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_INVALID_DEVHANDLE       (0x0042)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_DEVICE_NOT_THERE        (0x0043)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_DATA_OVERRUN            (0x0044)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_DATA_UNDERRUN           (0x0045)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_IO_DATA_ERROR           (0x0046)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_PROTOCOL_ERROR          (0x0047)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_TASK_TERMINATED         (0x0048)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_RESIDUAL_MISMATCH       (0x0049)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_TASK_MGMT_FAILED        (0x004A)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_IOC_TERMINATED          (0x004B)</span>
<span class="cp">#define MPI2_IOCSTATUS_SCSI_EXT_TERMINATED          (0x004C)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  For use by SCSI Initiator and SCSI Target end-to-end data protection</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_EEDP_GUARD_ERROR             (0x004D)</span>
<span class="cp">#define MPI2_IOCSTATUS_EEDP_REF_TAG_ERROR           (0x004E)</span>
<span class="cp">#define MPI2_IOCSTATUS_EEDP_APP_TAG_ERROR           (0x004F)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  SCSI Target values</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_TARGET_INVALID_IO_INDEX      (0x0062)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_ABORTED               (0x0063)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_NO_CONN_RETRYABLE     (0x0064)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_NO_CONNECTION         (0x0065)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_XFER_COUNT_MISMATCH   (0x006A)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_DATA_OFFSET_ERROR     (0x006D)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_TOO_MUCH_WRITE_DATA   (0x006E)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_IU_TOO_SHORT          (0x006F)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_ACK_NAK_TIMEOUT       (0x0070)</span>
<span class="cp">#define MPI2_IOCSTATUS_TARGET_NAK_RECEIVED          (0x0071)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  Serial Attached SCSI values</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_SAS_SMP_REQUEST_FAILED       (0x0090)</span>
<span class="cp">#define MPI2_IOCSTATUS_SAS_SMP_DATA_OVERRUN         (0x0091)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  Diagnostic Buffer Post / Diagnostic Release values</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_DIAGNOSTIC_RELEASED          (0x00A0)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  RAID Accelerator values</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_RAID_ACCEL_ERROR             (0x00B0)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  IOCStatus flag to indicate that log info is available</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCSTATUS_FLAG_LOG_INFO_AVAILABLE      (0x8000)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  IOCLogInfo Types</span>
<span class="cm">****************************************************************************/</span>

<span class="cp">#define MPI2_IOCLOGINFO_TYPE_MASK               (0xF0000000)</span>
<span class="cp">#define MPI2_IOCLOGINFO_TYPE_SHIFT              (28)</span>
<span class="cp">#define MPI2_IOCLOGINFO_TYPE_NONE               (0x0)</span>
<span class="cp">#define MPI2_IOCLOGINFO_TYPE_SCSI               (0x1)</span>
<span class="cp">#define MPI2_IOCLOGINFO_TYPE_FC                 (0x2)</span>
<span class="cp">#define MPI2_IOCLOGINFO_TYPE_SAS                (0x3)</span>
<span class="cp">#define MPI2_IOCLOGINFO_TYPE_ISCSI              (0x4)</span>
<span class="cp">#define MPI2_IOCLOGINFO_LOG_DATA_MASK           (0x0FFFFFFF)</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        Standard Message Structures</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">* Request Message Header for all request messages</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_REQUEST_HEADER</span>
<span class="p">{</span>
    <span class="n">U16</span>             <span class="n">FunctionDependent1</span><span class="p">;</span>         <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>              <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>             <span class="n">FunctionDependent2</span><span class="p">;</span>         <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>              <span class="n">FunctionDependent3</span><span class="p">;</span>         <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>              <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>              <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>              <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>             <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
<span class="p">}</span> <span class="n">MPI2_REQUEST_HEADER</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_REQUEST_HEADER</span><span class="p">,</span>
  <span class="n">MPI2RequestHeader_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMPI2RequestHeader_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  Default Reply</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_DEFAULT_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>             <span class="n">FunctionDependent1</span><span class="p">;</span>         <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>              <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>              <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 0x03 */</span>
    <span class="n">U16</span>             <span class="n">FunctionDependent2</span><span class="p">;</span>         <span class="cm">/* 0x04 */</span>
    <span class="n">U8</span>              <span class="n">FunctionDependent3</span><span class="p">;</span>         <span class="cm">/* 0x06 */</span>
    <span class="n">U8</span>              <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 0x07 */</span>
    <span class="n">U8</span>              <span class="n">VP_ID</span><span class="p">;</span>                      <span class="cm">/* 0x08 */</span>
    <span class="n">U8</span>              <span class="n">VF_ID</span><span class="p">;</span>                      <span class="cm">/* 0x09 */</span>
    <span class="n">U16</span>             <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 0x0A */</span>
    <span class="n">U16</span>             <span class="n">FunctionDependent5</span><span class="p">;</span>         <span class="cm">/* 0x0C */</span>
    <span class="n">U16</span>             <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0x0E */</span>
    <span class="n">U32</span>             <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 0x10 */</span>
<span class="p">}</span> <span class="n">MPI2_DEFAULT_REPLY</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_DEFAULT_REPLY</span><span class="p">,</span>
  <span class="n">MPI2DefaultReply_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMPI2DefaultReply_t</span><span class="p">;</span>


<span class="cm">/* common version structure/union used in messages and configuration pages */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_VERSION_STRUCT</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Dev</span><span class="p">;</span>                        <span class="cm">/* 0x00 */</span>
    <span class="n">U8</span>                      <span class="n">Unit</span><span class="p">;</span>                       <span class="cm">/* 0x01 */</span>
    <span class="n">U8</span>                      <span class="n">Minor</span><span class="p">;</span>                      <span class="cm">/* 0x02 */</span>
    <span class="n">U8</span>                      <span class="n">Major</span><span class="p">;</span>                      <span class="cm">/* 0x03 */</span>
<span class="p">}</span> <span class="n">MPI2_VERSION_STRUCT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_VERSION_UNION</span>
<span class="p">{</span>
    <span class="n">MPI2_VERSION_STRUCT</span>     <span class="n">Struct</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">Word</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_VERSION_UNION</span><span class="p">;</span>


<span class="cm">/* LUN field defines, common to many structures */</span>
<span class="cp">#define MPI2_LUN_FIRST_LEVEL_ADDRESSING             (0x0000FFFF)</span>
<span class="cp">#define MPI2_LUN_SECOND_LEVEL_ADDRESSING            (0xFFFF0000)</span>
<span class="cp">#define MPI2_LUN_THIRD_LEVEL_ADDRESSING             (0x0000FFFF)</span>
<span class="cp">#define MPI2_LUN_FOURTH_LEVEL_ADDRESSING            (0xFFFF0000)</span>
<span class="cp">#define MPI2_LUN_LEVEL_1_WORD                       (0xFF00)</span>
<span class="cp">#define MPI2_LUN_LEVEL_1_DWORD                      (0x0000FF00)</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        Fusion-MPT MPI Scatter Gather Elements</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  MPI Simple Element structures</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_SIMPLE32</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">FlagsLength</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">Address</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_SIMPLE32</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_SIMPLE32</span><span class="p">,</span>
  <span class="n">Mpi2SGESimple32_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGESimple32_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_SIMPLE64</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">FlagsLength</span><span class="p">;</span>
    <span class="n">U64</span>                     <span class="n">Address</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_SIMPLE64</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_SIMPLE64</span><span class="p">,</span>
  <span class="n">Mpi2SGESimple64_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGESimple64_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_SIMPLE_UNION</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">FlagsLength</span><span class="p">;</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">U32</span>                 <span class="n">Address32</span><span class="p">;</span>
        <span class="n">U64</span>                 <span class="n">Address64</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_SIMPLE_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_SIMPLE_UNION</span><span class="p">,</span>
  <span class="n">Mpi2SGESimpleUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGESimpleUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  MPI Chain Element structures</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_CHAIN32</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Length</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">NextChainOffset</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">Address</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_CHAIN32</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_CHAIN32</span><span class="p">,</span>
  <span class="n">Mpi2SGEChain32_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGEChain32_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_CHAIN64</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Length</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">NextChainOffset</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="n">U64</span>                     <span class="n">Address</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_CHAIN64</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_CHAIN64</span><span class="p">,</span>
  <span class="n">Mpi2SGEChain64_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGEChain64_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_CHAIN_UNION</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Length</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">NextChainOffset</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">U32</span>                 <span class="n">Address32</span><span class="p">;</span>
        <span class="n">U64</span>                 <span class="n">Address64</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_CHAIN_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_CHAIN_UNION</span><span class="p">,</span>
  <span class="n">Mpi2SGEChainUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGEChainUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  MPI Transaction Context Element structures</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_TRANSACTION32</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">ContextSize</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">DetailsLength</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">TransactionContext</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
    <span class="n">U32</span>                     <span class="n">TransactionDetails</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">MPI2_SGE_TRANSACTION32</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_TRANSACTION32</span><span class="p">,</span>
  <span class="n">Mpi2SGETransaction32_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGETransaction32_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_TRANSACTION64</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">ContextSize</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">DetailsLength</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">TransactionContext</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
    <span class="n">U32</span>                     <span class="n">TransactionDetails</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">MPI2_SGE_TRANSACTION64</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_TRANSACTION64</span><span class="p">,</span>
  <span class="n">Mpi2SGETransaction64_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGETransaction64_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_TRANSACTION96</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">ContextSize</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">DetailsLength</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">TransactionContext</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
    <span class="n">U32</span>                     <span class="n">TransactionDetails</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">MPI2_SGE_TRANSACTION96</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_TRANSACTION96</span><span class="p">,</span>
  <span class="n">Mpi2SGETransaction96_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGETransaction96_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_TRANSACTION128</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">ContextSize</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">DetailsLength</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">TransactionContext</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
    <span class="n">U32</span>                     <span class="n">TransactionDetails</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">MPI2_SGE_TRANSACTION128</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_TRANSACTION128</span><span class="p">,</span>
  <span class="n">Mpi2SGETransaction_t128</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGETransaction_t128</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_TRANSACTION_UNION</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">ContextSize</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">DetailsLength</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">U32</span>                 <span class="n">TransactionContext32</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="n">U32</span>                 <span class="n">TransactionContext64</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="n">U32</span>                 <span class="n">TransactionContext96</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
        <span class="n">U32</span>                 <span class="n">TransactionContext128</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">TransactionDetails</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">MPI2_SGE_TRANSACTION_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_TRANSACTION_UNION</span><span class="p">,</span>
  <span class="n">Mpi2SGETransactionUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGETransactionUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  MPI SGE union for IO SGL&#39;s</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_MPI_SGE_IO_UNION</span>
<span class="p">{</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">MPI2_SGE_SIMPLE_UNION</span>   <span class="n">Simple</span><span class="p">;</span>
        <span class="n">MPI2_SGE_CHAIN_UNION</span>    <span class="n">Chain</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_MPI_SGE_IO_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_MPI_SGE_IO_UNION</span><span class="p">,</span>
  <span class="n">Mpi2MpiSGEIOUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2MpiSGEIOUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  MPI SGE union for SGL&#39;s with Simple and Transaction elements</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_SGE_TRANS_SIMPLE_UNION</span>
<span class="p">{</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">MPI2_SGE_SIMPLE_UNION</span>       <span class="n">Simple</span><span class="p">;</span>
        <span class="n">MPI2_SGE_TRANSACTION_UNION</span>  <span class="n">Transaction</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_TRANS_SIMPLE_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_TRANS_SIMPLE_UNION</span><span class="p">,</span>
  <span class="n">Mpi2SGETransSimpleUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGETransSimpleUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  All MPI SGE types union</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_MPI_SGE_UNION</span>
<span class="p">{</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">MPI2_SGE_SIMPLE_UNION</span>       <span class="n">Simple</span><span class="p">;</span>
        <span class="n">MPI2_SGE_CHAIN_UNION</span>        <span class="n">Chain</span><span class="p">;</span>
        <span class="n">MPI2_SGE_TRANSACTION_UNION</span>  <span class="n">Transaction</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_MPI_SGE_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_MPI_SGE_UNION</span><span class="p">,</span>
  <span class="n">Mpi2MpiSgeUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2MpiSgeUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  MPI SGE field definition and masks</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* Flags field bit definitions */</span>

<span class="cp">#define MPI2_SGE_FLAGS_LAST_ELEMENT             (0x80)</span>
<span class="cp">#define MPI2_SGE_FLAGS_END_OF_BUFFER            (0x40)</span>
<span class="cp">#define MPI2_SGE_FLAGS_ELEMENT_TYPE_MASK        (0x30)</span>
<span class="cp">#define MPI2_SGE_FLAGS_LOCAL_ADDRESS            (0x08)</span>
<span class="cp">#define MPI2_SGE_FLAGS_DIRECTION                (0x04)</span>
<span class="cp">#define MPI2_SGE_FLAGS_ADDRESS_SIZE             (0x02)</span>
<span class="cp">#define MPI2_SGE_FLAGS_END_OF_LIST              (0x01)</span>

<span class="cp">#define MPI2_SGE_FLAGS_SHIFT                    (24)</span>

<span class="cp">#define MPI2_SGE_LENGTH_MASK                    (0x00FFFFFF)</span>
<span class="cp">#define MPI2_SGE_CHAIN_LENGTH_MASK              (0x0000FFFF)</span>

<span class="cm">/* Element Type */</span>

<span class="cp">#define MPI2_SGE_FLAGS_TRANSACTION_ELEMENT      (0x00)</span>
<span class="cp">#define MPI2_SGE_FLAGS_SIMPLE_ELEMENT           (0x10)</span>
<span class="cp">#define MPI2_SGE_FLAGS_CHAIN_ELEMENT            (0x30)</span>
<span class="cp">#define MPI2_SGE_FLAGS_ELEMENT_MASK             (0x30)</span>

<span class="cm">/* Address location */</span>

<span class="cp">#define MPI2_SGE_FLAGS_SYSTEM_ADDRESS           (0x00)</span>

<span class="cm">/* Direction */</span>

<span class="cp">#define MPI2_SGE_FLAGS_IOC_TO_HOST              (0x00)</span>
<span class="cp">#define MPI2_SGE_FLAGS_HOST_TO_IOC              (0x04)</span>

<span class="cp">#define MPI2_SGE_FLAGS_DEST                     (MPI2_SGE_FLAGS_IOC_TO_HOST)</span>
<span class="cp">#define MPI2_SGE_FLAGS_SOURCE                   (MPI2_SGE_FLAGS_HOST_TO_IOC)</span>

<span class="cm">/* Address Size */</span>

<span class="cp">#define MPI2_SGE_FLAGS_32_BIT_ADDRESSING        (0x00)</span>
<span class="cp">#define MPI2_SGE_FLAGS_64_BIT_ADDRESSING        (0x02)</span>

<span class="cm">/* Context Size */</span>

<span class="cp">#define MPI2_SGE_FLAGS_32_BIT_CONTEXT           (0x00)</span>
<span class="cp">#define MPI2_SGE_FLAGS_64_BIT_CONTEXT           (0x02)</span>
<span class="cp">#define MPI2_SGE_FLAGS_96_BIT_CONTEXT           (0x04)</span>
<span class="cp">#define MPI2_SGE_FLAGS_128_BIT_CONTEXT          (0x06)</span>

<span class="cp">#define MPI2_SGE_CHAIN_OFFSET_MASK              (0x00FF0000)</span>
<span class="cp">#define MPI2_SGE_CHAIN_OFFSET_SHIFT             (16)</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  MPI SGE operation Macros</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* SIMPLE FlagsLength manipulations... */</span>
<span class="cp">#define MPI2_SGE_SET_FLAGS(f)          ((U32)(f) &lt;&lt; MPI2_SGE_FLAGS_SHIFT)</span>
<span class="cp">#define MPI2_SGE_GET_FLAGS(f)          (((f) &amp; ~MPI2_SGE_LENGTH_MASK) &gt;&gt; MPI2_SGE_FLAGS_SHIFT)</span>
<span class="cp">#define MPI2_SGE_LENGTH(f)             ((f) &amp; MPI2_SGE_LENGTH_MASK)</span>
<span class="cp">#define MPI2_SGE_CHAIN_LENGTH(f)       ((f) &amp; MPI2_SGE_CHAIN_LENGTH_MASK)</span>

<span class="cp">#define MPI2_SGE_SET_FLAGS_LENGTH(f,l) (MPI2_SGE_SET_FLAGS(f) | MPI2_SGE_LENGTH(l))</span>

<span class="cp">#define MPI2_pSGE_GET_FLAGS(psg)            MPI2_SGE_GET_FLAGS((psg)-&gt;FlagsLength)</span>
<span class="cp">#define MPI2_pSGE_GET_LENGTH(psg)           MPI2_SGE_LENGTH((psg)-&gt;FlagsLength)</span>
<span class="cp">#define MPI2_pSGE_SET_FLAGS_LENGTH(psg,f,l) (psg)-&gt;FlagsLength = MPI2_SGE_SET_FLAGS_LENGTH(f,l)</span>

<span class="cm">/* CAUTION - The following are READ-MODIFY-WRITE! */</span>
<span class="cp">#define MPI2_pSGE_SET_FLAGS(psg,f)      (psg)-&gt;FlagsLength |= MPI2_SGE_SET_FLAGS(f)</span>
<span class="cp">#define MPI2_pSGE_SET_LENGTH(psg,l)     (psg)-&gt;FlagsLength |= MPI2_SGE_LENGTH(l)</span>

<span class="cp">#define MPI2_GET_CHAIN_OFFSET(x)    ((x &amp; MPI2_SGE_CHAIN_OFFSET_MASK) &gt;&gt; MPI2_SGE_CHAIN_OFFSET_SHIFT)</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        Fusion-MPT IEEE Scatter Gather Elements</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  IEEE Simple Element structures</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_IEEE_SGE_SIMPLE32</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">Address</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">FlagsLength</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_IEEE_SGE_SIMPLE32</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IEEE_SGE_SIMPLE32</span><span class="p">,</span>
  <span class="n">Mpi2IeeeSgeSimple32_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IeeeSgeSimple32_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_IEEE_SGE_SIMPLE64</span>
<span class="p">{</span>
    <span class="n">U64</span>                     <span class="n">Address</span><span class="p">;</span>
    <span class="n">U32</span>                     <span class="n">Length</span><span class="p">;</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_IEEE_SGE_SIMPLE64</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IEEE_SGE_SIMPLE64</span><span class="p">,</span>
  <span class="n">Mpi2IeeeSgeSimple64_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IeeeSgeSimple64_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_IEEE_SGE_SIMPLE_UNION</span>
<span class="p">{</span>
    <span class="n">MPI2_IEEE_SGE_SIMPLE32</span>  <span class="n">Simple32</span><span class="p">;</span>
    <span class="n">MPI2_IEEE_SGE_SIMPLE64</span>  <span class="n">Simple64</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_IEEE_SGE_SIMPLE_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IEEE_SGE_SIMPLE_UNION</span><span class="p">,</span>
  <span class="n">Mpi2IeeeSgeSimpleUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IeeeSgeSimpleUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  IEEE Chain Element structures</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="n">MPI2_IEEE_SGE_SIMPLE32</span>  <span class="n">MPI2_IEEE_SGE_CHAIN32</span><span class="p">;</span>

<span class="k">typedef</span> <span class="n">MPI2_IEEE_SGE_SIMPLE64</span>  <span class="n">MPI2_IEEE_SGE_CHAIN64</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_IEEE_SGE_CHAIN_UNION</span>
<span class="p">{</span>
    <span class="n">MPI2_IEEE_SGE_CHAIN32</span>   <span class="n">Chain32</span><span class="p">;</span>
    <span class="n">MPI2_IEEE_SGE_CHAIN64</span>   <span class="n">Chain64</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_IEEE_SGE_CHAIN_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IEEE_SGE_CHAIN_UNION</span><span class="p">,</span>
  <span class="n">Mpi2IeeeSgeChainUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IeeeSgeChainUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  All IEEE SGE types union</span>
<span class="cm">****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI2_IEEE_SGE_UNION</span>
<span class="p">{</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">MPI2_IEEE_SGE_SIMPLE_UNION</span>  <span class="n">Simple</span><span class="p">;</span>
        <span class="n">MPI2_IEEE_SGE_CHAIN_UNION</span>   <span class="n">Chain</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_IEEE_SGE_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_IEEE_SGE_UNION</span><span class="p">,</span>
  <span class="n">Mpi2IeeeSgeUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2IeeeSgeUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*  IEEE SGE field definitions and masks</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* Flags field bit definitions */</span>

<span class="cp">#define MPI2_IEEE_SGE_FLAGS_ELEMENT_TYPE_MASK   (0x80)</span>

<span class="cp">#define MPI2_IEEE32_SGE_FLAGS_SHIFT             (24)</span>

<span class="cp">#define MPI2_IEEE32_SGE_LENGTH_MASK             (0x00FFFFFF)</span>

<span class="cm">/* Element Type */</span>

<span class="cp">#define MPI2_IEEE_SGE_FLAGS_SIMPLE_ELEMENT      (0x00)</span>
<span class="cp">#define MPI2_IEEE_SGE_FLAGS_CHAIN_ELEMENT       (0x80)</span>

<span class="cm">/* Data Location Address Space */</span>

<span class="cp">#define MPI2_IEEE_SGE_FLAGS_ADDR_MASK           (0x03)</span>
<span class="cp">#define MPI2_IEEE_SGE_FLAGS_SYSTEM_ADDR         (0x00)</span>
						<span class="cm">/* IEEE Simple Element only */</span>
<span class="cp">#define MPI2_IEEE_SGE_FLAGS_IOCDDR_ADDR         (0x01)</span>
						<span class="cm">/* IEEE Simple Element only */</span>
<span class="cp">#define MPI2_IEEE_SGE_FLAGS_IOCPLB_ADDR         (0x02)</span>
<span class="cp">#define MPI2_IEEE_SGE_FLAGS_IOCPLBNTA_ADDR      (0x03)</span>
						<span class="cm">/* IEEE Simple Element only */</span>
<span class="cp">#define MPI2_IEEE_SGE_FLAGS_SYSTEMPLBPCI_ADDR   (0x03)</span>
						<span class="cm">/* IEEE Chain Element only */</span>
<span class="cp">#define MPI2_IEEE_SGE_FLAGS_SYSTEMPLBCPI_ADDR   \</span>
<span class="cp">	(MPI2_IEEE_SGE_FLAGS_SYSTEMPLBPCI_ADDR) </span><span class="cm">/* typo in name */</span><span class="cp"></span>

<span class="cm">/****************************************************************************</span>
<span class="cm">*  IEEE SGE operation Macros</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* SIMPLE FlagsLength manipulations... */</span>
<span class="cp">#define MPI2_IEEE32_SGE_SET_FLAGS(f)     ((U32)(f) &lt;&lt; MPI2_IEEE32_SGE_FLAGS_SHIFT)</span>
<span class="cp">#define MPI2_IEEE32_SGE_GET_FLAGS(f)     (((f) &amp; ~MPI2_IEEE32_SGE_LENGTH_MASK) &gt;&gt; MPI2_IEEE32_SGE_FLAGS_SHIFT)</span>
<span class="cp">#define MPI2_IEEE32_SGE_LENGTH(f)        ((f) &amp; MPI2_IEEE32_SGE_LENGTH_MASK)</span>

<span class="cp">#define MPI2_IEEE32_SGE_SET_FLAGS_LENGTH(f, l)      (MPI2_IEEE32_SGE_SET_FLAGS(f) | MPI2_IEEE32_SGE_LENGTH(l))</span>

<span class="cp">#define MPI2_IEEE32_pSGE_GET_FLAGS(psg)             MPI2_IEEE32_SGE_GET_FLAGS((psg)-&gt;FlagsLength)</span>
<span class="cp">#define MPI2_IEEE32_pSGE_GET_LENGTH(psg)            MPI2_IEEE32_SGE_LENGTH((psg)-&gt;FlagsLength)</span>
<span class="cp">#define MPI2_IEEE32_pSGE_SET_FLAGS_LENGTH(psg,f,l)  (psg)-&gt;FlagsLength = MPI2_IEEE32_SGE_SET_FLAGS_LENGTH(f,l)</span>

<span class="cm">/* CAUTION - The following are READ-MODIFY-WRITE! */</span>
<span class="cp">#define MPI2_IEEE32_pSGE_SET_FLAGS(psg,f)    (psg)-&gt;FlagsLength |= MPI2_IEEE32_SGE_SET_FLAGS(f)</span>
<span class="cp">#define MPI2_IEEE32_pSGE_SET_LENGTH(psg,l)   (psg)-&gt;FlagsLength |= MPI2_IEEE32_SGE_LENGTH(l)</span>




<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        Fusion-MPT MPI/IEEE Scatter Gather Unions</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_SIMPLE_SGE_UNION</span>
<span class="p">{</span>
    <span class="n">MPI2_SGE_SIMPLE_UNION</span>       <span class="n">MpiSimple</span><span class="p">;</span>
    <span class="n">MPI2_IEEE_SGE_SIMPLE_UNION</span>  <span class="n">IeeeSimple</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SIMPLE_SGE_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SIMPLE_SGE_UNION</span><span class="p">,</span>
  <span class="n">Mpi2SimpleSgeUntion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SimpleSgeUntion_t</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI2_SGE_IO_UNION</span>
<span class="p">{</span>
    <span class="n">MPI2_SGE_SIMPLE_UNION</span>       <span class="n">MpiSimple</span><span class="p">;</span>
    <span class="n">MPI2_SGE_CHAIN_UNION</span>        <span class="n">MpiChain</span><span class="p">;</span>
    <span class="n">MPI2_IEEE_SGE_SIMPLE_UNION</span>  <span class="n">IeeeSimple</span><span class="p">;</span>
    <span class="n">MPI2_IEEE_SGE_CHAIN_UNION</span>   <span class="n">IeeeChain</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI2_SGE_IO_UNION</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">PTR_MPI2_SGE_IO_UNION</span><span class="p">,</span>
  <span class="n">Mpi2SGEIOUnion_t</span><span class="p">,</span> <span class="n">MPI2_POINTER</span> <span class="n">pMpi2SGEIOUnion_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*  Values for SGLFlags field, used in many request messages with an SGL</span>
<span class="cm">*</span>
<span class="cm">****************************************************************************/</span>

<span class="cm">/* values for MPI SGL Data Location Address Space subfield */</span>
<span class="cp">#define MPI2_SGLFLAGS_ADDRESS_SPACE_MASK            (0x0C)</span>
<span class="cp">#define MPI2_SGLFLAGS_SYSTEM_ADDRESS_SPACE          (0x00)</span>
<span class="cp">#define MPI2_SGLFLAGS_IOCDDR_ADDRESS_SPACE          (0x04)</span>
<span class="cp">#define MPI2_SGLFLAGS_IOCPLB_ADDRESS_SPACE          (0x08)</span>
<span class="cp">#define MPI2_SGLFLAGS_IOCPLBNTA_ADDRESS_SPACE       (0x0C)</span>
<span class="cm">/* values for SGL Type subfield */</span>
<span class="cp">#define MPI2_SGLFLAGS_SGL_TYPE_MASK                 (0x03)</span>
<span class="cp">#define MPI2_SGLFLAGS_SGL_TYPE_MPI                  (0x00)</span>
<span class="cp">#define MPI2_SGLFLAGS_SGL_TYPE_IEEE32               (0x01)</span>
<span class="cp">#define MPI2_SGLFLAGS_SGL_TYPE_IEEE64               (0x02)</span>


<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
