<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › bfa › bfa_fc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>bfa_fc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2005-2010 Brocade Communications Systems, Inc.</span>
<span class="cm"> * All rights reserved</span>
<span class="cm"> * www.brocade.com</span>
<span class="cm"> *</span>
<span class="cm"> * Linux driver for Brocade Fibre Channel Host Bus Adapter.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms of the GNU General Public License (GPL) Version 2 as</span>
<span class="cm"> * published by the Free Software Foundation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but</span>
<span class="cm"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __BFA_FC_H__</span>
<span class="cp">#define __BFA_FC_H__</span>

<span class="cp">#include &quot;bfad_drv.h&quot;</span>

<span class="k">typedef</span> <span class="n">u64</span> <span class="n">wwn_t</span><span class="p">;</span>

<span class="cp">#define WWN_NULL	(0)</span>
<span class="cp">#define FC_SYMNAME_MAX	256	</span><span class="cm">/*  max name server symbolic name size */</span><span class="cp"></span>

<span class="cp">#pragma pack(1)</span>

<span class="cp">#define MAC_ADDRLEN	(6)</span>
<span class="k">struct</span> <span class="n">mac_s</span> <span class="p">{</span> <span class="n">u8</span> <span class="n">mac</span><span class="p">[</span><span class="n">MAC_ADDRLEN</span><span class="p">];</span> <span class="p">};</span>
<span class="cp">#define mac_t struct mac_s</span>

<span class="cm">/*</span>
<span class="cm"> * generic SCSI cdb definition</span>
<span class="cm"> */</span>
<span class="cp">#define SCSI_MAX_CDBLEN     16</span>
<span class="k">struct</span> <span class="n">scsi_cdb_s</span> <span class="p">{</span>
	<span class="n">u8</span>         <span class="n">scsi_cdb</span><span class="p">[</span><span class="n">SCSI_MAX_CDBLEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* ------------------------------------------------------------</span>
<span class="cm"> * SCSI status byte values</span>
<span class="cm"> * ------------------------------------------------------------</span>
<span class="cm"> */</span>
<span class="cp">#define SCSI_STATUS_GOOD                   0x00</span>
<span class="cp">#define SCSI_STATUS_CHECK_CONDITION        0x02</span>
<span class="cp">#define SCSI_STATUS_CONDITION_MET          0x04</span>
<span class="cp">#define SCSI_STATUS_BUSY                   0x08</span>
<span class="cp">#define SCSI_STATUS_INTERMEDIATE           0x10</span>
<span class="cp">#define SCSI_STATUS_ICM                    0x14 </span><span class="cm">/* intermediate condition met */</span><span class="cp"></span>
<span class="cp">#define SCSI_STATUS_RESERVATION_CONFLICT   0x18</span>
<span class="cp">#define SCSI_STATUS_COMMAND_TERMINATED     0x22</span>
<span class="cp">#define SCSI_STATUS_QUEUE_FULL             0x28</span>
<span class="cp">#define SCSI_STATUS_ACA_ACTIVE             0x30</span>

<span class="cp">#define SCSI_MAX_ALLOC_LEN      0xFF    </span><span class="cm">/* maximum allocarion length */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Fibre Channel Header Structure (FCHS) definition</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fchs_s</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u32</span>        <span class="n">routing</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>	<span class="cm">/* routing bits */</span>
	<span class="n">u32</span>        <span class="n">cat_info</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>	<span class="cm">/* category info */</span>
<span class="cp">#else</span>
	<span class="n">u32</span>        <span class="n">cat_info</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>	<span class="cm">/* category info */</span>
	<span class="n">u32</span>        <span class="n">routing</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>	<span class="cm">/* routing bits */</span>
<span class="cp">#endif</span>
	<span class="n">u32</span>        <span class="n">d_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* destination identifier */</span>

	<span class="n">u32</span>        <span class="n">cs_ctl</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* class specific control */</span>
	<span class="n">u32</span>        <span class="n">s_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* source identifier */</span>

	<span class="n">u32</span>        <span class="n">type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* data structure type */</span>
	<span class="n">u32</span>        <span class="n">f_ctl</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* initial frame control */</span>

	<span class="n">u8</span>         <span class="n">seq_id</span><span class="p">;</span>	<span class="cm">/* sequence identifier */</span>
	<span class="n">u8</span>         <span class="n">df_ctl</span><span class="p">;</span>	<span class="cm">/* data field control */</span>
	<span class="n">u16</span>        <span class="n">seq_cnt</span><span class="p">;</span>	<span class="cm">/* sequence count */</span>

	<span class="n">__be16</span>     <span class="n">ox_id</span><span class="p">;</span>	<span class="cm">/* originator exchange ID */</span>
	<span class="n">u16</span>        <span class="n">rx_id</span><span class="p">;</span>	<span class="cm">/* responder exchange ID */</span>

	<span class="n">u32</span>        <span class="n">ro</span><span class="p">;</span>		<span class="cm">/* relative offset */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * routing bit definitions</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_RTG_FC4_DEV_DATA</span>	<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>	<span class="cm">/* FC-4 Device Data */</span>
	<span class="n">FC_RTG_EXT_LINK</span>		<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>	<span class="cm">/* Extended Link Data */</span>
	<span class="n">FC_RTG_FC4_LINK_DATA</span>	<span class="o">=</span> <span class="mh">0x3</span><span class="p">,</span>	<span class="cm">/* FC-4 Link Data */</span>
	<span class="n">FC_RTG_VIDEO_DATA</span>	<span class="o">=</span> <span class="mh">0x4</span><span class="p">,</span>	<span class="cm">/* Video Data */</span>
	<span class="n">FC_RTG_EXT_HDR</span>		<span class="o">=</span> <span class="mh">0x5</span><span class="p">,</span>	<span class="cm">/* VFT, IFR or Encapsuled */</span>
	<span class="n">FC_RTG_BASIC_LINK</span>	<span class="o">=</span> <span class="mh">0x8</span><span class="p">,</span>	<span class="cm">/* Basic Link data */</span>
	<span class="n">FC_RTG_LINK_CTRL</span>	<span class="o">=</span> <span class="mh">0xC</span><span class="p">,</span>	<span class="cm">/* Link Control */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * information category for extended link data and FC-4 Link Data</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_CAT_LD_REQUEST</span>	<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>	<span class="cm">/* Request */</span>
	<span class="n">FC_CAT_LD_REPLY</span>		<span class="o">=</span> <span class="mh">0x3</span><span class="p">,</span>	<span class="cm">/* Reply */</span>
	<span class="n">FC_CAT_LD_DIAG</span>		<span class="o">=</span> <span class="mh">0xF</span><span class="p">,</span>	<span class="cm">/* for DIAG use only */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * information category for extended headers (VFT, IFR or encapsulation)</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_CAT_VFT_HDR</span> <span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>	<span class="cm">/* Virtual fabric tagging header */</span>
	<span class="n">FC_CAT_IFR_HDR</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>	<span class="cm">/* Inter-Fabric routing header */</span>
	<span class="n">FC_CAT_ENC_HDR</span> <span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>	<span class="cm">/* Encapsulation header */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * information category for FC-4 device data</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_CAT_UNCATEG_INFO</span>	<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>	<span class="cm">/* Uncategorized information */</span>
	<span class="n">FC_CAT_SOLICIT_DATA</span>	<span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>	<span class="cm">/* Solicited Data */</span>
	<span class="n">FC_CAT_UNSOLICIT_CTRL</span>	<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>	<span class="cm">/* Unsolicited Control */</span>
	<span class="n">FC_CAT_SOLICIT_CTRL</span>	<span class="o">=</span> <span class="mh">0x3</span><span class="p">,</span>	<span class="cm">/* Solicited Control */</span>
	<span class="n">FC_CAT_UNSOLICIT_DATA</span>	<span class="o">=</span> <span class="mh">0x4</span><span class="p">,</span>	<span class="cm">/* Unsolicited Data */</span>
	<span class="n">FC_CAT_DATA_DESC</span>	<span class="o">=</span> <span class="mh">0x5</span><span class="p">,</span>	<span class="cm">/* Data Descriptor */</span>
	<span class="n">FC_CAT_UNSOLICIT_CMD</span>	<span class="o">=</span> <span class="mh">0x6</span><span class="p">,</span>	<span class="cm">/* Unsolicited Command */</span>
	<span class="n">FC_CAT_CMD_STATUS</span>	<span class="o">=</span> <span class="mh">0x7</span><span class="p">,</span>	<span class="cm">/* Command Status */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Type Field Definitions. FC-PH Section 18.5 pg. 165</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_TYPE_BLS</span>		<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>	<span class="cm">/* Basic Link Service */</span>
	<span class="n">FC_TYPE_ELS</span>		<span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>	<span class="cm">/* Extended Link Service */</span>
	<span class="n">FC_TYPE_IP</span>		<span class="o">=</span> <span class="mh">0x5</span><span class="p">,</span>	<span class="cm">/* IP */</span>
	<span class="n">FC_TYPE_FCP</span>		<span class="o">=</span> <span class="mh">0x8</span><span class="p">,</span>	<span class="cm">/* SCSI-FCP */</span>
	<span class="n">FC_TYPE_GPP</span>		<span class="o">=</span> <span class="mh">0x9</span><span class="p">,</span>	<span class="cm">/* SCSI_GPP */</span>
	<span class="n">FC_TYPE_SERVICES</span>	<span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>	<span class="cm">/* Fibre Channel Services */</span>
	<span class="n">FC_TYPE_FC_FSS</span>		<span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span>	<span class="cm">/* Fabric Switch Services */</span>
	<span class="n">FC_TYPE_FC_AL</span>		<span class="o">=</span> <span class="mh">0x23</span><span class="p">,</span>	<span class="cm">/* FC-AL */</span>
	<span class="n">FC_TYPE_FC_SNMP</span>		<span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span>	<span class="cm">/* FC-SNMP */</span>
	<span class="n">FC_TYPE_FC_SPINFAB</span>	<span class="o">=</span> <span class="mh">0xEE</span><span class="p">,</span>	<span class="cm">/* SPINFAB */</span>
	<span class="n">FC_TYPE_FC_DIAG</span>		<span class="o">=</span> <span class="mh">0xEF</span><span class="p">,</span>	<span class="cm">/* DIAG */</span>
	<span class="n">FC_TYPE_MAX</span>		<span class="o">=</span> <span class="mi">256</span><span class="p">,</span>	<span class="cm">/* 256 FC-4 types */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Frame Control Definitions. FC-PH Table-45. pg. 168</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FCTL_EC_ORIG</span> <span class="o">=</span> <span class="mh">0x000000</span><span class="p">,</span>	<span class="cm">/* exchange originator */</span>
	<span class="n">FCTL_EC_RESP</span> <span class="o">=</span> <span class="mh">0x800000</span><span class="p">,</span>	<span class="cm">/* exchange responder */</span>
	<span class="n">FCTL_SEQ_INI</span> <span class="o">=</span> <span class="mh">0x000000</span><span class="p">,</span>	<span class="cm">/* sequence initiator */</span>
	<span class="n">FCTL_SEQ_REC</span> <span class="o">=</span> <span class="mh">0x400000</span><span class="p">,</span>	<span class="cm">/* sequence recipient */</span>
	<span class="n">FCTL_FS_EXCH</span> <span class="o">=</span> <span class="mh">0x200000</span><span class="p">,</span>	<span class="cm">/* first sequence of xchg */</span>
	<span class="n">FCTL_LS_EXCH</span> <span class="o">=</span> <span class="mh">0x100000</span><span class="p">,</span>	<span class="cm">/* last sequence of xchg */</span>
	<span class="n">FCTL_END_SEQ</span> <span class="o">=</span> <span class="mh">0x080000</span><span class="p">,</span>	<span class="cm">/* last frame of sequence */</span>
	<span class="n">FCTL_SI_XFER</span> <span class="o">=</span> <span class="mh">0x010000</span><span class="p">,</span>	<span class="cm">/* seq initiative transfer */</span>
	<span class="n">FCTL_RO_PRESENT</span> <span class="o">=</span> <span class="mh">0x000008</span><span class="p">,</span>	<span class="cm">/* relative offset present */</span>
	<span class="n">FCTL_FILLBYTE_MASK</span> <span class="o">=</span> <span class="mh">0x000003</span>	<span class="cm">/* , fill byte mask */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Fabric Well Known Addresses</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_MIN_WELL_KNOWN_ADDR</span>		<span class="o">=</span> <span class="mh">0xFFFFF0</span><span class="p">,</span>
	<span class="n">FC_DOMAIN_CONTROLLER_MASK</span>	<span class="o">=</span> <span class="mh">0xFFFC00</span><span class="p">,</span>
	<span class="n">FC_ALIAS_SERVER</span>			<span class="o">=</span> <span class="mh">0xFFFFF8</span><span class="p">,</span>
	<span class="n">FC_MGMT_SERVER</span>			<span class="o">=</span> <span class="mh">0xFFFFFA</span><span class="p">,</span>
	<span class="n">FC_TIME_SERVER</span>			<span class="o">=</span> <span class="mh">0xFFFFFB</span><span class="p">,</span>
	<span class="n">FC_NAME_SERVER</span>			<span class="o">=</span> <span class="mh">0xFFFFFC</span><span class="p">,</span>
	<span class="n">FC_FABRIC_CONTROLLER</span>		<span class="o">=</span> <span class="mh">0xFFFFFD</span><span class="p">,</span>
	<span class="n">FC_FABRIC_PORT</span>			<span class="o">=</span> <span class="mh">0xFFFFFE</span><span class="p">,</span>
	<span class="n">FC_BROADCAST_SERVER</span>		<span class="o">=</span> <span class="mh">0xFFFFFF</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * domain/area/port defines</span>
<span class="cm"> */</span>
<span class="cp">#define FC_DOMAIN_MASK  0xFF0000</span>
<span class="cp">#define FC_DOMAIN_SHIFT 16</span>
<span class="cp">#define FC_AREA_MASK    0x00FF00</span>
<span class="cp">#define FC_AREA_SHIFT   8</span>
<span class="cp">#define FC_PORT_MASK    0x0000FF</span>
<span class="cp">#define FC_PORT_SHIFT   0</span>

<span class="cp">#define FC_GET_DOMAIN(p)	(((p) &amp; FC_DOMAIN_MASK) &gt;&gt; FC_DOMAIN_SHIFT)</span>
<span class="cp">#define FC_GET_AREA(p)		(((p) &amp; FC_AREA_MASK) &gt;&gt; FC_AREA_SHIFT)</span>
<span class="cp">#define FC_GET_PORT(p)		(((p) &amp; FC_PORT_MASK) &gt;&gt; FC_PORT_SHIFT)</span>

<span class="cp">#define FC_DOMAIN_CTRLR(p)	(FC_DOMAIN_CONTROLLER_MASK | (FC_GET_DOMAIN(p)))</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_RXID_ANY</span> <span class="o">=</span> <span class="mh">0xFFFFU</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * generic ELS command</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">els_code</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* ELS Command Code */</span>
	<span class="n">u32</span>        <span class="n">reserved</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * ELS Command Codes. FC-PH Table-75. pg. 223</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_ELS_LS_RJT</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>	<span class="cm">/* Link Service Reject. */</span>
	<span class="n">FC_ELS_ACC</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>	<span class="cm">/* Accept */</span>
	<span class="n">FC_ELS_PLOGI</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>	<span class="cm">/* N_Port Login. */</span>
	<span class="n">FC_ELS_FLOGI</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>	<span class="cm">/* F_Port Login. */</span>
	<span class="n">FC_ELS_LOGO</span> <span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>	<span class="cm">/* Logout. */</span>
	<span class="n">FC_ELS_ABTX</span> <span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>	<span class="cm">/* Abort Exchange */</span>
	<span class="n">FC_ELS_RES</span> <span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>	<span class="cm">/* Read Exchange status */</span>
	<span class="n">FC_ELS_RSS</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>	<span class="cm">/* Read sequence status block */</span>
	<span class="n">FC_ELS_RSI</span> <span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span>	<span class="cm">/* Request Sequence Initiative */</span>
	<span class="n">FC_ELS_ESTC</span> <span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>	<span class="cm">/* Estimate Credit. */</span>
	<span class="n">FC_ELS_RTV</span> <span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>	<span class="cm">/* Read Timeout Value. */</span>
	<span class="n">FC_ELS_RLS</span> <span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span>	<span class="cm">/* Read Link Status. */</span>
	<span class="n">FC_ELS_ECHO</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>	<span class="cm">/* Echo */</span>
	<span class="n">FC_ELS_TEST</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>	<span class="cm">/* Test */</span>
	<span class="n">FC_ELS_RRQ</span> <span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>	<span class="cm">/* Reinstate Recovery Qualifier. */</span>
	<span class="n">FC_ELS_REC</span> <span class="o">=</span> <span class="mh">0x13</span><span class="p">,</span>	<span class="cm">/* Add this for TAPE support in FCR */</span>
	<span class="n">FC_ELS_PRLI</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>	<span class="cm">/* Process Login */</span>
	<span class="n">FC_ELS_PRLO</span> <span class="o">=</span> <span class="mh">0x21</span><span class="p">,</span>	<span class="cm">/* Process Logout. */</span>
	<span class="n">FC_ELS_SCN</span> <span class="o">=</span> <span class="mh">0x22</span><span class="p">,</span>	<span class="cm">/* State Change Notification. */</span>
	<span class="n">FC_ELS_TPRLO</span> <span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span>	<span class="cm">/* Third Party Process Logout. */</span>
	<span class="n">FC_ELS_PDISC</span> <span class="o">=</span> <span class="mh">0x50</span><span class="p">,</span>	<span class="cm">/* Discover N_Port Parameters. */</span>
	<span class="n">FC_ELS_FDISC</span> <span class="o">=</span> <span class="mh">0x51</span><span class="p">,</span>	<span class="cm">/* Discover F_Port Parameters. */</span>
	<span class="n">FC_ELS_ADISC</span> <span class="o">=</span> <span class="mh">0x52</span><span class="p">,</span>	<span class="cm">/* Discover Address. */</span>
	<span class="n">FC_ELS_FARP_REQ</span> <span class="o">=</span> <span class="mh">0x54</span><span class="p">,</span>	<span class="cm">/* FARP Request. */</span>
	<span class="n">FC_ELS_FARP_REP</span> <span class="o">=</span> <span class="mh">0x55</span><span class="p">,</span>	<span class="cm">/* FARP Reply. */</span>
	<span class="n">FC_ELS_FAN</span> <span class="o">=</span> <span class="mh">0x60</span><span class="p">,</span>	<span class="cm">/* Fabric Address Notification */</span>
	<span class="n">FC_ELS_RSCN</span> <span class="o">=</span> <span class="mh">0x61</span><span class="p">,</span>	<span class="cm">/* Reg State Change Notification */</span>
	<span class="n">FC_ELS_SCR</span> <span class="o">=</span> <span class="mh">0x62</span><span class="p">,</span>	<span class="cm">/* State Change Registration. */</span>
	<span class="n">FC_ELS_RTIN</span> <span class="o">=</span> <span class="mh">0x77</span><span class="p">,</span>	<span class="cm">/* Mangement server request */</span>
	<span class="n">FC_ELS_RNID</span> <span class="o">=</span> <span class="mh">0x78</span><span class="p">,</span>	<span class="cm">/* Mangement server request */</span>
	<span class="n">FC_ELS_RLIR</span> <span class="o">=</span> <span class="mh">0x79</span><span class="p">,</span>	<span class="cm">/* Registered Link Incident Record */</span>

	<span class="n">FC_ELS_RPSC</span> <span class="o">=</span> <span class="mh">0x7D</span><span class="p">,</span>	<span class="cm">/* Report Port Speed Capabilities */</span>
	<span class="n">FC_ELS_QSA</span> <span class="o">=</span> <span class="mh">0x7E</span><span class="p">,</span>	<span class="cm">/* Query Security Attributes. Ref FC-SP */</span>
	<span class="n">FC_ELS_E2E_LBEACON</span> <span class="o">=</span> <span class="mh">0x81</span><span class="p">,</span>
				<span class="cm">/* End-to-End Link Beacon */</span>
	<span class="n">FC_ELS_AUTH</span> <span class="o">=</span> <span class="mh">0x90</span><span class="p">,</span>	<span class="cm">/* Authentication. Ref FC-SP */</span>
	<span class="n">FC_ELS_RFCN</span> <span class="o">=</span> <span class="mh">0x97</span><span class="p">,</span>	<span class="cm">/* Request Fabric Change Notification. Ref</span>
<span class="cm">				 *FC-SP */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> *  Version numbers for FC-PH standards,</span>
<span class="cm"> *  used in login to indicate what port</span>
<span class="cm"> *  supports. See FC-PH-X table 158.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_PH_VER_4_3</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">FC_PH_VER_PH_3</span> <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * PDU size defines</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_MIN_PDUSZ</span> <span class="o">=</span> <span class="mi">512</span><span class="p">,</span>
	<span class="n">FC_MAX_PDUSZ</span> <span class="o">=</span> <span class="mi">2112</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * N_Port PLOGI Common Service Parameters.</span>
<span class="cm"> * FC-PH-x. Figure-76. pg. 308.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_plogi_csp_s</span> <span class="p">{</span>
	<span class="n">u8</span>		<span class="n">verhi</span><span class="p">;</span>		<span class="cm">/* FC-PH high version */</span>
	<span class="n">u8</span>		<span class="n">verlo</span><span class="p">;</span>		<span class="cm">/* FC-PH low version */</span>
	<span class="n">__be16</span>		<span class="n">bbcred</span><span class="p">;</span>		<span class="cm">/* BB_Credit */</span>

<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u8</span>		<span class="n">ciro</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>		<span class="cm">/* continuously increasing RO */</span>
			<span class="nl">rro:</span><span class="mi">1</span><span class="p">,</span>		<span class="cm">/* random relative offset */</span>
			<span class="nl">npiv_supp:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* NPIV supported */</span>
			<span class="nl">port_type:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* N_Port/F_port */</span>
			<span class="nl">altbbcred:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* alternate BB_Credit */</span>
			<span class="nl">resolution:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* ms/ns ED_TOV resolution */</span>
			<span class="nl">vvl_info:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* VVL Info included */</span>
			<span class="nl">reserved1:</span><span class="mi">1</span><span class="p">;</span>

	<span class="n">u8</span>		<span class="n">hg_supp</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">query_dbc:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">security:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">sync_cap:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">r_t_tov:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">dh_dup_supp:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">cisc:</span><span class="mi">1</span><span class="p">,</span>		<span class="cm">/* continuously increasing seq count */</span>
			<span class="nl">payload:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u8</span>		<span class="n">reserved2</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>
			<span class="nl">resolution:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* ms/ns ED_TOV resolution */</span>
			<span class="nl">altbbcred:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* alternate BB_Credit */</span>
			<span class="nl">port_type:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* N_Port/F_port */</span>
			<span class="nl">npiv_supp:</span><span class="mi">1</span><span class="p">,</span>	<span class="cm">/* NPIV supported */</span>
			<span class="nl">rro:</span><span class="mi">1</span><span class="p">,</span>		<span class="cm">/* random relative offset */</span>
			<span class="nl">ciro:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* continuously increasing RO */</span>

	<span class="n">u8</span>		<span class="n">payload</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">cisc:</span><span class="mi">1</span><span class="p">,</span>		<span class="cm">/* continuously increasing seq count */</span>
			<span class="nl">dh_dup_supp:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">r_t_tov:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">sync_cap:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">security:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">query_dbc:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">hg_supp:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">__be16</span>		<span class="n">rxsz</span><span class="p">;</span>		<span class="cm">/* receive data_field size */</span>
	<span class="n">__be16</span>		<span class="n">conseq</span><span class="p">;</span>
	<span class="n">__be16</span>		<span class="n">ro_bitmap</span><span class="p">;</span>
	<span class="n">__be32</span>		<span class="n">e_d_tov</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * N_Port PLOGI Class Specific Parameters.</span>
<span class="cm"> * FC-PH-x. Figure 78. pg. 318.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_plogi_clp_s</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u32</span>        <span class="n">class_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">intermix</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* class intermix supported if set =1.</span>
<span class="cm">				 * valid only for class1. Reserved for</span>
<span class="cm">				 * class2 &amp; class3 */</span>
	<span class="n">u32</span>        <span class="n">reserved1</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">sequential</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved2</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u32</span>        <span class="n">reserved2</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">sequential</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved1</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">intermix</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* class intermix supported if set =1.</span>
<span class="cm">				 * valid only for class1. Reserved for</span>
<span class="cm">				 * class2 &amp; class3 */</span>
	<span class="n">u32</span>        <span class="n">class_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span>        <span class="n">reserved3</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>

	<span class="n">u32</span>        <span class="n">reserved4</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxsz</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>	<span class="cm">/* Receive data_field size */</span>

	<span class="n">u32</span>        <span class="n">reserved5</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">conseq</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">e2e_credit</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span> <span class="cm">/* end to end credit */</span>

	<span class="n">u32</span>        <span class="n">reserved7</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">ospx</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved8</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* ASCII value for each character in string &quot;BRCD&quot; */</span>
<span class="cp">#define FLOGI_VVL_BRCD    0x42524344</span>

<span class="cm">/*</span>
<span class="cm"> * PLOGI els command and reply payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_logi_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span>	<span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="k">struct</span> <span class="n">fc_plogi_csp_s</span>	<span class="n">csp</span><span class="p">;</span>		<span class="cm">/* common service params */</span>
	<span class="n">wwn_t</span>			<span class="n">port_name</span><span class="p">;</span>
	<span class="n">wwn_t</span>			<span class="n">node_name</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_plogi_clp_s</span>	<span class="n">class1</span><span class="p">;</span>		<span class="cm">/* class 1 service parameters */</span>
	<span class="k">struct</span> <span class="n">fc_plogi_clp_s</span>	<span class="n">class2</span><span class="p">;</span>		<span class="cm">/* class 2 service parameters */</span>
	<span class="k">struct</span> <span class="n">fc_plogi_clp_s</span>	<span class="n">class3</span><span class="p">;</span>		<span class="cm">/* class 3 service parameters */</span>
	<span class="k">struct</span> <span class="n">fc_plogi_clp_s</span>	<span class="n">class4</span><span class="p">;</span>		<span class="cm">/* class 4 service parameters */</span>
	<span class="n">u8</span>			<span class="n">vvl</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>	<span class="cm">/* vendor version level */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * LOGO els command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_logo_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span>	<span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="n">u32</span>			<span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>		<span class="n">nport_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* N_Port identifier of source */</span>
	<span class="n">wwn_t</span>           <span class="n">orig_port_name</span><span class="p">;</span>	<span class="cm">/* Port name of the LOGO originator */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * ADISC els command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_adisc_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="n">u32</span>		<span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>		<span class="n">orig_HA</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* originator hard address */</span>
	<span class="n">wwn_t</span>		<span class="n">orig_port_name</span><span class="p">;</span>	<span class="cm">/* originator port name */</span>
	<span class="n">wwn_t</span>		<span class="n">orig_node_name</span><span class="p">;</span>	<span class="cm">/* originator node name */</span>
	<span class="n">u32</span>		<span class="n">res2</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>		<span class="n">nport_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* originator NPortID */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Exchange status block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_exch_status_blk_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">oxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">orig_np</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* originator NPortID */</span>
	<span class="n">u32</span>        <span class="n">res2</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">resp_np</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* responder NPortID */</span>
	<span class="n">u32</span>        <span class="n">es_bits</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res3</span><span class="p">;</span>
	<span class="cm">/*</span>
<span class="cm">	 * un modified section of the fields</span>
<span class="cm">	 */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RES els command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_res_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">nport_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>		<span class="cm">/* N_Port identifier of source */</span>
	<span class="n">u32</span>        <span class="n">oxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u8</span>         <span class="n">assoc_hdr</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RES els accept payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_res_acc_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span>		<span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="k">struct</span> <span class="n">fc_exch_status_blk_s</span>	<span class="n">fc_exch_blk</span><span class="p">;</span> <span class="cm">/* Exchange status block */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * REC els command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rec_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">nport_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* N_Port identifier of source */</span>
	<span class="n">u32</span>        <span class="n">oxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define FC_REC_ESB_OWN_RSP	0x80000000	</span><span class="cm">/* responder owns */</span><span class="cp"></span>
<span class="cp">#define FC_REC_ESB_SI		0x40000000	</span><span class="cm">/* SI is owned	*/</span><span class="cp"></span>
<span class="cp">#define FC_REC_ESB_COMP		0x20000000	</span><span class="cm">/* exchange is complete	*/</span><span class="cp"></span>
<span class="cp">#define FC_REC_ESB_ENDCOND_ABN	0x10000000	</span><span class="cm">/* abnormal ending	*/</span><span class="cp"></span>
<span class="cp">#define FC_REC_ESB_RQACT	0x04000000	</span><span class="cm">/* recovery qual active	*/</span><span class="cp"></span>
<span class="cp">#define FC_REC_ESB_ERRP_MSK	0x03000000</span>
<span class="cp">#define FC_REC_ESB_OXID_INV	0x00800000	</span><span class="cm">/* invalid OXID		*/</span><span class="cp"></span>
<span class="cp">#define FC_REC_ESB_RXID_INV	0x00400000	</span><span class="cm">/* invalid RXID		*/</span><span class="cp"></span>
<span class="cp">#define FC_REC_ESB_PRIO_INUSE	0x00200000</span>

<span class="cm">/*</span>
<span class="cm"> * REC els accept payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rec_acc_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="n">u32</span>        <span class="n">oxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">orig_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* N_Port id of exchange originator */</span>
	<span class="n">u32</span>        <span class="n">res2</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">resp_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* N_Port id of exchange responder */</span>
	<span class="n">u32</span>        <span class="n">count</span><span class="p">;</span>	<span class="cm">/* data transfer count */</span>
	<span class="n">u32</span>        <span class="n">e_stat</span><span class="p">;</span>	<span class="cm">/* exchange status */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RSI els payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rsi_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">orig_sid</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">oxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxid</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * structure for PRLI paramater pages, both request &amp; response</span>
<span class="cm"> * see FC-PH-X table 113 &amp; 115 for explanation also FCP table 8</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_prli_params_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">reserved</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u32</span>        <span class="n">reserved1</span><span class="o">:</span><span class="mi">5</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rec_support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">task_retry_id</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">retry</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="n">u32</span>        <span class="n">confirm</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">doverlay</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">initiator</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">target</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">cdmix</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">drmix</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxrdisab</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">wxrdisab</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u32</span>        <span class="n">retry</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">task_retry_id</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rec_support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved1</span><span class="o">:</span><span class="mi">5</span><span class="p">;</span>

	<span class="n">u32</span>        <span class="n">wxrdisab</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rxrdisab</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">drmix</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">cdmix</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">target</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">initiator</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">doverlay</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">confirm</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * valid values for rspcode in PRLI ACC payload</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_PRLI_ACC_XQTD</span> <span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>		<span class="cm">/* request executed */</span>
	<span class="n">FC_PRLI_ACC_PREDEF_IMG</span> <span class="o">=</span> <span class="mh">0x5</span><span class="p">,</span>	<span class="cm">/* predefined image - no prli needed */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fc_prli_params_page_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">codext</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u32</span>        <span class="n">origprocasv</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rsppav</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">imagepair</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rspcode</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u32</span>        <span class="n">rspcode</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">imagepair</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rsppav</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">origprocasv</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span>        <span class="n">reserved2</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>

	<span class="n">u32</span>        <span class="n">origprocas</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rspprocas</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_prli_params_s</span> <span class="n">servparams</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * PRLI request and accept payload, FC-PH-X tables 112 &amp; 114</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_prli_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">command</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">pglen</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">pagebytes</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_prli_params_page_s</span> <span class="n">parampage</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * PRLO logout params page</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_prlo_params_page_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">type_ext</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u32</span>        <span class="n">opa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* originator process associator valid */</span>
	<span class="n">u32</span>        <span class="n">rpa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* responder process associator valid */</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">14</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">14</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rpa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* responder process associator valid */</span>
	<span class="n">u32</span>        <span class="n">opa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* originator process associator valid */</span>
<span class="cp">#endif</span>
	<span class="n">u32</span>        <span class="n">orig_process_assc</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">resp_process_assc</span><span class="p">;</span>

	<span class="n">u32</span>        <span class="n">res2</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * PRLO els command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_prlo_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">command</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">page_len</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">payload_len</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_prlo_params_page_s</span>	<span class="n">prlo_params</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * PRLO Logout response parameter page</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_prlo_acc_params_page_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">type_ext</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>

<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u32</span>        <span class="n">opa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* originator process associator valid */</span>
	<span class="n">u32</span>        <span class="n">rpa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* responder process associator valid */</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">14</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">14</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rpa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* responder process associator valid */</span>
	<span class="n">u32</span>        <span class="n">opa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* originator process associator valid */</span>
<span class="cp">#endif</span>
	<span class="n">u32</span>        <span class="n">orig_process_assc</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">resp_process_assc</span><span class="p">;</span>

	<span class="n">u32</span>        <span class="n">fc4type_csp</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * PRLO els command ACC payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_prlo_acc_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">command</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">page_len</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">payload_len</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_prlo_acc_params_page_s</span> <span class="n">prlo_acc_params</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * SCR els command payload</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_SCR_REG_FUNC_FABRIC_DETECTED</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FC_SCR_REG_FUNC_N_PORT_DETECTED</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FC_SCR_REG_FUNC_FULL</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">FC_SCR_REG_FUNC_CLEAR_REG</span> <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* SCR VU registrations */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_VU_SCR_REG_FUNC_FABRIC_NAME_CHANGE</span> <span class="o">=</span> <span class="mh">0x01</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fc_scr_s</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">command</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">res</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">vu_reg_func</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span> <span class="cm">/* Vendor Unique Registrations */</span>
	<span class="n">u32</span> <span class="n">res1</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg_func</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Information category for Basic link data</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_CAT_NOP</span>	<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>
	<span class="n">FC_CAT_ABTS</span>	<span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>
	<span class="n">FC_CAT_RMC</span>	<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>
	<span class="n">FC_CAT_BA_ACC</span>	<span class="o">=</span> <span class="mh">0x4</span><span class="p">,</span>
	<span class="n">FC_CAT_BA_RJT</span>	<span class="o">=</span> <span class="mh">0x5</span><span class="p">,</span>
	<span class="n">FC_CAT_PRMT</span>	<span class="o">=</span> <span class="mh">0x6</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * LS_RJT els reply payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_ls_rjt_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reason_code</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* Reason code for reject */</span>
	<span class="n">u32</span>        <span class="n">reason_code_expl</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* Reason code explanation */</span>
	<span class="n">u32</span>        <span class="n">vendor_unique</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* Vendor specific */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * LS_RJT reason codes</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_LS_RJT_RSN_INV_CMD_CODE</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_RSN_LOGICAL_ERROR</span>	<span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_RSN_LOGICAL_BUSY</span>	<span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_RSN_PROTOCOL_ERROR</span>	<span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_RSN_UNABLE_TO_PERF_CMD</span> <span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_RSN_CMD_NOT_SUPP</span>	<span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * LS_RJT reason code explanation</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_LS_RJT_EXP_NO_ADDL_INFO</span>		<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_SPARMS_ERR_OPTIONS</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_SPARMS_ERR_INI_CTL</span>	<span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_SPARMS_ERR_REC_CTL</span>	<span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_SPARMS_ERR_RXSZ</span>		<span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_SPARMS_ERR_CONSEQ</span>		<span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_SPARMS_ERR_CREDIT</span>		<span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INV_PORT_NAME</span>		<span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INV_NODE_FABRIC_NAME</span>	<span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INV_CSP</span>			<span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INV_ASSOC_HDR</span>		<span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_ASSOC_HDR_REQD</span>		<span class="o">=</span> <span class="mh">0x13</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INV_ORIG_S_ID</span>		<span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INV_OXID_RXID_COMB</span>	<span class="o">=</span> <span class="mh">0x17</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_CMD_ALREADY_IN_PROG</span>	<span class="o">=</span> <span class="mh">0x19</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_LOGIN_REQUIRED</span>		<span class="o">=</span> <span class="mh">0x1E</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INVALID_NPORT_ID</span>		<span class="o">=</span> <span class="mh">0x1F</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INSUFF_RES</span>		<span class="o">=</span> <span class="mh">0x29</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_CMD_NOT_SUPP</span>		<span class="o">=</span> <span class="mh">0x2C</span><span class="p">,</span>
	<span class="n">FC_LS_RJT_EXP_INV_PAYLOAD_LEN</span>		<span class="o">=</span> <span class="mh">0x2D</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RRQ els command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rrq_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>	<span class="cm">/* ELS command code */</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">s_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* exchange originator S_ID */</span>

	<span class="n">u32</span>        <span class="n">ox_id</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>	<span class="cm">/* originator exchange ID */</span>
	<span class="n">u32</span>        <span class="n">rx_id</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>	<span class="cm">/* responder exchange ID */</span>

	<span class="n">u32</span>        <span class="n">res2</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* optional association header */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * ABTS BA_ACC reply payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_ba_acc_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">seq_id_valid</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* set to 0x00 for Abort Exchange */</span>
	<span class="n">u32</span>        <span class="n">seq_id</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>		<span class="cm">/* invalid for Abort Exchange */</span>
	<span class="n">u32</span>        <span class="n">res2</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">ox_id</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>		<span class="cm">/* OX_ID from ABTS frame */</span>
	<span class="n">u32</span>        <span class="n">rx_id</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>		<span class="cm">/* RX_ID from ABTS frame */</span>
	<span class="n">u32</span>        <span class="n">low_seq_cnt</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>	<span class="cm">/* set to 0x0000 for Abort Exchange */</span>
	<span class="n">u32</span>        <span class="n">high_seq_cnt</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>	<span class="cm">/* set to 0xFFFF for Abort Exchange */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * ABTS BA_RJT reject payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_ba_rjt_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>		<span class="cm">/* Reserved */</span>
	<span class="n">u32</span>        <span class="n">reason_code</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* reason code for reject */</span>
	<span class="n">u32</span>        <span class="n">reason_expl</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* reason code explanation */</span>
	<span class="n">u32</span>        <span class="n">vendor_unique</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span> <span class="cm">/* vendor unique reason code,set to 0 */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * TPRLO logout parameter page</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_tprlo_params_page_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">type_ext</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>

<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u32</span>        <span class="n">opa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rpa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">tpo_nport_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">global_process_logout</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">global_process_logout</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">tpo_nport_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rpa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">opa_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>

	<span class="n">u32</span>        <span class="n">orig_process_assc</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">resp_process_assc</span><span class="p">;</span>

	<span class="n">u32</span>        <span class="n">res2</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">tpo_nport_id</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * TPRLO ELS command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_tprlo_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">command</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">page_len</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">payload_len</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">fc_tprlo_params_page_s</span> <span class="n">tprlo_params</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fc_tprlo_type</span> <span class="p">{</span>
	<span class="n">FC_GLOBAL_LOGO</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FC_TPR_LOGO</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * TPRLO els command ACC payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_tprlo_acc_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">command</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">page_len</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">payload_len</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_prlo_acc_params_page_s</span> <span class="n">tprlo_acc_params</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RSCN els command req payload</span>
<span class="cm"> */</span>
<span class="cp">#define FC_RSCN_PGLEN	0x4</span>

<span class="k">enum</span> <span class="n">fc_rscn_format</span> <span class="p">{</span>
	<span class="n">FC_RSCN_FORMAT_PORTID</span>	<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>
	<span class="n">FC_RSCN_FORMAT_AREA</span>	<span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>
	<span class="n">FC_RSCN_FORMAT_DOMAIN</span>	<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>
	<span class="n">FC_RSCN_FORMAT_FABRIC</span>	<span class="o">=</span> <span class="mh">0x3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fc_rscn_event_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">format</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">qualifier</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">resvd</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">portid</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fc_rscn_pl_s</span> <span class="p">{</span>
	<span class="n">u8</span>	<span class="n">command</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">pagelen</span><span class="p">;</span>
	<span class="n">__be16</span>	<span class="n">payldlen</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_rscn_event_s</span> <span class="n">event</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * ECHO els command req payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_echo_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RNID els command</span>
<span class="cm"> */</span>
<span class="cp">#define RNID_NODEID_DATA_FORMAT_COMMON			0x00</span>
<span class="cp">#define RNID_NODEID_DATA_FORMAT_FCP3			0x08</span>
<span class="cp">#define RNID_NODEID_DATA_FORMAT_DISCOVERY		0xDF</span>

<span class="cp">#define RNID_ASSOCIATED_TYPE_UNKNOWN			0x00000001</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_OTHER                      0x00000002</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_HUB                        0x00000003</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_SWITCH                     0x00000004</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_GATEWAY                    0x00000005</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_STORAGE_DEVICE             0x00000009</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_HOST                       0x0000000A</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_STORAGE_SUBSYSTEM          0x0000000B</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_STORAGE_ACCESS_DEVICE      0x0000000E</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_NAS_SERVER                 0x00000011</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_BRIDGE                     0x00000002</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_VIRTUALIZATION_DEVICE      0x00000003</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_MULTI_FUNCTION_DEVICE      0x000000FF</span>

<span class="cm">/*</span>
<span class="cm"> * RNID els command payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rnid_cmd_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">node_id_data_format</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RNID els response payload</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">fc_rnid_common_id_data_s</span> <span class="p">{</span>
	<span class="n">wwn_t</span>		<span class="n">port_name</span><span class="p">;</span>
	<span class="n">wwn_t</span>           <span class="n">node_name</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fc_rnid_general_topology_data_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">vendor_unique</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">__be32</span>     <span class="n">asso_type</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">phy_port_num</span><span class="p">;</span>
	<span class="n">__be32</span>     <span class="n">num_attached_nodes</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">node_mgmt</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">ip_version</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">udp_tcp_port_num</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">ip_address</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u32</span>        <span class="n">reserved</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">vendor_specific</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fc_rnid_acc_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">node_id_data_format</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">common_id_data_length</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">reserved</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">specific_id_data_length</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_rnid_common_id_data_s</span> <span class="n">common_id_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fc_rnid_general_topology_data_s</span> <span class="n">gen_topology_data</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define RNID_ASSOCIATED_TYPE_UNKNOWN                    0x00000001</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_OTHER                      0x00000002</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_HUB                        0x00000003</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_SWITCH                     0x00000004</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_GATEWAY                    0x00000005</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_STORAGE_DEVICE             0x00000009</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_HOST                       0x0000000A</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_STORAGE_SUBSYSTEM          0x0000000B</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_STORAGE_ACCESS_DEVICE      0x0000000E</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_NAS_SERVER                 0x00000011</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_BRIDGE                     0x00000002</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_VIRTUALIZATION_DEVICE      0x00000003</span>
<span class="cp">#define RNID_ASSOCIATED_TYPE_MULTI_FUNCTION_DEVICE      0x000000FF</span>

<span class="k">enum</span> <span class="n">fc_rpsc_speed_cap</span> <span class="p">{</span>
	<span class="n">RPSC_SPEED_CAP_1G</span> <span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span>
	<span class="n">RPSC_SPEED_CAP_2G</span> <span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span>
	<span class="n">RPSC_SPEED_CAP_4G</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">RPSC_SPEED_CAP_10G</span> <span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span>
	<span class="n">RPSC_SPEED_CAP_8G</span> <span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span>
	<span class="n">RPSC_SPEED_CAP_16G</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>

	<span class="n">RPSC_SPEED_CAP_UNKNOWN</span> <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fc_rpsc_op_speed</span> <span class="p">{</span>
	<span class="n">RPSC_OP_SPEED_1G</span> <span class="o">=</span> <span class="mh">0x8000</span><span class="p">,</span>
	<span class="n">RPSC_OP_SPEED_2G</span> <span class="o">=</span> <span class="mh">0x4000</span><span class="p">,</span>
	<span class="n">RPSC_OP_SPEED_4G</span> <span class="o">=</span> <span class="mh">0x2000</span><span class="p">,</span>
	<span class="n">RPSC_OP_SPEED_10G</span> <span class="o">=</span> <span class="mh">0x1000</span><span class="p">,</span>
	<span class="n">RPSC_OP_SPEED_8G</span> <span class="o">=</span> <span class="mh">0x0800</span><span class="p">,</span>
	<span class="n">RPSC_OP_SPEED_16G</span> <span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>

	<span class="n">RPSC_OP_SPEED_NOT_EST</span> <span class="o">=</span> <span class="mh">0x0001</span><span class="p">,</span>	<span class="cm">/* speed not established */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fc_rpsc_speed_info_s</span> <span class="p">{</span>
	<span class="n">__be16</span>        <span class="n">port_speed_cap</span><span class="p">;</span>	<span class="cm">/* see enum fc_rpsc_speed_cap */</span>
	<span class="n">__be16</span>        <span class="n">port_op_speed</span><span class="p">;</span>	<span class="cm">/* see enum fc_rpsc_op_speed */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * If RPSC request is sent to the Domain Controller, the request is for</span>
<span class="cm"> * all the ports within that domain.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rpsc_cmd_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RPSC Acc</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rpsc_acc_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">command</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">num_entries</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">fc_rpsc_speed_info_s</span> <span class="n">speed_info</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * If RPSC2 request is sent to the Domain Controller,</span>
<span class="cm"> */</span>
<span class="cp">#define FC_BRCD_TOKEN    0x42524344</span>

<span class="k">struct</span> <span class="n">fc_rpsc2_cmd_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">fc_els_cmd_s</span> <span class="n">els_cmd</span><span class="p">;</span>
	<span class="n">__be32</span>	<span class="n">token</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">resvd</span><span class="p">;</span>
	<span class="n">__be16</span>	<span class="n">num_pids</span><span class="p">;</span>		<span class="cm">/* Number of pids in the request */</span>
	<span class="k">struct</span>  <span class="p">{</span>
		<span class="n">u32</span>	<span class="n">rsvd1</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">pid</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>		<span class="cm">/* port identifier */</span>
	<span class="p">}</span> <span class="n">pid_list</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fc_rpsc2_port_type</span> <span class="p">{</span>
	<span class="n">RPSC2_PORT_TYPE_UNKNOWN</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RPSC2_PORT_TYPE_NPORT</span>   <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">RPSC2_PORT_TYPE_NLPORT</span>  <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">RPSC2_PORT_TYPE_NPIV_PORT</span>  <span class="o">=</span> <span class="mh">0x5f</span><span class="p">,</span>
	<span class="n">RPSC2_PORT_TYPE_NPORT_TRUNK</span>  <span class="o">=</span> <span class="mh">0x6f</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RPSC2 portInfo entry structure</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rpsc2_port_info_s</span> <span class="p">{</span>
	<span class="n">__be32</span>	<span class="n">pid</span><span class="p">;</span>		<span class="cm">/* PID */</span>
	<span class="n">u16</span>	<span class="n">resvd1</span><span class="p">;</span>
	<span class="n">__be16</span>	<span class="n">index</span><span class="p">;</span>		<span class="cm">/* port number / index */</span>
	<span class="n">u8</span>	<span class="n">resvd2</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">type</span><span class="p">;</span>		<span class="cm">/* port type N/NL/... */</span>
	<span class="n">__be16</span>	<span class="n">speed</span><span class="p">;</span>		<span class="cm">/* port Operating Speed */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RPSC2 Accept payload</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_rpsc2_acc_s</span> <span class="p">{</span>
	<span class="n">u8</span>        <span class="n">els_cmd</span><span class="p">;</span>
	<span class="n">u8</span>        <span class="n">resvd</span><span class="p">;</span>
	<span class="n">__be16</span>    <span class="n">num_pids</span><span class="p">;</span> <span class="cm">/* Number of pids in the request */</span>
	<span class="k">struct</span> <span class="n">fc_rpsc2_port_info_s</span> <span class="n">port_info</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="cm">/* port information */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * bit fields so that multiple classes can be specified</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fc_cos</span> <span class="p">{</span>
	<span class="n">FC_CLASS_2</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FC_CLASS_3</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FC_CLASS_2_3</span>	<span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * symbolic name</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_symname_s</span> <span class="p">{</span>
	<span class="n">u8</span>         <span class="n">symname</span><span class="p">[</span><span class="n">FC_SYMNAME_MAX</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * protocol default timeout values</span>
<span class="cm"> */</span>
<span class="cp">#define FC_ED_TOV	2</span>
<span class="cp">#define FC_REC_TOV	(FC_ED_TOV + 1)</span>
<span class="cp">#define FC_RA_TOV	10</span>
<span class="cp">#define FC_ELS_TOV	((2 * FC_RA_TOV) + 1)</span>
<span class="cp">#define FC_FCCT_TOV	(3 * FC_RA_TOV)</span>

<span class="cm">/*</span>
<span class="cm"> * virtual fabric related defines</span>
<span class="cm"> */</span>
<span class="cp">#define FC_VF_ID_NULL    0	</span><span class="cm">/*  must not be used as VF_ID */</span><span class="cp"></span>
<span class="cp">#define FC_VF_ID_MIN     1</span>
<span class="cp">#define FC_VF_ID_MAX     0xEFF</span>
<span class="cp">#define FC_VF_ID_CTL     0xFEF	</span><span class="cm">/*  control VF_ID */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Virtual Fabric Tagging header format</span>
<span class="cm"> * @caution This is defined only in BIG ENDIAN format.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fc_vft_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">r_ctl</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">ver</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">type</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res_a</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">priority</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">vf_id</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res_b</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">hopct</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">res_c</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FCP_CMND definitions</span>
<span class="cm"> */</span>
<span class="cp">#define FCP_CMND_CDB_LEN    16</span>
<span class="cp">#define FCP_CMND_LUN_LEN    8</span>

<span class="k">struct</span> <span class="n">fcp_cmnd_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">scsi_lun</span>	<span class="n">lun</span><span class="p">;</span>		<span class="cm">/* 64-bit LU number */</span>
	<span class="n">u8</span>		<span class="n">crn</span><span class="p">;</span>		<span class="cm">/* command reference number */</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u8</span>		<span class="n">resvd</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span>
			<span class="nl">priority:</span><span class="mi">4</span><span class="p">,</span>	<span class="cm">/* FCP-3: SAM-3 priority */</span>
			<span class="nl">taskattr:</span><span class="mi">3</span><span class="p">;</span>	<span class="cm">/* scsi task attribute */</span>
<span class="cp">#else</span>
	<span class="n">u8</span>		<span class="n">taskattr</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span>	<span class="cm">/* scsi task attribute */</span>
			<span class="nl">priority:</span><span class="mi">4</span><span class="p">,</span>	<span class="cm">/* FCP-3: SAM-3 priority */</span>
			<span class="nl">resvd:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u8</span>		<span class="n">tm_flags</span><span class="p">;</span>	<span class="cm">/* task management flags */</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u8</span>		<span class="n">addl_cdb_len</span><span class="o">:</span><span class="mi">6</span><span class="p">,</span>	<span class="cm">/* additional CDB length words */</span>
			<span class="nl">iodir:</span><span class="mi">2</span><span class="p">;</span>	<span class="cm">/* read/write FCP_DATA IUs */</span>
<span class="cp">#else</span>
	<span class="n">u8</span>		<span class="n">iodir</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span>	<span class="cm">/* read/write FCP_DATA IUs */</span>
			<span class="nl">addl_cdb_len:</span><span class="mi">6</span><span class="p">;</span>	<span class="cm">/* additional CDB length */</span>
<span class="cp">#endif</span>
	<span class="k">struct</span> <span class="n">scsi_cdb_s</span>      <span class="n">cdb</span><span class="p">;</span>

	<span class="n">__be32</span>        <span class="n">fcp_dl</span><span class="p">;</span>	<span class="cm">/* bytes to be transferred */</span>
<span class="p">};</span>

<span class="cp">#define fcp_cmnd_cdb_len(_cmnd) ((_cmnd)-&gt;addl_cdb_len * 4 + FCP_CMND_CDB_LEN)</span>
<span class="cp">#define fcp_cmnd_fcpdl(_cmnd)	((&amp;(_cmnd)-&gt;fcp_dl)[(_cmnd)-&gt;addl_cdb_len])</span>

<span class="cm">/*</span>
<span class="cm"> * struct fcp_cmnd_s .iodir field values</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fcp_iodir</span> <span class="p">{</span>
	<span class="n">FCP_IODIR_NONE</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FCP_IODIR_WRITE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FCP_IODIR_READ</span>  <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">FCP_IODIR_RW</span>    <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Task management flags field - only one bit shall be set</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fcp_tm_cmnd</span> <span class="p">{</span>
	<span class="n">FCP_TM_ABORT_TASK_SET</span>	<span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
	<span class="n">FCP_TM_CLEAR_TASK_SET</span>	<span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>
	<span class="n">FCP_TM_LUN_RESET</span>	<span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
	<span class="n">FCP_TM_TARGET_RESET</span>	<span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>	<span class="cm">/* obsolete in FCP-3 */</span>
	<span class="n">FCP_TM_CLEAR_ACA</span>	<span class="o">=</span> <span class="n">BIT</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FCP_RSP residue flags</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fcp_residue</span> <span class="p">{</span>
	<span class="n">FCP_NO_RESIDUE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>     <span class="cm">/* no residue */</span>
	<span class="n">FCP_RESID_OVER</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>     <span class="cm">/* more data left that was not sent */</span>
	<span class="n">FCP_RESID_UNDER</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>    <span class="cm">/* less data than requested */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcp_rspinfo_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">res0</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">u32</span>        <span class="n">rsp_code</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>		<span class="cm">/* response code (as above) */</span>
	<span class="n">u32</span>        <span class="n">res1</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcp_resp_s</span> <span class="p">{</span>
	<span class="n">u32</span>        <span class="n">reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>		<span class="cm">/* 2 words reserved */</span>
	<span class="n">u16</span>        <span class="n">reserved2</span><span class="p">;</span>
<span class="cp">#ifdef __BIG_ENDIAN</span>
	<span class="n">u8</span>         <span class="n">reserved3</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
	<span class="n">u8</span>         <span class="n">fcp_conf_req</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* FCP_CONF is requested */</span>
	<span class="n">u8</span>         <span class="n">resid_flags</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>	<span class="cm">/* underflow/overflow */</span>
	<span class="n">u8</span>         <span class="n">sns_len_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* sense len is valid */</span>
	<span class="n">u8</span>         <span class="n">rsp_len_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* response len is valid */</span>
<span class="cp">#else</span>
	<span class="n">u8</span>         <span class="n">rsp_len_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* response len is valid */</span>
	<span class="n">u8</span>         <span class="n">sns_len_valid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* sense len is valid */</span>
	<span class="n">u8</span>         <span class="n">resid_flags</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>	<span class="cm">/* underflow/overflow */</span>
	<span class="n">u8</span>         <span class="n">fcp_conf_req</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* FCP_CONF is requested */</span>
	<span class="n">u8</span>         <span class="n">reserved3</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u8</span>         <span class="n">scsi_status</span><span class="p">;</span>		<span class="cm">/* one byte SCSI status */</span>
	<span class="n">u32</span>        <span class="n">residue</span><span class="p">;</span>		<span class="cm">/* residual data bytes */</span>
	<span class="n">u32</span>        <span class="n">sns_len</span><span class="p">;</span>		<span class="cm">/* length od sense info */</span>
	<span class="n">u32</span>        <span class="n">rsp_len</span><span class="p">;</span>		<span class="cm">/* length of response info */</span>
<span class="p">};</span>

<span class="cp">#define fcp_snslen(__fcprsp)	((__fcprsp)-&gt;sns_len_valid ?		\</span>
<span class="cp">					(__fcprsp)-&gt;sns_len : 0)</span>
<span class="cp">#define fcp_rsplen(__fcprsp)	((__fcprsp)-&gt;rsp_len_valid ?		\</span>
<span class="cp">					(__fcprsp)-&gt;rsp_len : 0)</span>
<span class="cp">#define fcp_rspinfo(__fcprsp)	((struct fcp_rspinfo_s *)((__fcprsp) + 1))</span>
<span class="cp">#define fcp_snsinfo(__fcprsp)	(((u8 *)fcp_rspinfo(__fcprsp)) +	\</span>
<span class="cp">						fcp_rsplen(__fcprsp))</span>
<span class="cm">/*</span>
<span class="cm"> * CT</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">ct_hdr_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rev_id</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* Revision of the CT */</span>
	<span class="n">u32</span>	<span class="n">in_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* Initiator Id */</span>
	<span class="n">u32</span>	<span class="n">gs_type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* Generic service Type */</span>
	<span class="n">u32</span>	<span class="n">gs_sub_type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* Generic service sub type */</span>
	<span class="n">u32</span>	<span class="n">options</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* options */</span>
	<span class="n">u32</span>	<span class="n">rsvrd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* reserved */</span>
	<span class="n">u32</span>	<span class="n">cmd_rsp_code</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span><span class="cm">/* ct command/response code */</span>
	<span class="n">u32</span>	<span class="n">max_res_size</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span><span class="cm">/* maximum/residual size */</span>
	<span class="n">u32</span>	<span class="n">frag_id</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* fragment ID */</span>
	<span class="n">u32</span>	<span class="n">reason_code</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* reason code */</span>
	<span class="n">u32</span>	<span class="n">exp_code</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* explanation code */</span>
	<span class="n">u32</span>	<span class="n">vendor_unq</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* vendor unique */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * defines for the Revision</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_GS3_REVISION</span> <span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * defines for gs_type</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_GSTYPE_KEYSERVICE</span>	<span class="o">=</span> <span class="mh">0xF7</span><span class="p">,</span>
	<span class="n">CT_GSTYPE_ALIASSERVICE</span>	<span class="o">=</span> <span class="mh">0xF8</span><span class="p">,</span>
	<span class="n">CT_GSTYPE_MGMTSERVICE</span>	<span class="o">=</span> <span class="mh">0xFA</span><span class="p">,</span>
	<span class="n">CT_GSTYPE_TIMESERVICE</span>	<span class="o">=</span> <span class="mh">0xFB</span><span class="p">,</span>
	<span class="n">CT_GSTYPE_DIRSERVICE</span>	<span class="o">=</span> <span class="mh">0xFC</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * defines for gs_sub_type for gs type directory service</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_GSSUBTYPE_NAMESERVER</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * defines for gs_sub_type for gs type management service</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_GSSUBTYPE_CFGSERVER</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">CT_GSSUBTYPE_UNZONED_NS</span> <span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">CT_GSSUBTYPE_ZONESERVER</span> <span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">CT_GSSUBTYPE_LOCKSERVER</span> <span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">CT_GSSUBTYPE_HBA_MGMTSERVER</span> <span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>	<span class="cm">/* for FDMI */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * defines for CT response code field</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_RSP_REJECT</span> <span class="o">=</span> <span class="mh">0x8001</span><span class="p">,</span>
	<span class="n">CT_RSP_ACCEPT</span> <span class="o">=</span> <span class="mh">0x8002</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * defintions for CT reason code</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_RSN_INV_CMD</span>		<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">CT_RSN_INV_VER</span>		<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">CT_RSN_LOGIC_ERR</span>	<span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">CT_RSN_INV_SIZE</span>		<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">CT_RSN_LOGICAL_BUSY</span>	<span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">CT_RSN_PROTO_ERR</span>	<span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">CT_RSN_UNABLE_TO_PERF</span>	<span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">CT_RSN_NOT_SUPP</span>		<span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
	<span class="n">CT_RSN_SERVER_NOT_AVBL</span>  <span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span>
	<span class="n">CT_RSN_SESSION_COULD_NOT_BE_ESTBD</span> <span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	<span class="n">CT_RSN_VENDOR_SPECIFIC</span>  <span class="o">=</span> <span class="mh">0xFF</span><span class="p">,</span>

<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * definitions for explanations code for Name server</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_NS_EXP_NOADDITIONAL</span>	<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_ID_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_PN_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_NN_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_CS_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_IPN_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x05</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_IPA_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x06</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_FT_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x07</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_SPN_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_SNN_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x09</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_PT_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x0A</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_IPP_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x0B</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_FPN_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x0C</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_HA_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x0D</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_FD_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x0E</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_FF_NOT_REG</span>	<span class="o">=</span> <span class="mh">0x0F</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_ACCESSDENIED</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_UNACCEPTABLE_ID</span> <span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_DATABASEEMPTY</span>		<span class="o">=</span> <span class="mh">0x12</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_NOT_REG_IN_SCOPE</span>	<span class="o">=</span> <span class="mh">0x13</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_DOM_ID_NOT_PRESENT</span>	<span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_PORT_NUM_NOT_PRESENT</span>	<span class="o">=</span> <span class="mh">0x15</span><span class="p">,</span>
	<span class="n">CT_NS_EXP_NO_DEVICE_ATTACHED</span>	<span class="o">=</span> <span class="mh">0x16</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * defintions for the explanation code for all servers</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">CT_EXP_AUTH_EXCEPTION</span>		<span class="o">=</span> <span class="mh">0xF1</span><span class="p">,</span>
	<span class="n">CT_EXP_DB_FULL</span>			<span class="o">=</span> <span class="mh">0xF2</span><span class="p">,</span>
	<span class="n">CT_EXP_DB_EMPTY</span>			<span class="o">=</span> <span class="mh">0xF3</span><span class="p">,</span>
	<span class="n">CT_EXP_PROCESSING_REQ</span>		<span class="o">=</span> <span class="mh">0xF4</span><span class="p">,</span>
	<span class="n">CT_EXP_UNABLE_TO_VERIFY_CONN</span>	<span class="o">=</span> <span class="mh">0xF5</span><span class="p">,</span>
	<span class="n">CT_EXP_DEVICES_NOT_IN_CMN_ZONE</span>  <span class="o">=</span> <span class="mh">0xF6</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Command codes for Name server</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">GS_GID_PN</span>	<span class="o">=</span> <span class="mh">0x0121</span><span class="p">,</span>	<span class="cm">/* Get Id on port name */</span>
	<span class="n">GS_GPN_ID</span>	<span class="o">=</span> <span class="mh">0x0112</span><span class="p">,</span>	<span class="cm">/* Get port name on ID */</span>
	<span class="n">GS_GNN_ID</span>	<span class="o">=</span> <span class="mh">0x0113</span><span class="p">,</span>	<span class="cm">/* Get node name on ID */</span>
	<span class="n">GS_GID_FT</span>	<span class="o">=</span> <span class="mh">0x0171</span><span class="p">,</span>	<span class="cm">/* Get Id on FC4 type */</span>
	<span class="n">GS_GSPN_ID</span>	<span class="o">=</span> <span class="mh">0x0118</span><span class="p">,</span>	<span class="cm">/* Get symbolic PN on ID */</span>
	<span class="n">GS_RFT_ID</span>	<span class="o">=</span> <span class="mh">0x0217</span><span class="p">,</span>	<span class="cm">/* Register fc4type on ID */</span>
	<span class="n">GS_RSPN_ID</span>	<span class="o">=</span> <span class="mh">0x0218</span><span class="p">,</span>	<span class="cm">/* Register symbolic PN on ID */</span>
	<span class="n">GS_RPN_ID</span>	<span class="o">=</span> <span class="mh">0x0212</span><span class="p">,</span>	<span class="cm">/* Register port name */</span>
	<span class="n">GS_RNN_ID</span>	<span class="o">=</span> <span class="mh">0x0213</span><span class="p">,</span>	<span class="cm">/* Register node name */</span>
	<span class="n">GS_RCS_ID</span>	<span class="o">=</span> <span class="mh">0x0214</span><span class="p">,</span>	<span class="cm">/* Register class of service */</span>
	<span class="n">GS_RPT_ID</span>	<span class="o">=</span> <span class="mh">0x021A</span><span class="p">,</span>	<span class="cm">/* Register port type */</span>
	<span class="n">GS_GA_NXT</span>	<span class="o">=</span> <span class="mh">0x0100</span><span class="p">,</span>	<span class="cm">/* Get all next */</span>
	<span class="n">GS_RFF_ID</span>	<span class="o">=</span> <span class="mh">0x021F</span><span class="p">,</span>	<span class="cm">/* Register FC4 Feature		*/</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcgs_id_req_s</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">dap</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span> <span class="cm">/* port identifier */</span>
<span class="p">};</span>
<span class="cp">#define fcgs_gpnid_req_t struct fcgs_id_req_s</span>
<span class="cp">#define fcgs_gnnid_req_t struct fcgs_id_req_s</span>
<span class="cp">#define fcgs_gspnid_req_t struct fcgs_id_req_s</span>

<span class="k">struct</span> <span class="n">fcgs_gidpn_req_s</span> <span class="p">{</span>
	<span class="n">wwn_t</span>	<span class="n">port_name</span><span class="p">;</span>	<span class="cm">/* port wwn */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcgs_gidpn_resp_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">dap</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>		<span class="cm">/* port identifier */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RFT_ID</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_rftid_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">dap</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>		<span class="cm">/* port identifier */</span>
	<span class="n">__be32</span>	<span class="n">fc4_type</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* fc4 types */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RFF_ID : Register FC4 features.</span>
<span class="cm"> */</span>
<span class="cp">#define FC_GS_FCP_FC4_FEATURE_INITIATOR  0x02</span>
<span class="cp">#define FC_GS_FCP_FC4_FEATURE_TARGET	 0x01</span>

<span class="k">struct</span> <span class="n">fcgs_rffid_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">dap</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>		<span class="cm">/* port identifier */</span>
	<span class="n">u32</span>	<span class="n">rsvd1</span><span class="o">:</span><span class="mi">16</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">fc4ftr_bits</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* fc4 feature bits */</span>
	<span class="n">u32</span>	<span class="n">fc4_type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>		<span class="cm">/* corresponding FC4 Type */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * GID_FT Request</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_gidft_req_s</span> <span class="p">{</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">domain_id</span><span class="p">;</span>	<span class="cm">/* domain, 0 - all fabric */</span>
	<span class="n">u8</span>	<span class="n">area_id</span><span class="p">;</span>	<span class="cm">/* area, 0 - whole domain */</span>
	<span class="n">u8</span>	<span class="n">fc4_type</span><span class="p">;</span>	<span class="cm">/* FC_TYPE_FCP for SCSI devices */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * GID_FT Response</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_gidft_resp_s</span> <span class="p">{</span>
	<span class="n">u8</span>	<span class="n">last</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="cm">/* last port identifier flag */</span>
	<span class="n">u8</span>	<span class="n">reserved</span><span class="o">:</span><span class="mi">7</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">pid</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>		<span class="cm">/* port identifier */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RSPN_ID</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_rspnid_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">dap</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>		<span class="cm">/* port identifier */</span>
	<span class="n">u8</span>	<span class="n">spn_len</span><span class="p">;</span>	<span class="cm">/* symbolic port name length */</span>
	<span class="n">u8</span>	<span class="n">spn</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>	<span class="cm">/* symbolic port name */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RPN_ID</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_rpnid_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">port_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">wwn_t</span>	<span class="n">port_name</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RNN_ID</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_rnnid_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">port_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">wwn_t</span>	<span class="n">node_name</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RCS_ID</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_rcsid_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">port_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">cos</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * RPT_ID</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_rptid_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">port_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">port_type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">rsvd1</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * GA_NXT Request</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_ganxt_req_s</span> <span class="p">{</span>
	<span class="n">u32</span>	<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">port_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * GA_NXT Response</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fcgs_ganxt_rsp_s</span> <span class="p">{</span>
	<span class="n">u32</span>		<span class="n">port_type</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* Port Type */</span>
	<span class="n">u32</span>		<span class="n">port_id</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* Port Identifier */</span>
	<span class="n">wwn_t</span>		<span class="n">port_name</span><span class="p">;</span>	<span class="cm">/* Port Name */</span>
	<span class="n">u8</span>		<span class="n">spn_len</span><span class="p">;</span>	<span class="cm">/* Length of Symbolic Port Name */</span>
	<span class="kt">char</span>		<span class="n">spn</span><span class="p">[</span><span class="mi">255</span><span class="p">];</span>	<span class="cm">/* Symbolic Port Name */</span>
	<span class="n">wwn_t</span>		<span class="n">node_name</span><span class="p">;</span>	<span class="cm">/* Node Name */</span>
	<span class="n">u8</span>		<span class="n">snn_len</span><span class="p">;</span>	<span class="cm">/* Length of Symbolic Node Name */</span>
	<span class="kt">char</span>		<span class="n">snn</span><span class="p">[</span><span class="mi">255</span><span class="p">];</span>	<span class="cm">/* Symbolic Node Name */</span>
	<span class="n">u8</span>		<span class="n">ipa</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>		<span class="cm">/* Initial Process Associator */</span>
	<span class="n">u8</span>		<span class="n">ip</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>		<span class="cm">/* IP Address */</span>
	<span class="n">u32</span>		<span class="n">cos</span><span class="p">;</span>		<span class="cm">/* Class of Service */</span>
	<span class="n">u32</span>		<span class="n">fc4types</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* FC-4 TYPEs */</span>
	<span class="n">wwn_t</span>		<span class="n">fabric_port_name</span><span class="p">;</span> <span class="cm">/* Fabric Port Name */</span>
	<span class="n">u32</span>		<span class="n">rsvd</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>		<span class="cm">/* Reserved */</span>
	<span class="n">u32</span>		<span class="n">hard_addr</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* Hard Address */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Command codes for Fabric Configuration Server</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="p">{</span>
	<span class="n">GS_FC_GFN_CMD</span>	<span class="o">=</span> <span class="mh">0x0114</span><span class="p">,</span>	<span class="cm">/* GS FC Get Fabric Name  */</span>
	<span class="n">GS_FC_GMAL_CMD</span>	<span class="o">=</span> <span class="mh">0x0116</span><span class="p">,</span>	<span class="cm">/* GS FC GMAL  */</span>
	<span class="n">GS_FC_TRACE_CMD</span>	<span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>	<span class="cm">/* GS FC Trace Route */</span>
	<span class="n">GS_FC_PING_CMD</span>	<span class="o">=</span> <span class="mh">0x0401</span><span class="p">,</span>	<span class="cm">/* GS FC Ping */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * GMAL Command ( Get ( interconnect Element) Management Address List)</span>
<span class="cm"> * To retrieve the IP Address of a Switch.</span>
<span class="cm"> */</span>
<span class="cp">#define CT_GMAL_RESP_PREFIX_TELNET	 &quot;telnet:</span><span class="c1">//&quot;</span>
<span class="cp">#define CT_GMAL_RESP_PREFIX_HTTP	 &quot;http:</span><span class="c1">//&quot;</span>

<span class="cm">/*  GMAL/GFN request */</span>
<span class="k">struct</span> <span class="n">fcgs_req_s</span> <span class="p">{</span>
	<span class="n">wwn_t</span>    <span class="n">wwn</span><span class="p">;</span>   <span class="cm">/* PWWN/NWWN */</span>
<span class="p">};</span>

<span class="cp">#define fcgs_gmal_req_t struct fcgs_req_s</span>
<span class="cp">#define fcgs_gfn_req_t struct fcgs_req_s</span>

<span class="cm">/* Accept Response to GMAL */</span>
<span class="k">struct</span> <span class="n">fcgs_gmal_resp_s</span> <span class="p">{</span>
	<span class="n">__be32</span>	<span class="n">ms_len</span><span class="p">;</span>   <span class="cm">/* Num of entries */</span>
	<span class="n">u8</span>	<span class="n">ms_ma</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcgs_gmal_entry_s</span> <span class="p">{</span>
	<span class="n">u8</span>  <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">prefix</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span> <span class="cm">/* like &quot;http://&quot; */</span>
	<span class="n">u8</span>  <span class="n">ip_addr</span><span class="p">[</span><span class="mi">248</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI Command Codes</span>
<span class="cm"> */</span>
<span class="cp">#define	FDMI_GRHL		0x0100</span>
<span class="cp">#define	FDMI_GHAT		0x0101</span>
<span class="cp">#define	FDMI_GRPL		0x0102</span>
<span class="cp">#define	FDMI_GPAT		0x0110</span>
<span class="cp">#define	FDMI_RHBA		0x0200</span>
<span class="cp">#define	FDMI_RHAT		0x0201</span>
<span class="cp">#define	FDMI_RPRT		0x0210</span>
<span class="cp">#define	FDMI_RPA		0x0211</span>
<span class="cp">#define	FDMI_DHBA		0x0300</span>
<span class="cp">#define	FDMI_DPRT		0x0310</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI reason codes</span>
<span class="cm"> */</span>
<span class="cp">#define	FDMI_NO_ADDITIONAL_EXP		0x00</span>
<span class="cp">#define	FDMI_HBA_ALREADY_REG		0x10</span>
<span class="cp">#define	FDMI_HBA_ATTRIB_NOT_REG		0x11</span>
<span class="cp">#define	FDMI_HBA_ATTRIB_MULTIPLE	0x12</span>
<span class="cp">#define	FDMI_HBA_ATTRIB_LENGTH_INVALID	0x13</span>
<span class="cp">#define	FDMI_HBA_ATTRIB_NOT_PRESENT	0x14</span>
<span class="cp">#define	FDMI_PORT_ORIG_NOT_IN_LIST	0x15</span>
<span class="cp">#define	FDMI_PORT_HBA_NOT_IN_LIST	0x16</span>
<span class="cp">#define	FDMI_PORT_ATTRIB_NOT_REG	0x20</span>
<span class="cp">#define	FDMI_PORT_NOT_REG		0x21</span>
<span class="cp">#define	FDMI_PORT_ATTRIB_MULTIPLE	0x22</span>
<span class="cp">#define	FDMI_PORT_ATTRIB_LENGTH_INVALID	0x23</span>
<span class="cp">#define	FDMI_PORT_ALREADY_REGISTEREED	0x24</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI Transmission Speed Mask values</span>
<span class="cm"> */</span>
<span class="cp">#define	FDMI_TRANS_SPEED_1G		0x00000001</span>
<span class="cp">#define	FDMI_TRANS_SPEED_2G		0x00000002</span>
<span class="cp">#define	FDMI_TRANS_SPEED_10G		0x00000004</span>
<span class="cp">#define	FDMI_TRANS_SPEED_4G		0x00000008</span>
<span class="cp">#define	FDMI_TRANS_SPEED_8G		0x00000010</span>
<span class="cp">#define	FDMI_TRANS_SPEED_16G		0x00000020</span>
<span class="cp">#define	FDMI_TRANS_SPEED_UNKNOWN	0x00008000</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI HBA attribute types</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fdmi_hba_attribute_type</span> <span class="p">{</span>
	<span class="n">FDMI_HBA_ATTRIB_NODENAME</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* 0x0001 */</span>
	<span class="n">FDMI_HBA_ATTRIB_MANUFACTURER</span><span class="p">,</span>	<span class="cm">/* 0x0002 */</span>
	<span class="n">FDMI_HBA_ATTRIB_SERIALNUM</span><span class="p">,</span>	<span class="cm">/* 0x0003 */</span>
	<span class="n">FDMI_HBA_ATTRIB_MODEL</span><span class="p">,</span>		<span class="cm">/* 0x0004 */</span>
	<span class="n">FDMI_HBA_ATTRIB_MODEL_DESC</span><span class="p">,</span>	<span class="cm">/* 0x0005 */</span>
	<span class="n">FDMI_HBA_ATTRIB_HW_VERSION</span><span class="p">,</span>	<span class="cm">/* 0x0006 */</span>
	<span class="n">FDMI_HBA_ATTRIB_DRIVER_VERSION</span><span class="p">,</span>	<span class="cm">/* 0x0007 */</span>
	<span class="n">FDMI_HBA_ATTRIB_ROM_VERSION</span><span class="p">,</span>	<span class="cm">/* 0x0008 */</span>
	<span class="n">FDMI_HBA_ATTRIB_FW_VERSION</span><span class="p">,</span>	<span class="cm">/* 0x0009 */</span>
	<span class="n">FDMI_HBA_ATTRIB_OS_NAME</span><span class="p">,</span>	<span class="cm">/* 0x000A */</span>
	<span class="n">FDMI_HBA_ATTRIB_MAX_CT</span><span class="p">,</span>		<span class="cm">/* 0x000B */</span>

	<span class="n">FDMI_HBA_ATTRIB_MAX_TYPE</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI Port attribute types</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">fdmi_port_attribute_type</span> <span class="p">{</span>
	<span class="n">FDMI_PORT_ATTRIB_FC4_TYPES</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* 0x0001 */</span>
	<span class="n">FDMI_PORT_ATTRIB_SUPP_SPEED</span><span class="p">,</span>	<span class="cm">/* 0x0002 */</span>
	<span class="n">FDMI_PORT_ATTRIB_PORT_SPEED</span><span class="p">,</span>	<span class="cm">/* 0x0003 */</span>
	<span class="n">FDMI_PORT_ATTRIB_FRAME_SIZE</span><span class="p">,</span>	<span class="cm">/* 0x0004 */</span>
	<span class="n">FDMI_PORT_ATTRIB_DEV_NAME</span><span class="p">,</span>	<span class="cm">/* 0x0005 */</span>
	<span class="n">FDMI_PORT_ATTRIB_HOST_NAME</span><span class="p">,</span>	<span class="cm">/* 0x0006 */</span>

	<span class="n">FDMI_PORT_ATTR_MAX_TYPE</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI attribute</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fdmi_attr_s</span> <span class="p">{</span>
	<span class="n">__be16</span>        <span class="n">type</span><span class="p">;</span>
	<span class="n">__be16</span>        <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span>         <span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * HBA Attribute Block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fdmi_hba_attr_s</span> <span class="p">{</span>
	<span class="n">__be32</span>        <span class="n">attr_count</span><span class="p">;</span>	<span class="cm">/* # of attributes */</span>
	<span class="k">struct</span> <span class="n">fdmi_attr_s</span> <span class="n">hba_attr</span><span class="p">;</span>	<span class="cm">/* n attributes */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Registered Port List</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fdmi_port_list_s</span> <span class="p">{</span>
	<span class="n">__be32</span>		<span class="n">num_ports</span><span class="p">;</span>	<span class="cm">/* number Of Port Entries */</span>
	<span class="n">wwn_t</span>		<span class="n">port_entry</span><span class="p">;</span>	<span class="cm">/* one or more */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Port Attribute Block</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fdmi_port_attr_s</span> <span class="p">{</span>
	<span class="n">__be32</span>        <span class="n">attr_count</span><span class="p">;</span>	<span class="cm">/* # of attributes */</span>
	<span class="k">struct</span> <span class="n">fdmi_attr_s</span> <span class="n">port_attr</span><span class="p">;</span>	<span class="cm">/* n attributes */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI Register HBA Attributes</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fdmi_rhba_s</span> <span class="p">{</span>
	<span class="n">wwn_t</span>			<span class="n">hba_id</span><span class="p">;</span>		<span class="cm">/* HBA Identifier */</span>
	<span class="k">struct</span> <span class="n">fdmi_port_list_s</span> <span class="n">port_list</span><span class="p">;</span>	<span class="cm">/* Registered Port List */</span>
	<span class="k">struct</span> <span class="n">fdmi_hba_attr_s</span> <span class="n">hba_attr_blk</span><span class="p">;</span>	<span class="cm">/* HBA attribute block */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI Register Port</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fdmi_rprt_s</span> <span class="p">{</span>
	<span class="n">wwn_t</span>			<span class="n">hba_id</span><span class="p">;</span>		<span class="cm">/* HBA Identifier */</span>
	<span class="n">wwn_t</span>			<span class="n">port_name</span><span class="p">;</span>	<span class="cm">/* Port wwn */</span>
	<span class="k">struct</span> <span class="n">fdmi_port_attr_s</span> <span class="n">port_attr_blk</span><span class="p">;</span>	<span class="cm">/* Port Attr Block */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * FDMI Register Port Attributes</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">fdmi_rpa_s</span> <span class="p">{</span>
	<span class="n">wwn_t</span>			<span class="n">port_name</span><span class="p">;</span>	<span class="cm">/* port wwn */</span>
	<span class="k">struct</span> <span class="n">fdmi_port_attr_s</span> <span class="n">port_attr_blk</span><span class="p">;</span>	<span class="cm">/* Port Attr Block */</span>
<span class="p">};</span>

<span class="cp">#pragma pack()</span>

<span class="cp">#endif	</span><span class="cm">/* __BFA_FC_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
