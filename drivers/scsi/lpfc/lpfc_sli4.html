<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › lpfc › lpfc_sli4.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>lpfc_sli4.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*******************************************************************</span>
<span class="cm"> * This file is part of the Emulex Linux Device Driver for         *</span>
<span class="cm"> * Fibre Channel Host Bus Adapters.                                *</span>
<span class="cm"> * Copyright (C) 2009-2011 Emulex.  All rights reserved.           *</span>
<span class="cm"> * EMULEX and SLI are trademarks of Emulex.                        *</span>
<span class="cm"> * www.emulex.com                                                  *</span>
<span class="cm"> *                                                                 *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or   *</span>
<span class="cm"> * modify it under the terms of version 2 of the GNU General       *</span>
<span class="cm"> * Public License as published by the Free Software Foundation.    *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful. *</span>
<span class="cm"> * ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS AND          *</span>
<span class="cm"> * WARRANTIES, INCLUDING ANY IMPLIED WARRANTY OF MERCHANTABILITY,  *</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT, ARE      *</span>
<span class="cm"> * DISCLAIMED, EXCEPT TO THE EXTENT THAT SUCH DISCLAIMERS ARE HELD *</span>
<span class="cm"> * TO BE LEGALLY INVALID.  See the GNU General Public License for  *</span>
<span class="cm"> * more details, a copy of which can be found in the file COPYING  *</span>
<span class="cm"> * included with this package.                                     *</span>
<span class="cm"> *******************************************************************/</span>

<span class="cp">#define LPFC_ACTIVE_MBOX_WAIT_CNT               100</span>
<span class="cp">#define LPFC_XRI_EXCH_BUSY_WAIT_TMO		10000</span>
<span class="cp">#define LPFC_XRI_EXCH_BUSY_WAIT_T1   		10</span>
<span class="cp">#define LPFC_XRI_EXCH_BUSY_WAIT_T2              30000</span>
<span class="cp">#define LPFC_RELEASE_NOTIFICATION_INTERVAL	32</span>
<span class="cp">#define LPFC_RPI_LOW_WATER_MARK			10</span>

<span class="cp">#define LPFC_UNREG_FCF                          1</span>
<span class="cp">#define LPFC_SKIP_UNREG_FCF                     0</span>

<span class="cm">/* Amount of time in seconds for waiting FCF rediscovery to complete */</span>
<span class="cp">#define LPFC_FCF_REDISCOVER_WAIT_TMO		2000 </span><span class="cm">/* msec */</span><span class="cp"></span>

<span class="cm">/* Number of SGL entries can be posted in a 4KB nonembedded mbox command */</span>
<span class="cp">#define LPFC_NEMBED_MBOX_SGL_CNT		254</span>

<span class="cm">/* Multi-queue arrangement for fast-path FCP work queues */</span>
<span class="cp">#define LPFC_FN_EQN_MAX       8</span>
<span class="cp">#define LPFC_SP_EQN_DEF       1</span>
<span class="cp">#define LPFC_FP_EQN_DEF       4</span>
<span class="cp">#define LPFC_FP_EQN_MIN       1</span>
<span class="cp">#define LPFC_FP_EQN_MAX       (LPFC_FN_EQN_MAX - LPFC_SP_EQN_DEF)</span>

<span class="cp">#define LPFC_FN_WQN_MAX       32</span>
<span class="cp">#define LPFC_SP_WQN_DEF       1</span>
<span class="cp">#define LPFC_FP_WQN_DEF       4</span>
<span class="cp">#define LPFC_FP_WQN_MIN       1</span>
<span class="cp">#define LPFC_FP_WQN_MAX       (LPFC_FN_WQN_MAX - LPFC_SP_WQN_DEF)</span>

<span class="cm">/*</span>
<span class="cm"> * Provide the default FCF Record attributes used by the driver</span>
<span class="cm"> * when nonFIP mode is configured and there is no other default</span>
<span class="cm"> * FCF Record attributes.</span>
<span class="cm"> */</span>
<span class="cp">#define LPFC_FCOE_FCF_DEF_INDEX	0</span>
<span class="cp">#define LPFC_FCOE_FCF_GET_FIRST	0xFFFF</span>
<span class="cp">#define LPFC_FCOE_FCF_NEXT_NONE	0xFFFF</span>

<span class="cp">#define LPFC_FCOE_NULL_VID	0xFFF</span>
<span class="cp">#define LPFC_FCOE_IGNORE_VID	0xFFFF</span>

<span class="cm">/* First 3 bytes of default FCF MAC is specified by FC_MAP */</span>
<span class="cp">#define LPFC_FCOE_FCF_MAC3	0xFF</span>
<span class="cp">#define LPFC_FCOE_FCF_MAC4	0xFF</span>
<span class="cp">#define LPFC_FCOE_FCF_MAC5	0xFE</span>
<span class="cp">#define LPFC_FCOE_FCF_MAP0	0x0E</span>
<span class="cp">#define LPFC_FCOE_FCF_MAP1	0xFC</span>
<span class="cp">#define LPFC_FCOE_FCF_MAP2	0x00</span>
<span class="cp">#define LPFC_FCOE_MAX_RCV_SIZE	0x800</span>
<span class="cp">#define LPFC_FCOE_FKA_ADV_PER	0</span>
<span class="cp">#define LPFC_FCOE_FIP_PRIORITY	0x80</span>

<span class="cp">#define sli4_sid_from_fc_hdr(fc_hdr)  \</span>
<span class="cp">	((fc_hdr)-&gt;fh_s_id[0] &lt;&lt; 16 | \</span>
<span class="cp">	 (fc_hdr)-&gt;fh_s_id[1] &lt;&lt;  8 | \</span>
<span class="cp">	 (fc_hdr)-&gt;fh_s_id[2])</span>

<span class="cp">#define sli4_did_from_fc_hdr(fc_hdr)  \</span>
<span class="cp">	((fc_hdr)-&gt;fh_d_id[0] &lt;&lt; 16 | \</span>
<span class="cp">	 (fc_hdr)-&gt;fh_d_id[1] &lt;&lt;  8 | \</span>
<span class="cp">	 (fc_hdr)-&gt;fh_d_id[2])</span>

<span class="cp">#define sli4_fctl_from_fc_hdr(fc_hdr)  \</span>
<span class="cp">	((fc_hdr)-&gt;fh_f_ctl[0] &lt;&lt; 16 | \</span>
<span class="cp">	 (fc_hdr)-&gt;fh_f_ctl[1] &lt;&lt;  8 | \</span>
<span class="cp">	 (fc_hdr)-&gt;fh_f_ctl[2])</span>

<span class="cp">#define sli4_type_from_fc_hdr(fc_hdr)  \</span>
<span class="cp">	((fc_hdr)-&gt;fh_type)</span>

<span class="cp">#define LPFC_FW_RESET_MAXIMUM_WAIT_10MS_CNT 12000</span>

<span class="k">enum</span> <span class="n">lpfc_sli4_queue_type</span> <span class="p">{</span>
	<span class="n">LPFC_EQ</span><span class="p">,</span>
	<span class="n">LPFC_GCQ</span><span class="p">,</span>
	<span class="n">LPFC_MCQ</span><span class="p">,</span>
	<span class="n">LPFC_WCQ</span><span class="p">,</span>
	<span class="n">LPFC_RCQ</span><span class="p">,</span>
	<span class="n">LPFC_MQ</span><span class="p">,</span>
	<span class="n">LPFC_WQ</span><span class="p">,</span>
	<span class="n">LPFC_HRQ</span><span class="p">,</span>
	<span class="n">LPFC_DRQ</span>
<span class="p">};</span>

<span class="cm">/* The queue sub-type defines the functional purpose of the queue */</span>
<span class="k">enum</span> <span class="n">lpfc_sli4_queue_subtype</span> <span class="p">{</span>
	<span class="n">LPFC_NONE</span><span class="p">,</span>
	<span class="n">LPFC_MBOX</span><span class="p">,</span>
	<span class="n">LPFC_FCP</span><span class="p">,</span>
	<span class="n">LPFC_ELS</span><span class="p">,</span>
	<span class="n">LPFC_USOL</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">sli4_qe</span> <span class="p">{</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">address</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_eqe</span> <span class="o">*</span><span class="n">eqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_cqe</span> <span class="o">*</span><span class="n">cqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_mcqe</span> <span class="o">*</span><span class="n">mcqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_wcqe_complete</span> <span class="o">*</span><span class="n">wcqe_complete</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_wcqe_release</span> <span class="o">*</span><span class="n">wcqe_release</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sli4_wcqe_xri_aborted</span> <span class="o">*</span><span class="n">wcqe_xri_aborted</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_rcqe_complete</span> <span class="o">*</span><span class="n">rcqe_complete</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_mqe</span> <span class="o">*</span><span class="n">mqe</span><span class="p">;</span>
	<span class="k">union</span>  <span class="n">lpfc_wqe</span> <span class="o">*</span><span class="n">wqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_rqe</span> <span class="o">*</span><span class="n">rqe</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">lpfc_sli4_queue_type</span> <span class="n">type</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">lpfc_sli4_queue_subtype</span> <span class="n">subtype</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="n">phba</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">child_list</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">entry_count</span><span class="p">;</span>	<span class="cm">/* Number of entries to support on the queue */</span>
	<span class="kt">uint32_t</span> <span class="n">entry_size</span><span class="p">;</span>	<span class="cm">/* Size of each queue entry. */</span>
	<span class="kt">uint32_t</span> <span class="n">entry_repost</span><span class="p">;</span>	<span class="cm">/* Count of entries before doorbell is rung */</span>
<span class="cp">#define LPFC_QUEUE_MIN_REPOST	8</span>
	<span class="kt">uint32_t</span> <span class="n">queue_id</span><span class="p">;</span>	<span class="cm">/* Queue ID assigned by the hardware */</span>
	<span class="kt">uint32_t</span> <span class="n">assoc_qid</span><span class="p">;</span>     <span class="cm">/* Queue ID associated with, for CQ/WQ/MQ */</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">page_list</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">page_count</span><span class="p">;</span>	<span class="cm">/* Number of pages allocated for this queue */</span>
	<span class="kt">uint32_t</span> <span class="n">host_index</span><span class="p">;</span>	<span class="cm">/* The host&#39;s index for putting or getting */</span>
	<span class="kt">uint32_t</span> <span class="n">hba_index</span><span class="p">;</span>	<span class="cm">/* The last known hba index for get or put */</span>
	<span class="k">union</span> <span class="n">sli4_qe</span> <span class="n">qe</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>	<span class="cm">/* array to index entries (must be last) */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_sli4_link</span> <span class="p">{</span>
	<span class="kt">uint8_t</span> <span class="n">speed</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">duplex</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">status</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">type</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">number</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">fault</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">logical_speed</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">topology</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_fcf_rec</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>  <span class="n">fabric_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint8_t</span>  <span class="n">switch_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint8_t</span>  <span class="n">mac_addr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="kt">uint16_t</span> <span class="n">fcf_indx</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">priority</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">vlan_id</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">addr_mode</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">flag</span><span class="p">;</span>
<span class="cp">#define BOOT_ENABLE	0x01</span>
<span class="cp">#define RECORD_VALID	0x02</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_fcf_pri_rec</span> <span class="p">{</span>
	<span class="kt">uint16_t</span> <span class="n">fcf_index</span><span class="p">;</span>
<span class="cp">#define LPFC_FCF_ON_PRI_LIST 0x0001</span>
<span class="cp">#define LPFC_FCF_FLOGI_FAILED 0x0002</span>
	<span class="kt">uint16_t</span> <span class="n">flag</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">priority</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_fcf_pri</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_fcf_pri_rec</span> <span class="n">fcf_rec</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Maximum FCF table index, it is for driver internal book keeping, it</span>
<span class="cm"> * just needs to be no less than the supported HBA&#39;s FCF table size.</span>
<span class="cm"> */</span>
<span class="cp">#define LPFC_SLI4_FCF_TBL_INDX_MAX	32</span>

<span class="k">struct</span> <span class="n">lpfc_fcf</span> <span class="p">{</span>
	<span class="kt">uint16_t</span> <span class="n">fcfi</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">fcf_flag</span><span class="p">;</span>
<span class="cp">#define FCF_AVAILABLE	0x01 </span><span class="cm">/* FCF available for discovery */</span><span class="cp"></span>
<span class="cp">#define FCF_REGISTERED	0x02 </span><span class="cm">/* FCF registered with FW */</span><span class="cp"></span>
<span class="cp">#define FCF_SCAN_DONE	0x04 </span><span class="cm">/* FCF table scan done */</span><span class="cp"></span>
<span class="cp">#define FCF_IN_USE	0x08 </span><span class="cm">/* Atleast one discovery completed */</span><span class="cp"></span>
<span class="cp">#define FCF_INIT_DISC	0x10 </span><span class="cm">/* Initial FCF discovery */</span><span class="cp"></span>
<span class="cp">#define FCF_DEAD_DISC	0x20 </span><span class="cm">/* FCF DEAD fast FCF failover discovery */</span><span class="cp"></span>
<span class="cp">#define FCF_ACVL_DISC	0x40 </span><span class="cm">/* All CVL fast FCF failover discovery */</span><span class="cp"></span>
<span class="cp">#define FCF_DISCOVERY	(FCF_INIT_DISC | FCF_DEAD_DISC | FCF_ACVL_DISC)</span>
<span class="cp">#define FCF_REDISC_PEND	0x80 </span><span class="cm">/* FCF rediscovery pending */</span><span class="cp"></span>
<span class="cp">#define FCF_REDISC_EVT	0x100 </span><span class="cm">/* FCF rediscovery event to worker thread */</span><span class="cp"></span>
<span class="cp">#define FCF_REDISC_FOV	0x200 </span><span class="cm">/* Post FCF rediscovery fast failover */</span><span class="cp"></span>
<span class="cp">#define FCF_REDISC_PROG (FCF_REDISC_PEND | FCF_REDISC_EVT)</span>
	<span class="kt">uint32_t</span> <span class="n">addr_mode</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">eligible_fcf_cnt</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_fcf_rec</span> <span class="n">current_rec</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_fcf_rec</span> <span class="n">failover_rec</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">fcf_pri_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_fcf_pri</span> <span class="n">fcf_pri</span><span class="p">[</span><span class="n">LPFC_SLI4_FCF_TBL_INDX_MAX</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">current_fcf_scan_pri</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span> <span class="n">redisc_wait</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">fcf_rr_bmask</span><span class="p">;</span> <span class="cm">/* Eligible FCF indexes for RR failover */</span>
<span class="p">};</span>


<span class="cp">#define LPFC_REGION23_SIGNATURE &quot;RG23&quot;</span>
<span class="cp">#define LPFC_REGION23_VERSION	1</span>
<span class="cp">#define LPFC_REGION23_LAST_REC  0xff</span>
<span class="cp">#define DRIVER_SPECIFIC_TYPE	0xA2</span>
<span class="cp">#define LINUX_DRIVER_ID		0x20</span>
<span class="cp">#define PORT_STE_TYPE		0x1</span>

<span class="k">struct</span> <span class="n">lpfc_fip_param_hdr</span> <span class="p">{</span>
	<span class="kt">uint8_t</span> <span class="n">type</span><span class="p">;</span>
<span class="cp">#define FCOE_PARAM_TYPE		0xA0</span>
	<span class="kt">uint8_t</span> <span class="n">length</span><span class="p">;</span>
<span class="cp">#define FCOE_PARAM_LENGTH	2</span>
	<span class="kt">uint8_t</span> <span class="n">parm_version</span><span class="p">;</span>
<span class="cp">#define FIPP_VERSION		0x01</span>
	<span class="kt">uint8_t</span> <span class="n">parm_flags</span><span class="p">;</span>
<span class="cp">#define	lpfc_fip_param_hdr_fipp_mode_SHIFT	6</span>
<span class="cp">#define	lpfc_fip_param_hdr_fipp_mode_MASK	0x3</span>
<span class="cp">#define lpfc_fip_param_hdr_fipp_mode_WORD	parm_flags</span>
<span class="cp">#define	FIPP_MODE_ON				0x1</span>
<span class="cp">#define	FIPP_MODE_OFF				0x0</span>
<span class="cp">#define FIPP_VLAN_VALID				0x1</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_fcoe_params</span> <span class="p">{</span>
	<span class="kt">uint8_t</span> <span class="n">fc_map</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">uint8_t</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">vlan_tag</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_fcf_conn_hdr</span> <span class="p">{</span>
	<span class="kt">uint8_t</span> <span class="n">type</span><span class="p">;</span>
<span class="cp">#define FCOE_CONN_TBL_TYPE		0xA1</span>
	<span class="kt">uint8_t</span> <span class="n">length</span><span class="p">;</span>   <span class="cm">/* words */</span>
	<span class="kt">uint8_t</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_fcf_conn_rec</span> <span class="p">{</span>
	<span class="kt">uint16_t</span> <span class="n">flags</span><span class="p">;</span>
<span class="cp">#define	FCFCNCT_VALID		0x0001</span>
<span class="cp">#define	FCFCNCT_BOOT		0x0002</span>
<span class="cp">#define	FCFCNCT_PRIMARY		0x0004   </span><span class="cm">/* if not set, Secondary */</span><span class="cp"></span>
<span class="cp">#define	FCFCNCT_FBNM_VALID	0x0008</span>
<span class="cp">#define	FCFCNCT_SWNM_VALID	0x0010</span>
<span class="cp">#define	FCFCNCT_VLAN_VALID	0x0020</span>
<span class="cp">#define	FCFCNCT_AM_VALID	0x0040</span>
<span class="cp">#define	FCFCNCT_AM_PREFERRED	0x0080   </span><span class="cm">/* if not set, AM Required */</span><span class="cp"></span>
<span class="cp">#define	FCFCNCT_AM_SPMA		0x0100	 </span><span class="cm">/* if not set, FPMA */</span><span class="cp"></span>

	<span class="kt">uint16_t</span> <span class="n">vlan_tag</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">fabric_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint8_t</span> <span class="n">switch_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_fcf_conn_entry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_fcf_conn_rec</span> <span class="n">conn_rec</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Define the host&#39;s bootstrap mailbox.  This structure contains</span>
<span class="cm"> * the member attributes needed to create, use, and destroy the</span>
<span class="cm"> * bootstrap mailbox region.</span>
<span class="cm"> *</span>
<span class="cm"> * The macro definitions for the bmbx data structure are defined</span>
<span class="cm"> * in lpfc_hw4.h with the register definition.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">lpfc_bmbx</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpfc_dmabuf</span> <span class="o">*</span><span class="n">dmabuf</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">dma_address</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">avirt</span><span class="p">;</span>
	<span class="n">dma_addr_t</span> <span class="n">aphys</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">bmbx_size</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define LPFC_EQE_SIZE LPFC_EQE_SIZE_4</span>

<span class="cp">#define LPFC_EQE_SIZE_4B 	4</span>
<span class="cp">#define LPFC_EQE_SIZE_16B	16</span>
<span class="cp">#define LPFC_CQE_SIZE		16</span>
<span class="cp">#define LPFC_WQE_SIZE		64</span>
<span class="cp">#define LPFC_MQE_SIZE		256</span>
<span class="cp">#define LPFC_RQE_SIZE		8</span>

<span class="cp">#define LPFC_EQE_DEF_COUNT	1024</span>
<span class="cp">#define LPFC_CQE_DEF_COUNT      1024</span>
<span class="cp">#define LPFC_WQE_DEF_COUNT      256</span>
<span class="cp">#define LPFC_MQE_DEF_COUNT      16</span>
<span class="cp">#define LPFC_RQE_DEF_COUNT	512</span>

<span class="cp">#define LPFC_QUEUE_NOARM	false</span>
<span class="cp">#define LPFC_QUEUE_REARM	true</span>


<span class="cm">/*</span>
<span class="cm"> * SLI4 CT field defines</span>
<span class="cm"> */</span>
<span class="cp">#define SLI4_CT_RPI 0</span>
<span class="cp">#define SLI4_CT_VPI 1</span>
<span class="cp">#define SLI4_CT_VFI 2</span>
<span class="cp">#define SLI4_CT_FCFI 3</span>

<span class="cp">#define LPFC_SLI4_FL1_MAX_SEGMENT_SIZE	0x10000</span>
<span class="cp">#define LPFC_SLI4_FL1_MAX_BUF_SIZE	0X2000</span>
<span class="cp">#define LPFC_SLI4_MIN_BUF_SIZE		0x400</span>
<span class="cp">#define LPFC_SLI4_MAX_BUF_SIZE		0x20000</span>

<span class="cm">/*</span>
<span class="cm"> * SLI4 specific data structures</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">lpfc_max_cfg_param</span> <span class="p">{</span>
	<span class="kt">uint16_t</span> <span class="n">max_xri</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">xri_base</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">xri_used</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_rpi</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">rpi_base</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">rpi_used</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_vpi</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">vpi_base</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">vpi_used</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_vfi</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">vfi_base</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">vfi_used</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_fcfi</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">fcfi_used</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_eq</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_rq</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_cq</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">max_wq</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_hba</span><span class="p">;</span>
<span class="cm">/* SLI4 HBA multi-fcp queue handler struct */</span>
<span class="k">struct</span> <span class="n">lpfc_fcp_eq_hdl</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">idx</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="n">phba</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Port Capabilities for SLI4 Parameters */</span>
<span class="k">struct</span> <span class="n">lpfc_pc_sli4_params</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">supported</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">if_type</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">sli_rev</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">sli_family</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">featurelevel_1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">featurelevel_2</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">proto_types</span><span class="p">;</span>
<span class="cp">#define LPFC_SLI4_PROTO_FCOE	0x0000001</span>
<span class="cp">#define LPFC_SLI4_PROTO_FC	0x0000002</span>
<span class="cp">#define LPFC_SLI4_PROTO_NIC	0x0000004</span>
<span class="cp">#define LPFC_SLI4_PROTO_ISCSI	0x0000008</span>
<span class="cp">#define LPFC_SLI4_PROTO_RDMA	0x0000010</span>
	<span class="kt">uint32_t</span> <span class="n">sge_supp_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">if_page_sz</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rq_db_window</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">loopbk_scope</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">eq_pages_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">eqe_size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">cq_pages_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">cqe_size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">mq_pages_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">mqe_size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">mq_elem_cnt</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">wq_pages_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">wqe_size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rq_pages_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rqe_size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">hdr_pages_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">hdr_size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">hdr_pp_align</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">sgl_pages_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">sgl_pp_align</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">cqv</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">mqv</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">wqv</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">rqv</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_iov</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">pf_number</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">vf_number</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_sli4_lnk_info</span> <span class="p">{</span>
	<span class="kt">uint8_t</span> <span class="n">lnk_dv</span><span class="p">;</span>
<span class="cp">#define LPFC_LNK_DAT_INVAL	0</span>
<span class="cp">#define LPFC_LNK_DAT_VAL	1</span>
	<span class="kt">uint8_t</span> <span class="n">lnk_tp</span><span class="p">;</span>
<span class="cp">#define LPFC_LNK_GE	0x0 </span><span class="cm">/* FCoE */</span><span class="cp"></span>
<span class="cp">#define LPFC_LNK_FC	0x1 </span><span class="cm">/* FC   */</span><span class="cp"></span>
	<span class="kt">uint8_t</span> <span class="n">lnk_no</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* SLI4 HBA data structure entries */</span>
<span class="k">struct</span> <span class="n">lpfc_sli4_hba</span> <span class="p">{</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">conf_regs_memmap_p</span><span class="p">;</span> <span class="cm">/* Kernel memory mapped address for</span>
<span class="cm">					     PCI BAR0, config space registers */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">ctrl_regs_memmap_p</span><span class="p">;</span> <span class="cm">/* Kernel memory mapped address for</span>
<span class="cm">					     PCI BAR1, control registers */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">drbl_regs_memmap_p</span><span class="p">;</span> <span class="cm">/* Kernel memory mapped address for</span>
<span class="cm">					     PCI BAR2, doorbell registers */</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="cm">/* IF Type 0, BAR 0 PCI cfg space reg mem map */</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">UERRLOregaddr</span><span class="p">;</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">UERRHIregaddr</span><span class="p">;</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">UEMASKLOregaddr</span><span class="p">;</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">UEMASKHIregaddr</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">if_type0</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="cm">/* IF Type 2, BAR 0 PCI cfg space reg mem map. */</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">STATUSregaddr</span><span class="p">;</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">CTRLregaddr</span><span class="p">;</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">ERR1regaddr</span><span class="p">;</span>
<span class="cp">#define SLIPORT_ERR1_REG_ERR_CODE_1		0x1</span>
<span class="cp">#define SLIPORT_ERR1_REG_ERR_CODE_2		0x2</span>
			<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">ERR2regaddr</span><span class="p">;</span>
<span class="cp">#define SLIPORT_ERR2_REG_FW_RESTART		0x0</span>
<span class="cp">#define SLIPORT_ERR2_REG_FUNC_PROVISON		0x1</span>
<span class="cp">#define SLIPORT_ERR2_REG_FORCED_DUMP		0x2</span>
<span class="cp">#define SLIPORT_ERR2_REG_FAILURE_EQ		0x3</span>
<span class="cp">#define SLIPORT_ERR2_REG_FAILURE_CQ		0x4</span>
<span class="cp">#define SLIPORT_ERR2_REG_FAILURE_BUS		0x5</span>
<span class="cp">#define SLIPORT_ERR2_REG_FAILURE_RQ		0x6</span>
		<span class="p">}</span> <span class="n">if_type2</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>

	<span class="cm">/* IF type 0, BAR1 and if type 2, Bar 0 CSR register memory map */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">PSMPHRregaddr</span><span class="p">;</span>

	<span class="cm">/* Well-known SLI INTF register memory map. */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">SLIINTFregaddr</span><span class="p">;</span>

	<span class="cm">/* IF type 0, BAR 1 function CSR register memory map */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">ISRregaddr</span><span class="p">;</span>	<span class="cm">/* HST_ISR register */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">IMRregaddr</span><span class="p">;</span>	<span class="cm">/* HST_IMR register */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">ISCRregaddr</span><span class="p">;</span>	<span class="cm">/* HST_ISCR register */</span>
	<span class="cm">/* IF type 0, BAR 0 and if type 2, BAR 0 doorbell register memory map */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">RQDBregaddr</span><span class="p">;</span>	<span class="cm">/* RQ_DOORBELL register */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">WQDBregaddr</span><span class="p">;</span>	<span class="cm">/* WQ_DOORBELL register */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">EQCQDBregaddr</span><span class="p">;</span>	<span class="cm">/* EQCQ_DOORBELL register */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">MQDBregaddr</span><span class="p">;</span>	<span class="cm">/* MQ_DOORBELL register */</span>
	<span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">BMBXregaddr</span><span class="p">;</span>	<span class="cm">/* BootStrap MBX register */</span>

	<span class="kt">uint32_t</span> <span class="n">ue_mask_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">ue_mask_hi</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_register</span> <span class="n">sli_intf</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_pc_sli4_params</span> <span class="n">pc_sli4_params</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">msix_entry</span> <span class="o">*</span><span class="n">msix_entries</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">cfg_eqn</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">msix_vec_nr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_fcp_eq_hdl</span> <span class="o">*</span><span class="n">fcp_eq_hdl</span><span class="p">;</span> <span class="cm">/* FCP per-WQ handle */</span>
	<span class="cm">/* Pointers to the constructed SLI4 queues */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">**</span><span class="n">fp_eq</span><span class="p">;</span> <span class="cm">/* Fast-path event queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">sp_eq</span><span class="p">;</span>  <span class="cm">/* Slow-path event queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">**</span><span class="n">fcp_wq</span><span class="p">;</span><span class="cm">/* Fast-path FCP work queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">mbx_wq</span><span class="p">;</span> <span class="cm">/* Slow-path MBOX work queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">els_wq</span><span class="p">;</span> <span class="cm">/* Slow-path ELS work queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">hdr_rq</span><span class="p">;</span> <span class="cm">/* Slow-path Header Receive queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">dat_rq</span><span class="p">;</span> <span class="cm">/* Slow-path Data Receive queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">**</span><span class="n">fcp_cq</span><span class="p">;</span><span class="cm">/* Fast-path FCP compl queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">mbx_cq</span><span class="p">;</span> <span class="cm">/* Slow-path mailbox complete queue */</span>
	<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">els_cq</span><span class="p">;</span> <span class="cm">/* Slow-path ELS response complete queue */</span>

	<span class="cm">/* Setup information for various queue parameters */</span>
	<span class="kt">int</span> <span class="n">eq_esize</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">eq_ecount</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">cq_esize</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">cq_ecount</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">wq_esize</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">wq_ecount</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">mq_esize</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">mq_ecount</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">rq_esize</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">rq_ecount</span><span class="p">;</span>
<span class="cp">#define LPFC_SP_EQ_MAX_INTR_SEC         10000</span>
<span class="cp">#define LPFC_FP_EQ_MAX_INTR_SEC         10000</span>

	<span class="kt">uint32_t</span> <span class="n">intr_enable</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_bmbx</span> <span class="n">bmbx</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_max_cfg_param</span> <span class="n">max_cfg_param</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">extents_in_use</span><span class="p">;</span> <span class="cm">/* must allocate resource extents. */</span>
	<span class="kt">uint16_t</span> <span class="n">rpi_hdrs_in_use</span><span class="p">;</span> <span class="cm">/* must post rpi hdrs if set. */</span>
	<span class="kt">uint16_t</span> <span class="n">next_xri</span><span class="p">;</span> <span class="cm">/* last_xri - max_cfg_param.xri_base = used */</span>
	<span class="kt">uint16_t</span> <span class="n">next_rpi</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">scsi_xri_max</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">scsi_xri_cnt</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">els_xri_cnt</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">scsi_xri_start</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_free_sgl_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_sgl_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_abts_els_sgl_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_abts_scsi_buf_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_sglq</span> <span class="o">**</span><span class="n">lpfc_sglq_active_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_rpi_hdr_list</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">rpi_bmask</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="o">*</span><span class="n">rpi_ids</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">rpi_count</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_rpi_blk_list</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">xri_bmask</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="o">*</span><span class="n">xri_ids</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_xri_blk_list</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">vfi_bmask</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="o">*</span><span class="n">vfi_ids</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">vfi_count</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">lpfc_vfi_blk_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_sli4_flags</span> <span class="n">sli4_flags</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">sp_queue_event</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">sp_cqe_event_pool</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">sp_asynce_work_queue</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">sp_fcp_xri_aborted_work_queue</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">sp_els_xri_aborted_work_queue</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">sp_unsol_work_queue</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_sli4_link</span> <span class="n">link_state</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_sli4_lnk_info</span> <span class="n">lnk_info</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">pport_name_sta</span><span class="p">;</span>
<span class="cp">#define LPFC_SLI4_PPNAME_NON	0</span>
<span class="cp">#define LPFC_SLI4_PPNAME_GET	1</span>
	<span class="k">struct</span> <span class="n">lpfc_iov</span> <span class="n">iov</span><span class="p">;</span>
	<span class="n">spinlock_t</span> <span class="n">abts_scsi_buf_list_lock</span><span class="p">;</span> <span class="cm">/* list of aborted SCSI IOs */</span>
	<span class="n">spinlock_t</span> <span class="n">abts_sgl_list_lock</span><span class="p">;</span> <span class="cm">/* list of aborted els IOs */</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">lpfc_sge_type</span> <span class="p">{</span>
	<span class="n">GEN_BUFF_TYPE</span><span class="p">,</span>
	<span class="n">SCSI_BUFF_TYPE</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">lpfc_sgl_state</span> <span class="p">{</span>
	<span class="n">SGL_FREED</span><span class="p">,</span>
	<span class="n">SGL_ALLOCATED</span><span class="p">,</span>
	<span class="n">SGL_XRI_ABORTED</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_sglq</span> <span class="p">{</span>
	<span class="cm">/* lpfc_sglqs are used in double linked lists */</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">clist</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">lpfc_sge_type</span> <span class="n">buff_type</span><span class="p">;</span> <span class="cm">/* is this a scsi sgl */</span>
	<span class="k">enum</span> <span class="n">lpfc_sgl_state</span> <span class="n">state</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_nodelist</span> <span class="o">*</span><span class="n">ndlp</span><span class="p">;</span> <span class="cm">/* ndlp associated with IO */</span>
	<span class="kt">uint16_t</span> <span class="n">iotag</span><span class="p">;</span>         <span class="cm">/* pre-assigned IO tag */</span>
	<span class="kt">uint16_t</span> <span class="n">sli4_lxritag</span><span class="p">;</span>  <span class="cm">/* logical pre-assigned xri. */</span>
	<span class="kt">uint16_t</span> <span class="n">sli4_xritag</span><span class="p">;</span>   <span class="cm">/* pre-assigned XRI, (OXID) tag. */</span>
	<span class="k">struct</span> <span class="n">sli4_sge</span> <span class="o">*</span><span class="n">sgl</span><span class="p">;</span>	<span class="cm">/* pre-assigned SGL */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">virt</span><span class="p">;</span>		<span class="cm">/* virtual address. */</span>
	<span class="n">dma_addr_t</span> <span class="n">phys</span><span class="p">;</span>	<span class="cm">/* physical address */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_rpi_hdr</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">len</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_dmabuf</span> <span class="o">*</span><span class="n">dmabuf</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">page_count</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">start_rpi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_rsrc_blks</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">rsrc_start</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">rsrc_size</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">rsrc_used</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * SLI4 specific function prototypes</span>
<span class="cm"> */</span>
<span class="kt">int</span> <span class="n">lpfc_pci_function_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_pdev_status_reg_wait</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_hba_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfcMboxq</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint8_t</span><span class="p">,</span>
		     <span class="kt">uint8_t</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">,</span> <span class="n">bool</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_mbox_cmd_free</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfcMboxq</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_mbx_sge_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfcMboxq</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">,</span> <span class="n">dma_addr_t</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_mbx_sge_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfcMboxq</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">lpfc_mbx_sge</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_mbx_read_fcf_rec</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfcMboxq</span> <span class="o">*</span><span class="p">,</span>
			       <span class="kt">uint16_t</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">lpfc_sli4_hba_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="n">lpfc_sli4_queue_alloc</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">,</span>
			<span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_queue_free</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_eq_create</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint16_t</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_cq_create</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">int32_t</span> <span class="n">lpfc_mq_create</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_wq_create</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_rq_create</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint32_t</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_rq_adjust_repost</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_eq_destroy</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_cq_destroy</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_mq_destroy</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_wq_destroy</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_rq_destroy</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_queue_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_queue_unset</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_post_sgl</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="n">dma_addr_t</span><span class="p">,</span> <span class="n">dma_addr_t</span><span class="p">,</span> <span class="kt">uint16_t</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_repost_scsi_sgl_list</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint16_t</span> <span class="n">lpfc_sli4_next_xritag</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_post_async_mbox</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_post_scsi_sgl_block</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">list_head</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">lpfc_cq_event</span> <span class="o">*</span><span class="n">__lpfc_sli4_cq_event_alloc</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">lpfc_cq_event</span> <span class="o">*</span><span class="n">lpfc_sli4_cq_event_alloc</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">__lpfc_sli4_cq_event_release</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_cq_event</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_cq_event_release</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_cq_event</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_init_rpi_hdrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_post_rpi_hdr</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">lpfc_rpi_hdr</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_post_all_rpi_hdrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">lpfc_rpi_hdr</span> <span class="o">*</span><span class="n">lpfc_sli4_create_rpi_hdr</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_remove_rpi_hdrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_alloc_rpi</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_free_rpi</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_remove_rpis</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_async_event_proc</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_fcf_redisc_event_proc</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_resume_rpi</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_nodelist</span> <span class="o">*</span><span class="p">,</span>
			<span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="n">LPFC_MBOXQ_t</span> <span class="o">*</span><span class="p">),</span> <span class="kt">void</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_fcp_xri_abort_event_proc</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_els_xri_abort_event_proc</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_fcp_xri_aborted</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">sli4_wcqe_xri_aborted</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_els_xri_aborted</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">sli4_wcqe_xri_aborted</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_vport_delete_els_xri_aborted</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_vport</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_vport_delete_fcp_xri_aborted</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_vport</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_brdreset</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_add_fcf_record</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">fcf_record</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli_remove_dflt_fcf</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_get_els_iocb_cnt</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_init_vpi</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_vport</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_sli4_cq_release</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="n">bool</span><span class="p">);</span>
<span class="kt">uint32_t</span> <span class="n">lpfc_sli4_eq_release</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_queue</span> <span class="o">*</span><span class="p">,</span> <span class="n">bool</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_sli4_fcfi_unreg</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint16_t</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_fcf_scan_read_fcf_rec</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint16_t</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_fcf_rr_read_fcf_rec</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint16_t</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_read_fcf_rec</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="kt">uint16_t</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_mbx_cmpl_fcf_scan_read_fcf_rec</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="n">LPFC_MBOXQ_t</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_mbx_cmpl_fcf_rr_read_fcf_rec</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="n">LPFC_MBOXQ_t</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">lpfc_mbx_cmpl_read_fcf_rec</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="n">LPFC_MBOXQ_t</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_unregister_fcf</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">lpfc_sli4_post_status_check</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">lpfc_sli_config_mbox_subsys_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="n">LPFC_MBOXQ_t</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">lpfc_sli_config_mbox_opcode_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpfc_hba</span> <span class="o">*</span><span class="p">,</span> <span class="n">LPFC_MBOXQ_t</span> <span class="o">*</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
