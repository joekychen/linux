<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › lpfc › lpfc_hw4.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>lpfc_hw4.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*******************************************************************</span>
<span class="cm"> * This file is part of the Emulex Linux Device Driver for         *</span>
<span class="cm"> * Fibre Channel Host Bus Adapters.                                *</span>
<span class="cm"> * Copyright (C) 2009-2012 Emulex.  All rights reserved.                *</span>
<span class="cm"> * EMULEX and SLI are trademarks of Emulex.                        *</span>
<span class="cm"> * www.emulex.com                                                  *</span>
<span class="cm"> *                                                                 *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or   *</span>
<span class="cm"> * modify it under the terms of version 2 of the GNU General       *</span>
<span class="cm"> * Public License as published by the Free Software Foundation.    *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful. *</span>
<span class="cm"> * ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS AND          *</span>
<span class="cm"> * WARRANTIES, INCLUDING ANY IMPLIED WARRANTY OF MERCHANTABILITY,  *</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT, ARE      *</span>
<span class="cm"> * DISCLAIMED, EXCEPT TO THE EXTENT THAT SUCH DISCLAIMERS ARE HELD *</span>
<span class="cm"> * TO BE LEGALLY INVALID.  See the GNU General Public License for  *</span>
<span class="cm"> * more details, a copy of which can be found in the file COPYING  *</span>
<span class="cm"> * included with this package.                                     *</span>
<span class="cm"> *******************************************************************/</span>

<span class="cm">/* Macros to deal with bit fields. Each bit field must have 3 #defines</span>
<span class="cm"> * associated with it (_SHIFT, _MASK, and _WORD).</span>
<span class="cm"> * EG. For a bit field that is in the 7th bit of the &quot;field4&quot; field of a</span>
<span class="cm"> * structure and is 2 bits in size the following #defines must exist:</span>
<span class="cm"> *	struct temp {</span>
<span class="cm"> *		uint32_t	field1;</span>
<span class="cm"> *		uint32_t	field2;</span>
<span class="cm"> *		uint32_t	field3;</span>
<span class="cm"> *		uint32_t	field4;</span>
<span class="cm"> *	#define example_bit_field_SHIFT		7</span>
<span class="cm"> *	#define example_bit_field_MASK		0x03</span>
<span class="cm"> *	#define example_bit_field_WORD		field4</span>
<span class="cm"> *		uint32_t	field5;</span>
<span class="cm"> *	};</span>
<span class="cm"> * Then the macros below may be used to get or set the value of that field.</span>
<span class="cm"> * EG. To get the value of the bit field from the above example:</span>
<span class="cm"> *	struct temp t1;</span>
<span class="cm"> *	value = bf_get(example_bit_field, &amp;t1);</span>
<span class="cm"> * And then to set that bit field:</span>
<span class="cm"> *	bf_set(example_bit_field, &amp;t1, 2);</span>
<span class="cm"> * Or clear that bit field:</span>
<span class="cm"> *	bf_set(example_bit_field, &amp;t1, 0);</span>
<span class="cm"> */</span>
<span class="cp">#define bf_get_be32(name, ptr) \</span>
<span class="cp">	((be32_to_cpu((ptr)-&gt;name##_WORD) &gt;&gt; name##_SHIFT) &amp; name##_MASK)</span>
<span class="cp">#define bf_get_le32(name, ptr) \</span>
<span class="cp">	((le32_to_cpu((ptr)-&gt;name##_WORD) &gt;&gt; name##_SHIFT) &amp; name##_MASK)</span>
<span class="cp">#define bf_get(name, ptr) \</span>
<span class="cp">	(((ptr)-&gt;name##_WORD &gt;&gt; name##_SHIFT) &amp; name##_MASK)</span>
<span class="cp">#define bf_set_le32(name, ptr, value) \</span>
<span class="cp">	((ptr)-&gt;name##_WORD = cpu_to_le32(((((value) &amp; \</span>
<span class="cp">	name##_MASK) &lt;&lt; name##_SHIFT) | (le32_to_cpu((ptr)-&gt;name##_WORD) &amp; \</span>
<span class="cp">	~(name##_MASK &lt;&lt; name##_SHIFT)))))</span>
<span class="cp">#define bf_set(name, ptr, value) \</span>
<span class="cp">	((ptr)-&gt;name##_WORD = ((((value) &amp; name##_MASK) &lt;&lt; name##_SHIFT) | \</span>
<span class="cp">		 ((ptr)-&gt;name##_WORD &amp; ~(name##_MASK &lt;&lt; name##_SHIFT))))</span>

<span class="k">struct</span> <span class="n">dma_address</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">addr_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_sli_intf</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_sli_intf_valid_SHIFT		29</span>
<span class="cp">#define lpfc_sli_intf_valid_MASK		0x00000007</span>
<span class="cp">#define lpfc_sli_intf_valid_WORD		word0</span>
<span class="cp">#define LPFC_SLI_INTF_VALID		6</span>
<span class="cp">#define lpfc_sli_intf_sli_hint2_SHIFT		24</span>
<span class="cp">#define lpfc_sli_intf_sli_hint2_MASK		0x0000001F</span>
<span class="cp">#define lpfc_sli_intf_sli_hint2_WORD		word0</span>
<span class="cp">#define LPFC_SLI_INTF_SLI_HINT2_NONE	0</span>
<span class="cp">#define lpfc_sli_intf_sli_hint1_SHIFT		16</span>
<span class="cp">#define lpfc_sli_intf_sli_hint1_MASK		0x000000FF</span>
<span class="cp">#define lpfc_sli_intf_sli_hint1_WORD		word0</span>
<span class="cp">#define LPFC_SLI_INTF_SLI_HINT1_NONE	0</span>
<span class="cp">#define LPFC_SLI_INTF_SLI_HINT1_1	1</span>
<span class="cp">#define LPFC_SLI_INTF_SLI_HINT1_2	2</span>
<span class="cp">#define lpfc_sli_intf_if_type_SHIFT		12</span>
<span class="cp">#define lpfc_sli_intf_if_type_MASK		0x0000000F</span>
<span class="cp">#define lpfc_sli_intf_if_type_WORD		word0</span>
<span class="cp">#define LPFC_SLI_INTF_IF_TYPE_0		0</span>
<span class="cp">#define LPFC_SLI_INTF_IF_TYPE_1		1</span>
<span class="cp">#define LPFC_SLI_INTF_IF_TYPE_2		2</span>
<span class="cp">#define lpfc_sli_intf_sli_family_SHIFT		8</span>
<span class="cp">#define lpfc_sli_intf_sli_family_MASK		0x0000000F</span>
<span class="cp">#define lpfc_sli_intf_sli_family_WORD		word0</span>
<span class="cp">#define LPFC_SLI_INTF_FAMILY_BE2	0x0</span>
<span class="cp">#define LPFC_SLI_INTF_FAMILY_BE3	0x1</span>
<span class="cp">#define LPFC_SLI_INTF_FAMILY_LNCR_A0	0xa</span>
<span class="cp">#define LPFC_SLI_INTF_FAMILY_LNCR_B0	0xb</span>
<span class="cp">#define lpfc_sli_intf_slirev_SHIFT		4</span>
<span class="cp">#define lpfc_sli_intf_slirev_MASK		0x0000000F</span>
<span class="cp">#define lpfc_sli_intf_slirev_WORD		word0</span>
<span class="cp">#define LPFC_SLI_INTF_REV_SLI3		3</span>
<span class="cp">#define LPFC_SLI_INTF_REV_SLI4		4</span>
<span class="cp">#define lpfc_sli_intf_func_type_SHIFT		0</span>
<span class="cp">#define lpfc_sli_intf_func_type_MASK		0x00000001</span>
<span class="cp">#define lpfc_sli_intf_func_type_WORD		word0</span>
<span class="cp">#define LPFC_SLI_INTF_IF_TYPE_PHYS	0</span>
<span class="cp">#define LPFC_SLI_INTF_IF_TYPE_VIRT	1</span>
<span class="p">};</span>

<span class="cp">#define LPFC_SLI4_MBX_EMBED	true</span>
<span class="cp">#define LPFC_SLI4_MBX_NEMBED	false</span>

<span class="cp">#define LPFC_SLI4_MB_WORD_COUNT		64</span>
<span class="cp">#define LPFC_MAX_MQ_PAGE		8</span>
<span class="cp">#define LPFC_MAX_WQ_PAGE		8</span>
<span class="cp">#define LPFC_MAX_CQ_PAGE		4</span>
<span class="cp">#define LPFC_MAX_EQ_PAGE		8</span>

<span class="cp">#define LPFC_VIR_FUNC_MAX       32 </span><span class="cm">/* Maximum number of virtual functions */</span><span class="cp"></span>
<span class="cp">#define LPFC_PCI_FUNC_MAX        5 </span><span class="cm">/* Maximum number of PCI functions */</span><span class="cp"></span>
<span class="cp">#define LPFC_VFR_PAGE_SIZE	0x1000 </span><span class="cm">/* 4KB BAR2 per-VF register page size */</span><span class="cp"></span>

<span class="cm">/* Define SLI4 Alignment requirements. */</span>
<span class="cp">#define LPFC_ALIGN_16_BYTE	16</span>
<span class="cp">#define LPFC_ALIGN_64_BYTE	64</span>

<span class="cm">/* Define SLI4 specific definitions. */</span>
<span class="cp">#define LPFC_MQ_CQE_BYTE_OFFSET	256</span>
<span class="cp">#define LPFC_MBX_CMD_HDR_LENGTH 16</span>
<span class="cp">#define LPFC_MBX_ERROR_RANGE	0x4000</span>
<span class="cp">#define LPFC_BMBX_BIT1_ADDR_HI	0x2</span>
<span class="cp">#define LPFC_BMBX_BIT1_ADDR_LO	0</span>
<span class="cp">#define LPFC_RPI_HDR_COUNT	64</span>
<span class="cp">#define LPFC_HDR_TEMPLATE_SIZE	4096</span>
<span class="cp">#define LPFC_RPI_ALLOC_ERROR 	0xFFFF</span>
<span class="cp">#define LPFC_FCF_RECORD_WD_CNT	132</span>
<span class="cp">#define LPFC_ENTIRE_FCF_DATABASE 0</span>
<span class="cp">#define LPFC_DFLT_FCF_INDEX	 0</span>

<span class="cm">/* Virtual function numbers */</span>
<span class="cp">#define LPFC_VF0		0</span>
<span class="cp">#define LPFC_VF1		1</span>
<span class="cp">#define LPFC_VF2		2</span>
<span class="cp">#define LPFC_VF3		3</span>
<span class="cp">#define LPFC_VF4		4</span>
<span class="cp">#define LPFC_VF5		5</span>
<span class="cp">#define LPFC_VF6		6</span>
<span class="cp">#define LPFC_VF7		7</span>
<span class="cp">#define LPFC_VF8		8</span>
<span class="cp">#define LPFC_VF9		9</span>
<span class="cp">#define LPFC_VF10		10</span>
<span class="cp">#define LPFC_VF11		11</span>
<span class="cp">#define LPFC_VF12		12</span>
<span class="cp">#define LPFC_VF13		13</span>
<span class="cp">#define LPFC_VF14		14</span>
<span class="cp">#define LPFC_VF15		15</span>
<span class="cp">#define LPFC_VF16		16</span>
<span class="cp">#define LPFC_VF17		17</span>
<span class="cp">#define LPFC_VF18		18</span>
<span class="cp">#define LPFC_VF19		19</span>
<span class="cp">#define LPFC_VF20		20</span>
<span class="cp">#define LPFC_VF21		21</span>
<span class="cp">#define LPFC_VF22		22</span>
<span class="cp">#define LPFC_VF23		23</span>
<span class="cp">#define LPFC_VF24		24</span>
<span class="cp">#define LPFC_VF25		25</span>
<span class="cp">#define LPFC_VF26		26</span>
<span class="cp">#define LPFC_VF27		27</span>
<span class="cp">#define LPFC_VF28		28</span>
<span class="cp">#define LPFC_VF29		29</span>
<span class="cp">#define LPFC_VF30		30</span>
<span class="cp">#define LPFC_VF31		31</span>

<span class="cm">/* PCI function numbers */</span>
<span class="cp">#define LPFC_PCI_FUNC0		0</span>
<span class="cp">#define LPFC_PCI_FUNC1		1</span>
<span class="cp">#define LPFC_PCI_FUNC2		2</span>
<span class="cp">#define LPFC_PCI_FUNC3		3</span>
<span class="cp">#define LPFC_PCI_FUNC4		4</span>

<span class="cm">/* SLI4 interface type-2 PDEV_CTL register */</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_OFFSET	0x414</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_DRST		0x00000001</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_FRST		0x00000002</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_DD		0x00000004</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_LC		0x00000008</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_FRL_ALL	0x00</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_FRL_FC_FCOE	0x10</span>
<span class="cp">#define LPFC_CTL_PDEV_CTL_FRL_NIC	0x20</span>

<span class="cp">#define LPFC_FW_DUMP_REQUEST    (LPFC_CTL_PDEV_CTL_DD | LPFC_CTL_PDEV_CTL_FRST)</span>

<span class="cm">/* Active interrupt test count */</span>
<span class="cp">#define LPFC_ACT_INTR_CNT	4</span>

<span class="cm">/* Delay Multiplier constant */</span>
<span class="cp">#define LPFC_DMULT_CONST       651042</span>
<span class="cp">#define LPFC_MIM_IMAX          636</span>
<span class="cp">#define LPFC_FP_DEF_IMAX       10000</span>
<span class="cp">#define LPFC_SP_DEF_IMAX       10000</span>

<span class="cm">/* PORT_CAPABILITIES constants. */</span>
<span class="cp">#define LPFC_MAX_SUPPORTED_PAGES	8</span>

<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">ULP_BDE_TUS</span> <span class="p">{</span>
		<span class="kt">uint32_t</span> <span class="n">w</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
<span class="cp">#ifdef __BIG_ENDIAN_BITFIELD</span>
			<span class="kt">uint32_t</span> <span class="n">bdeFlags</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* BDE Flags 0 IS A SUPPORTED</span>
<span class="cm">						   VALUE !! */</span>
			<span class="kt">uint32_t</span> <span class="n">bdeSize</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* Size of buffer (in bytes) */</span>
<span class="cp">#else	</span><span class="cm">/*  __LITTLE_ENDIAN_BITFIELD */</span><span class="cp"></span>
			<span class="kt">uint32_t</span> <span class="n">bdeSize</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>	<span class="cm">/* Size of buffer (in bytes) */</span>
			<span class="kt">uint32_t</span> <span class="n">bdeFlags</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>	<span class="cm">/* BDE Flags 0 IS A SUPPORTED</span>
<span class="cm">						   VALUE !! */</span>
<span class="cp">#endif</span>
<span class="cp">#define BUFF_TYPE_BDE_64    0x00	</span><span class="cm">/* BDE (Host_resident) */</span><span class="cp"></span>
<span class="cp">#define BUFF_TYPE_BDE_IMMED 0x01	</span><span class="cm">/* Immediate Data BDE */</span><span class="cp"></span>
<span class="cp">#define BUFF_TYPE_BDE_64P   0x02	</span><span class="cm">/* BDE (Port-resident) */</span><span class="cp"></span>
<span class="cp">#define BUFF_TYPE_BDE_64I   0x08	</span><span class="cm">/* Input BDE (Host-resident) */</span><span class="cp"></span>
<span class="cp">#define BUFF_TYPE_BDE_64IP  0x0A	</span><span class="cm">/* Input BDE (Port-resident) */</span><span class="cp"></span>
<span class="cp">#define BUFF_TYPE_BLP_64    0x40	</span><span class="cm">/* BLP (Host-resident) */</span><span class="cp"></span>
<span class="cp">#define BUFF_TYPE_BLP_64P   0x42	</span><span class="cm">/* BLP (Port-resident) */</span><span class="cp"></span>
		<span class="p">}</span> <span class="n">f</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">tus</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">addrLow</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">addrHigh</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_sli4_flags</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_idx_rsrc_rdy_SHIFT		0</span>
<span class="cp">#define lpfc_idx_rsrc_rdy_MASK		0x00000001</span>
<span class="cp">#define lpfc_idx_rsrc_rdy_WORD		word0</span>
<span class="cp">#define LPFC_IDX_RSRC_RDY		1</span>
<span class="cp">#define lpfc_rpi_rsrc_rdy_SHIFT		1</span>
<span class="cp">#define lpfc_rpi_rsrc_rdy_MASK		0x00000001</span>
<span class="cp">#define lpfc_rpi_rsrc_rdy_WORD		word0</span>
<span class="cp">#define LPFC_RPI_RSRC_RDY		1</span>
<span class="cp">#define lpfc_vpi_rsrc_rdy_SHIFT		2</span>
<span class="cp">#define lpfc_vpi_rsrc_rdy_MASK		0x00000001</span>
<span class="cp">#define lpfc_vpi_rsrc_rdy_WORD		word0</span>
<span class="cp">#define LPFC_VPI_RSRC_RDY		1</span>
<span class="cp">#define lpfc_vfi_rsrc_rdy_SHIFT		3</span>
<span class="cp">#define lpfc_vfi_rsrc_rdy_MASK		0x00000001</span>
<span class="cp">#define lpfc_vfi_rsrc_rdy_WORD		word0</span>
<span class="cp">#define LPFC_VFI_RSRC_RDY		1</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">sli4_bls_rsp</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0_rsvd</span><span class="p">;</span>      <span class="cm">/* Word0 must be reserved */</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_abts_orig_SHIFT      0</span>
<span class="cp">#define lpfc_abts_orig_MASK       0x00000001</span>
<span class="cp">#define lpfc_abts_orig_WORD       word1</span>
<span class="cp">#define LPFC_ABTS_UNSOL_RSP       1</span>
<span class="cp">#define LPFC_ABTS_UNSOL_INT       0</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_abts_rxid_SHIFT      0</span>
<span class="cp">#define lpfc_abts_rxid_MASK       0x0000FFFF</span>
<span class="cp">#define lpfc_abts_rxid_WORD       word2</span>
<span class="cp">#define lpfc_abts_oxid_SHIFT      16</span>
<span class="cp">#define lpfc_abts_oxid_MASK       0x0000FFFF</span>
<span class="cp">#define lpfc_abts_oxid_WORD       word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_vndr_code_SHIFT	0</span>
<span class="cp">#define lpfc_vndr_code_MASK	0x000000FF</span>
<span class="cp">#define lpfc_vndr_code_WORD	word3</span>
<span class="cp">#define lpfc_rsn_expln_SHIFT	8</span>
<span class="cp">#define lpfc_rsn_expln_MASK	0x000000FF</span>
<span class="cp">#define lpfc_rsn_expln_WORD	word3</span>
<span class="cp">#define lpfc_rsn_code_SHIFT	16</span>
<span class="cp">#define lpfc_rsn_code_MASK	0x000000FF</span>
<span class="cp">#define lpfc_rsn_code_WORD	word3</span>

	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word5_rsvd</span><span class="p">;</span>	<span class="cm">/* Word5 must be reserved */</span>
<span class="p">};</span>

<span class="cm">/* event queue entry structure */</span>
<span class="k">struct</span> <span class="n">lpfc_eqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_eqe_resource_id_SHIFT	16</span>
<span class="cp">#define lpfc_eqe_resource_id_MASK	0x000000FF</span>
<span class="cp">#define lpfc_eqe_resource_id_WORD	word0</span>
<span class="cp">#define lpfc_eqe_minor_code_SHIFT	4</span>
<span class="cp">#define lpfc_eqe_minor_code_MASK	0x00000FFF</span>
<span class="cp">#define lpfc_eqe_minor_code_WORD	word0</span>
<span class="cp">#define lpfc_eqe_major_code_SHIFT	1</span>
<span class="cp">#define lpfc_eqe_major_code_MASK	0x00000007</span>
<span class="cp">#define lpfc_eqe_major_code_WORD	word0</span>
<span class="cp">#define lpfc_eqe_valid_SHIFT		0</span>
<span class="cp">#define lpfc_eqe_valid_MASK		0x00000001</span>
<span class="cp">#define lpfc_eqe_valid_WORD		word0</span>
<span class="p">};</span>

<span class="cm">/* completion queue entry structure (common fields for all cqe types) */</span>
<span class="k">struct</span> <span class="n">lpfc_cqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_cqe_valid_SHIFT		31</span>
<span class="cp">#define lpfc_cqe_valid_MASK		0x00000001</span>
<span class="cp">#define lpfc_cqe_valid_WORD		word3</span>
<span class="cp">#define lpfc_cqe_code_SHIFT		16</span>
<span class="cp">#define lpfc_cqe_code_MASK		0x000000FF</span>
<span class="cp">#define lpfc_cqe_code_WORD		word3</span>
<span class="p">};</span>

<span class="cm">/* Completion Queue Entry Status Codes */</span>
<span class="cp">#define CQE_STATUS_SUCCESS		0x0</span>
<span class="cp">#define CQE_STATUS_FCP_RSP_FAILURE	0x1</span>
<span class="cp">#define CQE_STATUS_REMOTE_STOP		0x2</span>
<span class="cp">#define CQE_STATUS_LOCAL_REJECT		0x3</span>
<span class="cp">#define CQE_STATUS_NPORT_RJT		0x4</span>
<span class="cp">#define CQE_STATUS_FABRIC_RJT		0x5</span>
<span class="cp">#define CQE_STATUS_NPORT_BSY		0x6</span>
<span class="cp">#define CQE_STATUS_FABRIC_BSY		0x7</span>
<span class="cp">#define CQE_STATUS_INTERMED_RSP		0x8</span>
<span class="cp">#define CQE_STATUS_LS_RJT		0x9</span>
<span class="cp">#define CQE_STATUS_CMD_REJECT		0xb</span>
<span class="cp">#define CQE_STATUS_FCP_TGT_LENCHECK	0xc</span>
<span class="cp">#define CQE_STATUS_NEED_BUFF_ENTRY	0xf</span>
<span class="cp">#define CQE_STATUS_DI_ERROR		0x16</span>

<span class="cm">/* Used when mapping CQE status to IOCB */</span>
<span class="cp">#define LPFC_IOCB_STATUS_MASK		0xf</span>

<span class="cm">/* Status returned by hardware (valid only if status = CQE_STATUS_SUCCESS). */</span>
<span class="cp">#define CQE_HW_STATUS_NO_ERR		0x0</span>
<span class="cp">#define CQE_HW_STATUS_UNDERRUN		0x1</span>
<span class="cp">#define CQE_HW_STATUS_OVERRUN		0x2</span>

<span class="cm">/* Completion Queue Entry Codes */</span>
<span class="cp">#define CQE_CODE_COMPL_WQE		0x1</span>
<span class="cp">#define CQE_CODE_RELEASE_WQE		0x2</span>
<span class="cp">#define CQE_CODE_RECEIVE		0x4</span>
<span class="cp">#define CQE_CODE_XRI_ABORTED		0x5</span>
<span class="cp">#define CQE_CODE_RECEIVE_V1		0x9</span>

<span class="cm">/*</span>
<span class="cm"> * Define mask value for xri_aborted and wcqe completed CQE extended status.</span>
<span class="cm"> * Currently, extended status is limited to 9 bits (0x0 -&gt; 0x103) .</span>
<span class="cm"> */</span>
<span class="cp">#define WCQE_PARAM_MASK		0x1FF;</span>

<span class="cm">/* completion queue entry for wqe completions */</span>
<span class="k">struct</span> <span class="n">lpfc_wcqe_complete</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_c_request_tag_SHIFT	16</span>
<span class="cp">#define lpfc_wcqe_c_request_tag_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_wcqe_c_request_tag_WORD	word0</span>
<span class="cp">#define lpfc_wcqe_c_status_SHIFT	8</span>
<span class="cp">#define lpfc_wcqe_c_status_MASK		0x000000FF</span>
<span class="cp">#define lpfc_wcqe_c_status_WORD		word0</span>
<span class="cp">#define lpfc_wcqe_c_hw_status_SHIFT	0</span>
<span class="cp">#define lpfc_wcqe_c_hw_status_MASK	0x000000FF</span>
<span class="cp">#define lpfc_wcqe_c_hw_status_WORD	word0</span>
	<span class="kt">uint32_t</span> <span class="n">total_data_placed</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">parameter</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_c_bg_edir_SHIFT	5</span>
<span class="cp">#define lpfc_wcqe_c_bg_edir_MASK	0x00000001</span>
<span class="cp">#define lpfc_wcqe_c_bg_edir_WORD	parameter</span>
<span class="cp">#define lpfc_wcqe_c_bg_tdpv_SHIFT	3</span>
<span class="cp">#define lpfc_wcqe_c_bg_tdpv_MASK	0x00000001</span>
<span class="cp">#define lpfc_wcqe_c_bg_tdpv_WORD	parameter</span>
<span class="cp">#define lpfc_wcqe_c_bg_re_SHIFT		2</span>
<span class="cp">#define lpfc_wcqe_c_bg_re_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_c_bg_re_WORD		parameter</span>
<span class="cp">#define lpfc_wcqe_c_bg_ae_SHIFT		1</span>
<span class="cp">#define lpfc_wcqe_c_bg_ae_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_c_bg_ae_WORD		parameter</span>
<span class="cp">#define lpfc_wcqe_c_bg_ge_SHIFT		0</span>
<span class="cp">#define lpfc_wcqe_c_bg_ge_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_c_bg_ge_WORD		parameter</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_c_valid_SHIFT		lpfc_cqe_valid_SHIFT</span>
<span class="cp">#define lpfc_wcqe_c_valid_MASK		lpfc_cqe_valid_MASK</span>
<span class="cp">#define lpfc_wcqe_c_valid_WORD		lpfc_cqe_valid_WORD</span>
<span class="cp">#define lpfc_wcqe_c_xb_SHIFT		28</span>
<span class="cp">#define lpfc_wcqe_c_xb_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_c_xb_WORD		word3</span>
<span class="cp">#define lpfc_wcqe_c_pv_SHIFT		27</span>
<span class="cp">#define lpfc_wcqe_c_pv_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_c_pv_WORD		word3</span>
<span class="cp">#define lpfc_wcqe_c_priority_SHIFT	24</span>
<span class="cp">#define lpfc_wcqe_c_priority_MASK	0x00000007</span>
<span class="cp">#define lpfc_wcqe_c_priority_WORD	word3</span>
<span class="cp">#define lpfc_wcqe_c_code_SHIFT		lpfc_cqe_code_SHIFT</span>
<span class="cp">#define lpfc_wcqe_c_code_MASK		lpfc_cqe_code_MASK</span>
<span class="cp">#define lpfc_wcqe_c_code_WORD		lpfc_cqe_code_WORD</span>
<span class="p">};</span>

<span class="cm">/* completion queue entry for wqe release */</span>
<span class="k">struct</span> <span class="n">lpfc_wcqe_release</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_r_wq_id_SHIFT		16</span>
<span class="cp">#define lpfc_wcqe_r_wq_id_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_wcqe_r_wq_id_WORD		word2</span>
<span class="cp">#define lpfc_wcqe_r_wqe_index_SHIFT	0</span>
<span class="cp">#define lpfc_wcqe_r_wqe_index_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_wcqe_r_wqe_index_WORD	word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_r_valid_SHIFT		lpfc_cqe_valid_SHIFT</span>
<span class="cp">#define lpfc_wcqe_r_valid_MASK		lpfc_cqe_valid_MASK</span>
<span class="cp">#define lpfc_wcqe_r_valid_WORD		lpfc_cqe_valid_WORD</span>
<span class="cp">#define lpfc_wcqe_r_code_SHIFT		lpfc_cqe_code_SHIFT</span>
<span class="cp">#define lpfc_wcqe_r_code_MASK		lpfc_cqe_code_MASK</span>
<span class="cp">#define lpfc_wcqe_r_code_WORD		lpfc_cqe_code_WORD</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">sli4_wcqe_xri_aborted</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_xa_status_SHIFT		8</span>
<span class="cp">#define lpfc_wcqe_xa_status_MASK		0x000000FF</span>
<span class="cp">#define lpfc_wcqe_xa_status_WORD		word0</span>
	<span class="kt">uint32_t</span> <span class="n">parameter</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_xa_remote_xid_SHIFT	16</span>
<span class="cp">#define lpfc_wcqe_xa_remote_xid_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_wcqe_xa_remote_xid_WORD	word2</span>
<span class="cp">#define lpfc_wcqe_xa_xri_SHIFT		0</span>
<span class="cp">#define lpfc_wcqe_xa_xri_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_wcqe_xa_xri_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_wcqe_xa_valid_SHIFT	lpfc_cqe_valid_SHIFT</span>
<span class="cp">#define lpfc_wcqe_xa_valid_MASK		lpfc_cqe_valid_MASK</span>
<span class="cp">#define lpfc_wcqe_xa_valid_WORD		lpfc_cqe_valid_WORD</span>
<span class="cp">#define lpfc_wcqe_xa_ia_SHIFT		30</span>
<span class="cp">#define lpfc_wcqe_xa_ia_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_xa_ia_WORD		word3</span>
<span class="cp">#define CQE_XRI_ABORTED_IA_REMOTE	0</span>
<span class="cp">#define CQE_XRI_ABORTED_IA_LOCAL	1</span>
<span class="cp">#define lpfc_wcqe_xa_br_SHIFT		29</span>
<span class="cp">#define lpfc_wcqe_xa_br_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_xa_br_WORD		word3</span>
<span class="cp">#define CQE_XRI_ABORTED_BR_BA_ACC	0</span>
<span class="cp">#define CQE_XRI_ABORTED_BR_BA_RJT	1</span>
<span class="cp">#define lpfc_wcqe_xa_eo_SHIFT		28</span>
<span class="cp">#define lpfc_wcqe_xa_eo_MASK		0x00000001</span>
<span class="cp">#define lpfc_wcqe_xa_eo_WORD		word3</span>
<span class="cp">#define CQE_XRI_ABORTED_EO_REMOTE	0</span>
<span class="cp">#define CQE_XRI_ABORTED_EO_LOCAL	1</span>
<span class="cp">#define lpfc_wcqe_xa_code_SHIFT		lpfc_cqe_code_SHIFT</span>
<span class="cp">#define lpfc_wcqe_xa_code_MASK		lpfc_cqe_code_MASK</span>
<span class="cp">#define lpfc_wcqe_xa_code_WORD		lpfc_cqe_code_WORD</span>
<span class="p">};</span>

<span class="cm">/* completion queue entry structure for rqe completion */</span>
<span class="k">struct</span> <span class="n">lpfc_rcqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_rcqe_bindex_SHIFT		16</span>
<span class="cp">#define lpfc_rcqe_bindex_MASK		0x0000FFF</span>
<span class="cp">#define lpfc_rcqe_bindex_WORD		word0</span>
<span class="cp">#define lpfc_rcqe_status_SHIFT		8</span>
<span class="cp">#define lpfc_rcqe_status_MASK		0x000000FF</span>
<span class="cp">#define lpfc_rcqe_status_WORD		word0</span>
<span class="cp">#define FC_STATUS_RQ_SUCCESS		0x10 </span><span class="cm">/* Async receive successful */</span><span class="cp"></span>
<span class="cp">#define FC_STATUS_RQ_BUF_LEN_EXCEEDED 	0x11 </span><span class="cm">/* payload truncated */</span><span class="cp"></span>
<span class="cp">#define FC_STATUS_INSUFF_BUF_NEED_BUF 	0x12 </span><span class="cm">/* Insufficient buffers */</span><span class="cp"></span>
<span class="cp">#define FC_STATUS_INSUFF_BUF_FRM_DISC 	0x13 </span><span class="cm">/* Frame Discard */</span><span class="cp"></span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_rcqe_fcf_id_v1_SHIFT	0</span>
<span class="cp">#define lpfc_rcqe_fcf_id_v1_MASK	0x0000003F</span>
<span class="cp">#define lpfc_rcqe_fcf_id_v1_WORD	word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_rcqe_length_SHIFT		16</span>
<span class="cp">#define lpfc_rcqe_length_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_rcqe_length_WORD		word2</span>
<span class="cp">#define lpfc_rcqe_rq_id_SHIFT		6</span>
<span class="cp">#define lpfc_rcqe_rq_id_MASK		0x000003FF</span>
<span class="cp">#define lpfc_rcqe_rq_id_WORD		word2</span>
<span class="cp">#define lpfc_rcqe_fcf_id_SHIFT		0</span>
<span class="cp">#define lpfc_rcqe_fcf_id_MASK		0x0000003F</span>
<span class="cp">#define lpfc_rcqe_fcf_id_WORD		word2</span>
<span class="cp">#define lpfc_rcqe_rq_id_v1_SHIFT	0</span>
<span class="cp">#define lpfc_rcqe_rq_id_v1_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_rcqe_rq_id_v1_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_rcqe_valid_SHIFT		lpfc_cqe_valid_SHIFT</span>
<span class="cp">#define lpfc_rcqe_valid_MASK		lpfc_cqe_valid_MASK</span>
<span class="cp">#define lpfc_rcqe_valid_WORD		lpfc_cqe_valid_WORD</span>
<span class="cp">#define lpfc_rcqe_port_SHIFT		30</span>
<span class="cp">#define lpfc_rcqe_port_MASK		0x00000001</span>
<span class="cp">#define lpfc_rcqe_port_WORD		word3</span>
<span class="cp">#define lpfc_rcqe_hdr_length_SHIFT	24</span>
<span class="cp">#define lpfc_rcqe_hdr_length_MASK	0x0000001F</span>
<span class="cp">#define lpfc_rcqe_hdr_length_WORD	word3</span>
<span class="cp">#define lpfc_rcqe_code_SHIFT		lpfc_cqe_code_SHIFT</span>
<span class="cp">#define lpfc_rcqe_code_MASK		lpfc_cqe_code_MASK</span>
<span class="cp">#define lpfc_rcqe_code_WORD		lpfc_cqe_code_WORD</span>
<span class="cp">#define lpfc_rcqe_eof_SHIFT		8</span>
<span class="cp">#define lpfc_rcqe_eof_MASK		0x000000FF</span>
<span class="cp">#define lpfc_rcqe_eof_WORD		word3</span>
<span class="cp">#define FCOE_EOFn	0x41</span>
<span class="cp">#define FCOE_EOFt	0x42</span>
<span class="cp">#define FCOE_EOFni	0x49</span>
<span class="cp">#define FCOE_EOFa	0x50</span>
<span class="cp">#define lpfc_rcqe_sof_SHIFT		0</span>
<span class="cp">#define lpfc_rcqe_sof_MASK		0x000000FF</span>
<span class="cp">#define lpfc_rcqe_sof_WORD		word3</span>
<span class="cp">#define FCOE_SOFi2	0x2d</span>
<span class="cp">#define FCOE_SOFi3	0x2e</span>
<span class="cp">#define FCOE_SOFn2	0x35</span>
<span class="cp">#define FCOE_SOFn3	0x36</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_rqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">address_hi</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">address_lo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* buffer descriptors */</span>
<span class="k">struct</span> <span class="n">lpfc_bde4</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">addr_hi</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">addr_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_bde4_last_SHIFT		31</span>
<span class="cp">#define lpfc_bde4_last_MASK		0x00000001</span>
<span class="cp">#define lpfc_bde4_last_WORD		word2</span>
<span class="cp">#define lpfc_bde4_sge_offset_SHIFT	0</span>
<span class="cp">#define lpfc_bde4_sge_offset_MASK	0x000003FF</span>
<span class="cp">#define lpfc_bde4_sge_offset_WORD	word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_bde4_length_SHIFT		0</span>
<span class="cp">#define lpfc_bde4_length_MASK		0x000000FF</span>
<span class="cp">#define lpfc_bde4_length_WORD		word3</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_register</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* The following BAR0 Registers apply to SLI4 if_type 0 UCNAs. */</span>
<span class="cp">#define LPFC_UERR_STATUS_HI		0x00A4</span>
<span class="cp">#define LPFC_UERR_STATUS_LO		0x00A0</span>
<span class="cp">#define LPFC_UE_MASK_HI			0x00AC</span>
<span class="cp">#define LPFC_UE_MASK_LO			0x00A8</span>

<span class="cm">/* The following BAR0 register sets are defined for if_type 0 and 2 UCNAs. */</span>
<span class="cp">#define LPFC_SLI_INTF			0x0058</span>

<span class="cp">#define LPFC_CTL_PORT_SEM_OFFSET	0x400</span>
<span class="cp">#define lpfc_port_smphr_perr_SHIFT	31</span>
<span class="cp">#define lpfc_port_smphr_perr_MASK	0x1</span>
<span class="cp">#define lpfc_port_smphr_perr_WORD	word0</span>
<span class="cp">#define lpfc_port_smphr_sfi_SHIFT	30</span>
<span class="cp">#define lpfc_port_smphr_sfi_MASK	0x1</span>
<span class="cp">#define lpfc_port_smphr_sfi_WORD	word0</span>
<span class="cp">#define lpfc_port_smphr_nip_SHIFT	29</span>
<span class="cp">#define lpfc_port_smphr_nip_MASK	0x1</span>
<span class="cp">#define lpfc_port_smphr_nip_WORD	word0</span>
<span class="cp">#define lpfc_port_smphr_ipc_SHIFT	28</span>
<span class="cp">#define lpfc_port_smphr_ipc_MASK	0x1</span>
<span class="cp">#define lpfc_port_smphr_ipc_WORD	word0</span>
<span class="cp">#define lpfc_port_smphr_scr1_SHIFT	27</span>
<span class="cp">#define lpfc_port_smphr_scr1_MASK	0x1</span>
<span class="cp">#define lpfc_port_smphr_scr1_WORD	word0</span>
<span class="cp">#define lpfc_port_smphr_scr2_SHIFT	26</span>
<span class="cp">#define lpfc_port_smphr_scr2_MASK	0x1</span>
<span class="cp">#define lpfc_port_smphr_scr2_WORD	word0</span>
<span class="cp">#define lpfc_port_smphr_host_scratch_SHIFT	16</span>
<span class="cp">#define lpfc_port_smphr_host_scratch_MASK	0xFF</span>
<span class="cp">#define lpfc_port_smphr_host_scratch_WORD	word0</span>
<span class="cp">#define lpfc_port_smphr_port_status_SHIFT	0</span>
<span class="cp">#define lpfc_port_smphr_port_status_MASK	0xFFFF</span>
<span class="cp">#define lpfc_port_smphr_port_status_WORD	word0</span>

<span class="cp">#define LPFC_POST_STAGE_POWER_ON_RESET			0x0000</span>
<span class="cp">#define LPFC_POST_STAGE_AWAITING_HOST_RDY		0x0001</span>
<span class="cp">#define LPFC_POST_STAGE_HOST_RDY			0x0002</span>
<span class="cp">#define LPFC_POST_STAGE_BE_RESET			0x0003</span>
<span class="cp">#define LPFC_POST_STAGE_SEEPROM_CS_START		0x0100</span>
<span class="cp">#define LPFC_POST_STAGE_SEEPROM_CS_DONE			0x0101</span>
<span class="cp">#define LPFC_POST_STAGE_DDR_CONFIG_START		0x0200</span>
<span class="cp">#define LPFC_POST_STAGE_DDR_CONFIG_DONE			0x0201</span>
<span class="cp">#define LPFC_POST_STAGE_DDR_CALIBRATE_START		0x0300</span>
<span class="cp">#define LPFC_POST_STAGE_DDR_CALIBRATE_DONE		0x0301</span>
<span class="cp">#define LPFC_POST_STAGE_DDR_TEST_START			0x0400</span>
<span class="cp">#define LPFC_POST_STAGE_DDR_TEST_DONE			0x0401</span>
<span class="cp">#define LPFC_POST_STAGE_REDBOOT_INIT_START		0x0600</span>
<span class="cp">#define LPFC_POST_STAGE_REDBOOT_INIT_DONE		0x0601</span>
<span class="cp">#define LPFC_POST_STAGE_FW_IMAGE_LOAD_START		0x0700</span>
<span class="cp">#define LPFC_POST_STAGE_FW_IMAGE_LOAD_DONE		0x0701</span>
<span class="cp">#define LPFC_POST_STAGE_ARMFW_START			0x0800</span>
<span class="cp">#define LPFC_POST_STAGE_DHCP_QUERY_START		0x0900</span>
<span class="cp">#define LPFC_POST_STAGE_DHCP_QUERY_DONE			0x0901</span>
<span class="cp">#define LPFC_POST_STAGE_BOOT_TARGET_DISCOVERY_START	0x0A00</span>
<span class="cp">#define LPFC_POST_STAGE_BOOT_TARGET_DISCOVERY_DONE	0x0A01</span>
<span class="cp">#define LPFC_POST_STAGE_RC_OPTION_SET			0x0B00</span>
<span class="cp">#define LPFC_POST_STAGE_SWITCH_LINK			0x0B01</span>
<span class="cp">#define LPFC_POST_STAGE_SEND_ICDS_MESSAGE		0x0B02</span>
<span class="cp">#define LPFC_POST_STAGE_PERFROM_TFTP			0x0B03</span>
<span class="cp">#define LPFC_POST_STAGE_PARSE_XML			0x0B04</span>
<span class="cp">#define LPFC_POST_STAGE_DOWNLOAD_IMAGE			0x0B05</span>
<span class="cp">#define LPFC_POST_STAGE_FLASH_IMAGE			0x0B06</span>
<span class="cp">#define LPFC_POST_STAGE_RC_DONE				0x0B07</span>
<span class="cp">#define LPFC_POST_STAGE_REBOOT_SYSTEM			0x0B08</span>
<span class="cp">#define LPFC_POST_STAGE_MAC_ADDRESS			0x0C00</span>
<span class="cp">#define LPFC_POST_STAGE_PORT_READY			0xC000</span>
<span class="cp">#define LPFC_POST_STAGE_PORT_UE 			0xF000</span>

<span class="cp">#define LPFC_CTL_PORT_STA_OFFSET	0x404</span>
<span class="cp">#define lpfc_sliport_status_err_SHIFT	31</span>
<span class="cp">#define lpfc_sliport_status_err_MASK	0x1</span>
<span class="cp">#define lpfc_sliport_status_err_WORD	word0</span>
<span class="cp">#define lpfc_sliport_status_end_SHIFT	30</span>
<span class="cp">#define lpfc_sliport_status_end_MASK	0x1</span>
<span class="cp">#define lpfc_sliport_status_end_WORD	word0</span>
<span class="cp">#define lpfc_sliport_status_oti_SHIFT	29</span>
<span class="cp">#define lpfc_sliport_status_oti_MASK	0x1</span>
<span class="cp">#define lpfc_sliport_status_oti_WORD	word0</span>
<span class="cp">#define lpfc_sliport_status_rn_SHIFT	24</span>
<span class="cp">#define lpfc_sliport_status_rn_MASK	0x1</span>
<span class="cp">#define lpfc_sliport_status_rn_WORD	word0</span>
<span class="cp">#define lpfc_sliport_status_rdy_SHIFT	23</span>
<span class="cp">#define lpfc_sliport_status_rdy_MASK	0x1</span>
<span class="cp">#define lpfc_sliport_status_rdy_WORD	word0</span>
<span class="cp">#define MAX_IF_TYPE_2_RESETS	1000</span>

<span class="cp">#define LPFC_CTL_PORT_CTL_OFFSET	0x408</span>
<span class="cp">#define lpfc_sliport_ctrl_end_SHIFT	30</span>
<span class="cp">#define lpfc_sliport_ctrl_end_MASK	0x1</span>
<span class="cp">#define lpfc_sliport_ctrl_end_WORD	word0</span>
<span class="cp">#define LPFC_SLIPORT_LITTLE_ENDIAN 0</span>
<span class="cp">#define LPFC_SLIPORT_BIG_ENDIAN	   1</span>
<span class="cp">#define lpfc_sliport_ctrl_ip_SHIFT	27</span>
<span class="cp">#define lpfc_sliport_ctrl_ip_MASK	0x1</span>
<span class="cp">#define lpfc_sliport_ctrl_ip_WORD	word0</span>
<span class="cp">#define LPFC_SLIPORT_INIT_PORT	1</span>

<span class="cp">#define LPFC_CTL_PORT_ER1_OFFSET	0x40C</span>
<span class="cp">#define LPFC_CTL_PORT_ER2_OFFSET	0x410</span>

<span class="cm">/* The following Registers apply to SLI4 if_type 0 UCNAs. They typically</span>
<span class="cm"> * reside in BAR 2.</span>
<span class="cm"> */</span>
<span class="cp">#define LPFC_SLIPORT_IF0_SMPHR	0x00AC</span>

<span class="cp">#define LPFC_IMR_MASK_ALL	0xFFFFFFFF</span>
<span class="cp">#define LPFC_ISCR_CLEAR_ALL	0xFFFFFFFF</span>

<span class="cp">#define LPFC_HST_ISR0		0x0C18</span>
<span class="cp">#define LPFC_HST_ISR1		0x0C1C</span>
<span class="cp">#define LPFC_HST_ISR2		0x0C20</span>
<span class="cp">#define LPFC_HST_ISR3		0x0C24</span>
<span class="cp">#define LPFC_HST_ISR4		0x0C28</span>

<span class="cp">#define LPFC_HST_IMR0		0x0C48</span>
<span class="cp">#define LPFC_HST_IMR1		0x0C4C</span>
<span class="cp">#define LPFC_HST_IMR2		0x0C50</span>
<span class="cp">#define LPFC_HST_IMR3		0x0C54</span>
<span class="cp">#define LPFC_HST_IMR4		0x0C58</span>

<span class="cp">#define LPFC_HST_ISCR0		0x0C78</span>
<span class="cp">#define LPFC_HST_ISCR1		0x0C7C</span>
<span class="cp">#define LPFC_HST_ISCR2		0x0C80</span>
<span class="cp">#define LPFC_HST_ISCR3		0x0C84</span>
<span class="cp">#define LPFC_HST_ISCR4		0x0C88</span>

<span class="cp">#define LPFC_SLI4_INTR0			BIT0</span>
<span class="cp">#define LPFC_SLI4_INTR1			BIT1</span>
<span class="cp">#define LPFC_SLI4_INTR2			BIT2</span>
<span class="cp">#define LPFC_SLI4_INTR3			BIT3</span>
<span class="cp">#define LPFC_SLI4_INTR4			BIT4</span>
<span class="cp">#define LPFC_SLI4_INTR5			BIT5</span>
<span class="cp">#define LPFC_SLI4_INTR6			BIT6</span>
<span class="cp">#define LPFC_SLI4_INTR7			BIT7</span>
<span class="cp">#define LPFC_SLI4_INTR8			BIT8</span>
<span class="cp">#define LPFC_SLI4_INTR9			BIT9</span>
<span class="cp">#define LPFC_SLI4_INTR10		BIT10</span>
<span class="cp">#define LPFC_SLI4_INTR11		BIT11</span>
<span class="cp">#define LPFC_SLI4_INTR12		BIT12</span>
<span class="cp">#define LPFC_SLI4_INTR13		BIT13</span>
<span class="cp">#define LPFC_SLI4_INTR14		BIT14</span>
<span class="cp">#define LPFC_SLI4_INTR15		BIT15</span>
<span class="cp">#define LPFC_SLI4_INTR16		BIT16</span>
<span class="cp">#define LPFC_SLI4_INTR17		BIT17</span>
<span class="cp">#define LPFC_SLI4_INTR18		BIT18</span>
<span class="cp">#define LPFC_SLI4_INTR19		BIT19</span>
<span class="cp">#define LPFC_SLI4_INTR20		BIT20</span>
<span class="cp">#define LPFC_SLI4_INTR21		BIT21</span>
<span class="cp">#define LPFC_SLI4_INTR22		BIT22</span>
<span class="cp">#define LPFC_SLI4_INTR23		BIT23</span>
<span class="cp">#define LPFC_SLI4_INTR24		BIT24</span>
<span class="cp">#define LPFC_SLI4_INTR25		BIT25</span>
<span class="cp">#define LPFC_SLI4_INTR26		BIT26</span>
<span class="cp">#define LPFC_SLI4_INTR27		BIT27</span>
<span class="cp">#define LPFC_SLI4_INTR28		BIT28</span>
<span class="cp">#define LPFC_SLI4_INTR29		BIT29</span>
<span class="cp">#define LPFC_SLI4_INTR30		BIT30</span>
<span class="cp">#define LPFC_SLI4_INTR31		BIT31</span>

<span class="cm">/*</span>
<span class="cm"> * The Doorbell registers defined here exist in different BAR</span>
<span class="cm"> * register sets depending on the UCNA Port&#39;s reported if_type</span>
<span class="cm"> * value.  For UCNA ports running SLI4 and if_type 0, they reside in</span>
<span class="cm"> * BAR4.  For UCNA ports running SLI4 and if_type 2, they reside in</span>
<span class="cm"> * BAR0.  The offsets are the same so the driver must account for</span>
<span class="cm"> * any base address difference.</span>
<span class="cm"> */</span>
<span class="cp">#define LPFC_RQ_DOORBELL		0x00A0</span>
<span class="cp">#define lpfc_rq_doorbell_num_posted_SHIFT	16</span>
<span class="cp">#define lpfc_rq_doorbell_num_posted_MASK	0x3FFF</span>
<span class="cp">#define lpfc_rq_doorbell_num_posted_WORD	word0</span>
<span class="cp">#define lpfc_rq_doorbell_id_SHIFT		0</span>
<span class="cp">#define lpfc_rq_doorbell_id_MASK		0xFFFF</span>
<span class="cp">#define lpfc_rq_doorbell_id_WORD		word0</span>

<span class="cp">#define LPFC_WQ_DOORBELL		0x0040</span>
<span class="cp">#define lpfc_wq_doorbell_num_posted_SHIFT	24</span>
<span class="cp">#define lpfc_wq_doorbell_num_posted_MASK	0x00FF</span>
<span class="cp">#define lpfc_wq_doorbell_num_posted_WORD	word0</span>
<span class="cp">#define lpfc_wq_doorbell_index_SHIFT		16</span>
<span class="cp">#define lpfc_wq_doorbell_index_MASK		0x00FF</span>
<span class="cp">#define lpfc_wq_doorbell_index_WORD		word0</span>
<span class="cp">#define lpfc_wq_doorbell_id_SHIFT		0</span>
<span class="cp">#define lpfc_wq_doorbell_id_MASK		0xFFFF</span>
<span class="cp">#define lpfc_wq_doorbell_id_WORD		word0</span>

<span class="cp">#define LPFC_EQCQ_DOORBELL		0x0120</span>
<span class="cp">#define lpfc_eqcq_doorbell_se_SHIFT		31</span>
<span class="cp">#define lpfc_eqcq_doorbell_se_MASK		0x0001</span>
<span class="cp">#define lpfc_eqcq_doorbell_se_WORD		word0</span>
<span class="cp">#define LPFC_EQCQ_SOLICIT_ENABLE_OFF	0</span>
<span class="cp">#define LPFC_EQCQ_SOLICIT_ENABLE_ON	1</span>
<span class="cp">#define lpfc_eqcq_doorbell_arm_SHIFT		29</span>
<span class="cp">#define lpfc_eqcq_doorbell_arm_MASK		0x0001</span>
<span class="cp">#define lpfc_eqcq_doorbell_arm_WORD		word0</span>
<span class="cp">#define lpfc_eqcq_doorbell_num_released_SHIFT	16</span>
<span class="cp">#define lpfc_eqcq_doorbell_num_released_MASK	0x1FFF</span>
<span class="cp">#define lpfc_eqcq_doorbell_num_released_WORD	word0</span>
<span class="cp">#define lpfc_eqcq_doorbell_qt_SHIFT		10</span>
<span class="cp">#define lpfc_eqcq_doorbell_qt_MASK		0x0001</span>
<span class="cp">#define lpfc_eqcq_doorbell_qt_WORD		word0</span>
<span class="cp">#define LPFC_QUEUE_TYPE_COMPLETION	0</span>
<span class="cp">#define LPFC_QUEUE_TYPE_EVENT		1</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqci_SHIFT		9</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqci_MASK		0x0001</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqci_WORD		word0</span>
<span class="cp">#define lpfc_eqcq_doorbell_cqid_lo_SHIFT	0</span>
<span class="cp">#define lpfc_eqcq_doorbell_cqid_lo_MASK		0x03FF</span>
<span class="cp">#define lpfc_eqcq_doorbell_cqid_lo_WORD		word0</span>
<span class="cp">#define lpfc_eqcq_doorbell_cqid_hi_SHIFT	11</span>
<span class="cp">#define lpfc_eqcq_doorbell_cqid_hi_MASK		0x001F</span>
<span class="cp">#define lpfc_eqcq_doorbell_cqid_hi_WORD		word0</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqid_lo_SHIFT	0</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqid_lo_MASK		0x01FF</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqid_lo_WORD		word0</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqid_hi_SHIFT	11</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqid_hi_MASK		0x001F</span>
<span class="cp">#define lpfc_eqcq_doorbell_eqid_hi_WORD		word0</span>
<span class="cp">#define LPFC_CQID_HI_FIELD_SHIFT		10</span>
<span class="cp">#define LPFC_EQID_HI_FIELD_SHIFT		9</span>

<span class="cp">#define LPFC_BMBX			0x0160</span>
<span class="cp">#define lpfc_bmbx_addr_SHIFT		2</span>
<span class="cp">#define lpfc_bmbx_addr_MASK		0x3FFFFFFF</span>
<span class="cp">#define lpfc_bmbx_addr_WORD		word0</span>
<span class="cp">#define lpfc_bmbx_hi_SHIFT		1</span>
<span class="cp">#define lpfc_bmbx_hi_MASK		0x0001</span>
<span class="cp">#define lpfc_bmbx_hi_WORD		word0</span>
<span class="cp">#define lpfc_bmbx_rdy_SHIFT		0</span>
<span class="cp">#define lpfc_bmbx_rdy_MASK		0x0001</span>
<span class="cp">#define lpfc_bmbx_rdy_WORD		word0</span>

<span class="cp">#define LPFC_MQ_DOORBELL			0x0140</span>
<span class="cp">#define lpfc_mq_doorbell_num_posted_SHIFT	16</span>
<span class="cp">#define lpfc_mq_doorbell_num_posted_MASK	0x3FFF</span>
<span class="cp">#define lpfc_mq_doorbell_num_posted_WORD	word0</span>
<span class="cp">#define lpfc_mq_doorbell_id_SHIFT		0</span>
<span class="cp">#define lpfc_mq_doorbell_id_MASK		0xFFFF</span>
<span class="cp">#define lpfc_mq_doorbell_id_WORD		word0</span>

<span class="k">struct</span> <span class="n">lpfc_sli4_cfg_mhdr</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_mbox_hdr_emb_SHIFT		0</span>
<span class="cp">#define lpfc_mbox_hdr_emb_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbox_hdr_emb_WORD		word1</span>
<span class="cp">#define lpfc_mbox_hdr_sge_cnt_SHIFT	3</span>
<span class="cp">#define lpfc_mbox_hdr_sge_cnt_MASK	0x0000001F</span>
<span class="cp">#define lpfc_mbox_hdr_sge_cnt_WORD	word1</span>
	<span class="kt">uint32_t</span> <span class="n">payload_length</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">tag_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">tag_hi</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved5</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">lpfc_sli4_cfg_shdr</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define lpfc_mbox_hdr_opcode_SHIFT	0</span>
<span class="cp">#define lpfc_mbox_hdr_opcode_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_opcode_WORD	word6</span>
<span class="cp">#define lpfc_mbox_hdr_subsystem_SHIFT	8</span>
<span class="cp">#define lpfc_mbox_hdr_subsystem_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_subsystem_WORD	word6</span>
<span class="cp">#define lpfc_mbox_hdr_port_number_SHIFT	16</span>
<span class="cp">#define lpfc_mbox_hdr_port_number_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_port_number_WORD	word6</span>
<span class="cp">#define lpfc_mbox_hdr_domain_SHIFT	24</span>
<span class="cp">#define lpfc_mbox_hdr_domain_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_domain_WORD	word6</span>
		<span class="kt">uint32_t</span> <span class="n">timeout</span><span class="p">;</span>
		<span class="kt">uint32_t</span> <span class="n">request_length</span><span class="p">;</span>
		<span class="kt">uint32_t</span> <span class="n">word9</span><span class="p">;</span>
<span class="cp">#define lpfc_mbox_hdr_version_SHIFT	0</span>
<span class="cp">#define lpfc_mbox_hdr_version_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_version_WORD	word9</span>
<span class="cp">#define lpfc_mbox_hdr_pf_num_SHIFT	16</span>
<span class="cp">#define lpfc_mbox_hdr_pf_num_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_pf_num_WORD	word9</span>
<span class="cp">#define lpfc_mbox_hdr_vh_num_SHIFT	24</span>
<span class="cp">#define lpfc_mbox_hdr_vh_num_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_vh_num_WORD	word9</span>
<span class="cp">#define LPFC_Q_CREATE_VERSION_2	2</span>
<span class="cp">#define LPFC_Q_CREATE_VERSION_1	1</span>
<span class="cp">#define LPFC_Q_CREATE_VERSION_0	0</span>
<span class="cp">#define LPFC_OPCODE_VERSION_0	0</span>
<span class="cp">#define LPFC_OPCODE_VERSION_1	1</span>
	<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define lpfc_mbox_hdr_opcode_SHIFT		0</span>
<span class="cp">#define lpfc_mbox_hdr_opcode_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_opcode_WORD		word6</span>
<span class="cp">#define lpfc_mbox_hdr_subsystem_SHIFT		8</span>
<span class="cp">#define lpfc_mbox_hdr_subsystem_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_subsystem_WORD		word6</span>
<span class="cp">#define lpfc_mbox_hdr_domain_SHIFT		24</span>
<span class="cp">#define lpfc_mbox_hdr_domain_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_domain_WORD		word6</span>
		<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
<span class="cp">#define lpfc_mbox_hdr_status_SHIFT		0</span>
<span class="cp">#define lpfc_mbox_hdr_status_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_status_WORD		word7</span>
<span class="cp">#define lpfc_mbox_hdr_add_status_SHIFT		8</span>
<span class="cp">#define lpfc_mbox_hdr_add_status_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbox_hdr_add_status_WORD		word7</span>
		<span class="kt">uint32_t</span> <span class="n">response_length</span><span class="p">;</span>
		<span class="kt">uint32_t</span> <span class="n">actual_response_length</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Mailbox Header structures.</span>
<span class="cm"> * struct mbox_header is defined for first generation SLI4_CFG mailbox</span>
<span class="cm"> * calls deployed for BE-based ports.</span>
<span class="cm"> *</span>
<span class="cm"> * struct sli4_mbox_header is defined for second generation SLI4</span>
<span class="cm"> * ports that don&#39;t deploy the SLI4_CFG mechanism.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">mbox_header</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpfc_sli4_cfg_mhdr</span> <span class="n">cfg_mhdr</span><span class="p">;</span>
	<span class="k">union</span>  <span class="n">lpfc_sli4_cfg_shdr</span> <span class="n">cfg_shdr</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define LPFC_EXTENT_LOCAL		0</span>
<span class="cp">#define LPFC_TIMEOUT_DEFAULT		0</span>
<span class="cp">#define LPFC_EXTENT_VERSION_DEFAULT	0</span>

<span class="cm">/* Subsystem Definitions */</span>
<span class="cp">#define LPFC_MBOX_SUBSYSTEM_NA		0x0</span>
<span class="cp">#define LPFC_MBOX_SUBSYSTEM_COMMON	0x1</span>
<span class="cp">#define LPFC_MBOX_SUBSYSTEM_FCOE	0xC</span>

<span class="cm">/* Device Specific Definitions */</span>

<span class="cm">/* The HOST ENDIAN defines are in Big Endian format. */</span>
<span class="cp">#define HOST_ENDIAN_LOW_WORD0   0xFF3412FF</span>
<span class="cp">#define HOST_ENDIAN_HIGH_WORD1	0xFF7856FF</span>

<span class="cm">/* Common Opcodes */</span>
<span class="cp">#define LPFC_MBOX_OPCODE_NA				0x00</span>
<span class="cp">#define LPFC_MBOX_OPCODE_CQ_CREATE			0x0C</span>
<span class="cp">#define LPFC_MBOX_OPCODE_EQ_CREATE			0x0D</span>
<span class="cp">#define LPFC_MBOX_OPCODE_MQ_CREATE			0x15</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_CNTL_ATTRIBUTES		0x20</span>
<span class="cp">#define LPFC_MBOX_OPCODE_NOP				0x21</span>
<span class="cp">#define LPFC_MBOX_OPCODE_MQ_DESTROY			0x35</span>
<span class="cp">#define LPFC_MBOX_OPCODE_CQ_DESTROY			0x36</span>
<span class="cp">#define LPFC_MBOX_OPCODE_EQ_DESTROY			0x37</span>
<span class="cp">#define LPFC_MBOX_OPCODE_QUERY_FW_CFG			0x3A</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FUNCTION_RESET			0x3D</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_PORT_NAME			0x4D</span>
<span class="cp">#define LPFC_MBOX_OPCODE_MQ_CREATE_EXT			0x5A</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_RSRC_EXTENT_INFO		0x9A</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_ALLOC_RSRC_EXTENT		0x9B</span>
<span class="cp">#define LPFC_MBOX_OPCODE_ALLOC_RSRC_EXTENT		0x9C</span>
<span class="cp">#define LPFC_MBOX_OPCODE_DEALLOC_RSRC_EXTENT		0x9D</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_FUNCTION_CONFIG		0xA0</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_PROFILE_CONFIG		0xA4</span>
<span class="cp">#define LPFC_MBOX_OPCODE_SET_PROFILE_CONFIG		0xA5</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_PROFILE_LIST		0xA6</span>
<span class="cp">#define LPFC_MBOX_OPCODE_SET_ACT_PROFILE		0xA8</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_FACTORY_PROFILE_CONFIG	0xA9</span>
<span class="cp">#define LPFC_MBOX_OPCODE_READ_OBJECT			0xAB</span>
<span class="cp">#define LPFC_MBOX_OPCODE_WRITE_OBJECT			0xAC</span>
<span class="cp">#define LPFC_MBOX_OPCODE_READ_OBJECT_LIST		0xAD</span>
<span class="cp">#define LPFC_MBOX_OPCODE_DELETE_OBJECT			0xAE</span>
<span class="cp">#define LPFC_MBOX_OPCODE_GET_SLI4_PARAMETERS		0xB5</span>

<span class="cm">/* FCoE Opcodes */</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_WQ_CREATE			0x01</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_WQ_DESTROY		0x02</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_POST_SGL_PAGES		0x03</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_REMOVE_SGL_PAGES		0x04</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_RQ_CREATE			0x05</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_RQ_DESTROY		0x06</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_READ_FCF_TABLE		0x08</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_ADD_FCF			0x09</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_DELETE_FCF		0x0A</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_POST_HDR_TEMPLATE		0x0B</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_REDISCOVER_FCF		0x10</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_SET_FCLINK_SETTINGS	0x21</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_LINK_DIAG_STATE		0x22</span>
<span class="cp">#define LPFC_MBOX_OPCODE_FCOE_LINK_DIAG_LOOPBACK	0x23</span>

<span class="cm">/* Mailbox command structures */</span>
<span class="k">struct</span> <span class="n">eq_context</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_eq_context_size_SHIFT	31</span>
<span class="cp">#define lpfc_eq_context_size_MASK	0x00000001</span>
<span class="cp">#define lpfc_eq_context_size_WORD	word0</span>
<span class="cp">#define LPFC_EQE_SIZE_4			0x0</span>
<span class="cp">#define LPFC_EQE_SIZE_16		0x1</span>
<span class="cp">#define lpfc_eq_context_valid_SHIFT	29</span>
<span class="cp">#define lpfc_eq_context_valid_MASK	0x00000001</span>
<span class="cp">#define lpfc_eq_context_valid_WORD	word0</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_eq_context_count_SHIFT	26</span>
<span class="cp">#define lpfc_eq_context_count_MASK	0x00000003</span>
<span class="cp">#define lpfc_eq_context_count_WORD	word1</span>
<span class="cp">#define LPFC_EQ_CNT_256		0x0</span>
<span class="cp">#define LPFC_EQ_CNT_512		0x1</span>
<span class="cp">#define LPFC_EQ_CNT_1024	0x2</span>
<span class="cp">#define LPFC_EQ_CNT_2048	0x3</span>
<span class="cp">#define LPFC_EQ_CNT_4096	0x4</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_eq_context_delay_multi_SHIFT	13</span>
<span class="cp">#define lpfc_eq_context_delay_multi_MASK	0x000003FF</span>
<span class="cp">#define lpfc_eq_context_delay_multi_WORD	word2</span>
	<span class="kt">uint32_t</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">sgl_page_pairs</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">sgl_pg0_addr_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">sgl_pg0_addr_hi</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">sgl_pg1_addr_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">sgl_pg1_addr_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_post_sgl_pages</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_post_sgl_pages_xri_SHIFT	0</span>
<span class="cp">#define lpfc_post_sgl_pages_xri_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_post_sgl_pages_xri_WORD	word0</span>
<span class="cp">#define lpfc_post_sgl_pages_xricnt_SHIFT	16</span>
<span class="cp">#define lpfc_post_sgl_pages_xricnt_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_post_sgl_pages_xricnt_WORD	word0</span>
	<span class="k">struct</span> <span class="n">sgl_page_pairs</span>  <span class="n">sgl_pg_pairs</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* word0 of page-1 struct shares the same SHIFT/MASK/WORD defines as above */</span>
<span class="k">struct</span> <span class="n">lpfc_mbx_post_uembed_sgl_page1</span> <span class="p">{</span>
	<span class="k">union</span>  <span class="n">lpfc_sli4_cfg_shdr</span> <span class="n">cfg_shdr</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sgl_page_pairs</span> <span class="n">sgl_pg_pairs</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_sge</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">pa_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">pa_hi</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">length</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_nembed_cmd</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpfc_sli4_cfg_mhdr</span> <span class="n">cfg_mhdr</span><span class="p">;</span>
<span class="cp">#define LPFC_SLI4_MBX_SGE_MAX_PAGES	19</span>
	<span class="k">struct</span> <span class="n">lpfc_mbx_sge</span> <span class="n">sge</span><span class="p">[</span><span class="n">LPFC_SLI4_MBX_SGE_MAX_PAGES</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_nembed_sge_virt</span> <span class="p">{</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">addr</span><span class="p">[</span><span class="n">LPFC_SLI4_MBX_SGE_MAX_PAGES</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_eq_create</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_eq_create_num_pages_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_eq_create_num_pages_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_eq_create_num_pages_WORD	word0</span>
			<span class="k">struct</span> <span class="n">eq_context</span> <span class="n">context</span><span class="p">;</span>
			<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">page</span><span class="p">[</span><span class="n">LPFC_MAX_EQ_PAGE</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_eq_create_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_eq_create_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_eq_create_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_eq_destroy</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_eq_destroy_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_eq_destroy_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_eq_destroy_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_nop</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">context</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">cq_context</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_cq_context_event_SHIFT	31</span>
<span class="cp">#define lpfc_cq_context_event_MASK	0x00000001</span>
<span class="cp">#define lpfc_cq_context_event_WORD	word0</span>
<span class="cp">#define lpfc_cq_context_valid_SHIFT	29</span>
<span class="cp">#define lpfc_cq_context_valid_MASK	0x00000001</span>
<span class="cp">#define lpfc_cq_context_valid_WORD	word0</span>
<span class="cp">#define lpfc_cq_context_count_SHIFT	27</span>
<span class="cp">#define lpfc_cq_context_count_MASK	0x00000003</span>
<span class="cp">#define lpfc_cq_context_count_WORD	word0</span>
<span class="cp">#define LPFC_CQ_CNT_256		0x0</span>
<span class="cp">#define LPFC_CQ_CNT_512		0x1</span>
<span class="cp">#define LPFC_CQ_CNT_1024	0x2</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_cq_eq_id_SHIFT		22	</span><span class="cm">/* Version 0 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_cq_eq_id_MASK		0x000000FF</span>
<span class="cp">#define lpfc_cq_eq_id_WORD		word1</span>
<span class="cp">#define lpfc_cq_eq_id_2_SHIFT		0 	</span><span class="cm">/* Version 2 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_cq_eq_id_2_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_cq_eq_id_2_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved1</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_cq_create</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_cq_create_page_size_SHIFT	16	</span><span class="cm">/* Version 2 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_mbx_cq_create_page_size_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_cq_create_page_size_WORD	word0</span>
<span class="cp">#define lpfc_mbx_cq_create_num_pages_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_cq_create_num_pages_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_cq_create_num_pages_WORD	word0</span>
			<span class="k">struct</span> <span class="n">cq_context</span> <span class="n">context</span><span class="p">;</span>
			<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">page</span><span class="p">[</span><span class="n">LPFC_MAX_CQ_PAGE</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_cq_create_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_cq_create_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_cq_create_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_cq_destroy</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_cq_destroy_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_cq_destroy_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_cq_destroy_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wq_context</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_wq_create</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>	<span class="cm">/* Version 0 Request */</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_wq_create_num_pages_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_wq_create_num_pages_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_wq_create_num_pages_WORD	word0</span>
<span class="cp">#define lpfc_mbx_wq_create_cq_id_SHIFT		16</span>
<span class="cp">#define lpfc_mbx_wq_create_cq_id_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_wq_create_cq_id_WORD		word0</span>
			<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">page</span><span class="p">[</span><span class="n">LPFC_MAX_WQ_PAGE</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>	<span class="cm">/* Version 1 Request */</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>	<span class="cm">/* Word 0 is the same as in v0 */</span>
			<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_wq_create_page_size_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_wq_create_page_size_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_wq_create_page_size_WORD	word1</span>
<span class="cp">#define lpfc_mbx_wq_create_wqe_size_SHIFT	8</span>
<span class="cp">#define lpfc_mbx_wq_create_wqe_size_MASK	0x0000000F</span>
<span class="cp">#define lpfc_mbx_wq_create_wqe_size_WORD	word1</span>
<span class="cp">#define LPFC_WQ_WQE_SIZE_64	0x5</span>
<span class="cp">#define LPFC_WQ_WQE_SIZE_128	0x6</span>
<span class="cp">#define lpfc_mbx_wq_create_wqe_count_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_wq_create_wqe_count_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_wq_create_wqe_count_WORD	word1</span>
			<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
			<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">page</span><span class="p">[</span><span class="n">LPFC_MAX_WQ_PAGE</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request_1</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_wq_create_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_wq_create_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_wq_create_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_wq_destroy</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_wq_destroy_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_wq_destroy_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_wq_destroy_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define LPFC_HDR_BUF_SIZE 128</span>
<span class="cp">#define LPFC_DATA_BUF_SIZE 2048</span>
<span class="k">struct</span> <span class="n">rq_context</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_rq_context_rqe_count_SHIFT	16	</span><span class="cm">/* Version 0 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_rq_context_rqe_count_MASK	0x0000000F</span>
<span class="cp">#define lpfc_rq_context_rqe_count_WORD	word0</span>
<span class="cp">#define LPFC_RQ_RING_SIZE_512		9	</span><span class="cm">/* 512 entries */</span><span class="cp"></span>
<span class="cp">#define LPFC_RQ_RING_SIZE_1024		10	</span><span class="cm">/* 1024 entries */</span><span class="cp"></span>
<span class="cp">#define LPFC_RQ_RING_SIZE_2048		11	</span><span class="cm">/* 2048 entries */</span><span class="cp"></span>
<span class="cp">#define LPFC_RQ_RING_SIZE_4096		12	</span><span class="cm">/* 4096 entries */</span><span class="cp"></span>
<span class="cp">#define lpfc_rq_context_rqe_count_1_SHIFT	16	</span><span class="cm">/* Version 1 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_rq_context_rqe_count_1_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_rq_context_rqe_count_1_WORD	word0</span>
<span class="cp">#define lpfc_rq_context_rqe_size_SHIFT	8		</span><span class="cm">/* Version 1 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_rq_context_rqe_size_MASK	0x0000000F</span>
<span class="cp">#define lpfc_rq_context_rqe_size_WORD	word0</span>
<span class="cp">#define LPFC_RQE_SIZE_8		2</span>
<span class="cp">#define LPFC_RQE_SIZE_16	3</span>
<span class="cp">#define LPFC_RQE_SIZE_32	4</span>
<span class="cp">#define LPFC_RQE_SIZE_64	5</span>
<span class="cp">#define LPFC_RQE_SIZE_128	6</span>
<span class="cp">#define lpfc_rq_context_page_size_SHIFT	0		</span><span class="cm">/* Version 1 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_rq_context_page_size_MASK	0x000000FF</span>
<span class="cp">#define lpfc_rq_context_page_size_WORD	word0</span>
	<span class="kt">uint32_t</span> <span class="n">reserved1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_rq_context_cq_id_SHIFT	16</span>
<span class="cp">#define lpfc_rq_context_cq_id_MASK	0x000003FF</span>
<span class="cp">#define lpfc_rq_context_cq_id_WORD	word2</span>
<span class="cp">#define lpfc_rq_context_buf_size_SHIFT	0</span>
<span class="cp">#define lpfc_rq_context_buf_size_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_rq_context_buf_size_WORD	word2</span>
	<span class="kt">uint32_t</span> <span class="n">buffer_size</span><span class="p">;</span>				<span class="cm">/* Version 1 Only */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_rq_create</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rq_create_num_pages_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_rq_create_num_pages_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rq_create_num_pages_WORD	word0</span>
			<span class="k">struct</span> <span class="n">rq_context</span> <span class="n">context</span><span class="p">;</span>
			<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">page</span><span class="p">[</span><span class="n">LPFC_MAX_WQ_PAGE</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rq_create_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_rq_create_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rq_create_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_rq_destroy</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rq_destroy_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_rq_destroy_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rq_destroy_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">mq_context</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mq_context_cq_id_SHIFT	22 	</span><span class="cm">/* Version 0 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_mq_context_cq_id_MASK	0x000003FF</span>
<span class="cp">#define lpfc_mq_context_cq_id_WORD	word0</span>
<span class="cp">#define lpfc_mq_context_ring_size_SHIFT	16</span>
<span class="cp">#define lpfc_mq_context_ring_size_MASK	0x0000000F</span>
<span class="cp">#define lpfc_mq_context_ring_size_WORD	word0</span>
<span class="cp">#define LPFC_MQ_RING_SIZE_16		0x5</span>
<span class="cp">#define LPFC_MQ_RING_SIZE_32		0x6</span>
<span class="cp">#define LPFC_MQ_RING_SIZE_64		0x7</span>
<span class="cp">#define LPFC_MQ_RING_SIZE_128		0x8</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_mq_context_valid_SHIFT	31</span>
<span class="cp">#define lpfc_mq_context_valid_MASK	0x00000001</span>
<span class="cp">#define lpfc_mq_context_valid_WORD	word1</span>
	<span class="kt">uint32_t</span> <span class="n">reserved2</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved3</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_mq_create</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_mq_create_num_pages_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_mq_create_num_pages_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_mq_create_num_pages_WORD	word0</span>
			<span class="k">struct</span> <span class="n">mq_context</span> <span class="n">context</span><span class="p">;</span>
			<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">page</span><span class="p">[</span><span class="n">LPFC_MAX_MQ_PAGE</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_mq_create_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_mq_create_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_mq_create_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_mq_create_ext</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_num_pages_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_num_pages_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_num_pages_WORD	word0</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_cq_id_SHIFT	16	</span><span class="cm">/* Version 1 Only */</span><span class="cp"></span>
<span class="cp">#define lpfc_mbx_mq_create_ext_cq_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_cq_id_WORD	word0</span>
			<span class="kt">uint32_t</span> <span class="n">async_evt_bmap</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_link_SHIFT	LPFC_TRAILER_CODE_LINK</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_link_MASK	0x00000001</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_link_WORD	async_evt_bmap</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_fip_SHIFT	LPFC_TRAILER_CODE_FCOE</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_fip_MASK	0x00000001</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_fip_WORD	async_evt_bmap</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_group5_SHIFT	LPFC_TRAILER_CODE_GRP5</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_group5_MASK	0x00000001</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_group5_WORD	async_evt_bmap</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_fc_SHIFT	LPFC_TRAILER_CODE_FC</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_fc_MASK	0x00000001</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_fc_WORD	async_evt_bmap</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_sli_SHIFT	LPFC_TRAILER_CODE_SLI</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_sli_MASK	0x00000001</span>
<span class="cp">#define lpfc_mbx_mq_create_ext_async_evt_sli_WORD	async_evt_bmap</span>
			<span class="k">struct</span> <span class="n">mq_context</span> <span class="n">context</span><span class="p">;</span>
			<span class="k">struct</span> <span class="n">dma_address</span> <span class="n">page</span><span class="p">[</span><span class="n">LPFC_MAX_MQ_PAGE</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_mq_create_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_mq_create_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_mq_create_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="cp">#define LPFC_ASYNC_EVENT_LINK_STATE	0x2</span>
<span class="cp">#define LPFC_ASYNC_EVENT_FCF_STATE	0x4</span>
<span class="cp">#define LPFC_ASYNC_EVENT_GROUP5		0x20</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_mq_destroy</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_mq_destroy_q_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_mq_destroy_q_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_mq_destroy_q_id_WORD	word0</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Start Gen 2 SLI4 Mailbox definitions: */</span>

<span class="cm">/* Define allocate-ready Gen 2 SLI4 FCoE Resource Extent Types. */</span>
<span class="cp">#define LPFC_RSC_TYPE_FCOE_VFI	0x20</span>
<span class="cp">#define LPFC_RSC_TYPE_FCOE_VPI	0x21</span>
<span class="cp">#define LPFC_RSC_TYPE_FCOE_RPI	0x22</span>
<span class="cp">#define LPFC_RSC_TYPE_FCOE_XRI	0x23</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_get_rsrc_extent_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_type_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_type_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_type_WORD		word4</span>
		<span class="p">}</span> <span class="n">req</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_cnt_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_cnt_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_cnt_WORD		word4</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_size_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_size_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_get_rsrc_extent_info_size_WORD		word4</span>
		<span class="p">}</span> <span class="n">rsp</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_id_range</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rsrc_id_word4_0_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_rsrc_id_word4_0_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rsrc_id_word4_0_WORD	word5</span>
<span class="cp">#define lpfc_mbx_rsrc_id_word4_1_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_rsrc_id_word4_1_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rsrc_id_word4_1_WORD	word5</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_set_link_diag_state</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_set_diag_state_diag_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_set_diag_state_diag_MASK	0x00000001</span>
<span class="cp">#define lpfc_mbx_set_diag_state_diag_WORD	word0</span>
<span class="cp">#define lpfc_mbx_set_diag_state_link_num_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_set_diag_state_link_num_MASK	0x0000003F</span>
<span class="cp">#define lpfc_mbx_set_diag_state_link_num_WORD	word0</span>
<span class="cp">#define lpfc_mbx_set_diag_state_link_type_SHIFT 22</span>
<span class="cp">#define lpfc_mbx_set_diag_state_link_type_MASK	0x00000003</span>
<span class="cp">#define lpfc_mbx_set_diag_state_link_type_WORD	word0</span>
		<span class="p">}</span> <span class="n">req</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">rsp</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_set_link_diag_loopback</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_type_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_type_MASK	0x00000003</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_type_WORD	word0</span>
<span class="cp">#define LPFC_DIAG_LOOPBACK_TYPE_DISABLE		0x0</span>
<span class="cp">#define LPFC_DIAG_LOOPBACK_TYPE_INTERNAL	0x1</span>
<span class="cp">#define LPFC_DIAG_LOOPBACK_TYPE_SERDES		0x2</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_link_num_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_link_num_MASK	0x0000003F</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_link_num_WORD	word0</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_link_type_SHIFT	22</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_link_type_MASK	0x00000003</span>
<span class="cp">#define lpfc_mbx_set_diag_lpbk_link_type_WORD	word0</span>
		<span class="p">}</span> <span class="n">req</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">rsp</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_run_link_diag_test</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_run_diag_test_link_num_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_run_diag_test_link_num_MASK	0x0000003F</span>
<span class="cp">#define lpfc_mbx_run_diag_test_link_num_WORD	word0</span>
<span class="cp">#define lpfc_mbx_run_diag_test_link_type_SHIFT	22</span>
<span class="cp">#define lpfc_mbx_run_diag_test_link_type_MASK	0x00000003</span>
<span class="cp">#define lpfc_mbx_run_diag_test_link_type_WORD	word0</span>
			<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_run_diag_test_test_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_run_diag_test_test_id_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_run_diag_test_test_id_WORD	word1</span>
<span class="cp">#define lpfc_mbx_run_diag_test_loops_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_run_diag_test_loops_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_run_diag_test_loops_WORD	word1</span>
			<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_run_diag_test_test_ver_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_run_diag_test_test_ver_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_run_diag_test_test_ver_WORD	word2</span>
<span class="cp">#define lpfc_mbx_run_diag_test_err_act_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_run_diag_test_err_act_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_run_diag_test_err_act_WORD	word2</span>
		<span class="p">}</span> <span class="n">req</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">rsp</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * struct lpfc_mbx_alloc_rsrc_extents:</span>
<span class="cm"> * A mbox is generically 256 bytes long. An SLI4_CONFIG mailbox requires</span>
<span class="cm"> * 6 words of header + 4 words of shared subcommand header +</span>
<span class="cm"> * 1 words of Extent-Opcode-specific header = 11 words or 44 bytes total.</span>
<span class="cm"> *</span>
<span class="cm"> * An embedded version of SLI4_CONFIG therefore has 256 - 44 = 212 bytes</span>
<span class="cm"> * for extents payload.</span>
<span class="cm"> *</span>
<span class="cm"> * 212/2 (bytes per extent) = 106 extents.</span>
<span class="cm"> * 106/2 (extents per word) = 53 words.</span>
<span class="cm"> * lpfc_id_range id is statically size to 53.</span>
<span class="cm"> *</span>
<span class="cm"> * This mailbox definition is used for ALLOC or GET_ALLOCATED</span>
<span class="cm"> * extent ranges.  For ALLOC, the type and cnt are required.</span>
<span class="cm"> * For GET_ALLOCATED, only the type is required.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">lpfc_mbx_alloc_rsrc_extents</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_alloc_rsrc_extents_type_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_alloc_rsrc_extents_type_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_alloc_rsrc_extents_type_WORD	word4</span>
<span class="cp">#define lpfc_mbx_alloc_rsrc_extents_cnt_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_alloc_rsrc_extents_cnt_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_alloc_rsrc_extents_cnt_WORD	word4</span>
		<span class="p">}</span> <span class="n">req</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rsrc_cnt_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_rsrc_cnt_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rsrc_cnt_WORD	word4</span>
			<span class="k">struct</span> <span class="n">lpfc_id_range</span> <span class="n">id</span><span class="p">[</span><span class="mi">53</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">rsp</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * This is the non-embedded version of ALLOC or GET RSRC_EXTENTS. Word4 in this</span>
<span class="cm"> * structure shares the same SHIFT/MASK/WORD defines provided in the</span>
<span class="cm"> * mbx_alloc_rsrc_extents and mbx_get_alloc_rsrc_extents, word4, provided in</span>
<span class="cm"> * the structures defined above.  This non-embedded structure provides for the</span>
<span class="cm"> * maximum number of extents supported by the port.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">lpfc_mbx_nembed_rsrc_extent</span> <span class="p">{</span>
	<span class="k">union</span>  <span class="n">lpfc_sli4_cfg_shdr</span> <span class="n">cfg_shdr</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_id_range</span> <span class="n">id</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_dealloc_rsrc_extents</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_dealloc_rsrc_extents_type_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_dealloc_rsrc_extents_type_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_dealloc_rsrc_extents_type_WORD		word4</span>
	<span class="p">}</span> <span class="n">req</span><span class="p">;</span>

<span class="p">};</span>

<span class="cm">/* Start SLI4 FCoE specific mbox structures. */</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_post_hdr_tmpl</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_post_hdr_tmpl_rpi_offset_SHIFT  0</span>
<span class="cp">#define lpfc_mbx_post_hdr_tmpl_rpi_offset_MASK   0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_post_hdr_tmpl_rpi_offset_WORD   word10</span>
<span class="cp">#define lpfc_mbx_post_hdr_tmpl_page_cnt_SHIFT   16</span>
<span class="cp">#define lpfc_mbx_post_hdr_tmpl_page_cnt_MASK    0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_post_hdr_tmpl_page_cnt_WORD    word10</span>
	<span class="kt">uint32_t</span> <span class="n">rpi_paddr_lo</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rpi_paddr_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">sli4_sge</span> <span class="p">{</span>	<span class="cm">/* SLI-4 */</span>
	<span class="kt">uint32_t</span> <span class="n">addr_hi</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">addr_lo</span><span class="p">;</span>

	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_sli4_sge_offset_SHIFT	0</span>
<span class="cp">#define lpfc_sli4_sge_offset_MASK	0x07FFFFFF</span>
<span class="cp">#define lpfc_sli4_sge_offset_WORD	word2</span>
<span class="cp">#define lpfc_sli4_sge_type_SHIFT	27</span>
<span class="cp">#define lpfc_sli4_sge_type_MASK		0x0000000F</span>
<span class="cp">#define lpfc_sli4_sge_type_WORD		word2</span>
<span class="cp">#define LPFC_SGE_TYPE_DATA		0x0</span>
<span class="cp">#define LPFC_SGE_TYPE_DIF		0x4</span>
<span class="cp">#define LPFC_SGE_TYPE_LSP		0x5</span>
<span class="cp">#define LPFC_SGE_TYPE_PEDIF		0x6</span>
<span class="cp">#define LPFC_SGE_TYPE_PESEED		0x7</span>
<span class="cp">#define LPFC_SGE_TYPE_DISEED		0x8</span>
<span class="cp">#define LPFC_SGE_TYPE_ENC		0x9</span>
<span class="cp">#define LPFC_SGE_TYPE_ATM		0xA</span>
<span class="cp">#define LPFC_SGE_TYPE_SKIP		0xC</span>
<span class="cp">#define lpfc_sli4_sge_last_SHIFT	31 </span><span class="cm">/* Last SEG in the SGL sets it */</span><span class="cp"></span>
<span class="cp">#define lpfc_sli4_sge_last_MASK		0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_last_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">sge_len</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">sli4_sge_diseed</span> <span class="p">{</span>	<span class="cm">/* SLI-4 */</span>
	<span class="kt">uint32_t</span> <span class="n">ref_tag</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">ref_tag_tran</span><span class="p">;</span>

	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_sli4_sge_dif_apptran_SHIFT	0</span>
<span class="cp">#define lpfc_sli4_sge_dif_apptran_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_sli4_sge_dif_apptran_WORD	word2</span>
<span class="cp">#define lpfc_sli4_sge_dif_af_SHIFT	24</span>
<span class="cp">#define lpfc_sli4_sge_dif_af_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_af_WORD	word2</span>
<span class="cp">#define lpfc_sli4_sge_dif_na_SHIFT	25</span>
<span class="cp">#define lpfc_sli4_sge_dif_na_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_na_WORD	word2</span>
<span class="cp">#define lpfc_sli4_sge_dif_hi_SHIFT	26</span>
<span class="cp">#define lpfc_sli4_sge_dif_hi_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_hi_WORD	word2</span>
<span class="cp">#define lpfc_sli4_sge_dif_type_SHIFT	27</span>
<span class="cp">#define lpfc_sli4_sge_dif_type_MASK	0x0000000F</span>
<span class="cp">#define lpfc_sli4_sge_dif_type_WORD	word2</span>
<span class="cp">#define lpfc_sli4_sge_dif_last_SHIFT	31 </span><span class="cm">/* Last SEG in the SGL sets it */</span><span class="cp"></span>
<span class="cp">#define lpfc_sli4_sge_dif_last_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_last_WORD	word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_sli4_sge_dif_apptag_SHIFT	0</span>
<span class="cp">#define lpfc_sli4_sge_dif_apptag_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_sli4_sge_dif_apptag_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_bs_SHIFT	16</span>
<span class="cp">#define lpfc_sli4_sge_dif_bs_MASK	0x00000007</span>
<span class="cp">#define lpfc_sli4_sge_dif_bs_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_ai_SHIFT	19</span>
<span class="cp">#define lpfc_sli4_sge_dif_ai_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_ai_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_me_SHIFT	20</span>
<span class="cp">#define lpfc_sli4_sge_dif_me_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_me_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_re_SHIFT	21</span>
<span class="cp">#define lpfc_sli4_sge_dif_re_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_re_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_ce_SHIFT	22</span>
<span class="cp">#define lpfc_sli4_sge_dif_ce_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_ce_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_nr_SHIFT	23</span>
<span class="cp">#define lpfc_sli4_sge_dif_nr_MASK	0x00000001</span>
<span class="cp">#define lpfc_sli4_sge_dif_nr_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_oprx_SHIFT	24</span>
<span class="cp">#define lpfc_sli4_sge_dif_oprx_MASK	0x0000000F</span>
<span class="cp">#define lpfc_sli4_sge_dif_oprx_WORD	word3</span>
<span class="cp">#define lpfc_sli4_sge_dif_optx_SHIFT	28</span>
<span class="cp">#define lpfc_sli4_sge_dif_optx_MASK	0x0000000F</span>
<span class="cp">#define lpfc_sli4_sge_dif_optx_WORD	word3</span>
<span class="cm">/* optx and oprx use BG_OP_IN defines in lpfc_hw.h */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcf_record</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">max_rcv_size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">fka_adv_period</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">fip_priority</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_mac_0_SHIFT		0</span>
<span class="cp">#define lpfc_fcf_record_mac_0_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_mac_0_WORD		word3</span>
<span class="cp">#define lpfc_fcf_record_mac_1_SHIFT		8</span>
<span class="cp">#define lpfc_fcf_record_mac_1_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_mac_1_WORD		word3</span>
<span class="cp">#define lpfc_fcf_record_mac_2_SHIFT		16</span>
<span class="cp">#define lpfc_fcf_record_mac_2_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_mac_2_WORD		word3</span>
<span class="cp">#define lpfc_fcf_record_mac_3_SHIFT		24</span>
<span class="cp">#define lpfc_fcf_record_mac_3_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_mac_3_WORD		word3</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_mac_4_SHIFT		0</span>
<span class="cp">#define lpfc_fcf_record_mac_4_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_mac_4_WORD		word4</span>
<span class="cp">#define lpfc_fcf_record_mac_5_SHIFT		8</span>
<span class="cp">#define lpfc_fcf_record_mac_5_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_mac_5_WORD		word4</span>
<span class="cp">#define lpfc_fcf_record_fcf_avail_SHIFT		16</span>
<span class="cp">#define lpfc_fcf_record_fcf_avail_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fcf_avail_WORD		word4</span>
<span class="cp">#define lpfc_fcf_record_mac_addr_prov_SHIFT	24</span>
<span class="cp">#define lpfc_fcf_record_mac_addr_prov_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_mac_addr_prov_WORD	word4</span>
<span class="cp">#define LPFC_FCF_FPMA           1 	</span><span class="cm">/* Fabric Provided MAC Address */</span><span class="cp"></span>
<span class="cp">#define LPFC_FCF_SPMA           2       </span><span class="cm">/* Server Provided MAC Address */</span><span class="cp"></span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_fab_name_0_SHIFT	0</span>
<span class="cp">#define lpfc_fcf_record_fab_name_0_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_0_WORD		word5</span>
<span class="cp">#define lpfc_fcf_record_fab_name_1_SHIFT	8</span>
<span class="cp">#define lpfc_fcf_record_fab_name_1_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_1_WORD		word5</span>
<span class="cp">#define lpfc_fcf_record_fab_name_2_SHIFT	16</span>
<span class="cp">#define lpfc_fcf_record_fab_name_2_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_2_WORD		word5</span>
<span class="cp">#define lpfc_fcf_record_fab_name_3_SHIFT	24</span>
<span class="cp">#define lpfc_fcf_record_fab_name_3_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_3_WORD		word5</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_fab_name_4_SHIFT	0</span>
<span class="cp">#define lpfc_fcf_record_fab_name_4_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_4_WORD		word6</span>
<span class="cp">#define lpfc_fcf_record_fab_name_5_SHIFT	8</span>
<span class="cp">#define lpfc_fcf_record_fab_name_5_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_5_WORD		word6</span>
<span class="cp">#define lpfc_fcf_record_fab_name_6_SHIFT	16</span>
<span class="cp">#define lpfc_fcf_record_fab_name_6_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_6_WORD		word6</span>
<span class="cp">#define lpfc_fcf_record_fab_name_7_SHIFT	24</span>
<span class="cp">#define lpfc_fcf_record_fab_name_7_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fab_name_7_WORD		word6</span>
	<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_fc_map_0_SHIFT		0</span>
<span class="cp">#define lpfc_fcf_record_fc_map_0_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fc_map_0_WORD		word7</span>
<span class="cp">#define lpfc_fcf_record_fc_map_1_SHIFT		8</span>
<span class="cp">#define lpfc_fcf_record_fc_map_1_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fc_map_1_WORD		word7</span>
<span class="cp">#define lpfc_fcf_record_fc_map_2_SHIFT		16</span>
<span class="cp">#define lpfc_fcf_record_fc_map_2_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fc_map_2_WORD		word7</span>
<span class="cp">#define lpfc_fcf_record_fcf_valid_SHIFT		24</span>
<span class="cp">#define lpfc_fcf_record_fcf_valid_MASK		0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_fcf_valid_WORD		word7</span>
	<span class="kt">uint32_t</span> <span class="n">word8</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_fcf_index_SHIFT		0</span>
<span class="cp">#define lpfc_fcf_record_fcf_index_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_fcf_record_fcf_index_WORD		word8</span>
<span class="cp">#define lpfc_fcf_record_fcf_state_SHIFT		16</span>
<span class="cp">#define lpfc_fcf_record_fcf_state_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_fcf_record_fcf_state_WORD		word8</span>
	<span class="kt">uint8_t</span> <span class="n">vlan_bitmap</span><span class="p">[</span><span class="mi">512</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word137</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_switch_name_0_SHIFT	0</span>
<span class="cp">#define lpfc_fcf_record_switch_name_0_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_0_WORD	word137</span>
<span class="cp">#define lpfc_fcf_record_switch_name_1_SHIFT	8</span>
<span class="cp">#define lpfc_fcf_record_switch_name_1_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_1_WORD	word137</span>
<span class="cp">#define lpfc_fcf_record_switch_name_2_SHIFT	16</span>
<span class="cp">#define lpfc_fcf_record_switch_name_2_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_2_WORD	word137</span>
<span class="cp">#define lpfc_fcf_record_switch_name_3_SHIFT	24</span>
<span class="cp">#define lpfc_fcf_record_switch_name_3_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_3_WORD	word137</span>
	<span class="kt">uint32_t</span> <span class="n">word138</span><span class="p">;</span>
<span class="cp">#define lpfc_fcf_record_switch_name_4_SHIFT	0</span>
<span class="cp">#define lpfc_fcf_record_switch_name_4_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_4_WORD	word138</span>
<span class="cp">#define lpfc_fcf_record_switch_name_5_SHIFT	8</span>
<span class="cp">#define lpfc_fcf_record_switch_name_5_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_5_WORD	word138</span>
<span class="cp">#define lpfc_fcf_record_switch_name_6_SHIFT	16</span>
<span class="cp">#define lpfc_fcf_record_switch_name_6_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_6_WORD	word138</span>
<span class="cp">#define lpfc_fcf_record_switch_name_7_SHIFT	24</span>
<span class="cp">#define lpfc_fcf_record_switch_name_7_MASK	0x000000FF</span>
<span class="cp">#define lpfc_fcf_record_switch_name_7_WORD	word138</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_read_fcf_tbl</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">lpfc_sli4_cfg_shdr</span> <span class="n">cfg_shdr</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_read_fcf_tbl_indx_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_read_fcf_tbl_indx_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_read_fcf_tbl_indx_WORD		word10</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">eventag</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word11</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_read_fcf_tbl_nxt_vindx_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_read_fcf_tbl_nxt_vindx_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_read_fcf_tbl_nxt_vindx_WORD	word11</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_add_fcf_tbl_entry</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">lpfc_sli4_cfg_shdr</span> <span class="n">cfg_shdr</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_add_fcf_tbl_fcfi_SHIFT        0</span>
<span class="cp">#define lpfc_mbx_add_fcf_tbl_fcfi_MASK         0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_add_fcf_tbl_fcfi_WORD         word10</span>
	<span class="k">struct</span> <span class="n">lpfc_mbx_sge</span> <span class="n">fcf_sge</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_del_fcf_tbl_entry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_del_fcf_tbl_count_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_del_fcf_tbl_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_del_fcf_tbl_count_WORD		word10</span>
<span class="cp">#define lpfc_mbx_del_fcf_tbl_index_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_del_fcf_tbl_index_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_del_fcf_tbl_index_WORD		word10</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_redisc_fcf_tbl</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_redisc_fcf_count_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_redisc_fcf_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_redisc_fcf_count_WORD		word10</span>
	<span class="kt">uint32_t</span> <span class="n">resvd</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_redisc_fcf_index_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_redisc_fcf_index_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_redisc_fcf_index_WORD		word12</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_query_fw_cfg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">config_number</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">asic_rev</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">phys_port</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">function_mode</span><span class="p">;</span>
<span class="cm">/* firmware Function Mode */</span>
<span class="cp">#define lpfc_function_mode_toe_SHIFT		0</span>
<span class="cp">#define lpfc_function_mode_toe_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_toe_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_nic_SHIFT		1</span>
<span class="cp">#define lpfc_function_mode_nic_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_nic_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_rdma_SHIFT		2</span>
<span class="cp">#define lpfc_function_mode_rdma_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_rdma_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_vm_SHIFT		3</span>
<span class="cp">#define lpfc_function_mode_vm_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_vm_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_iscsi_i_SHIFT	4</span>
<span class="cp">#define lpfc_function_mode_iscsi_i_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_iscsi_i_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_iscsi_t_SHIFT	5</span>
<span class="cp">#define lpfc_function_mode_iscsi_t_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_iscsi_t_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_fcoe_i_SHIFT		6</span>
<span class="cp">#define lpfc_function_mode_fcoe_i_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_fcoe_i_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_fcoe_t_SHIFT		7</span>
<span class="cp">#define lpfc_function_mode_fcoe_t_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_fcoe_t_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_dal_SHIFT		8</span>
<span class="cp">#define lpfc_function_mode_dal_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_dal_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_lro_SHIFT		9</span>
<span class="cp">#define lpfc_function_mode_lro_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_lro_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_flex10_SHIFT		10</span>
<span class="cp">#define lpfc_function_mode_flex10_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_flex10_WORD		function_mode</span>
<span class="cp">#define lpfc_function_mode_ncsi_SHIFT		11</span>
<span class="cp">#define lpfc_function_mode_ncsi_MASK		0x00000001</span>
<span class="cp">#define lpfc_function_mode_ncsi_WORD		function_mode</span>
<span class="p">};</span>

<span class="cm">/* Status field for embedded SLI_CONFIG mailbox command */</span>
<span class="cp">#define STATUS_SUCCESS					0x0</span>
<span class="cp">#define STATUS_FAILED 					0x1</span>
<span class="cp">#define STATUS_ILLEGAL_REQUEST				0x2</span>
<span class="cp">#define STATUS_ILLEGAL_FIELD				0x3</span>
<span class="cp">#define STATUS_INSUFFICIENT_BUFFER 			0x4</span>
<span class="cp">#define STATUS_UNAUTHORIZED_REQUEST			0x5</span>
<span class="cp">#define STATUS_FLASHROM_SAVE_FAILED			0x17</span>
<span class="cp">#define STATUS_FLASHROM_RESTORE_FAILED			0x18</span>
<span class="cp">#define STATUS_ICCBINDEX_ALLOC_FAILED			0x1a</span>
<span class="cp">#define STATUS_IOCTLHANDLE_ALLOC_FAILED 		0x1b</span>
<span class="cp">#define STATUS_INVALID_PHY_ADDR_FROM_OSM		0x1c</span>
<span class="cp">#define STATUS_INVALID_PHY_ADDR_LEN_FROM_OSM		0x1d</span>
<span class="cp">#define STATUS_ASSERT_FAILED				0x1e</span>
<span class="cp">#define STATUS_INVALID_SESSION				0x1f</span>
<span class="cp">#define STATUS_INVALID_CONNECTION			0x20</span>
<span class="cp">#define STATUS_BTL_PATH_EXCEEDS_OSM_LIMIT		0x21</span>
<span class="cp">#define STATUS_BTL_NO_FREE_SLOT_PATH			0x24</span>
<span class="cp">#define STATUS_BTL_NO_FREE_SLOT_TGTID			0x25</span>
<span class="cp">#define STATUS_OSM_DEVSLOT_NOT_FOUND			0x26</span>
<span class="cp">#define STATUS_FLASHROM_READ_FAILED			0x27</span>
<span class="cp">#define STATUS_POLL_IOCTL_TIMEOUT			0x28</span>
<span class="cp">#define STATUS_ERROR_ACITMAIN				0x2a</span>
<span class="cp">#define STATUS_REBOOT_REQUIRED				0x2c</span>
<span class="cp">#define STATUS_FCF_IN_USE				0x3a</span>
<span class="cp">#define STATUS_FCF_TABLE_EMPTY				0x43</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_sli4_config</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_init_vfi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_init_vfi_vr_SHIFT		31</span>
<span class="cp">#define lpfc_init_vfi_vr_MASK		0x00000001</span>
<span class="cp">#define lpfc_init_vfi_vr_WORD		word1</span>
<span class="cp">#define lpfc_init_vfi_vt_SHIFT		30</span>
<span class="cp">#define lpfc_init_vfi_vt_MASK		0x00000001</span>
<span class="cp">#define lpfc_init_vfi_vt_WORD		word1</span>
<span class="cp">#define lpfc_init_vfi_vf_SHIFT		29</span>
<span class="cp">#define lpfc_init_vfi_vf_MASK		0x00000001</span>
<span class="cp">#define lpfc_init_vfi_vf_WORD		word1</span>
<span class="cp">#define lpfc_init_vfi_vp_SHIFT		28</span>
<span class="cp">#define lpfc_init_vfi_vp_MASK		0x00000001</span>
<span class="cp">#define lpfc_init_vfi_vp_WORD		word1</span>
<span class="cp">#define lpfc_init_vfi_vfi_SHIFT		0</span>
<span class="cp">#define lpfc_init_vfi_vfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_init_vfi_vfi_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_init_vfi_vpi_SHIFT		16</span>
<span class="cp">#define lpfc_init_vfi_vpi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_init_vfi_vpi_WORD		word2</span>
<span class="cp">#define lpfc_init_vfi_fcfi_SHIFT	0</span>
<span class="cp">#define lpfc_init_vfi_fcfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_init_vfi_fcfi_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_init_vfi_pri_SHIFT		13</span>
<span class="cp">#define lpfc_init_vfi_pri_MASK		0x00000007</span>
<span class="cp">#define lpfc_init_vfi_pri_WORD		word3</span>
<span class="cp">#define lpfc_init_vfi_vf_id_SHIFT	1</span>
<span class="cp">#define lpfc_init_vfi_vf_id_MASK	0x00000FFF</span>
<span class="cp">#define lpfc_init_vfi_vf_id_WORD	word3</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_init_vfi_hop_count_SHIFT	24</span>
<span class="cp">#define lpfc_init_vfi_hop_count_MASK	0x000000FF</span>
<span class="cp">#define lpfc_init_vfi_hop_count_WORD	word4</span>
<span class="p">};</span>
<span class="cp">#define MBX_VFI_IN_USE			0x9F02</span>


<span class="k">struct</span> <span class="n">lpfc_mbx_reg_vfi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_vfi_vp_SHIFT		28</span>
<span class="cp">#define lpfc_reg_vfi_vp_MASK		0x00000001</span>
<span class="cp">#define lpfc_reg_vfi_vp_WORD		word1</span>
<span class="cp">#define lpfc_reg_vfi_vfi_SHIFT		0</span>
<span class="cp">#define lpfc_reg_vfi_vfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_reg_vfi_vfi_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_vfi_vpi_SHIFT		16</span>
<span class="cp">#define lpfc_reg_vfi_vpi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_reg_vfi_vpi_WORD		word2</span>
<span class="cp">#define lpfc_reg_vfi_fcfi_SHIFT		0</span>
<span class="cp">#define lpfc_reg_vfi_fcfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_reg_vfi_fcfi_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">wwn</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">e_d_tov</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">r_a_tov</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_vfi_nport_id_SHIFT		0</span>
<span class="cp">#define lpfc_reg_vfi_nport_id_MASK		0x00FFFFFF</span>
<span class="cp">#define lpfc_reg_vfi_nport_id_WORD		word10</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_init_vpi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_init_vpi_vfi_SHIFT		16</span>
<span class="cp">#define lpfc_init_vpi_vfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_init_vpi_vfi_WORD		word1</span>
<span class="cp">#define lpfc_init_vpi_vpi_SHIFT		0</span>
<span class="cp">#define lpfc_init_vpi_vpi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_init_vpi_vpi_WORD		word1</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_read_vpi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1_rsvd</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_read_vpi_vnportid_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_read_vpi_vnportid_MASK		0x00FFFFFF</span>
<span class="cp">#define lpfc_mbx_read_vpi_vnportid_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3_rsvd</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_read_vpi_acq_alpa_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_read_vpi_acq_alpa_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_acq_alpa_WORD		word4</span>
<span class="cp">#define lpfc_mbx_read_vpi_pb_SHIFT		15</span>
<span class="cp">#define lpfc_mbx_read_vpi_pb_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_read_vpi_pb_WORD		word4</span>
<span class="cp">#define lpfc_mbx_read_vpi_spec_alpa_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_read_vpi_spec_alpa_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_spec_alpa_WORD	word4</span>
<span class="cp">#define lpfc_mbx_read_vpi_ns_SHIFT		30</span>
<span class="cp">#define lpfc_mbx_read_vpi_ns_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_read_vpi_ns_WORD		word4</span>
<span class="cp">#define lpfc_mbx_read_vpi_hl_SHIFT		31</span>
<span class="cp">#define lpfc_mbx_read_vpi_hl_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_read_vpi_hl_WORD		word4</span>
	<span class="kt">uint32_t</span> <span class="n">word5_rsvd</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_read_vpi_vpi_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_read_vpi_vpi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_read_vpi_vpi_WORD		word6</span>
	<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_0_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_0_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_0_WORD		word7</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_1_SHIFT		8</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_1_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_1_WORD		word7</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_2_SHIFT		16</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_2_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_2_WORD		word7</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_3_SHIFT		24</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_3_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_3_WORD		word7</span>
	<span class="kt">uint32_t</span> <span class="n">word8</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_4_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_4_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_4_WORD		word8</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_5_SHIFT		8</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_5_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_read_vpi_mac_5_WORD		word8</span>
<span class="cp">#define lpfc_mbx_read_vpi_vlan_tag_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_read_vpi_vlan_tag_MASK		0x00000FFF</span>
<span class="cp">#define lpfc_mbx_read_vpi_vlan_tag_WORD		word8</span>
<span class="cp">#define lpfc_mbx_read_vpi_vv_SHIFT		28</span>
<span class="cp">#define lpfc_mbx_read_vpi_vv_MASK		0x0000001</span>
<span class="cp">#define lpfc_mbx_read_vpi_vv_WORD		word8</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_unreg_vfi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1_rsvd</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_unreg_vfi_vfi_SHIFT	0</span>
<span class="cp">#define lpfc_unreg_vfi_vfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_unreg_vfi_vfi_WORD		word2</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_resume_rpi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_resume_rpi_index_SHIFT	0</span>
<span class="cp">#define lpfc_resume_rpi_index_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_resume_rpi_index_WORD	word1</span>
<span class="cp">#define lpfc_resume_rpi_ii_SHIFT	30</span>
<span class="cp">#define lpfc_resume_rpi_ii_MASK		0x00000003</span>
<span class="cp">#define lpfc_resume_rpi_ii_WORD		word1</span>
<span class="cp">#define RESUME_INDEX_RPI		0</span>
<span class="cp">#define RESUME_INDEX_VPI		1</span>
<span class="cp">#define RESUME_INDEX_VFI		2</span>
<span class="cp">#define RESUME_INDEX_FCFI		3</span>
	<span class="kt">uint32_t</span> <span class="n">event_tag</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define REG_FCF_INVALID_QID	0xFFFF</span>
<span class="k">struct</span> <span class="n">lpfc_mbx_reg_fcfi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_info_index_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_info_index_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_reg_fcfi_info_index_WORD	word1</span>
<span class="cp">#define lpfc_reg_fcfi_fcfi_SHIFT	16</span>
<span class="cp">#define lpfc_reg_fcfi_fcfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_reg_fcfi_fcfi_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id1_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id1_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id1_WORD	word2</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id0_SHIFT	16</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id0_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id0_WORD	word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id3_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id3_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id3_WORD	word3</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id2_SHIFT	16</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id2_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_reg_fcfi_rq_id2_WORD	word3</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_type_match0_SHIFT	24</span>
<span class="cp">#define lpfc_reg_fcfi_type_match0_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_match0_WORD	word4</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask0_SHIFT	16</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask0_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask0_WORD	word4</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match0_SHIFT	8</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match0_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match0_WORD	word4</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask0_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask0_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask0_WORD	word4</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_type_match1_SHIFT	24</span>
<span class="cp">#define lpfc_reg_fcfi_type_match1_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_match1_WORD	word5</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask1_SHIFT	16</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask1_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask1_WORD	word5</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match1_SHIFT	8</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match1_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match1_WORD	word5</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask1_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask1_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask1_WORD	word5</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_type_match2_SHIFT	24</span>
<span class="cp">#define lpfc_reg_fcfi_type_match2_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_match2_WORD	word6</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask2_SHIFT	16</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask2_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask2_WORD	word6</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match2_SHIFT	8</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match2_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match2_WORD	word6</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask2_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask2_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask2_WORD	word6</span>
	<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_type_match3_SHIFT	24</span>
<span class="cp">#define lpfc_reg_fcfi_type_match3_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_match3_WORD	word7</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask3_SHIFT	16</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask3_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_type_mask3_WORD	word7</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match3_SHIFT	8</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match3_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_match3_WORD	word7</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask3_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask3_MASK	0x000000FF</span>
<span class="cp">#define lpfc_reg_fcfi_rctl_mask3_WORD	word7</span>
	<span class="kt">uint32_t</span> <span class="n">word8</span><span class="p">;</span>
<span class="cp">#define lpfc_reg_fcfi_mam_SHIFT		13</span>
<span class="cp">#define lpfc_reg_fcfi_mam_MASK		0x00000003</span>
<span class="cp">#define lpfc_reg_fcfi_mam_WORD		word8</span>
<span class="cp">#define LPFC_MAM_BOTH		0	</span><span class="cm">/* Both SPMA and FPMA */</span><span class="cp"></span>
<span class="cp">#define LPFC_MAM_SPMA		1	</span><span class="cm">/* Server Provided MAC Address */</span><span class="cp"></span>
<span class="cp">#define LPFC_MAM_FPMA		2	</span><span class="cm">/* Fabric Provided MAC Address */</span><span class="cp"></span>
<span class="cp">#define lpfc_reg_fcfi_vv_SHIFT		12</span>
<span class="cp">#define lpfc_reg_fcfi_vv_MASK		0x00000001</span>
<span class="cp">#define lpfc_reg_fcfi_vv_WORD		word8</span>
<span class="cp">#define lpfc_reg_fcfi_vlan_tag_SHIFT	0</span>
<span class="cp">#define lpfc_reg_fcfi_vlan_tag_MASK	0x00000FFF</span>
<span class="cp">#define lpfc_reg_fcfi_vlan_tag_WORD	word8</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_unreg_fcfi</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1_rsv</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_unreg_fcfi_SHIFT		0</span>
<span class="cp">#define lpfc_unreg_fcfi_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_unreg_fcfi_WORD		word2</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_read_rev</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_rev_sli_lvl_SHIFT  		16</span>
<span class="cp">#define lpfc_mbx_rd_rev_sli_lvl_MASK   		0x0000000F</span>
<span class="cp">#define lpfc_mbx_rd_rev_sli_lvl_WORD   		word1</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcoe_SHIFT		20</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcoe_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcoe_WORD		word1</span>
<span class="cp">#define lpfc_mbx_rd_rev_cee_ver_SHIFT		21</span>
<span class="cp">#define lpfc_mbx_rd_rev_cee_ver_MASK		0x00000003</span>
<span class="cp">#define lpfc_mbx_rd_rev_cee_ver_WORD		word1</span>
<span class="cp">#define LPFC_PREDCBX_CEE_MODE	0</span>
<span class="cp">#define LPFC_DCBX_CEE_MODE	1</span>
<span class="cp">#define lpfc_mbx_rd_rev_vpd_SHIFT		29</span>
<span class="cp">#define lpfc_mbx_rd_rev_vpd_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rd_rev_vpd_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">first_hw_rev</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">second_hw_rev</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4_rsvd</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">third_hw_rev</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcph_low_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcph_low_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcph_low_WORD		word6</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcph_high_SHIFT		8</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcph_high_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_rd_rev_fcph_high_WORD		word6</span>
<span class="cp">#define lpfc_mbx_rd_rev_ftr_lvl_low_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_rd_rev_ftr_lvl_low_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_rd_rev_ftr_lvl_low_WORD	word6</span>
<span class="cp">#define lpfc_mbx_rd_rev_ftr_lvl_high_SHIFT	24</span>
<span class="cp">#define lpfc_mbx_rd_rev_ftr_lvl_high_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_rd_rev_ftr_lvl_high_WORD	word6</span>
	<span class="kt">uint32_t</span> <span class="n">word7_rsvd</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">fw_id_rev</span><span class="p">;</span>
	<span class="kt">uint8_t</span>  <span class="n">fw_name</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">ulp_fw_id_rev</span><span class="p">;</span>
	<span class="kt">uint8_t</span>  <span class="n">ulp_fw_name</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word18_47_rsvd</span><span class="p">[</span><span class="mi">30</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word48</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_rev_avail_len_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_rev_avail_len_MASK		0x00FFFFFF</span>
<span class="cp">#define lpfc_mbx_rd_rev_avail_len_WORD		word48</span>
	<span class="kt">uint32_t</span> <span class="n">vpd_paddr_low</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">vpd_paddr_high</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">avail_vpd_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_52_63</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_read_config</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_extnts_inuse_SHIFT	31</span>
<span class="cp">#define lpfc_mbx_rd_conf_extnts_inuse_MASK	0x00000001</span>
<span class="cp">#define lpfc_mbx_rd_conf_extnts_inuse_WORD	word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_numb_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_numb_MASK		0x0000003F</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_numb_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_type_SHIFT		6</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_type_MASK		0x00000003</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_type_WORD		word2</span>
<span class="cp">#define LPFC_LNK_TYPE_GE	0</span>
<span class="cp">#define LPFC_LNK_TYPE_FC	1</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_ldv_SHIFT		8</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_ldv_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rd_conf_lnk_ldv_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rd_conf_topology_SHIFT		24</span>
<span class="cp">#define lpfc_mbx_rd_conf_topology_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mbx_rd_conf_topology_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_3</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_e_d_tov_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_e_d_tov_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_e_d_tov_WORD		word4</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_5</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_r_a_tov_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_r_a_tov_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_r_a_tov_WORD		word6</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_7</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_8</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word9</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_lmt_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_lmt_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_lmt_WORD		word9</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_10</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_11</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_xri_base_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_xri_base_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_xri_base_WORD		word12</span>
<span class="cp">#define lpfc_mbx_rd_conf_xri_count_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_rd_conf_xri_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_xri_count_WORD		word12</span>
	<span class="kt">uint32_t</span> <span class="n">word13</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_rpi_base_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_rpi_base_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_rpi_base_WORD		word13</span>
<span class="cp">#define lpfc_mbx_rd_conf_rpi_count_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_rd_conf_rpi_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_rpi_count_WORD		word13</span>
	<span class="kt">uint32_t</span> <span class="n">word14</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_vpi_base_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_vpi_base_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_vpi_base_WORD		word14</span>
<span class="cp">#define lpfc_mbx_rd_conf_vpi_count_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_rd_conf_vpi_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_vpi_count_WORD		word14</span>
	<span class="kt">uint32_t</span> <span class="n">word15</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_vfi_base_SHIFT         0</span>
<span class="cp">#define lpfc_mbx_rd_conf_vfi_base_MASK          0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_vfi_base_WORD          word15</span>
<span class="cp">#define lpfc_mbx_rd_conf_vfi_count_SHIFT        16</span>
<span class="cp">#define lpfc_mbx_rd_conf_vfi_count_MASK         0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_vfi_count_WORD         word15</span>
	<span class="kt">uint32_t</span> <span class="n">word16</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_fcfi_count_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_rd_conf_fcfi_count_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_fcfi_count_WORD	word16</span>
	<span class="kt">uint32_t</span> <span class="n">word17</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_rq_count_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_rq_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_rq_count_WORD		word17</span>
<span class="cp">#define lpfc_mbx_rd_conf_eq_count_SHIFT		16</span>
<span class="cp">#define lpfc_mbx_rd_conf_eq_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_eq_count_WORD		word17</span>
	<span class="kt">uint32_t</span> <span class="n">word18</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rd_conf_wq_count_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rd_conf_wq_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_wq_count_WORD		word18</span>
<span class="cp">#define lpfc_mbx_rd_conf_cq_count_SHIFT		16</span>
<span class="cp">#define lpfc_mbx_rd_conf_cq_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mbx_rd_conf_cq_count_WORD		word18</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_request_features</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rq_ftr_qry_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rq_ftr_qry_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_qry_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_iaab_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_iaab_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_iaab_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_npiv_SHIFT		1</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_npiv_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_npiv_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_dif_SHIFT		2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_dif_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_dif_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_vf_SHIFT		3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_vf_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_vf_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpi_SHIFT		4</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpi_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpi_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpt_SHIFT		5</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpt_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpt_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpc_SHIFT		6</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpc_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_fcpc_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_ifip_SHIFT		7</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_ifip_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_ifip_WORD		word2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_perfh_SHIFT		11</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_perfh_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rq_perfh_WORD		word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_iaab_SHIFT		0</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_iaab_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_iaab_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_npiv_SHIFT		1</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_npiv_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_npiv_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_dif_SHIFT		2</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_dif_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_dif_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_vf_SHIFT		3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_vf__MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_vf_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpi_SHIFT		4</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpi_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpi_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpt_SHIFT		5</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpt_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpt_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpc_SHIFT		6</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpc_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_fcpc_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_ifip_SHIFT		7</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_ifip_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_ifip_WORD		word3</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_perfh_SHIFT		11</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_perfh_MASK		0x00000001</span>
<span class="cp">#define lpfc_mbx_rq_ftr_rsp_perfh_WORD		word3</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_supp_pages</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define qs_SHIFT 				0</span>
<span class="cp">#define qs_MASK					0x00000001</span>
<span class="cp">#define qs_WORD					word1</span>
<span class="cp">#define wr_SHIFT				1</span>
<span class="cp">#define wr_MASK 				0x00000001</span>
<span class="cp">#define wr_WORD					word1</span>
<span class="cp">#define pf_SHIFT				8</span>
<span class="cp">#define pf_MASK					0x000000ff</span>
<span class="cp">#define pf_WORD					word1</span>
<span class="cp">#define cpn_SHIFT				16</span>
<span class="cp">#define cpn_MASK				0x000000ff</span>
<span class="cp">#define cpn_WORD				word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define list_offset_SHIFT 			0</span>
<span class="cp">#define list_offset_MASK			0x000000ff</span>
<span class="cp">#define list_offset_WORD			word2</span>
<span class="cp">#define next_offset_SHIFT			8</span>
<span class="cp">#define next_offset_MASK			0x000000ff</span>
<span class="cp">#define next_offset_WORD			word2</span>
<span class="cp">#define elem_cnt_SHIFT				16</span>
<span class="cp">#define elem_cnt_MASK				0x000000ff</span>
<span class="cp">#define elem_cnt_WORD				word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define pn_0_SHIFT				24</span>
<span class="cp">#define pn_0_MASK  				0x000000ff</span>
<span class="cp">#define pn_0_WORD				word3</span>
<span class="cp">#define pn_1_SHIFT				16</span>
<span class="cp">#define pn_1_MASK				0x000000ff</span>
<span class="cp">#define pn_1_WORD				word3</span>
<span class="cp">#define pn_2_SHIFT				8</span>
<span class="cp">#define pn_2_MASK				0x000000ff</span>
<span class="cp">#define pn_2_WORD				word3</span>
<span class="cp">#define pn_3_SHIFT				0</span>
<span class="cp">#define pn_3_MASK				0x000000ff</span>
<span class="cp">#define pn_3_WORD				word3</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define pn_4_SHIFT				24</span>
<span class="cp">#define pn_4_MASK				0x000000ff</span>
<span class="cp">#define pn_4_WORD				word4</span>
<span class="cp">#define pn_5_SHIFT				16</span>
<span class="cp">#define pn_5_MASK				0x000000ff</span>
<span class="cp">#define pn_5_WORD				word4</span>
<span class="cp">#define pn_6_SHIFT				8</span>
<span class="cp">#define pn_6_MASK				0x000000ff</span>
<span class="cp">#define pn_6_WORD				word4</span>
<span class="cp">#define pn_7_SHIFT				0</span>
<span class="cp">#define pn_7_MASK				0x000000ff</span>
<span class="cp">#define pn_7_WORD				word4</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd</span><span class="p">[</span><span class="mi">27</span><span class="p">];</span>
<span class="cp">#define LPFC_SUPP_PAGES			0</span>
<span class="cp">#define LPFC_BLOCK_GUARD_PROFILES	1</span>
<span class="cp">#define LPFC_SLI4_PARAMETERS		2</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_pc_sli4_params</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define qs_SHIFT				0</span>
<span class="cp">#define qs_MASK					0x00000001</span>
<span class="cp">#define qs_WORD					word1</span>
<span class="cp">#define wr_SHIFT				1</span>
<span class="cp">#define wr_MASK					0x00000001</span>
<span class="cp">#define wr_WORD					word1</span>
<span class="cp">#define pf_SHIFT				8</span>
<span class="cp">#define pf_MASK					0x000000ff</span>
<span class="cp">#define pf_WORD					word1</span>
<span class="cp">#define cpn_SHIFT				16</span>
<span class="cp">#define cpn_MASK				0x000000ff</span>
<span class="cp">#define cpn_WORD				word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define if_type_SHIFT				0</span>
<span class="cp">#define if_type_MASK				0x00000007</span>
<span class="cp">#define if_type_WORD				word2</span>
<span class="cp">#define sli_rev_SHIFT				4</span>
<span class="cp">#define sli_rev_MASK				0x0000000f</span>
<span class="cp">#define sli_rev_WORD				word2</span>
<span class="cp">#define sli_family_SHIFT			8</span>
<span class="cp">#define sli_family_MASK				0x000000ff</span>
<span class="cp">#define sli_family_WORD				word2</span>
<span class="cp">#define featurelevel_1_SHIFT			16</span>
<span class="cp">#define featurelevel_1_MASK			0x000000ff</span>
<span class="cp">#define featurelevel_1_WORD			word2</span>
<span class="cp">#define featurelevel_2_SHIFT			24</span>
<span class="cp">#define featurelevel_2_MASK			0x0000001f</span>
<span class="cp">#define featurelevel_2_WORD			word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define fcoe_SHIFT 				0</span>
<span class="cp">#define fcoe_MASK				0x00000001</span>
<span class="cp">#define fcoe_WORD				word3</span>
<span class="cp">#define fc_SHIFT				1</span>
<span class="cp">#define fc_MASK					0x00000001</span>
<span class="cp">#define fc_WORD					word3</span>
<span class="cp">#define nic_SHIFT				2</span>
<span class="cp">#define nic_MASK				0x00000001</span>
<span class="cp">#define nic_WORD				word3</span>
<span class="cp">#define iscsi_SHIFT				3</span>
<span class="cp">#define iscsi_MASK				0x00000001</span>
<span class="cp">#define iscsi_WORD				word3</span>
<span class="cp">#define rdma_SHIFT				4</span>
<span class="cp">#define rdma_MASK				0x00000001</span>
<span class="cp">#define rdma_WORD				word3</span>
	<span class="kt">uint32_t</span> <span class="n">sge_supp_len</span><span class="p">;</span>
<span class="cp">#define SLI4_PAGE_SIZE 4096</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
<span class="cp">#define if_page_sz_SHIFT			0</span>
<span class="cp">#define if_page_sz_MASK				0x0000ffff</span>
<span class="cp">#define if_page_sz_WORD				word5</span>
<span class="cp">#define loopbk_scope_SHIFT			24</span>
<span class="cp">#define loopbk_scope_MASK			0x0000000f</span>
<span class="cp">#define loopbk_scope_WORD			word5</span>
<span class="cp">#define rq_db_window_SHIFT			28</span>
<span class="cp">#define rq_db_window_MASK			0x0000000f</span>
<span class="cp">#define rq_db_window_WORD			word5</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define eq_pages_SHIFT				0</span>
<span class="cp">#define eq_pages_MASK				0x0000000f</span>
<span class="cp">#define eq_pages_WORD				word6</span>
<span class="cp">#define eqe_size_SHIFT				8</span>
<span class="cp">#define eqe_size_MASK				0x000000ff</span>
<span class="cp">#define eqe_size_WORD				word6</span>
	<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
<span class="cp">#define cq_pages_SHIFT				0</span>
<span class="cp">#define cq_pages_MASK				0x0000000f</span>
<span class="cp">#define cq_pages_WORD				word7</span>
<span class="cp">#define cqe_size_SHIFT				8</span>
<span class="cp">#define cqe_size_MASK				0x000000ff</span>
<span class="cp">#define cqe_size_WORD				word7</span>
	<span class="kt">uint32_t</span> <span class="n">word8</span><span class="p">;</span>
<span class="cp">#define mq_pages_SHIFT				0</span>
<span class="cp">#define mq_pages_MASK				0x0000000f</span>
<span class="cp">#define mq_pages_WORD				word8</span>
<span class="cp">#define mqe_size_SHIFT				8</span>
<span class="cp">#define mqe_size_MASK				0x000000ff</span>
<span class="cp">#define mqe_size_WORD				word8</span>
<span class="cp">#define mq_elem_cnt_SHIFT			16</span>
<span class="cp">#define mq_elem_cnt_MASK			0x000000ff</span>
<span class="cp">#define mq_elem_cnt_WORD			word8</span>
	<span class="kt">uint32_t</span> <span class="n">word9</span><span class="p">;</span>
<span class="cp">#define wq_pages_SHIFT				0</span>
<span class="cp">#define wq_pages_MASK				0x0000ffff</span>
<span class="cp">#define wq_pages_WORD				word9</span>
<span class="cp">#define wqe_size_SHIFT				8</span>
<span class="cp">#define wqe_size_MASK				0x000000ff</span>
<span class="cp">#define wqe_size_WORD				word9</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define rq_pages_SHIFT				0</span>
<span class="cp">#define rq_pages_MASK				0x0000ffff</span>
<span class="cp">#define rq_pages_WORD				word10</span>
<span class="cp">#define rqe_size_SHIFT				8</span>
<span class="cp">#define rqe_size_MASK				0x000000ff</span>
<span class="cp">#define rqe_size_WORD				word10</span>
	<span class="kt">uint32_t</span> <span class="n">word11</span><span class="p">;</span>
<span class="cp">#define hdr_pages_SHIFT				0</span>
<span class="cp">#define hdr_pages_MASK				0x0000000f</span>
<span class="cp">#define hdr_pages_WORD				word11</span>
<span class="cp">#define hdr_size_SHIFT				8</span>
<span class="cp">#define hdr_size_MASK				0x0000000f</span>
<span class="cp">#define hdr_size_WORD				word11</span>
<span class="cp">#define hdr_pp_align_SHIFT			16</span>
<span class="cp">#define hdr_pp_align_MASK			0x0000ffff</span>
<span class="cp">#define hdr_pp_align_WORD			word11</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
<span class="cp">#define sgl_pages_SHIFT				0</span>
<span class="cp">#define sgl_pages_MASK				0x0000000f</span>
<span class="cp">#define sgl_pages_WORD				word12</span>
<span class="cp">#define sgl_pp_align_SHIFT			16</span>
<span class="cp">#define sgl_pp_align_MASK			0x0000ffff</span>
<span class="cp">#define sgl_pp_align_WORD			word12</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_13_63</span><span class="p">[</span><span class="mi">51</span><span class="p">];</span>
<span class="p">};</span>
<span class="cp">#define SLI4_PAGE_ALIGN(addr) (((addr)+((SLI4_PAGE_SIZE)-1)) \</span>
<span class="cp">			       &amp;(~((SLI4_PAGE_SIZE)-1)))</span>

<span class="k">struct</span> <span class="n">lpfc_sli4_parameters</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define cfg_prot_type_SHIFT			0</span>
<span class="cp">#define cfg_prot_type_MASK			0x000000FF</span>
<span class="cp">#define cfg_prot_type_WORD			word0</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define cfg_ft_SHIFT				0</span>
<span class="cp">#define cfg_ft_MASK				0x00000001</span>
<span class="cp">#define cfg_ft_WORD				word1</span>
<span class="cp">#define cfg_sli_rev_SHIFT			4</span>
<span class="cp">#define cfg_sli_rev_MASK			0x0000000f</span>
<span class="cp">#define cfg_sli_rev_WORD			word1</span>
<span class="cp">#define cfg_sli_family_SHIFT			8</span>
<span class="cp">#define cfg_sli_family_MASK			0x0000000f</span>
<span class="cp">#define cfg_sli_family_WORD			word1</span>
<span class="cp">#define cfg_if_type_SHIFT			12</span>
<span class="cp">#define cfg_if_type_MASK			0x0000000f</span>
<span class="cp">#define cfg_if_type_WORD			word1</span>
<span class="cp">#define cfg_sli_hint_1_SHIFT			16</span>
<span class="cp">#define cfg_sli_hint_1_MASK			0x000000ff</span>
<span class="cp">#define cfg_sli_hint_1_WORD			word1</span>
<span class="cp">#define cfg_sli_hint_2_SHIFT			24</span>
<span class="cp">#define cfg_sli_hint_2_MASK			0x0000001f</span>
<span class="cp">#define cfg_sli_hint_2_WORD			word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define cfg_cqv_SHIFT				14</span>
<span class="cp">#define cfg_cqv_MASK				0x00000003</span>
<span class="cp">#define cfg_cqv_WORD				word4</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define cfg_mqv_SHIFT				14</span>
<span class="cp">#define cfg_mqv_MASK				0x00000003</span>
<span class="cp">#define cfg_mqv_WORD				word6</span>
	<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word8</span><span class="p">;</span>
<span class="cp">#define cfg_wqv_SHIFT				14</span>
<span class="cp">#define cfg_wqv_MASK				0x00000003</span>
<span class="cp">#define cfg_wqv_WORD				word8</span>
	<span class="kt">uint32_t</span> <span class="n">word9</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define cfg_rqv_SHIFT				14</span>
<span class="cp">#define cfg_rqv_MASK				0x00000003</span>
<span class="cp">#define cfg_rqv_WORD				word10</span>
	<span class="kt">uint32_t</span> <span class="n">word11</span><span class="p">;</span>
<span class="cp">#define cfg_rq_db_window_SHIFT			28</span>
<span class="cp">#define cfg_rq_db_window_MASK			0x0000000f</span>
<span class="cp">#define cfg_rq_db_window_WORD			word11</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
<span class="cp">#define cfg_fcoe_SHIFT				0</span>
<span class="cp">#define cfg_fcoe_MASK				0x00000001</span>
<span class="cp">#define cfg_fcoe_WORD				word12</span>
<span class="cp">#define cfg_ext_SHIFT				1</span>
<span class="cp">#define cfg_ext_MASK				0x00000001</span>
<span class="cp">#define cfg_ext_WORD				word12</span>
<span class="cp">#define cfg_hdrr_SHIFT				2</span>
<span class="cp">#define cfg_hdrr_MASK				0x00000001</span>
<span class="cp">#define cfg_hdrr_WORD				word12</span>
<span class="cp">#define cfg_phwq_SHIFT				15</span>
<span class="cp">#define cfg_phwq_MASK				0x00000001</span>
<span class="cp">#define cfg_phwq_WORD				word12</span>
<span class="cp">#define cfg_loopbk_scope_SHIFT			28</span>
<span class="cp">#define cfg_loopbk_scope_MASK			0x0000000f</span>
<span class="cp">#define cfg_loopbk_scope_WORD			word12</span>
	<span class="kt">uint32_t</span> <span class="n">sge_supp_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word14</span><span class="p">;</span>
<span class="cp">#define cfg_sgl_page_cnt_SHIFT			0</span>
<span class="cp">#define cfg_sgl_page_cnt_MASK			0x0000000f</span>
<span class="cp">#define cfg_sgl_page_cnt_WORD			word14</span>
<span class="cp">#define cfg_sgl_page_size_SHIFT			8</span>
<span class="cp">#define cfg_sgl_page_size_MASK			0x000000ff</span>
<span class="cp">#define cfg_sgl_page_size_WORD			word14</span>
<span class="cp">#define cfg_sgl_pp_align_SHIFT			16</span>
<span class="cp">#define cfg_sgl_pp_align_MASK			0x000000ff</span>
<span class="cp">#define cfg_sgl_pp_align_WORD			word14</span>
	<span class="kt">uint32_t</span> <span class="n">word15</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word16</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word17</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word18</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word19</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_get_sli4_parameters</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_sli4_parameters</span> <span class="n">sli4_parameters</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_rscr_desc_generic</span> <span class="p">{</span>
<span class="cp">#define LPFC_RSRC_DESC_WSIZE			18</span>
	<span class="kt">uint32_t</span> <span class="n">desc</span><span class="p">[</span><span class="n">LPFC_RSRC_DESC_WSIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_rsrc_desc_pcie</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_type_SHIFT		0</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_type_MASK		0x000000ff</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_type_WORD		word0</span>
<span class="cp">#define LPFC_RSRC_DESC_TYPE_PCIE		0x40</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pfnum_SHIFT		0</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pfnum_MASK		0x000000ff</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pfnum_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_sriov_sta_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_sriov_sta_MASK	0x000000ff</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_sriov_sta_WORD	word3</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pf_sta_SHIFT	8</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pf_sta_MASK		0x000000ff</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pf_sta_WORD		word3</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pf_type_SHIFT	16</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pf_type_MASK	0x000000ff</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_pf_type_WORD	word3</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_nr_virtfn_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_nr_virtfn_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_pcie_nr_virtfn_WORD	word4</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_rsrc_desc_fcfcoe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_type_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_type_MASK		0x000000ff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_type_WORD		word0</span>
<span class="cp">#define LPFC_RSRC_DESC_TYPE_FCFCOE		0x43</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vfnum_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vfnum_MASK	0x000000ff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vfnum_WORD	word1</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_pfnum_SHIFT	16</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_pfnum_MASK        0x000007ff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_pfnum_WORD        word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_rpi_cnt_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_rpi_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_rpi_cnt_WORD	word2</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_xri_cnt_SHIFT	16</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_xri_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_xri_cnt_WORD	word2</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_wq_cnt_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_wq_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_wq_cnt_WORD	word3</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_rq_cnt_SHIFT	16</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_rq_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_rq_cnt_WORD	word3</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_cq_cnt_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_cq_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_cq_cnt_WORD	word4</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vpi_cnt_SHIFT	16</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vpi_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vpi_cnt_WORD	word4</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_fcfi_cnt_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_fcfi_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_fcfi_cnt_WORD	word5</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vfi_cnt_SHIFT	16</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vfi_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_vfi_cnt_WORD	word5</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word8</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word9</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word11</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word13</span><span class="p">;</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lnk_nr_SHIFT	0</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lnk_nr_MASK	0x0000003f</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lnk_nr_WORD	word13</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lnk_tp_SHIFT      6</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lnk_tp_MASK	0x00000003</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lnk_tp_WORD	word13</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lmc_SHIFT		8</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lmc_MASK		0x00000001</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lmc_WORD		word13</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lld_SHIFT		9</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lld_MASK		0x00000001</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_lld_WORD		word13</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_eq_cnt_SHIFT	16</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_eq_cnt_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_rsrc_desc_fcfcoe_eq_cnt_WORD	word13</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_func_cfg</span> <span class="p">{</span>
<span class="cp">#define LPFC_RSRC_DESC_MAX_NUM			2</span>
	<span class="kt">uint32_t</span> <span class="n">rsrc_desc_count</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_rscr_desc_generic</span> <span class="n">desc</span><span class="p">[</span><span class="n">LPFC_RSRC_DESC_MAX_NUM</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_get_func_cfg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
<span class="cp">#define LPFC_CFG_TYPE_PERSISTENT_OVERRIDE	0x0</span>
<span class="cp">#define LPFC_CFG_TYPE_FACTURY_DEFAULT		0x1</span>
<span class="cp">#define LPFC_CFG_TYPE_CURRENT_ACTIVE		0x2</span>
	<span class="k">struct</span> <span class="n">lpfc_func_cfg</span> <span class="n">func_cfg</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_prof_cfg</span> <span class="p">{</span>
<span class="cp">#define LPFC_RSRC_DESC_MAX_NUM			2</span>
	<span class="kt">uint32_t</span> <span class="n">rsrc_desc_count</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_rscr_desc_generic</span> <span class="n">desc</span><span class="p">[</span><span class="n">LPFC_RSRC_DESC_MAX_NUM</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_get_prof_cfg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
<span class="cp">#define LPFC_CFG_TYPE_PERSISTENT_OVERRIDE	0x0</span>
<span class="cp">#define LPFC_CFG_TYPE_FACTURY_DEFAULT		0x1</span>
<span class="cp">#define LPFC_CFG_TYPE_CURRENT_ACTIVE		0x2</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_get_prof_cfg_prof_id_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_get_prof_cfg_prof_id_MASK	0x000000ff</span>
<span class="cp">#define lpfc_mbx_get_prof_cfg_prof_id_WORD	word10</span>
<span class="cp">#define lpfc_mbx_get_prof_cfg_prof_tp_SHIFT	8</span>
<span class="cp">#define lpfc_mbx_get_prof_cfg_prof_tp_MASK	0x00000003</span>
<span class="cp">#define lpfc_mbx_get_prof_cfg_prof_tp_WORD	word10</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="k">struct</span> <span class="n">lpfc_prof_cfg</span> <span class="n">prof_cfg</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_controller_attribute</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">version_string</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">manufacturer_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">supported_modes</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word17</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_eprom_ver_lo_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_eprom_ver_lo_MASK	0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_eprom_ver_lo_WORD	word17</span>
<span class="cp">#define lpfc_cntl_attr_eprom_ver_hi_SHIFT	8</span>
<span class="cp">#define lpfc_cntl_attr_eprom_ver_hi_MASK	0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_eprom_ver_hi_WORD	word17</span>
	<span class="kt">uint32_t</span> <span class="n">mbx_da_struct_ver</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">ep_fw_da_struct_ver</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">ncsi_ver_str</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">dflt_ext_timeout</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">model_number</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">description</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">serial_number</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">ip_ver_str</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">fw_ver_str</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">bios_ver_str</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">redboot_ver_str</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">driver_ver_str</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">flash_fw_ver_str</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">functionality</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word105</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_max_cbd_len_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_max_cbd_len_MASK		0x0000ffff</span>
<span class="cp">#define lpfc_cntl_attr_max_cbd_len_WORD		word105</span>
<span class="cp">#define lpfc_cntl_attr_asic_rev_SHIFT		16</span>
<span class="cp">#define lpfc_cntl_attr_asic_rev_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_asic_rev_WORD		word105</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid0_SHIFT		24</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid0_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid0_WORD		word105</span>
	<span class="kt">uint32_t</span> <span class="n">gen_guid1_12</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word109</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid13_14_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid13_14_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid13_14_WORD	word109</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid15_SHIFT		16</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid15_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_gen_guid15_WORD		word109</span>
<span class="cp">#define lpfc_cntl_attr_hba_port_cnt_SHIFT	24</span>
<span class="cp">#define lpfc_cntl_attr_hba_port_cnt_MASK	0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_hba_port_cnt_WORD	word109</span>
	<span class="kt">uint32_t</span> <span class="n">word110</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_dflt_lnk_tmo_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_dflt_lnk_tmo_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_cntl_attr_dflt_lnk_tmo_WORD	word110</span>
<span class="cp">#define lpfc_cntl_attr_multi_func_dev_SHIFT	24</span>
<span class="cp">#define lpfc_cntl_attr_multi_func_dev_MASK	0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_multi_func_dev_WORD	word110</span>
	<span class="kt">uint32_t</span> <span class="n">word111</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_cache_valid_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_cache_valid_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_cache_valid_WORD		word111</span>
<span class="cp">#define lpfc_cntl_attr_hba_status_SHIFT		8</span>
<span class="cp">#define lpfc_cntl_attr_hba_status_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_hba_status_WORD		word111</span>
<span class="cp">#define lpfc_cntl_attr_max_domain_SHIFT		16</span>
<span class="cp">#define lpfc_cntl_attr_max_domain_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_max_domain_WORD		word111</span>
<span class="cp">#define lpfc_cntl_attr_lnk_numb_SHIFT		24</span>
<span class="cp">#define lpfc_cntl_attr_lnk_numb_MASK		0x0000003f</span>
<span class="cp">#define lpfc_cntl_attr_lnk_numb_WORD		word111</span>
<span class="cp">#define lpfc_cntl_attr_lnk_type_SHIFT		30</span>
<span class="cp">#define lpfc_cntl_attr_lnk_type_MASK		0x00000003</span>
<span class="cp">#define lpfc_cntl_attr_lnk_type_WORD		word111</span>
	<span class="kt">uint32_t</span> <span class="n">fw_post_status</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">hba_mtu</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word121</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word125</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_pci_vendor_id_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_pci_vendor_id_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_cntl_attr_pci_vendor_id_WORD	word125</span>
<span class="cp">#define lpfc_cntl_attr_pci_device_id_SHIFT	16</span>
<span class="cp">#define lpfc_cntl_attr_pci_device_id_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_cntl_attr_pci_device_id_WORD	word125</span>
	<span class="kt">uint32_t</span> <span class="n">word126</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_pci_subvdr_id_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_pci_subvdr_id_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_cntl_attr_pci_subvdr_id_WORD	word126</span>
<span class="cp">#define lpfc_cntl_attr_pci_subsys_id_SHIFT	16</span>
<span class="cp">#define lpfc_cntl_attr_pci_subsys_id_MASK	0x0000ffff</span>
<span class="cp">#define lpfc_cntl_attr_pci_subsys_id_WORD	word126</span>
	<span class="kt">uint32_t</span> <span class="n">word127</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_pci_bus_num_SHIFT	0</span>
<span class="cp">#define lpfc_cntl_attr_pci_bus_num_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_pci_bus_num_WORD		word127</span>
<span class="cp">#define lpfc_cntl_attr_pci_dev_num_SHIFT	8</span>
<span class="cp">#define lpfc_cntl_attr_pci_dev_num_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_pci_dev_num_WORD		word127</span>
<span class="cp">#define lpfc_cntl_attr_pci_fnc_num_SHIFT	16</span>
<span class="cp">#define lpfc_cntl_attr_pci_fnc_num_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_pci_fnc_num_WORD		word127</span>
<span class="cp">#define lpfc_cntl_attr_inf_type_SHIFT		24</span>
<span class="cp">#define lpfc_cntl_attr_inf_type_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_inf_type_WORD		word127</span>
	<span class="kt">uint32_t</span> <span class="n">unique_id</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word130</span><span class="p">;</span>
<span class="cp">#define lpfc_cntl_attr_num_netfil_SHIFT		0</span>
<span class="cp">#define lpfc_cntl_attr_num_netfil_MASK		0x000000ff</span>
<span class="cp">#define lpfc_cntl_attr_num_netfil_WORD		word130</span>
	<span class="kt">uint32_t</span> <span class="n">reserved2</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_get_cntl_attributes</span> <span class="p">{</span>
	<span class="k">union</span>  <span class="n">lpfc_sli4_cfg_shdr</span> <span class="n">cfg_shdr</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_controller_attribute</span> <span class="n">cntl_attr</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mbx_get_port_name</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_get_port_name_lnk_type_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_get_port_name_lnk_type_MASK	0x00000003</span>
<span class="cp">#define lpfc_mbx_get_port_name_lnk_type_WORD	word4</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_mbx_get_port_name_name0_SHIFT	0</span>
<span class="cp">#define lpfc_mbx_get_port_name_name0_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_get_port_name_name0_WORD	word4</span>
<span class="cp">#define lpfc_mbx_get_port_name_name1_SHIFT	8</span>
<span class="cp">#define lpfc_mbx_get_port_name_name1_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_get_port_name_name1_WORD	word4</span>
<span class="cp">#define lpfc_mbx_get_port_name_name2_SHIFT	16</span>
<span class="cp">#define lpfc_mbx_get_port_name_name2_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_get_port_name_name2_WORD	word4</span>
<span class="cp">#define lpfc_mbx_get_port_name_name3_SHIFT	24</span>
<span class="cp">#define lpfc_mbx_get_port_name_name3_MASK	0x000000FF</span>
<span class="cp">#define lpfc_mbx_get_port_name_name3_WORD	word4</span>
<span class="cp">#define LPFC_LINK_NUMBER_0			0</span>
<span class="cp">#define LPFC_LINK_NUMBER_1			1</span>
<span class="cp">#define LPFC_LINK_NUMBER_2			2</span>
<span class="cp">#define LPFC_LINK_NUMBER_3			3</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Mailbox Completion Queue Error Messages */</span>
<span class="cp">#define MB_CQE_STATUS_SUCCESS			0x0</span>
<span class="cp">#define MB_CQE_STATUS_INSUFFICIENT_PRIVILEGES	0x1</span>
<span class="cp">#define MB_CQE_STATUS_INVALID_PARAMETER		0x2</span>
<span class="cp">#define MB_CQE_STATUS_INSUFFICIENT_RESOURCES	0x3</span>
<span class="cp">#define MB_CEQ_STATUS_QUEUE_FLUSHING		0x4</span>
<span class="cp">#define MB_CQE_STATUS_DMA_FAILED		0x5</span>

<span class="cp">#define LPFC_MBX_WR_CONFIG_MAX_BDE		8</span>
<span class="k">struct</span> <span class="n">lpfc_mbx_wr_object</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">mbox_header</span> <span class="n">header</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define lpfc_wr_object_eof_SHIFT		31</span>
<span class="cp">#define lpfc_wr_object_eof_MASK			0x00000001</span>
<span class="cp">#define lpfc_wr_object_eof_WORD			word4</span>
<span class="cp">#define lpfc_wr_object_write_length_SHIFT	0</span>
<span class="cp">#define lpfc_wr_object_write_length_MASK	0x00FFFFFF</span>
<span class="cp">#define lpfc_wr_object_write_length_WORD	word4</span>
			<span class="kt">uint32_t</span> <span class="n">write_offset</span><span class="p">;</span>
			<span class="kt">uint32_t</span> <span class="n">object_name</span><span class="p">[</span><span class="mi">26</span><span class="p">];</span>
			<span class="kt">uint32_t</span> <span class="n">bde_count</span><span class="p">;</span>
			<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">[</span><span class="n">LPFC_MBX_WR_CONFIG_MAX_BDE</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">request</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="kt">uint32_t</span> <span class="n">actual_write_length</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">response</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* mailbox queue entry structure */</span>
<span class="k">struct</span> <span class="n">lpfc_mqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mqe_status_SHIFT		16</span>
<span class="cp">#define lpfc_mqe_status_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mqe_status_WORD		word0</span>
<span class="cp">#define lpfc_mqe_command_SHIFT		8</span>
<span class="cp">#define lpfc_mqe_command_MASK		0x000000FF</span>
<span class="cp">#define lpfc_mqe_command_WORD		word0</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="kt">uint32_t</span> <span class="n">mb_words</span><span class="p">[</span><span class="n">LPFC_SLI4_MB_WORD_COUNT</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
		<span class="cm">/* sli4 mailbox commands */</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_sli4_config</span> <span class="n">sli4_config</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_init_vfi</span> <span class="n">init_vfi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_reg_vfi</span> <span class="n">reg_vfi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_reg_vfi</span> <span class="n">unreg_vfi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_init_vpi</span> <span class="n">init_vpi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_resume_rpi</span> <span class="n">resume_rpi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_read_fcf_tbl</span> <span class="n">read_fcf_tbl</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_add_fcf_tbl_entry</span> <span class="n">add_fcf_entry</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_del_fcf_tbl_entry</span> <span class="n">del_fcf_entry</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_redisc_fcf_tbl</span> <span class="n">redisc_fcf_tbl</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_reg_fcfi</span> <span class="n">reg_fcfi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_unreg_fcfi</span> <span class="n">unreg_fcfi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_mq_create</span> <span class="n">mq_create</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_mq_create_ext</span> <span class="n">mq_create_ext</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_eq_create</span> <span class="n">eq_create</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_cq_create</span> <span class="n">cq_create</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_wq_create</span> <span class="n">wq_create</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_rq_create</span> <span class="n">rq_create</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_mq_destroy</span> <span class="n">mq_destroy</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_eq_destroy</span> <span class="n">eq_destroy</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_cq_destroy</span> <span class="n">cq_destroy</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_wq_destroy</span> <span class="n">wq_destroy</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_rq_destroy</span> <span class="n">rq_destroy</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_get_rsrc_extent_info</span> <span class="n">rsrc_extent_info</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_alloc_rsrc_extents</span> <span class="n">alloc_rsrc_extents</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_dealloc_rsrc_extents</span> <span class="n">dealloc_rsrc_extents</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_post_sgl_pages</span> <span class="n">post_sgl_pages</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_nembed_cmd</span> <span class="n">nembed_cmd</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_read_rev</span> <span class="n">read_rev</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_read_vpi</span> <span class="n">read_vpi</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_read_config</span> <span class="n">rd_config</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_request_features</span> <span class="n">req_ftrs</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_post_hdr_tmpl</span> <span class="n">hdr_tmpl</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_query_fw_cfg</span> <span class="n">query_fw_cfg</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_supp_pages</span> <span class="n">supp_pages</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_pc_sli4_params</span> <span class="n">sli4_params</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_get_sli4_parameters</span> <span class="n">get_sli4_parameters</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_set_link_diag_state</span> <span class="n">link_diag_state</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_set_link_diag_loopback</span> <span class="n">link_diag_loopback</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_run_link_diag_test</span> <span class="n">link_diag_test</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_get_func_cfg</span> <span class="n">get_func_cfg</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_get_prof_cfg</span> <span class="n">get_prof_cfg</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_wr_object</span> <span class="n">wr_object</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_get_port_name</span> <span class="n">get_port_name</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">lpfc_mbx_nop</span> <span class="n">nop</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">un</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_mcqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_mcqe_status_SHIFT		0</span>
<span class="cp">#define lpfc_mcqe_status_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_mcqe_status_WORD		word0</span>
<span class="cp">#define lpfc_mcqe_ext_status_SHIFT	16</span>
<span class="cp">#define lpfc_mcqe_ext_status_MASK  	0x0000FFFF</span>
<span class="cp">#define lpfc_mcqe_ext_status_WORD 	word0</span>
	<span class="kt">uint32_t</span> <span class="n">mcqe_tag0</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">mcqe_tag1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">trailer</span><span class="p">;</span>
<span class="cp">#define lpfc_trailer_valid_SHIFT	31</span>
<span class="cp">#define lpfc_trailer_valid_MASK		0x00000001</span>
<span class="cp">#define lpfc_trailer_valid_WORD		trailer</span>
<span class="cp">#define lpfc_trailer_async_SHIFT	30</span>
<span class="cp">#define lpfc_trailer_async_MASK		0x00000001</span>
<span class="cp">#define lpfc_trailer_async_WORD		trailer</span>
<span class="cp">#define lpfc_trailer_hpi_SHIFT		29</span>
<span class="cp">#define lpfc_trailer_hpi_MASK		0x00000001</span>
<span class="cp">#define lpfc_trailer_hpi_WORD		trailer</span>
<span class="cp">#define lpfc_trailer_completed_SHIFT	28</span>
<span class="cp">#define lpfc_trailer_completed_MASK	0x00000001</span>
<span class="cp">#define lpfc_trailer_completed_WORD	trailer</span>
<span class="cp">#define lpfc_trailer_consumed_SHIFT	27</span>
<span class="cp">#define lpfc_trailer_consumed_MASK	0x00000001</span>
<span class="cp">#define lpfc_trailer_consumed_WORD	trailer</span>
<span class="cp">#define lpfc_trailer_type_SHIFT		16</span>
<span class="cp">#define lpfc_trailer_type_MASK		0x000000FF</span>
<span class="cp">#define lpfc_trailer_type_WORD		trailer</span>
<span class="cp">#define lpfc_trailer_code_SHIFT		8</span>
<span class="cp">#define lpfc_trailer_code_MASK		0x000000FF</span>
<span class="cp">#define lpfc_trailer_code_WORD		trailer</span>
<span class="cp">#define LPFC_TRAILER_CODE_LINK	0x1</span>
<span class="cp">#define LPFC_TRAILER_CODE_FCOE	0x2</span>
<span class="cp">#define LPFC_TRAILER_CODE_DCBX	0x3</span>
<span class="cp">#define LPFC_TRAILER_CODE_GRP5	0x5</span>
<span class="cp">#define LPFC_TRAILER_CODE_FC	0x10</span>
<span class="cp">#define LPFC_TRAILER_CODE_SLI	0x11</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_acqe_link</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_acqe_link_speed_SHIFT		24</span>
<span class="cp">#define lpfc_acqe_link_speed_MASK		0x000000FF</span>
<span class="cp">#define lpfc_acqe_link_speed_WORD		word0</span>
<span class="cp">#define LPFC_ASYNC_LINK_SPEED_ZERO		0x0</span>
<span class="cp">#define LPFC_ASYNC_LINK_SPEED_10MBPS		0x1</span>
<span class="cp">#define LPFC_ASYNC_LINK_SPEED_100MBPS		0x2</span>
<span class="cp">#define LPFC_ASYNC_LINK_SPEED_1GBPS		0x3</span>
<span class="cp">#define LPFC_ASYNC_LINK_SPEED_10GBPS		0x4</span>
<span class="cp">#define lpfc_acqe_link_duplex_SHIFT		16</span>
<span class="cp">#define lpfc_acqe_link_duplex_MASK		0x000000FF</span>
<span class="cp">#define lpfc_acqe_link_duplex_WORD		word0</span>
<span class="cp">#define LPFC_ASYNC_LINK_DUPLEX_NONE		0x0</span>
<span class="cp">#define LPFC_ASYNC_LINK_DUPLEX_HALF		0x1</span>
<span class="cp">#define LPFC_ASYNC_LINK_DUPLEX_FULL		0x2</span>
<span class="cp">#define lpfc_acqe_link_status_SHIFT		8</span>
<span class="cp">#define lpfc_acqe_link_status_MASK		0x000000FF</span>
<span class="cp">#define lpfc_acqe_link_status_WORD		word0</span>
<span class="cp">#define LPFC_ASYNC_LINK_STATUS_DOWN		0x0</span>
<span class="cp">#define LPFC_ASYNC_LINK_STATUS_UP		0x1</span>
<span class="cp">#define LPFC_ASYNC_LINK_STATUS_LOGICAL_DOWN	0x2</span>
<span class="cp">#define LPFC_ASYNC_LINK_STATUS_LOGICAL_UP	0x3</span>
<span class="cp">#define lpfc_acqe_link_type_SHIFT		6</span>
<span class="cp">#define lpfc_acqe_link_type_MASK		0x00000003</span>
<span class="cp">#define lpfc_acqe_link_type_WORD		word0</span>
<span class="cp">#define lpfc_acqe_link_number_SHIFT		0</span>
<span class="cp">#define lpfc_acqe_link_number_MASK		0x0000003F</span>
<span class="cp">#define lpfc_acqe_link_number_WORD		word0</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_acqe_link_fault_SHIFT	0</span>
<span class="cp">#define lpfc_acqe_link_fault_MASK	0x000000FF</span>
<span class="cp">#define lpfc_acqe_link_fault_WORD	word1</span>
<span class="cp">#define LPFC_ASYNC_LINK_FAULT_NONE	0x0</span>
<span class="cp">#define LPFC_ASYNC_LINK_FAULT_LOCAL	0x1</span>
<span class="cp">#define LPFC_ASYNC_LINK_FAULT_REMOTE	0x2</span>
<span class="cp">#define lpfc_acqe_logical_link_speed_SHIFT	16</span>
<span class="cp">#define lpfc_acqe_logical_link_speed_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_acqe_logical_link_speed_WORD	word1</span>
	<span class="kt">uint32_t</span> <span class="n">event_tag</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">trailer</span><span class="p">;</span>
<span class="cp">#define LPFC_LINK_EVENT_TYPE_PHYSICAL	0x0</span>
<span class="cp">#define LPFC_LINK_EVENT_TYPE_VIRTUAL	0x1</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_acqe_fip</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">index</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_acqe_fip_fcf_count_SHIFT		0</span>
<span class="cp">#define lpfc_acqe_fip_fcf_count_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_acqe_fip_fcf_count_WORD		word1</span>
<span class="cp">#define lpfc_acqe_fip_event_type_SHIFT		16</span>
<span class="cp">#define lpfc_acqe_fip_event_type_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_acqe_fip_event_type_WORD		word1</span>
	<span class="kt">uint32_t</span> <span class="n">event_tag</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">trailer</span><span class="p">;</span>
<span class="cp">#define LPFC_FIP_EVENT_TYPE_NEW_FCF		0x1</span>
<span class="cp">#define LPFC_FIP_EVENT_TYPE_FCF_TABLE_FULL	0x2</span>
<span class="cp">#define LPFC_FIP_EVENT_TYPE_FCF_DEAD		0x3</span>
<span class="cp">#define LPFC_FIP_EVENT_TYPE_CVL			0x4</span>
<span class="cp">#define LPFC_FIP_EVENT_TYPE_FCF_PARAM_MOD	0x5</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_acqe_dcbx</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">tlv_ttl</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">event_tag</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">trailer</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_acqe_grp5</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_acqe_grp5_type_SHIFT		6</span>
<span class="cp">#define lpfc_acqe_grp5_type_MASK		0x00000003</span>
<span class="cp">#define lpfc_acqe_grp5_type_WORD		word0</span>
<span class="cp">#define lpfc_acqe_grp5_number_SHIFT		0</span>
<span class="cp">#define lpfc_acqe_grp5_number_MASK		0x0000003F</span>
<span class="cp">#define lpfc_acqe_grp5_number_WORD		word0</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_acqe_grp5_llink_spd_SHIFT	16</span>
<span class="cp">#define lpfc_acqe_grp5_llink_spd_MASK	0x0000FFFF</span>
<span class="cp">#define lpfc_acqe_grp5_llink_spd_WORD	word1</span>
	<span class="kt">uint32_t</span> <span class="n">event_tag</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">trailer</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_acqe_fc_la</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word0</span><span class="p">;</span>
<span class="cp">#define lpfc_acqe_fc_la_speed_SHIFT		24</span>
<span class="cp">#define lpfc_acqe_fc_la_speed_MASK		0x000000FF</span>
<span class="cp">#define lpfc_acqe_fc_la_speed_WORD		word0</span>
<span class="cp">#define LPFC_FC_LA_SPEED_UNKOWN		0x0</span>
<span class="cp">#define LPFC_FC_LA_SPEED_1G		0x1</span>
<span class="cp">#define LPFC_FC_LA_SPEED_2G		0x2</span>
<span class="cp">#define LPFC_FC_LA_SPEED_4G		0x4</span>
<span class="cp">#define LPFC_FC_LA_SPEED_8G		0x8</span>
<span class="cp">#define LPFC_FC_LA_SPEED_10G		0xA</span>
<span class="cp">#define LPFC_FC_LA_SPEED_16G		0x10</span>
<span class="cp">#define lpfc_acqe_fc_la_topology_SHIFT		16</span>
<span class="cp">#define lpfc_acqe_fc_la_topology_MASK		0x000000FF</span>
<span class="cp">#define lpfc_acqe_fc_la_topology_WORD		word0</span>
<span class="cp">#define LPFC_FC_LA_TOP_UNKOWN		0x0</span>
<span class="cp">#define LPFC_FC_LA_TOP_P2P		0x1</span>
<span class="cp">#define LPFC_FC_LA_TOP_FCAL		0x2</span>
<span class="cp">#define LPFC_FC_LA_TOP_INTERNAL_LOOP	0x3</span>
<span class="cp">#define LPFC_FC_LA_TOP_SERDES_LOOP	0x4</span>
<span class="cp">#define lpfc_acqe_fc_la_att_type_SHIFT		8</span>
<span class="cp">#define lpfc_acqe_fc_la_att_type_MASK		0x000000FF</span>
<span class="cp">#define lpfc_acqe_fc_la_att_type_WORD		word0</span>
<span class="cp">#define LPFC_FC_LA_TYPE_LINK_UP		0x1</span>
<span class="cp">#define LPFC_FC_LA_TYPE_LINK_DOWN	0x2</span>
<span class="cp">#define LPFC_FC_LA_TYPE_NO_HARD_ALPA	0x3</span>
<span class="cp">#define lpfc_acqe_fc_la_port_type_SHIFT		6</span>
<span class="cp">#define lpfc_acqe_fc_la_port_type_MASK		0x00000003</span>
<span class="cp">#define lpfc_acqe_fc_la_port_type_WORD		word0</span>
<span class="cp">#define LPFC_LINK_TYPE_ETHERNET		0x0</span>
<span class="cp">#define LPFC_LINK_TYPE_FC		0x1</span>
<span class="cp">#define lpfc_acqe_fc_la_port_number_SHIFT	0</span>
<span class="cp">#define lpfc_acqe_fc_la_port_number_MASK	0x0000003F</span>
<span class="cp">#define lpfc_acqe_fc_la_port_number_WORD	word0</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define lpfc_acqe_fc_la_llink_spd_SHIFT		16</span>
<span class="cp">#define lpfc_acqe_fc_la_llink_spd_MASK		0x0000FFFF</span>
<span class="cp">#define lpfc_acqe_fc_la_llink_spd_WORD		word1</span>
<span class="cp">#define lpfc_acqe_fc_la_fault_SHIFT		0</span>
<span class="cp">#define lpfc_acqe_fc_la_fault_MASK		0x000000FF</span>
<span class="cp">#define lpfc_acqe_fc_la_fault_WORD		word1</span>
<span class="cp">#define LPFC_FC_LA_FAULT_NONE		0x0</span>
<span class="cp">#define LPFC_FC_LA_FAULT_LOCAL		0x1</span>
<span class="cp">#define LPFC_FC_LA_FAULT_REMOTE		0x2</span>
	<span class="kt">uint32_t</span> <span class="n">event_tag</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">trailer</span><span class="p">;</span>
<span class="cp">#define LPFC_FC_LA_EVENT_TYPE_FC_LINK		0x1</span>
<span class="cp">#define LPFC_FC_LA_EVENT_TYPE_SHARED_LINK	0x2</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_acqe_sli</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">event_data1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">event_data2</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">trailer</span><span class="p">;</span>
<span class="cp">#define LPFC_SLI_EVENT_TYPE_PORT_ERROR		0x1</span>
<span class="cp">#define LPFC_SLI_EVENT_TYPE_OVER_TEMP		0x2</span>
<span class="cp">#define LPFC_SLI_EVENT_TYPE_NORM_TEMP		0x3</span>
<span class="cp">#define LPFC_SLI_EVENT_TYPE_NVLOG_POST		0x4</span>
<span class="cp">#define LPFC_SLI_EVENT_TYPE_DIAG_DUMP		0x5</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Define the bootstrap mailbox (bmbx) region used to communicate</span>
<span class="cm"> * mailbox command between the host and port. The mailbox consists</span>
<span class="cm"> * of a payload area of 256 bytes and a completion queue of length</span>
<span class="cm"> * 16 bytes.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">lpfc_bmbx_create</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">lpfc_mqe</span> <span class="n">mqe</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lpfc_mcqe</span> <span class="n">mcqe</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define SGL_ALIGN_SZ 64</span>
<span class="cp">#define SGL_PAGE_SIZE 4096</span>
<span class="cm">/* align SGL addr on a size boundary - adjust address up */</span>
<span class="cp">#define NO_XRI  0xffff</span>

<span class="k">struct</span> <span class="n">wqe_common</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word6</span><span class="p">;</span>
<span class="cp">#define wqe_xri_tag_SHIFT     0</span>
<span class="cp">#define wqe_xri_tag_MASK      0x0000FFFF</span>
<span class="cp">#define wqe_xri_tag_WORD      word6</span>
<span class="cp">#define wqe_ctxt_tag_SHIFT    16</span>
<span class="cp">#define wqe_ctxt_tag_MASK     0x0000FFFF</span>
<span class="cp">#define wqe_ctxt_tag_WORD     word6</span>
	<span class="kt">uint32_t</span> <span class="n">word7</span><span class="p">;</span>
<span class="cp">#define wqe_dif_SHIFT         0</span>
<span class="cp">#define wqe_dif_MASK          0x00000003</span>
<span class="cp">#define wqe_dif_WORD          word7</span>
<span class="cp">#define wqe_ct_SHIFT          2</span>
<span class="cp">#define wqe_ct_MASK           0x00000003</span>
<span class="cp">#define wqe_ct_WORD           word7</span>
<span class="cp">#define wqe_status_SHIFT      4</span>
<span class="cp">#define wqe_status_MASK       0x0000000f</span>
<span class="cp">#define wqe_status_WORD       word7</span>
<span class="cp">#define wqe_cmnd_SHIFT        8</span>
<span class="cp">#define wqe_cmnd_MASK         0x000000ff</span>
<span class="cp">#define wqe_cmnd_WORD         word7</span>
<span class="cp">#define wqe_class_SHIFT       16</span>
<span class="cp">#define wqe_class_MASK        0x00000007</span>
<span class="cp">#define wqe_class_WORD        word7</span>
<span class="cp">#define wqe_ar_SHIFT          19</span>
<span class="cp">#define wqe_ar_MASK           0x00000001</span>
<span class="cp">#define wqe_ar_WORD           word7</span>
<span class="cp">#define wqe_ag_SHIFT          wqe_ar_SHIFT</span>
<span class="cp">#define wqe_ag_MASK           wqe_ar_MASK</span>
<span class="cp">#define wqe_ag_WORD           wqe_ar_WORD</span>
<span class="cp">#define wqe_pu_SHIFT          20</span>
<span class="cp">#define wqe_pu_MASK           0x00000003</span>
<span class="cp">#define wqe_pu_WORD           word7</span>
<span class="cp">#define wqe_erp_SHIFT         22</span>
<span class="cp">#define wqe_erp_MASK          0x00000001</span>
<span class="cp">#define wqe_erp_WORD          word7</span>
<span class="cp">#define wqe_conf_SHIFT        wqe_erp_SHIFT</span>
<span class="cp">#define wqe_conf_MASK         wqe_erp_MASK</span>
<span class="cp">#define wqe_conf_WORD         wqe_erp_WORD</span>
<span class="cp">#define wqe_lnk_SHIFT         23</span>
<span class="cp">#define wqe_lnk_MASK          0x00000001</span>
<span class="cp">#define wqe_lnk_WORD          word7</span>
<span class="cp">#define wqe_tmo_SHIFT         24</span>
<span class="cp">#define wqe_tmo_MASK          0x000000ff</span>
<span class="cp">#define wqe_tmo_WORD          word7</span>
	<span class="kt">uint32_t</span> <span class="n">abort_tag</span><span class="p">;</span> <span class="cm">/* word 8 in WQE */</span>
	<span class="kt">uint32_t</span> <span class="n">word9</span><span class="p">;</span>
<span class="cp">#define wqe_reqtag_SHIFT      0</span>
<span class="cp">#define wqe_reqtag_MASK       0x0000FFFF</span>
<span class="cp">#define wqe_reqtag_WORD       word9</span>
<span class="cp">#define wqe_temp_rpi_SHIFT    16</span>
<span class="cp">#define wqe_temp_rpi_MASK     0x0000FFFF</span>
<span class="cp">#define wqe_temp_rpi_WORD     word9</span>
<span class="cp">#define wqe_rcvoxid_SHIFT     16</span>
<span class="cp">#define wqe_rcvoxid_MASK      0x0000FFFF</span>
<span class="cp">#define wqe_rcvoxid_WORD      word9</span>
	<span class="kt">uint32_t</span> <span class="n">word10</span><span class="p">;</span>
<span class="cp">#define wqe_ebde_cnt_SHIFT    0</span>
<span class="cp">#define wqe_ebde_cnt_MASK     0x0000000f</span>
<span class="cp">#define wqe_ebde_cnt_WORD     word10</span>
<span class="cp">#define wqe_lenloc_SHIFT      7</span>
<span class="cp">#define wqe_lenloc_MASK       0x00000003</span>
<span class="cp">#define wqe_lenloc_WORD       word10</span>
<span class="cp">#define LPFC_WQE_LENLOC_NONE		0</span>
<span class="cp">#define LPFC_WQE_LENLOC_WORD3	1</span>
<span class="cp">#define LPFC_WQE_LENLOC_WORD12	2</span>
<span class="cp">#define LPFC_WQE_LENLOC_WORD4	3</span>
<span class="cp">#define wqe_qosd_SHIFT        9</span>
<span class="cp">#define wqe_qosd_MASK         0x00000001</span>
<span class="cp">#define wqe_qosd_WORD         word10</span>
<span class="cp">#define wqe_xbl_SHIFT         11</span>
<span class="cp">#define wqe_xbl_MASK          0x00000001</span>
<span class="cp">#define wqe_xbl_WORD          word10</span>
<span class="cp">#define wqe_iod_SHIFT         13</span>
<span class="cp">#define wqe_iod_MASK          0x00000001</span>
<span class="cp">#define wqe_iod_WORD          word10</span>
<span class="cp">#define LPFC_WQE_IOD_WRITE	0</span>
<span class="cp">#define LPFC_WQE_IOD_READ	1</span>
<span class="cp">#define wqe_dbde_SHIFT        14</span>
<span class="cp">#define wqe_dbde_MASK         0x00000001</span>
<span class="cp">#define wqe_dbde_WORD         word10</span>
<span class="cp">#define wqe_wqes_SHIFT        15</span>
<span class="cp">#define wqe_wqes_MASK         0x00000001</span>
<span class="cp">#define wqe_wqes_WORD         word10</span>
<span class="cm">/* Note that this field overlaps above fields */</span>
<span class="cp">#define wqe_wqid_SHIFT        1</span>
<span class="cp">#define wqe_wqid_MASK         0x00007fff</span>
<span class="cp">#define wqe_wqid_WORD         word10</span>
<span class="cp">#define wqe_pri_SHIFT         16</span>
<span class="cp">#define wqe_pri_MASK          0x00000007</span>
<span class="cp">#define wqe_pri_WORD          word10</span>
<span class="cp">#define wqe_pv_SHIFT          19</span>
<span class="cp">#define wqe_pv_MASK           0x00000001</span>
<span class="cp">#define wqe_pv_WORD           word10</span>
<span class="cp">#define wqe_xc_SHIFT          21</span>
<span class="cp">#define wqe_xc_MASK           0x00000001</span>
<span class="cp">#define wqe_xc_WORD           word10</span>
<span class="cp">#define wqe_sr_SHIFT          22</span>
<span class="cp">#define wqe_sr_MASK           0x00000001</span>
<span class="cp">#define wqe_sr_WORD           word10</span>
<span class="cp">#define wqe_ccpe_SHIFT        23</span>
<span class="cp">#define wqe_ccpe_MASK         0x00000001</span>
<span class="cp">#define wqe_ccpe_WORD         word10</span>
<span class="cp">#define wqe_ccp_SHIFT         24</span>
<span class="cp">#define wqe_ccp_MASK          0x000000ff</span>
<span class="cp">#define wqe_ccp_WORD          word10</span>
	<span class="kt">uint32_t</span> <span class="n">word11</span><span class="p">;</span>
<span class="cp">#define wqe_cmd_type_SHIFT    0</span>
<span class="cp">#define wqe_cmd_type_MASK     0x0000000f</span>
<span class="cp">#define wqe_cmd_type_WORD     word11</span>
<span class="cp">#define wqe_els_id_SHIFT      4</span>
<span class="cp">#define wqe_els_id_MASK       0x00000003</span>
<span class="cp">#define wqe_els_id_WORD       word11</span>
<span class="cp">#define LPFC_ELS_ID_FLOGI	3</span>
<span class="cp">#define LPFC_ELS_ID_FDISC	2</span>
<span class="cp">#define LPFC_ELS_ID_LOGO	1</span>
<span class="cp">#define LPFC_ELS_ID_DEFAULT	0</span>
<span class="cp">#define wqe_wqec_SHIFT        7</span>
<span class="cp">#define wqe_wqec_MASK         0x00000001</span>
<span class="cp">#define wqe_wqec_WORD         word11</span>
<span class="cp">#define wqe_cqid_SHIFT        16</span>
<span class="cp">#define wqe_cqid_MASK         0x0000ffff</span>
<span class="cp">#define wqe_cqid_WORD         word11</span>
<span class="cp">#define LPFC_WQE_CQ_ID_DEFAULT	0xffff</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wqe_did</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
<span class="cp">#define wqe_els_did_SHIFT         0</span>
<span class="cp">#define wqe_els_did_MASK          0x00FFFFFF</span>
<span class="cp">#define wqe_els_did_WORD          word5</span>
<span class="cp">#define wqe_xmit_bls_pt_SHIFT         28</span>
<span class="cp">#define wqe_xmit_bls_pt_MASK          0x00000003</span>
<span class="cp">#define wqe_xmit_bls_pt_WORD          word5</span>
<span class="cp">#define wqe_xmit_bls_ar_SHIFT         30</span>
<span class="cp">#define wqe_xmit_bls_ar_MASK          0x00000001</span>
<span class="cp">#define wqe_xmit_bls_ar_WORD          word5</span>
<span class="cp">#define wqe_xmit_bls_xo_SHIFT         31</span>
<span class="cp">#define wqe_xmit_bls_xo_MASK          0x00000001</span>
<span class="cp">#define wqe_xmit_bls_xo_WORD          word5</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpfc_wqe_generic</span><span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">payload</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">els_request64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">payload_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define els_req64_sid_SHIFT         0</span>
<span class="cp">#define els_req64_sid_MASK          0x00FFFFFF</span>
<span class="cp">#define els_req64_sid_WORD          word4</span>
<span class="cp">#define els_req64_sp_SHIFT          24</span>
<span class="cp">#define els_req64_sp_MASK           0x00000001</span>
<span class="cp">#define els_req64_sp_WORD           word4</span>
<span class="cp">#define els_req64_vf_SHIFT          25</span>
<span class="cp">#define els_req64_vf_MASK           0x00000001</span>
<span class="cp">#define els_req64_vf_WORD           word4</span>
	<span class="k">struct</span> <span class="n">wqe_did</span>	<span class="n">wqe_dest</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span> <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
<span class="cp">#define els_req64_vfid_SHIFT        1</span>
<span class="cp">#define els_req64_vfid_MASK         0x00000FFF</span>
<span class="cp">#define els_req64_vfid_WORD         word12</span>
<span class="cp">#define els_req64_pri_SHIFT         13</span>
<span class="cp">#define els_req64_pri_MASK          0x00000007</span>
<span class="cp">#define els_req64_pri_WORD          word12</span>
	<span class="kt">uint32_t</span> <span class="n">word13</span><span class="p">;</span>
<span class="cp">#define els_req64_hopcnt_SHIFT      24</span>
<span class="cp">#define els_req64_hopcnt_MASK       0x000000ff</span>
<span class="cp">#define els_req64_hopcnt_WORD       word13</span>
	<span class="kt">uint32_t</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">xmit_els_rsp64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">response_payload_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word4</span><span class="p">;</span>
<span class="cp">#define els_rsp64_sid_SHIFT         0</span>
<span class="cp">#define els_rsp64_sid_MASK          0x00FFFFFF</span>
<span class="cp">#define els_rsp64_sid_WORD          word4</span>
<span class="cp">#define els_rsp64_sp_SHIFT          24</span>
<span class="cp">#define els_rsp64_sp_MASK           0x00000001</span>
<span class="cp">#define els_rsp64_sp_WORD           word4</span>
	<span class="k">struct</span> <span class="n">wqe_did</span> <span class="n">wqe_dest</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span> <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
<span class="cp">#define wqe_rsp_temp_rpi_SHIFT    0</span>
<span class="cp">#define wqe_rsp_temp_rpi_MASK     0x0000FFFF</span>
<span class="cp">#define wqe_rsp_temp_rpi_WORD     word12</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_13_15</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">xmit_bls_rsp64_wqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">payload0</span><span class="p">;</span>
<span class="cm">/* Payload0 for BA_ACC */</span>
<span class="cp">#define xmit_bls_rsp64_acc_seq_id_SHIFT        16</span>
<span class="cp">#define xmit_bls_rsp64_acc_seq_id_MASK         0x000000ff</span>
<span class="cp">#define xmit_bls_rsp64_acc_seq_id_WORD         payload0</span>
<span class="cp">#define xmit_bls_rsp64_acc_seq_id_vald_SHIFT   24</span>
<span class="cp">#define xmit_bls_rsp64_acc_seq_id_vald_MASK    0x000000ff</span>
<span class="cp">#define xmit_bls_rsp64_acc_seq_id_vald_WORD    payload0</span>
<span class="cm">/* Payload0 for BA_RJT */</span>
<span class="cp">#define xmit_bls_rsp64_rjt_vspec_SHIFT   0</span>
<span class="cp">#define xmit_bls_rsp64_rjt_vspec_MASK    0x000000ff</span>
<span class="cp">#define xmit_bls_rsp64_rjt_vspec_WORD    payload0</span>
<span class="cp">#define xmit_bls_rsp64_rjt_expc_SHIFT    8</span>
<span class="cp">#define xmit_bls_rsp64_rjt_expc_MASK     0x000000ff</span>
<span class="cp">#define xmit_bls_rsp64_rjt_expc_WORD     payload0</span>
<span class="cp">#define xmit_bls_rsp64_rjt_rsnc_SHIFT    16</span>
<span class="cp">#define xmit_bls_rsp64_rjt_rsnc_MASK     0x000000ff</span>
<span class="cp">#define xmit_bls_rsp64_rjt_rsnc_WORD     payload0</span>
	<span class="kt">uint32_t</span> <span class="n">word1</span><span class="p">;</span>
<span class="cp">#define xmit_bls_rsp64_rxid_SHIFT  0</span>
<span class="cp">#define xmit_bls_rsp64_rxid_MASK   0x0000ffff</span>
<span class="cp">#define xmit_bls_rsp64_rxid_WORD   word1</span>
<span class="cp">#define xmit_bls_rsp64_oxid_SHIFT  16</span>
<span class="cp">#define xmit_bls_rsp64_oxid_MASK   0x0000ffff</span>
<span class="cp">#define xmit_bls_rsp64_oxid_WORD   word1</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define xmit_bls_rsp64_seqcnthi_SHIFT  0</span>
<span class="cp">#define xmit_bls_rsp64_seqcnthi_MASK   0x0000ffff</span>
<span class="cp">#define xmit_bls_rsp64_seqcnthi_WORD   word2</span>
<span class="cp">#define xmit_bls_rsp64_seqcntlo_SHIFT  16</span>
<span class="cp">#define xmit_bls_rsp64_seqcntlo_MASK   0x0000ffff</span>
<span class="cp">#define xmit_bls_rsp64_seqcntlo_WORD   word2</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd3</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd4</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_did</span>	<span class="n">wqe_dest</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span> <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">word12</span><span class="p">;</span>
<span class="cp">#define xmit_bls_rsp64_temprpi_SHIFT  0</span>
<span class="cp">#define xmit_bls_rsp64_temprpi_MASK   0x0000ffff</span>
<span class="cp">#define xmit_bls_rsp64_temprpi_WORD   word12</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_13_15</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">wqe_rctl_dfctl</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">word5</span><span class="p">;</span>
<span class="cp">#define wqe_si_SHIFT 2</span>
<span class="cp">#define wqe_si_MASK  0x000000001</span>
<span class="cp">#define wqe_si_WORD  word5</span>
<span class="cp">#define wqe_la_SHIFT 3</span>
<span class="cp">#define wqe_la_MASK  0x000000001</span>
<span class="cp">#define wqe_la_WORD  word5</span>
<span class="cp">#define wqe_xo_SHIFT	6</span>
<span class="cp">#define wqe_xo_MASK	0x000000001</span>
<span class="cp">#define wqe_xo_WORD	word5</span>
<span class="cp">#define wqe_ls_SHIFT 7</span>
<span class="cp">#define wqe_ls_MASK  0x000000001</span>
<span class="cp">#define wqe_ls_WORD  word5</span>
<span class="cp">#define wqe_dfctl_SHIFT 8</span>
<span class="cp">#define wqe_dfctl_MASK  0x0000000ff</span>
<span class="cp">#define wqe_dfctl_WORD  word5</span>
<span class="cp">#define wqe_type_SHIFT 16</span>
<span class="cp">#define wqe_type_MASK  0x0000000ff</span>
<span class="cp">#define wqe_type_WORD  word5</span>
<span class="cp">#define wqe_rctl_SHIFT 24</span>
<span class="cp">#define wqe_rctl_MASK  0x0000000ff</span>
<span class="cp">#define wqe_rctl_WORD  word5</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">xmit_seq64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd3</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">relative_offset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_rctl_dfctl</span> <span class="n">wge_ctl</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span> <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">xmit_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_12_15</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">xmit_bcast64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">seq_payload_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd4</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_rctl_dfctl</span> <span class="n">wge_ctl</span><span class="p">;</span> <span class="cm">/* word 5 */</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span>     <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_12_15</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">gen_req64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">request_payload_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">relative_offset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_rctl_dfctl</span> <span class="n">wge_ctl</span><span class="p">;</span> <span class="cm">/* word 5 */</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span>     <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_12_15</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">create_xri_wqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>           <span class="cm">/* words 0-4 */</span>
	<span class="k">struct</span> <span class="n">wqe_did</span>	<span class="n">wqe_dest</span><span class="p">;</span>  <span class="cm">/* word 5 */</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span> <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_12_15</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>         <span class="cm">/* word 12-15 */</span>
<span class="p">};</span>

<span class="cp">#define T_REQUEST_TAG 3</span>
<span class="cp">#define T_XRI_TAG 1</span>

<span class="k">struct</span> <span class="n">abort_cmd_wqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">uint32_t</span> <span class="n">word3</span><span class="p">;</span>
<span class="cp">#define	abort_cmd_ia_SHIFT  0</span>
<span class="cp">#define	abort_cmd_ia_MASK  0x000000001</span>
<span class="cp">#define	abort_cmd_ia_WORD  word3</span>
<span class="cp">#define	abort_cmd_criteria_SHIFT  8</span>
<span class="cp">#define	abort_cmd_criteria_MASK  0x0000000ff</span>
<span class="cp">#define	abort_cmd_criteria_WORD  word3</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd4</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd5</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span>     <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_12_15</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>         <span class="cm">/* word 12-15 */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcp_iwrite64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">payload_offset_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">total_xfer_len</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">initial_xfer_len</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span>     <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd12</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">ph_bde</span><span class="p">;</span>       <span class="cm">/* words 13-15 */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcp_iread64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">payload_offset_len</span><span class="p">;</span>   <span class="cm">/* word 3 */</span>
	<span class="kt">uint32_t</span> <span class="n">total_xfer_len</span><span class="p">;</span>       <span class="cm">/* word 4 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd5</span><span class="p">;</span>               <span class="cm">/* word 5 */</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span>     <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd12</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">ph_bde</span><span class="p">;</span>       <span class="cm">/* words 13-15 */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fcp_icmnd64_wqe</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">ulp_bde64</span> <span class="n">bde</span><span class="p">;</span>          <span class="cm">/* words 0-2 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd3</span><span class="p">;</span>               <span class="cm">/* word 3 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd4</span><span class="p">;</span>               <span class="cm">/* word 4 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsrvd5</span><span class="p">;</span>               <span class="cm">/* word 5 */</span>
	<span class="k">struct</span> <span class="n">wqe_common</span> <span class="n">wqe_com</span><span class="p">;</span>     <span class="cm">/* words 6-11 */</span>
	<span class="kt">uint32_t</span> <span class="n">rsvd_12_15</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>        <span class="cm">/* word 12-15 */</span>
<span class="p">};</span>


<span class="k">union</span> <span class="n">lpfc_wqe</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">words</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">lpfc_wqe_generic</span> <span class="n">generic</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fcp_icmnd64_wqe</span> <span class="n">fcp_icmd</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fcp_iread64_wqe</span> <span class="n">fcp_iread</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fcp_iwrite64_wqe</span> <span class="n">fcp_iwrite</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">abort_cmd_wqe</span> <span class="n">abort_cmd</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">create_xri_wqe</span> <span class="n">create_xri</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xmit_bcast64_wqe</span> <span class="n">xmit_bcast64</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xmit_seq64_wqe</span> <span class="n">xmit_sequence</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xmit_bls_rsp64_wqe</span> <span class="n">xmit_bls_rsp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xmit_els_rsp64_wqe</span> <span class="n">xmit_els_rsp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">els_request64_wqe</span> <span class="n">els_req</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">gen_req64_wqe</span> <span class="n">gen_req</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define LPFC_GROUP_OJECT_MAGIC_NUM		0xfeaa0001</span>
<span class="cp">#define LPFC_FILE_TYPE_GROUP			0xf7</span>
<span class="cp">#define LPFC_FILE_ID_GROUP			0xa2</span>
<span class="k">struct</span> <span class="n">lpfc_grp_hdr</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">size</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">magic_number</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">word2</span><span class="p">;</span>
<span class="cp">#define lpfc_grp_hdr_file_type_SHIFT	24</span>
<span class="cp">#define lpfc_grp_hdr_file_type_MASK	0x000000FF</span>
<span class="cp">#define lpfc_grp_hdr_file_type_WORD	word2</span>
<span class="cp">#define lpfc_grp_hdr_id_SHIFT		16</span>
<span class="cp">#define lpfc_grp_hdr_id_MASK		0x000000FF</span>
<span class="cp">#define lpfc_grp_hdr_id_WORD		word2</span>
	<span class="kt">uint8_t</span> <span class="n">rev_name</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="kt">uint8_t</span> <span class="n">date</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
	<span class="kt">uint8_t</span> <span class="n">revision</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define FCP_COMMAND 0x0</span>
<span class="cp">#define FCP_COMMAND_DATA_OUT 0x1</span>
<span class="cp">#define ELS_COMMAND_NON_FIP 0xC</span>
<span class="cp">#define ELS_COMMAND_FIP 0xD</span>
<span class="cp">#define OTHER_COMMAND 0x8</span>

<span class="cp">#define LPFC_FW_DUMP	1</span>
<span class="cp">#define LPFC_FW_RESET	2</span>
<span class="cp">#define LPFC_DV_RESET	3</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
