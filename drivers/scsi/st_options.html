<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › st_options.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>st_options.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">   The compile-time configurable defaults for the Linux SCSI tape driver.</span>

<span class="cm">   Copyright 1995-2003 Kai Makisara.</span>

<span class="cm">   Last modified: Thu Feb 21 21:47:07 2008 by kai.makisara</span>
<span class="cm">*/</span>

<span class="cp">#ifndef _ST_OPTIONS_H</span>
<span class="cp">#define _ST_OPTIONS_H</span>

<span class="cm">/* If TRY_DIRECT_IO is non-zero, the driver tries to transfer data directly</span>
<span class="cm">   between the user buffer and tape drive. If this is not possible, driver</span>
<span class="cm">   buffer is used. If TRY_DIRECT_IO is zero, driver buffer is always used. */</span>
<span class="cp">#define TRY_DIRECT_IO 1</span>

<span class="cm">/* The driver does not wait for some operations to finish before returning</span>
<span class="cm">   to the user program if ST_NOWAIT is non-zero. This helps if the SCSI</span>
<span class="cm">   adapter does not support multiple outstanding commands. However, the user</span>
<span class="cm">   should not give a new tape command before the previous one has finished. */</span>
<span class="cp">#define ST_NOWAIT 0</span>

<span class="cm">/* If ST_IN_FILE_POS is nonzero, the driver positions the tape after the</span>
<span class="cm">   record been read by the user program even if the tape has moved further</span>
<span class="cm">   because of buffered reads. Should be set to zero to support also drives</span>
<span class="cm">   that can&#39;t space backwards over records. NOTE: The tape will be</span>
<span class="cm">   spaced backwards over an &quot;accidentally&quot; crossed filemark in any case. */</span>
<span class="cp">#define ST_IN_FILE_POS 0</span>

<span class="cm">/* If ST_RECOVERED_WRITE_FATAL is non-zero, recovered errors while writing</span>
<span class="cm">   are considered &quot;hard errors&quot;. */</span>
<span class="cp">#define ST_RECOVERED_WRITE_FATAL 0</span>

<span class="cm">/* The &quot;guess&quot; for the block size for devices that don&#39;t support MODE</span>
<span class="cm">   SENSE. */</span>
<span class="cp">#define ST_DEFAULT_BLOCK 0</span>

<span class="cm">/* The minimum tape driver buffer size in kilobytes in fixed block mode.</span>
<span class="cm">   Must be non-zero. */</span>
<span class="cp">#define ST_FIXED_BUFFER_BLOCKS 32</span>

<span class="cm">/* Maximum number of scatter/gather segments */</span>
<span class="cp">#define ST_MAX_SG      256</span>

<span class="cm">/* The number of scatter/gather segments to allocate at first try (must be</span>
<span class="cm">   smaller or equal to the maximum). */</span>
<span class="cp">#define ST_FIRST_SG    8</span>

<span class="cm">/* The size of the first scatter/gather segments (determines the maximum block</span>
<span class="cm">   size for SCSI adapters not supporting scatter/gather). The default is set</span>
<span class="cm">   to try to allocate the buffer as one chunk. */</span>
<span class="cp">#define ST_FIRST_ORDER  5</span>


<span class="cm">/* The following lines define defaults for properties that can be set</span>
<span class="cm">   separately for each drive using the MTSTOPTIONS ioctl. */</span>

<span class="cm">/* If ST_TWO_FM is non-zero, the driver writes two filemarks after a</span>
<span class="cm">   file being written. Some drives can&#39;t handle two filemarks at the</span>
<span class="cm">   end of data. */</span>
<span class="cp">#define ST_TWO_FM 0</span>

<span class="cm">/* If ST_BUFFER_WRITES is non-zero, writes in fixed block mode are</span>
<span class="cm">   buffered until the driver buffer is full or asynchronous write is</span>
<span class="cm">   triggered. May make detection of End-Of-Medium early enough fail. */</span>
<span class="cp">#define ST_BUFFER_WRITES 1</span>

<span class="cm">/* If ST_ASYNC_WRITES is non-zero, the SCSI write command may be started</span>
<span class="cm">   without waiting for it to finish. May cause problems in multiple</span>
<span class="cm">   tape backups. */</span>
<span class="cp">#define ST_ASYNC_WRITES 1</span>

<span class="cm">/* If ST_READ_AHEAD is non-zero, blocks are read ahead in fixed block</span>
<span class="cm">   mode. */</span>
<span class="cp">#define ST_READ_AHEAD 1</span>

<span class="cm">/* If ST_AUTO_LOCK is non-zero, the drive door is locked at the first</span>
<span class="cm">   read or write command after the device is opened. The door is opened</span>
<span class="cm">   when the device is closed. */</span>
<span class="cp">#define ST_AUTO_LOCK 0</span>

<span class="cm">/* If ST_FAST_MTEOM is non-zero, the MTEOM ioctl is done using the</span>
<span class="cm">   direct SCSI command. The file number status is lost but this method</span>
<span class="cm">   is fast with some drives. Otherwise MTEOM is done by spacing over</span>
<span class="cm">   files and the file number status is retained. */</span>
<span class="cp">#define ST_FAST_MTEOM 0</span>

<span class="cm">/* If ST_SCSI2LOGICAL is nonzero, the logical block addresses are used for</span>
<span class="cm">   MTIOCPOS and MTSEEK by default. Vendor addresses are used if ST_SCSI2LOGICAL</span>
<span class="cm">   is zero. */</span>
<span class="cp">#define ST_SCSI2LOGICAL 0</span>

<span class="cm">/* If ST_SYSV is non-zero, the tape behaves according to the SYS V semantics.</span>
<span class="cm">   The default is BSD semantics. */</span>
<span class="cp">#define ST_SYSV 0</span>

<span class="cm">/* If ST_SILI is non-zero, the SILI bit is set when reading in variable block</span>
<span class="cm">   mode and the block size is determined using the residual returned by the HBA. */</span>
<span class="cp">#define ST_SILI 0</span>

<span class="cm">/* Time to wait for the drive to become ready if blocking open */</span>
<span class="cp">#define ST_BLOCK_SECONDS     120</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
