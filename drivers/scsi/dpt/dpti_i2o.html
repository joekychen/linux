<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › dpt › dpti_i2o.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>dpti_i2o.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _SCSI_I2O_H</span>
<span class="cp">#define _SCSI_I2O_H</span>

<span class="cm">/* I2O kernel space accessible structures/APIs</span>
<span class="cm"> *</span>
<span class="cm"> * (c) Copyright 1999, 2000 Red Hat Software</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Public License</span>
<span class="cm"> * as published by the Free Software Foundation; either version</span>
<span class="cm"> * 2 of the License, or (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * This header file defined the I2O APIs/structures for use by</span>
<span class="cm"> * the I2O kernel modules.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifdef __KERNEL__       </span><span class="cm">/* This file to be included by kernel only */</span><span class="cp"></span>

<span class="cp">#include &lt;linux/i2o-dev.h&gt;</span>

<span class="cp">#include &lt;linux/notifier.h&gt;</span>
<span class="cp">#include &lt;linux/atomic.h&gt;</span>


<span class="cm">/*</span>
<span class="cm"> *	Tunable parameters first</span>
<span class="cm"> */</span>

<span class="cm">/* How many different OSM&#39;s are we allowing */</span>
<span class="cp">#define MAX_I2O_MODULES		64</span>

<span class="cp">#define I2O_EVT_CAPABILITY_OTHER		0x01</span>
<span class="cp">#define I2O_EVT_CAPABILITY_CHANGED		0x02</span>

<span class="cp">#define I2O_EVT_SENSOR_STATE_CHANGED		0x01</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><h1>ifdef <strong>KERNEL</strong>   /* ioctl stuff only thing exported to users */</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define I2O_MAX_MANAGERS	4</span>

<span class="cm">/*</span>
<span class="cm"> *	I2O Interface Objects</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;linux/wait.h&gt;</span>
<span class="k">typedef</span> <span class="n">wait_queue_head_t</span> <span class="n">adpt_wait_queue_head_t</span><span class="p">;</span>
<span class="cp">#define ADPT_DECLARE_WAIT_QUEUE_HEAD(wait) DECLARE_WAIT_QUEUE_HEAD_ONSTACK(wait)</span>
<span class="k">typedef</span> <span class="n">wait_queue_t</span> <span class="n">adpt_wait_queue_t</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * message structures</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">i2o_message</span>
<span class="p">{</span>
	<span class="n">u8</span>	<span class="n">version_offset</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">flags</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">size</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">target_tid</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">init_tid</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">function</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">initiator_context</span><span class="p">;</span>
	<span class="cm">/* List follows */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">adpt_device</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">_adpt_hba</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">i2o_device</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">i2o_device</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>	<span class="cm">/* Chain */</span>
	<span class="k">struct</span> <span class="n">i2o_device</span> <span class="o">*</span><span class="n">prev</span><span class="p">;</span>

	<span class="kt">char</span> <span class="n">dev_name</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>		<span class="cm">/* linux /dev name if available */</span>
	<span class="n">i2o_lct_entry</span> <span class="n">lct_data</span><span class="p">;</span><span class="cm">/* Device LCT information */</span>
	<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">proc_dir_entry</span><span class="o">*</span> <span class="n">proc_entry</span><span class="p">;</span>	<span class="cm">/* /proc dir */</span>
	<span class="k">struct</span> <span class="n">adpt_device</span> <span class="o">*</span><span class="n">owner</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">_adpt_hba</span> <span class="o">*</span><span class="n">controller</span><span class="p">;</span>	<span class="cm">/* Controlling IOP */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> *	Each I2O controller has one of these objects</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">i2o_controller</span>
<span class="p">{</span>
	<span class="kt">char</span> <span class="n">name</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">unit</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">type</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">enabled</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">notifier_block</span> <span class="o">*</span><span class="n">event_notifer</span><span class="p">;</span>	<span class="cm">/* Events */</span>
	<span class="n">atomic_t</span> <span class="n">users</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">i2o_device</span> <span class="o">*</span><span class="n">devices</span><span class="p">;</span>		<span class="cm">/* I2O device chain */</span>
	<span class="k">struct</span> <span class="n">i2o_controller</span> <span class="o">*</span><span class="n">next</span><span class="p">;</span>		<span class="cm">/* Controller chain */</span>

<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * I2O System table entry</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">i2o_sys_tbl_entry</span>
<span class="p">{</span>
	<span class="n">u16</span>	<span class="n">org_id</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">iop_id</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">reserved2</span><span class="o">:</span><span class="mi">20</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">seg_num</span><span class="o">:</span><span class="mi">12</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">i2o_version</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">iop_state</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">msg_type</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">frame_size</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">reserved3</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">last_changed</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">iop_capabilities</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">inbound_low</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">inbound_high</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">i2o_sys_tbl</span>
<span class="p">{</span>
	<span class="n">u8</span>	<span class="n">num_entries</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">version</span><span class="p">;</span>
	<span class="n">u16</span>	<span class="n">reserved1</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">change_ind</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">reserved2</span><span class="p">;</span>
	<span class="n">u32</span>	<span class="n">reserved3</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">i2o_sys_tbl_entry</span> <span class="n">iops</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> *	I2O classes / subclasses</span>
<span class="cm"> */</span>

<span class="cm">/*  Class ID and Code Assignments</span>
<span class="cm"> *  (LCT.ClassID.Version field)</span>
<span class="cm"> */</span>
<span class="cp">#define    I2O_CLASS_VERSION_10                        0x00</span>
<span class="cp">#define    I2O_CLASS_VERSION_11                        0x01</span>

<span class="cm">/*  Class code names</span>
<span class="cm"> *  (from v1.5 Table 6-1 Class Code Assignments.)</span>
<span class="cm"> */</span>

<span class="cp">#define    I2O_CLASS_EXECUTIVE                         0x000</span>
<span class="cp">#define    I2O_CLASS_DDM                               0x001</span>
<span class="cp">#define    I2O_CLASS_RANDOM_BLOCK_STORAGE              0x010</span>
<span class="cp">#define    I2O_CLASS_SEQUENTIAL_STORAGE                0x011</span>
<span class="cp">#define    I2O_CLASS_LAN                               0x020</span>
<span class="cp">#define    I2O_CLASS_WAN                               0x030</span>
<span class="cp">#define    I2O_CLASS_FIBRE_CHANNEL_PORT                0x040</span>
<span class="cp">#define    I2O_CLASS_FIBRE_CHANNEL_PERIPHERAL          0x041</span>
<span class="cp">#define    I2O_CLASS_SCSI_PERIPHERAL                   0x051</span>
<span class="cp">#define    I2O_CLASS_ATE_PORT                          0x060</span>
<span class="cp">#define    I2O_CLASS_ATE_PERIPHERAL                    0x061</span>
<span class="cp">#define    I2O_CLASS_FLOPPY_CONTROLLER                 0x070</span>
<span class="cp">#define    I2O_CLASS_FLOPPY_DEVICE                     0x071</span>
<span class="cp">#define    I2O_CLASS_BUS_ADAPTER_PORT                  0x080</span>
<span class="cp">#define    I2O_CLASS_PEER_TRANSPORT_AGENT              0x090</span>
<span class="cp">#define    I2O_CLASS_PEER_TRANSPORT                    0x091</span>

<span class="cm">/*  Rest of 0x092 - 0x09f reserved for peer-to-peer classes</span>
<span class="cm"> */</span>

<span class="cp">#define    I2O_CLASS_MATCH_ANYCLASS                    0xffffffff</span>

<span class="cm">/*  Subclasses</span>
<span class="cm"> */</span>

<span class="cp">#define    I2O_SUBCLASS_i960                           0x001</span>
<span class="cp">#define    I2O_SUBCLASS_HDM                            0x020</span>
<span class="cp">#define    I2O_SUBCLASS_ISM                            0x021</span>

<span class="cm">/* Operation functions */</span>

<span class="cp">#define I2O_PARAMS_FIELD_GET	0x0001</span>
<span class="cp">#define I2O_PARAMS_LIST_GET	0x0002</span>
<span class="cp">#define I2O_PARAMS_MORE_GET	0x0003</span>
<span class="cp">#define I2O_PARAMS_SIZE_GET	0x0004</span>
<span class="cp">#define I2O_PARAMS_TABLE_GET	0x0005</span>
<span class="cp">#define I2O_PARAMS_FIELD_SET	0x0006</span>
<span class="cp">#define I2O_PARAMS_LIST_SET	0x0007</span>
<span class="cp">#define I2O_PARAMS_ROW_ADD	0x0008</span>
<span class="cp">#define I2O_PARAMS_ROW_DELETE	0x0009</span>
<span class="cp">#define I2O_PARAMS_TABLE_CLEAR	0x000A</span>

<span class="cm">/*</span>
<span class="cm"> *	I2O serial number conventions / formats</span>
<span class="cm"> *	(circa v1.5)</span>
<span class="cm"> */</span>

<span class="cp">#define    I2O_SNFORMAT_UNKNOWN                        0</span>
<span class="cp">#define    I2O_SNFORMAT_BINARY                         1</span>
<span class="cp">#define    I2O_SNFORMAT_ASCII                          2</span>
<span class="cp">#define    I2O_SNFORMAT_UNICODE                        3</span>
<span class="cp">#define    I2O_SNFORMAT_LAN48_MAC                      4</span>
<span class="cp">#define    I2O_SNFORMAT_WAN                            5</span>

<span class="cm">/* Plus new in v2.0 (Yellowstone pdf doc)</span>
<span class="cm"> */</span>

<span class="cp">#define    I2O_SNFORMAT_LAN64_MAC                      6</span>
<span class="cp">#define    I2O_SNFORMAT_DDM                            7</span>
<span class="cp">#define    I2O_SNFORMAT_IEEE_REG64                     8</span>
<span class="cp">#define    I2O_SNFORMAT_IEEE_REG128                    9</span>
<span class="cp">#define    I2O_SNFORMAT_UNKNOWN2                       0xff</span>

<span class="cm">/* Transaction Reply Lists (TRL) Control Word structure */</span>

<span class="cp">#define TRL_SINGLE_FIXED_LENGTH		0x00</span>
<span class="cp">#define TRL_SINGLE_VARIABLE_LENGTH	0x40</span>
<span class="cp">#define TRL_MULTIPLE_FIXED_LENGTH	0x80</span>

<span class="cm">/*</span>
<span class="cm"> *	Messaging API values</span>
<span class="cm"> */</span>

<span class="cp">#define	I2O_CMD_ADAPTER_ASSIGN		0xB3</span>
<span class="cp">#define	I2O_CMD_ADAPTER_READ		0xB2</span>
<span class="cp">#define	I2O_CMD_ADAPTER_RELEASE		0xB5</span>
<span class="cp">#define	I2O_CMD_BIOS_INFO_SET		0xA5</span>
<span class="cp">#define	I2O_CMD_BOOT_DEVICE_SET		0xA7</span>
<span class="cp">#define	I2O_CMD_CONFIG_VALIDATE		0xBB</span>
<span class="cp">#define	I2O_CMD_CONN_SETUP		0xCA</span>
<span class="cp">#define	I2O_CMD_DDM_DESTROY		0xB1</span>
<span class="cp">#define	I2O_CMD_DDM_ENABLE		0xD5</span>
<span class="cp">#define	I2O_CMD_DDM_QUIESCE		0xC7</span>
<span class="cp">#define	I2O_CMD_DDM_RESET		0xD9</span>
<span class="cp">#define	I2O_CMD_DDM_SUSPEND		0xAF</span>
<span class="cp">#define	I2O_CMD_DEVICE_ASSIGN		0xB7</span>
<span class="cp">#define	I2O_CMD_DEVICE_RELEASE		0xB9</span>
<span class="cp">#define	I2O_CMD_HRT_GET			0xA8</span>
<span class="cp">#define	I2O_CMD_ADAPTER_CLEAR		0xBE</span>
<span class="cp">#define	I2O_CMD_ADAPTER_CONNECT		0xC9</span>
<span class="cp">#define	I2O_CMD_ADAPTER_RESET		0xBD</span>
<span class="cp">#define	I2O_CMD_LCT_NOTIFY		0xA2</span>
<span class="cp">#define	I2O_CMD_OUTBOUND_INIT		0xA1</span>
<span class="cp">#define	I2O_CMD_PATH_ENABLE		0xD3</span>
<span class="cp">#define	I2O_CMD_PATH_QUIESCE		0xC5</span>
<span class="cp">#define	I2O_CMD_PATH_RESET		0xD7</span>
<span class="cp">#define	I2O_CMD_STATIC_MF_CREATE	0xDD</span>
<span class="cp">#define	I2O_CMD_STATIC_MF_RELEASE	0xDF</span>
<span class="cp">#define	I2O_CMD_STATUS_GET		0xA0</span>
<span class="cp">#define	I2O_CMD_SW_DOWNLOAD		0xA9</span>
<span class="cp">#define	I2O_CMD_SW_UPLOAD		0xAB</span>
<span class="cp">#define	I2O_CMD_SW_REMOVE		0xAD</span>
<span class="cp">#define	I2O_CMD_SYS_ENABLE		0xD1</span>
<span class="cp">#define	I2O_CMD_SYS_MODIFY		0xC1</span>
<span class="cp">#define	I2O_CMD_SYS_QUIESCE		0xC3</span>
<span class="cp">#define	I2O_CMD_SYS_TAB_SET		0xA3</span>

<span class="cp">#define I2O_CMD_UTIL_NOP		0x00</span>
<span class="cp">#define I2O_CMD_UTIL_ABORT		0x01</span>
<span class="cp">#define I2O_CMD_UTIL_CLAIM		0x09</span>
<span class="cp">#define I2O_CMD_UTIL_RELEASE		0x0B</span>
<span class="cp">#define I2O_CMD_UTIL_PARAMS_GET		0x06</span>
<span class="cp">#define I2O_CMD_UTIL_PARAMS_SET		0x05</span>
<span class="cp">#define I2O_CMD_UTIL_EVT_REGISTER	0x13</span>
<span class="cp">#define I2O_CMD_UTIL_EVT_ACK		0x14</span>
<span class="cp">#define I2O_CMD_UTIL_CONFIG_DIALOG	0x10</span>
<span class="cp">#define I2O_CMD_UTIL_DEVICE_RESERVE	0x0D</span>
<span class="cp">#define I2O_CMD_UTIL_DEVICE_RELEASE	0x0F</span>
<span class="cp">#define I2O_CMD_UTIL_LOCK		0x17</span>
<span class="cp">#define I2O_CMD_UTIL_LOCK_RELEASE	0x19</span>
<span class="cp">#define I2O_CMD_UTIL_REPLY_FAULT_NOTIFY	0x15</span>

<span class="cp">#define I2O_CMD_SCSI_EXEC		0x81</span>
<span class="cp">#define I2O_CMD_SCSI_ABORT		0x83</span>
<span class="cp">#define I2O_CMD_SCSI_BUSRESET		0x27</span>

<span class="cp">#define I2O_CMD_BLOCK_READ		0x30</span>
<span class="cp">#define I2O_CMD_BLOCK_WRITE		0x31</span>
<span class="cp">#define I2O_CMD_BLOCK_CFLUSH		0x37</span>
<span class="cp">#define I2O_CMD_BLOCK_MLOCK		0x49</span>
<span class="cp">#define I2O_CMD_BLOCK_MUNLOCK		0x4B</span>
<span class="cp">#define I2O_CMD_BLOCK_MMOUNT		0x41</span>
<span class="cp">#define I2O_CMD_BLOCK_MEJECT		0x43</span>

<span class="cp">#define I2O_PRIVATE_MSG			0xFF</span>

<span class="cm">/*</span>
<span class="cm"> *	Init Outbound Q status</span>
<span class="cm"> */</span>

<span class="cp">#define I2O_CMD_OUTBOUND_INIT_IN_PROGRESS	0x01</span>
<span class="cp">#define I2O_CMD_OUTBOUND_INIT_REJECTED		0x02</span>
<span class="cp">#define I2O_CMD_OUTBOUND_INIT_FAILED		0x03</span>
<span class="cp">#define I2O_CMD_OUTBOUND_INIT_COMPLETE		0x04</span>

<span class="cm">/*</span>
<span class="cm"> *	I2O Get Status State values</span>
<span class="cm"> */</span>

<span class="cp">#define	ADAPTER_STATE_INITIALIZING		0x01</span>
<span class="cp">#define	ADAPTER_STATE_RESET			0x02</span>
<span class="cp">#define	ADAPTER_STATE_HOLD			0x04</span>
<span class="cp">#define ADAPTER_STATE_READY			0x05</span>
<span class="cp">#define	ADAPTER_STATE_OPERATIONAL		0x08</span>
<span class="cp">#define	ADAPTER_STATE_FAILED			0x10</span>
<span class="cp">#define	ADAPTER_STATE_FAULTED			0x11</span>

<span class="cm">/* I2O API function return values */</span>

<span class="cp">#define I2O_RTN_NO_ERROR			0</span>
<span class="cp">#define I2O_RTN_NOT_INIT			1</span>
<span class="cp">#define I2O_RTN_FREE_Q_EMPTY			2</span>
<span class="cp">#define I2O_RTN_TCB_ERROR			3</span>
<span class="cp">#define I2O_RTN_TRANSACTION_ERROR		4</span>
<span class="cp">#define I2O_RTN_ADAPTER_ALREADY_INIT		5</span>
<span class="cp">#define I2O_RTN_MALLOC_ERROR			6</span>
<span class="cp">#define I2O_RTN_ADPTR_NOT_REGISTERED		7</span>
<span class="cp">#define I2O_RTN_MSG_REPLY_TIMEOUT		8</span>
<span class="cp">#define I2O_RTN_NO_STATUS			9</span>
<span class="cp">#define I2O_RTN_NO_FIRM_VER			10</span>
<span class="cp">#define	I2O_RTN_NO_LINK_SPEED			11</span>

<span class="cm">/* Reply message status defines for all messages */</span>

<span class="cp">#define I2O_REPLY_STATUS_SUCCESS			0x00</span>
<span class="cp">#define I2O_REPLY_STATUS_ABORT_DIRTY			0x01</span>
<span class="cp">#define I2O_REPLY_STATUS_ABORT_NO_DATA_TRANSFER		0x02</span>
<span class="cp">#define	I2O_REPLY_STATUS_ABORT_PARTIAL_TRANSFER		0x03</span>
<span class="cp">#define	I2O_REPLY_STATUS_ERROR_DIRTY			0x04</span>
<span class="cp">#define	I2O_REPLY_STATUS_ERROR_NO_DATA_TRANSFER		0x05</span>
<span class="cp">#define	I2O_REPLY_STATUS_ERROR_PARTIAL_TRANSFER		0x06</span>
<span class="cp">#define	I2O_REPLY_STATUS_PROCESS_ABORT_DIRTY		0x08</span>
<span class="cp">#define	I2O_REPLY_STATUS_PROCESS_ABORT_NO_DATA_TRANSFER	0x09</span>
<span class="cp">#define	I2O_REPLY_STATUS_PROCESS_ABORT_PARTIAL_TRANSFER	0x0A</span>
<span class="cp">#define	I2O_REPLY_STATUS_TRANSACTION_ERROR		0x0B</span>
<span class="cp">#define	I2O_REPLY_STATUS_PROGRESS_REPORT		0x80</span>

<span class="cm">/* Status codes and Error Information for Parameter functions */</span>

<span class="cp">#define I2O_PARAMS_STATUS_SUCCESS		0x00</span>
<span class="cp">#define I2O_PARAMS_STATUS_BAD_KEY_ABORT		0x01</span>
<span class="cp">#define I2O_PARAMS_STATUS_BAD_KEY_CONTINUE	0x02</span>
<span class="cp">#define I2O_PARAMS_STATUS_BUFFER_FULL		0x03</span>
<span class="cp">#define I2O_PARAMS_STATUS_BUFFER_TOO_SMALL	0x04</span>
<span class="cp">#define I2O_PARAMS_STATUS_FIELD_UNREADABLE	0x05</span>
<span class="cp">#define I2O_PARAMS_STATUS_FIELD_UNWRITEABLE	0x06</span>
<span class="cp">#define I2O_PARAMS_STATUS_INSUFFICIENT_FIELDS	0x07</span>
<span class="cp">#define I2O_PARAMS_STATUS_INVALID_GROUP_ID	0x08</span>
<span class="cp">#define I2O_PARAMS_STATUS_INVALID_OPERATION	0x09</span>
<span class="cp">#define I2O_PARAMS_STATUS_NO_KEY_FIELD		0x0A</span>
<span class="cp">#define I2O_PARAMS_STATUS_NO_SUCH_FIELD		0x0B</span>
<span class="cp">#define I2O_PARAMS_STATUS_NON_DYNAMIC_GROUP	0x0C</span>
<span class="cp">#define I2O_PARAMS_STATUS_OPERATION_ERROR	0x0D</span>
<span class="cp">#define I2O_PARAMS_STATUS_SCALAR_ERROR		0x0E</span>
<span class="cp">#define I2O_PARAMS_STATUS_TABLE_ERROR		0x0F</span>
<span class="cp">#define I2O_PARAMS_STATUS_WRONG_GROUP_TYPE	0x10</span>

<span class="cm">/* DetailedStatusCode defines for Executive, DDM, Util and Transaction error</span>
<span class="cm"> * messages: Table 3-2 Detailed Status Codes.*/</span>

<span class="cp">#define I2O_DSC_SUCCESS                        0x0000</span>
<span class="cp">#define I2O_DSC_BAD_KEY                        0x0002</span>
<span class="cp">#define I2O_DSC_TCL_ERROR                      0x0003</span>
<span class="cp">#define I2O_DSC_REPLY_BUFFER_FULL              0x0004</span>
<span class="cp">#define I2O_DSC_NO_SUCH_PAGE                   0x0005</span>
<span class="cp">#define I2O_DSC_INSUFFICIENT_RESOURCE_SOFT     0x0006</span>
<span class="cp">#define I2O_DSC_INSUFFICIENT_RESOURCE_HARD     0x0007</span>
<span class="cp">#define I2O_DSC_CHAIN_BUFFER_TOO_LARGE         0x0009</span>
<span class="cp">#define I2O_DSC_UNSUPPORTED_FUNCTION           0x000A</span>
<span class="cp">#define I2O_DSC_DEVICE_LOCKED                  0x000B</span>
<span class="cp">#define I2O_DSC_DEVICE_RESET                   0x000C</span>
<span class="cp">#define I2O_DSC_INAPPROPRIATE_FUNCTION         0x000D</span>
<span class="cp">#define I2O_DSC_INVALID_INITIATOR_ADDRESS      0x000E</span>
<span class="cp">#define I2O_DSC_INVALID_MESSAGE_FLAGS          0x000F</span>
<span class="cp">#define I2O_DSC_INVALID_OFFSET                 0x0010</span>
<span class="cp">#define I2O_DSC_INVALID_PARAMETER              0x0011</span>
<span class="cp">#define I2O_DSC_INVALID_REQUEST                0x0012</span>
<span class="cp">#define I2O_DSC_INVALID_TARGET_ADDRESS         0x0013</span>
<span class="cp">#define I2O_DSC_MESSAGE_TOO_LARGE              0x0014</span>
<span class="cp">#define I2O_DSC_MESSAGE_TOO_SMALL              0x0015</span>
<span class="cp">#define I2O_DSC_MISSING_PARAMETER              0x0016</span>
<span class="cp">#define I2O_DSC_TIMEOUT                        0x0017</span>
<span class="cp">#define I2O_DSC_UNKNOWN_ERROR                  0x0018</span>
<span class="cp">#define I2O_DSC_UNKNOWN_FUNCTION               0x0019</span>
<span class="cp">#define I2O_DSC_UNSUPPORTED_VERSION            0x001A</span>
<span class="cp">#define I2O_DSC_DEVICE_BUSY                    0x001B</span>
<span class="cp">#define I2O_DSC_DEVICE_NOT_AVAILABLE           0x001C</span>

<span class="cm">/* Device Claim Types */</span>
<span class="cp">#define	I2O_CLAIM_PRIMARY					0x01000000</span>
<span class="cp">#define	I2O_CLAIM_MANAGEMENT					0x02000000</span>
<span class="cp">#define	I2O_CLAIM_AUTHORIZED					0x03000000</span>
<span class="cp">#define	I2O_CLAIM_SECONDARY					0x04000000</span>

<span class="cm">/* Message header defines for VersionOffset */</span>
<span class="cp">#define I2OVER15	0x0001</span>
<span class="cp">#define I2OVER20	0x0002</span>
<span class="cm">/* Default is 1.5, FIXME: Need support for both 1.5 and 2.0 */</span>
<span class="cp">#define I2OVERSION	I2OVER15</span>
<span class="cp">#define SGL_OFFSET_0    I2OVERSION</span>
<span class="cp">#define SGL_OFFSET_4    (0x0040 | I2OVERSION)</span>
<span class="cp">#define SGL_OFFSET_5    (0x0050 | I2OVERSION)</span>
<span class="cp">#define SGL_OFFSET_6    (0x0060 | I2OVERSION)</span>
<span class="cp">#define SGL_OFFSET_7    (0x0070 | I2OVERSION)</span>
<span class="cp">#define SGL_OFFSET_8    (0x0080 | I2OVERSION)</span>
<span class="cp">#define SGL_OFFSET_9    (0x0090 | I2OVERSION)</span>
<span class="cp">#define SGL_OFFSET_10   (0x00A0 | I2OVERSION)</span>
<span class="cp">#define SGL_OFFSET_12   (0x00C0 | I2OVERSION)</span>

<span class="cp">#define TRL_OFFSET_5    (0x0050 | I2OVERSION)</span>
<span class="cp">#define TRL_OFFSET_6    (0x0060 | I2OVERSION)</span>

 <span class="cm">/* msg header defines for MsgFlags */</span>
<span class="cp">#define MSG_STATIC	0x0100</span>
<span class="cp">#define MSG_64BIT_CNTXT	0x0200</span>
<span class="cp">#define MSG_MULTI_TRANS	0x1000</span>
<span class="cp">#define MSG_FAIL	0x2000</span>
<span class="cp">#define MSG_LAST	0x4000</span>
<span class="cp">#define MSG_REPLY	0x8000</span>

 <span class="cm">/* minimum size msg */</span>
<span class="cp">#define THREE_WORD_MSG_SIZE	0x00030000</span>
<span class="cp">#define FOUR_WORD_MSG_SIZE	0x00040000</span>
<span class="cp">#define FIVE_WORD_MSG_SIZE	0x00050000</span>
<span class="cp">#define SIX_WORD_MSG_SIZE	0x00060000</span>
<span class="cp">#define SEVEN_WORD_MSG_SIZE	0x00070000</span>
<span class="cp">#define EIGHT_WORD_MSG_SIZE	0x00080000</span>
<span class="cp">#define NINE_WORD_MSG_SIZE	0x00090000</span>
<span class="cp">#define TEN_WORD_MSG_SIZE	0x000A0000</span>
<span class="cp">#define I2O_MESSAGE_SIZE(x)	((x)&lt;&lt;16)</span>


<span class="cm">/* Special TID Assignments */</span>

<span class="cp">#define ADAPTER_TID		0</span>
<span class="cp">#define HOST_TID		1</span>

<span class="cp">#define MSG_FRAME_SIZE		128</span>
<span class="cp">#define NMBR_MSG_FRAMES		128</span>

<span class="cp">#define MSG_POOL_SIZE		16384</span>

<span class="cp">#define I2O_POST_WAIT_OK	0</span>
<span class="cp">#define I2O_POST_WAIT_TIMEOUT	-ETIMEDOUT</span>


<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* _SCSI_I2O_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
