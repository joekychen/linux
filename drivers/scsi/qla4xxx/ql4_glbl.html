<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › qla4xxx › ql4_glbl.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>ql4_glbl.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * QLogic iSCSI HBA Driver</span>
<span class="cm"> * Copyright (c)  2003-2010 QLogic Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * See LICENSE.qla4xxx for copyright and licensing details.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __QLA4x_GBL_H</span>
<span class="cp">#define	__QLA4x_GBL_H</span>

<span class="k">struct</span> <span class="n">iscsi_cls_conn</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">qla4xxx_hw_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">ql4xxx_lock_drvr_wait</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">a</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_send_command_to_isp</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="k">struct</span> <span class="n">srb</span> <span class="o">*</span><span class="n">srb</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_initialize_adapter</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">int</span> <span class="n">is_reset</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_soft_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="n">irqreturn_t</span> <span class="n">qla4xxx_intr_handler</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dev_id</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">qla4xxx_free_ddb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_process_aen</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">process_aen</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">qla4xxx_get_dhcp_ip_address</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_abort_task</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="k">struct</span> <span class="n">srb</span> <span class="o">*</span><span class="n">srb</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_reset_lun</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">,</span>
		      <span class="kt">int</span> <span class="n">lun</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_reset_target</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
			 <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_flash</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">dma_addr</span><span class="p">,</span>
		      <span class="kt">uint32_t</span> <span class="n">offset</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">len</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_firmware_status</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_firmware_state</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_initialize_fw_cb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>

<span class="cm">/* FIXME: Goodness!  this really wants a small struct to hold the</span>
<span class="cm"> * parameters. On x86 the args will get passed on the stack! */</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_fwddb_entry</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
			    <span class="kt">uint16_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">dev_db_entry</span> <span class="o">*</span><span class="n">fw_ddb_entry</span><span class="p">,</span>
			    <span class="n">dma_addr_t</span> <span class="n">fw_ddb_entry_dma</span><span class="p">,</span>
			    <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">num_valid_ddb_entries</span><span class="p">,</span>
			    <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">next_ddb_index</span><span class="p">,</span>
			    <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">fw_ddb_device_state</span><span class="p">,</span>
			    <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">conn_err_detail</span><span class="p">,</span>
			    <span class="kt">uint16_t</span> <span class="o">*</span><span class="n">tcp_source_port_num</span><span class="p">,</span>
			    <span class="kt">uint16_t</span> <span class="o">*</span><span class="n">connection_id</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">qla4xxx_set_ddb_entry</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span> <span class="n">ha</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
			  <span class="n">dma_addr_t</span> <span class="n">fw_ddb_entry_dma</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbx_sts</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">qla4xxx_get_ifcb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbox_cmd</span><span class="p">,</span>
			 <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbox_sts</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">init_fw_cb_dma</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_conn_close_sess_logout</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
				   <span class="kt">uint16_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
				   <span class="kt">uint16_t</span> <span class="n">connection_id</span><span class="p">,</span>
				   <span class="kt">uint16_t</span> <span class="n">option</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_disable_acb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_set_acb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbox_cmd</span><span class="p">,</span>
		    <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbox_sts</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">acb_dma</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_acb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">acb_dma</span><span class="p">,</span>
		    <span class="kt">uint32_t</span> <span class="n">acb_type</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">len</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_ip_state</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">acb_idx</span><span class="p">,</span>
			 <span class="kt">uint32_t</span> <span class="n">ip_idx</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">sts</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_mark_device_missing</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_cls_session</span> <span class="o">*</span><span class="n">cls_session</span><span class="p">);</span>
<span class="n">u16</span> <span class="n">rd_nvram_word</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">int</span> <span class="n">offset</span><span class="p">);</span>
<span class="n">u8</span> <span class="n">rd_nvram_byte</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">int</span> <span class="n">offset</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_get_crash_record</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_is_nvram_configuration_valid</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_about_firmware</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_interrupt_service_routine</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
				       <span class="kt">uint32_t</span> <span class="n">intr_status</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_init_rings</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_srb_compl</span><span class="p">(</span><span class="k">struct</span> <span class="n">kref</span> <span class="o">*</span><span class="n">ref</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">srb</span> <span class="o">*</span><span class="n">qla4xxx_del_from_active_array</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
		<span class="kt">uint32_t</span> <span class="n">index</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_process_ddb_changed</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
		<span class="kt">uint32_t</span> <span class="n">state</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">conn_error</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_dump_buffer</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">b</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_send_marker_iocb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">,</span> <span class="kt">int</span> <span class="n">lun</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">mrkr_mod</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_set_flash</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">dma_addr</span><span class="p">,</span>
		      <span class="kt">uint32_t</span> <span class="n">offset</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">length</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">options</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_mailbox_command</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">inCount</span><span class="p">,</span>
		<span class="kt">uint8_t</span> <span class="n">outCount</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbx_cmd</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbx_sts</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_chap_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">username</span><span class="p">,</span>
			   <span class="kt">char</span> <span class="o">*</span><span class="n">password</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bidi</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="o">*</span><span class="n">chap_index</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">qla4xxx_queue_iocb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_complete_iocb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_sys_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_iospace_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_pci_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_start_firmware</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="n">irqreturn_t</span> <span class="n">qla4xxx_intr_handler</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dev_id</span><span class="p">);</span>
<span class="kt">uint16_t</span> <span class="n">qla4xxx_rd_shdw_req_q_out</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">uint16_t</span> <span class="n">qla4xxx_rd_shdw_rsp_q_in</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_request_irqs</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_free_irqs</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_process_response_queue</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_wake_dpc</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_get_conn_event_log</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_mailbox_premature_completion</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_dump_registers</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="n">qla4xxx_update_local_ifcb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbox_cmd</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbox_sts</span><span class="p">,</span>
				  <span class="k">struct</span> <span class="n">addr_ctrl_blk</span> <span class="o">*</span><span class="n">init_fw_cb</span><span class="p">,</span>
				  <span class="n">dma_addr_t</span> <span class="n">init_fw_cb_dma</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">qla4_8xxx_pci_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_iospace_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_load_risc</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">);</span>
<span class="n">irqreturn_t</span> <span class="n">qla4_8xxx_intr_handler</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dev_id</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_queue_iocb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_complete_iocb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">qla4_8xxx_crb_win_lock</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_crb_win_unlock</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_pci_get_crb_addr_2M</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">,</span> <span class="n">ulong</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_wr_32</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">,</span> <span class="n">ulong</span><span class="p">,</span> <span class="n">u32</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_rd_32</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">,</span> <span class="n">ulong</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_pci_mem_read_2M</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="p">,</span> <span class="n">u64</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_pci_mem_write_2M</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="n">u64</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_isp_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_interrupt_service_routine</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
		<span class="kt">uint32_t</span> <span class="n">intr_status</span><span class="p">);</span>
<span class="kt">uint16_t</span> <span class="n">qla4_8xxx_rd_shdw_req_q_out</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">uint16_t</span> <span class="n">qla4_8xxx_rd_shdw_rsp_q_in</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_get_sys_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_watchdog</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_stop_firmware</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_get_flash_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_enable_intrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_disable_intrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_enable_msix</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_disable_msix</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="n">irqreturn_t</span> <span class="n">qla4_8xxx_msi_handler</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dev_id</span><span class="p">);</span>
<span class="n">irqreturn_t</span> <span class="n">qla4_8xxx_default_intr_handler</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dev_id</span><span class="p">);</span>
<span class="n">irqreturn_t</span> <span class="n">qla4_8xxx_msix_rsp_q</span><span class="p">(</span><span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">dev_id</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_mark_all_devices_missing</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_dead_adapter_cleanup</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_idc_lock</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_idc_unlock</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4_8xxx_device_state_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_need_qsnt_handler</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_clear_drv_active</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_set_drv_active</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_conn_open</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">fw_ddb_index</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_set_param_ddbentry</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">iscsi_cls_conn</span> <span class="o">*</span><span class="n">cls_conn</span><span class="p">,</span>
			       <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbx_sts</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_session_logout_ddb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">,</span> <span class="kt">int</span> <span class="n">options</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_req_ddb_entry</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
			  <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">mbx_sts</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_clear_ddb_entry</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">fw_ddb_index</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_send_passthru0</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_task</span> <span class="o">*</span><span class="n">task</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_free_ddb_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_mgmt_data</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
			  <span class="kt">uint16_t</span> <span class="n">stats_size</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">stats_dma</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_update_session_conn_param</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
				       <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_update_session_conn_fwddb_param</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
					     <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_bootdb_by_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">dev_db_entry</span> <span class="o">*</span><span class="n">fw_ddb_entry</span><span class="p">,</span>
			    <span class="n">dma_addr_t</span> <span class="n">fw_ddb_entry_dma</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">ddb_index</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_chap</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">username</span><span class="p">,</span>
		     <span class="kt">char</span> <span class="o">*</span><span class="n">password</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="n">idx</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_nvram</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">nvram_dma</span><span class="p">,</span>
		      <span class="kt">uint32_t</span> <span class="n">offset</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_set_nvram</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="n">dma_addr_t</span> <span class="n">nvram_dma</span><span class="p">,</span>
		      <span class="kt">uint32_t</span> <span class="n">offset</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_restore_factory_defaults</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
				     <span class="kt">uint32_t</span> <span class="n">region</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">field0</span><span class="p">,</span>
				     <span class="kt">uint32_t</span> <span class="n">field1</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_ddb_index</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint16_t</span> <span class="o">*</span><span class="n">ddb_index</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_login_flash_ddb</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_cls_session</span> <span class="o">*</span><span class="n">cls_session</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_unblock_ddb</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_cls_session</span> <span class="o">*</span><span class="n">cls_session</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_unblock_flash_ddb</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_cls_session</span> <span class="o">*</span><span class="n">cls_session</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_flash_ddb_change</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">state</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_ddb_change</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">fw_ddb_index</span><span class="p">,</span>
		       <span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">state</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_build_ddb_list</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">int</span> <span class="n">is_reset</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_post_aen_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">aen_code</span><span class="p">,</span>
			  <span class="kt">uint32_t</span> <span class="n">data_size</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_ping_iocb</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">options</span><span class="p">,</span>
		      <span class="kt">uint32_t</span> <span class="n">payload_size</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">pid</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">ipaddr</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_post_ping_evt_work</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
			       <span class="kt">uint32_t</span> <span class="n">status</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">pid</span><span class="p">,</span>
			       <span class="kt">uint32_t</span> <span class="n">data_size</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>

<span class="cm">/* BSG Functions */</span>
<span class="kt">int</span> <span class="n">qla4xxx_bsg_request</span><span class="p">(</span><span class="k">struct</span> <span class="n">bsg_job</span> <span class="o">*</span><span class="n">bsg_job</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_process_vendor_specific</span><span class="p">(</span><span class="k">struct</span> <span class="n">bsg_job</span> <span class="o">*</span><span class="n">bsg_job</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">qla4xxx_arm_relogin_timer</span><span class="p">(</span><span class="k">struct</span> <span class="n">ddb_entry</span> <span class="o">*</span><span class="n">ddb_entry</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_get_minidump_template</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">,</span>
				  <span class="n">dma_addr_t</span> <span class="n">phys_addr</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">qla4xxx_req_template_size</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_alloc_sysfs_attr</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4_8xxx_free_sysfs_attr</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">qla4xxx_alloc_fw_dump</span><span class="p">(</span><span class="k">struct</span> <span class="n">scsi_qla_host</span> <span class="o">*</span><span class="n">ha</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">ql4xextended_error_logging</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">ql4xdontresethba</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">ql4xenablemsix</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">ql4xmdcapmask</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">ql4xenablemd</span><span class="p">;</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">device_attribute</span> <span class="o">*</span><span class="n">qla4xxx_host_attrs</span><span class="p">[];</span>
<span class="cp">#endif </span><span class="cm">/* _QLA4x_GBL_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
