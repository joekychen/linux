f | megaraid_sas_fusion.c | s | 64K | 2000 | adam radford | aradford@gmail.com | 1335205570 |  | [SCSI] megaraid_sas: Optimize HostMSIxVectors setting  The following patch for megaraid_sas removes an incorrect comment and optimizes the setting of HostMSIxVectors.  This was found during a code review by Tomas Henzl @ RedHat.  Signed-off-by: Adam Radford <aradford@gmail.com> Signed-off-by: James Bottomley <JBottomley@Parallels.com>
f | Makefile | g | 222B |  | adam radford | aradford@gmail.com | 1293082013 |  | [SCSI] megaraid_sas: Add 9565/9285 specific code  This patch adds MegaRAID 9265/9285 (Device id 0x5b) specific code  Signed-off-by: Adam Radford <aradford@gmail.com> Signed-off-by: James Bottomley <James.Bottomley@suse.de>
f | mbox_defs.h | s | 20K | 711 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | Kconfig.megaraid | g | 2.9K |  | Ju, Seokmann | Seokmann.Ju@engenio.com | 1134522656 |  | [SCSI] megaraid_{mbox,mm} : remove PCI Id overlaping between megaraid_legacy and megaraid_{mbox,mm}  Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
f | megaraid_sas_base.c | s | 140K | 4658 | adam radford | aradford@gmail.com | 1335205601 |  | [SCSI] megaraid_sas: Version and Changelog update  The following patch for megaraid_sas updates the driver version to v00.00.06.15-rc1, and updates Documentation/scsi/ChangeLog.megaraid_sas.  Signed-off-by: Adam Radford <aradford@gmail.com> Signed-off-by: James Bottomley <JBottomley@Parallels.com>
f | megaraid_mbox.c | s | 100K | 3312 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103884 |  | scsi: Fix up files implicitly depending on module.h inclusion  The module.h header was implicitly present everywhere, so files with no explicit include of the module infrastructure would build anyway.  We are now removing the implicit include, and so we need to call out the module.h file that we need explicitly.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | mega_common.h | s | 9.1K | 261 | Harvey Harrison | harvey.harrison@gmail.com | 1217169109 |  | [SCSI] replace __FUNCTION__ with __func__  [jejb: fixed up a ton of missed conversions.   All of you are on notice this has happened, driver trees will now  need to be rebased]  Signed-off-by: Harvey Harrison <harvey.harrison@gmail.com> Cc: SCSI List <linux-scsi@vger.kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: James Bottomley <James.Bottomley@HansenPartnership.com>
f | megaraid_ioctl.h | s | 8.3K | 246 | Matthew Wilcox | matthew@wil.cx | 1208571774 |  | Convert asm/semaphore.h users to linux/semaphore.h  Signed-off-by: Matthew Wilcox <willy@linux.intel.com>
f | megaraid_sas.h | s | 33K | 1204 | adam radford | aradford@gmail.com | 1335205601 |  | [SCSI] megaraid_sas: Version and Changelog update  The following patch for megaraid_sas updates the driver version to v00.00.06.15-rc1, and updates Documentation/scsi/ChangeLog.megaraid_sas.  Signed-off-by: Adam Radford <aradford@gmail.com> Signed-off-by: James Bottomley <JBottomley@Parallels.com>
f | megaraid_sas_fp.c | s | 14K | 464 | adam radford | aradford@gmail.com | 1335205578 |  | [SCSI] megaraid_sas: Add fpRead/WriteCapable, fpRead/WriteAcrossStripe checks  The following patch for megaraid_sas fixes the fastpath code decision logic to use fpRead/WriteCapable, fpRead/WriteAcrossStripe flags instead of the old logic.  This fixes a bug where fastpath writes could be sent to a read only LD.  Signed-off-by: Adam Radford <aradford@gmail.com> Signed-off-by: James Bottomley <JBottomley@Parallels.com>
f | megaraid_mbox.h | s | 7.9K | 195 | Hannes Reinecke | hare@suse.de | 1209515647 |  | [SCSI] megaraid_mbox: fix Dell CERC firmware problem  Newer Dell CERC firmware (>= 6.62) implement a random deletion handling compatible with the legacy megaraid driver.  The legacy handling shifted the target ID by 0x80 only for I/O commands (READ/WRITE/etc), whereas megaraid_mbox shifts the target ID always if random deletion is supported. The resulted in megaraid_mbox sending an INQUIRY to the wrong channel, and not finding any devices, obviously.  So we disable the random deletion support if the offending firmware is found.  Addresses http://bugzilla.kernel.org/show_bug.cgi?id=6695  Signed-off-by: Hannes Reinecke <hare@suse.de> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Acked-by: "Yang, Bo" <Bo.Yang@lsi.com> Signed-off-by: James Bottomley <James.Bottomley@HansenPartnership.com>
f | megaraid_mm.h | s | 2.1K | 84 | Thomas Horsten | thomas@horsten.com | 1202746853 |  | [SCSI] MegaRAID driver management char device moved to misc  The MegaRAID driver's common management module (megaraid_mm.c) creates a char device used by the management tool "megarc" from LSI Logic (and possibly other management tools).  In 2.6 with udev, this device doesn't get created because it is not registered in sysfs.  I first fixed this by registering a class "megaraid_mm", but realized that this should probably be moved to misc devices, instead of taking up a char major.  This is because only 1 device is used, even if there are multiple adapters - the minor is never used (the adapter info is in the ioctl block sent to the driver, not detected based on the minor number as one might think).  So it is a complete waste to have an entire major taken by this.  So it now uses a misc device which I named "megadev0" (the name that megarc expects), and has a dynamic minor (previoulsy a dynamic major was used).  I have tested this on my own system with the megarc tool, and it works just as fine as before (only now the device gets created correctly by udev).  Acked-by: "Patro, Sumant" <Sumant.Patro@lsi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: James Bottomley <James.Bottomley@HansenPartnership.com>
f | megaraid_sas_fusion.h | s | 22K | 624 | adam radford | aradford@gmail.com | 1318782096 |  | [SCSI] megaraid_sas: Add multiple MSI-X vector/multiple reply queue support  Signed-off-by: Adam Radford <aradford@gmail.com> Signed-off-by: James Bottomley <JBottomley@Parallels.com>
f | megaraid_mm.c | s | 26K | 980 | Uwe Kleine-König | u.kleine-koenig@pengutronix.de | 1291993468 |  | fix comment typos concerning "consistent"  Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
