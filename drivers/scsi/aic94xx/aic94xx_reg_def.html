<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › scsi › aic94xx › aic94xx_reg_def.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>aic94xx_reg_def.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Aic94xx SAS/SATA driver hardware registers definitions.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2004 Adaptec, Inc.  All rights reserved.</span>
<span class="cm"> * Copyright (C) 2004 David Chaw &lt;david_chaw@adaptec.com&gt;</span>
<span class="cm"> * Copyright (C) 2005 Luben Tuikov &lt;luben_tuikov@adaptec.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Luben Tuikov: Some register value updates to make it work with the window</span>
<span class="cm"> * agnostic register r/w functions.  Some register corrections, sizes,</span>
<span class="cm"> * etc.</span>
<span class="cm"> *</span>
<span class="cm"> * This file is licensed under GPLv2.</span>
<span class="cm"> *</span>
<span class="cm"> * This file is part of the aic94xx driver.</span>
<span class="cm"> *</span>
<span class="cm"> * The aic94xx driver is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Public License as</span>
<span class="cm"> * published by the Free Software Foundation; version 2 of the</span>
<span class="cm"> * License.</span>
<span class="cm"> *</span>
<span class="cm"> * The aic94xx driver is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<span class="cm"> * General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with the aic94xx driver; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span>
<span class="cm"> *</span>
<span class="cm"> * $Id: //depot/aic94xx/aic94xx_reg_def.h#27 $</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _ADP94XX_REG_DEF_H_</span>
<span class="cp">#define _ADP94XX_REG_DEF_H_</span>

<span class="cm">/*</span>
<span class="cm"> * Common definitions.</span>
<span class="cm"> */</span>
<span class="cp">#define CSEQ_MODE_PAGE_SIZE	0x200		</span><span class="cm">/* CSEQ mode page size */</span><span class="cp"></span>
<span class="cp">#define LmSEQ_MODE_PAGE_SIZE	0x200		</span><span class="cm">/* LmSEQ mode page size */</span><span class="cp"></span>
<span class="cp">#define LmSEQ_HOST_REG_SIZE   	0x4000		</span><span class="cm">/* LmSEQ Host Register size */</span><span class="cp"></span>

<span class="cm">/********************* COM_SAS registers definition *************************/</span>

<span class="cm">/* The base is REG_BASE_ADDR, defined in aic94xx_reg.h.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * CHIM Registers, Address Range : (0x00-0xFF)</span>
<span class="cm"> */</span>
<span class="cp">#define COMBIST		(REG_BASE_ADDR + 0x00)</span>

<span class="cm">/* bits 31:24 */</span>
<span class="cp">#define		L7BLKRST		0x80000000</span>
<span class="cp">#define		L6BLKRST		0x40000000</span>
<span class="cp">#define		L5BLKRST		0x20000000</span>
<span class="cp">#define		L4BLKRST		0x10000000</span>
<span class="cp">#define		L3BLKRST		0x08000000</span>
<span class="cp">#define		L2BLKRST		0x04000000</span>
<span class="cp">#define		L1BLKRST		0x02000000</span>
<span class="cp">#define		L0BLKRST		0x01000000</span>
<span class="cp">#define		LmBLKRST		0xFF000000</span>
<span class="cp">#define LmBLKRST_COMBIST(phyid)		(1 &lt;&lt; (24 + phyid))</span>

<span class="cp">#define		OCMBLKRST		0x00400000</span>
<span class="cp">#define		CTXMEMBLKRST		0x00200000</span>
<span class="cp">#define		CSEQBLKRST		0x00100000</span>
<span class="cp">#define		EXSIBLKRST		0x00040000</span>
<span class="cp">#define		DPIBLKRST		0x00020000</span>
<span class="cp">#define		DFIFBLKRST		0x00010000</span>
<span class="cp">#define		HARDRST			0x00000200</span>
<span class="cp">#define		COMBLKRST		0x00000100</span>
<span class="cp">#define		FRCDFPERR		0x00000080</span>
<span class="cp">#define		FRCCIOPERR		0x00000020</span>
<span class="cp">#define		FRCBISTERR		0x00000010</span>
<span class="cp">#define		COMBISTEN		0x00000004</span>
<span class="cp">#define		COMBISTDONE		0x00000002	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define 	COMBISTFAIL		0x00000001	</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define COMSTAT		(REG_BASE_ADDR + 0x04)</span>

<span class="cp">#define		REQMBXREAD		0x00000040</span>
<span class="cp">#define 	RSPMBXAVAIL		0x00000020</span>
<span class="cp">#define 	CSBUFPERR		0x00000008</span>
<span class="cp">#define		OVLYERR			0x00000004</span>
<span class="cp">#define 	CSERR			0x00000002</span>
<span class="cp">#define		OVLYDMADONE		0x00000001</span>

<span class="cp">#define		COMSTAT_MASK		(REQMBXREAD | RSPMBXAVAIL | \</span>
<span class="cp">					 CSBUFPERR | OVLYERR | CSERR |\</span>
<span class="cp">					 OVLYDMADONE)</span>

<span class="cp">#define COMSTATEN	(REG_BASE_ADDR + 0x08)</span>

<span class="cp">#define		EN_REQMBXREAD		0x00000040</span>
<span class="cp">#define		EN_RSPMBXAVAIL		0x00000020</span>
<span class="cp">#define		EN_CSBUFPERR		0x00000008</span>
<span class="cp">#define		EN_OVLYERR		0x00000004</span>
<span class="cp">#define		EN_CSERR		0x00000002</span>
<span class="cp">#define		EN_OVLYDONE		0x00000001</span>

<span class="cp">#define SCBPRO		(REG_BASE_ADDR + 0x0C)</span>

<span class="cp">#define		SCBCONS_MASK		0xFFFF0000</span>
<span class="cp">#define		SCBPRO_MASK		0x0000FFFF</span>

<span class="cp">#define CHIMREQMBX	(REG_BASE_ADDR + 0x10)</span>

<span class="cp">#define CHIMRSPMBX	(REG_BASE_ADDR + 0x14)</span>

<span class="cp">#define CHIMINT		(REG_BASE_ADDR + 0x18)</span>

<span class="cp">#define		EXT_INT0		0x00000800</span>
<span class="cp">#define		EXT_INT1		0x00000400</span>
<span class="cp">#define		PORRSTDET		0x00000200</span>
<span class="cp">#define		HARDRSTDET		0x00000100</span>
<span class="cp">#define		DLAVAILQ		0x00000080	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		HOSTERR			0x00000040</span>
<span class="cp">#define		INITERR			0x00000020</span>
<span class="cp">#define		DEVINT			0x00000010</span>
<span class="cp">#define		COMINT			0x00000008</span>
<span class="cp">#define		DEVTIMER2		0x00000004</span>
<span class="cp">#define		DEVTIMER1		0x00000002</span>
<span class="cp">#define		DLAVAIL			0x00000001</span>

<span class="cp">#define		CHIMINT_MASK		(HOSTERR | INITERR | DEVINT | COMINT |\</span>
<span class="cp">					 DEVTIMER2 | DEVTIMER1 | DLAVAIL)</span>

<span class="cp">#define 	DEVEXCEPT_MASK		(HOSTERR | INITERR | DEVINT | COMINT)</span>

<span class="cp">#define CHIMINTEN	(REG_BASE_ADDR + 0x1C)</span>

<span class="cp">#define		RST_EN_EXT_INT1		0x01000000</span>
<span class="cp">#define		RST_EN_EXT_INT0		0x00800000</span>
<span class="cp">#define		RST_EN_HOSTERR		0x00400000</span>
<span class="cp">#define		RST_EN_INITERR		0x00200000</span>
<span class="cp">#define		RST_EN_DEVINT		0x00100000</span>
<span class="cp">#define		RST_EN_COMINT		0x00080000</span>
<span class="cp">#define		RST_EN_DEVTIMER2	0x00040000</span>
<span class="cp">#define		RST_EN_DEVTIMER1	0x00020000</span>
<span class="cp">#define		RST_EN_DLAVAIL		0x00010000</span>
<span class="cp">#define		SET_EN_EXT_INT1		0x00000100</span>
<span class="cp">#define		SET_EN_EXT_INT0		0x00000080</span>
<span class="cp">#define		SET_EN_HOSTERR		0x00000040</span>
<span class="cp">#define		SET_EN_INITERR		0x00000020</span>
<span class="cp">#define		SET_EN_DEVINT		0x00000010</span>
<span class="cp">#define		SET_EN_COMINT		0x00000008</span>
<span class="cp">#define		SET_EN_DEVTIMER2	0x00000004</span>
<span class="cp">#define		SET_EN_DEVTIMER1	0x00000002</span>
<span class="cp">#define		SET_EN_DLAVAIL		0x00000001</span>

<span class="cp">#define		RST_CHIMINTEN		(RST_EN_HOSTERR | RST_EN_INITERR | \</span>
<span class="cp">					 RST_EN_DEVINT | RST_EN_COMINT | \</span>
<span class="cp">					 RST_EN_DEVTIMER2 | RST_EN_DEVTIMER1 |\</span>
<span class="cp">					 RST_EN_DLAVAIL)</span>

<span class="cp">#define		SET_CHIMINTEN		(SET_EN_HOSTERR | SET_EN_INITERR |\</span>
<span class="cp">					 SET_EN_DEVINT | SET_EN_COMINT |\</span>
<span class="cp">					 SET_EN_DLAVAIL)</span>

<span class="cp">#define OVLYDMACTL	(REG_BASE_ADDR + 0x20)</span>

<span class="cp">#define		OVLYADR_MASK		0x07FF0000</span>
<span class="cp">#define		OVLYLSEQ_MASK		0x0000FF00</span>
<span class="cp">#define		OVLYCSEQ		0x00000080</span>
<span class="cp">#define		OVLYHALTERR		0x00000040</span>
<span class="cp">#define		PIOCMODE		0x00000020</span>
<span class="cp">#define		RESETOVLYDMA		0x00000008	</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define		STARTOVLYDMA		0x00000004</span>
<span class="cp">#define		STOPOVLYDMA		0x00000002	</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define		OVLYDMAACT		0x00000001	</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define OVLYDMACNT	(REG_BASE_ADDR + 0x24)</span>

<span class="cp">#define		OVLYDOMAIN1		0x20000000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		OVLYDOMAIN0		0x10000000</span>
<span class="cp">#define		OVLYBUFADR_MASK		0x007F0000</span>
<span class="cp">#define		OVLYDMACNT_MASK		0x00003FFF</span>

<span class="cp">#define OVLYDMAADR	(REG_BASE_ADDR + 0x28)</span>

<span class="cp">#define DMAERR		(REG_BASE_ADDR + 0x30)</span>

<span class="cp">#define		OVLYERRSTAT_MASK	0x0000FF00	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		CSERRSTAT_MASK		0x000000FF	</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define SPIODATA	(REG_BASE_ADDR + 0x34)</span>

<span class="cm">/* 0x38 - 0x3C are reserved  */</span>

<span class="cp">#define T1CNTRLR	(REG_BASE_ADDR + 0x40)</span>

<span class="cp">#define		T1DONE			0x00010000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		TIMER64			0x00000400</span>
<span class="cp">#define		T1ENABLE		0x00000200</span>
<span class="cp">#define		T1RELOAD		0x00000100</span>
<span class="cp">#define		T1PRESCALER_MASK	0x00000003</span>

<span class="cp">#define	T1CMPR		(REG_BASE_ADDR + 0x44)</span>

<span class="cp">#define T1CNTR		(REG_BASE_ADDR + 0x48)</span>

<span class="cp">#define T2CNTRLR	(REG_BASE_ADDR + 0x4C)</span>

<span class="cp">#define		T2DONE			0x00010000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		T2ENABLE		0x00000200</span>
<span class="cp">#define		T2RELOAD		0x00000100</span>
<span class="cp">#define		T2PRESCALER_MASK	0x00000003</span>

<span class="cp">#define	T2CMPR		(REG_BASE_ADDR + 0x50)</span>

<span class="cp">#define T2CNTR		(REG_BASE_ADDR + 0x54)</span>

<span class="cm">/* 0x58h - 0xFCh are reserved */</span>

<span class="cm">/*</span>
<span class="cm"> * DCH_SAS Registers, Address Range : (0x800-0xFFF)</span>
<span class="cm"> */</span>
<span class="cp">#define CMDCTXBASE	(REG_BASE_ADDR + 0x800)</span>

<span class="cp">#define DEVCTXBASE	(REG_BASE_ADDR + 0x808)</span>

<span class="cp">#define CTXDOMAIN	(REG_BASE_ADDR + 0x810)</span>

<span class="cp">#define		DEVCTXDOMAIN1		0x00000008	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		DEVCTXDOMAIN0		0x00000004</span>
<span class="cp">#define		CMDCTXDOMAIN1		0x00000002	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		CMDCTXDOMAIN0		0x00000001</span>

<span class="cp">#define DCHCTL		(REG_BASE_ADDR + 0x814)</span>

<span class="cp">#define		OCMBISTREPAIR		0x00080000</span>
<span class="cp">#define		OCMBISTEN		0x00040000</span>
<span class="cp">#define		OCMBISTDN		0x00020000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		OCMBISTFAIL		0x00010000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		DDBBISTEN		0x00004000</span>
<span class="cp">#define		DDBBISTDN		0x00002000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		DDBBISTFAIL		0x00001000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		SCBBISTEN		0x00000400</span>
<span class="cp">#define		SCBBISTDN		0x00000200	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		SCBBISTFAIL		0x00000100	</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define		MEMSEL_MASK		0x000000E0</span>
<span class="cp">#define		MEMSEL_CCM_LSEQ		0x00000000</span>
<span class="cp">#define		MEMSEL_CCM_IOP		0x00000020</span>
<span class="cp">#define		MEMSEL_CCM_SASCTL	0x00000040</span>
<span class="cp">#define		MEMSEL_DCM_LSEQ		0x00000060</span>
<span class="cp">#define		MEMSEL_DCM_IOP		0x00000080</span>
<span class="cp">#define		MEMSEL_OCM		0x000000A0</span>

<span class="cp">#define		FRCERR			0x00000010</span>
<span class="cp">#define		AUTORLS			0x00000001</span>

<span class="cp">#define DCHREVISION	(REG_BASE_ADDR + 0x818)</span>

<span class="cp">#define		DCHREVISION_MASK	0x000000FF</span>

<span class="cp">#define DCHSTATUS	(REG_BASE_ADDR + 0x81C)</span>

<span class="cp">#define		EN_CFIFTOERR		0x00020000</span>
<span class="cp">#define		CFIFTOERR		0x00000200</span>
<span class="cp">#define		CSEQINT			0x00000100	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ7INT		0x00000080	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ6INT		0x00000040	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ5INT		0x00000020	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ4INT		0x00000010	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ3INT		0x00000008	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ2INT		0x00000004	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ1INT		0x00000002	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LSEQ0INT		0x00000001	</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define		LSEQINT_MASK		(LSEQ7INT | LSEQ6INT | LSEQ5INT |\</span>
<span class="cp">					 LSEQ4INT | LSEQ3INT | LSEQ2INT	|\</span>
<span class="cp">					 LSEQ1INT | LSEQ0INT)</span>

<span class="cp">#define DCHDFIFDEBUG	(REG_BASE_ADDR + 0x820)</span>
<span class="cp">#define		ENFAIRMST		0x00FF0000</span>
<span class="cp">#define		DISWRMST9		0x00000200</span>
<span class="cp">#define		DISWRMST8		0x00000100</span>
<span class="cp">#define		DISRDMST		0x000000FF</span>

<span class="cp">#define ATOMICSTATCTL	(REG_BASE_ADDR + 0x824)</span>
<span class="cm">/* 8 bit wide */</span>
<span class="cp">#define		AUTOINC			0x80</span>
<span class="cp">#define		ATOMICERR		0x04</span>
<span class="cp">#define		ATOMICWIN		0x02</span>
<span class="cp">#define		ATOMICDONE		0x01</span>


<span class="cp">#define ALTCIOADR	(REG_BASE_ADDR + 0x828)</span>
<span class="cm">/* 16 bit; bits 8:0 define CIO addr space of CSEQ */</span>

<span class="cp">#define ASCBPTR		(REG_BASE_ADDR + 0x82C)</span>
<span class="cm">/* 16 bit wide */</span>

<span class="cp">#define ADDBPTR		(REG_BASE_ADDR + 0x82E)</span>
<span class="cm">/* 16 bit wide */</span>

<span class="cp">#define ANEWDATA	(REG_BASE_ADDR + 0x830)</span>
<span class="cm">/* 16 bit */</span>

<span class="cp">#define AOLDDATA	(REG_BASE_ADDR + 0x834)</span>
<span class="cm">/* 16 bit */</span>

<span class="cp">#define CTXACCESS	(REG_BASE_ADDR + 0x838)</span>
<span class="cm">/* 32 bit */</span>

<span class="cm">/* 0x83Ch - 0xFFCh are reserved */</span>

<span class="cm">/*</span>
<span class="cm"> * ARP2 External Processor Registers, Address Range : (0x00-0x1F)</span>
<span class="cm"> */</span>
<span class="cp">#define ARP2CTL		0x00</span>

<span class="cp">#define		FRCSCRPERR		0x00040000</span>
<span class="cp">#define		FRCARP2PERR		0x00020000</span>
<span class="cp">#define		FRCARP2ILLOPC		0x00010000</span>
<span class="cp">#define		ENWAITTO		0x00008000</span>
<span class="cp">#define		PERRORDIS		0x00004000</span>
<span class="cp">#define		FAILDIS			0x00002000</span>
<span class="cp">#define		CIOPERRDIS		0x00001000</span>
<span class="cp">#define		BREAKEN3		0x00000800</span>
<span class="cp">#define		BREAKEN2		0x00000400</span>
<span class="cp">#define		BREAKEN1		0x00000200</span>
<span class="cp">#define		BREAKEN0		0x00000100</span>
<span class="cp">#define		EPAUSE			0x00000008</span>
<span class="cp">#define		PAUSED			0x00000004	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		STEP			0x00000002</span>
<span class="cp">#define		ARP2RESET		0x00000001	</span><span class="cm">/* wo */</span><span class="cp"></span>

<span class="cp">#define ARP2INT		0x04</span>

<span class="cp">#define		HALTCODE_MASK		0x00FF0000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		ARP2WAITTO		0x00000100</span>
<span class="cp">#define		ARP2HALTC		0x00000080</span>
<span class="cp">#define		ARP2ILLOPC		0x00000040</span>
<span class="cp">#define		ARP2PERR		0x00000020</span>
<span class="cp">#define		ARP2CIOPERR		0x00000010</span>
<span class="cp">#define		ARP2BREAK3		0x00000008</span>
<span class="cp">#define		ARP2BREAK2		0x00000004</span>
<span class="cp">#define		ARP2BREAK1		0x00000002</span>
<span class="cp">#define		ARP2BREAK0		0x00000001</span>

<span class="cp">#define ARP2INTEN	0x08</span>

<span class="cp">#define		EN_ARP2WAITTO		0x00000100</span>
<span class="cp">#define		EN_ARP2HALTC		0x00000080</span>
<span class="cp">#define		EN_ARP2ILLOPC		0x00000040</span>
<span class="cp">#define		EN_ARP2PERR		0x00000020</span>
<span class="cp">#define		EN_ARP2CIOPERR		0x00000010</span>
<span class="cp">#define		EN_ARP2BREAK3		0x00000008</span>
<span class="cp">#define		EN_ARP2BREAK2		0x00000004</span>
<span class="cp">#define		EN_ARP2BREAK1		0x00000002</span>
<span class="cp">#define		EN_ARP2BREAK0		0x00000001</span>

<span class="cp">#define ARP2BREAKADR01	0x0C</span>

<span class="cp">#define		BREAKADR1_MASK		0x0FFF0000</span>
<span class="cp">#define		BREAKADR0_MASK		0x00000FFF</span>

<span class="cp">#define	ARP2BREAKADR23	0x10</span>

<span class="cp">#define		BREAKADR3_MASK		0x0FFF0000</span>
<span class="cp">#define		BREAKADR2_MASK		0x00000FFF</span>

<span class="cm">/* 0x14h - 0x1Ch are reserved */</span>

<span class="cm">/*</span>
<span class="cm"> * ARP2 Registers, Address Range : (0x00-0x1F)</span>
<span class="cm"> * The definitions have the same address offset for CSEQ and LmSEQ</span>
<span class="cm"> * CIO Bus Registers.</span>
<span class="cm"> */</span>
<span class="cp">#define MODEPTR		0x00</span>

<span class="cp">#define		DSTMODE			0xF0</span>
<span class="cp">#define		SRCMODE			0x0F</span>

<span class="cp">#define ALTMODE		0x01</span>

<span class="cp">#define		ALTDMODE		0xF0</span>
<span class="cp">#define		ALTSMODE		0x0F</span>

<span class="cp">#define ATOMICXCHG	0x02</span>

<span class="cp">#define FLAG		0x04</span>

<span class="cp">#define		INTCODE_MASK		0xF0</span>
<span class="cp">#define		ALTMODEV2		0x04</span>
<span class="cp">#define		CARRY_INT		0x02</span>
<span class="cp">#define		CARRY			0x01</span>

<span class="cp">#define ARP2INTCTL	0x05</span>

<span class="cp">#define 	PAUSEDIS		0x80</span>
<span class="cp">#define		RSTINTCTL		0x40</span>
<span class="cp">#define		POPALTMODE		0x08</span>
<span class="cp">#define		ALTMODEV		0x04</span>
<span class="cp">#define		INTMASK			0x02</span>
<span class="cp">#define		IRET			0x01</span>

<span class="cp">#define STACK		0x06</span>

<span class="cp">#define FUNCTION1	0x07</span>

<span class="cp">#define PRGMCNT		0x08</span>

<span class="cp">#define ACCUM		0x0A</span>

<span class="cp">#define SINDEX		0x0C</span>

<span class="cp">#define DINDEX		0x0E</span>

<span class="cp">#define ALLONES		0x10</span>

<span class="cp">#define ALLZEROS	0x11</span>

<span class="cp">#define SINDIR		0x12</span>

<span class="cp">#define DINDIR		0x13</span>

<span class="cp">#define JUMLDIR		0x14</span>

<span class="cp">#define ARP2HALTCODE	0x15</span>

<span class="cp">#define CURRADDR	0x16</span>

<span class="cp">#define LASTADDR	0x18</span>

<span class="cp">#define NXTLADDR	0x1A</span>

<span class="cp">#define DBGPORTPTR	0x1C</span>

<span class="cp">#define DBGPORT		0x1D</span>

<span class="cm">/*</span>
<span class="cm"> * CIO Registers.</span>
<span class="cm"> * The definitions have the same address offset for CSEQ and LmSEQ</span>
<span class="cm"> * CIO Bus Registers.</span>
<span class="cm"> */</span>
<span class="cp">#define MnSCBPTR      	0x20</span>

<span class="cp">#define MnDDBPTR      	0x22</span>

<span class="cp">#define SCRATCHPAGE	0x24</span>

<span class="cp">#define MnSCRATCHPAGE	0x25</span>

<span class="cp">#define SCRATCHPAGESV	0x26</span>

<span class="cp">#define MnSCRATCHPAGESV	0x27</span>

<span class="cp">#define MnDMAERRS	0x46</span>

<span class="cp">#define MnSGDMAERRS	0x47</span>

<span class="cp">#define MnSGBUF		0x53</span>

<span class="cp">#define MnSGDMASTAT	0x5b</span>

<span class="cp">#define MnDDMACTL	0x5c	</span><span class="cm">/* RAZOR.rspec.fm rev 1.5 is wrong */</span><span class="cp"></span>

<span class="cp">#define MnDDMASTAT	0x5d	</span><span class="cm">/* RAZOR.rspec.fm rev 1.5 is wrong */</span><span class="cp"></span>

<span class="cp">#define MnDDMAMODE	0x5e	</span><span class="cm">/* RAZOR.rspec.fm rev 1.5 is wrong */</span><span class="cp"></span>

<span class="cp">#define MnDMAENG	0x60</span>

<span class="cp">#define MnPIPECTL	0x61</span>

<span class="cp">#define MnSGBADR	0x65</span>

<span class="cp">#define MnSCB_SITE	0x100</span>

<span class="cp">#define MnDDB_SITE	0x180</span>

<span class="cm">/*</span>
<span class="cm"> * The common definitions below have the same address offset for both</span>
<span class="cm"> * CSEQ and LmSEQ.</span>
<span class="cm"> */</span>
<span class="cp">#define BISTCTL0	0x4C</span>

<span class="cp">#define BISTCTL1	0x50</span>

<span class="cp">#define MAPPEDSCR	0x800</span>

<span class="cm">/*</span>
<span class="cm"> * CSEQ Host Register, Address Range : (0x000-0xFFC)</span>
<span class="cm"> */</span>
<span class="cp">#define CSEQ_HOST_REG_BASE_ADR		0xB8001000</span>

<span class="cp">#define CARP2CTL			(CSEQ_HOST_REG_BASE_ADR	+ ARP2CTL)</span>

<span class="cp">#define CARP2INT			(CSEQ_HOST_REG_BASE_ADR	+ ARP2INT)</span>

<span class="cp">#define CARP2INTEN			(CSEQ_HOST_REG_BASE_ADR	+ ARP2INTEN)</span>

<span class="cp">#define CARP2BREAKADR01			(CSEQ_HOST_REG_BASE_ADR+ARP2BREAKADR01)</span>

<span class="cp">#define CARP2BREAKADR23			(CSEQ_HOST_REG_BASE_ADR+ARP2BREAKADR23)</span>

<span class="cp">#define CBISTCTL			(CSEQ_HOST_REG_BASE_ADR	+ BISTCTL1)</span>

<span class="cp">#define		CSEQRAMBISTEN		0x00000040</span>
<span class="cp">#define		CSEQRAMBISTDN		0x00000020	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		CSEQRAMBISTFAIL		0x00000010	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		CSEQSCRBISTEN		0x00000004</span>
<span class="cp">#define		CSEQSCRBISTDN		0x00000002	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		CSEQSCRBISTFAIL		0x00000001	</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define CMAPPEDSCR			(CSEQ_HOST_REG_BASE_ADR	+ MAPPEDSCR)</span>

<span class="cm">/*</span>
<span class="cm"> * CSEQ CIO Bus Registers, Address Range : (0x0000-0x1FFC)</span>
<span class="cm"> * 16 modes, each mode is 512 bytes.</span>
<span class="cm"> * Unless specified, the register should valid for all modes.</span>
<span class="cm"> */</span>
<span class="cp">#define CSEQ_CIO_REG_BASE_ADR		REG_BASE_ADDR_CSEQCIO</span>

<span class="cp">#define CSEQm_CIO_REG(Mode, Reg) \</span>
<span class="cp">		(CSEQ_CIO_REG_BASE_ADR  + \</span>
<span class="cp">		((u32) (Mode) * CSEQ_MODE_PAGE_SIZE) + (u32) (Reg))</span>

<span class="cp">#define CMODEPTR	(CSEQ_CIO_REG_BASE_ADR + MODEPTR)</span>

<span class="cp">#define CALTMODE	(CSEQ_CIO_REG_BASE_ADR + ALTMODE)</span>

<span class="cp">#define CATOMICXCHG	(CSEQ_CIO_REG_BASE_ADR + ATOMICXCHG)</span>

<span class="cp">#define CFLAG		(CSEQ_CIO_REG_BASE_ADR + FLAG)</span>

<span class="cp">#define CARP2INTCTL	(CSEQ_CIO_REG_BASE_ADR + ARP2INTCTL)</span>

<span class="cp">#define CSTACK		(CSEQ_CIO_REG_BASE_ADR + STACK)</span>

<span class="cp">#define CFUNCTION1	(CSEQ_CIO_REG_BASE_ADR + FUNCTION1)</span>

<span class="cp">#define CPRGMCNT	(CSEQ_CIO_REG_BASE_ADR + PRGMCNT)</span>

<span class="cp">#define CACCUM		(CSEQ_CIO_REG_BASE_ADR + ACCUM)</span>

<span class="cp">#define CSINDEX		(CSEQ_CIO_REG_BASE_ADR + SINDEX)</span>

<span class="cp">#define CDINDEX		(CSEQ_CIO_REG_BASE_ADR + DINDEX)</span>

<span class="cp">#define CALLONES	(CSEQ_CIO_REG_BASE_ADR + ALLONES)</span>

<span class="cp">#define CALLZEROS	(CSEQ_CIO_REG_BASE_ADR + ALLZEROS)</span>

<span class="cp">#define CSINDIR		(CSEQ_CIO_REG_BASE_ADR + SINDIR)</span>

<span class="cp">#define CDINDIR		(CSEQ_CIO_REG_BASE_ADR + DINDIR)</span>

<span class="cp">#define CJUMLDIR	(CSEQ_CIO_REG_BASE_ADR + JUMLDIR)</span>

<span class="cp">#define CARP2HALTCODE	(CSEQ_CIO_REG_BASE_ADR + ARP2HALTCODE)</span>

<span class="cp">#define CCURRADDR	(CSEQ_CIO_REG_BASE_ADR + CURRADDR)</span>

<span class="cp">#define CLASTADDR	(CSEQ_CIO_REG_BASE_ADR + LASTADDR)</span>

<span class="cp">#define CNXTLADDR	(CSEQ_CIO_REG_BASE_ADR + NXTLADDR)</span>

<span class="cp">#define CDBGPORTPTR	(CSEQ_CIO_REG_BASE_ADR + DBGPORTPTR)</span>

<span class="cp">#define CDBGPORT	(CSEQ_CIO_REG_BASE_ADR + DBGPORT)</span>

<span class="cp">#define CSCRATCHPAGE	(CSEQ_CIO_REG_BASE_ADR + SCRATCHPAGE)</span>

<span class="cp">#define CMnSCBPTR(Mode)       CSEQm_CIO_REG(Mode, MnSCBPTR)</span>

<span class="cp">#define CMnDDBPTR(Mode)       CSEQm_CIO_REG(Mode, MnDDBPTR)</span>

<span class="cp">#define CMnSCRATCHPAGE(Mode)		CSEQm_CIO_REG(Mode, MnSCRATCHPAGE)</span>

<span class="cp">#define CLINKCON	(CSEQ_CIO_REG_BASE_ADR + 0x28)</span>

<span class="cp">#define	CCIOAACESS	(CSEQ_CIO_REG_BASE_ADR + 0x2C)</span>

<span class="cm">/* mode 0-7 */</span>
<span class="cp">#define MnREQMBX 0x30</span>
<span class="cp">#define CMnREQMBX(Mode)			CSEQm_CIO_REG(Mode, 0x30)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQCON				CSEQm_CIO_REG(8, 0x30)</span>

<span class="cm">/* mode 0-7 */</span>
<span class="cp">#define MnRSPMBX 0x34</span>
<span class="cp">#define CMnRSPMBX(Mode)			CSEQm_CIO_REG(Mode, 0x34)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQCOMCTL			CSEQm_CIO_REG(8, 0x34)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQCOMSTAT			CSEQm_CIO_REG(8, 0x35)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQCOMINTEN			CSEQm_CIO_REG(8, 0x36)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQCOMDMACTL			CSEQm_CIO_REG(8, 0x37)</span>

<span class="cp">#define		CSHALTERR		0x10</span>
<span class="cp">#define		RESETCSDMA		0x08		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define		STARTCSDMA		0x04</span>
<span class="cp">#define		STOPCSDMA		0x02		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define		CSDMAACT		0x01		</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cm">/* mode 0-7 */</span>
<span class="cp">#define MnINT 0x38</span>
<span class="cp">#define CMnINT(Mode)			CSEQm_CIO_REG(Mode, 0x38)</span>

<span class="cp">#define		CMnREQMBXE		0x02</span>
<span class="cp">#define		CMnRSPMBXF		0x01</span>
<span class="cp">#define		CMnINT_MASK		0x00000003</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQREQMBX			CSEQm_CIO_REG(8, 0x38)</span>

<span class="cm">/* mode 0-7 */</span>
<span class="cp">#define MnINTEN 0x3C</span>
<span class="cp">#define CMnINTEN(Mode)			CSEQm_CIO_REG(Mode, 0x3C)</span>

<span class="cp">#define		EN_CMnRSPMBXF		0x01</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQRSPMBX			CSEQm_CIO_REG(8, 0x3C)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSDMAADR			CSEQm_CIO_REG(8, 0x40)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSDMACNT			CSEQm_CIO_REG(8, 0x48)</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQDLCTL			CSEQm_CIO_REG(8, 0x4D)</span>

<span class="cp">#define		DONELISTEND		0x10</span>
<span class="cp">#define 	DONELISTSIZE_MASK	0x0F</span>
<span class="cp">#define		DONELISTSIZE_8ELEM	0x01</span>
<span class="cp">#define		DONELISTSIZE_16ELEM	0x02</span>
<span class="cp">#define		DONELISTSIZE_32ELEM	0x03</span>
<span class="cp">#define		DONELISTSIZE_64ELEM	0x04</span>
<span class="cp">#define		DONELISTSIZE_128ELEM	0x05</span>
<span class="cp">#define		DONELISTSIZE_256ELEM	0x06</span>
<span class="cp">#define		DONELISTSIZE_512ELEM	0x07</span>
<span class="cp">#define		DONELISTSIZE_1024ELEM	0x08</span>
<span class="cp">#define		DONELISTSIZE_2048ELEM	0x09</span>
<span class="cp">#define		DONELISTSIZE_4096ELEM	0x0A</span>
<span class="cp">#define		DONELISTSIZE_8192ELEM	0x0B</span>
<span class="cp">#define		DONELISTSIZE_16384ELEM	0x0C</span>

<span class="cm">/* mode 8 */</span>
<span class="cp">#define CSEQDLOFFS			CSEQm_CIO_REG(8, 0x4E)</span>

<span class="cm">/* mode 11 */</span>
<span class="cp">#define CM11INTVEC0			CSEQm_CIO_REG(11, 0x50)</span>

<span class="cm">/* mode 11 */</span>
<span class="cp">#define CM11INTVEC1			CSEQm_CIO_REG(11, 0x52)</span>

<span class="cm">/* mode 11 */</span>
<span class="cp">#define CM11INTVEC2			CSEQm_CIO_REG(11, 0x54)</span>

<span class="cp">#define	CCONMSK	  			(CSEQ_CIO_REG_BASE_ADR + 0x60)</span>

<span class="cp">#define	CCONEXIST			(CSEQ_CIO_REG_BASE_ADR + 0x61)</span>

<span class="cp">#define	CCONMODE			(CSEQ_CIO_REG_BASE_ADR + 0x62)</span>

<span class="cp">#define CTIMERCALC			(CSEQ_CIO_REG_BASE_ADR + 0x64)</span>

<span class="cp">#define CINTDIS				(CSEQ_CIO_REG_BASE_ADR + 0x68)</span>

<span class="cm">/* mode 8, 32x32 bits, 128 bytes of mapped buffer */</span>
<span class="cp">#define CSBUFFER			CSEQm_CIO_REG(8, 0x80)</span>

<span class="cp">#define	CSCRATCH			(CSEQ_CIO_REG_BASE_ADR + 0x1C0)</span>

<span class="cm">/* mode 0-8 */</span>
<span class="cp">#define CMnSCRATCH(Mode)		CSEQm_CIO_REG(Mode, 0x1E0)</span>

<span class="cm">/*</span>
<span class="cm"> * CSEQ Mapped Instruction RAM Page, Address Range : (0x0000-0x1FFC)</span>
<span class="cm"> */</span>
<span class="cp">#define CSEQ_RAM_REG_BASE_ADR		0xB8004000</span>

<span class="cm">/*</span>
<span class="cm"> * The common definitions below have the same address offset for all the Link</span>
<span class="cm"> * sequencers.</span>
<span class="cm"> */</span>
<span class="cp">#define MODECTL		0x40</span>

<span class="cp">#define DBGMODE		0x44</span>

<span class="cp">#define CONTROL		0x48</span>
<span class="cp">#define LEDTIMER		0x00010000</span>
<span class="cp">#define LEDTIMERS_10us		0x00000000</span>
<span class="cp">#define LEDTIMERS_1ms		0x00000800</span>
<span class="cp">#define LEDTIMERS_100ms		0x00001000</span>
<span class="cp">#define LEDMODE_TXRX		0x00000000</span>
<span class="cp">#define LEDMODE_CONNECTED	0x00000200</span>
<span class="cp">#define LEDPOL			0x00000100</span>

<span class="cp">#define LSEQRAM		0x1000</span>

<span class="cm">/*</span>
<span class="cm"> * LmSEQ Host Registers, Address Range : (0x0000-0x3FFC)</span>
<span class="cm"> */</span>
<span class="cp">#define LSEQ0_HOST_REG_BASE_ADR		0xB8020000</span>
<span class="cp">#define LSEQ1_HOST_REG_BASE_ADR		0xB8024000</span>
<span class="cp">#define LSEQ2_HOST_REG_BASE_ADR		0xB8028000</span>
<span class="cp">#define LSEQ3_HOST_REG_BASE_ADR		0xB802C000</span>
<span class="cp">#define LSEQ4_HOST_REG_BASE_ADR		0xB8030000</span>
<span class="cp">#define LSEQ5_HOST_REG_BASE_ADR		0xB8034000</span>
<span class="cp">#define LSEQ6_HOST_REG_BASE_ADR		0xB8038000</span>
<span class="cp">#define LSEQ7_HOST_REG_BASE_ADR		0xB803C000</span>

<span class="cp">#define LmARP2CTL(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					ARP2CTL)</span>

<span class="cp">#define LmARP2INT(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					ARP2INT)</span>

<span class="cp">#define LmARP2INTEN(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					ARP2INTEN)</span>

<span class="cp">#define LmDBGMODE(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					DBGMODE)</span>

<span class="cp">#define LmCONTROL(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					CONTROL)</span>

<span class="cp">#define LmARP2BREAKADR01(LinkNum)	(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					ARP2BREAKADR01)</span>

<span class="cp">#define LmARP2BREAKADR23(LinkNum)	(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					ARP2BREAKADR23)</span>

<span class="cp">#define LmMODECTL(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					MODECTL)</span>

<span class="cp">#define		LmAUTODISCI		0x08000000</span>
<span class="cp">#define		LmDSBLBITLT		0x04000000</span>
<span class="cp">#define		LmDSBLANTT		0x02000000</span>
<span class="cp">#define		LmDSBLCRTT		0x01000000</span>
<span class="cp">#define		LmDSBLCONT		0x00000100</span>
<span class="cp">#define		LmPRIMODE		0x00000080</span>
<span class="cp">#define		LmDSBLHOLD		0x00000040</span>
<span class="cp">#define		LmDISACK		0x00000020</span>
<span class="cp">#define		LmBLIND48		0x00000010</span>
<span class="cp">#define		LmRCVMODE_MASK		0x0000000C</span>
<span class="cp">#define		LmRCVMODE_PLD		0x00000000</span>
<span class="cp">#define		LmRCVMODE_HPC		0x00000004</span>

<span class="cp">#define LmDBGMODE(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					DBGMODE)</span>

<span class="cp">#define		LmFRCPERR		0x80000000</span>
<span class="cp">#define		LmMEMSEL_MASK		0x30000000</span>
<span class="cp">#define		LmFRCRBPERR		0x00000000</span>
<span class="cp">#define		LmFRCTBPERR		0x10000000</span>
<span class="cp">#define		LmFRCSGBPERR		0x20000000</span>
<span class="cp">#define		LmFRCARBPERR		0x30000000</span>
<span class="cp">#define		LmRCVIDW		0x00080000</span>
<span class="cp">#define		LmINVDWERR		0x00040000</span>
<span class="cp">#define		LmRCVDISP		0x00004000</span>
<span class="cp">#define		LmDISPERR		0x00002000</span>
<span class="cp">#define		LmDSBLDSCR		0x00000800</span>
<span class="cp">#define		LmDSBLSCR		0x00000400</span>
<span class="cp">#define		LmFRCNAK		0x00000200</span>
<span class="cp">#define		LmFRCROFS		0x00000100</span>
<span class="cp">#define		LmFRCCRC		0x00000080</span>
<span class="cp">#define		LmFRMTYPE_MASK		0x00000070</span>
<span class="cp">#define		LmSG_DATA		0x00000000</span>
<span class="cp">#define		LmSG_COMMAND		0x00000010</span>
<span class="cp">#define		LmSG_TASK		0x00000020</span>
<span class="cp">#define		LmSG_TGTXFER		0x00000030</span>
<span class="cp">#define		LmSG_RESPONSE		0x00000040</span>
<span class="cp">#define		LmSG_IDENADDR		0x00000050</span>
<span class="cp">#define		LmSG_OPENADDR		0x00000060</span>
<span class="cp">#define		LmDISCRCGEN		0x00000008</span>
<span class="cp">#define		LmDISCRCCHK		0x00000004</span>
<span class="cp">#define		LmSSXMTFRM		0x00000002</span>
<span class="cp">#define		LmSSRCVFRM		0x00000001</span>

<span class="cp">#define LmCONTROL(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					CONTROL)</span>

<span class="cp">#define		LmSTEPXMTFRM		0x00000002</span>
<span class="cp">#define		LmSTEPRCVFRM		0x00000001</span>

<span class="cp">#define LmBISTCTL0(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	  \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) + \</span>
<span class="cp">					BISTCTL0)</span>

<span class="cp">#define		ARBBISTEN		0x40000000</span>
<span class="cp">#define		ARBBISTDN		0x20000000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		ARBBISTFAIL		0x10000000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		TBBISTEN		0x00000400</span>
<span class="cp">#define		TBBISTDN		0x00000200	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		TBBISTFAIL		0x00000100	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		RBBISTEN		0x00000040</span>
<span class="cp">#define		RBBISTDN		0x00000020	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		RBBISTFAIL		0x00000010	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		SGBISTEN		0x00000004</span>
<span class="cp">#define		SGBISTDN		0x00000002	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		SGBISTFAIL		0x00000001	</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define LmBISTCTL1(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	 \</span>
<span class="cp">					((LinkNum)*LmSEQ_HOST_REG_SIZE) +\</span>
<span class="cp">					BISTCTL1)</span>

<span class="cp">#define		LmRAMPAGE1		0x00000200</span>
<span class="cp">#define		LmRAMPAGE0		0x00000100</span>
<span class="cp">#define		LmIMEMBISTEN		0x00000040</span>
<span class="cp">#define		LmIMEMBISTDN		0x00000020	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LmIMEMBISTFAIL		0x00000010	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LmSCRBISTEN		0x00000004</span>
<span class="cp">#define		LmSCRBISTDN		0x00000002	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LmSCRBISTFAIL		0x00000001	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LmRAMPAGE		(LmRAMPAGE1 + LmRAMPAGE0)</span>
<span class="cp">#define		LmRAMPAGE_LSHIFT	0x8</span>

<span class="cp">#define LmSCRATCH(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	   \</span>
<span class="cp">					((LinkNum) * LmSEQ_HOST_REG_SIZE) +\</span>
<span class="cp">					MAPPEDSCR)</span>

<span class="cp">#define LmSEQRAM(LinkNum)		(LSEQ0_HOST_REG_BASE_ADR +	   \</span>
<span class="cp">					((LinkNum) * LmSEQ_HOST_REG_SIZE) +\</span>
<span class="cp">					LSEQRAM)</span>

<span class="cm">/*</span>
<span class="cm"> * LmSEQ CIO Bus Register, Address Range : (0x0000-0xFFC)</span>
<span class="cm"> * 8 modes, each mode is 512 bytes.</span>
<span class="cm"> * Unless specified, the register should valid for all modes.</span>
<span class="cm"> */</span>
<span class="cp">#define LmSEQ_CIOBUS_REG_BASE		0x2000</span>

<span class="cp">#define  LmSEQ_PHY_BASE(Mode, LinkNum) \</span>
<span class="cp">		(LSEQ0_HOST_REG_BASE_ADR + \</span>
<span class="cp">		(LmSEQ_HOST_REG_SIZE * (u32) (LinkNum)) + \</span>
<span class="cp">		LmSEQ_CIOBUS_REG_BASE + \</span>
<span class="cp">		((u32) (Mode) * LmSEQ_MODE_PAGE_SIZE))</span>

<span class="cp">#define  LmSEQ_PHY_REG(Mode, LinkNum, Reg) \</span>
<span class="cp">                 (LmSEQ_PHY_BASE(Mode, LinkNum) + (u32) (Reg))</span>

<span class="cp">#define LmMODEPTR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, MODEPTR)</span>

<span class="cp">#define LmALTMODE(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, ALTMODE)</span>

<span class="cp">#define LmATOMICXCHG(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, ATOMICXCHG)</span>

<span class="cp">#define LmFLAG(LinkNum)			LmSEQ_PHY_REG(0, LinkNum, FLAG)</span>

<span class="cp">#define LmARP2INTCTL(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, ARP2INTCTL)</span>

<span class="cp">#define LmSTACK(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, STACK)</span>

<span class="cp">#define LmFUNCTION1(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, FUNCTION1)</span>

<span class="cp">#define LmPRGMCNT(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, PRGMCNT)</span>

<span class="cp">#define LmACCUM(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, ACCUM)</span>

<span class="cp">#define LmSINDEX(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, SINDEX)</span>

<span class="cp">#define LmDINDEX(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, DINDEX)</span>

<span class="cp">#define LmALLONES(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, ALLONES)</span>

<span class="cp">#define LmALLZEROS(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, ALLZEROS)</span>

<span class="cp">#define LmSINDIR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, SINDIR)</span>

<span class="cp">#define LmDINDIR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, DINDIR)</span>

<span class="cp">#define LmJUMLDIR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, JUMLDIR)</span>

<span class="cp">#define LmARP2HALTCODE(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, ARP2HALTCODE)</span>

<span class="cp">#define LmCURRADDR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, CURRADDR)</span>

<span class="cp">#define LmLASTADDR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, LASTADDR)</span>

<span class="cp">#define LmNXTLADDR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, NXTLADDR)</span>

<span class="cp">#define LmDBGPORTPTR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, DBGPORTPTR)</span>

<span class="cp">#define LmDBGPORT(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, DBGPORT)</span>

<span class="cp">#define LmSCRATCHPAGE(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, SCRATCHPAGE)</span>

<span class="cp">#define LmMnSCRATCHPAGE(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 	\</span>
<span class="cp">						      MnSCRATCHPAGE)</span>

<span class="cp">#define LmTIMERCALC(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x28)</span>

<span class="cp">#define LmREQMBX(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x30)</span>

<span class="cp">#define LmRSPMBX(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x34)</span>

<span class="cp">#define LmMnINT(LinkNum, Mode)		LmSEQ_PHY_REG(Mode, LinkNum, 0x38)</span>

<span class="cp">#define		CTXMEMSIZE		0x80000000	</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		LmACKREQ		0x08000000</span>
<span class="cp">#define		LmNAKREQ		0x04000000</span>
<span class="cp">#define		LmMnXMTERR		0x02000000</span>
<span class="cp">#define		LmM5OOBSVC		0x01000000</span>
<span class="cp">#define		LmHWTINT		0x00800000</span>
<span class="cp">#define		LmMnCTXDONE		0x00100000</span>
<span class="cp">#define		LmM2REQMBXF		0x00080000</span>
<span class="cp">#define		LmM2RSPMBXE		0x00040000</span>
<span class="cp">#define		LmMnDMAERR		0x00020000</span>
<span class="cp">#define		LmRCVPRIM		0x00010000</span>
<span class="cp">#define		LmRCVERR		0x00008000</span>
<span class="cp">#define		LmADDRRCV		0x00004000</span>
<span class="cp">#define		LmMnHDRMISS		0x00002000</span>
<span class="cp">#define		LmMnWAITSCB		0x00001000</span>
<span class="cp">#define		LmMnRLSSCB		0x00000800</span>
<span class="cp">#define		LmMnSAVECTX		0x00000400</span>
<span class="cp">#define		LmMnFETCHSG		0x00000200</span>
<span class="cp">#define		LmMnLOADCTX		0x00000100</span>
<span class="cp">#define		LmMnCFGICL		0x00000080</span>
<span class="cp">#define		LmMnCFGSATA		0x00000040</span>
<span class="cp">#define		LmMnCFGEXPSATA		0x00000020</span>
<span class="cp">#define		LmMnCFGCMPLT		0x00000010</span>
<span class="cp">#define		LmMnCFGRBUF		0x00000008</span>
<span class="cp">#define		LmMnSAVETTR		0x00000004</span>
<span class="cp">#define		LmMnCFGRDAT		0x00000002</span>
<span class="cp">#define		LmMnCFGHDR		0x00000001</span>

<span class="cp">#define LmMnINTEN(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x3C)</span>

<span class="cp">#define		EN_LmACKREQ		0x08000000</span>
<span class="cp">#define		EN_LmNAKREQ		0x04000000</span>
<span class="cp">#define		EN_LmMnXMTERR		0x02000000</span>
<span class="cp">#define		EN_LmM5OOBSVC		0x01000000</span>
<span class="cp">#define		EN_LmHWTINT		0x00800000</span>
<span class="cp">#define		EN_LmMnCTXDONE		0x00100000</span>
<span class="cp">#define		EN_LmM2REQMBXF		0x00080000</span>
<span class="cp">#define		EN_LmM2RSPMBXE		0x00040000</span>
<span class="cp">#define		EN_LmMnDMAERR		0x00020000</span>
<span class="cp">#define		EN_LmRCVPRIM		0x00010000</span>
<span class="cp">#define		EN_LmRCVERR		0x00008000</span>
<span class="cp">#define		EN_LmADDRRCV		0x00004000</span>
<span class="cp">#define		EN_LmMnHDRMISS		0x00002000</span>
<span class="cp">#define		EN_LmMnWAITSCB		0x00001000</span>
<span class="cp">#define		EN_LmMnRLSSCB		0x00000800</span>
<span class="cp">#define		EN_LmMnSAVECTX		0x00000400</span>
<span class="cp">#define		EN_LmMnFETCHSG		0x00000200</span>
<span class="cp">#define		EN_LmMnLOADCTX		0x00000100</span>
<span class="cp">#define		EN_LmMnCFGICL		0x00000080</span>
<span class="cp">#define		EN_LmMnCFGSATA		0x00000040</span>
<span class="cp">#define		EN_LmMnCFGEXPSATA	0x00000020</span>
<span class="cp">#define		EN_LmMnCFGCMPLT		0x00000010</span>
<span class="cp">#define		EN_LmMnCFGRBUF		0x00000008</span>
<span class="cp">#define		EN_LmMnSAVETTR		0x00000004</span>
<span class="cp">#define		EN_LmMnCFGRDAT		0x00000002</span>
<span class="cp">#define		EN_LmMnCFGHDR		0x00000001</span>

<span class="cp">#define		LmM0INTEN_MASK		(EN_LmMnCFGCMPLT | EN_LmMnCFGRBUF | \</span>
<span class="cp">					 EN_LmMnSAVETTR | EN_LmMnCFGRDAT | \</span>
<span class="cp">					 EN_LmMnCFGHDR | EN_LmRCVERR | \</span>
<span class="cp">					 EN_LmADDRRCV | EN_LmMnHDRMISS | \</span>
<span class="cp">					 EN_LmMnRLSSCB | EN_LmMnSAVECTX | \</span>
<span class="cp">					 EN_LmMnFETCHSG | EN_LmMnLOADCTX | \</span>
<span class="cp">					 EN_LmHWTINT | EN_LmMnCTXDONE | \</span>
<span class="cp">					 EN_LmRCVPRIM | EN_LmMnCFGSATA | \</span>
<span class="cp">					 EN_LmMnCFGEXPSATA | EN_LmMnDMAERR)</span>

<span class="cp">#define		LmM1INTEN_MASK		(EN_LmMnCFGCMPLT | EN_LmADDRRCV | \</span>
<span class="cp">					 EN_LmMnRLSSCB | EN_LmMnSAVECTX | \</span>
<span class="cp">					 EN_LmMnFETCHSG | EN_LmMnLOADCTX | \</span>
<span class="cp">					 EN_LmMnXMTERR | EN_LmHWTINT | \</span>
<span class="cp">					 EN_LmMnCTXDONE | EN_LmRCVPRIM | \</span>
<span class="cp">					 EN_LmRCVERR | EN_LmMnDMAERR)</span>

<span class="cp">#define		LmM2INTEN_MASK		(EN_LmADDRRCV | EN_LmHWTINT | \</span>
<span class="cp">					 EN_LmM2REQMBXF | EN_LmRCVPRIM | \</span>
<span class="cp">					 EN_LmRCVERR)</span>

<span class="cp">#define		LmM5INTEN_MASK		(EN_LmADDRRCV | EN_LmM5OOBSVC | \</span>
<span class="cp">					 EN_LmHWTINT | EN_LmRCVPRIM | \</span>
<span class="cp">					 EN_LmRCVERR)</span>

<span class="cp">#define LmXMTPRIMD(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x40)</span>

<span class="cp">#define LmXMTPRIMCS(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x44)</span>

<span class="cp">#define LmCONSTAT(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x45)</span>

<span class="cp">#define LmMnDMAERRS(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x46)</span>

<span class="cp">#define LmMnSGDMAERRS(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x47)</span>

<span class="cp">#define LmM0EXPHDRP(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x48)</span>

<span class="cp">#define LmM1SASALIGN(LinkNum)		LmSEQ_PHY_REG(1, LinkNum, 0x48)</span>
<span class="cp">#define SAS_ALIGN_DEFAULT		0xFF</span>

<span class="cp">#define LmM0MSKHDRP(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x49)</span>

<span class="cp">#define LmM1STPALIGN(LinkNum)		LmSEQ_PHY_REG(1, LinkNum, 0x49)</span>
<span class="cp">#define STP_ALIGN_DEFAULT		0x1F</span>

<span class="cp">#define LmM0RCVHDRP(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x4A)</span>

<span class="cp">#define LmM1XMTHDRP(LinkNum)		LmSEQ_PHY_REG(1, LinkNum, 0x4A)</span>

<span class="cp">#define LmM0ICLADR(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x4B)</span>

<span class="cp">#define LmM1ALIGNMODE(LinkNum)		LmSEQ_PHY_REG(1, LinkNum, 0x4B)</span>

<span class="cp">#define		LmDISALIGN		0x20</span>
<span class="cp">#define		LmROTSTPALIGN		0x10</span>
<span class="cp">#define		LmSTPALIGN		0x08</span>
<span class="cp">#define		LmROTNOTIFY		0x04</span>
<span class="cp">#define		LmDUALALIGN		0x02</span>
<span class="cp">#define		LmROTALIGN		0x01</span>

<span class="cp">#define LmM0EXPRCVNT(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x4C)</span>

<span class="cp">#define LmM1XMTCNT(LinkNum)		LmSEQ_PHY_REG(1, LinkNum, 0x4C)</span>

<span class="cp">#define LmMnBUFSTAT(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x4E)</span>

<span class="cp">#define		LmMnBUFPERR		0x01</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnXFRLVL(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x59)</span>

<span class="cp">#define		LmMnXFRLVL_128		0x05</span>
<span class="cp">#define		LmMnXFRLVL_256		0x04</span>
<span class="cp">#define		LmMnXFRLVL_512		0x03</span>
<span class="cp">#define		LmMnXFRLVL_1024		0x02</span>
<span class="cp">#define		LmMnXFRLVL_1536		0x01</span>
<span class="cp">#define		LmMnXFRLVL_2048		0x00</span>

 <span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnSGDMACTL(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x5A)</span>

<span class="cp">#define 	LmMnRESETSG		0x04</span>
<span class="cp">#define 	LmMnSTOPSG		0x02</span>
<span class="cp">#define 	LmMnSTARTSG		0x01</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnSGDMASTAT(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x5B)</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnDDMACTL(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x5C)</span>

<span class="cp">#define 	LmMnFLUSH		0x40		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define 	LmMnRLSRTRY		0x20		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define 	LmMnDISCARD		0x10		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define 	LmMnRESETDAT		0x08		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define 	LmMnSUSDAT		0x04		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define 	LmMnSTOPDAT		0x02		</span><span class="cm">/* wo */</span><span class="cp"></span>
<span class="cp">#define 	LmMnSTARTDAT		0x01		</span><span class="cm">/* wo */</span><span class="cp"></span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnDDMASTAT(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x5D)</span>

<span class="cp">#define		LmMnDPEMPTY		0x80</span>
<span class="cp">#define		LmMnFLUSHING		0x40</span>
<span class="cp">#define		LmMnDDMAREQ		0x20</span>
<span class="cp">#define		LmMnHDMAREQ		0x10</span>
<span class="cp">#define		LmMnDATFREE		0x08</span>
<span class="cp">#define		LmMnDATSUS		0x04</span>
<span class="cp">#define		LmMnDATACT		0x02</span>
<span class="cp">#define		LmMnDATEN		0x01</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnDDMAMODE(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x5E)</span>

<span class="cp">#define 	LmMnDMATYPE_NORMAL		0x0000</span>
<span class="cp">#define 	LmMnDMATYPE_HOST_ONLY_TX	0x0001</span>
<span class="cp">#define 	LmMnDMATYPE_DEVICE_ONLY_TX	0x0002</span>
<span class="cp">#define 	LmMnDMATYPE_INVALID		0x0003</span>
<span class="cp">#define 	LmMnDMATYPE_MASK	0x0003</span>

<span class="cp">#define 	LmMnDMAWRAP		0x0004</span>
<span class="cp">#define 	LmMnBITBUCKET		0x0008</span>
<span class="cp">#define 	LmMnDISHDR		0x0010</span>
<span class="cp">#define 	LmMnSTPCRC		0x0020</span>
<span class="cp">#define 	LmXTEST			0x0040</span>
<span class="cp">#define 	LmMnDISCRC		0x0080</span>
<span class="cp">#define 	LmMnENINTLK		0x0100</span>
<span class="cp">#define 	LmMnADDRFRM		0x0400</span>
<span class="cp">#define 	LmMnENXMTCRC		0x0800</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnXFRCNT(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x70)</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnDPSEL(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x7B)</span>
<span class="cp">#define 	LmMnDPSEL_MASK		0x07</span>
<span class="cp">#define 	LmMnEOLPRE		0x40</span>
<span class="cp">#define 	LmMnEOSPRE		0x80</span>

<span class="cm">/* Registers used in conjunction with LmMnDPSEL and LmMnDPACC registers */</span>
<span class="cm">/* Receive Mode n = 0 */</span>
<span class="cp">#define LmMnHRADDR			0x00</span>
<span class="cp">#define LmMnHBYTECNT			0x01</span>
<span class="cp">#define LmMnHREWIND			0x02</span>
<span class="cp">#define LmMnDWADDR			0x03</span>
<span class="cp">#define LmMnDSPACECNT			0x04</span>
<span class="cp">#define LmMnDFRMSIZE			0x05</span>

<span class="cm">/* Registers used in conjunction with LmMnDPSEL and LmMnDPACC registers */</span>
<span class="cm">/* Transmit Mode n = 1 */</span>
<span class="cp">#define LmMnHWADDR			0x00</span>
<span class="cp">#define LmMnHSPACECNT			0x01</span>
<span class="cm">/* #define LmMnHREWIND			0x02 */</span>
<span class="cp">#define LmMnDRADDR			0x03</span>
<span class="cp">#define LmMnDBYTECNT			0x04</span>
<span class="cm">/* #define LmMnDFRMSIZE			0x05 */</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnDPACC(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x78)</span>
<span class="cp">#define 	LmMnDPACC_MASK		0x00FFFFFF</span>

<span class="cm">/* mode 0-1 */</span>
<span class="cp">#define LmMnHOLDLVL(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x7D)</span>

<span class="cp">#define LmPRMSTAT0(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x80)</span>
<span class="cp">#define LmPRMSTAT0BYTE0			0x80</span>
<span class="cp">#define LmPRMSTAT0BYTE1			0x81</span>
<span class="cp">#define LmPRMSTAT0BYTE2			0x82</span>
<span class="cp">#define LmPRMSTAT0BYTE3			0x83</span>

<span class="cp">#define		LmFRAMERCVD		0x80000000</span>
<span class="cp">#define		LmXFRRDYRCVD		0x40000000</span>
<span class="cp">#define		LmUNKNOWNP		0x20000000</span>
<span class="cp">#define		LmBREAK			0x10000000</span>
<span class="cp">#define		LmDONE			0x08000000</span>
<span class="cp">#define		LmOPENACPT		0x04000000</span>
<span class="cp">#define		LmOPENRJCT		0x02000000</span>
<span class="cp">#define		LmOPENRTRY		0x01000000</span>
<span class="cp">#define		LmCLOSERV1		0x00800000</span>
<span class="cp">#define		LmCLOSERV0		0x00400000</span>
<span class="cp">#define		LmCLOSENORM		0x00200000</span>
<span class="cp">#define		LmCLOSECLAF		0x00100000</span>
<span class="cp">#define		LmNOTIFYRV2		0x00080000</span>
<span class="cp">#define		LmNOTIFYRV1		0x00040000</span>
<span class="cp">#define		LmNOTIFYRV0		0x00020000</span>
<span class="cp">#define		LmNOTIFYSPIN		0x00010000</span>
<span class="cp">#define		LmBROADRV4		0x00008000</span>
<span class="cp">#define		LmBROADRV3		0x00004000</span>
<span class="cp">#define		LmBROADRV2		0x00002000</span>
<span class="cp">#define		LmBROADRV1		0x00001000</span>
<span class="cp">#define		LmBROADSES		0x00000800</span>
<span class="cp">#define		LmBROADRVCH1		0x00000400</span>
<span class="cp">#define		LmBROADRVCH0		0x00000200</span>
<span class="cp">#define		LmBROADCH		0x00000100</span>
<span class="cp">#define		LmAIPRVWP		0x00000080</span>
<span class="cp">#define		LmAIPWP			0x00000040</span>
<span class="cp">#define		LmAIPWD			0x00000020</span>
<span class="cp">#define		LmAIPWC			0x00000010</span>
<span class="cp">#define		LmAIPRV2		0x00000008</span>
<span class="cp">#define		LmAIPRV1		0x00000004</span>
<span class="cp">#define		LmAIPRV0		0x00000002</span>
<span class="cp">#define		LmAIPNRML		0x00000001</span>

<span class="cp">#define		LmBROADCAST_MASK	(LmBROADCH | LmBROADRVCH0 | \</span>
<span class="cp">					 LmBROADRVCH1)</span>

<span class="cp">#define LmPRMSTAT1(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0x84)</span>
<span class="cp">#define LmPRMSTAT1BYTE0			0x84</span>
<span class="cp">#define LmPRMSTAT1BYTE1			0x85</span>
<span class="cp">#define LmPRMSTAT1BYTE2			0x86</span>
<span class="cp">#define LmPRMSTAT1BYTE3			0x87</span>

<span class="cp">#define		LmFRMRCVDSTAT		0x80000000</span>
<span class="cp">#define		LmBREAK_DET		0x04000000</span>
<span class="cp">#define		LmCLOSE_DET		0x02000000</span>
<span class="cp">#define		LmDONE_DET		0x01000000</span>
<span class="cp">#define		LmXRDY			0x00040000</span>
<span class="cp">#define 	LmSYNCSRST		0x00020000</span>
<span class="cp">#define 	LmSYNC			0x00010000</span>
<span class="cp">#define 	LmXHOLD			0x00008000</span>
<span class="cp">#define 	LmRRDY			0x00004000</span>
<span class="cp">#define 	LmHOLD			0x00002000</span>
<span class="cp">#define 	LmROK			0x00001000</span>
<span class="cp">#define 	LmRIP			0x00000800</span>
<span class="cp">#define 	LmCRBLK			0x00000400</span>
<span class="cp">#define 	LmACK			0x00000200</span>
<span class="cp">#define 	LmNAK			0x00000100</span>
<span class="cp">#define 	LmHARDRST		0x00000080</span>
<span class="cp">#define 	LmERROR			0x00000040</span>
<span class="cp">#define 	LmRERR			0x00000020</span>
<span class="cp">#define 	LmPMREQP		0x00000010</span>
<span class="cp">#define 	LmPMREQS		0x00000008</span>
<span class="cp">#define 	LmPMACK			0x00000004</span>
<span class="cp">#define 	LmPMNAK			0x00000002</span>
<span class="cp">#define 	LmDMAT			0x00000001</span>

<span class="cm">/* mode 1 */</span>
<span class="cp">#define	LmMnSATAFS(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x7E)</span>
<span class="cp">#define	LmMnXMTSIZE(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0x93)</span>

<span class="cm">/* mode 0 */</span>
<span class="cp">#define LmMnFRMERR(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0xB0)</span>

<span class="cp">#define		LmACRCERR		0x00000800</span>
<span class="cp">#define		LmPHYOVRN		0x00000400</span>
<span class="cp">#define		LmOBOVRN		0x00000200</span>
<span class="cp">#define 	LmMnZERODATA		0x00000100</span>
<span class="cp">#define		LmSATAINTLK		0x00000080</span>
<span class="cp">#define		LmMnCRCERR		0x00000020</span>
<span class="cp">#define		LmRRDYOVRN		0x00000010</span>
<span class="cp">#define		LmMISSSOAF		0x00000008</span>
<span class="cp">#define		LmMISSSOF		0x00000004</span>
<span class="cp">#define		LmMISSEOAF		0x00000002</span>
<span class="cp">#define		LmMISSEOF		0x00000001</span>

<span class="cp">#define LmFRMERREN(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0xB4)</span>

<span class="cp">#define 	EN_LmACRCERR		0x00000800</span>
<span class="cp">#define 	EN_LmPHYOVRN		0x00000400</span>
<span class="cp">#define 	EN_LmOBOVRN		0x00000200</span>
<span class="cp">#define 	EN_LmMnZERODATA		0x00000100</span>
<span class="cp">#define 	EN_LmSATAINTLK		0x00000080</span>
<span class="cp">#define 	EN_LmFRMBAD		0x00000040</span>
<span class="cp">#define 	EN_LmMnCRCERR		0x00000020</span>
<span class="cp">#define 	EN_LmRRDYOVRN		0x00000010</span>
<span class="cp">#define 	EN_LmMISSSOAF		0x00000008</span>
<span class="cp">#define 	EN_LmMISSSOF		0x00000004</span>
<span class="cp">#define 	EN_LmMISSEOAF		0x00000002</span>
<span class="cp">#define 	EN_LmMISSEOF		0x00000001</span>

<span class="cp">#define 	LmFRMERREN_MASK  	(EN_LmSATAINTLK | EN_LmMnCRCERR | \</span>
<span class="cp">					 EN_LmRRDYOVRN | EN_LmMISSSOF | \</span>
<span class="cp">					 EN_LmMISSEOAF | EN_LmMISSEOF | \</span>
<span class="cp">					 EN_LmACRCERR | LmPHYOVRN | \</span>
<span class="cp">					 EN_LmOBOVRN | EN_LmMnZERODATA)</span>

<span class="cp">#define LmHWTSTATEN(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0xC5)</span>

<span class="cp">#define		EN_LmDONETO		0x80</span>
<span class="cp">#define		EN_LmINVDISP		0x40</span>
<span class="cp">#define		EN_LmINVDW		0x20</span>
<span class="cp">#define		EN_LmDWSEVENT		0x08</span>
<span class="cp">#define		EN_LmCRTTTO		0x04</span>
<span class="cp">#define		EN_LmANTTTO		0x02</span>
<span class="cp">#define		EN_LmBITLTTO		0x01</span>

<span class="cp">#define		LmHWTSTATEN_MASK	(EN_LmINVDISP | EN_LmINVDW | \</span>
<span class="cp">					 EN_LmDWSEVENT | EN_LmCRTTTO | \</span>
<span class="cp">					 EN_LmANTTTO | EN_LmDONETO | \</span>
<span class="cp">					 EN_LmBITLTTO)</span>

<span class="cp">#define LmHWTSTAT(LinkNum) 		LmSEQ_PHY_REG(0, LinkNum, 0xC7)</span>

<span class="cp">#define		LmDONETO		0x80</span>
<span class="cp">#define		LmINVDISP		0x40</span>
<span class="cp">#define		LmINVDW			0x20</span>
<span class="cp">#define		LmDWSEVENT		0x08</span>
<span class="cp">#define		LmCRTTTO		0x04</span>
<span class="cp">#define		LmANTTTO		0x02</span>
<span class="cp">#define		LmBITLTTO		0x01</span>

<span class="cp">#define LmMnDATABUFADR(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0xC8)</span>
<span class="cp">#define		LmDATABUFADR_MASK	0x0FFF</span>

<span class="cp">#define LmMnDATABUF(LinkNum, Mode)	LmSEQ_PHY_REG(Mode, LinkNum, 0xCA)</span>

<span class="cp">#define	LmPRIMSTAT0EN(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0xE0)</span>

<span class="cp">#define 	EN_LmUNKNOWNP 		0x20000000</span>
<span class="cp">#define 	EN_LmBREAK		0x10000000</span>
<span class="cp">#define 	EN_LmDONE		0x08000000</span>
<span class="cp">#define 	EN_LmOPENACPT		0x04000000</span>
<span class="cp">#define 	EN_LmOPENRJCT		0x02000000</span>
<span class="cp">#define 	EN_LmOPENRTRY		0x01000000</span>
<span class="cp">#define 	EN_LmCLOSERV1		0x00800000</span>
<span class="cp">#define 	EN_LmCLOSERV0		0x00400000</span>
<span class="cp">#define 	EN_LmCLOSENORM		0x00200000</span>
<span class="cp">#define 	EN_LmCLOSECLAF		0x00100000</span>
<span class="cp">#define 	EN_LmNOTIFYRV2		0x00080000</span>
<span class="cp">#define 	EN_LmNOTIFYRV1		0x00040000</span>
<span class="cp">#define 	EN_LmNOTIFYRV0		0x00020000</span>
<span class="cp">#define 	EN_LmNOTIFYSPIN		0x00010000</span>
<span class="cp">#define 	EN_LmBROADRV4		0x00008000</span>
<span class="cp">#define 	EN_LmBROADRV3		0x00004000</span>
<span class="cp">#define 	EN_LmBROADRV2		0x00002000</span>
<span class="cp">#define 	EN_LmBROADRV1		0x00001000</span>
<span class="cp">#define 	EN_LmBROADRV0		0x00000800</span>
<span class="cp">#define 	EN_LmBROADRVCH1		0x00000400</span>
<span class="cp">#define 	EN_LmBROADRVCH0		0x00000200</span>
<span class="cp">#define 	EN_LmBROADCH		0x00000100</span>
<span class="cp">#define 	EN_LmAIPRVWP		0x00000080</span>
<span class="cp">#define 	EN_LmAIPWP		0x00000040</span>
<span class="cp">#define 	EN_LmAIPWD		0x00000020</span>
<span class="cp">#define 	EN_LmAIPWC		0x00000010</span>
<span class="cp">#define 	EN_LmAIPRV2		0x00000008</span>
<span class="cp">#define 	EN_LmAIPRV1		0x00000004</span>
<span class="cp">#define 	EN_LmAIPRV0		0x00000002</span>
<span class="cp">#define 	EN_LmAIPNRML		0x00000001</span>

<span class="cp">#define		LmPRIMSTAT0EN_MASK	(EN_LmBREAK | \</span>
<span class="cp">					 EN_LmDONE | EN_LmOPENACPT | \</span>
<span class="cp">					 EN_LmOPENRJCT | EN_LmOPENRTRY | \</span>
<span class="cp">					 EN_LmCLOSERV1 | EN_LmCLOSERV0 | \</span>
<span class="cp">					 EN_LmCLOSENORM | EN_LmCLOSECLAF | \</span>
<span class="cp">					 EN_LmBROADRV4 | EN_LmBROADRV3 | \</span>
<span class="cp">					 EN_LmBROADRV2 | EN_LmBROADRV1 | \</span>
<span class="cp">					 EN_LmBROADRV0 | EN_LmBROADRVCH1 | \</span>
<span class="cp">					 EN_LmBROADRVCH0 | EN_LmBROADCH | \</span>
<span class="cp">					 EN_LmAIPRVWP | EN_LmAIPWP | \</span>
<span class="cp">					 EN_LmAIPWD | EN_LmAIPWC | \</span>
<span class="cp">					 EN_LmAIPRV2 | EN_LmAIPRV1 | \</span>
<span class="cp">					 EN_LmAIPRV0 | EN_LmAIPNRML)</span>

<span class="cp">#define LmPRIMSTAT1EN(LinkNum)		LmSEQ_PHY_REG(0, LinkNum, 0xE4)</span>

<span class="cp">#define		EN_LmXRDY		0x00040000</span>
<span class="cp">#define		EN_LmSYNCSRST		0x00020000</span>
<span class="cp">#define		EN_LmSYNC		0x00010000</span>
<span class="cp">#define 	EN_LmXHOLD		0x00008000</span>
<span class="cp">#define 	EN_LmRRDY		0x00004000</span>
<span class="cp">#define 	EN_LmHOLD		0x00002000</span>
<span class="cp">#define 	EN_LmROK		0x00001000</span>
<span class="cp">#define 	EN_LmRIP		0x00000800</span>
<span class="cp">#define 	EN_LmCRBLK		0x00000400</span>
<span class="cp">#define 	EN_LmACK		0x00000200</span>
<span class="cp">#define 	EN_LmNAK		0x00000100</span>
<span class="cp">#define 	EN_LmHARDRST		0x00000080</span>
<span class="cp">#define 	EN_LmERROR		0x00000040</span>
<span class="cp">#define 	EN_LmRERR		0x00000020</span>
<span class="cp">#define 	EN_LmPMREQP		0x00000010</span>
<span class="cp">#define 	EN_LmPMREQS		0x00000008</span>
<span class="cp">#define 	EN_LmPMACK		0x00000004</span>
<span class="cp">#define 	EN_LmPMNAK		0x00000002</span>
<span class="cp">#define 	EN_LmDMAT		0x00000001</span>

<span class="cp">#define LmPRIMSTAT1EN_MASK		(EN_LmHARDRST | \</span>
<span class="cp">					 EN_LmSYNCSRST | \</span>
<span class="cp">					 EN_LmPMREQP | EN_LmPMREQS | \</span>
<span class="cp">					 EN_LmPMACK | EN_LmPMNAK)</span>

<span class="cp">#define LmSMSTATE(LinkNum) 		LmSEQ_PHY_REG(0, LinkNum, 0xE8)</span>

<span class="cp">#define LmSMSTATEBRK(LinkNum) 		LmSEQ_PHY_REG(0, LinkNum, 0xEC)</span>

<span class="cp">#define LmSMDBGCTL(LinkNum) 		LmSEQ_PHY_REG(0, LinkNum, 0xF0)</span>


<span class="cm">/*</span>
<span class="cm"> * LmSEQ CIO Bus Mode 3 Register.</span>
<span class="cm"> * Mode 3: Configuration and Setup, IOP Context SCB.</span>
<span class="cm"> */</span>
<span class="cp">#define LmM3SATATIMER(LinkNum) 		LmSEQ_PHY_REG(3, LinkNum, 0x48)</span>

<span class="cp">#define LmM3INTVEC0(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x90)</span>

<span class="cp">#define LmM3INTVEC1(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x92)</span>

<span class="cp">#define LmM3INTVEC2(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x94)</span>

<span class="cp">#define LmM3INTVEC3(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x96)</span>

<span class="cp">#define LmM3INTVEC4(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x98)</span>

<span class="cp">#define LmM3INTVEC5(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x9A)</span>

<span class="cp">#define LmM3INTVEC6(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x9C)</span>

<span class="cp">#define LmM3INTVEC7(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0x9E)</span>

<span class="cp">#define LmM3INTVEC8(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0xA4)</span>

<span class="cp">#define LmM3INTVEC9(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0xA6)</span>

<span class="cp">#define LmM3INTVEC10(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0xB0)</span>

<span class="cp">#define LmM3FRMGAP(LinkNum)		LmSEQ_PHY_REG(3, LinkNum, 0xB4)</span>

<span class="cp">#define LmBITL_TIMER(LinkNum) 		LmSEQ_PHY_REG(0, LinkNum, 0xA2)</span>

<span class="cp">#define LmWWN(LinkNum) 			LmSEQ_PHY_REG(0, LinkNum, 0xA8)</span>


<span class="cm">/*</span>
<span class="cm"> * LmSEQ CIO Bus Mode 5 Registers.</span>
<span class="cm"> * Mode 5: Phy/OOB Control and Status.</span>
<span class="cm"> */</span>
<span class="cp">#define LmSEQ_OOB_REG(phy_id, reg)	LmSEQ_PHY_REG(5, (phy_id), (reg))</span>

<span class="cp">#define OOB_BFLTR	0x100</span>

<span class="cp">#define		BFLTR_THR_MASK		0xF0</span>
<span class="cp">#define		BFLTR_TC_MASK		0x0F</span>

<span class="cp">#define OOB_INIT_MIN	0x102</span>

<span class="cp">#define OOB_INIT_MAX	0x104</span>

<span class="cp">#define OOB_INIT_NEG	0x106</span>

<span class="cp">#define	OOB_SAS_MIN	0x108</span>

<span class="cp">#define OOB_SAS_MAX	0x10A</span>

<span class="cp">#define OOB_SAS_NEG	0x10C</span>

<span class="cp">#define OOB_WAKE_MIN	0x10E</span>

<span class="cp">#define OOB_WAKE_MAX	0x110</span>

<span class="cp">#define OOB_WAKE_NEG	0x112</span>

<span class="cp">#define OOB_IDLE_MAX	0x114</span>

<span class="cp">#define OOB_BURST_MAX	0x116</span>

<span class="cp">#define OOB_DATA_KBITS	0x126</span>

<span class="cp">#define OOB_ALIGN_0_DATA	0x12C</span>

<span class="cp">#define OOB_ALIGN_1_DATA	0x130</span>

<span class="cp">#define D10_2_DATA_k		0x00</span>
<span class="cp">#define SYNC_DATA_k		0x02</span>
<span class="cp">#define ALIGN_1_DATA_k		0x04</span>
<span class="cp">#define ALIGN_0_DATA_k		0x08</span>
<span class="cp">#define BURST_DATA_k		0x10</span>

<span class="cp">#define OOB_PHY_RESET_COUNT	0x13C</span>

<span class="cp">#define OOB_SIG_GEN	0x140</span>

<span class="cp">#define		START_OOB		0x80</span>
<span class="cp">#define		START_DWS		0x40</span>
<span class="cp">#define		ALIGN_CNT3		0x30</span>
<span class="cp">#define 	ALIGN_CNT2		0x20</span>
<span class="cp">#define 	ALIGN_CNT1		0x10</span>
<span class="cp">#define 	ALIGN_CNT4		0x00</span>
<span class="cp">#define		STOP_DWS		0x08</span>
<span class="cp">#define		SEND_COMSAS		0x04</span>
<span class="cp">#define		SEND_COMINIT		0x02</span>
<span class="cp">#define		SEND_COMWAKE		0x01</span>

<span class="cp">#define OOB_XMIT	0x141</span>

<span class="cp">#define		TX_ENABLE		0x80</span>
<span class="cp">#define		XMIT_OOB_BURST		0x10</span>
<span class="cp">#define		XMIT_D10_2		0x08</span>
<span class="cp">#define		XMIT_SYNC		0x04</span>
<span class="cp">#define		XMIT_ALIGN_1		0x02</span>
<span class="cp">#define		XMIT_ALIGN_0		0x01</span>

<span class="cp">#define FUNCTION_MASK	0x142</span>

<span class="cp">#define		SAS_MODE_DIS		0x80</span>
<span class="cp">#define		SATA_MODE_DIS		0x40</span>
<span class="cp">#define		SPINUP_HOLD_DIS		0x20</span>
<span class="cp">#define		HOT_PLUG_DIS		0x10</span>
<span class="cp">#define		SATA_PS_DIS		0x08</span>
<span class="cp">#define		FUNCTION_MASK_DEFAULT	(SPINUP_HOLD_DIS | SATA_PS_DIS)</span>

<span class="cp">#define OOB_MODE	0x143</span>

<span class="cp">#define		SAS_MODE		0x80</span>
<span class="cp">#define		SATA_MODE		0x40</span>
<span class="cp">#define		SLOW_CLK		0x20</span>
<span class="cp">#define		FORCE_XMIT_15		0x08</span>
<span class="cp">#define		PHY_SPEED_60		0x04</span>
<span class="cp">#define		PHY_SPEED_30		0x02</span>
<span class="cp">#define		PHY_SPEED_15		0x01</span>

<span class="cp">#define	CURRENT_STATUS	0x144</span>

<span class="cp">#define		CURRENT_OOB_DONE	0x80</span>
<span class="cp">#define		CURRENT_LOSS_OF_SIGNAL	0x40</span>
<span class="cp">#define		CURRENT_SPINUP_HOLD	0x20</span>
<span class="cp">#define		CURRENT_HOT_PLUG_CNCT	0x10</span>
<span class="cp">#define		CURRENT_GTO_TIMEOUT	0x08</span>
<span class="cp">#define		CURRENT_OOB_TIMEOUT	0x04</span>
<span class="cp">#define		CURRENT_DEVICE_PRESENT	0x02</span>
<span class="cp">#define		CURRENT_OOB_ERROR	0x01</span>

<span class="cp">#define 	CURRENT_OOB1_ERROR	(CURRENT_HOT_PLUG_CNCT | \</span>
<span class="cp">					 CURRENT_GTO_TIMEOUT)</span>

<span class="cp">#define 	CURRENT_OOB2_ERROR	(CURRENT_HOT_PLUG_CNCT | \</span>
<span class="cp">					 CURRENT_OOB_ERROR)</span>

<span class="cp">#define		DEVICE_ADDED_W_CNT	(CURRENT_OOB_DONE | \</span>
<span class="cp">					 CURRENT_HOT_PLUG_CNCT | \</span>
<span class="cp">					 CURRENT_DEVICE_PRESENT)</span>

<span class="cp">#define		DEVICE_ADDED_WO_CNT	(CURRENT_OOB_DONE | \</span>
<span class="cp">					 CURRENT_DEVICE_PRESENT)</span>

<span class="cp">#define 	DEVICE_REMOVED		CURRENT_LOSS_OF_SIGNAL</span>

<span class="cp">#define		CURRENT_PHY_MASK	(CURRENT_OOB_DONE | \</span>
<span class="cp">					 CURRENT_LOSS_OF_SIGNAL | \</span>
<span class="cp">					 CURRENT_SPINUP_HOLD | \</span>
<span class="cp">					 CURRENT_HOT_PLUG_CNCT | \</span>
<span class="cp">					 CURRENT_GTO_TIMEOUT | \</span>
<span class="cp">					 CURRENT_DEVICE_PRESENT | \</span>
<span class="cp">					 CURRENT_OOB_ERROR )</span>

<span class="cp">#define		CURRENT_ERR_MASK	(CURRENT_LOSS_OF_SIGNAL | \</span>
<span class="cp">					 CURRENT_GTO_TIMEOUT | \</span>
<span class="cp">					 CURRENT_OOB_TIMEOUT | \</span>
<span class="cp">					 CURRENT_OOB_ERROR )</span>

<span class="cp">#define SPEED_MASK	0x145</span>

<span class="cp">#define		SATA_SPEED_30_DIS	0x10</span>
<span class="cp">#define		SATA_SPEED_15_DIS	0x08</span>
<span class="cp">#define		SAS_SPEED_60_DIS	0x04</span>
<span class="cp">#define		SAS_SPEED_30_DIS	0x02</span>
<span class="cp">#define		SAS_SPEED_15_DIS	0x01</span>
<span class="cp">#define		SAS_SPEED_MASK_DEFAULT	0x00</span>

<span class="cp">#define OOB_TIMER_ENABLE	0x14D</span>

<span class="cp">#define		HOT_PLUG_EN		0x80</span>
<span class="cp">#define		RCD_EN			0x40</span>
<span class="cp">#define 	COMTIMER_EN		0x20</span>
<span class="cp">#define		SNTT_EN			0x10</span>
<span class="cp">#define		SNLT_EN			0x04</span>
<span class="cp">#define		SNWT_EN			0x02</span>
<span class="cp">#define		ALIGN_EN		0x01</span>

<span class="cp">#define OOB_STATUS		0x14E</span>

<span class="cp">#define		OOB_DONE		0x80</span>
<span class="cp">#define		LOSS_OF_SIGNAL		0x40		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		SPINUP_HOLD		0x20</span>
<span class="cp">#define		HOT_PLUG_CNCT		0x10		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		GTO_TIMEOUT		0x08		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		OOB_TIMEOUT		0x04		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		DEVICE_PRESENT		0x02		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		OOB_ERROR		0x01		</span><span class="cm">/* ro */</span><span class="cp"></span>

<span class="cp">#define		OOB_STATUS_ERROR_MASK	(LOSS_OF_SIGNAL | GTO_TIMEOUT | \</span>
<span class="cp">					 OOB_TIMEOUT | OOB_ERROR)</span>

<span class="cp">#define OOB_STATUS_CLEAR	0x14F</span>

<span class="cp">#define		OOB_DONE_CLR		0x80</span>
<span class="cp">#define		LOSS_OF_SIGNAL_CLR 	0x40</span>
<span class="cp">#define		SPINUP_HOLD_CLR		0x20</span>
<span class="cp">#define		HOT_PLUG_CNCT_CLR     	0x10</span>
<span class="cp">#define		GTO_TIMEOUT_CLR		0x08</span>
<span class="cp">#define		OOB_TIMEOUT_CLR		0x04</span>
<span class="cp">#define		OOB_ERROR_CLR		0x01</span>

<span class="cp">#define HOT_PLUG_DELAY		0x150</span>
<span class="cm">/* In 5 ms units. 20 = 100 ms. */</span>
<span class="cp">#define	HOTPLUG_DELAY_TIMEOUT		20</span>


<span class="cp">#define INT_ENABLE_2		0x15A</span>

<span class="cp">#define		OOB_DONE_EN		0x80</span>
<span class="cp">#define		LOSS_OF_SIGNAL_EN	0x40</span>
<span class="cp">#define		SPINUP_HOLD_EN		0x20</span>
<span class="cp">#define		HOT_PLUG_CNCT_EN	0x10</span>
<span class="cp">#define		GTO_TIMEOUT_EN		0x08</span>
<span class="cp">#define		OOB_TIMEOUT_EN		0x04</span>
<span class="cp">#define		DEVICE_PRESENT_EN	0x02</span>
<span class="cp">#define		OOB_ERROR_EN		0x01</span>

<span class="cp">#define PHY_CONTROL_0		0x160</span>

<span class="cp">#define		PHY_LOWPWREN_TX		0x80</span>
<span class="cp">#define		PHY_LOWPWREN_RX		0x40</span>
<span class="cp">#define		SPARE_REG_160_B5	0x20</span>
<span class="cp">#define		OFFSET_CANCEL_RX	0x10</span>

<span class="cm">/* bits 3:2 */</span>
<span class="cp">#define		PHY_RXCOMCENTER_60V	0x00</span>
<span class="cp">#define		PHY_RXCOMCENTER_70V	0x04</span>
<span class="cp">#define		PHY_RXCOMCENTER_80V	0x08</span>
<span class="cp">#define		PHY_RXCOMCENTER_90V	0x0C</span>
<span class="cp">#define 	PHY_RXCOMCENTER_MASK	0x0C</span>

<span class="cp">#define		PHY_RESET		0x02</span>
<span class="cp">#define		SAS_DEFAULT_SEL		0x01</span>

<span class="cp">#define PHY_CONTROL_1		0x161</span>

<span class="cm">/* bits 2:0 */</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_50mv	0x00</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_75mv	0x01</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_100mv	0x02</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_125mv	0x03</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_150mv	0x04</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_175mv	0x05</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_200mv	0x06</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_225mv	0x07</span>
<span class="cp">#define		SATA_PHY_DETLEVEL_MASK	0x07</span>

<span class="cm">/* bits 5:3 */</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_50mv	0x00</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_75mv	0x08</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_100mv	0x10</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_125mv	0x11</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_150mv	0x20</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_175mv	0x21</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_200mv	0x30</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_225mv	0x31</span>
<span class="cp">#define		SAS_PHY_DETLEVEL_MASK	0x38</span>

<span class="cp">#define PHY_CONTROL_2		0x162</span>

<span class="cm">/* bits 7:5 */</span>
<span class="cp">#define 	SATA_PHY_DRV_400mv	0x00</span>
<span class="cp">#define 	SATA_PHY_DRV_450mv	0x20</span>
<span class="cp">#define 	SATA_PHY_DRV_500mv	0x40</span>
<span class="cp">#define 	SATA_PHY_DRV_550mv	0x60</span>
<span class="cp">#define 	SATA_PHY_DRV_600mv	0x80</span>
<span class="cp">#define 	SATA_PHY_DRV_650mv	0xA0</span>
<span class="cp">#define 	SATA_PHY_DRV_725mv	0xC0</span>
<span class="cp">#define 	SATA_PHY_DRV_800mv	0xE0</span>
<span class="cp">#define		SATA_PHY_DRV_MASK	0xE0</span>

<span class="cm">/* bits 4:3 */</span>
<span class="cp">#define 	SATA_PREEMP_0		0x00</span>
<span class="cp">#define 	SATA_PREEMP_1		0x08</span>
<span class="cp">#define 	SATA_PREEMP_2		0x10</span>
<span class="cp">#define 	SATA_PREEMP_3		0x18</span>
<span class="cp">#define 	SATA_PREEMP_MASK	0x18</span>

<span class="cp">#define 	SATA_CMSH1P5		0x04</span>

<span class="cm">/* bits 1:0 */</span>
<span class="cp">#define 	SATA_SLEW_0		0x00</span>
<span class="cp">#define 	SATA_SLEW_1		0x01</span>
<span class="cp">#define 	SATA_SLEW_2		0x02</span>
<span class="cp">#define 	SATA_SLEW_3		0x03</span>
<span class="cp">#define 	SATA_SLEW_MASK		0x03</span>

<span class="cp">#define PHY_CONTROL_3		0x163</span>

<span class="cm">/* bits 7:5 */</span>
<span class="cp">#define 	SAS_PHY_DRV_400mv	0x00</span>
<span class="cp">#define 	SAS_PHY_DRV_450mv	0x20</span>
<span class="cp">#define 	SAS_PHY_DRV_500mv	0x40</span>
<span class="cp">#define 	SAS_PHY_DRV_550mv	0x60</span>
<span class="cp">#define 	SAS_PHY_DRV_600mv	0x80</span>
<span class="cp">#define 	SAS_PHY_DRV_650mv	0xA0</span>
<span class="cp">#define 	SAS_PHY_DRV_725mv	0xC0</span>
<span class="cp">#define 	SAS_PHY_DRV_800mv	0xE0</span>
<span class="cp">#define		SAS_PHY_DRV_MASK	0xE0</span>

<span class="cm">/* bits 4:3 */</span>
<span class="cp">#define 	SAS_PREEMP_0		0x00</span>
<span class="cp">#define 	SAS_PREEMP_1		0x08</span>
<span class="cp">#define 	SAS_PREEMP_2		0x10</span>
<span class="cp">#define 	SAS_PREEMP_3		0x18</span>
<span class="cp">#define 	SAS_PREEMP_MASK		0x18</span>

<span class="cp">#define 	SAS_CMSH1P5		0x04</span>

<span class="cm">/* bits 1:0 */</span>
<span class="cp">#define 	SAS_SLEW_0		0x00</span>
<span class="cp">#define 	SAS_SLEW_1		0x01</span>
<span class="cp">#define 	SAS_SLEW_2		0x02</span>
<span class="cp">#define 	SAS_SLEW_3		0x03</span>
<span class="cp">#define 	SAS_SLEW_MASK		0x03</span>

<span class="cp">#define PHY_CONTROL_4		0x168</span>

<span class="cp">#define		PHY_DONE_CAL_TX		0x80</span>
<span class="cp">#define		PHY_DONE_CAL_RX		0x40</span>
<span class="cp">#define		RX_TERM_LOAD_DIS	0x20</span>
<span class="cp">#define		TX_TERM_LOAD_DIS	0x10</span>
<span class="cp">#define		AUTO_TERM_CAL_DIS	0x08</span>
<span class="cp">#define		PHY_SIGDET_FLTR_EN	0x04</span>
<span class="cp">#define		OSC_FREQ		0x02</span>
<span class="cp">#define		PHY_START_CAL		0x01</span>

<span class="cm">/*</span>
<span class="cm"> * HST_PCIX2 Registers, Address Range: (0x00-0xFC)</span>
<span class="cm"> */</span>
<span class="cp">#define PCIX_REG_BASE_ADR		0xB8040000</span>

<span class="cp">#define PCIC_VENDOR_ID	0x00</span>

<span class="cp">#define PCIC_DEVICE_ID	0x02</span>

<span class="cp">#define PCIC_COMMAND	0x04</span>

<span class="cp">#define		INT_DIS			0x0400</span>
<span class="cp">#define		FBB_EN			0x0200		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		SERR_EN			0x0100</span>
<span class="cp">#define		STEP_EN			0x0080		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		PERR_EN			0x0040</span>
<span class="cp">#define		VGA_EN			0x0020		</span><span class="cm">/* ro */</span><span class="cp"></span>
<span class="cp">#define		MWI_EN			0x0010</span>
<span class="cp">#define		SPC_EN			0x0008</span>
<span class="cp">#define		MST_EN			0x0004</span>
<span class="cp">#define		MEM_EN			0x0002</span>
<span class="cp">#define		IO_EN			0x0001</span>

<span class="cp">#define	PCIC_STATUS	0x06</span>

<span class="cp">#define		PERR_DET		0x8000</span>
<span class="cp">#define		SERR_GEN		0x4000</span>
<span class="cp">#define		MABT_DET		0x2000</span>
<span class="cp">#define		TABT_DET		0x1000</span>
<span class="cp">#define		TABT_GEN		0x0800</span>
<span class="cp">#define		DPERR_DET		0x0100</span>
<span class="cp">#define		CAP_LIST		0x0010</span>
<span class="cp">#define		INT_STAT		0x0008</span>

<span class="cp">#define	PCIC_DEVREV_ID	0x08</span>

<span class="cp">#define	PCIC_CLASS_CODE	0x09</span>

<span class="cp">#define	PCIC_CACHELINE_SIZE	0x0C</span>

<span class="cp">#define	PCIC_MBAR0	0x10</span>

<span class="cp">#define 	PCIC_MBAR0_OFFSET	0</span>

<span class="cp">#define	PCIC_MBAR1	0x18</span>

<span class="cp">#define 	PCIC_MBAR1_OFFSET	2</span>

<span class="cp">#define	PCIC_IOBAR	0x20</span>

<span class="cp">#define 	PCIC_IOBAR_OFFSET	4</span>

<span class="cp">#define	PCIC_SUBVENDOR_ID	0x2C</span>

<span class="cp">#define PCIC_SUBSYTEM_ID	0x2E</span>

<span class="cp">#define PCIX_STATUS		0x44</span>
<span class="cp">#define 	RCV_SCE		0x20000000</span>
<span class="cp">#define 	UNEXP_SC	0x00080000</span>
<span class="cp">#define 	SC_DISCARD	0x00040000</span>

<span class="cp">#define ECC_CTRL_STAT		0x48</span>
<span class="cp">#define 	UNCOR_ECCERR	0x00000008</span>

<span class="cp">#define PCIC_PM_CSR		0x5C</span>

<span class="cp">#define		PWR_STATE_D0		0</span>
<span class="cp">#define		PWR_STATE_D1		1	</span><span class="cm">/* not supported */</span><span class="cp"></span>
<span class="cp">#define		PWR_STATE_D2		2 	</span><span class="cm">/* not supported */</span><span class="cp"></span>
<span class="cp">#define		PWR_STATE_D3		3</span>

<span class="cp">#define PCIC_BASE1	0x6C	</span><span class="cm">/* internal use only */</span><span class="cp"></span>

<span class="cp">#define		BASE1_RSVD		0xFFFFFFF8</span>

<span class="cp">#define PCIC_BASEA	0x70	</span><span class="cm">/* internal use only */</span><span class="cp"></span>

<span class="cp">#define		BASEA_RSVD		0xFFFFFFC0</span>
<span class="cp">#define 	BASEA_START		0</span>

<span class="cp">#define PCIC_BASEB	0x74	</span><span class="cm">/* internal use only */</span><span class="cp"></span>

<span class="cp">#define		BASEB_RSVD		0xFFFFFF80</span>
<span class="cp">#define		BASEB_IOMAP_MASK	0x7F</span>
<span class="cp">#define 	BASEB_START		0x80</span>

<span class="cp">#define PCIC_BASEC	0x78	</span><span class="cm">/* internal use only */</span><span class="cp"></span>

<span class="cp">#define		BASEC_RSVD		0xFFFFFFFC</span>
<span class="cp">#define 	BASEC_MASK		0x03</span>
<span class="cp">#define 	BASEC_START		0x58</span>

<span class="cp">#define PCIC_MBAR_KEY	0x7C	</span><span class="cm">/* internal use only */</span><span class="cp"></span>

<span class="cp">#define 	MBAR_KEY_MASK		0xFFFFFFFF</span>

<span class="cp">#define PCIC_HSTPCIX_CNTRL	0xA0</span>

<span class="cp">#define 	REWIND_DIS		0x0800</span>
<span class="cp">#define		SC_TMR_DIS		0x04000000</span>

<span class="cp">#define PCIC_MBAR0_MASK	0xA8</span>
<span class="cp">#define		PCIC_MBAR0_SIZE_MASK 	0x1FFFE000</span>
<span class="cp">#define		PCIC_MBAR0_SIZE_SHIFT 	13</span>
<span class="cp">#define		PCIC_MBAR0_SIZE(val)	\</span>
<span class="cp">		    (((val) &amp; PCIC_MBAR0_SIZE_MASK) &gt;&gt; PCIC_MBAR0_SIZE_SHIFT)</span>

<span class="cp">#define PCIC_FLASH_MBAR	0xB8</span>

<span class="cp">#define PCIC_INTRPT_STAT 0xD4</span>

<span class="cp">#define PCIC_TP_CTRL	0xFC</span>

<span class="cm">/*</span>
<span class="cm"> * EXSI Registers, Address Range: (0x00-0xFC)</span>
<span class="cm"> */</span>
<span class="cp">#define EXSI_REG_BASE_ADR		REG_BASE_ADDR_EXSI</span>

<span class="cp">#define	EXSICNFGR	(EXSI_REG_BASE_ADR + 0x00)</span>

<span class="cp">#define		OCMINITIALIZED		0x80000000</span>
<span class="cp">#define		ASIEN			0x00400000</span>
<span class="cp">#define		HCMODE			0x00200000</span>
<span class="cp">#define		PCIDEF			0x00100000</span>
<span class="cp">#define		COMSTOCK		0x00080000</span>
<span class="cp">#define		SEEPROMEND		0x00040000</span>
<span class="cp">#define		MSTTIMEN		0x00020000</span>
<span class="cp">#define		XREGEX			0x00000200</span>
<span class="cp">#define		NVRAMW			0x00000100</span>
<span class="cp">#define		NVRAMEX			0x00000080</span>
<span class="cp">#define		SRAMW			0x00000040</span>
<span class="cp">#define		SRAMEX			0x00000020</span>
<span class="cp">#define		FLASHW			0x00000010</span>
<span class="cp">#define		FLASHEX			0x00000008</span>
<span class="cp">#define		SEEPROMCFG		0x00000004</span>
<span class="cp">#define		SEEPROMTYP		0x00000002</span>
<span class="cp">#define		SEEPROMEX		0x00000001</span>


<span class="cp">#define EXSICNTRLR	(EXSI_REG_BASE_ADR + 0x04)</span>

<span class="cp">#define		MODINT_EN		0x00000001</span>


<span class="cp">#define PMSTATR		(EXSI_REG_BASE_ADR + 0x10)</span>

<span class="cp">#define		FLASHRST		0x00000002</span>
<span class="cp">#define		FLASHRDY		0x00000001</span>


<span class="cp">#define FLCNFGR		(EXSI_REG_BASE_ADR + 0x14)</span>

<span class="cp">#define		FLWEH_MASK		0x30000000</span>
<span class="cp">#define		FLWESU_MASK		0x0C000000</span>
<span class="cp">#define		FLWEPW_MASK		0x03F00000</span>
<span class="cp">#define		FLOEH_MASK		0x000C0000</span>
<span class="cp">#define 	FLOESU_MASK		0x00030000</span>
<span class="cp">#define 	FLOEPW_MASK		0x0000FC00</span>
<span class="cp">#define 	FLCSH_MASK		0x00000300</span>
<span class="cp">#define 	FLCSSU_MASK		0x000000C0</span>
<span class="cp">#define 	FLCSPW_MASK		0x0000003F</span>

<span class="cp">#define SRCNFGR		(EXSI_REG_BASE_ADR + 0x18)</span>

<span class="cp">#define		SRWEH_MASK		0x30000000</span>
<span class="cp">#define		SRWESU_MASK		0x0C000000</span>
<span class="cp">#define		SRWEPW_MASK		0x03F00000</span>

<span class="cp">#define		SROEH_MASK		0x000C0000</span>
<span class="cp">#define 	SROESU_MASK		0x00030000</span>
<span class="cp">#define 	SROEPW_MASK		0x0000FC00</span>
<span class="cp">#define		SRCSH_MASK		0x00000300</span>
<span class="cp">#define		SRCSSU_MASK		0x000000C0</span>
<span class="cp">#define		SRCSPW_MASK		0x0000003F</span>

<span class="cp">#define NVCNFGR		(EXSI_REG_BASE_ADR + 0x1C)</span>

<span class="cp">#define 	NVWEH_MASK		0x30000000</span>
<span class="cp">#define 	NVWESU_MASK		0x0C000000</span>
<span class="cp">#define 	NVWEPW_MASK		0x03F00000</span>
<span class="cp">#define 	NVOEH_MASK		0x000C0000</span>
<span class="cp">#define 	NVOESU_MASK		0x00030000</span>
<span class="cp">#define 	NVOEPW_MASK		0x0000FC00</span>
<span class="cp">#define 	NVCSH_MASK		0x00000300</span>
<span class="cp">#define 	NVCSSU_MASK		0x000000C0</span>
<span class="cp">#define 	NVCSPW_MASK		0x0000003F</span>

<span class="cp">#define XRCNFGR		(EXSI_REG_BASE_ADR + 0x20)</span>

<span class="cp">#define 	XRWEH_MASK		0x30000000</span>
<span class="cp">#define 	XRWESU_MASK		0x0C000000</span>
<span class="cp">#define 	XRWEPW_MASK		0x03F00000</span>
<span class="cp">#define 	XROEH_MASK		0x000C0000</span>
<span class="cp">#define 	XROESU_MASK		0x00030000</span>
<span class="cp">#define 	XROEPW_MASK		0x0000FC00</span>
<span class="cp">#define 	XRCSH_MASK		0x00000300</span>
<span class="cp">#define 	XRCSSU_MASK		0x000000C0</span>
<span class="cp">#define		XRCSPW_MASK		0x0000003F</span>

<span class="cp">#define XREGADDR	(EXSI_REG_BASE_ADR + 0x24)</span>

<span class="cp">#define 	XRADDRINCEN		0x80000000</span>
<span class="cp">#define 	XREGADD_MASK		0x007FFFFF</span>


<span class="cp">#define XREGDATAR	(EXSI_REG_BASE_ADR + 0x28)</span>

<span class="cp">#define		XREGDATA_MASK 		0x0000FFFF</span>

<span class="cp">#define GPIOOER		(EXSI_REG_BASE_ADR + 0x40)</span>

<span class="cp">#define GPIOODENR	(EXSI_REG_BASE_ADR + 0x44)</span>

<span class="cp">#define GPIOINVR	(EXSI_REG_BASE_ADR + 0x48)</span>

<span class="cp">#define GPIODATAOR	(EXSI_REG_BASE_ADR + 0x4C)</span>

<span class="cp">#define GPIODATAIR	(EXSI_REG_BASE_ADR + 0x50)</span>

<span class="cp">#define GPIOCNFGR	(EXSI_REG_BASE_ADR + 0x54)</span>

<span class="cp">#define		GPIO_EXTSRC		0x00000001</span>

<span class="cp">#define SCNTRLR		(EXSI_REG_BASE_ADR + 0xA0)</span>

<span class="cp">#define 	SXFERDONE		0x00000100</span>
<span class="cp">#define 	SXFERCNT_MASK		0x000000E0</span>
<span class="cp">#define 	SCMDTYP_MASK		0x0000001C</span>
<span class="cp">#define 	SXFERSTART		0x00000002</span>
<span class="cp">#define 	SXFEREN			0x00000001</span>

<span class="cp">#define	SRATER		(EXSI_REG_BASE_ADR + 0xA4)</span>

<span class="cp">#define	SADDRR		(EXSI_REG_BASE_ADR + 0xA8)</span>

<span class="cp">#define 	SADDR_MASK		0x0000FFFF</span>

<span class="cp">#define SDATAOR		(EXSI_REG_BASE_ADR + 0xAC)</span>

<span class="cp">#define	SDATAOR0	(EXSI_REG_BASE_ADR + 0xAC)</span>
<span class="cp">#define SDATAOR1	(EXSI_REG_BASE_ADR + 0xAD)</span>
<span class="cp">#define SDATAOR2	(EXSI_REG_BASE_ADR + 0xAE)</span>
<span class="cp">#define SDATAOR3	(EXSI_REG_BASE_ADR + 0xAF)</span>

<span class="cp">#define SDATAIR		(EXSI_REG_BASE_ADR + 0xB0)</span>

<span class="cp">#define SDATAIR0	(EXSI_REG_BASE_ADR + 0xB0)</span>
<span class="cp">#define SDATAIR1	(EXSI_REG_BASE_ADR + 0xB1)</span>
<span class="cp">#define SDATAIR2	(EXSI_REG_BASE_ADR + 0xB2)</span>
<span class="cp">#define SDATAIR3	(EXSI_REG_BASE_ADR + 0xB3)</span>

<span class="cp">#define ASISTAT0R	(EXSI_REG_BASE_ADR + 0xD0)</span>
<span class="cp">#define 	ASIFMTERR		0x00000400</span>
<span class="cp">#define 	ASISEECHKERR		0x00000200</span>
<span class="cp">#define 	ASIERR			0x00000100</span>

<span class="cp">#define ASISTAT1R	(EXSI_REG_BASE_ADR + 0xD4)</span>
<span class="cp">#define 	CHECKSUM_MASK		0x0000FFFF</span>

<span class="cp">#define ASIERRADDR	(EXSI_REG_BASE_ADR + 0xD8)</span>
<span class="cp">#define ASIERRDATAR	(EXSI_REG_BASE_ADR + 0xDC)</span>
<span class="cp">#define ASIERRSTATR	(EXSI_REG_BASE_ADR + 0xE0)</span>
<span class="cp">#define 	CPI2ASIBYTECNT_MASK	0x00070000</span>
<span class="cp">#define 	CPI2ASIBYTEEN_MASK      0x0000F000</span>
<span class="cp">#define 	CPI2ASITARGERR_MASK	0x00000F00</span>
<span class="cp">#define 	CPI2ASITARGMID_MASK	0x000000F0</span>
<span class="cp">#define 	CPI2ASIMSTERR_MASK	0x0000000F</span>

<span class="cm">/*</span>
<span class="cm"> * XSRAM, External SRAM (DWord and any BE pattern accessible)</span>
<span class="cm"> */</span>
<span class="cp">#define XSRAM_REG_BASE_ADDR             0xB8100000</span>
<span class="cp">#define XSRAM_SIZE                        0x100000</span>

<span class="cm">/*</span>
<span class="cm"> * NVRAM Registers, Address Range: (0x00000 - 0x3FFFF).</span>
<span class="cm"> */</span>
<span class="cp">#define		NVRAM_REG_BASE_ADR	0xBF800000</span>
<span class="cp">#define		NVRAM_MAX_BASE_ADR	0x003FFFFF</span>

<span class="cm">/* OCM base address */</span>
<span class="cp">#define		OCM_BASE_ADDR		0xA0000000</span>
<span class="cp">#define		OCM_MAX_SIZE		0x20000</span>

<span class="cm">/*</span>
<span class="cm"> * Sequencers (Central and Link) Scratch RAM page definitions.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * The Central Management Sequencer (CSEQ) Scratch Memory is a 1024</span>
<span class="cm"> * byte memory.  It is dword accessible and has byte parity</span>
<span class="cm"> * protection. The CSEQ accesses it in 32 byte windows, either as mode</span>
<span class="cm"> * dependent or mode independent memory. Each mode has 96 bytes,</span>
<span class="cm"> * (three 32 byte pages 0-2, not contiguous), leaving 128 bytes of</span>
<span class="cm"> * Mode Independent memory (four 32 byte pages 3-7). Note that mode</span>
<span class="cm"> * dependent scratch memory, Mode 8, page 0-3 overlaps mode</span>
<span class="cm"> * independent scratch memory, pages 0-3.</span>
<span class="cm"> * - 896 bytes of mode dependent scratch, 96 bytes per Modes 0-7, and</span>
<span class="cm"> * 128 bytes in mode 8,</span>
<span class="cm"> * - 259 bytes of mode independent scratch, common to modes 0-15.</span>
<span class="cm"> *</span>
<span class="cm"> * Sequencer scratch RAM is 1024 bytes.  This scratch memory is</span>
<span class="cm"> * divided into mode dependent and mode independent scratch with this</span>
<span class="cm"> * memory further subdivided into pages of size 32 bytes. There are 5</span>
<span class="cm"> * pages (160 bytes) of mode independent scratch and 3 pages of</span>
<span class="cm"> * dependent scratch memory for modes 0-7 (768 bytes). Mode 8 pages</span>
<span class="cm"> * 0-2 dependent scratch overlap with pages 0-2 of mode independent</span>
<span class="cm"> * scratch memory.</span>
<span class="cm"> *</span>
<span class="cm"> * The host accesses this scratch in a different manner from the</span>
<span class="cm"> * central sequencer. The sequencer has to use CSEQ registers CSCRPAGE</span>
<span class="cm"> * and CMnSCRPAGE to access the scratch memory. A flat mapping of the</span>
<span class="cm"> * scratch memory is available for software convenience and to prevent</span>
<span class="cm"> * corruption while the sequencer is running. This memory is mapped</span>
<span class="cm"> * onto addresses 800h - BFFh, total of 400h bytes.</span>
<span class="cm"> *</span>
<span class="cm"> * These addresses are mapped as follows:</span>
<span class="cm"> *</span>
<span class="cm"> *        800h-83Fh   Mode Dependent Scratch Mode 0 Pages 0-1</span>
<span class="cm"> *        840h-87Fh   Mode Dependent Scratch Mode 1 Pages 0-1</span>
<span class="cm"> *        880h-8BFh   Mode Dependent Scratch Mode 2 Pages 0-1</span>
<span class="cm"> *        8C0h-8FFh   Mode Dependent Scratch Mode 3 Pages 0-1</span>
<span class="cm"> *        900h-93Fh   Mode Dependent Scratch Mode 4 Pages 0-1</span>
<span class="cm"> *        940h-97Fh   Mode Dependent Scratch Mode 5 Pages 0-1</span>
<span class="cm"> *        980h-9BFh   Mode Dependent Scratch Mode 6 Pages 0-1</span>
<span class="cm"> *        9C0h-9FFh   Mode Dependent Scratch Mode 7 Pages 0-1</span>
<span class="cm"> *        A00h-A5Fh   Mode Dependent Scratch Mode 8 Pages 0-2</span>
<span class="cm"> *                    Mode Independent Scratch Pages 0-2</span>
<span class="cm"> *        A60h-A7Fh   Mode Dependent Scratch Mode 8 Page 3</span>
<span class="cm"> *                    Mode Independent Scratch Page 3</span>
<span class="cm"> *        A80h-AFFh   Mode Independent Scratch Pages 4-7</span>
<span class="cm"> *        B00h-B1Fh   Mode Dependent Scratch Mode 0 Page 2</span>
<span class="cm"> *        B20h-B3Fh   Mode Dependent Scratch Mode 1 Page 2</span>
<span class="cm"> *        B40h-B5Fh   Mode Dependent Scratch Mode 2 Page 2</span>
<span class="cm"> *        B60h-B7Fh   Mode Dependent Scratch Mode 3 Page 2</span>
<span class="cm"> *        B80h-B9Fh   Mode Dependent Scratch Mode 4 Page 2</span>
<span class="cm"> *        BA0h-BBFh   Mode Dependent Scratch Mode 5 Page 2</span>
<span class="cm"> *        BC0h-BDFh   Mode Dependent Scratch Mode 6 Page 2</span>
<span class="cm"> *        BE0h-BFFh   Mode Dependent Scratch Mode 7 Page 2</span>
<span class="cm"> */</span>

<span class="cm">/* General macros */</span>
<span class="cp">#define CSEQ_PAGE_SIZE			32  </span><span class="cm">/* Scratch page size (in bytes) */</span><span class="cp"></span>

<span class="cm">/* All macros start with offsets from base + 0x800 (CMAPPEDSCR).</span>
<span class="cm"> * Mode dependent scratch page 0, mode 0.</span>
<span class="cm"> * For modes 1-7 you have to do arithmetic. */</span>
<span class="cp">#define CSEQ_LRM_SAVE_SINDEX		(CMAPPEDSCR + 0x0000)</span>
<span class="cp">#define CSEQ_LRM_SAVE_SCBPTR		(CMAPPEDSCR + 0x0002)</span>
<span class="cp">#define CSEQ_Q_LINK_HEAD		(CMAPPEDSCR + 0x0004)</span>
<span class="cp">#define CSEQ_Q_LINK_TAIL		(CMAPPEDSCR + 0x0006)</span>
<span class="cp">#define CSEQ_LRM_SAVE_SCRPAGE		(CMAPPEDSCR + 0x0008)</span>

<span class="cm">/* Mode dependent scratch page 0 mode 8 macros. */</span>
<span class="cp">#define CSEQ_RET_ADDR			(CMAPPEDSCR + 0x0200)</span>
<span class="cp">#define CSEQ_RET_SCBPTR			(CMAPPEDSCR + 0x0202)</span>
<span class="cp">#define CSEQ_SAVE_SCBPTR		(CMAPPEDSCR + 0x0204)</span>
<span class="cp">#define CSEQ_EMPTY_TRANS_CTX		(CMAPPEDSCR + 0x0206)</span>
<span class="cp">#define CSEQ_RESP_LEN			(CMAPPEDSCR + 0x0208)</span>
<span class="cp">#define CSEQ_TMF_SCBPTR			(CMAPPEDSCR + 0x020A)</span>
<span class="cp">#define CSEQ_GLOBAL_PREV_SCB		(CMAPPEDSCR + 0x020C)</span>
<span class="cp">#define CSEQ_GLOBAL_HEAD		(CMAPPEDSCR + 0x020E)</span>
<span class="cp">#define CSEQ_CLEAR_LU_HEAD		(CMAPPEDSCR + 0x0210)</span>
<span class="cp">#define CSEQ_TMF_OPCODE			(CMAPPEDSCR + 0x0212)</span>
<span class="cp">#define CSEQ_SCRATCH_FLAGS		(CMAPPEDSCR + 0x0213)</span>
<span class="cp">#define CSEQ_HSB_SITE                   (CMAPPEDSCR + 0x021A)</span>
<span class="cp">#define CSEQ_FIRST_INV_SCB_SITE		(CMAPPEDSCR + 0x021C)</span>
<span class="cp">#define CSEQ_FIRST_INV_DDB_SITE		(CMAPPEDSCR + 0x021E)</span>

<span class="cm">/* Mode dependent scratch page 1 mode 8 macros. */</span>
<span class="cp">#define CSEQ_LUN_TO_CLEAR		(CMAPPEDSCR + 0x0220)</span>
<span class="cp">#define CSEQ_LUN_TO_CHECK		(CMAPPEDSCR + 0x0228)</span>

<span class="cm">/* Mode dependent scratch page 2 mode 8 macros */</span>
<span class="cp">#define CSEQ_HQ_NEW_POINTER		(CMAPPEDSCR + 0x0240)</span>
<span class="cp">#define CSEQ_HQ_DONE_BASE		(CMAPPEDSCR + 0x0248)</span>
<span class="cp">#define CSEQ_HQ_DONE_POINTER		(CMAPPEDSCR + 0x0250)</span>
<span class="cp">#define CSEQ_HQ_DONE_PASS		(CMAPPEDSCR + 0x0254)</span>

<span class="cm">/* Mode independent scratch page 4 macros. */</span>
<span class="cp">#define CSEQ_Q_EXE_HEAD			(CMAPPEDSCR + 0x0280)</span>
<span class="cp">#define CSEQ_Q_EXE_TAIL			(CMAPPEDSCR + 0x0282)</span>
<span class="cp">#define CSEQ_Q_DONE_HEAD                (CMAPPEDSCR + 0x0284)</span>
<span class="cp">#define CSEQ_Q_DONE_TAIL                (CMAPPEDSCR + 0x0286)</span>
<span class="cp">#define CSEQ_Q_SEND_HEAD		(CMAPPEDSCR + 0x0288)</span>
<span class="cp">#define CSEQ_Q_SEND_TAIL		(CMAPPEDSCR + 0x028A)</span>
<span class="cp">#define CSEQ_Q_DMA2CHIM_HEAD		(CMAPPEDSCR + 0x028C)</span>
<span class="cp">#define CSEQ_Q_DMA2CHIM_TAIL		(CMAPPEDSCR + 0x028E)</span>
<span class="cp">#define CSEQ_Q_COPY_HEAD		(CMAPPEDSCR + 0x0290)</span>
<span class="cp">#define CSEQ_Q_COPY_TAIL		(CMAPPEDSCR + 0x0292)</span>
<span class="cp">#define CSEQ_REG0			(CMAPPEDSCR + 0x0294)</span>
<span class="cp">#define CSEQ_REG1			(CMAPPEDSCR + 0x0296)</span>
<span class="cp">#define CSEQ_REG2			(CMAPPEDSCR + 0x0298)</span>
<span class="cp">#define CSEQ_LINK_CTL_Q_MAP		(CMAPPEDSCR + 0x029C)</span>
<span class="cp">#define CSEQ_MAX_CSEQ_MODE		(CMAPPEDSCR + 0x029D)</span>
<span class="cp">#define CSEQ_FREE_LIST_HACK_COUNT	(CMAPPEDSCR + 0x029E)</span>

<span class="cm">/* Mode independent scratch page 5 macros. */</span>
<span class="cp">#define CSEQ_EST_NEXUS_REQ_QUEUE	(CMAPPEDSCR + 0x02A0)</span>
<span class="cp">#define CSEQ_EST_NEXUS_REQ_COUNT	(CMAPPEDSCR + 0x02A8)</span>
<span class="cp">#define CSEQ_Q_EST_NEXUS_HEAD		(CMAPPEDSCR + 0x02B0)</span>
<span class="cp">#define CSEQ_Q_EST_NEXUS_TAIL		(CMAPPEDSCR + 0x02B2)</span>
<span class="cp">#define CSEQ_NEED_EST_NEXUS_SCB		(CMAPPEDSCR + 0x02B4)</span>
<span class="cp">#define CSEQ_EST_NEXUS_REQ_HEAD		(CMAPPEDSCR + 0x02B6)</span>
<span class="cp">#define CSEQ_EST_NEXUS_REQ_TAIL		(CMAPPEDSCR + 0x02B7)</span>
<span class="cp">#define CSEQ_EST_NEXUS_SCB_OFFSET	(CMAPPEDSCR + 0x02B8)</span>

<span class="cm">/* Mode independent scratch page 6 macros. */</span>
<span class="cp">#define CSEQ_INT_ROUT_RET_ADDR0		(CMAPPEDSCR + 0x02C0)</span>
<span class="cp">#define CSEQ_INT_ROUT_RET_ADDR1		(CMAPPEDSCR + 0x02C2)</span>
<span class="cp">#define CSEQ_INT_ROUT_SCBPTR		(CMAPPEDSCR + 0x02C4)</span>
<span class="cp">#define CSEQ_INT_ROUT_MODE		(CMAPPEDSCR + 0x02C6)</span>
<span class="cp">#define CSEQ_ISR_SCRATCH_FLAGS		(CMAPPEDSCR + 0x02C7)</span>
<span class="cp">#define CSEQ_ISR_SAVE_SINDEX		(CMAPPEDSCR + 0x02C8)</span>
<span class="cp">#define CSEQ_ISR_SAVE_DINDEX		(CMAPPEDSCR + 0x02CA)</span>
<span class="cp">#define CSEQ_Q_MONIRTT_HEAD		(CMAPPEDSCR + 0x02D0)</span>
<span class="cp">#define CSEQ_Q_MONIRTT_TAIL		(CMAPPEDSCR + 0x02D2)</span>
<span class="cp">#define CSEQ_FREE_SCB_MASK		(CMAPPEDSCR + 0x02D5)</span>
<span class="cp">#define CSEQ_BUILTIN_FREE_SCB_HEAD	(CMAPPEDSCR + 0x02D6)</span>
<span class="cp">#define CSEQ_BUILTIN_FREE_SCB_TAIL	(CMAPPEDSCR + 0x02D8)</span>
<span class="cp">#define CSEQ_EXTENDED_FREE_SCB_HEAD	(CMAPPEDSCR + 0x02DA)</span>
<span class="cp">#define CSEQ_EXTENDED_FREE_SCB_TAIL	(CMAPPEDSCR + 0x02DC)</span>

<span class="cm">/* Mode independent scratch page 7 macros. */</span>
<span class="cp">#define CSEQ_EMPTY_REQ_QUEUE		(CMAPPEDSCR + 0x02E0)</span>
<span class="cp">#define CSEQ_EMPTY_REQ_COUNT		(CMAPPEDSCR + 0x02E8)</span>
<span class="cp">#define CSEQ_Q_EMPTY_HEAD		(CMAPPEDSCR + 0x02F0)</span>
<span class="cp">#define CSEQ_Q_EMPTY_TAIL		(CMAPPEDSCR + 0x02F2)</span>
<span class="cp">#define CSEQ_NEED_EMPTY_SCB		(CMAPPEDSCR + 0x02F4)</span>
<span class="cp">#define CSEQ_EMPTY_REQ_HEAD		(CMAPPEDSCR + 0x02F6)</span>
<span class="cp">#define CSEQ_EMPTY_REQ_TAIL		(CMAPPEDSCR + 0x02F7)</span>
<span class="cp">#define CSEQ_EMPTY_SCB_OFFSET		(CMAPPEDSCR + 0x02F8)</span>
<span class="cp">#define CSEQ_PRIMITIVE_DATA		(CMAPPEDSCR + 0x02FA)</span>
<span class="cp">#define CSEQ_TIMEOUT_CONST		(CMAPPEDSCR + 0x02FC)</span>

<span class="cm">/***************************************************************************</span>
<span class="cm">* Link m Sequencer scratch RAM is 512 bytes.</span>
<span class="cm">* This scratch memory is divided into mode dependent and mode</span>
<span class="cm">* independent scratch with this memory further subdivided into</span>
<span class="cm">* pages of size 32 bytes. There are 4 pages (128 bytes) of</span>
<span class="cm">* mode independent scratch and 4 pages of dependent scratch</span>
<span class="cm">* memory for modes 0-2 (384 bytes).</span>
<span class="cm">*</span>
<span class="cm">* The host accesses this scratch in a different manner from the</span>
<span class="cm">* link sequencer. The sequencer has to use LSEQ registers</span>
<span class="cm">* LmSCRPAGE and LmMnSCRPAGE to access the scratch memory. A flat</span>
<span class="cm">* mapping of the scratch memory is available for software</span>
<span class="cm">* convenience and to prevent corruption while the sequencer is</span>
<span class="cm">* running. This memory is mapped onto addresses 800h - 9FFh.</span>
<span class="cm">*</span>
<span class="cm">* These addresses are mapped as follows:</span>
<span class="cm">*</span>
<span class="cm">*        800h-85Fh   Mode Dependent Scratch Mode 0 Pages 0-2</span>
<span class="cm">*        860h-87Fh   Mode Dependent Scratch Mode 0 Page 3</span>
<span class="cm">*                    Mode Dependent Scratch Mode 5 Page 0</span>
<span class="cm">*        880h-8DFh   Mode Dependent Scratch Mode 1 Pages 0-2</span>
<span class="cm">*        8E0h-8FFh   Mode Dependent Scratch Mode 1 Page 3</span>
<span class="cm">*                    Mode Dependent Scratch Mode 5 Page 1</span>
<span class="cm">*        900h-95Fh   Mode Dependent Scratch Mode 2 Pages 0-2</span>
<span class="cm">*        960h-97Fh   Mode Dependent Scratch Mode 2 Page 3</span>
<span class="cm">*                    Mode Dependent Scratch Mode 5 Page 2</span>
<span class="cm">*        980h-9DFh   Mode Independent Scratch Pages 0-3</span>
<span class="cm">*        9E0h-9FFh   Mode Independent Scratch Page 3</span>
<span class="cm">*                    Mode Dependent Scratch Mode 5 Page 3</span>
<span class="cm">*</span>
<span class="cm">****************************************************************************/</span>
<span class="cm">/* General macros */</span>
<span class="cp">#define LSEQ_MODE_SCRATCH_SIZE		0x80 </span><span class="cm">/* Size of scratch RAM per mode */</span><span class="cp"></span>
<span class="cp">#define LSEQ_PAGE_SIZE			0x20 </span><span class="cm">/* Scratch page size (in bytes) */</span><span class="cp"></span>
<span class="cp">#define LSEQ_MODE5_PAGE0_OFFSET 	0x60</span>

<span class="cm">/* Common mode dependent scratch page 0 macros for modes 0,1,2, and 5 */</span>
<span class="cm">/* Indexed using LSEQ_MODE_SCRATCH_SIZE * mode, for modes 0,1,2. */</span>
<span class="cp">#define LmSEQ_RET_ADDR(LinkNum)		(LmSCRATCH(LinkNum) + 0x0000)</span>
<span class="cp">#define LmSEQ_REG0_MODE(LinkNum)	(LmSCRATCH(LinkNum) + 0x0002)</span>
<span class="cp">#define LmSEQ_MODE_FLAGS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0004)</span>

<span class="cm">/* Mode flag macros (byte 0) */</span>
<span class="cp">#define		SAS_SAVECTX_OCCURRED		0x80</span>
<span class="cp">#define		SAS_OOBSVC_OCCURRED		0x40</span>
<span class="cp">#define		SAS_OOB_DEVICE_PRESENT		0x20</span>
<span class="cp">#define		SAS_CFGHDR_OCCURRED		0x10</span>
<span class="cp">#define		SAS_RCV_INTS_ARE_DISABLED	0x08</span>
<span class="cp">#define		SAS_OOB_HOT_PLUG_CNCT		0x04</span>
<span class="cp">#define		SAS_AWAIT_OPEN_CONNECTION	0x02</span>
<span class="cp">#define		SAS_CFGCMPLT_OCCURRED		0x01</span>

<span class="cm">/* Mode flag macros (byte 1) */</span>
<span class="cp">#define		SAS_RLSSCB_OCCURRED		0x80</span>
<span class="cp">#define		SAS_FORCED_HEADER_MISS		0x40</span>

<span class="cp">#define LmSEQ_RET_ADDR2(LinkNum)	(LmSCRATCH(LinkNum) + 0x0006)</span>
<span class="cp">#define LmSEQ_RET_ADDR1(LinkNum)	(LmSCRATCH(LinkNum) + 0x0008)</span>
<span class="cp">#define LmSEQ_OPCODE_TO_CSEQ(LinkNum)	(LmSCRATCH(LinkNum) + 0x000B)</span>
<span class="cp">#define LmSEQ_DATA_TO_CSEQ(LinkNum)	(LmSCRATCH(LinkNum) + 0x000C)</span>

<span class="cm">/* Mode dependent scratch page 0 macros for mode 0 (non-common) */</span>
<span class="cm">/* Absolute offsets */</span>
<span class="cp">#define LmSEQ_FIRST_INV_DDB_SITE(LinkNum)	(LmSCRATCH(LinkNum) + 0x000E)</span>
<span class="cp">#define LmSEQ_EMPTY_TRANS_CTX(LinkNum)		(LmSCRATCH(LinkNum) + 0x0010)</span>
<span class="cp">#define LmSEQ_RESP_LEN(LinkNum)			(LmSCRATCH(LinkNum) + 0x0012)</span>
<span class="cp">#define LmSEQ_FIRST_INV_SCB_SITE(LinkNum)	(LmSCRATCH(LinkNum) + 0x0014)</span>
<span class="cp">#define LmSEQ_INTEN_SAVE(LinkNum)		(LmSCRATCH(LinkNum) + 0x0016)</span>
<span class="cp">#define LmSEQ_LINK_RST_FRM_LEN(LinkNum)		(LmSCRATCH(LinkNum) + 0x001A)</span>
<span class="cp">#define LmSEQ_LINK_RST_PROTOCOL(LinkNum)	(LmSCRATCH(LinkNum) + 0x001B)</span>
<span class="cp">#define LmSEQ_RESP_STATUS(LinkNum)		(LmSCRATCH(LinkNum) + 0x001C)</span>
<span class="cp">#define LmSEQ_LAST_LOADED_SGE(LinkNum)		(LmSCRATCH(LinkNum) + 0x001D)</span>
<span class="cp">#define LmSEQ_SAVE_SCBPTR(LinkNum)		(LmSCRATCH(LinkNum) + 0x001E)</span>

<span class="cm">/* Mode dependent scratch page 0 macros for mode 1 (non-common) */</span>
<span class="cm">/* Absolute offsets */</span>
<span class="cp">#define LmSEQ_Q_XMIT_HEAD(LinkNum)		(LmSCRATCH(LinkNum) + 0x008E)</span>
<span class="cp">#define LmSEQ_M1_EMPTY_TRANS_CTX(LinkNum)	(LmSCRATCH(LinkNum) + 0x0090)</span>
<span class="cp">#define LmSEQ_INI_CONN_TAG(LinkNum)		(LmSCRATCH(LinkNum) + 0x0092)</span>
<span class="cp">#define LmSEQ_FAILED_OPEN_STATUS(LinkNum)	(LmSCRATCH(LinkNum) + 0x009A)</span>
<span class="cp">#define LmSEQ_XMIT_REQUEST_TYPE(LinkNum)	(LmSCRATCH(LinkNum) + 0x009B)</span>
<span class="cp">#define LmSEQ_M1_RESP_STATUS(LinkNum)		(LmSCRATCH(LinkNum) + 0x009C)</span>
<span class="cp">#define LmSEQ_M1_LAST_LOADED_SGE(LinkNum)	(LmSCRATCH(LinkNum) + 0x009D)</span>
<span class="cp">#define LmSEQ_M1_SAVE_SCBPTR(LinkNum)		(LmSCRATCH(LinkNum) + 0x009E)</span>

<span class="cm">/* Mode dependent scratch page 0 macros for mode 2 (non-common) */</span>
<span class="cp">#define LmSEQ_PORT_COUNTER(LinkNum)		(LmSCRATCH(LinkNum) + 0x010E)</span>
<span class="cp">#define LmSEQ_PM_TABLE_PTR(LinkNum)		(LmSCRATCH(LinkNum) + 0x0110)</span>
<span class="cp">#define LmSEQ_SATA_INTERLOCK_TMR_SAVE(LinkNum)	(LmSCRATCH(LinkNum) + 0x0112)</span>
<span class="cp">#define LmSEQ_IP_BITL(LinkNum)			(LmSCRATCH(LinkNum) + 0x0114)</span>
<span class="cp">#define LmSEQ_COPY_SMP_CONN_TAG(LinkNum)	(LmSCRATCH(LinkNum) + 0x0116)</span>
<span class="cp">#define LmSEQ_P0M2_OFFS1AH(LinkNum)		(LmSCRATCH(LinkNum) + 0x011A)</span>

<span class="cm">/* Mode dependent scratch page 0 macros for modes 4/5 (non-common) */</span>
<span class="cm">/* Absolute offsets */</span>
<span class="cp">#define LmSEQ_SAVED_OOB_STATUS(LinkNum)		(LmSCRATCH(LinkNum) + 0x006E)</span>
<span class="cp">#define LmSEQ_SAVED_OOB_MODE(LinkNum)		(LmSCRATCH(LinkNum) + 0x006F)</span>
<span class="cp">#define LmSEQ_Q_LINK_HEAD(LinkNum)		(LmSCRATCH(LinkNum) + 0x0070)</span>
<span class="cp">#define LmSEQ_LINK_RST_ERR(LinkNum)		(LmSCRATCH(LinkNum) + 0x0072)</span>
<span class="cp">#define LmSEQ_SAVED_OOB_SIGNALS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0073)</span>
<span class="cp">#define LmSEQ_SAS_RESET_MODE(LinkNum)		(LmSCRATCH(LinkNum) + 0x0074)</span>
<span class="cp">#define LmSEQ_LINK_RESET_RETRY_COUNT(LinkNum)	(LmSCRATCH(LinkNum) + 0x0075)</span>
<span class="cp">#define LmSEQ_NUM_LINK_RESET_RETRIES(LinkNum)	(LmSCRATCH(LinkNum) + 0x0076)</span>
<span class="cp">#define LmSEQ_OOB_INT_ENABLES(LinkNum)		(LmSCRATCH(LinkNum) + 0x0078)</span>
<span class="cp">#define LmSEQ_NOTIFY_TIMER_DOWN_COUNT(LinkNum)	(LmSCRATCH(LinkNum) + 0x007A)</span>
<span class="cp">#define LmSEQ_NOTIFY_TIMER_TIMEOUT(LinkNum)	(LmSCRATCH(LinkNum) + 0x007C)</span>
<span class="cp">#define LmSEQ_NOTIFY_TIMER_INITIAL_COUNT(LinkNum) (LmSCRATCH(LinkNum) + 0x007E)</span>

<span class="cm">/* Mode dependent scratch page 1, mode 0 and mode 1 */</span>
<span class="cp">#define LmSEQ_SG_LIST_PTR_ADDR0(LinkNum)        (LmSCRATCH(LinkNum) + 0x0020)</span>
<span class="cp">#define LmSEQ_SG_LIST_PTR_ADDR1(LinkNum)        (LmSCRATCH(LinkNum) + 0x0030)</span>
<span class="cp">#define LmSEQ_M1_SG_LIST_PTR_ADDR0(LinkNum)     (LmSCRATCH(LinkNum) + 0x00A0)</span>
<span class="cp">#define LmSEQ_M1_SG_LIST_PTR_ADDR1(LinkNum)     (LmSCRATCH(LinkNum) + 0x00B0)</span>

<span class="cm">/* Mode dependent scratch page 1 macros for mode 2 */</span>
<span class="cm">/* Absolute offsets */</span>
<span class="cp">#define LmSEQ_INVALID_DWORD_COUNT(LinkNum)	(LmSCRATCH(LinkNum) + 0x0120)</span>
<span class="cp">#define LmSEQ_DISPARITY_ERROR_COUNT(LinkNum) 	(LmSCRATCH(LinkNum) + 0x0124)</span>
<span class="cp">#define LmSEQ_LOSS_OF_SYNC_COUNT(LinkNum)	(LmSCRATCH(LinkNum) + 0x0128)</span>

<span class="cm">/* Mode dependent scratch page 1 macros for mode 4/5 */</span>
<span class="cp">#define LmSEQ_FRAME_TYPE_MASK(LinkNum)	      (LmSCRATCH(LinkNum) + 0x00E0)</span>
<span class="cp">#define LmSEQ_HASHED_DEST_ADDR_MASK(LinkNum)  (LmSCRATCH(LinkNum) + 0x00E1)</span>
<span class="cp">#define LmSEQ_HASHED_SRC_ADDR_MASK_PRINT(LinkNum) (LmSCRATCH(LinkNum) + 0x00E4)</span>
<span class="cp">#define LmSEQ_HASHED_SRC_ADDR_MASK(LinkNum)   (LmSCRATCH(LinkNum) + 0x00E5)</span>
<span class="cp">#define LmSEQ_NUM_FILL_BYTES_MASK(LinkNum)    (LmSCRATCH(LinkNum) + 0x00EB)</span>
<span class="cp">#define LmSEQ_TAG_MASK(LinkNum)		      (LmSCRATCH(LinkNum) + 0x00F0)</span>
<span class="cp">#define LmSEQ_TARGET_PORT_XFER_TAG(LinkNum)   (LmSCRATCH(LinkNum) + 0x00F2)</span>
<span class="cp">#define LmSEQ_DATA_OFFSET(LinkNum)	      (LmSCRATCH(LinkNum) + 0x00F4)</span>

<span class="cm">/* Mode dependent scratch page 2 macros for mode 0 */</span>
<span class="cm">/* Absolute offsets */</span>
<span class="cp">#define LmSEQ_SMP_RCV_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0040)</span>
<span class="cp">#define LmSEQ_DEVICE_BITS(LinkNum)		(LmSCRATCH(LinkNum) + 0x005B)</span>
<span class="cp">#define LmSEQ_SDB_DDB(LinkNum)			(LmSCRATCH(LinkNum) + 0x005C)</span>
<span class="cp">#define LmSEQ_SDB_NUM_TAGS(LinkNum)		(LmSCRATCH(LinkNum) + 0x005E)</span>
<span class="cp">#define LmSEQ_SDB_CURR_TAG(LinkNum)		(LmSCRATCH(LinkNum) + 0x005F)</span>

<span class="cm">/* Mode dependent scratch page 2 macros for mode 1 */</span>
<span class="cm">/* Absolute offsets */</span>
<span class="cm">/* byte 0 bits 1-0 are domain select. */</span>
<span class="cp">#define LmSEQ_TX_ID_ADDR_FRAME(LinkNum)		(LmSCRATCH(LinkNum) + 0x00C0)</span>
<span class="cp">#define LmSEQ_OPEN_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x00C8)</span>
<span class="cp">#define LmSEQ_SRST_AS_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x00CC)</span>
<span class="cp">#define LmSEQ_LAST_LOADED_SG_EL(LinkNum)	(LmSCRATCH(LinkNum) + 0x00D4)</span>

<span class="cm">/* Mode dependent scratch page 2 macros for mode 2 */</span>
<span class="cm">/* Absolute offsets */</span>
<span class="cp">#define LmSEQ_STP_SHUTDOWN_TIMER_TERM_TS(LinkNum) (LmSCRATCH(LinkNum) + 0x0140)</span>
<span class="cp">#define LmSEQ_CLOSE_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0144)</span>
<span class="cp">#define LmSEQ_BREAK_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0148)</span>
<span class="cp">#define LmSEQ_DWS_RESET_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x014C)</span>
<span class="cp">#define LmSEQ_SATA_INTERLOCK_TIMER_TERM_TS(LinkNum) \</span>
<span class="cp">						(LmSCRATCH(LinkNum) + 0x0150)</span>
<span class="cp">#define LmSEQ_MCTL_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0154)</span>

<span class="cm">/* Mode dependent scratch page 2 macros for mode 5 */</span>
<span class="cp">#define LmSEQ_COMINIT_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0160)</span>
<span class="cp">#define LmSEQ_RCV_ID_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0164)</span>
<span class="cp">#define LmSEQ_RCV_FIS_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0168)</span>
<span class="cp">#define LmSEQ_DEV_PRES_TIMER_TERM_TS(LinkNum)	(LmSCRATCH(LinkNum) + 0x016C)</span>

<span class="cm">/* Mode dependent scratch page 3 macros for modes 0 and 1 */</span>
<span class="cm">/* None defined */</span>

<span class="cm">/* Mode dependent scratch page 3 macros for modes 2 and 5 */</span>
<span class="cm">/* None defined */</span>

<span class="cm">/* Mode Independent Scratch page 0 macros. */</span>
<span class="cp">#define LmSEQ_Q_TGTXFR_HEAD(LinkNum)	(LmSCRATCH(LinkNum) + 0x0180)</span>
<span class="cp">#define LmSEQ_Q_TGTXFR_TAIL(LinkNum)	(LmSCRATCH(LinkNum) + 0x0182)</span>
<span class="cp">#define LmSEQ_LINK_NUMBER(LinkNum)	(LmSCRATCH(LinkNum) + 0x0186)</span>
<span class="cp">#define LmSEQ_SCRATCH_FLAGS(LinkNum)	(LmSCRATCH(LinkNum) + 0x0187)</span>
<span class="cm">/*</span>
<span class="cm"> * Currently only bit 0, SAS_DWSAQD, is used.</span>
<span class="cm"> */</span>
<span class="cp">#define		SAS_DWSAQD			0x01  </span><span class="cm">/*</span>
<span class="cm">						       * DWSSTATUS: DWSAQD</span>
<span class="cm">						       * bit las read in ISR.</span>
<span class="cm">						       */</span><span class="cp"></span>
<span class="cp">#define  LmSEQ_CONNECTION_STATE(LinkNum) (LmSCRATCH(LinkNum) + 0x0188)</span>
<span class="cm">/* Connection states (byte 0) */</span>
<span class="cp">#define		SAS_WE_OPENED_CS		0x01</span>
<span class="cp">#define		SAS_DEVICE_OPENED_CS		0x02</span>
<span class="cp">#define		SAS_WE_SENT_DONE_CS		0x04</span>
<span class="cp">#define		SAS_DEVICE_SENT_DONE_CS		0x08</span>
<span class="cp">#define		SAS_WE_SENT_CLOSE_CS		0x10</span>
<span class="cp">#define		SAS_DEVICE_SENT_CLOSE_CS	0x20</span>
<span class="cp">#define		SAS_WE_SENT_BREAK_CS		0x40</span>
<span class="cp">#define		SAS_DEVICE_SENT_BREAK_CS	0x80</span>
<span class="cm">/* Connection states (byte 1) */</span>
<span class="cp">#define		SAS_OPN_TIMEOUT_OR_OPN_RJCT_CS	0x01</span>
<span class="cp">#define		SAS_AIP_RECEIVED_CS		0x02</span>
<span class="cp">#define		SAS_CREDIT_TIMEOUT_OCCURRED_CS	0x04</span>
<span class="cp">#define		SAS_ACKNAK_TIMEOUT_OCCURRED_CS	0x08</span>
<span class="cp">#define		SAS_SMPRSP_TIMEOUT_OCCURRED_CS	0x10</span>
<span class="cp">#define		SAS_DONE_TIMEOUT_OCCURRED_CS	0x20</span>
<span class="cm">/* Connection states (byte 2) */</span>
<span class="cp">#define		SAS_SMP_RESPONSE_RECEIVED_CS	0x01</span>
<span class="cp">#define		SAS_INTLK_TIMEOUT_OCCURRED_CS	0x02</span>
<span class="cp">#define		SAS_DEVICE_SENT_DMAT_CS		0x04</span>
<span class="cp">#define		SAS_DEVICE_SENT_SYNCSRST_CS	0x08</span>
<span class="cp">#define		SAS_CLEARING_AFFILIATION_CS	0x20</span>
<span class="cp">#define		SAS_RXTASK_ACTIVE_CS		0x40</span>
<span class="cp">#define		SAS_TXTASK_ACTIVE_CS		0x80</span>
<span class="cm">/* Connection states (byte 3) */</span>
<span class="cp">#define		SAS_PHY_LOSS_OF_SIGNAL_CS	0x01</span>
<span class="cp">#define		SAS_DWS_TIMER_EXPIRED_CS	0x02</span>
<span class="cp">#define		SAS_LINK_RESET_NOT_COMPLETE_CS	0x04</span>
<span class="cp">#define		SAS_PHY_DISABLED_CS		0x08</span>
<span class="cp">#define		SAS_LINK_CTL_TASK_ACTIVE_CS	0x10</span>
<span class="cp">#define		SAS_PHY_EVENT_TASK_ACTIVE_CS	0x20</span>
<span class="cp">#define		SAS_DEVICE_SENT_ID_FRAME_CS	0x40</span>
<span class="cp">#define		SAS_DEVICE_SENT_REG_FIS_CS	0x40</span>
<span class="cp">#define		SAS_DEVICE_SENT_HARD_RESET_CS	0x80</span>
<span class="cp">#define  	SAS_PHY_IS_DOWN_FLAGS	(SAS_PHY_LOSS_OF_SIGNAL_CS|\</span>
<span class="cp">					 SAS_DWS_TIMER_EXPIRED_CS |\</span>
<span class="cp">					 SAS_LINK_RESET_NOT_COMPLETE_CS|\</span>
<span class="cp">					 SAS_PHY_DISABLED_CS)</span>

<span class="cp">#define		SAS_LINK_CTL_PHY_EVENT_FLAGS   (SAS_LINK_CTL_TASK_ACTIVE_CS |\</span>
<span class="cp">						SAS_PHY_EVENT_TASK_ACTIVE_CS |\</span>
<span class="cp">						SAS_DEVICE_SENT_ID_FRAME_CS  |\</span>
<span class="cp">						SAS_DEVICE_SENT_HARD_RESET_CS)</span>

<span class="cp">#define LmSEQ_CONCTL(LinkNum)		(LmSCRATCH(LinkNum) + 0x018C)</span>
<span class="cp">#define LmSEQ_CONSTAT(LinkNum)		(LmSCRATCH(LinkNum) + 0x018E)</span>
<span class="cp">#define LmSEQ_CONNECTION_MODES(LinkNum)	(LmSCRATCH(LinkNum) + 0x018F)</span>
<span class="cp">#define LmSEQ_REG1_ISR(LinkNum)		(LmSCRATCH(LinkNum) + 0x0192)</span>
<span class="cp">#define LmSEQ_REG2_ISR(LinkNum)		(LmSCRATCH(LinkNum) + 0x0194)</span>
<span class="cp">#define LmSEQ_REG3_ISR(LinkNum)		(LmSCRATCH(LinkNum) + 0x0196)</span>
<span class="cp">#define LmSEQ_REG0_ISR(LinkNum)		(LmSCRATCH(LinkNum) + 0x0198)</span>

<span class="cm">/* Mode independent scratch page 1 macros. */</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCBPTR0(LinkNum)	(LmSCRATCH(LinkNum) + 0x01A0)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCBPTR1(LinkNum)	(LmSCRATCH(LinkNum) + 0x01A2)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCBPTR2(LinkNum)	(LmSCRATCH(LinkNum) + 0x01A4)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCBPTR3(LinkNum)	(LmSCRATCH(LinkNum) + 0x01A6)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCB_OPCODE0(LinkNum)	(LmSCRATCH(LinkNum) + 0x01A8)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCB_OPCODE1(LinkNum)	(LmSCRATCH(LinkNum) + 0x01A9)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCB_OPCODE2(LinkNum)	(LmSCRATCH(LinkNum) + 0x01AA)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCB_OPCODE3(LinkNum)	(LmSCRATCH(LinkNum) + 0x01AB)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCB_HEAD(LinkNum)	(LmSCRATCH(LinkNum) + 0x01AC)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_SCB_TAIL(LinkNum)	(LmSCRATCH(LinkNum) + 0x01AD)</span>
<span class="cp">#define LmSEQ_EST_NEXUS_BUF_AVAIL(LinkNum)	(LmSCRATCH(LinkNum) + 0x01AE)</span>
<span class="cp">#define LmSEQ_TIMEOUT_CONST(LinkNum)		(LmSCRATCH(LinkNum) + 0x01B8)</span>
<span class="cp">#define LmSEQ_ISR_SAVE_SINDEX(LinkNum)	        (LmSCRATCH(LinkNum) + 0x01BC)</span>
<span class="cp">#define LmSEQ_ISR_SAVE_DINDEX(LinkNum)	        (LmSCRATCH(LinkNum) + 0x01BE)</span>

<span class="cm">/* Mode independent scratch page 2 macros. */</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_PTR0(LinkNum)	(LmSCRATCH(LinkNum) + 0x01C0)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_PTR1(LinkNum)	(LmSCRATCH(LinkNum) + 0x01C2)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_PTR2(LinkNum)	(LmSCRATCH(LinkNum) + 0x01C4)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_PTR3(LinkNum)	(LmSCRATCH(LinkNum) + 0x01C6)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_OPCD0(LinkNum)	(LmSCRATCH(LinkNum) + 0x01C8)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_OPCD1(LinkNum)	(LmSCRATCH(LinkNum) + 0x01C9)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_OPCD2(LinkNum)	(LmSCRATCH(LinkNum) + 0x01CA)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_OPCD3(LinkNum)	(LmSCRATCH(LinkNum) + 0x01CB)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_HEAD(LinkNum)	(LmSCRATCH(LinkNum) + 0x01CC)</span>
<span class="cp">#define LmSEQ_EMPTY_SCB_TAIL(LinkNum)	(LmSCRATCH(LinkNum) + 0x01CD)</span>
<span class="cp">#define LmSEQ_EMPTY_BUFS_AVAIL(LinkNum)	(LmSCRATCH(LinkNum) + 0x01CE)</span>
<span class="cp">#define LmSEQ_ATA_SCR_REGS(LinkNum)	(LmSCRATCH(LinkNum) + 0x01D4)</span>

<span class="cm">/* Mode independent scratch page 3 macros. */</span>
<span class="cp">#define LmSEQ_DEV_PRES_TMR_TOUT_CONST(LinkNum)	(LmSCRATCH(LinkNum) + 0x01E0)</span>
<span class="cp">#define LmSEQ_SATA_INTERLOCK_TIMEOUT(LinkNum)	(LmSCRATCH(LinkNum) + 0x01E4)</span>
<span class="cp">#define LmSEQ_STP_SHUTDOWN_TIMEOUT(LinkNum)	(LmSCRATCH(LinkNum) + 0x01E8)</span>
<span class="cp">#define LmSEQ_SRST_ASSERT_TIMEOUT(LinkNum)	(LmSCRATCH(LinkNum) + 0x01EC)</span>
<span class="cp">#define LmSEQ_RCV_FIS_TIMEOUT(LinkNum)		(LmSCRATCH(LinkNum) + 0x01F0)</span>
<span class="cp">#define LmSEQ_ONE_MILLISEC_TIMEOUT(LinkNum)	(LmSCRATCH(LinkNum) + 0x01F4)</span>
<span class="cp">#define LmSEQ_TEN_MS_COMINIT_TIMEOUT(LinkNum)	(LmSCRATCH(LinkNum) + 0x01F8)</span>
<span class="cp">#define LmSEQ_SMP_RCV_TIMEOUT(LinkNum)		(LmSCRATCH(LinkNum) + 0x01FC)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
