f | drv_interface.c | s | 14K | 531 | Omar Ramirez Luna | omar.ramirez@ti.com | 1329262731 |  | staging: tidspbridge: fix bridge_open memory leaks  There are two members of pr_ctxt allocated during bridge_open that are never freed resulting in memory leaks, these are stream_id and node_id, they are now freed on release of the handle (bridge_release) right before freeing pr_ctxt.  Error path for bridge_open was also fixed since the same variables could result in memory leaking due to missing handling of failure scenarios. While at it, the indentation changes were introduced to avoid interleaved goto statements inside big if blocks.  Signed-off-by: Omar Ramirez Luna <omar.ramirez@ti.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | rmm.c | s | 10K | 398 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328067 |  | staging: tidspbridge: remove rmm_init() and rmm_exit()  The rmm module has a rmm_init() and a rmm_exit() whose only purpose is to keep a reference counting which is not used at all.  This patch removes these functions and the reference count variable.  There is no functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | proc.c | s | 47K | 1635 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328066 |  | staging: tidspbridge: remove proc_init() and proc_exit()  The proc module has a proc_init() and a proc_exit() whose only purpose is to keep a reference counting which is not used at all.  This patch removes these functions and the reference count variable.  There is no functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | pwr.c | s | 4.6K | 159 | Rene Sapiens | rene.sapiens@ti.com | 1296871933 |  | staging: tidspbridge: set4 remove hungarian from structs  hungarian notation will be removed from the elements inside structures, the next varibles will be renamed:  Original:                Replacement: pfn_brd_set_state        brd_set_state pfn_brd_start            brd_start pfn_brd_status           brd_status pfn_brd_stop             brd_stop pfn_brd_write            brd_write pfn_chnl_add_io_req      chnl_add_io_req pfn_chnl_cancel_io       chnl_cancel_io pfn_chnl_close           chnl_close pfn_chnl_create          chnl_create pfn_chnl_destroy         chnl_destroy pfn_chnl_flush_io        chnl_flush_io pfn_chnl_get_info        chnl_get_info pfn_chnl_get_ioc         chnl_get_ioc pfn_chnl_get_mgr_info    chnl_get_mgr_info pfn_chnl_idle            chnl_idle pfn_chnl_open            chnl_open pfn_chnl_register_notify chnl_register_notify pfn_create		 create pfn_delete		 delete pfn_dev_cntrl		 dev_cntrl  Signed-off-by: Rene Sapiens <rene.sapiens@ti.com> Signed-off-by: Armando Uribe <x0095078@ti.com> Signed-off-by: Omar Ramirez Luna <omar.ramirez@ti.com>
f | strm.c | s | 18K | 655 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328066 |  | staging: tidspbridge: remove strm_init() and strm_exit()  The strm module has a strm_init() and a strm_exit() whose only purpose is to keep a reference counting which is not used at all.  This patch removes these functions and the reference count variable.  There is no functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | dspdrv.c | s | 3.9K | 122 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1328809099 |  | staging: tidspbridge: remove dbc.h  All the macros in dbc.h are removed now so this patch removes it completely.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | nldr.c | s | 48K | 1686 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328068 |  | staging: tidspbridge: remove nldr_init() and nldr_exit()  The dynamic loader was called by node.c with an interface. This interface was also modified to avoid the use of nldr_init() and nldr_exit().  There is not functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | mgr.c | s | 8.8K | 309 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328068 |  | staging: tidspbridge: simplify mgr_init()  No functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | disp.c | s | 17K | 593 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328066 |  | staging: tidspbridge: remove disp_init() and disp_exit()  The disp module has a disp_init() and a disp_exit() whose only purpose is to keep a reference counting which is not used at all.  This patch removes these functions and the reference count variable.  There is no functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | dbdcd.c | s | 35K | 1224 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328066 |  | staging: tidspbridge: remove cod_init() and cod_exit()  The cod module has a cod_init() and a cod_exit() whose only purpose is to keep a reference counting which is not used at all.  This patch removes these functions and the reference count variable.  There is no functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | node.c | s | 82K | 2729 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328068 |  | staging: tidspbridge: remove nldr_init() and nldr_exit()  The dynamic loader was called by node.c with an interface. This interface was also modified to avoid the use of nldr_init() and nldr_exit().  There is not functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | drv.c | s | 21K | 733 | Víctor Manuel Jáquez Leal | vjaquez@igalia.com | 1331328065 |  | staging: tidspbridge: remove drv_init() and drv_exit()  The drv module has a drv_init() and a drv_exit() whose only purpose is to keep a reference counting which is not used at all.  This patch removes these functions and the reference count variable.  There is no functional changes.  Signed-off-by: Víctor Manuel Jáquez Leal <vjaquez@igalia.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
