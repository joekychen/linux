f | rtsx.c | s | 27K | 888 | wwang | wei_wang@realsil.com.cn | 1334074696 |  | staging:rts_pstor:Avoid "Bad target number" message when probing driver  Avoid "Bad LUN" and "Bad target number" message by setting the supported max_lun and max_id for the scsi host  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | debug.h | s | 1.3K | 38 | Jeff Mahoney | jeffm@suse.com | 1303776511 |  | staging: rts_pstor: use #ifdef instead of #if  This patch fixes a number of the following warnings: warning: "CONFIG_RTS_PSTOR_DEBUG" is not defined  The code uses '#if CONFIG_RTS_PSTOR_DEBUG' when it should be using '#ifdef'  Signed-off-by: Jeff Mahoney <jeffm@suse.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Makefile | g | 229B |  | Arnaud Lacombe | lacombar@gmail.com | 1314138286 |  | drivers/staging: do not use EXTRA_CFLAGS  Usage of these flags has been deprecated for nearly 4 years by:      commit f77bf01425b11947eeb3b5b54685212c302741b8     Author: Sam Ravnborg <sam@neptun.(none)>     Date:   Mon Oct 15 22:25:06 2007 +0200          kbuild: introduce ccflags-y, asflags-y and ldflags-y  Moreover, these flags (at least EXTRA_CFLAGS) have been documented for command line use. By default, gmake(1) do not override command line setting, so this is likely to result in build failure or unexpected behavior.  Replace their usage by Kbuild's `{as,cc,ld}flags-y'.  Cc: Sam Ravnborg <sam@ravnborg.org> Signed-off-by: Arnaud Lacombe <lacombar@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_sys.h | s | 1.4K | 41 | wwang | wei_wang@realsil.com.cn | 1295640662 |  | staging: add rts_pstor for Realtek PCIE cardreader  rts_pstor is used to support Realtek PCI-E card readers, including rts5209, rts5208, Barossa.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_transport.c | s | 19K | 638 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1335984487 |  | Merge 3.4-rc5 into staging-next  This resolves the conflict in: 	drivers/staging/vt6656/ioctl.c  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | sd.c | s | 118K | 4032 | wwang | wei_wang@realsil.com.cn | 1318889837 |  | staging:rts_pstor:Fix SDIO issue  Fix a bug that SDIO and SD normal card would appear simultaneously if a SDIO card inserted.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Acked-by: Dan Carpenter <dan.carpenter@oracle.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | trace.h | s | 3.6K | 102 | Jeff Mahoney | jeffm@suse.com | 1303776511 |  | staging: rts_pstor: use #ifdef instead of #if  This patch fixes a number of the following warnings: warning: "CONFIG_RTS_PSTOR_DEBUG" is not defined  The code uses '#if CONFIG_RTS_PSTOR_DEBUG' when it should be using '#ifdef'  Signed-off-by: Jeff Mahoney <jeffm@suse.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | xd.h | s | 5.3K | 160 | wwang | wei_wang@realsil.com.cn | 1295640662 |  | staging: add rts_pstor for Realtek PCIE cardreader  rts_pstor is used to support Realtek PCI-E card readers, including rts5209, rts5208, Barossa.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | TODO | g | 458B |  | Chris Ball | cjb@laptop.org | 1330113794 |  | staging: Update TODO for rts5139 and rts_pstor  These are each >20k LOC drivers that embed an entire SD stack, and present SD cards as if they were SCSI devices; both drivers should be rewritten to be small hooks that connect the PCI (for rts_pstor) or USB (for rts5139) hardware into Linux's MMC/xD/memorystick stacks.  Signed-off-by: Chris Ball <cjb@laptop.org> Cc: edwin_rong <edwin_rong@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | rtsx_scsi.c | s | 75K | 2663 | Thomas Meyer | thomas@m3y3r.de | 1314138178 |  | staging: rts_pstor: dont cast void* from kmalloc()   Casting (void *) value returned by kmalloc is useless  as mentioned in Documentation/CodingStyle, Chap 14.   The semantic patch that makes this output is available  in scripts/coccinelle/api/alloc/drop_kmalloc_cast.cocci.   More information about semantic patching is available at  http://coccinelle.lip6.fr/  Signed-off-by: Thomas Meyer <thomas@m3y3r.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | xd.c | s | 56K | 1665 | Linus Torvalds | torvalds@linux-foundation.org | 1306180168 |  | Merge branch 'staging-next' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging-2.6  * 'staging-next' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging-2.6: (970 commits)   staging: usbip: replace usbip_u{dbg,err,info} and printk with dev_ and pr_   staging:iio: Trivial kconfig reorganization and uniformity improvements.   staging:iio:documenation partial update.   staging:iio: use pollfunc allocation helpers in remaining drivers.   staging:iio:max1363 misc cleanups and use of for_each_bit_set to simplify event code spitting out.   staging:iio: implement an iio_info structure to take some of the constant elements out of iio_dev.   staging:iio:meter:ade7758: Use private data space from iio_allocate_device   staging:iio:accel:lis3l02dq make write_reg_8 take value not a pointer to value.   staging:iio: ring core cleanups + check if read_last available in lis3l02dq   staging:iio:core cleanup: squash tiny wrappers and use dev_set_name to handle creation of event interface name.   staging:iio: poll func allocation clean up.   staging:iio:ad7780 trivial unused header cleanup.   staging:iio:adc: AD7780: Use private data space from iio_allocate_device + trivial fixes   staging:iio:adc:AD7780: Convert to new channel registration method   staging:iio:adc: AD7606: Drop dev_data in favour of iio_priv()   staging:iio:adc: AD7606: Consitently use indio_dev   staging:iio: Rip out helper for software rings.   staging:iio:adc:AD7298: Use private data space from iio_allocate_device   staging:iio: rationalization of different buffer implementation hooks.   staging:iio:imu:adis16400 avoid allocating rx, tx, and state separately from iio_dev.   ...  Fix up trivial conflicts in  - drivers/staging/intel_sst/intelmid.c: patches applied in both branches  - drivers/staging/rt2860/common/cmm_data_{pci,usb}.c: removed vs spelling  - drivers/staging/usbip/vhci_sysfs.c: trivial header file inclusion
f | general.h | s | 1015B | 27 | wwang | wei_wang@realsil.com.cn | 1295640662 |  | staging: add rts_pstor for Realtek PCIE cardreader  rts_pstor is used to support Realtek PCI-E card readers, including rts5209, rts5208, Barossa.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | ms.c | s | 101K | 3548 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1335984487 |  | Merge 3.4-rc5 into staging-next  This resolves the conflict in: 	drivers/staging/vt6656/ioctl.c  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | rtsx.h | s | 5.2K | 149 | Pelle Windestam | pelle@windestam.se | 1318889837 |  | drivers: staging: rts_pstor fixed checkpatch warnings  Fixed the checkpatch warnings in rtsx.c/.h, mostly braces and spaces before tabs issues. Also fixed warning about not using DEFINE_PCI_DEVICE_TABLE(...) macro.  Signed-off-by: Pelle Windestam <pelle@windestam.se> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | spi.h | s | 2.2K | 56 | wwang | wei_wang@realsil.com.cn | 1295640662 |  | staging: add rts_pstor for Realtek PCIE cardreader  rts_pstor is used to support Realtek PCI-E card readers, including rts5209, rts5208, Barossa.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | ms.h | s | 6.1K | 185 | wwang | wei_wang@realsil.com.cn | 1295640662 |  | staging: add rts_pstor for Realtek PCIE cardreader  rts_pstor is used to support Realtek PCI-E card readers, including rts5209, rts5208, Barossa.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_card.c | s | 29K | 1061 | wwang | wei_wang@realsil.com.cn | 1298061089 |  | staging: rts_pstor: fix sparse warning  Add static modifier before some functions and global variables.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_chip.h | s | 28K | 804 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | sd.h | s | 8.3K | 246 | wwang | wei_wang@realsil.com.cn | 1309920898 |  | staging: rts_pstor: Fix a bug that a MMCPlus card can't be accessed  1. Don't switch bus if cmd14 timedout 2. Add a new group of return codes for mmc_test_switch_bus  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_transport.h | s | 2.2K | 54 | wwang | wei_wang@realsil.com.cn | 1295640662 |  | staging: add rts_pstor for Realtek PCIE cardreader  rts_pstor is used to support Realtek PCI-E card readers, including rts5209, rts5208, Barossa.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | spi.c | s | 22K | 628 | Thomas Meyer | thomas@m3y3r.de | 1314138177 |  | Staging: rts_pstor: dont cast void* from kmalloc()   Casting (void *) value returned by kmalloc is useless  as mentioned in Documentation/CodingStyle, Chap 14.   The semantic patch that makes this output is available  in scripts/coccinelle/api/alloc/drop_kmalloc_cast.cocci.   More information about semantic patching is available at  http://coccinelle.lip6.fr/  Signed-off-by: Thomas Meyer <thomas@m3y3r.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Kconfig | g | 439B |  | Randy Dunlap | randy.dunlap@oracle.com | 1296509735 |  | staging: fix rts_pstor build errors  Fix multiple rts_pstor build errors.  When CONFIG_PCI is not enabled:  drivers/staging/rts_pstor/rtsx.c: In function 'rtsx_acquire_irq': drivers/staging/rts_pstor/rtsx.c:324: error: implicit declaration of function 'pci_intx' drivers/staging/rts_pstor/rtsx.c: In function 'rtsx_read_pci_cfg_byte': drivers/staging/rts_pstor/rtsx.c:336: error: implicit declaration of function 'pci_get_domain_bus_and_slot' drivers/staging/rts_pstor/rtsx.c:336: warning: assignment makes pointer from integer without a cast drivers/staging/rts_pstor/rtsx.c: In function 'rtsx_shutdown': drivers/staging/rts_pstor/rtsx.c:462: error: implicit declaration of function 'pci_disable_msi' drivers/staging/rts_pstor/rtsx.c: In function 'rtsx_probe': drivers/staging/rts_pstor/rtsx.c:981: error: implicit declaration of function 'pci_enable_msi'  When CONFIG_SCSI is not enabled:  In file included from drivers/staging/rts_pstor/rtsx.h:45,                  from drivers/staging/rts_pstor/rtsx.c:28: include/scsi/scsi_cmnd.h:27:25: warning: "BLK_MAX_CDB" is not defined include/scsi/scsi_cmnd.h:28:3: error: #error MAX_COMMAND_SIZE can not be bigger than BLK_MAX_CDB In file included from drivers/staging/rts_pstor/rtsx.h:45,                  from drivers/staging/rts_pstor/rtsx.c:28: include/scsi/scsi_cmnd.h: In function 'scsi_bidi_cmnd': include/scsi/scsi_cmnd.h:184: error: implicit declaration of function 'blk_bidi_rq' include/scsi/scsi_cmnd.h:185: error: dereferencing pointer to incomplete type include/scsi/scsi_cmnd.h: In function 'scsi_in': include/scsi/scsi_cmnd.h:191: error: dereferencing pointer to incomplete type include/scsi/scsi_cmnd.h: In function 'scsi_get_lba':  CC      drivers/gpu/drm/nouveau/nv04_tv.o  include/scsi/scsi_cmnd.h:269: error: implicit declaration of function 'blk_rq_pos' In file included from drivers/staging/rts_pstor/rtsx.h:48,                  from drivers/staging/rts_pstor/rtsx.c:28: include/scsi/scsi_eh.h: At top level: include/scsi/scsi_eh.h:84: error: 'BLK_MAX_CDB' undeclared here (not in a function) drivers/staging/rts_pstor/rtsx.c: In function 'slave_configure': drivers/staging/rts_pstor/rtsx.c:107: error: implicit declaration of function 'blk_queue_dma_alignment'  Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Cc: wei_wang@realsil.com.cn Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_card.h | s | 28K | 944 | Timo von Holtz | tvh@informatik.uni-kiel.de | 1296853262 |  | Staging: rts_pstor: fixed some brace code styling issues  Fixed all brace coding style issues in the following files: drivers/staging/rts_pstor/rtsx_card.h drivers/staging/rts_pstor/spi.c drivers/staging/rts_pstor/trace.h drivers/staging/rts_pstor/xd.c  Signed-off-by: Timo von Holtz <tvh@informatik.uni-kiel.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | general.c | s | 1.0K | 32 | wwang | wei_wang@realsil.com.cn | 1295640662 |  | staging: add rts_pstor for Realtek PCIE cardreader  rts_pstor is used to support Realtek PCI-E card readers, including rts5209, rts5208, Barossa.  Signed-off-by: wwang <wei_wang@realsil.com.cn> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_chip.c | s | 52K | 1972 | Joe Perches | joe@perches.com | 1309292637 |  | staging: Convert vmalloc/memset to vzalloc  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | rtsx_scsi.h | s | 4.2K | 122 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
