<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › vt6655 › iocmd.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>iocmd.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 1996, 2003 VIA Networking Technologies, Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along</span>
<span class="cm"> * with this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span>
<span class="cm"> *</span>
<span class="cm"> * File: iocmd.h</span>
<span class="cm"> *</span>
<span class="cm"> * Purpose: Handles the viawget ioctl private interface functions</span>
<span class="cm"> *</span>
<span class="cm"> * Author: Lyndon Chen</span>
<span class="cm"> *</span>
<span class="cm"> * Date: May 8, 2002</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __IOCMD_H__</span>
<span class="cp">#define __IOCMD_H__</span>

<span class="cp">#include &quot;ttype.h&quot;</span>

<span class="cm">/*---------------------  Export Definitions -------------------------*/</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>typedef uint32<em>t u32;
typedef uint16</em>t u16;
typedef uint8_t u8;</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>ioctl Command code</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAGIC_CODE	                 0x3142</span>
<span class="cp">#define IOCTL_CMD_TEST	            (SIOCDEVPRIVATE + 0)</span>
<span class="cp">#define IOCTL_CMD_SET			    (SIOCDEVPRIVATE + 1)</span>
<span class="cp">#define IOCTL_CMD_HOSTAPD           (SIOCDEVPRIVATE + 2)</span>
<span class="cp">#define IOCTL_CMD_WPA               (SIOCDEVPRIVATE + 3)</span>


<span class="k">typedef</span> <span class="k">enum</span> <span class="n">tagWMAC_CMD</span> <span class="p">{</span>

    <span class="n">WLAN_CMD_BSS_SCAN</span><span class="p">,</span>
    <span class="n">WLAN_CMD_BSS_JOIN</span><span class="p">,</span>
    <span class="n">WLAN_CMD_DISASSOC</span><span class="p">,</span>
    <span class="n">WLAN_CMD_SET_WEP</span><span class="p">,</span>
    <span class="n">WLAN_CMD_GET_LINK</span><span class="p">,</span>
    <span class="n">WLAN_CMD_GET_LISTLEN</span><span class="p">,</span>
    <span class="n">WLAN_CMD_GET_LIST</span><span class="p">,</span>
    <span class="n">WLAN_CMD_GET_MIB</span><span class="p">,</span>
    <span class="n">WLAN_CMD_GET_STAT</span><span class="p">,</span>
    <span class="n">WLAN_CMD_STOP_MAC</span><span class="p">,</span>
    <span class="n">WLAN_CMD_START_MAC</span><span class="p">,</span>
    <span class="n">WLAN_CMD_AP_START</span><span class="p">,</span>
    <span class="n">WLAN_CMD_SET_HOSTAPD</span><span class="p">,</span>
    <span class="n">WLAN_CMD_SET_HOSTAPD_STA</span><span class="p">,</span>
    <span class="n">WLAN_CMD_SET_802_1X</span><span class="p">,</span>
    <span class="n">WLAN_CMD_SET_HOST_WEP</span><span class="p">,</span>
    <span class="n">WLAN_CMD_SET_WPA</span><span class="p">,</span>
    <span class="n">WLAN_CMD_GET_NODE_CNT</span><span class="p">,</span>
    <span class="n">WLAN_CMD_ZONETYPE_SET</span><span class="p">,</span>
    <span class="n">WLAN_CMD_GET_NODE_LIST</span>

<span class="p">}</span> <span class="n">WMAC_CMD</span><span class="p">,</span> <span class="o">*</span><span class="n">PWMAC_CMD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="n">tagWZONETYPE</span> <span class="p">{</span>
  <span class="n">ZoneType_USA</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">ZoneType_Japan</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">ZoneType_Europe</span><span class="o">=</span><span class="mi">2</span>
<span class="p">}</span><span class="n">WZONETYPE</span><span class="p">;</span>

<span class="cp">#define ADHOC	0</span>
<span class="cp">#define INFRA	1</span>
<span class="cp">#define BOTH	2</span>
<span class="cp">#define AP	    3</span>

<span class="cp">#define ADHOC_STARTED	   1</span>
<span class="cp">#define ADHOC_JOINTED	   2</span>


<span class="cp">#define PHY80211a 	    0</span>
<span class="cp">#define PHY80211b       1</span>
<span class="cp">#define PHY80211g       2</span>

<span class="cp">#define SSID_ID                0</span>
<span class="cp">#define SSID_MAXLEN            32</span>
<span class="cp">#define BSSID_LEN              6</span>
<span class="cp">#define WEP_NKEYS              4</span>
<span class="cp">#define WEP_KEYMAXLEN          29</span>
<span class="cp">#define WEP_40BIT_LEN          5</span>
<span class="cp">#define WEP_104BIT_LEN         13</span>
<span class="cp">#define WEP_232BIT_LEN         16</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>Ioctl interface structure
Command structure</p></td><td class="code"><div class="highlight"><pre><span class="cp">#pragma pack(1)</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdRequest</span> <span class="p">{</span>
	<span class="n">u8</span>	    <span class="n">name</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="kt">void</span>	<span class="o">*</span><span class="n">data</span><span class="p">;</span>
	<span class="n">u16</span>	    <span class="n">wResult</span><span class="p">;</span>
	<span class="n">u16</span>     <span class="n">wCmdCode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">SCmdRequest</span><span class="p">,</span> <span class="o">*</span><span class="n">PSCmdRequest</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>Scan</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdScan</span> <span class="p">{</span>

	<span class="n">u8</span> <span class="n">ssid</span><span class="p">[</span><span class="n">SSID_MAXLEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">];</span>

<span class="p">}</span> <span class="n">SCmdScan</span><span class="p">,</span> <span class="o">*</span><span class="n">PSCmdScan</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>BSS Join</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdBSSJoin</span> <span class="p">{</span>

    <span class="n">u16</span>	    <span class="n">wBSSType</span><span class="p">;</span>
    <span class="n">u16</span>     <span class="n">wBBPType</span><span class="p">;</span>
    <span class="n">u8</span>	    <span class="n">ssid</span><span class="p">[</span><span class="n">SSID_MAXLEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">];</span>
    <span class="n">u32</span>	    <span class="n">uChannel</span><span class="p">;</span>
    <span class="n">bool</span> <span class="n">bPSEnable</span><span class="p">;</span>
    <span class="n">bool</span> <span class="n">bShareKeyAuth</span><span class="p">;</span>

<span class="p">}</span> <span class="n">SCmdBSSJoin</span><span class="p">,</span> <span class="o">*</span><span class="n">PSCmdBSSJoin</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>Zonetype Setting</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdZoneTypeSet</span> <span class="p">{</span>

 <span class="n">bool</span> <span class="n">bWrite</span><span class="p">;</span>
 <span class="n">WZONETYPE</span>  <span class="n">ZoneType</span><span class="p">;</span>

<span class="p">}</span> <span class="n">SCmdZoneTypeSet</span><span class="p">,</span> <span class="o">*</span><span class="n">PSCmdZoneTypeSet</span><span class="p">;</span>

<span class="cp">#ifdef WPA_SM_Transtatus</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSWPAResult</span> <span class="p">{</span>
         <span class="kt">char</span>	<span class="n">ifname</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
         <span class="n">u8</span> <span class="n">proto</span><span class="p">;</span>
         <span class="n">u8</span> <span class="n">key_mgmt</span><span class="p">;</span>
         <span class="n">u8</span> <span class="n">eap_type</span><span class="p">;</span>
         <span class="n">bool</span> <span class="n">authenticated</span><span class="p">;</span>
<span class="p">}</span> <span class="n">SWPAResult</span><span class="p">,</span> <span class="o">*</span><span class="n">PSWPAResult</span><span class="p">;</span>
<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdStartAP</span> <span class="p">{</span>

    <span class="n">u16</span>	    <span class="n">wBSSType</span><span class="p">;</span>
    <span class="n">u16</span>     <span class="n">wBBPType</span><span class="p">;</span>
    <span class="n">u8</span>	    <span class="n">ssid</span><span class="p">[</span><span class="n">SSID_MAXLEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">];</span>
    <span class="n">u32</span>	    <span class="n">uChannel</span><span class="p">;</span>
    <span class="n">u32</span>     <span class="n">uBeaconInt</span><span class="p">;</span>
    <span class="n">bool</span> <span class="n">bShareKeyAuth</span><span class="p">;</span>
    <span class="n">u8</span>      <span class="n">byBasicRate</span><span class="p">;</span>

<span class="p">}</span> <span class="n">SCmdStartAP</span><span class="p">,</span> <span class="o">*</span><span class="n">PSCmdStartAP</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdSetWEP</span> <span class="p">{</span>

    <span class="n">bool</span> <span class="n">bEnableWep</span><span class="p">;</span>
    <span class="n">u8</span>      <span class="n">byKeyIndex</span><span class="p">;</span>
    <span class="n">u8</span>      <span class="n">abyWepKey</span><span class="p">[</span><span class="n">WEP_NKEYS</span><span class="p">][</span><span class="n">WEP_KEYMAXLEN</span><span class="p">];</span>
    <span class="n">bool</span> <span class="n">bWepKeyAvailable</span><span class="p">[</span><span class="n">WEP_NKEYS</span><span class="p">];</span>
    <span class="n">u32</span>     <span class="n">auWepKeyLength</span><span class="p">[</span><span class="n">WEP_NKEYS</span><span class="p">];</span>

<span class="p">}</span> <span class="n">SCmdSetWEP</span><span class="p">,</span> <span class="o">*</span><span class="n">PSCmdSetWEP</span><span class="p">;</span>



<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSBSSIDItem</span> <span class="p">{</span>

	<span class="n">u32</span>	    <span class="n">uChannel</span><span class="p">;</span>
    <span class="n">u8</span>      <span class="n">abyBSSID</span><span class="p">[</span><span class="n">BSSID_LEN</span><span class="p">];</span>
    <span class="n">u8</span>      <span class="n">abySSID</span><span class="p">[</span><span class="n">SSID_MAXLEN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>2006-1116-01,<Modify> by NomadZhao
u16        wBeaconInterval;
u16        wCapInfo;
u8      byNetType;</p></td><td class="code"><div class="highlight"><pre>    <span class="n">u8</span>      <span class="n">byNetType</span><span class="p">;</span>
    <span class="n">u16</span>	    <span class="n">wBeaconInterval</span><span class="p">;</span>
    <span class="n">u16</span>	    <span class="n">wCapInfo</span><span class="p">;</span>        <span class="c1">// for address of byNetType at align 4</span>

    <span class="n">bool</span> <span class="n">bWEPOn</span><span class="p">;</span>
    <span class="n">u32</span>     <span class="n">uRSSI</span><span class="p">;</span>

<span class="p">}</span> <span class="n">SBSSIDItem</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSBSSIDList</span> <span class="p">{</span>

	<span class="n">u32</span>		    <span class="n">uItem</span><span class="p">;</span>
	<span class="n">SBSSIDItem</span>	<span class="n">sBSSIDList</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">SBSSIDList</span><span class="p">,</span> <span class="o">*</span><span class="n">PSBSSIDList</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdLinkStatus</span> <span class="p">{</span>

    <span class="n">bool</span> <span class="n">bLink</span><span class="p">;</span>
	<span class="n">u16</span>   <span class="n">wBSSType</span><span class="p">;</span>
	<span class="n">u8</span>      <span class="n">byState</span><span class="p">;</span>
    <span class="n">u8</span>      <span class="n">abyBSSID</span><span class="p">[</span><span class="n">BSSID_LEN</span><span class="p">];</span>
    <span class="n">u8</span>      <span class="n">abySSID</span><span class="p">[</span><span class="n">SSID_MAXLEN</span> <span class="o">+</span> <span class="mi">2</span><span class="p">];</span>
    <span class="n">u32</span>     <span class="n">uChannel</span><span class="p">;</span>
    <span class="n">u32</span>     <span class="n">uLinkRate</span><span class="p">;</span>

<span class="p">}</span> <span class="n">SCmdLinkStatus</span><span class="p">,</span> <span class="o">*</span><span class="n">PSCmdLinkStatus</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>802.11 counter</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSDot11MIBCount</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">TransmittedFragmentCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">MulticastTransmittedFrameCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">FailedCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">RetryCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">MultipleRetryCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">RTSSuccessCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">RTSFailureCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ACKFailureCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">FrameDuplicateCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ReceivedFragmentCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">MulticastReceivedFrameCount</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">FCSErrorCount</span><span class="p">;</span>
<span class="p">}</span> <span class="n">SDot11MIBCount</span><span class="p">,</span> <span class="o">*</span><span class="n">PSDot11MIBCount</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>statistic counter</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSStatMIBCount</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>ISR status count</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">dwIsrTx0OK</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrTx1OK</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrBeaconTxOK</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrRxOK</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrTBTTInt</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrSTIMERInt</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrUnrecoverableError</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrSoftInterrupt</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwIsrRxNoBuf</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>///////////////////////////////////</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">dwIsrUnknown</span><span class="p">;</span>               <span class="c1">// unknown interrupt count</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>RSR status count</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">dwRsrFrmAlgnErr</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrErr</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrCRCErr</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrCRCOk</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrBSSIDOk</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrADDROk</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrICVOk</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwNewRsrShortPreamble</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrLong</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRunt</span><span class="p">;</span>

	<span class="n">u32</span>   <span class="n">dwRsrRxControl</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxData</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxManage</span><span class="p">;</span>

	<span class="n">u32</span>   <span class="n">dwRsrRxPacket</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxOctet</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrBroadcast</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrMulticast</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrDirected</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>64-bit OID</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">ullRsrOK</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>for some optional OIDs (64 bits) and DMI support</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">ullRxBroadcastBytes</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">ullRxMulticastBytes</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">ullRxDirectedBytes</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">ullRxBroadcastFrames</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">ullRxMulticastFrames</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">ullRxDirectedFrames</span><span class="p">;</span>

	<span class="n">u32</span>   <span class="n">dwRsrRxFragment</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxFrmLen64</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxFrmLen65_127</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxFrmLen128_255</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxFrmLen256_511</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxFrmLen512_1023</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwRsrRxFrmLen1024_1518</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>TSR0,1 status count</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">dwTsrTotalRetry</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>        <span class="c1">// total collision retry count</span>
	<span class="n">u32</span>   <span class="n">dwTsrOnceRetry</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>         <span class="c1">// this packet only occur one collision</span>
	<span class="n">u32</span>   <span class="n">dwTsrMoreThanOnceRetry</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="c1">// this packet occur more than one collision</span>
	<span class="n">u32</span>   <span class="n">dwTsrRetry</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>             <span class="c1">// this packet has ever occur collision,</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>that is (dwTsrOnceCollision0 + dwTsrMoreThanOnceCollision0)</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">dwTsrACKData</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwTsrErr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwAllTsrOK</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwTsrRetryTimeout</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwTsrTransmitTimeout</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="n">u32</span>   <span class="n">dwTsrTxPacket</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwTsrTxOctet</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwTsrBroadcast</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwTsrMulticast</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">dwTsrDirected</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>RD/TD count</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">dwCntRxFrmLength</span><span class="p">;</span>
	<span class="n">u32</span>   <span class="n">dwCntTxBufLength</span><span class="p">;</span>

	<span class="n">u8</span>    <span class="n">abyCntRxPattern</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">u8</span>    <span class="n">abyCntTxPattern</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>Software check....</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">dwCntRxDataErr</span><span class="p">;</span>             <span class="c1">// rx buffer data software compare CRC err count</span>
	<span class="n">u32</span>   <span class="n">dwCntDecryptErr</span><span class="p">;</span>            <span class="c1">// rx buffer data software compare CRC err count</span>
	<span class="n">u32</span>   <span class="n">dwCntRxICVErr</span><span class="p">;</span>              <span class="c1">// rx buffer data software compare CRC err count</span>
	<span class="n">u32</span>    <span class="n">idxRxErrorDesc</span><span class="p">;</span>             <span class="c1">// index for rx data error RD</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>64-bit OID</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">ullTsrOK</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>for some optional OIDs (64 bits) and DMI support</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u32</span>   <span class="n">ullTxBroadcastFrames</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">ullTxMulticastFrames</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">ullTxDirectedFrames</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">ullTxBroadcastBytes</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">ullTxMulticastBytes</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u32</span>   <span class="n">ullTxDirectedBytes</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span> <span class="n">SStatMIBCount</span><span class="p">,</span> <span class="o">*</span><span class="n">PSStatMIBCount</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSNodeItem</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>STA info</p></td><td class="code"><div class="highlight"><pre>    <span class="n">u16</span>            <span class="n">wAID</span><span class="p">;</span>
    <span class="n">u8</span>             <span class="n">abyMACAddr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
    <span class="n">u16</span>            <span class="n">wTxDataRate</span><span class="p">;</span>
    <span class="n">u16</span>            <span class="n">wInActiveCount</span><span class="p">;</span>
    <span class="n">u16</span>            <span class="n">wEnQueueCnt</span><span class="p">;</span>
    <span class="n">u16</span>            <span class="n">wFlags</span><span class="p">;</span>
    <span class="n">bool</span> <span class="n">bPWBitOn</span><span class="p">;</span>
    <span class="n">u8</span>             <span class="n">byKeyIndex</span><span class="p">;</span>
    <span class="n">u16</span>            <span class="n">wWepKeyLength</span><span class="p">;</span>
    <span class="n">u8</span>            <span class="n">abyWepKey</span><span class="p">[</span><span class="n">WEP_KEYMAXLEN</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>Auto rate fallback vars</p></td><td class="code"><div class="highlight"><pre>    <span class="n">bool</span> <span class="n">bIsInFallback</span><span class="p">;</span>
    <span class="n">u32</span>            <span class="n">uTxFailures</span><span class="p">;</span>
    <span class="n">u32</span>            <span class="n">uTxAttempts</span><span class="p">;</span>
    <span class="n">u16</span>            <span class="n">wFailureRatio</span><span class="p">;</span>

<span class="p">}</span> <span class="n">SNodeItem</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSNodeList</span> <span class="p">{</span>

	<span class="n">u32</span>		    <span class="n">uItem</span><span class="p">;</span>
	<span class="n">SNodeItem</span>	<span class="n">sNodeList</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

<span class="p">}</span> <span class="n">SNodeList</span><span class="p">,</span> <span class="o">*</span><span class="n">PSNodeList</span><span class="p">;</span>



<span class="k">typedef</span> <span class="k">struct</span> <span class="n">tagSCmdValue</span> <span class="p">{</span>

	<span class="n">u32</span> <span class="n">dwValue</span><span class="p">;</span>

<span class="p">}</span> <span class="n">SCmdValue</span><span class="p">,</span>  <span class="o">*</span><span class="n">PSCmdValue</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>hostapd &amp; viawget ioctl related</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>VIAGWET<em>IOCTL</em>HOSTAPD ioctl() cmd:</p></td><td class="code"><div class="highlight"><pre><span class="k">enum</span> <span class="p">{</span>
	<span class="n">VIAWGET_HOSTAPD_FLUSH</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_ADD_STA</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_REMOVE_STA</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_GET_INFO_STA</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_SET_ENCRYPTION</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_GET_ENCRYPTION</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_SET_FLAGS_STA</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_SET_ASSOC_AP_ADDR</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_SET_GENERIC_ELEMENT</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_MLME</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_SCAN_REQ</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">VIAWGET_HOSTAPD_STA_CLEAR_STATS</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
<span class="p">};</span>


<span class="cp">#define VIAWGET_HOSTAPD_GENERIC_ELEMENT_HDR_LEN \</span>
<span class="cp">((int) (&amp;((struct viawget_hostapd_param *) 0)-&gt;u.generic_elem.data))</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>Maximum length for algorithm names (-1 for nul termination) used in ioctl()</p></td><td class="code"><div class="highlight"><pre><span class="k">struct</span> <span class="n">viawget_hostapd_param</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">cmd</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sta_addr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u16</span> <span class="n">aid</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">capability</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">tx_supp_rates</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">add_sta</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">inactive_sec</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">get_info_sta</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">alg</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">flags</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">err</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">idx</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">seq</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
			<span class="n">u16</span> <span class="n">key_len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">crypt</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">flags_and</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">flags_or</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">set_flags_sta</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u16</span> <span class="n">rid</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">rid</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">generic_elem</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u16</span> <span class="n">cmd</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">reason_code</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">mlme</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u8</span> <span class="n">ssid_len</span><span class="p">;</span>
			<span class="n">u8</span> <span class="n">ssid</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">scan_req</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>2006-1116-01,<Add> by NomadZhao</p></td><td class="code"><div class="highlight"><pre><span class="cp">#pragma pack()</span>

<span class="cm">/*---------------------  Export Classes  ----------------------------*/</span>

<span class="cm">/*---------------------  Export Variables  --------------------------*/</span>


<span class="cm">/*---------------------  Export Types  ------------------------------*/</span>


<span class="cm">/*---------------------  Export Functions  --------------------------*/</span>



<span class="cp">#endif </span><span class="c1">//__IOCMD_H__</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
