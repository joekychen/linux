<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › vt6655 › rf.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>rf.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 1996, 2003 VIA Networking Technologies, Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along</span>
<span class="cm"> * with this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> * File: rf.c</span>
<span class="cm"> *</span>
<span class="cm"> * Purpose: rf function code</span>
<span class="cm"> *</span>
<span class="cm"> * Author: Jerry Chen</span>
<span class="cm"> *</span>
<span class="cm"> * Date: Feb. 19, 2004</span>
<span class="cm"> *</span>
<span class="cm"> * Functions:</span>
<span class="cm"> *      IFRFbWriteEmbeded      - Embeded write RF register via MAC</span>
<span class="cm"> *</span>
<span class="cm"> * Revision History:</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#include &quot;mac.h&quot;</span>
<span class="cp">#include &quot;srom.h&quot;</span>
<span class="cp">#include &quot;rf.h&quot;</span>
<span class="cp">#include &quot;baseband.h&quot;</span>

<span class="cm">/*---------------------  Static Definitions -------------------------*/</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>static int          msglevel                =MSG<em>LEVEL</em>INFO;</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define BY_RF2959_REG_LEN     23 </span><span class="c1">//24bits</span>
<span class="cp">#define CB_RF2959_INIT_SEQ    15</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_RF2959 200 </span><span class="c1">//us</span>
<span class="cp">#define RF2959_PWR_IDX_LEN    32</span>

<span class="cp">#define BY_MA2825_REG_LEN     23 </span><span class="c1">//24bit</span>
<span class="cp">#define CB_MA2825_INIT_SEQ    13</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_MA2825 200 </span><span class="c1">//us</span>
<span class="cp">#define MA2825_PWR_IDX_LEN    31</span>

<span class="cp">#define BY_AL2230_REG_LEN     23 </span><span class="c1">//24bit</span>
<span class="cp">#define CB_AL2230_INIT_SEQ    15</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_AL2230 200 </span><span class="c1">//us</span>
<span class="cp">#define AL2230_PWR_IDX_LEN    64</span>


<span class="cp">#define BY_UW2451_REG_LEN     23</span>
<span class="cp">#define CB_UW2451_INIT_SEQ    6</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_UW2451 200 </span><span class="c1">//us</span>
<span class="cp">#define UW2451_PWR_IDX_LEN    25</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>{{ RobertYu: 20041118</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define BY_MA2829_REG_LEN     23 </span><span class="c1">//24bit</span>
<span class="cp">#define CB_MA2829_INIT_SEQ    13</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_MA2829 200 </span><span class="c1">//us</span>
<span class="cp">#define MA2829_PWR_IDX_LEN    64</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>}} RobertYu</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>{{ RobertYu:20050103</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define BY_AL7230_REG_LEN     23 </span><span class="c1">//24bit</span>
<span class="cp">#define CB_AL7230_INIT_SEQ    16</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_AL7230 200 </span><span class="c1">//us</span>
<span class="cp">#define AL7230_PWR_IDX_LEN    64</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>}} RobertYu</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>{{ RobertYu: 20041210</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define BY_UW2452_REG_LEN     23</span>
<span class="cp">#define CB_UW2452_INIT_SEQ    5 </span><span class="c1">//RoberYu:20050113, Rev0.2 Programming Guide(remove R3, so 6--&gt;5)</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_UW2452 100 </span><span class="c1">//us</span>
<span class="cp">#define UW2452_PWR_IDX_LEN    64</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>}} RobertYu</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define BY_VT3226_REG_LEN     23</span>
<span class="cp">#define CB_VT3226_INIT_SEQ    12</span>
<span class="cp">#define SWITCH_CHANNEL_DELAY_VT3226 200 </span><span class="c1">//us</span>
<span class="cp">#define VT3226_PWR_IDX_LEN    16</span>

<span class="cm">/*---------------------  Static Classes  ----------------------------*/</span>

<span class="cm">/*---------------------  Static Variables  --------------------------*/</span>



<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL2230InitTable</span><span class="p">[</span><span class="n">CB_AL2230_INIT_SEQ</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x03F79000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x01A00200</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x00FFF300</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x0005A400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x0F4DC500</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x0805B600</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x0146C700</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x00068800</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x0403B900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x00DBBA00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x00099B00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">//</span>
    <span class="mh">0x0BDFFC00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x00000D00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x00580F00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>
    <span class="p">};</span>

<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL2230ChannelTable0</span><span class="p">[</span><span class="n">CB_MAX_CHANNEL</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x03F79000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 1, Tf = 2412MHz</span>
    <span class="mh">0x03F79000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 2, Tf = 2417MHz</span>
    <span class="mh">0x03E79000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 3, Tf = 2422MHz</span>
    <span class="mh">0x03E79000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 4, Tf = 2427MHz</span>
    <span class="mh">0x03F7A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 5, Tf = 2432MHz</span>
    <span class="mh">0x03F7A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 6, Tf = 2437MHz</span>
    <span class="mh">0x03E7A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 7, Tf = 2442MHz</span>
    <span class="mh">0x03E7A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 8, Tf = 2447MHz</span>
    <span class="mh">0x03F7B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 9, Tf = 2452MHz</span>
    <span class="mh">0x03F7B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 10, Tf = 2457MHz</span>
    <span class="mh">0x03E7B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 11, Tf = 2462MHz</span>
    <span class="mh">0x03E7B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 12, Tf = 2467MHz</span>
    <span class="mh">0x03F7C000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 13, Tf = 2472MHz</span>
    <span class="mh">0x03E7C000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>  <span class="c1">// channel = 14, Tf = 2412M</span>
    <span class="p">};</span>

<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL2230ChannelTable1</span><span class="p">[</span><span class="n">CB_MAX_CHANNEL</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 1, Tf = 2412MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 2, Tf = 2417MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 3, Tf = 2422MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 4, Tf = 2427MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 5, Tf = 2432MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 6, Tf = 2437MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 7, Tf = 2442MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 8, Tf = 2447MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 9, Tf = 2452MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 10, Tf = 2457MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 11, Tf = 2462MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 12, Tf = 2467MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 13, Tf = 2472MHz</span>
    <span class="mh">0x06666100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>  <span class="c1">// channel = 14, Tf = 2412M</span>
    <span class="p">};</span>

<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL2230PowerTable</span><span class="p">[</span><span class="n">AL2230_PWR_IDX_LEN</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x04040900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04041900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04042900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04043900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04044900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04045900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04046900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04047900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04048900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04049900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0404A900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0404B900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0404C900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0404D900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0404E900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0404F900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04050900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04051900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04052900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04053900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04054900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04055900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04056900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04057900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04058900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04059900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0405A900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0405B900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0405C900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0405D900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0405E900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0405F900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04060900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04061900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04062900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04063900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04064900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04065900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04066900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04067900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04068900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04069900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0406A900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0406B900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0406C900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0406D900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0406E900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0406F900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04070900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04071900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04072900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04073900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04074900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04075900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04076900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04077900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04078900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x04079900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0407A900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0407B900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0407C900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0407D900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0407E900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x0407F900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>
    <span class="p">};</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>{{ RobertYu:20050104
40MHz reference frequency
Need to Pull PLLON(PE3) low when writing channel registers through 3-wire.</p></td><td class="code"><div class="highlight"><pre><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="n">CB_AL7230_INIT_SEQ</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x00379000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Channel1 // Need modify for 11a</span>
    <span class="mh">0x13333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Channel1 // Need modify for 11a</span>
    <span class="mh">0x841FF200</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11a: 451FE2</span>
    <span class="mh">0x3FDFA300</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11a: 5FDFA3</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// 11b/g    // Need modify for 11a</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>0x802B4500+(BY<em>AL7230</em>REG<em>LEN&lt;&lt;3)+IFREGCTL</em>REGW, // Need modify for 11a: 8D1B45
RoberYu:20050113, Rev0.47 Regsiter Setting Guide</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x802B5500</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11a: 8D1B55</span>
    <span class="mh">0x56AF3600</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0xCE020700</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11a: 860207</span>
    <span class="mh">0x6EBC0800</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x221BB900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0xE0000A00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11a: E0600A</span>
    <span class="mh">0x08031B00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// init 0x080B1B00 =&gt; 0x080F1B00 for 3 wire control TxGain(D10)</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>0x00093C00+(BY<em>AL7230</em>REG<em>LEN&lt;&lt;3)+IFREGCTL</em>REGW, // Need modify for 11a: 00143C
RoberYu:20050113, Rev0.47 Regsiter Setting Guide</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x000A3C00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11a: 00143C</span>
    <span class="mh">0xFFFFFD00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x00000E00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x1ABA8F00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>  <span class="c1">// Need modify for 11a: 12BACF</span>
    <span class="p">};</span>

<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="n">CB_AL7230_INIT_SEQ</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x0FF52000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Channel184 // Need modify for 11b/g</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Channel184 // Need modify for 11b/g</span>
    <span class="mh">0x451FE200</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11b/g</span>
    <span class="mh">0x5FDFA300</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11b/g</span>
    <span class="mh">0x67F78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// 11a    // Need modify for 11b/g</span>
    <span class="mh">0x853F5500</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11b/g, RoberYu:20050113</span>
    <span class="mh">0x56AF3600</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0xCE020700</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11b/g</span>
    <span class="mh">0x6EBC0800</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x221BB900</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0xE0600A00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11b/g</span>
    <span class="mh">0x08031B00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// init 0x080B1B00 =&gt; 0x080F1B00 for 3 wire control TxGain(D10)</span>
    <span class="mh">0x00147C00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// Need modify for 11b/g</span>
    <span class="mh">0xFFFFFD00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x00000E00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span>
    <span class="mh">0x12BACF00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>  <span class="c1">// Need modify for 11b/g</span>
    <span class="p">};</span>


<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL7230ChannelTable0</span><span class="p">[</span><span class="n">CB_MAX_CHANNEL</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x00379000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  1, Tf = 2412MHz</span>
    <span class="mh">0x00379000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  2, Tf = 2417MHz</span>
    <span class="mh">0x00379000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  3, Tf = 2422MHz</span>
    <span class="mh">0x00379000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  4, Tf = 2427MHz</span>
    <span class="mh">0x0037A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  5, Tf = 2432MHz</span>
    <span class="mh">0x0037A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  6, Tf = 2437MHz</span>
    <span class="mh">0x0037A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  7, Tf = 2442MHz</span>
    <span class="mh">0x0037A000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  8, Tf = 2447MHz //RobertYu: 20050218, update for APNode 0.49</span>
    <span class="mh">0x0037B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  9, Tf = 2452MHz //RobertYu: 20050218, update for APNode 0.49</span>
    <span class="mh">0x0037B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 10, Tf = 2457MHz //RobertYu: 20050218, update for APNode 0.49</span>
    <span class="mh">0x0037B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 11, Tf = 2462MHz //RobertYu: 20050218, update for APNode 0.49</span>
    <span class="mh">0x0037B000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 12, Tf = 2467MHz //RobertYu: 20050218, update for APNode 0.49</span>
    <span class="mh">0x0037C000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 13, Tf = 2472MHz //RobertYu: 20050218, update for APNode 0.49</span>
    <span class="mh">0x0037C000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 14, Tf = 2484MHz</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>4.9G => Ch 183, 184, 185, 187, 188, 189, 192, 196  (Value:15 ~ 22)</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x0FF52000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 183, Tf = 4915MHz (15)</span>
    <span class="mh">0x0FF52000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 184, Tf = 4920MHz (16)</span>
    <span class="mh">0x0FF52000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 185, Tf = 4925MHz (17)</span>
    <span class="mh">0x0FF52000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 187, Tf = 4935MHz (18)</span>
    <span class="mh">0x0FF52000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 188, Tf = 4940MHz (19)</span>
    <span class="mh">0x0FF52000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 189, Tf = 4945MHz (20)</span>
    <span class="mh">0x0FF53000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 192, Tf = 4960MHz (21)</span>
    <span class="mh">0x0FF53000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 196, Tf = 4980MHz (22)</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>5G => Ch 7, 8, 9, 11, 12, 16, 34, 36, 38, 40, 42, 44, 46, 48, 52, 56, 60, 64,
100, 104, 108, 112, 116, 120, 124, 128, 132, 136, 140, 149, 153, 157, 161, 165  (Value 23 ~ 56)</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x0FF54000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   7, Tf = 5035MHz (23)</span>
    <span class="mh">0x0FF54000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   8, Tf = 5040MHz (24)</span>
    <span class="mh">0x0FF54000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   9, Tf = 5045MHz (25)</span>
    <span class="mh">0x0FF54000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  11, Tf = 5055MHz (26)</span>
    <span class="mh">0x0FF54000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  12, Tf = 5060MHz (27)</span>
    <span class="mh">0x0FF55000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  16, Tf = 5080MHz (28)</span>
    <span class="mh">0x0FF56000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  34, Tf = 5170MHz (29)</span>
    <span class="mh">0x0FF56000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  36, Tf = 5180MHz (30)</span>
    <span class="mh">0x0FF57000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  38, Tf = 5190MHz (31) //RobertYu: 20050218, update for APNode 0.49</span>
    <span class="mh">0x0FF57000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  40, Tf = 5200MHz (32)</span>
    <span class="mh">0x0FF57000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  42, Tf = 5210MHz (33)</span>
    <span class="mh">0x0FF57000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  44, Tf = 5220MHz (34)</span>
    <span class="mh">0x0FF57000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  46, Tf = 5230MHz (35)</span>
    <span class="mh">0x0FF57000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  48, Tf = 5240MHz (36)</span>
    <span class="mh">0x0FF58000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  52, Tf = 5260MHz (37)</span>
    <span class="mh">0x0FF58000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  56, Tf = 5280MHz (38)</span>
    <span class="mh">0x0FF58000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  60, Tf = 5300MHz (39)</span>
    <span class="mh">0x0FF59000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  64, Tf = 5320MHz (40)</span>

    <span class="mh">0x0FF5C000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 100, Tf = 5500MHz (41)</span>
    <span class="mh">0x0FF5C000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 104, Tf = 5520MHz (42)</span>
    <span class="mh">0x0FF5C000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 108, Tf = 5540MHz (43)</span>
    <span class="mh">0x0FF5D000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 112, Tf = 5560MHz (44)</span>
    <span class="mh">0x0FF5D000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 116, Tf = 5580MHz (45)</span>
    <span class="mh">0x0FF5D000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 120, Tf = 5600MHz (46)</span>
    <span class="mh">0x0FF5E000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 124, Tf = 5620MHz (47)</span>
    <span class="mh">0x0FF5E000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 128, Tf = 5640MHz (48)</span>
    <span class="mh">0x0FF5E000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 132, Tf = 5660MHz (49)</span>
    <span class="mh">0x0FF5F000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 136, Tf = 5680MHz (50)</span>
    <span class="mh">0x0FF5F000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 140, Tf = 5700MHz (51)</span>
    <span class="mh">0x0FF60000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 149, Tf = 5745MHz (52)</span>
    <span class="mh">0x0FF60000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 153, Tf = 5765MHz (53)</span>
    <span class="mh">0x0FF60000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 157, Tf = 5785MHz (54)</span>
    <span class="mh">0x0FF61000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 161, Tf = 5805MHz (55)</span>
    <span class="mh">0x0FF61000</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>  <span class="c1">// channel = 165, Tf = 5825MHz (56)</span>
    <span class="p">};</span>

<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL7230ChannelTable1</span><span class="p">[</span><span class="n">CB_MAX_CHANNEL</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x13333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  1, Tf = 2412MHz</span>
    <span class="mh">0x1B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  2, Tf = 2417MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  3, Tf = 2422MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  4, Tf = 2427MHz</span>
    <span class="mh">0x13333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  5, Tf = 2432MHz</span>
    <span class="mh">0x1B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  6, Tf = 2437MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  7, Tf = 2442MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  8, Tf = 2447MHz</span>
    <span class="mh">0x13333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  9, Tf = 2452MHz</span>
    <span class="mh">0x1B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 10, Tf = 2457MHz</span>
    <span class="mh">0x03333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 11, Tf = 2462MHz</span>
    <span class="mh">0x0B333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 12, Tf = 2467MHz</span>
    <span class="mh">0x13333100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 13, Tf = 2472MHz</span>
    <span class="mh">0x06666100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 14, Tf = 2484MHz</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>4.9G => Ch 183, 184, 185, 187, 188, 189, 192, 196  (Value:15 ~ 22)</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x1D555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 183, Tf = 4915MHz (15)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 184, Tf = 4920MHz (16)</span>
    <span class="mh">0x02AAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 185, Tf = 4925MHz (17)</span>
    <span class="mh">0x08000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 187, Tf = 4935MHz (18)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 188, Tf = 4940MHz (19)</span>
    <span class="mh">0x0D555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 189, Tf = 4945MHz (20)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 192, Tf = 4960MHz (21)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 196, Tf = 4980MHz (22)</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>5G => Ch 7, 8, 9, 11, 12, 16, 34, 36, 38, 40, 42, 44, 46, 48, 52, 56, 60, 64,
100, 104, 108, 112, 116, 120, 124, 128, 132, 136, 140, 149, 153, 157, 161, 165  (Value 23 ~ 56)</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x1D555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   7, Tf = 5035MHz (23)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   8, Tf = 5040MHz (24)</span>
    <span class="mh">0x02AAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   9, Tf = 5045MHz (25)</span>
    <span class="mh">0x08000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  11, Tf = 5055MHz (26)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  12, Tf = 5060MHz (27)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  16, Tf = 5080MHz (28)</span>
    <span class="mh">0x05555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  34, Tf = 5170MHz (29)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  36, Tf = 5180MHz (30)</span>
    <span class="mh">0x10000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  38, Tf = 5190MHz (31)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  40, Tf = 5200MHz (32)</span>
    <span class="mh">0x1AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  42, Tf = 5210MHz (33)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  44, Tf = 5220MHz (34)</span>
    <span class="mh">0x05555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  46, Tf = 5230MHz (35)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  48, Tf = 5240MHz (36)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  52, Tf = 5260MHz (37)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  56, Tf = 5280MHz (38)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  60, Tf = 5300MHz (39)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  64, Tf = 5320MHz (40)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 100, Tf = 5500MHz (41)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 104, Tf = 5520MHz (42)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 108, Tf = 5540MHz (43)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 112, Tf = 5560MHz (44)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 116, Tf = 5580MHz (45)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 120, Tf = 5600MHz (46)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 124, Tf = 5620MHz (47)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 128, Tf = 5640MHz (48)</span>
    <span class="mh">0x0AAAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 132, Tf = 5660MHz (49)</span>
    <span class="mh">0x15555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 136, Tf = 5680MHz (50)</span>
    <span class="mh">0x00000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 140, Tf = 5700MHz (51)</span>
    <span class="mh">0x18000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 149, Tf = 5745MHz (52)</span>
    <span class="mh">0x02AAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 153, Tf = 5765MHz (53)</span>
    <span class="mh">0x0D555100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 157, Tf = 5785MHz (54)</span>
    <span class="mh">0x18000100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 161, Tf = 5805MHz (55)</span>
    <span class="mh">0x02AAA100</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>  <span class="c1">// channel = 165, Tf = 5825MHz (56)</span>
    <span class="p">};</span>

<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwAL7230ChannelTable2</span><span class="p">[</span><span class="n">CB_MAX_CHANNEL</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  1, Tf = 2412MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  2, Tf = 2417MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  3, Tf = 2422MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  4, Tf = 2427MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  5, Tf = 2432MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  6, Tf = 2437MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  7, Tf = 2442MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  8, Tf = 2447MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  9, Tf = 2452MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 10, Tf = 2457MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 11, Tf = 2462MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 12, Tf = 2467MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 13, Tf = 2472MHz</span>
    <span class="mh">0x7FD78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 14, Tf = 2484MHz</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>4.9G => Ch 183, 184, 185, 187, 188, 189, 192, 196  (Value:15 ~ 22)</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 183, Tf = 4915MHz (15)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 184, Tf = 4920MHz (16)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 185, Tf = 4925MHz (17)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 187, Tf = 4935MHz (18)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 188, Tf = 4940MHz (19)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 189, Tf = 4945MHz (20)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 192, Tf = 4960MHz (21)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 196, Tf = 4980MHz (22)</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>5G => Ch 7, 8, 9, 11, 12, 16, 34, 36, 38, 40, 42, 44, 46, 48, 52, 56, 60, 64,
100, 104, 108, 112, 116, 120, 124, 128, 132, 136, 140, 149, 153, 157, 161, 165  (Value 23 ~ 56)</p></td><td class="code"><div class="highlight"><pre>    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   7, Tf = 5035MHz (23)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   8, Tf = 5040MHz (24)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =   9, Tf = 5045MHz (25)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  11, Tf = 5055MHz (26)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  12, Tf = 5060MHz (27)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  16, Tf = 5080MHz (28)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  34, Tf = 5170MHz (29)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  36, Tf = 5180MHz (30)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  38, Tf = 5190MHz (31)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  40, Tf = 5200MHz (32)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  42, Tf = 5210MHz (33)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  44, Tf = 5220MHz (34)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  46, Tf = 5230MHz (35)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  48, Tf = 5240MHz (36)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  52, Tf = 5260MHz (37)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  56, Tf = 5280MHz (38)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  60, Tf = 5300MHz (39)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel =  64, Tf = 5320MHz (40)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 100, Tf = 5500MHz (41)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 104, Tf = 5520MHz (42)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 108, Tf = 5540MHz (43)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 112, Tf = 5560MHz (44)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 116, Tf = 5580MHz (45)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 120, Tf = 5600MHz (46)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 124, Tf = 5620MHz (47)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 128, Tf = 5640MHz (48)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 132, Tf = 5660MHz (49)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 136, Tf = 5680MHz (50)</span>
    <span class="mh">0x67D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 140, Tf = 5700MHz (51)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 149, Tf = 5745MHz (52)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 153, Tf = 5765MHz (53)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 157, Tf = 5785MHz (54)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">,</span> <span class="c1">// channel = 161, Tf = 5805MHz (55)</span>
    <span class="mh">0x77D78400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span>  <span class="c1">// channel = 165, Tf = 5825MHz (56)</span>
    <span class="p">};</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>}} RobertYu</p></td><td class="code"><div class="highlight"><pre><span class="cm">/*---------------------  Static Functions  --------------------------*/</span>




<span class="cm">/*</span>
<span class="cm"> * Description: AIROHA IFRF chip init function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">s_bAL7230Init</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span>     <span class="n">ii</span><span class="p">;</span>
    <span class="n">bool</span> <span class="n">bResult</span><span class="p">;</span>

    <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>3-wire control for normal mode</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="n">MACvWordRegBitsOn</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="p">(</span><span class="n">SOFTPWRCTL_SWPECTI</span>  <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_TXPEINV</span><span class="p">));</span>
    <span class="n">BBvPowerSaveModeOFF</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">);</span> <span class="c1">//RobertYu:20050106, have DC value for Calibration</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">ii</span> <span class="o">&lt;</span> <span class="n">CB_AL7230_INIT_SEQ</span><span class="p">;</span> <span class="n">ii</span><span class="o">++</span><span class="p">)</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="n">ii</span><span class="p">]);</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>PLL On</p></td><td class="code"><div class="highlight"><pre>    <span class="n">MACvWordRegBitsOn</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="n">SOFTPWRCTL_SWPE3</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>Calibration</p></td><td class="code"><div class="highlight"><pre>    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span><span class="c1">//150us</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="mh">0x9ABA8F00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">));</span> <span class="c1">//TXDCOC:active, RCK:diable</span>
    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span><span class="c1">//30us</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="mh">0x3ABA8F00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">));</span> <span class="c1">//TXDCOC:diable, RCK:active</span>
    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span><span class="c1">//30us</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="n">CB_AL7230_INIT_SEQ</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">//TXDCOC:diable, RCK:diable</span>

    <span class="n">MACvWordRegBitsOn</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="p">(</span><span class="n">SOFTPWRCTL_SWPE3</span>    <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_SWPE2</span>    <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_SWPECTI</span>  <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_TXPEINV</span><span class="p">));</span>

    <span class="n">BBvPowerSaveModeON</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">);</span> <span class="c1">// RobertYu:20050106</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>PE1: TX<em>ON, PE2: RX</em>ON, PE3: PLLON
3-wire control for power saving mode</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_PSPWRSIG</span><span class="p">,</span> <span class="p">(</span><span class="n">PSSIG_WPE3</span> <span class="o">|</span> <span class="n">PSSIG_WPE2</span><span class="p">));</span> <span class="c1">//1100 0000</span>

    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>Need to Pull PLLON low when writing channel registers through 3-wire interface</p></td><td class="code"><div class="highlight"><pre><span class="n">bool</span> <span class="nf">s_bAL7230SelectChannel</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byChannel</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">bool</span> <span class="n">bResult</span><span class="p">;</span>

    <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>PLLON Off</p></td><td class="code"><div class="highlight"><pre>    <span class="n">MACvWordRegBitsOff</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="n">SOFTPWRCTL_SWPE3</span><span class="p">);</span>

    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span> <span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230ChannelTable0</span><span class="p">[</span><span class="n">byChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">//Reg0</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span> <span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230ChannelTable1</span><span class="p">[</span><span class="n">byChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">//Reg1</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span> <span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230ChannelTable2</span><span class="p">[</span><span class="n">byChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span> <span class="c1">//Reg4</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>PLLOn On</p></td><td class="code"><div class="highlight"><pre>    <span class="n">MACvWordRegBitsOn</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="n">SOFTPWRCTL_SWPE3</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>Set Channel[7] = 0 to tell H/W channel is changing now.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_CHANNEL</span><span class="p">,</span> <span class="p">(</span><span class="n">byChannel</span> <span class="o">&amp;</span> <span class="mh">0x7F</span><span class="p">));</span>
    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">SWITCH_CHANNEL_DELAY_AL7230</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>Set Channel[7] = 1 to tell H/W channel change is done.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_CHANNEL</span><span class="p">,</span> <span class="p">(</span><span class="n">byChannel</span> <span class="o">|</span> <span class="mh">0x80</span><span class="p">));</span>

    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Select channel with UW2452 chip</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *      uChannel    - Channel number</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><p>{{ RobertYu: 20041210</p></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Description: UW2452 IFRF chip init function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>}} RobertYu
//////////////////////////////////////////////////////////////////////////////</p></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Description: VT3226 IFRF chip init function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Select channel with VT3226 chip</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *      uChannel    - Channel number</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>



<span class="cm">/*---------------------  Export Variables  --------------------------*/</span>

<span class="cm">/*---------------------  Export Functions  --------------------------*/</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Write to IF/RF, by embeded programming</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *      dwData      - data to write</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">IFRFbWriteEmbeded</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwData</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">ww</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwValue</span><span class="p">;</span>

    <span class="n">VNSvOutPortD</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_IFREGCTL</span><span class="p">,</span> <span class="n">dwData</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><p>W<em>MAX</em>TIMEOUT is the timeout period</p></td><td class="code"><div class="highlight"><pre>    <span class="k">for</span> <span class="p">(</span><span class="n">ww</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">ww</span> <span class="o">&lt;</span> <span class="n">W_MAX_TIMEOUT</span><span class="p">;</span> <span class="n">ww</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">VNSvInPortD</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_IFREGCTL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">dwValue</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">dwValue</span> <span class="o">&amp;</span> <span class="n">IFREGCTL_DONE</span><span class="p">)</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">ww</span> <span class="o">==</span> <span class="n">W_MAX_TIMEOUT</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><pre><code>   DBG_PORT80_ALWAYS(0x32);
</code></pre></td><td class="code"><div class="highlight"><pre>        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>



<span class="cm">/*</span>
<span class="cm"> * Description: RFMD RF2959 IFRF chip init function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Select channel with RFMD 2959 chip</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *      uChannel    - Channel number</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Description: AIROHA IFRF chip init function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">RFbAL2230Init</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span>     <span class="n">ii</span><span class="p">;</span>
    <span class="n">bool</span> <span class="n">bResult</span><span class="p">;</span>

    <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>3-wire control for normal mode</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

    <span class="n">MACvWordRegBitsOn</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="p">(</span><span class="n">SOFTPWRCTL_SWPECTI</span>  <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_TXPEINV</span><span class="p">));</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>2008-8-21 chester <add>
PLL  Off</p></td><td class="code"><div class="highlight"><pre>    <span class="n">MACvWordRegBitsOff</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="n">SOFTPWRCTL_SWPE3</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><p>patch abnormal AL2230 frequency output
2008-8-21 chester <add></p></td><td class="code"><div class="highlight"><pre>    <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="mh">0x07168700</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">));</span>


    <span class="k">for</span> <span class="p">(</span><span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">ii</span> <span class="o">&lt;</span> <span class="n">CB_AL2230_INIT_SEQ</span><span class="p">;</span> <span class="n">ii</span><span class="o">++</span><span class="p">)</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL2230InitTable</span><span class="p">[</span><span class="n">ii</span><span class="p">]);</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><p>2008-8-21 chester <add></p></td><td class="code"><div class="highlight"><pre><span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span> <span class="c1">//delay 30 us</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>PLL On</p></td><td class="code"><div class="highlight"><pre>    <span class="n">MACvWordRegBitsOn</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="n">SOFTPWRCTL_SWPE3</span><span class="p">);</span>

    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="mi">150</span><span class="p">);</span><span class="c1">//150us</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="mh">0x00d80f00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">));</span>
    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span><span class="c1">//30us</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="mh">0x00780f00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">));</span>
    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span><span class="c1">//30us</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL2230InitTable</span><span class="p">[</span><span class="n">CB_AL2230_INIT_SEQ</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>

    <span class="n">MACvWordRegBitsOn</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MAC_REG_SOFTPWRCTL</span><span class="p">,</span> <span class="p">(</span><span class="n">SOFTPWRCTL_SWPE3</span>    <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_SWPE2</span>    <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_SWPECTI</span>  <span class="o">|</span>
                                                     <span class="n">SOFTPWRCTL_TXPEINV</span><span class="p">));</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><p>3-wire control for power saving mode</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_PSPWRSIG</span><span class="p">,</span> <span class="p">(</span><span class="n">PSSIG_WPE3</span> <span class="o">|</span> <span class="n">PSSIG_WPE2</span><span class="p">));</span> <span class="c1">//1100 0000</span>

    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">bool</span> <span class="nf">RFbAL2230SelectChannel</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byChannel</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">bool</span> <span class="n">bResult</span><span class="p">;</span>

    <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span> <span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL2230ChannelTable0</span><span class="p">[</span><span class="n">byChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
    <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span> <span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL2230ChannelTable1</span><span class="p">[</span><span class="n">byChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><p>Set Channel[7] = 0 to tell H/W channel is changing now.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_CHANNEL</span><span class="p">,</span> <span class="p">(</span><span class="n">byChannel</span> <span class="o">&amp;</span> <span class="mh">0x7F</span><span class="p">));</span>
    <span class="n">MACvTimer0MicroSDelay</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">SWITCH_CHANNEL_DELAY_AL2230</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-39"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div><p>Set Channel[7] = 1 to tell H/W channel change is done.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">VNSvOutPortB</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_CHANNEL</span><span class="p">,</span> <span class="p">(</span><span class="n">byChannel</span> <span class="o">|</span> <span class="mh">0x80</span><span class="p">));</span>

    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Description: UW2451 IFRF chip init function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>


<span class="cm">/*</span>
<span class="cm"> * Description: Select channel with UW2451 chip</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *      uChannel    - Channel number</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Set sleep mode to UW2451 chip</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *      uChannel    - Channel number</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Description: RF init function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      byBBType</span>
<span class="cm"> *      byRFType</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">RFbInit</span> <span class="p">(</span>
    <span class="n">PSDevice</span>  <span class="n">pDevice</span>
    <span class="p">)</span>
<span class="p">{</span>
<span class="n">bool</span> <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byRFType</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">RF_AIROHA</span> :
        <span class="k">case</span> <span class="n">RF_AL2230S</span>:
            <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byMaxPwrLevel</span> <span class="o">=</span> <span class="n">AL2230_PWR_IDX_LEN</span><span class="p">;</span>
            <span class="n">bResult</span> <span class="o">=</span> <span class="n">RFbAL2230Init</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">RF_AIROHA7230</span> :
            <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byMaxPwrLevel</span> <span class="o">=</span> <span class="n">AL7230_PWR_IDX_LEN</span><span class="p">;</span>
            <span class="n">bResult</span> <span class="o">=</span> <span class="n">s_bAL7230Init</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="n">RF_NOTHING</span> :
            <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span> <span class="o">:</span>
            <span class="n">bResult</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Description: RF ShutDown function</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      byBBType</span>
<span class="cm"> *      byRFType</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">RFbShutDown</span> <span class="p">(</span>
    <span class="n">PSDevice</span>  <span class="n">pDevice</span>
    <span class="p">)</span>
<span class="p">{</span>
<span class="n">bool</span> <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byRFType</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">RF_AIROHA7230</span> :
            <span class="n">bResult</span> <span class="o">=</span> <span class="n">IFRFbWriteEmbeded</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="mh">0x1ABAEF00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span> <span class="o">:</span>
            <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Select channel</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      byRFType</span>
<span class="cm"> *      byChannel    - Channel number</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">RFbSelectChannel</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byRFType</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byChannel</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">bool</span> <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">byRFType</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">case</span> <span class="n">RF_AIROHA</span> :
        <span class="k">case</span> <span class="n">RF_AL2230S</span>:
            <span class="n">bResult</span> <span class="o">=</span> <span class="n">RFbAL2230SelectChannel</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">byChannel</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-40"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div><p>{{ RobertYu: 20050104</p></td><td class="code"><div class="highlight"><pre>        <span class="k">case</span> <span class="n">RF_AIROHA7230</span> :
            <span class="n">bResult</span> <span class="o">=</span> <span class="n">s_bAL7230SelectChannel</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">byChannel</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-41"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-41">&#182;</a></div><p>}} RobertYu</p></td><td class="code"><div class="highlight"><pre>        <span class="k">case</span> <span class="n">RF_NOTHING</span> :
            <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="nl">default:</span>
            <span class="n">bResult</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Write WakeProgSyn</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase    - I/O base address</span>
<span class="cm"> *      uChannel    - channel number</span>
<span class="cm"> *      bySleepCnt  - SleepProgSyn count</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: None.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">RFvWriteWakeProgSyn</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byRFType</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uChannel</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span>   <span class="n">ii</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byInitCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">bySleepCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="n">VNSvOutPortW</span><span class="p">(</span><span class="n">dwIoBase</span> <span class="o">+</span> <span class="n">MAC_REG_MISCFFNDEX</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">byRFType</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">RF_AIROHA</span>:
        <span class="k">case</span> <span class="n">RF_AL2230S</span>:

            <span class="k">if</span> <span class="p">(</span><span class="n">uChannel</span> <span class="o">&gt;</span> <span class="n">CB_MAX_CHANNEL_24G</span><span class="p">)</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>

            <span class="n">byInitCount</span> <span class="o">=</span> <span class="n">CB_AL2230_INIT_SEQ</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// Init Reg + Channel Reg (2)</span>
            <span class="n">bySleepCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">byInitCount</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">MISCFIFO_SYNDATASIZE</span> <span class="o">-</span> <span class="n">bySleepCount</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">for</span> <span class="p">(</span><span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">ii</span> <span class="o">&lt;</span> <span class="n">CB_AL2230_INIT_SEQ</span><span class="p">;</span> <span class="n">ii</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
                <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL2230InitTable</span><span class="p">[</span><span class="n">ii</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL2230ChannelTable0</span><span class="p">[</span><span class="n">uChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
            <span class="n">ii</span> <span class="o">++</span><span class="p">;</span>
            <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL2230ChannelTable1</span><span class="p">[</span><span class="n">uChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
            <span class="k">break</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-42"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-42">&#182;</a></div><p>{{ RobertYu: 20050104
Need to check, PLLON need to be low for channel setting</p></td><td class="code"><div class="highlight"><pre>        <span class="k">case</span> <span class="n">RF_AIROHA7230</span>:
            <span class="n">byInitCount</span> <span class="o">=</span> <span class="n">CB_AL7230_INIT_SEQ</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">// Init Reg + Channel Reg (3)</span>
            <span class="n">bySleepCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">byInitCount</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">MISCFIFO_SYNDATASIZE</span> <span class="o">-</span> <span class="n">bySleepCount</span><span class="p">))</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">uChannel</span> <span class="o">&lt;=</span> <span class="n">CB_MAX_CHANNEL_24G</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">ii</span> <span class="o">&lt;</span> <span class="n">CB_AL7230_INIT_SEQ</span><span class="p">;</span> <span class="n">ii</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="n">ii</span><span class="p">]);</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="k">for</span> <span class="p">(</span><span class="n">ii</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">ii</span> <span class="o">&lt;</span> <span class="n">CB_AL7230_INIT_SEQ</span><span class="p">;</span> <span class="n">ii</span><span class="o">++</span> <span class="p">)</span> <span class="p">{</span>
                    <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="n">ii</span><span class="p">]);</span>
                <span class="p">}</span>
            <span class="p">}</span>

            <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL7230ChannelTable0</span><span class="p">[</span><span class="n">uChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
            <span class="n">ii</span> <span class="o">++</span><span class="p">;</span>
            <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL7230ChannelTable1</span><span class="p">[</span><span class="n">uChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
            <span class="n">ii</span> <span class="o">++</span><span class="p">;</span>
            <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">short</span><span class="p">)(</span><span class="n">MISCFIFO_SYNDATA_IDX</span> <span class="o">+</span> <span class="n">ii</span><span class="p">),</span> <span class="n">dwAL7230ChannelTable2</span><span class="p">[</span><span class="n">uChannel</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
            <span class="k">break</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-43"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-43">&#182;</a></div><p>}} RobertYu</p></td><td class="code"><div class="highlight"><pre>        <span class="k">case</span> <span class="n">RF_NOTHING</span> :
            <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="nl">default:</span>
            <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">MISCFIFO_SYNINFO_IDX</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="p">)</span><span class="n">MAKEWORD</span><span class="p">(</span><span class="n">bySleepCount</span><span class="p">,</span> <span class="n">byInitCount</span><span class="p">));</span>

    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Set Tx power</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase       - I/O base address</span>
<span class="cm"> *      dwRFPowerTable - RF Tx Power Setting</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="n">bool</span> <span class="nf">RFbSetPower</span> <span class="p">(</span>
    <span class="n">PSDevice</span>  <span class="n">pDevice</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uRATE</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uCH</span>
    <span class="p">)</span>
<span class="p">{</span>
<span class="n">bool</span> <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byPwr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byDec</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byPwrdBm</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">dwDiagRefCount</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">((</span><span class="n">uCH</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">uCH</span> <span class="o">&gt;</span> <span class="n">CB_MAX_CHANNEL</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">uRATE</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">RATE_1M</span>:
    <span class="k">case</span> <span class="n">RATE_2M</span>:
    <span class="k">case</span> <span class="n">RATE_5M</span>:
    <span class="k">case</span> <span class="n">RATE_11M</span>:
        <span class="n">byPwr</span> <span class="o">=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">abyCCKPwrTbl</span><span class="p">[</span><span class="n">uCH</span><span class="p">];</span>
        <span class="n">byPwrdBm</span> <span class="o">=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">abyCCKDefaultPwr</span><span class="p">[</span><span class="n">uCH</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-44"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-44">&#182;</a></div><p>PLICE<em>DEBUG->
byPwr+=5;
PLICE</em>DEBUG &lt;-</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-45"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-45">&#182;</a></div><p>printk("Rate &lt;11:byPwr is %d\n",byPwr);</p></td><td class="code"><div class="highlight"><pre>		<span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="n">RATE_6M</span>:
    <span class="k">case</span> <span class="n">RATE_9M</span>:
    <span class="k">case</span> <span class="n">RATE_18M</span>:
        <span class="n">byPwr</span> <span class="o">=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">abyOFDMPwrTbl</span><span class="p">[</span><span class="n">uCH</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byRFType</span> <span class="o">==</span> <span class="n">RF_UW2452</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">byDec</span> <span class="o">=</span> <span class="n">byPwr</span> <span class="o">+</span> <span class="mi">14</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">byDec</span> <span class="o">=</span> <span class="n">byPwr</span> <span class="o">+</span> <span class="mi">10</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">byDec</span> <span class="o">&gt;=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byMaxPwrLevel</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">byDec</span> <span class="o">=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byMaxPwrLevel</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byRFType</span> <span class="o">==</span> <span class="n">RF_UW2452</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">byPwrdBm</span> <span class="o">=</span> <span class="n">byDec</span> <span class="o">-</span> <span class="n">byPwr</span><span class="p">;</span>
            <span class="n">byPwrdBm</span> <span class="o">/=</span> <span class="mi">3</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">byPwrdBm</span> <span class="o">=</span> <span class="n">byDec</span> <span class="o">-</span> <span class="n">byPwr</span><span class="p">;</span>
            <span class="n">byPwrdBm</span> <span class="o">&gt;&gt;=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">byPwrdBm</span> <span class="o">+=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">abyOFDMDefaultPwr</span><span class="p">[</span><span class="n">uCH</span><span class="p">];</span>
        <span class="n">byPwr</span> <span class="o">=</span> <span class="n">byDec</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-46"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-46">&#182;</a></div><p>PLICE<em>DEBUG->
byPwr+=5;
PLICE</em>DEBUG&lt;-</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-47"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-47">&#182;</a></div><p>printk("Rate &lt;24:byPwr is %d\n",byPwr);</p></td><td class="code"><div class="highlight"><pre>		<span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="n">RATE_24M</span>:
    <span class="k">case</span> <span class="n">RATE_36M</span>:
    <span class="k">case</span> <span class="n">RATE_48M</span>:
    <span class="k">case</span> <span class="n">RATE_54M</span>:
        <span class="n">byPwr</span> <span class="o">=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">abyOFDMPwrTbl</span><span class="p">[</span><span class="n">uCH</span><span class="p">];</span>
        <span class="n">byPwrdBm</span> <span class="o">=</span> <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">abyOFDMDefaultPwr</span><span class="p">[</span><span class="n">uCH</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-48"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-48">&#182;</a></div><p>PLICE<em>DEBUG->
byPwr+=5;
PLICE</em>DEBUG&lt;-
printk("Rate &lt; 54:byPwr is %d\n",byPwr);</p></td><td class="code"><div class="highlight"><pre>		<span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

<span class="cp">#if 0</span><span class="c"></span></pre></div></td></tr>


<tr id="section-49"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-49">&#182;</a></div><p>802.11h TPC</p></td><td class="code"><div class="highlight"><pre><span class="c">    if (pDevice-&gt;bLinkPass == true) {</span></pre></div></td></tr>


<tr id="section-50"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-50">&#182;</a></div><p>do not over local constraint</p></td><td class="code"><div class="highlight"><pre><span class="c">        if (byPwrdBm &gt; pDevice-&gt;abyLocalPwr[uCH]) {</span>
<span class="c">            pDevice-&gt;byCurPwrdBm = pDevice-&gt;abyLocalPwr[uCH];</span>
<span class="c">            byDec = byPwrdBm - pDevice-&gt;abyLocalPwr[uCH];</span>
<span class="c">            if (pDevice-&gt;byRFType == RF_UW2452) {</span>
<span class="c">                byDec *= 3;</span>
<span class="c">            } else {</span>
<span class="c">                byDec &lt;&lt;= 1;</span>
<span class="c">            }</span>
<span class="c">            if (byPwr &gt; byDec) {</span>
<span class="c">                byPwr -= byDec;</span>
<span class="c">            } else {</span>
<span class="c">                byPwr = 0;</span>
<span class="c">            }</span>
<span class="c">        } else {</span>
<span class="c">            pDevice-&gt;byCurPwrdBm = byPwrdBm;</span>
<span class="c">        }</span>
<span class="c">    } else {</span></pre></div></td></tr>


<tr id="section-51"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-51">&#182;</a></div><p>do not over regulatory constraint</p></td><td class="code"><div class="highlight"><pre><span class="c">        if (byPwrdBm &gt; pDevice-&gt;abyRegPwr[uCH]) {</span>
<span class="c">            pDevice-&gt;byCurPwrdBm = pDevice-&gt;abyRegPwr[uCH];</span>
<span class="c">            byDec = byPwrdBm - pDevice-&gt;abyRegPwr[uCH];</span>
<span class="c">            if (pDevice-&gt;byRFType == RF_UW2452) {</span>
<span class="c">                byDec *= 3;</span>
<span class="c">            } else {</span>
<span class="c">                byDec &lt;&lt;= 1;</span>
<span class="c">            }</span>
<span class="c">            if (byPwr &gt; byDec) {</span>
<span class="c">                byPwr -= byDec;</span>
<span class="c">            } else {</span>
<span class="c">                byPwr = 0;</span>
<span class="c">            }</span>
<span class="c">        } else {</span>
<span class="c">            pDevice-&gt;byCurPwrdBm = byPwrdBm;</span>
<span class="c">        }</span>
<span class="c">    }</span>
<span class="cp">#endif</span></pre></div></td></tr>


<tr id="section-52"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-52">&#182;</a></div><p>if (pDevice->byLocalID &lt;= REV<em>ID</em>VT3253_B1) {</p></td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byCurPwr</span> <span class="o">==</span> <span class="n">byPwr</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">bResult</span> <span class="o">=</span> <span class="n">RFbRawSetPower</span><span class="p">(</span><span class="n">pDevice</span><span class="p">,</span> <span class="n">byPwr</span><span class="p">,</span> <span class="n">uRATE</span><span class="p">);</span></pre></div></td></tr>


<tr id="section-53"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-53">&#182;</a></div><p>}</p></td><td class="code"><div class="highlight"><pre>    <span class="k">if</span> <span class="p">(</span><span class="n">bResult</span> <span class="o">==</span> <span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
       <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byCurPwr</span> <span class="o">=</span> <span class="n">byPwr</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Description: Set Tx power</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      dwIoBase       - I/O base address</span>
<span class="cm"> *      dwRFPowerTable - RF Tx Power Setting</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      none</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: true if succeeded; false if failed.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="n">bool</span> <span class="nf">RFbRawSetPower</span> <span class="p">(</span>
    <span class="n">PSDevice</span>  <span class="n">pDevice</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byPwr</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uRATE</span>
    <span class="p">)</span>
<span class="p">{</span>
<span class="n">bool</span> <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwMax7230Pwr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">byPwr</span> <span class="o">&gt;=</span>  <span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byMaxPwrLevel</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byRFType</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">case</span> <span class="n">RF_AIROHA</span> :
            <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="n">dwAL2230PowerTable</span><span class="p">[</span><span class="n">byPwr</span><span class="p">]);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">uRATE</span> <span class="o">&lt;=</span> <span class="n">RATE_11M</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="mh">0x0001B400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="mh">0x0005A400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">break</span><span class="p">;</span>


        <span class="k">case</span> <span class="n">RF_AL2230S</span> :
            <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="n">dwAL2230PowerTable</span><span class="p">[</span><span class="n">byPwr</span><span class="p">]);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">uRATE</span> <span class="o">&lt;=</span> <span class="n">RATE_11M</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="mh">0x040C1400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">);</span>
                <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="mh">0x00299B00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">);</span>
            <span class="p">}</span><span class="k">else</span> <span class="p">{</span>
                <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="mh">0x0005A400</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">);</span>
                <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="mh">0x00099B00</span><span class="o">+</span><span class="p">(</span><span class="n">BY_AL2230_REG_LEN</span><span class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="n">IFREGCTL_REGW</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="n">RF_AIROHA7230</span>:</pre></div></td></tr>


<tr id="section-54"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-54">&#182;</a></div><p>0x080F1B00 for 3 wire control TxGain(D10) and 0x31 as TX Gain value</p></td><td class="code"><div class="highlight"><pre>            <span class="n">dwMax7230Pwr</span> <span class="o">=</span> <span class="mh">0x080C0B00</span> <span class="o">|</span> <span class="p">(</span> <span class="p">(</span><span class="n">byPwr</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">12</span> <span class="p">)</span> <span class="o">|</span>
                           <span class="p">(</span><span class="n">BY_AL7230_REG_LEN</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span> <span class="p">)</span>  <span class="o">|</span> <span class="n">IFREGCTL_REGW</span><span class="p">;</span>

            <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">PortOffset</span><span class="p">,</span> <span class="n">dwMax7230Pwr</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>


        <span class="k">default</span> <span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*+</span>
<span class="cm"> *</span>
<span class="cm"> * Routine Description:</span>
<span class="cm"> *     Translate RSSI to dBm</span>
<span class="cm"> *</span>
<span class="cm"> * Parameters:</span>
<span class="cm"> *  In:</span>
<span class="cm"> *      pDevice         - The adapter to be translated</span>
<span class="cm"> *      byCurrRSSI      - RSSI to be translated</span>
<span class="cm"> *  Out:</span>
<span class="cm"> *      pdwdbm          - Translated dbm number</span>
<span class="cm"> *</span>
<span class="cm"> * Return Value: none</span>
<span class="cm"> *</span>
<span class="cm">-*/</span>
<span class="kt">void</span>
<span class="nf">RFvRSSITodBm</span> <span class="p">(</span>
    <span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byCurrRSSI</span><span class="p">,</span>
    <span class="kt">long</span> <span class="o">*</span>    <span class="n">pldBm</span>
    <span class="p">)</span>
<span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byIdx</span> <span class="o">=</span> <span class="p">(((</span><span class="n">byCurrRSSI</span> <span class="o">&amp;</span> <span class="mh">0xC0</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x03</span><span class="p">);</span>
    <span class="kt">long</span> <span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">byCurrRSSI</span> <span class="o">&amp;</span> <span class="mh">0x3F</span><span class="p">);</span>
    <span class="kt">long</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">abyAIROHARF</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">40</span><span class="p">};</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">pDevice</span><span class="o">-&gt;</span><span class="n">byRFType</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">RF_AIROHA</span>:
        <span class="k">case</span> <span class="n">RF_AL2230S</span>:
        <span class="k">case</span> <span class="n">RF_AIROHA7230</span>: <span class="c1">//RobertYu: 20040104</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">abyAIROHARF</span><span class="p">[</span><span class="n">byIdx</span><span class="p">];</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="nl">default:</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="o">*</span><span class="n">pldBm</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">*</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span></pre></div></td></tr>


<tr id="section-55"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-55">&#182;</a></div><p>//////////////////////////////////////////////////////////////////////////////
{{ RobertYu: 20050104</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-56"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-56">&#182;</a></div><p>Post processing for the 11b/g and 11a.
for save time on changing Reg2,3,5,7,10,12,15</p></td><td class="code"><div class="highlight"><pre><span class="n">bool</span> <span class="nf">RFbAL7230SelectChannelPostProcess</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dwIoBase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byOldChannel</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">byNewChannel</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">bool</span> <span class="n">bResult</span><span class="p">;</span>

    <span class="n">bResult</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-57"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-57">&#182;</a></div><p>if change between 11 b/g and 11a need to update the following register
Channel Index 1~14</p></td><td class="code"><div class="highlight"><pre>    <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="n">byOldChannel</span> <span class="o">&lt;=</span> <span class="n">CB_MAX_CHANNEL_24G</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">byNewChannel</span> <span class="o">&gt;</span> <span class="n">CB_MAX_CHANNEL_24G</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span></pre></div></td></tr>


<tr id="section-58"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-58">&#182;</a></div><p>Change from 2.4G to 5G</p></td><td class="code"><div class="highlight"><pre>        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span> <span class="c1">//Reg2</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span> <span class="c1">//Reg3</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span> <span class="c1">//Reg5</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="mi">7</span><span class="p">]);</span> <span class="c1">//Reg7</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="mi">10</span><span class="p">]);</span><span class="c1">//Reg10</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="mi">12</span><span class="p">]);</span><span class="c1">//Reg12</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTableAMode</span><span class="p">[</span><span class="mi">15</span><span class="p">]);</span><span class="c1">//Reg15</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="n">byOldChannel</span> <span class="o">&gt;</span> <span class="n">CB_MAX_CHANNEL_24G</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">byNewChannel</span> <span class="o">&lt;=</span> <span class="n">CB_MAX_CHANNEL_24G</span><span class="p">)</span> <span class="p">)</span>
    <span class="p">{</span></pre></div></td></tr>


<tr id="section-59"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-59">&#182;</a></div><p>change from 5G to 2.4G</p></td><td class="code"><div class="highlight"><pre>        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span> <span class="c1">//Reg2</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span> <span class="c1">//Reg3</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="mi">5</span><span class="p">]);</span> <span class="c1">//Reg5</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="mi">7</span><span class="p">]);</span> <span class="c1">//Reg7</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="mi">10</span><span class="p">]);</span><span class="c1">//Reg10</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="mi">12</span><span class="p">]);</span><span class="c1">//Reg12</span>
        <span class="n">bResult</span> <span class="o">&amp;=</span> <span class="n">IFRFbWriteEmbeded</span><span class="p">(</span><span class="n">dwIoBase</span><span class="p">,</span> <span class="n">dwAL7230InitTable</span><span class="p">[</span><span class="mi">15</span><span class="p">]);</span><span class="c1">//Reg15</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="n">bResult</span><span class="p">;</span>
<span class="p">}</span></pre></div></td></tr>


<tr id="section-60"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-60">&#182;</a></div><p>}} RobertYu
//////////////////////////////////////////////////////////////////////////////</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
