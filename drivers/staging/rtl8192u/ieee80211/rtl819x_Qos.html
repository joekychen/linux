<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › rtl8192u › ieee80211 › rtl819x_Qos.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>rtl819x_Qos.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef __INC_QOS_TYPE_H</span>
<span class="cp">#define __INC_QOS_TYPE_H</span>

<span class="cp">#define BIT0                    0x00000001</span>
<span class="cp">#define BIT1                    0x00000002</span>
<span class="cp">#define BIT2                    0x00000004</span>
<span class="cp">#define BIT3                    0x00000008</span>
<span class="cp">#define BIT4                    0x00000010</span>
<span class="cp">#define BIT5                    0x00000020</span>
<span class="cp">#define BIT6                    0x00000040</span>
<span class="cp">#define BIT7                    0x00000080</span>
<span class="cp">#define BIT8                    0x00000100</span>
<span class="cp">#define BIT9                    0x00000200</span>
<span class="cp">#define BIT10                   0x00000400</span>
<span class="cp">#define BIT11                   0x00000800</span>
<span class="cp">#define BIT12                   0x00001000</span>
<span class="cp">#define BIT13                   0x00002000</span>
<span class="cp">#define BIT14                   0x00004000</span>
<span class="cp">#define BIT15                   0x00008000</span>
<span class="cp">#define BIT16                   0x00010000</span>
<span class="cp">#define BIT17                   0x00020000</span>
<span class="cp">#define BIT18                   0x00040000</span>
<span class="cp">#define BIT19                   0x00080000</span>
<span class="cp">#define BIT20                   0x00100000</span>
<span class="cp">#define BIT21                   0x00200000</span>
<span class="cp">#define BIT22                   0x00400000</span>
<span class="cp">#define BIT23                   0x00800000</span>
<span class="cp">#define BIT24                   0x01000000</span>
<span class="cp">#define BIT25                   0x02000000</span>
<span class="cp">#define BIT26                   0x04000000</span>
<span class="cp">#define BIT27                   0x08000000</span>
<span class="cp">#define BIT28                   0x10000000</span>
<span class="cp">#define BIT29                   0x20000000</span>
<span class="cp">#define BIT30                   0x40000000</span>
<span class="cp">#define BIT31                   0x80000000</span>

<span class="cp">#define	MAX_WMMELE_LENGTH	64</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>QoS mode.
enum 0, 1, 2, 4: since we can use the OR(|) operation.</p>

<p>QOS<em>MODE is redefined for enum can't be ++, | under C++ compiler, 2006.05.17, by rcnjko.
typedef    enum _QOS</em>MODE{
QOS<em>DISABLE        = 0,
QOS</em>WMM            = 1,
QOS<em>EDCA            = 2,
QOS</em>HCCA            = 4,
}QOS<em>MODE,*PQOS</em>MODE;</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="n">u32</span> <span class="n">QOS_MODE</span><span class="p">,</span> <span class="o">*</span><span class="n">PQOS_MODE</span><span class="p">;</span>
<span class="cp">#define QOS_DISABLE		0</span>
<span class="cp">#define QOS_WMM			1</span>
<span class="cp">#define QOS_WMMSA		2</span>
<span class="cp">#define QOS_EDCA		4</span>
<span class="cp">#define QOS_HCCA		8</span>
<span class="cp">#define QOS_WMM_UAPSD		16   </span><span class="c1">//WMM Power Save, 2006-06-14 Isaiah</span>

<span class="cp">#define AC_PARAM_SIZE	4</span>
<span class="cp">#define WMM_PARAM_ELE_BODY_LEN	18</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>QoS ACK Policy Field Values
Ref: WMM spec 2.1.6: QoS Control Field, p.10.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">enum</span> <span class="n">_ACK_POLICY</span><span class="p">{</span>
	<span class="n">eAckPlc0_ACK</span>		<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">eAckPlc1_NoACK</span>		<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
<span class="p">}</span><span class="n">ACK_POLICY</span><span class="p">,</span><span class="o">*</span><span class="n">PACK_POLICY</span><span class="p">;</span>

<span class="cp">#define WMM_PARAM_ELEMENT_SIZE	(8+(4*AC_PARAM_SIZE))</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>QoS Control Field
Ref:
1. WMM spec 2.1.6: QoS Control Field, p.9.
2. 802.11e/D13.0 7.1.3.5, p.26.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">union</span> <span class="n">_QOS_CTRL_FIELD</span><span class="p">{</span>
	<span class="n">u8</span>	<span class="n">charData</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u16</span>	<span class="n">shortData</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>WMM spec</p></td><td class="code"><div class="highlight"><pre>	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">UP</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">usRsvd1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">EOSP</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">AckPolicy</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">usRsvd2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucRsvdByte</span><span class="p">;</span>
	<span class="p">}</span><span class="n">WMM</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>802.11e: QoS data type frame sent by non-AP QSTAs.</p></td><td class="code"><div class="highlight"><pre>	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">TID</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">bIsQsize</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span><span class="c1">// 0: BIT[8:15] is TXOP Duration Requested, 1: BIT[8:15] is Queue Size.</span>
		<span class="n">u8</span>		<span class="n">AckPolicy</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">usRsvd</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">TxopOrQsize</span><span class="p">;</span>	<span class="c1">// (BIT4=0)TXOP Duration Requested or (BIT4=1)Queue Size.</span>
	<span class="p">}</span><span class="n">BySta</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>802.11e: QoS data, QoS Null, and QoS Data+CF-Ack frames sent by HC.</p></td><td class="code"><div class="highlight"><pre>	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">TID</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">EOSP</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">AckPolicy</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">usRsvd</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">PSBufState</span><span class="p">;</span>		<span class="c1">// QAP PS Buffer State.</span>
	<span class="p">}</span><span class="n">ByHc_Data</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>802.11e: QoS (+) CF-Poll frames sent by HC.</p></td><td class="code"><div class="highlight"><pre>	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">TID</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">EOSP</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">AckPolicy</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">usRsvd</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">TxopLimit</span><span class="p">;</span>		<span class="c1">// TXOP Limit.</span>
	<span class="p">}</span><span class="n">ByHc_CFP</span><span class="p">;</span>

<span class="p">}</span><span class="n">QOS_CTRL_FIELD</span><span class="p">,</span> <span class="o">*</span><span class="n">PQOS_CTRL_FIELD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>QoS Info Field
Ref:
1. WMM spec 2.2.1: WME Information Element, p.11.
2. 8185 QoS code: QOS<em>INFO [def. in QoS</em>mp.h]</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">union</span> <span class="n">_QOS_INFO_FIELD</span><span class="p">{</span>
	<span class="n">u8</span>	<span class="n">charData</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucParameterSetCount</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucReserved</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="p">}</span><span class="n">WMM</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>Ref WMM<em>Specification</em>1-1.pdf, 2006-06-13 Isaiah</p></td><td class="code"><div class="highlight"><pre>		<span class="n">u8</span>		<span class="n">ucAC_VO_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC_VI_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC_BE_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC_BK_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucReserved1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucMaxSPLen</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucReserved2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="p">}</span><span class="n">ByWmmPsSta</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>Ref WMM<em>Specification</em>1-1.pdf, 2006-06-13 Isaiah</p></td><td class="code"><div class="highlight"><pre>		<span class="n">u8</span>		<span class="n">ucParameterSetCount</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucReserved</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucApUapsd</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span><span class="n">ByWmmPsAp</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucAC3_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC2_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC1_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC0_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucMaxSPLen</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucMoreDataAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">By11eSta</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucParameterSetCount</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQueueReq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucTXOPReq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucReserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">By11eAp</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucReserved1</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucReserved2</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucMoreDataAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">ByWmmsaSta</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucReserved1</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQueueReq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucTXOPReq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucReserved2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">ByWmmsaAp</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucAC3_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC2_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC1_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAC0_UAPSD</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucMaxSPLen</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucMoreDataAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">ByAllSta</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucParameterSetCount</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQAck</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucQueueReq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucTXOPReq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucApUapsd</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">ByAllAp</span><span class="p">;</span>

<span class="p">}</span><span class="n">QOS_INFO_FIELD</span><span class="p">,</span> <span class="o">*</span><span class="n">PQOS_INFO_FIELD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>ACI to AC coding.
Ref: WMM spec 2.2.2: WME Parameter Element, p.13.</p>

<p>AC<em>CODING is redefined for enum can't be ++, | under C++ compiler, 2006.05.17, by rcnjko.
typedef    enum _AC</em>CODING{
AC0<em>BE    = 0,        // ACI: 0x00    // Best Effort
AC1</em>BK    = 1,        // ACI: 0x01    // Background
AC2<em>VI    = 2,        // ACI: 0x10    // Video
AC3</em>VO    = 3,        // ACI: 0x11    // Voice
AC<em>MAX = 4,        // Max: define total number; Should not to be used as a real enum.
}AC</em>CODING,*PAC_CODING;</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="n">u32</span> <span class="n">AC_CODING</span><span class="p">;</span>
<span class="cp">#define AC0_BE	0		</span><span class="c1">// ACI: 0x00	// Best Effort</span>
<span class="cp">#define AC1_BK	1		</span><span class="c1">// ACI: 0x01	// Background</span>
<span class="cp">#define AC2_VI	2		</span><span class="c1">// ACI: 0x10	// Video</span>
<span class="cp">#define AC3_VO	3		</span><span class="c1">// ACI: 0x11	// Voice</span>
<span class="cp">#define AC_MAX	4		</span><span class="c1">// Max: define total number; Should not to be used as a real enum.</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>ACI/AIFSN Field.
Ref: WMM spec 2.2.2: WME Parameter Element, p.12.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">union</span> <span class="n">_ACI_AIFSN</span><span class="p">{</span>
	<span class="n">u8</span>	<span class="n">charData</span><span class="p">;</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>	<span class="n">AIFSN</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>	<span class="n">ACM</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
		<span class="n">u8</span>	<span class="n">ACI</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>	<span class="n">Reserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span><span class="n">f</span><span class="p">;</span>	<span class="c1">// Field</span>
<span class="p">}</span><span class="n">ACI_AIFSN</span><span class="p">,</span> <span class="o">*</span><span class="n">PACI_AIFSN</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>ECWmin/ECWmax field.
Ref: WMM spec 2.2.2: WME Parameter Element, p.13.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">union</span> <span class="n">_ECW</span><span class="p">{</span>
	<span class="n">u8</span>	<span class="n">charData</span><span class="p">;</span>
	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">u8</span>	<span class="n">ECWmin</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>	<span class="n">ECWmax</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="p">}</span><span class="n">f</span><span class="p">;</span>	<span class="c1">// Field</span>
<span class="p">}</span><span class="n">ECW</span><span class="p">,</span> <span class="o">*</span><span class="n">PECW</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>AC Parameters Record Format.
Ref: WMM spec 2.2.2: WME Parameter Element, p.12.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">union</span> <span class="n">_AC_PARAM</span><span class="p">{</span>
	<span class="n">u32</span>	<span class="n">longData</span><span class="p">;</span>
	<span class="n">u8</span>	<span class="n">charData</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">ACI_AIFSN</span>	<span class="n">AciAifsn</span><span class="p">;</span>
		<span class="n">ECW</span>		<span class="n">Ecw</span><span class="p">;</span>
		<span class="n">u16</span>		<span class="n">TXOPLimit</span><span class="p">;</span>
	<span class="p">}</span><span class="n">f</span><span class="p">;</span>	<span class="c1">// Field</span>
<span class="p">}</span><span class="n">AC_PARAM</span><span class="p">,</span> <span class="o">*</span><span class="n">PAC_PARAM</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>QoS element subtype</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">enum</span> <span class="n">_QOS_ELE_SUBTYPE</span><span class="p">{</span>
	<span class="n">QOSELE_TYPE_INFO</span>	<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>		<span class="c1">// 0x00: Information element</span>
	<span class="n">QOSELE_TYPE_PARAM</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>		<span class="c1">// 0x01: parameter element</span>
<span class="p">}</span><span class="n">QOS_ELE_SUBTYPE</span><span class="p">,</span><span class="o">*</span><span class="n">PQOS_ELE_SUBTYPE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>Direction Field Values.
Ref: WMM spec 2.2.11: WME TSPEC Element, p.18.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">enum</span> <span class="n">_DIRECTION_VALUE</span><span class="p">{</span>
	<span class="n">DIR_UP</span>			<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>		<span class="c1">// 0x00	// UpLink</span>
	<span class="n">DIR_DOWN</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>		<span class="c1">// 0x01	// DownLink</span>
	<span class="n">DIR_DIRECT</span>		<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>		<span class="c1">// 0x10	// DirectLink</span>
	<span class="n">DIR_BI_DIR</span>		<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>		<span class="c1">// 0x11	// Bi-Direction</span>
<span class="p">}</span><span class="n">DIRECTION_VALUE</span><span class="p">,</span><span class="o">*</span><span class="n">PDIRECTION_VALUE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>TS Info field in WMM TSPEC Element.
Ref:
1. WMM spec 2.2.11: WME TSPEC Element, p.18.
2. 8185 QoS code: QOS<em>TSINFO [def. in QoS</em>mp.h]</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">union</span> <span class="n">_QOS_TSINFO</span><span class="p">{</span>
	<span class="n">u8</span>		<span class="n">charData</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u8</span>		<span class="n">ucTrafficType</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>			<span class="c1">//WMM is reserved</span>
		<span class="n">u8</span>		<span class="n">ucTSID</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucDirection</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucAccessPolicy</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>	<span class="c1">//WMM: bit8=0, bit7=1</span>
		<span class="n">u8</span>		<span class="n">ucAggregation</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>		<span class="c1">//WMM is reserved</span>
		<span class="n">u8</span>		<span class="n">ucPSB</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>				<span class="c1">//WMMSA is APSD</span>
		<span class="n">u8</span>		<span class="n">ucUP</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">ucTSInfoAckPolicy</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>		<span class="c1">//WMM is reserved</span>
		<span class="n">u8</span>		<span class="n">ucSchedule</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>			<span class="c1">//WMM is reserved</span>
		<span class="n">u8</span>		<span class="n">ucReserved</span><span class="o">:</span><span class="mi">7</span><span class="p">;</span>
	<span class="p">}</span><span class="n">field</span><span class="p">;</span>
<span class="p">}</span><span class="n">QOS_TSINFO</span><span class="p">,</span> <span class="o">*</span><span class="n">PQOS_TSINFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>WMM TSPEC Body.
Ref: WMM spec 2.2.11: WME TSPEC Element, p.16.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">union</span> <span class="n">_TSPEC_BODY</span><span class="p">{</span>
	<span class="n">u8</span>		<span class="n">charData</span><span class="p">[</span><span class="mi">55</span><span class="p">];</span>

	<span class="k">struct</span>
	<span class="p">{</span>
		<span class="n">QOS_TSINFO</span>	<span class="n">TSInfo</span><span class="p">;</span>	<span class="c1">//u8	TSInfo[3];</span>
		<span class="n">u16</span>	<span class="n">NominalMSDUsize</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">MaxMSDUsize</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">MinServiceItv</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">MaxServiceItv</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">InactivityItv</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">SuspenItv</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">ServiceStartTime</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">MinDataRate</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">MeanDataRate</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">PeakDataRate</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">MaxBurstSize</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">DelayBound</span><span class="p">;</span>
		<span class="n">u32</span>	<span class="n">MinPhyRate</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">SurplusBandwidthAllowance</span><span class="p">;</span>
		<span class="n">u16</span>	<span class="n">MediumTime</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">f</span><span class="p">;</span>	<span class="c1">// Field</span>
<span class="p">}</span><span class="n">TSPEC_BODY</span><span class="p">,</span> <span class="o">*</span><span class="n">PTSPEC_BODY</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>WMM TSPEC Element.
Ref: WMM spec 2.2.11: WME TSPEC Element, p.16.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_WMM_TSPEC</span><span class="p">{</span>
	<span class="n">u8</span>		<span class="n">ID</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">Length</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">OUI</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">u8</span>		<span class="n">OUI_Type</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">OUI_SubType</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">Version</span><span class="p">;</span>
	<span class="n">TSPEC_BODY</span>	<span class="n">Body</span><span class="p">;</span>
<span class="p">}</span> <span class="n">WMM_TSPEC</span><span class="p">,</span> <span class="o">*</span><span class="n">PWMM_TSPEC</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>ACM implementation method.
Annie, 2005-12-13.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span>	<span class="k">enum</span> <span class="n">_ACM_METHOD</span><span class="p">{</span>
	<span class="n">eAcmWay0_SwAndHw</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>		<span class="c1">// By SW and HW.</span>
	<span class="n">eAcmWay1_HW</span>			<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>		<span class="c1">// By HW.</span>
	<span class="n">eAcmWay2_SW</span>			<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>		<span class="c1">// By SW.</span>
<span class="p">}</span><span class="n">ACM_METHOD</span><span class="p">,</span><span class="o">*</span><span class="n">PACM_METHOD</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ACM</span><span class="p">{</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>u8        RegEnableACM;</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u64</span>		<span class="n">UsedTime</span><span class="p">;</span>
	<span class="n">u64</span>		<span class="n">MediumTime</span><span class="p">;</span>
	<span class="n">u8</span>		<span class="n">HwAcmCtl</span><span class="p">;</span>	<span class="c1">// TRUE: UsedTime exceed =&gt; Do NOT USE this AC. It wll be written to ACM_CONTROL(0xBF BIT 0/1/2 in 8185B).</span>
<span class="p">}</span><span class="n">ACM</span><span class="p">,</span> <span class="o">*</span><span class="n">PACM</span><span class="p">;</span>

<span class="k">typedef</span>	<span class="n">u8</span>		<span class="n">AC_UAPSD</span><span class="p">,</span> <span class="o">*</span><span class="n">PAC_UAPSD</span><span class="p">;</span>

<span class="cp">#define	GET_VO_UAPSD(_apsd) ((_apsd) &amp; BIT0)</span>
<span class="cp">#define	SET_VO_UAPSD(_apsd) ((_apsd) |= BIT0)</span>

<span class="cp">#define	GET_VI_UAPSD(_apsd) ((_apsd) &amp; BIT1)</span>
<span class="cp">#define	SET_VI_UAPSD(_apsd) ((_apsd) |= BIT1)</span>

<span class="cp">#define	GET_BK_UAPSD(_apsd) ((_apsd) &amp; BIT2)</span>
<span class="cp">#define	SET_BK_UAPSD(_apsd) ((_apsd) |= BIT2)</span>

<span class="cp">#define	GET_BE_UAPSD(_apsd) ((_apsd) &amp; BIT3)</span>
<span class="cp">#define	SET_BE_UAPSD(_apsd) ((_apsd) |= BIT3)</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>typedef struct _TCLASS{
TODO
} TCLASS, *PTCLASS;</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">union</span> <span class="n">_QOS_TCLAS</span><span class="p">{</span>

	<span class="k">struct</span> <span class="n">_TYPE_GENERAL</span><span class="p">{</span>
		<span class="n">u8</span>		<span class="n">Priority</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">ClassifierType</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">Mask</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">TYPE_GENERAL</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">_TYPE0_ETH</span><span class="p">{</span>
		<span class="n">u8</span>		<span class="n">Priority</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">ClassifierType</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">Mask</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">SrcAddr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
		<span class="n">u8</span>		<span class="n">DstAddr</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
		<span class="n">u16</span>		<span class="n">Type</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">TYPE0_ETH</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">_TYPE1_IPV4</span><span class="p">{</span>
		<span class="n">u8</span>		<span class="n">Priority</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">ClassifierType</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">Mask</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">Version</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">SrcIP</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
		<span class="n">u8</span>		<span class="n">DstIP</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
		<span class="n">u16</span>		<span class="n">SrcPort</span><span class="p">;</span>
		<span class="n">u16</span>		<span class="n">DstPort</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">DSCP</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">Protocol</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">Reserved</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">TYPE1_IPV4</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">_TYPE1_IPV6</span><span class="p">{</span>
		<span class="n">u8</span>		<span class="n">Priority</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">ClassifierType</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">Mask</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">Version</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">SrcIP</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="n">u8</span>		<span class="n">DstIP</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="n">u16</span>		<span class="n">SrcPort</span><span class="p">;</span>
		<span class="n">u16</span>		<span class="n">DstPort</span><span class="p">;</span>
		<span class="n">u8</span>		<span class="n">FlowLabel</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">TYPE1_IPV6</span><span class="p">;</span>

	<span class="k">struct</span> <span class="n">_TYPE2_8021Q</span><span class="p">{</span>
		<span class="n">u8</span>		<span class="n">Priority</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">ClassifierType</span><span class="p">;</span>
		<span class="n">u8</span> 		<span class="n">Mask</span><span class="p">;</span>
		<span class="n">u16</span>		<span class="n">TagType</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">TYPE2_8021Q</span><span class="p">;</span>
<span class="p">}</span> <span class="n">QOS_TCLAS</span><span class="p">,</span> <span class="o">*</span><span class="n">PQOS_TCLAS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>typedef struct <em>WMM</em>TSTREAM{</p>

<ul>
<li>TSPEC</li>
<li>AC (which to mapping)
} WMM<em>TSTREAM, *PWMM</em>TSTREAM;</li>
</ul></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_QOS_TSTREAM</span><span class="p">{</span>
	<span class="n">u8</span>			<span class="n">AC</span><span class="p">;</span>
	<span class="n">WMM_TSPEC</span>		<span class="n">TSpec</span><span class="p">;</span>
	<span class="n">QOS_TCLAS</span>		<span class="n">TClass</span><span class="p">;</span>
<span class="p">}</span> <span class="n">QOS_TSTREAM</span><span class="p">,</span> <span class="o">*</span><span class="n">PQOS_TSTREAM</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>typedef struct <em>U</em>APSD{
- TriggerEnable [4]
- MaxSPLength
- HighestAcBuffered
} U<em>APSD, *PU</em>APSD;</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>joseph TODO:
UAPSD function should be implemented by 2 data structure
"Qos control field" and "Qos info field"
typedef struct <em>QOS</em>UAPSD{
u8            bTriggerEnable[4];
u8             MaxSPLength;
u8            HighestBufAC;
} QOS<em>UAPSD, *PQOS</em>APSD;</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><hr />

<h2>     802.11 Management frame Status Code field</h2></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_OCTET_STRING</span><span class="p">{</span>
	<span class="n">u8</span>        	<span class="o">*</span><span class="n">Octet</span><span class="p">;</span>
	<span class="n">u16</span>             <span class="n">Length</span><span class="p">;</span>
<span class="p">}</span><span class="n">OCTET_STRING</span><span class="p">,</span> <span class="o">*</span><span class="n">POCTET_STRING</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><p>STA QoS data.
Ref: DOT11<em>QOS in 8185 code. [def. in QoS</em>mp.h]</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_STA_QOS</span><span class="p">{</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>DECLARE<em>RT</em>OBJECT(STA_QOS);</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u8</span>				<span class="n">WMMIEBuf</span><span class="p">[</span><span class="n">MAX_WMMELE_LENGTH</span><span class="p">];</span>
	<span class="n">u8</span><span class="o">*</span>				<span class="n">WMMIE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><p>Part 1. Self QoS Mode.</p></td><td class="code"><div class="highlight"><pre>	<span class="n">QOS_MODE</span>			<span class="n">QosCapability</span><span class="p">;</span> <span class="c1">//QoS Capability, 2006-06-14 Isaiah</span>
	<span class="n">QOS_MODE</span>			<span class="n">CurrentQosMode</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><p>For WMM Power Save Mode :
ACs are trigger/delivery enabled or legacy power save enabled. 2006-06-13 Isaiah</p></td><td class="code"><div class="highlight"><pre>	<span class="n">AC_UAPSD</span>			<span class="n">b4ac_Uapsd</span><span class="p">;</span>  <span class="c1">//VoUapsd(bit0), ViUapsd(bit1),  BkUapsd(bit2), BeUapsd(bit3),</span>
	<span class="n">AC_UAPSD</span>			<span class="n">Curr4acUapsd</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">bInServicePeriod</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">MaxSPLength</span><span class="p">;</span>
	<span class="kt">int</span> 				<span class="n">NumBcnBeforeTrigger</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>Part 2. EDCA Parameter (perAC)</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u8</span> <span class="o">*</span>				<span class="n">pWMMInfoEle</span><span class="p">;</span>
	<span class="n">u8</span>				<span class="n">WMMParamEle</span><span class="p">[</span><span class="n">WMM_PARAM_ELEMENT_SIZE</span><span class="p">];</span>
	<span class="n">u8</span>				<span class="n">WMMPELength</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p><Bruce_Note>
2 ToDo: remove the Qos Info Field and replace it by the above WMM Info element.
By Bruce, 2008-01-30.
Part 2. EDCA Parameter (perAC)</p></td><td class="code"><div class="highlight"><pre>	<span class="n">QOS_INFO_FIELD</span>			<span class="n">QosInfoField_STA</span><span class="p">;</span> 	<span class="c1">// Maintained by STA</span>
	<span class="n">QOS_INFO_FIELD</span>			<span class="n">QosInfoField_AP</span><span class="p">;</span>	<span class="c1">// Retrieved from AP</span>

	<span class="n">AC_PARAM</span>			<span class="n">CurAcParameters</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><p>Part 3. ACM</p></td><td class="code"><div class="highlight"><pre>	<span class="n">ACM</span>				<span class="n">acm</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">ACM_METHOD</span>			<span class="n">AcmMethod</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><p>Part 4. Per TID (Part 5: TCLASS will be described by TStream)</p></td><td class="code"><div class="highlight"><pre>	<span class="n">QOS_TSTREAM</span>			<span class="n">TStream</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">WMM_TSPEC</span>			<span class="n">TSpec</span><span class="p">;</span>

	<span class="n">u32</span>				<span class="n">QBssWirelessMode</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>No Ack Setting</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u8</span>				<span class="n">bNoAck</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><p>Enable/Disable Rx immediate BA capability.</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u8</span>				<span class="n">bEnableRxImmBA</span><span class="p">;</span>

<span class="p">}</span><span class="n">STA_QOS</span><span class="p">,</span> <span class="o">*</span><span class="n">PSTA_QOS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><p>BSS QOS data.
Ref: BssDscr in 8185 code. [def. in BssDscr.h]</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_BSS_QOS</span><span class="p">{</span>
	<span class="n">QOS_MODE</span>		<span class="n">bdQoSMode</span><span class="p">;</span>

	<span class="n">u8</span>			<span class="n">bdWMMIEBuf</span><span class="p">[</span><span class="n">MAX_WMMELE_LENGTH</span><span class="p">];</span>
	<span class="n">u8</span><span class="o">*</span>		<span class="n">bdWMMIE</span><span class="p">;</span>

	<span class="n">QOS_ELE_SUBTYPE</span>		<span class="n">EleSubType</span><span class="p">;</span>

	<span class="n">u8</span> <span class="o">*</span>			<span class="n">pWMMInfoEle</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span>			<span class="n">pWMMParamEle</span><span class="p">;</span>

	<span class="n">QOS_INFO_FIELD</span>		<span class="n">QosInfoField</span><span class="p">;</span>
	<span class="n">AC_PARAM</span>		<span class="n">AcParameter</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">}</span><span class="n">BSS_QOS</span><span class="p">,</span> <span class="o">*</span><span class="n">PBSS_QOS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-39"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div><p>Ref: sQoSCtlLng and QoSCtl definition in 8185 QoS code.</p>

<h1>define QoSCtl   ((    (Adapter->bRegQoS) &amp;&amp; (Adapter->dot11QoS.QoSMode &amp;(QOS<em>EDCA|QOS</em>HCCA))    )  ?sQoSCtlLng:0)</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define sQoSCtlLng			2</span>
<span class="cp">#define	QOS_CTRL_LEN(_QosMode)		((_QosMode &gt; QOS_DISABLE)? sQoSCtlLng : 0)</span></pre></div></td></tr>


<tr id="section-40"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div><p>Added by joseph
UP Mapping to AC, using in MgntQuery_SequenceNumber() and maybe for DSCP</p>

<h1>define UP2AC(up)            ((up&lt;3)?((up==0)?1:0):(up>>1))</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define IsACValid(ac)			((ac&lt;=7 )?true:false )</span>

<span class="cp">#endif </span><span class="c1">// #ifndef __INC_QOS_TYPE_H</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
