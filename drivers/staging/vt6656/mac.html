<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › vt6656 › mac.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>mac.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 1996, 2003 VIA Networking Technologies, Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along</span>
<span class="cm"> * with this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> * File: mac.h</span>
<span class="cm"> *</span>
<span class="cm"> * Purpose: MAC routines</span>
<span class="cm"> *</span>
<span class="cm"> * Author: Tevin Chen</span>
<span class="cm"> *</span>
<span class="cm"> * Date: May 21, 1996</span>
<span class="cm"> *</span>
<span class="cm"> * Revision History:</span>
<span class="cm"> *      07-01-2003 Bryan YC Fan:  Re-write codes to support VT3253 spec.</span>
<span class="cm"> *      08-25-2003 Kyle Hsu:      Porting MAC functions from sim53.</span>
<span class="cm"> *      09-03-2003 Bryan YC Fan:  Add MACvDisableProtectMD &amp; MACvEnableProtectMD</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __MAC_H__</span>
<span class="cp">#define __MAC_H__</span>

<span class="cp">#include &quot;ttype.h&quot;</span>
<span class="cp">#include &quot;device.h&quot;</span>
<span class="cp">#include &quot;tmacro.h&quot;</span>

<span class="cm">/*---------------------  Export Definitions -------------------------*/</span>

<span class="cp">#define REV_ID_VT3253_A0    0x00</span>
<span class="cp">#define REV_ID_VT3253_A1    0x01</span>
<span class="cp">#define REV_ID_VT3253_B0    0x08</span>
<span class="cp">#define REV_ID_VT3253_B1    0x09</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>Registers in the MAC</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_BISTCMD     0x04</span>
<span class="cp">#define MAC_REG_BISTSR0     0x05</span>
<span class="cp">#define MAC_REG_BISTSR1     0x06</span>
<span class="cp">#define MAC_REG_BISTSR2     0x07</span>
<span class="cp">#define MAC_REG_I2MCSR      0x08</span>
<span class="cp">#define MAC_REG_I2MTGID     0x09</span>
<span class="cp">#define MAC_REG_I2MTGAD     0x0A</span>
<span class="cp">#define MAC_REG_I2MCFG      0x0B</span>
<span class="cp">#define MAC_REG_I2MDIPT     0x0C</span>
<span class="cp">#define MAC_REG_I2MDOPT     0x0E</span>
<span class="cp">#define MAC_REG_USBSUS      0x0F</span>

<span class="cp">#define MAC_REG_LOCALID     0x14</span>
<span class="cp">#define MAC_REG_TESTCFG     0x15</span>
<span class="cp">#define MAC_REG_JUMPER0     0x16</span>
<span class="cp">#define MAC_REG_JUMPER1     0x17</span>
<span class="cp">#define MAC_REG_TMCTL       0x18</span>
<span class="cp">#define MAC_REG_TMDATA0     0x1C</span>
<span class="cp">#define MAC_REG_TMDATA1     0x1D</span>
<span class="cp">#define MAC_REG_TMDATA2     0x1E</span>
<span class="cp">#define MAC_REG_TMDATA3     0x1F</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>MAC Parameter related</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_LRT         0x20        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_SRT         0x21        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_SIFS        0x22        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_DIFS        0x23        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_EIFS        0x24        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_SLOT        0x25        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_BI          0x26        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_CWMAXMIN0   0x28        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_LINKOFFTOTM 0x2A</span>
<span class="cp">#define MAC_REG_SWTMOT      0x2B</span>
<span class="cp">#define MAC_REG_RTSOKCNT    0x2C</span>
<span class="cp">#define MAC_REG_RTSFAILCNT  0x2D</span>
<span class="cp">#define MAC_REG_ACKFAILCNT  0x2E</span>
<span class="cp">#define MAC_REG_FCSERRCNT   0x2F</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>TSF Related</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_TSFCNTR     0x30        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_NEXTTBTT    0x38        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_TSFOFST     0x40        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_TFTCTL      0x48        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>WMAC Control/Status Related</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_ENCFG0      0x4C        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_ENCFG1      0x4D        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_ENCFG2      0x4E        </span><span class="c1">//</span>

<span class="cp">#define MAC_REG_CFG         0x50        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_TEST        0x52        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_HOSTCR      0x54        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_MACCR       0x55        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_RCR         0x56        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_TCR         0x57        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_IMR         0x58        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_ISR         0x5C</span>
<span class="cp">#define MAC_REG_ISR1        0x5D</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>Power Saving Related</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_PSCFG       0x60        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_PSCTL       0x61        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_PSPWRSIG    0x62        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_BBCR13      0x63</span>
<span class="cp">#define MAC_REG_AIDATIM     0x64</span>
<span class="cp">#define MAC_REG_PWBT        0x66</span>
<span class="cp">#define MAC_REG_WAKEOKTMR   0x68</span>
<span class="cp">#define MAC_REG_CALTMR      0x69</span>
<span class="cp">#define MAC_REG_SYNSPACCNT  0x6A</span>
<span class="cp">#define MAC_REG_WAKSYNOPT   0x6B</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>Baseband/IF Control Group</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_BBREGCTL    0x6C        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_CHANNEL     0x6D</span>
<span class="cp">#define MAC_REG_BBREGADR    0x6E</span>
<span class="cp">#define MAC_REG_BBREGDATA   0x6F</span>
<span class="cp">#define MAC_REG_IFREGCTL    0x70        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_IFDATA      0x71        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_ITRTMSET    0x74        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_PAPEDELAY   0x77</span>
<span class="cp">#define MAC_REG_SOFTPWRCTL  0x78        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_SOFTPWRCTL2 0x79        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_GPIOCTL0    0x7A        </span><span class="c1">//</span>
<span class="cp">#define MAC_REG_GPIOCTL1    0x7B        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>MiscFF PIO related</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_MISCFFNDEX  0xBC</span>
<span class="cp">#define MAC_REG_MISCFFCTL   0xBE</span>
<span class="cp">#define MAC_REG_MISCFFDATA  0xC0</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>MAC Configuration Group</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_PAR0        0xC4</span>
<span class="cp">#define MAC_REG_PAR4        0xC8</span>
<span class="cp">#define MAC_REG_BSSID0      0xCC</span>
<span class="cp">#define MAC_REG_BSSID4      0xD0</span>
<span class="cp">#define MAC_REG_MAR0        0xD4</span>
<span class="cp">#define MAC_REG_MAR4        0xD8</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>MAC RSPPKT INFO Group</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_REG_RSPINF_B_1  0xDC</span>
<span class="cp">#define MAC_REG_RSPINF_B_2  0xE0</span>
<span class="cp">#define MAC_REG_RSPINF_B_5  0xE4</span>
<span class="cp">#define MAC_REG_RSPINF_B_11 0xE8</span>
<span class="cp">#define MAC_REG_RSPINF_A_6  0xEC</span>
<span class="cp">#define MAC_REG_RSPINF_A_9  0xEE</span>
<span class="cp">#define MAC_REG_RSPINF_A_12 0xF0</span>
<span class="cp">#define MAC_REG_RSPINF_A_18 0xF2</span>
<span class="cp">#define MAC_REG_RSPINF_A_24 0xF4</span>
<span class="cp">#define MAC_REG_RSPINF_A_36 0xF6</span>
<span class="cp">#define MAC_REG_RSPINF_A_48 0xF8</span>
<span class="cp">#define MAC_REG_RSPINF_A_54 0xFA</span>
<span class="cp">#define MAC_REG_RSPINF_A_72 0xFC</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>Bits in the I2MCFG EEPROM register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define I2MCFG_BOUNDCTL     0x80</span>
<span class="cp">#define I2MCFG_WAITCTL      0x20</span>
<span class="cp">#define I2MCFG_SCLOECTL     0x10</span>
<span class="cp">#define I2MCFG_WBUSYCTL     0x08</span>
<span class="cp">#define I2MCFG_NORETRY      0x04</span>
<span class="cp">#define I2MCFG_I2MLDSEQ     0x02</span>
<span class="cp">#define I2MCFG_I2CMFAST     0x01</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>Bits in the I2MCSR EEPROM register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define I2MCSR_EEMW         0x80</span>
<span class="cp">#define I2MCSR_EEMR         0x40</span>
<span class="cp">#define I2MCSR_AUTOLD       0x08</span>
<span class="cp">#define I2MCSR_NACK         0x02</span>
<span class="cp">#define I2MCSR_DONE         0x01</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>Bits in the TMCTL register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define TMCTL_TSUSP         0x04</span>
<span class="cp">#define TMCTL_TMD           0x02</span>
<span class="cp">#define TMCTL_TE            0x01</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>Bits in the TFTCTL register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define TFTCTL_HWUTSF       0x80        </span><span class="c1">//</span>
<span class="cp">#define TFTCTL_TBTTSYNC     0x40</span>
<span class="cp">#define TFTCTL_HWUTSFEN     0x20</span>
<span class="cp">#define TFTCTL_TSFCNTRRD    0x10        </span><span class="c1">//</span>
<span class="cp">#define TFTCTL_TBTTSYNCEN   0x08        </span><span class="c1">//</span>
<span class="cp">#define TFTCTL_TSFSYNCEN    0x04        </span><span class="c1">//</span>
<span class="cp">#define TFTCTL_TSFCNTRST    0x02        </span><span class="c1">//</span>
<span class="cp">#define TFTCTL_TSFCNTREN    0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>Bits in the EnhanceCFG_0 register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define EnCFG_BBType_a      0x00</span>
<span class="cp">#define EnCFG_BBType_b      0x01</span>
<span class="cp">#define EnCFG_BBType_g      0x02</span>
<span class="cp">#define EnCFG_BBType_MASK   0x03</span>
<span class="cp">#define EnCFG_ProtectMd     0x20</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>Bits in the EnhanceCFG_1 register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define EnCFG_BcnSusInd     0x01</span>
<span class="cp">#define EnCFG_BcnSusClr     0x02</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>Bits in the EnhanceCFG_2 register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define EnCFG_NXTBTTCFPSTR  0x01</span>
<span class="cp">#define EnCFG_BarkerPream   0x02</span>
<span class="cp">#define EnCFG_PktBurstMode  0x04</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>Bits in the CFG register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CFG_TKIPOPT         0x80</span>
<span class="cp">#define CFG_RXDMAOPT        0x40</span>
<span class="cp">#define CFG_TMOT_SW         0x20</span>
<span class="cp">#define CFG_TMOT_HWLONG     0x10</span>
<span class="cp">#define CFG_TMOT_HW         0x00</span>
<span class="cp">#define CFG_CFPENDOPT       0x08</span>
<span class="cp">#define CFG_BCNSUSEN        0x04</span>
<span class="cp">#define CFG_NOTXTIMEOUT     0x02</span>
<span class="cp">#define CFG_NOBUFOPT        0x01</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>Bits in the TEST register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define TEST_LBEXT          0x80        </span><span class="c1">//</span>
<span class="cp">#define TEST_LBINT          0x40        </span><span class="c1">//</span>
<span class="cp">#define TEST_LBNONE         0x00        </span><span class="c1">//</span>
<span class="cp">#define TEST_SOFTINT        0x20        </span><span class="c1">//</span>
<span class="cp">#define TEST_CONTTX         0x10        </span><span class="c1">//</span>
<span class="cp">#define TEST_TXPE           0x08        </span><span class="c1">//</span>
<span class="cp">#define TEST_NAVDIS         0x04        </span><span class="c1">//</span>
<span class="cp">#define TEST_NOCTS          0x02        </span><span class="c1">//</span>
<span class="cp">#define TEST_NOACK          0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>Bits in the HOSTCR register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HOSTCR_TXONST       0x80        </span><span class="c1">//</span>
<span class="cp">#define HOSTCR_RXONST       0x40        </span><span class="c1">//</span>
<span class="cp">#define HOSTCR_ADHOC        0x20        </span><span class="c1">// Network Type 1 = Ad-hoc</span>
<span class="cp">#define HOSTCR_AP           0x10        </span><span class="c1">// Port Type 1 = AP</span>
<span class="cp">#define HOSTCR_TXON         0x08        </span><span class="c1">//0000 1000</span>
<span class="cp">#define HOSTCR_RXON         0x04        </span><span class="c1">//0000 0100</span>
<span class="cp">#define HOSTCR_MACEN        0x02        </span><span class="c1">//0000 0010</span>
<span class="cp">#define HOSTCR_SOFTRST      0x01        </span><span class="c1">//0000 0001</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>Bits in the MACCR register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MACCR_SYNCFLUSHOK   0x04        </span><span class="c1">//</span>
<span class="cp">#define MACCR_SYNCFLUSH     0x02        </span><span class="c1">//</span>
<span class="cp">#define MACCR_CLRNAV        0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>Bits in the RCR register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define RCR_SSID            0x80</span>
<span class="cp">#define RCR_RXALLTYPE       0x40        </span><span class="c1">//</span>
<span class="cp">#define RCR_UNICAST         0x20        </span><span class="c1">//</span>
<span class="cp">#define RCR_BROADCAST       0x10        </span><span class="c1">//</span>
<span class="cp">#define RCR_MULTICAST       0x08        </span><span class="c1">//</span>
<span class="cp">#define RCR_WPAERR          0x04        </span><span class="c1">//</span>
<span class="cp">#define RCR_ERRCRC          0x02        </span><span class="c1">//</span>
<span class="cp">#define RCR_BSSID           0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>Bits in the TCR register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define TCR_SYNCDCFOPT      0x02        </span><span class="c1">//</span>
<span class="cp">#define TCR_AUTOBCNTX       0x01        </span><span class="c1">// Beacon automatically transmit enable</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>ISR1</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ISR_GPIO3           0x40</span>
<span class="cp">#define ISR_RXNOBUF         0x08</span>
<span class="cp">#define ISR_MIBNEARFULL     0x04</span>
<span class="cp">#define ISR_SOFTINT         0x02</span>
<span class="cp">#define ISR_FETALERR        0x01</span>

<span class="cp">#define LEDSTS_STS          0x06</span>
<span class="cp">#define LEDSTS_TMLEN        0x78</span>
<span class="cp">#define LEDSTS_OFF          0x00</span>
<span class="cp">#define LEDSTS_ON           0x02</span>
<span class="cp">#define LEDSTS_SLOW         0x04</span>
<span class="cp">#define LEDSTS_INTER        0x06</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>ISR0</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ISR_WATCHDOG        0x80</span>
<span class="cp">#define ISR_SOFTTIMER       0x40</span>
<span class="cp">#define ISR_GPIO0           0x20</span>
<span class="cp">#define ISR_TBTT            0x10</span>
<span class="cp">#define ISR_RXDMA0          0x08</span>
<span class="cp">#define ISR_BNTX            0x04</span>
<span class="cp">#define ISR_ACTX            0x01</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>Bits in the PSCFG register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PSCFG_PHILIPMD      0x40        </span><span class="c1">//</span>
<span class="cp">#define PSCFG_WAKECALEN     0x20        </span><span class="c1">//</span>
<span class="cp">#define PSCFG_WAKETMREN     0x10        </span><span class="c1">//</span>
<span class="cp">#define PSCFG_BBPSPROG      0x08        </span><span class="c1">//</span>
<span class="cp">#define PSCFG_WAKESYN       0x04        </span><span class="c1">//</span>
<span class="cp">#define PSCFG_SLEEPSYN      0x02        </span><span class="c1">//</span>
<span class="cp">#define PSCFG_AUTOSLEEP     0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>Bits in the PSCTL register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PSCTL_WAKEDONE      0x20        </span><span class="c1">//</span>
<span class="cp">#define PSCTL_PS            0x10        </span><span class="c1">//</span>
<span class="cp">#define PSCTL_GO2DOZE       0x08        </span><span class="c1">//</span>
<span class="cp">#define PSCTL_LNBCN         0x04        </span><span class="c1">//</span>
<span class="cp">#define PSCTL_ALBCN         0x02        </span><span class="c1">//</span>
<span class="cp">#define PSCTL_PSEN          0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><p>Bits in the PSPWSIG register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PSSIG_WPE3          0x80        </span><span class="c1">//</span>
<span class="cp">#define PSSIG_WPE2          0x40        </span><span class="c1">//</span>
<span class="cp">#define PSSIG_WPE1          0x20        </span><span class="c1">//</span>
<span class="cp">#define PSSIG_WRADIOPE      0x10        </span><span class="c1">//</span>
<span class="cp">#define PSSIG_SPE3          0x08        </span><span class="c1">//</span>
<span class="cp">#define PSSIG_SPE2          0x04        </span><span class="c1">//</span>
<span class="cp">#define PSSIG_SPE1          0x02        </span><span class="c1">//</span>
<span class="cp">#define PSSIG_SRADIOPE      0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>Bits in the BBREGCTL register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define BBREGCTL_DONE       0x04        </span><span class="c1">//</span>
<span class="cp">#define BBREGCTL_REGR       0x02        </span><span class="c1">//</span>
<span class="cp">#define BBREGCTL_REGW       0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><p>Bits in the IFREGCTL register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define IFREGCTL_DONE       0x04        </span><span class="c1">//</span>
<span class="cp">#define IFREGCTL_IFRF       0x02        </span><span class="c1">//</span>
<span class="cp">#define IFREGCTL_REGW       0x01        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><p>Bits in the SOFTPWRCTL register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define SOFTPWRCTL_RFLEOPT      0x08  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_TXPEINV      0x02  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_SWPECTI      0x01  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_SWPAPE       0x20  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_SWCALEN      0x10  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_SWRADIO_PE   0x08  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_SWPE2        0x04  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_SWPE1        0x02  </span><span class="c1">//</span>
<span class="cp">#define SOFTPWRCTL_SWPE3        0x01  </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>Bits in the GPIOCTL1 register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define GPIO3_MD                0x20    </span><span class="c1">//</span>
<span class="cp">#define GPIO3_DATA              0x40    </span><span class="c1">//</span>
<span class="cp">#define GPIO3_INTMD             0x80    </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>Bits in the MISCFFCTL register</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MISCFFCTL_WRITE     0x0001      </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><p>Loopback mode</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MAC_LB_EXT          0x02        </span><span class="c1">//</span>
<span class="cp">#define MAC_LB_INTERNAL     0x01        </span><span class="c1">//</span>
<span class="cp">#define MAC_LB_NONE         0x00        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><p>Ethernet address filter type</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PKT_TYPE_NONE           0x00    </span><span class="c1">// turn off receiver</span>
<span class="cp">#define PKT_TYPE_ALL_MULTICAST  0x80</span>
<span class="cp">#define PKT_TYPE_PROMISCUOUS    0x40</span>
<span class="cp">#define PKT_TYPE_DIRECTED       0x20    </span><span class="c1">// obselete, directed address is always accepted</span>
<span class="cp">#define PKT_TYPE_BROADCAST      0x10</span>
<span class="cp">#define PKT_TYPE_MULTICAST      0x08</span>
<span class="cp">#define PKT_TYPE_ERROR_WPA      0x04</span>
<span class="cp">#define PKT_TYPE_ERROR_CRC      0x02</span>
<span class="cp">#define PKT_TYPE_BSSID          0x01</span>

<span class="cp">#define Default_BI              0x200</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>MiscFIFO Offset</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MISCFIFO_KEYETRY0       32</span>
<span class="cp">#define MISCFIFO_KEYENTRYSIZE   22</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><p>max time out delay time</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define W_MAX_TIMEOUT       0xFFF0U     </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><p>wait time within loop</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CB_DELAY_LOOP_WAIT  10          </span><span class="c1">// 10ms</span>

<span class="cp">#define MAC_REVISION_A0     0x00</span>
<span class="cp">#define MAC_REVISION_A1     0x01</span>


<span class="cm">/*---------------------  Export Types  ------------------------------*/</span>

<span class="cm">/*---------------------  Export Macros ------------------------------*/</span>

<span class="cm">/*---------------------  Export Classes  ----------------------------*/</span>

<span class="cm">/*---------------------  Export Variables  --------------------------*/</span>

<span class="cm">/*---------------------  Export Functions  --------------------------*/</span>

<span class="kt">void</span> <span class="n">MACvSetMultiAddrByHash</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byHashIdx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvWriteMultiAddr</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uByteIdx</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byData</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACbShutdown</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvSetBBType</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byType</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvSetMISCFifo</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">WORD</span> <span class="n">wOffset</span><span class="p">,</span> <span class="n">DWORD</span> <span class="n">dwData</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvDisableKeyEntry</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uEntryIdx</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvSetKeyEntry</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">WORD</span> <span class="n">wKeyCtl</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uEntryIdx</span><span class="p">,</span>
		     <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">uKeyIdx</span><span class="p">,</span> <span class="n">PBYTE</span> <span class="n">pbyAddr</span><span class="p">,</span> <span class="n">PDWORD</span> <span class="n">pdwKey</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">MACvRegBitsOff</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byRegOfs</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byBits</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvRegBitsOn</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byRegOfs</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byBits</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvWriteWord</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">BYTE</span> <span class="n">byRegOfs</span><span class="p">,</span> <span class="n">WORD</span> <span class="n">wData</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">MACvWriteBSSIDAddress</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">PBYTE</span> <span class="n">pbyEtherAddr</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvEnableProtectMD</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvDisableProtectMD</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvEnableBarkerPreambleMd</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvDisableBarkerPreambleMd</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">MACvWriteBeaconInterval</span><span class="p">(</span><span class="n">PSDevice</span> <span class="n">pDevice</span><span class="p">,</span> <span class="n">WORD</span> <span class="n">wInterval</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* __MAC_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
