<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › wlan-ng › p80211mgmt.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>p80211mgmt.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* p80211mgmt.h</span>
<span class="cm">*</span>
<span class="cm">* Macros, types, and functions to handle 802.11 mgmt frames</span>
<span class="cm">*</span>
<span class="cm">* Copyright (C) 1999 AbsoluteValue Systems, Inc.  All Rights Reserved.</span>
<span class="cm">* --------------------------------------------------------------------</span>
<span class="cm">*</span>
<span class="cm">* linux-wlan</span>
<span class="cm">*</span>
<span class="cm">*   The contents of this file are subject to the Mozilla Public</span>
<span class="cm">*   License Version 1.1 (the &quot;License&quot;); you may not use this file</span>
<span class="cm">*   except in compliance with the License. You may obtain a copy of</span>
<span class="cm">*   the License at http://www.mozilla.org/MPL/</span>
<span class="cm">*</span>
<span class="cm">*   Software distributed under the License is distributed on an &quot;AS</span>
<span class="cm">*   IS&quot; basis, WITHOUT WARRANTY OF ANY KIND, either express or</span>
<span class="cm">*   implied. See the License for the specific language governing</span>
<span class="cm">*   rights and limitations under the License.</span>
<span class="cm">*</span>
<span class="cm">*   Alternatively, the contents of this file may be used under the</span>
<span class="cm">*   terms of the GNU Public License version 2 (the &quot;GPL&quot;), in which</span>
<span class="cm">*   case the provisions of the GPL are applicable instead of the</span>
<span class="cm">*   above.  If you wish to allow the use of your version of this file</span>
<span class="cm">*   only under the terms of the GPL and not to allow others to use</span>
<span class="cm">*   your version of this file under the MPL, indicate your decision</span>
<span class="cm">*   by deleting the provisions above and replace them with the notice</span>
<span class="cm">*   and other provisions required by the GPL.  If you do not delete</span>
<span class="cm">*   the provisions above, a recipient may use your version of this</span>
<span class="cm">*   file under either the MPL or the GPL.</span>
<span class="cm">*</span>
<span class="cm">* --------------------------------------------------------------------</span>
<span class="cm">*</span>
<span class="cm">* Inquiries regarding the linux-wlan Open Source project can be</span>
<span class="cm">* made directly to:</span>
<span class="cm">*</span>
<span class="cm">* AbsoluteValue Systems Inc.</span>
<span class="cm">* info@linux-wlan.com</span>
<span class="cm">* http://www.linux-wlan.com</span>
<span class="cm">*</span>
<span class="cm">* --------------------------------------------------------------------</span>
<span class="cm">*</span>
<span class="cm">* Portions of the development of this software were funded by</span>
<span class="cm">* Intersil Corporation as part of PRISM(R) chipset product development.</span>
<span class="cm">*</span>
<span class="cm">* --------------------------------------------------------------------</span>
<span class="cm">*</span>
<span class="cm">* This file declares the constants and types used in the interface</span>
<span class="cm">* between a wlan driver and the user mode utilities.</span>
<span class="cm">*</span>
<span class="cm">* Notes:</span>
<span class="cm">*  - Constant values are always in HOST byte order.  To assign</span>
<span class="cm">*    values to multi-byte fields they _must_ be converted to</span>
<span class="cm">*    ieee byte order.  To retrieve multi-byte values from incoming</span>
<span class="cm">*    frames, they must be converted to host order.</span>
<span class="cm">*</span>
<span class="cm">*  - The len member of the frame structure does NOT!!! include</span>
<span class="cm">*    the MAC CRC.  Therefore, the len field on rx&#39;d frames should</span>
<span class="cm">*    have 4 subtracted from it.</span>
<span class="cm">*</span>
<span class="cm">* All functions declared here are implemented in p80211.c</span>
<span class="cm">*</span>
<span class="cm">* The types, macros, and functions defined here are primarily</span>
<span class="cm">* used for encoding and decoding management frames.  They are</span>
<span class="cm">* designed to follow these patterns of use:</span>
<span class="cm">*</span>
<span class="cm">* DECODE:</span>
<span class="cm">* 1) a frame of length len is received into buffer b</span>
<span class="cm">* 2) using the hdr structure and macros, we determine the type</span>
<span class="cm">* 3) an appropriate mgmt frame structure, mf, is allocated and zeroed</span>
<span class="cm">* 4) mf.hdr = b</span>
<span class="cm">*    mf.buf = b</span>
<span class="cm">*    mf.len = len</span>
<span class="cm">* 5) call mgmt_decode( mf )</span>
<span class="cm">* 6) the frame field pointers in mf are now set.  Note that any</span>
<span class="cm">*    multi-byte frame field values accessed using the frame field</span>
<span class="cm">*    pointers are in ieee byte order and will have to be converted</span>
<span class="cm">*    to host order.</span>
<span class="cm">*</span>
<span class="cm">* ENCODE:</span>
<span class="cm">* 1) Library client allocates buffer space for maximum length</span>
<span class="cm">*    frame of the desired type</span>
<span class="cm">* 2) Library client allocates a mgmt frame structure, called mf,</span>
<span class="cm">*    of the desired type</span>
<span class="cm">* 3) Set the following:</span>
<span class="cm">*    mf.type = &lt;desired type&gt;</span>
<span class="cm">*    mf.buf = &lt;allocated buffer address&gt;</span>
<span class="cm">* 4) call mgmt_encode( mf )</span>
<span class="cm">* 5) all of the fixed field pointers and fixed length information element</span>
<span class="cm">*    pointers in mf are now set to their respective locations in the</span>
<span class="cm">*    allocated space (fortunately, all variable length information elements</span>
<span class="cm">*    fall at the end of their respective frames).</span>
<span class="cm">* 5a) The length field is set to include the last of the fixed and fixed</span>
<span class="cm">*     length fields.  It may have to be updated for optional or variable</span>
<span class="cm">* 	length information elements.</span>
<span class="cm">* 6) Optional and variable length information elements are special cases</span>
<span class="cm">*    and must be handled individually by the client code.</span>
<span class="cm">* --------------------------------------------------------------------</span>
<span class="cm">*/</span>

<span class="cp">#ifndef _P80211MGMT_H</span>
<span class="cp">#define _P80211MGMT_H</span>

<span class="cp">#ifndef _P80211HDR_H</span>
<span class="cp">#include &quot;p80211hdr.h&quot;</span>
<span class="cp">#endif</span>

<span class="cm">/*-- Information Element IDs --------------------*/</span>
<span class="cp">#define WLAN_EID_SSID		0</span>
<span class="cp">#define WLAN_EID_SUPP_RATES	1</span>
<span class="cp">#define WLAN_EID_FH_PARMS	2</span>
<span class="cp">#define WLAN_EID_DS_PARMS	3</span>
<span class="cp">#define WLAN_EID_CF_PARMS	4</span>
<span class="cp">#define WLAN_EID_TIM		5</span>
<span class="cp">#define WLAN_EID_IBSS_PARMS	6</span>
<span class="cm">/*-- values 7-15 reserved --*/</span>
<span class="cp">#define WLAN_EID_CHALLENGE	16</span>
<span class="cm">/*-- values 17-31 reserved for challenge text extension --*/</span>
<span class="cm">/*-- values 32-255 reserved --*/</span>

<span class="cm">/*-- Reason Codes -------------------------------*/</span>
<span class="cp">#define WLAN_MGMT_REASON_RSVD			0</span>
<span class="cp">#define WLAN_MGMT_REASON_UNSPEC			1</span>
<span class="cp">#define WLAN_MGMT_REASON_PRIOR_AUTH_INVALID	2</span>
<span class="cp">#define WLAN_MGMT_REASON_DEAUTH_LEAVING		3</span>
<span class="cp">#define WLAN_MGMT_REASON_DISASSOC_INACTIVE	4</span>
<span class="cp">#define WLAN_MGMT_REASON_DISASSOC_AP_BUSY	5</span>
<span class="cp">#define WLAN_MGMT_REASON_CLASS2_NONAUTH		6</span>
<span class="cp">#define WLAN_MGMT_REASON_CLASS3_NONASSOC	7</span>
<span class="cp">#define WLAN_MGMT_REASON_DISASSOC_STA_HASLEFT	8</span>
<span class="cp">#define WLAN_MGMT_REASON_CANT_ASSOC_NONAUTH	9</span>

<span class="cm">/*-- Status Codes -------------------------------*/</span>
<span class="cp">#define WLAN_MGMT_STATUS_SUCCESS		0</span>
<span class="cp">#define WLAN_MGMT_STATUS_UNSPEC_FAILURE		1</span>
<span class="cp">#define WLAN_MGMT_STATUS_CAPS_UNSUPPORTED	10</span>
<span class="cp">#define WLAN_MGMT_STATUS_REASSOC_NO_ASSOC	11</span>
<span class="cp">#define WLAN_MGMT_STATUS_ASSOC_DENIED_UNSPEC	12</span>
<span class="cp">#define WLAN_MGMT_STATUS_UNSUPPORTED_AUTHALG	13</span>
<span class="cp">#define WLAN_MGMT_STATUS_RX_AUTH_NOSEQ		14</span>
<span class="cp">#define WLAN_MGMT_STATUS_CHALLENGE_FAIL		15</span>
<span class="cp">#define WLAN_MGMT_STATUS_AUTH_TIMEOUT		16</span>
<span class="cp">#define WLAN_MGMT_STATUS_ASSOC_DENIED_BUSY	17</span>
<span class="cp">#define WLAN_MGMT_STATUS_ASSOC_DENIED_RATES	18</span>
  <span class="cm">/* p80211b additions */</span>
<span class="cp">#define WLAN_MGMT_STATUS_ASSOC_DENIED_NOSHORT	19</span>
<span class="cp">#define WLAN_MGMT_STATUS_ASSOC_DENIED_NOPBCC	20</span>
<span class="cp">#define WLAN_MGMT_STATUS_ASSOC_DENIED_NOAGILITY	21</span>

<span class="cm">/*-- Auth Algorithm Field ---------------------------*/</span>
<span class="cp">#define WLAN_AUTH_ALG_OPENSYSTEM		0</span>
<span class="cp">#define WLAN_AUTH_ALG_SHAREDKEY			1</span>

<span class="cm">/*-- Management Frame Field Offsets -------------*/</span>
<span class="cm">/* Note: Not all fields are listed because of variable lengths,   */</span>
<span class="cm">/*       see the code in p80211.c to see how we search for fields */</span>
<span class="cm">/* Note: These offsets are from the start of the frame data       */</span>

<span class="cp">#define WLAN_BEACON_OFF_TS			0</span>
<span class="cp">#define WLAN_BEACON_OFF_BCN_int			8</span>
<span class="cp">#define WLAN_BEACON_OFF_CAPINFO			10</span>
<span class="cp">#define WLAN_BEACON_OFF_SSID			12</span>

<span class="cp">#define WLAN_DISASSOC_OFF_REASON		0</span>

<span class="cp">#define WLAN_ASSOCREQ_OFF_CAP_INFO		0</span>
<span class="cp">#define WLAN_ASSOCREQ_OFF_LISTEN_int		2</span>
<span class="cp">#define WLAN_ASSOCREQ_OFF_SSID			4</span>

<span class="cp">#define WLAN_ASSOCRESP_OFF_CAP_INFO		0</span>
<span class="cp">#define WLAN_ASSOCRESP_OFF_STATUS		2</span>
<span class="cp">#define WLAN_ASSOCRESP_OFF_AID			4</span>
<span class="cp">#define WLAN_ASSOCRESP_OFF_SUPP_RATES		6</span>

<span class="cp">#define WLAN_REASSOCREQ_OFF_CAP_INFO		0</span>
<span class="cp">#define WLAN_REASSOCREQ_OFF_LISTEN_int		2</span>
<span class="cp">#define WLAN_REASSOCREQ_OFF_CURR_AP		4</span>
<span class="cp">#define WLAN_REASSOCREQ_OFF_SSID		10</span>

<span class="cp">#define WLAN_REASSOCRESP_OFF_CAP_INFO		0</span>
<span class="cp">#define WLAN_REASSOCRESP_OFF_STATUS		2</span>
<span class="cp">#define WLAN_REASSOCRESP_OFF_AID		4</span>
<span class="cp">#define WLAN_REASSOCRESP_OFF_SUPP_RATES		6</span>

<span class="cp">#define WLAN_PROBEREQ_OFF_SSID			0</span>

<span class="cp">#define WLAN_PROBERESP_OFF_TS			0</span>
<span class="cp">#define WLAN_PROBERESP_OFF_BCN_int		8</span>
<span class="cp">#define WLAN_PROBERESP_OFF_CAP_INFO		10</span>
<span class="cp">#define WLAN_PROBERESP_OFF_SSID			12</span>

<span class="cp">#define WLAN_AUTHEN_OFF_AUTH_ALG		0</span>
<span class="cp">#define WLAN_AUTHEN_OFF_AUTH_SEQ		2</span>
<span class="cp">#define WLAN_AUTHEN_OFF_STATUS			4</span>
<span class="cp">#define WLAN_AUTHEN_OFF_CHALLENGE		6</span>

<span class="cp">#define WLAN_DEAUTHEN_OFF_REASON		0</span>

<span class="cm">/*-- Capability Field ---------------------------*/</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_ESS(n)		((n) &amp; BIT(0))</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_IBSS(n)		(((n) &amp; BIT(1)) &gt;&gt; 1)</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_CFPOLLABLE(n)	(((n) &amp; BIT(2)) &gt;&gt; 2)</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_CFPOLLREQ(n)	(((n) &amp; BIT(3)) &gt;&gt; 3)</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_PRIVACY(n)	(((n) &amp; BIT(4)) &gt;&gt; 4)</span>
  <span class="cm">/* p80211b additions */</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_SHORT(n)		(((n) &amp; BIT(5)) &gt;&gt; 5)</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_PBCC(n)		(((n) &amp; BIT(6)) &gt;&gt; 6)</span>
<span class="cp">#define WLAN_GET_MGMT_CAP_INFO_AGILITY(n)	(((n) &amp; BIT(7)) &gt;&gt; 7)</span>

<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_ESS(n)		(n)</span>
<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_IBSS(n)		((n) &lt;&lt; 1)</span>
<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_CFPOLLABLE(n)	((n) &lt;&lt; 2)</span>
<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_CFPOLLREQ(n)	((n) &lt;&lt; 3)</span>
<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_PRIVACY(n)	((n) &lt;&lt; 4)</span>
  <span class="cm">/* p80211b additions */</span>
<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_SHORT(n)		((n) &lt;&lt; 5)</span>
<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_PBCC(n)		((n) &lt;&lt; 6)</span>
<span class="cp">#define WLAN_SET_MGMT_CAP_INFO_AGILITY(n)	((n) &lt;&lt; 7)</span>

<span class="cm">/*-- Information Element Types --------------------*/</span>
<span class="cm">/* prototype structure, all IEs start with these members */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_t</span><span class="p">;</span>

<span class="cm">/*-- Service Set Identity (SSID)  -----------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_ssid</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ssid</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>		<span class="cm">/* may be zero, ptrs may overlap */</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_ssid_t</span><span class="p">;</span>

<span class="cm">/*-- Supported Rates  -----------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_supp_rates</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rates</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>		<span class="cm">/* had better be at LEAST one! */</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_supp_rates_t</span><span class="p">;</span>

<span class="cm">/*-- FH Parameter Set  ----------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_fh_parms</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">dwell</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hopset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hoppattern</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hopindex</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_fh_parms_t</span><span class="p">;</span>

<span class="cm">/*-- DS Parameter Set  ----------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_ds_parms</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">curr_ch</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_ds_parms_t</span><span class="p">;</span>

<span class="cm">/*-- CF Parameter Set  ----------------------------*/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_cf_parms</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cfp_cnt</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cfp_period</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">cfp_maxdur</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">cfp_durremaining</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_cf_parms_t</span><span class="p">;</span>

<span class="cm">/*-- TIM ------------------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_tim</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dtim_cnt</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dtim_period</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bitmap_ctl</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">virt_bm</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_tim_t</span><span class="p">;</span>

<span class="cm">/*-- IBSS Parameter Set ---------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_ibss_parms</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">atim_win</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_ibss_parms_t</span><span class="p">;</span>

<span class="cm">/*-- Challenge Text  ------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_ie_challenge</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">eid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">challenge</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__packed</span> <span class="n">wlan_ie_challenge_t</span><span class="p">;</span>

<span class="cm">/*-------------------------------------------------*/</span>
<span class="cm">/*  Frame Types  */</span>

<span class="cm">/* prototype structure, all mgmt frame types will start with these members */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_mgmt</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>		<span class="cm">/* DOES NOT include CRC !!!! */</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="cm">/*-- info elements ----------*/</span>
<span class="p">}</span> <span class="n">wlan_fr_mgmt_t</span><span class="p">;</span>

<span class="cm">/*-- Beacon ---------------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_beacon</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u64</span> <span class="o">*</span><span class="n">ts</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">bcn_int</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">cap_info</span><span class="p">;</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_ssid_t</span> <span class="o">*</span><span class="n">ssid</span><span class="p">;</span>
	<span class="n">wlan_ie_supp_rates_t</span> <span class="o">*</span><span class="n">supp_rates</span><span class="p">;</span>
	<span class="n">wlan_ie_fh_parms_t</span> <span class="o">*</span><span class="n">fh_parms</span><span class="p">;</span>
	<span class="n">wlan_ie_ds_parms_t</span> <span class="o">*</span><span class="n">ds_parms</span><span class="p">;</span>
	<span class="n">wlan_ie_cf_parms_t</span> <span class="o">*</span><span class="n">cf_parms</span><span class="p">;</span>
	<span class="n">wlan_ie_ibss_parms_t</span> <span class="o">*</span><span class="n">ibss_parms</span><span class="p">;</span>
	<span class="n">wlan_ie_tim_t</span> <span class="o">*</span><span class="n">tim</span><span class="p">;</span>

<span class="p">}</span> <span class="n">wlan_fr_beacon_t</span><span class="p">;</span>

<span class="cm">/*-- IBSS ATIM ------------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_ibssatim</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>

	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="cm">/*-- info elements ----------*/</span>

	<span class="cm">/* this frame type has a null body */</span>

<span class="p">}</span> <span class="n">wlan_fr_ibssatim_t</span><span class="p">;</span>

<span class="cm">/*-- Disassociation -------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_disassoc</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">reason</span><span class="p">;</span>

	<span class="cm">/*-- info elements ----------*/</span>

<span class="p">}</span> <span class="n">wlan_fr_disassoc_t</span><span class="p">;</span>

<span class="cm">/*-- Association Request --------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_assocreq</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">listen_int</span><span class="p">;</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_ssid_t</span> <span class="o">*</span><span class="n">ssid</span><span class="p">;</span>
	<span class="n">wlan_ie_supp_rates_t</span> <span class="o">*</span><span class="n">supp_rates</span><span class="p">;</span>

<span class="p">}</span> <span class="n">wlan_fr_assocreq_t</span><span class="p">;</span>

<span class="cm">/*-- Association Response -------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_assocresp</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">status</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">aid</span><span class="p">;</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_supp_rates_t</span> <span class="o">*</span><span class="n">supp_rates</span><span class="p">;</span>

<span class="p">}</span> <span class="n">wlan_fr_assocresp_t</span><span class="p">;</span>

<span class="cm">/*-- Reassociation Request ------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_reassocreq</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">listen_int</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">curr_ap</span><span class="p">;</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_ssid_t</span> <span class="o">*</span><span class="n">ssid</span><span class="p">;</span>
	<span class="n">wlan_ie_supp_rates_t</span> <span class="o">*</span><span class="n">supp_rates</span><span class="p">;</span>

<span class="p">}</span> <span class="n">wlan_fr_reassocreq_t</span><span class="p">;</span>

<span class="cm">/*-- Reassociation Response -----------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_reassocresp</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">cap_info</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">status</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">aid</span><span class="p">;</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_supp_rates_t</span> <span class="o">*</span><span class="n">supp_rates</span><span class="p">;</span>

<span class="p">}</span> <span class="n">wlan_fr_reassocresp_t</span><span class="p">;</span>

<span class="cm">/*-- Probe Request --------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_probereq</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_ssid_t</span> <span class="o">*</span><span class="n">ssid</span><span class="p">;</span>
	<span class="n">wlan_ie_supp_rates_t</span> <span class="o">*</span><span class="n">supp_rates</span><span class="p">;</span>

<span class="p">}</span> <span class="n">wlan_fr_probereq_t</span><span class="p">;</span>

<span class="cm">/*-- Probe Response -------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_proberesp</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u64</span> <span class="o">*</span><span class="n">ts</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">bcn_int</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">cap_info</span><span class="p">;</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_ssid_t</span> <span class="o">*</span><span class="n">ssid</span><span class="p">;</span>
	<span class="n">wlan_ie_supp_rates_t</span> <span class="o">*</span><span class="n">supp_rates</span><span class="p">;</span>
	<span class="n">wlan_ie_fh_parms_t</span> <span class="o">*</span><span class="n">fh_parms</span><span class="p">;</span>
	<span class="n">wlan_ie_ds_parms_t</span> <span class="o">*</span><span class="n">ds_parms</span><span class="p">;</span>
	<span class="n">wlan_ie_cf_parms_t</span> <span class="o">*</span><span class="n">cf_parms</span><span class="p">;</span>
	<span class="n">wlan_ie_ibss_parms_t</span> <span class="o">*</span><span class="n">ibss_parms</span><span class="p">;</span>
<span class="p">}</span> <span class="n">wlan_fr_proberesp_t</span><span class="p">;</span>

<span class="cm">/*-- Authentication -------------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_authen</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">auth_alg</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">auth_seq</span><span class="p">;</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">status</span><span class="p">;</span>
	<span class="cm">/*-- info elements ----------*/</span>
	<span class="n">wlan_ie_challenge_t</span> <span class="o">*</span><span class="n">challenge</span><span class="p">;</span>

<span class="p">}</span> <span class="n">wlan_fr_authen_t</span><span class="p">;</span>

<span class="cm">/*-- Deauthenication -----------------------------*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wlan_fr_deauthen</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">p80211_hdr</span> <span class="o">*</span><span class="n">hdr</span><span class="p">;</span>
	<span class="cm">/* used for target specific data, skb in Linux */</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">priv</span><span class="p">;</span>
	<span class="cm">/*-- fixed fields -----------*/</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">reason</span><span class="p">;</span>

	<span class="cm">/*-- info elements ----------*/</span>

<span class="p">}</span> <span class="n">wlan_fr_deauthen_t</span><span class="p">;</span>

<span class="kt">void</span> <span class="n">wlan_mgmt_encode_beacon</span><span class="p">(</span><span class="n">wlan_fr_beacon_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_beacon</span><span class="p">(</span><span class="n">wlan_fr_beacon_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_disassoc</span><span class="p">(</span><span class="n">wlan_fr_disassoc_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_disassoc</span><span class="p">(</span><span class="n">wlan_fr_disassoc_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_assocreq</span><span class="p">(</span><span class="n">wlan_fr_assocreq_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_assocreq</span><span class="p">(</span><span class="n">wlan_fr_assocreq_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_assocresp</span><span class="p">(</span><span class="n">wlan_fr_assocresp_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_assocresp</span><span class="p">(</span><span class="n">wlan_fr_assocresp_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_reassocreq</span><span class="p">(</span><span class="n">wlan_fr_reassocreq_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_reassocreq</span><span class="p">(</span><span class="n">wlan_fr_reassocreq_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_reassocresp</span><span class="p">(</span><span class="n">wlan_fr_reassocresp_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_reassocresp</span><span class="p">(</span><span class="n">wlan_fr_reassocresp_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_probereq</span><span class="p">(</span><span class="n">wlan_fr_probereq_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_probereq</span><span class="p">(</span><span class="n">wlan_fr_probereq_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_proberesp</span><span class="p">(</span><span class="n">wlan_fr_proberesp_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_proberesp</span><span class="p">(</span><span class="n">wlan_fr_proberesp_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_authen</span><span class="p">(</span><span class="n">wlan_fr_authen_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_authen</span><span class="p">(</span><span class="n">wlan_fr_authen_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_encode_deauthen</span><span class="p">(</span><span class="n">wlan_fr_deauthen_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">wlan_mgmt_decode_deauthen</span><span class="p">(</span><span class="n">wlan_fr_deauthen_t</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* _P80211MGMT_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
