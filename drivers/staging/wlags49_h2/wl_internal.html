<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › wlags49_h2 › wl_internal.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>wl_internal.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*******************************************************************************</span>
<span class="cm"> * Agere Systems Inc.</span>
<span class="cm"> * Wireless device driver for Linux (wlags49).</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 1998-2003 Agere Systems Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *   http://www.agere.com</span>
<span class="cm"> *</span>
<span class="cm"> * Initially developed by TriplePoint, Inc.</span>
<span class="cm"> *   http://www.triplepoint.com</span>
<span class="cm"> *</span>
<span class="cm"> *------------------------------------------------------------------------------</span>
<span class="cm"> *</span>
<span class="cm"> *   Header for defintions and macros internal to the drvier.</span>
<span class="cm"> *</span>
<span class="cm"> *------------------------------------------------------------------------------</span>
<span class="cm"> *</span>
<span class="cm"> * SOFTWARE LICENSE</span>
<span class="cm"> *</span>
<span class="cm"> * This software is provided subject to the following terms and conditions,</span>
<span class="cm"> * which you should read carefully before using the software.  Using this</span>
<span class="cm"> * software indicates your acceptance of these terms and conditions.  If you do</span>
<span class="cm"> * not agree with these terms and conditions, do not use the software.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright © 2003 Agere Systems Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source or binary forms, with or without</span>
<span class="cm"> * modifications, are permitted provided that the following conditions are met:</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions of source code must retain the above copyright notice, this</span>
<span class="cm"> *    list of conditions and the following Disclaimer as comments in the code as</span>
<span class="cm"> *    well as in the documentation and/or other materials provided with the</span>
<span class="cm"> *    distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions in binary form must reproduce the above copyright notice,</span>
<span class="cm"> *    this list of conditions and the following Disclaimer in the documentation</span>
<span class="cm"> *    and/or other materials provided with the distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Neither the name of Agere Systems Inc. nor the names of the contributors</span>
<span class="cm"> *    may be used to endorse or promote products derived from this software</span>
<span class="cm"> *    without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Disclaimer</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED AS IS AND ANY EXPRESS OR IMPLIED WARRANTIES,</span>
<span class="cm"> * INCLUDING, BUT NOT LIMITED TO, INFRINGEMENT AND THE IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  ANY</span>
<span class="cm"> * USE, MODIFICATION OR DISTRIBUTION OF THIS SOFTWARE IS SOLELY AT THE USERS OWN</span>
<span class="cm"> * RISK. IN NO EVENT SHALL AGERE SYSTEMS INC. OR CONTRIBUTORS BE LIABLE FOR ANY</span>
<span class="cm"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="cm"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="cm"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="cm"> * ON ANY THEORY OF LIABILITY, INCLUDING, BUT NOT LIMITED TO, CONTRACT, STRICT</span>
<span class="cm"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT</span>
<span class="cm"> * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
<span class="cm"> * DAMAGE.</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="cp">#ifndef __WAVELAN2_H__</span>
<span class="cp">#define __WAVELAN2_H__</span>




<span class="cm">/*******************************************************************************</span>
<span class="cm"> *  include files</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#ifdef BUS_PCMCIA</span>
<span class="cp">#include &lt;pcmcia/cistpl.h&gt;</span>
<span class="cp">#include &lt;pcmcia/cisreg.h&gt;</span>
<span class="cp">#include &lt;pcmcia/ciscode.h&gt;</span>
<span class="cp">#include &lt;pcmcia/ds.h&gt;</span>
<span class="cp">#endif  </span><span class="c1">// BUS_PCMCIA</span>

<span class="cp">#include &lt;linux/wireless.h&gt;</span>
<span class="cp">#include &lt;net/iw_handler.h&gt;</span>

<span class="cp">#include &lt;linux/list.h&gt;</span>

<span class="cp">#include &lt;linux/interrupt.h&gt;</span>




<span class="cm">/*******************************************************************************</span>
<span class="cm"> *  constant definitions</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#define p_u8    __u8</span>
<span class="cp">#define p_s8    __s8</span>
<span class="cp">#define p_u16   __u16</span>
<span class="cp">#define p_s16   __s16</span>
<span class="cp">#define p_u32   __u32</span>
<span class="cp">#define p_s32   __s32</span>
<span class="cp">#define p_char  char</span>

<span class="cp">#define MAX_KEY_LEN         (2 + (13 * 2)) </span><span class="c1">// 0x plus 13 hex digit pairs</span>
<span class="cp">#define MB_SIZE             1024</span>
<span class="cp">#define MAX_ENC_LEN         104</span>

<span class="cp">#define MAX_SCAN_TIME_SEC   8</span>
<span class="cp">#define MAX_NAPS            32</span>

<span class="cp">#define CFG_MB_INFO         0x0820		</span><span class="c1">//Mail Box Info Block</span>

<span class="cp">#define NUM_WDS_PORTS       6</span>

<span class="cp">#define WVLAN_MAX_LOOKAHEAD (HCF_MAX_MSG+46) </span><span class="cm">/* as per s0005MIC_4.doc */</span><span class="cp"></span>


<span class="cm">/* Min/Max/Default Parameter Values */</span>
<span class="cp">#if 0</span><span class="c"> //;? (HCF_TYPE) &amp; HCF_TYPE_AP</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>;? why this difference depending on compile option, seems to me it should depend on runtime if anything</p></td><td class="code"><div class="highlight"><pre><span class="c">#define PARM_DEFAULT_SSID                       &quot;LinuxAP&quot;</span>
<span class="cp">#else</span>
<span class="cp">#define PARM_DEFAULT_SSID                       &quot;ANY&quot;</span>
<span class="cp">#endif </span><span class="c1">// HCF_TYPE_AP</span>

<span class="cp">#define PARM_MIN_NAME_LEN                       1</span>
<span class="cp">#define PARM_MAX_NAME_LEN                       32</span>


<span class="cm">/* The following definitions pertain to module and profile parameters */</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><h1>define PARM<em>AP</em>MODE                            APMode</h1>

<h1>define PARM<em>NAME</em>AP_MODE                        TEXT("APMode")</h1>

<h1>define PARM<em>DEFAULT</em>AP_MODE                    FALSE</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define PARM_AUTHENTICATION                     Authentication</span>
<span class="cp">#define PARM_NAME_AUTHENTICATION				TEXT(&quot;Authentication&quot;)</span>
<span class="cp">#define PARM_MIN_AUTHENTICATION                 1</span>
<span class="cp">#define PARM_MAX_AUTHENTICATION                 2</span>
<span class="cp">#define PARM_DEFAULT_AUTHENTICATION             1</span>

<span class="cp">#define PARM_AUTH_KEY_MGMT_SUITE                AuthKeyMgmtSuite</span>
<span class="cp">#define PARM_NAME_AUTH_KEY_MGMT_SUITE           TEXT(&quot;AuthKeyMgmtSuite&quot;)</span>
<span class="cp">#define PARM_MIN_AUTH_KEY_MGMT_SUITE            0</span>
<span class="cp">#define PARM_MAX_AUTH_KEY_MGMT_SUITE            4</span>
<span class="cp">#define PARM_DEFAULT_AUTH_KEY_MGMT_SUITE        0</span>

<span class="cp">#define PARM_BRSC_2GHZ                          BRSC2GHz</span>
<span class="cp">#define PARM_NAME_BRSC_2GHZ                     TEXT(&quot;BRSC2GHz&quot;)</span>
<span class="cp">#define PARM_MIN_BRSC                           0x0000</span>
<span class="cp">#define PARM_MAX_BRSC                           0x0FFF</span>
<span class="cp">#define PARM_DEFAULT_BRSC_2GHZ                  0x000F</span>

<span class="cp">#define PARM_BRSC_5GHZ                          BRSC5GHz</span>
<span class="cp">#define PARM_NAME_BRSC_5GHZ                     TEXT(&quot;BRSC5GHz&quot;)</span>
<span class="cp">#define PARM_DEFAULT_BRSC_5GHZ                  0x0150</span>

<span class="cp">#define PARM_COEXISTENCE                        Coexistence</span>
<span class="cp">#define PARM_NAME_COEXISTENCE                   TEXT(&quot;Coexistence&quot;)</span>
<span class="cp">#define PARM_MIN_COEXISTENCE                    0x0000</span>
<span class="cp">#define PARM_MAX_COEXISTENCE                    0x0007</span>
<span class="cp">#define PARM_DEFAULT_COEXISTENCE                0x0000</span>

<span class="cp">#define PARM_CONFIGURED                         Configured</span>
<span class="cp">#define PARM_NAME_CONFIGURED					TEXT(&quot;Configured&quot;)</span>

<span class="cp">#define PARM_CONNECTION_CONTROL                 ConnectionControl</span>
<span class="cp">#define PARM_NAME_CONNECTION_CONTROL            TEXT(&quot;ConnectionControl&quot;)</span>
<span class="cp">#define PARM_MIN_CONNECTION_CONTROL             0</span>
<span class="cp">#define PARM_MAX_CONNECTION_CONTROL             3</span>
<span class="cp">#define PARM_DEFAULT_CONNECTION_CONTROL         2</span>

<span class="cp">#define PARM_CREATE_IBSS                        CreateIBSS</span>
<span class="cp">#define PARM_NAME_CREATE_IBSS                   TEXT(&quot;CreateIBSS&quot;)</span>
<span class="cp">#define PARM_DEFAULT_CREATE_IBSS                FALSE</span>
<span class="cp">#define PARM_DEFAULT_CREATE_IBSS_STR            &quot;N&quot;</span>

<span class="cp">#define PARM_DEBUG_FLAG             	    	DebugFlag</span>
<span class="cp">#define PARM_NAME_DEBUG_FLAG            		TEXT(&quot;DebugFlag&quot;)</span>
<span class="cp">#define PARM_MIN_DEBUG_FLAG             		0</span>
<span class="cp">#define PARM_MAX_DEBUG_FLAG             		0xFFFF</span>
<span class="cp">#define PARM_DEFAULT_DEBUG_FLAG         		0xFFFF</span>

<span class="cp">#define PARM_DESIRED_SSID                       DesiredSSID</span>
<span class="cp">#define PARM_NAME_DESIRED_SSID                  TEXT(&quot;DesiredSSID&quot;)</span>

<span class="cp">#define PARM_DOWNLOAD_FIRMWARE                  DownloadFirmware</span>
<span class="cp">#define PARM_NAME_DOWNLOAD_FIRMWARE             TEXT(&quot;DownloadFirmware&quot;)</span>

<span class="cp">#define PARM_DRIVER_ENABLE                      DriverEnable</span>
<span class="cp">#define PARM_NAME_DRIVER_ENABLE					TEXT(&quot;DriverEnable&quot;)</span>
<span class="cp">#define PARM_DEFAULT_DRIVER_ENABLE				TRUE</span>

<span class="cp">#define PARM_ENABLE_ENCRYPTION                  EnableEncryption</span>
<span class="cp">#define PARM_NAME_ENABLE_ENCRYPTION             TEXT(&quot;EnableEncryption&quot;)</span>
<span class="cp">#define PARM_MIN_ENABLE_ENCRYPTION              0</span>
<span class="cp">#define PARM_MAX_ENABLE_ENCRYPTION              7</span>
<span class="cp">#define PARM_DEFAULT_ENABLE_ENCRYPTION          0</span>

<span class="cp">#define PARM_ENCRYPTION                         Encryption</span>
<span class="cp">#define PARM_NAME_ENCRYPTION                    TEXT(&quot;Encryption&quot;)</span>

<span class="cp">#define PARM_EXCLUDE_UNENCRYPTED                ExcludeUnencrypted</span>
<span class="cp">#define PARM_NAME_EXCLUDE_UNENCRYPTED           TEXT(&quot;ExcludeUnencrypted&quot;)</span>
<span class="cp">#define PARM_DEFAULT_EXCLUDE_UNENCRYPTED        TRUE</span>
<span class="cp">#define PARM_DEFAULT_EXCLUDE_UNENCRYPTED_STR    &quot;N&quot;</span>

<span class="cp">#define PARM_INTRA_BSS_RELAY                    IntraBSSRelay</span>
<span class="cp">#define PARM_NAME_INTRA_BSS_RELAY               TEXT(&quot;IntraBSSRelay&quot;)</span>
<span class="cp">#define PARM_DEFAULT_INTRA_BSS_RELAY            TRUE</span>
<span class="cp">#define PARM_DEFAULT_INTRA_BSS_RELAY_STR        &quot;Y&quot;</span>

<span class="cp">#define PARM_KEY1                               Key1</span>
<span class="cp">#define PARM_NAME_KEY1                          TEXT(&quot;Key1&quot;)</span>
<span class="cp">#define PARM_KEY2                               Key2</span>
<span class="cp">#define PARM_NAME_KEY2                          TEXT(&quot;Key2&quot;)</span>
<span class="cp">#define PARM_KEY3                               Key3</span>
<span class="cp">#define PARM_NAME_KEY3                          TEXT(&quot;Key3&quot;)</span>
<span class="cp">#define PARM_KEY4                               Key4</span>
<span class="cp">#define PARM_NAME_KEY4                          TEXT(&quot;Key4&quot;)</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>;? #define PARM<em>KEY</em>FORMAT                         AsciiHex
;? #define PARM<em>NAME</em>KEY_FORMAT                    TEXT("AsciiHex")</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PARM_LOAD_BALANCING                     LoadBalancing</span>
<span class="cp">#define PARM_NAME_LOAD_BALANCING                TEXT(&quot;LoadBalancing&quot;)</span>
<span class="cp">#define PARM_DEFAULT_LOAD_BALANCING             TRUE</span>
<span class="cp">#define PARM_DEFAULT_LOAD_BALANCING_STR         &quot;Y&quot;</span>

<span class="cp">#define PARM_MAX_DATA_LENGTH                    MaxDataLength</span>
<span class="cp">#define PARM_NAME_MAX_DATA_LENGTH				TEXT(&quot;MaxDataLength&quot;)</span>

<span class="cp">#define PARM_MAX_SLEEP                          MaxSleepDuration</span>
<span class="cp">#define PARM_NAME_MAX_SLEEP                     TEXT(&quot;MaxSleepDuration&quot;)</span>
<span class="cp">#define PARM_MIN_MAX_PM_SLEEP                   1								</span><span class="c1">//;?names nearly right?</span>
<span class="cp">#define PARM_MAX_MAX_PM_SLEEP                   65535</span>
<span class="cp">#define PARM_DEFAULT_MAX_PM_SLEEP               100</span>

<span class="cp">#define PARM_MEDIUM_DISTRIBUTION                MediumDistribution</span>
<span class="cp">#define PARM_NAME_MEDIUM_DISTRIBUTION           TEXT(&quot;MediumDistribution&quot;)</span>
<span class="cp">#define PARM_DEFAULT_MEDIUM_DISTRIBUTION        TRUE</span>
<span class="cp">#define PARM_DEFAULT_MEDIUM_DISTRIBUTION_STR    &quot;Y&quot;</span>

<span class="cp">#define PARM_MICROWAVE_ROBUSTNESS               MicroWaveRobustness</span>
<span class="cp">#define PARM_NAME_MICROWAVE_ROBUSTNESS          TEXT(&quot;MicroWaveRobustness&quot;)</span>
<span class="cp">#define PARM_DEFAULT_MICROWAVE_ROBUSTNESS       FALSE</span>
<span class="cp">#define PARM_DEFAULT_MICROWAVE_ROBUSTNESS_STR   &quot;N&quot;</span>

<span class="cp">#define PARM_MULTICAST_PM_BUFFERING             MulticastPMBuffering</span>
<span class="cp">#define PARM_NAME_MULTICAST_PM_BUFFERING	    TEXT(&quot;MulticastPMBuffering&quot;)</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_PM_BUFFERING     TRUE</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_PM_BUFFERING_STR &quot;Y&quot;</span>

<span class="cp">#define PARM_MULTICAST_RATE                     MulticastRate</span>
<span class="cp">#define PARM_NAME_MULTICAST_RATE                TEXT(&quot;MulticastRate&quot;)</span>
<span class="cp">#ifdef WARP</span>
<span class="cp">#define PARM_MIN_MULTICAST_RATE                 0x0001</span>
<span class="cp">#define PARM_MAX_MULTICAST_RATE                 0x0fff</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_RATE_2GHZ        0x0004</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_RATE_5GHZ        0x0010</span>
<span class="cp">#else</span>
<span class="cp">#define PARM_MIN_MULTICAST_RATE                 0x0001</span>
<span class="cp">#define PARM_MAX_MULTICAST_RATE                 0x0004</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_RATE_2GHZ        0x0002</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_RATE_5GHZ        0x0000</span>
<span class="cp">#endif  </span><span class="c1">// WARP</span>

<span class="cp">#define PARM_MULTICAST_RX                       MulticastReceive</span>
<span class="cp">#define PARM_NAME_MULTICAST_RX                  TEXT(&quot;MulticastReceive&quot;)</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_RX               TRUE</span>
<span class="cp">#define PARM_DEFAULT_MULTICAST_RX_STR           &quot;Y&quot;</span>

<span class="cp">#define PARM_NETWORK_ADDR                       NetworkAddress</span>
<span class="cp">#define PARM_NAME_NETWORK_ADDR                  TEXT(&quot;NetworkAddress&quot;)</span>
<span class="cp">#define PARM_DEFAULT_NETWORK_ADDR               { 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF }</span>

<span class="cp">#define PARM_NETWORK_TYPE                       NetworkType</span>
<span class="cp">#define PARM_NAME_NETWORK_TYPE					TEXT(&quot;NetworkType&quot;)</span>
<span class="cp">#define PARM_DEFAULT_NETWORK_TYPE   			0</span>

<span class="cp">#define PARM_OWN_ATIM_WINDOW                    OwnATIMWindow</span>
<span class="cp">#define PARM_NAME_OWN_ATIM_WINDOW				TEXT(&quot;OwnATIMWindow&quot;)</span>
<span class="cp">#define PARM_MIN_OWN_ATIM_WINDOW                0</span>
<span class="cp">#define PARM_MAX_OWN_ATIM_WINDOW                100</span>
<span class="cp">#define PARM_DEFAULT_OWN_ATIM_WINDOW            0</span>

<span class="cp">#define PARM_OWN_BEACON_INTERVAL                OwnBeaconInterval</span>
<span class="cp">#define PARM_NAME_OWN_BEACON_INTERVAL           TEXT(&quot;OwnBeaconInterval&quot;)</span>
<span class="cp">#define PARM_MIN_OWN_BEACON_INTERVAL            20</span>
<span class="cp">#define PARM_MAX_OWN_BEACON_INTERVAL            200</span>
<span class="cp">#define PARM_DEFAULT_OWN_BEACON_INTERVAL        100</span>

<span class="cp">#define PARM_OWN_CHANNEL                        OwnChannel</span>
<span class="cp">#define PARM_NAME_OWN_CHANNEL                   TEXT(&quot;OwnChannel&quot;)</span>
<span class="cp">#define PARM_MIN_OWN_CHANNEL                    1</span>
<span class="cp">#define PARM_MAX_OWN_CHANNEL                    161</span>
<span class="cp">#define PARM_DEFAULT_OWN_CHANNEL                10</span>

<span class="cp">#define PARM_OWN_DTIM_PERIOD                    OwnDTIMPeriod</span>
<span class="cp">#define PARM_NAME_OWN_DTIM_PERIOD	            TEXT(&quot;OwnDTIMPeriod&quot;)</span>
<span class="cp">#define PARM_MIN_OWN_DTIM_PERIOD                1</span>
<span class="cp">#define PARM_MAX_OWN_DTIM_PERIOD                65535</span>
<span class="cp">#define PARM_DEFAULT_OWN_DTIM_PERIOD            1</span>

<span class="cp">#define PARM_OWN_NAME                           OwnName</span>
<span class="cp">#define PARM_NAME_OWN_NAME                      TEXT(&quot;OwnName&quot;)</span>
<span class="cp">#define PARM_DEFAULT_OWN_NAME                   &quot;Linux&quot;</span>

<span class="cp">#define PARM_OWN_SSID                           OwnSSID</span>
<span class="cp">#define PARM_NAME_OWN_SSID                      TEXT(&quot;OwnSSID&quot;)</span>

<span class="cp">#define PARM_PM_ENABLED                         PMEnabled</span>
<span class="cp">#define PARM_NAME_PM_ENABLED                    TEXT(&quot;PMEnabled&quot;)</span>
<span class="cp">#define PARM_MAX_PM_ENABLED						3</span>

<span class="cp">#define PARM_PMEPS                              PMEPS</span>
<span class="cp">#define PARM_NAME_PMEPS                         TEXT(&quot;PMEPS&quot;)</span>

<span class="cp">#define PARM_PM_HOLDOVER_DURATION               PMHoldoverDuration</span>
<span class="cp">#define PARM_NAME_PM_HOLDOVER_DURATION          TEXT(&quot;PMHoldoverDuration&quot;)</span>
<span class="cp">#define PARM_MIN_PM_HOLDOVER_DURATION           1</span>
<span class="cp">#define PARM_MAX_PM_HOLDOVER_DURATION           1000</span>
<span class="cp">#define PARM_DEFAULT_PM_HOLDOVER_DURATION       100</span>

<span class="cp">#define PARM_PM_MODE                            PowerMode</span>
<span class="cp">#define PARM_NAME_PM_MODE                       TEXT(&quot;PowerMode&quot;)</span>

<span class="cp">#define PARM_PORT_TYPE                          PortType</span>
<span class="cp">#define PARM_NAME_PORT_TYPE                     TEXT(&quot;PortType&quot;)</span>
<span class="cp">#define PARM_MIN_PORT_TYPE                      1</span>
<span class="cp">#define PARM_MAX_PORT_TYPE                      3</span>
<span class="cp">#define PARM_DEFAULT_PORT_TYPE                  1</span>

<span class="cp">#define PARM_PROMISCUOUS_MODE                   PromiscuousMode</span>
<span class="cp">#define PARM_NAME_PROMISCUOUS_MODE              TEXT(&quot;PromiscuousMode&quot;)</span>
<span class="cp">#define PARM_DEFAULT_PROMISCUOUS_MODE           FALSE</span>
<span class="cp">#define PARM_DEFAULT_PROMISCUOUS_MODE_STR       &quot;N&quot;</span>

<span class="cp">#define PARM_REJECT_ANY                         RejectANY</span>
<span class="cp">#define PARM_NAME_REJECT_ANY				    TEXT(&quot;RejectANY&quot;)</span>
<span class="cp">#define PARM_DEFAULT_REJECT_ANY                 FALSE</span>
<span class="cp">#define PARM_DEFAULT_REJECT_ANY_STR             &quot;N&quot;</span>

<span class="cp">#define PARM_RTS_THRESHOLD                      RTSThreshold</span>
<span class="cp">#define PARM_NAME_RTS_THRESHOLD                 TEXT(&quot;RTSThreshold&quot;)</span>
<span class="cp">#define PARM_MIN_RTS_THRESHOLD                  0</span>
<span class="cp">#define PARM_MAX_RTS_THRESHOLD                  2347</span>
<span class="cp">#define PARM_DEFAULT_RTS_THRESHOLD              2347</span>

<span class="cp">#define PARM_RTS_THRESHOLD1                     RTSThreshold1</span>
<span class="cp">#define PARM_NAME_RTS_THRESHOLD1                TEXT(&quot;RTSThreshold1&quot;)</span>
<span class="cp">#define PARM_RTS_THRESHOLD2                     RTSThreshold2</span>
<span class="cp">#define PARM_NAME_RTS_THRESHOLD2                TEXT(&quot;RTSThreshold2&quot;)</span>
<span class="cp">#define PARM_RTS_THRESHOLD3                     RTSThreshold3</span>
<span class="cp">#define PARM_NAME_RTS_THRESHOLD3                TEXT(&quot;RTSThreshold3&quot;)</span>
<span class="cp">#define PARM_RTS_THRESHOLD4                     RTSThreshold4</span>
<span class="cp">#define PARM_NAME_RTS_THRESHOLD4                TEXT(&quot;RTSThreshold4&quot;)</span>
<span class="cp">#define PARM_RTS_THRESHOLD5                     RTSThreshold5</span>
<span class="cp">#define PARM_NAME_RTS_THRESHOLD5                TEXT(&quot;RTSThreshold5&quot;)</span>
<span class="cp">#define PARM_RTS_THRESHOLD6                     RTSThreshold6</span>
<span class="cp">#define PARM_NAME_RTS_THRESHOLD6                TEXT(&quot;RTSThreshold6&quot;)</span>

<span class="cp">#define PARM_SRSC_2GHZ                          SRSC2GHz</span>
<span class="cp">#define PARM_NAME_SRSC_2GHZ                     TEXT(&quot;SRSC2GHz&quot;)</span>
<span class="cp">#define PARM_MIN_SRSC                           0x0000</span>
<span class="cp">#define PARM_MAX_SRSC                           0x0FFF</span>
<span class="cp">#define PARM_DEFAULT_SRSC_2GHZ                  0x0FFF</span>

<span class="cp">#define PARM_SRSC_5GHZ                          SRSC5GHz</span>
<span class="cp">#define PARM_NAME_SRSC_5GHZ                     TEXT(&quot;SRSC5GHz&quot;)</span>
<span class="cp">#define PARM_DEFAULT_SRSC_5GHZ                  0x0FF0</span>

<span class="cp">#define PARM_SYSTEM_SCALE                       SystemScale</span>
<span class="cp">#define PARM_NAME_SYSTEM_SCALE                  TEXT(&quot;SystemScale&quot;)</span>
<span class="cp">#define PARM_MIN_SYSTEM_SCALE                   1</span>
<span class="cp">#define PARM_MAX_SYSTEM_SCALE                   5</span>
<span class="cp">#define PARM_DEFAULT_SYSTEM_SCALE               1</span>

<span class="cp">#define PARM_TX_KEY                             TxKey</span>
<span class="cp">#define PARM_NAME_TX_KEY                        TEXT(&quot;TxKey&quot;)</span>
<span class="cp">#define PARM_MIN_TX_KEY                         1</span>
<span class="cp">#define PARM_MAX_TX_KEY                         4</span>
<span class="cp">#define PARM_DEFAULT_TX_KEY                     1</span>

<span class="cp">#define PARM_TX_POW_LEVEL                       TxPowLevel</span>
<span class="cp">#define PARM_NAME_TX_POW_LEVEL                  TEXT(&quot;TxPowLevel&quot;)</span>
<span class="cp">#define PARM_MIN_TX_POW_LEVEL                   1   </span><span class="c1">// 20 dBm</span>
<span class="cp">#define PARM_MAX_TX_POW_LEVEL                   6   </span><span class="c1">//  8 dBm</span>
<span class="cp">#define PARM_DEFAULT_TX_POW_LEVEL               3   </span><span class="c1">// 15 dBm</span>

<span class="cp">#define PARM_TX_RATE                            TxRateControl</span>
<span class="cp">#define PARM_NAME_TX_RATE                       TEXT(&quot;TxRateControl&quot;)</span>
<span class="cp">#define PARM_MIN_TX_RATE                        0x0001</span>
<span class="cp">#ifdef WARP</span>
<span class="cp">#define PARM_MAX_TX_RATE                        0x0FFF</span>
<span class="cp">#define PARM_DEFAULT_TX_RATE_2GHZ               0x0FFF</span>
<span class="cp">#define PARM_DEFAULT_TX_RATE_5GHZ               0x0FF0</span>
<span class="cp">#else</span>
<span class="cp">#define PARM_MAX_TX_RATE                        0x0007</span>
<span class="cp">#define PARM_DEFAULT_TX_RATE_2GHZ               0x0003</span>
<span class="cp">#define PARM_DEFAULT_TX_RATE_5GHZ               0x0000</span>
<span class="cp">#endif  </span><span class="c1">// WARP</span>

<span class="cp">#define PARM_TX_RATE1                           TxRateControl1</span>
<span class="cp">#define PARM_NAME_TX_RATE1                      TEXT(&quot;TxRateControl1&quot;)</span>
<span class="cp">#define PARM_TX_RATE2                           TxRateControl2</span>
<span class="cp">#define PARM_NAME_TX_RATE2                      TEXT(&quot;TxRateControl2&quot;)</span>
<span class="cp">#define PARM_TX_RATE3                           TxRateControl3</span>
<span class="cp">#define PARM_NAME_TX_RATE3                      TEXT(&quot;TxRateControl3&quot;)</span>
<span class="cp">#define PARM_TX_RATE4                           TxRateControl4</span>
<span class="cp">#define PARM_NAME_TX_RATE4                      TEXT(&quot;TxRateControl4&quot;)</span>
<span class="cp">#define PARM_TX_RATE5                           TxRateControl5</span>
<span class="cp">#define PARM_NAME_TX_RATE5                      TEXT(&quot;TxRateControl5&quot;)</span>
<span class="cp">#define PARM_TX_RATE6                           TxRateControl6</span>
<span class="cp">#define PARM_NAME_TX_RATE6                      TEXT(&quot;TxRateControl6&quot;)</span>

<span class="cp">#define PARM_VENDORDESCRIPTION                  VendorDescription</span>
<span class="cp">#define PARM_NAME_VENDORDESCRIPTION				TEXT(&quot;VendorDescription&quot;)</span>

<span class="cp">#define PARM_WDS_ADDRESS                        WDSAddress</span>
<span class="cp">#define PARM_NAME_WDS_ADDRESS					TEXT(&quot;WDSAddress&quot;)</span>

<span class="cp">#define PARM_WDS_ADDRESS1                       WDSAddress1</span>
<span class="cp">#define PARM_NAME_WDS_ADDRESS1					TEXT(&quot;WDSAddress1&quot;)</span>
<span class="cp">#define PARM_WDS_ADDRESS2                       WDSAddress2</span>
<span class="cp">#define PARM_NAME_WDS_ADDRESS2					TEXT(&quot;WDSAddress2&quot;)</span>
<span class="cp">#define PARM_WDS_ADDRESS3                       WDSAddress3</span>
<span class="cp">#define PARM_NAME_WDS_ADDRESS3					TEXT(&quot;WDSAddress3&quot;)</span>
<span class="cp">#define PARM_WDS_ADDRESS4                       WDSAddress4</span>
<span class="cp">#define PARM_NAME_WDS_ADDRESS4					TEXT(&quot;WDSAddress4&quot;)</span>
<span class="cp">#define PARM_WDS_ADDRESS5                       WDSAddress5</span>
<span class="cp">#define PARM_NAME_WDS_ADDRESS5					TEXT(&quot;WDSAddress5&quot;)</span>
<span class="cp">#define PARM_WDS_ADDRESS6                       WDSAddress6</span>
<span class="cp">#define PARM_NAME_WDS_ADDRESS6					TEXT(&quot;WDSAddress6&quot;)</span>

<span class="cm">/*</span>
<span class="cm">#define PARM_LONG_RETRY_LIMIT                   LongRetryLimit</span>
<span class="cm">#define PARM_NAME_LONG_RETRY_LIMIT              TEXT(&quot;LongRetryLimit&quot;)</span>
<span class="cm">#define PARM_MIN_LONG_RETRY_LIMIT               1</span>
<span class="cm">#define PARM_MAX_LONG_RETRY_LIMIT               15</span>
<span class="cm">#define PARM_DEFAULT_LONG_RETRY_LIMIT           3</span>


<span class="cm">#define PARM_PROBE_DATA_RATES                   ProbeDataRates</span>
<span class="cm">#define PARM_NAME_PROBE_DATA_RATES              TEXT(&quot;ProbeDataRates&quot;)</span>
<span class="cm">#define PARM_MIN_PROBE_DATA_RATES               0x0000</span>
<span class="cm">#define PARM_MAX_PROBE_DATA_RATES               0x0FFF</span>
<span class="cm">#define PARM_DEFAULT_PROBE_DATA_RATES_2GHZ      0x0002</span>
<span class="cm">#define PARM_DEFAULT_PROBE_DATA_RATES_5GHZ      0x0010</span>

<span class="cm">#define PARM_SHORT_RETRY_LIMIT                  ShortRetryLimit</span>
<span class="cm">#define PARM_NAME_SHORT_RETRY_LIMIT             TEXT(&quot;ShortRetryLimit&quot;)</span>
<span class="cm">#define PARM_MIN_SHORT_RETRY_LIMIT              1</span>
<span class="cm">#define PARM_MAX_SHORT_RETRY_LIMIT              15</span>
<span class="cm">#define PARM_DEFAULT_SHORT_RETRY_LIMIT          7</span>


<span class="cm">*/</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *  state definitions</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cm">/* The following constants are used to track state the device */</span>
<span class="cp">#define WL_FRIMWARE_PRESENT     1 </span><span class="c1">// Download if needed</span>
<span class="cp">#define WL_FRIMWARE_NOT_PRESENT	0 </span><span class="c1">// Skip over download, assume its already there</span>
<span class="cp">#define WL_HANDLING_INT         1 </span><span class="c1">// Actually call the HCF to switch interrupts on/off</span>
<span class="cp">#define WL_NOT_HANDLING_INT     0 </span><span class="c1">// Not yet handling interrupts, do not switch on/off</span>

<span class="cm">/*******************************************************************************</span>
<span class="cm"> *  macro definitions</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cm">/* The following macro ensures that no symbols are exported, minimizing the</span>
<span class="cm">   chance of a symbol collision in the kernel */</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>EXPORT<em>NO</em>SYMBOLS;</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define NELEM(arr) (sizeof(arr) / sizeof(arr[0]))</span>

<span class="cp">#define WVLAN_VALID_MAC_ADDRESS( x ) \</span>
<span class="cp">((x[0]!=0xFF) &amp;&amp; (x[1]!=0xFF) &amp;&amp; (x[2]!=0xFF) &amp;&amp; (x[3]!=0xFF) &amp;&amp; (x[4]!=0xFF) &amp;&amp; (x[5]!=0xFF))</span>




<span class="cm">/*******************************************************************************</span>
<span class="cm"> * type definitions</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#undef FALSE</span>
<span class="cp">#undef TRUE</span>

<span class="k">typedef</span> <span class="k">enum</span>
<span class="p">{</span>
	<span class="n">FALSE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">TRUE</span>  <span class="o">=</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="n">bool_t</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ScanResult</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>hcf<em>16        len;
hcf</em>16        typ;</p></td><td class="code"><div class="highlight"><pre>	<span class="kt">int</span>             <span class="n">scan_complete</span><span class="p">;</span>
	<span class="kt">int</span>             <span class="n">num_aps</span><span class="p">;</span>
	<span class="n">SCAN_RS_STRCT</span>   <span class="n">APTable</span> <span class="p">[</span><span class="n">MAX_NAPS</span><span class="p">];</span>
<span class="p">}</span>
<span class="n">ScanResult</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_LINK_STATUS_STRCT</span>
<span class="p">{</span>
	<span class="n">hcf_16</span>  <span class="n">len</span><span class="p">;</span>
	<span class="n">hcf_16</span>  <span class="n">typ</span><span class="p">;</span>
	<span class="n">hcf_16</span>  <span class="n">linkStatus</span><span class="p">;</span>     <span class="cm">/* 1..5 */</span>
<span class="p">}</span>
<span class="n">LINK_STATUS_STRCT</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ASSOC_STATUS_STRCT</span>
<span class="p">{</span>
	<span class="n">hcf_16</span>  <span class="n">len</span><span class="p">;</span>
	<span class="n">hcf_16</span>  <span class="n">typ</span><span class="p">;</span>
	<span class="n">hcf_16</span>  <span class="n">assocStatus</span><span class="p">;</span>            <span class="cm">/* 1..3 */</span>
	<span class="n">hcf_8</span>   <span class="n">staAddr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">hcf_8</span>   <span class="n">oldApAddr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">}</span>
<span class="n">ASSOC_STATUS_STRCT</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SECURITY_STATUS_STRCT</span>
<span class="p">{</span>
	<span class="n">hcf_16</span>  <span class="n">len</span><span class="p">;</span>
	<span class="n">hcf_16</span>  <span class="n">typ</span><span class="p">;</span>
	<span class="n">hcf_16</span>  <span class="n">securityStatus</span><span class="p">;</span>     <span class="cm">/* 1..3 */</span>
	<span class="n">hcf_8</span>   <span class="n">staAddr</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="n">hcf_16</span>  <span class="n">reason</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">SECURITY_STATUS_STRCT</span><span class="p">;</span>

<span class="cp">#define WVLAN_WMP_PDU_TYPE_LT_REQ       0x00</span>
<span class="cp">#define WVLAN_WMP_PDU_TYPE_LT_RSP       0x01</span>
<span class="cp">#define WVLAN_WMP_PDU_TYPE_APL_REQ      0x02</span>
<span class="cp">#define WVLAN_WMP_PDU_TYPE_APL_RSP      0x03</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_eth_hdr</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">dst</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>           <span class="cm">/* Destination address. */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">src</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>           <span class="cm">/* Source address. */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">len</span><span class="p">;</span>                    <span class="cm">/* Length of the PDU. */</span>
<span class="p">}</span>
<span class="n">WVLAN_ETH_HDR</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_ETH_HDR</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_llc_snap</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">dsap</span><span class="p">;</span>                   <span class="cm">/* DSAP (0xAA) */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">ssap</span><span class="p">;</span>                   <span class="cm">/* SSAP (0xAA) */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">ctrl</span><span class="p">;</span>                   <span class="cm">/* Control (0x03) */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">oui</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>                 <span class="cm">/* Organization Unique ID (00-60-1d). */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">specid</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>              <span class="cm">/* Specific ID code (00-01). */</span>
<span class="p">}</span>
<span class="n">WVLAN_LLC_SNAP</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_LLC_SNAP</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_lt_hdr</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">version</span><span class="p">;</span>                <span class="cm">/* Version (0x00) */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">type</span><span class="p">;</span>                   <span class="cm">/* PDU type: 0-req/1-resp. */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span>  <span class="n">id</span><span class="p">;</span>                     <span class="cm">/* Identifier to associate resp to req. */</span>
<span class="p">}</span>
<span class="n">WVLAN_LT_HDR</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_LT_HDR</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_wmp_hdr</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">version</span><span class="p">;</span>                <span class="cm">/* Version  */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">type</span><span class="p">;</span>                   <span class="cm">/* PDU type */</span>
<span class="p">}</span>
<span class="n">WVLAN_WMP_HDR</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_WMP_HDR</span><span class="p">;</span>


<span class="cp">#define FILLER_SIZE             1554</span>
<span class="cp">#define TEST_PATTERN_SIZE       54</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_lt_req</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">Filler</span><span class="p">[</span><span class="n">TEST_PATTERN_SIZE</span><span class="p">];</span>   <span class="cm">/* minimal length of 54 bytes */</span>
<span class="p">}</span>
<span class="n">WVLAN_LT_REQ</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_LT_REQ</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_lt_rsp</span>
<span class="p">{</span>
	<span class="kt">char</span>           <span class="n">name</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="cm">/* Measured Data */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">signal</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">noise</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">rxFlow</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">dataRate</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">protocol</span><span class="p">;</span>
	<span class="cm">/* Capabilities */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">station</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">dataRateCap</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">powerMgmt</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">robustness</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">scaling</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">reserved</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="p">}</span>
<span class="n">WVLAN_LT_RSP</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_LT_RSP</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_rx_wmp_hdr</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">status</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">reserved1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">silence</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">signal</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">rate</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">rxFlow</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">reserved2</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">frameControl</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">duration</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">address1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">address2</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">address3</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">sequenceControl</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">address4</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="cp">#ifndef HERMES25	</span><span class="c1">//;?just to be on the safe side of inherited but not comprehended code #ifdef HERMES2</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">seems_to_be_unused_reserved3</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>  <span class="c1">//;?</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">seems_to_be_unused_reserved4</span><span class="p">;</span>	 <span class="c1">//;?</span>
<span class="cp">#endif </span><span class="c1">// HERMES25</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">HeaderDataLen</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">WVLAN_RX_WMP_HDR</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_RX_WMP_HDR</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_linktest_req_pdu</span>
<span class="p">{</span>
	<span class="n">WVLAN_ETH_HDR</span>     <span class="n">ethHdr</span><span class="p">;</span>
	<span class="n">WVLAN_LLC_SNAP</span>    <span class="n">llcSnap</span><span class="p">;</span>
	<span class="n">WVLAN_LT_HDR</span>      <span class="n">ltHdr</span><span class="p">;</span>
	<span class="n">WVLAN_LT_REQ</span>      <span class="n">ltReq</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">WVLAN_LINKTEST_REQ_PDU</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_LINKTEST_REQ_PDU</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_linktest_rsp_pdu</span>
<span class="p">{</span>
	<span class="n">WVLAN_RX_WMP_HDR</span>  <span class="n">wmpRxHdr</span><span class="p">;</span>
	<span class="n">WVLAN_ETH_HDR</span>     <span class="n">ethHdr</span><span class="p">;</span>
	<span class="n">WVLAN_LLC_SNAP</span>    <span class="n">llcSnap</span><span class="p">;</span>
	<span class="n">WVLAN_LT_HDR</span>      <span class="n">ltHdr</span><span class="p">;</span>
	<span class="n">WVLAN_LT_RSP</span>      <span class="n">ltRsp</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">WVLAN_LINKTEST_RSP_PDU</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_LINKTEST_RSP_PDU</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_LINKTEST_RSP_STRCT</span>
<span class="p">{</span>
	<span class="n">hcf_16</span>                   <span class="n">len</span><span class="p">;</span>
	<span class="n">hcf_16</span>                   <span class="n">typ</span><span class="p">;</span>
	<span class="n">WVLAN_LINKTEST_RSP_PDU</span>   <span class="n">ltRsp</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">LINKTEST_RSP_STRCT</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_wmp_rsp_pdu</span>
<span class="p">{</span>
	<span class="n">WVLAN_RX_WMP_HDR</span>  <span class="n">wmpRxHdr</span><span class="p">;</span>
	<span class="n">WVLAN_ETH_HDR</span>     <span class="n">ethHdr</span><span class="p">;</span>
	<span class="n">WVLAN_LLC_SNAP</span>    <span class="n">llcSnap</span><span class="p">;</span>
	<span class="n">WVLAN_WMP_HDR</span>     <span class="n">wmpHdr</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">WVLAN_WMP_RSP_PDU</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_WMP_RSP_PDU</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_WMP_RSP_STRCT</span>
<span class="p">{</span>
	<span class="n">hcf_16</span>              <span class="n">len</span><span class="p">;</span>
	<span class="n">hcf_16</span>              <span class="n">typ</span><span class="p">;</span>
	<span class="n">WVLAN_WMP_RSP_PDU</span>   <span class="n">wmpRsp</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">WMP_RSP_STRCT</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PROBE_RESP</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>first part: 802.11</p></td><td class="code"><div class="highlight"><pre>	<span class="n">hcf_16</span>	<span class="n">length</span><span class="p">;</span>
	<span class="n">hcf_16</span>	<span class="n">infoType</span><span class="p">;</span>
	<span class="n">hcf_16</span>	<span class="n">reserved0</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>hcf_8    signal;</p></td><td class="code"><div class="highlight"><pre>	<span class="n">hcf_8</span>	<span class="n">silence</span><span class="p">;</span>
	<span class="n">hcf_8</span>	<span class="n">signal</span><span class="p">;</span>     <span class="c1">// Moved signal here as signal/noise values were flipped</span>
	<span class="n">hcf_8</span>	<span class="n">rxFlow</span><span class="p">;</span>
	<span class="n">hcf_8</span>	<span class="n">rate</span><span class="p">;</span>
	<span class="n">hcf_16</span>	<span class="n">reserved1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>second part:</p></td><td class="code"><div class="highlight"><pre>	<span class="n">hcf_16</span>	<span class="n">frameControl</span><span class="p">;</span>
	<span class="n">hcf_16</span>	<span class="n">durID</span><span class="p">;</span>
	<span class="n">hcf_8</span>	<span class="n">address1</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">hcf_8</span>	<span class="n">address2</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">hcf_8</span>	<span class="n">BSSID</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>					<span class="c1">//! this is correct, right ?</span>
	<span class="n">hcf_16</span>	<span class="n">sequence</span><span class="p">;</span>
	<span class="n">hcf_8</span>	<span class="n">address4</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>

<span class="cp">#ifndef WARP</span>
	<span class="n">hcf_8</span>	<span class="n">reserved2</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
<span class="cp">#endif </span><span class="c1">// WARP</span>

	<span class="n">hcf_16</span>	<span class="n">dataLength</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>the information in the next 3 fields (DA/SA/LenType) is actually not filled in.</p></td><td class="code"><div class="highlight"><pre>	<span class="n">hcf_8</span>	<span class="n">DA</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">hcf_8</span>	<span class="n">SA</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>

<span class="cp">#ifdef WARP</span>
	<span class="n">hcf_8</span>   <span class="n">channel</span><span class="p">;</span>
	<span class="n">hcf_8</span>   <span class="n">band</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">hcf_16</span>	<span class="n">lenType</span><span class="p">;</span>
<span class="cp">#endif  </span><span class="c1">// WARP</span>

	<span class="n">hcf_8</span>	<span class="n">timeStamp</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">hcf_16</span>	<span class="n">beaconInterval</span><span class="p">;</span>
	<span class="n">hcf_16</span>	<span class="n">capability</span><span class="p">;</span>
	<span class="n">hcf_8</span>	<span class="n">rawData</span><span class="p">[</span><span class="mi">200</span><span class="p">];</span>				<span class="c1">//! &lt;&lt;&lt; think about this number !</span>
	<span class="n">hcf_16</span>	<span class="n">flags</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">PROBE_RESP</span><span class="p">,</span> <span class="o">*</span><span class="n">PPROBE_RESP</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ProbeResult</span>
<span class="p">{</span>
	<span class="kt">int</span>         <span class="n">scan_complete</span><span class="p">;</span>
	<span class="kt">int</span>         <span class="n">num_aps</span><span class="p">;</span>
	<span class="n">PROBE_RESP</span>  <span class="n">ProbeTable</span><span class="p">[</span><span class="n">MAX_NAPS</span><span class="p">];</span>
<span class="p">}</span>
<span class="n">ProbeResult</span><span class="p">;</span>

<span class="cm">/* Definitions used to parse capabilities out of the probe responses */</span>
<span class="cp">#define CAPABILITY_ESS      0x0001</span>
<span class="cp">#define CAPABILITY_IBSS     0x0002</span>
<span class="cp">#define CAPABILITY_PRIVACY  0x0010</span>

<span class="cm">/* Definitions used to parse the Information Elements out of probe responses */</span>
<span class="cp">#define DS_INFO_ELEM                        0x03</span>
<span class="cp">#define GENERIC_INFO_ELEM                   0xdd</span>
<span class="cp">#define WPA_MAX_IE_LEN                      40</span>
<span class="cp">#define WPA_SELECTOR_LEN                    4</span>
<span class="cp">#define WPA_OUI_TYPE                        { 0x00, 0x50, 0xf2, 1 }</span>
<span class="cp">#define WPA_VERSION                         1</span>
<span class="cp">#define WPA_AUTH_KEY_MGMT_UNSPEC_802_1X     { 0x00, 0x50, 0xf2, 1 }</span>
<span class="cp">#define WPA_AUTH_KEY_MGMT_PSK_OVER_802_1X   { 0x00, 0x50, 0xf2, 2 }</span>
<span class="cp">#define WPA_CIPHER_SUITE_NONE               { 0x00, 0x50, 0xf2, 0 }</span>
<span class="cp">#define WPA_CIPHER_SUITE_WEP40              { 0x00, 0x50, 0xf2, 1 }</span>
<span class="cp">#define WPA_CIPHER_SUITE_TKIP               { 0x00, 0x50, 0xf2, 2 }</span>
<span class="cp">#define WPA_CIPHER_SUITE_WRAP               { 0x00, 0x50, 0xf2, 3 }</span>
<span class="cp">#define WPA_CIPHER_SUITE_CCMP               { 0x00, 0x50, 0xf2, 4 }</span>
<span class="cp">#define WPA_CIPHER_SUITE_WEP104             { 0x00, 0x50, 0xf2, 5 }</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="n">wvlan_drv_mode</span>
<span class="p">{</span>
	<span class="n">WVLAN_DRV_MODE_NO_DOWNLOAD</span><span class="p">,</span>     <span class="cm">/* this is the same as STA for Hermes 1    */</span>
				                    <span class="cm">/* it is also only applicable for Hermes 1 */</span>
	<span class="n">WVLAN_DRV_MODE_STA</span><span class="p">,</span>
	<span class="n">WVLAN_DRV_MODE_AP</span><span class="p">,</span>
	<span class="n">WVLAN_DRV_MODE_MAX</span>
<span class="p">}</span>
<span class="n">WVLAN_DRV_MODE</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_DRV_MODE</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">enum</span> <span class="n">wvlan_port_state</span>
<span class="p">{</span>
	<span class="n">WVLAN_PORT_STATE_ENABLED</span><span class="p">,</span>
	<span class="n">WVLAN_PORT_STATE_DISABLED</span><span class="p">,</span>
	<span class="n">WVLAN_PORT_STATE_CONNECTED</span>
<span class="p">}</span>
<span class="n">WVLAN_PORT_STATE</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_PORT_STATE</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm">typedef enum wvlan_connect_state</span>
<span class="cm">{</span>
<span class="cm">	WVLAN_CONNECT_STATE_CONNECTED,</span>
<span class="cm">	WVLAN_CONNECT_STATE_DISCONNECTED</span>
<span class="cm">}</span>
<span class="cm">WVLAN_CONNECT_STATE, *PWVLAN_CONNECT_STATE;</span>
<span class="cm">*/</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="n">wvlan_pm_state</span>
<span class="p">{</span>
	<span class="n">WVLAN_PM_STATE_DISABLED</span><span class="p">,</span>
	<span class="n">WVLAN_PM_STATE_ENHANCED</span><span class="p">,</span>
	<span class="n">WVLAN_PM_STATE_STANDARD</span>
<span class="p">}</span>
<span class="n">WVLAN_PM_STATE</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_PM_STATE</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_frame</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">sk_buff</span>  <span class="o">*</span><span class="n">skb</span><span class="p">;</span>       <span class="cm">/* sk_buff for frame. */</span>
	<span class="n">hcf_16</span>          <span class="n">port</span><span class="p">;</span>       <span class="cm">/* MAC port for the frame. */</span>
	<span class="n">hcf_16</span>          <span class="n">len</span><span class="p">;</span>        <span class="cm">/* Length of the frame. */</span>
<span class="p">}</span>
<span class="n">WVLAN_FRAME</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_FRAME</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_lframe</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span>    <span class="n">node</span><span class="p">;</span>   <span class="cm">/* Node in the list */</span>
	<span class="n">WVLAN_FRAME</span>	        <span class="n">frame</span><span class="p">;</span>  <span class="cm">/* Frame. */</span>
<span class="p">}</span>
<span class="n">WVLAN_LFRAME</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_LFRAME</span><span class="p">;</span>



<span class="cp">#define DEFAULT_NUM_TX_FRAMES           48</span>
<span class="cp">#define TX_Q_LOW_WATER_MARK             (DEFAULT_NUM_TX_FRAMES/3)</span>

<span class="cp">#define WVLAN_MAX_TX_QUEUES             1</span>


<span class="cp">#ifdef USE_WDS</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">wvlan_wds_if</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">net_device</span>           <span class="o">*</span><span class="n">dev</span><span class="p">;</span>
	<span class="kt">int</span>                         <span class="n">is_registered</span><span class="p">;</span>
	<span class="kt">int</span>                         <span class="n">netif_queue_on</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">net_device_stats</span>     <span class="n">stats</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">rtsThreshold</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">txRateCntl</span><span class="p">;</span>
	<span class="n">hcf_8</span>                       <span class="n">wdsAddress</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
<span class="p">}</span> <span class="n">WVLAN_WDS_IF</span><span class="p">,</span> <span class="o">*</span><span class="n">PWVLAN_WDS_IF</span><span class="p">;</span>

<span class="cp">#endif  </span><span class="c1">// USE_WDS</span>



<span class="cp">#define NUM_RX_DESC 5</span>
<span class="cp">#define NUM_TX_DESC 5</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">dma_strct</span>
<span class="p">{</span>
	<span class="n">DESC_STRCT</span>  <span class="o">*</span><span class="n">tx_packet</span><span class="p">[</span><span class="n">NUM_TX_DESC</span><span class="p">];</span>
	<span class="n">DESC_STRCT</span>  <span class="o">*</span><span class="n">rx_packet</span><span class="p">[</span><span class="n">NUM_RX_DESC</span><span class="p">];</span>
	<span class="n">DESC_STRCT</span>  <span class="o">*</span><span class="n">rx_reclaim_desc</span><span class="p">,</span> <span class="o">*</span><span class="n">tx_reclaim_desc</span><span class="p">;</span> <span class="c1">// Descriptors for host-reclaim purposes (see HCF)</span>
	<span class="kt">int</span>         <span class="n">tx_rsc_ind</span><span class="p">;</span> <span class="c1">// DMA Tx resource indicator is maintained in the MSF, not in the HCF</span>
	<span class="kt">int</span>         <span class="n">rx_rsc_ind</span><span class="p">;</span> <span class="c1">// Also added rx rsource indicator so that cleanup can be performed if alloc fails</span>
	<span class="kt">int</span>         <span class="n">status</span><span class="p">;</span>
<span class="p">}</span> <span class="n">DMA_STRCT</span><span class="p">;</span>


<span class="cm">/* Macros used in DMA support */</span>
<span class="cm">/* get bus address of {rx,tx}dma structure member, in little-endian byte order */</span>
<span class="cp">#define WL_DMA_BUS_ADDR_LE(str, i, mem) \</span>
<span class="cp">	cpu_to_le32(str##_dma_addr[(i)] + ((hcf_8 *)&amp;str[(i)]-&gt;mem - (hcf_8 *)str[(i)]))</span>


<span class="k">struct</span> <span class="n">wl_private</span>
<span class="p">{</span>

<span class="cp">#ifdef BUS_PCMCIA</span>
	<span class="k">struct</span> <span class="n">pcmcia_device</span>	    <span class="o">*</span><span class="n">link</span><span class="p">;</span>
<span class="cp">#endif </span><span class="c1">// BUS_PCMCIA</span>


	<span class="k">struct</span> <span class="n">net_device</span>           <span class="o">*</span><span class="n">dev</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>struct net<em>device           *dev</em>next;</p></td><td class="code"><div class="highlight"><pre>	<span class="n">spinlock_t</span>                  <span class="n">slock</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">tasklet_struct</span>       <span class="n">task</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">net_device_stats</span>     <span class="n">stats</span><span class="p">;</span>


<span class="cp">#ifdef WIRELESS_EXT</span>
	<span class="k">struct</span> <span class="n">iw_statistics</span>        <span class="n">wstats</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>int                         spy<em>number;
u</em>char                      spy<em>address[IW</em>MAX<em>SPY][ETH</em>ALEN];
struct iw<em>quality           spy</em>stat[IW<em>MAX</em>SPY];</p></td><td class="code"><div class="highlight"><pre>	<span class="k">struct</span> <span class="n">iw_spy_data</span>          <span class="n">spy_data</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">iw_public_data</span>	<span class="n">wireless_data</span><span class="p">;</span>
<span class="cp">#endif </span><span class="c1">// WIRELESS_EXT</span>


	<span class="n">IFB_STRCT</span>                   <span class="n">hcfCtx</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>;? struct timer<em>list            timer</em>oor;
;? hcf<em>16                        timer</em>oor_cnt;</p></td><td class="code"><div class="highlight"><pre>	<span class="n">u_long</span>						<span class="n">wlags49_type</span><span class="p">;</span>		<span class="c1">//controls output in /proc/wlags49</span>
	<span class="n">u_long</span>                      <span class="n">flags</span><span class="p">;</span>
	<span class="n">hcf_16</span>						<span class="n">DebugFlag</span><span class="p">;</span>
	<span class="kt">int</span>                         <span class="n">is_registered</span><span class="p">;</span>
	<span class="kt">int</span>                         <span class="n">is_handling_int</span><span class="p">;</span>
	<span class="kt">int</span>                         <span class="n">firmware_present</span><span class="p">;</span>
	<span class="n">bool</span>                        <span class="n">sysfsCreated</span><span class="p">;</span>
	<span class="n">CFG_DRV_INFO_STRCT</span>          <span class="n">driverInfo</span><span class="p">;</span>
	<span class="n">CFG_IDENTITY_STRCT</span>          <span class="n">driverIdentity</span><span class="p">;</span>
	<span class="n">CFG_FW_IDENTITY_STRCT</span>       <span class="n">StationIdentity</span><span class="p">;</span>
	<span class="n">CFG_PRI_IDENTITY_STRCT</span>      <span class="n">PrimaryIdentity</span><span class="p">;</span>
	<span class="n">CFG_PRI_IDENTITY_STRCT</span>      <span class="n">NICIdentity</span><span class="p">;</span>

	<span class="n">ltv_t</span>                       <span class="n">ltvRecord</span><span class="p">;</span>
	<span class="n">u_long</span>                      <span class="n">txBytes</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">maxPort</span><span class="p">;</span>        <span class="cm">/* 0 for STA, 6 for AP */</span>

	<span class="cm">/* Elements used for async notification from hardware */</span>
	<span class="n">RID_LOG_STRCT</span>				<span class="n">RidList</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
	<span class="n">ltv_t</span>                       <span class="n">updatedRecord</span><span class="p">;</span>
	<span class="n">PROBE_RESP</span>				    <span class="n">ProbeResp</span><span class="p">;</span>
	<span class="n">ASSOC_STATUS_STRCT</span>          <span class="n">assoc_stat</span><span class="p">;</span>
	<span class="n">SECURITY_STATUS_STRCT</span>       <span class="n">sec_stat</span><span class="p">;</span>

	<span class="n">u_char</span>                      <span class="n">lookAheadBuf</span><span class="p">[</span><span class="n">WVLAN_MAX_LOOKAHEAD</span><span class="p">];</span>

	<span class="n">hcf_8</span>                       <span class="n">PortType</span><span class="p">;</span>           <span class="c1">// 1 - 3 (1 [Normal] | 3 [AdHoc])</span>
	<span class="n">hcf_16</span>                      <span class="n">Channel</span><span class="p">;</span>            <span class="c1">// 0 - 14 (0)</span>
	<span class="n">hcf_16</span>                      <span class="n">TxRateControl</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">hcf_8</span>                       <span class="n">DistanceBetweenAPs</span><span class="p">;</span> <span class="c1">// 1 - 3 (1)</span>
	<span class="n">hcf_16</span>                      <span class="n">RTSThreshold</span><span class="p">;</span>       <span class="c1">// 0 - 2347 (2347)</span>
	<span class="n">hcf_16</span>                      <span class="n">PMEnabled</span><span class="p">;</span>          <span class="c1">// 0 - 2, 8001 - 8002 (0)</span>
	<span class="n">hcf_8</span>                       <span class="n">MicrowaveRobustness</span><span class="p">;</span><span class="c1">// 0 - 1 (0)</span>
	<span class="n">hcf_8</span>                       <span class="n">CreateIBSS</span><span class="p">;</span>         <span class="c1">// 0 - 1 (0)</span>
	<span class="n">hcf_8</span>                       <span class="n">MulticastReceive</span><span class="p">;</span>   <span class="c1">// 0 - 1 (1)</span>
	<span class="n">hcf_16</span>                      <span class="n">MaxSleepDuration</span><span class="p">;</span>   <span class="c1">// 0 - 65535 (100)</span>
	<span class="n">hcf_8</span>                       <span class="n">MACAddress</span><span class="p">[</span><span class="n">ETH_ALEN</span><span class="p">];</span>
	<span class="kt">char</span>                        <span class="n">NetworkName</span><span class="p">[</span><span class="n">HCF_MAX_NAME_LEN</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
	<span class="kt">char</span>                        <span class="n">StationName</span><span class="p">[</span><span class="n">HCF_MAX_NAME_LEN</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">hcf_8</span>                       <span class="n">EnableEncryption</span><span class="p">;</span>   <span class="c1">// 0 - 1 (0)</span>
	<span class="kt">char</span>                        <span class="n">Key1</span><span class="p">[</span><span class="n">MAX_KEY_LEN</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
	<span class="kt">char</span>                        <span class="n">Key2</span><span class="p">[</span><span class="n">MAX_KEY_LEN</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
	<span class="kt">char</span>                        <span class="n">Key3</span><span class="p">[</span><span class="n">MAX_KEY_LEN</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
	<span class="kt">char</span>                        <span class="n">Key4</span><span class="p">[</span><span class="n">MAX_KEY_LEN</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">hcf_8</span>                       <span class="n">TransmitKeyID</span><span class="p">;</span>      <span class="c1">// 1 - 4 (1)</span>
	<span class="n">CFG_DEFAULT_KEYS_STRCT</span>	    <span class="n">DefaultKeys</span><span class="p">;</span>
	<span class="n">u_char</span>                      <span class="n">mailbox</span><span class="p">[</span><span class="n">MB_SIZE</span><span class="p">];</span>
	<span class="kt">char</span>                        <span class="n">szEncryption</span><span class="p">[</span><span class="n">MAX_ENC_LEN</span><span class="p">];</span>

	<span class="n">hcf_16</span>                      <span class="n">driverEnable</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">wolasEnable</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">atimWindow</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">holdoverDuration</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">MulticastRate</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="n">hcf_16</span>                      <span class="n">authentication</span><span class="p">;</span> <span class="c1">// is this AP specific?</span>
	<span class="n">hcf_16</span>                      <span class="n">promiscuousMode</span><span class="p">;</span>
	<span class="n">WVLAN_DRV_MODE</span>              <span class="n">DownloadFirmware</span><span class="p">;</span>   <span class="c1">// 0 - 2 (0 [None] | 1 [STA] | 2 [AP])</span>

	<span class="kt">char</span>						<span class="n">fw_image_filename</span><span class="p">[</span><span class="n">MAX_LINE_SIZE</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>

	<span class="n">hcf_16</span>                      <span class="n">AuthKeyMgmtSuite</span><span class="p">;</span>

	<span class="n">hcf_16</span>                      <span class="n">loadBalancing</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">mediumDistribution</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">txPowLevel</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>hcf<em>16                      shortRetryLimit;
hcf</em>16                      longRetryLimit;</p></td><td class="code"><div class="highlight"><pre>	<span class="n">hcf_16</span>                      <span class="n">srsc</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">hcf_16</span>                      <span class="n">brsc</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">hcf_16</span>                      <span class="n">connectionControl</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>hcf_16                      probeDataRates[2];</p></td><td class="code"><div class="highlight"><pre>	<span class="n">hcf_16</span>                      <span class="n">ownBeaconInterval</span><span class="p">;</span>
	<span class="n">hcf_16</span>                      <span class="n">coexistence</span><span class="p">;</span>

	<span class="n">WVLAN_FRAME</span>                 <span class="n">txF</span><span class="p">;</span>
	<span class="n">WVLAN_LFRAME</span>                <span class="n">txList</span><span class="p">[</span><span class="n">DEFAULT_NUM_TX_FRAMES</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">list_head</span>            <span class="n">txFree</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span>            <span class="n">txQ</span><span class="p">[</span><span class="n">WVLAN_MAX_TX_QUEUES</span><span class="p">];</span>
	<span class="kt">int</span>                         <span class="n">netif_queue_on</span><span class="p">;</span>
	<span class="kt">int</span>                         <span class="n">txQ_count</span><span class="p">;</span>
	<span class="n">DESC_STRCT</span>                  <span class="n">desc_rx</span><span class="p">;</span>
	<span class="n">DESC_STRCT</span>                  <span class="n">desc_tx</span><span class="p">;</span>

	<span class="n">WVLAN_PORT_STATE</span>            <span class="n">portState</span><span class="p">;</span>

	<span class="n">ScanResult</span>                  <span class="n">scan_results</span><span class="p">;</span>
	<span class="n">ProbeResult</span>                 <span class="n">probe_results</span><span class="p">;</span>
	<span class="kt">int</span>                         <span class="n">probe_num_aps</span><span class="p">;</span>

	<span class="kt">int</span>                         <span class="n">use_dma</span><span class="p">;</span>
	<span class="n">DMA_STRCT</span>                   <span class="n">dma</span><span class="p">;</span>
<span class="cp">#ifdef USE_RTS</span>
	<span class="kt">int</span>                         <span class="n">useRTS</span><span class="p">;</span>
<span class="cp">#endif  </span><span class="c1">// USE_RTS</span>
	<span class="n">hcf_8</span>                       <span class="n">DTIMPeriod</span><span class="p">;</span>         <span class="c1">// 1 - 255 (1)</span>
	<span class="n">hcf_16</span>                      <span class="n">multicastPMBuffering</span><span class="p">;</span>
	<span class="n">hcf_8</span>                       <span class="n">RejectAny</span><span class="p">;</span>          <span class="c1">// 0 - 1 (0)</span>
	<span class="n">hcf_8</span>                       <span class="n">ExcludeUnencrypted</span><span class="p">;</span> <span class="c1">// 0 - 1 (1)</span>
	<span class="n">hcf_16</span>                      <span class="n">intraBSSRelay</span><span class="p">;</span>
<span class="cp">#ifdef USE_WDS</span>
	<span class="n">WVLAN_WDS_IF</span>                <span class="n">wds_port</span><span class="p">[</span><span class="n">NUM_WDS_PORTS</span><span class="p">];</span>
<span class="cp">#endif </span><span class="c1">// USE_WDS</span>

	<span class="cm">/* Track whether the card is using WEP encryption or WPA</span>
<span class="cm">	 * so we know what to disable next time through.</span>
<span class="cm">	 *  IW_ENCODE_ALG_NONE, IW_ENCODE_ALG_WEP, IW_ENCODE_ALG_TKIP</span>
<span class="cm">	 */</span>
	<span class="kt">int</span> <span class="n">wext_enc</span><span class="p">;</span>
<span class="p">};</span> <span class="c1">// wl_private</span>

<span class="cp">#define wl_priv(dev) ((struct wl_private *) netdev_priv(dev))</span>

<span class="cm">/********************************************************************/</span>
<span class="cm">/* Locking and synchronization functions                            */</span>
<span class="cm">/********************************************************************/</span>

<span class="cm">/* These functions *must* be inline or they will break horribly on</span>
<span class="cm"> * SPARC, due to its weird semantics for save/restore flags. extern</span>
<span class="cm"> * inline should prevent the kernel from linking or module from</span>
<span class="cm"> * loading if they are not inlined. */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">wl_lock</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl_private</span> <span class="o">*</span><span class="n">lp</span><span class="p">,</span>
	                       <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">flags</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">spin_lock_irqsave</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lp</span><span class="o">-&gt;</span><span class="n">slock</span><span class="p">,</span> <span class="o">*</span><span class="n">flags</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">wl_unlock</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl_private</span> <span class="o">*</span><span class="n">lp</span><span class="p">,</span>
	                          <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">flags</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">spin_unlock_irqrestore</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lp</span><span class="o">-&gt;</span><span class="n">slock</span><span class="p">,</span> <span class="o">*</span><span class="n">flags</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/********************************************************************/</span>
<span class="cm">/* Interrupt enable disable functions                               */</span>
<span class="cm">/********************************************************************/</span>

<span class="k">extern</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">wl_act_int_on</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl_private</span> <span class="o">*</span><span class="n">lp</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Only do something when the driver is handling</span>
<span class="cm">	 * interrupts. Handling starts at wl_open and</span>
<span class="cm">	 * ends at wl_close when not in RTS mode</span>
<span class="cm">	 */</span>
	<span class="k">if</span><span class="p">(</span><span class="n">lp</span><span class="o">-&gt;</span><span class="n">is_handling_int</span> <span class="o">==</span> <span class="n">WL_HANDLING_INT</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hcf_action</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">lp</span><span class="o">-&gt;</span><span class="n">hcfCtx</span><span class="p">,</span> <span class="n">HCF_ACT_INT_ON</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">extern</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">wl_act_int_off</span><span class="p">(</span><span class="k">struct</span> <span class="n">wl_private</span> <span class="o">*</span><span class="n">lp</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Only do something when the driver is handling</span>
<span class="cm">	 * interrupts. Handling starts at wl_open and</span>
<span class="cm">	 * ends at wl_close when not in RTS mode</span>
<span class="cm">	 */</span>
	<span class="k">if</span><span class="p">(</span><span class="n">lp</span><span class="o">-&gt;</span><span class="n">is_handling_int</span> <span class="o">==</span> <span class="n">WL_HANDLING_INT</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hcf_action</span><span class="p">(</span> <span class="o">&amp;</span><span class="n">lp</span><span class="o">-&gt;</span><span class="n">hcfCtx</span><span class="p">,</span> <span class="n">HCF_ACT_INT_OFF</span> <span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="cp">#endif  </span><span class="c1">// __WAVELAN2_H__</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
