<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › wlags49_h2 › wl_if.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>wl_if.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*******************************************************************************</span>
<span class="cm"> * Agere Systems Inc.</span>
<span class="cm"> * Wireless device driver for Linux (wlags49).</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 1998-2003 Agere Systems Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *   http://www.agere.com</span>
<span class="cm"> *</span>
<span class="cm"> * Initially developed by TriplePoint, Inc.</span>
<span class="cm"> *   http://www.triplepoint.com</span>
<span class="cm"> *</span>
<span class="cm"> *------------------------------------------------------------------------------</span>
<span class="cm"> *</span>
<span class="cm"> *   Driver common header for info needed by driver source and user-space</span>
<span class="cm"> *   processes communicating with the driver.</span>
<span class="cm"> *</span>
<span class="cm"> *------------------------------------------------------------------------------</span>
<span class="cm"> *</span>
<span class="cm"> * SOFTWARE LICENSE</span>
<span class="cm"> *</span>
<span class="cm"> * This software is provided subject to the following terms and conditions,</span>
<span class="cm"> * which you should read carefully before using the software.  Using this</span>
<span class="cm"> * software indicates your acceptance of these terms and conditions.  If you do</span>
<span class="cm"> * not agree with these terms and conditions, do not use the software.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright © 2003 Agere Systems Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source or binary forms, with or without</span>
<span class="cm"> * modifications, are permitted provided that the following conditions are met:</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions of source code must retain the above copyright notice, this</span>
<span class="cm"> *    list of conditions and the following Disclaimer as comments in the code as</span>
<span class="cm"> *    well as in the documentation and/or other materials provided with the</span>
<span class="cm"> *    distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions in binary form must reproduce the above copyright notice,</span>
<span class="cm"> *    this list of conditions and the following Disclaimer in the documentation</span>
<span class="cm"> *    and/or other materials provided with the distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Neither the name of Agere Systems Inc. nor the names of the contributors</span>
<span class="cm"> *    may be used to endorse or promote products derived from this software</span>
<span class="cm"> *    without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Disclaimer</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED AS IS AND ANY EXPRESS OR IMPLIED WARRANTIES,</span>
<span class="cm"> * INCLUDING, BUT NOT LIMITED TO, INFRINGEMENT AND THE IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  ANY</span>
<span class="cm"> * USE, MODIFICATION OR DISTRIBUTION OF THIS SOFTWARE IS SOLELY AT THE USERS OWN</span>
<span class="cm"> * RISK. IN NO EVENT SHALL AGERE SYSTEMS INC. OR CONTRIBUTORS BE LIABLE FOR ANY</span>
<span class="cm"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="cm"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="cm"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="cm"> * ON ANY THEORY OF LIABILITY, INCLUDING, BUT NOT LIMITED TO, CONTRACT, STRICT</span>
<span class="cm"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT</span>
<span class="cm"> * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
<span class="cm"> * DAMAGE.</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="cp">#ifndef __WAVELAN2_IF_H__</span>
<span class="cp">#define __WAVELAN2_IF_H__</span>




<span class="cm">/*******************************************************************************</span>
<span class="cm"> *  constant definitions</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#define MAX_LTV_BUF_SIZE            (512 - (sizeof(hcf_16) * 2))</span>

<span class="cp">#define HCF_TALLIES_SIZE            (sizeof(CFG_HERMES_TALLIES_STRCT) + \</span>
<span class="cp">                                     (sizeof(hcf_16) * 2))</span>

<span class="cp">#define HCF_MAX_MULTICAST           16</span>
<span class="cp">#define HCF_MAX_NAME_LEN            32</span>
<span class="cp">#define MAX_LINE_SIZE   			256</span>
<span class="cp">#define HCF_NUM_IO_PORTS            0x80</span>
<span class="cp">#define TX_TIMEOUT                  ((800 * HZ) / 1000)</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><h1>define HCF<em>MIN</em>COMM_QUALITY        0</h1>

<h1>define HCF<em>MAX</em>COMM_QUALITY        92</h1>

<h1>define HCF<em>MIN</em>SIGNAL_LEVEL        47</h1>

<h1>define HCF<em>MAX</em>SIGNAL_LEVEL        138</h1>

<h1>define HCF<em>MIN</em>NOISE_LEVEL         47</h1>

<h1>define HCF<em>MAX</em>NOISE_LEVEL         138</h1>

<h1>define HCF<em>0DBM</em>OFFSET             149</h1></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>PE1DNN
Better data from the real world. Not scientific but empirical data gathered
from a Thomson Speedtouch 110 which is identified as:
PCMCIA Info: "Agere Systems" "Wireless PC Card Model 0110"
             Manufacture ID: 0156,0003
Lowest measurment for noise floor seen is value 54
Highest signal strength in close proximity to the AP seen is value 118
Very good must be arround 100 (otherwise its never "full scale"
All other constants are derrived from these. This makes the signal gauge
work for me...</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HCF_MIN_SIGNAL_LEVEL        54</span>
<span class="cp">#define HCF_MAX_SIGNAL_LEVEL        100</span>
<span class="cp">#define HCF_MIN_NOISE_LEVEL         HCF_MIN_SIGNAL_LEVEL</span>
<span class="cp">#define HCF_MAX_NOISE_LEVEL         HCF_MAX_SIGNAL_LEVEL</span>
<span class="cp">#define HCF_0DBM_OFFSET             (HCF_MAX_SIGNAL_LEVEL + 1)</span>
<span class="cp">#define HCF_MIN_COMM_QUALITY        0</span>
<span class="cp">#define HCF_MAX_COMM_QUALITY        (HCF_MAX_SIGNAL_LEVEL - HCF_MIN_NOISE_LEVEL + 1)</span>


<span class="cm">/* For encryption (WEP) */</span>
<span class="cp">#define MIN_KEY_SIZE                5       </span><span class="c1">// 40 bits RC4 - WEP</span>
<span class="cp">#define MAX_KEY_SIZE                13      </span><span class="c1">// 104 bits</span>
<span class="cp">#define MAX_KEYS                    4</span>

<span class="cp">#define RADIO_CHANNELS              14</span>
<span class="cp">#define RADIO_SENSITIVITY_LEVELS    3</span>
<span class="cp">#define RADIO_TX_POWER_MWATT        32</span>
<span class="cp">#define RADIO_TX_POWER_DBM          15</span>

<span class="cp">#define MIN_RTS_BYTES               0</span>
<span class="cp">#define MAX_RTS_BYTES               2347</span>

<span class="cp">#define MAX_RATES                   8</span>
<span class="cp">#define MEGABIT                     1024*1024</span>

<span class="cp">#define HCF_FAILURE                 0xFF</span>
<span class="cp">#define UIL_FAILURE		            0xFF</span>
<span class="cp">#define CFG_UIL_CONNECT             0xA123          </span><span class="c1">// Define differently?</span>
<span class="cp">#define CFG_UIL_CONNECT_ACK_CODE    0x5653435A      </span><span class="c1">// VSCZ</span>
<span class="cp">#define WVLAN2_UIL_CONNECTED        (0x01L &lt;&lt; 0)</span>
<span class="cp">#define WVLAN2_UIL_BUSY             (0x01L &lt;&lt; 1)</span>




<span class="cm">/*******************************************************************************</span>
<span class="cm"> * driver ioctl interface</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#define WVLAN2_IOCTL_UIL            SIOCDEVPRIVATE</span>

<span class="cm">/* The UIL Interface used in conjunction with the WVLAN2_IOCTL_UIL code above</span>
<span class="cm">   is defined in mdd.h. A quick reference of the UIL codes is listed below */</span>
<span class="cm">/*</span>
<span class="cm">UIL_FUN_CONNECT</span>
<span class="cm">UIL_FUN_DISCONNECT</span>
<span class="cm">UIL_FUN_ACTION</span>
<span class="cm">    UIL_ACT_BLOCK</span>
<span class="cm">    UIL_ACT_UNBLOCK</span>
<span class="cm">    UIL_ACT_SCA</span>
<span class="cm">    UIL_ACT_DIAG</span>
<span class="cm">    UIL_ACT_APPLY</span>
<span class="cm">UIL_FUN_SEND_DIAG_MSG</span>
<span class="cm">UIL_FUN_GET_INFO</span>
<span class="cm">UIL_FUN_PUT_INFO</span>
<span class="cm">*/</span>

<span class="cp">#define SIOCSIWNETNAME              SIOCDEVPRIVATE+1</span>
<span class="cp">#define SIOCGIWNETNAME              SIOCDEVPRIVATE+2</span>
<span class="cp">#define SIOCSIWSTANAME              SIOCDEVPRIVATE+3</span>
<span class="cp">#define SIOCGIWSTANAME              SIOCDEVPRIVATE+4</span>
<span class="cp">#define SIOCSIWPORTTYPE             SIOCDEVPRIVATE+5</span>
<span class="cp">#define SIOCGIWPORTTYPE             SIOCDEVPRIVATE+6</span>

<span class="cm">/* IOCTL code for the RTS interface */</span>
<span class="cp">#define WL_IOCTL_RTS                SIOCDEVPRIVATE+7</span>

<span class="cm">/* IOCTL subcodes for WL_IOCTL_RTS */</span>
<span class="cp">#define WL_IOCTL_RTS_READ           1</span>
<span class="cp">#define WL_IOCTL_RTS_WRITE          2</span>
<span class="cp">#define WL_IOCTL_RTS_BATCH_READ     3</span>
<span class="cp">#define WL_IOCTL_RTS_BATCH_WRITE    4</span>


<span class="cm">/*******************************************************************************</span>
<span class="cm"> * STRUCTURE DEFINITIONS</span>
<span class="cm"> ******************************************************************************/</span>
<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">__u16</span>   <span class="n">length</span><span class="p">;</span>
    <span class="n">__u8</span>    <span class="n">name</span><span class="p">[</span><span class="n">HCF_MAX_NAME_LEN</span><span class="p">];</span>
<span class="p">}</span>
<span class="n">wvName_t</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">hcf_16</span>      <span class="n">len</span><span class="p">;</span>
    <span class="n">hcf_16</span>      <span class="n">typ</span><span class="p">;</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="n">hcf_8</span>       <span class="n">u8</span><span class="p">[</span><span class="n">MAX_LTV_BUF_SIZE</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">hcf_8</span><span class="p">)];</span>
        <span class="n">hcf_16</span>      <span class="n">u16</span><span class="p">[</span><span class="n">MAX_LTV_BUF_SIZE</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">hcf_16</span><span class="p">)];</span>
        <span class="n">hcf_32</span>      <span class="n">u32</span><span class="p">[</span><span class="n">MAX_LTV_BUF_SIZE</span> <span class="o">/</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">hcf_32</span><span class="p">)];</span>
    <span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">ltv_t</span><span class="p">;</span>


<span class="k">struct</span> <span class="n">uilreq</span>
<span class="p">{</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="kt">char</span>    <span class="n">ifrn_name</span><span class="p">[</span><span class="n">IFNAMSIZ</span><span class="p">];</span>
    <span class="p">}</span> <span class="n">ifr_ifrn</span><span class="p">;</span>

    <span class="n">IFBP</span>        <span class="n">hcfCtx</span><span class="p">;</span>
    <span class="n">__u8</span>        <span class="n">command</span><span class="p">;</span>
    <span class="n">__u8</span>        <span class="n">result</span><span class="p">;</span>

    <span class="cm">/* The data field in this structure is typically an LTV of some type. The</span>
<span class="cm">       len field is the size of the buffer in bytes, as opposed to words (like</span>
<span class="cm">       the L-field in the LTV */</span>
    <span class="n">__u16</span>       <span class="n">len</span><span class="p">;</span>
    <span class="kt">void</span>       <span class="o">*</span><span class="n">data</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">rtsreq</span>
<span class="p">{</span>
    <span class="k">union</span>
    <span class="p">{</span>
        <span class="kt">char</span>    <span class="n">ifrn_name</span><span class="p">[</span><span class="n">IFNAMSIZ</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="n">ifr_ifrn</span><span class="p">;</span>

    <span class="n">__u16</span>   <span class="n">typ</span><span class="p">;</span>
    <span class="n">__u16</span>   <span class="n">reg</span><span class="p">;</span>
    <span class="n">__u16</span>   <span class="n">len</span><span class="p">;</span>
    <span class="n">__u16</span>   <span class="o">*</span><span class="n">data</span><span class="p">;</span>
<span class="p">};</span>


<span class="cp">#endif  </span><span class="c1">// __WAVELAN2_IF_H__</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
