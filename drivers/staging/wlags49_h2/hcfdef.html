<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › wlags49_h2 › hcfdef.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>hcfdef.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef HCFDEFC_H</span>
<span class="cp">#define HCFDEFC_H 1</span>

<span class="cm">/*************************************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * FILE   : HCFDEF.H</span>
<span class="cm"> *</span>
<span class="cm"> * DATE   : $Date: 2004/08/05 11:47:10 $   $Revision: 1.8 $</span>
<span class="cm"> * Original: 2004/05/28 14:05:35    Revision: 1.59      Tag: hcf7_t20040602_01</span>
<span class="cm"> * Original: 2004/05/13 15:31:45    Revision: 1.53      Tag: hcf7_t7_20040513_01</span>
<span class="cm"> * Original: 2004/04/15 09:24:42    Revision: 1.44      Tag: hcf7_t7_20040415_01</span>
<span class="cm"> * Original: 2004/04/13 14:22:45    Revision: 1.43      Tag: t7_20040413_01</span>
<span class="cm"> * Original: 2004/04/01 15:32:55    Revision: 1.40      Tag: t7_20040401_01</span>
<span class="cm"> * Original: 2004/03/10 15:39:28    Revision: 1.36      Tag: t20040310_01</span>
<span class="cm"> * Original: 2004/03/03 14:10:12    Revision: 1.34      Tag: t20040304_01</span>
<span class="cm"> * Original: 2004/03/02 09:27:12    Revision: 1.32      Tag: t20040302_03</span>
<span class="cm"> * Original: 2004/02/24 13:00:29    Revision: 1.29      Tag: t20040224_01</span>
<span class="cm"> * Original: 2004/02/18 17:13:57    Revision: 1.26      Tag: t20040219_01</span>
<span class="cm"> *</span>
<span class="cm"> * AUTHOR : Nico Valster</span>
<span class="cm"> *</span>
<span class="cm"> * SPECIFICATION: ...........</span>
<span class="cm"> *</span>
<span class="cm"> * DESC   : Definitions and Prototypes for HCF only</span>
<span class="cm"> *</span>
<span class="cm"> **************************************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> * SOFTWARE LICENSE</span>
<span class="cm"> *</span>
<span class="cm"> * This software is provided subject to the following terms and conditions,</span>
<span class="cm"> * which you should read carefully before using the software.  Using this</span>
<span class="cm"> * software indicates your acceptance of these terms and conditions.  If you do</span>
<span class="cm"> * not agree with these terms and conditions, do not use the software.</span>
<span class="cm"> *</span>
<span class="cm"> * COPYRIGHT © 1994 - 1995   by AT&amp;T.                All Rights Reserved</span>
<span class="cm"> * COPYRIGHT © 1996 - 2000 by Lucent Technologies.   All Rights Reserved</span>
<span class="cm"> * COPYRIGHT © 2001 - 2004   by Agere Systems Inc.   All Rights Reserved</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source or binary forms, with or without</span>
<span class="cm"> * modifications, are permitted provided that the following conditions are met:</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions of source code must retain the above copyright notice, this</span>
<span class="cm"> *    list of conditions and the following Disclaimer as comments in the code as</span>
<span class="cm"> *    well as in the documentation and/or other materials provided with the</span>
<span class="cm"> *    distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions in binary form must reproduce the above copyright notice,</span>
<span class="cm"> *    this list of conditions and the following Disclaimer in the documentation</span>
<span class="cm"> *    and/or other materials provided with the distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Neither the name of Agere Systems Inc. nor the names of the contributors</span>
<span class="cm"> *    may be used to endorse or promote products derived from this software</span>
<span class="cm"> *    without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Disclaimer</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES,</span>
<span class="cm"> * INCLUDING, BUT NOT LIMITED TO, INFRINGEMENT AND THE IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  ANY</span>
<span class="cm"> * USE, MODIFICATION OR DISTRIBUTION OF THIS SOFTWARE IS SOLELY AT THE USERS OWN</span>
<span class="cm"> * RISK. IN NO EVENT SHALL AGERE SYSTEMS INC. OR CONTRIBUTORS BE LIABLE FOR ANY</span>
<span class="cm"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="cm"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="cm"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="cm"> * ON ANY THEORY OF LIABILITY, INCLUDING, BUT NOT LIMITED TO, CONTRACT, STRICT</span>
<span class="cm"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT</span>
<span class="cm"> * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
<span class="cm"> * DAMAGE.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> *************************************************************************************************/</span>


<span class="cm">/************************************************************************************************/</span>
<span class="cm">/*********************************  P R E F I X E S  ********************************************/</span>
<span class="cm">/************************************************************************************************/</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>IFB_      Interface Block
HCMD_     Hermes Command
HFS_      Hermes (Transmit/Receive) Frame Structure
HREG_     Hermes Register</p></td><td class="code"><div class="highlight"><pre><span class="cm">/*************************************************************************************************/</span>

<span class="cm">/************************************************************************************************/</span>
<span class="cm">/********************************* GENERAL EQUATES **********************************************/</span>
<span class="cm">/************************************************************************************************/</span>


<span class="cp">#define HCF_MAGIC               0x7D37  </span><span class="c1">// &quot;}7&quot; Handle validation</span>

<span class="cp">#define PLUG_DATA_OFFSET        0x00000800  </span><span class="c1">//needed by some test tool on top of H-II NDIS driver</span>

<span class="cp">#define INI_TICK_INI            0x00040000L</span>

<span class="cp">#define IO_IN                   0       </span><span class="c1">//hcfio_in_string</span>
<span class="cp">#define IO_OUT                  1       </span><span class="c1">//hcfio_out_string</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>DO_ASSERT, create an artificial FALSE to force an ASSERT without the nasty compiler warning</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DO_ASSERT               ( assert_ifbp-&gt;IFB_Magic != HCF_MAGIC &amp;&amp; assert_ifbp-&gt;IFB_Magic == HCF_MAGIC )</span>
<span class="cp">#define NT_ASSERT               0x0000      </span><span class="c1">//, NEVER_TESTED</span>
<span class="cp">#define NEVER_TESTED            MERGE_2( 0xEFFE, 0xFEEF )</span>
<span class="cp">#define SE_ASSERT               0x5EFF      </span><span class="cm">/* Side Effect, HCFASSERT invokation which are only called for the</span>
<span class="cm">                                             * side effect and which should never trigger */</span><span class="cp"></span>
<span class="cp">#define DHF_FILE_NAME_OFFSET    10000       </span><span class="c1">//to distinguish DHF from HCF asserts by means of line number</span>
<span class="cp">#define MMD_FILE_NAME_OFFSET    20000       </span><span class="c1">//to distinguish MMD from HCF asserts by means of line number</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>trace codes used to
1: profile execution times via HCF<em>TRACE and HCF</em>TRACE_VALUE
2: hierarchical flow information via HCFLOGENTRY / HCFLOGEXIT</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><h1>define HCF<em>TRACE</em>CONNECT     useless</h1>

<h1>define HCF<em>TRACE</em>DISCONNECT  useless</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define HCF_TRACE_ACTION        0x0000  </span><span class="c1">// 0x0001</span>
<span class="cp">#define HCF_TRACE_CNTL          0x0001  </span><span class="c1">// 0x0002</span>
<span class="cp">#define HCF_TRACE_DMA_RX_GET    0x0002  </span><span class="c1">// 0x0004</span>
<span class="cp">#define HCF_TRACE_DMA_RX_PUT    0x0003  </span><span class="c1">// 0x0008</span>
<span class="cp">#define HCF_TRACE_DMA_TX_GET    0x0004  </span><span class="c1">// 0x0010</span>
<span class="cp">#define HCF_TRACE_DMA_TX_PUT    0x0005  </span><span class="c1">// 0x0020</span>
<span class="cp">#define HCF_TRACE_GET_INFO      0x0006  </span><span class="c1">// 0x0040</span>
<span class="cp">#define HCF_TRACE_PUT_INFO      0x0007  </span><span class="c1">// 0x0080</span>
<span class="cp">#define HCF_TRACE_RCV_MSG       0x0008  </span><span class="c1">// 0x0100</span>
<span class="cp">#define HCF_TRACE_SEND_MSG      0x0009  </span><span class="c1">// 0x0200</span>
<span class="cp">#define HCF_TRACE_SERVICE_NIC   0x000A  </span><span class="c1">// 0x0400</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><h1>define HCF<em>TRACE</em>           0x000C  // 0x1000</h1>

<h1>define HCF<em>TRACE</em>           0x000D  // 0x2000</h1>

<h1>define HCF<em>TRACE</em>           0x000E  // 0x4000</h1>

<h1>define HCF<em>TRACE</em>           0x000F  // 0x8000</h1>

<p>============================================ HCF<em>TRACE</em>... codes below 0x0010 are asserted on re-entry</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HCF_TRACE_ACTION_KLUDGE 0x0010  </span><span class="cm">/* once you start introducing kludges there is no end to it</span>
<span class="cm">                                         * this is an escape to do not assert on re-entrancy problem caused</span>
<span class="cm">                                         * by HCF_ACT_INT_FORCE_ON used to get Microsofts NDIS drivers going</span>
<span class="cm">                                         */</span><span class="cp"></span>
<span class="cp">#define HCF_TRACE_STRIO         0x0020</span>
<span class="cp">#define HCF_TRACE_ALLOC         0X0021</span>
<span class="cp">#define HCF_TRACE_DL            0X0023</span>
<span class="cp">#define HCF_TRACE_ISR_INFO      0X0024</span>
<span class="cp">#define HCF_TRACE_CALIBRATE     0x0026</span>

<span class="cp">#define HCF_TRACE_CMD_CPL       0x0040</span>
<span class="cp">#define HCF_TRACE_CMD_EXE       0x0041</span>
<span class="cp">#define HCF_TRACE_GET_FID       0x0042</span>
<span class="cp">#define HCF_TRACE_GET_FRAG      0x0043</span>
<span class="cp">#define HCF_TRACE_INIT          0x0044</span>
<span class="cp">#define HCF_TRACE_PUT_FRAG      0x0045</span>
<span class="cp">#define HCF_TRACE_SETUP_BAP     0x0046</span>

<span class="cp">#define HCF_TRACE_EXIT          0x8000  </span><span class="c1">// Keil C warns &quot;long constant truncated to int&quot;</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><h1>define BAP<em>0                 HREG</em>DATA_0     //Used by DMA controller to access NIC RAM</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define BAP_1                   HREG_DATA_1     </span><span class="c1">//Used by HCF to access NIC RAM</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> Hermes Receive/Transmit Frame Structures
HFS<em>STAT
see MMD.H for HFS</em>STAT_ERR</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define     HFS_STAT_MSG_TYPE   0xE000  </span><span class="c1">//Hermes reported Message Type</span>
<span class="cp">#define     HFS_STAT_MIC_KEY_ID 0x1800  </span><span class="c1">//MIC key used (if any)</span>
<span class="cp">#define     HFS_STAT_1042       0x2000  </span><span class="c1">//RFC1042 Encoded</span>
<span class="cp">#define     HFS_STAT_TUNNEL     0x4000  </span><span class="c1">//Bridge-Tunnel Encoded</span>
<span class="cp">#define     HFS_STAT_WMP_MSG    0x6000  </span><span class="c1">//WaveLAN-II Management Protocol Frame</span>
<span class="cp">#if (HCF_TYPE) &amp; HCF_TYPE_WPA</span>
<span class="cp">#define     HFS_STAT_MIC        0x0010  </span><span class="c1">//Frame contains MIC  //;? re-instate when F/W ready</span>
<span class="cp">#endif</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> Hermes Register Offsets and Command bits</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_IO_RANGE           0x80        </span><span class="c1">//I/O Range used by Hermes</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> Command/Status</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_CMD                0x00        </span><span class="c1">//</span>
<span class="cp">#define     HCMD_CMD_CODE           0x3F</span>
<span class="cp">#define HREG_PARAM_0            0x02        </span><span class="c1">//</span>
<span class="cp">#define HREG_PARAM_1            0x04        </span><span class="c1">//</span>
<span class="cp">#define HREG_PARAM_2            0x06        </span><span class="c1">//</span>
<span class="cp">#define HREG_STAT               0x08        </span><span class="c1">//</span>
<span class="cp">#define     HREG_STAT_CMD_CODE      0x003F  </span><span class="c1">//</span>
<span class="cp">#define     HREG_STAT_DIAG_ERR      0x0100</span>
<span class="cp">#define     HREG_STAT_INQUIRE_ERR   0x0500</span>
<span class="cp">#define     HREG_STAT_CMD_RESULT    0x7F00  </span><span class="c1">//</span>
<span class="cp">#define HREG_RESP_0             0x0A        </span><span class="c1">//</span>
<span class="cp">#define HREG_RESP_1             0x0C        </span><span class="c1">//</span>
<span class="cp">#define HREG_RESP_2             0x0E        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> FID Management</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_INFO_FID           0x10        </span><span class="c1">//</span>
<span class="cp">#define HREG_RX_FID             0x20        </span><span class="c1">//</span>
<span class="cp">#define HREG_ALLOC_FID          0x22        </span><span class="c1">//</span>
<span class="cp">#define HREG_TX_COMPL_FID       0x24        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> BAP
20031030 HWi Inserted this again because the dongle code uses this (GPIF.C)</p>

<h1>define HREG<em>SELECT</em>0         0x18        //</h1>

<h1>define HREG<em>OFFSET</em>0         0x1C        //</h1>

<h1>define HREG<em>DATA</em>0           0x36        //</h1></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><h1>define   HREG<em>OFFSET</em>BUSY        0x8000  // use HCMD_BUSY</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define     HREG_OFFSET_ERR         0x4000  </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>rsrvd #define     HREG<em>OFFSET</em>DATA_OFFSET 0x0FFF  //</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_SELECT_1           0x1A        </span><span class="c1">//</span>
<span class="cp">#define HREG_OFFSET_1           0x1E        </span><span class="c1">//</span>
<span class="cp">#define HREG_DATA_1             0x38        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> Event</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_EV_STAT            0x30        </span><span class="c1">//</span>
<span class="cp">#define HREG_INT_EN             0x32        </span><span class="c1">//</span>
<span class="cp">#define HREG_EV_ACK             0x34        </span><span class="c1">//</span>

<span class="cp">#define    HREG_EV_TICK             0x8000  </span><span class="c1">//Auxiliary Timer Tick</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><h1>define  HREG<em>EV</em>RES              0x4000  //H-I only: H/W error (Wait Time-out)</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define    HREG_EV_INFO_DROP        0x2000  </span><span class="c1">//WMAC did not have sufficient RAM to build Unsollicited Frame</span>
<span class="cp">#if (HCF_TYPE) &amp; HCF_TYPE_HII5</span>
<span class="cp">#define    HREG_EV_ACK_REG_READY    0x0000</span>
<span class="cp">#else</span>
<span class="cp">#define    HREG_EV_ACK_REG_READY    0x1000  </span><span class="c1">//Workaround Kludge bit for H-II (not H-II.5)</span>
<span class="cp">#endif </span><span class="c1">// HCF_TYPE_HII5</span>
<span class="cp">#if (HCF_SLEEP) &amp; ( HCF_CDS | HCF_DDS )</span>
<span class="cp">#define    HREG_EV_SLEEP_REQ        0x0800</span>
<span class="cp">#else</span>
<span class="cp">#define    HREG_EV_SLEEP_REQ        0x0000</span>
<span class="cp">#endif </span><span class="c1">// HCF_CDS / HCF_DDS</span>
<span class="cp">#if HCF_DMA</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><h1>define    HREG<em>EV</em>LPESC          0x0400 // firmware sets this bit and clears it, not for host usage.</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define    HREG_EV_RDMAD            0x0200 </span><span class="c1">// rx frame in host memory</span>
<span class="cp">#define    HREG_EV_TDMAD            0x0100 </span><span class="c1">// tx frame in host memory processed</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><h1>define    HREG<em>EV</em>RXDMA          0x0040 // firmware kicks off DMA engine (bit is not for host usage)</h1>

<h1>define    HREG<em>EV</em>TXDMA          0x0020 // firmware kicks off DMA engine (bit is not for host usage)</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define    HREG_EV_FW_DMA           0x0460 </span><span class="c1">// firmware / DMA engine I/F (bits are not for host usage)</span>
<span class="cp">#else</span>
<span class="cp">#define    HREG_EV_FW_DMA           0x0000</span>
<span class="cp">#endif </span><span class="c1">// HCF_DMA</span>
<span class="cp">#define    HREG_EV_INFO             0x0080  </span><span class="c1">// Asynchronous Information Frame</span>
<span class="cp">#define    HREG_EV_CMD              0x0010  </span><span class="c1">// Command completed, Status and Response available</span>
<span class="cp">#define    HREG_EV_ALLOC            0x0008  </span><span class="c1">// Asynchronous part of Allocation/Reclaim completed</span>
<span class="cp">#define    HREG_EV_TX_EXC           0x0004  </span><span class="c1">// Asynchronous Transmission unsuccessful completed</span>
<span class="cp">#define    HREG_EV_TX               0x0002  </span><span class="c1">// Asynchronous Transmission successful completed</span>
<span class="cp">#define    HREG_EV_RX               0x0001  </span><span class="c1">// Asynchronous Receive Frame</span>

<span class="cp">#define    HREG_EV_TX_EXT           ( (HCF_EXT) &amp; (HCF_EXT_INT_TX_EX | HCF_EXT_INT_TICK ) )</span>
<span class="cm">/* HREG_EV_TX_EXT := 0x0000 or HREG_EV_TX_EXC and/or HREG_EV_TICK</span>
<span class="cm"> * could be extended with HREG_EV_TX */</span>
<span class="cp">#if HCF_EXT_INT_TX_EX != HREG_EV_TX_EXC</span>
<span class="nl">err:</span> <span class="n">these</span> <span class="n">values</span> <span class="n">should</span> <span class="n">match</span><span class="p">;</span>
<span class="cp">#endif </span><span class="c1">// HCF_EXT_INT_TX_EX / HREG_EV_TX_EXC</span>

<span class="cp">#if HCF_EXT_INT_TICK != HREG_EV_TICK</span>
<span class="nl">err:</span> <span class="n">these</span> <span class="n">values</span> <span class="n">should</span> <span class="n">match</span><span class="p">;</span>
<span class="cp">#endif </span><span class="c1">// HCF_EXT_INT_TICK / HREG_EV_TICK</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> Host Software</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_SW_0               0x28        </span><span class="c1">//</span>
<span class="cp">#define HREG_SW_1               0x2A        </span><span class="c1">//</span>
<span class="cp">#define HREG_SW_2               0x2C        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>rsrvd #define HREG<em>SW</em>3       0x2E        //
<strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> Control and Auxiliary Port</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_IO                 0x12</span>
<span class="cp">#define     HREG_IO_SRESET          0x0001</span>
<span class="cp">#define     HREG_IO_WAKEUP_ASYNC    0x0002</span>
<span class="cp">#define     HREG_IO_WOKEN_UP        0x0004</span>
<span class="cp">#define HREG_CNTL               0x14        </span><span class="c1">//</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><h1>define       HREG<em>CNTL</em>WAKEUP_SYNC   0x0001</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define     HREG_CNTL_AUX_ENA_STAT  0xC000</span>
<span class="cp">#define     HREG_CNTL_AUX_DIS_STAT  0x0000</span>
<span class="cp">#define     HREG_CNTL_AUX_ENA_CNTL  0x8000</span>
<span class="cp">#define     HREG_CNTL_AUX_DIS_CNTL  0x4000</span>
<span class="cp">#define     HREG_CNTL_AUX_DSD       0x2000</span>
<span class="cp">#define     HREG_CNTL_AUX_ENA       (HREG_CNTL_AUX_ENA_CNTL | HREG_CNTL_AUX_DIS_CNTL )</span>
<span class="cp">#define HREG_SPARE              0x16        </span><span class="c1">//</span>
<span class="cp">#define HREG_AUX_PAGE           0x3A        </span><span class="c1">//</span>
<span class="cp">#define HREG_AUX_OFFSET         0x3C        </span><span class="c1">//</span>
<span class="cp">#define HREG_AUX_DATA           0x3E        </span><span class="c1">//</span>

<span class="cp">#if HCF_DMA</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p><strong><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em><em>*</em></strong> DMA (bus mastering)
Be careful to use these registers only at a genuine 32 bits NIC
On 16 bits NICs, these addresses are mapped into the range 0x00 through 0x3F with all consequences
thereof, e.g.  HREG<em>DMA</em>CTRL register maps to HREG_CMD.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_DMA_CTRL                       0x0040</span>
<span class="cp">#define HREG_TXDMA_PTR32                    0x0044</span>
<span class="cp">#define HREG_TXDMA_PRIO_PTR32               0x0048</span>
<span class="cp">#define HREG_TXDMA_HIPRIO_PTR32             0x004C</span>
<span class="cp">#define HREG_RXDMA_PTR32                    0x0050</span>
<span class="cp">#define HREG_CARDDETECT_1                   0x007C </span><span class="c1">// contains 7D37</span>
<span class="cp">#define HREG_CARDDETECT_2                   0x007E </span><span class="c1">// contains 7DE7</span>
<span class="cp">#define HREG_FREETIMER                      0x0058</span>
<span class="cp">#define HREG_DMA_RX_CNT                     0x0026</span>

<span class="cm">/******************************************************************************</span>
<span class="cm"> * Defines for the bits in the DmaControl register (@40h)</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#define HREG_DMA_CTRL_RXHWEN                0x80000000 </span><span class="c1">// high word enable bit</span>
<span class="cp">#define HREG_DMA_CTRL_RXRESET               0x40000000 </span><span class="c1">// tx dma init bit</span>
<span class="cp">#define HREG_DMA_CTRL_RXBAP1                BIT29</span>
<span class="cp">#define HREG_DMA_CTRL_RX_STALLED            BIT28</span>
<span class="cp">#define HREG_DMA_CTRL_RXAUTOACK_DMADONE     BIT27 </span><span class="c1">// no host involvement req. for TDMADONE event</span>
<span class="cp">#define HREG_DMA_CTRL_RXAUTOACK_INFO        BIT26 </span><span class="c1">// no host involvement req. for alloc event</span>
<span class="cp">#define HREG_DMA_CTRL_RXAUTOACK_DMAEN       0x02000000 </span><span class="c1">// no host involvement req. for TxDMAen event</span>
<span class="cp">#define HREG_DMA_CTRL_RXAUTOACK_RX          0x01000000 </span><span class="c1">// no host involvement req. for tx event</span>
<span class="cp">#define HREG_DMA_CTRL_RX_BUSY               BIT23 </span><span class="c1">// read only bit</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><h1>define HREG<em>DMA</em>CTRL<em>RX</em>RBUFCONT_PLAIN       0     // bits 21..20</h1>

<h1>define HREG<em>DMA</em>CTRL<em>RX</em>MODE<em>PLAIN</em>DMA       0     // mode 0</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_DMA_CTRL_RX_MODE_SINGLE_PACKET 0x00010000 </span><span class="c1">// mode 1</span>
<span class="cp">#define HREG_DMA_CTRL_RX_MODE_MULTI_PACKET  0x00020000 </span><span class="c1">// mode 2</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><h1>define HREG<em>DMA</em>CTRL<em>RX</em>MODE_DISABLE     (0x00020000|0x00010000) // disable tx dma engine</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_DMA_CTRL_TXHWEN                0x8000 </span><span class="c1">// low word enable bit</span>
<span class="cp">#define HREG_DMA_CTRL_TXRESET               0x4000 </span><span class="c1">// rx dma init bit</span>
<span class="cp">#define HREG_DMA_CTRL_TXBAP1                BIT13</span>
<span class="cp">#define HREG_DMA_CTRL_TXAUTOACK_DMADONE     BIT11 </span><span class="c1">// no host involvement req. for RxDMADONE event</span>
<span class="cp">#define HREG_DMA_CTRL_TXAUTOACK_DMAEN       0x00000400 </span><span class="c1">// no host involvement req. for RxDMAen event</span>
<span class="cp">#define HREG_DMA_CTRL_TXAUTOACK_DMAALLOC    0x00000200  </span><span class="c1">// no host involvement req. for info event</span>
<span class="cp">#define HREG_DMA_CTRL_TXAUTOACK_TX          0x00000100  </span><span class="c1">// no host involvement req. for rx event</span>
<span class="cp">#define HREG_DMA_CTRL_TX_BUSY               BIT7  </span><span class="c1">// read only bit</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><h1>define HREG<em>DMA</em>CTRL<em>TX</em>TBUFCONT_PLAIN       0     // bits 6..5</h1>

<h1>define HREG<em>DMA</em>CTRL<em>TX</em>MODE<em>PLAIN</em>DMA       0     // mode 0</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define HREG_DMA_CTRL_TX_MODE_SINGLE_PACKET BIT0 </span><span class="c1">// mode 1</span>
<span class="cp">#define HREG_DMA_CTRL_TX_MODE_MULTI_PACKET  0x00000002 </span><span class="c1">// mode 2</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><h1>define HREG<em>DMA</em>CTRL<em>TX</em>MODE_DISABLE     (0x00000001|0x00000002) // disable tx dma engine</h1></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>configuration DWORD to configure DMA for mode2 operation, using BAP0 as the DMA BAP.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DMA_CTRLSTAT_GO (HREG_DMA_CTRL_RXHWEN | HREG_DMA_CTRL_RX_MODE_MULTI_PACKET | \</span>
<span class="cp">                         HREG_DMA_CTRL_RXAUTOACK_DMAEN | HREG_DMA_CTRL_RXAUTOACK_RX | \</span>
<span class="cp">                         HREG_DMA_CTRL_TXHWEN | </span><span class="cm">/*;?HREG_DMA_CTRL_TX_TBUFCONT_PLAIN |*/</span><span class="cp"> \</span>
<span class="cp">                         HREG_DMA_CTRL_TX_MODE_MULTI_PACKET | HREG_DMA_CTRL_TXAUTOACK_DMAEN | \</span>
<span class="cp">                         HREG_DMA_CTRL_TXAUTOACK_DMAALLOC)</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><p>configuration DWORD to reset both the Tx and Rx DMA engines</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DMA_CTRLSTAT_RESET (HREG_DMA_CTRL_RXHWEN | HREG_DMA_CTRL_RXRESET | HREG_DMA_CTRL_TXHWEN | HREG_DMA_CTRL_TXRESET)</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><h1>define DESC<em>DMA</em>OWNED            0x80000000                  // BIT31</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define DESC_DMA_OWNED          0x8000                      </span><span class="c1">// BIT31</span>
<span class="cp">#define DESC_SOP                0x8000                      </span><span class="c1">// BIT15</span>
<span class="cp">#define DESC_EOP                0x4000                      </span><span class="c1">// BIT14</span>

<span class="cp">#define DMA_RX              0</span>
<span class="cp">#define DMA_TX              1</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><h1>define IFB<em>RxFirstDesc      IFB</em>FirstDesc[DMA_RX]</h1>

<h1>define IFB<em>TxFirstDesc      IFB</em>FirstDesc[DMA_TX]</h1>

<h1>define IFB<em>RxLastDesc       IFB</em>LastDesc[DMA_RX]</h1>

<h1>define IFB<em>TxLastDesc       IFB</em>LastDesc[DMA_TX]</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#endif </span><span class="c1">// HCF_DMA</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/************************************************************************************************/</span>
<span class="cm">/**********************************  EQUATES  ***************************************************/</span>
<span class="cm">/************************************************************************************************/</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>Hermes Command Codes and Qualifier bits</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define     HCMD_BUSY           0x8000  </span><span class="c1">// Busy bit, applicable for all commands</span>
<span class="cp">#define HCMD_INI                0x0000  </span><span class="c1">//</span>
<span class="cp">#define HCMD_ENABLE             HCF_CNTL_ENABLE     </span><span class="c1">// 0x0001</span>
<span class="cp">#define HCMD_DISABLE            HCF_CNTL_DISABLE    </span><span class="c1">// 0x0002</span>
<span class="cp">#define HCMD_CONNECT            HCF_CNTL_CONNECT    </span><span class="c1">// 0x0003</span>
<span class="cp">#define HCMD_EXECUTE            0x0004  </span><span class="c1">//</span>
<span class="cp">#define HCMD_DISCONNECT         HCF_CNTL_DISCONNECT </span><span class="c1">// 0x0005</span>
<span class="cp">#define HCMD_SLEEP              0x0006  </span><span class="c1">//</span>
<span class="cp">#define HCMD_CONTINUE           HCF_CNTL_CONTINUE   </span><span class="c1">// 0x0007</span>
<span class="cp">#define     HCMD_RETRY          0x0100  </span><span class="c1">// Retry bit</span>
<span class="cp">#define HCMD_ALLOC              0x000A  </span><span class="c1">//</span>
<span class="cp">#define HCMD_TX                 0x000B  </span><span class="c1">//</span>
<span class="cp">#define     HCMD_RECL           0x0100  </span><span class="c1">// Reclaim bit, applicable for Tx and Inquire</span>
<span class="cp">#define HCMD_INQUIRE            0x0011  </span><span class="c1">//</span>
<span class="cp">#define HCMD_ACCESS             0x0021  </span><span class="c1">//</span>
<span class="cp">#define     HCMD_ACCESS_WRITE   0x0100  </span><span class="c1">// Write bit</span>
<span class="cp">#define HCMD_PROGRAM            0x0022  </span><span class="c1">//</span>
<span class="cp">#define HCMD_READ_MIF           0x0030</span>
<span class="cp">#define HCMD_WRITE_MIF          0x0031</span>
<span class="cp">#define HCMD_THESEUS            0x0038</span>
<span class="cp">#define     HCMD_STARTPREAMBLE  0x0E00  </span><span class="c1">// Start continuous preamble Tx</span>
<span class="cp">#define     HCMD_STOP           0x0F00  </span><span class="c1">// Stop Theseus test mode</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>Configuration Management</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CFG_DRV_ACT_RANGES_PRI_3_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for Primary Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_PRI_3_TOP    1   </span><span class="c1">// Default Top    Compatibility for Primary Firmware - driver I/F</span>

<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_4_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for H/W - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_4_TOP    1   </span><span class="c1">// Default Top    Compatibility for H/W - driver I/F</span>

<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_5_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for H/W - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_5_TOP    1   </span><span class="c1">// Default Top    Compatibility for H/W - driver I/F</span>

<span class="cp">#if (HCF_TYPE) &amp; HCF_TYPE_WPA</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_1_BOTTOM 16  </span><span class="c1">// Default Bottom Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_1_TOP    16  </span><span class="c1">// Default Top    Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#else  </span><span class="c1">//;? is this REALLY O.K.</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_1_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_1_TOP    1   </span><span class="c1">// Default Top    Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_TYPE_WPA</span>

<span class="cp">#define CFG_DRV_ACT_RANGES_APF_2_BOTTOM 2   </span><span class="c1">// Default Bottom Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_2_TOP    2   </span><span class="c1">// Default Top    Compatibility for AP Firmware - driver I/F</span>

<span class="cp">#define CFG_DRV_ACT_RANGES_APF_3_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_3_TOP    1   </span><span class="c1">// Default Top    Compatibility for AP Firmware - driver I/F</span>

<span class="cp">#define CFG_DRV_ACT_RANGES_APF_4_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_4_TOP    1   </span><span class="c1">// Default Top    Compatibility for AP Firmware - driver I/F</span>

<span class="cp">#if (HCF_TYPE) &amp; HCF_TYPE_HII5</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_2_BOTTOM 6   </span><span class="c1">// Default Bottom Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_2_TOP    6   </span><span class="c1">// Default Top    Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#else </span><span class="c1">// (HCF_TYPE) &amp; HCF_TYPE_HII5</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_2_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_2_TOP    2   </span><span class="c1">// Default Top    Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#endif </span><span class="c1">// (HCF_TYPE) &amp; HCF_TYPE_HII5</span>

<span class="cp">#define CFG_DRV_ACT_RANGES_STA_3_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_3_TOP    1   </span><span class="c1">// Default Top    Compatibility for Station Firmware - driver I/F</span>

<span class="cp">#define CFG_DRV_ACT_RANGES_STA_4_BOTTOM 1   </span><span class="c1">// Default Bottom Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_4_TOP    1   </span><span class="c1">// Default Top    Compatibility for Station Firmware - driver I/F</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><hr /></td><td class="code"><div class="highlight"><pre><span class="cp">#if defined HCF_CFG_PRI_1_TOP || defined HCF_CFG_PRI_1_BOTTOM</span>
<span class="nl">err:</span> <span class="n">PRI_1</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for Primary Firmware - driver I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_PRI_1_TOP / HCF_CFG_PRI_1_BOTTOM</span>

<span class="cp">#if defined HCF_CFG_PRI_2_TOP || defined HCF_CFG_PRI_2_BOTTOM</span>
<span class="nl">err:</span> <span class="n">PRI_2</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for Primary Firmware - driver I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_PRI_2_TOP / HCF_CFG_PRI_2_BOTTOM</span>

<span class="cp">#ifdef HCF_CFG_PRI_3_TOP                                    </span><span class="c1">// Top Compatibility for Primary Firmware - driver I/F</span>
<span class="cp">#if HCF_CFG_PRI_3_TOP == 0 ||						\</span>
<span class="cp">	CFG_DRV_ACT_RANGES_PRI_3_BOTTOM &lt;= HCF_CFG_PRI_3_TOP &amp;&amp; HCF_CFG_PRI_3_TOP &lt;= CFG_DRV_ACT_RANGES_PRI_3_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_PRI_3_TOP</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_PRI_3_TOP    HCF_CFG_PRI_3_TOP</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_PRI_3_TOP</span>

<span class="cp">#ifdef HCF_CFG_PRI_3_BOTTOM                                 </span><span class="c1">// Bottom Compatibility for Primary Firmware - driver I/F</span>
<span class="cp">#if CFG_DRV_ACT_RANGES_PRI_3_BOTTOM &lt;= HCF_CFG_PRI_3_BOTTOM &amp;&amp; HCF_CFG_PRI_3_BOTTOM &lt;= CFG_DRV_ACT_RANGES_PRI_3_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_PRI_3_BOTTOM</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_PRI_3_BOTTOM HCF_CFG_PRI_3_BOTTOM</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_PRI_3_BOTTOM</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><hr /></td><td class="code"><div class="highlight"><pre><span class="cp">#if defined HCF_CFG_HSI_0_TOP || defined HCF_CFG_HSI_0_BOTTOM</span>
<span class="nl">err:</span> <span class="n">HSI_0</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for HSI I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_0_TOP / HCF_CFG_HSI_0_BOTTOM</span>

<span class="cp">#if defined HCF_CFG_HSI_1_TOP || defined HCF_CFG_HSI_1_BOTTOM</span>
<span class="nl">err:</span> <span class="n">HSI_1</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for HSI I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_1_TOP / HCF_CFG_HSI_1_BOTTOM</span>

<span class="cp">#if defined HCF_CFG_HSI_2_TOP || defined HCF_CFG_HSI_2_BOTTOM</span>
<span class="nl">err:</span> <span class="n">HSI_2</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for HSI I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_2_TOP / HCF_CFG_HSI_2_BOTTOM</span>

<span class="cp">#if defined HCF_CFG_HSI_3_TOP || defined HCF_CFG_HSI_3_BOTTOM</span>
<span class="nl">err:</span> <span class="n">HSI_3</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for HSI I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_3_TOP / HCF_CFG_HSI_3_BOTTOM</span>

<span class="cp">#ifdef HCF_CFG_HSI_4_TOP                                    </span><span class="c1">// Top Compatibility for HSI I/F</span>
<span class="cp">#if HCF_CFG_HSI_4_TOP == 0 ||						\</span>
<span class="cp">	CFG_DRV_ACT_RANGES_HSI_4_BOTTOM &lt;= CF_CFG_HSI_4_TOP &amp;&amp; HCF_CFG_HSI_4_TOP &lt;= CFG_DRV_ACT_RANGES_HSI_4_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_HSI_4_TOP</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_4_TOP    HCF_CFG_HSI_4_TOP</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_4_TOP</span>

<span class="cp">#ifdef HCF_CFG_HSI_4_BOTTOM                             </span><span class="c1">// Bottom Compatibility for HSI I/F</span>
<span class="cp">#if CFG_DRV_ACT_RANGES_HSI_4_BOTTOM &lt;= HCF_CFG_HSI_4_BOTTOM &amp;&amp; HCF_CFG_HSI_4_BOTTOM &lt;= CFG_DRV_ACT_RANGES_HSI_4_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_HSI_4_BOTTOM</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_4_BOTTOM HCF_CFG_HSI_4_BOTTOM</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_4_BOTTOM</span>

<span class="cp">#ifdef HCF_CFG_HSI_5_TOP                                    </span><span class="c1">// Top Compatibility for HSI I/F</span>
<span class="cp">#if HCF_CFG_HSI_5_TOP == 0 ||						\</span>
<span class="cp">	CFG_DRV_ACT_RANGES_HSI_5_BOTTOM &lt;= CF_CFG_HSI_5_TOP &amp;&amp; HCF_CFG_HSI_5_TOP &lt;= CFG_DRV_ACT_RANGES_HSI_5_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_HSI_5_TOP</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_5_TOP    HCF_CFG_HSI_5_TOP</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_5_TOP</span>

<span class="cp">#ifdef HCF_CFG_HSI_5_BOTTOM                             </span><span class="c1">// Bottom Compatibility for HSI I/F</span>
<span class="cp">#if CFG_DRV_ACT_RANGES_HSI_5_BOTTOM &lt;= HCF_CFG_HSI_5_BOTTOM &amp;&amp; HCF_CFG_HSI_5_BOTTOM &lt;= CFG_DRV_ACT_RANGES_HSI_5_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_HSI_5_BOTTOM</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_HSI_5_BOTTOM HCF_CFG_HSI_5_BOTTOM</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_HSI_5_BOTTOM</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><hr /></td><td class="code"><div class="highlight"><pre><span class="cp">#if defined HCF_CFG_APF_1_TOP || defined HCF_CFG_APF_1_BOTTOM</span>
<span class="nl">err:</span> <span class="n">APF_1</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_APF_1_TOP / HCF_CFG_APF_1_BOTTOM</span>

<span class="cp">#ifdef HCF_CFG_APF_2_TOP                                    </span><span class="c1">// Top Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#if HCF_CFG_APF_2_TOP == 0 ||						\</span>
<span class="cp">	CFG_DRV_ACT_RANGES_APF_2_BOTTOM &lt;= HCF_CFG_APF_2_TOP &amp;&amp; HCF_CFG_APF_2_TOP &lt;= CFG_DRV_ACT_RANGES_APF_2_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_APF_2_TOP</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_2_TOP    HCF_CFG_APF_2_TOP</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_APF_TOP</span>

<span class="cp">#ifdef HCF_CFG_APF_2_BOTTOM                                 </span><span class="c1">// Bottom Compatibility for AP Firmware - driver I/F</span>
<span class="cp">#if CFG_DRV_ACT_RANGES_APF_2_BOTTOM &lt;= HCF_CFG_APF_2_BOTTOM &amp;&amp; HCF_CFG_APF_2_BOTTOM &lt;= CFG_DRV_ACT_RANGES_APF_2_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_APF_2_BOTTOM</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_APF_2_BOTTOM HCF_CFG_APF_2_BOTTOM</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_APF_BOTTOM</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><hr /></td><td class="code"><div class="highlight"><pre><span class="cp">#if defined HCF_CFG_STA_1_TOP || defined HCF_CFG_STA_1_BOTTOM</span>
<span class="nl">err:</span> <span class="n">STA_1</span> <span class="n">not</span> <span class="n">supported</span> <span class="k">for</span> <span class="n">H</span><span class="o">-</span><span class="n">I</span><span class="p">;</span>   <span class="c1">// Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_STA_1_TOP / HCF_CFG_STA_1_BOTTOM</span>

<span class="cp">#ifdef HCF_CFG_STA_2_TOP                                    </span><span class="c1">// Top Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#if HCF_CFG_STA_2_TOP == 0 ||						\</span>
<span class="cp">	CFG_DRV_ACT_RANGES_STA_2_BOTTOM &lt;= HCF_CFG_STA_2_TOP &amp;&amp; HCF_CFG_STA_2_TOP &lt;= CFG_DRV_ACT_RANGES_STA_2_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_STA_2_TOP</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_2_TOP    HCF_CFG_STA_2_TOP</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_STA_TOP</span>

<span class="cp">#ifdef HCF_CFG_STA_2_BOTTOM                                 </span><span class="c1">// Bottom Compatibility for Station Firmware - driver I/F</span>
<span class="cp">#if CFG_DRV_ACT_RANGES_STA_2_BOTTOM &lt;= HCF_CFG_STA_2_BOTTOM &amp;&amp; HCF_CFG_STA_2_BOTTOM &lt;= CFG_DRV_ACT_RANGES_STA_2_TOP</span>
<span class="cp">#undef CFG_DRV_ACT_RANGES_STA_2_BOTTOM</span>
<span class="cp">#define CFG_DRV_ACT_RANGES_STA_2_BOTTOM HCF_CFG_STA_2_BOTTOM</span>
<span class="cp">#else</span>
<span class="nl">err:</span> <span class="p">;</span>
<span class="cp">#endif</span>
<span class="cp">#endif </span><span class="c1">// HCF_CFG_STA_BOTTOM</span>


<span class="cm">/************************************************************************************************/</span>
<span class="cm">/**************************************  MACROS  ************************************************/</span>
<span class="cm">/************************************************************************************************/</span>

<span class="cp">#ifdef HCF_SLEEP</span>
<span class="cp">#define MSF_WAIT(x) do {						\</span>
<span class="cp">		PROT_CNT_INI;						\</span>
<span class="cp">		HCF_WAIT_WHILE((IPW(HREG_IO) &amp; HREG_IO_WOKEN_UP) == 0); \</span>
<span class="cp">		HCFASSERT( prot_cnt, IPW( HREG_IO ) );			\</span>
<span class="cp">	} while (0)</span>
<span class="cp">#else</span>
<span class="cp">#define MSF_WAIT(x) do { } while (0)</span>
<span class="cp">#endif </span><span class="c1">// HCF_SLEEP</span>

<span class="cp">#define LOF(x)          (sizeof(x)/sizeof(hcf_16)-1)</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><p>resolve problems on for some 16 bits compilers to create 32 bit values</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MERGE_2( hw, lw )   ( ( ((hcf_32)(hw)) &lt;&lt; 16 ) | ((hcf_16)(lw)) )</span>

<span class="cp">#if ! defined HCF_STATIC</span>
<span class="cp">#define       HCF_STATIC    static</span>
<span class="cp">#endif </span><span class="c1">//     HCF_STATIC</span>

<span class="cp">#if ( (HCF_TYPE) &amp; HCF_TYPE_HII5 ) == 0</span>
<span class="cp">#define DAWA_ACK( mask) do {						\</span>
<span class="cp">		OPW( HREG_EV_ACK, mask | HREG_EV_ACK_REG_READY );	\</span>
<span class="cp">		OPW( HREG_EV_ACK, (mask &amp; ~HREG_EV_ALLOC) | HREG_EV_ACK_REG_READY ); \</span>
<span class="cp">	} while (0)</span>
<span class="cp">#define DAWA_ZERO_FID(reg) OPW( reg, 0 )</span>
<span class="cp">#else</span>
<span class="cp">#define DAWA_ACK( mask)   OPW( HREG_EV_ACK, mask )</span>
<span class="cp">#define DAWA_ZERO_FID(reg) do { } while (0)</span>
<span class="cp">#endif </span><span class="c1">// HCF_TYPE_HII5</span>

<span class="cp">#if (HCF_TYPE) &amp; HCF_TYPE_WPA</span>
<span class="cp">#define CALC_RX_MIC( p, len ) calc_mic_rx_frag( ifbp, p, len )</span>
<span class="cp">#define CALC_TX_MIC( p, len ) calc_mic_tx_frag( ifbp, p, len )</span>
<span class="cp">#else</span>
<span class="cp">#define CALC_RX_MIC( p, len )</span>
<span class="cp">#define CALC_TX_MIC( p, len )</span>
<span class="cp">#define MIC_RX_RTN( mic, dw )</span>
<span class="cp">#define MIC_TX_RTN( mic, dw )</span>
<span class="cp">#endif </span><span class="c1">// HCF_TYPE_WPA</span>

<span class="cp">#if HCF_TALLIES &amp; HCF_TALLIES_HCF       </span><span class="c1">//HCF tally support</span>
<span class="cp">#define IF_TALLY(x) do { x; } while (0)</span>
<span class="cp">#else</span>
<span class="cp">#define IF_TALLY(x) do { } while (0)</span>
<span class="cp">#endif </span><span class="c1">// HCF_TALLIES_HCF</span>


<span class="cp">#if HCF_DMA</span>
<span class="cp">#define IF_DMA(x)           do { x; } while(0)</span>
<span class="cp">#define IF_NOT_DMA(x)       do { } while(0)</span>
<span class="cp">#define IF_USE_DMA(x)       if (   ifbp-&gt;IFB_CntlOpt &amp; USE_DMA  ) { x; }</span>
<span class="cp">#define IF_NOT_USE_DMA(x)   if ( !(ifbp-&gt;IFB_CntlOpt &amp; USE_DMA) ) { x; }</span>
<span class="cp">#else</span>
<span class="cp">#define IF_DMA(x)           do { } while(0)</span>
<span class="cp">#define IF_NOT_DMA(x)       do { x; } while(0)</span>
<span class="cp">#define IF_USE_DMA(x)       do { } while(0)</span>
<span class="cp">#define IF_NOT_USE_DMA(x)   do { x; } while(0)</span>
<span class="cp">#endif </span><span class="c1">// HCF_DMA</span>


<span class="cp">#define IPW(x) ((hcf_16)IN_PORT_WORD( ifbp-&gt;IFB_IOBase + (x) ) )</span>
<span class="cp">#define OPW(x, y) OUT_PORT_WORD( ifbp-&gt;IFB_IOBase + (x), y )</span>
<span class="cm">/* make sure the implementation of HCF_WAIT_WHILE is such that there may be multiple HCF_WAIT_WHILE calls</span>
<span class="cm"> * in a row and that when one fails all subsequent fail immediately without reinitialization of prot_cnt</span>
<span class="cm"> */</span>
<span class="cp">#if HCF_PROT_TIME == 0</span>
<span class="cp">#define PROT_CNT_INI    do { } while(0)</span>
<span class="cp">#define IF_PROT_TIME(x) do { } while(0)</span>
<span class="cp">#if defined HCF_YIELD</span>
<span class="cp">#define HCF_WAIT_WHILE( x ) do { } while( (x) &amp;&amp; (HCF_YIELD) )</span>
<span class="cp">#else</span>
<span class="cp">#define HCF_WAIT_WHILE( x ) do { } while ( x )</span>
<span class="cp">#endif </span><span class="c1">// HCF_YIELD</span>
<span class="cp">#else</span>
<span class="cp">#define PROT_CNT_INI    hcf_32 prot_cnt = ifbp-&gt;IFB_TickIni</span>
<span class="cp">#define IF_PROT_TIME(x) do { x; } while(0)</span>
<span class="cp">#if defined HCF_YIELD</span>
<span class="cp">#define HCF_WAIT_WHILE( x ) while ( prot_cnt &amp;&amp; (x) &amp;&amp; (HCF_YIELD) ) prot_cnt--;</span>
<span class="cp">#else</span>
<span class="cp">#include &lt;linux/delay.h&gt;</span>
<span class="cp">#define HCF_WAIT_WHILE( x ) while ( prot_cnt &amp;&amp; (x) ) { udelay(2); prot_cnt--; }</span>
<span class="cp">#endif </span><span class="c1">// HCF_YIELD</span>
<span class="cp">#endif </span><span class="c1">// HCF_PROT_TIME</span>

<span class="cp">#if defined HCF_EX_INT</span></pre></div></td></tr>


<tr id="section-39"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div><h1>if HCF<em>EX</em>INT &amp; ~( HCF<em>EX</em>INT<em>TX</em>EX | HCF<em>EX</em>INT<em>TX</em>OK | HCF<em>EX</em>INT_TICK )</h1></td><td class="code"><div class="highlight"><pre><span class="p">;</span><span class="o">?</span> <span class="n">out</span> <span class="n">dated</span> <span class="n">checking</span>
<span class="nl">err:</span> <span class="n">you</span> <span class="n">used</span> <span class="n">an</span> <span class="n">invalid</span> <span class="n">bitmask</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-40"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div><h1>endif // HCF<em>EX</em>INT validation</h1>

<h1>else</h1>

<h1>define HCF<em>EX</em>INT 0x000</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#endif </span><span class="c1">// HCF_EX_INT</span>

<span class="cp">#if 0</span><span class="c"> //get compiler going</span>
<span class="cp">#if HCF_EX_INT_TICK != HREG_EV_TICK</span>
<span class="c">;? out dated checking</span>
<span class="c">err: someone redefined these macros while the implemenation assumes they are equal;</span>
<span class="cp">#endif</span>
<span class="cp">#if HCF_EX_INT_TX_OK != HFS_TX_CNTL_TX_OK || HFS_TX_CNTL_TX_OK != HREG_EV_TX_OK</span>
<span class="c">;? out dated checking</span>
<span class="c">err: someone redefined these macros while the implemenation assumes they are equal;</span>
<span class="cp">#endif</span>
<span class="cp">#if HCF_EX_INT_TX_EX != HFS_TX_CNTL_TX_EX || HFS_TX_CNTL_TX_EX != HREG_EV_TX_EX</span>
<span class="c">;? out dated checking</span>
<span class="c">err: someone redefined these macros while the implemenation assumes they are equal;</span>
<span class="cp">#endif</span>
<span class="cp">#endif // 0 get compiler going</span>


<span class="cm">/* The assert in HCFLOGENTRY checks against re-entrancy. Re-entrancy could be caused by MSF logic at</span>
<span class="cm"> * task-level calling hcf_functions without shielding with HCF_ACT_ON/_OFF. When an interrupt occurs,</span>
<span class="cm"> * the ISR could (either directly or indirectly) cause re-entering of the interrupted HCF-routine.</span>
<span class="cm"> *</span>
<span class="cm"> * The &quot;(ifbp-&gt;IFB_AssertWhere = where)&quot; test in HCFLOGENTRY services ALSO as a statement to get around:</span>
<span class="cm"> * #pragma warning: conditional expression is constant</span>
<span class="cm"> * on the if-statement</span>
<span class="cm"> */</span>
<span class="cp">#if HCF_ASSERT</span>
<span class="cp">#define HCFASSERT(x,q) do { if (!(x)) {mdd_assert(ifbp, __LINE__, q );} } while(0)</span>
<span class="cp">#define MMDASSERT(x,q) {if (!(x)) {mdd_assert( assert_ifbp, __LINE__ + FILE_NAME_OFFSET, q );}}</span>

<span class="cp">#define HCFLOGENTRY( where, what ) do {					\</span>
<span class="cp">		if ( (ifbp-&gt;IFB_AssertWhere = where) &lt;= 15 ) {		\</span>
<span class="cp">			HCFASSERT( (ifbp-&gt;IFB_AssertTrace &amp; 1&lt;&lt;((where)&amp;0xF)) == 0, ifbp-&gt;IFB_AssertTrace ); \</span>
<span class="cp">			ifbp-&gt;IFB_AssertTrace |= 1&lt;&lt;((where)&amp;0xF);	\</span>
<span class="cp">		}							\</span>
<span class="cp">		HCFTRACE(ifbp, where );					\</span>
<span class="cp">		HCFTRACEVALUE(ifbp, what );				\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#define HCFLOGEXIT( where ) do {					\</span>
<span class="cp">		if ( (ifbp-&gt;IFB_AssertWhere = where) &lt;= 15 ) {		\</span>
<span class="cp">			ifbp-&gt;IFB_AssertTrace &amp;= ~(1&lt;&lt;((where)&amp;0xF));	\</span>
<span class="cp">		}							\</span>
<span class="cp">		HCFTRACE(ifbp, (where)|HCF_TRACE_EXIT );		\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#else </span><span class="c1">// HCF_ASSERT</span>
<span class="cp">#define HCFASSERT( x, q ) do { } while(0)</span>
<span class="cp">#define MMDASSERT( x, q )</span>
<span class="cp">#define HCFLOGENTRY( where, what ) do { } while(0)</span>
<span class="cp">#define HCFLOGEXIT( where )        do { } while(0)</span>
<span class="cp">#endif </span><span class="c1">// HCF_ASSERT</span>

<span class="cp">#if HCF_INT_ON</span>
<span class="cm">/* ;? HCFASSERT_INT</span>
<span class="cm"> * #if (HCF_SLEEP) &amp; HCF_DDS</span>
<span class="cm"> * #define HCFASSERT_INT HCFASSERT( ifbp-&gt;IFB_IntOffCnt != 0xFFFF &amp;&amp; ifbp-&gt;IFB_IntOffCnt != 0xFFFE, \</span>
<span class="cm"> *                               ifbp-&gt;IFB_IntOffCnt )</span>
<span class="cm"> * #else</span>
<span class="cm"> */</span>
<span class="cp">#define HCFASSERT_INT HCFASSERT( ifbp-&gt;IFB_IntOffCnt != 0xFFFF, ifbp-&gt;IFB_IntOffCnt )</span></pre></div></td></tr>


<tr id="section-41"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-41">&#182;</a></div><h1>endif // HCF_DDS</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#else</span>
<span class="cp">#define HCFASSERT_INT</span>
<span class="cp">#endif </span><span class="c1">// HCF_INT_ON</span>


<span class="cp">#if defined HCF_TRACE</span>
<span class="cp">#define HCFTRACE(ifbp, where )     do {OPW( HREG_SW_1, where );} while(0)</span></pre></div></td></tr>


<tr id="section-42"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-42">&#182;</a></div><h1>define HCFTRACE(ifbp, where )       {HCFASSERT( DO_ASSERT, where );}</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define HCFTRACEVALUE(ifbp, what ) do {OPW( HREG_SW_2, what  );} while (0)</span></pre></div></td></tr>


<tr id="section-43"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-43">&#182;</a></div><h1>define HCFTRACEVALUE(ifbp, what ) {HCFASSERT( DO_ASSERT, what  );}</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#else</span>
<span class="cp">#define HCFTRACE(ifbp, where )     do { } while(0)</span>
<span class="cp">#define HCFTRACEVALUE(ifbp, what ) do { } while(0)</span>
<span class="cp">#endif </span><span class="c1">// HCF_TRACE</span>


<span class="cp">#if HCF_BIG_ENDIAN</span>
<span class="cp">#define BE_PAR(x)               ,x</span>
<span class="cp">#else</span>
<span class="cp">#define BE_PAR(x)</span>
<span class="cp">#endif </span><span class="c1">// HCF_BIG_ENDIAN</span>

<span class="cm">/************************************************************************************************/</span>
<span class="cm">/**************************************  END OF MACROS  *****************************************/</span>
<span class="cm">/************************************************************************************************/</span>

<span class="cm">/************************************************************************************************/</span>
<span class="cm">/***************************************  PROTOTYPES  *******************************************/</span>
<span class="cm">/************************************************************************************************/</span>

<span class="cp">#if HCF_ASSERT</span>
<span class="k">extern</span> <span class="n">IFBP</span> <span class="n">BASED</span> <span class="n">assert_ifbp</span><span class="p">;</span>          <span class="c1">//to make asserts easily work under MMD and DHF</span>
<span class="n">EXTERN_C</span> <span class="kt">void</span>        <span class="n">mdd_assert</span>         <span class="p">(</span><span class="n">IFBP</span> <span class="n">ifbp</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">line_number</span><span class="p">,</span> <span class="n">hcf_32</span> <span class="n">q</span> <span class="p">);</span>
<span class="cp">#endif </span><span class="c1">//HCF_ASSERT</span>

<span class="cp">#if ! ( (HCF_IO) &amp; HCF_IO_32BITS )              </span><span class="c1">// defined 16 bits only</span>
<span class="cp">#undef OUT_PORT_STRING_32</span>
<span class="cp">#undef IN_PORT_STRING_32</span>
<span class="cp">#endif </span><span class="c1">// HCF_IO</span>
<span class="cp">#endif  </span><span class="c1">//HCFDEFC_H</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
