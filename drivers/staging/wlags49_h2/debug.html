<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › wlags49_h2 › debug.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>debug.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*******************************************************************************</span>
<span class="cm"> * Agere Systems Inc.</span>
<span class="cm"> * Wireless device driver for Linux (wlags49).</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 1998-2003 Agere Systems Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *   http://www.agere.com</span>
<span class="cm"> *</span>
<span class="cm"> * Initially developed by TriplePoint, Inc.</span>
<span class="cm"> *   http://www.triplepoint.com</span>
<span class="cm"> *</span>
<span class="cm"> *------------------------------------------------------------------------------</span>
<span class="cm"> *</span>
<span class="cm"> *   This file contains definitions and macros for debugging.</span>
<span class="cm"> *</span>
<span class="cm"> *------------------------------------------------------------------------------</span>
<span class="cm"> *</span>
<span class="cm"> * SOFTWARE LICENSE</span>
<span class="cm"> *</span>
<span class="cm"> * This software is provided subject to the following terms and conditions,</span>
<span class="cm"> * which you should read carefully before using the software.  Using this</span>
<span class="cm"> * software indicates your acceptance of these terms and conditions.  If you do</span>
<span class="cm"> * not agree with these terms and conditions, do not use the software.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2003 Agere Systems Inc.</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source or binary forms, with or without</span>
<span class="cm"> * modifications, are permitted provided that the following conditions are met:</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions of source code must retain the above copyright notice, this</span>
<span class="cm"> *    list of conditions and the following Disclaimer as comments in the code as</span>
<span class="cm"> *    well as in the documentation and/or other materials provided with the</span>
<span class="cm"> *    distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Redistributions in binary form must reproduce the above copyright notice,</span>
<span class="cm"> *    this list of conditions and the following Disclaimer in the documentation</span>
<span class="cm"> *    and/or other materials provided with the distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * . Neither the name of Agere Systems Inc. nor the names of the contributors</span>
<span class="cm"> *    may be used to endorse or promote products derived from this software</span>
<span class="cm"> *    without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Disclaimer</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED AS IS AND ANY EXPRESS OR IMPLIED WARRANTIES,</span>
<span class="cm"> * INCLUDING, BUT NOT LIMITED TO, INFRINGEMENT AND THE IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  ANY</span>
<span class="cm"> * USE, MODIFICATION OR DISTRIBUTION OF THIS SOFTWARE IS SOLELY AT THE USERS OWN</span>
<span class="cm"> * RISK. IN NO EVENT SHALL AGERE SYSTEMS INC. OR CONTRIBUTORS BE LIABLE FOR ANY</span>
<span class="cm"> * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="cm"> * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="cm"> * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="cm"> * ON ANY THEORY OF LIABILITY, INCLUDING, BUT NOT LIMITED TO, CONTRACT, STRICT</span>
<span class="cm"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT</span>
<span class="cm"> * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH</span>
<span class="cm"> * DAMAGE.</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>

<span class="cp">#ifndef _DEBUG_H</span>
<span class="cp">#define _DEBUG_H</span>




<span class="cm">/* Turn on debugging here if not done with a preprocessor define */</span>
<span class="cp">#ifndef DBG</span>
<span class="cp">#define DBG 0</span>
<span class="cp">#else</span>
<span class="cp">#undef	DBG</span>
<span class="cp">#define DBG 1</span>
<span class="cp">#endif </span><span class="cm">/* DBG */</span><span class="cp"></span>




<span class="cp">#if DBG</span>
<span class="cm">/****************************************************************************/</span>

<span class="cm">/* Set the level of debugging if not done with a preprocessor define. See</span>
<span class="cm">   wl_main.c, init_module() for how the debug level translates into the</span>
<span class="cm">   the types of messages displayed */</span>
<span class="cp">#ifndef DBG_LVL</span>
<span class="cp">#define DBG_LVL 5			</span><span class="cm">/* yields nothing via init_module,</span>
<span class="cm">							   original value of 5 yields DBG_TRACE_ON and DBG_VERBOSE_ON */</span><span class="cp"></span>
<span class="cp">#endif  </span><span class="cm">/*  DBG_LVL*/</span><span class="cp"></span>


<span class="cp">#define DBG_ERROR_ON        0x00000001L</span>
<span class="cp">#define DBG_WARNING_ON      0x00000002L</span>
<span class="cp">#define DBG_NOTICE_ON       0x00000004L</span>
<span class="cp">#define DBG_TRACE_ON        0x00000008L</span>
<span class="cp">#define DBG_VERBOSE_ON      0x00000010L</span>
<span class="cp">#define DBG_PARAM_ON        0x00000020L</span>
<span class="cp">#define DBG_BREAK_ON        0x00000040L</span>
<span class="cp">#define DBG_RX_ON           0x00000100L</span>
<span class="cp">#define DBG_TX_ON           0x00000200L</span>
<span class="cp">#define DBG_DS_ON           0x00000400L</span>

<span class="cp">#define DBG_DEFAULTS        (DBG_ERROR_ON | DBG_WARNING_ON | DBG_BREAK_ON)</span>

<span class="cp">#define DBG_FLAGS(A)        ((A)-&gt;DebugFlag)</span>
<span class="cp">#define DBG_NAME(A)         ((A)-&gt;dbgName)</span>
<span class="cp">#define DBG_LEVEL(A)        ((A)-&gt;dbgLevel)</span>


<span class="cp">#ifndef PRINTK</span>
<span class="cp">#   define PRINTK(S...)     printk(S)</span>
<span class="cp">#endif </span><span class="cm">/* PRINTK */</span><span class="cp"></span>


<span class="cp">#ifndef DBG_PRINT</span>
<span class="cp">#   define DBG_PRINT(S...)  PRINTK(KERN_DEBUG S)</span>
<span class="cp">#endif </span><span class="cm">/* DBG_PRINT */</span><span class="cp"></span>


<span class="cp">#ifndef DBG_PRINTC</span>
<span class="cp">#   define DBG_PRINTC(S...) PRINTK(S)</span>
<span class="cp">#endif </span><span class="cm">/* DBG_PRINTC */</span><span class="cp"></span>


<span class="cp">#ifndef DBG_TRAP</span>
<span class="cp">#   define DBG_TRAP         {}</span>
<span class="cp">#endif </span><span class="cm">/* DBG_TRAP */</span><span class="cp"></span>


<span class="cp">#define _ENTER_STR          &quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>
<span class="cp">#define _LEAVE_STR          &quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span>


<span class="cp">#define _DBG_ENTER(A)						\</span>
<span class="cp">	DBG_PRINT(&quot;%s:%.*s:%s\n&quot;, DBG_NAME(A), ++DBG_LEVEL(A),	\</span>
<span class="cp">		  _ENTER_STR, __func__)</span>
<span class="cp">#define _DBG_LEAVE(A)						\</span>
<span class="cp">	DBG_PRINT(&quot;%s:%.*s:%s\n&quot;, DBG_NAME(A), DBG_LEVEL(A)--,	\</span>
<span class="cp">		  _LEAVE_STR, __func__)</span>


<span class="cp">#define DBG_FUNC(F)</span>

<span class="cp">#define DBG_ENTER(A)        {if (DBG_FLAGS(A) &amp; DBG_TRACE_ON) \</span>
<span class="cp">				_DBG_ENTER(A); }</span>

<span class="cp">#define DBG_LEAVE(A)        {if (DBG_FLAGS(A) &amp; DBG_TRACE_ON) \</span>
<span class="cp">				 _DBG_LEAVE(A); }</span>

<span class="cp">#define DBG_PARAM(A, N, F, S...)   {if (DBG_FLAGS(A) &amp; DBG_PARAM_ON) \</span>
<span class="cp">				DBG_PRINT(&quot;  %s -- &quot;F&quot;\n&quot;, N, S); }</span>


<span class="cp">#define DBG_ERROR(A, S...) do {						\</span>
<span class="cp">		if (DBG_FLAGS(A) &amp; DBG_ERROR_ON) {			\</span>
<span class="cp">			DBG_PRINT(&quot;%s:ERROR:%s &quot;, DBG_NAME(A), __func__); \</span>
<span class="cp">			DBG_PRINTC(S);					\</span>
<span class="cp">			DBG_TRAP;					\</span>
<span class="cp">		} } while (0)</span>


<span class="cp">#define DBG_WARNING(A, S...) do {					\</span>
<span class="cp">		if (DBG_FLAGS(A) &amp; DBG_WARNING_ON) {			\</span>
<span class="cp">			DBG_PRINT(&quot;%s:WARNING:%s &quot;, DBG_NAME(A), __func__); \</span>
<span class="cp">			DBG_PRINTC(S);					\</span>
<span class="cp">		} } while (0)</span>


<span class="cp">#define DBG_NOTICE(A, S...)  do {					\</span>
<span class="cp">		if (DBG_FLAGS(A) &amp; DBG_NOTICE_ON) {			\</span>
<span class="cp">			DBG_PRINT(&quot;%s:NOTICE:%s &quot;, DBG_NAME(A), __func__); \</span>
<span class="cp">			DBG_PRINTC(S);					\</span>
<span class="cp">		} } while (0)</span>


<span class="cp">#define DBG_TRACE(A, S...)   do { \</span>
<span class="cp">		if (DBG_FLAGS(A) &amp; DBG_TRACE_ON) {			\</span>
<span class="cp">			DBG_PRINT(&quot;%s:%s &quot;, DBG_NAME(A), __func__);	\</span>
<span class="cp">			DBG_PRINTC(S);					\</span>
<span class="cp">		} } while (0)</span>


<span class="cp">#define DBG_RX(A, S...)      {if (DBG_FLAGS(A) &amp; DBG_RX_ON) {\</span>
<span class="cp">				DBG_PRINT(S); } }</span>


<span class="cp">#define DBG_TX(A, S...)      {if (DBG_FLAGS(A) &amp; DBG_TX_ON) {\</span>
<span class="cp">				DBG_PRINT(S); } }</span>

<span class="cp">#define DBG_DS(A, S...)      {if (DBG_FLAGS(A) &amp; DBG_DS_ON) {\</span>
<span class="cp">				DBG_PRINT(S); } }</span>


<span class="cp">#define DBG_ASSERT(C) do { \</span>
<span class="cp">		if (!(C)) {						\</span>
<span class="cp">			DBG_PRINT(&quot;ASSERT(%s) -- %s#%d (%s)\n&quot;,		\</span>
<span class="cp">				  #C, __FILE__, __LINE__, __func__);	\</span>
<span class="cp">			DBG_TRAP;					\</span>
<span class="cp">		} } while (0)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="kt">char</span>           <span class="o">*</span><span class="n">dbgName</span><span class="p">;</span>
    <span class="kt">int</span>             <span class="n">dbgLevel</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span>   <span class="n">DebugFlag</span><span class="p">;</span>
<span class="p">}</span> <span class="n">dbg_info_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cp">#else </span><span class="cm">/* DBG */</span><span class="cp"></span>
<span class="cm">/****************************************************************************/</span>

<span class="cp">#define DBG_DEFN</span>
<span class="cp">#define DBG_TRAP</span>
<span class="cp">#define DBG_FUNC(F)</span>
<span class="cp">#define DBG_PRINT(S...)</span>
<span class="cp">#define DBG_ENTER(A)</span>
<span class="cp">#define DBG_LEAVE(A)</span>
<span class="cp">#define DBG_PARAM(A, N, F, S...)</span>
<span class="cp">#define DBG_ERROR(A, S...)</span>
<span class="cp">#define DBG_WARNING(A, S...)</span>
<span class="cp">#define DBG_NOTICE(A, S...)</span>
<span class="cp">#define DBG_TRACE(A, S...)</span>
<span class="cp">#define DBG_RX(A, S...)</span>
<span class="cp">#define DBG_TX(A, S...)</span>
<span class="cp">#define DBG_DS(A, S...)</span>
<span class="cp">#define DBG_ASSERT(C)</span>

<span class="cp">#endif </span><span class="cm">/* DBG */</span><span class="cp"></span>
<span class="cm">/****************************************************************************/</span>




<span class="cp">#endif </span><span class="cm">/* _DEBUG_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
