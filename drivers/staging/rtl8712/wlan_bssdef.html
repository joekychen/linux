<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › rtl8712 › wlan_bssdef.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>wlan_bssdef.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright(c) 2007 - 2010 Realtek Corporation. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms of version 2 of the GNU General Public License as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful, but WITHOUT</span>
<span class="cm"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for</span>
<span class="cm"> * more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along with</span>
<span class="cm"> * this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 51 Franklin Street, Fifth Floor, Boston, MA 02110, USA</span>
<span class="cm"> *</span>
<span class="cm"> * Modifications for inclusion into the Linux staging tree are</span>
<span class="cm"> * Copyright(c) 2010 Larry Finger. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Contact information:</span>
<span class="cm"> * WLAN FAE &lt;wlanfae@realtek.com&gt;</span>
<span class="cm"> * Larry Finger &lt;Larry.Finger@lwfinger.net&gt;</span>
<span class="cm"> *</span>
<span class="cm"> ******************************************************************************/</span>
<span class="cp">#ifndef __WLAN_BSSDEF_H__</span>
<span class="cp">#define __WLAN_BSSDEF_H__</span>

<span class="cp">#define MAX_IE_SZ	768</span>

<span class="cp">#define NDIS_802_11_LENGTH_SSID         32</span>
<span class="cp">#define NDIS_802_11_LENGTH_RATES        8</span>
<span class="cp">#define NDIS_802_11_LENGTH_RATES_EX     16</span>

<span class="cm">/* Set of 8 data rates*/</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">NDIS_802_11_RATES</span><span class="p">[</span><span class="n">NDIS_802_11_LENGTH_RATES</span><span class="p">];</span>
<span class="cm">/* Set of 16 data rates */</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span>   <span class="n">NDIS_802_11_RATES_EX</span><span class="p">[</span><span class="n">NDIS_802_11_LENGTH_RATES_EX</span><span class="p">];</span>

<span class="k">struct</span> <span class="n">ndis_802_11_ssid</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">SsidLength</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">Ssid</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">NDIS_802_11_NETWORK_TYPE</span> <span class="p">{</span>
	<span class="n">Ndis802_11FH</span><span class="p">,</span>
	<span class="n">Ndis802_11DS</span><span class="p">,</span>
	<span class="n">Ndis802_11OFDM5</span><span class="p">,</span>
	<span class="n">Ndis802_11OFDM24</span><span class="p">,</span>
	<span class="n">Ndis802_11NetworkTypeMax</span> <span class="cm">/* not a real type, defined as an upper bound*/</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">NDIS_802_11_CONFIGURATION_FH</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>             <span class="cm">/* Length of structure */</span>
	<span class="n">u32</span> <span class="n">HopPattern</span><span class="p">;</span>         <span class="cm">/* As defined by 802.11, MSB set */</span>
	<span class="n">u32</span> <span class="n">HopSet</span><span class="p">;</span>             <span class="cm">/* to one if non-802.11 */</span>
	<span class="n">u32</span> <span class="n">DwellTime</span><span class="p">;</span>          <span class="cm">/* units are Kusec */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm">	FW will only save the channel number in DSConfig.</span>
<span class="cm">	ODI Handler will convert the channel number to freq. number.</span>
<span class="cm">*/</span>
<span class="k">struct</span> <span class="n">NDIS_802_11_CONFIGURATION</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>             <span class="cm">/* Length of structure */</span>
	<span class="n">u32</span> <span class="n">BeaconPeriod</span><span class="p">;</span>       <span class="cm">/* units are Kusec */</span>
	<span class="n">u32</span> <span class="n">ATIMWindow</span><span class="p">;</span>         <span class="cm">/* units are Kusec */</span>
	<span class="n">u32</span> <span class="n">DSConfig</span><span class="p">;</span>           <span class="cm">/* Frequency, units are kHz */</span>
	<span class="k">struct</span> <span class="n">NDIS_802_11_CONFIGURATION_FH</span> <span class="n">FHConfig</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">NDIS_802_11_NETWORK_INFRASTRUCTURE</span> <span class="p">{</span>
	<span class="n">Ndis802_11IBSS</span><span class="p">,</span>
	<span class="n">Ndis802_11Infrastructure</span><span class="p">,</span>
	<span class="n">Ndis802_11AutoUnknown</span><span class="p">,</span>
	<span class="n">Ndis802_11InfrastructureMax</span><span class="p">,</span> <span class="cm">/*Not a real value,defined as upper bound*/</span>
	<span class="n">Ndis802_11APMode</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">NDIS_802_11_FIXED_IEs</span> <span class="p">{</span>
	<span class="n">u8</span>  <span class="n">Timestamp</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">BeaconInterval</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">Capabilities</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Length is the 4 bytes multiples of the sume of</span>
<span class="cm"> * 6 * sizeof (unsigned char) + 2 + sizeof (ndis_802_11_ssid) + sizeof (u32)</span>
<span class="cm"> * + sizeof (s32) + sizeof (NDIS_802_11_NETWORK_TYPE)</span>
<span class="cm"> * + sizeof (struct NDIS_802_11_CONFIGURATION)</span>
<span class="cm"> * + sizeof (NDIS_802_11_RATES_EX) + IELength</span>

<span class="cm"> * Except the IELength, all other fields are fixed length. Therefore, we can</span>
<span class="cm"> * define a macro to present the partial sum.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">ndis_wlan_bssid_ex</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">MacAddress</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">u8</span>  <span class="n">Reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">ndis_802_11_ssid</span>  <span class="n">Ssid</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">Privacy</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">Rssi</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">NDIS_802_11_NETWORK_TYPE</span>  <span class="n">NetworkTypeInUse</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">NDIS_802_11_CONFIGURATION</span>  <span class="n">Configuration</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">NDIS_802_11_NETWORK_INFRASTRUCTURE</span>  <span class="n">InfrastructureMode</span><span class="p">;</span>
	<span class="n">NDIS_802_11_RATES_EX</span>  <span class="n">SupportedRates</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">IELength</span><span class="p">;</span>
	<span class="cm">/*(timestamp, beacon interval, and capability information) */</span>
	<span class="n">u8</span> <span class="n">IEs</span><span class="p">[</span><span class="n">MAX_IE_SZ</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">NDIS_802_11_AUTHENTICATION_MODE</span> <span class="p">{</span>
	<span class="n">Ndis802_11AuthModeOpen</span><span class="p">,</span>
	<span class="n">Ndis802_11AuthModeShared</span><span class="p">,</span>
	<span class="n">Ndis802_11AuthModeAutoSwitch</span><span class="p">,</span>
	<span class="n">Ndis802_11AuthModeWPA</span><span class="p">,</span>
	<span class="n">Ndis802_11AuthModeWPAPSK</span><span class="p">,</span>
	<span class="n">Ndis802_11AuthModeWPANone</span><span class="p">,</span>
	<span class="n">Ndis802_11AuthModeMax</span>      <span class="cm">/* Not a real mode, defined as upper bound */</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="p">{</span>
	<span class="n">Ndis802_11WEPEnabled</span><span class="p">,</span>
	<span class="n">Ndis802_11Encryption1Enabled</span> <span class="o">=</span> <span class="n">Ndis802_11WEPEnabled</span><span class="p">,</span>
	<span class="n">Ndis802_11WEPDisabled</span><span class="p">,</span>
	<span class="n">Ndis802_11EncryptionDisabled</span> <span class="o">=</span> <span class="n">Ndis802_11WEPDisabled</span><span class="p">,</span>
	<span class="n">Ndis802_11WEPKeyAbsent</span><span class="p">,</span>
	<span class="n">Ndis802_11Encryption1KeyAbsent</span> <span class="o">=</span> <span class="n">Ndis802_11WEPKeyAbsent</span><span class="p">,</span>
	<span class="n">Ndis802_11WEPNotSupported</span><span class="p">,</span>
	<span class="n">Ndis802_11EncryptionNotSupported</span> <span class="o">=</span> <span class="n">Ndis802_11WEPNotSupported</span><span class="p">,</span>
	<span class="n">Ndis802_11Encryption2Enabled</span><span class="p">,</span>
	<span class="n">Ndis802_11Encryption2KeyAbsent</span><span class="p">,</span>
	<span class="n">Ndis802_11Encryption3Enabled</span><span class="p">,</span>
	<span class="n">Ndis802_11Encryption3KeyAbsent</span>
<span class="p">};</span>

<span class="cp">#define NDIS_802_11_AI_REQFI_CAPABILITIES      1</span>
<span class="cp">#define NDIS_802_11_AI_REQFI_LISTENINTERVAL    2</span>
<span class="cp">#define NDIS_802_11_AI_REQFI_CURRENTAPADDRESS  4</span>

<span class="cp">#define NDIS_802_11_AI_RESFI_CAPABILITIES      1</span>
<span class="cp">#define NDIS_802_11_AI_RESFI_STATUSCODE        2</span>
<span class="cp">#define NDIS_802_11_AI_RESFI_ASSOCIATIONID     4</span>

<span class="k">struct</span> <span class="n">NDIS_802_11_AI_REQFI</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">Capabilities</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">ListenInterval</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">CurrentAPAddress</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">NDIS_802_11_AI_RESFI</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">Capabilities</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">StatusCode</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">AssociationId</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">NDIS_802_11_ASSOCIATION_INFORMATION</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">AvailableRequestFixedIEs</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">NDIS_802_11_AI_REQFI</span> <span class="n">RequestFixedIEs</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">RequestIELength</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">OffsetRequestIEs</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">AvailableResponseFixedIEs</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">NDIS_802_11_AI_RESFI</span> <span class="n">ResponseFixedIEs</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ResponseIELength</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">OffsetResponseIEs</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Key mapping keys require a BSSID*/</span>
<span class="k">struct</span> <span class="n">NDIS_802_11_KEY</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>			<span class="cm">/* Length of this structure */</span>
	<span class="n">u32</span> <span class="n">KeyIndex</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">KeyLength</span><span class="p">;</span>			<span class="cm">/* length of key in bytes */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">BSSID</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">KeyRSC</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">KeyMaterial</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>		<span class="cm">/* variable length */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">NDIS_802_11_REMOVE_KEY</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>			<span class="cm">/* Length of this structure */</span>
	<span class="n">u32</span> <span class="n">KeyIndex</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">BSSID</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">NDIS_802_11_WEP</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>		  <span class="cm">/* Length of this structure */</span>
	<span class="n">u32</span> <span class="n">KeyIndex</span><span class="p">;</span>		  <span class="cm">/* 0 is the per-client key,</span>
<span class="cm">				   * 1-N are the global keys */</span>
	<span class="n">u32</span> <span class="n">KeyLength</span><span class="p">;</span>		  <span class="cm">/* length of key in bytes */</span>
	<span class="n">u8</span>  <span class="n">KeyMaterial</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>      <span class="cm">/* variable length depending on above field */</span>
<span class="p">};</span>

<span class="cm">/* mask for authentication/integrity fields */</span>
<span class="cp">#define NDIS_802_11_AUTH_REQUEST_AUTH_FIELDS        0x0f</span>
<span class="cp">#define NDIS_802_11_AUTH_REQUEST_REAUTH			0x01</span>
<span class="cp">#define NDIS_802_11_AUTH_REQUEST_KEYUPDATE		0x02</span>
<span class="cp">#define NDIS_802_11_AUTH_REQUEST_PAIRWISE_ERROR		0x06</span>
<span class="cp">#define NDIS_802_11_AUTH_REQUEST_GROUP_ERROR		0x0E</span>

<span class="cm">/* MIC check time, 60 seconds. */</span>
<span class="cp">#define MIC_CHECK_TIME	60000000</span>

<span class="cp">#ifndef Ndis802_11APMode</span>
<span class="cp">#define Ndis802_11APMode (Ndis802_11InfrastructureMax+1)</span>
<span class="cp">#endif</span>

<span class="k">struct</span>	<span class="n">wlan_network</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">list</span><span class="p">;</span>
	<span class="kt">int</span>	<span class="n">network_type</span><span class="p">;</span>	<span class="cm">/*refer to ieee80211.h for WIRELESS_11A/B/G */</span>
	<span class="kt">int</span>	<span class="n">fixed</span><span class="p">;</span>		<span class="cm">/* set to fixed when not to be removed asi</span>
<span class="cm">				 * site-surveying */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">last_scanned</span><span class="p">;</span> <span class="cm">/*timestamp for the network */</span>
	<span class="kt">int</span>	<span class="n">aid</span><span class="p">;</span>		<span class="cm">/*will only be valid when a BSS is joined. */</span>
	<span class="kt">int</span>	<span class="n">join_res</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ndis_wlan_bssid_ex</span> <span class="n">network</span><span class="p">;</span> <span class="cm">/*must be the last item */</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">VRTL_CARRIER_SENSE</span> <span class="p">{</span>
	<span class="n">DISABLE_VCS</span><span class="p">,</span>
	<span class="n">ENABLE_VCS</span><span class="p">,</span>
	<span class="n">AUTO_VCS</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">VCS_TYPE</span> <span class="p">{</span>
	<span class="n">NONE_VCS</span><span class="p">,</span>
	<span class="n">RTS_CTS</span><span class="p">,</span>
	<span class="n">CTS_TO_SELF</span>
<span class="p">};</span>

<span class="cp">#define PWR_CAM 0</span>
<span class="cp">#define PWR_MINPS 1</span>
<span class="cp">#define PWR_MAXPS 2</span>
<span class="cp">#define PWR_UAPSD 3</span>
<span class="cp">#define PWR_VOIP 4</span>

<span class="k">enum</span> <span class="n">UAPSD_MAX_SP</span> <span class="p">{</span>
	<span class="n">NO_LIMIT</span><span class="p">,</span>
	<span class="n">TWO_MSDU</span><span class="p">,</span>
	<span class="n">FOUR_MSDU</span><span class="p">,</span>
	<span class="n">SIX_MSDU</span>
<span class="p">};</span>

<span class="cp">#define NUM_PRE_AUTH_KEY 16</span>
<span class="cp">#define NUM_PMKID_CACHE NUM_PRE_AUTH_KEY</span>

<span class="cm">/*</span>
<span class="cm"> *	WPA2</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">wlan_bssid_ex</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">Length</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>  <span class="n">MacAddress</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="n">u8</span>  <span class="n">Reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">ndis_802_11_ssid</span>  <span class="n">Ssid</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">Privacy</span><span class="p">;</span>
	<span class="n">s32</span> <span class="n">Rssi</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">NDIS_802_11_NETWORK_TYPE</span>  <span class="n">NetworkTypeInUse</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">NDIS_802_11_CONFIGURATION</span>  <span class="n">Configuration</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">NDIS_802_11_NETWORK_INFRASTRUCTURE</span>  <span class="n">InfrastructureMode</span><span class="p">;</span>
	<span class="n">NDIS_802_11_RATES_EX</span>  <span class="n">SupportedRates</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">IELength</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">IEs</span><span class="p">[</span><span class="n">MAX_IE_SZ</span><span class="p">];</span>	<span class="cm">/* (timestamp, beacon interval, and capability</span>
<span class="cm">				 * information) */</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* #ifndef WLAN_BSSDEF_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
