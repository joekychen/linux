<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › bcm › Macros.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>Macros.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*************************************</span>
<span class="cm">* Macros.h</span>
<span class="cm">**************************************/</span>
<span class="cp">#ifndef __MACROS_H__</span>
<span class="cp">#define __MACROS_H__</span>

<span class="cp">#define TX_TIMER_PERIOD 10 </span><span class="cm">/*10 msec*/</span><span class="cp"></span>
<span class="cp">#define MAX_CLASSIFIERS 100</span>
<span class="cm">/* #define MAX_CLASSIFIERS_PER_SF  20 */</span>
<span class="cp">#define MAX_TARGET_DSX_BUFFERS 24</span>

<span class="cp">#define MAX_CNTRL_PKTS    100</span>
<span class="cp">#define MAX_DATA_PKTS     200</span>
<span class="cp">#define MAX_ETH_SIZE      1536</span>
<span class="cp">#define MAX_CNTL_PKT_SIZE 2048</span>

<span class="cp">#define MTU_SIZE 1400</span>
<span class="cp">#define TX_QLEN  5</span>

<span class="cp">#define MAC_ADDR_REGISTER 0xbf60d000</span>


<span class="cm">/* Quality of Service */</span>
<span class="cp">#define NO_OF_QUEUES 17</span>
<span class="cp">#define HiPriority (NO_OF_QUEUES-1)</span>
<span class="cp">#define LowPriority 0</span>
<span class="cp">#define BE          2</span>
<span class="cp">#define rtPS        4</span>
<span class="cp">#define ERTPS       5</span>
<span class="cp">#define UGS         6</span>

<span class="cp">#define BE_BUCKET_SIZE       (1024*1024*100)  </span><span class="cm">/* 32kb */</span><span class="cp"></span>
<span class="cp">#define rtPS_BUCKET_SIZE     (1024*1024*100) </span><span class="cm">/*  8kb */</span><span class="cp"></span>
<span class="cp">#define MAX_ALLOWED_RATE     (1024*1024*100)</span>
<span class="cp">#define TX_PACKET_THRESHOLD  10</span>
<span class="cp">#define XSECONDS             (1*HZ)</span>
<span class="cp">#define DSC_ACTIVATE_REQUEST 248</span>
<span class="cp">#define QUEUE_DEPTH_OFFSET   0x1fc01000</span>
<span class="cp">#define MAX_DEVICE_DESC_SIZE 2040</span>
<span class="cp">#define MAX_CTRL_QUEUE_LEN   100</span>
<span class="cp">#define MAX_APP_QUEUE_LEN    200</span>
<span class="cp">#define MAX_LATENCY_ALLOWED  0xFFFFFFFF</span>
<span class="cp">#define DEFAULT_UG_INTERVAL  250</span>
<span class="cp">#define DEFAULT_UGI_FACTOR   4</span>

<span class="cp">#define DEFAULT_PERSFCOUNT    60</span>
<span class="cp">#define MAX_CONNECTIONS       10</span>
<span class="cp">#define MAX_CLASS_NAME_LENGTH 32</span>

<span class="cp">#define ETH_LENGTH_OF_ADDRESS   6</span>
<span class="cp">#define MAX_MULTICAST_ADDRESSES 32</span>
<span class="cp">#define IP_LENGTH_OF_ADDRESS    4</span>

<span class="cp">#define IP_PACKET_ONLY_MODE       0</span>
<span class="cp">#define ETH_PACKET_TUNNELING_MODE 1</span>

<span class="cm">/* Link Request */</span>
<span class="cp">#define SET_MAC_ADDRESS_REQUEST 0</span>
<span class="cp">#define SYNC_UP_REQUEST         1</span>
<span class="cp">#define SYNCED_UP               2</span>
<span class="cp">#define LINK_UP_REQUEST         3</span>
<span class="cp">#define LINK_CONNECTED          4</span>
<span class="cp">#define SYNC_UP_NOTIFICATION    2</span>
<span class="cp">#define LINK_UP_NOTIFICATION    4</span>


<span class="cp">#define LINK_NET_ENTRY              0x0002</span>
<span class="cp">#define HMC_STATUS                  0x0004</span>
<span class="cp">#define LINK_UP_CONTROL_REQ         0x83</span>

<span class="cp">#define STATS_POINTER_REQ_STATUS    0x86</span>
<span class="cp">#define NETWORK_ENTRY_REQ_PAYLOAD   198</span>
<span class="cp">#define LINK_DOWN_REQ_PAYLOAD       226</span>
<span class="cp">#define SYNC_UP_REQ_PAYLOAD         228</span>
<span class="cp">#define STATISTICS_POINTER_REQ      237</span>
<span class="cp">#define LINK_UP_REQ_PAYLOAD         245</span>
<span class="cp">#define LINK_UP_ACK                 246</span>

<span class="cp">#define STATS_MSG_SIZE              4</span>
<span class="cp">#define INDEX_TO_DATA               4</span>

<span class="cp">#define GO_TO_IDLE_MODE_PAYLOAD         210</span>
<span class="cp">#define COME_UP_FROM_IDLE_MODE_PAYLOAD  211</span>
<span class="cp">#define IDLE_MODE_SF_UPDATE_MSG         187</span>

<span class="cp">#define SKB_RESERVE_ETHERNET_HEADER 16</span>
<span class="cp">#define SKB_RESERVE_PHS_BYTES       32</span>

<span class="cp">#define IP_PACKET_ONLY_MODE       0</span>
<span class="cp">#define ETH_PACKET_TUNNELING_MODE 1</span>

<span class="cp">#define ETH_CS_802_3       1</span>
<span class="cp">#define ETH_CS_802_1Q_VLAN 3</span>
<span class="cp">#define IPV4_CS            1</span>
<span class="cp">#define IPV6_CS            2</span>
<span class="cp">#define ETH_CS_MASK        0x3f</span>

<span class="cm">/** \brief Validity bit maps for TLVs in packet classification rule */</span>

<span class="cp">#define PKT_CLASSIFICATION_USER_PRIORITY_VALID 0</span>
<span class="cp">#define PKT_CLASSIFICATION_VLANID_VALID        1</span>

<span class="cp">#ifndef MIN</span>
<span class="cp">#define MIN(_a, _b) ((_a) &lt; (_b) ? (_a) : (_b))</span>
<span class="cp">#endif</span>


<span class="cm">/*Leader related terms */</span>
<span class="cp">#define LEADER_STATUS         0x00</span>
<span class="cp">#define LEADER_STATUS_TCP_ACK 0x1</span>
<span class="cp">#define LEADER_SIZE           sizeof(LEADER)</span>
<span class="cp">#define MAC_ADDR_REQ_SIZE     sizeof(PACKETTOSEND)</span>
<span class="cp">#define SS_INFO_REQ_SIZE      sizeof(PACKETTOSEND)</span>
<span class="cp">#define CM_REQUEST_SIZE       (LEADER_SIZE + sizeof(stLocalSFChangeRequest))</span>
<span class="cp">#define IDLE_REQ_SIZE         sizeof(PACKETTOSEND)</span>


<span class="cp">#define MAX_TRANSFER_CTRL_BYTE_USB (2*1024)</span>

<span class="cp">#define GET_MAILBOX1_REG_REQUEST        0x87</span>
<span class="cp">#define GET_MAILBOX1_REG_RESPONSE       0x67</span>
<span class="cp">#define VCID_CONTROL_PACKET             0x00</span>

<span class="cp">#define TRANSMIT_NETWORK_DATA           0x00</span>
<span class="cp">#define RECEIVED_NETWORK_DATA           0x20</span>

<span class="cp">#define CM_RESPONSES            0xA0</span>
<span class="cp">#define STATUS_RSP              0xA1</span>
<span class="cp">#define LINK_CONTROL_RESP       0xA2</span>
<span class="cp">#define IDLE_MODE_STATUS        0xA3</span>
<span class="cp">#define STATS_POINTER_RESP      0xA6</span>
<span class="cp">#define MGMT_MSG_INFO_SW_STATUS 0xA7</span>
<span class="cp">#define AUTH_SS_HOST_MSG        0xA8</span>

<span class="cp">#define CM_DSA_ACK_PAYLOAD            247</span>
<span class="cp">#define CM_DSC_ACK_PAYLOAD            248</span>
<span class="cp">#define CM_DSD_ACK_PAYLOAD            249</span>
<span class="cp">#define CM_DSDEACTVATE                250</span>
<span class="cp">#define TOTAL_MASKED_ADDRESS_IN_BYTES 32</span>

<span class="cp">#define MAC_REQ         0</span>
<span class="cp">#define LINK_RESP       1</span>
<span class="cp">#define RSSI_INDICATION 2</span>

<span class="cp">#define SS_INFO         4</span>
<span class="cp">#define STATISTICS_INFO 5</span>
<span class="cp">#define CM_INDICATION   6</span>
<span class="cp">#define PARAM_RESP      7</span>
<span class="cp">#define BUFFER_1K       1024</span>
<span class="cp">#define BUFFER_2K       (BUFFER_1K*2)</span>
<span class="cp">#define BUFFER_4K       (BUFFER_2K*2)</span>
<span class="cp">#define BUFFER_8K       (BUFFER_4K*2)</span>
<span class="cp">#define BUFFER_16K      (BUFFER_8K*2)</span>
<span class="cp">#define DOWNLINK_DIR    0</span>
<span class="cp">#define UPLINK_DIR      1</span>

<span class="cp">#define BCM_SIGNATURE   &quot;BECEEM&quot;</span>


<span class="cp">#define GPIO_OUTPUT_REGISTER     0x0F00003C</span>
<span class="cp">#define BCM_GPIO_OUTPUT_SET_REG  0x0F000040</span>
<span class="cp">#define BCM_GPIO_OUTPUT_CLR_REG  0x0F000044</span>
<span class="cp">#define GPIO_MODE_REGISTER       0x0F000034</span>
<span class="cp">#define GPIO_PIN_STATE_REGISTER  0x0F000038</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_LINK_STATE</span> <span class="p">{</span>
	<span class="n">UCHAR</span> <span class="n">ucLinkStatus</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">bIdleMode</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">bShutdownMode</span><span class="p">;</span>
<span class="p">}</span> <span class="n">LINK_STATE</span><span class="p">,</span> <span class="o">*</span><span class="n">PLINK_STATE</span><span class="p">;</span>


<span class="k">enum</span> <span class="n">enLinkStatus</span> <span class="p">{</span>
	<span class="n">WAIT_FOR_SYNC</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">PHY_SYNC_ACHIVED</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">LINKUP_IN_PROGRESS</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">LINKUP_DONE</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">DREG_RECEIVED</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">LINK_STATUS_RESET_RECEIVED</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">PERIODIC_WAKE_UP_NOTIFICATION_FRM_FW</span>  <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">LINK_SHUTDOWN_REQ_FROM_FIRMWARE</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">COMPLETE_WAKE_UP_NOTIFICATION_FRM_FW</span> <span class="o">=</span> <span class="mi">9</span>
<span class="p">};</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="n">_E_PHS_DSC_ACTION</span> <span class="p">{</span>
	<span class="n">eAddPHSRule</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">eSetPHSRule</span><span class="p">,</span>
	<span class="n">eDeletePHSRule</span><span class="p">,</span>
	<span class="n">eDeleteAllPHSRules</span>
<span class="p">}</span> <span class="n">E_PHS_DSC_ACTION</span><span class="p">;</span>


<span class="cp">#define CM_CONTROL_NEWDSX_MULTICLASSIFIER_REQ  0x89 </span><span class="cm">/* Host to Mac */</span><span class="cp"></span>
<span class="cp">#define CM_CONTROL_NEWDSX_MULTICLASSIFIER_RESP 0xA9 </span><span class="cm">/* Mac to Host */</span><span class="cp"></span>
<span class="cp">#define MASK_DISABLE_HEADER_SUPPRESSION        0x10 </span><span class="cm">/* 0b000010000 */</span><span class="cp"></span>
<span class="cp">#define MINIMUM_PENDING_DESCRIPTORS            5</span>

<span class="cp">#define SHUTDOWN_HOSTINITIATED_REQUESTPAYLOAD 0xCC</span>
<span class="cp">#define SHUTDOWN_ACK_FROM_DRIVER 0x1</span>
<span class="cp">#define SHUTDOWN_NACK_FROM_DRIVER 0x2</span>

<span class="cp">#define LINK_SYNC_UP_SUBTYPE   0x0001</span>
<span class="cp">#define LINK_SYNC_DOWN_SUBTYPE 0x0001</span>



<span class="cp">#define CONT_MODE 1</span>
<span class="cp">#define SINGLE_DESCRIPTOR 1</span>


<span class="cp">#define DESCRIPTOR_LENGTH 0x30</span>
<span class="cp">#define FIRMWARE_DESCS_ADDRESS 0x1F100000</span>


<span class="cp">#define CLOCK_RESET_CNTRL_REG_1 0x0F00000C</span>
<span class="cp">#define CLOCK_RESET_CNTRL_REG_2 0x0F000840</span>



<span class="cp">#define TX_DESCRIPTOR_HEAD_REGISTER 0x0F010034</span>
<span class="cp">#define RX_DESCRIPTOR_HEAD_REGISTER 0x0F010094</span>

<span class="cp">#define STATISTICS_BEGIN_ADDR        0xbf60f02c</span>

<span class="cp">#define MAX_PENDING_CTRL_PACKET (MAX_CTRL_QUEUE_LEN-10)</span>

<span class="cp">#define WIMAX_MAX_MTU                   (MTU_SIZE + ETH_HLEN)</span>
<span class="cp">#define AUTO_LINKUP_ENABLE              0x2</span>
<span class="cp">#define AUTO_SYNC_DISABLE               0x1</span>
<span class="cp">#define AUTO_FIRM_DOWNLOAD              0x1</span>
<span class="cp">#define SETTLE_DOWN_TIME                50</span>

<span class="cp">#define HOST_BUS_SUSPEND_BIT            16</span>

<span class="cp">#define IDLE_MESSAGE 0x81</span>

<span class="cp">#define MIPS_CLOCK_133MHz 1</span>

<span class="cp">#define TARGET_CAN_GO_TO_IDLE_MODE 2</span>
<span class="cp">#define TARGET_CAN_NOT_GO_TO_IDLE_MODE 3</span>
<span class="cp">#define IDLE_MODE_PAYLOAD_LENGTH 8</span>

<span class="cp">#define IP_HEADER(Buffer) ((IPHeaderFormat *)(Buffer))</span>
<span class="cp">#define IPV4 4</span>
<span class="cp">#define IP_VERSION(byte) (((byte&amp;0xF0)&gt;&gt;4))</span>

<span class="cp">#define SET_MAC_ADDRESS  193</span>
<span class="cp">#define SET_MAC_ADDRESS_RESPONSE 236</span>

<span class="cp">#define IDLE_MODE_WAKEUP_PATTERN 0xd0ea1d1e</span>
<span class="cp">#define IDLE_MODE_WAKEUP_NOTIFIER_ADDRESS 0x1FC02FA8</span>
<span class="cp">#define IDLE_MODE_MAX_RETRY_COUNT 1000</span>

<span class="cp">#ifdef REL_4_1</span>
<span class="cp">#define CONFIG_BEGIN_ADDR 0xBF60B004</span>
<span class="cp">#else</span>
<span class="cp">#define CONFIG_BEGIN_ADDR 0xBF60B000</span>
<span class="cp">#endif</span>

<span class="cp">#define FIRMWARE_BEGIN_ADDR 0xBFC00000</span>

<span class="cp">#define INVALID_QUEUE_INDEX NO_OF_QUEUES</span>

<span class="cp">#define INVALID_PID ((pid_t)-1)</span>
<span class="cp">#define DDR_80_MHZ  0</span>
<span class="cp">#define DDR_100_MHZ 1</span>
<span class="cp">#define DDR_120_MHZ 2 </span><span class="cm">/* Additional Frequency for T3LP */</span><span class="cp"></span>
<span class="cp">#define DDR_133_MHZ 3</span>
<span class="cp">#define DDR_140_MHZ 4 </span><span class="cm">/* Not Used (Reserved for future) */</span><span class="cp"></span>
<span class="cp">#define DDR_160_MHZ 5 </span><span class="cm">/* Additional Frequency for T3LP  */</span><span class="cp"></span>
<span class="cp">#define DDR_180_MHZ 6 </span><span class="cm">/* Not Used (Reserved for future) */</span><span class="cp"></span>
<span class="cp">#define DDR_200_MHZ 7 </span><span class="cm">/* Not Used (Reserved for future) */</span><span class="cp"></span>

<span class="cp">#define MIPS_200_MHZ   0</span>
<span class="cp">#define MIPS_160_MHZ   1</span>

<span class="cp">#define PLL_800_MHZ    0</span>
<span class="cp">#define PLL_266_MHZ    1</span>

<span class="cp">#define DEVICE_POWERSAVE_MODE_AS_MANUAL_CLOCK_GATING        0</span>
<span class="cp">#define DEVICE_POWERSAVE_MODE_AS_PMU_CLOCK_GATING           1</span>
<span class="cp">#define DEVICE_POWERSAVE_MODE_AS_PMU_SHUTDOWN               2</span>
<span class="cp">#define DEVICE_POWERSAVE_MODE_AS_RESERVED                   3</span>
<span class="cp">#define DEVICE_POWERSAVE_MODE_AS_PROTOCOL_IDLE_MODE         4</span>


<span class="cp">#define EEPROM_REJECT_REG_1 0x0f003018</span>
<span class="cp">#define EEPROM_REJECT_REG_2 0x0f00301c</span>
<span class="cp">#define EEPROM_REJECT_REG_3 0x0f003008</span>
<span class="cp">#define EEPROM_REJECT_REG_4 0x0f003020</span>
<span class="cp">#define EEPROM_REJECT_MASK  0x0fffffff</span>
<span class="cp">#define VSG_MODE            0x3</span>

<span class="cm">/* Idle Mode Related Registers */</span>
<span class="cp">#define DEBUG_INTERRUPT_GENERATOR_REGISTOR 0x0F00007C</span>
<span class="cp">#define SW_ABORT_IDLEMODE_LOC 0x0FF01FFC</span>

<span class="cp">#define SW_ABORT_IDLEMODE_PATTERN 0xd0ea1d1e</span>
<span class="cp">#define DEVICE_INT_OUT_EP_REG0    0x0F011870</span>
<span class="cp">#define DEVICE_INT_OUT_EP_REG1    0x0F011874</span>

<span class="cp">#define BIN_FILE &quot;/lib/firmware/macxvi200.bin&quot;</span>
<span class="cp">#define CFG_FILE &quot;/lib/firmware/macxvi.cfg&quot;</span>
<span class="cp">#define SF_MAX_ALLOWED_PACKETS_TO_BACKUP 128</span>
<span class="cp">#define MIN_VAL(x, y) ((x) &lt; (y) ? (x) : (y))</span>
<span class="cp">#define MAC_ADDRESS_SIZE 6</span>
<span class="cp">#define EEPROM_COMMAND_Q_REG    0x0F003018</span>
<span class="cp">#define EEPROM_READ_DATA_Q_REG  0x0F003020</span>
<span class="cp">#define CHIP_ID_REG             0x0F000000</span>
<span class="cp">#define GPIO_MODE_REG           0x0F000034</span>
<span class="cp">#define GPIO_OUTPUT_REG         0x0F00003C</span>
<span class="cp">#define WIMAX_MAX_ALLOWED_RATE  (1024*1024*50)</span>

<span class="cp">#define T3 0xbece0300</span>
<span class="cp">#define TARGET_SFID_TXDESC_MAP_LOC 0xBFFFF400</span>

<span class="cp">#define RWM_READ 0</span>
<span class="cp">#define RWM_WRITE 1</span>

<span class="cp">#define T3LPB      0xbece3300</span>
<span class="cp">#define BCS220_2   0xbece3311</span>
<span class="cp">#define BCS220_2BC 0xBECE3310</span>
<span class="cp">#define BCS250_BC  0xbece3301</span>
<span class="cp">#define BCS220_3   0xbece3321</span>


<span class="cp">#define HPM_CONFIG_LDO145 0x0F000D54</span>
<span class="cp">#define HPM_CONFIG_MSW    0x0F000D58</span>

<span class="cp">#define T3B 0xbece0310</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="n">eNVM_TYPE</span> <span class="p">{</span>
	<span class="n">NVM_AUTODETECT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">NVM_EEPROM</span><span class="p">,</span>
	<span class="n">NVM_FLASH</span><span class="p">,</span>
	<span class="n">NVM_UNKNOWN</span>
<span class="p">}</span> <span class="n">NVM_TYPE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="n">ePMU_MODES</span> <span class="p">{</span>
	<span class="n">HYBRID_MODE_7C</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">INTERNAL_MODE_6</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">HYBRID_MODE_6</span>   <span class="o">=</span> <span class="mi">2</span>
<span class="p">}</span> <span class="n">PMU_MODE</span><span class="p">;</span>

<span class="cp">#define MAX_RDM_WRM_RETIRES 1</span>

<span class="k">enum</span> <span class="n">eAbortPattern</span> <span class="p">{</span>
	<span class="n">ABORT_SHUTDOWN_MODE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">ABORT_IDLE_REG</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">ABORT_IDLE_MODE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">ABORT_IDLE_SYNCDOWN</span> <span class="o">=</span> <span class="mi">3</span>
<span class="p">};</span>


<span class="cm">/* Offsets used by driver in skb cb variable */</span>
<span class="cp">#define SKB_CB_CLASSIFICATION_OFFSET    0</span>
<span class="cp">#define SKB_CB_LATENCY_OFFSET           1</span>
<span class="cp">#define SKB_CB_TCPACK_OFFSET            2</span>

<span class="cp">#endif </span><span class="cm">/* __MACROS_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
