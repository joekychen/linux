<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › bcm › DDRInit.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>DDRInit.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#include &quot;headers.h&quot;</span>



<span class="cp">#define DDR_DUMP_INTERNAL_DEVICE_MEMORY 0xBFC02B00</span>
<span class="cp">#define MIPS_CLOCK_REG 	0x0f000820</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>DDR INIT-133Mhz</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define T3_SKIP_CLOCK_PROGRAM_DUMP_133MHZ 12  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3_DDRSetting133MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//      # DPLL Clock Setting</span>
                                        <span class="p">{</span><span class="mh">0x0F000800</span><span class="p">,</span><span class="mh">0x00007212</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F13FFF</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF1B00</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000870</span><span class="p">,</span><span class="mh">0x00000002</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a04C</span><span class="p">,</span><span class="mh">0x0000000C</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020001</span><span class="p">},</span><span class="c1">// POP - 0x00020001 Normal 0x01020001</span>
                                        <span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04030107</span><span class="p">},</span> <span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
                                        <span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x02000007</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x02020202</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0206060a</span><span class="p">},</span><span class="c1">//ROB- 0x0205050a,//0x0206060a</span>
                                        <span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x05000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000003</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x110a0200</span><span class="p">},</span><span class="c1">//ROB - 0x110a0200,//0x180a0200,// 0x1f0a0200</span>
                                        <span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x02101010</span><span class="p">},</span><span class="c1">//ROB - 0x02101010,//0x02101018},</span>
                                        <span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x45751200</span><span class="p">},</span><span class="c1">//ROB - 0x45751200,//0x450f1200},</span>
                                        <span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x110a0d00</span><span class="p">},</span><span class="c1">//ROB - 0x110a0d00//0x111f0d00</span>
                                        <span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x081b0306</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0000001c</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x0010246c</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x00000010</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00007000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><h1>Enable BW improvement within memory controller</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><h1>Enable 2 ports within X-bar</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
                                        <span class="p">};</span></pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>80Mhz</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define T3_SKIP_CLOCK_PROGRAM_DUMP_80MHZ 10  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3_DDRSetting80MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//   # DPLL Clock Setting</span>
                                        <span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07f1ffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a04C</span><span class="p">,</span><span class="mh">0x0000000C</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x02020201</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0204040a</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x04000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000002</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x1F060200</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x1C22221F</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x8A006600</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x221a0800</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x02690204</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0000001c</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x000A15D6</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00004000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>										<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
                                <span class="p">};</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>100Mhz</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define T3_SKIP_CLOCK_PROGRAM_DUMP_100MHZ 13  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3_DDRSetting100MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//  # DPLL Clock Setting</span>
                                        <span class="p">{</span><span class="mh">0x0F000800</span><span class="p">,</span><span class="mh">0x00007008</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F13E3F</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL
0x0f000840,0x0FFF1800,</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF1B00</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000870</span><span class="p">,</span><span class="mh">0x00000002</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a04C</span><span class="p">,</span><span class="mh">0x0000000C</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><h1>Enable 2 ports within X-bar</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020001</span><span class="p">},</span> <span class="c1">// POP - 0x00020000 Normal 0x01020000</span>
                                        <span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span><span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
                                        <span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x01020201</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0204040A</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x06000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000004</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x20080200</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x02030320</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x6E7F1200</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x01190A00</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x06120305</span><span class="p">},</span><span class="c1">//0x02690204 // 0x06120305</span>
                                        <span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0000001C</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x00082ED6</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00005000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><h1>Enable BW improvement within memory controller</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
                                <span class="p">};</span></pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>Net T3B DDR Settings
DDR INIT-133Mhz</p></td><td class="code"><div class="highlight"><pre><span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asDPLL_266MHZ</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
                                        <span class="p">{</span><span class="mh">0x0F000800</span><span class="p">,</span><span class="mh">0x00007212</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F13FFF</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF1B00</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000870</span><span class="p">,</span><span class="mh">0x00000002</span><span class="p">}</span>
									  <span class="p">};</span>

<span class="cp">#define T3B_SKIP_CLOCK_PROGRAM_DUMP_133MHZ 11  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3B_DDRSetting133MHz</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="c1">//      # DPLL Clock Setting</span>
                                        <span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F13652</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF0800</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><h1>Enable 2 ports within X-bar</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020001</span><span class="p">},</span><span class="c1">// POP - 0x00020001 Normal 0x01020001</span>
                                        <span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04030107</span><span class="p">},</span> <span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
                                        <span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x02000007</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x02020202</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0206060a</span><span class="p">},</span><span class="c1">//ROB- 0x0205050a,//0x0206060a</span>
                                        <span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x05000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000003</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x130a0200</span><span class="p">},</span><span class="c1">//ROB - 0x110a0200,//0x180a0200,// 0x1f0a0200</span>
                                        <span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x02101012</span><span class="p">},</span><span class="c1">//ROB - 0x02101010,//0x02101018},</span>
                                        <span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x457D1200</span><span class="p">},</span><span class="c1">//ROB - 0x45751200,//0x450f1200},</span>
                                        <span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x11130d00</span><span class="p">},</span><span class="c1">//ROB - 0x110a0d00//0x111f0d00</span>
                                        <span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x040D0306</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0000001c</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x0010246c</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x00000012</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00007000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
                                        <span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><h1>Enable BW improvement within memory controller</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>                                        <span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">},</span>
                                        <span class="p">};</span>

<span class="cp">#define T3B_SKIP_CLOCK_PROGRAM_DUMP_80MHZ 9  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3B_DDRSetting80MHz</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="c1">//       # DPLL Clock Setting</span>
										<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F13FFF</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF1F00</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>

										<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>										<span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x02020201</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0204040a</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x04000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x02000002</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x1F060202</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x1C22221F</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x8A006600</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x221a0800</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x02690204</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0100001c</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x000A15D6</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00004000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>										<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
								<span class="p">};</span></pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>100Mhz</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define T3B_SKIP_CLOCK_PROGRAM_DUMP_100MHZ 9  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3B_DDRSetting100MHz</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="c1">//      # DPLL Clock Setting</span>
										<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00000F95</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F1369B</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF0800</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><h1>Enable 2 ports within X-bar</h1></td><td class="code"><div class="highlight"><pre>										<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>										<span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span> <span class="c1">// POP - 0x00020000 Normal 0x01020000</span>
										<span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span><span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
										<span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x01020201</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0204040A</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x06000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x02000004</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x20080200</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x02030320</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x6E7F1200</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x01190A00</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x06120305</span><span class="p">},</span><span class="c1">//0x02690204 // 0x06120305</span>
										<span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0100001C</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x00082ED6</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00005000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
										<span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><h1>Enable BW improvement within memory controller</h1></td><td class="code"><div class="highlight"><pre>										<span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>										<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
							<span class="p">};</span>


<span class="cp">#define T3LP_SKIP_CLOCK_PROGRAM_DUMP_133MHZ 9  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3LP_DDRSetting133MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//	# DPLL Clock Setting</span>
								<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x03F1365B</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00002F95</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF0000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020001</span><span class="p">},</span><span class="c1">// POP - 0x00020001 Normal 0x01020001</span>
								<span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04030107</span><span class="p">},</span> <span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
								<span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x02000007</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x02020200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0206060a</span><span class="p">},</span><span class="c1">//ROB- 0x0205050a,//0x0206060a</span>
								<span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x05000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000003</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x200a0200</span><span class="p">},</span><span class="c1">//ROB - 0x110a0200,//0x180a0200,// 0x1f0a0200</span>
								<span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x02101020</span><span class="p">},</span><span class="c1">//ROB - 0x02101010,//0x02101018,</span>
								<span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x45711200</span><span class="p">},</span><span class="c1">//ROB - 0x45751200,//0x450f1200,</span>
								<span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x110D0D00</span><span class="p">},</span><span class="c1">//ROB - 0x110a0d00//0x111f0d00</span>
								<span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x04080306</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0100001c</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x0010245F</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x00000010</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00007000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007088</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00708c</span><span class="p">,</span><span class="mh">0x00000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007090</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><h1>Enable BW improvement within memory controller</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00040000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007098</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F0070c8</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><h1>Enable 2 ports within X-bar</h1>

<h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
<span class="p">};</span>

<span class="cp">#define T3LP_SKIP_CLOCK_PROGRAM_DUMP_100MHZ 11  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3LP_DDRSetting100MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//	# DPLL Clock Setting</span>
								<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00002F95</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x03F1369B</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0fff0000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF0000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span><span class="c1">// POP - 0x00020001 Normal 0x01020001</span>
								<span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span> <span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
								<span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x01020200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0204040a</span><span class="p">},</span><span class="c1">//ROB- 0x0205050a,//0x0206060a</span>
								<span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x06000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000004</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x1F080200</span><span class="p">},</span><span class="c1">//ROB - 0x110a0200,//0x180a0200,// 0x1f0a0200</span>
								<span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x0203031F</span><span class="p">},</span><span class="c1">//ROB - 0x02101010,//0x02101018,</span>
								<span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x6e001200</span><span class="p">},</span><span class="c1">//ROB - 0x45751200,//0x450f1200,</span>
								<span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x011a0a00</span><span class="p">},</span><span class="c1">//ROB - 0x110a0d00//0x111f0d00</span>
								<span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x03000305</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0100001c</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x00082ED6</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00005000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007088</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00708c</span><span class="p">,</span><span class="mh">0x00000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007090</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00010000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007098</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F0070C8</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><h1>Enable 2 ports within X-bar</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-39"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
<span class="p">};</span>

<span class="cp">#define T3LP_SKIP_CLOCK_PROGRAM_DUMP_80MHZ 9  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3LP_DDRSetting80MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//	# DPLL Clock Setting</span>
								<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F13FFF</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00002F95</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF1F00</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007004</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007028</span><span class="p">,</span><span class="mh">0x02020200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00702c</span><span class="p">,</span><span class="mh">0x0204040a</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007030</span><span class="p">,</span><span class="mh">0x04000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007034</span><span class="p">,</span><span class="mh">0x00000002</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007038</span><span class="p">,</span><span class="mh">0x1d060200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00703c</span><span class="p">,</span><span class="mh">0x1c22221d</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007040</span><span class="p">,</span><span class="mh">0x8A116600</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007044</span><span class="p">,</span><span class="mh">0x222d0800</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007048</span><span class="p">,</span><span class="mh">0x02690204</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007050</span><span class="p">,</span><span class="mh">0x0100001c</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007060</span><span class="p">,</span><span class="mh">0x000A15D6</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007070</span><span class="p">,</span><span class="mh">0x00004000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00707c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007088</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00708c</span><span class="p">,</span><span class="mh">0x00000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007090</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007094</span><span class="p">,</span><span class="mh">0x00010000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007098</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F0070C8</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
<span class="p">};</span></pre></div></td></tr>


<tr id="section-40"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div><p>/T3 LP-B (UMA-B)</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define T3LPB_SKIP_CLOCK_PROGRAM_DUMP_160MHZ 7  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3LPB_DDRSetting160MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//	# DPLL Clock Setting</span>

								<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x03F137DB</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x01842795</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF0400</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f003050</span><span class="p">,</span><span class="mh">0x00000021</span><span class="p">},</span><span class="c1">//this is flash/eeprom clock divisor which set the flash clock to 20 MHz</span>
								<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span><span class="c1">//Now dump from her in internal memory</span>
								<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007004</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007008</span><span class="p">,</span><span class="mh">0x01000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007010</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007020</span><span class="p">,</span><span class="mh">0x04030107</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007024</span><span class="p">,</span><span class="mh">0x02000007</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007028</span><span class="p">,</span><span class="mh">0x02020200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00702c</span><span class="p">,</span><span class="mh">0x0206060a</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007030</span><span class="p">,</span><span class="mh">0x050d0d00</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007034</span><span class="p">,</span><span class="mh">0x00000003</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007038</span><span class="p">,</span><span class="mh">0x170a0200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00703c</span><span class="p">,</span><span class="mh">0x02101012</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007040</span><span class="p">,</span><span class="mh">0x45161200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007044</span><span class="p">,</span><span class="mh">0x11250c00</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007048</span><span class="p">,</span><span class="mh">0x04da0307</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007050</span><span class="p">,</span><span class="mh">0x0000001c</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007060</span><span class="p">,</span><span class="mh">0x00142bb6</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007064</span><span class="p">,</span><span class="mh">0x20430014</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007070</span><span class="p">,</span><span class="mh">0x00009000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00707c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007088</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00708c</span><span class="p">,</span><span class="mh">0x00000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007090</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007094</span><span class="p">,</span><span class="mh">0x00040000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007098</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F0070C8</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
<span class="p">};</span>


<span class="cp">#define T3LPB_SKIP_CLOCK_PROGRAM_DUMP_133MHZ 7  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3LPB_DDRSetting133MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//	# DPLL Clock Setting</span>
								<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x03F1365B</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00002F95</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-41"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-41">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF0000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f003050</span><span class="p">,</span><span class="mh">0x00000021</span><span class="p">},</span><span class="c1">//flash/eeprom clock divisor which set the flash clock to 20 MHz</span>
								<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span><span class="c1">//dump from here in internal memory</span>
								<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-42"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-42">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020001</span><span class="p">},</span><span class="c1">// POP - 0x00020001 Normal 0x01020001</span>
								<span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04030107</span><span class="p">},</span> <span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
								<span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x02000007</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x02020200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0206060a</span><span class="p">},</span><span class="c1">//ROB- 0x0205050a,//0x0206060a</span>
								<span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x05000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000003</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x190a0200</span><span class="p">},</span><span class="c1">//ROB - 0x110a0200,//0x180a0200,// 0x1f0a0200</span>
								<span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x02101017</span><span class="p">},</span><span class="c1">//ROB - 0x02101010,//0x02101018,</span>
								<span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x45171200</span><span class="p">},</span><span class="c1">//ROB - 0x45751200,//0x450f1200,</span>
								<span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x11290D00</span><span class="p">},</span><span class="c1">//ROB - 0x110a0d00//0x111f0d00</span>
								<span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x04080306</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0100001c</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x0010245F</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x00000010</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00007000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007088</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00708c</span><span class="p">,</span><span class="mh">0x00000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007090</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-43"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-43">&#182;</a></div><h1>Enable BW improvement within memory controller</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00040000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007098</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F0070c8</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-44"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-44">&#182;</a></div><h1>Enable 2 ports within X-bar</h1>

<h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
<span class="p">};</span>

<span class="cp">#define T3LPB_SKIP_CLOCK_PROGRAM_DUMP_100MHZ 8  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3LPB_DDRSetting100MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//	# DPLL Clock Setting</span>
								<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00002F95</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x03F1369B</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0fff0000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-45"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-45">&#182;</a></div><p>Changed source for X-bar and MIPS clock to APLL</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF0000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f003050</span><span class="p">,</span><span class="mh">0x00000021</span><span class="p">},</span><span class="c1">//flash/eeprom clock divisor which set the flash clock to 20 MHz</span>
								<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span> <span class="c1">//dump from here in internal memory</span>
								<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-46"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-46">&#182;</a></div><p>Memcontroller Default values</p></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007004</span><span class="p">,</span><span class="mh">0x01010100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span><span class="c1">// POP - 0x00020001 Normal 0x01020001</span>
								<span class="p">{</span><span class="mh">0x0F007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span> <span class="c1">//Normal - 0x04030107 POP - 0x05030107</span>
								<span class="p">{</span><span class="mh">0x0F007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007028</span><span class="p">,</span><span class="mh">0x01020200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00702c</span><span class="p">,</span><span class="mh">0x0204040a</span><span class="p">},</span><span class="c1">//ROB- 0x0205050a,//0x0206060a</span>
								<span class="p">{</span><span class="mh">0x0F007030</span><span class="p">,</span><span class="mh">0x06000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007034</span><span class="p">,</span><span class="mh">0x00000004</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007038</span><span class="p">,</span><span class="mh">0x1F080200</span><span class="p">},</span><span class="c1">//ROB - 0x110a0200,//0x180a0200,// 0x1f0a0200</span>
								<span class="p">{</span><span class="mh">0x0F00703C</span><span class="p">,</span><span class="mh">0x0203031F</span><span class="p">},</span><span class="c1">//ROB - 0x02101010,//0x02101018,</span>
								<span class="p">{</span><span class="mh">0x0F007040</span><span class="p">,</span><span class="mh">0x6e001200</span><span class="p">},</span><span class="c1">//ROB - 0x45751200,//0x450f1200,</span>
								<span class="p">{</span><span class="mh">0x0F007044</span><span class="p">,</span><span class="mh">0x011a0a00</span><span class="p">},</span><span class="c1">//ROB - 0x110a0d00//0x111f0d00</span>
								<span class="p">{</span><span class="mh">0x0F007048</span><span class="p">,</span><span class="mh">0x03000305</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007050</span><span class="p">,</span><span class="mh">0x0100001c</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007060</span><span class="p">,</span><span class="mh">0x00082ED6</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007070</span><span class="p">,</span><span class="mh">0x00005000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00707C</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007088</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00708c</span><span class="p">,</span><span class="mh">0x00000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007090</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007094</span><span class="p">,</span><span class="mh">0x00010000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007098</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F0070C8</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-47"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-47">&#182;</a></div><h1>Enable 2 ports within X-bar</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span></pre></div></td></tr>


<tr id="section-48"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-48">&#182;</a></div><h1>Enable start bit within memory controller</h1></td><td class="code"><div class="highlight"><pre>								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
<span class="p">};</span>

<span class="cp">#define T3LPB_SKIP_CLOCK_PROGRAM_DUMP_80MHZ 7  </span><span class="c1">//index for 0x0F007000</span>
<span class="k">static</span> <span class="n">DDR_SET_NODE</span> <span class="n">asT3LPB_DDRSetting80MHz</span><span class="p">[]</span><span class="o">=</span> <span class="p">{</span><span class="c1">//	# DPLL Clock Setting</span>
								<span class="p">{</span><span class="mh">0x0f000820</span><span class="p">,</span><span class="mh">0x07F13FFF</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000810</span><span class="p">,</span><span class="mh">0x00002F95</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000860</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000880</span><span class="p">,</span><span class="mh">0x000003DD</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f000840</span><span class="p">,</span><span class="mh">0x0FFF1F00</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a044</span><span class="p">,</span><span class="mh">0x1fffffff</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00a040</span><span class="p">,</span><span class="mh">0x1f000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f003050</span><span class="p">,</span><span class="mh">0x00000021</span><span class="p">},</span><span class="c1">//flash/eeprom clock divisor which set the flash clock to 20 MHz</span>
								<span class="p">{</span><span class="mh">0x0F00a084</span><span class="p">,</span><span class="mh">0x1Cffffff</span><span class="p">},</span><span class="c1">// dump from here in internal memory</span>
								<span class="p">{</span><span class="mh">0x0F00a080</span><span class="p">,</span><span class="mh">0x1C000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F00A000</span><span class="p">,</span><span class="mh">0x00000016</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007000</span><span class="p">,</span><span class="mh">0x00010001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007004</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007008</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00700c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007010</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007014</span><span class="p">,</span><span class="mh">0x01000100</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007018</span><span class="p">,</span><span class="mh">0x01000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00701c</span><span class="p">,</span><span class="mh">0x01020000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007020</span><span class="p">,</span><span class="mh">0x04020107</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007024</span><span class="p">,</span><span class="mh">0x00000007</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007028</span><span class="p">,</span><span class="mh">0x02020200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00702c</span><span class="p">,</span><span class="mh">0x0204040a</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007030</span><span class="p">,</span><span class="mh">0x04000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007034</span><span class="p">,</span><span class="mh">0x00000002</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007038</span><span class="p">,</span><span class="mh">0x1d060200</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00703c</span><span class="p">,</span><span class="mh">0x1c22221d</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007040</span><span class="p">,</span><span class="mh">0x8A116600</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007044</span><span class="p">,</span><span class="mh">0x222d0800</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007048</span><span class="p">,</span><span class="mh">0x02690204</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00704c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007050</span><span class="p">,</span><span class="mh">0x0100001c</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007054</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007058</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00705c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007060</span><span class="p">,</span><span class="mh">0x000A15D6</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007064</span><span class="p">,</span><span class="mh">0x0000000A</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007068</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00706c</span><span class="p">,</span><span class="mh">0x00000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007070</span><span class="p">,</span><span class="mh">0x00004000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007074</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007078</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00707c</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007080</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007084</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007088</span><span class="p">,</span><span class="mh">0x01000001</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f00708c</span><span class="p">,</span><span class="mh">0x00000101</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007090</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007094</span><span class="p">,</span><span class="mh">0x00010000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0f007098</span><span class="p">,</span><span class="mh">0x00000000</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F0070C8</span><span class="p">,</span><span class="mh">0x00000104</span><span class="p">},</span>
								<span class="p">{</span><span class="mh">0x0F007018</span><span class="p">,</span><span class="mh">0x01010000</span><span class="p">}</span>
<span class="p">};</span>


<span class="kt">int</span> <span class="nf">ddr_init</span><span class="p">(</span><span class="n">MINI_ADAPTER</span> <span class="o">*</span><span class="n">Adapter</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">PDDR_SETTING</span> <span class="n">psDDRSetting</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span>
	<span class="n">ULONG</span> <span class="n">RegCount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">UINT</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">UINT</span>  <span class="n">uiResetValue</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">UINT</span> <span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">retval</span> <span class="o">=</span> <span class="n">STATUS_SUCCESS</span><span class="p">;</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span><span class="p">)</span>
	<span class="p">{</span>
	<span class="k">case</span> <span class="mh">0xbece3200</span>:
	    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
	    <span class="p">{</span>
	        <span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
				<span class="n">psDDRSetting</span><span class="o">=</span><span class="n">asT3LP_DDRSetting80MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3LP_DDRSetting80MHz</span><span class="p">)</span><span class="o">/</span>
			  	<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
			    <span class="k">break</span><span class="p">;</span>
		    <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
				<span class="n">psDDRSetting</span><span class="o">=</span><span class="n">asT3LP_DDRSetting100MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3LP_DDRSetting100MHz</span><span class="p">)</span><span class="o">/</span>
			  	<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
			    <span class="k">break</span><span class="p">;</span>
		    <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:
				<span class="n">psDDRSetting</span><span class="o">=</span><span class="n">asT3LP_DDRSetting133MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3LP_DDRSetting133MHz</span><span class="p">)</span><span class="o">/</span>
		 	  		<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
				<span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">bMipsConfig</span> <span class="o">==</span> <span class="n">MIPS_200_MHZ</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x03F13652</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">else</span>
				<span class="p">{</span>
					<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x03F1365B</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">break</span><span class="p">;</span>
		    <span class="nl">default:</span>
			    <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
        <span class="p">}</span>

		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">T3LPB</span>:
	<span class="k">case</span> <span class="n">BCS220_2</span>:
	<span class="k">case</span> <span class="n">BCS220_2BC</span>:
	<span class="k">case</span> <span class="n">BCS250_BC</span>:
	<span class="k">case</span> <span class="n">BCS220_3</span> :
		<span class="cm">/* Set bit 2 and bit 6 to 1 for BBIC 2mA drive</span>
<span class="cm">		 * (please check current value and additionally set these bits)</span>
<span class="cm">		 */</span>
		<span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">!=</span>  <span class="n">BCS220_2</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
			<span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">!=</span>  <span class="n">BCS220_2BC</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
			<span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">!=</span> <span class="n">BCS220_3</span><span class="p">)</span> <span class="p">)</span>
		<span class="p">{</span>
				<span class="n">retval</span><span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000830</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
				<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
					<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
					<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="n">uiResetValue</span> <span class="o">|=</span> <span class="mh">0x44</span><span class="p">;</span>
				<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000830</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
				<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
					<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">WRM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d WRM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
					<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
				<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">switch</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
		<span class="p">{</span>



			<span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LPB_DDRSetting80MHz</span><span class="p">;</span>
		        <span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3B_DDRSetting80MHz</span><span class="p">)</span><span class="o">/</span>
		                  <span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
			<span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
				<span class="n">psDDRSetting</span><span class="o">=</span><span class="n">asT3LPB_DDRSetting100MHz</span><span class="p">;</span>
		        <span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3B_DDRSetting100MHz</span><span class="p">)</span><span class="o">/</span>
		                 <span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
			<span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LPB_DDRSetting133MHz</span><span class="p">;</span>
				<span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3B_DDRSetting133MHz</span><span class="p">)</span><span class="o">/</span>
						 <span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>

				<span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">bMipsConfig</span> <span class="o">==</span> <span class="n">MIPS_200_MHZ</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x03F13652</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">else</span>
				<span class="p">{</span>
					<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x03F1365B</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="k">break</span><span class="p">;</span>

			<span class="k">case</span> <span class="n">DDR_160_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LPB_DDRSetting160MHz</span><span class="p">;</span>
				<span class="n">RegCount</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">asT3LPB_DDRSetting160MHz</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">);</span>

				<span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">bMipsConfig</span> <span class="o">==</span> <span class="n">MIPS_200_MHZ</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x03F137D2</span><span class="p">;</span>
				<span class="p">}</span>
				<span class="k">else</span>
				<span class="p">{</span>
					<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x03F137DB</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">break</span><span class="p">;</span>

	<span class="k">case</span> <span class="mh">0xbece0110</span>:
	<span class="k">case</span> <span class="mh">0xbece0120</span>:
	<span class="k">case</span> <span class="mh">0xbece0121</span>:
	<span class="k">case</span> <span class="mh">0xbece0130</span>:
	<span class="k">case</span> <span class="mh">0xbece0300</span>:
		<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_INITEXIT</span><span class="p">,</span> <span class="n">DRV_ENTRY</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;DDR Setting: %x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">);</span>
	    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
	    <span class="p">{</span>
	        <span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3_DDRSetting80MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3_DDRSetting80MHz</span><span class="p">)</span><span class="o">/</span>
			  	<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
			    <span class="k">break</span><span class="p">;</span>
		    <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3_DDRSetting100MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3_DDRSetting100MHz</span><span class="p">)</span><span class="o">/</span>
			  	<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
			    <span class="k">break</span><span class="p">;</span>
		    <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3_DDRSetting133MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3_DDRSetting133MHz</span><span class="p">)</span><span class="o">/</span>
		 	  	<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
				<span class="k">break</span><span class="p">;</span>
		    <span class="nl">default:</span>
			    <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
        <span class="p">}</span>
	<span class="k">case</span> <span class="mh">0xbece0310</span>:
	<span class="p">{</span>
	    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
	    <span class="p">{</span>
	        <span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3B_DDRSetting80MHz</span><span class="p">;</span>
		        <span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3B_DDRSetting80MHz</span><span class="p">)</span><span class="o">/</span>
		                  <span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
		    <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
				<span class="n">psDDRSetting</span><span class="o">=</span><span class="n">asT3B_DDRSetting100MHz</span><span class="p">;</span>
		        <span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3B_DDRSetting100MHz</span><span class="p">)</span><span class="o">/</span>
		                 <span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
			<span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:

				<span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">bDPLLConfig</span> <span class="o">==</span> <span class="n">PLL_266_MHZ</span><span class="p">)</span><span class="c1">//266Mhz PLL selected.</span>
				<span class="p">{</span>
					<span class="n">memcpy</span><span class="p">(</span><span class="n">asT3B_DDRSetting133MHz</span><span class="p">,</span> <span class="n">asDPLL_266MHZ</span><span class="p">,</span>
									 <span class="k">sizeof</span><span class="p">(</span><span class="n">asDPLL_266MHZ</span><span class="p">));</span>
					<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3B_DDRSetting133MHz</span><span class="p">;</span>
					<span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3B_DDRSetting133MHz</span><span class="p">)</span><span class="o">/</span>
									<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
				<span class="p">}</span>
				<span class="k">else</span>
				<span class="p">{</span>
					<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3B_DDRSetting133MHz</span><span class="p">;</span>
					<span class="n">RegCount</span><span class="o">=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">asT3B_DDRSetting133MHz</span><span class="p">)</span><span class="o">/</span>
									<span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">));</span>
					<span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">bMipsConfig</span> <span class="o">==</span> <span class="n">MIPS_200_MHZ</span><span class="p">)</span>
					<span class="p">{</span>
						<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x07F13652</span><span class="p">;</span>
					<span class="p">}</span>
					<span class="k">else</span>
					<span class="p">{</span>
						<span class="n">uiClockSetting</span> <span class="o">=</span> <span class="mh">0x07F1365B</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="p">}</span>
				<span class="k">break</span><span class="p">;</span>
		    <span class="nl">default:</span>
			    <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">break</span><span class="p">;</span>

	<span class="p">}</span>
	<span class="nl">default:</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_INITEXIT</span><span class="p">,</span> <span class="n">DRV_ENTRY</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;Register Count is =%lu</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">RegCount</span><span class="p">);</span>
	<span class="k">while</span><span class="p">(</span><span class="n">RegCount</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">retval</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">if</span><span class="p">(</span><span class="n">uiClockSetting</span> <span class="o">&amp;&amp;</span> <span class="n">psDDRSetting</span><span class="o">-&gt;</span><span class="n">ulRegAddress</span> <span class="o">==</span> <span class="n">MIPS_CLOCK_REG</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">uiClockSetting</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">else</span>
		<span class="p">{</span>
			<span class="n">value</span> <span class="o">=</span> <span class="n">psDDRSetting</span><span class="o">-&gt;</span><span class="n">ulRegValue</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="n">psDDRSetting</span><span class="o">-&gt;</span><span class="n">ulRegAddress</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
		<span class="k">if</span><span class="p">(</span><span class="n">STATUS_SUCCESS</span> <span class="o">!=</span> <span class="n">retval</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_PRINTK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s">&quot;%s:%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>

		<span class="n">RegCount</span><span class="o">--</span><span class="p">;</span>
		<span class="n">psDDRSetting</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">&gt;=</span> <span class="mh">0xbece3300</span>  <span class="p">)</span>
	<span class="p">{</span>

		<span class="n">mdelay</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">!=</span> <span class="n">BCS220_2</span><span class="p">)</span><span class="o">&amp;&amp;</span>
			<span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">!=</span> <span class="n">BCS220_2BC</span><span class="p">)</span><span class="o">&amp;&amp;</span>
			<span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span> <span class="o">!=</span> <span class="n">BCS220_3</span><span class="p">))</span>
		<span class="p">{</span>
			<span class="cm">/* drive MDDR to half in case of UMA-B:	*/</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x01010001</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0F007018</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x00040020</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0F007094</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x01020101</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0F00701c</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x01010000</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0F007018</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="n">mdelay</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>

		<span class="cm">/* DC/DC standby change...</span>
<span class="cm">		 * This is to be done only for Hybrid PMU mode.</span>
<span class="cm">		 * with the current h/w there is no way to detect this.</span>
<span class="cm">		 * and since we dont have internal PMU lets do it under UMA-B chip id.</span>
<span class="cm">	     * we will change this when we will have internal PMU.</span>
<span class="cm">	     */</span>
		<span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">PmuMode</span> <span class="o">==</span> <span class="n">HYBRID_MODE_7C</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x1322a8</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000d1c</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_PRINTK</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x132296</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000d14</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">PmuMode</span> <span class="o">==</span> <span class="n">HYBRID_MODE_6</span> <span class="p">)</span>
		<span class="p">{</span>

			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x6003229a</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000d14</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">rdmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000c00</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="n">uiResetValue</span> <span class="o">=</span> <span class="mh">0x1322a8</span><span class="p">;</span>
			<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="p">(</span><span class="n">UINT</span><span class="p">)</span><span class="mh">0x0f000d1c</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">uiResetValue</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uiResetValue</span><span class="p">));</span>
			<span class="k">if</span><span class="p">(</span><span class="n">retval</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">CMHOST</span><span class="p">,</span> <span class="n">RDM</span><span class="p">,</span> <span class="n">DBG_LVL_ALL</span><span class="p">,</span> <span class="s">&quot;%s:%d RDM failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
				<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>

	<span class="p">}</span>
	<span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">bDDRInitDone</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
	<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">download_ddr_settings</span><span class="p">(</span><span class="n">PMINI_ADAPTER</span> <span class="n">Adapter</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">PDDR_SET_NODE</span> <span class="n">psDDRSetting</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span>
	<span class="n">ULONG</span> <span class="n">RegCount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ul_ddr_setting_load_addr</span> <span class="o">=</span> <span class="n">DDR_DUMP_INTERNAL_DEVICE_MEMORY</span><span class="p">;</span>
	<span class="n">UINT</span>  <span class="n">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">retval</span> <span class="o">=</span> <span class="n">STATUS_SUCCESS</span><span class="p">;</span>
	<span class="n">BOOLEAN</span> <span class="n">bOverrideSelfRefresh</span> <span class="o">=</span> <span class="n">FALSE</span><span class="p">;</span>

	<span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">chip_id</span><span class="p">)</span>
	<span class="p">{</span>
	<span class="k">case</span> <span class="mh">0xbece3200</span>:
	    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
	    <span class="p">{</span>
	        <span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LP_DDRSetting80MHz</span><span class="p">;</span>
                <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3LP_DDRSetting80MHz</span><span class="p">);</span>
				<span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3LP_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span> <span class="p">;</span>
                <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3LP_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		    <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LP_DDRSetting100MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3LP_DDRSetting100MHz</span><span class="p">);</span>
				<span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3LP_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span> <span class="p">;</span>
                <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3LP_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span><span class="p">;</span>
			    <span class="k">break</span><span class="p">;</span>
		     <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:
				<span class="n">bOverrideSelfRefresh</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LP_DDRSetting133MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3LP_DDRSetting133MHz</span><span class="p">);</span>
				<span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3LP_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span> <span class="p">;</span>
		        <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3LP_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span><span class="p">;</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="nl">default:</span>
			    <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
        <span class="p">}</span>
		<span class="k">break</span><span class="p">;</span>

	<span class="k">case</span> <span class="n">T3LPB</span>:
	<span class="k">case</span> <span class="n">BCS220_2</span>:
	<span class="k">case</span> <span class="n">BCS220_2BC</span>:
	<span class="k">case</span> <span class="n">BCS250_BC</span>:
	<span class="k">case</span> <span class="n">BCS220_3</span> :
	    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
	    <span class="p">{</span>
	        <span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LPB_DDRSetting80MHz</span><span class="p">;</span>
                <span class="n">RegCount</span><span class="o">=</span><span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3LPB_DDRSetting80MHz</span><span class="p">);</span>
				<span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span> <span class="p">;</span>
                <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		    <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LPB_DDRSetting100MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3LPB_DDRSetting100MHz</span><span class="p">);</span>
				<span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span> <span class="p">;</span>
                <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span><span class="p">;</span>
			    <span class="k">break</span><span class="p">;</span>
		     <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:
				<span class="n">bOverrideSelfRefresh</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LPB_DDRSetting133MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3LPB_DDRSetting133MHz</span><span class="p">);</span>
				<span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span> <span class="p">;</span>
		        <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span><span class="p">;</span>
				<span class="k">break</span><span class="p">;</span>

			<span class="k">case</span> <span class="n">DDR_160_MHZ</span>:
					<span class="n">bOverrideSelfRefresh</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
					<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3LPB_DDRSetting160MHz</span><span class="p">;</span>
					<span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3LPB_DDRSetting160MHz</span><span class="p">);</span>
					<span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_160MHZ</span><span class="p">;</span>
					<span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3LPB_SKIP_CLOCK_PROGRAM_DUMP_160MHZ</span><span class="p">;</span>

					<span class="k">break</span><span class="p">;</span>
			<span class="nl">default:</span>
			    <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
        <span class="p">}</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="mh">0xbece0300</span>:
	    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
	    <span class="p">{</span>
	        <span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3_DDRSetting80MHz</span><span class="p">;</span>
                <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3_DDRSetting80MHz</span><span class="p">);</span>
				<span class="n">RegCount</span><span class="o">-=</span><span class="n">T3_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span> <span class="p">;</span>
                <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span><span class="p">;</span>
			<span class="k">break</span><span class="p">;</span>
		    <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3_DDRSetting100MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3_DDRSetting100MHz</span><span class="p">);</span>
				<span class="n">RegCount</span><span class="o">-=</span><span class="n">T3_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span> <span class="p">;</span>
                <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span><span class="p">;</span>
			    <span class="k">break</span><span class="p">;</span>
		     <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:
				<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3_DDRSetting133MHz</span><span class="p">;</span>
			    <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3_DDRSetting133MHz</span><span class="p">);</span>
				<span class="n">RegCount</span><span class="o">-=</span><span class="n">T3_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span> <span class="p">;</span>
		        <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span> <span class="p">;</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="nl">default:</span>
			    <span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
        <span class="p">}</span>
	<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="mh">0xbece0310</span>:
	    <span class="p">{</span>
		    <span class="k">switch</span> <span class="p">(</span><span class="n">Adapter</span><span class="o">-&gt;</span><span class="n">DDRSetting</span><span class="p">)</span>
		    <span class="p">{</span>
		        <span class="k">case</span> <span class="n">DDR_80_MHZ</span>:
					<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3B_DDRSetting80MHz</span><span class="p">;</span>
                    <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3B_DDRSetting80MHz</span><span class="p">);</span>
                    <span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3B_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span> <span class="p">;</span>
                    <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3B_SKIP_CLOCK_PROGRAM_DUMP_80MHZ</span><span class="p">;</span>
			        <span class="k">break</span><span class="p">;</span>
		        <span class="k">case</span> <span class="n">DDR_100_MHZ</span>:
					<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3B_DDRSetting100MHz</span><span class="p">;</span>
			        <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3B_DDRSetting100MHz</span><span class="p">);</span>
                    <span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3B_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span> <span class="p">;</span>
                    <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3B_SKIP_CLOCK_PROGRAM_DUMP_100MHZ</span><span class="p">;</span>
			        <span class="k">break</span><span class="p">;</span>
		        <span class="k">case</span> <span class="n">DDR_133_MHZ</span>:
					<span class="n">bOverrideSelfRefresh</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">;</span>
					<span class="n">psDDRSetting</span> <span class="o">=</span> <span class="n">asT3B_DDRSetting133MHz</span><span class="p">;</span>
			        <span class="n">RegCount</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">asT3B_DDRSetting133MHz</span><span class="p">);</span>
	                <span class="n">RegCount</span> <span class="o">-=</span> <span class="n">T3B_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span> <span class="p">;</span>
		            <span class="n">psDDRSetting</span> <span class="o">+=</span> <span class="n">T3B_SKIP_CLOCK_PROGRAM_DUMP_133MHZ</span><span class="p">;</span>
					<span class="k">break</span><span class="p">;</span>
		      <span class="p">}</span>
		      <span class="k">break</span><span class="p">;</span>
	     <span class="p">}</span>
	<span class="nl">default:</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
	<span class="p">}</span></pre></div></td></tr>


<tr id="section-49"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-49">&#182;</a></div><p>total number of Register that has to be dumped</p></td><td class="code"><div class="highlight"><pre>	<span class="n">value</span> <span class="o">=</span><span class="n">RegCount</span>  <span class="p">;</span>
	<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="n">ul_ddr_setting_load_addr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
	<span class="k">if</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_PRINTK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s">&quot;%s:%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>

		<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">ul_ddr_setting_load_addr</span><span class="o">+=</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ULONG</span><span class="p">);</span>
	<span class="cm">/*signature */</span>
	<span class="n">value</span> <span class="o">=</span><span class="p">(</span><span class="mh">0x1d1e0dd0</span><span class="p">);</span>
	<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="n">ul_ddr_setting_load_addr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
	<span class="k">if</span><span class="p">(</span><span class="n">retval</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_PRINTK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s">&quot;%s:%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
		<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">ul_ddr_setting_load_addr</span><span class="o">+=</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ULONG</span><span class="p">);</span>
	<span class="n">RegCount</span><span class="o">*=</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">DDR_SETTING</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ULONG</span><span class="p">));</span>

	<span class="k">while</span><span class="p">(</span><span class="n">RegCount</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">retval</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">value</span> <span class="o">=</span> <span class="n">psDDRSetting</span><span class="o">-&gt;</span><span class="n">ulRegAddress</span> <span class="p">;</span>
		<span class="n">retval</span> <span class="o">=</span> <span class="n">wrmalt</span><span class="p">(</span> <span class="n">Adapter</span><span class="p">,</span> <span class="n">ul_ddr_setting_load_addr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">value</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
		<span class="n">ul_ddr_setting_load_addr</span><span class="o">+=</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ULONG</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">retval</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="k">if</span><span class="p">(</span><span class="n">bOverrideSelfRefresh</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">psDDRSetting</span><span class="o">-&gt;</span><span class="n">ulRegAddress</span> <span class="o">==</span> <span class="mh">0x0F007018</span><span class="p">))</span>
			<span class="p">{</span>
				<span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">psDDRSetting</span><span class="o">-&gt;</span><span class="n">ulRegValue</span> <span class="o">|</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="mi">8</span><span class="p">));</span>
				<span class="k">if</span><span class="p">(</span><span class="n">STATUS_SUCCESS</span> <span class="o">!=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="n">ul_ddr_setting_load_addr</span><span class="p">,</span>
						<span class="o">&amp;</span><span class="n">value</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">))){</span>
					<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_PRINTK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s">&quot;%s:%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
			<span class="k">else</span>
			<span class="p">{</span>
				<span class="n">value</span> <span class="o">=</span>  <span class="n">psDDRSetting</span><span class="o">-&gt;</span><span class="n">ulRegValue</span><span class="p">;</span>

				<span class="k">if</span><span class="p">(</span><span class="n">STATUS_SUCCESS</span> <span class="o">!=</span> <span class="n">wrmalt</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span> <span class="n">ul_ddr_setting_load_addr</span> <span class="p">,</span>
							<span class="o">&amp;</span><span class="n">value</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">))){</span>
					<span class="n">BCM_DEBUG_PRINT</span><span class="p">(</span><span class="n">Adapter</span><span class="p">,</span><span class="n">DBG_TYPE_PRINTK</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="s">&quot;%s:%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__FUNCTION__</span><span class="p">,</span> <span class="n">__LINE__</span><span class="p">);</span>
					<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="n">ul_ddr_setting_load_addr</span><span class="o">+=</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ULONG</span><span class="p">);</span>
		<span class="n">RegCount</span><span class="o">--</span><span class="p">;</span>
		<span class="n">psDDRSetting</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
<span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
