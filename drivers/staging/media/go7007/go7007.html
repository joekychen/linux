<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › staging › media › go7007 › go7007.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>go7007.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2005-2006 Micronas USA Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="cm"> * copy of this software and the associated README documentation file (the</span>
<span class="cm"> * &quot;Software&quot;), to deal in the Software without restriction, including</span>
<span class="cm"> * without limitation the rights to use, copy, modify, merge, publish,</span>
<span class="cm"> * distribute, sublicense, and/or sell copies of the Software, and to</span>
<span class="cm"> * permit persons to whom the Software is furnished to do so.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS</span>
<span class="cm"> * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</span>
<span class="cm"> * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY</span>
<span class="cm"> * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,</span>
<span class="cm"> * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE</span>
<span class="cm"> * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> */</span>

<span class="cm">/* DEPRECATED -- use V4L2_PIX_FMT_MPEG and then call GO7007IOC_S_MPEG_PARAMS</span>
<span class="cm"> * to select between MPEG1, MPEG2, and MPEG4 */</span>
<span class="cp">#define V4L2_PIX_FMT_MPEG4     v4l2_fourcc(&#39;M&#39;, &#39;P&#39;, &#39;G&#39;, &#39;4&#39;) </span><span class="cm">/* MPEG4 */</span><span class="cp"></span>

<span class="cm">/* These will be replaced with a better interface</span>
<span class="cm"> * soon, so don&#39;t get too attached to them */</span>
<span class="cp">#define	GO7007IOC_S_BITRATE	_IOW(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 0, int)</span>
<span class="cp">#define	GO7007IOC_G_BITRATE	_IOR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 1, int)</span>

<span class="k">enum</span> <span class="n">go7007_aspect_ratio</span> <span class="p">{</span>
	<span class="n">GO7007_ASPECT_RATIO_1_1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">GO7007_ASPECT_RATIO_4_3_NTSC</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">GO7007_ASPECT_RATIO_4_3_PAL</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">GO7007_ASPECT_RATIO_16_9_NTSC</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">GO7007_ASPECT_RATIO_16_9_PAL</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Used to set generic compression parameters */</span>
<span class="k">struct</span> <span class="n">go7007_comp_params</span> <span class="p">{</span>
	<span class="n">__u32</span> <span class="n">gop_size</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">max_b_frames</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">go7007_aspect_ratio</span> <span class="n">aspect_ratio</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define GO7007_COMP_CLOSED_GOP		0x00000001</span>
<span class="cp">#define GO7007_COMP_OMIT_SEQ_HEADER	0x00000002</span>

<span class="k">enum</span> <span class="n">go7007_mpeg_video_standard</span> <span class="p">{</span>
	<span class="n">GO7007_MPEG_VIDEO_MPEG1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">GO7007_MPEG_VIDEO_MPEG2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">GO7007_MPEG_VIDEO_MPEG4</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* Used to set parameters for V4L2_PIX_FMT_MPEG format */</span>
<span class="k">struct</span> <span class="n">go7007_mpeg_params</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="n">go7007_mpeg_video_standard</span> <span class="n">mpeg_video_standard</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">pali</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define GO7007_MPEG_FORCE_DVD_MODE	0x00000001</span>
<span class="cp">#define GO7007_MPEG_OMIT_GOP_HEADER	0x00000002</span>
<span class="cp">#define GO7007_MPEG_REPEAT_SEQHEADER	0x00000004</span>

<span class="cp">#define GO7007_MPEG_PROFILE(format, pali)	(((format)&lt;&lt;24)|(pali))</span>

<span class="cp">#define GO7007_MPEG2_PROFILE_MAIN_MAIN		GO7007_MPEG_PROFILE(2, 0x48)</span>

<span class="cp">#define GO7007_MPEG4_PROFILE_S_L0		GO7007_MPEG_PROFILE(4, 0x08)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_S_L1		GO7007_MPEG_PROFILE(4, 0x01)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_S_L2		GO7007_MPEG_PROFILE(4, 0x02)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_S_L3		GO7007_MPEG_PROFILE(4, 0x03)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_ARTS_L1		GO7007_MPEG_PROFILE(4, 0x91)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_ARTS_L2		GO7007_MPEG_PROFILE(4, 0x92)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_ARTS_L3		GO7007_MPEG_PROFILE(4, 0x93)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_ARTS_L4		GO7007_MPEG_PROFILE(4, 0x94)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_AS_L0		GO7007_MPEG_PROFILE(4, 0xf0)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_AS_L1		GO7007_MPEG_PROFILE(4, 0xf1)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_AS_L2		GO7007_MPEG_PROFILE(4, 0xf2)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_AS_L3		GO7007_MPEG_PROFILE(4, 0xf3)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_AS_L4		GO7007_MPEG_PROFILE(4, 0xf4)</span>
<span class="cp">#define GO7007_MPEG4_PROFILE_AS_L5		GO7007_MPEG_PROFILE(4, 0xf5)</span>

<span class="k">struct</span> <span class="n">go7007_md_params</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">region</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">trigger</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">pixel_threshold</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">motion_threshold</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">go7007_md_region</span> <span class="p">{</span>
	<span class="n">__u16</span> <span class="n">region</span><span class="p">;</span>
	<span class="n">__u16</span> <span class="n">flags</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">v4l2_clip</span> <span class="o">*</span><span class="n">clips</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#define	GO7007IOC_S_MPEG_PARAMS	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 2, \</span>
<span class="cp">					struct go7007_mpeg_params)</span>
<span class="cp">#define	GO7007IOC_G_MPEG_PARAMS	_IOR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 3, \</span>
<span class="cp">					struct go7007_mpeg_params)</span>
<span class="cp">#define	GO7007IOC_S_COMP_PARAMS	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 4, \</span>
<span class="cp">					struct go7007_comp_params)</span>
<span class="cp">#define	GO7007IOC_G_COMP_PARAMS	_IOR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 5, \</span>
<span class="cp">					struct go7007_comp_params)</span>
<span class="cp">#define	GO7007IOC_S_MD_PARAMS	_IOWR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 6, \</span>
<span class="cp">					struct go7007_md_params)</span>
<span class="cp">#define	GO7007IOC_G_MD_PARAMS	_IOR(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 7, \</span>
<span class="cp">					struct go7007_md_params)</span>
<span class="cp">#define	GO7007IOC_S_MD_REGION	_IOW(&#39;V&#39;, BASE_VIDIOC_PRIVATE + 8, \</span>
<span class="cp">					struct go7007_md_region)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
