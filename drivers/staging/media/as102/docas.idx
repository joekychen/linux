f | as10x_cmd.c | s | 11K | 366 | joseph daniel | josephdanielwalter@gmail.com | 1337080294 |  | [media] staging/media/as102: removed else statements  The else statement is actually not required, as we can assign AS10X_CMD_ERROR to the error variable directly.  Signed-off-by: joseph daniel <josephdanielwalter@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as102_usb_drv.h | s | 2.1K | 52 | Marcos Paulo de Souza | marcos.souza.org@gmail.com | 1334793497 |  | drivers: staging: media: as102: as102_usb_drv.h: Remove include of version.h  The output of "make versioncheck" told us that:  drivers/staging/media/as102/as102_usb_drv.h: 20 linux/version.h not needed.  If we take a look at the code, we can agree to remove it.  Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Cc: <linux-media@vger.kernel.org> Cc: <devel@driverdev.osuosl.org > Signed-off-by: Marcos Paulo de Souza <marcos.souza.org@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | as102_fw.h | s | 1.2K | 34 | Gianluca Gennari | gennarone@gmail.com | 1332177962 |  | [media] as102: add __packed attribute to structs defined inside packed structs  This patch fixes a regression in kernel 3.3 due to this patch:  http://patchwork.linuxtv.org/patch/8332/  That patch changes "#pragma pack(1)" with "__packed" attributes, but it is not complete. In fact, in the as102 driver there are a lot of structs/unions defined inside other structs/unions. When the "__packed" attribute is applied only on the external struct, it will not affect the internal struct definitions. So the regression is fixed by specifiying the "__packed" attribute also on the internal structs.  This patch should go into 3.3, as it fixes a regression introduced in the new kernel version.  Signed-off-by: Gianluca Gennari <gennarone@gmail.com> Signed-off-by: Ryley Angus <rangus@student.unimelb.edu.au> Cc: stable@kernel.org # for v3.3 Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Makefile | g | 205B |  | Sylwester Nawrocki | snjw23@gmail.com | 1320758886 |  | [media] staging: as102: Remove leftovers of the SPI bus driver  SPI bus driver support is not included in this module, the SPI driver files are missing. But some bits are still present so clean up the unused code. The SPI driver support can be properly added later if needed.  Then CONFIG_AS102_SPI and CONFIG_AS102_USB is now not needed and the pre-processor statements using these config options can now be removed from *.c files.  Cc: Devin Heitmueller <dheitmueller@kernellabs.com> Signed-off-by: Sylwester Nawrocki <snjw23@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as10x_types.h | s | 4.8K | 170 | Gianluca Gennari | gennarone@gmail.com | 1332177962 |  | [media] as102: add __packed attribute to structs defined inside packed structs  This patch fixes a regression in kernel 3.3 due to this patch:  http://patchwork.linuxtv.org/patch/8332/  That patch changes "#pragma pack(1)" with "__packed" attributes, but it is not complete. In fact, in the as102 driver there are a lot of structs/unions defined inside other structs/unions. When the "__packed" attribute is applied only on the external struct, it will not affect the internal struct definitions. So the regression is fixed by specifiying the "__packed" attribute also on the internal structs.  This patch should go into 3.3, as it fixes a regression introduced in the new kernel version.  Signed-off-by: Gianluca Gennari <gennarone@gmail.com> Signed-off-by: Ryley Angus <rangus@student.unimelb.edu.au> Cc: stable@kernel.org # for v3.3 Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as102_fw.c | s | 5.5K | 205 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1335984487 |  | Merge 3.4-rc5 into staging-next  This resolves the conflict in: 	drivers/staging/vt6656/ioctl.c  Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | as102_drv.c | s | 7.3K | 226 | Greg Kroah-Hartman | gregkh@linuxfoundation.org | 1335389586 |  | USB: staging: media: as102: convert to use module_usb_driver  The as102 driver can be converted to use module_usb_driver() which saves a lot of code, and gets rid of an unwanted err() call at the same time.  Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: Sylwester Nawrocki <snjw23@gmail.com> Cc: Piotr Chmura <chmooreck@poczta.onet.pl> Cc: Devin Heitmueller <dheitmueller@kernellabs.com> Cc: Randy Dunlap <rdunlap@xenotime.net> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | as10x_cmd_stream.c | s | 5.3K | 184 | Sylwester Nawrocki | snjw23@gmail.com | 1320759205 |  | [media] staging: as102: Eliminate as10x_handle_t alias  Remove pre-processor defined as10x_handle_t data type by directly replacing it with struct as102_bus_adapter_t. phandle is renamed to adap inside function bodies.  Cc: Devin Heitmueller <dheitmueller@kernellabs.com> Signed-off-by: Sylwester Nawrocki <snjw23@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as102_usb_drv.c | s | 11K | 402 | Linus Torvalds | torvalds@linux-foundation.org | 1337729661 |  | 
f | Kconfig | g | 240B |  | Sylwester Nawrocki | snjw23@gmail.com | 1320758917 |  | [media] staging: as102: Make the driver select CONFIG_FW_LOADER  It doesn't seem to be of much advantage to compile in FW_LOADER support conditionally, then make the driver always select FW_LOADER and remove #idefs from the code.  Cc: Devin Heitmueller <dheitmueller@kernellabs.com> Signed-off-by: Sylwester Nawrocki <snjw23@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as102_drv.h | s | 2.8K | 89 | Gianluca Gennari | gennarone@gmail.com | 1332177963 |  | [media] as102: set optimal eLNA config values for each device  Ryley and me tested several eLNA configuration values with both a rooftop and a portable antenna.  Ryley fuond out that the best value for his Elgato stick is indeed the current default value 0xC0.  Instead, my stick is not capable of tuning VHF channels with 0xC0. With 0x80, VHF works but the tuner sensitivity with the portable antenna is poor. Instead, the value 0xA0 works with VHF and also gives good performance with both the rooftop and the portable antenna.  So we concluded that devices built on the reference design work best with 0xA0, while custom designs (Elgato, PCTV) seem to require 0xC0.  I also removed the unused parameter "minor" in struct as102_dev_t.  Signed-off-by: Gianluca Gennari <gennarone@gmail.com> Signed-off-by: Ryley Angus <rangus@student.unimelb.edu.au> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as10x_handle.h | s | 1.8K | 45 | Sylwester Nawrocki | snjw23@gmail.com | 1320759205 |  | [media] staging: as102: Eliminate as10x_handle_t alias  Remove pre-processor defined as10x_handle_t data type by directly replacing it with struct as102_bus_adapter_t. phandle is renamed to adap inside function bodies.  Cc: Devin Heitmueller <dheitmueller@kernellabs.com> Signed-off-by: Sylwester Nawrocki <snjw23@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as102_fe.c | s | 13K | 500 | Marcos Paulo de Souza | marcos.souza.org@gmail.com | 1334793497 |  | drivers: staging: media: as102: as102fe.c: Remove include of version.h  The output of "make versioncheck" told us that:  drivers/staging/media/as102/as102_fe.c: 20 linux/version.h not needed.  If we take a look at the code, we can agree to remove this include.  Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Cc: <linux-media@vger.kernel.org> Cc: <devel@driverdev.osuosl.org> Signed-off-by: Marcos Paulo de Souza <marcos.souza.org@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | as10x_cmd_cfg.c | s | 5.7K | 182 | Sylwester Nawrocki | snjw23@gmail.com | 1320759205 |  | [media] staging: as102: Eliminate as10x_handle_t alias  Remove pre-processor defined as10x_handle_t data type by directly replacing it with struct as102_bus_adapter_t. phandle is renamed to adap inside function bodies.  Cc: Devin Heitmueller <dheitmueller@kernellabs.com> Signed-off-by: Sylwester Nawrocki <snjw23@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | as10x_cmd.h | s | 12K | 482 | Gianluca Gennari | gennarone@gmail.com | 1332177962 |  | [media] as102: add __packed attribute to structs defined inside packed structs  This patch fixes a regression in kernel 3.3 due to this patch:  http://patchwork.linuxtv.org/patch/8332/  That patch changes "#pragma pack(1)" with "__packed" attributes, but it is not complete. In fact, in the as102 driver there are a lot of structs/unions defined inside other structs/unions. When the "__packed" attribute is applied only on the external struct, it will not affect the internal struct definitions. So the regression is fixed by specifiying the "__packed" attribute also on the internal structs.  This patch should go into 3.3, as it fixes a regression introduced in the new kernel version.  Signed-off-by: Gianluca Gennari <gennarone@gmail.com> Signed-off-by: Ryley Angus <rangus@student.unimelb.edu.au> Cc: stable@kernel.org # for v3.3 Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
