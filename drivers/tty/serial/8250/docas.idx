f | Makefile | g | 810B |  | Linus Torvalds | torvalds@linux-foundation.org | 1337818326 |  | Merge branch 'delete-mca' of git://git.kernel.org/pub/scm/linux/kernel/git/paulg/linux  Pull the MCA deletion branch from Paul Gortmaker:  "It was good that we could support MCA machines back in the day, but   realistically, nobody is using them anymore.  They were mostly limited   to 386-sx 16MHz CPU and some 486 class machines and never more than   64MB of RAM.  Even the enthusiast hobbyist community seems to have   dried up close to ten years ago, based on what you can find searching   various websites dedicated to the relatively short lived hardware.    So lets remove the support relating to CONFIG_MCA.  There is no point   carrying this forward, wasting cycles doing routine maintenance on it;   wasting allyesconfig build time on validating it, wasting I/O on git   grep'ping over it, and so on."  Let's see if anybody screams.  It generally has compiled, and James Bottomley pointed out that there was a MCA extension from NCR that allowed for up to 4GB of memory and PPro-class machines.  So in *theory* there may be users out there.  But even James (technically listed as a maintainer) doesn't actually have a system, and while Alan Cox claims to have a machine in his cellar that he offered to anybody who wants to take it off his hands, he didn't argue for keeping MCA support either.  So we could bring it back.  But somebody had better speak up and talk about how they have actually been using said MCA hardware with modern kernels for us to do that.  And David already took the patch to delete all the networking driver code (commit a5e371f61ad3: "drivers/net: delete all code/drivers depending on CONFIG_MCA").  * 'delete-mca' of git://git.kernel.org/pub/scm/linux/kernel/git/paulg/linux:   MCA: delete all remaining traces of microchannel bus support.   scsi: delete the MCA specific drivers and driver code   serial: delete the MCA specific 8250 support.   arm: remove ability to select CONFIG_MCA
f | 8250_hp300.c | s | 7.6K | 269 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_pnp.c | s | 14K | 491 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_exar_st16c554.c | s | 1.1K | 44 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | serial_cs.c | s | 29K | 739 | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | 8250_gsc.c | s | 3.5K | 104 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_fsl.c | s | 1.8K | 52 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_boca.c | s | 1.2K | 53 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250.c | s | 82K | 2863 | Randy Dunlap | rdunlap@xenotime.net | 1339540878 |  | serial: fix kernel-doc warnings in 8250.c  Fix kernel-doc warnings in drivers/tty/serial/8250/8250.c:  Warning(drivers/tty/serial/8250/8250.c:3128): No description found for parameter 'up' Warning(drivers/tty/serial/8250/8250.c:3128): Excess function parameter 'port' description in 'serial8250_register_8250_port'  Signed-off-by: Randy Dunlap <rdunlap@xenotime.net> Acked-by: Alan Cox <alan@linux.intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | 8250_pci.c | s | 107K | 3908 | Arnaud Patard | apatard@hupstream.com | 1335752129 |  | 8250_pci: fix pch uart matching  The rules used to make 8250_pci "ignore" the PCH uarts are lacking pci subids entries, preventing it to match and thus is breaking serial port support for theses systems.  This has been tested on a nanoETXexpress-TT, which has a specifici uart clock.  Tested-by: Erwan Velu <Erwan.Velu@zodiacaerospace.com> [stable@: please apply to 3.0-stable, 3.2-stable and 3.3-stable] Cc: stable <stable@vger.kernel.org> Signed-off-by: Arnaud Patard <apatard@hupstream.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | 8250_early.c | s | 7.0K | 245 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_accent.c | s | 1.0K | 39 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_em.c | s | 4.9K | 162 | Magnus Damm | damm@opensource.se | 1336601491 |  | serial8250-em: Add DT support  Update the 8250_em driver to support DT.  Signed-off-by: Magnus Damm <damm@opensource.se> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | Kconfig | g | 9.5K |  | Linus Torvalds | torvalds@linux-foundation.org | 1337818326 |  | Merge branch 'delete-mca' of git://git.kernel.org/pub/scm/linux/kernel/git/paulg/linux  Pull the MCA deletion branch from Paul Gortmaker:  "It was good that we could support MCA machines back in the day, but   realistically, nobody is using them anymore.  They were mostly limited   to 386-sx 16MHz CPU and some 486 class machines and never more than   64MB of RAM.  Even the enthusiast hobbyist community seems to have   dried up close to ten years ago, based on what you can find searching   various websites dedicated to the relatively short lived hardware.    So lets remove the support relating to CONFIG_MCA.  There is no point   carrying this forward, wasting cycles doing routine maintenance on it;   wasting allyesconfig build time on validating it, wasting I/O on git   grep'ping over it, and so on."  Let's see if anybody screams.  It generally has compiled, and James Bottomley pointed out that there was a MCA extension from NCR that allowed for up to 4GB of memory and PPro-class machines.  So in *theory* there may be users out there.  But even James (technically listed as a maintainer) doesn't actually have a system, and while Alan Cox claims to have a machine in his cellar that he offered to anybody who wants to take it off his hands, he didn't argue for keeping MCA support either.  So we could bring it back.  But somebody had better speak up and talk about how they have actually been using said MCA hardware with modern kernels for us to do that.  And David already took the patch to delete all the networking driver code (commit a5e371f61ad3: "drivers/net: delete all code/drivers depending on CONFIG_MCA").  * 'delete-mca' of git://git.kernel.org/pub/scm/linux/kernel/git/paulg/linux:   MCA: delete all remaining traces of microchannel bus support.   scsi: delete the MCA specific drivers and driver code   serial: delete the MCA specific 8250 support.   arm: remove ability to select CONFIG_MCA
f | 8250_fourport.c | s | 1.1K | 45 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_hub6.c | s | 1.2K | 50 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250.h | s | 3.9K | 114 | Magnus Damm | damm@opensource.se | 1335992680 |  | serial8250: Add dl_read()/dl_write() callbacks  Convert serial_dl_read() and serial_dl_write() from macro to 8250 specific callbacks. This change makes it easier to support 8250 hardware with non-standard DLL and DLM register configurations such as Alchemy, RM9K and upcoming Emma Mobile UART hardware.  Signed-off-by: Magnus Damm <damm@opensource.se> Acked-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Alan Cox <alan@linux.intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | 8250_acorn.c | s | 3.1K | 115 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | 8250_dw.c | s | 4.4K | 151 | Paul Gortmaker | paul.gortmaker@windriver.com | 1327433039 |  | serial: group all the 8250 related code together  The drivers/tty/serial dir is already getting rather busy. Relocate the 8250 related drivers to their own subdir to reduce the clutter.  Note that sunsu.c is not included in this move -- it is 8250-like hardware, but it does not use any of the existing infrastructure -- and does not depend on SERIAL_8250.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
