<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › tty › serial › dz.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>dz.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * dz.h: Serial port driver for DECstations equipped</span>
<span class="cm"> *       with the DZ chipset.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 1998 Olivier A. D. Lebaillif </span>
<span class="cm"> *             </span>
<span class="cm"> * Email: olivier.lebaillif@ifrsys.com</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2004, 2006  Maciej W. Rozycki</span>
<span class="cm"> */</span>
<span class="cp">#ifndef DZ_SERIAL_H</span>
<span class="cp">#define DZ_SERIAL_H</span>

<span class="cm">/*</span>
<span class="cm"> * Definitions for the Control and Status Register.</span>
<span class="cm"> */</span>
<span class="cp">#define DZ_TRDY        0x8000                 </span><span class="cm">/* Transmitter empty */</span><span class="cp"></span>
<span class="cp">#define DZ_TIE         0x4000                 </span><span class="cm">/* Transmitter Interrupt Enbl */</span><span class="cp"></span>
<span class="cp">#define DZ_TLINE       0x0300                 </span><span class="cm">/* Transmitter Line Number */</span><span class="cp"></span>
<span class="cp">#define DZ_RDONE       0x0080                 </span><span class="cm">/* Receiver data ready */</span><span class="cp"></span>
<span class="cp">#define DZ_RIE         0x0040                 </span><span class="cm">/* Receive Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define DZ_MSE         0x0020                 </span><span class="cm">/* Master Scan Enable */</span><span class="cp"></span>
<span class="cp">#define DZ_CLR         0x0010                 </span><span class="cm">/* Master reset */</span><span class="cp"></span>
<span class="cp">#define DZ_MAINT       0x0008                 </span><span class="cm">/* Loop Back Mode */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Definitions for the Receiver Buffer Register.</span>
<span class="cm"> */</span>
<span class="cp">#define DZ_RBUF_MASK   0x00FF                 </span><span class="cm">/* Data Mask */</span><span class="cp"></span>
<span class="cp">#define DZ_LINE_MASK   0x0300                 </span><span class="cm">/* Line Mask */</span><span class="cp"></span>
<span class="cp">#define DZ_DVAL        0x8000                 </span><span class="cm">/* Valid Data indicator */</span><span class="cp"></span>
<span class="cp">#define DZ_OERR        0x4000                 </span><span class="cm">/* Overrun error indicator */</span><span class="cp"></span>
<span class="cp">#define DZ_FERR        0x2000                 </span><span class="cm">/* Frame error indicator */</span><span class="cp"></span>
<span class="cp">#define DZ_PERR        0x1000                 </span><span class="cm">/* Parity error indicator */</span><span class="cp"></span>

<span class="cp">#define DZ_BREAK       0x0800                 </span><span class="cm">/* BREAK event software flag */</span><span class="cp"></span>

<span class="cp">#define LINE(x) ((x &amp; DZ_LINE_MASK) &gt;&gt; 8)     </span><span class="cm">/* Get the line number</span>
<span class="cm">                                                 from the input buffer */</span><span class="cp"></span>
<span class="cp">#define UCHAR(x) ((unsigned char)(x &amp; DZ_RBUF_MASK))</span>

<span class="cm">/*</span>
<span class="cm"> * Definitions for the Transmit Control Register.</span>
<span class="cm"> */</span>
<span class="cp">#define DZ_LINE_KEYBOARD 0x0001</span>
<span class="cp">#define DZ_LINE_MOUSE    0x0002</span>
<span class="cp">#define DZ_LINE_MODEM    0x0004</span>
<span class="cp">#define DZ_LINE_PRINTER  0x0008</span>

<span class="cp">#define DZ_MODEM_RTS     0x0800               </span><span class="cm">/* RTS for the modem line (2) */</span><span class="cp"></span>
<span class="cp">#define DZ_MODEM_DTR     0x0400               </span><span class="cm">/* DTR for the modem line (2) */</span><span class="cp"></span>
<span class="cp">#define DZ_PRINT_RTS     0x0200               </span><span class="cm">/* RTS for the prntr line (3) */</span><span class="cp"></span>
<span class="cp">#define DZ_PRINT_DTR     0x0100               </span><span class="cm">/* DTR for the prntr line (3) */</span><span class="cp"></span>
<span class="cp">#define DZ_LNENB         0x000f               </span><span class="cm">/* Transmitter Line Enable */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Definitions for the Modem Status Register.</span>
<span class="cm"> */</span>
<span class="cp">#define DZ_MODEM_RI      0x0800               </span><span class="cm">/* RI for the modem line (2) */</span><span class="cp"></span>
<span class="cp">#define DZ_MODEM_CD      0x0400               </span><span class="cm">/* CD for the modem line (2) */</span><span class="cp"></span>
<span class="cp">#define DZ_MODEM_DSR     0x0200               </span><span class="cm">/* DSR for the modem line (2) */</span><span class="cp"></span>
<span class="cp">#define DZ_MODEM_CTS     0x0100               </span><span class="cm">/* CTS for the modem line (2) */</span><span class="cp"></span>
<span class="cp">#define DZ_PRINT_RI      0x0008               </span><span class="cm">/* RI for the printer line (3) */</span><span class="cp"></span>
<span class="cp">#define DZ_PRINT_CD      0x0004               </span><span class="cm">/* CD for the printer line (3) */</span><span class="cp"></span>
<span class="cp">#define DZ_PRINT_DSR     0x0002               </span><span class="cm">/* DSR for the prntr line (3) */</span><span class="cp"></span>
<span class="cp">#define DZ_PRINT_CTS     0x0001               </span><span class="cm">/* CTS for the prntr line (3) */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Definitions for the Transmit Data Register.</span>
<span class="cm"> */</span>
<span class="cp">#define DZ_BRK0          0x0100               </span><span class="cm">/* Break assertion for line 0 */</span><span class="cp"></span>
<span class="cp">#define DZ_BRK1          0x0200               </span><span class="cm">/* Break assertion for line 1 */</span><span class="cp"></span>
<span class="cp">#define DZ_BRK2          0x0400               </span><span class="cm">/* Break assertion for line 2 */</span><span class="cp"></span>
<span class="cp">#define DZ_BRK3          0x0800               </span><span class="cm">/* Break assertion for line 3 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Definitions for the Line Parameter Register.</span>
<span class="cm"> */</span>
<span class="cp">#define DZ_KEYBOARD      0x0000               </span><span class="cm">/* line 0 = keyboard */</span><span class="cp"></span>
<span class="cp">#define DZ_MOUSE         0x0001               </span><span class="cm">/* line 1 = mouse */</span><span class="cp"></span>
<span class="cp">#define DZ_MODEM         0x0002               </span><span class="cm">/* line 2 = modem */</span><span class="cp"></span>
<span class="cp">#define DZ_PRINTER       0x0003               </span><span class="cm">/* line 3 = printer */</span><span class="cp"></span>

<span class="cp">#define DZ_CSIZE         0x0018               </span><span class="cm">/* Number of bits per byte (mask) */</span><span class="cp"></span>
<span class="cp">#define DZ_CS5           0x0000               </span><span class="cm">/* 5 bits per byte */</span><span class="cp"></span>
<span class="cp">#define DZ_CS6           0x0008               </span><span class="cm">/* 6 bits per byte */</span><span class="cp"></span>
<span class="cp">#define DZ_CS7           0x0010               </span><span class="cm">/* 7 bits per byte */</span><span class="cp"></span>
<span class="cp">#define DZ_CS8           0x0018               </span><span class="cm">/* 8 bits per byte */</span><span class="cp"></span>

<span class="cp">#define DZ_CSTOPB        0x0020               </span><span class="cm">/* 2 stop bits instead of one */</span><span class="cp"> </span>

<span class="cp">#define DZ_PARENB        0x0040               </span><span class="cm">/* Parity enable */</span><span class="cp"></span>
<span class="cp">#define DZ_PARODD        0x0080               </span><span class="cm">/* Odd parity instead of even */</span><span class="cp"></span>

<span class="cp">#define DZ_CBAUD         0x0E00               </span><span class="cm">/* Baud Rate (mask) */</span><span class="cp"></span>
<span class="cp">#define DZ_B50           0x0000</span>
<span class="cp">#define DZ_B75           0x0100</span>
<span class="cp">#define DZ_B110          0x0200</span>
<span class="cp">#define DZ_B134          0x0300</span>
<span class="cp">#define DZ_B150          0x0400</span>
<span class="cp">#define DZ_B300          0x0500</span>
<span class="cp">#define DZ_B600          0x0600</span>
<span class="cp">#define DZ_B1200         0x0700 </span>
<span class="cp">#define DZ_B1800         0x0800</span>
<span class="cp">#define DZ_B2000         0x0900</span>
<span class="cp">#define DZ_B2400         0x0A00</span>
<span class="cp">#define DZ_B3600         0x0B00</span>
<span class="cp">#define DZ_B4800         0x0C00</span>
<span class="cp">#define DZ_B7200         0x0D00</span>
<span class="cp">#define DZ_B9600         0x0E00</span>

<span class="cp">#define DZ_RXENAB        0x1000               </span><span class="cm">/* Receiver Enable */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Addresses for the DZ registers</span>
<span class="cm"> */</span>
<span class="cp">#define DZ_CSR       0x00            </span><span class="cm">/* Control and Status Register */</span><span class="cp"></span>
<span class="cp">#define DZ_RBUF      0x08            </span><span class="cm">/* Receive Buffer */</span><span class="cp"></span>
<span class="cp">#define DZ_LPR       0x08            </span><span class="cm">/* Line Parameters Register */</span><span class="cp"></span>
<span class="cp">#define DZ_TCR       0x10            </span><span class="cm">/* Transmitter Control Register */</span><span class="cp"></span>
<span class="cp">#define DZ_MSR       0x18            </span><span class="cm">/* Modem Status Register */</span><span class="cp"></span>
<span class="cp">#define DZ_TDR       0x18            </span><span class="cm">/* Transmit Data Register */</span><span class="cp"></span>

<span class="cp">#define DZ_NB_PORT 4</span>

<span class="cp">#define DZ_XMIT_SIZE   4096                 </span><span class="cm">/* buffer size */</span><span class="cp"></span>
<span class="cp">#define DZ_WAKEUP_CHARS   DZ_XMIT_SIZE/4</span>

<span class="cp">#endif </span><span class="cm">/* DZ_SERIAL_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
