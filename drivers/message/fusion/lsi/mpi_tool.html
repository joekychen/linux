<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › message › fusion › lsi › mpi_tool.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mpi_tool.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Copyright (c) 2001-2008 LSI Corporation.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> *           Name:  mpi_tool.h</span>
<span class="cm"> *          Title:  MPI Toolbox structures and definitions</span>
<span class="cm"> *  Creation Date:  July 30, 2001</span>
<span class="cm"> *</span>
<span class="cm"> *    mpi_tool.h Version:  01.05.03</span>
<span class="cm"> *</span>
<span class="cm"> *  Version History</span>
<span class="cm"> *  ---------------</span>
<span class="cm"> *</span>
<span class="cm"> *  Date      Version   Description</span>
<span class="cm"> *  --------  --------  ------------------------------------------------------</span>
<span class="cm"> *  08-08-01  01.02.01  Original release.</span>
<span class="cm"> *  08-29-01  01.02.02  Added DIAG_DATA_UPLOAD_HEADER and related defines.</span>
<span class="cm"> *  01-16-04  01.02.03  Added defines and structures for new tools</span>
<span class="cm"> *.                     MPI_TOOLBOX_ISTWI_READ_WRITE_TOOL and</span>
<span class="cm"> *                      MPI_TOOLBOX_FC_MANAGEMENT_TOOL.</span>
<span class="cm"> *  04-29-04  01.02.04  Added message structures for Diagnostic Buffer Post and</span>
<span class="cm"> *                      Diagnostic Release requests and replies.</span>
<span class="cm"> *  05-11-04  01.03.01  Original release for MPI v1.3.</span>
<span class="cm"> *  08-19-04  01.05.01  Original release for MPI v1.5.</span>
<span class="cm"> *  10-06-04  01.05.02  Added define for MPI_DIAG_BUF_TYPE_COUNT.</span>
<span class="cm"> *  02-09-05  01.05.03  Added frame size option to FC management tool.</span>
<span class="cm"> *                      Added Beacon tool to the Toolbox.</span>
<span class="cm"> *  --------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cp">#ifndef MPI_TOOL_H</span>
<span class="cp">#define MPI_TOOL_H</span>

<span class="cp">#define MPI_TOOLBOX_CLEAN_TOOL                      (0x00)</span>
<span class="cp">#define MPI_TOOLBOX_MEMORY_MOVE_TOOL                (0x01)</span>
<span class="cp">#define MPI_TOOLBOX_DIAG_DATA_UPLOAD_TOOL           (0x02)</span>
<span class="cp">#define MPI_TOOLBOX_ISTWI_READ_WRITE_TOOL           (0x03)</span>
<span class="cp">#define MPI_TOOLBOX_FC_MANAGEMENT_TOOL              (0x04)</span>
<span class="cp">#define MPI_TOOLBOX_BEACON_TOOL                     (0x05)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Toolbox reply                                                            */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_TOOLBOX_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 10h */</span>
<span class="p">}</span> <span class="n">MSG_TOOLBOX_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_TOOLBOX_REPLY</span><span class="p">,</span>
  <span class="n">ToolboxReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pToolboxReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Toolbox Clean Tool request                                               */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_TOOLBOX_CLEAN_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0Ch */</span>
<span class="p">}</span> <span class="n">MSG_TOOLBOX_CLEAN_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_TOOLBOX_CLEAN_REQUEST</span><span class="p">,</span>
  <span class="n">ToolboxCleanRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pToolboxCleanRequest_t</span><span class="p">;</span>

<span class="cp">#define MPI_TOOLBOX_CLEAN_NVSRAM                    (0x00000001)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_SEEPROM                   (0x00000002)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_FLASH                     (0x00000004)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_BOOTLOADER                (0x04000000)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_FW_BACKUP                 (0x08000000)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_FW_CURRENT                (0x10000000)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_OTHER_PERSIST_PAGES       (0x20000000)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_PERSIST_MANUFACT_PAGES    (0x40000000)</span>
<span class="cp">#define MPI_TOOLBOX_CLEAN_BOOT_SERVICES             (0x80000000)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Toolbox Memory Move request                                              */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_TOOLBOX_MEM_MOVE_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">SGE_SIMPLE_UNION</span>        <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 0Ch */</span>
<span class="p">}</span> <span class="n">MSG_TOOLBOX_MEM_MOVE_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_TOOLBOX_MEM_MOVE_REQUEST</span><span class="p">,</span>
  <span class="n">ToolboxMemMoveRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pToolboxMemMoveRequest_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Toolbox Diagnostic Data Upload request                                   */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_TOOLBOX_DIAG_DATA_UPLOAD_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0Ch */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 10h */</span>
    <span class="n">SGE_SIMPLE_UNION</span>        <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 14h */</span>
<span class="p">}</span> <span class="n">MSG_TOOLBOX_DIAG_DATA_UPLOAD_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_TOOLBOX_DIAG_DATA_UPLOAD_REQUEST</span><span class="p">,</span>
  <span class="n">ToolboxDiagDataUploadRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pToolboxDiagDataUploadRequest_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIAG_DATA_UPLOAD_HEADER</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">DiagDataLength</span><span class="p">;</span>             <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">FormatCode</span><span class="p">;</span>                 <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 05h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
<span class="p">}</span> <span class="n">DIAG_DATA_UPLOAD_HEADER</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_DIAG_DATA_UPLOAD_HEADER</span><span class="p">,</span>
  <span class="n">DiagDataUploadHeader_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pDiagDataUploadHeader_t</span><span class="p">;</span>

<span class="cp">#define MPI_TB_DIAG_FORMAT_SCSI_PRINTF_1            (0x01)</span>
<span class="cp">#define MPI_TB_DIAG_FORMAT_SCSI_2                   (0x02)</span>
<span class="cp">#define MPI_TB_DIAG_FORMAT_SCSI_3                   (0x03)</span>
<span class="cp">#define MPI_TB_DIAG_FORMAT_FC_TRACE_1               (0x04)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Toolbox ISTWI Read Write request                                         */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_TOOLBOX_ISTWI_READ_WRITE_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0Ch */</span>
    <span class="n">U8</span>                      <span class="n">BusNum</span><span class="p">;</span>                     <span class="cm">/* 0Dh */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0Eh */</span>
    <span class="n">U8</span>                      <span class="n">NumAddressBytes</span><span class="p">;</span>            <span class="cm">/* 10h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 11h */</span>
    <span class="n">U16</span>                     <span class="n">DataLength</span><span class="p">;</span>                 <span class="cm">/* 12h */</span>
    <span class="n">U8</span>                      <span class="n">DeviceAddr</span><span class="p">;</span>                 <span class="cm">/* 14h */</span>
    <span class="n">U8</span>                      <span class="n">Addr1</span><span class="p">;</span>                      <span class="cm">/* 15h */</span>
    <span class="n">U8</span>                      <span class="n">Addr2</span><span class="p">;</span>                      <span class="cm">/* 16h */</span>
    <span class="n">U8</span>                      <span class="n">Addr3</span><span class="p">;</span>                      <span class="cm">/* 17h */</span>
    <span class="n">U32</span>                     <span class="n">Reserved5</span><span class="p">;</span>                  <span class="cm">/* 18h */</span>
    <span class="n">SGE_SIMPLE_UNION</span>        <span class="n">SGL</span><span class="p">;</span>                        <span class="cm">/* 1Ch */</span>
<span class="p">}</span> <span class="n">MSG_TOOLBOX_ISTWI_READ_WRITE_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_TOOLBOX_ISTWI_READ_WRITE_REQUEST</span><span class="p">,</span>
  <span class="n">ToolboxIstwiReadWriteRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pToolboxIstwiReadWriteRequest_t</span><span class="p">;</span>

<span class="cp">#define MPI_TB_ISTWI_FLAGS_WRITE                    (0x00)</span>
<span class="cp">#define MPI_TB_ISTWI_FLAGS_READ                     (0x01)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Toolbox FC Management request                                            */</span>
<span class="cm">/****************************************************************************/</span>

<span class="cm">/* ActionInfo for Bus and TargetId */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI_TB_FC_MANAGE_BUS_TID_AI</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">TargetId</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
<span class="p">}</span> <span class="n">MPI_TB_FC_MANAGE_BUS_TID_AI</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_TB_FC_MANAGE_BUS_TID_AI</span><span class="p">,</span>
  <span class="n">MpiTbFcManageBusTidAi_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiTbFcManageBusTidAi_t</span><span class="p">;</span>

<span class="cm">/* ActionInfo for port identifier */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI_TB_FC_MANAGE_PID_AI</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">PortIdentifier</span><span class="p">;</span>             <span class="cm">/* 00h */</span>
<span class="p">}</span> <span class="n">MPI_TB_FC_MANAGE_PID_AI</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_TB_FC_MANAGE_PID_AI</span><span class="p">,</span>
  <span class="n">MpiTbFcManagePidAi_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiTbFcManagePidAi_t</span><span class="p">;</span>

<span class="cm">/* ActionInfo for set max frame size */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MPI_TB_FC_MANAGE_FRAME_SIZE_AI</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">FrameSize</span><span class="p">;</span>                  <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">PortNum</span><span class="p">;</span>                    <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 03h */</span>
<span class="p">}</span> <span class="n">MPI_TB_FC_MANAGE_FRAME_SIZE_AI</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_TB_FC_MANAGE_FRAME_SIZE_AI</span><span class="p">,</span>
  <span class="n">MpiTbFcManageFrameSizeAi_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiTbFcManageFrameSizeAi_t</span><span class="p">;</span>

<span class="cm">/* union of ActionInfo */</span>
<span class="k">typedef</span> <span class="k">union</span> <span class="n">_MPI_TB_FC_MANAGE_AI_UNION</span>
<span class="p">{</span>
    <span class="n">MPI_TB_FC_MANAGE_BUS_TID_AI</span>     <span class="n">BusTid</span><span class="p">;</span>
    <span class="n">MPI_TB_FC_MANAGE_PID_AI</span>         <span class="n">Port</span><span class="p">;</span>
    <span class="n">MPI_TB_FC_MANAGE_FRAME_SIZE_AI</span>  <span class="n">FrameSize</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI_TB_FC_MANAGE_AI_UNION</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_TB_FC_MANAGE_AI_UNION</span><span class="p">,</span>
  <span class="n">MpiTbFcManageAiUnion_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiTbFcManageAiUnion_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_TOOLBOX_FC_MANAGE_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                          <span class="n">Tool</span><span class="p">;</span>                   <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                          <span class="n">Reserved</span><span class="p">;</span>               <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                          <span class="n">ChainOffset</span><span class="p">;</span>            <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                          <span class="n">Function</span><span class="p">;</span>               <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                         <span class="n">Reserved1</span><span class="p">;</span>              <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                          <span class="n">Reserved2</span><span class="p">;</span>              <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                          <span class="n">MsgFlags</span><span class="p">;</span>               <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                         <span class="n">MsgContext</span><span class="p">;</span>             <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                          <span class="n">Action</span><span class="p">;</span>                 <span class="cm">/* 0Ch */</span>
    <span class="n">U8</span>                          <span class="n">Reserved3</span><span class="p">;</span>              <span class="cm">/* 0Dh */</span>
    <span class="n">U16</span>                         <span class="n">Reserved4</span><span class="p">;</span>              <span class="cm">/* 0Eh */</span>
    <span class="n">MPI_TB_FC_MANAGE_AI_UNION</span>   <span class="n">ActionInfo</span><span class="p">;</span>             <span class="cm">/* 10h */</span>
<span class="p">}</span> <span class="n">MSG_TOOLBOX_FC_MANAGE_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_TOOLBOX_FC_MANAGE_REQUEST</span><span class="p">,</span>
  <span class="n">ToolboxFcManageRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pToolboxFcManageRequest_t</span><span class="p">;</span>

<span class="cm">/* defines for the Action field */</span>
<span class="cp">#define MPI_TB_FC_MANAGE_ACTION_DISC_ALL            (0x00)</span>
<span class="cp">#define MPI_TB_FC_MANAGE_ACTION_DISC_PID            (0x01)</span>
<span class="cp">#define MPI_TB_FC_MANAGE_ACTION_DISC_BUS_TID        (0x02)</span>
<span class="cp">#define MPI_TB_FC_MANAGE_ACTION_SET_MAX_FRAME_SIZE  (0x03)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Toolbox Beacon Tool request                                               */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_TOOLBOX_BEACON_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Tool</span><span class="p">;</span>                       <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>                   <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">ConnectNum</span><span class="p">;</span>                 <span class="cm">/* 0Ch */</span>
    <span class="n">U8</span>                      <span class="n">PortNum</span><span class="p">;</span>                    <span class="cm">/* 0Dh */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 0Eh */</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 0Fh */</span>
<span class="p">}</span> <span class="n">MSG_TOOLBOX_BEACON_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_TOOLBOX_BEACON_REQUEST</span><span class="p">,</span>
  <span class="n">ToolboxBeaconRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pToolboxBeaconRequest_t</span><span class="p">;</span>

<span class="cp">#define MPI_TOOLBOX_FLAGS_BEACON_MODE_OFF       (0x00)</span>
<span class="cp">#define MPI_TOOLBOX_FLAGS_BEACON_MODE_ON        (0x01)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Diagnostic Buffer Post request                                           */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_DIAG_BUFFER_POST_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TraceLevel</span><span class="p">;</span>                 <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">ExtendedType</span><span class="p">;</span>               <span class="cm">/* 0Ch */</span>
    <span class="n">U32</span>                     <span class="n">BufferLength</span><span class="p">;</span>               <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">ProductSpecific</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>         <span class="cm">/* 14h */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 24h */</span>
    <span class="n">U64</span>                     <span class="n">BufferAddress</span><span class="p">;</span>              <span class="cm">/* 28h */</span>
<span class="p">}</span> <span class="n">MSG_DIAG_BUFFER_POST_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_DIAG_BUFFER_POST_REQUEST</span><span class="p">,</span>
  <span class="n">DiagBufferPostRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pDiagBufferPostRequest_t</span><span class="p">;</span>

<span class="cp">#define MPI_DIAG_BUF_TYPE_TRACE                     (0x00)</span>
<span class="cp">#define MPI_DIAG_BUF_TYPE_SNAPSHOT                  (0x01)</span>
<span class="cp">#define MPI_DIAG_BUF_TYPE_EXTENDED                  (0x02)</span>
<span class="cm">/* count of the number of buffer types */</span>
<span class="cp">#define MPI_DIAG_BUF_TYPE_COUNT                     (0x03)</span>

<span class="cp">#define MPI_DIAG_EXTENDED_QTAG                      (0x00000001)</span>


<span class="cm">/* Diagnostic Buffer Post reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_DIAG_BUFFER_POST_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">TransferLength</span><span class="p">;</span>             <span class="cm">/* 14h */</span>
<span class="p">}</span> <span class="n">MSG_DIAG_BUFFER_POST_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_DIAG_BUFFER_POST_REPLY</span><span class="p">,</span>
  <span class="n">DiagBufferPostReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pDiagBufferPostReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Diagnostic Release request                                               */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_DIAG_RELEASE_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
<span class="p">}</span> <span class="n">MSG_DIAG_RELEASE_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_DIAG_RELEASE_REQUEST</span><span class="p">,</span>
  <span class="n">DiagReleaseRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pDiagReleaseRequest_t</span><span class="p">;</span>


<span class="cm">/* Diagnostic Release reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_DIAG_RELEASE_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">BufferType</span><span class="p">;</span>                 <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved3</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved4</span><span class="p">;</span>                  <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 10h */</span>
<span class="p">}</span> <span class="n">MSG_DIAG_RELEASE_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_DIAG_RELEASE_REPLY</span><span class="p">,</span>
  <span class="n">DiagReleaseReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pDiagReleaseReply_t</span><span class="p">;</span>


<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
