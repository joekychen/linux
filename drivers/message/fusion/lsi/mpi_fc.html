<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › message › fusion › lsi › mpi_fc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mpi_fc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Copyright (c) 2000-2008 LSI Corporation.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> *           Name:  mpi_fc.h</span>
<span class="cm"> *          Title:  MPI Fibre Channel messages and structures</span>
<span class="cm"> *  Creation Date:  June 12, 2000</span>
<span class="cm"> *</span>
<span class="cm"> *    mpi_fc.h Version:  01.05.01</span>
<span class="cm"> *</span>
<span class="cm"> *  Version History</span>
<span class="cm"> *  ---------------</span>
<span class="cm"> *</span>
<span class="cm"> *  Date      Version   Description</span>
<span class="cm"> *  --------  --------  ------------------------------------------------------</span>
<span class="cm"> *  05-08-00  00.10.01  Original release for 0.10 spec dated 4/26/2000.</span>
<span class="cm"> *  06-06-00  01.00.01  Update version number for 1.0 release.</span>
<span class="cm"> *  06-12-00  01.00.02  Added _MSG_FC_ABORT_REPLY structure.</span>
<span class="cm"> *  11-02-00  01.01.01  Original release for post 1.0 work</span>
<span class="cm"> *  12-04-00  01.01.02  Added messages for Common Transport Send and</span>
<span class="cm"> *                      Primitive Send.</span>
<span class="cm"> *  01-09-01  01.01.03  Modifed some of the new flags to have an MPI prefix</span>
<span class="cm"> *                      and modified the FcPrimitiveSend flags.</span>
<span class="cm"> *  01-25-01  01.01.04  Move InitiatorIndex in LinkServiceRsp reply to a larger</span>
<span class="cm"> *                      field.</span>
<span class="cm"> *                      Added FC_ABORT_TYPE_CT_SEND_REQUEST and</span>
<span class="cm"> *                      FC_ABORT_TYPE_EXLINKSEND_REQUEST for FcAbort request.</span>
<span class="cm"> *                      Added MPI_FC_PRIM_SEND_FLAGS_STOP_SEND.</span>
<span class="cm"> *  02-20-01  01.01.05  Started using MPI_POINTER.</span>
<span class="cm"> *  03-27-01  01.01.06  Added Flags field to MSG_LINK_SERVICE_BUFFER_POST_REPLY</span>
<span class="cm"> *                      and defined MPI_LS_BUF_POST_REPLY_FLAG_NO_RSP_NEEDED.</span>
<span class="cm"> *                      Added MPI_FC_PRIM_SEND_FLAGS_RESET_LINK define.</span>
<span class="cm"> *                      Added structure offset comments.</span>
<span class="cm"> *  04-09-01  01.01.07  Added RspLength field to MSG_LINK_SERVICE_RSP_REQUEST.</span>
<span class="cm"> *  08-08-01  01.02.01  Original release for v1.2 work.</span>
<span class="cm"> *  09-28-01  01.02.02  Change name of reserved field in</span>
<span class="cm"> *                      MSG_LINK_SERVICE_RSP_REPLY.</span>
<span class="cm"> *  05-31-02  01.02.03  Adding AliasIndex to FC Direct Access requests.</span>
<span class="cm"> *  01-16-04  01.02.04  Added define for MPI_FC_PRIM_SEND_FLAGS_ML_RESET_LINK.</span>
<span class="cm"> *  05-11-04  01.03.01  Original release for MPI v1.3.</span>
<span class="cm"> *  08-19-04  01.05.01  Original release for MPI v1.5.</span>
<span class="cm"> *  --------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cp">#ifndef MPI_FC_H</span>
<span class="cp">#define MPI_FC_H</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*        F C    D i r e c t    A c c e s s     M e s s a g e s</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Link Service Buffer Post messages                                        */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_LINK_SERVICE_BUFFER_POST_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">BufferPostFlags</span><span class="p">;</span>    <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">BufferCount</span><span class="p">;</span>        <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">SGE_TRANS_SIMPLE_UNION</span>  <span class="n">SGL</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MSG_LINK_SERVICE_BUFFER_POST_REQUEST</span><span class="p">,</span>
 <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_LINK_SERVICE_BUFFER_POST_REQUEST</span><span class="p">,</span>
  <span class="n">LinkServiceBufferPostRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pLinkServiceBufferPostRequest_t</span><span class="p">;</span>

<span class="cp">#define LINK_SERVICE_BUFFER_POST_FLAGS_PORT_MASK (0x01)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_WWNFORMAT</span>
<span class="p">{</span>
    <span class="n">U32</span>                     <span class="n">PortNameHigh</span><span class="p">;</span>       <span class="cm">/* 00h */</span>
    <span class="n">U32</span>                     <span class="n">PortNameLow</span><span class="p">;</span>        <span class="cm">/* 04h */</span>
    <span class="n">U32</span>                     <span class="n">NodeNameHigh</span><span class="p">;</span>       <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">NodeNameLow</span><span class="p">;</span>        <span class="cm">/* 0Ch */</span>
<span class="p">}</span> <span class="n">WWNFORMAT</span><span class="p">,</span>
  <span class="n">WwnFormat_t</span><span class="p">;</span>

<span class="cm">/* Link Service Buffer Post Reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_LINK_SERVICE_BUFFER_POST_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>              <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">PortNumber</span><span class="p">;</span>         <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">TransferLength</span><span class="p">;</span>     <span class="cm">/* 14h */</span>
    <span class="n">U32</span>                     <span class="n">TransactionContext</span><span class="p">;</span> <span class="cm">/* 18h */</span>
    <span class="n">U32</span>                     <span class="n">Rctl_Did</span><span class="p">;</span>           <span class="cm">/* 1Ch */</span>
    <span class="n">U32</span>                     <span class="n">Csctl_Sid</span><span class="p">;</span>          <span class="cm">/* 20h */</span>
    <span class="n">U32</span>                     <span class="n">Type_Fctl</span><span class="p">;</span>          <span class="cm">/* 24h */</span>
    <span class="n">U16</span>                     <span class="n">SeqCnt</span><span class="p">;</span>             <span class="cm">/* 28h */</span>
    <span class="n">U8</span>                      <span class="n">Dfctl</span><span class="p">;</span>              <span class="cm">/* 2Ah */</span>
    <span class="n">U8</span>                      <span class="n">SeqId</span><span class="p">;</span>              <span class="cm">/* 2Bh */</span>
    <span class="n">U16</span>                     <span class="n">Rxid</span><span class="p">;</span>               <span class="cm">/* 2Ch */</span>
    <span class="n">U16</span>                     <span class="n">Oxid</span><span class="p">;</span>               <span class="cm">/* 2Eh */</span>
    <span class="n">U32</span>                     <span class="n">Parameter</span><span class="p">;</span>          <span class="cm">/* 30h */</span>
    <span class="n">WWNFORMAT</span>               <span class="n">Wwn</span><span class="p">;</span>                <span class="cm">/* 34h */</span>
<span class="p">}</span> <span class="n">MSG_LINK_SERVICE_BUFFER_POST_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_LINK_SERVICE_BUFFER_POST_REPLY</span><span class="p">,</span>
  <span class="n">LinkServiceBufferPostReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pLinkServiceBufferPostReply_t</span><span class="p">;</span>

<span class="cp">#define MPI_LS_BUF_POST_REPLY_FLAG_NO_RSP_NEEDED    (0x80)</span>

<span class="cp">#define MPI_FC_DID_MASK                             (0x00FFFFFF)</span>
<span class="cp">#define MPI_FC_DID_SHIFT                            (0)</span>
<span class="cp">#define MPI_FC_RCTL_MASK                            (0xFF000000)</span>
<span class="cp">#define MPI_FC_RCTL_SHIFT                           (24)</span>
<span class="cp">#define MPI_FC_SID_MASK                             (0x00FFFFFF)</span>
<span class="cp">#define MPI_FC_SID_SHIFT                            (0)</span>
<span class="cp">#define MPI_FC_CSCTL_MASK                           (0xFF000000)</span>
<span class="cp">#define MPI_FC_CSCTL_SHIFT                          (24)</span>
<span class="cp">#define MPI_FC_FCTL_MASK                            (0x00FFFFFF)</span>
<span class="cp">#define MPI_FC_FCTL_SHIFT                           (0)</span>
<span class="cp">#define MPI_FC_TYPE_MASK                            (0xFF000000)</span>
<span class="cp">#define MPI_FC_TYPE_SHIFT                           (24)</span>

<span class="cm">/* obsolete name for the above */</span>
<span class="cp">#define FCP_TARGET_DID_MASK                         (0x00FFFFFF)</span>
<span class="cp">#define FCP_TARGET_DID_SHIFT                        (0)</span>
<span class="cp">#define FCP_TARGET_RCTL_MASK                        (0xFF000000)</span>
<span class="cp">#define FCP_TARGET_RCTL_SHIFT                       (24)</span>
<span class="cp">#define FCP_TARGET_SID_MASK                         (0x00FFFFFF)</span>
<span class="cp">#define FCP_TARGET_SID_SHIFT                        (0)</span>
<span class="cp">#define FCP_TARGET_CSCTL_MASK                       (0xFF000000)</span>
<span class="cp">#define FCP_TARGET_CSCTL_SHIFT                      (24)</span>
<span class="cp">#define FCP_TARGET_FCTL_MASK                        (0x00FFFFFF)</span>
<span class="cp">#define FCP_TARGET_FCTL_SHIFT                       (0)</span>
<span class="cp">#define FCP_TARGET_TYPE_MASK                        (0xFF000000)</span>
<span class="cp">#define FCP_TARGET_TYPE_SHIFT                       (24)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Link Service Response messages                                           */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_LINK_SERVICE_RSP_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">RspFlags</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">RspLength</span><span class="p">;</span>          <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">Rctl_Did</span><span class="p">;</span>           <span class="cm">/* 0Ch */</span>
    <span class="n">U32</span>                     <span class="n">Csctl_Sid</span><span class="p">;</span>          <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">Type_Fctl</span><span class="p">;</span>          <span class="cm">/* 14h */</span>
    <span class="n">U16</span>                     <span class="n">SeqCnt</span><span class="p">;</span>             <span class="cm">/* 18h */</span>
    <span class="n">U8</span>                      <span class="n">Dfctl</span><span class="p">;</span>              <span class="cm">/* 1Ah */</span>
    <span class="n">U8</span>                      <span class="n">SeqId</span><span class="p">;</span>              <span class="cm">/* 1Bh */</span>
    <span class="n">U16</span>                     <span class="n">Rxid</span><span class="p">;</span>               <span class="cm">/* 1Ch */</span>
    <span class="n">U16</span>                     <span class="n">Oxid</span><span class="p">;</span>               <span class="cm">/* 1Eh */</span>
    <span class="n">U32</span>                     <span class="n">Parameter</span><span class="p">;</span>          <span class="cm">/* 20h */</span>
    <span class="n">SGE_SIMPLE_UNION</span>        <span class="n">SGL</span><span class="p">;</span>                <span class="cm">/* 24h */</span>
<span class="p">}</span> <span class="n">MSG_LINK_SERVICE_RSP_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_LINK_SERVICE_RSP_REQUEST</span><span class="p">,</span>
  <span class="n">LinkServiceRspRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pLinkServiceRspRequest_t</span><span class="p">;</span>

<span class="cp">#define LINK_SERVICE_RSP_FLAGS_IMMEDIATE        (0x80)</span>
<span class="cp">#define LINK_SERVICE_RSP_FLAGS_PORT_MASK        (0x01)</span>


<span class="cm">/* Link Service Response Reply  */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_LINK_SERVICE_RSP_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved_0100_InitiatorIndex</span><span class="p">;</span> <span class="cm">/* 06h */</span> <span class="cm">/* obsolete InitiatorIndex */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">InitiatorIndex</span><span class="p">;</span>     <span class="cm">/* 14h */</span>
<span class="p">}</span> <span class="n">MSG_LINK_SERVICE_RSP_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_LINK_SERVICE_RSP_REPLY</span><span class="p">,</span>
  <span class="n">LinkServiceRspReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pLinkServiceRspReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* Extended Link Service Send messages                                      */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_EXLINK_SERVICE_SEND_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">SendFlags</span><span class="p">;</span>          <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">AliasIndex</span><span class="p">;</span>         <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U32</span>                     <span class="n">MsgFlags_Did</span><span class="p">;</span>       <span class="cm">/* 04h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">ElsCommandCode</span><span class="p">;</span>     <span class="cm">/* 0Ch */</span>
    <span class="n">SGE_SIMPLE_UNION</span>        <span class="n">SGL</span><span class="p">;</span>                <span class="cm">/* 10h */</span>
<span class="p">}</span> <span class="n">MSG_EXLINK_SERVICE_SEND_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_EXLINK_SERVICE_SEND_REQUEST</span><span class="p">,</span>
  <span class="n">ExLinkServiceSendRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pExLinkServiceSendRequest_t</span><span class="p">;</span>

<span class="cp">#define EX_LINK_SERVICE_SEND_DID_MASK           (0x00FFFFFF)</span>
<span class="cp">#define EX_LINK_SERVICE_SEND_DID_SHIFT          (0)</span>
<span class="cp">#define EX_LINK_SERVICE_SEND_MSGFLAGS_MASK      (0xFF000000)</span>
<span class="cp">#define EX_LINK_SERVICE_SEND_MSGFLAGS_SHIFT     (24)</span>


<span class="cm">/* Extended Link Service Send Reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_EXLINK_SERVICE_SEND_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">AliasIndex</span><span class="p">;</span>         <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">ResponseLength</span><span class="p">;</span>     <span class="cm">/* 14h */</span>
<span class="p">}</span> <span class="n">MSG_EXLINK_SERVICE_SEND_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_EXLINK_SERVICE_SEND_REPLY</span><span class="p">,</span>
  <span class="n">ExLinkServiceSendReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pExLinkServiceSendReply_t</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>
<span class="cm">/* FC Abort messages                                                        */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_FC_ABORT_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">AbortFlags</span><span class="p">;</span>                 <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">AbortType</span><span class="p">;</span>                  <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>                <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">TransactionContextToAbort</span><span class="p">;</span>  <span class="cm">/* 0Ch */</span>
<span class="p">}</span> <span class="n">MSG_FC_ABORT_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_FC_ABORT_REQUEST</span><span class="p">,</span>
  <span class="n">FcAbortRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pFcAbortRequest_t</span><span class="p">;</span>

<span class="cp">#define FC_ABORT_FLAG_PORT_MASK                 (0x01)</span>

<span class="cp">#define FC_ABORT_TYPE_ALL_FC_BUFFERS            (0x00)</span>
<span class="cp">#define FC_ABORT_TYPE_EXACT_FC_BUFFER           (0x01)</span>
<span class="cp">#define FC_ABORT_TYPE_CT_SEND_REQUEST           (0x02)</span>
<span class="cp">#define FC_ABORT_TYPE_EXLINKSEND_REQUEST        (0x03)</span>

<span class="cm">/* FC Abort Reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_FC_ABORT_REPLY</span>
<span class="p">{</span>
    <span class="n">U16</span>                     <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
<span class="p">}</span> <span class="n">MSG_FC_ABORT_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_FC_ABORT_REPLY</span><span class="p">,</span>
  <span class="n">FcAbortReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pFcAbortReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* FC Common Transport Send messages                                        */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_FC_COMMON_TRANSPORT_SEND_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">SendFlags</span><span class="p">;</span>          <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">AliasIndex</span><span class="p">;</span>         <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U32</span>                     <span class="n">MsgFlags_Did</span><span class="p">;</span>       <span class="cm">/* 04h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">CTCommandCode</span><span class="p">;</span>      <span class="cm">/* 0Ch */</span>
    <span class="n">U8</span>                      <span class="n">FsType</span><span class="p">;</span>             <span class="cm">/* 0Eh */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 0Fh */</span>
    <span class="n">SGE_SIMPLE_UNION</span>        <span class="n">SGL</span><span class="p">;</span>                <span class="cm">/* 10h */</span>
<span class="p">}</span> <span class="n">MSG_FC_COMMON_TRANSPORT_SEND_REQUEST</span><span class="p">,</span>
 <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_FC_COMMON_TRANSPORT_SEND_REQUEST</span><span class="p">,</span>
  <span class="n">FcCommonTransportSendRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pFcCommonTransportSendRequest_t</span><span class="p">;</span>

<span class="cp">#define MPI_FC_CT_SEND_DID_MASK                 (0x00FFFFFF)</span>
<span class="cp">#define MPI_FC_CT_SEND_DID_SHIFT                (0)</span>
<span class="cp">#define MPI_FC_CT_SEND_MSGFLAGS_MASK            (0xFF000000)</span>
<span class="cp">#define MPI_FC_CT_SEND_MSGFLAGS_SHIFT           (24)</span>


<span class="cm">/* FC Common Transport Send Reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_FC_COMMON_TRANSPORT_SEND_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">AliasIndex</span><span class="p">;</span>         <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">ResponseLength</span><span class="p">;</span>     <span class="cm">/* 14h */</span>
<span class="p">}</span> <span class="n">MSG_FC_COMMON_TRANSPORT_SEND_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_FC_COMMON_TRANSPORT_SEND_REPLY</span><span class="p">,</span>
  <span class="n">FcCommonTransportSendReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pFcCommonTransportSendReply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/* FC Primitive Send messages                                               */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_FC_PRIMITIVE_SEND_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">SendFlags</span><span class="p">;</span>          <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">FcPrimitive</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>     <span class="cm">/* 0Ch */</span>
<span class="p">}</span> <span class="n">MSG_FC_PRIMITIVE_SEND_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_FC_PRIMITIVE_SEND_REQUEST</span><span class="p">,</span>
  <span class="n">FcPrimitiveSendRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pFcPrimitiveSendRequest_t</span><span class="p">;</span>

<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_PORT_MASK       (0x01)</span>
<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_ML_RESET_LINK   (0x02)</span>
<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_RESET_LINK      (0x04)</span>
<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_STOP_SEND       (0x08)</span>
<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_SEND_ONCE       (0x10)</span>
<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_SEND_AROUND     (0x20)</span>
<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_UNTIL_FULL      (0x40)</span>
<span class="cp">#define MPI_FC_PRIM_SEND_FLAGS_FOREVER         (0x80)</span>

<span class="cm">/* FC Primitive Send Reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_FC_PRIMITIVE_SEND_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">SendFlags</span><span class="p">;</span>          <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
<span class="p">}</span> <span class="n">MSG_FC_PRIMITIVE_SEND_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_FC_PRIMITIVE_SEND_REPLY</span><span class="p">,</span>
  <span class="n">FcPrimitiveSendReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pFcPrimitiveSendReply_t</span><span class="p">;</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
