<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › message › fusion › lsi › mpi_init.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mpi_init.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Copyright (c) 2000-2008 LSI Corporation.</span>
<span class="cm"> *</span>
<span class="cm"> *</span>
<span class="cm"> *           Name:  mpi_init.h</span>
<span class="cm"> *          Title:  MPI initiator mode messages and structures</span>
<span class="cm"> *  Creation Date:  June 8, 2000</span>
<span class="cm"> *</span>
<span class="cm"> *    mpi_init.h Version:  01.05.09</span>
<span class="cm"> *</span>
<span class="cm"> *  Version History</span>
<span class="cm"> *  ---------------</span>
<span class="cm"> *</span>
<span class="cm"> *  Date      Version   Description</span>
<span class="cm"> *  --------  --------  ------------------------------------------------------</span>
<span class="cm"> *  05-08-00  00.10.01  Original release for 0.10 spec dated 4/26/2000.</span>
<span class="cm"> *  05-24-00  00.10.02  Added SenseBufferLength to _MSG_SCSI_IO_REPLY.</span>
<span class="cm"> *  06-06-00  01.00.01  Update version number for 1.0 release.</span>
<span class="cm"> *  06-08-00  01.00.02  Added MPI_SCSI_RSP_INFO_ definitions.</span>
<span class="cm"> *  11-02-00  01.01.01  Original release for post 1.0 work.</span>
<span class="cm"> *  12-04-00  01.01.02  Added MPI_SCSIIO_CONTROL_NO_DISCONNECT.</span>
<span class="cm"> *  02-20-01  01.01.03  Started using MPI_POINTER.</span>
<span class="cm"> *  03-27-01  01.01.04  Added structure offset comments.</span>
<span class="cm"> *  04-10-01  01.01.05  Added new MsgFlag for MSG_SCSI_TASK_MGMT.</span>
<span class="cm"> *  08-08-01  01.02.01  Original release for v1.2 work.</span>
<span class="cm"> *  08-29-01  01.02.02  Added MPI_SCSITASKMGMT_TASKTYPE_LOGICAL_UNIT_RESET.</span>
<span class="cm"> *                      Added MPI_SCSI_STATE_QUEUE_TAG_REJECTED for</span>
<span class="cm"> *                      MSG_SCSI_IO_REPLY.</span>
<span class="cm"> *  09-28-01  01.02.03  Added structures and defines for SCSI Enclosure</span>
<span class="cm"> *                      Processor messages.</span>
<span class="cm"> *  10-04-01  01.02.04  Added defines for SEP request Action field.</span>
<span class="cm"> *  05-31-02  01.02.05  Added MPI_SCSIIO_MSGFLGS_CMD_DETERMINES_DATA_DIR define</span>
<span class="cm"> *                      for SCSI IO requests.</span>
<span class="cm"> *  11-15-02  01.02.06  Added special extended SCSI Status defines for FCP.</span>
<span class="cm"> *  06-26-03  01.02.07  Added MPI_SCSI_STATUS_FCPEXT_UNASSIGNED define.</span>
<span class="cm"> *  05-11-04  01.03.01  Original release for MPI v1.3.</span>
<span class="cm"> *  08-19-04  01.05.01  Added MsgFlags defines for EEDP to SCSI IO request.</span>
<span class="cm"> *                      Added new word to MSG_SCSI_IO_REPLY to add TaskTag field</span>
<span class="cm"> *                      and a reserved U16.</span>
<span class="cm"> *                      Added new MSG_SCSI_IO32_REQUEST structure.</span>
<span class="cm"> *                      Added a TaskType of Clear Task Set to SCSI</span>
<span class="cm"> *                      Task Management request.</span>
<span class="cm"> *  12-07-04  01.05.02  Added support for Task Management Query Task.</span>
<span class="cm"> *  01-15-05  01.05.03  Modified SCSI Enclosure Processor Request to support</span>
<span class="cm"> *                      WWID addressing.</span>
<span class="cm"> *  03-11-05  01.05.04  Removed EEDP flags from SCSI IO Request.</span>
<span class="cm"> *                      Removed SCSI IO 32 Request.</span>
<span class="cm"> *                      Modified SCSI Enclosure Processor Request and Reply to</span>
<span class="cm"> *                      support Enclosure/Slot addressing rather than WWID</span>
<span class="cm"> *                      addressing.</span>
<span class="cm"> *  06-24-05  01.05.05  Added SCSI IO 32 structures and defines.</span>
<span class="cm"> *                      Added four new defines for SEP SlotStatus.</span>
<span class="cm"> *  08-03-05  01.05.06  Fixed some MPI_SCSIIO32_MSGFLGS_ defines to make them</span>
<span class="cm"> *                      unique in the first 32 characters.</span>
<span class="cm"> *  03-27-06  01.05.07  Added Task Management type of Clear ACA.</span>
<span class="cm"> *  10-11-06  01.05.08  Shortened define for Task Management type of Clear ACA.</span>
<span class="cm"> *  02-28-07  01.05.09  Defined two new MsgFlags bits for SCSI Task Management</span>
<span class="cm"> *                      Request: Do Not Send Task IU and Soft Reset Option.</span>
<span class="cm"> *  --------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cp">#ifndef MPI_INIT_H</span>
<span class="cp">#define MPI_INIT_H</span>


<span class="cm">/*****************************************************************************</span>
<span class="cm">*</span>
<span class="cm">*               S C S I    I n i t i a t o r    M e s s a g e s</span>
<span class="cm">*</span>
<span class="cm">*****************************************************************************/</span>

<span class="cm">/****************************************************************************/</span>
<span class="cm">/*  SCSI IO messages and associated structures                              */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SCSI_IO_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TargetID</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                      <span class="n">CDBLength</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">SenseBufferLength</span><span class="p">;</span>  <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">LUN</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>             <span class="cm">/* 0Ch */</span>
    <span class="n">U32</span>                     <span class="n">Control</span><span class="p">;</span>            <span class="cm">/* 14h */</span>
    <span class="n">U8</span>                      <span class="n">CDB</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>            <span class="cm">/* 18h */</span>
    <span class="n">U32</span>                     <span class="n">DataLength</span><span class="p">;</span>         <span class="cm">/* 28h */</span>
    <span class="n">U32</span>                     <span class="n">SenseBufferLowAddr</span><span class="p">;</span> <span class="cm">/* 2Ch */</span>
    <span class="n">SGE_IO_UNION</span>            <span class="n">SGL</span><span class="p">;</span>                <span class="cm">/* 30h */</span>
<span class="p">}</span> <span class="n">MSG_SCSI_IO_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_SCSI_IO_REQUEST</span><span class="p">,</span>
  <span class="n">SCSIIORequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSCSIIORequest_t</span><span class="p">;</span>


<span class="cm">/* SCSI IO MsgFlags bits */</span>

<span class="cp">#define MPI_SCSIIO_MSGFLGS_SENSE_WIDTH              (0x01)</span>
<span class="cp">#define MPI_SCSIIO_MSGFLGS_SENSE_WIDTH_32           (0x00)</span>
<span class="cp">#define MPI_SCSIIO_MSGFLGS_SENSE_WIDTH_64           (0x01)</span>

<span class="cp">#define MPI_SCSIIO_MSGFLGS_SENSE_LOCATION           (0x02)</span>
<span class="cp">#define MPI_SCSIIO_MSGFLGS_SENSE_LOC_HOST           (0x00)</span>
<span class="cp">#define MPI_SCSIIO_MSGFLGS_SENSE_LOC_IOC            (0x02)</span>

<span class="cp">#define MPI_SCSIIO_MSGFLGS_CMD_DETERMINES_DATA_DIR  (0x04)</span>

<span class="cm">/* SCSI IO LUN fields */</span>

<span class="cp">#define MPI_SCSIIO_LUN_FIRST_LEVEL_ADDRESSING   (0x0000FFFF)</span>
<span class="cp">#define MPI_SCSIIO_LUN_SECOND_LEVEL_ADDRESSING  (0xFFFF0000)</span>
<span class="cp">#define MPI_SCSIIO_LUN_THIRD_LEVEL_ADDRESSING   (0x0000FFFF)</span>
<span class="cp">#define MPI_SCSIIO_LUN_FOURTH_LEVEL_ADDRESSING  (0xFFFF0000)</span>
<span class="cp">#define MPI_SCSIIO_LUN_LEVEL_1_WORD             (0xFF00)</span>
<span class="cp">#define MPI_SCSIIO_LUN_LEVEL_1_DWORD            (0x0000FF00)</span>

<span class="cm">/* SCSI IO Control bits */</span>

<span class="cp">#define MPI_SCSIIO_CONTROL_DATADIRECTION_MASK   (0x03000000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_NODATATRANSFER       (0x00000000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_WRITE                (0x01000000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_READ                 (0x02000000)</span>

<span class="cp">#define MPI_SCSIIO_CONTROL_ADDCDBLEN_MASK       (0x3C000000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_ADDCDBLEN_SHIFT      (26)</span>

<span class="cp">#define MPI_SCSIIO_CONTROL_TASKATTRIBUTE_MASK   (0x00000700)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_SIMPLEQ              (0x00000000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_HEADOFQ              (0x00000100)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_ORDEREDQ             (0x00000200)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_ACAQ                 (0x00000400)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_UNTAGGED             (0x00000500)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_NO_DISCONNECT        (0x00000700)</span>

<span class="cp">#define MPI_SCSIIO_CONTROL_TASKMANAGE_MASK      (0x00FF0000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_OBSOLETE             (0x00800000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_CLEAR_ACA_RSV        (0x00400000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_TARGET_RESET         (0x00200000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_LUN_RESET_RSV        (0x00100000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_RESERVED             (0x00080000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_CLR_TASK_SET_RSV     (0x00040000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_ABORT_TASK_SET       (0x00020000)</span>
<span class="cp">#define MPI_SCSIIO_CONTROL_RESERVED2            (0x00010000)</span>


<span class="cm">/* SCSI IO reply structure */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SCSI_IO_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TargetID</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                      <span class="n">CDBLength</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">SenseBufferLength</span><span class="p">;</span>  <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">SCSIStatus</span><span class="p">;</span>         <span class="cm">/* 0Ch */</span>
    <span class="n">U8</span>                      <span class="n">SCSIState</span><span class="p">;</span>          <span class="cm">/* 0Dh */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">TransferCount</span><span class="p">;</span>      <span class="cm">/* 14h */</span>
    <span class="n">U32</span>                     <span class="n">SenseCount</span><span class="p">;</span>         <span class="cm">/* 18h */</span>
    <span class="n">U32</span>                     <span class="n">ResponseInfo</span><span class="p">;</span>       <span class="cm">/* 1Ch */</span>
    <span class="n">U16</span>                     <span class="n">TaskTag</span><span class="p">;</span>            <span class="cm">/* 20h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 22h */</span>
<span class="p">}</span> <span class="n">MSG_SCSI_IO_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_SCSI_IO_REPLY</span><span class="p">,</span>
  <span class="n">SCSIIOReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSCSIIOReply_t</span><span class="p">;</span>


<span class="cm">/* SCSI IO Reply SCSIStatus values (SAM-2 status codes) */</span>

<span class="cp">#define MPI_SCSI_STATUS_SUCCESS                 (0x00)</span>
<span class="cp">#define MPI_SCSI_STATUS_CHECK_CONDITION         (0x02)</span>
<span class="cp">#define MPI_SCSI_STATUS_CONDITION_MET           (0x04)</span>
<span class="cp">#define MPI_SCSI_STATUS_BUSY                    (0x08)</span>
<span class="cp">#define MPI_SCSI_STATUS_INTERMEDIATE            (0x10)</span>
<span class="cp">#define MPI_SCSI_STATUS_INTERMEDIATE_CONDMET    (0x14)</span>
<span class="cp">#define MPI_SCSI_STATUS_RESERVATION_CONFLICT    (0x18)</span>
<span class="cp">#define MPI_SCSI_STATUS_COMMAND_TERMINATED      (0x22)</span>
<span class="cp">#define MPI_SCSI_STATUS_TASK_SET_FULL           (0x28)</span>
<span class="cp">#define MPI_SCSI_STATUS_ACA_ACTIVE              (0x30)</span>

<span class="cp">#define MPI_SCSI_STATUS_FCPEXT_DEVICE_LOGGED_OUT    (0x80)</span>
<span class="cp">#define MPI_SCSI_STATUS_FCPEXT_NO_LINK              (0x81)</span>
<span class="cp">#define MPI_SCSI_STATUS_FCPEXT_UNASSIGNED           (0x82)</span>


<span class="cm">/* SCSI IO Reply SCSIState values */</span>

<span class="cp">#define MPI_SCSI_STATE_AUTOSENSE_VALID          (0x01)</span>
<span class="cp">#define MPI_SCSI_STATE_AUTOSENSE_FAILED         (0x02)</span>
<span class="cp">#define MPI_SCSI_STATE_NO_SCSI_STATUS           (0x04)</span>
<span class="cp">#define MPI_SCSI_STATE_TERMINATED               (0x08)</span>
<span class="cp">#define MPI_SCSI_STATE_RESPONSE_INFO_VALID      (0x10)</span>
<span class="cp">#define MPI_SCSI_STATE_QUEUE_TAG_REJECTED       (0x20)</span>

<span class="cm">/* SCSI IO Reply ResponseInfo values */</span>
<span class="cm">/* (FCP-1 RSP_CODE values and SPI-3 Packetized Failure codes) */</span>

<span class="cp">#define MPI_SCSI_RSP_INFO_FUNCTION_COMPLETE     (0x00000000)</span>
<span class="cp">#define MPI_SCSI_RSP_INFO_FCP_BURST_LEN_ERROR   (0x01000000)</span>
<span class="cp">#define MPI_SCSI_RSP_INFO_CMND_FIELDS_INVALID   (0x02000000)</span>
<span class="cp">#define MPI_SCSI_RSP_INFO_FCP_DATA_RO_ERROR     (0x03000000)</span>
<span class="cp">#define MPI_SCSI_RSP_INFO_TASK_MGMT_UNSUPPORTED (0x04000000)</span>
<span class="cp">#define MPI_SCSI_RSP_INFO_TASK_MGMT_FAILED      (0x05000000)</span>
<span class="cp">#define MPI_SCSI_RSP_INFO_SPI_LQ_INVALID_TYPE   (0x06000000)</span>

<span class="cp">#define MPI_SCSI_TASKTAG_UNKNOWN                (0xFFFF)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/*  SCSI IO 32 messages and associated structures                           */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">CDB</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>                    <span class="cm">/* 00h */</span>
    <span class="n">U32</span>                     <span class="n">PrimaryReferenceTag</span><span class="p">;</span>        <span class="cm">/* 14h */</span>
    <span class="n">U16</span>                     <span class="n">PrimaryApplicationTag</span><span class="p">;</span>      <span class="cm">/* 18h */</span>
    <span class="n">U16</span>                     <span class="n">PrimaryApplicationTagMask</span><span class="p">;</span>  <span class="cm">/* 1Ah */</span>
    <span class="n">U32</span>                     <span class="n">TransferLength</span><span class="p">;</span>             <span class="cm">/* 1Ch */</span>
<span class="p">}</span> <span class="n">MPI_SCSI_IO32_CDB_EEDP32</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_SCSI_IO32_CDB_EEDP32</span><span class="p">,</span>
  <span class="n">MpiScsiIo32CdbEedp32_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiScsiIo32CdbEedp32_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">CDB</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>                    <span class="cm">/* 00h */</span>
    <span class="n">U32</span>                     <span class="n">DataLength</span><span class="p">;</span>                 <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">PrimaryReferenceTag</span><span class="p">;</span>        <span class="cm">/* 14h */</span>
    <span class="n">U16</span>                     <span class="n">PrimaryApplicationTag</span><span class="p">;</span>      <span class="cm">/* 18h */</span>
    <span class="n">U16</span>                     <span class="n">PrimaryApplicationTagMask</span><span class="p">;</span>  <span class="cm">/* 1Ah */</span>
    <span class="n">U32</span>                     <span class="n">TransferLength</span><span class="p">;</span>             <span class="cm">/* 1Ch */</span>
<span class="p">}</span> <span class="n">MPI_SCSI_IO32_CDB_EEDP16</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_SCSI_IO32_CDB_EEDP16</span><span class="p">,</span>
  <span class="n">MpiScsiIo32CdbEedp16_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiScsiIo32CdbEedp16_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span>
<span class="p">{</span>
    <span class="n">U8</span>                       <span class="n">CDB32</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
    <span class="n">MPI_SCSI_IO32_CDB_EEDP32</span> <span class="n">EEDP32</span><span class="p">;</span>
    <span class="n">MPI_SCSI_IO32_CDB_EEDP16</span> <span class="n">EEDP16</span><span class="p">;</span>
    <span class="n">SGE_SIMPLE_UNION</span>         <span class="n">SGE</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI_SCSI_IO32_CDB_UNION</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_SCSI_IO32_CDB_UNION</span><span class="p">,</span>
  <span class="n">MpiScsiIo32Cdb_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiScsiIo32Cdb_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TargetID</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                <span class="cm">/* 01h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U32</span>                     <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 04h */</span>
<span class="p">}</span> <span class="n">MPI_SCSI_IO32_BUS_TARGET_ID_FORM</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_SCSI_IO32_BUS_TARGET_ID_FORM</span><span class="p">,</span>
  <span class="n">MpiScsiIo32BusTargetIdForm_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiScsiIo32BusTargetIdForm_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span>
<span class="p">{</span>
    <span class="n">MPI_SCSI_IO32_BUS_TARGET_ID_FORM</span>    <span class="n">SCSIID</span><span class="p">;</span>
    <span class="n">U64</span>                                 <span class="n">WWID</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MPI_SCSI_IO32_ADDRESS</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MPI_SCSI_IO32_ADDRESS</span><span class="p">,</span>
  <span class="n">MpiScsiIo32Address_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pMpiScsiIo32Address_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SCSI_IO32_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                          <span class="n">Port</span><span class="p">;</span>                           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                          <span class="n">Reserved1</span><span class="p">;</span>                      <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                          <span class="n">ChainOffset</span><span class="p">;</span>                    <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                          <span class="n">Function</span><span class="p">;</span>                       <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                          <span class="n">CDBLength</span><span class="p">;</span>                      <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                          <span class="n">SenseBufferLength</span><span class="p">;</span>              <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                          <span class="n">Flags</span><span class="p">;</span>                          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                          <span class="n">MsgFlags</span><span class="p">;</span>                       <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                         <span class="n">MsgContext</span><span class="p">;</span>                     <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                          <span class="n">LUN</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>                         <span class="cm">/* 0Ch */</span>
    <span class="n">U32</span>                         <span class="n">Control</span><span class="p">;</span>                        <span class="cm">/* 14h */</span>
    <span class="n">MPI_SCSI_IO32_CDB_UNION</span>     <span class="n">CDB</span><span class="p">;</span>                            <span class="cm">/* 18h */</span>
    <span class="n">U32</span>                         <span class="n">DataLength</span><span class="p">;</span>                     <span class="cm">/* 38h */</span>
    <span class="n">U32</span>                         <span class="n">BidirectionalDataLength</span><span class="p">;</span>        <span class="cm">/* 3Ch */</span>
    <span class="n">U32</span>                         <span class="n">SecondaryReferenceTag</span><span class="p">;</span>          <span class="cm">/* 40h */</span>
    <span class="n">U16</span>                         <span class="n">SecondaryApplicationTag</span><span class="p">;</span>        <span class="cm">/* 44h */</span>
    <span class="n">U16</span>                         <span class="n">Reserved2</span><span class="p">;</span>                      <span class="cm">/* 46h */</span>
    <span class="n">U16</span>                         <span class="n">EEDPFlags</span><span class="p">;</span>                      <span class="cm">/* 48h */</span>
    <span class="n">U16</span>                         <span class="n">ApplicationTagTranslationMask</span><span class="p">;</span>  <span class="cm">/* 4Ah */</span>
    <span class="n">U32</span>                         <span class="n">EEDPBlockSize</span><span class="p">;</span>                  <span class="cm">/* 4Ch */</span>
    <span class="n">MPI_SCSI_IO32_ADDRESS</span>       <span class="n">DeviceAddress</span><span class="p">;</span>                  <span class="cm">/* 50h */</span>
    <span class="n">U8</span>                          <span class="n">SGLOffset0</span><span class="p">;</span>                     <span class="cm">/* 58h */</span>
    <span class="n">U8</span>                          <span class="n">SGLOffset1</span><span class="p">;</span>                     <span class="cm">/* 59h */</span>
    <span class="n">U8</span>                          <span class="n">SGLOffset2</span><span class="p">;</span>                     <span class="cm">/* 5Ah */</span>
    <span class="n">U8</span>                          <span class="n">SGLOffset3</span><span class="p">;</span>                     <span class="cm">/* 5Bh */</span>
    <span class="n">U32</span>                         <span class="n">Reserved3</span><span class="p">;</span>                      <span class="cm">/* 5Ch */</span>
    <span class="n">U32</span>                         <span class="n">Reserved4</span><span class="p">;</span>                      <span class="cm">/* 60h */</span>
    <span class="n">U32</span>                         <span class="n">SenseBufferLowAddr</span><span class="p">;</span>             <span class="cm">/* 64h */</span>
    <span class="n">SGE_IO_UNION</span>                <span class="n">SGL</span><span class="p">;</span>                            <span class="cm">/* 68h */</span>
<span class="p">}</span> <span class="n">MSG_SCSI_IO32_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_SCSI_IO32_REQUEST</span><span class="p">,</span>
  <span class="n">SCSIIO32Request_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSCSIIO32Request_t</span><span class="p">;</span>

<span class="cm">/* SCSI IO 32 MsgFlags bits */</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_SENSE_WIDTH                (0x01)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_32_SENSE_WIDTH             (0x00)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_64_SENSE_WIDTH             (0x01)</span>

<span class="cp">#define MPI_SCSIIO32_MSGFLGS_SENSE_LOCATION             (0x02)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_SENSE_LOC_HOST             (0x00)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_SENSE_LOC_IOC              (0x02)</span>

<span class="cp">#define MPI_SCSIIO32_MSGFLGS_CMD_DETERMINES_DATA_DIR    (0x04)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_SGL_OFFSETS_CHAINS         (0x08)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_MULTICAST                  (0x10)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_BIDIRECTIONAL              (0x20)</span>
<span class="cp">#define MPI_SCSIIO32_MSGFLGS_LARGE_CDB                  (0x40)</span>

<span class="cm">/* SCSI IO 32 Flags bits */</span>
<span class="cp">#define MPI_SCSIIO32_FLAGS_FORM_MASK                    (0x03)</span>
<span class="cp">#define MPI_SCSIIO32_FLAGS_FORM_SCSIID                  (0x00)</span>
<span class="cp">#define MPI_SCSIIO32_FLAGS_FORM_WWID                    (0x01)</span>

<span class="cm">/* SCSI IO 32 LUN fields */</span>
<span class="cp">#define MPI_SCSIIO32_LUN_FIRST_LEVEL_ADDRESSING     (0x0000FFFF)</span>
<span class="cp">#define MPI_SCSIIO32_LUN_SECOND_LEVEL_ADDRESSING    (0xFFFF0000)</span>
<span class="cp">#define MPI_SCSIIO32_LUN_THIRD_LEVEL_ADDRESSING     (0x0000FFFF)</span>
<span class="cp">#define MPI_SCSIIO32_LUN_FOURTH_LEVEL_ADDRESSING    (0xFFFF0000)</span>
<span class="cp">#define MPI_SCSIIO32_LUN_LEVEL_1_WORD               (0xFF00)</span>
<span class="cp">#define MPI_SCSIIO32_LUN_LEVEL_1_DWORD              (0x0000FF00)</span>

<span class="cm">/* SCSI IO 32 Control bits */</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_DATADIRECTION_MASK     (0x03000000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_NODATATRANSFER         (0x00000000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_WRITE                  (0x01000000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_READ                   (0x02000000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_BIDIRECTIONAL          (0x03000000)</span>

<span class="cp">#define MPI_SCSIIO32_CONTROL_ADDCDBLEN_MASK         (0xFC000000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_ADDCDBLEN_SHIFT        (26)</span>

<span class="cp">#define MPI_SCSIIO32_CONTROL_TASKATTRIBUTE_MASK     (0x00000700)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_SIMPLEQ                (0x00000000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_HEADOFQ                (0x00000100)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_ORDEREDQ               (0x00000200)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_ACAQ                   (0x00000400)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_UNTAGGED               (0x00000500)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_NO_DISCONNECT          (0x00000700)</span>

<span class="cp">#define MPI_SCSIIO32_CONTROL_TASKMANAGE_MASK        (0x00FF0000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_OBSOLETE               (0x00800000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_CLEAR_ACA_RSV          (0x00400000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_TARGET_RESET           (0x00200000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_LUN_RESET_RSV          (0x00100000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_RESERVED               (0x00080000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_CLR_TASK_SET_RSV       (0x00040000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_ABORT_TASK_SET         (0x00020000)</span>
<span class="cp">#define MPI_SCSIIO32_CONTROL_RESERVED2              (0x00010000)</span>

<span class="cm">/* SCSI IO 32 EEDPFlags */</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_MASK_OP              (0x0007)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_NOOP_OP              (0x0000)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_CHK_OP               (0x0001)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_STRIP_OP             (0x0002)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_CHKRM_OP             (0x0003)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_INSERT_OP            (0x0004)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_REPLACE_OP           (0x0006)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_CHKREGEN_OP          (0x0007)</span>

<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_PASS_REF_TAG         (0x0008)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_8_9THS_MODE          (0x0010)</span>

<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_T10_CHK_MASK         (0x0700)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_T10_CHK_GUARD        (0x0100)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_T10_CHK_REFTAG       (0x0200)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_T10_CHK_LBATAG       (0x0400)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_T10_CHK_SHIFT        (8)</span>

<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_INC_SEC_APPTAG       (0x1000)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_INC_PRI_APPTAG       (0x2000)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_INC_SEC_REFTAG       (0x4000)</span>
<span class="cp">#define MPI_SCSIIO32_EEDPFLAGS_INC_PRI_REFTAG       (0x8000)</span>


<span class="cm">/* SCSIIO32 IO reply structure */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SCSIIO32_IO_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">Port</span><span class="p">;</span>                       <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>                  <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>                  <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>                   <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                      <span class="n">CDBLength</span><span class="p">;</span>                  <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">SenseBufferLength</span><span class="p">;</span>          <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>                      <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>                   <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>                 <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">SCSIStatus</span><span class="p">;</span>                 <span class="cm">/* 0Ch */</span>
    <span class="n">U8</span>                      <span class="n">SCSIState</span><span class="p">;</span>                  <span class="cm">/* 0Dh */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>                  <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>                 <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">TransferCount</span><span class="p">;</span>              <span class="cm">/* 14h */</span>
    <span class="n">U32</span>                     <span class="n">SenseCount</span><span class="p">;</span>                 <span class="cm">/* 18h */</span>
    <span class="n">U32</span>                     <span class="n">ResponseInfo</span><span class="p">;</span>               <span class="cm">/* 1Ch */</span>
    <span class="n">U16</span>                     <span class="n">TaskTag</span><span class="p">;</span>                    <span class="cm">/* 20h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved2</span><span class="p">;</span>                  <span class="cm">/* 22h */</span>
    <span class="n">U32</span>                     <span class="n">BidirectionalTransferCount</span><span class="p">;</span> <span class="cm">/* 24h */</span>
<span class="p">}</span> <span class="n">MSG_SCSIIO32_IO_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_SCSIIO32_IO_REPLY</span><span class="p">,</span>
  <span class="n">SCSIIO32Reply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSCSIIO32Reply_t</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/*  SCSI Task Management messages                                           */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SCSI_TASK_MGMT</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TargetID</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved</span><span class="p">;</span>           <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">TaskType</span><span class="p">;</span>           <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">LUN</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>             <span class="cm">/* 0Ch */</span>
    <span class="n">U32</span>                     <span class="n">Reserved2</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>       <span class="cm">/* 14h */</span>
    <span class="n">U32</span>                     <span class="n">TaskMsgContext</span><span class="p">;</span>     <span class="cm">/* 30h */</span>
<span class="p">}</span> <span class="n">MSG_SCSI_TASK_MGMT</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_SCSI_TASK_MGMT</span><span class="p">,</span>
  <span class="n">SCSITaskMgmt_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSCSITaskMgmt_t</span><span class="p">;</span>

<span class="cm">/* TaskType values */</span>

<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_ABORT_TASK            (0x01)</span>
<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_ABRT_TASK_SET         (0x02)</span>
<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_TARGET_RESET          (0x03)</span>
<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_RESET_BUS             (0x04)</span>
<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_LOGICAL_UNIT_RESET    (0x05)</span>
<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_CLEAR_TASK_SET        (0x06)</span>
<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_QUERY_TASK            (0x07)</span>
<span class="cp">#define MPI_SCSITASKMGMT_TASKTYPE_CLR_ACA               (0x08)</span>

<span class="cm">/* MsgFlags bits */</span>
<span class="cp">#define MPI_SCSITASKMGMT_MSGFLAGS_DO_NOT_SEND_TASK_IU   (0x01)</span>

<span class="cp">#define MPI_SCSITASKMGMT_MSGFLAGS_TARGET_RESET_OPTION   (0x00)</span>
<span class="cp">#define MPI_SCSITASKMGMT_MSGFLAGS_LIP_RESET_OPTION      (0x02)</span>
<span class="cp">#define MPI_SCSITASKMGMT_MSGFLAGS_LIPRESET_RESET_OPTION (0x04)</span>

<span class="cp">#define MPI_SCSITASKMGMT_MSGFLAGS_SOFT_RESET_OPTION     (0x08)</span>

<span class="cm">/* SCSI Task Management Reply */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SCSI_TASK_MGMT_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TargetID</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                      <span class="n">ResponseCode</span><span class="p">;</span>       <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">TaskType</span><span class="p">;</span>           <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>       <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">TerminationCount</span><span class="p">;</span>   <span class="cm">/* 14h */</span>
<span class="p">}</span> <span class="n">MSG_SCSI_TASK_MGMT_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_SCSI_TASK_MGMT_REPLY</span><span class="p">,</span>
  <span class="n">SCSITaskMgmtReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSCSITaskMgmtReply_t</span><span class="p">;</span>

<span class="cm">/* ResponseCode values */</span>
<span class="cp">#define MPI_SCSITASKMGMT_RSP_TM_COMPLETE                (0x00)</span>
<span class="cp">#define MPI_SCSITASKMGMT_RSP_INVALID_FRAME              (0x02)</span>
<span class="cp">#define MPI_SCSITASKMGMT_RSP_TM_NOT_SUPPORTED           (0x04)</span>
<span class="cp">#define MPI_SCSITASKMGMT_RSP_TM_FAILED                  (0x05)</span>
<span class="cp">#define MPI_SCSITASKMGMT_RSP_TM_SUCCEEDED               (0x08)</span>
<span class="cp">#define MPI_SCSITASKMGMT_RSP_TM_INVALID_LUN             (0x09)</span>
<span class="cp">#define MPI_SCSITASKMGMT_RSP_IO_QUEUED_ON_IOC           (0x80)</span>


<span class="cm">/****************************************************************************/</span>
<span class="cm">/*  SCSI Enclosure Processor messages                                       */</span>
<span class="cm">/****************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SEP_REQUEST</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TargetID</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">ChainOffset</span><span class="p">;</span>        <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                      <span class="n">Action</span><span class="p">;</span>             <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Flags</span><span class="p">;</span>              <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U32</span>                     <span class="n">SlotStatus</span><span class="p">;</span>         <span class="cm">/* 0Ch */</span>
    <span class="n">U32</span>                     <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 14h */</span>
    <span class="n">U32</span>                     <span class="n">Reserved4</span><span class="p">;</span>          <span class="cm">/* 18h */</span>
    <span class="n">U16</span>                     <span class="n">Slot</span><span class="p">;</span>               <span class="cm">/* 1Ch */</span>
    <span class="n">U16</span>                     <span class="n">EnclosureHandle</span><span class="p">;</span>    <span class="cm">/* 1Eh */</span>
<span class="p">}</span> <span class="n">MSG_SEP_REQUEST</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_SEP_REQUEST</span><span class="p">,</span>
  <span class="n">SEPRequest_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSEPRequest_t</span><span class="p">;</span>

<span class="cm">/* Action defines */</span>
<span class="cp">#define MPI_SEP_REQ_ACTION_WRITE_STATUS                 (0x00)</span>
<span class="cp">#define MPI_SEP_REQ_ACTION_READ_STATUS                  (0x01)</span>

<span class="cm">/* Flags defines */</span>
<span class="cp">#define MPI_SEP_REQ_FLAGS_ENCLOSURE_SLOT_ADDRESS        (0x01)</span>
<span class="cp">#define MPI_SEP_REQ_FLAGS_BUS_TARGETID_ADDRESS          (0x00)</span>

<span class="cm">/* SlotStatus bits for MSG_SEP_REQUEST */</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_NO_ERROR                 (0x00000001)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_DEV_FAULTY               (0x00000002)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_DEV_REBUILDING           (0x00000004)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_IN_FAILED_ARRAY          (0x00000008)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_IN_CRITICAL_ARRAY        (0x00000010)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_PARITY_CHECK             (0x00000020)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_PREDICTED_FAULT          (0x00000040)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_UNCONFIGURED             (0x00000080)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_HOT_SPARE                (0x00000100)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_REBUILD_STOPPED          (0x00000200)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_REQ_CONSISTENCY_CHECK    (0x00001000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_DISABLE                  (0x00002000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_REQ_RESERVED_DEVICE      (0x00004000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_IDENTIFY_REQUEST         (0x00020000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_REQUEST_REMOVE           (0x00040000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_REQUEST_INSERT           (0x00080000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_DO_NOT_MOVE              (0x00400000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_ACTIVE                   (0x00800000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_B_ENABLE_BYPASS          (0x04000000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_A_ENABLE_BYPASS          (0x08000000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_DEV_OFF                  (0x10000000)</span>
<span class="cp">#define MPI_SEP_REQ_SLOTSTATUS_SWAP_RESET               (0x80000000)</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MSG_SEP_REPLY</span>
<span class="p">{</span>
    <span class="n">U8</span>                      <span class="n">TargetID</span><span class="p">;</span>           <span class="cm">/* 00h */</span>
    <span class="n">U8</span>                      <span class="n">Bus</span><span class="p">;</span>                <span class="cm">/* 01h */</span>
    <span class="n">U8</span>                      <span class="n">MsgLength</span><span class="p">;</span>          <span class="cm">/* 02h */</span>
    <span class="n">U8</span>                      <span class="n">Function</span><span class="p">;</span>           <span class="cm">/* 03h */</span>
    <span class="n">U8</span>                      <span class="n">Action</span><span class="p">;</span>             <span class="cm">/* 04h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved1</span><span class="p">;</span>          <span class="cm">/* 05h */</span>
    <span class="n">U8</span>                      <span class="n">Reserved2</span><span class="p">;</span>          <span class="cm">/* 06h */</span>
    <span class="n">U8</span>                      <span class="n">MsgFlags</span><span class="p">;</span>           <span class="cm">/* 07h */</span>
    <span class="n">U32</span>                     <span class="n">MsgContext</span><span class="p">;</span>         <span class="cm">/* 08h */</span>
    <span class="n">U16</span>                     <span class="n">Reserved3</span><span class="p">;</span>          <span class="cm">/* 0Ch */</span>
    <span class="n">U16</span>                     <span class="n">IOCStatus</span><span class="p">;</span>          <span class="cm">/* 0Eh */</span>
    <span class="n">U32</span>                     <span class="n">IOCLogInfo</span><span class="p">;</span>         <span class="cm">/* 10h */</span>
    <span class="n">U32</span>                     <span class="n">SlotStatus</span><span class="p">;</span>         <span class="cm">/* 14h */</span>
    <span class="n">U32</span>                     <span class="n">Reserved4</span><span class="p">;</span>          <span class="cm">/* 18h */</span>
    <span class="n">U16</span>                     <span class="n">Slot</span><span class="p">;</span>               <span class="cm">/* 1Ch */</span>
    <span class="n">U16</span>                     <span class="n">EnclosureHandle</span><span class="p">;</span>    <span class="cm">/* 1Eh */</span>
<span class="p">}</span> <span class="n">MSG_SEP_REPLY</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">PTR_MSG_SEP_REPLY</span><span class="p">,</span>
  <span class="n">SEPReply_t</span><span class="p">,</span> <span class="n">MPI_POINTER</span> <span class="n">pSEPReply_t</span><span class="p">;</span>

<span class="cm">/* SlotStatus bits for MSG_SEP_REPLY */</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_NO_ERROR               (0x00000001)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_DEV_FAULTY             (0x00000002)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_DEV_REBUILDING         (0x00000004)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_IN_FAILED_ARRAY        (0x00000008)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_IN_CRITICAL_ARRAY      (0x00000010)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_PARITY_CHECK           (0x00000020)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_PREDICTED_FAULT        (0x00000040)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_UNCONFIGURED           (0x00000080)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_HOT_SPARE              (0x00000100)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_REBUILD_STOPPED        (0x00000200)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_CONSISTENCY_CHECK      (0x00001000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_DISABLE                (0x00002000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_RESERVED_DEVICE        (0x00004000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_REPORT                 (0x00010000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_IDENTIFY_REQUEST       (0x00020000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_REMOVE_READY           (0x00040000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_INSERT_READY           (0x00080000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_DO_NOT_REMOVE          (0x00400000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_ACTIVE                 (0x00800000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_B_BYPASS_ENABLED       (0x01000000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_A_BYPASS_ENABLED       (0x02000000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_B_ENABLE_BYPASS        (0x04000000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_A_ENABLE_BYPASS        (0x08000000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_DEV_OFF                (0x10000000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_FAULT_SENSED           (0x40000000)</span>
<span class="cp">#define MPI_SEP_REPLY_SLOTSTATUS_SWAPPED                (0x80000000)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
