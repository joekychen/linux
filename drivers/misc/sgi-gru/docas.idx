f | grutables.h | s | 22K | 608 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | Makefile | g | 181B |  | matt mooney | mfm@muteddisk.com | 1300367134 |  | misc: change to new flag variable  Replace EXTRA_CFLAGS with ccflags-y.  Signed-off-by: matt mooney <mfm@muteddisk.com> Acked-by: WANG Cong <xiyou.wangcong@gmail.com> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | grumain.c | s | 25K | 861 | Linus Torvalds | torvalds@linux-foundation.org | 1305921029 |  | sanitize <linux/prefetch.h> usage  Commit e66eed651fd1 ("list: remove prefetching from regular list iterators") removed the include of prefetch.h from list.h, which uncovered several cases that had apparently relied on that rather obscure header file dependency.  So this fixes things up a bit, using     grep -L linux/prefetch.h $(git grep -l '[^a-z_]prefetchw*(' -- '*.[ch]')    grep -L 'prefetchw*(' $(git grep -l 'linux/prefetch.h' -- '*.[ch]')  to guide us in finding files that either need <linux/prefetch.h> inclusion, or have it despite not needing it.  There are more of them around (mostly network drivers), but this gets many core ones.  Reported-by: Stephen Rothwell <sfr@canb.auug.org.au> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | grukservices.h | s | 6.1K | 195 | Robin Holt | holt@sgi.com | 1260976813 |  | X86: uv: implement a gru_read_gpa kernel function  The BIOS has decided to store a pointer to the partition reserved page in a scratch MMR.  The GRU is only able to read an MMR using a vload instruction.  The gru_read_gpa() function will implemented.  Signed-off-by: Robin Holt <holt@sgi.com> Signed-off-by: Jack Steiner <steiner@sgi.com> Cc: Ingo Molnar <mingo@elte.hu> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | grutlbpurge.c | s | 11K | 339 | Jack Steiner | steiner@sgi.com | 1260976816 |  | gru: add additional GRU statistics  Add additional GRU statistics & debug messages.  Signed-off-by: Jack Steiner <steiner@sgi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | grufault.c | s | 23K | 793 | Linus Torvalds | torvalds@linux-foundation.org | 1305921029 |  | sanitize <linux/prefetch.h> usage  Commit e66eed651fd1 ("list: remove prefetching from regular list iterators") removed the include of prefetch.h from list.h, which uncovered several cases that had apparently relied on that rather obscure header file dependency.  So this fixes things up a bit, using     grep -L linux/prefetch.h $(git grep -l '[^a-z_]prefetchw*(' -- '*.[ch]')    grep -L 'prefetchw*(' $(git grep -l 'linux/prefetch.h' -- '*.[ch]')  to guide us in finding files that either need <linux/prefetch.h> inclusion, or have it despite not needing it.  There are more of them around (mostly network drivers), but this gets many core ones.  Reported-by: Stephen Rothwell <sfr@canb.auug.org.au> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | grulib.h | s | 3.9K | 130 | Jack Steiner | steiner@sgi.com | 1260976817 |  | gru: improve GRU TLB dropin statistics  Update the TLB dropin statistics kept for each GRU context.  Count TLB dropins separate from the misses - some misses do not result in a TLB dropin.  Some of the diagnostics need both counts.  Signed-off-by: Jack Steiner <steiner@sgi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | grukdump.c | s | 5.7K | 204 | Jack Steiner | steiner@sgi.com | 1260976815 |  | gru: add debug option for cache flushing  Add a debug option to the SGI GRU driver for flushing GRU cache lines from memory.  In theory this is not needed but it is useful for debugging. This has no use by end users.  Signed-off-by: Jack Steiner <steiner@sgi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | gruprocfs.c | s | 9.9K | 338 | Al Viro | viro@zeniv.linux.org.uk | 1325649296 |  | switch procfs to umode_t use  both proc_dir_entry ->mode and populating functions  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | gru_instructions.h | s | 21K | 633 | David Howells | dhowells@redhat.com | 1332955803 |  | Add #includes needed to permit the removal of asm/system.h  asm/system.h is a cause of circular dependency problems because it contains commonly used primitive stuff like barrier definitions and uncommonly used stuff like switch_to() that might require MMU definitions.  asm/system.h has been disintegrated by this point on all arches into the following common segments:   (1) asm/barrier.h       Moved memory barrier definitions here.   (2) asm/cmpxchg.h       Moved xchg() and cmpxchg() here.  #included in asm/atomic.h.   (3) asm/bug.h       Moved die() and similar here.   (4) asm/exec.h       Moved arch_align_stack() here.   (5) asm/elf.h       Moved AT_VECTOR_SIZE_ARCH here.   (6) asm/switch_to.h       Moved switch_to() here.  Signed-off-by: David Howells <dhowells@redhat.com>
f | grufile.c | s | 14K | 532 | Wanlong Gao | wanlong.gao@gmail.com | 1302822415 |  | drivers/misc/sgi-gru/grufile.c: fix the wrong members of gru_chip  Fix the wrong members and the wrong function's definition, since the irq_chip had changed.  Signed-off-by: Wanlong Gao <wanlong.gao@gmail.com> Cc: Jack Steiner <steiner@sgi.com> Cc: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | gru.h | s | 2.2K | 69 | Jack Steiner | steiner@sgi.com | 1260976817 |  | gru: improve GRU TLB dropin statistics  Update the TLB dropin statistics kept for each GRU context.  Count TLB dropins separate from the misses - some misses do not result in a TLB dropin.  Some of the diagnostics need both counts.  Signed-off-by: Jack Steiner <steiner@sgi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | gruhandles.c | s | 5.4K | 187 | Jack Steiner | steiner@sgi.com | 1260976816 |  | gru: preload tlb for bcopy instructions  Add anticipatory TLB dropins for GRU TLB misses that occur on BCOPY instructions that copy large amounts of data.  Signed-off-by: Jack Steiner <steiner@sgi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | grukservices.c | s | 29K | 1030 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103914 |  | drivers/misc: Add export.h for EXPORT_SYMBOL/THIS_MODULE as required.  We will need this to avoid build failures pending a future implicit module.h presence cleanup.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | gruhandles.h | s | 13K | 440 | Jack Steiner | steiner@sgi.com | 1260976816 |  | gru: update GRU structures to match latest hardware spec  Add a few new definitions for chipset MMR field names.  This matches rev 0.7 of the hardware spec.  Signed-off-by: Jack Steiner <steiner@sgi.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
