f | Makefile | g | 1.9K |  | Linus Torvalds | torvalds@linux-foundation.org | 1337729661 |  | 
f | bmp085.c | s | 12K | 402 | Eric Andersson | eric.andersson@unixphere.com | 1334786234 |  | misc: add support for bmp18x chips to the bmp085 driver  The bmp18x chip family comes in an I2C respectively SPI variant. Hence, the bmp085 driver was split to support both buses.  Tested-by: Zhengguang Guo <zhengguang.guo@bosch-sensortec.com> Reviewed-by: Stefan Nilsson <stefan.nilsson@unixphere.com> Signed-off-by: Eric Andersson <eric.andersson@unixphere.com> Reviewed-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Reviewed-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | apds9802als.c | s | 8.1K | 281 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | ics932s401.c | s | 13K | 410 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
d | sgi-xp |  | 13 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | hmc6352.c | s | 4.0K | 134 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | arm-charlcd.c | s | 9.3K | 338 | Uwe Kleine-König | u.kleine-koenig@pengutronix.de | 1288640314 |  | tree-wide: fix comment/printk typos  "gadget", "through", "command", "maintain", "maintain", "controller", "address", "between", "initiali[zs]e", "instead", "function", "select", "already", "equal", "access", "management", "hierarchy", "registration", "interest", "relative", "memory", "offset", "already",  Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | bmp085-i2c.c | s | 2.4K | 76 | Eric Andersson | eric.andersson@unixphere.com | 1334786234 |  | misc: add support for bmp18x chips to the bmp085 driver  The bmp18x chip family comes in an I2C respectively SPI variant. Hence, the bmp085 driver was split to support both buses.  Tested-by: Zhengguang Guo <zhengguang.guo@bosch-sensortec.com> Reviewed-by: Stefan Nilsson <stefan.nilsson@unixphere.com> Signed-off-by: Eric Andersson <eric.andersson@unixphere.com> Reviewed-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Reviewed-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
d | mei |  | 11 items |  | Tomas Winkler | tomas.winkler@intel.com | 1339626871 |  | misc: mei: set WDIOF_ALARMONLY on mei watchdog  mei watchdog doesn't reboot the system it only produces event therefore mark it as WDIOF_ALARMONLY.  This patch depends on: commit 2bbeed016dd96045ec82c3a309afddcc3a0db1d2 Author: Alan Cox <alan@linux.intel.com> watchdog: Add a flag to indicate the watchdog doesn't reboot things  Signed-off-by: Tomas Winkler <tomas.winkler@intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | spear13xx_pcie_gadget.c | s | 22K | 751 | Axel Lin | axel.lin@gmail.com | 1327451508 |  | MISC: convert drivers/misc/* to use module_platform_driver()  This patch converts the drivers in drivers/misc/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Acked-by: Ira W. Snyder <iws@ovro.caltech.edu> Cc: Pavan Savoy <pavan_savoy@ti.com> Cc: Donggeun Kim <dg77.kim@samsung.com> Acked-By: Pratyush Anand <pratyush.anand@st.com> Acked-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Pratyush Anand <pratyush.anand@st.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | ab8500-pwm.c | s | 4.0K | 151 | Lee Jones | lee.jones@linaro.org | 1337527633 |  | mfd: Enable Device Tree support in the ab8500-pwm driver  This patch ensures probing of the ab8500-pwm driver during a DT enabled boot, so long as the associated nodes are present in the Device Tree binary.  Signed-off-by: Lee Jones <lee.jones@linaro.org> Signed-off-by: Samuel Ortiz <sameo@linux.intel.com>
f | isl29003.c | s | 11K | 374 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | fsa9480.c | s | 12K | 438 | Wolfram Sang | w.sang@pengutronix.de | 1330121802 |  | misc: fsa9480: Remove obsolete cleanup for clientdata  A few new i2c-drivers came into the kernel which clear the clientdata-pointer on exit or error. This is obsolete meanwhile, the core will do it.  Signed-off-by: Wolfram Sang <w.sang@pengutronix.de> Acked-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
d | lis3lv02d |  | 6 items |  | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_spi_driver()  This patch converts the drivers in drivers/misc/* to use the module_spi_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anatolij Gustschin <agust@denx.de> Cc: Daniel Mack <zonque@gmail.com> Acked-by: Michael Hennerich <michael.hennerich@analog.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
d | iwmc3200top |  | 10 items |  | Rusty Russell | rusty@rustcorp.com.au | 1326409340 |  | module_param: make bool parameters really bool (drivers & misc)  module_param(bool) used to counter-intuitively take an int.  In fddd5201 (mid-2009) we allowed bool or int/unsigned int using a messy trick.  It's time to remove the int/unsigned int option.  For this version it'll simply give a warning, but it'll break next kernel version.  Acked-by: Mauro Carvalho Chehab <mchehab@redhat.com> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | enclosure.c | s | 15K | 481 | James Bottomley | James.Bottomley@suse.de | 1280250228 |  | [SCSI] enclosure: fix error path - actually return ERR_PTR() on error  we also need to clean up and free the cdev.  Reported-by: Jani Nikula <ext-jani.1.nikula@nokia.com> Cc: Stable Tree <stable@kernel.org> Signed-off-by: James Bottomley <James.Bottomley@suse.de>
f | bh1780gli.c | s | 6.1K | 212 | Arnd Bergmann | arnd@arndb.de | 1334786071 |  | misc: add missing __devexit_p() annotations  Drivers that refer to a __devexit function in an operations structure need to annotate that pointer with __devexit_p so it is replaced with a NULL pointer when the section gets discarded.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | cs5535-mfgpt.c | s | 9.2K | 295 | Linus Torvalds | torvalds@linux-foundation.org | 1332267318 |  | 
f | ad525x_dpot.h | s | 7.9K | 192 | Linus Torvalds | torvalds@linux-foundation.org | 1326139739 |  | Merge branch 'char-misc-next' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/char-misc  * 'char-misc-next' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/char-misc:   isl29020: Remove a redundant semi-colon from return statement   BMP085: Remove redundant semi-colon from return statement   drivers:misc: ti-st: DEBUG uart, baud rate mods   drivers:misc: ti-st: flush UART upon fw failure   drivers:misc: ti-st: protect registrations   char_dev.c: fix up some whitespace errors   s390: tape_class.h: remove kobj_map.h inclusion   misc: ad525x_dpot: Add support for SPI module device table matching
f | lkdtm.c | s | 15K | 596 | Cong Wang | xiyou.wangcong@gmail.com | 1328314601 |  | lkdtm: avoid calling lkdtm_do_action() with spinlock held  lkdtm_do_action() may call sleeping functions like kmalloc(), so do not call it with spin lock held.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Cc: Prarit Bhargava <prarit@redhat.com> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Greg Kroah-Hartman <greg@kroah.com> Reviewed-by: Dave Young <dyoung@redhat.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | pch_phub.c | s | 27K | 790 | Tomoya MORINAGA | tomoya.rohm@gmail.com | 1334786031 |  | pch_phub: delete duplicate definitions  Signed-off-by: Tomoya MORINAGA <tomoya.rohm@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
d | carma |  | 4 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1332381310 |  | Merge branch 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/benh/powerpc  Pull powerpc merge from Benjamin Herrenschmidt:  "Here's the powerpc batch for this merge window.  It is going to be a   bit more nasty than usual as in touching things outside of   arch/powerpc mostly due to the big iSeriesectomy :-) We finally got   rid of the bugger (legacy iSeries support) which was a PITA to   maintain and that nobody really used anymore.    Here are some of the highlights:     - Legacy iSeries is gone.  Thanks Stephen ! There's still some bits      and pieces remaining if you do a grep -ir series arch/powerpc but      they are harmless and will be removed in the next few weeks      hopefully.     - The 'fadump' functionality (Firmware Assisted Dump) replaces the      previous (equivalent) "pHyp assisted dump"...  it's a rewrite of a      mechanism to get the hypervisor to do crash dumps on pSeries, the      new implementation hopefully being much more reliable.  Thanks      Mahesh Salgaonkar.     - The "EEH" code (pSeries PCI error handling & recovery) got a big      spring cleaning, motivated by the need to be able to implement a      new backend for it on top of some new different type of firwmare.       The work isn't complete yet, but a good chunk of the cleanups is      there.  Note that this adds a field to struct device_node which is      not very nice and which Grant objects to.  I will have a patch soon      that moves that to a powerpc private data structure (hopefully      before rc1) and we'll improve things further later on (hopefully      getting rid of the need for that pointer completely).  Thanks Gavin      Shan.     - I dug into our exception & interrupt handling code to improve the      way we do lazy interrupt handling (and make it work properly with      "edge" triggered interrupt sources), and while at it found & fixed      a wagon of issues in those areas, including adding support for page      fault retry & fatal signals on page faults.     - Your usual random batch of small fixes & updates, including a bunch      of new embedded boards, both Freescale and APM based ones, etc..."  I fixed up some conflicts with the generalized irq-domain changes from Grant Likely, hopefully correctly.  * 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/benh/powerpc: (141 commits)   powerpc/ps3: Do not adjust the wrapper load address   powerpc: Remove the rest of the legacy iSeries include files   powerpc: Remove the remaining CONFIG_PPC_ISERIES pieces   init: Remove CONFIG_PPC_ISERIES   powerpc: Remove FW_FEATURE ISERIES from arch code   tty/hvc_vio: FW_FEATURE_ISERIES is no longer selectable   powerpc/spufs: Fix double unlocks   powerpc/5200: convert mpc5200 to use of_platform_populate()   powerpc/mpc5200: add options to mpc5200_defconfig   powerpc/mpc52xx: add a4m072 board support   powerpc/mpc5200: update mpc5200_defconfig to fit for charon board   Documentation/powerpc/mpc52xx.txt: Checkpatch cleanup   powerpc/44x: Add additional device support for APM821xx SoC and Bluestone board   powerpc/44x: Add support PCI-E for APM821xx SoC and Bluestone board   MAINTAINERS: Update PowerPC 4xx tree   powerpc/44x: The bug fixed support for APM821xx SoC and Bluestone board   powerpc: document the FSL MPIC message register binding   powerpc: add support for MPIC message register API   powerpc/fsl: Added aliased MSIIR register address to MSI node in dts   powerpc/85xx: mpc8548cds - add 36-bit dts   ...
f | atmel_pwm.c | s | 9.2K | 345 | Joe Perches | joe@perches.com | 1307710536 |  | treewide: Convert uses of struct resource to resource_size(ptr)  Several fixes as well where the +1 was missing.  Done via coccinelle scripts like:  @@ struct resource *ptr; @@  - ptr->end - ptr->start + 1 + resource_size(ptr)  and some grep and typing.  Mostly uncompiled, no cross-compilers.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | hpilo.c | s | 20K | 728 | Linus Torvalds | torvalds@linux-foundation.org | 1287801402 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-core-2.6  * git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-core-2.6: (31 commits)   driver core: Display error codes when class suspend fails   Driver core: Add section count to memory_block struct   Driver core: Add mutex for adding/removing memory blocks   Driver core: Move find_memory_block routine   hpilo: Despecificate driver from iLO generation   driver core: Convert link_mem_sections to use find_memory_block_hinted.   driver core: Introduce find_memory_block_hinted which utilizes kset_find_obj_hinted.   kobject: Introduce kset_find_obj_hinted.   driver core: fix build for CONFIG_BLOCK not enabled   driver-core: base: change to new flag variable   sysfs: only access bin file vm_ops with the active lock   sysfs: Fail bin file mmap if vma close is implemented.   FW_LOADER: fix kconfig dependency warning on HOTPLUG   uio: Statically allocate uio_class and use class .dev_attrs.   uio: Support 2^MINOR_BITS minors   uio: Cleanup irq handling.   uio: Don't clear driver data   uio: Fix lack of locking in init_uio_class   SYSFS: Allow boot time switching between deprecated and modern sysfs layout   driver core: remove CONFIG_SYSFS_DEPRECATED_V2 but keep it for block devices   ...
f | isl29020.c | s | 5.5K | 196 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | ds1682.c | s | 6.8K | 216 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | ep93xx_pwm.c | s | 9.5K | 316 | Vasiliy Kulikov | segoon@openwall.com | 1300841051 |  | drivers/misc/ep93xx_pwm.c: world-writable sysfs files  Don't allow everybody to change device settings.  Signed-off-by: Vasiliy Kulikov <segoon@openwall.com> Acked-by: Hartley Sweeten <hartleys@visionengravers.com> Cc: Matthieu Crapet <mcrapet@gmail.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | hpilo.h | s | 5.6K | 176 | Prarit Bhargava | prarit@redhat.com | 1281411905 |  | hpilo: fix pointer warning in ilo_ccb_setup  Fix i386 PAE compile warning:  drivers/misc/hpilo.c: In function `ilo_ccb_setup': drivers/misc/hpilo.c:274: warning: cast to pointer from integer of different size  dma_addr_t is 64 on i386 PAE which causes a size mismatch.  Signed-off-by: Prarit Bhargava <prarit@redhat.com> Acked-by: David Altobelli <david.altobelli@hp.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ad525x_dpot.c | s | 20K | 663 | Arnd Bergmann | arnd@arndb.de | 1334786071 |  | misc: do not mark exported functions __devexit  No symbol can be exported when the section is discarded - the only solution I could think of is not to mark symbols as __devexit when they are exported.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
d | cb710 |  | 5 items |  | Axel Lin | axel.lin@gmail.com | 1328228894 |  | mmc: cb710 core: Add missing spin_lock_init for irq_lock of struct cb710_chip  Signed-off-by: Axel Lin <axel.lin@gmail.com> Acked-by: Michał Mirosław <mirq-linux@rere.qmqm.pl> Cc: stable <stable@vger.kernel.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | ioc4.c | s | 14K | 437 | Ralf Baechle | ralf@linux-mips.org | 1309222813 |  | drivers/misc/ioc4.c: fix section mismatch / race condition  Fix this section mismatch:    WARNING: drivers/misc/ioc4.o(.data+0x144): Section mismatch in reference from the variable ioc4_load_modules_work to the function .devinit.text:ioc4_load_modules()   The variable ioc4_load_modules_work references   the function __devinit ioc4_load_modules()   If the reference is valid then annotate the   variable with __init* or __refdata (see linux/init.h) or name the variable:   *driver, *_template, *_timer, *_sht, *_ops, *_probe, *_probe_one, *_console  This one is potentially fatal; by the time ioc4_load_modules is invoked it may already have been freed.  For that reason ioc4_load_modules_work can't be turned to __devinitdata but also because it's referenced in ioc4_exit.  Signed-off-by: Ralf Baechle <ralf@linux-mips.org> Acked-by: Brent Casavant <bcasavan@sgi.com> Cc: Tejun Heo <tj@kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | bh1770glc.c | s | 37K | 1187 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
d | ti-st |  | 5 items |  | Axel Lin | axel.lin@gmail.com | 1327451508 |  | MISC: convert drivers/misc/* to use module_platform_driver()  This patch converts the drivers in drivers/misc/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Acked-by: Ira W. Snyder <iws@ovro.caltech.edu> Cc: Pavan Savoy <pavan_savoy@ti.com> Cc: Donggeun Kim <dg77.kim@samsung.com> Acked-By: Pratyush Anand <pratyush.anand@st.com> Acked-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Pratyush Anand <pratyush.anand@st.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
d | altera-stapl |  | 8 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1320100974 |  | Merge branch 'v4l_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media  * 'v4l_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media: (348 commits)   [media] pctv452e: Remove bogus code   [media] adv7175: Make use of media bus pixel codes   [media] media: vb2: fix incorrect return value   [media] em28xx: implement VIDIOC_ENUM_FRAMESIZES   [media] cx23885: Stop the risc video fifo before reconfiguring it   [media] cx23885: Avoid incorrect error handling and reporting   [media] cx23885: Avoid stopping the risc engine during buffer timeout   [media] cx23885: Removed a spurious function cx23885_set_scale()   [media] cx23885: v4l2 api compliance, set the audioset field correctly   [media] cx23885: hook the audio selection functions into the main driver   [media] cx23885: add generic functions for dealing with audio input selection   [media] cx23885: fixes related to maximum number of inputs and range checking   [media] cx23885: Initial support for the MPX-885 mini-card   [media] cx25840: Ensure AUDIO6 and AUDIO7 trigger line-in baseband use   [media] cx23885: Enable audio line in support from the back panel   [media] cx23885: Allow the audio mux config to be specified on a per input basis   [media] cx25840: Enable support for non-tuner LR1/LR2 audio inputs   [media] cx23885: Name an internal i2c part and declare a bitfield by name   [media] cx23885: Ensure VBI buffers timeout quickly - bugfix for vbi hangs during streaming   [media] cx23885: remove channel dump diagnostics when a vbi buffer times out   ...  Fix up trivial conflicts in drivers/misc/altera-stapl/altera.c (header file rename vs add)
f | tifm_7xx1.c | s | 11K | 370 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103913 |  | drivers/misc: Add module.h to files who are really modular.  These files really need the full module.h header file present, but were just getting it implicitly before.  Fix it up in advance so we avoid build failures once the cleanup commit is present.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | bmp085.h | s | 1.1K | 27 | Eric Andersson | eric.andersson@unixphere.com | 1334786234 |  | misc: add support for bmp18x chips to the bmp085 driver  The bmp18x chip family comes in an I2C respectively SPI variant. Hence, the bmp085 driver was split to support both buses.  Tested-by: Zhengguang Guo <zhengguang.guo@bosch-sensortec.com> Reviewed-by: Stefan Nilsson <stefan.nilsson@unixphere.com> Signed-off-by: Eric Andersson <eric.andersson@unixphere.com> Reviewed-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Reviewed-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
d | ibmasm |  | 16 items |  | Stephen Boyd | sboyd@codeaurora.org | 1333664750 |  | simple_open: automatically convert to simple_open()  Many users of debugfs copy the implementation of default_open() when they want to support a custom read/write function op.  This leads to a proliferation of the default_open() implementation across the entire tree.  Now that the common implementation has been consolidated into libfs we can replace all the users of this function with simple_open().  This replacement was done with the following semantic patch:  <smpl> @ open @ identifier open_f != simple_open; identifier i, f; @@ -int open_f(struct inode *i, struct file *f) -{ ( -if (i->i_private) -f->private_data = i->i_private; || -f->private_data = i->i_private; ) -return 0; -}  @ has_open depends on open @ identifier fops; identifier open.open_f; @@ struct file_operations fops = { ... -.open = open_f, +.open = simple_open, ... }; </smpl>  [akpm@linux-foundation.org: checkpatch fixes] Signed-off-by: Stephen Boyd <sboyd@codeaurora.org> Cc: Greg Kroah-Hartman <gregkh@linuxfoundation.org> Cc: Al Viro <viro@zeniv.linux.org.uk> Cc: Julia Lawall <Julia.Lawall@lip6.fr> Acked-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
d | sgi-gru |  | 15 items |  | David Howells | dhowells@redhat.com | 1332955803 |  | Add #includes needed to permit the removal of asm/system.h  asm/system.h is a cause of circular dependency problems because it contains commonly used primitive stuff like barrier definitions and uncommonly used stuff like switch_to() that might require MMU definitions.  asm/system.h has been disintegrated by this point on all arches into the following common segments:   (1) asm/barrier.h       Moved memory barrier definitions here.   (2) asm/cmpxchg.h       Moved xchg() and cmpxchg() here.  #included in asm/atomic.h.   (3) asm/bug.h       Moved die() and similar here.   (4) asm/exec.h       Moved arch_align_stack() here.   (5) asm/elf.h       Moved AT_VECTOR_SIZE_ARCH here.   (6) asm/switch_to.h       Moved switch_to() here.  Signed-off-by: David Howells <dhowells@redhat.com>
f | apds990x.c | s | 34K | 1064 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | bmp085-spi.c | s | 2.3K | 78 | Eric Andersson | eric.andersson@unixphere.com | 1334786234 |  | misc: add support for bmp18x chips to the bmp085 driver  The bmp18x chip family comes in an I2C respectively SPI variant. Hence, the bmp085 driver was split to support both buses.  Tested-by: Zhengguang Guo <zhengguang.guo@bosch-sensortec.com> Reviewed-by: Stefan Nilsson <stefan.nilsson@unixphere.com> Signed-off-by: Eric Andersson <eric.andersson@unixphere.com> Reviewed-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Reviewed-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | Kconfig | g | 17K |  | Linus Torvalds | torvalds@linux-foundation.org | 1337729661 |  | 
f | atmel_tclib.c | s | 4.5K | 175 | Nicolas Ferre | nicolas.ferre@atmel.com | 1330605529 |  | ARM: at91/tc/clocksource: Add 32 bit variant to Timer Counter  Some SoC have a 32 bit variant of Timer Counter Blocks. We do not need the chaining of two 16 bit counters anymore for them.  The SoC nature is deduced from the device tree "compatible" string. For non-device-tree configurations, backward compatibility is maintained by using the default 16 bit counter configuration.  This patch addresses both the atmel_tclib and its user: tcb_clksrc clocksource.  Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com> Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | vmw_balloon.c | s | 21K | 696 | Danny Kukawka | danny.kukawka@bisect.de | 1328228893 |  | vmw_balloon: fix for a -Wuninitialized warning  Fix for a -Wuninitialized compiler warning. Changed return value of vmballoon_send_lock_page() from bool to int to be able to distinguish between the error cases to avoid uninitialized use of hv_status in vmballoon_reserve_page()  Signed-off-by: Danny Kukawka <danny.kukawka@bisect.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | tsl2550.c | s | 10K | 371 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | kgdbts.c | s | 30K | 1063 | Jason Wessel | jason.wessel@windriver.com | 1333060885 |  | x86,kgdb: Fix DEBUG_RODATA limitation using text_poke()  There has long been a limitation using software breakpoints with a kernel compiled with CONFIG_DEBUG_RODATA going back to 2.6.26. For this particular patch, it will apply cleanly and has been tested all the way back to 2.6.36.  The kprobes code uses the text_poke() function which accommodates writing a breakpoint into a read-only page.  The x86 kgdb code can solve the problem similarly by overriding the default breakpoint set/remove routines and using text_poke() directly.  The x86 kgdb code will first attempt to use the traditional probe_kernel_write(), and next try using a the text_poke() function. The break point install method is tracked such that the correct break point removal routine will get called later on.  Cc: x86@kernel.org Cc: Thomas Gleixner <tglx@linutronix.de> Cc: Ingo Molnar <mingo@redhat.com> Cc: H. Peter Anvin <hpa@zytor.com> Cc: stable@vger.kernel.org # >= 2.6.36 Inspried-by: Masami Hiramatsu <masami.hiramatsu.pt@hitachi.com> Signed-off-by: Jason Wessel <jason.wessel@windriver.com>
d | eeprom |  | 9 items |  | Ivo Sieben | meltedpianoman@gmail.com | 1334786277 |  | Support M95040 SPI EEPROM  Updated the generic SPI EEPROM driver AT25 for support of an additional address bit in the instruction byte. Certain EEPROMS have a size that is larger than the number of address bytes would allow (e.g. like M95040 from ST that has 512 Byte size but uses only one address byte (A0 to A7) for addressing.) For the extra address bit (A8, A16 or A24) bit 3 of the instruction byte is used. This instruction bit is normally defined as don't care for other AT25 like chips.  Reviewed-by: Wolfram Sang <w.sang@pengutronix.de> Signed-off-by: Ivo Sieben <meltedpianoman@gmail.com> Acked-by: Chris Wright <chrisw@sous-sol.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | pti.c | s | 26K | 886 | Arnd Bergmann | arnd@arndb.de | 1334786071 |  | misc: add missing __devexit_p() annotations  Drivers that refer to a __devexit function in an operations structure need to annotate that pointer with __devexit_p so it is replaced with a NULL pointer when the section gets discarded.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Mathieu Poirier <mathieu.poirier@linaro.org> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | ad525x_dpot-spi.c | s | 2.9K | 123 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_spi_driver()  This patch converts the drivers in drivers/misc/* to use the module_spi_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anatolij Gustschin <agust@denx.de> Cc: Daniel Mack <zonque@gmail.com> Acked-by: Michael Hennerich <michael.hennerich@analog.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | ad525x_dpot-i2c.c | s | 2.7K | 104 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_i2c_driver()  This patch converts the drivers in drivers/misc/* to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anantha Narayanan <Anantha.Narayanan@intel.com> Cc: Hemanth V <hemanthv@ti.com> Cc: Christoph Mair <christoph.mair@gmail.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Ben Gardner <bgardner@wabtec.com> Cc: Minkyu Kang <mk7.kang@samsung.com> Cc: Kalhan Trisal <kalhan.trisal@intel.com> Cc: Darrick J. Wong <djwong@us.ibm.com> Cc: Daniel Mack <zonque@gmail.com> Cc: Rodolfo Giometti <giometti@linux.it> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
d | c2port |  | 4 items |  | Paul Bolle | pebolle@tiscali.nl | 1336395619 |  | c2port: fix bogus Kconfig "default no"  Strictly speaking "no" is a valid, but undefined, Kconfig symbol. But what obviously was meant here was "n".  While we're touching this Kconfig file also drop the superfluous dependency on C2PORT for C2PORT_DURAMAR_2150. Its Kconfig entry is already wrapped in "if C2PORT" and "endif".  Signed-off-by: Paul Bolle <pebolle@tiscali.nl> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | atmel-ssc.c | s | 3.6K | 149 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103913 |  | drivers/misc: Add module.h to files who are really modular.  These files really need the full module.h header file present, but were just getting it implicitly before.  Fix it up in advance so we avoid build failures once the cleanup commit is present.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | phantom.c | s | 13K | 461 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | tifm_core.c | s | 8.2K | 301 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103913 |  | drivers/misc: Add module.h to files who are really modular.  These files really need the full module.h header file present, but were just getting it implicitly before.  Fix it up in advance so we avoid build failures once the cleanup commit is present.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | ti_dac7512.c | s | 2.3K | 75 | Axel Lin | axel.lin@gmail.com | 1327451509 |  | MISC: convert drivers/misc/* to use module_spi_driver()  This patch converts the drivers in drivers/misc/* to use the module_spi_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Cc: Michael Hennerich <hennerich@blackfin.uclinux.org> Cc: Anatolij Gustschin <agust@denx.de> Cc: Daniel Mack <zonque@gmail.com> Acked-by: Michael Hennerich <michael.hennerich@analog.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
