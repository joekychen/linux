f | st_kim.c | s | 23K | 749 | Axel Lin | axel.lin@gmail.com | 1327451508 |  | MISC: convert drivers/misc/* to use module_platform_driver()  This patch converts the drivers in drivers/misc/* to use the module_platform_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Acked-by: Ira W. Snyder <iws@ovro.caltech.edu> Cc: Pavan Savoy <pavan_savoy@ti.com> Cc: Donggeun Kim <dg77.kim@samsung.com> Acked-By: Pratyush Anand <pratyush.anand@st.com> Acked-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Pratyush Anand <pratyush.anand@st.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | st_core.c | s | 23K | 787 | Pavan Savoy | pavan_savoy@ti.com | 1325719263 |  | drivers:misc: ti-st: protect registrations  Concurrent access to UART2/combo-interface by multiple protocol drivers such as BT, FM and GPS caused issues during firmware download failure cases or cases when the firmware download took longer than usual.  This was because of un-safe access to protos_registered & st_states. Protecting this will also make the registration complete callback un-safe for sleep.  Signed-off-by: Pavan Savoy <pavan_savoy@ti.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | st_ll.c | s | 4.4K | 151 | Pavan Savoy | pavan_savoy@ti.com | 1314047612 |  | drivers:misc:ti-st: platform hooks for chip states  Certain platform specific or Host-WiLink Interface specific actions would be required to be taken when the chip is being enabled and after the chip is disabled such as configuration of the mux modes for the GPIO of host connected to the nshutdown of the chip or relinquishing UART after the chip is disabled.  Similar actions can also be taken when the chip is in deep sleep or when the chip is awake. Performance enhancements such as configuring the host to run faster when chip is awake and slower when chip is asleep can also be made here.  Signed-off-by: Pavan Savoy <pavan_savoy@ti.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Makefile | g | 176B |  | Pavan Savoy | pavan_savoy@ti.com | 1286378820 |  | misc: ti-st: Kconfig & Makefile for TI_ST  Add the Kconfig and the Makefile for the TI_ST driver. TI_ST driver is the line discipline driver for the Texas Instrument's WiLink chipsets. Also add the ti-st folder to list of drivers under drivers/misc.  Signed-off-by: Pavan Savoy <pavan_savoy@ti.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Kconfig | g | 520B |  | Randy Dunlap | randy.dunlap@oracle.com | 1304111463 |  | misc: fix ti-st build issues  st_drv uses skb*() interfaces, so it should depend on NET. It also uses GPIO interfaces, so it should depend on GPIOLIB.  st_kim.c uses syss_*() calls, so it should #include <linux/sysfs.h>.  Fixes these observed build errors: ERROR: "skb_queue_purge" [drivers/misc/ti-st/st_drv.ko] undefined! ERROR: "skb_pull" [drivers/misc/ti-st/st_drv.ko] undefined! ERROR: "skb_queue_tail" [drivers/misc/ti-st/st_drv.ko] undefined! ERROR: "__alloc_skb" [drivers/misc/ti-st/st_drv.ko] undefined! ERROR: "kfree_skb" [drivers/misc/ti-st/st_drv.ko] undefined! ERROR: "skb_dequeue" [drivers/misc/ti-st/st_drv.ko] undefined! ERROR: "skb_put" [drivers/misc/ti-st/st_drv.ko] undefined!  Signed-off-by: Randy Dunlap <randy.dunlap@oracle.com> Cc: Pavan Savoy <pavan_savoy@ti.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
