f | Makefile | g | 2.4K |  | Linus Torvalds | torvalds@linux-foundation.org | 1332550599 |  | Merge branch 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/davej/cpufreq  Pull cpufreq updates for 3.4 from Dave Jones: new drivers and some fixes.  * 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/davej/cpufreq:   provide disable_cpufreq() function to disable the API.   EXYNOS5250: Add support cpufreq for EXYNOS5250   EXYNOS4X12: Add support cpufreq for EXYNOS4X12   [CPUFREQ] CPUfreq ondemand: update sampling rate without waiting for next sampling   [CPUFREQ] Add S3C2416/S3C2450 cpufreq driver   [CPUFREQ] Fix exposure of ARM_EXYNOS4210_CPUFREQ   [CPUFREQ] EXYNOS4210: update the name of EXYNOS clock register   [CPUFREQ] EXYNOS: Initialize locking_frequency with initial frequency   [CPUFREQ] s3c64xx: Fix mis-cherry pick of VDDINT  Fix up trivial conflicts in Kconfig and Makefile due to just changes next to each other (OMAP2PLUS changes vs some new EXYNOS cpufreq drivers).
f | cpufreq_conservative.c | s | 16K | 509 | Martin Schwidefsky | schwidefsky@de.ibm.com | 1324318995 |  | Merge branch 'sched/core' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip into cputime-tip  Conflicts: 	drivers/cpufreq/cpufreq_conservative.c 	drivers/cpufreq/cpufreq_ondemand.c 	drivers/macintosh/rack-meter.c 	fs/proc/stat.c 	fs/proc/uptime.c 	kernel/sched/core.c
f | sc520_freq.c | s | 4.1K | 145 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | cpufreq_powersave.c | s | 1.5K | 56 | Dominik Brodowski | linux@dominikbrodowski.net | 1304524257 |  | [CPUFREQ] use dynamic debug instead of custom infrastructure  With dynamic debug having gained the capability to report debug messages also during the boot process, it offers a far superior interface for debug messages than the custom cpufreq infrastructure. As a first step, remove the old cpufreq_debug_printk() function and replace it with a call to the generic pr_debug() function.  How can dynamic debug be used on cpufreq? You need a kernel which has CONFIG_DYNAMIC_DEBUG enabled.  To enabled debugging during runtime, mount debugfs and  $ echo -n 'module cpufreq +p' > /sys/kernel/debug/dynamic_debug/control  for debugging the complete "cpufreq" module. To achieve the same goal during boot, append  	ddebug_query="module cpufreq +p"  as a boot parameter to the kernel of your choice.  For more detailled instructions, please see Documentation/dynamic-debug-howto.txt  Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net> Signed-off-by: Dave Jones <davej@redhat.com>
f | db8500-cpufreq.c | s | 4.1K | 143 | Linus Walleij | linus.walleij@linaro.org | 1335911113 |  | ARM: ux500: core U9540 support  This adds support for the U9540 variant of the U8500 series. This is an application processor without internal modem. This is the most basic part with ASIC ID, CPU-related fixes, IRQ list, register ranges, timer, UART, and L2 cache setup. This is based on a patch by Michel Jaouen which was rewritten to fit with the latest 3.3 kernel.  ChangeLog v1->v2: deleted the irqs-db9540.h file since we expect to   migrate to using Device Tree for getting the IRQs to devices. ChangeLog v2->v3: introduced a fixed virtual offset for the ROM   as suggested by Arnd Bergmann.  Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Sebastien Pasdeloup <sebastien.pasdeloup-nonst@stericsson.com> Signed-off-by: Michel Jaouen <michel.jaouen@stericsson.com> Signed-off-by: Linus Walleij <linus.walleij@linaro.org>
f | powernow-k7.c | s | 17K | 605 | David Howells | dhowells@redhat.com | 1332955803 |  | Remove all #inclusions of asm/system.h  Remove all #inclusions of asm/system.h preparatory to splitting and killing it.  Performed with the following command:  perl -p -i -e 's!^#\s*include\s*<asm/system[.]h>.*\n!!' `grep -Irl '^#\s*include\s*<asm/system[.]h>' *`  Signed-off-by: David Howells <dhowells@redhat.com>
f | speedstep-lib.c | s | 11K | 403 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Kconfig.x86 | g | 7.2K |  | Linus Torvalds | torvalds@linux-foundation.org | 1305852912 |  | Merge branch 'x86-cpu-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip  * 'x86-cpu-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:   x86, cpu: Fix detection of Celeron Covington stepping A1 and B0   Documentation, ABI: Update L3 cache index disable text   x86, AMD, cacheinfo: Fix L3 cache index disable checks   x86, AMD, cacheinfo: Fix fallout caused by max3 conversion   x86, cpu: Change NOP selection for certain Intel CPUs   x86, cpu: Clean up and unify the NOP selection infrastructure   x86, percpu: Use ASM_NOP4 instead of hardcoding P6_NOP4   x86, cpu: Move AMD Elan Kconfig under "Processor family"  Fix up trivial conflicts in alternative handling (commit dc326fca2b64 "x86, cpu: Clean up and unify the NOP selection infrastructure" removed some hacky 5-byte instruction stuff, while commit d430d3d7e646 "jump label: Introduce static_branch() interface" renamed HAVE_JUMP_LABEL to CONFIG_JUMP_LABEL in the code that went away)
f | powernow-k8.c | s | 40K | 1344 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | powernow-k6.c | s | 6.6K | 214 | Ben Hutchings | ben@decadent.org.uk | 1329175563 |  | powernow-k6: Really enable auto-loading  Commit fa8031aefec0cf7ea6c2387c93610d99d9659aa2 ('cpufreq: Add support for x86 cpuinfo auto loading v4') added a device ID table to this driver, but didn't declare it as the module device ID table.  Signed-off-by: Ben Hutchings <ben@decadent.org.uk> Acked-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | acpi-cpufreq.c | s | 19K | 648 | Matthew Garrett | mjg@redhat.com | 1310596189 |  | [CPUFREQ] Handle CPUs with different capabilities in acpi-cpufreq  acpi-cpufreq checks each CPU for aperf/mperf support, but only sets a global flag. This will cause errors if some CPUs in the system don't support the feature. Check boot_cpu_has() instead in order to make sure that all CPUs support it.  Signed-off-by: Matthew Garrett <mjg@redhat.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | exynos4x12-cpufreq.c | s | 12K | 410 | Jaecheol Lee | jc.lee@samsung.com | 1331750387 |  | EXYNOS4X12: Add support cpufreq for EXYNOS4X12  This patch adds support cpufreq for EXYNOS4X12 SoCs. Basically, the exynos-cpufreq.c is used commonly and exynos4x12-cpufreq.c is used for EXYNOS4212(two Cortex-A9 cores) and EXYNOS4412(four Cortex-A9 cores) SoCs.  Signed-off-by: Jaecheol Lee <jc.lee@samsung.com> Signed-off-by: Kukjin Kim <kgene.kim@samsung.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | gx-suspmod.c | s | 14K | 431 | Alan Cox | alan@linux.intel.com | 1328225532 |  | cpufreq/gx: Fix the compile error  Someone forgot to test this one it seems.  Signed-off-by: Alan Cox <alan@linux.intel.com> Acked-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | cpufreq_ondemand.c | s | 22K | 686 | MyungJoo Ham | myungjoo.ham@samsung.com | 1330572280 |  | [CPUFREQ] CPUfreq ondemand: update sampling rate without waiting for next sampling  When a new sampling rate is shorter than the current one, (e.g., 1 sec --> 10 ms) regardless how short the new one is, the current ondemand mechanism wait for the previously set timer to be expired.  For example, if the user has just expressed that the sampling rate should be 10 ms from now and the previous was 1000 ms, the new rate may become effective 999 ms later, which could be not acceptable for the user if the user has intended to speed up sampling because the system is expected to react to CPU load fluctuation quickly from __now__.  In order to address this issue, we need to cancel the previously set timer (schedule_delayed_work) and reset the timer if resetting timer is expected to trigger the delayed_work ealier.  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | s5pv210-cpufreq.c | s | 14K | 528 | Axel Lin | axel.lin@gmail.com | 1310596200 |  | [CPUFREQ] s5pv210: make needlessly global symbols static  The following symbols are needlessly defined global:   s5pv210_verify_speed   s5pv210_getspeed  Make them static.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Acked-by: Kukjin Kim <kgene.kim@samsung.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | pcc-cpufreq.c | s | 15K | 511 | Naga Chumbalkar | nagananda.chumbalkar@hp.com | 1316048978 |  | drivers/cpufreq/pcc-cpufreq.c: avoid NULL pointer dereference  per_cpu(processors, n) can be NULL, resulting in:    Loading CPUFreq modules[  437.661360] BUG: unable to handle kernel NULL pointer dereference at (null)   IP: [<ffffffffa0434314>] pcc_cpufreq_cpu_init+0x74/0x220 [pcc_cpufreq]  It's better to avoid the oops by failing the driver, and allowing the system to boot.  Signed-off-by: Naga Chumbalkar <nagananda.chumbalkar@hp.com> Cc: Dave Jones <davej@codemonkey.org.uk> Cc: Len Brown <lenb@kernel.org> Cc: <stable@kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Kconfig.arm | g | 1.9K |  | Kevin Hilman | khilman@ti.com | 1334365060 |  | cpufreq: OMAP: fix build errors: depends on ARCH_OMAP2PLUS  The OMAP driver needs a 'depends on ARCH_OMAP2PLUS' since it only builds for OMAP2+ platforms.  This 'depends on' was in the original patch from Russell King, but was erroneously removed by me when making this option user-selectable in commit b09db45c (cpufreq: OMAP driver depends CPUfreq tables.)  This patch remedies that.  Apologies to Russell King for breaking his originally working patch.  Also, thanks to Grazvydas Ignotas for reporting the same problem.  Cc: Russell King <rmk+kernel@arm.linux.org.uk> Cc: Grazvydas Ignotas <notasas@gmail.com> Signed-off-by: Kevin Hilman <khilman@ti.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | exynos-cpufreq.c | s | 7.5K | 244 | Jaecheol Lee | jc.lee@samsung.com | 1331750390 |  | EXYNOS5250: Add support cpufreq for EXYNOS5250  This patch adds support cpufreq for EXYNOS5250 SoC. Basically, the exynos-cpufreq.c is used commonly and exynos5250-cpufreq.c is used for EXYNOS5250(two Cortex-A15 cores) SoC.  Signed-off-by: Jaecheol Lee <jc.lee@samsung.com> Signed-off-by: Kukjin Kim <kgene.kim@samsung.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | cpufreq_stats.c | s | 10.0K | 351 | Linus Torvalds | torvalds@linux-foundation.org | 1325966610 |  | Merge branch 'driver-core-next' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-core  * 'driver-core-next' of git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-core: (73 commits)   arm: fix up some samsung merge sysdev conversion problems   firmware: Fix an oops on reading fw_priv->fw in sysfs loading file   Drivers:hv: Fix a bug in vmbus_driver_unregister()   driver core: remove __must_check from device_create_file   debugfs: add missing #ifdef HAS_IOMEM   arm: time.h: remove device.h #include   driver-core: remove sysdev.h usage.   clockevents: remove sysdev.h   arm: convert sysdev_class to a regular subsystem   arm: leds: convert sysdev_class to a regular subsystem   kobject: remove kset_find_obj_hinted()   m86k: gpio - convert sysdev_class to a regular subsystem   mips: txx9_sram - convert sysdev_class to a regular subsystem   mips: 7segled - convert sysdev_class to a regular subsystem   sh: dma - convert sysdev_class to a regular subsystem   sh: intc - convert sysdev_class to a regular subsystem   power: suspend - convert sysdev_class to a regular subsystem   power: qe_ic - convert sysdev_class to a regular subsystem   power: cmm - convert sysdev_class to a regular subsystem   s390: time - convert sysdev_class to a regular subsystem   ...  Fix up conflicts with 'struct sysdev' removal from various platform drivers that got changed:  - arch/arm/mach-exynos/cpu.c  - arch/arm/mach-exynos/irq-eint.c  - arch/arm/mach-s3c64xx/common.c  - arch/arm/mach-s3c64xx/cpu.c  - arch/arm/mach-s5p64x0/cpu.c  - arch/arm/mach-s5pv210/common.c  - arch/arm/plat-samsung/include/plat/cpu.h  - arch/powerpc/kernel/sysfs.c and fix up cpu_is_hotpluggable() as per Greg in include/linux/cpu.h
f | freq_table.c | s | 6.0K | 200 | Dominik Brodowski | linux@dominikbrodowski.net | 1304524257 |  | [CPUFREQ] use dynamic debug instead of custom infrastructure  With dynamic debug having gained the capability to report debug messages also during the boot process, it offers a far superior interface for debug messages than the custom cpufreq infrastructure. As a first step, remove the old cpufreq_debug_printk() function and replace it with a call to the generic pr_debug() function.  How can dynamic debug be used on cpufreq? You need a kernel which has CONFIG_DYNAMIC_DEBUG enabled.  To enabled debugging during runtime, mount debugfs and  $ echo -n 'module cpufreq +p' > /sys/kernel/debug/dynamic_debug/control  for debugging the complete "cpufreq" module. To achieve the same goal during boot, append  	ddebug_query="module cpufreq +p"  as a boot parameter to the kernel of your choice.  For more detailled instructions, please see Documentation/dynamic-debug-howto.txt  Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net> Signed-off-by: Dave Jones <davej@redhat.com>
f | longrun.c | s | 8.4K | 269 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | p4-clockmod.c | s | 8.4K | 270 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | speedstep-ich.c | s | 11K | 372 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | s3c2416-cpufreq.c | s | 13K | 443 | Heiko Stübner | heiko@sntech.de | 1330572279 |  | [CPUFREQ] Add S3C2416/S3C2450 cpufreq driver  The S3C2416/S3C2450 SoCs support two sources for the armclk.  The first source is the so called armdiv which divides the msysclk down to provide necessary cpu rates. In this mode the core voltage must be always at 1.3V. The frequency from the armdiv is not allowed to be lower than the hclk frequency.  In the second mode the armclk can be sourced directly from the hclk in the so called "dynamic voltags scaling" (dvs) mode. Here the armdiv isn't used at all. Also in this mode the core voltage may be lowered. Existing hardware and tests with it suggest 1.0V as sufficient.  When changing the clock source to the armdiv from the hclk, the SoC shows stability issues if the new frequency is higher than the current hclk frequency. Hence the driver always forces the armdiv to the hclk frequency before the source change and lets the cpufreq issue another set_target call for higher frequencies.  To mark the hclk frequency as lower as the corresponding armdiv frequency it is set 1MHz below the real frequency. This lets the cpufreq framework change between 133MHz based on hclk and 133MHz based on armdiv at will.  Signed-off-by: Heiko Stuebner <heiko@sntech.de> Tested-by: Andrey Gusakov <dron0gus@gmail.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | cpufreq.c | s | 48K | 1614 | Konrad Rzeszutek Wilk | konrad.wilk@oracle.com | 1331750703 |  | provide disable_cpufreq() function to disable the API.  useful for disabling cpufreq altogether. The cpu frequency scaling drivers and cpu frequency governors will fail to register.  Signed-off-by: Konrad Rzeszutek Wilk <konrad.wilk@oracle.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | speedstep-centrino.c | s | 15K | 554 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | longhaul.c | s | 26K | 908 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | powernow-k8.h | s | 7.5K | 181 | Dave Jones | davej@redhat.com | 1305845467 |  | [CPUFREQ] Move x86 drivers to drivers/cpufreq/  Signed-off-by: Dave Jones <davej@redhat.com>
f | e_powersaver.c | s | 12K | 424 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | cpufreq_userspace.c | s | 5.9K | 189 | Afzal Mohammed | afzal@ti.com | 1325862653 |  | [CPUFREQ] cpufreq:userspace: fix cpu_cur_freq updation  CPU frequency is guranteed to be changed on notifier callback with CPUFREQ_POSTCHANGE. Notifier callback with CPUFREQ_PRECHANGE does not gurantee a change in frequency; after it, if cpufreq driver is unable to change CPU to new frequency. This results in wrong information being fed to user (if setting CPU frequency fails) upon doing like,  cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_setspeed  Hence in userspace governer update cpu_cur_freq only if notifier has been called with POSTCHANGE.  Signed-off-by: Afzal Mohammed <afzal@ti.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | s3c64xx-cpufreq.c | s | 6.3K | 229 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1330572278 |  | [CPUFREQ] s3c64xx: Fix mis-cherry pick of VDDINT  We don't have any of the other code for VDDINT, including the variable declaration, so don't try to get it as we can't build.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | speedstep-lib.h | s | 1.7K | 39 | Dave Jones | davej@redhat.com | 1305845467 |  | [CPUFREQ] Move x86 drivers to drivers/cpufreq/  Signed-off-by: Dave Jones <davej@redhat.com>
f | speedstep-smi.c | s | 11K | 392 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | cpufreq-nforce2.c | s | 9.4K | 364 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | powernow-k7.h | s | 798B | 41 | Dave Jones | davej@redhat.com | 1305845467 |  | [CPUFREQ] Move x86 drivers to drivers/cpufreq/  Signed-off-by: Dave Jones <davej@redhat.com>
f | mperf.c | s | 1.5K | 42 | Dave Jones | davej@redhat.com | 1305845467 |  | [CPUFREQ] Move x86 drivers to drivers/cpufreq/  Signed-off-by: Dave Jones <davej@redhat.com>
f | Kconfig | g | 6.1K |  | Linus Torvalds | torvalds@linux-foundation.org | 1311659979 |  | Merge branch 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/benh/powerpc  * 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/benh/powerpc: (99 commits)   drivers/virt: add missing linux/interrupt.h to fsl_hypervisor.c   powerpc/85xx: fix mpic configuration in CAMP mode   powerpc: Copy back TIF flags on return from softirq stack   powerpc/64: Make server perfmon only built on ppc64 server devices   powerpc/pseries: Fix hvc_vio.c build due to recent changes   powerpc: Exporting boot_cpuid_phys   powerpc: Add CFAR to oops output   hvc_console: Add kdb support   powerpc/pseries: Fix hvterm_raw_get_chars to accept < 16 chars, fixing xmon   powerpc/irq: Quieten irq mapping printks   powerpc: Enable lockup and hung task detectors in pseries and ppc64 defeconfigs   powerpc: Add mpt2sas driver to pseries and ppc64 defconfig   powerpc: Disable IRQs off tracer in ppc64 defconfig   powerpc: Sync pseries and ppc64 defconfigs   powerpc/pseries/hvconsole: Fix dropped console output   hvc_console: Improve tty/console put_chars handling   powerpc/kdump: Fix timeout in crash_kexec_wait_realmode   powerpc/mm: Fix output of total_ram.   powerpc/cpufreq: Add cpufreq driver for Momentum Maple boards   powerpc: Correct annotations of pmu registration functions   ...  Fix up trivial Kconfig/Makefile conflicts in arch/powerpc, drivers, and drivers/cpufreq
f | elanfreq.c | s | 7.5K | 247 | Andi Kleen | ak@linux.intel.com | 1327625346 |  | cpufreq: Add support for x86 cpuinfo auto loading v4  This marks all the x86 cpuinfo tables to the CPU specific device drivers, to allow auto loading by udev. This should simplify the distribution startup scripts for this greatly.  I didn't add MODULE_DEVICE_IDs to the centrino and p4-clockmod drivers, because those probably shouldn't be auto loaded and the acpi driver be used instead (not fully sure on that, would appreciate feedback)  The old nforce drivers autoload based on the PCI ID.  ACPI cpufreq is autoloaded in another patch.  v3: Autoload gx based on PCI IDs only. Remove cpu check (Dave Jones) v4: Use newly introduce HW_PSTATE feature for powernow-k8 loading  Cc: Dave Jones <davej@redhat.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Signed-off-by: Andi Kleen <ak@linux.intel.com> Signed-off-by: Thomas Renninger <trenn@suse.de> Acked-by: H. Peter Anvin <hpa@zytor.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Kconfig.powerpc | g | 243B |  | Dmitry Eremin-Solenikov | dbaryshkov@gmail.com | 1311052384 |  | powerpc/cpufreq: Add cpufreq driver for Momentum Maple boards  Add simple cpufreq driver for Maple-based boards (ppc970fx evaluation kit and others). Driver is based on a cpufreq driver for 64-bit powermac boxes with all pmac-dependant features removed and simple cleanup applied.  Signed-off-by: Dmitry Eremin-Solenikov <dbaryshkov@gmail.com> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
f | longhaul.h | s | 8.7K | 331 | Dave Jones | davej@redhat.com | 1305845467 |  | [CPUFREQ] Move x86 drivers to drivers/cpufreq/  Signed-off-by: Dave Jones <davej@redhat.com>
f | omap-cpufreq.c | s | 8.0K | 283 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | cpufreq_performance.c | s | 1.4K | 52 | Dominik Brodowski | linux@dominikbrodowski.net | 1304524257 |  | [CPUFREQ] use dynamic debug instead of custom infrastructure  With dynamic debug having gained the capability to report debug messages also during the boot process, it offers a far superior interface for debug messages than the custom cpufreq infrastructure. As a first step, remove the old cpufreq_debug_printk() function and replace it with a call to the generic pr_debug() function.  How can dynamic debug be used on cpufreq? You need a kernel which has CONFIG_DYNAMIC_DEBUG enabled.  To enabled debugging during runtime, mount debugfs and  $ echo -n 'module cpufreq +p' > /sys/kernel/debug/dynamic_debug/control  for debugging the complete "cpufreq" module. To achieve the same goal during boot, append  	ddebug_query="module cpufreq +p"  as a boot parameter to the kernel of your choice.  For more detailled instructions, please see Documentation/dynamic-debug-howto.txt  Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net> Signed-off-by: Dave Jones <davej@redhat.com>
f | maple-cpufreq.c | s | 8.3K | 254 | Dmitry Eremin-Solenikov | dbaryshkov@gmail.com | 1311052384 |  | powerpc/cpufreq: Add cpufreq driver for Momentum Maple boards  Add simple cpufreq driver for Maple-based boards (ppc970fx evaluation kit and others). Driver is based on a cpufreq driver for 64-bit powermac boxes with all pmac-dependant features removed and simple cleanup applied.  Signed-off-by: Dmitry Eremin-Solenikov <dbaryshkov@gmail.com> Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
f | exynos5250-cpufreq.c | s | 9.2K | 287 | Jaecheol Lee | jc.lee@samsung.com | 1331750390 |  | EXYNOS5250: Add support cpufreq for EXYNOS5250  This patch adds support cpufreq for EXYNOS5250 SoC. Basically, the exynos-cpufreq.c is used commonly and exynos5250-cpufreq.c is used for EXYNOS5250(two Cortex-A15 cores) SoC.  Signed-off-by: Jaecheol Lee <jc.lee@samsung.com> Signed-off-by: Kukjin Kim <kgene.kim@samsung.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | exynos4210-cpufreq.c | s | 7.3K | 238 | Kukjin Kim | kgene.kim@samsung.com | 1330572278 |  | [CPUFREQ] EXYNOS4210: update the name of EXYNOS clock register  According to replacing the name of EXYNOS clock registers, this patch updates exynos4210-cpufreq.c file where it is used.  Cc: Jaecheol Lee <jc.lee@samsung.com> Signed-off-by: Kukjin Kim <kgene.kim@samsung.com> Signed-off-by: Dave Jones <davej@redhat.com>
f | mperf.h | s | 316B | 8 | Dave Jones | davej@redhat.com | 1305845467 |  | [CPUFREQ] Move x86 drivers to drivers/cpufreq/  Signed-off-by: Dave Jones <davej@redhat.com>
