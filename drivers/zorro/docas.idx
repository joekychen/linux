f | proc.c | s | 3.8K | 139 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103921 |  | drivers/zorro: Add export.h to proc.c  To fix what used to be the implicit presence of the macros EXPORT_SYMBOL and THIS_MODULE, via module.h being everywhere.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | zorro-driver.c | s | 4.4K | 150 | Jim Rotmalm | jim.rotmalm@gmail.com | 1319482834 |  | zorro: Fix four checkpatch warnings  zorro-driver.c: fix four checkpatch warnings of: WARNING: EXPORT_SYMBOL(foo); should immediately follow its function/variable  I had a cat. The cat was mine. His name was Zorro. Amiga is fine.  Signed-off-by: Jim Rotmalm <jim.rotmalm@gmail.com> Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
f | zorro-sysfs.c | s | 3.1K | 88 | Chris Wright | chrisw@sous-sol.org | 1274459851 |  | sysfs: add struct file* to bin_attr callbacks  This allows bin_attr->read,write,mmap callbacks to check file specific data (such as inode owner) as part of any privilege validation.  Signed-off-by: Chris Wright <chrisw@sous-sol.org> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Makefile | g | 557B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | zorro.c | s | 5.1K | 185 | Geert Uytterhoeven | geert@linux-m68k.org | 1316721575 |  | zorro: Defer device_register() until all devices have been identified  As the Amiga Zorro II address space is limited to 8.5 MiB and Zorro devices can contain only one BAR, several Amiga Zorro II expansion boards (mainly graphics cards) contain multiple Zorro devices: a small one for the control registers and one (or more) for the graphics memory.  The conversion of cirrusfb to the new driver framework introduced a regression: the driver contains a zorro_driver for the first Zorro device, and uses the (old) zorro_find_device() call to find the second Zorro device.  However, as the Zorro core calls device_register() as soon as a Zorro device is identified, it may not have identified the second Zorro device belonging to the same physical Zorro expansion card.  Hence cirrusfb could no longer find the second part of the Picasso II graphics card, causing a NULL pointer dereference.  Defer the registration of Zorro devices with the driver framework until all Zorro devices have been identified to fix this.  Note that the alternative solution (modifying cirrusfb to register a zorro_driver for all Zorro devices belonging to a graphics card, instead of only for the first one, and adding a synchronization mechanism to defer initialization until all have been found), is not an option, as on some cards one device may be optional (e.g.  the second bank of 2 MiB of graphics memory on the Picasso IV in Zorro II mode).  Reported-by: Ingo Jürgensmann <ij@2011.bluespice.org> Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org> Cc: stable@kernel.org Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | zorro.ids | s | 15K | 471 | Al Viro | viro@zeniv.linux.org.uk | 1325505895 |  | misc latin1 to utf8 conversions  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | zorro.h | s | 116B | 2 | Geert Uytterhoeven | geert@linux-m68k.org | 1231790201 |  | m68k: zorro - Kill warn_unused_result warnings  warning: ignoring return value of 'device_register', declared with attribute warn_unused_result warning: ignoring return value of 'device_create_file', declared with attribute warn_unused_result  Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
f | names.c | s | 2.5K | 88 | Jörn Engel | joern@wohnheim.fh-wedel.de | 1151688336 |  | Remove obsolete #include <linux/config.h>  Signed-off-by: Jörn Engel <joern@wohnheim.fh-wedel.de> Signed-off-by: Adrian Bunk <bunk@stusta.de>
f | gen-devlist.c | s | 2.1K | 99 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | Kconfig | g | 657B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
