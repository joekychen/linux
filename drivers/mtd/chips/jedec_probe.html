<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › mtd › chips › jedec_probe.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>jedec_probe.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">   Common Flash Interface probe code.</span>
<span class="cm">   (C) 2000 Red Hat. GPL&#39;d.</span>
<span class="cm">   See JEDEC (http://www.jedec.org/) standard JESD21C (section 3.5)</span>
<span class="cm">   for the standard this probe goes back to.</span>

<span class="cm">   Occasionally maintained by Thayne Harbaugh tharbaugh at lnxi dot com</span>
<span class="cm">*/</span>

<span class="cp">#include &lt;linux/module.h&gt;</span>
<span class="cp">#include &lt;linux/init.h&gt;</span>
<span class="cp">#include &lt;linux/types.h&gt;</span>
<span class="cp">#include &lt;linux/kernel.h&gt;</span>
<span class="cp">#include &lt;asm/io.h&gt;</span>
<span class="cp">#include &lt;asm/byteorder.h&gt;</span>
<span class="cp">#include &lt;linux/errno.h&gt;</span>
<span class="cp">#include &lt;linux/slab.h&gt;</span>
<span class="cp">#include &lt;linux/interrupt.h&gt;</span>

<span class="cp">#include &lt;linux/mtd/mtd.h&gt;</span>
<span class="cp">#include &lt;linux/mtd/map.h&gt;</span>
<span class="cp">#include &lt;linux/mtd/cfi.h&gt;</span>
<span class="cp">#include &lt;linux/mtd/gen_probe.h&gt;</span>

<span class="cm">/* AMD */</span>
<span class="cp">#define AM29DL800BB	0x22CB</span>
<span class="cp">#define AM29DL800BT	0x224A</span>

<span class="cp">#define AM29F800BB	0x2258</span>
<span class="cp">#define AM29F800BT	0x22D6</span>
<span class="cp">#define AM29LV400BB	0x22BA</span>
<span class="cp">#define AM29LV400BT	0x22B9</span>
<span class="cp">#define AM29LV800BB	0x225B</span>
<span class="cp">#define AM29LV800BT	0x22DA</span>
<span class="cp">#define AM29LV160DT	0x22C4</span>
<span class="cp">#define AM29LV160DB	0x2249</span>
<span class="cp">#define AM29F017D	0x003D</span>
<span class="cp">#define AM29F016D	0x00AD</span>
<span class="cp">#define AM29F080	0x00D5</span>
<span class="cp">#define AM29F040	0x00A4</span>
<span class="cp">#define AM29LV040B	0x004F</span>
<span class="cp">#define AM29F032B	0x0041</span>
<span class="cp">#define AM29F002T	0x00B0</span>
<span class="cp">#define AM29SL800DB	0x226B</span>
<span class="cp">#define AM29SL800DT	0x22EA</span>

<span class="cm">/* Atmel */</span>
<span class="cp">#define AT49BV512	0x0003</span>
<span class="cp">#define AT29LV512	0x003d</span>
<span class="cp">#define AT49BV16X	0x00C0</span>
<span class="cp">#define AT49BV16XT	0x00C2</span>
<span class="cp">#define AT49BV32X	0x00C8</span>
<span class="cp">#define AT49BV32XT	0x00C9</span>

<span class="cm">/* Eon */</span>
<span class="cp">#define EN29SL800BB	0x226B</span>
<span class="cp">#define EN29SL800BT	0x22EA</span>

<span class="cm">/* Fujitsu */</span>
<span class="cp">#define MBM29F040C	0x00A4</span>
<span class="cp">#define MBM29F800BA	0x2258</span>
<span class="cp">#define MBM29LV650UE	0x22D7</span>
<span class="cp">#define MBM29LV320TE	0x22F6</span>
<span class="cp">#define MBM29LV320BE	0x22F9</span>
<span class="cp">#define MBM29LV160TE	0x22C4</span>
<span class="cp">#define MBM29LV160BE	0x2249</span>
<span class="cp">#define MBM29LV800BA	0x225B</span>
<span class="cp">#define MBM29LV800TA	0x22DA</span>
<span class="cp">#define MBM29LV400TC	0x22B9</span>
<span class="cp">#define MBM29LV400BC	0x22BA</span>

<span class="cm">/* Hyundai */</span>
<span class="cp">#define HY29F002T	0x00B0</span>

<span class="cm">/* Intel */</span>
<span class="cp">#define I28F004B3T	0x00d4</span>
<span class="cp">#define I28F004B3B	0x00d5</span>
<span class="cp">#define I28F400B3T	0x8894</span>
<span class="cp">#define I28F400B3B	0x8895</span>
<span class="cp">#define I28F008S5	0x00a6</span>
<span class="cp">#define I28F016S5	0x00a0</span>
<span class="cp">#define I28F008SA	0x00a2</span>
<span class="cp">#define I28F008B3T	0x00d2</span>
<span class="cp">#define I28F008B3B	0x00d3</span>
<span class="cp">#define I28F800B3T	0x8892</span>
<span class="cp">#define I28F800B3B	0x8893</span>
<span class="cp">#define I28F016S3	0x00aa</span>
<span class="cp">#define I28F016B3T	0x00d0</span>
<span class="cp">#define I28F016B3B	0x00d1</span>
<span class="cp">#define I28F160B3T	0x8890</span>
<span class="cp">#define I28F160B3B	0x8891</span>
<span class="cp">#define I28F320B3T	0x8896</span>
<span class="cp">#define I28F320B3B	0x8897</span>
<span class="cp">#define I28F640B3T	0x8898</span>
<span class="cp">#define I28F640B3B	0x8899</span>
<span class="cp">#define I28F640C3B	0x88CD</span>
<span class="cp">#define I28F160F3T	0x88F3</span>
<span class="cp">#define I28F160F3B	0x88F4</span>
<span class="cp">#define I28F160C3T	0x88C2</span>
<span class="cp">#define I28F160C3B	0x88C3</span>
<span class="cp">#define I82802AB	0x00ad</span>
<span class="cp">#define I82802AC	0x00ac</span>

<span class="cm">/* Macronix */</span>
<span class="cp">#define MX29LV040C	0x004F</span>
<span class="cp">#define MX29LV160T	0x22C4</span>
<span class="cp">#define MX29LV160B	0x2249</span>
<span class="cp">#define MX29F040	0x00A4</span>
<span class="cp">#define MX29F016	0x00AD</span>
<span class="cp">#define MX29F002T	0x00B0</span>
<span class="cp">#define MX29F004T	0x0045</span>
<span class="cp">#define MX29F004B	0x0046</span>

<span class="cm">/* NEC */</span>
<span class="cp">#define UPD29F064115	0x221C</span>

<span class="cm">/* PMC */</span>
<span class="cp">#define PM49FL002	0x006D</span>
<span class="cp">#define PM49FL004	0x006E</span>
<span class="cp">#define PM49FL008	0x006A</span>

<span class="cm">/* Sharp */</span>
<span class="cp">#define LH28F640BF	0x00b0</span>

<span class="cm">/* ST - www.st.com */</span>
<span class="cp">#define M29F800AB	0x0058</span>
<span class="cp">#define M29W800DT	0x22D7</span>
<span class="cp">#define M29W800DB	0x225B</span>
<span class="cp">#define M29W400DT	0x00EE</span>
<span class="cp">#define M29W400DB	0x00EF</span>
<span class="cp">#define M29W160DT	0x22C4</span>
<span class="cp">#define M29W160DB	0x2249</span>
<span class="cp">#define M29W040B	0x00E3</span>
<span class="cp">#define M50FW040	0x002C</span>
<span class="cp">#define M50FW080	0x002D</span>
<span class="cp">#define M50FW016	0x002E</span>
<span class="cp">#define M50LPW080       0x002F</span>
<span class="cp">#define M50FLW080A	0x0080</span>
<span class="cp">#define M50FLW080B	0x0081</span>
<span class="cp">#define PSD4256G6V	0x00e9</span>

<span class="cm">/* SST */</span>
<span class="cp">#define SST29EE020	0x0010</span>
<span class="cp">#define SST29LE020	0x0012</span>
<span class="cp">#define SST29EE512	0x005d</span>
<span class="cp">#define SST29LE512	0x003d</span>
<span class="cp">#define SST39LF800	0x2781</span>
<span class="cp">#define SST39LF160	0x2782</span>
<span class="cp">#define SST39VF1601	0x234b</span>
<span class="cp">#define SST39VF3201	0x235b</span>
<span class="cp">#define SST39WF1601	0x274b</span>
<span class="cp">#define SST39WF1602	0x274a</span>
<span class="cp">#define SST39LF512	0x00D4</span>
<span class="cp">#define SST39LF010	0x00D5</span>
<span class="cp">#define SST39LF020	0x00D6</span>
<span class="cp">#define SST39LF040	0x00D7</span>
<span class="cp">#define SST39SF010A	0x00B5</span>
<span class="cp">#define SST39SF020A	0x00B6</span>
<span class="cp">#define SST39SF040	0x00B7</span>
<span class="cp">#define SST49LF004B	0x0060</span>
<span class="cp">#define SST49LF040B	0x0050</span>
<span class="cp">#define SST49LF008A	0x005a</span>
<span class="cp">#define SST49LF030A	0x001C</span>
<span class="cp">#define SST49LF040A	0x0051</span>
<span class="cp">#define SST49LF080A	0x005B</span>
<span class="cp">#define SST36VF3203	0x7354</span>

<span class="cm">/* Toshiba */</span>
<span class="cp">#define TC58FVT160	0x00C2</span>
<span class="cp">#define TC58FVB160	0x0043</span>
<span class="cp">#define TC58FVT321	0x009A</span>
<span class="cp">#define TC58FVB321	0x009C</span>
<span class="cp">#define TC58FVT641	0x0093</span>
<span class="cp">#define TC58FVB641	0x0095</span>

<span class="cm">/* Winbond */</span>
<span class="cp">#define W49V002A	0x00b0</span>


<span class="cm">/*</span>
<span class="cm"> * Unlock address sets for AMD command sets.</span>
<span class="cm"> * Intel command sets use the MTD_UADDR_UNNECESSARY.</span>
<span class="cm"> * Each identifier, except MTD_UADDR_UNNECESSARY, and</span>
<span class="cm"> * MTD_UADDR_NO_SUPPORT must be defined below in unlock_addrs[].</span>
<span class="cm"> * MTD_UADDR_NOT_SUPPORTED must be 0 so that structure</span>
<span class="cm"> * initialization need not require initializing all of the</span>
<span class="cm"> * unlock addresses for all bit widths.</span>
<span class="cm"> */</span>
<span class="k">enum</span> <span class="n">uaddr</span> <span class="p">{</span>
	<span class="n">MTD_UADDR_NOT_SUPPORTED</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>	<span class="cm">/* data width not supported */</span>
	<span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
	<span class="n">MTD_UADDR_0x0555_0x0AAA</span><span class="p">,</span>
	<span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
	<span class="n">MTD_UADDR_0x0AAA_0x0554</span><span class="p">,</span>
	<span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
	<span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">,</span>
	<span class="n">MTD_UADDR_DONT_CARE</span><span class="p">,</span>		<span class="cm">/* Requires an arbitrary address */</span>
	<span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>		<span class="cm">/* Does not require any address */</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">unlock_addr</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">addr1</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">addr2</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm"> * I don&#39;t like the fact that the first entry in unlock_addrs[]</span>
<span class="cm"> * exists, but is for MTD_UADDR_NOT_SUPPORTED - and, therefore,</span>
<span class="cm"> * should not be used.  The  problem is that structures with</span>
<span class="cm"> * initializers have extra fields initialized to 0.  It is _very_</span>
<span class="cm"> * desirable to have the unlock address entries for unsupported</span>
<span class="cm"> * data widths automatically initialized - that means that</span>
<span class="cm"> * MTD_UADDR_NOT_SUPPORTED must be 0 and the first entry here</span>
<span class="cm"> * must go unused.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">unlock_addr</span>  <span class="n">unlock_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="n">MTD_UADDR_NOT_SUPPORTED</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0xffff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0xffff</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x02aa</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_0x0555_0x0AAA</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x0aaa</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0x5555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x2aaa</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_0x0AAA_0x0554</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0x0AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x0554</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0x0AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x0555</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0xaaaa</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x5555</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_DONT_CARE</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>      <span class="cm">/* Doesn&#39;t matter which address */</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x0000</span>       <span class="cm">/* is used - must be last entry */</span>
	<span class="p">},</span>

	<span class="p">[</span><span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">addr1</span> <span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">addr2</span> <span class="o">=</span> <span class="mh">0x0000</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">amd_flash_info</span> <span class="p">{</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">uint16_t</span> <span class="n">mfr_id</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">uint16_t</span> <span class="n">dev_id</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">uint8_t</span> <span class="n">dev_size</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">uint8_t</span> <span class="n">nr_regions</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">uint16_t</span> <span class="n">cmd_set</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">regions</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="k">const</span> <span class="kt">uint8_t</span> <span class="n">devtypes</span><span class="p">;</span>		<span class="cm">/* Bitmask for x8, x16 etc. */</span>
	<span class="k">const</span> <span class="kt">uint8_t</span> <span class="n">uaddr</span><span class="p">;</span>		<span class="cm">/* unlock addrs for 8, 16, 32, 64 */</span>
<span class="p">};</span>

<span class="cp">#define ERASEINFO(size,blocks) (size&lt;&lt;8)|(blocks-1)</span>

<span class="cp">#define SIZE_64KiB  16</span>
<span class="cp">#define SIZE_128KiB 17</span>
<span class="cp">#define SIZE_256KiB 18</span>
<span class="cp">#define SIZE_512KiB 19</span>
<span class="cp">#define SIZE_1MiB   20</span>
<span class="cp">#define SIZE_2MiB   21</span>
<span class="cp">#define SIZE_4MiB   22</span>
<span class="cp">#define SIZE_8MiB   23</span>


<span class="cm">/*</span>
<span class="cm"> * Please keep this list ordered by manufacturer!</span>
<span class="cm"> * Fortunately, the list isn&#39;t searched often and so a</span>
<span class="cm"> * slow, linear search isn&#39;t so bad.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">amd_flash_info</span> <span class="n">jedec_table</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F032B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F032B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">64</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29LV160DT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29LV160DT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29LV160DB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29LV160DB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29LV400BB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29LV400BB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29LV400BT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29LV400BT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29LV800BB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29LV800BB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
<span class="cm">/* add DL */</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29DL800BB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29DL800BB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29DL800BT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29DL800BT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">14</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F800BB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F800BB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29LV800BT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29LV800BT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F800BT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F800BT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F017D</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F017D&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_DONT_CARE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F016D</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F016D&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F080</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F080&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F040</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F040&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29LV040B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29LV040B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29F002T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29F002T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29SL800DT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29SL800DT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_AMD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AM29SL800DB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;AMD AM29SL800DB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ATMEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AT49BV512</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Atmel AT49BV512&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_64KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ATMEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AT29LV512</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Atmel AT29LV512&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_64KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x80</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x80</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ATMEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AT49BV16X</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Atmel AT49BV16X&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x0AAA</span><span class="p">,</span>	<span class="cm">/* ???? */</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ATMEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AT49BV16XT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Atmel AT49BV16XT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x0AAA</span><span class="p">,</span>	<span class="cm">/* ???? */</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ATMEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AT49BV32X</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Atmel AT49BV32X&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x0AAA</span><span class="p">,</span>	<span class="cm">/* ???? */</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">63</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ATMEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">AT49BV32XT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Atmel AT49BV32XT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x0AAA</span><span class="p">,</span>	<span class="cm">/* ???? */</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">63</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_EON</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">EN29SL800BT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Eon EN29SL800BT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_EON</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">EN29SL800BB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Eon EN29SL800BB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29F040C</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29F040C&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29F800BA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29F800BA&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV650UE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV650UE&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_DONT_CARE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_8MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">128</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV320TE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV320TE&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">63</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV320BE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV320BE&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">63</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV160TE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV160TE&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV160BE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV160BE&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV800BA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV800BA&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV800TA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV800TA&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV400BC</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV400BC&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_FUJITSU</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MBM29LV400TC</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Fujitsu MBM29LV400TC&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_HYUNDAI</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">HY29F002T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Hyundai HY29F002T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F004B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F004B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F004B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F004B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F400B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F400B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F400B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F400B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F008B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F008B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F008B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F008B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F008S5</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F008S5&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F016S5</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F016S5&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F008SA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F008SA&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F800B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F800B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F800B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F800B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F016B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F016B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F016S3</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel I28F016S3&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F016B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F016B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F160B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F160B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F160B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F160B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F320B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F320B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">63</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F320B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F320B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">63</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F640B3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F640B3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_8MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">127</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F640B3T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F640B3T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_8MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">127</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I28F640C3B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 28F640C3B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_8MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">127</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I82802AB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 82802AB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_INTEL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">I82802AC</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Intel 82802AC&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29LV040C</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Macronix MX29LV040C&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29LV160T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;MXIC MX29LV160T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_NEC</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">UPD29F064115</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;NEC uPD29F064115&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_8MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x2000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">126</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x2000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29LV160B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;MXIC MX29LV160B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29F040</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Macronix MX29F040&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29F016</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Macronix MX29F016&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29F004T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Macronix MX29F004T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29F004B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Macronix MX29F004B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_MACRONIX</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">MX29F002T</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Macronix MX29F002T&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_PMC</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">PM49FL002</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;PMC Pm49FL002&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span> <span class="mh">0x01000</span><span class="p">,</span> <span class="mi">64</span> <span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_PMC</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">PM49FL004</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;PMC Pm49FL004&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span> <span class="mh">0x01000</span><span class="p">,</span> <span class="mi">128</span> <span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_PMC</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">PM49FL008</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;PMC Pm49FL008&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span> <span class="mh">0x01000</span><span class="p">,</span> <span class="mi">256</span> <span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SHARP</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">LH28F640BF</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;LH28F640BF&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x40000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39LF512</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39LF512&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_64KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39LF010</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39LF010&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_128KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST29EE020</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 29EE020&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_SST_PAGE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span> <span class="o">=</span> <span class="p">{</span><span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">64</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST29LE020</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 29LE020&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_SST_PAGE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span> <span class="o">=</span> <span class="p">{</span><span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">64</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39LF020</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39LF020&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">64</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39LF040</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39LF040&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">128</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39SF010A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39SF010A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_128KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39SF020A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39SF020A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">64</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39SF040</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39SF040&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">128</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST49LF040B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 49LF040B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">128</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>

		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST49LF004B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 49LF004B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">128</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST49LF008A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 49LF008A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST49LF030A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 49LF030A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">96</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST49LF040A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 49LF040A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">128</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST49LF080A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 49LF080A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x01000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>     <span class="cm">/* should be CFI */</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39LF160</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39LF160&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>     <span class="cm">/* should be CFI */</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39VF1601</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39VF1601&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="cm">/* CFI is broken: reports AMD_STD, but needs custom uaddr */</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39WF1601</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39WF1601&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="cm">/* CFI is broken: reports AMD_STD, but needs custom uaddr */</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39WF1602</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39WF1602&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>     <span class="cm">/* should be CFI */</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST39VF3201</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 39VF3201&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0xAAAA_0x5555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">256</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_SST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">SST36VF3203</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SST 36VF3203&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">64</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M29F800AB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M29F800AB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>	<span class="cm">/* FIXME - CFI device? */</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M29W800DT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M29W800DT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>	<span class="cm">/* FIXME - CFI device? */</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M29W800DB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M29W800DB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span>  <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>         <span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>         <span class="o">=</span> <span class="n">M29W400DT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>           <span class="o">=</span> <span class="s">&quot;ST M29W400DT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>       <span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>          <span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>       <span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>        <span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>     <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>        <span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">7</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>         <span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>         <span class="o">=</span> <span class="n">M29W400DB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>           <span class="o">=</span> <span class="s">&quot;ST M29W400DB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>       <span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>          <span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>       <span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>        <span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>     <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>        <span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>	<span class="cm">/* FIXME - CFI device? */</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M29W160DT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M29W160DT&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>	<span class="cm">/* ???? */</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>	<span class="cm">/* FIXME - CFI device? */</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M29W160DB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M29W160DB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>	<span class="cm">/* ???? */</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M29W040B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M29W040B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0555_0x02AA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M50FW040</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M50FW040&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_512KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M50FW080</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M50FW080&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M50FW016</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M50FW016&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">32</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M50LPW080</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M50LPW080&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">},</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M50FLW080A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M50FLW080A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">13</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">M50FLW080B</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST M50FLW080B&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_UNNECESSARY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_INTEL_EXT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">13</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x1000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="mh">0xff00</span> <span class="o">|</span> <span class="n">CFI_MFR_ST</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="mh">0xff00</span> <span class="o">|</span> <span class="n">PSD4256G6V</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ST PSD4256G6V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0554</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_1MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_TOSHIBA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">TC58FVT160</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Toshiba TC58FVT160&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_TOSHIBA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">TC58FVB160</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Toshiba TC58FVB160&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_2MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">31</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_TOSHIBA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">TC58FVB321</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Toshiba TC58FVB321&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">63</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_TOSHIBA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">TC58FVT321</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Toshiba TC58FVT321&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_4MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">63</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_TOSHIBA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">TC58FVB641</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Toshiba TC58FVB641&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_8MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">127</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_TOSHIBA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">TC58FVT641</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Toshiba TC58FVT641&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X16</span><span class="o">|</span><span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x0AAA_0x0555</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_8MiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span><span class="mi">127</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mfr_id</span>		<span class="o">=</span> <span class="n">CFI_MFR_WINBOND</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_id</span>		<span class="o">=</span> <span class="n">W49V002A</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;Winbond W49V002A&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">devtypes</span>	<span class="o">=</span> <span class="n">CFI_DEVICETYPE_X8</span><span class="p">,</span>
		<span class="p">.</span><span class="n">uaddr</span>		<span class="o">=</span> <span class="n">MTD_UADDR_0x5555_0x2AAA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">dev_size</span>	<span class="o">=</span> <span class="n">SIZE_256KiB</span><span class="p">,</span>
		<span class="p">.</span><span class="n">cmd_set</span>	<span class="o">=</span> <span class="n">P_ID_AMD_STD</span><span class="p">,</span>
		<span class="p">.</span><span class="n">nr_regions</span>	<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
		<span class="p">.</span><span class="n">regions</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x10000</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x08000</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x02000</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
			<span class="n">ERASEINFO</span><span class="p">(</span><span class="mh">0x04000</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">jedec_read_mfr</span><span class="p">(</span><span class="k">struct</span> <span class="n">map_info</span> <span class="o">*</span><span class="n">map</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">base</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">cfi_private</span> <span class="o">*</span><span class="n">cfi</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">map_word</span> <span class="n">result</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mask</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">bank</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="cm">/* According to JEDEC &quot;Standard Manufacturer&#39;s Identification Code&quot;</span>
<span class="cm">	 * (http://www.jedec.org/download/search/jep106W.pdf)</span>
<span class="cm">	 * several first banks can contain 0x7f instead of actual ID</span>
<span class="cm">	 */</span>
	<span class="k">do</span> <span class="p">{</span>
		<span class="kt">uint32_t</span> <span class="n">ofs</span> <span class="o">=</span> <span class="n">cfi_build_cmd_addr</span><span class="p">(</span><span class="mi">0</span> <span class="o">+</span> <span class="p">(</span><span class="n">bank</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">),</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
		<span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span> <span class="o">*</span> <span class="mi">8</span><span class="p">))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">map_read</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">ofs</span><span class="p">);</span>
		<span class="n">bank</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">while</span> <span class="p">((</span><span class="n">result</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">)</span> <span class="o">==</span> <span class="n">CFI_MFR_CONTINUATION</span><span class="p">);</span>

	<span class="k">return</span> <span class="n">result</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">jedec_read_id</span><span class="p">(</span><span class="k">struct</span> <span class="n">map_info</span> <span class="o">*</span><span class="n">map</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="n">base</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">cfi_private</span> <span class="o">*</span><span class="n">cfi</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">map_word</span> <span class="n">result</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mask</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ofs</span> <span class="o">=</span> <span class="n">cfi_build_cmd_addr</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
	<span class="n">mask</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span> <span class="o">*</span> <span class="mi">8</span><span class="p">))</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">result</span> <span class="o">=</span> <span class="n">map_read</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="n">ofs</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">result</span><span class="p">.</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">mask</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">jedec_reset</span><span class="p">(</span><span class="n">u32</span> <span class="n">base</span><span class="p">,</span> <span class="k">struct</span> <span class="n">map_info</span> <span class="o">*</span><span class="n">map</span><span class="p">,</span> <span class="k">struct</span> <span class="n">cfi_private</span> <span class="o">*</span><span class="n">cfi</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/* Reset */</span>

	<span class="cm">/* after checking the datasheets for SST, MACRONIX and ATMEL</span>
<span class="cm">	 * (oh and incidentaly the jedec spec - 3.5.3.3) the reset</span>
<span class="cm">	 * sequence is *supposed* to be 0xaa at 0x5555, 0x55 at</span>
<span class="cm">	 * 0x2aaa, 0xF0 at 0x5555 this will not affect the AMD chips</span>
<span class="cm">	 * as they will ignore the writes and don&#39;t care what address</span>
<span class="cm">	 * the F0 is written to */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_debug</span><span class="p">(</span> <span class="s">&quot;reset unlock called %x %x </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		       <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span><span class="p">);</span>
		<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
		<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0x55</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0xF0</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="cm">/* Some misdesigned Intel chips do not respond for 0xF0 for a reset,</span>
<span class="cm">	 * so ensure we&#39;re in read mode.  Send both the Intel and the AMD command</span>
<span class="cm">	 * for this.  Intel uses 0xff for this, AMD uses 0xff for NOP, so</span>
<span class="cm">	 * this should be safe.</span>
<span class="cm">	 */</span>
	<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0xFF</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="cm">/* FIXME - should have reset delay before continuing */</span>
<span class="p">}</span>


<span class="k">static</span> <span class="kt">int</span> <span class="nf">cfi_jedec_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">map_info</span> <span class="o">*</span><span class="n">map</span><span class="p">,</span> <span class="k">struct</span> <span class="n">cfi_private</span> <span class="o">*</span><span class="n">cfi</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="n">num_erase_regions</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">uaddr</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">devtypes</span> <span class="o">&amp;</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;Rejecting potential %s with incompatible %d-bit device type</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		      <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">name</span><span class="p">,</span> <span class="mi">4</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">));</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">printk</span><span class="p">(</span><span class="n">KERN_INFO</span> <span class="s">&quot;Found: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">name</span><span class="p">);</span>

	<span class="n">num_erase_regions</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">nr_regions</span><span class="p">;</span>

	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfiq</span> <span class="o">=</span> <span class="n">kmalloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">cfi_ident</span><span class="p">)</span> <span class="o">+</span> <span class="n">num_erase_regions</span> <span class="o">*</span> <span class="mi">4</span><span class="p">,</span> <span class="n">GFP_KERNEL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfiq</span><span class="p">)</span> <span class="p">{</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>xx printk(KERN_WARNING "%s: kmalloc failed for CFI ident structure\n", map->name);</p></td><td class="code"><div class="highlight"><pre>		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">memset</span><span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfiq</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">cfi_ident</span><span class="p">));</span>

	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfiq</span><span class="o">-&gt;</span><span class="n">P_ID</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">cmd_set</span><span class="p">;</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfiq</span><span class="o">-&gt;</span><span class="n">NumEraseRegions</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">nr_regions</span><span class="p">;</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfiq</span><span class="o">-&gt;</span><span class="n">DevSize</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">dev_size</span><span class="p">;</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfi_mode</span> <span class="o">=</span> <span class="n">CFI_MODE_JEDEC</span><span class="p">;</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">sector_erase_cmd</span> <span class="o">=</span> <span class="n">CMD</span><span class="p">(</span><span class="mh">0x30</span><span class="p">);</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">num_erase_regions</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
		<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cfiq</span><span class="o">-&gt;</span><span class="n">EraseRegionInfo</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">regions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
	<span class="p">}</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">cmdset_priv</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

	<span class="cm">/* This may be redundant for some cases, but it doesn&#39;t hurt */</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">mfr_id</span><span class="p">;</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">dev_id</span><span class="p">;</span>

	<span class="n">uaddr</span> <span class="o">=</span> <span class="n">jedec_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">uaddr</span><span class="p">;</span>

	<span class="cm">/* The table has unlock addresses in _bytes_, and we try not to let</span>
<span class="cm">	   our brains explode when we see the datasheets talking about address</span>
<span class="cm">	   lines numbered from A-1 to A18. The CFI table has unlock addresses</span>
<span class="cm">	   in device-words according to the mode the device is connected in */</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span> <span class="o">=</span> <span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr</span><span class="p">].</span><span class="n">addr1</span> <span class="o">/</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">;</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span> <span class="o">=</span> <span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr</span><span class="p">].</span><span class="n">addr2</span> <span class="o">/</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>	<span class="cm">/* ok */</span>
<span class="p">}</span>


<span class="cm">/*</span>
<span class="cm"> * There is a BIG problem properly ID&#39;ing the JEDEC device and guaranteeing</span>
<span class="cm"> * the mapped address, unlock addresses, and proper chip ID.  This function</span>
<span class="cm"> * attempts to minimize errors.  It is doubtfull that this probe will ever</span>
<span class="cm"> * be perfect - consequently there should be some module parameters that</span>
<span class="cm"> * could be manually specified to force the chip info.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">jedec_match</span><span class="p">(</span> <span class="kt">uint32_t</span> <span class="n">base</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">map_info</span> <span class="o">*</span><span class="n">map</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">cfi_private</span> <span class="o">*</span><span class="n">cfi</span><span class="p">,</span>
			       <span class="k">const</span> <span class="k">struct</span> <span class="n">amd_flash_info</span> <span class="o">*</span><span class="n">finfo</span> <span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">rc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>           <span class="cm">/* failure until all tests pass */</span>
	<span class="n">u32</span> <span class="n">mfr</span><span class="p">,</span> <span class="n">id</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">uaddr</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The IDs must match.  For X16 and X32 devices operating in</span>
<span class="cm">	 * a lower width ( X8 or X16 ), the device ID&#39;s are usually just</span>
<span class="cm">	 * the lower byte(s) of the larger device ID for wider mode.  If</span>
<span class="cm">	 * a part is found that doesn&#39;t fit this assumption (device id for</span>
<span class="cm">	 * smaller width mode is completely unrealated to full-width mode)</span>
<span class="cm">	 * then the jedec_table[] will have to be augmented with the IDs</span>
<span class="cm">	 * for different widths.</span>
<span class="cm">	 */</span>
	<span class="k">switch</span> <span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="n">CFI_DEVICETYPE_X8</span>:
		<span class="n">mfr</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">mfr_id</span><span class="p">;</span>
		<span class="n">id</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_id</span><span class="p">;</span>

		<span class="cm">/* bjd: it seems that if we do this, we can end up</span>
<span class="cm">		 * detecting 16bit flashes as an 8bit device, even though</span>
<span class="cm">		 * there aren&#39;t.</span>
<span class="cm">		 */</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_id</span> <span class="o">&gt;</span> <span class="mh">0xff</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;%s(): ID is not 8bit</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			       <span class="n">__func__</span><span class="p">);</span>
			<span class="k">goto</span> <span class="n">match_done</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">CFI_DEVICETYPE_X16</span>:
		<span class="n">mfr</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">mfr_id</span><span class="p">;</span>
		<span class="n">id</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_id</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">CFI_DEVICETYPE_X32</span>:
		<span class="n">mfr</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">mfr_id</span><span class="p">;</span>
		<span class="n">id</span> <span class="o">=</span> <span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_id</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="nl">default:</span>
		<span class="n">printk</span><span class="p">(</span><span class="n">KERN_WARNING</span>
		       <span class="s">&quot;MTD %s(): Unsupported device type %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		       <span class="n">__func__</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">);</span>
		<span class="k">goto</span> <span class="n">match_done</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span> <span class="o">!=</span> <span class="n">mfr</span> <span class="o">||</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span> <span class="o">!=</span> <span class="n">id</span> <span class="p">)</span> <span class="p">{</span>
		<span class="k">goto</span> <span class="n">match_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="cm">/* the part size must fit in the memory window */</span>
	<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): Check fit 0x%.8x + 0x%.8x = 0x%.8x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
	       <span class="n">__func__</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_size</span><span class="p">,</span> <span class="n">base</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_size</span><span class="p">)</span> <span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">base</span> <span class="o">+</span> <span class="n">cfi_interleave</span><span class="p">(</span><span class="n">cfi</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_size</span> <span class="p">)</span> <span class="o">&gt;</span> <span class="n">map</span><span class="o">-&gt;</span><span class="n">size</span> <span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): 0x%.4x 0x%.4x %dKiB doesn&#39;t fit</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		       <span class="n">__func__</span><span class="p">,</span> <span class="n">finfo</span><span class="o">-&gt;</span><span class="n">mfr_id</span><span class="p">,</span> <span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_id</span><span class="p">,</span>
		       <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">finfo</span><span class="o">-&gt;</span><span class="n">dev_size</span> <span class="p">);</span>
		<span class="k">goto</span> <span class="n">match_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="p">(</span><span class="n">finfo</span><span class="o">-&gt;</span><span class="n">devtypes</span> <span class="o">&amp;</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">))</span>
		<span class="k">goto</span> <span class="n">match_done</span><span class="p">;</span>

	<span class="n">uaddr</span> <span class="o">=</span> <span class="n">finfo</span><span class="o">-&gt;</span><span class="n">uaddr</span><span class="p">;</span>

	<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): check unlock addrs 0x%.4x 0x%.4x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
	       <span class="n">__func__</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span> <span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">MTD_UADDR_UNNECESSARY</span> <span class="o">!=</span> <span class="n">uaddr</span> <span class="o">&amp;&amp;</span> <span class="n">MTD_UADDR_DONT_CARE</span> <span class="o">!=</span> <span class="n">uaddr</span>
	     <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr</span><span class="p">].</span><span class="n">addr1</span> <span class="o">/</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span> <span class="o">!=</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span> <span class="o">||</span>
		  <span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr</span><span class="p">].</span><span class="n">addr2</span> <span class="o">/</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span> <span class="o">!=</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): 0x%.4x 0x%.4x did not match</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			<span class="n">__func__</span><span class="p">,</span>
			<span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr</span><span class="p">].</span><span class="n">addr1</span><span class="p">,</span>
			<span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr</span><span class="p">].</span><span class="n">addr2</span><span class="p">);</span>
		<span class="k">goto</span> <span class="n">match_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="cm">/*</span>
<span class="cm">	 * Make sure the ID&#39;s disappear when the device is taken out of</span>
<span class="cm">	 * ID mode.  The only time this should fail when it should succeed</span>
<span class="cm">	 * is when the ID&#39;s are written as data to the same</span>
<span class="cm">	 * addresses.  For this rare and unfortunate case the chip</span>
<span class="cm">	 * cannot be probed correctly.</span>
<span class="cm">	 * FIXME - write a driver that takes all of the chip info as</span>
<span class="cm">	 * module parameters, doesn&#39;t probe but forces a load.</span>
<span class="cm">	 */</span>
	<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): check ID&#39;s disappear when not in ID mode</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
	       <span class="n">__func__</span> <span class="p">);</span>
	<span class="n">jedec_reset</span><span class="p">(</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span> <span class="p">);</span>
	<span class="n">mfr</span> <span class="o">=</span> <span class="n">jedec_read_mfr</span><span class="p">(</span> <span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span> <span class="p">);</span>
	<span class="n">id</span> <span class="o">=</span> <span class="n">jedec_read_id</span><span class="p">(</span> <span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span> <span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span> <span class="n">mfr</span> <span class="o">==</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span> <span class="o">&amp;&amp;</span> <span class="n">id</span> <span class="o">==</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span> <span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): ID 0x%.2x:0x%.2x did not change after reset:</span><span class="se">\n</span><span class="s">&quot;</span>
		       <span class="s">&quot;You might need to manually specify JEDEC parameters.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			<span class="n">__func__</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span> <span class="p">);</span>
		<span class="k">goto</span> <span class="n">match_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="cm">/* all tests passed - mark  as success */</span>
	<span class="n">rc</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Put the device back in ID mode - only need to do this if we</span>
<span class="cm">	 * were truly frobbing a real device.</span>
<span class="cm">	 */</span>
	<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): return to ID mode</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__func__</span> <span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
		<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0x55</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0x90</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="cm">/* FIXME - should have a delay before continuing */</span>

 <span class="nl">match_done:</span>
	<span class="k">return</span> <span class="n">rc</span><span class="p">;</span>
<span class="p">}</span>


<span class="k">static</span> <span class="kt">int</span> <span class="nf">jedec_probe_chip</span><span class="p">(</span><span class="k">struct</span> <span class="n">map_info</span> <span class="o">*</span><span class="n">map</span><span class="p">,</span> <span class="n">__u32</span> <span class="n">base</span><span class="p">,</span>
			    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">chip_map</span><span class="p">,</span> <span class="k">struct</span> <span class="n">cfi_private</span> <span class="o">*</span><span class="n">cfi</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">uaddr</span> <span class="n">uaddr_idx</span> <span class="o">=</span> <span class="n">MTD_UADDR_NOT_SUPPORTED</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">probe_offset1</span><span class="p">,</span> <span class="n">probe_offset2</span><span class="p">;</span>

 <span class="nl">retry:</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">numchips</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">uaddr_idx</span><span class="o">++</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">MTD_UADDR_UNNECESSARY</span> <span class="o">==</span> <span class="n">uaddr_idx</span><span class="p">)</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

		<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span> <span class="o">=</span> <span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr_idx</span><span class="p">].</span><span class="n">addr1</span> <span class="o">/</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">;</span>
		<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span> <span class="o">=</span> <span class="n">unlock_addrs</span><span class="p">[</span><span class="n">uaddr_idx</span><span class="p">].</span><span class="n">addr2</span> <span class="o">/</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="cm">/* Make certain we aren&#39;t probing past the end of map */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">base</span> <span class="o">&gt;=</span> <span class="n">map</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">printk</span><span class="p">(</span><span class="n">KERN_NOTICE</span>
			<span class="s">&quot;Probe at base(0x%08x) past the end of the map(0x%08lx)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			<span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="o">-&gt;</span><span class="n">size</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

	<span class="p">}</span>
	<span class="cm">/* Ensure the unlock addresses we try stay inside the map */</span>
	<span class="n">probe_offset1</span> <span class="o">=</span> <span class="n">cfi_build_cmd_addr</span><span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
	<span class="n">probe_offset2</span> <span class="o">=</span> <span class="n">cfi_build_cmd_addr</span><span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span>	<span class="p">((</span><span class="n">base</span> <span class="o">+</span> <span class="n">probe_offset1</span> <span class="o">+</span> <span class="n">map_bankwidth</span><span class="p">(</span><span class="n">map</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="n">map</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">)</span> <span class="o">||</span>
		<span class="p">((</span><span class="n">base</span> <span class="o">+</span> <span class="n">probe_offset2</span> <span class="o">+</span> <span class="n">map_bankwidth</span><span class="p">(</span><span class="n">map</span><span class="p">))</span> <span class="o">&gt;=</span> <span class="n">map</span><span class="o">-&gt;</span><span class="n">size</span><span class="p">))</span>
		<span class="k">goto</span> <span class="n">retry</span><span class="p">;</span>

	<span class="cm">/* Reset */</span>
	<span class="n">jedec_reset</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>

	<span class="cm">/* Autoselect Mode */</span>
	<span class="k">if</span><span class="p">(</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0xaa</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
		<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0x55</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">cfi_send_gen_cmd</span><span class="p">(</span><span class="mh">0x90</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="cm">/* FIXME - should have a delay before continuing */</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cfi</span><span class="o">-&gt;</span><span class="n">numchips</span><span class="p">)</span> <span class="p">{</span>
		<span class="cm">/* This is the first time we&#39;re called. Set up the CFI</span>
<span class="cm">		   stuff accordingly and return */</span>

		<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span> <span class="o">=</span> <span class="n">jedec_read_mfr</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
		<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span> <span class="o">=</span> <span class="n">jedec_read_id</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
		<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;Search for id:(%02x %02x) interleave(%d) type(%d)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">,</span> <span class="n">cfi_interleave</span><span class="p">(</span><span class="n">cfi</span><span class="p">),</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="p">);</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">jedec_table</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span> <span class="n">jedec_match</span><span class="p">(</span> <span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">jedec_table</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
				<span class="n">pr_debug</span><span class="p">(</span><span class="s">&quot;MTD %s(): matched device 0x%x,0x%x unlock_addrs: 0x%.4x 0x%.4x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
				       <span class="n">__func__</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">,</span>
				       <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock1</span><span class="p">,</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">addr_unlock2</span> <span class="p">);</span>
				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cfi_jedec_setup</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
					<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
				<span class="k">goto</span> <span class="n">ok_out</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="k">goto</span> <span class="n">retry</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="kt">uint16_t</span> <span class="n">mfr</span><span class="p">;</span>
		<span class="kt">uint16_t</span> <span class="n">id</span><span class="p">;</span>

		<span class="cm">/* Make sure it is a chip of the same manufacturer and id */</span>
		<span class="n">mfr</span> <span class="o">=</span> <span class="n">jedec_read_mfr</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
		<span class="n">id</span> <span class="o">=</span> <span class="n">jedec_read_id</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>

		<span class="k">if</span> <span class="p">((</span><span class="n">mfr</span> <span class="o">!=</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">id</span> <span class="o">!=</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">))</span> <span class="p">{</span>
			<span class="n">printk</span><span class="p">(</span><span class="n">KERN_DEBUG</span> <span class="s">&quot;%s: Found different chip or no chip at all (mfr 0x%x, id 0x%x) at 0x%x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			       <span class="n">map</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">,</span> <span class="n">mfr</span><span class="p">,</span> <span class="n">id</span><span class="p">,</span> <span class="n">base</span><span class="p">);</span>
			<span class="n">jedec_reset</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
			<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="cm">/* Check each previous chip locations to see if it&#39;s an alias */</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">base</span> <span class="o">&gt;&gt;</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">chipshift</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">start</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">test_bit</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">chip_map</span><span class="p">))</span> <span class="p">{</span>
			<span class="k">continue</span><span class="p">;</span> <span class="cm">/* Skip location; no valid chip at this address */</span>
		<span class="p">}</span>
		<span class="n">start</span> <span class="o">=</span> <span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">chipshift</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">jedec_read_mfr</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">cfi</span><span class="p">)</span> <span class="o">==</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span> <span class="o">&amp;&amp;</span>
		    <span class="n">jedec_read_id</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">cfi</span><span class="p">)</span> <span class="o">==</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">)</span> <span class="p">{</span>
			<span class="cm">/* Eep. This chip also looks like it&#39;s in autoselect mode.</span>
<span class="cm">			   Is it an alias for the new one? */</span>
			<span class="n">jedec_reset</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>

			<span class="cm">/* If the device IDs go away, it&#39;s an alias */</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">jedec_read_mfr</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">)</span> <span class="o">!=</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span> <span class="o">||</span>
			    <span class="n">jedec_read_id</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">)</span> <span class="o">!=</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">printk</span><span class="p">(</span><span class="n">KERN_DEBUG</span> <span class="s">&quot;%s: Found an alias at 0x%x for the chip at 0x%lx</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
				       <span class="n">map</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">start</span><span class="p">);</span>
				<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">}</span>

			<span class="cm">/* Yes, it&#39;s actually got the device IDs as data. Most</span>
<span class="cm">			 * unfortunate. Stick the new chip in read mode</span>
<span class="cm">			 * too and if it&#39;s the same, assume it&#39;s an alias. */</span>
			<span class="cm">/* FIXME: Use other modes to do a proper check */</span>
			<span class="n">jedec_reset</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">jedec_read_mfr</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">)</span> <span class="o">==</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">mfr</span> <span class="o">&amp;&amp;</span>
			    <span class="n">jedec_read_id</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">cfi</span><span class="p">)</span> <span class="o">==</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">id</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">printk</span><span class="p">(</span><span class="n">KERN_DEBUG</span> <span class="s">&quot;%s: Found an alias at 0x%x for the chip at 0x%lx</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
				       <span class="n">map</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span> <span class="n">start</span><span class="p">);</span>
				<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="cm">/* OK, if we got to here, then none of the previous chips appear to</span>
<span class="cm">	   be aliases for the current one. */</span>
	<span class="n">set_bit</span><span class="p">((</span><span class="n">base</span> <span class="o">&gt;&gt;</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">chipshift</span><span class="p">),</span> <span class="n">chip_map</span><span class="p">);</span> <span class="cm">/* Update chip map */</span>
	<span class="n">cfi</span><span class="o">-&gt;</span><span class="n">numchips</span><span class="o">++</span><span class="p">;</span>

<span class="nl">ok_out:</span>
	<span class="cm">/* Put it back into Read Mode */</span>
	<span class="n">jedec_reset</span><span class="p">(</span><span class="n">base</span><span class="p">,</span> <span class="n">map</span><span class="p">,</span> <span class="n">cfi</span><span class="p">);</span>

	<span class="n">printk</span><span class="p">(</span><span class="n">KERN_INFO</span> <span class="s">&quot;%s: Found %d x%d devices at 0x%x in %d-bit bank</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
	       <span class="n">map</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">,</span> <span class="n">cfi_interleave</span><span class="p">(</span><span class="n">cfi</span><span class="p">),</span> <span class="n">cfi</span><span class="o">-&gt;</span><span class="n">device_type</span><span class="o">*</span><span class="mi">8</span><span class="p">,</span> <span class="n">base</span><span class="p">,</span>
	       <span class="n">map</span><span class="o">-&gt;</span><span class="n">bankwidth</span><span class="o">*</span><span class="mi">8</span><span class="p">);</span>

	<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">chip_probe</span> <span class="n">jedec_chip_probe</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;JEDEC&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">probe_chip</span> <span class="o">=</span> <span class="n">jedec_probe_chip</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">mtd_info</span> <span class="o">*</span><span class="nf">jedec_probe</span><span class="p">(</span><span class="k">struct</span> <span class="n">map_info</span> <span class="o">*</span><span class="n">map</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * Just use the generic probe stuff to call our CFI-specific</span>
<span class="cm">	 * chip_probe routine in all the possible permutations, etc.</span>
<span class="cm">	 */</span>
	<span class="k">return</span> <span class="n">mtd_do_chip_probe</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">jedec_chip_probe</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">mtd_chip_driver</span> <span class="n">jedec_chipdrv</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">probe</span>	<span class="o">=</span> <span class="n">jedec_probe</span><span class="p">,</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;jedec_probe&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">module</span>	<span class="o">=</span> <span class="n">THIS_MODULE</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">jedec_probe_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">register_mtd_chip_driver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">jedec_chipdrv</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__exit</span> <span class="nf">jedec_probe_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">unregister_mtd_chip_driver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">jedec_chipdrv</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">module_init</span><span class="p">(</span><span class="n">jedec_probe_init</span><span class="p">);</span>
<span class="n">module_exit</span><span class="p">(</span><span class="n">jedec_probe_exit</span><span class="p">);</span>

<span class="n">MODULE_LICENSE</span><span class="p">(</span><span class="s">&quot;GPL&quot;</span><span class="p">);</span>
<span class="n">MODULE_AUTHOR</span><span class="p">(</span><span class="s">&quot;Erwin Authried &lt;eauth@softsys.co.at&gt; et al.&quot;</span><span class="p">);</span>
<span class="n">MODULE_DESCRIPTION</span><span class="p">(</span><span class="s">&quot;Probe code for JEDEC-compliant flash chips&quot;</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
