d | generators |  | 3 items |  | Alexander Gordeev | lasaine@lvk.cs.msu.su | 1300841057 |  | pps: remove unreachable code  Remove code enabled only when CONFIG_PREEMPT_RT is turned on because it is not used in the vanilla kernel.  Signed-off-by: Alexander Gordeev <lasaine@lvk.cs.msu.su> Cc: john stultz <johnstul@us.ibm.com> Cc: Rodolfo Giometti <giometti@linux.it> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | kapi.c | s | 6.0K | 198 | James Nuss | jamesnuss@nanometrics.ca | 1320275222 |  | pps: default echo function  A default echo function has been provided so it is no longer an error when you specify PPS_ECHOASSERT or PPS_ECHOCLEAR without an explicit echo function.  This allows some code re-use and also makes it easier to write client drivers since the default echo function does not normally need to change.  Signed-off-by: James Nuss <jamesnuss@nanometrics.ca> Reviewed-by: Ben Gardiner <bengardiner@nanometrics.ca> Acked-by: Rodolfo Giometti <giometti@linux.it> Cc: Ricardo Martins <rasm@fe.up.pt> Cc: Alexander Gordeev <lasaine@lvk.cs.msu.su> Cc: Igor Plyatov <plyatov@gmail.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Makefile | g | 212B |  | Alexander Gordeev | lasaine@lvk.cs.msu.su | 1294934601 |  | pps: add parallel port PPS signal generator  Add PPS signal generator which utilizes STROBE pin of a parallel port to send PPS signals.  It uses parport abstraction layer and hrtimers to precisely control the signal.  [akpm@linux-foundation.org: fix build] Signed-off-by: Alexander Gordeev <lasaine@lvk.cs.msu.su> Acked-by: Rodolfo Giometti <giometti@linux.it> Cc: john stultz <johnstul@us.ibm.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | kc.h | s | 1.5K | 37 | Alexander Gordeev | lasaine@lvk.cs.msu.su | 1294934601 |  | pps: add kernel consumer support  Add an optional feature of PPSAPI, kernel consumer support, which uses the added hardpps() function.  Signed-off-by: Alexander Gordeev <lasaine@lvk.cs.msu.su> Acked-by: Rodolfo Giometti <giometti@linux.it> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
d | clients |  | 6 items |  | Heiko Carstens | heiko.carstens@de.ibm.com | 1320275222 |  | pps gpio client: add missing dependency  Add "depends on GENERIC_HARDIRQS" to avoid compile breakage on s390:  drivers/built-in.o: In function `pps_gpio_remove': linux-next/drivers/pps/clients/pps-gpio.c:189: undefined reference to `free_irq'  Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com> Cc: James Nuss <jamesnuss@nanometrics.ca> Cc: Rodolfo Giometti <giometti@enneenne.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Kconfig | g | 1.3K |  | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | pps.c | s | 8.8K | 316 | Dan Carpenter | dan.carpenter@oracle.com | 1330991383 |  | pps: class_create() returns an ERR_PTR, not NULL  class_create() never returns NULLs only ERR_PTRs.  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com> Cc: Rodolfo Giometti <giometti@enneenne.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysfs.c | s | 2.7K | 80 | Rodolfo Giometti | giometti@linux.it | 1245355444 |  | LinuxPPS: core support  This patch adds the kernel side of the PPS support currently named "LinuxPPS".  PPS means "pulse per second" and a PPS source is just a device which provides a high precision signal each second so that an application can use it to adjust system clock time.  Common use is the combination of the NTPD as userland program with a GPS receiver as PPS source to obtain a wallclock-time with sub-millisecond synchronisation to UTC.  To obtain this goal the userland programs shoud use the PPS API specification (RFC 2783 - Pulse-Per-Second API for UNIX-like Operating Systems, Version 1.0) which in part is implemented by this patch.  It provides a set of chars devices, one per PPS source, which can be used to get the time signal.  The RFC's functions can be implemented by accessing to these char devices.  Signed-off-by: Rodolfo Giometti <giometti@linux.it> Cc: David Woodhouse <dwmw2@infradead.org> Cc: Greg KH <greg@kroah.com> Cc: Randy Dunlap <randy.dunlap@oracle.com> Cc: Kay Sievers <kay.sievers@vrfy.org> Acked-by: Alan Cox <alan@lxorguk.ukuu.org.uk> Cc: Michael Kerrisk <mtk.manpages@googlemail.com> Cc: Christoph Hellwig <hch@infradead.org> Cc: Roman Zippel <zippel@linux-m68k.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | kc.c | s | 3.8K | 111 | Alexander Gordeev | lasaine@lvk.cs.msu.su | 1294934601 |  | pps: add kernel consumer support  Add an optional feature of PPSAPI, kernel consumer support, which uses the added hardpps() function.  Signed-off-by: Alexander Gordeev <lasaine@lvk.cs.msu.su> Acked-by: Rodolfo Giometti <giometti@linux.it> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
