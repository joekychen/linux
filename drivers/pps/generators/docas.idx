f | Kconfig | g | 400B |  | Thomas Gleixner | tglx@linutronix.de | 1299290018 |  | pps: make pps_gen_parport depend on BROKEN  This driver causes hard lockups, when the active clock soure is jiffies.  The reason is that it loops with interrupts disabled waiting for a timestamp to be reached by polling getnstimeofday().  Though with a jiffies clocksource, when that code runs on the same CPU which is responsible for updating jiffies, then we loop in circles for ever simply because the timer interrupt cannot update jiffies.  So both UP and SMP can be affected.  There is no easy fix for that problem so make it depend on BROKEN for now.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Alexander Gordeev <lasaine@lvk.cs.msu.su> Cc: Rodolfo Giometti <giometti@linux.it> Cc: john stultz <johnstul@us.ibm.com> Cc: Ingo Molnar <mingo@elte.hu> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | pps_gen_parport.c | s | 7.0K | 220 | Alexander Gordeev | lasaine@lvk.cs.msu.su | 1300841057 |  | pps: remove unreachable code  Remove code enabled only when CONFIG_PREEMPT_RT is turned on because it is not used in the vanilla kernel.  Signed-off-by: Alexander Gordeev <lasaine@lvk.cs.msu.su> Cc: john stultz <johnstul@us.ibm.com> Cc: Rodolfo Giometti <giometti@linux.it> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Makefile | g | 153B |  | Alexander Gordeev | lasaine@lvk.cs.msu.su | 1294934601 |  | pps: add parallel port PPS signal generator  Add PPS signal generator which utilizes STROBE pin of a parallel port to send PPS signals.  It uses parport abstraction layer and hrtimers to precisely control the signal.  [akpm@linux-foundation.org: fix build] Signed-off-by: Alexander Gordeev <lasaine@lvk.cs.msu.su> Acked-by: Rodolfo Giometti <giometti@linux.it> Cc: john stultz <johnstul@us.ibm.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
