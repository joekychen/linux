<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › infiniband › hw › cxgb4 › t4fw_ri_api.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>t4fw_ri_api.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2009-2010 Chelsio, Inc. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This software is available to you under a choice of one of two</span>
<span class="cm"> * licenses.  You may choose to be licensed under the terms of the GNU</span>
<span class="cm"> * General Public License (GPL) Version 2, available from the file</span>
<span class="cm"> * COPYING in the main directory of this source tree, or the</span>
<span class="cm"> * OpenIB.org BSD license below:</span>
<span class="cm"> *</span>
<span class="cm"> *     Redistribution and use in source and binary forms, with or</span>
<span class="cm"> *     without modification, are permitted provided that the following</span>
<span class="cm"> *     conditions are met:</span>
<span class="cm"> *</span>
<span class="cm"> *      - Redistributions of source code must retain the above</span>
<span class="cm"> *        copyright notice, this list of conditions and the following</span>
<span class="cm"> *        disclaimer.</span>
<span class="cm"> *      - Redistributions in binary form must reproduce the above</span>
<span class="cm"> *        copyright notice, this list of conditions and the following</span>
<span class="cm"> *        disclaimer in the documentation and/or other materials</span>
<span class="cm"> *        provided with the distribution.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span>
<span class="cm"> * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</span>
<span class="cm"> * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS</span>
<span class="cm"> * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN</span>
<span class="cm"> * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</span>
<span class="cm"> * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE</span>
<span class="cm"> * SOFTWARE.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _T4FW_RI_API_H_</span>
<span class="cp">#define _T4FW_RI_API_H_</span>

<span class="cp">#include &quot;t4fw_api.h&quot;</span>

<span class="k">enum</span> <span class="n">fw_ri_wr_opcode</span> <span class="p">{</span>
	<span class="n">FW_RI_RDMA_WRITE</span>		<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>	<span class="cm">/* IETF RDMAP v1.0 ... */</span>
	<span class="n">FW_RI_READ_REQ</span>			<span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>
	<span class="n">FW_RI_READ_RESP</span>			<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>
	<span class="n">FW_RI_SEND</span>			<span class="o">=</span> <span class="mh">0x3</span><span class="p">,</span>
	<span class="n">FW_RI_SEND_WITH_INV</span>		<span class="o">=</span> <span class="mh">0x4</span><span class="p">,</span>
	<span class="n">FW_RI_SEND_WITH_SE</span>		<span class="o">=</span> <span class="mh">0x5</span><span class="p">,</span>
	<span class="n">FW_RI_SEND_WITH_SE_INV</span>		<span class="o">=</span> <span class="mh">0x6</span><span class="p">,</span>
	<span class="n">FW_RI_TERMINATE</span>			<span class="o">=</span> <span class="mh">0x7</span><span class="p">,</span>
	<span class="n">FW_RI_RDMA_INIT</span>			<span class="o">=</span> <span class="mh">0x8</span><span class="p">,</span>	<span class="cm">/* CHELSIO RI specific ... */</span>
	<span class="n">FW_RI_BIND_MW</span>			<span class="o">=</span> <span class="mh">0x9</span><span class="p">,</span>
	<span class="n">FW_RI_FAST_REGISTER</span>		<span class="o">=</span> <span class="mh">0xa</span><span class="p">,</span>
	<span class="n">FW_RI_LOCAL_INV</span>			<span class="o">=</span> <span class="mh">0xb</span><span class="p">,</span>
	<span class="n">FW_RI_QP_MODIFY</span>			<span class="o">=</span> <span class="mh">0xc</span><span class="p">,</span>
	<span class="n">FW_RI_BYPASS</span>			<span class="o">=</span> <span class="mh">0xd</span><span class="p">,</span>
	<span class="n">FW_RI_RECEIVE</span>			<span class="o">=</span> <span class="mh">0xe</span><span class="p">,</span>

	<span class="n">FW_RI_SGE_EC_CR_RETURN</span>		<span class="o">=</span> <span class="mh">0xf</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_wr_flags</span> <span class="p">{</span>
	<span class="n">FW_RI_COMPLETION_FLAG</span>		<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_RI_NOTIFICATION_FLAG</span>		<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_RI_SOLICITED_EVENT_FLAG</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_RI_READ_FENCE_FLAG</span>		<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_RI_LOCAL_FENCE_FLAG</span>		<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="n">FW_RI_RDMA_READ_INVALIDATE</span>	<span class="o">=</span> <span class="mh">0x20</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_mpa_attrs</span> <span class="p">{</span>
	<span class="n">FW_RI_MPA_RX_MARKER_ENABLE</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_RI_MPA_TX_MARKER_ENABLE</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_RI_MPA_CRC_ENABLE</span>		<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_RI_MPA_IETF_ENABLE</span>		<span class="o">=</span> <span class="mh">0x08</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_qp_caps</span> <span class="p">{</span>
	<span class="n">FW_RI_QP_RDMA_READ_ENABLE</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_RI_QP_RDMA_WRITE_ENABLE</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_RI_QP_BIND_ENABLE</span>		<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_RI_QP_FAST_REGISTER_ENABLE</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_RI_QP_STAG0_ENABLE</span>		<span class="o">=</span> <span class="mh">0x10</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_addr_type</span> <span class="p">{</span>
	<span class="n">FW_RI_ZERO_BASED_TO</span>		<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">FW_RI_VA_BASED_TO</span>		<span class="o">=</span> <span class="mh">0x01</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_mem_perms</span> <span class="p">{</span>
	<span class="n">FW_RI_MEM_ACCESS_REM_WRITE</span>	<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_RI_MEM_ACCESS_REM_READ</span>	<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_RI_MEM_ACCESS_REM</span>		<span class="o">=</span> <span class="mh">0x03</span><span class="p">,</span>
	<span class="n">FW_RI_MEM_ACCESS_LOCAL_WRITE</span>	<span class="o">=</span> <span class="mh">0x04</span><span class="p">,</span>
	<span class="n">FW_RI_MEM_ACCESS_LOCAL_READ</span>	<span class="o">=</span> <span class="mh">0x08</span><span class="p">,</span>
	<span class="n">FW_RI_MEM_ACCESS_LOCAL</span>		<span class="o">=</span> <span class="mh">0x0C</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_stag_type</span> <span class="p">{</span>
	<span class="n">FW_RI_STAG_NSMR</span>			<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="n">FW_RI_STAG_SMR</span>			<span class="o">=</span> <span class="mh">0x01</span><span class="p">,</span>
	<span class="n">FW_RI_STAG_MW</span>			<span class="o">=</span> <span class="mh">0x02</span><span class="p">,</span>
	<span class="n">FW_RI_STAG_MW_RELAXED</span>		<span class="o">=</span> <span class="mh">0x03</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_data_op</span> <span class="p">{</span>
	<span class="n">FW_RI_DATA_IMMD</span>			<span class="o">=</span> <span class="mh">0x81</span><span class="p">,</span>
	<span class="n">FW_RI_DATA_DSGL</span>			<span class="o">=</span> <span class="mh">0x82</span><span class="p">,</span>
	<span class="n">FW_RI_DATA_ISGL</span>			<span class="o">=</span> <span class="mh">0x83</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_sgl_depth</span> <span class="p">{</span>
	<span class="n">FW_RI_SGL_DEPTH_MAX_SQ</span>		<span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="n">FW_RI_SGL_DEPTH_MAX_RQ</span>		<span class="o">=</span> <span class="mi">4</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_dsge_pair</span> <span class="p">{</span>
	<span class="n">__be32</span>	<span class="n">len</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">__be64</span>	<span class="n">addr</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_dsgl</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">op</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">r1</span><span class="p">;</span>
	<span class="n">__be16</span>	<span class="n">nsge</span><span class="p">;</span>
	<span class="n">__be32</span>	<span class="n">len0</span><span class="p">;</span>
	<span class="n">__be64</span>	<span class="n">addr0</span><span class="p">;</span>
<span class="cp">#ifndef C99_NOT_SUPPORTED</span>
	<span class="k">struct</span> <span class="n">fw_ri_dsge_pair</span> <span class="n">sge</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_sge</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">stag</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">to</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_isgl</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">op</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">r1</span><span class="p">;</span>
	<span class="n">__be16</span>	<span class="n">nsge</span><span class="p">;</span>
	<span class="n">__be32</span>	<span class="n">r2</span><span class="p">;</span>
<span class="cp">#ifndef C99_NOT_SUPPORTED</span>
	<span class="k">struct</span> <span class="n">fw_ri_sge</span> <span class="n">sge</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_immd</span> <span class="p">{</span>
	<span class="n">__u8</span>	<span class="n">op</span><span class="p">;</span>
	<span class="n">__u8</span>	<span class="n">r1</span><span class="p">;</span>
	<span class="n">__be16</span>	<span class="n">r2</span><span class="p">;</span>
	<span class="n">__be32</span>	<span class="n">immdlen</span><span class="p">;</span>
<span class="cp">#ifndef C99_NOT_SUPPORTED</span>
	<span class="n">__u8</span>	<span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_tpte</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">valid_to_pdid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">locread_to_qpid</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">nosnoop_pbladdr</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len_lo</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">va_hi</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">va_lo_fbo</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">dca_mwbcnt_pstag</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len_hi</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define S_FW_RI_TPTE_VALID		31</span>
<span class="cp">#define M_FW_RI_TPTE_VALID		0x1</span>
<span class="cp">#define V_FW_RI_TPTE_VALID(x)		((x) &lt;&lt; S_FW_RI_TPTE_VALID)</span>
<span class="cp">#define G_FW_RI_TPTE_VALID(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_VALID) &amp; M_FW_RI_TPTE_VALID)</span>
<span class="cp">#define F_FW_RI_TPTE_VALID		V_FW_RI_TPTE_VALID(1U)</span>

<span class="cp">#define S_FW_RI_TPTE_STAGKEY		23</span>
<span class="cp">#define M_FW_RI_TPTE_STAGKEY		0xff</span>
<span class="cp">#define V_FW_RI_TPTE_STAGKEY(x)		((x) &lt;&lt; S_FW_RI_TPTE_STAGKEY)</span>
<span class="cp">#define G_FW_RI_TPTE_STAGKEY(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_STAGKEY) &amp; M_FW_RI_TPTE_STAGKEY)</span>

<span class="cp">#define S_FW_RI_TPTE_STAGSTATE		22</span>
<span class="cp">#define M_FW_RI_TPTE_STAGSTATE		0x1</span>
<span class="cp">#define V_FW_RI_TPTE_STAGSTATE(x)	((x) &lt;&lt; S_FW_RI_TPTE_STAGSTATE)</span>
<span class="cp">#define G_FW_RI_TPTE_STAGSTATE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_STAGSTATE) &amp; M_FW_RI_TPTE_STAGSTATE)</span>
<span class="cp">#define F_FW_RI_TPTE_STAGSTATE		V_FW_RI_TPTE_STAGSTATE(1U)</span>

<span class="cp">#define S_FW_RI_TPTE_STAGTYPE		20</span>
<span class="cp">#define M_FW_RI_TPTE_STAGTYPE		0x3</span>
<span class="cp">#define V_FW_RI_TPTE_STAGTYPE(x)	((x) &lt;&lt; S_FW_RI_TPTE_STAGTYPE)</span>
<span class="cp">#define G_FW_RI_TPTE_STAGTYPE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_STAGTYPE) &amp; M_FW_RI_TPTE_STAGTYPE)</span>

<span class="cp">#define S_FW_RI_TPTE_PDID		0</span>
<span class="cp">#define M_FW_RI_TPTE_PDID		0xfffff</span>
<span class="cp">#define V_FW_RI_TPTE_PDID(x)		((x) &lt;&lt; S_FW_RI_TPTE_PDID)</span>
<span class="cp">#define G_FW_RI_TPTE_PDID(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_PDID) &amp; M_FW_RI_TPTE_PDID)</span>

<span class="cp">#define S_FW_RI_TPTE_PERM		28</span>
<span class="cp">#define M_FW_RI_TPTE_PERM		0xf</span>
<span class="cp">#define V_FW_RI_TPTE_PERM(x)		((x) &lt;&lt; S_FW_RI_TPTE_PERM)</span>
<span class="cp">#define G_FW_RI_TPTE_PERM(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_PERM) &amp; M_FW_RI_TPTE_PERM)</span>

<span class="cp">#define S_FW_RI_TPTE_REMINVDIS		27</span>
<span class="cp">#define M_FW_RI_TPTE_REMINVDIS		0x1</span>
<span class="cp">#define V_FW_RI_TPTE_REMINVDIS(x)	((x) &lt;&lt; S_FW_RI_TPTE_REMINVDIS)</span>
<span class="cp">#define G_FW_RI_TPTE_REMINVDIS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_REMINVDIS) &amp; M_FW_RI_TPTE_REMINVDIS)</span>
<span class="cp">#define F_FW_RI_TPTE_REMINVDIS		V_FW_RI_TPTE_REMINVDIS(1U)</span>

<span class="cp">#define S_FW_RI_TPTE_ADDRTYPE		26</span>
<span class="cp">#define M_FW_RI_TPTE_ADDRTYPE		1</span>
<span class="cp">#define V_FW_RI_TPTE_ADDRTYPE(x)	((x) &lt;&lt; S_FW_RI_TPTE_ADDRTYPE)</span>
<span class="cp">#define G_FW_RI_TPTE_ADDRTYPE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_ADDRTYPE) &amp; M_FW_RI_TPTE_ADDRTYPE)</span>
<span class="cp">#define F_FW_RI_TPTE_ADDRTYPE		V_FW_RI_TPTE_ADDRTYPE(1U)</span>

<span class="cp">#define S_FW_RI_TPTE_MWBINDEN		25</span>
<span class="cp">#define M_FW_RI_TPTE_MWBINDEN		0x1</span>
<span class="cp">#define V_FW_RI_TPTE_MWBINDEN(x)	((x) &lt;&lt; S_FW_RI_TPTE_MWBINDEN)</span>
<span class="cp">#define G_FW_RI_TPTE_MWBINDEN(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_MWBINDEN) &amp; M_FW_RI_TPTE_MWBINDEN)</span>
<span class="cp">#define F_FW_RI_TPTE_MWBINDEN		V_FW_RI_TPTE_MWBINDEN(1U)</span>

<span class="cp">#define S_FW_RI_TPTE_PS			20</span>
<span class="cp">#define M_FW_RI_TPTE_PS			0x1f</span>
<span class="cp">#define V_FW_RI_TPTE_PS(x)		((x) &lt;&lt; S_FW_RI_TPTE_PS)</span>
<span class="cp">#define G_FW_RI_TPTE_PS(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_PS) &amp; M_FW_RI_TPTE_PS)</span>

<span class="cp">#define S_FW_RI_TPTE_QPID		0</span>
<span class="cp">#define M_FW_RI_TPTE_QPID		0xfffff</span>
<span class="cp">#define V_FW_RI_TPTE_QPID(x)		((x) &lt;&lt; S_FW_RI_TPTE_QPID)</span>
<span class="cp">#define G_FW_RI_TPTE_QPID(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_QPID) &amp; M_FW_RI_TPTE_QPID)</span>

<span class="cp">#define S_FW_RI_TPTE_NOSNOOP		30</span>
<span class="cp">#define M_FW_RI_TPTE_NOSNOOP		0x1</span>
<span class="cp">#define V_FW_RI_TPTE_NOSNOOP(x)		((x) &lt;&lt; S_FW_RI_TPTE_NOSNOOP)</span>
<span class="cp">#define G_FW_RI_TPTE_NOSNOOP(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_NOSNOOP) &amp; M_FW_RI_TPTE_NOSNOOP)</span>
<span class="cp">#define F_FW_RI_TPTE_NOSNOOP		V_FW_RI_TPTE_NOSNOOP(1U)</span>

<span class="cp">#define S_FW_RI_TPTE_PBLADDR		0</span>
<span class="cp">#define M_FW_RI_TPTE_PBLADDR		0x1fffffff</span>
<span class="cp">#define V_FW_RI_TPTE_PBLADDR(x)		((x) &lt;&lt; S_FW_RI_TPTE_PBLADDR)</span>
<span class="cp">#define G_FW_RI_TPTE_PBLADDR(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_PBLADDR) &amp; M_FW_RI_TPTE_PBLADDR)</span>

<span class="cp">#define S_FW_RI_TPTE_DCA		24</span>
<span class="cp">#define M_FW_RI_TPTE_DCA		0x1f</span>
<span class="cp">#define V_FW_RI_TPTE_DCA(x)		((x) &lt;&lt; S_FW_RI_TPTE_DCA)</span>
<span class="cp">#define G_FW_RI_TPTE_DCA(x)		\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_DCA) &amp; M_FW_RI_TPTE_DCA)</span>

<span class="cp">#define S_FW_RI_TPTE_MWBCNT_PSTAG	0</span>
<span class="cp">#define M_FW_RI_TPTE_MWBCNT_PSTAG	0xffffff</span>
<span class="cp">#define V_FW_RI_TPTE_MWBCNT_PSTAT(x)	\</span>
<span class="cp">    ((x) &lt;&lt; S_FW_RI_TPTE_MWBCNT_PSTAG)</span>
<span class="cp">#define G_FW_RI_TPTE_MWBCNT_PSTAG(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_TPTE_MWBCNT_PSTAG) &amp; M_FW_RI_TPTE_MWBCNT_PSTAG)</span>

<span class="k">enum</span> <span class="n">fw_ri_res_type</span> <span class="p">{</span>
	<span class="n">FW_RI_RES_TYPE_SQ</span><span class="p">,</span>
	<span class="n">FW_RI_RES_TYPE_RQ</span><span class="p">,</span>
	<span class="n">FW_RI_RES_TYPE_CQ</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_res_op</span> <span class="p">{</span>
	<span class="n">FW_RI_RES_OP_WRITE</span><span class="p">,</span>
	<span class="n">FW_RI_RES_OP_RESET</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_res</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">fw_ri_restype</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_ri_res_sqrq</span> <span class="p">{</span>
			<span class="n">__u8</span>   <span class="n">restype</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">op</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">r3</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">eqid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r4</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
			<span class="n">__be32</span> <span class="n">fetchszm_to_iqid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">dcaen_to_eqsize</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">eqaddr</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">sqrq</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_ri_res_cq</span> <span class="p">{</span>
			<span class="n">__u8</span>   <span class="n">restype</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">op</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">r3</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">iqid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r4</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
			<span class="n">__be32</span> <span class="n">iqandst_to_iqandstindex</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">iqdroprss_to_iqesize</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">iqsize</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">iqaddr</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">iqns_iqro</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">r6_lo</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r7</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">cq</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_res_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_nres</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len16_pkd</span><span class="p">;</span>
	<span class="n">__u64</span>  <span class="n">cookie</span><span class="p">;</span>
<span class="cp">#ifndef C99_NOT_SUPPORTED</span>
	<span class="k">struct</span> <span class="n">fw_ri_res</span> <span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cp">#define S_FW_RI_RES_WR_NRES	0</span>
<span class="cp">#define M_FW_RI_RES_WR_NRES	0xff</span>
<span class="cp">#define V_FW_RI_RES_WR_NRES(x)	((x) &lt;&lt; S_FW_RI_RES_WR_NRES)</span>
<span class="cp">#define G_FW_RI_RES_WR_NRES(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_NRES) &amp; M_FW_RI_RES_WR_NRES)</span>

<span class="cp">#define S_FW_RI_RES_WR_FETCHSZM		26</span>
<span class="cp">#define M_FW_RI_RES_WR_FETCHSZM		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_FETCHSZM(x)	((x) &lt;&lt; S_FW_RI_RES_WR_FETCHSZM)</span>
<span class="cp">#define G_FW_RI_RES_WR_FETCHSZM(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_FETCHSZM) &amp; M_FW_RI_RES_WR_FETCHSZM)</span>
<span class="cp">#define F_FW_RI_RES_WR_FETCHSZM	V_FW_RI_RES_WR_FETCHSZM(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_STATUSPGNS	25</span>
<span class="cp">#define M_FW_RI_RES_WR_STATUSPGNS	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_STATUSPGNS(x)	((x) &lt;&lt; S_FW_RI_RES_WR_STATUSPGNS)</span>
<span class="cp">#define G_FW_RI_RES_WR_STATUSPGNS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_STATUSPGNS) &amp; M_FW_RI_RES_WR_STATUSPGNS)</span>
<span class="cp">#define F_FW_RI_RES_WR_STATUSPGNS	V_FW_RI_RES_WR_STATUSPGNS(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_STATUSPGRO	24</span>
<span class="cp">#define M_FW_RI_RES_WR_STATUSPGRO	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_STATUSPGRO(x)	((x) &lt;&lt; S_FW_RI_RES_WR_STATUSPGRO)</span>
<span class="cp">#define G_FW_RI_RES_WR_STATUSPGRO(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_STATUSPGRO) &amp; M_FW_RI_RES_WR_STATUSPGRO)</span>
<span class="cp">#define F_FW_RI_RES_WR_STATUSPGRO	V_FW_RI_RES_WR_STATUSPGRO(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_FETCHNS		23</span>
<span class="cp">#define M_FW_RI_RES_WR_FETCHNS		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_FETCHNS(x)	((x) &lt;&lt; S_FW_RI_RES_WR_FETCHNS)</span>
<span class="cp">#define G_FW_RI_RES_WR_FETCHNS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_FETCHNS) &amp; M_FW_RI_RES_WR_FETCHNS)</span>
<span class="cp">#define F_FW_RI_RES_WR_FETCHNS	V_FW_RI_RES_WR_FETCHNS(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_FETCHRO		22</span>
<span class="cp">#define M_FW_RI_RES_WR_FETCHRO		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_FETCHRO(x)	((x) &lt;&lt; S_FW_RI_RES_WR_FETCHRO)</span>
<span class="cp">#define G_FW_RI_RES_WR_FETCHRO(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_FETCHRO) &amp; M_FW_RI_RES_WR_FETCHRO)</span>
<span class="cp">#define F_FW_RI_RES_WR_FETCHRO	V_FW_RI_RES_WR_FETCHRO(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_HOSTFCMODE	20</span>
<span class="cp">#define M_FW_RI_RES_WR_HOSTFCMODE	0x3</span>
<span class="cp">#define V_FW_RI_RES_WR_HOSTFCMODE(x)	((x) &lt;&lt; S_FW_RI_RES_WR_HOSTFCMODE)</span>
<span class="cp">#define G_FW_RI_RES_WR_HOSTFCMODE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_HOSTFCMODE) &amp; M_FW_RI_RES_WR_HOSTFCMODE)</span>

<span class="cp">#define S_FW_RI_RES_WR_CPRIO	19</span>
<span class="cp">#define M_FW_RI_RES_WR_CPRIO	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_CPRIO(x)	((x) &lt;&lt; S_FW_RI_RES_WR_CPRIO)</span>
<span class="cp">#define G_FW_RI_RES_WR_CPRIO(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_CPRIO) &amp; M_FW_RI_RES_WR_CPRIO)</span>
<span class="cp">#define F_FW_RI_RES_WR_CPRIO	V_FW_RI_RES_WR_CPRIO(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_ONCHIP		18</span>
<span class="cp">#define M_FW_RI_RES_WR_ONCHIP		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_ONCHIP(x)	((x) &lt;&lt; S_FW_RI_RES_WR_ONCHIP)</span>
<span class="cp">#define G_FW_RI_RES_WR_ONCHIP(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_ONCHIP) &amp; M_FW_RI_RES_WR_ONCHIP)</span>
<span class="cp">#define F_FW_RI_RES_WR_ONCHIP	V_FW_RI_RES_WR_ONCHIP(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_PCIECHN		16</span>
<span class="cp">#define M_FW_RI_RES_WR_PCIECHN		0x3</span>
<span class="cp">#define V_FW_RI_RES_WR_PCIECHN(x)	((x) &lt;&lt; S_FW_RI_RES_WR_PCIECHN)</span>
<span class="cp">#define G_FW_RI_RES_WR_PCIECHN(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_PCIECHN) &amp; M_FW_RI_RES_WR_PCIECHN)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQID	0</span>
<span class="cp">#define M_FW_RI_RES_WR_IQID	0xffff</span>
<span class="cp">#define V_FW_RI_RES_WR_IQID(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQID)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQID(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQID) &amp; M_FW_RI_RES_WR_IQID)</span>

<span class="cp">#define S_FW_RI_RES_WR_DCAEN	31</span>
<span class="cp">#define M_FW_RI_RES_WR_DCAEN	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_DCAEN(x)	((x) &lt;&lt; S_FW_RI_RES_WR_DCAEN)</span>
<span class="cp">#define G_FW_RI_RES_WR_DCAEN(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_DCAEN) &amp; M_FW_RI_RES_WR_DCAEN)</span>
<span class="cp">#define F_FW_RI_RES_WR_DCAEN	V_FW_RI_RES_WR_DCAEN(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_DCACPU		26</span>
<span class="cp">#define M_FW_RI_RES_WR_DCACPU		0x1f</span>
<span class="cp">#define V_FW_RI_RES_WR_DCACPU(x)	((x) &lt;&lt; S_FW_RI_RES_WR_DCACPU)</span>
<span class="cp">#define G_FW_RI_RES_WR_DCACPU(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_DCACPU) &amp; M_FW_RI_RES_WR_DCACPU)</span>

<span class="cp">#define S_FW_RI_RES_WR_FBMIN	23</span>
<span class="cp">#define M_FW_RI_RES_WR_FBMIN	0x7</span>
<span class="cp">#define V_FW_RI_RES_WR_FBMIN(x)	((x) &lt;&lt; S_FW_RI_RES_WR_FBMIN)</span>
<span class="cp">#define G_FW_RI_RES_WR_FBMIN(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_FBMIN) &amp; M_FW_RI_RES_WR_FBMIN)</span>

<span class="cp">#define S_FW_RI_RES_WR_FBMAX	20</span>
<span class="cp">#define M_FW_RI_RES_WR_FBMAX	0x7</span>
<span class="cp">#define V_FW_RI_RES_WR_FBMAX(x)	((x) &lt;&lt; S_FW_RI_RES_WR_FBMAX)</span>
<span class="cp">#define G_FW_RI_RES_WR_FBMAX(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_FBMAX) &amp; M_FW_RI_RES_WR_FBMAX)</span>

<span class="cp">#define S_FW_RI_RES_WR_CIDXFTHRESHO	19</span>
<span class="cp">#define M_FW_RI_RES_WR_CIDXFTHRESHO	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_CIDXFTHRESHO(x)	((x) &lt;&lt; S_FW_RI_RES_WR_CIDXFTHRESHO)</span>
<span class="cp">#define G_FW_RI_RES_WR_CIDXFTHRESHO(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_CIDXFTHRESHO) &amp; M_FW_RI_RES_WR_CIDXFTHRESHO)</span>
<span class="cp">#define F_FW_RI_RES_WR_CIDXFTHRESHO	V_FW_RI_RES_WR_CIDXFTHRESHO(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_CIDXFTHRESH	16</span>
<span class="cp">#define M_FW_RI_RES_WR_CIDXFTHRESH	0x7</span>
<span class="cp">#define V_FW_RI_RES_WR_CIDXFTHRESH(x)	((x) &lt;&lt; S_FW_RI_RES_WR_CIDXFTHRESH)</span>
<span class="cp">#define G_FW_RI_RES_WR_CIDXFTHRESH(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_CIDXFTHRESH) &amp; M_FW_RI_RES_WR_CIDXFTHRESH)</span>

<span class="cp">#define S_FW_RI_RES_WR_EQSIZE		0</span>
<span class="cp">#define M_FW_RI_RES_WR_EQSIZE		0xffff</span>
<span class="cp">#define V_FW_RI_RES_WR_EQSIZE(x)	((x) &lt;&lt; S_FW_RI_RES_WR_EQSIZE)</span>
<span class="cp">#define G_FW_RI_RES_WR_EQSIZE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_EQSIZE) &amp; M_FW_RI_RES_WR_EQSIZE)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQANDST		15</span>
<span class="cp">#define M_FW_RI_RES_WR_IQANDST		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQANDST(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQANDST)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQANDST(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQANDST) &amp; M_FW_RI_RES_WR_IQANDST)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQANDST	V_FW_RI_RES_WR_IQANDST(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQANUS		14</span>
<span class="cp">#define M_FW_RI_RES_WR_IQANUS		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQANUS(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQANUS)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQANUS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQANUS) &amp; M_FW_RI_RES_WR_IQANUS)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQANUS	V_FW_RI_RES_WR_IQANUS(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQANUD		12</span>
<span class="cp">#define M_FW_RI_RES_WR_IQANUD		0x3</span>
<span class="cp">#define V_FW_RI_RES_WR_IQANUD(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQANUD)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQANUD(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQANUD) &amp; M_FW_RI_RES_WR_IQANUD)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQANDSTINDEX	0</span>
<span class="cp">#define M_FW_RI_RES_WR_IQANDSTINDEX	0xfff</span>
<span class="cp">#define V_FW_RI_RES_WR_IQANDSTINDEX(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQANDSTINDEX)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQANDSTINDEX(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQANDSTINDEX) &amp; M_FW_RI_RES_WR_IQANDSTINDEX)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQDROPRSS	15</span>
<span class="cp">#define M_FW_RI_RES_WR_IQDROPRSS	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQDROPRSS(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQDROPRSS)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQDROPRSS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQDROPRSS) &amp; M_FW_RI_RES_WR_IQDROPRSS)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQDROPRSS	V_FW_RI_RES_WR_IQDROPRSS(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQGTSMODE	14</span>
<span class="cp">#define M_FW_RI_RES_WR_IQGTSMODE	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQGTSMODE(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQGTSMODE)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQGTSMODE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQGTSMODE) &amp; M_FW_RI_RES_WR_IQGTSMODE)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQGTSMODE	V_FW_RI_RES_WR_IQGTSMODE(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQPCIECH		12</span>
<span class="cp">#define M_FW_RI_RES_WR_IQPCIECH		0x3</span>
<span class="cp">#define V_FW_RI_RES_WR_IQPCIECH(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQPCIECH)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQPCIECH(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQPCIECH) &amp; M_FW_RI_RES_WR_IQPCIECH)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQDCAEN		11</span>
<span class="cp">#define M_FW_RI_RES_WR_IQDCAEN		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQDCAEN(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQDCAEN)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQDCAEN(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQDCAEN) &amp; M_FW_RI_RES_WR_IQDCAEN)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQDCAEN	V_FW_RI_RES_WR_IQDCAEN(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQDCACPU		6</span>
<span class="cp">#define M_FW_RI_RES_WR_IQDCACPU		0x1f</span>
<span class="cp">#define V_FW_RI_RES_WR_IQDCACPU(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQDCACPU)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQDCACPU(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQDCACPU) &amp; M_FW_RI_RES_WR_IQDCACPU)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQINTCNTTHRESH		4</span>
<span class="cp">#define M_FW_RI_RES_WR_IQINTCNTTHRESH		0x3</span>
<span class="cp">#define V_FW_RI_RES_WR_IQINTCNTTHRESH(x)	\</span>
<span class="cp">    ((x) &lt;&lt; S_FW_RI_RES_WR_IQINTCNTTHRESH)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQINTCNTTHRESH(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQINTCNTTHRESH) &amp; M_FW_RI_RES_WR_IQINTCNTTHRESH)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQO	3</span>
<span class="cp">#define M_FW_RI_RES_WR_IQO	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQO(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQO)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQO(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQO) &amp; M_FW_RI_RES_WR_IQO)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQO	V_FW_RI_RES_WR_IQO(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQCPRIO		2</span>
<span class="cp">#define M_FW_RI_RES_WR_IQCPRIO		0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQCPRIO(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQCPRIO)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQCPRIO(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQCPRIO) &amp; M_FW_RI_RES_WR_IQCPRIO)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQCPRIO	V_FW_RI_RES_WR_IQCPRIO(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQESIZE		0</span>
<span class="cp">#define M_FW_RI_RES_WR_IQESIZE		0x3</span>
<span class="cp">#define V_FW_RI_RES_WR_IQESIZE(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQESIZE)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQESIZE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQESIZE) &amp; M_FW_RI_RES_WR_IQESIZE)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQNS	31</span>
<span class="cp">#define M_FW_RI_RES_WR_IQNS	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQNS(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQNS)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQNS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQNS) &amp; M_FW_RI_RES_WR_IQNS)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQNS	V_FW_RI_RES_WR_IQNS(1U)</span>

<span class="cp">#define S_FW_RI_RES_WR_IQRO	30</span>
<span class="cp">#define M_FW_RI_RES_WR_IQRO	0x1</span>
<span class="cp">#define V_FW_RI_RES_WR_IQRO(x)	((x) &lt;&lt; S_FW_RI_RES_WR_IQRO)</span>
<span class="cp">#define G_FW_RI_RES_WR_IQRO(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_RES_WR_IQRO) &amp; M_FW_RI_RES_WR_IQRO)</span>
<span class="cp">#define F_FW_RI_RES_WR_IQRO	V_FW_RI_RES_WR_IQRO(1U)</span>

<span class="k">struct</span> <span class="n">fw_ri_rdma_write_wr</span> <span class="p">{</span>
	<span class="n">__u8</span>   <span class="n">opcode</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u16</span>  <span class="n">wrid</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span>   <span class="n">len16</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r2</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">plen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag_sink</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">to_sink</span><span class="p">;</span>
<span class="cp">#ifndef C99_NOT_SUPPORTED</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_ri_immd</span> <span class="n">immd_src</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="k">struct</span> <span class="n">fw_ri_isgl</span> <span class="n">isgl_src</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_send_wr</span> <span class="p">{</span>
	<span class="n">__u8</span>   <span class="n">opcode</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u16</span>  <span class="n">wrid</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span>   <span class="n">len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">sendop_pkd</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag_inv</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">plen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r3</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r4</span><span class="p">;</span>
<span class="cp">#ifndef C99_NOT_SUPPORTED</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_ri_immd</span> <span class="n">immd_src</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="k">struct</span> <span class="n">fw_ri_isgl</span> <span class="n">isgl_src</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cp">#define S_FW_RI_SEND_WR_SENDOP		0</span>
<span class="cp">#define M_FW_RI_SEND_WR_SENDOP		0xf</span>
<span class="cp">#define V_FW_RI_SEND_WR_SENDOP(x)	((x) &lt;&lt; S_FW_RI_SEND_WR_SENDOP)</span>
<span class="cp">#define G_FW_RI_SEND_WR_SENDOP(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_SEND_WR_SENDOP) &amp; M_FW_RI_SEND_WR_SENDOP)</span>

<span class="k">struct</span> <span class="n">fw_ri_rdma_read_wr</span> <span class="p">{</span>
	<span class="n">__u8</span>   <span class="n">opcode</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u16</span>  <span class="n">wrid</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span>   <span class="n">len16</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r2</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag_sink</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">to_sink_hi</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">to_sink_lo</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">plen</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag_src</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">to_src_hi</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">to_src_lo</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r5</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_recv_wr</span> <span class="p">{</span>
	<span class="n">__u8</span>   <span class="n">opcode</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r1</span><span class="p">;</span>
	<span class="n">__u16</span>  <span class="n">wrid</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r2</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span>   <span class="n">len16</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">fw_ri_isgl</span> <span class="n">isgl</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_bind_mw_wr</span> <span class="p">{</span>
	<span class="n">__u8</span>   <span class="n">opcode</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u16</span>  <span class="n">wrid</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span>   <span class="n">len16</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">qpbinde_to_dcacpu</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">pgsz_shift</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">addr_type</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">mem_perms</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag_mr</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag_mw</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r3</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">len_mw</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">va_fbo</span><span class="p">;</span>
	<span class="n">__be64</span> <span class="n">r4</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define S_FW_RI_BIND_MW_WR_QPBINDE	6</span>
<span class="cp">#define M_FW_RI_BIND_MW_WR_QPBINDE	0x1</span>
<span class="cp">#define V_FW_RI_BIND_MW_WR_QPBINDE(x)	((x) &lt;&lt; S_FW_RI_BIND_MW_WR_QPBINDE)</span>
<span class="cp">#define G_FW_RI_BIND_MW_WR_QPBINDE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_BIND_MW_WR_QPBINDE) &amp; M_FW_RI_BIND_MW_WR_QPBINDE)</span>
<span class="cp">#define F_FW_RI_BIND_MW_WR_QPBINDE	V_FW_RI_BIND_MW_WR_QPBINDE(1U)</span>

<span class="cp">#define S_FW_RI_BIND_MW_WR_NS		5</span>
<span class="cp">#define M_FW_RI_BIND_MW_WR_NS		0x1</span>
<span class="cp">#define V_FW_RI_BIND_MW_WR_NS(x)	((x) &lt;&lt; S_FW_RI_BIND_MW_WR_NS)</span>
<span class="cp">#define G_FW_RI_BIND_MW_WR_NS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_BIND_MW_WR_NS) &amp; M_FW_RI_BIND_MW_WR_NS)</span>
<span class="cp">#define F_FW_RI_BIND_MW_WR_NS	V_FW_RI_BIND_MW_WR_NS(1U)</span>

<span class="cp">#define S_FW_RI_BIND_MW_WR_DCACPU	0</span>
<span class="cp">#define M_FW_RI_BIND_MW_WR_DCACPU	0x1f</span>
<span class="cp">#define V_FW_RI_BIND_MW_WR_DCACPU(x)	((x) &lt;&lt; S_FW_RI_BIND_MW_WR_DCACPU)</span>
<span class="cp">#define G_FW_RI_BIND_MW_WR_DCACPU(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_BIND_MW_WR_DCACPU) &amp; M_FW_RI_BIND_MW_WR_DCACPU)</span>

<span class="k">struct</span> <span class="n">fw_ri_fr_nsmr_wr</span> <span class="p">{</span>
	<span class="n">__u8</span>   <span class="n">opcode</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u16</span>  <span class="n">wrid</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span>   <span class="n">len16</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">qpbinde_to_dcacpu</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">pgsz_shift</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">addr_type</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">mem_perms</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len_hi</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len_lo</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">va_hi</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">va_lo_fbo</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define S_FW_RI_FR_NSMR_WR_QPBINDE	6</span>
<span class="cp">#define M_FW_RI_FR_NSMR_WR_QPBINDE	0x1</span>
<span class="cp">#define V_FW_RI_FR_NSMR_WR_QPBINDE(x)	((x) &lt;&lt; S_FW_RI_FR_NSMR_WR_QPBINDE)</span>
<span class="cp">#define G_FW_RI_FR_NSMR_WR_QPBINDE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_FR_NSMR_WR_QPBINDE) &amp; M_FW_RI_FR_NSMR_WR_QPBINDE)</span>
<span class="cp">#define F_FW_RI_FR_NSMR_WR_QPBINDE	V_FW_RI_FR_NSMR_WR_QPBINDE(1U)</span>

<span class="cp">#define S_FW_RI_FR_NSMR_WR_NS		5</span>
<span class="cp">#define M_FW_RI_FR_NSMR_WR_NS		0x1</span>
<span class="cp">#define V_FW_RI_FR_NSMR_WR_NS(x)	((x) &lt;&lt; S_FW_RI_FR_NSMR_WR_NS)</span>
<span class="cp">#define G_FW_RI_FR_NSMR_WR_NS(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_FR_NSMR_WR_NS) &amp; M_FW_RI_FR_NSMR_WR_NS)</span>
<span class="cp">#define F_FW_RI_FR_NSMR_WR_NS	V_FW_RI_FR_NSMR_WR_NS(1U)</span>

<span class="cp">#define S_FW_RI_FR_NSMR_WR_DCACPU	0</span>
<span class="cp">#define M_FW_RI_FR_NSMR_WR_DCACPU	0x1f</span>
<span class="cp">#define V_FW_RI_FR_NSMR_WR_DCACPU(x)	((x) &lt;&lt; S_FW_RI_FR_NSMR_WR_DCACPU)</span>
<span class="cp">#define G_FW_RI_FR_NSMR_WR_DCACPU(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_FR_NSMR_WR_DCACPU) &amp; M_FW_RI_FR_NSMR_WR_DCACPU)</span>

<span class="k">struct</span> <span class="n">fw_ri_inv_lstag_wr</span> <span class="p">{</span>
	<span class="n">__u8</span>   <span class="n">opcode</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">flags</span><span class="p">;</span>
	<span class="n">__u16</span>  <span class="n">wrid</span><span class="p">;</span>
	<span class="n">__u8</span>   <span class="n">r1</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__u8</span>   <span class="n">len16</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">r2</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">stag_inv</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_type</span> <span class="p">{</span>
	<span class="n">FW_RI_TYPE_INIT</span><span class="p">,</span>
	<span class="n">FW_RI_TYPE_FINI</span><span class="p">,</span>
	<span class="n">FW_RI_TYPE_TERMINATE</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">fw_ri_init_p2ptype</span> <span class="p">{</span>
	<span class="n">FW_RI_INIT_P2PTYPE_RDMA_WRITE</span>		<span class="o">=</span> <span class="n">FW_RI_RDMA_WRITE</span><span class="p">,</span>
	<span class="n">FW_RI_INIT_P2PTYPE_READ_REQ</span>		<span class="o">=</span> <span class="n">FW_RI_READ_REQ</span><span class="p">,</span>
	<span class="n">FW_RI_INIT_P2PTYPE_SEND</span>			<span class="o">=</span> <span class="n">FW_RI_SEND</span><span class="p">,</span>
	<span class="n">FW_RI_INIT_P2PTYPE_SEND_WITH_INV</span>	<span class="o">=</span> <span class="n">FW_RI_SEND_WITH_INV</span><span class="p">,</span>
	<span class="n">FW_RI_INIT_P2PTYPE_SEND_WITH_SE</span>		<span class="o">=</span> <span class="n">FW_RI_SEND_WITH_SE</span><span class="p">,</span>
	<span class="n">FW_RI_INIT_P2PTYPE_SEND_WITH_SE_INV</span>	<span class="o">=</span> <span class="n">FW_RI_SEND_WITH_SE_INV</span><span class="p">,</span>
	<span class="n">FW_RI_INIT_P2PTYPE_DISABLED</span>		<span class="o">=</span> <span class="mh">0xf</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fw_ri_wr</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">op_compl</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">flowid_len16</span><span class="p">;</span>
	<span class="n">__u64</span>  <span class="n">cookie</span><span class="p">;</span>
	<span class="k">union</span> <span class="n">fw_ri</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">fw_ri_init</span> <span class="p">{</span>
			<span class="n">__u8</span>   <span class="n">type</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">mpareqbit_p2ptype</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">r4</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
			<span class="n">__u8</span>   <span class="n">mpa_attrs</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">qp_caps</span><span class="p">;</span>
			<span class="n">__be16</span> <span class="n">nrqe</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">pdid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">qpid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">sq_eqid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">rq_eqid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">scqid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">rcqid</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ord_max</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">ird_max</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">iss</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">irs</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">hwrqsize</span><span class="p">;</span>
			<span class="n">__be32</span> <span class="n">hwrqaddr</span><span class="p">;</span>
			<span class="n">__be64</span> <span class="n">r5</span><span class="p">;</span>
			<span class="k">union</span> <span class="n">fw_ri_init_p2p</span> <span class="p">{</span>
				<span class="k">struct</span> <span class="n">fw_ri_rdma_write_wr</span> <span class="n">write</span><span class="p">;</span>
				<span class="k">struct</span> <span class="n">fw_ri_rdma_read_wr</span> <span class="n">read</span><span class="p">;</span>
				<span class="k">struct</span> <span class="n">fw_ri_send_wr</span> <span class="n">send</span><span class="p">;</span>
			<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">init</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_ri_fini</span> <span class="p">{</span>
			<span class="n">__u8</span>   <span class="n">type</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">r3</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
			<span class="n">__be64</span> <span class="n">r4</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">fini</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">fw_ri_terminate</span> <span class="p">{</span>
			<span class="n">__u8</span>   <span class="n">type</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">r3</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
			<span class="n">__be32</span> <span class="n">immdlen</span><span class="p">;</span>
			<span class="n">__u8</span>   <span class="n">termmsg</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">terminate</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define S_FW_RI_WR_MPAREQBIT	7</span>
<span class="cp">#define M_FW_RI_WR_MPAREQBIT	0x1</span>
<span class="cp">#define V_FW_RI_WR_MPAREQBIT(x)	((x) &lt;&lt; S_FW_RI_WR_MPAREQBIT)</span>
<span class="cp">#define G_FW_RI_WR_MPAREQBIT(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_WR_MPAREQBIT) &amp; M_FW_RI_WR_MPAREQBIT)</span>
<span class="cp">#define F_FW_RI_WR_MPAREQBIT	V_FW_RI_WR_MPAREQBIT(1U)</span>

<span class="cp">#define S_FW_RI_WR_P2PTYPE	0</span>
<span class="cp">#define M_FW_RI_WR_P2PTYPE	0xf</span>
<span class="cp">#define V_FW_RI_WR_P2PTYPE(x)	((x) &lt;&lt; S_FW_RI_WR_P2PTYPE)</span>
<span class="cp">#define G_FW_RI_WR_P2PTYPE(x)	\</span>
<span class="cp">    (((x) &gt;&gt; S_FW_RI_WR_P2PTYPE) &amp; M_FW_RI_WR_P2PTYPE)</span>

<span class="k">struct</span> <span class="n">tcp_options</span> <span class="p">{</span>
	<span class="n">__be16</span> <span class="n">mss</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">wsf</span><span class="p">;</span>
<span class="cp">#if defined(__LITTLE_ENDIAN_BITFIELD)</span>
	<span class="nl">__u8:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">unknown</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="nl">__u8:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sack</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">tstamp</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">__u8</span> <span class="n">tstamp</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">sack</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="nl">__u8:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">unknown</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="nl">__u8:</span><span class="mi">4</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">cpl_pass_accept_req</span> <span class="p">{</span>
	<span class="k">union</span> <span class="n">opcode_tid</span> <span class="n">ot</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">rsvd</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">len</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">hdr_len</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">vlan</span><span class="p">;</span>
	<span class="n">__be16</span> <span class="n">l2info</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">tos_stid</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">tcp_options</span> <span class="n">tcpopt</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* cpl_pass_accept_req.hdr_len fields */</span>
<span class="cp">#define S_SYN_RX_CHAN    0</span>
<span class="cp">#define M_SYN_RX_CHAN    0xF</span>
<span class="cp">#define V_SYN_RX_CHAN(x) ((x) &lt;&lt; S_SYN_RX_CHAN)</span>
<span class="cp">#define G_SYN_RX_CHAN(x) (((x) &gt;&gt; S_SYN_RX_CHAN) &amp; M_SYN_RX_CHAN)</span>

<span class="cp">#define S_TCP_HDR_LEN    10</span>
<span class="cp">#define M_TCP_HDR_LEN    0x3F</span>
<span class="cp">#define V_TCP_HDR_LEN(x) ((x) &lt;&lt; S_TCP_HDR_LEN)</span>
<span class="cp">#define G_TCP_HDR_LEN(x) (((x) &gt;&gt; S_TCP_HDR_LEN) &amp; M_TCP_HDR_LEN)</span>

<span class="cp">#define S_IP_HDR_LEN    16</span>
<span class="cp">#define M_IP_HDR_LEN    0x3FF</span>
<span class="cp">#define V_IP_HDR_LEN(x) ((x) &lt;&lt; S_IP_HDR_LEN)</span>
<span class="cp">#define G_IP_HDR_LEN(x) (((x) &gt;&gt; S_IP_HDR_LEN) &amp; M_IP_HDR_LEN)</span>

<span class="cp">#define S_ETH_HDR_LEN    26</span>
<span class="cp">#define M_ETH_HDR_LEN    0x1F</span>
<span class="cp">#define V_ETH_HDR_LEN(x) ((x) &lt;&lt; S_ETH_HDR_LEN)</span>
<span class="cp">#define G_ETH_HDR_LEN(x) (((x) &gt;&gt; S_ETH_HDR_LEN) &amp; M_ETH_HDR_LEN)</span>

<span class="cm">/* cpl_pass_accept_req.l2info fields */</span>
<span class="cp">#define S_SYN_MAC_IDX    0</span>
<span class="cp">#define M_SYN_MAC_IDX    0x1FF</span>
<span class="cp">#define V_SYN_MAC_IDX(x) ((x) &lt;&lt; S_SYN_MAC_IDX)</span>
<span class="cp">#define G_SYN_MAC_IDX(x) (((x) &gt;&gt; S_SYN_MAC_IDX) &amp; M_SYN_MAC_IDX)</span>

<span class="cp">#define S_SYN_XACT_MATCH    9</span>
<span class="cp">#define V_SYN_XACT_MATCH(x) ((x) &lt;&lt; S_SYN_XACT_MATCH)</span>
<span class="cp">#define F_SYN_XACT_MATCH    V_SYN_XACT_MATCH(1U)</span>

<span class="cp">#define S_SYN_INTF    12</span>
<span class="cp">#define M_SYN_INTF    0xF</span>
<span class="cp">#define V_SYN_INTF(x) ((x) &lt;&lt; S_SYN_INTF)</span>
<span class="cp">#define G_SYN_INTF(x) (((x) &gt;&gt; S_SYN_INTF) &amp; M_SYN_INTF)</span>

<span class="k">struct</span> <span class="n">ulptx_idata</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">cmd_more</span><span class="p">;</span>
	<span class="n">__be32</span> <span class="n">len</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define S_ULPTX_NSGE    0</span>
<span class="cp">#define M_ULPTX_NSGE    0xFFFF</span>
<span class="cp">#define V_ULPTX_NSGE(x) ((x) &lt;&lt; S_ULPTX_NSGE)</span>

<span class="cp">#define S_RX_DACK_MODE    29</span>
<span class="cp">#define M_RX_DACK_MODE    0x3</span>
<span class="cp">#define V_RX_DACK_MODE(x) ((x) &lt;&lt; S_RX_DACK_MODE)</span>
<span class="cp">#define G_RX_DACK_MODE(x) (((x) &gt;&gt; S_RX_DACK_MODE) &amp; M_RX_DACK_MODE)</span>

<span class="cp">#define S_RX_DACK_CHANGE    31</span>
<span class="cp">#define V_RX_DACK_CHANGE(x) ((x) &lt;&lt; S_RX_DACK_CHANGE)</span>
<span class="cp">#define F_RX_DACK_CHANGE    V_RX_DACK_CHANGE(1U)</span>

<span class="cp">#endif </span><span class="cm">/* _T4FW_RI_API_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
