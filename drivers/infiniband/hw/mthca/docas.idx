f | mthca_qp.c | s | 60K | 1938 | Goldwyn Rodrigues | rgoldwyn@suse.de | 1310762000 |  | IB/mthca: Stop returning separate error and status from FW commands  Instead of having firmware command functions return an error and also a status, leading to code like:  	err = mthca_FW_COMMAND(..., &status); 	if (err) 		goto out;         if (status) { 		err = -E...; 		goto out; 	}  all over the place, just handle the FW status inside the FW command handling code (the way mlx4 does it), so we can simply write:  	err = mthca_FW_COMMAND(...); 	if (err) 		goto out;  In addition to simplifying the source code, this also saves a healthy chunk of text:      add/remove: 0/0 grow/shrink: 10/88 up/down: 510/-3357 (-2847)     function                                     old     new   delta     static.trans_table                           324     584    +260     mthca_cmd_poll                               352     477    +125     mthca_cmd_wait                               511     567     +56     mthca_table_put                              213     240     +27     mthca_cleanup_db_tab                         372     387     +15     __mthca_remove_one                           314     323      +9     mthca_cleanup_user_db_tab                    275     283      +8     __mthca_init_one                            1738    1746      +8     mthca_cleanup                                 20      21      +1     mthca_MAD_IFC                               1081    1082      +1     mthca_MGID_HASH                               43      40      -3     mthca_MAP_ICM_AUX                             23      20      -3     mthca_MAP_ICM                                 19      16      -3     mthca_MAP_FA                                  23      20      -3     mthca_READ_MGM                                43      38      -5     mthca_QUERY_SRQ                               43      38      -5     mthca_QUERY_QP                                59      54      -5     mthca_HW2SW_SRQ                               43      38      -5     mthca_HW2SW_MPT                               60      55      -5     mthca_HW2SW_EQ                                43      38      -5     mthca_HW2SW_CQ                                43      38      -5     mthca_free_icm_table                         120     114      -6     mthca_query_srq                              214     206      -8     mthca_free_qp                                662     654      -8     mthca_cmd                                     38      28     -10     mthca_alloc_db                              1321    1311     -10     mthca_setup_hca                             1067    1055     -12     mthca_WRITE_MTT                               35      22     -13     mthca_WRITE_MGM                               40      27     -13     mthca_UNMAP_ICM_AUX                           36      23     -13     mthca_UNMAP_FA                                36      23     -13     mthca_SYS_DIS                                 36      23     -13     mthca_SYNC_TPT                                36      23     -13     mthca_SW2HW_SRQ                               35      22     -13     mthca_SW2HW_MPT                               35      22     -13     mthca_SW2HW_EQ                                35      22     -13     mthca_SW2HW_CQ                                35      22     -13     mthca_RUN_FW                                  36      23     -13     mthca_DISABLE_LAM                             36      23     -13     mthca_CLOSE_IB                                36      23     -13     mthca_CLOSE_HCA                               38      25     -13     mthca_ARM_SRQ                                 39      26     -13     mthca_free_icms                              178     164     -14     mthca_QUERY_DDR                              389     375     -14     mthca_resize_cq                             1063    1048     -15     mthca_unmap_eq_icm                           123     107     -16     mthca_map_eq_icm                             396     380     -16     mthca_cmd_box                                 90      74     -16     mthca_SET_IB                                 433     417     -16     mthca_RESIZE_CQ                              369     353     -16     mthca_MAP_ICM_page                           240     224     -16     mthca_MAP_EQ                                 183     167     -16     mthca_INIT_IB                                473     457     -16     mthca_INIT_HCA                               745     729     -16     mthca_map_user_db                            816     798     -18     mthca_SYS_EN                                 157     139     -18     mthca_cleanup_qp_table                        78      59     -19     mthca_cleanup_eq_table                       168     149     -19     mthca_UNMAP_ICM                              143     121     -22     mthca_modify_srq                             172     149     -23     mthca_unmap_fmr                              198     174     -24     mthca_query_qp                               814     790     -24     mthca_query_pkey                             343     319     -24     mthca_SET_ICM_SIZE                            34      10     -24     mthca_QUERY_DEV_LIM                         1870    1846     -24     mthca_map_cmd                               1130    1105     -25     mthca_ENABLE_LAM                             401     375     -26     mthca_modify_port                            247     220     -27     mthca_query_device                           884     850     -34     mthca_NOP                                     75      41     -34     mthca_table_get                              287     249     -38     mthca_init_qp_table                          333     293     -40     mthca_MODIFY_QP                              348     308     -40     mthca_close_hca                              131      89     -42     mthca_free_eq                                435     390     -45     mthca_query_port                             755     705     -50     mthca_free_cq                                581     528     -53     mthca_alloc_icm_table                        578     524     -54     mthca_multicast_attach                      1041     986     -55     mthca_init_hca                               326     271     -55     mthca_query_gid                              487     431     -56     mthca_free_srq                               524     468     -56     mthca_free_mr                                168     111     -57     mthca_create_eq                             1560    1501     -59     mthca_multicast_detach                       790     728     -62     mthca_write_mtt                              918     854     -64     mthca_register_device                       1406    1342     -64     mthca_fmr_alloc                              947     883     -64     mthca_mr_alloc                               652     582     -70     mthca_process_mad                           1242    1164     -78     mthca_dev_lim                                910     830     -80     find_mgm                                     482     400     -82     mthca_modify_qp                             3852    3753     -99     mthca_init_cq                               1281    1181    -100     mthca_alloc_srq                             1719    1610    -109     mthca_init_eq_table                         1807    1679    -128     mthca_init_tavor                             761     491    -270     mthca_init_arbel                            2617    2098    -519  Signed-off-by: Goldwyn Rodrigues <rgoldwyn@suse.de>
f | mthca_srq.c | s | 16K | 566 | Goldwyn Rodrigues | rgoldwyn@suse.de | 1310762000 |  | IB/mthca: Stop returning separate error and status from FW commands  Instead of having firmware command functions return an error and also a status, leading to code like:  	err = mthca_FW_COMMAND(..., &status); 	if (err) 		goto out;         if (status) { 		err = -E...; 		goto out; 	}  all over the place, just handle the FW status inside the FW command handling code (the way mlx4 does it), so we can simply write:  	err = mthca_FW_COMMAND(...); 	if (err) 		goto out;  In addition to simplifying the source code, this also saves a healthy chunk of text:      add/remove: 0/0 grow/shrink: 10/88 up/down: 510/-3357 (-2847)     function                                     old     new   delta     static.trans_table                           324     584    +260     mthca_cmd_poll                               352     477    +125     mthca_cmd_wait                               511     567     +56     mthca_table_put                              213     240     +27     mthca_cleanup_db_tab                         372     387     +15     __mthca_remove_one                           314     323      +9     mthca_cleanup_user_db_tab                    275     283      +8     __mthca_init_one                            1738    1746      +8     mthca_cleanup                                 20      21      +1     mthca_MAD_IFC                               1081    1082      +1     mthca_MGID_HASH                               43      40      -3     mthca_MAP_ICM_AUX                             23      20      -3     mthca_MAP_ICM                                 19      16      -3     mthca_MAP_FA                                  23      20      -3     mthca_READ_MGM                                43      38      -5     mthca_QUERY_SRQ                               43      38      -5     mthca_QUERY_QP                                59      54      -5     mthca_HW2SW_SRQ                               43      38      -5     mthca_HW2SW_MPT                               60      55      -5     mthca_HW2SW_EQ                                43      38      -5     mthca_HW2SW_CQ                                43      38      -5     mthca_free_icm_table                         120     114      -6     mthca_query_srq                              214     206      -8     mthca_free_qp                                662     654      -8     mthca_cmd                                     38      28     -10     mthca_alloc_db                              1321    1311     -10     mthca_setup_hca                             1067    1055     -12     mthca_WRITE_MTT                               35      22     -13     mthca_WRITE_MGM                               40      27     -13     mthca_UNMAP_ICM_AUX                           36      23     -13     mthca_UNMAP_FA                                36      23     -13     mthca_SYS_DIS                                 36      23     -13     mthca_SYNC_TPT                                36      23     -13     mthca_SW2HW_SRQ                               35      22     -13     mthca_SW2HW_MPT                               35      22     -13     mthca_SW2HW_EQ                                35      22     -13     mthca_SW2HW_CQ                                35      22     -13     mthca_RUN_FW                                  36      23     -13     mthca_DISABLE_LAM                             36      23     -13     mthca_CLOSE_IB                                36      23     -13     mthca_CLOSE_HCA                               38      25     -13     mthca_ARM_SRQ                                 39      26     -13     mthca_free_icms                              178     164     -14     mthca_QUERY_DDR                              389     375     -14     mthca_resize_cq                             1063    1048     -15     mthca_unmap_eq_icm                           123     107     -16     mthca_map_eq_icm                             396     380     -16     mthca_cmd_box                                 90      74     -16     mthca_SET_IB                                 433     417     -16     mthca_RESIZE_CQ                              369     353     -16     mthca_MAP_ICM_page                           240     224     -16     mthca_MAP_EQ                                 183     167     -16     mthca_INIT_IB                                473     457     -16     mthca_INIT_HCA                               745     729     -16     mthca_map_user_db                            816     798     -18     mthca_SYS_EN                                 157     139     -18     mthca_cleanup_qp_table                        78      59     -19     mthca_cleanup_eq_table                       168     149     -19     mthca_UNMAP_ICM                              143     121     -22     mthca_modify_srq                             172     149     -23     mthca_unmap_fmr                              198     174     -24     mthca_query_qp                               814     790     -24     mthca_query_pkey                             343     319     -24     mthca_SET_ICM_SIZE                            34      10     -24     mthca_QUERY_DEV_LIM                         1870    1846     -24     mthca_map_cmd                               1130    1105     -25     mthca_ENABLE_LAM                             401     375     -26     mthca_modify_port                            247     220     -27     mthca_query_device                           884     850     -34     mthca_NOP                                     75      41     -34     mthca_table_get                              287     249     -38     mthca_init_qp_table                          333     293     -40     mthca_MODIFY_QP                              348     308     -40     mthca_close_hca                              131      89     -42     mthca_free_eq                                435     390     -45     mthca_query_port                             755     705     -50     mthca_free_cq                                581     528     -53     mthca_alloc_icm_table                        578     524     -54     mthca_multicast_attach                      1041     986     -55     mthca_init_hca                               326     271     -55     mthca_query_gid                              487     431     -56     mthca_free_srq                               524     468     -56     mthca_free_mr                                168     111     -57     mthca_create_eq                             1560    1501     -59     mthca_multicast_detach                       790     728     -62     mthca_write_mtt                              918     854     -64     mthca_register_device                       1406    1342     -64     mthca_fmr_alloc                              947     883     -64     mthca_mr_alloc                               652     582     -70     mthca_process_mad                           1242    1164     -78     mthca_dev_lim                                910     830     -80     find_mgm                                     482     400     -82     mthca_modify_qp                             3852    3753     -99     mthca_init_cq                               1281    1181    -100     mthca_alloc_srq                             1719    1610    -109     mthca_init_eq_table                         1807    1679    -128     mthca_init_tavor                             761     491    -270     mthca_init_arbel                            2617    2098    -519  Signed-off-by: Goldwyn Rodrigues <rgoldwyn@suse.de>
f | mthca_doorbell.h | s | 3.4K | 93 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | Makefile | g | 310B |  | Roland Dreier | rolandd@cisco.com | 1144013960 |  | IB/mthca: Always build debugging code unless CONFIG_EMBEDDED=y  Change the mthca debugging trace output code so that it can enabled and disabled at runtime with the debug_level module parameter in sysfs.  Also, don't allow CONFIG_INFINIBAND_MTHCA_DEBUG to be disabled unless CONFIG_EMBEDDED is selected.  We want users (and especially distros) to have this turned on unless they really need to save space, because by the time we want debugging output, it's usually too late to rebuild a kernel.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_mcg.c | s | 7.9K | 282 | Goldwyn Rodrigues | rgoldwyn@suse.de | 1310762000 |  | IB/mthca: Stop returning separate error and status from FW commands  Instead of having firmware command functions return an error and also a status, leading to code like:  	err = mthca_FW_COMMAND(..., &status); 	if (err) 		goto out;         if (status) { 		err = -E...; 		goto out; 	}  all over the place, just handle the FW status inside the FW command handling code (the way mlx4 does it), so we can simply write:  	err = mthca_FW_COMMAND(...); 	if (err) 		goto out;  In addition to simplifying the source code, this also saves a healthy chunk of text:      add/remove: 0/0 grow/shrink: 10/88 up/down: 510/-3357 (-2847)     function                                     old     new   delta     static.trans_table                           324     584    +260     mthca_cmd_poll                               352     477    +125     mthca_cmd_wait                               511     567     +56     mthca_table_put                              213     240     +27     mthca_cleanup_db_tab                         372     387     +15     __mthca_remove_one                           314     323      +9     mthca_cleanup_user_db_tab                    275     283      +8     __mthca_init_one                            1738    1746      +8     mthca_cleanup                                 20      21      +1     mthca_MAD_IFC                               1081    1082      +1     mthca_MGID_HASH                               43      40      -3     mthca_MAP_ICM_AUX                             23      20      -3     mthca_MAP_ICM                                 19      16      -3     mthca_MAP_FA                                  23      20      -3     mthca_READ_MGM                                43      38      -5     mthca_QUERY_SRQ                               43      38      -5     mthca_QUERY_QP                                59      54      -5     mthca_HW2SW_SRQ                               43      38      -5     mthca_HW2SW_MPT                               60      55      -5     mthca_HW2SW_EQ                                43      38      -5     mthca_HW2SW_CQ                                43      38      -5     mthca_free_icm_table                         120     114      -6     mthca_query_srq                              214     206      -8     mthca_free_qp                                662     654      -8     mthca_cmd                                     38      28     -10     mthca_alloc_db                              1321    1311     -10     mthca_setup_hca                             1067    1055     -12     mthca_WRITE_MTT                               35      22     -13     mthca_WRITE_MGM                               40      27     -13     mthca_UNMAP_ICM_AUX                           36      23     -13     mthca_UNMAP_FA                                36      23     -13     mthca_SYS_DIS                                 36      23     -13     mthca_SYNC_TPT                                36      23     -13     mthca_SW2HW_SRQ                               35      22     -13     mthca_SW2HW_MPT                               35      22     -13     mthca_SW2HW_EQ                                35      22     -13     mthca_SW2HW_CQ                                35      22     -13     mthca_RUN_FW                                  36      23     -13     mthca_DISABLE_LAM                             36      23     -13     mthca_CLOSE_IB                                36      23     -13     mthca_CLOSE_HCA                               38      25     -13     mthca_ARM_SRQ                                 39      26     -13     mthca_free_icms                              178     164     -14     mthca_QUERY_DDR                              389     375     -14     mthca_resize_cq                             1063    1048     -15     mthca_unmap_eq_icm                           123     107     -16     mthca_map_eq_icm                             396     380     -16     mthca_cmd_box                                 90      74     -16     mthca_SET_IB                                 433     417     -16     mthca_RESIZE_CQ                              369     353     -16     mthca_MAP_ICM_page                           240     224     -16     mthca_MAP_EQ                                 183     167     -16     mthca_INIT_IB                                473     457     -16     mthca_INIT_HCA                               745     729     -16     mthca_map_user_db                            816     798     -18     mthca_SYS_EN                                 157     139     -18     mthca_cleanup_qp_table                        78      59     -19     mthca_cleanup_eq_table                       168     149     -19     mthca_UNMAP_ICM                              143     121     -22     mthca_modify_srq                             172     149     -23     mthca_unmap_fmr                              198     174     -24     mthca_query_qp                               814     790     -24     mthca_query_pkey                             343     319     -24     mthca_SET_ICM_SIZE                            34      10     -24     mthca_QUERY_DEV_LIM                         1870    1846     -24     mthca_map_cmd                               1130    1105     -25     mthca_ENABLE_LAM                             401     375     -26     mthca_modify_port                            247     220     -27     mthca_query_device                           884     850     -34     mthca_NOP                                     75      41     -34     mthca_table_get                              287     249     -38     mthca_init_qp_table                          333     293     -40     mthca_MODIFY_QP                              348     308     -40     mthca_close_hca                              131      89     -42     mthca_free_eq                                435     390     -45     mthca_query_port                             755     705     -50     mthca_free_cq                                581     528     -53     mthca_alloc_icm_table                        578     524     -54     mthca_multicast_attach                      1041     986     -55     mthca_init_hca                               326     271     -55     mthca_query_gid                              487     431     -56     mthca_free_srq                               524     468     -56     mthca_free_mr                                168     111     -57     mthca_create_eq                             1560    1501     -59     mthca_multicast_detach                       790     728     -62     mthca_write_mtt                              918     854     -64     mthca_register_device                       1406    1342     -64     mthca_fmr_alloc                              947     883     -64     mthca_mr_alloc                               652     582     -70     mthca_process_mad                           1242    1164     -78     mthca_dev_lim                                910     830     -80     find_mgm                                     482     400     -82     mthca_modify_qp                             3852    3753     -99     mthca_init_cq                               1281    1181    -100     mthca_alloc_srq                             1719    1610    -109     mthca_init_eq_table                         1807    1679    -128     mthca_init_tavor                             761     491    -270     mthca_init_arbel                            2617    2098    -519  Signed-off-by: Goldwyn Rodrigues <rgoldwyn@suse.de>
f | mthca_dev.h | s | 18K | 525 | Jack Morgenstein | jackm@dev.mellanox.co.il | 1252208176 |  | IB/mthca: Don't allow userspace open while recovering from catastrophic error  Userspace apps are supposed to release all ib device resources if they receive a fatal async event (IBV_EVENT_DEVICE_FATAL).  However, the app has no way of knowing when the device has come back up, except to repeatedly attempt ibv_open_device() until it succeeds.  However, currently there is no protection against the open succeeding while the device is in being removed following the fatal event.  In this case, the open will succeed, but as a result the device waits in the middle of its removal until the new app releases its resources -- and the new app will not do so, since the open succeeded at a point following the fatal event generation.  This patch adds an "active" flag to the device. The active flag is set to false (in the fatal event flow) before the "fatal" event is generated, so any subsequent ibv_dev_open() call to the device will fail until the device comes back up, thus preventing the above deadlock.  Signed-off-by: Jack Morgenstein <jackm@dev.mellanox.co.il> Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_profile.h | s | 2.0K | 54 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_memfree.h | s | 5.6K | 155 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_provider.c | s | 35K | 1133 | Linus Torvalds | torvalds@linux-foundation.org | 1320637487 |  | Merge branch 'modsplit-Oct31_2011' of git://git.kernel.org/pub/scm/linux/kernel/git/paulg/linux  * 'modsplit-Oct31_2011' of git://git.kernel.org/pub/scm/linux/kernel/git/paulg/linux: (230 commits)   Revert "tracing: Include module.h in define_trace.h"   irq: don't put module.h into irq.h for tracking irqgen modules.   bluetooth: macroize two small inlines to avoid module.h   ip_vs.h: fix implicit use of module_get/module_put from module.h   nf_conntrack.h: fix up fallout from implicit moduleparam.h presence   include: replace linux/module.h with "struct module" wherever possible   include: convert various register fcns to macros to avoid include chaining   crypto.h: remove unused crypto_tfm_alg_modname() inline   uwb.h: fix implicit use of asm/page.h for PAGE_SIZE   pm_runtime.h: explicitly requires notifier.h   linux/dmaengine.h: fix implicit use of bitmap.h and asm/page.h   miscdevice.h: fix up implicit use of lists and types   stop_machine.h: fix implicit use of smp.h for smp_processor_id   of: fix implicit use of errno.h in include/linux/of.h   of_platform.h: delete needless include <linux/module.h>   acpi: remove module.h include from platform/aclinux.h   miscdevice.h: delete unnecessary inclusion of module.h   device_cgroup.h: delete needless include <linux/module.h>   net: sch_generic remove redundant use of <linux/module.h>   net: inet_timewait_sock doesnt need <linux/module.h>   ...  Fix up trivial conflicts (other header files, and  removal of the ab3550 mfd driver) in  - drivers/media/dvb/frontends/dibx000_common.c  - drivers/media/video/{mt9m111.c,ov6650.c}  - drivers/mfd/ab3550-core.c  - include/linux/dmaengine.h
f | mthca_catas.c | s | 5.2K | 166 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103895 |  | infiniband: Fix up module files that need to include module.h  They had been getting it implicitly via device.h but we can't rely on that for the future, due to a pending cleanup so fix it now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | mthca_memfree.c | s | 17K | 607 | Goldwyn Rodrigues | rgoldwyn@suse.de | 1310762000 |  | IB/mthca: Stop returning separate error and status from FW commands  Instead of having firmware command functions return an error and also a status, leading to code like:  	err = mthca_FW_COMMAND(..., &status); 	if (err) 		goto out;         if (status) { 		err = -E...; 		goto out; 	}  all over the place, just handle the FW status inside the FW command handling code (the way mlx4 does it), so we can simply write:  	err = mthca_FW_COMMAND(...); 	if (err) 		goto out;  In addition to simplifying the source code, this also saves a healthy chunk of text:      add/remove: 0/0 grow/shrink: 10/88 up/down: 510/-3357 (-2847)     function                                     old     new   delta     static.trans_table                           324     584    +260     mthca_cmd_poll                               352     477    +125     mthca_cmd_wait                               511     567     +56     mthca_table_put                              213     240     +27     mthca_cleanup_db_tab                         372     387     +15     __mthca_remove_one                           314     323      +9     mthca_cleanup_user_db_tab                    275     283      +8     __mthca_init_one                            1738    1746      +8     mthca_cleanup                                 20      21      +1     mthca_MAD_IFC                               1081    1082      +1     mthca_MGID_HASH                               43      40      -3     mthca_MAP_ICM_AUX                             23      20      -3     mthca_MAP_ICM                                 19      16      -3     mthca_MAP_FA                                  23      20      -3     mthca_READ_MGM                                43      38      -5     mthca_QUERY_SRQ                               43      38      -5     mthca_QUERY_QP                                59      54      -5     mthca_HW2SW_SRQ                               43      38      -5     mthca_HW2SW_MPT                               60      55      -5     mthca_HW2SW_EQ                                43      38      -5     mthca_HW2SW_CQ                                43      38      -5     mthca_free_icm_table                         120     114      -6     mthca_query_srq                              214     206      -8     mthca_free_qp                                662     654      -8     mthca_cmd                                     38      28     -10     mthca_alloc_db                              1321    1311     -10     mthca_setup_hca                             1067    1055     -12     mthca_WRITE_MTT                               35      22     -13     mthca_WRITE_MGM                               40      27     -13     mthca_UNMAP_ICM_AUX                           36      23     -13     mthca_UNMAP_FA                                36      23     -13     mthca_SYS_DIS                                 36      23     -13     mthca_SYNC_TPT                                36      23     -13     mthca_SW2HW_SRQ                               35      22     -13     mthca_SW2HW_MPT                               35      22     -13     mthca_SW2HW_EQ                                35      22     -13     mthca_SW2HW_CQ                                35      22     -13     mthca_RUN_FW                                  36      23     -13     mthca_DISABLE_LAM                             36      23     -13     mthca_CLOSE_IB                                36      23     -13     mthca_CLOSE_HCA                               38      25     -13     mthca_ARM_SRQ                                 39      26     -13     mthca_free_icms                              178     164     -14     mthca_QUERY_DDR                              389     375     -14     mthca_resize_cq                             1063    1048     -15     mthca_unmap_eq_icm                           123     107     -16     mthca_map_eq_icm                             396     380     -16     mthca_cmd_box                                 90      74     -16     mthca_SET_IB                                 433     417     -16     mthca_RESIZE_CQ                              369     353     -16     mthca_MAP_ICM_page                           240     224     -16     mthca_MAP_EQ                                 183     167     -16     mthca_INIT_IB                                473     457     -16     mthca_INIT_HCA                               745     729     -16     mthca_map_user_db                            816     798     -18     mthca_SYS_EN                                 157     139     -18     mthca_cleanup_qp_table                        78      59     -19     mthca_cleanup_eq_table                       168     149     -19     mthca_UNMAP_ICM                              143     121     -22     mthca_modify_srq                             172     149     -23     mthca_unmap_fmr                              198     174     -24     mthca_query_qp                               814     790     -24     mthca_query_pkey                             343     319     -24     mthca_SET_ICM_SIZE                            34      10     -24     mthca_QUERY_DEV_LIM                         1870    1846     -24     mthca_map_cmd                               1130    1105     -25     mthca_ENABLE_LAM                             401     375     -26     mthca_modify_port                            247     220     -27     mthca_query_device                           884     850     -34     mthca_NOP                                     75      41     -34     mthca_table_get                              287     249     -38     mthca_init_qp_table                          333     293     -40     mthca_MODIFY_QP                              348     308     -40     mthca_close_hca                              131      89     -42     mthca_free_eq                                435     390     -45     mthca_query_port                             755     705     -50     mthca_free_cq                                581     528     -53     mthca_alloc_icm_table                        578     524     -54     mthca_multicast_attach                      1041     986     -55     mthca_init_hca                               326     271     -55     mthca_query_gid                              487     431     -56     mthca_free_srq                               524     468     -56     mthca_free_mr                                168     111     -57     mthca_create_eq                             1560    1501     -59     mthca_multicast_detach                       790     728     -62     mthca_write_mtt                              918     854     -64     mthca_register_device                       1406    1342     -64     mthca_fmr_alloc                              947     883     -64     mthca_mr_alloc                               652     582     -70     mthca_process_mad                           1242    1164     -78     mthca_dev_lim                                910     830     -80     find_mgm                                     482     400     -82     mthca_modify_qp                             3852    3753     -99     mthca_init_cq                               1281    1181    -100     mthca_alloc_srq                             1719    1610    -109     mthca_init_eq_table                         1807    1679    -128     mthca_init_tavor                             761     491    -270     mthca_init_arbel                            2617    2098    -519  Signed-off-by: Goldwyn Rodrigues <rgoldwyn@suse.de>
f | mthca_pd.c | s | 2.5K | 71 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_cmd.c | s | 57K | 1679 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103895 |  | infiniband: Fix up module files that need to include module.h  They had been getting it implicitly via device.h but we can't rely on that for the future, due to a pending cleanup so fix it now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | mthca_cq.c | s | 25K | 842 | Or Gerlitz | ogerlitz@mellanox.com | 1331238867 |  | IB: Change CQE "csum_ok" field to a bit flag  Use a bit in wc_flags rather then a whole integer to hold the "checksum OK" flag.  By itself, this change doesn't reduce the size of struct ib_wc on 64bit machines -- it stays on 56 bytes because of padding.  However, it will allow to add more fields in the future without enlarging the struct.  Also, it will let us have a unified approach with future libibverbs checksum offload reporting, because a bit flag doesn't break the library ABI.  This patch was suggested during conversation with Liran Liss <liranl@mellanox.com>.  Signed-off-by: Or Gerlitz <ogerlitz@mellanox.com> Reviewed-by: Sean Hefty <sean.hefty@intel.com> Signed-off-by: Roland Dreier <roland@purestorage.com>
f | mthca_provider.h | s | 8.9K | 301 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1271888734 |  | IB/mthca: Use the dma state API instead of pci equivalents  The DMA API is preferred; no functional change.  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_av.c | s | 9.9K | 317 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_eq.c | s | 24K | 768 | Goldwyn Rodrigues | rgoldwyn@suse.de | 1310762000 |  | IB/mthca: Stop returning separate error and status from FW commands  Instead of having firmware command functions return an error and also a status, leading to code like:  	err = mthca_FW_COMMAND(..., &status); 	if (err) 		goto out;         if (status) { 		err = -E...; 		goto out; 	}  all over the place, just handle the FW status inside the FW command handling code (the way mlx4 does it), so we can simply write:  	err = mthca_FW_COMMAND(...); 	if (err) 		goto out;  In addition to simplifying the source code, this also saves a healthy chunk of text:      add/remove: 0/0 grow/shrink: 10/88 up/down: 510/-3357 (-2847)     function                                     old     new   delta     static.trans_table                           324     584    +260     mthca_cmd_poll                               352     477    +125     mthca_cmd_wait                               511     567     +56     mthca_table_put                              213     240     +27     mthca_cleanup_db_tab                         372     387     +15     __mthca_remove_one                           314     323      +9     mthca_cleanup_user_db_tab                    275     283      +8     __mthca_init_one                            1738    1746      +8     mthca_cleanup                                 20      21      +1     mthca_MAD_IFC                               1081    1082      +1     mthca_MGID_HASH                               43      40      -3     mthca_MAP_ICM_AUX                             23      20      -3     mthca_MAP_ICM                                 19      16      -3     mthca_MAP_FA                                  23      20      -3     mthca_READ_MGM                                43      38      -5     mthca_QUERY_SRQ                               43      38      -5     mthca_QUERY_QP                                59      54      -5     mthca_HW2SW_SRQ                               43      38      -5     mthca_HW2SW_MPT                               60      55      -5     mthca_HW2SW_EQ                                43      38      -5     mthca_HW2SW_CQ                                43      38      -5     mthca_free_icm_table                         120     114      -6     mthca_query_srq                              214     206      -8     mthca_free_qp                                662     654      -8     mthca_cmd                                     38      28     -10     mthca_alloc_db                              1321    1311     -10     mthca_setup_hca                             1067    1055     -12     mthca_WRITE_MTT                               35      22     -13     mthca_WRITE_MGM                               40      27     -13     mthca_UNMAP_ICM_AUX                           36      23     -13     mthca_UNMAP_FA                                36      23     -13     mthca_SYS_DIS                                 36      23     -13     mthca_SYNC_TPT                                36      23     -13     mthca_SW2HW_SRQ                               35      22     -13     mthca_SW2HW_MPT                               35      22     -13     mthca_SW2HW_EQ                                35      22     -13     mthca_SW2HW_CQ                                35      22     -13     mthca_RUN_FW                                  36      23     -13     mthca_DISABLE_LAM                             36      23     -13     mthca_CLOSE_IB                                36      23     -13     mthca_CLOSE_HCA                               38      25     -13     mthca_ARM_SRQ                                 39      26     -13     mthca_free_icms                              178     164     -14     mthca_QUERY_DDR                              389     375     -14     mthca_resize_cq                             1063    1048     -15     mthca_unmap_eq_icm                           123     107     -16     mthca_map_eq_icm                             396     380     -16     mthca_cmd_box                                 90      74     -16     mthca_SET_IB                                 433     417     -16     mthca_RESIZE_CQ                              369     353     -16     mthca_MAP_ICM_page                           240     224     -16     mthca_MAP_EQ                                 183     167     -16     mthca_INIT_IB                                473     457     -16     mthca_INIT_HCA                               745     729     -16     mthca_map_user_db                            816     798     -18     mthca_SYS_EN                                 157     139     -18     mthca_cleanup_qp_table                        78      59     -19     mthca_cleanup_eq_table                       168     149     -19     mthca_UNMAP_ICM                              143     121     -22     mthca_modify_srq                             172     149     -23     mthca_unmap_fmr                              198     174     -24     mthca_query_qp                               814     790     -24     mthca_query_pkey                             343     319     -24     mthca_SET_ICM_SIZE                            34      10     -24     mthca_QUERY_DEV_LIM                         1870    1846     -24     mthca_map_cmd                               1130    1105     -25     mthca_ENABLE_LAM                             401     375     -26     mthca_modify_port                            247     220     -27     mthca_query_device                           884     850     -34     mthca_NOP                                     75      41     -34     mthca_table_get                              287     249     -38     mthca_init_qp_table                          333     293     -40     mthca_MODIFY_QP                              348     308     -40     mthca_close_hca                              131      89     -42     mthca_free_eq                                435     390     -45     mthca_query_port                             755     705     -50     mthca_free_cq                                581     528     -53     mthca_alloc_icm_table                        578     524     -54     mthca_multicast_attach                      1041     986     -55     mthca_init_hca                               326     271     -55     mthca_query_gid                              487     431     -56     mthca_free_srq                               524     468     -56     mthca_free_mr                                168     111     -57     mthca_create_eq                             1560    1501     -59     mthca_multicast_detach                       790     728     -62     mthca_write_mtt                              918     854     -64     mthca_register_device                       1406    1342     -64     mthca_fmr_alloc                              947     883     -64     mthca_mr_alloc                               652     582     -70     mthca_process_mad                           1242    1164     -78     mthca_dev_lim                                910     830     -80     find_mgm                                     482     400     -82     mthca_modify_qp                             3852    3753     -99     mthca_init_cq                               1281    1181    -100     mthca_alloc_srq                             1719    1610    -109     mthca_init_eq_table                         1807    1679    -128     mthca_init_tavor                             761     491    -270     mthca_init_arbel                            2617    2098    -519  Signed-off-by: Goldwyn Rodrigues <rgoldwyn@suse.de>
f | mthca_profile.c | s | 9.2K | 265 | Eli Cohen | eli@mellanox.co.il | 1243460176 |  | IB/mthca: Add module parameter for number of MTTs per segment  The current MTT allocator uses kmalloc() to allocate a buffer for its buddy allocator, and thus is limited in the amount of MTT segments that it can control.  As a result, the size of memory that can be registered is limited too.  This patch uses a module parameter to control the number of MTT entries that each segment represents, allowing more memory to be registered with the same number of segments.  Signed-off-by: Eli Cohen <eli@mellanox.co.il> Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_cmd.h | s | 10K | 309 | Goldwyn Rodrigues | rgoldwyn@suse.de | 1310762000 |  | IB/mthca: Stop returning separate error and status from FW commands  Instead of having firmware command functions return an error and also a status, leading to code like:  	err = mthca_FW_COMMAND(..., &status); 	if (err) 		goto out;         if (status) { 		err = -E...; 		goto out; 	}  all over the place, just handle the FW status inside the FW command handling code (the way mlx4 does it), so we can simply write:  	err = mthca_FW_COMMAND(...); 	if (err) 		goto out;  In addition to simplifying the source code, this also saves a healthy chunk of text:      add/remove: 0/0 grow/shrink: 10/88 up/down: 510/-3357 (-2847)     function                                     old     new   delta     static.trans_table                           324     584    +260     mthca_cmd_poll                               352     477    +125     mthca_cmd_wait                               511     567     +56     mthca_table_put                              213     240     +27     mthca_cleanup_db_tab                         372     387     +15     __mthca_remove_one                           314     323      +9     mthca_cleanup_user_db_tab                    275     283      +8     __mthca_init_one                            1738    1746      +8     mthca_cleanup                                 20      21      +1     mthca_MAD_IFC                               1081    1082      +1     mthca_MGID_HASH                               43      40      -3     mthca_MAP_ICM_AUX                             23      20      -3     mthca_MAP_ICM                                 19      16      -3     mthca_MAP_FA                                  23      20      -3     mthca_READ_MGM                                43      38      -5     mthca_QUERY_SRQ                               43      38      -5     mthca_QUERY_QP                                59      54      -5     mthca_HW2SW_SRQ                               43      38      -5     mthca_HW2SW_MPT                               60      55      -5     mthca_HW2SW_EQ                                43      38      -5     mthca_HW2SW_CQ                                43      38      -5     mthca_free_icm_table                         120     114      -6     mthca_query_srq                              214     206      -8     mthca_free_qp                                662     654      -8     mthca_cmd                                     38      28     -10     mthca_alloc_db                              1321    1311     -10     mthca_setup_hca                             1067    1055     -12     mthca_WRITE_MTT                               35      22     -13     mthca_WRITE_MGM                               40      27     -13     mthca_UNMAP_ICM_AUX                           36      23     -13     mthca_UNMAP_FA                                36      23     -13     mthca_SYS_DIS                                 36      23     -13     mthca_SYNC_TPT                                36      23     -13     mthca_SW2HW_SRQ                               35      22     -13     mthca_SW2HW_MPT                               35      22     -13     mthca_SW2HW_EQ                                35      22     -13     mthca_SW2HW_CQ                                35      22     -13     mthca_RUN_FW                                  36      23     -13     mthca_DISABLE_LAM                             36      23     -13     mthca_CLOSE_IB                                36      23     -13     mthca_CLOSE_HCA                               38      25     -13     mthca_ARM_SRQ                                 39      26     -13     mthca_free_icms                              178     164     -14     mthca_QUERY_DDR                              389     375     -14     mthca_resize_cq                             1063    1048     -15     mthca_unmap_eq_icm                           123     107     -16     mthca_map_eq_icm                             396     380     -16     mthca_cmd_box                                 90      74     -16     mthca_SET_IB                                 433     417     -16     mthca_RESIZE_CQ                              369     353     -16     mthca_MAP_ICM_page                           240     224     -16     mthca_MAP_EQ                                 183     167     -16     mthca_INIT_IB                                473     457     -16     mthca_INIT_HCA                               745     729     -16     mthca_map_user_db                            816     798     -18     mthca_SYS_EN                                 157     139     -18     mthca_cleanup_qp_table                        78      59     -19     mthca_cleanup_eq_table                       168     149     -19     mthca_UNMAP_ICM                              143     121     -22     mthca_modify_srq                             172     149     -23     mthca_unmap_fmr                              198     174     -24     mthca_query_qp                               814     790     -24     mthca_query_pkey                             343     319     -24     mthca_SET_ICM_SIZE                            34      10     -24     mthca_QUERY_DEV_LIM                         1870    1846     -24     mthca_map_cmd                               1130    1105     -25     mthca_ENABLE_LAM                             401     375     -26     mthca_modify_port                            247     220     -27     mthca_query_device                           884     850     -34     mthca_NOP                                     75      41     -34     mthca_table_get                              287     249     -38     mthca_init_qp_table                          333     293     -40     mthca_MODIFY_QP                              348     308     -40     mthca_close_hca                              131      89     -42     mthca_free_eq                                435     390     -45     mthca_query_port                             755     705     -50     mthca_free_cq                                581     528     -53     mthca_alloc_icm_table                        578     524     -54     mthca_multicast_attach                      1041     986     -55     mthca_init_hca                               326     271     -55     mthca_query_gid                              487     431     -56     mthca_free_srq                               524     468     -56     mthca_free_mr                                168     111     -57     mthca_create_eq                             1560    1501     -59     mthca_multicast_detach                       790     728     -62     mthca_write_mtt                              918     854     -64     mthca_register_device                       1406    1342     -64     mthca_fmr_alloc                              947     883     -64     mthca_mr_alloc                               652     582     -70     mthca_process_mad                           1242    1164     -78     mthca_dev_lim                                910     830     -80     find_mgm                                     482     400     -82     mthca_modify_qp                             3852    3753     -99     mthca_init_cq                               1281    1181    -100     mthca_alloc_srq                             1719    1610    -109     mthca_init_eq_table                         1807    1679    -128     mthca_init_tavor                             761     491    -270     mthca_init_arbel                            2617    2098    -519  Signed-off-by: Goldwyn Rodrigues <rgoldwyn@suse.de>
f | mthca_wqe.h | s | 3.3K | 115 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_main.c | s | 34K | 1054 | Jon Mason | jdmason@kudzu.us | 1311015682 |  | IB/mthca: Remove unnecessary read of PCI_CAP_ID_EXP  The PCIE capability offset is saved during PCI bus walking.  It will remove an unnecessary search in the PCI configuration space if this value is referenced instead of reacquiring it.  Also, pci_is_pcie is a better way of determining if the device is PCIE or not (as it uses the same saved PCIE capability offset).  Signed-off-by: Jon Mason <jdmason@kudzu.us> Signed-off-by: Roland Dreier <roland@purestorage.com>
f | mthca_reset.c | s | 7.5K | 255 | Jon Mason | jdmason@kudzu.us | 1311015682 |  | IB/mthca: Remove unnecessary read of PCI_CAP_ID_EXP  The PCIE capability offset is saved during PCI bus walking.  It will remove an unnecessary search in the PCI configuration space if this value is referenced instead of reacquiring it.  Also, pci_is_pcie is a better way of determining if the device is PCIE or not (as it uses the same saved PCIE capability offset).  Signed-off-by: Jon Mason <jdmason@kudzu.us> Signed-off-by: Roland Dreier <roland@purestorage.com>
f | mthca_config_reg.h | s | 2.0K | 45 | Roland Dreier | rolandd@cisco.com | 1252208173 |  | IB/mthca: Remove unnecessary include of <asm/page.h>  mthca_config_reg.h was including <asm/page.h> for no reason -- the whole file is just defines of constants, so it's entirely self-contained.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | Kconfig | g | 602B |  | David Rientjes | rientjes@google.com | 1295571725 |  | kconfig: rename CONFIG_EMBEDDED to CONFIG_EXPERT  The meaning of CONFIG_EMBEDDED has long since been obsoleted; the option is used to configure any non-standard kernel with a much larger scope than only small devices.  This patch renames the option to CONFIG_EXPERT in init/Kconfig and fixes references to the option throughout the kernel.  A new CONFIG_EMBEDDED option is added that automatically selects CONFIG_EXPERT when enabled and can be used in the future to isolate options that should only be considered for embedded systems (RISC architectures, SLOB, etc).  Calling the option "EXPERT" more accurately represents its intention: only expert users who understand the impact of the configuration changes they are making should enable it.  Reviewed-by: Ingo Molnar <mingo@elte.hu> Acked-by: David Woodhouse <david.woodhouse@intel.com> Signed-off-by: David Rientjes <rientjes@google.com> Cc: Greg KH <gregkh@suse.de> Cc: "David S. Miller" <davem@davemloft.net> Cc: Jens Axboe <axboe@kernel.dk> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Robin Holt <holt@sgi.com> Cc: <linux-arch@vger.kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | mthca_mr.c | s | 23K | 765 | Roland Dreier | roland@purestorage.com | 1320367705 |  | IB/mthca: Fix buddy->num_free allocation size  The num_free field of mthca_buddy has a type of array of unsigned int while it was allocated as an array of pointers.  On 64-bit platforms this allocates twice more than required.  Fix this by allocating the correct size for the type.  This is the same bug just fixed in mlx4 by Eli Cohen <eli@mellanox.co.il>.  Signed-off-by: Roland Dreier <roland@purestorage.com>
f | mthca_user.h | s | 2.9K | 98 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_allocator.c | s | 7.5K | 239 | FUJITA Tomonori | fujita.tomonori@lab.ntt.co.jp | 1271888734 |  | IB/mthca: Use the dma state API instead of pci equivalents  The DMA API is preferred; no functional change.  Signed-off-by: FUJITA Tomonori <fujita.tomonori@lab.ntt.co.jp> Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_uar.c | s | 2.4K | 66 | Roland Dreier | rolandd@cisco.com | 1216104524 |  | RDMA: Remove subversion $Id tags  They don't get updated by git and so they're worse than useless.  Signed-off-by: Roland Dreier <rolandd@cisco.com>
f | mthca_mad.c | s | 9.8K | 295 | Goldwyn Rodrigues | rgoldwyn@suse.de | 1310762000 |  | IB/mthca: Stop returning separate error and status from FW commands  Instead of having firmware command functions return an error and also a status, leading to code like:  	err = mthca_FW_COMMAND(..., &status); 	if (err) 		goto out;         if (status) { 		err = -E...; 		goto out; 	}  all over the place, just handle the FW status inside the FW command handling code (the way mlx4 does it), so we can simply write:  	err = mthca_FW_COMMAND(...); 	if (err) 		goto out;  In addition to simplifying the source code, this also saves a healthy chunk of text:      add/remove: 0/0 grow/shrink: 10/88 up/down: 510/-3357 (-2847)     function                                     old     new   delta     static.trans_table                           324     584    +260     mthca_cmd_poll                               352     477    +125     mthca_cmd_wait                               511     567     +56     mthca_table_put                              213     240     +27     mthca_cleanup_db_tab                         372     387     +15     __mthca_remove_one                           314     323      +9     mthca_cleanup_user_db_tab                    275     283      +8     __mthca_init_one                            1738    1746      +8     mthca_cleanup                                 20      21      +1     mthca_MAD_IFC                               1081    1082      +1     mthca_MGID_HASH                               43      40      -3     mthca_MAP_ICM_AUX                             23      20      -3     mthca_MAP_ICM                                 19      16      -3     mthca_MAP_FA                                  23      20      -3     mthca_READ_MGM                                43      38      -5     mthca_QUERY_SRQ                               43      38      -5     mthca_QUERY_QP                                59      54      -5     mthca_HW2SW_SRQ                               43      38      -5     mthca_HW2SW_MPT                               60      55      -5     mthca_HW2SW_EQ                                43      38      -5     mthca_HW2SW_CQ                                43      38      -5     mthca_free_icm_table                         120     114      -6     mthca_query_srq                              214     206      -8     mthca_free_qp                                662     654      -8     mthca_cmd                                     38      28     -10     mthca_alloc_db                              1321    1311     -10     mthca_setup_hca                             1067    1055     -12     mthca_WRITE_MTT                               35      22     -13     mthca_WRITE_MGM                               40      27     -13     mthca_UNMAP_ICM_AUX                           36      23     -13     mthca_UNMAP_FA                                36      23     -13     mthca_SYS_DIS                                 36      23     -13     mthca_SYNC_TPT                                36      23     -13     mthca_SW2HW_SRQ                               35      22     -13     mthca_SW2HW_MPT                               35      22     -13     mthca_SW2HW_EQ                                35      22     -13     mthca_SW2HW_CQ                                35      22     -13     mthca_RUN_FW                                  36      23     -13     mthca_DISABLE_LAM                             36      23     -13     mthca_CLOSE_IB                                36      23     -13     mthca_CLOSE_HCA                               38      25     -13     mthca_ARM_SRQ                                 39      26     -13     mthca_free_icms                              178     164     -14     mthca_QUERY_DDR                              389     375     -14     mthca_resize_cq                             1063    1048     -15     mthca_unmap_eq_icm                           123     107     -16     mthca_map_eq_icm                             396     380     -16     mthca_cmd_box                                 90      74     -16     mthca_SET_IB                                 433     417     -16     mthca_RESIZE_CQ                              369     353     -16     mthca_MAP_ICM_page                           240     224     -16     mthca_MAP_EQ                                 183     167     -16     mthca_INIT_IB                                473     457     -16     mthca_INIT_HCA                               745     729     -16     mthca_map_user_db                            816     798     -18     mthca_SYS_EN                                 157     139     -18     mthca_cleanup_qp_table                        78      59     -19     mthca_cleanup_eq_table                       168     149     -19     mthca_UNMAP_ICM                              143     121     -22     mthca_modify_srq                             172     149     -23     mthca_unmap_fmr                              198     174     -24     mthca_query_qp                               814     790     -24     mthca_query_pkey                             343     319     -24     mthca_SET_ICM_SIZE                            34      10     -24     mthca_QUERY_DEV_LIM                         1870    1846     -24     mthca_map_cmd                               1130    1105     -25     mthca_ENABLE_LAM                             401     375     -26     mthca_modify_port                            247     220     -27     mthca_query_device                           884     850     -34     mthca_NOP                                     75      41     -34     mthca_table_get                              287     249     -38     mthca_init_qp_table                          333     293     -40     mthca_MODIFY_QP                              348     308     -40     mthca_close_hca                              131      89     -42     mthca_free_eq                                435     390     -45     mthca_query_port                             755     705     -50     mthca_free_cq                                581     528     -53     mthca_alloc_icm_table                        578     524     -54     mthca_multicast_attach                      1041     986     -55     mthca_init_hca                               326     271     -55     mthca_query_gid                              487     431     -56     mthca_free_srq                               524     468     -56     mthca_free_mr                                168     111     -57     mthca_create_eq                             1560    1501     -59     mthca_multicast_detach                       790     728     -62     mthca_write_mtt                              918     854     -64     mthca_register_device                       1406    1342     -64     mthca_fmr_alloc                              947     883     -64     mthca_mr_alloc                               652     582     -70     mthca_process_mad                           1242    1164     -78     mthca_dev_lim                                910     830     -80     find_mgm                                     482     400     -82     mthca_modify_qp                             3852    3753     -99     mthca_init_cq                               1281    1181    -100     mthca_alloc_srq                             1719    1610    -109     mthca_init_eq_table                         1807    1679    -128     mthca_init_tavor                             761     491    -270     mthca_init_arbel                            2617    2098    -519  Signed-off-by: Goldwyn Rodrigues <rgoldwyn@suse.de>
