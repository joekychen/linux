<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › pcmcia › cirrus.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>cirrus.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * cirrus.h 1.4 1999/10/25 20:03:34</span>
<span class="cm"> *</span>
<span class="cm"> * The contents of this file are subject to the Mozilla Public License</span>
<span class="cm"> * Version 1.1 (the &quot;License&quot;); you may not use this file except in</span>
<span class="cm"> * compliance with the License. You may obtain a copy of the License</span>
<span class="cm"> * at http://www.mozilla.org/MPL/</span>
<span class="cm"> *</span>
<span class="cm"> * Software distributed under the License is distributed on an &quot;AS IS&quot;</span>
<span class="cm"> * basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See</span>
<span class="cm"> * the License for the specific language governing rights and</span>
<span class="cm"> * limitations under the License. </span>
<span class="cm"> *</span>
<span class="cm"> * The initial developer of the original code is David A. Hinds</span>
<span class="cm"> * &lt;dahinds@users.sourceforge.net&gt;.  Portions created by David A. Hinds</span>
<span class="cm"> * are Copyright (C) 1999 David A. Hinds.  All Rights Reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Alternatively, the contents of this file may be used under the</span>
<span class="cm"> * terms of the GNU General Public License version 2 (the &quot;GPL&quot;), in which</span>
<span class="cm"> * case the provisions of the GPL are applicable instead of the</span>
<span class="cm"> * above.  If you wish to allow the use of your version of this file</span>
<span class="cm"> * only under the terms of the GPL and not to allow others to use</span>
<span class="cm"> * your version of this file under the MPL, indicate your decision by</span>
<span class="cm"> * deleting the provisions above and replace them with the notice and</span>
<span class="cm"> * other provisions required by the GPL.  If you do not delete the</span>
<span class="cm"> * provisions above, a recipient may use your version of this file</span>
<span class="cm"> * under either the MPL or the GPL.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _LINUX_CIRRUS_H</span>
<span class="cp">#define _LINUX_CIRRUS_H</span>

<span class="cp">#define PD67_MISC_CTL_1		0x16	</span><span class="cm">/* Misc control 1 */</span><span class="cp"></span>
<span class="cp">#define PD67_FIFO_CTL		0x17	</span><span class="cm">/* FIFO control */</span><span class="cp"></span>
<span class="cp">#define PD67_MISC_CTL_2		0x1E	</span><span class="cm">/* Misc control 2 */</span><span class="cp"></span>
<span class="cp">#define PD67_CHIP_INFO		0x1f	</span><span class="cm">/* Chip information */</span><span class="cp"></span>
<span class="cp">#define PD67_ATA_CTL		0x026	</span><span class="cm">/* 6730: ATA control */</span><span class="cp"></span>
<span class="cp">#define PD67_EXT_INDEX		0x2e	</span><span class="cm">/* Extension index */</span><span class="cp"></span>
<span class="cp">#define PD67_EXT_DATA		0x2f	</span><span class="cm">/* Extension data */</span><span class="cp"></span>

<span class="cm">/* PD6722 extension registers -- indexed in PD67_EXT_INDEX */</span>
<span class="cp">#define PD67_DATA_MASK0		0x01	</span><span class="cm">/* Data mask 0 */</span><span class="cp"></span>
<span class="cp">#define PD67_DATA_MASK1		0x02	</span><span class="cm">/* Data mask 1 */</span><span class="cp"></span>
<span class="cp">#define PD67_DMA_CTL		0x03	</span><span class="cm">/* DMA control */</span><span class="cp"></span>

<span class="cm">/* PD6730 extension registers -- indexed in PD67_EXT_INDEX */</span>
<span class="cp">#define PD67_EXT_CTL_1		0x03	</span><span class="cm">/* Extension control 1 */</span><span class="cp"></span>
<span class="cp">#define PD67_MEM_PAGE(n)	((n)+5)	</span><span class="cm">/* PCI window bits 31:24 */</span><span class="cp"></span>
<span class="cp">#define PD67_EXTERN_DATA	0x0a</span>
<span class="cp">#define PD67_MISC_CTL_3		0x25</span>
<span class="cp">#define PD67_SMB_PWR_CTL	0x26</span>

<span class="cm">/* I/O window address offset */</span>
<span class="cp">#define PD67_IO_OFF(w)		(0x36+((w)&lt;&lt;1))</span>

<span class="cm">/* Timing register sets */</span>
<span class="cp">#define PD67_TIME_SETUP(n)	(0x3a + 3*(n))</span>
<span class="cp">#define PD67_TIME_CMD(n)	(0x3b + 3*(n))</span>
<span class="cp">#define PD67_TIME_RECOV(n)	(0x3c + 3*(n))</span>

<span class="cm">/* Flags for PD67_MISC_CTL_1 */</span>
<span class="cp">#define PD67_MC1_5V_DET		0x01	</span><span class="cm">/* 5v detect */</span><span class="cp"></span>
<span class="cp">#define PD67_MC1_MEDIA_ENA	0x01	</span><span class="cm">/* 6730: Multimedia enable */</span><span class="cp"></span>
<span class="cp">#define PD67_MC1_VCC_3V		0x02	</span><span class="cm">/* 3.3v Vcc */</span><span class="cp"></span>
<span class="cp">#define PD67_MC1_PULSE_MGMT	0x04</span>
<span class="cp">#define PD67_MC1_PULSE_IRQ	0x08</span>
<span class="cp">#define PD67_MC1_SPKR_ENA	0x10</span>
<span class="cp">#define PD67_MC1_INPACK_ENA	0x80</span>

<span class="cm">/* Flags for PD67_FIFO_CTL */</span>
<span class="cp">#define PD67_FIFO_EMPTY		0x80</span>

<span class="cm">/* Flags for PD67_MISC_CTL_2 */</span>
<span class="cp">#define PD67_MC2_FREQ_BYPASS	0x01</span>
<span class="cp">#define PD67_MC2_DYNAMIC_MODE	0x02</span>
<span class="cp">#define PD67_MC2_SUSPEND	0x04</span>
<span class="cp">#define PD67_MC2_5V_CORE	0x08</span>
<span class="cp">#define PD67_MC2_LED_ENA	0x10	</span><span class="cm">/* IRQ 12 is LED enable */</span><span class="cp"></span>
<span class="cp">#define PD67_MC2_FAST_PCI	0x10	</span><span class="cm">/* 6729: PCI bus &gt; 25 MHz */</span><span class="cp"></span>
<span class="cp">#define PD67_MC2_3STATE_BIT7	0x20	</span><span class="cm">/* Floppy change bit */</span><span class="cp"></span>
<span class="cp">#define PD67_MC2_DMA_MODE	0x40</span>
<span class="cp">#define PD67_MC2_IRQ15_RI	0x80	</span><span class="cm">/* IRQ 15 is ring enable */</span><span class="cp"></span>

<span class="cm">/* Flags for PD67_CHIP_INFO */</span>
<span class="cp">#define PD67_INFO_SLOTS		0x20	</span><span class="cm">/* 0 = 1 slot, 1 = 2 slots */</span><span class="cp"></span>
<span class="cp">#define PD67_INFO_CHIP_ID	0xc0</span>
<span class="cp">#define PD67_INFO_REV		0x1c</span>

<span class="cm">/* Fields in PD67_TIME_* registers */</span>
<span class="cp">#define PD67_TIME_SCALE		0xc0</span>
<span class="cp">#define PD67_TIME_SCALE_1	0x00</span>
<span class="cp">#define PD67_TIME_SCALE_16	0x40</span>
<span class="cp">#define PD67_TIME_SCALE_256	0x80</span>
<span class="cp">#define PD67_TIME_SCALE_4096	0xc0</span>
<span class="cp">#define PD67_TIME_MULT		0x3f</span>

<span class="cm">/* Fields in PD67_DMA_CTL */</span>
<span class="cp">#define PD67_DMA_MODE		0xc0</span>
<span class="cp">#define PD67_DMA_OFF		0x00</span>
<span class="cp">#define PD67_DMA_DREQ_INPACK	0x40</span>
<span class="cp">#define PD67_DMA_DREQ_WP	0x80</span>
<span class="cp">#define PD67_DMA_DREQ_BVD2	0xc0</span>
<span class="cp">#define PD67_DMA_PULLUP		0x20	</span><span class="cm">/* Disable socket pullups? */</span><span class="cp"></span>

<span class="cm">/* Fields in PD67_EXT_CTL_1 */</span>
<span class="cp">#define PD67_EC1_VCC_PWR_LOCK	0x01</span>
<span class="cp">#define PD67_EC1_AUTO_PWR_CLEAR	0x02</span>
<span class="cp">#define PD67_EC1_LED_ENA	0x04</span>
<span class="cp">#define PD67_EC1_INV_CARD_IRQ	0x08</span>
<span class="cp">#define PD67_EC1_INV_MGMT_IRQ	0x10</span>
<span class="cp">#define PD67_EC1_PULLUP_CTL	0x20</span>

<span class="cm">/* Fields in PD67_MISC_CTL_3 */</span>
<span class="cp">#define PD67_MC3_IRQ_MASK	0x03</span>
<span class="cp">#define PD67_MC3_IRQ_PCPCI	0x00</span>
<span class="cp">#define PD67_MC3_IRQ_EXTERN	0x01</span>
<span class="cp">#define PD67_MC3_IRQ_PCIWAY	0x02</span>
<span class="cp">#define PD67_MC3_IRQ_PCI	0x03</span>
<span class="cp">#define PD67_MC3_PWR_MASK	0x0c</span>
<span class="cp">#define PD67_MC3_PWR_SERIAL	0x00</span>
<span class="cp">#define PD67_MC3_PWR_TI2202	0x08</span>
<span class="cp">#define PD67_MC3_PWR_SMB	0x0c</span>

<span class="cm">/* Register definitions for Cirrus PD6832 PCI-to-CardBus bridge */</span>

<span class="cm">/* PD6832 extension registers -- indexed in PD67_EXT_INDEX */</span>
<span class="cp">#define PD68_EXT_CTL_2			0x0b</span>
<span class="cp">#define PD68_PCI_SPACE			0x22</span>
<span class="cp">#define PD68_PCCARD_SPACE		0x23</span>
<span class="cp">#define PD68_WINDOW_TYPE		0x24</span>
<span class="cp">#define PD68_EXT_CSC			0x2e</span>
<span class="cp">#define PD68_MISC_CTL_4			0x2f</span>
<span class="cp">#define PD68_MISC_CTL_5			0x30</span>
<span class="cp">#define PD68_MISC_CTL_6			0x31</span>

<span class="cm">/* Extra flags in PD67_MISC_CTL_3 */</span>
<span class="cp">#define PD68_MC3_HW_SUSP		0x10</span>
<span class="cp">#define PD68_MC3_MM_EXPAND		0x40</span>
<span class="cp">#define PD68_MC3_MM_ARM			0x80</span>

<span class="cm">/* Bridge Control Register */</span>
<span class="cp">#define  PD6832_BCR_MGMT_IRQ_ENA	0x0800</span>

<span class="cm">/* Socket Number Register */</span>
<span class="cp">#define PD6832_SOCKET_NUMBER		0x004c	</span><span class="cm">/* 8 bit */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* _LINUX_CIRRUS_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
