<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › hwmon › abituguru3.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>abituguru3.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * abituguru3.c</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2006-2008 Hans de Goede &lt;hdegoede@redhat.com&gt;</span>
<span class="cm"> * Copyright (c) 2008 Alistair John Strachan &lt;alistair@devzero.co.uk&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> * This driver supports the sensor part of revision 3 of the custom Abit uGuru</span>
<span class="cm"> * chip found on newer Abit uGuru motherboards. Note: because of lack of specs</span>
<span class="cm"> * only reading the sensors and their settings is supported.</span>
<span class="cm"> */</span>

<span class="cp">#define pr_fmt(fmt) KBUILD_MODNAME &quot;: &quot; fmt</span>

<span class="cp">#include &lt;linux/module.h&gt;</span>
<span class="cp">#include &lt;linux/init.h&gt;</span>
<span class="cp">#include &lt;linux/slab.h&gt;</span>
<span class="cp">#include &lt;linux/jiffies.h&gt;</span>
<span class="cp">#include &lt;linux/mutex.h&gt;</span>
<span class="cp">#include &lt;linux/err.h&gt;</span>
<span class="cp">#include &lt;linux/delay.h&gt;</span>
<span class="cp">#include &lt;linux/platform_device.h&gt;</span>
<span class="cp">#include &lt;linux/hwmon.h&gt;</span>
<span class="cp">#include &lt;linux/hwmon-sysfs.h&gt;</span>
<span class="cp">#include &lt;linux/dmi.h&gt;</span>
<span class="cp">#include &lt;linux/io.h&gt;</span>

<span class="cm">/* uGuru3 bank addresses */</span>
<span class="cp">#define ABIT_UGURU3_SETTINGS_BANK		0x01</span>
<span class="cp">#define ABIT_UGURU3_SENSORS_BANK		0x08</span>
<span class="cp">#define ABIT_UGURU3_MISC_BANK			0x09</span>
<span class="cp">#define ABIT_UGURU3_ALARMS_START		0x1E</span>
<span class="cp">#define ABIT_UGURU3_SETTINGS_START		0x24</span>
<span class="cp">#define ABIT_UGURU3_VALUES_START		0x80</span>
<span class="cp">#define ABIT_UGURU3_BOARD_ID			0x0A</span>
<span class="cm">/* uGuru3 sensor bank flags */</span>			     <span class="cm">/* Alarm if: */</span>
<span class="cp">#define ABIT_UGURU3_TEMP_HIGH_ALARM_ENABLE	0x01 </span><span class="cm">/*  temp over warn */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_VOLT_HIGH_ALARM_ENABLE	0x02 </span><span class="cm">/*  volt over max */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_VOLT_LOW_ALARM_ENABLE	0x04 </span><span class="cm">/*  volt under min */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_TEMP_HIGH_ALARM_FLAG	0x10 </span><span class="cm">/* temp is over warn */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_VOLT_HIGH_ALARM_FLAG	0x20 </span><span class="cm">/* volt is over max */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_VOLT_LOW_ALARM_FLAG		0x40 </span><span class="cm">/* volt is under min */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_FAN_LOW_ALARM_ENABLE	0x01 </span><span class="cm">/*   fan under min */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_BEEP_ENABLE			0x08 </span><span class="cm">/* beep if alarm */</span><span class="cp"></span>
<span class="cp">#define ABIT_UGURU3_SHUTDOWN_ENABLE		0x80 </span><span class="cm">/* shutdown if alarm */</span><span class="cp"></span>
<span class="cm">/* sensor types */</span>
<span class="cp">#define ABIT_UGURU3_IN_SENSOR			0</span>
<span class="cp">#define ABIT_UGURU3_TEMP_SENSOR			1</span>
<span class="cp">#define ABIT_UGURU3_FAN_SENSOR			2</span>

<span class="cm">/*</span>
<span class="cm"> * Timeouts / Retries, if these turn out to need a lot of fiddling we could</span>
<span class="cm"> * convert them to params. Determined by trial and error. I assume this is</span>
<span class="cm"> * cpu-speed independent, since the ISA-bus and not the CPU should be the</span>
<span class="cm"> * bottleneck.</span>
<span class="cm"> */</span>
<span class="cp">#define ABIT_UGURU3_WAIT_TIMEOUT		250</span>
<span class="cm">/*</span>
<span class="cm"> * Normally the 0xAC at the end of synchronize() is reported after the</span>
<span class="cm"> * first read, but sometimes not and we need to poll</span>
<span class="cm"> */</span>
<span class="cp">#define ABIT_UGURU3_SYNCHRONIZE_TIMEOUT		5</span>
<span class="cm">/* utility macros */</span>
<span class="cp">#define ABIT_UGURU3_NAME			&quot;abituguru3&quot;</span>
<span class="cp">#define ABIT_UGURU3_DEBUG(format, arg...)	\</span>
<span class="cp">	if (verbose)				\</span>
<span class="cp">		printk(KERN_DEBUG ABIT_UGURU3_NAME &quot;: &quot;	format , ## arg)</span>

<span class="cm">/* Macros to help calculate the sysfs_names array length */</span>
<span class="cp">#define ABIT_UGURU3_MAX_NO_SENSORS 26</span>
<span class="cm">/*</span>
<span class="cm"> * sum of strlen +1 of: in??_input\0, in??_{min,max}\0, in??_{min,max}_alarm\0,</span>
<span class="cm"> * in??_{min,max}_alarm_enable\0, in??_beep\0, in??_shutdown\0, in??_label\0</span>
<span class="cm"> */</span>
<span class="cp">#define ABIT_UGURU3_IN_NAMES_LENGTH \</span>
<span class="cp">				(11 + 2 * 9 + 2 * 15 + 2 * 22 + 10 + 14 + 11)</span>
<span class="cm">/*</span>
<span class="cm"> * sum of strlen +1 of: temp??_input\0, temp??_max\0, temp??_crit\0,</span>
<span class="cm"> * temp??_alarm\0, temp??_alarm_enable\0, temp??_beep\0, temp??_shutdown\0,</span>
<span class="cm"> * temp??_label\0</span>
<span class="cm"> */</span>
<span class="cp">#define ABIT_UGURU3_TEMP_NAMES_LENGTH (13 + 11 + 12 + 13 + 20 + 12 + 16 + 13)</span>
<span class="cm">/*</span>
<span class="cm"> * sum of strlen +1 of: fan??_input\0, fan??_min\0, fan??_alarm\0,</span>
<span class="cm"> * fan??_alarm_enable\0, fan??_beep\0, fan??_shutdown\0, fan??_label\0</span>
<span class="cm"> */</span>
<span class="cp">#define ABIT_UGURU3_FAN_NAMES_LENGTH (12 + 10 + 12 + 19 + 11 + 15 + 12)</span>
<span class="cm">/*</span>
<span class="cm"> * Worst case scenario 16 in sensors (longest names_length) and the rest</span>
<span class="cm"> * temp sensors (second longest names_length).</span>
<span class="cm"> */</span>
<span class="cp">#define ABIT_UGURU3_SYSFS_NAMES_LENGTH (16 * ABIT_UGURU3_IN_NAMES_LENGTH + \</span>
<span class="cp">	(ABIT_UGURU3_MAX_NO_SENSORS - 16) * ABIT_UGURU3_TEMP_NAMES_LENGTH)</span>

<span class="cm">/*</span>
<span class="cm"> * All the macros below are named identical to the openguru2 program</span>
<span class="cm"> * reverse engineered by Louis Kruger, hence the names might not be 100%</span>
<span class="cm"> * logical. I could come up with better names, but I prefer keeping the names</span>
<span class="cm"> * identical so that this driver can be compared with his work more easily.</span>
<span class="cm"> */</span>
<span class="cm">/* Two i/o-ports are used by uGuru */</span>
<span class="cp">#define ABIT_UGURU3_BASE			0x00E0</span>
<span class="cp">#define ABIT_UGURU3_CMD				0x00</span>
<span class="cp">#define ABIT_UGURU3_DATA			0x04</span>
<span class="cp">#define ABIT_UGURU3_REGION_LENGTH		5</span>
<span class="cm">/*</span>
<span class="cm"> * The wait_xxx functions return this on success and the last contents</span>
<span class="cm"> * of the DATA register (0-255) on failure.</span>
<span class="cm"> */</span>
<span class="cp">#define ABIT_UGURU3_SUCCESS			-1</span>
<span class="cm">/* uGuru status flags */</span>
<span class="cp">#define ABIT_UGURU3_STATUS_READY_FOR_READ	0x01</span>
<span class="cp">#define ABIT_UGURU3_STATUS_BUSY			0x02</span>


<span class="cm">/* Structures */</span>
<span class="k">struct</span> <span class="n">abituguru3_sensor_info</span> <span class="p">{</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">port</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">type</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">multiplier</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">divisor</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">offset</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Avoid use of flexible array members */</span>
<span class="cp">#define ABIT_UGURU3_MAX_DMI_NAMES 2</span>

<span class="k">struct</span> <span class="n">abituguru3_motherboard_info</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">id</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">dmi_name</span><span class="p">[</span><span class="n">ABIT_UGURU3_MAX_DMI_NAMES</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="cm">/* + 1 -&gt; end of sensors indicated by a sensor with name == NULL */</span>
	<span class="k">struct</span> <span class="n">abituguru3_sensor_info</span> <span class="n">sensors</span><span class="p">[</span><span class="n">ABIT_UGURU3_MAX_NO_SENSORS</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * For the Abit uGuru, we need to keep some data in memory.</span>
<span class="cm"> * The structure is dynamically allocated, at the same time when a new</span>
<span class="cm"> * abituguru3 device is allocated.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">hwmon_dev</span><span class="p">;</span>	<span class="cm">/* hwmon registered device */</span>
	<span class="k">struct</span> <span class="n">mutex</span> <span class="n">update_lock</span><span class="p">;</span>	<span class="cm">/* protect access to data and uGuru */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">addr</span><span class="p">;</span>		<span class="cm">/* uguru base address */</span>
	<span class="kt">char</span> <span class="n">valid</span><span class="p">;</span>			<span class="cm">/* !=0 if following fields are valid */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">last_updated</span><span class="p">;</span>	<span class="cm">/* In jiffies */</span>

	<span class="cm">/*</span>
<span class="cm">	 * For convenience the sysfs attr and their names are generated</span>
<span class="cm">	 * automatically. We have max 10 entries per sensor (for in sensors)</span>
<span class="cm">	 */</span>
	<span class="k">struct</span> <span class="n">sensor_device_attribute_2</span> <span class="n">sysfs_attr</span><span class="p">[</span><span class="n">ABIT_UGURU3_MAX_NO_SENSORS</span>
		<span class="o">*</span> <span class="mi">10</span><span class="p">];</span>

	<span class="cm">/* Buffer to store the dynamically generated sysfs names */</span>
	<span class="kt">char</span> <span class="n">sysfs_names</span><span class="p">[</span><span class="n">ABIT_UGURU3_SYSFS_NAMES_LENGTH</span><span class="p">];</span>

	<span class="cm">/* Pointer to the sensors info for the detected motherboard */</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">abituguru3_sensor_info</span> <span class="o">*</span><span class="n">sensors</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * The abituguru3 supports up to 48 sensors, and thus has registers</span>
<span class="cm">	 * sets for 48 sensors, for convienence reasons / simplicity of the</span>
<span class="cm">	 * code we always read and store all registers for all 48 sensors</span>
<span class="cm">	 */</span>

	<span class="cm">/* Alarms for all 48 sensors (1 bit per sensor) */</span>
	<span class="n">u8</span> <span class="n">alarms</span><span class="p">[</span><span class="mi">48</span><span class="o">/</span><span class="mi">8</span><span class="p">];</span>

	<span class="cm">/* Value of all 48 sensors */</span>
	<span class="n">u8</span> <span class="n">value</span><span class="p">[</span><span class="mi">48</span><span class="p">];</span>

	<span class="cm">/*</span>
<span class="cm">	 * Settings of all 48 sensors, note in and temp sensors (the first 32</span>
<span class="cm">	 * sensors) have 3 bytes of settings, while fans only have 2 bytes,</span>
<span class="cm">	 * for convenience we use 3 bytes for all sensors</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">settings</span><span class="p">[</span><span class="mi">48</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>


<span class="cm">/* Constants */</span>
<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">abituguru3_motherboard_info</span> <span class="n">abituguru3_motherboards</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="mh">0x000C</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Unknown, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH &amp; PCIE 1.5V&quot;</span><span class="p">,</span>	 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 2.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS FAN&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x000D</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Abit AW8, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH &amp; PCIE 1.5V&quot;</span><span class="p">,</span>	 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 2.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM1&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">37</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX4 Fan&quot;</span><span class="p">,</span>		<span class="mi">38</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX5 Fan&quot;</span><span class="p">,</span>		<span class="mi">39</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x000E</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* AL-8, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH &amp; PCIE 1.5V&quot;</span><span class="p">,</span>	 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 2.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x000F</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Unknown, need DMI string */</span><span class="p">,</span> <span class="p">{</span>

		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH &amp; PCIE 1.5V&quot;</span><span class="p">,</span>	 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 2.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0010</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Abit NI8 SLI GR, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB 1.4V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SB 1.5V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;OTES1 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0011</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;AT8 32X&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VDDA 2.5V&quot;</span><span class="p">,</span>	 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB 1.8V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB 1.8V Dual&quot;</span><span class="p">,</span>	 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;HTV 1.2&quot;</span><span class="p">,</span>		 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PCIE 1.2V&quot;</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB 1.2V&quot;</span><span class="p">,</span>		<span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB&quot;</span><span class="p">,</span>			<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">37</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0012</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Abit AN8 32X, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;HyperTransport&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VDDA 2.5V&quot;</span><span class="p">,</span>	 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB&quot;</span><span class="p">,</span>			 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SB&quot;</span><span class="p">,</span>			 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0013</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Abit AW8D, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH &amp; PCIE 1.5V&quot;</span><span class="p">,</span>	 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 2.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM1&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">37</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX4 Fan&quot;</span><span class="p">,</span>		<span class="mi">38</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX5 Fan&quot;</span><span class="p">,</span>		<span class="mi">39</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0014</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;AB9&quot;</span><span class="p">,</span> <span class="s">&quot;AB9 Pro&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH &amp; PCIE 1.5V&quot;</span><span class="p">,</span>	 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 2.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0015</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Unknown, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;HyperTransport&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VDDA 2.5V&quot;</span><span class="p">,</span>	 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB&quot;</span><span class="p">,</span>			 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SB&quot;</span><span class="p">,</span>			 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0016</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;AW9D-MAX&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2 VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH &amp; PCIE 1.5V&quot;</span><span class="p">,</span>	 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 2.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM1&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">37</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;OTES1 Fan&quot;</span><span class="p">,</span>		<span class="mi">38</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0017</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Unknown, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2 VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;HyperTransport&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VDDA 2.5V&quot;</span><span class="p">,</span>	 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB 1.8V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB 1.2V &quot;</span><span class="p">,</span>		<span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SB 1.2V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PCIE 1.2V&quot;</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX 5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU FAN&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS FAN&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 FAN&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 FAN&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 FAN&quot;</span><span class="p">,</span>		<span class="mi">37</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0018</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;AB9 QuadGT&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2 VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT&quot;</span><span class="p">,</span>		 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 1.25V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICHIO 1.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase1&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase5&quot;</span><span class="p">,</span>		<span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0019</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;IN9 32X MAX&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2&quot;</span><span class="p">,</span>		<span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2 VTT&quot;</span><span class="p">,</span>		<span class="mi">14</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT&quot;</span><span class="p">,</span>		 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;NB 1.2V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SB 1.5V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;HyperTransport&quot;</span><span class="p">,</span>	 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (4-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX 5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase1&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase5&quot;</span><span class="p">,</span>		<span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU FAN&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS FAN&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 FAN&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 FAN&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 FAN&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x001A</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;IP35 Pro&quot;</span><span class="p">,</span> <span class="s">&quot;IP35 Pro XE&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2 VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT 1.2V&quot;</span><span class="p">,</span>	 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 1.25V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICHIO 1.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (8-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase5&quot;</span><span class="p">,</span>		<span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX4 Fan&quot;</span><span class="p">,</span>		<span class="mi">37</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x001B</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">}</span> <span class="cm">/* Unknown, need DMI string */</span><span class="p">,</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR3&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR3 VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT&quot;</span><span class="p">,</span>		 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 1.25V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICHIO 1.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (8-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase1&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase5&quot;</span><span class="p">,</span>		<span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x001C</span><span class="p">,</span> <span class="p">{</span> <span class="s">&quot;IX38 QuadGT&quot;</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span>
		<span class="p">{</span> <span class="s">&quot;CPU Core&quot;</span><span class="p">,</span>		 <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2&quot;</span><span class="p">,</span>		 <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;DDR2 VTT&quot;</span><span class="p">,</span>		 <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU VTT&quot;</span><span class="p">,</span>		 <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;MCH 1.25V&quot;</span><span class="p">,</span>		 <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICHIO 1.5V&quot;</span><span class="p">,</span>		 <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ICH 1.05V&quot;</span><span class="p">,</span>		 <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (24-Pin)&quot;</span><span class="p">,</span>	 <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +12V (8-pin)&quot;</span><span class="p">,</span>	 <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;ATX +5V&quot;</span><span class="p">,</span>		 <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;+3.3V&quot;</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;5VSB&quot;</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU&quot;</span><span class="p">,</span>		<span class="mi">24</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;System&quot;</span><span class="p">,</span>		<span class="mi">25</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase1&quot;</span><span class="p">,</span>		<span class="mi">26</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase2&quot;</span><span class="p">,</span>		<span class="mi">27</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase3&quot;</span><span class="p">,</span>		<span class="mi">28</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase4&quot;</span><span class="p">,</span>		<span class="mi">29</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;PWM Phase5&quot;</span><span class="p">,</span>		<span class="mi">30</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;CPU Fan&quot;</span><span class="p">,</span>		<span class="mi">32</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;SYS Fan&quot;</span><span class="p">,</span>		<span class="mi">34</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX1 Fan&quot;</span><span class="p">,</span>		<span class="mi">33</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX2 Fan&quot;</span><span class="p">,</span>		<span class="mi">35</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="s">&quot;AUX3 Fan&quot;</span><span class="p">,</span>		<span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
		<span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mh">0x0000</span><span class="p">,</span> <span class="p">{</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="p">{</span> <span class="p">{</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span> <span class="p">}</span>
<span class="p">};</span>


<span class="cm">/* Insmod parameters */</span>
<span class="k">static</span> <span class="n">bool</span> <span class="n">force</span><span class="p">;</span>
<span class="n">module_param</span><span class="p">(</span><span class="n">force</span><span class="p">,</span> <span class="n">bool</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="n">MODULE_PARM_DESC</span><span class="p">(</span><span class="n">force</span><span class="p">,</span> <span class="s">&quot;Set to one to force detection.&quot;</span><span class="p">);</span>
<span class="cm">/* Default verbose is 1, since this driver is still in the testing phase */</span>
<span class="k">static</span> <span class="n">bool</span> <span class="n">verbose</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">module_param</span><span class="p">(</span><span class="n">verbose</span><span class="p">,</span> <span class="n">bool</span><span class="p">,</span> <span class="mo">0644</span><span class="p">);</span>
<span class="n">MODULE_PARM_DESC</span><span class="p">(</span><span class="n">verbose</span><span class="p">,</span> <span class="s">&quot;Enable/disable verbose error reporting&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">never_happen</span> <span class="o">=</span> <span class="s">&quot;This should never happen.&quot;</span><span class="p">;</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">report_this</span> <span class="o">=</span>
	<span class="s">&quot;Please report this to the abituguru3 maintainer (see MAINTAINERS)&quot;</span><span class="p">;</span>

<span class="cm">/* wait while the uguru is busy (usually after a write) */</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">abituguru3_wait_while_busy</span><span class="p">(</span><span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u8</span> <span class="n">x</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">timeout</span> <span class="o">=</span> <span class="n">ABIT_UGURU3_WAIT_TIMEOUT</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">((</span><span class="n">x</span> <span class="o">=</span> <span class="n">inb_p</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_DATA</span><span class="p">))</span> <span class="o">&amp;</span>
			<span class="n">ABIT_UGURU3_STATUS_BUSY</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">timeout</span><span class="o">--</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">timeout</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
		<span class="cm">/*</span>
<span class="cm">		 * sleep a bit before our last try, to give the uGuru3 one</span>
<span class="cm">		 * last chance to respond.</span>
<span class="cm">		 */</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">timeout</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
			<span class="n">msleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* wait till uguru is ready to be read */</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">abituguru3_wait_for_read</span><span class="p">(</span><span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u8</span> <span class="n">x</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">timeout</span> <span class="o">=</span> <span class="n">ABIT_UGURU3_WAIT_TIMEOUT</span><span class="p">;</span>

	<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="p">((</span><span class="n">x</span> <span class="o">=</span> <span class="n">inb_p</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_DATA</span><span class="p">))</span> <span class="o">&amp;</span>
			<span class="n">ABIT_UGURU3_STATUS_READY_FOR_READ</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">timeout</span><span class="o">--</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">timeout</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
		<span class="cm">/*</span>
<span class="cm">		 * sleep a bit before our last try, to give the uGuru3 one</span>
<span class="cm">		 * last chance to respond.</span>
<span class="cm">		 */</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">timeout</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
			<span class="n">msleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * This synchronizes us with the uGuru3&#39;s protocol state machine, this</span>
<span class="cm"> * must be done before each command.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">abituguru3_synchronize</span><span class="p">(</span><span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="n">timeout</span> <span class="o">=</span> <span class="n">ABIT_UGURU3_SYNCHRONIZE_TIMEOUT</span><span class="p">;</span>

	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;synchronize timeout during initial busy &quot;</span>
			<span class="s">&quot;wait, status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">outb</span><span class="p">(</span><span class="mh">0x20</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_DATA</span><span class="p">);</span>
	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;synchronize timeout after sending 0x20, &quot;</span>
			<span class="s">&quot;status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">outb</span><span class="p">(</span><span class="mh">0x10</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">);</span>
	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;synchronize timeout after sending 0x10, &quot;</span>
			<span class="s">&quot;status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">outb</span><span class="p">(</span><span class="mh">0x00</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">);</span>
	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;synchronize timeout after sending 0x00, &quot;</span>
			<span class="s">&quot;status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_for_read</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;synchronize timeout waiting for read, &quot;</span>
			<span class="s">&quot;status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">while</span> <span class="p">((</span><span class="n">x</span> <span class="o">=</span> <span class="n">inb</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">))</span> <span class="o">!=</span> <span class="mh">0xAC</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">timeout</span><span class="o">--</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">timeout</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;synchronize timeout cmd does not &quot;</span>
				<span class="s">&quot;hold 0xAC after synchronize, cmd: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
				<span class="n">x</span><span class="p">);</span>
			<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">msleep</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Read count bytes from sensor sensor_addr in bank bank_addr and store the</span>
<span class="cm"> * result in buf</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">abituguru3_read</span><span class="p">(</span><span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="n">u8</span> <span class="n">bank</span><span class="p">,</span> <span class="n">u8</span> <span class="n">offset</span><span class="p">,</span>
	<span class="n">u8</span> <span class="n">count</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">;</span>

	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_synchronize</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">x</span><span class="p">;</span>

	<span class="n">outb</span><span class="p">(</span><span class="mh">0x1A</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_DATA</span><span class="p">);</span>
	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;read from 0x%02x:0x%02x timed out after &quot;</span>
			<span class="s">&quot;sending 0x1A, status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">bank</span><span class="p">,</span>
			<span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">offset</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">outb</span><span class="p">(</span><span class="n">bank</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">);</span>
	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;read from 0x%02x:0x%02x timed out after &quot;</span>
			<span class="s">&quot;sending the bank, status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			<span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">bank</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">offset</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">outb</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">);</span>
	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;read from 0x%02x:0x%02x timed out after &quot;</span>
			<span class="s">&quot;sending the offset, status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			<span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">bank</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">offset</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">outb</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">);</span>
	<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_while_busy</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;read from 0x%02x:0x%02x timed out after &quot;</span>
			<span class="s">&quot;sending the count, status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			<span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">bank</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">offset</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_wait_for_read</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">ABIT_UGURU3_SUCCESS</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;timeout reading byte %d from &quot;</span>
				<span class="s">&quot;0x%02x:0x%02x, status: 0x%02x</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span>
				<span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">bank</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">offset</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">buf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">inb</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Sensor settings are stored 1 byte per offset with the bytes</span>
<span class="cm"> * placed add consecutive offsets.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">abituguru3_read_increment_offset</span><span class="p">(</span><span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span>
					    <span class="n">u8</span> <span class="n">bank</span><span class="p">,</span> <span class="n">u8</span> <span class="n">offset</span><span class="p">,</span> <span class="n">u8</span> <span class="n">count</span><span class="p">,</span>
					    <span class="n">u8</span> <span class="o">*</span><span class="n">buf</span><span class="p">,</span> <span class="kt">int</span> <span class="n">offset_count</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">x</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">offset_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">x</span> <span class="o">=</span> <span class="n">abituguru3_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">bank</span><span class="p">,</span> <span class="n">offset</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span>
				    <span class="n">buf</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">count</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">count</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
				<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
			<span class="k">return</span> <span class="n">i</span> <span class="o">*</span> <span class="n">count</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">i</span> <span class="o">*</span> <span class="n">count</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * Following are the sysfs callback functions. These functions expect:</span>
<span class="cm"> * sensor_device_attribute_2-&gt;index:   index into the data-&gt;sensors array</span>
<span class="cm"> * sensor_device_attribute_2-&gt;nr:      register offset, bitmask or NA.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">abituguru3_update_device</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="k">static</span> <span class="kt">ssize_t</span> <span class="nf">show_value</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">device_attribute</span> <span class="o">*</span><span class="n">devattr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">value</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sensor_device_attribute_2</span> <span class="o">*</span><span class="n">attr</span> <span class="o">=</span> <span class="n">to_sensor_dev_attr_2</span><span class="p">(</span><span class="n">devattr</span><span class="p">);</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">abituguru3_update_device</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">abituguru3_sensor_info</span> <span class="o">*</span><span class="n">sensor</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">data</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>

	<span class="n">sensor</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">sensors</span><span class="p">[</span><span class="n">attr</span><span class="o">-&gt;</span><span class="n">index</span><span class="p">];</span>

	<span class="cm">/* are we reading a setting, or is this a normal read? */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">attr</span><span class="o">-&gt;</span><span class="n">nr</span><span class="p">)</span>
		<span class="n">value</span> <span class="o">=</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">[</span><span class="n">sensor</span><span class="o">-&gt;</span><span class="n">port</span><span class="p">][</span><span class="n">attr</span><span class="o">-&gt;</span><span class="n">nr</span><span class="p">];</span>
	<span class="k">else</span>
		<span class="n">value</span> <span class="o">=</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">[</span><span class="n">sensor</span><span class="o">-&gt;</span><span class="n">port</span><span class="p">];</span>

	<span class="cm">/* convert the value */</span>
	<span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span> <span class="o">*</span> <span class="n">sensor</span><span class="o">-&gt;</span><span class="n">multiplier</span><span class="p">)</span> <span class="o">/</span> <span class="n">sensor</span><span class="o">-&gt;</span><span class="n">divisor</span> <span class="o">+</span>
		<span class="n">sensor</span><span class="o">-&gt;</span><span class="n">offset</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * alternatively we could update the sensors settings struct for this,</span>
<span class="cm">	 * but then its contents would differ from the windows sw ini files</span>
<span class="cm">	 */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">sensor</span><span class="o">-&gt;</span><span class="n">type</span> <span class="o">==</span> <span class="n">ABIT_UGURU3_TEMP_SENSOR</span><span class="p">)</span>
		<span class="n">value</span> <span class="o">*=</span> <span class="mi">1000</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">ssize_t</span> <span class="nf">show_alarm</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">device_attribute</span> <span class="o">*</span><span class="n">devattr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">port</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">sensor_device_attribute_2</span> <span class="o">*</span><span class="n">attr</span> <span class="o">=</span> <span class="n">to_sensor_dev_attr_2</span><span class="p">(</span><span class="n">devattr</span><span class="p">);</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">abituguru3_update_device</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">data</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EIO</span><span class="p">;</span>

	<span class="n">port</span> <span class="o">=</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">sensors</span><span class="p">[</span><span class="n">attr</span><span class="o">-&gt;</span><span class="n">index</span><span class="p">].</span><span class="n">port</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * See if the alarm bit for this sensor is set and if a bitmask is</span>
<span class="cm">	 * given in attr-&gt;nr also check if the alarm matches the type of alarm</span>
<span class="cm">	 * we&#39;re looking for (for volt it can be either low or high). The type</span>
<span class="cm">	 * is stored in a few readonly bits in the settings of the sensor.</span>
<span class="cm">	 */</span>
	<span class="k">if</span> <span class="p">((</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">alarms</span><span class="p">[</span><span class="n">port</span> <span class="o">/</span> <span class="mi">8</span><span class="p">]</span> <span class="o">&amp;</span> <span class="p">(</span><span class="mh">0x01</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">port</span> <span class="o">%</span> <span class="mi">8</span><span class="p">)))</span> <span class="o">&amp;&amp;</span>
			<span class="p">(</span><span class="o">!</span><span class="n">attr</span><span class="o">-&gt;</span><span class="n">nr</span> <span class="o">||</span> <span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">[</span><span class="n">port</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">attr</span><span class="o">-&gt;</span><span class="n">nr</span><span class="p">)))</span>
		<span class="k">return</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;1</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="k">return</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;0</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">ssize_t</span> <span class="nf">show_mask</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">device_attribute</span> <span class="o">*</span><span class="n">devattr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">sensor_device_attribute_2</span> <span class="o">*</span><span class="n">attr</span> <span class="o">=</span> <span class="n">to_sensor_dev_attr_2</span><span class="p">(</span><span class="n">devattr</span><span class="p">);</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">dev_get_drvdata</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">[</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">sensors</span><span class="p">[</span><span class="n">attr</span><span class="o">-&gt;</span><span class="n">index</span><span class="p">].</span><span class="n">port</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;</span> <span class="n">attr</span><span class="o">-&gt;</span><span class="n">nr</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;1</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="k">return</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;0</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">ssize_t</span> <span class="nf">show_label</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">device_attribute</span> <span class="o">*</span><span class="n">devattr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">sensor_device_attribute_2</span> <span class="o">*</span><span class="n">attr</span> <span class="o">=</span> <span class="n">to_sensor_dev_attr_2</span><span class="p">(</span><span class="n">devattr</span><span class="p">);</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">dev_get_drvdata</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="k">return</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">sensors</span><span class="p">[</span><span class="n">attr</span><span class="o">-&gt;</span><span class="n">index</span><span class="p">].</span><span class="n">name</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">ssize_t</span> <span class="nf">show_name</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">device_attribute</span> <span class="o">*</span><span class="n">devattr</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buf</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">sprintf</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">ABIT_UGURU3_NAME</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* Sysfs attr templates, the real entries are generated automatically. */</span>
<span class="k">static</span> <span class="k">const</span>
<span class="k">struct</span> <span class="n">sensor_device_attribute_2</span> <span class="n">abituguru3_sysfs_templ</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_input</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_min</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_max</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_min_alarm</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_alarm</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_VOLT_LOW_ALARM_FLAG</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_max_alarm</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_alarm</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_VOLT_HIGH_ALARM_FLAG</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_beep</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_BEEP_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_shutdown</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_SHUTDOWN_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_min_alarm_enable</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_VOLT_LOW_ALARM_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_max_alarm_enable</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_VOLT_HIGH_ALARM_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">in</span><span class="o">%</span><span class="n">d_label</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_label</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">},</span> <span class="p">{</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_input</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_max</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_crit</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_alarm</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_alarm</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_beep</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_BEEP_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_shutdown</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_SHUTDOWN_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_alarm_enable</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_TEMP_HIGH_ALARM_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">temp</span><span class="o">%</span><span class="n">d_label</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_label</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
	<span class="p">},</span> <span class="p">{</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">fan</span><span class="o">%</span><span class="n">d_input</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">fan</span><span class="o">%</span><span class="n">d_min</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_value</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">fan</span><span class="o">%</span><span class="n">d_alarm</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_alarm</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">fan</span><span class="o">%</span><span class="n">d_beep</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_BEEP_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">fan</span><span class="o">%</span><span class="n">d_shutdown</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_SHUTDOWN_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">fan</span><span class="o">%</span><span class="n">d_alarm_enable</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_mask</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span>
		<span class="n">ABIT_UGURU3_FAN_LOW_ALARM_ENABLE</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">fan</span><span class="o">%</span><span class="n">d_label</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_label</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">}</span> <span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">sensor_device_attribute_2</span> <span class="n">abituguru3_sysfs_attr</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">SENSOR_ATTR_2</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="mo">0444</span><span class="p">,</span> <span class="n">show_name</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__devinit</span> <span class="nf">abituguru3_probe</span><span class="p">(</span><span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">const</span> <span class="kt">int</span> <span class="n">no_sysfs_attr</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">7</span> <span class="p">};</span>
	<span class="kt">int</span> <span class="n">sensor_index</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="p">};</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">type</span><span class="p">,</span> <span class="n">used</span><span class="p">,</span> <span class="n">sysfs_names_free</span><span class="p">,</span> <span class="n">sysfs_attr_i</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">sysfs_filename</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">buf</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">id</span><span class="p">;</span>

	<span class="n">data</span> <span class="o">=</span> <span class="n">kzalloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">abituguru3_data</span><span class="p">),</span> <span class="n">GFP_KERNEL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">data</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">ENOMEM</span><span class="p">;</span>

	<span class="n">data</span><span class="o">-&gt;</span><span class="n">addr</span> <span class="o">=</span> <span class="n">platform_get_resource</span><span class="p">(</span><span class="n">pdev</span><span class="p">,</span> <span class="n">IORESOURCE_IO</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">;</span>
	<span class="n">mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">update_lock</span><span class="p">);</span>
	<span class="n">platform_set_drvdata</span><span class="p">(</span><span class="n">pdev</span><span class="p">,</span> <span class="n">data</span><span class="p">);</span>

	<span class="cm">/* Read the motherboard ID */</span>
	<span class="n">i</span> <span class="o">=</span> <span class="n">abituguru3_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABIT_UGURU3_MISC_BANK</span><span class="p">,</span> <span class="n">ABIT_UGURU3_BOARD_ID</span><span class="p">,</span>
			    <span class="mi">2</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span>
		<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>

	<span class="cm">/* Completely read the uGuru to see if one really is there */</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">abituguru3_update_device</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">))</span>
		<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>

	<span class="cm">/* lookup the ID in our motherboard table */</span>
	<span class="n">id</span> <span class="o">=</span> <span class="p">((</span><span class="n">u16</span><span class="p">)</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">u16</span><span class="p">)</span><span class="n">buf</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">abituguru3_motherboards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">abituguru3_motherboards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span> <span class="o">==</span> <span class="n">id</span><span class="p">)</span>
			<span class="k">break</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">abituguru3_motherboards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;error unknown motherboard ID: %04X. %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		       <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">id</span><span class="p">,</span> <span class="n">report_this</span><span class="p">);</span>
		<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">data</span><span class="o">-&gt;</span><span class="n">sensors</span> <span class="o">=</span> <span class="n">abituguru3_motherboards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">sensors</span><span class="p">;</span>

	<span class="n">pr_info</span><span class="p">(</span><span class="s">&quot;found Abit uGuru3, motherboard ID: %04X</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">id</span><span class="p">);</span>

	<span class="cm">/* Fill the sysfs attr array */</span>
	<span class="n">sysfs_attr_i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">sysfs_filename</span> <span class="o">=</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_names</span><span class="p">;</span>
	<span class="n">sysfs_names_free</span> <span class="o">=</span> <span class="n">ABIT_UGURU3_SYSFS_NAMES_LENGTH</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">sensors</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="cm">/* Fail safe check, this should never happen! */</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">ABIT_UGURU3_MAX_NO_SENSORS</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;Fatal error motherboard has more sensors then ABIT_UGURU3_MAX_NO_SENSORS. %s %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
			       <span class="n">never_happen</span><span class="p">,</span> <span class="n">report_this</span><span class="p">);</span>
			<span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENAMETOOLONG</span><span class="p">;</span>
			<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">type</span> <span class="o">=</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">sensors</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">type</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">no_sysfs_attr</span><span class="p">[</span><span class="n">type</span><span class="p">];</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">used</span> <span class="o">=</span> <span class="n">snprintf</span><span class="p">(</span><span class="n">sysfs_filename</span><span class="p">,</span> <span class="n">sysfs_names_free</span><span class="p">,</span>
				<span class="n">abituguru3_sysfs_templ</span><span class="p">[</span><span class="n">type</span><span class="p">][</span><span class="n">j</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">.</span><span class="n">attr</span><span class="p">.</span>
				<span class="n">name</span><span class="p">,</span> <span class="n">sensor_index</span><span class="p">[</span><span class="n">type</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">sysfs_attr_i</span><span class="p">]</span> <span class="o">=</span>
				<span class="n">abituguru3_sysfs_templ</span><span class="p">[</span><span class="n">type</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
			<span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">sysfs_attr_i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">.</span><span class="n">attr</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span>
				<span class="n">sysfs_filename</span><span class="p">;</span>
			<span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">sysfs_attr_i</span><span class="p">].</span><span class="n">index</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
			<span class="n">sysfs_filename</span> <span class="o">+=</span> <span class="n">used</span><span class="p">;</span>
			<span class="n">sysfs_names_free</span> <span class="o">-=</span> <span class="n">used</span><span class="p">;</span>
			<span class="n">sysfs_attr_i</span><span class="o">++</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">sensor_index</span><span class="p">[</span><span class="n">type</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="cm">/* Fail safe check, this should never happen! */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">sysfs_names_free</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;Fatal error ran out of space for sysfs attr names. %s %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
		       <span class="n">never_happen</span><span class="p">,</span> <span class="n">report_this</span><span class="p">);</span>
		<span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENAMETOOLONG</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="cm">/* Register sysfs hooks */</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">sysfs_attr_i</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">device_create_file</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span>
				<span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">))</span>
			<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">abituguru3_sysfs_attr</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">device_create_file</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span>
				<span class="o">&amp;</span><span class="n">abituguru3_sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">))</span>
			<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>

	<span class="n">data</span><span class="o">-&gt;</span><span class="n">hwmon_dev</span> <span class="o">=</span> <span class="n">hwmon_device_register</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">IS_ERR</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">hwmon_dev</span><span class="p">))</span> <span class="p">{</span>
		<span class="n">res</span> <span class="o">=</span> <span class="n">PTR_ERR</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">hwmon_dev</span><span class="p">);</span>
		<span class="k">goto</span> <span class="n">abituguru3_probe_error</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="cm">/* success */</span>

<span class="nl">abituguru3_probe_error:</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">.</span><span class="n">attr</span><span class="p">.</span><span class="n">name</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">device_remove_file</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">abituguru3_sysfs_attr</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">device_remove_file</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">abituguru3_sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">);</span>
	<span class="n">kfree</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__devexit</span> <span class="nf">abituguru3_remove</span><span class="p">(</span><span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">platform_get_drvdata</span><span class="p">(</span><span class="n">pdev</span><span class="p">);</span>

	<span class="n">platform_set_drvdata</span><span class="p">(</span><span class="n">pdev</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">hwmon_device_unregister</span><span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">hwmon_dev</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">.</span><span class="n">attr</span><span class="p">.</span><span class="n">name</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">device_remove_file</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">abituguru3_sysfs_attr</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">device_remove_file</span><span class="p">(</span><span class="o">&amp;</span><span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span>
			<span class="o">&amp;</span><span class="n">abituguru3_sysfs_attr</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dev_attr</span><span class="p">);</span>
	<span class="n">kfree</span><span class="p">(</span><span class="n">data</span><span class="p">);</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="nf">abituguru3_update_device</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">dev_get_drvdata</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="n">mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">update_lock</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">valid</span> <span class="o">||</span> <span class="n">time_after</span><span class="p">(</span><span class="n">jiffies</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">last_updated</span> <span class="o">+</span> <span class="n">HZ</span><span class="p">))</span> <span class="p">{</span>
		<span class="cm">/* Clear data-&gt;valid while updating */</span>
		<span class="n">data</span><span class="o">-&gt;</span><span class="n">valid</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
		<span class="cm">/* Read alarms */</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">abituguru3_read_increment_offset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span>
				<span class="n">ABIT_UGURU3_SETTINGS_BANK</span><span class="p">,</span>
				<span class="n">ABIT_UGURU3_ALARMS_START</span><span class="p">,</span>
				<span class="mi">1</span><span class="p">,</span> <span class="n">data</span><span class="o">-&gt;</span><span class="n">alarms</span><span class="p">,</span> <span class="mi">48</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="mi">48</span><span class="o">/</span><span class="mi">8</span><span class="p">))</span>
			<span class="k">goto</span> <span class="n">LEAVE_UPDATE</span><span class="p">;</span>
		<span class="cm">/* Read in and temp sensors (3 byte settings / sensor) */</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">32</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">abituguru3_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABIT_UGURU3_SENSORS_BANK</span><span class="p">,</span>
					<span class="n">ABIT_UGURU3_VALUES_START</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span>
					<span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span>
				<span class="k">goto</span> <span class="n">LEAVE_UPDATE</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">abituguru3_read_increment_offset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span>
					<span class="n">ABIT_UGURU3_SETTINGS_BANK</span><span class="p">,</span>
					<span class="n">ABIT_UGURU3_SETTINGS_START</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span><span class="p">,</span>
					<span class="mi">1</span><span class="p">,</span>
					<span class="n">data</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">)</span>
				<span class="k">goto</span> <span class="n">LEAVE_UPDATE</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="cm">/* Read temp sensors (2 byte settings / sensor) */</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">abituguru3_read</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">ABIT_UGURU3_SENSORS_BANK</span><span class="p">,</span>
					<span class="n">ABIT_UGURU3_VALUES_START</span> <span class="o">+</span> <span class="mi">32</span> <span class="o">+</span> <span class="n">i</span><span class="p">,</span>
					<span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">value</span><span class="p">[</span><span class="mi">32</span> <span class="o">+</span> <span class="n">i</span><span class="p">])</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">)</span>
				<span class="k">goto</span> <span class="n">LEAVE_UPDATE</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">abituguru3_read_increment_offset</span><span class="p">(</span><span class="n">data</span><span class="p">,</span>
					<span class="n">ABIT_UGURU3_SETTINGS_BANK</span><span class="p">,</span>
					<span class="n">ABIT_UGURU3_SETTINGS_START</span> <span class="o">+</span> <span class="mi">32</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span>
						<span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
					<span class="n">data</span><span class="o">-&gt;</span><span class="n">settings</span><span class="p">[</span><span class="mi">32</span> <span class="o">+</span> <span class="n">i</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">)</span>
				<span class="k">goto</span> <span class="n">LEAVE_UPDATE</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">data</span><span class="o">-&gt;</span><span class="n">last_updated</span> <span class="o">=</span> <span class="n">jiffies</span><span class="p">;</span>
		<span class="n">data</span><span class="o">-&gt;</span><span class="n">valid</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="nl">LEAVE_UPDATE:</span>
	<span class="n">mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">update_lock</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">valid</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">data</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#ifdef CONFIG_PM</span>
<span class="k">static</span> <span class="kt">int</span> <span class="nf">abituguru3_suspend</span><span class="p">(</span><span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">,</span> <span class="n">pm_message_t</span> <span class="n">state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">platform_get_drvdata</span><span class="p">(</span><span class="n">pdev</span><span class="p">);</span>
	<span class="cm">/*</span>
<span class="cm">	 * make sure all communications with the uguru3 are done and no new</span>
<span class="cm">	 * ones are started</span>
<span class="cm">	 */</span>
	<span class="n">mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">update_lock</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">abituguru3_resume</span><span class="p">(</span><span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">abituguru3_data</span> <span class="o">*</span><span class="n">data</span> <span class="o">=</span> <span class="n">platform_get_drvdata</span><span class="p">(</span><span class="n">pdev</span><span class="p">);</span>
	<span class="n">mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">data</span><span class="o">-&gt;</span><span class="n">update_lock</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#else</span>
<span class="cp">#define abituguru3_suspend	NULL</span>
<span class="cp">#define abituguru3_resume	NULL</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_PM */</span><span class="cp"></span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_driver</span> <span class="n">abituguru3_driver</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">driver</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">owner</span>	<span class="o">=</span> <span class="n">THIS_MODULE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="n">ABIT_UGURU3_NAME</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">probe</span>	<span class="o">=</span> <span class="n">abituguru3_probe</span><span class="p">,</span>
	<span class="p">.</span><span class="n">remove</span>	<span class="o">=</span> <span class="n">__devexit_p</span><span class="p">(</span><span class="n">abituguru3_remove</span><span class="p">),</span>
	<span class="p">.</span><span class="n">suspend</span> <span class="o">=</span> <span class="n">abituguru3_suspend</span><span class="p">,</span>
	<span class="p">.</span><span class="n">resume</span> <span class="o">=</span> <span class="n">abituguru3_resume</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">abituguru3_dmi_detect</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">board_vendor</span><span class="p">,</span> <span class="o">*</span><span class="n">board_name</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="p">(</span><span class="n">force</span><span class="p">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="k">const</span> <span class="o">*</span><span class="n">dmi_name</span><span class="p">;</span>
	<span class="kt">size_t</span> <span class="n">sublen</span><span class="p">;</span>

	<span class="n">board_vendor</span> <span class="o">=</span> <span class="n">dmi_get_system_info</span><span class="p">(</span><span class="n">DMI_BOARD_VENDOR</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">board_vendor</span> <span class="o">||</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">board_vendor</span><span class="p">,</span> <span class="s">&quot;http://www.abit.com.tw/&quot;</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">err</span><span class="p">;</span>

	<span class="n">board_name</span> <span class="o">=</span> <span class="n">dmi_get_system_info</span><span class="p">(</span><span class="n">DMI_BOARD_NAME</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">board_name</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">err</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * At the moment, we don&#39;t care about the part of the vendor</span>
<span class="cm">	 * DMI string contained in brackets. Truncate the string at</span>
<span class="cm">	 * the first occurrence of a bracket. Trim any trailing space</span>
<span class="cm">	 * from the substring.</span>
<span class="cm">	 */</span>
	<span class="n">sublen</span> <span class="o">=</span> <span class="n">strcspn</span><span class="p">(</span><span class="n">board_name</span><span class="p">,</span> <span class="s">&quot;(&quot;</span><span class="p">);</span>
	<span class="k">while</span> <span class="p">(</span><span class="n">sublen</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">board_name</span><span class="p">[</span><span class="n">sublen</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39; &#39;</span><span class="p">)</span>
		<span class="n">sublen</span><span class="o">--</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">abituguru3_motherboards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">dmi_name</span> <span class="o">=</span> <span class="n">abituguru3_motherboards</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">dmi_name</span><span class="p">;</span>
		<span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="o">*</span><span class="n">dmi_name</span><span class="p">;</span> <span class="n">dmi_name</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">strlen</span><span class="p">(</span><span class="o">*</span><span class="n">dmi_name</span><span class="p">)</span> <span class="o">!=</span> <span class="n">sublen</span><span class="p">)</span>
				<span class="k">continue</span><span class="p">;</span>
			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">strncasecmp</span><span class="p">(</span><span class="n">board_name</span><span class="p">,</span> <span class="o">*</span><span class="n">dmi_name</span><span class="p">,</span> <span class="n">sublen</span><span class="p">))</span>
				<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="cm">/* No match found */</span>
	<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> * FIXME: Manual detection should die eventually; we need to collect stable</span>
<span class="cm"> *        DMI model names first before we can rely entirely on CONFIG_DMI.</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">abituguru3_detect</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * See if there is an uguru3 there. An idle uGuru3 will hold 0x00 or</span>
<span class="cm">	 * 0x08 at DATA and 0xAC at CMD. Sometimes the uGuru3 will hold 0x05</span>
<span class="cm">	 * or 0x55 at CMD instead, why is unknown.</span>
<span class="cm">	 */</span>
	<span class="n">u8</span> <span class="n">data_val</span> <span class="o">=</span> <span class="n">inb_p</span><span class="p">(</span><span class="n">ABIT_UGURU3_BASE</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_DATA</span><span class="p">);</span>
	<span class="n">u8</span> <span class="n">cmd_val</span> <span class="o">=</span> <span class="n">inb_p</span><span class="p">(</span><span class="n">ABIT_UGURU3_BASE</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_CMD</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(((</span><span class="n">data_val</span> <span class="o">==</span> <span class="mh">0x00</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">data_val</span> <span class="o">==</span> <span class="mh">0x08</span><span class="p">))</span> <span class="o">&amp;&amp;</span>
			<span class="p">((</span><span class="n">cmd_val</span> <span class="o">==</span> <span class="mh">0xAC</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">cmd_val</span> <span class="o">==</span> <span class="mh">0x05</span><span class="p">)</span> <span class="o">||</span>
			 <span class="p">(</span><span class="n">cmd_val</span> <span class="o">==</span> <span class="mh">0x55</span><span class="p">)))</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

	<span class="n">ABIT_UGURU3_DEBUG</span><span class="p">(</span><span class="s">&quot;no Abit uGuru3 found, data = 0x%02X, cmd = &quot;</span>
		<span class="s">&quot;0x%02X</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">data_val</span><span class="p">,</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="n">cmd_val</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">force</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_info</span><span class="p">(</span><span class="s">&quot;Assuming Abit uGuru3 is present because of </span><span class="se">\&quot;</span><span class="s">force</span><span class="se">\&quot;</span><span class="s"> parameter</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="cm">/* No uGuru3 found */</span>
	<span class="k">return</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">abituguru3_pdev</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">abituguru3_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">resource</span> <span class="n">res</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">IORESOURCE_IO</span> <span class="p">};</span>
	<span class="kt">int</span> <span class="n">err</span><span class="p">;</span>

	<span class="cm">/* Attempt DMI detection first */</span>
	<span class="n">err</span> <span class="o">=</span> <span class="n">abituguru3_dmi_detect</span><span class="p">();</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">err</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Fall back to manual detection if there was no exact</span>
<span class="cm">	 * board name match, or force was specified.</span>
<span class="cm">	 */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">err</span> <span class="o">=</span> <span class="n">abituguru3_detect</span><span class="p">();</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">err</span><span class="p">;</span>

		<span class="n">pr_warn</span><span class="p">(</span><span class="s">&quot;this motherboard was not detected using DMI. &quot;</span>
			<span class="s">&quot;Please send the output of </span><span class="se">\&quot;</span><span class="s">dmidecode</span><span class="se">\&quot;</span><span class="s"> to the abituguru3 maintainer (see MAINTAINERS)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">platform_driver_register</span><span class="p">(</span><span class="o">&amp;</span><span class="n">abituguru3_driver</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span>
		<span class="k">goto</span> <span class="n">exit</span><span class="p">;</span>

	<span class="n">abituguru3_pdev</span> <span class="o">=</span> <span class="n">platform_device_alloc</span><span class="p">(</span><span class="n">ABIT_UGURU3_NAME</span><span class="p">,</span>
						<span class="n">ABIT_UGURU3_BASE</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">abituguru3_pdev</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;Device allocation failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="n">err</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENOMEM</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">exit_driver_unregister</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">res</span><span class="p">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">ABIT_UGURU3_BASE</span><span class="p">;</span>
	<span class="n">res</span><span class="p">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">ABIT_UGURU3_BASE</span> <span class="o">+</span> <span class="n">ABIT_UGURU3_REGION_LENGTH</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">res</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">ABIT_UGURU3_NAME</span><span class="p">;</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">platform_device_add_resources</span><span class="p">(</span><span class="n">abituguru3_pdev</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">res</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;Device resource addition failed (%d)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">);</span>
		<span class="k">goto</span> <span class="n">exit_device_put</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">err</span> <span class="o">=</span> <span class="n">platform_device_add</span><span class="p">(</span><span class="n">abituguru3_pdev</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;Device addition failed (%d)</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">err</span><span class="p">);</span>
		<span class="k">goto</span> <span class="n">exit_device_put</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>

<span class="nl">exit_device_put:</span>
	<span class="n">platform_device_put</span><span class="p">(</span><span class="n">abituguru3_pdev</span><span class="p">);</span>
<span class="nl">exit_driver_unregister:</span>
	<span class="n">platform_driver_unregister</span><span class="p">(</span><span class="o">&amp;</span><span class="n">abituguru3_driver</span><span class="p">);</span>
<span class="nl">exit:</span>
	<span class="k">return</span> <span class="n">err</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__exit</span> <span class="nf">abituguru3_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">platform_device_unregister</span><span class="p">(</span><span class="n">abituguru3_pdev</span><span class="p">);</span>
	<span class="n">platform_driver_unregister</span><span class="p">(</span><span class="o">&amp;</span><span class="n">abituguru3_driver</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">MODULE_AUTHOR</span><span class="p">(</span><span class="s">&quot;Hans de Goede &lt;hdegoede@redhat.com&gt;&quot;</span><span class="p">);</span>
<span class="n">MODULE_DESCRIPTION</span><span class="p">(</span><span class="s">&quot;Abit uGuru3 Sensor device&quot;</span><span class="p">);</span>
<span class="n">MODULE_LICENSE</span><span class="p">(</span><span class="s">&quot;GPL&quot;</span><span class="p">);</span>

<span class="n">module_init</span><span class="p">(</span><span class="n">abituguru3_init</span><span class="p">);</span>
<span class="n">module_exit</span><span class="p">(</span><span class="n">abituguru3_exit</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
