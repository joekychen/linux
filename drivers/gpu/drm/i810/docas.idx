f | i810_dma.c | s | 32K | 1040 | Al Viro | viro@zeniv.linux.org.uk | 1338426294 |  | i810: switch to vm_mmap()  Weirdness around do_mmap() in there does not rely on ->mmap_sem for exclusion, so no need to keep it under that.  As the result, we can turn that do_mmap() into vm_mmap().  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | i810_drv.h | s | 7.6K | 208 | Daniel Vetter | daniel.vetter@ffwll.ch | 1327915885 |  | Revert "drm/i810: cleanup reclaim_buffers"  This reverts commit 87499ffdcb1c70f66988cd8febc4ead0ba2f9118.  Where is that paper bag ... ah here.  I've failed to take an odd interaction between my other cleanups and this reclaim_buffers patch into account and also failed to properly test it. Looks like there are more dragons and hidden trapdoors in the drm release path than actual lines of code.  Until I get a clue, let's just revert this.  Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>  Signed-off-by: Dave Airlie <airlied@redhat.com>
f | i810_drv.c | s | 3.1K | 92 | Daniel Vetter | daniel.vetter@ffwll.ch | 1327915885 |  | Revert "drm/i810: cleanup reclaim_buffers"  This reverts commit 87499ffdcb1c70f66988cd8febc4ead0ba2f9118.  Where is that paper bag ... ah here.  I've failed to take an odd interaction between my other cleanups and this reclaim_buffers patch into account and also failed to properly test it. Looks like there are more dragons and hidden trapdoors in the drm release path than actual lines of code.  Until I get a clue, let's just revert this.  Signed-Off-by: Daniel Vetter <daniel.vetter@ffwll.ch>  Signed-off-by: Dave Airlie <airlied@redhat.com>
f | Makefile | g | 241B |  | Dave Airlie | airlied@redhat.com | 1215996301 |  | drm: reorganise drm tree to be more future proof.  With the coming of kernel based modesetting and the memory manager stuff, the everything in one directory approach was getting very ugly and starting to be unmanageable.  This restructures the drm along the lines of other kernel components.  It creates a drivers/gpu/drm directory and moves the hw drivers into subdirectores. It moves the includes into an include/drm, and sets up the unifdef for the userspace headers we should be exporting.  Signed-off-by: Dave Airlie <airlied@redhat.com>
