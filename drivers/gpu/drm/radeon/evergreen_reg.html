<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › gpu › drm › radeon › evergreen_reg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>evergreen_reg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright 2010 Advanced Micro Devices, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="cm"> * copy of this software and associated documentation files (the &quot;Software&quot;),</span>
<span class="cm"> * to deal in the Software without restriction, including without limitation</span>
<span class="cm"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</span>
<span class="cm"> * and/or sell copies of the Software, and to permit persons to whom the</span>
<span class="cm"> * Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> *</span>
<span class="cm"> * The above copyright notice and this permission notice shall be included in</span>
<span class="cm"> * all copies or substantial portions of the Software.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="cm"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL</span>
<span class="cm"> * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR</span>
<span class="cm"> * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</span>
<span class="cm"> * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>
<span class="cm"> * OTHER DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> *</span>
<span class="cm"> * Authors: Alex Deucher</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __EVERGREEN_REG_H__</span>
<span class="cp">#define __EVERGREEN_REG_H__</span>

<span class="cm">/* evergreen */</span>
<span class="cp">#define EVERGREEN_VGA_MEMORY_BASE_ADDRESS               0x310</span>
<span class="cp">#define EVERGREEN_VGA_MEMORY_BASE_ADDRESS_HIGH          0x324</span>
<span class="cp">#define EVERGREEN_D3VGA_CONTROL                         0x3e0</span>
<span class="cp">#define EVERGREEN_D4VGA_CONTROL                         0x3e4</span>
<span class="cp">#define EVERGREEN_D5VGA_CONTROL                         0x3e8</span>
<span class="cp">#define EVERGREEN_D6VGA_CONTROL                         0x3ec</span>

<span class="cp">#define EVERGREEN_P1PLL_SS_CNTL                         0x414</span>
<span class="cp">#define EVERGREEN_P2PLL_SS_CNTL                         0x454</span>
<span class="cp">#       define EVERGREEN_PxPLL_SS_EN                    (1 &lt;&lt; 12)</span>

<span class="cp">#define EVERGREEN_AUDIO_PLL1_MUL			0x5b0</span>
<span class="cp">#define EVERGREEN_AUDIO_PLL1_DIV			0x5b4</span>
<span class="cp">#define EVERGREEN_AUDIO_PLL1_UNK			0x5bc</span>

<span class="cp">#define EVERGREEN_AUDIO_ENABLE				0x5e78</span>
<span class="cp">#define EVERGREEN_AUDIO_VENDOR_ID			0x5ec0</span>

<span class="cm">/* GRPH blocks at 0x6800, 0x7400, 0x10000, 0x10c00, 0x11800, 0x12400 */</span>
<span class="cp">#define EVERGREEN_GRPH_ENABLE                           0x6800</span>
<span class="cp">#define EVERGREEN_GRPH_CONTROL                          0x6804</span>
<span class="cp">#       define EVERGREEN_GRPH_DEPTH(x)                  (((x) &amp; 0x3) &lt;&lt; 0)</span>
<span class="cp">#       define EVERGREEN_GRPH_DEPTH_8BPP                0</span>
<span class="cp">#       define EVERGREEN_GRPH_DEPTH_16BPP               1</span>
<span class="cp">#       define EVERGREEN_GRPH_DEPTH_32BPP               2</span>
<span class="cp">#       define EVERGREEN_GRPH_NUM_BANKS(x)              (((x) &amp; 0x3) &lt;&lt; 2)</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_2_BANK               0</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_4_BANK               1</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_8_BANK               2</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_16_BANK              3</span>
<span class="cp">#       define EVERGREEN_GRPH_Z(x)                      (((x) &amp; 0x3) &lt;&lt; 4)</span>
<span class="cp">#       define EVERGREEN_GRPH_BANK_WIDTH(x)             (((x) &amp; 0x3) &lt;&lt; 6)</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_WIDTH_1         0</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_WIDTH_2         1</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_WIDTH_4         2</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_WIDTH_8         3</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT(x)                 (((x) &amp; 0x7) &lt;&lt; 8)</span>
<span class="cm">/* 8 BPP */</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_INDEXED            0</span>
<span class="cm">/* 16 BPP */</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_ARGB1555           0</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_ARGB565            1</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_ARGB4444           2</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_AI88               3</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_MONO16             4</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_BGRA5551           5</span>
<span class="cm">/* 32 BPP */</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_ARGB8888           0</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_ARGB2101010        1</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_32BPP_DIG          2</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_8B_ARGB2101010     3</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_BGRA1010102        4</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_8B_BGRA1010102     5</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_RGB111110          6</span>
<span class="cp">#       define EVERGREEN_GRPH_FORMAT_BGR101111          7</span>
<span class="cp">#       define EVERGREEN_GRPH_BANK_HEIGHT(x)            (((x) &amp; 0x3) &lt;&lt; 11)</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_HEIGHT_1        0</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_HEIGHT_2        1</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_HEIGHT_4        2</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_BANK_HEIGHT_8        3</span>
<span class="cp">#       define EVERGREEN_GRPH_TILE_SPLIT(x)             (((x) &amp; 0x7) &lt;&lt; 13)</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_TILE_SPLIT_64B       0</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_TILE_SPLIT_128B      1</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_TILE_SPLIT_256B      2</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_TILE_SPLIT_512B      3</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_TILE_SPLIT_1KB       4</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_TILE_SPLIT_2KB       5</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_TILE_SPLIT_4KB       6</span>
<span class="cp">#       define EVERGREEN_GRPH_MACRO_TILE_ASPECT(x)      (((x) &amp; 0x3) &lt;&lt; 18)</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_MACRO_TILE_ASPECT_1  0</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_MACRO_TILE_ASPECT_2  1</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_MACRO_TILE_ASPECT_4  2</span>
<span class="cp">#       define EVERGREEN_ADDR_SURF_MACRO_TILE_ASPECT_8  3</span>
<span class="cp">#       define EVERGREEN_GRPH_ARRAY_MODE(x)             (((x) &amp; 0x7) &lt;&lt; 20)</span>
<span class="cp">#       define EVERGREEN_GRPH_ARRAY_LINEAR_GENERAL      0</span>
<span class="cp">#       define EVERGREEN_GRPH_ARRAY_LINEAR_ALIGNED      1</span>
<span class="cp">#       define EVERGREEN_GRPH_ARRAY_1D_TILED_THIN1      2</span>
<span class="cp">#       define EVERGREEN_GRPH_ARRAY_2D_TILED_THIN1      4</span>
<span class="cp">#define EVERGREEN_GRPH_SWAP_CONTROL                     0x680c</span>
<span class="cp">#       define EVERGREEN_GRPH_ENDIAN_SWAP(x)            (((x) &amp; 0x3) &lt;&lt; 0)</span>
<span class="cp">#       define EVERGREEN_GRPH_ENDIAN_NONE               0</span>
<span class="cp">#       define EVERGREEN_GRPH_ENDIAN_8IN16              1</span>
<span class="cp">#       define EVERGREEN_GRPH_ENDIAN_8IN32              2</span>
<span class="cp">#       define EVERGREEN_GRPH_ENDIAN_8IN64              3</span>
<span class="cp">#       define EVERGREEN_GRPH_RED_CROSSBAR(x)           (((x) &amp; 0x3) &lt;&lt; 4)</span>
<span class="cp">#       define EVERGREEN_GRPH_RED_SEL_R                 0</span>
<span class="cp">#       define EVERGREEN_GRPH_RED_SEL_G                 1</span>
<span class="cp">#       define EVERGREEN_GRPH_RED_SEL_B                 2</span>
<span class="cp">#       define EVERGREEN_GRPH_RED_SEL_A                 3</span>
<span class="cp">#       define EVERGREEN_GRPH_GREEN_CROSSBAR(x)         (((x) &amp; 0x3) &lt;&lt; 6)</span>
<span class="cp">#       define EVERGREEN_GRPH_GREEN_SEL_G               0</span>
<span class="cp">#       define EVERGREEN_GRPH_GREEN_SEL_B               1</span>
<span class="cp">#       define EVERGREEN_GRPH_GREEN_SEL_A               2</span>
<span class="cp">#       define EVERGREEN_GRPH_GREEN_SEL_R               3</span>
<span class="cp">#       define EVERGREEN_GRPH_BLUE_CROSSBAR(x)          (((x) &amp; 0x3) &lt;&lt; 8)</span>
<span class="cp">#       define EVERGREEN_GRPH_BLUE_SEL_B                0</span>
<span class="cp">#       define EVERGREEN_GRPH_BLUE_SEL_A                1</span>
<span class="cp">#       define EVERGREEN_GRPH_BLUE_SEL_R                2</span>
<span class="cp">#       define EVERGREEN_GRPH_BLUE_SEL_G                3</span>
<span class="cp">#       define EVERGREEN_GRPH_ALPHA_CROSSBAR(x)         (((x) &amp; 0x3) &lt;&lt; 10)</span>
<span class="cp">#       define EVERGREEN_GRPH_ALPHA_SEL_A               0</span>
<span class="cp">#       define EVERGREEN_GRPH_ALPHA_SEL_R               1</span>
<span class="cp">#       define EVERGREEN_GRPH_ALPHA_SEL_G               2</span>
<span class="cp">#       define EVERGREEN_GRPH_ALPHA_SEL_B               3</span>
<span class="cp">#define EVERGREEN_GRPH_PRIMARY_SURFACE_ADDRESS          0x6810</span>
<span class="cp">#define EVERGREEN_GRPH_SECONDARY_SURFACE_ADDRESS        0x6814</span>
<span class="cp">#       define EVERGREEN_GRPH_DFQ_ENABLE                (1 &lt;&lt; 0)</span>
<span class="cp">#       define EVERGREEN_GRPH_SURFACE_ADDRESS_MASK      0xffffff00</span>
<span class="cp">#define EVERGREEN_GRPH_PITCH                            0x6818</span>
<span class="cp">#define EVERGREEN_GRPH_PRIMARY_SURFACE_ADDRESS_HIGH     0x681c</span>
<span class="cp">#define EVERGREEN_GRPH_SECONDARY_SURFACE_ADDRESS_HIGH   0x6820</span>
<span class="cp">#define EVERGREEN_GRPH_SURFACE_OFFSET_X                 0x6824</span>
<span class="cp">#define EVERGREEN_GRPH_SURFACE_OFFSET_Y                 0x6828</span>
<span class="cp">#define EVERGREEN_GRPH_X_START                          0x682c</span>
<span class="cp">#define EVERGREEN_GRPH_Y_START                          0x6830</span>
<span class="cp">#define EVERGREEN_GRPH_X_END                            0x6834</span>
<span class="cp">#define EVERGREEN_GRPH_Y_END                            0x6838</span>
<span class="cp">#define EVERGREEN_GRPH_UPDATE                           0x6844</span>
<span class="cp">#       define EVERGREEN_GRPH_SURFACE_UPDATE_PENDING    (1 &lt;&lt; 2)</span>
<span class="cp">#       define EVERGREEN_GRPH_UPDATE_LOCK               (1 &lt;&lt; 16)</span>
<span class="cp">#define EVERGREEN_GRPH_FLIP_CONTROL                     0x6848</span>
<span class="cp">#       define EVERGREEN_GRPH_SURFACE_UPDATE_H_RETRACE_EN (1 &lt;&lt; 0)</span>

<span class="cm">/* CUR blocks at 0x6998, 0x7598, 0x10198, 0x10d98, 0x11998, 0x12598 */</span>
<span class="cp">#define EVERGREEN_CUR_CONTROL                           0x6998</span>
<span class="cp">#       define EVERGREEN_CURSOR_EN                      (1 &lt;&lt; 0)</span>
<span class="cp">#       define EVERGREEN_CURSOR_MODE(x)                 (((x) &amp; 0x3) &lt;&lt; 8)</span>
<span class="cp">#       define EVERGREEN_CURSOR_MONO                    0</span>
<span class="cp">#       define EVERGREEN_CURSOR_24_1                    1</span>
<span class="cp">#       define EVERGREEN_CURSOR_24_8_PRE_MULT           2</span>
<span class="cp">#       define EVERGREEN_CURSOR_24_8_UNPRE_MULT         3</span>
<span class="cp">#       define EVERGREEN_CURSOR_2X_MAGNIFY              (1 &lt;&lt; 16)</span>
<span class="cp">#       define EVERGREEN_CURSOR_FORCE_MC_ON             (1 &lt;&lt; 20)</span>
<span class="cp">#       define EVERGREEN_CURSOR_URGENT_CONTROL(x)       (((x) &amp; 0x7) &lt;&lt; 24)</span>
<span class="cp">#       define EVERGREEN_CURSOR_URGENT_ALWAYS           0</span>
<span class="cp">#       define EVERGREEN_CURSOR_URGENT_1_8              1</span>
<span class="cp">#       define EVERGREEN_CURSOR_URGENT_1_4              2</span>
<span class="cp">#       define EVERGREEN_CURSOR_URGENT_3_8              3</span>
<span class="cp">#       define EVERGREEN_CURSOR_URGENT_1_2              4</span>
<span class="cp">#define EVERGREEN_CUR_SURFACE_ADDRESS                   0x699c</span>
<span class="cp">#       define EVERGREEN_CUR_SURFACE_ADDRESS_MASK       0xfffff000</span>
<span class="cp">#define EVERGREEN_CUR_SIZE                              0x69a0</span>
<span class="cp">#define EVERGREEN_CUR_SURFACE_ADDRESS_HIGH              0x69a4</span>
<span class="cp">#define EVERGREEN_CUR_POSITION                          0x69a8</span>
<span class="cp">#define EVERGREEN_CUR_HOT_SPOT                          0x69ac</span>
<span class="cp">#define EVERGREEN_CUR_COLOR1                            0x69b0</span>
<span class="cp">#define EVERGREEN_CUR_COLOR2                            0x69b4</span>
<span class="cp">#define EVERGREEN_CUR_UPDATE                            0x69b8</span>
<span class="cp">#       define EVERGREEN_CURSOR_UPDATE_PENDING          (1 &lt;&lt; 0)</span>
<span class="cp">#       define EVERGREEN_CURSOR_UPDATE_TAKEN            (1 &lt;&lt; 1)</span>
<span class="cp">#       define EVERGREEN_CURSOR_UPDATE_LOCK             (1 &lt;&lt; 16)</span>
<span class="cp">#       define EVERGREEN_CURSOR_DISABLE_MULTIPLE_UPDATE (1 &lt;&lt; 24)</span>

<span class="cm">/* LUT blocks at 0x69e0, 0x75e0, 0x101e0, 0x10de0, 0x119e0, 0x125e0 */</span>
<span class="cp">#define EVERGREEN_DC_LUT_RW_MODE                        0x69e0</span>
<span class="cp">#define EVERGREEN_DC_LUT_RW_INDEX                       0x69e4</span>
<span class="cp">#define EVERGREEN_DC_LUT_SEQ_COLOR                      0x69e8</span>
<span class="cp">#define EVERGREEN_DC_LUT_PWL_DATA                       0x69ec</span>
<span class="cp">#define EVERGREEN_DC_LUT_30_COLOR                       0x69f0</span>
<span class="cp">#define EVERGREEN_DC_LUT_VGA_ACCESS_ENABLE              0x69f4</span>
<span class="cp">#define EVERGREEN_DC_LUT_WRITE_EN_MASK                  0x69f8</span>
<span class="cp">#define EVERGREEN_DC_LUT_AUTOFILL                       0x69fc</span>
<span class="cp">#define EVERGREEN_DC_LUT_CONTROL                        0x6a00</span>
<span class="cp">#define EVERGREEN_DC_LUT_BLACK_OFFSET_BLUE              0x6a04</span>
<span class="cp">#define EVERGREEN_DC_LUT_BLACK_OFFSET_GREEN             0x6a08</span>
<span class="cp">#define EVERGREEN_DC_LUT_BLACK_OFFSET_RED               0x6a0c</span>
<span class="cp">#define EVERGREEN_DC_LUT_WHITE_OFFSET_BLUE              0x6a10</span>
<span class="cp">#define EVERGREEN_DC_LUT_WHITE_OFFSET_GREEN             0x6a14</span>
<span class="cp">#define EVERGREEN_DC_LUT_WHITE_OFFSET_RED               0x6a18</span>

<span class="cp">#define EVERGREEN_DATA_FORMAT                           0x6b00</span>
<span class="cp">#       define EVERGREEN_INTERLEAVE_EN                  (1 &lt;&lt; 0)</span>
<span class="cp">#define EVERGREEN_DESKTOP_HEIGHT                        0x6b04</span>
<span class="cp">#define EVERGREEN_VLINE_START_END                       0x6b08</span>
<span class="cp">#define EVERGREEN_VLINE_STATUS                          0x6bb8</span>
<span class="cp">#       define EVERGREEN_VLINE_STAT                     (1 &lt;&lt; 12)</span>

<span class="cp">#define EVERGREEN_VIEWPORT_START                        0x6d70</span>
<span class="cp">#define EVERGREEN_VIEWPORT_SIZE                         0x6d74</span>

<span class="cm">/* display controller offsets used for crtc/cur/lut/grph/viewport/etc. */</span>
<span class="cp">#define EVERGREEN_CRTC0_REGISTER_OFFSET                 (0x6df0 - 0x6df0)</span>
<span class="cp">#define EVERGREEN_CRTC1_REGISTER_OFFSET                 (0x79f0 - 0x6df0)</span>
<span class="cp">#define EVERGREEN_CRTC2_REGISTER_OFFSET                 (0x105f0 - 0x6df0)</span>
<span class="cp">#define EVERGREEN_CRTC3_REGISTER_OFFSET                 (0x111f0 - 0x6df0)</span>
<span class="cp">#define EVERGREEN_CRTC4_REGISTER_OFFSET                 (0x11df0 - 0x6df0)</span>
<span class="cp">#define EVERGREEN_CRTC5_REGISTER_OFFSET                 (0x129f0 - 0x6df0)</span>

<span class="cm">/* CRTC blocks at 0x6df0, 0x79f0, 0x105f0, 0x111f0, 0x11df0, 0x129f0 */</span>
<span class="cp">#define EVERGREEN_CRTC_V_BLANK_START_END                0x6e34</span>
<span class="cp">#define EVERGREEN_CRTC_CONTROL                          0x6e70</span>
<span class="cp">#       define EVERGREEN_CRTC_MASTER_EN                 (1 &lt;&lt; 0)</span>
<span class="cp">#       define EVERGREEN_CRTC_DISP_READ_REQUEST_DISABLE (1 &lt;&lt; 24)</span>
<span class="cp">#define EVERGREEN_CRTC_STATUS                           0x6e8c</span>
<span class="cp">#       define EVERGREEN_CRTC_V_BLANK                   (1 &lt;&lt; 0)</span>
<span class="cp">#define EVERGREEN_CRTC_STATUS_POSITION                  0x6e90</span>
<span class="cp">#define EVERGREEN_MASTER_UPDATE_MODE                    0x6ef8</span>
<span class="cp">#define EVERGREEN_CRTC_UPDATE_LOCK                      0x6ed4</span>

<span class="cp">#define EVERGREEN_DC_GPIO_HPD_MASK                      0x64b0</span>
<span class="cp">#define EVERGREEN_DC_GPIO_HPD_A                         0x64b4</span>
<span class="cp">#define EVERGREEN_DC_GPIO_HPD_EN                        0x64b8</span>
<span class="cp">#define EVERGREEN_DC_GPIO_HPD_Y                         0x64bc</span>

<span class="cm">/* HDMI blocks at 0x7030, 0x7c30, 0x10830, 0x11430, 0x12030, 0x12c30 */</span>
<span class="cp">#define EVERGREEN_HDMI_BASE				0x7030</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
