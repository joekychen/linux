<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › gpu › drm › radeon › atombios.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>atombios.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright 2006-2007 Advanced Micro Devices, Inc.  </span>
<span class="cm"> *</span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="cm"> * copy of this software and associated documentation files (the &quot;Software&quot;),</span>
<span class="cm"> * to deal in the Software without restriction, including without limitation</span>
<span class="cm"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</span>
<span class="cm"> * and/or sell copies of the Software, and to permit persons to whom the</span>
<span class="cm"> * Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> *</span>
<span class="cm"> * The above copyright notice and this permission notice shall be included in</span>
<span class="cm"> * all copies or substantial portions of the Software.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="cm"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL</span>
<span class="cm"> * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR</span>
<span class="cm"> * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</span>
<span class="cm"> * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>
<span class="cm"> * OTHER DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> */</span>


<span class="cm">/****************************************************************************/</span>	
<span class="cm">/*Portion I: Definitions  shared between VBIOS and Driver                   */</span>
<span class="cm">/****************************************************************************/</span>


<span class="cp">#ifndef _ATOMBIOS_H</span>
<span class="cp">#define _ATOMBIOS_H</span>

<span class="cp">#define ATOM_VERSION_MAJOR                   0x00020000</span>
<span class="cp">#define ATOM_VERSION_MINOR                   0x00000002</span>

<span class="cp">#define ATOM_HEADER_VERSION (ATOM_VERSION_MAJOR | ATOM_VERSION_MINOR)</span>

<span class="cm">/* Endianness should be specified before inclusion,</span>
<span class="cm"> * default to little endian</span>
<span class="cm"> */</span>
<span class="cp">#ifndef ATOM_BIG_ENDIAN</span>
<span class="cp">#error Endian not specified</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef _H2INC</span>
  <span class="cp">#ifndef ULONG </span>
    <span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ULONG</span><span class="p">;</span>
  <span class="cp">#endif</span>

  <span class="cp">#ifndef UCHAR</span>
    <span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">UCHAR</span><span class="p">;</span>
  <span class="cp">#endif</span>

  <span class="cp">#ifndef USHORT </span>
    <span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">USHORT</span><span class="p">;</span>
  <span class="cp">#endif</span>
<span class="cp">#endif</span>
      
<span class="cp">#define ATOM_DAC_A            0 </span>
<span class="cp">#define ATOM_DAC_B            1</span>
<span class="cp">#define ATOM_EXT_DAC          2</span>

<span class="cp">#define ATOM_CRTC1            0</span>
<span class="cp">#define ATOM_CRTC2            1</span>
<span class="cp">#define ATOM_CRTC3            2</span>
<span class="cp">#define ATOM_CRTC4            3</span>
<span class="cp">#define ATOM_CRTC5            4</span>
<span class="cp">#define ATOM_CRTC6            5</span>
<span class="cp">#define ATOM_CRTC_INVALID     0xFF</span>

<span class="cp">#define ATOM_DIGA             0</span>
<span class="cp">#define ATOM_DIGB             1</span>

<span class="cp">#define ATOM_PPLL1            0</span>
<span class="cp">#define ATOM_PPLL2            1</span>
<span class="cp">#define ATOM_DCPLL            2</span>
<span class="cp">#define ATOM_PPLL0            2</span>
<span class="cp">#define ATOM_EXT_PLL1         8</span>
<span class="cp">#define ATOM_EXT_PLL2         9</span>
<span class="cp">#define ATOM_EXT_CLOCK        10</span>
<span class="cp">#define ATOM_PPLL_INVALID     0xFF</span>

<span class="cp">#define ENCODER_REFCLK_SRC_P1PLL       0       </span>
<span class="cp">#define ENCODER_REFCLK_SRC_P2PLL       1</span>
<span class="cp">#define ENCODER_REFCLK_SRC_DCPLL       2</span>
<span class="cp">#define ENCODER_REFCLK_SRC_EXTCLK      3</span>
<span class="cp">#define ENCODER_REFCLK_SRC_INVALID     0xFF</span>

<span class="cp">#define ATOM_SCALER1          0</span>
<span class="cp">#define ATOM_SCALER2          1</span>

<span class="cp">#define ATOM_SCALER_DISABLE   0   </span>
<span class="cp">#define ATOM_SCALER_CENTER    1   </span>
<span class="cp">#define ATOM_SCALER_EXPANSION 2   </span>
<span class="cp">#define ATOM_SCALER_MULTI_EX  3   </span>

<span class="cp">#define ATOM_DISABLE          0</span>
<span class="cp">#define ATOM_ENABLE           1</span>
<span class="cp">#define ATOM_LCD_BLOFF                          (ATOM_DISABLE+2)</span>
<span class="cp">#define ATOM_LCD_BLON                           (ATOM_ENABLE+2)</span>
<span class="cp">#define ATOM_LCD_BL_BRIGHTNESS_CONTROL          (ATOM_ENABLE+3)</span>
<span class="cp">#define ATOM_LCD_SELFTEST_START									(ATOM_DISABLE+5)</span>
<span class="cp">#define ATOM_LCD_SELFTEST_STOP									(ATOM_ENABLE+5)</span>
<span class="cp">#define ATOM_ENCODER_INIT			                  (ATOM_DISABLE+7)</span>
<span class="cp">#define ATOM_INIT			                          (ATOM_DISABLE+7)</span>
<span class="cp">#define ATOM_GET_STATUS                         (ATOM_DISABLE+8)</span>

<span class="cp">#define ATOM_BLANKING         1</span>
<span class="cp">#define ATOM_BLANKING_OFF     0</span>

<span class="cp">#define ATOM_CURSOR1          0</span>
<span class="cp">#define ATOM_CURSOR2          1</span>

<span class="cp">#define ATOM_ICON1            0</span>
<span class="cp">#define ATOM_ICON2            1</span>

<span class="cp">#define ATOM_CRT1             0</span>
<span class="cp">#define ATOM_CRT2             1</span>

<span class="cp">#define ATOM_TV_NTSC          1</span>
<span class="cp">#define ATOM_TV_NTSCJ         2</span>
<span class="cp">#define ATOM_TV_PAL           3</span>
<span class="cp">#define ATOM_TV_PALM          4</span>
<span class="cp">#define ATOM_TV_PALCN         5</span>
<span class="cp">#define ATOM_TV_PALN          6</span>
<span class="cp">#define ATOM_TV_PAL60         7</span>
<span class="cp">#define ATOM_TV_SECAM         8</span>
<span class="cp">#define ATOM_TV_CV            16</span>

<span class="cp">#define ATOM_DAC1_PS2         1</span>
<span class="cp">#define ATOM_DAC1_CV          2</span>
<span class="cp">#define ATOM_DAC1_NTSC        3</span>
<span class="cp">#define ATOM_DAC1_PAL         4</span>

<span class="cp">#define ATOM_DAC2_PS2         ATOM_DAC1_PS2</span>
<span class="cp">#define ATOM_DAC2_CV          ATOM_DAC1_CV</span>
<span class="cp">#define ATOM_DAC2_NTSC        ATOM_DAC1_NTSC</span>
<span class="cp">#define ATOM_DAC2_PAL         ATOM_DAC1_PAL</span>
 
<span class="cp">#define ATOM_PM_ON            0</span>
<span class="cp">#define ATOM_PM_STANDBY       1</span>
<span class="cp">#define ATOM_PM_SUSPEND       2</span>
<span class="cp">#define ATOM_PM_OFF           3</span>

<span class="cm">/* Bit0:{=0:single, =1:dual},</span>
<span class="cm">   Bit1 {=0:666RGB, =1:888RGB},</span>
<span class="cm">   Bit2:3:{Grey level}</span>
<span class="cm">   Bit4:{=0:LDI format for RGB888, =1 FPDI format for RGB888}*/</span>

<span class="cp">#define ATOM_PANEL_MISC_DUAL               0x00000001</span>
<span class="cp">#define ATOM_PANEL_MISC_888RGB             0x00000002</span>
<span class="cp">#define ATOM_PANEL_MISC_GREY_LEVEL         0x0000000C</span>
<span class="cp">#define ATOM_PANEL_MISC_FPDI               0x00000010</span>
<span class="cp">#define ATOM_PANEL_MISC_GREY_LEVEL_SHIFT   2</span>
<span class="cp">#define ATOM_PANEL_MISC_SPATIAL            0x00000020</span>
<span class="cp">#define ATOM_PANEL_MISC_TEMPORAL           0x00000040</span>
<span class="cp">#define ATOM_PANEL_MISC_API_ENABLED        0x00000080</span>


<span class="cp">#define MEMTYPE_DDR1              &quot;DDR1&quot;</span>
<span class="cp">#define MEMTYPE_DDR2              &quot;DDR2&quot;</span>
<span class="cp">#define MEMTYPE_DDR3              &quot;DDR3&quot;</span>
<span class="cp">#define MEMTYPE_DDR4              &quot;DDR4&quot;</span>

<span class="cp">#define ASIC_BUS_TYPE_PCI         &quot;PCI&quot;</span>
<span class="cp">#define ASIC_BUS_TYPE_AGP         &quot;AGP&quot;</span>
<span class="cp">#define ASIC_BUS_TYPE_PCIE        &quot;PCI_EXPRESS&quot;</span>

<span class="cm">/* Maximum size of that FireGL flag string */</span>

<span class="cp">#define ATOM_FIREGL_FLAG_STRING     &quot;FGL&quot;             </span><span class="c1">//Flag used to enable FireGL Support</span>
<span class="cp">#define ATOM_MAX_SIZE_OF_FIREGL_FLAG_STRING  3        </span><span class="c1">//sizeof( ATOM_FIREGL_FLAG_STRING )</span>

<span class="cp">#define ATOM_FAKE_DESKTOP_STRING    &quot;DSK&quot;             </span><span class="c1">//Flag used to enable mobile ASIC on Desktop</span>
<span class="cp">#define ATOM_MAX_SIZE_OF_FAKE_DESKTOP_STRING  ATOM_MAX_SIZE_OF_FIREGL_FLAG_STRING </span>

<span class="cp">#define ATOM_M54T_FLAG_STRING       &quot;M54T&quot;            </span><span class="c1">//Flag used to enable M54T Support</span>
<span class="cp">#define ATOM_MAX_SIZE_OF_M54T_FLAG_STRING    4        </span><span class="c1">//sizeof( ATOM_M54T_FLAG_STRING )</span>

<span class="cp">#define HW_ASSISTED_I2C_STATUS_FAILURE          2</span>
<span class="cp">#define HW_ASSISTED_I2C_STATUS_SUCCESS          1</span>

<span class="cp">#pragma pack(1)                                       </span><span class="cm">/* BIOS data must use byte aligment */</span><span class="cp"></span>

<span class="cm">/*  Define offset to location of ROM header. */</span>

<span class="cp">#define OFFSET_TO_POINTER_TO_ATOM_ROM_HEADER		0x00000048L</span>
<span class="cp">#define OFFSET_TO_ATOM_ROM_IMAGE_SIZE				    0x00000002L</span>

<span class="cp">#define OFFSET_TO_ATOMBIOS_ASIC_BUS_MEM_TYPE    0x94</span>
<span class="cp">#define MAXSIZE_OF_ATOMBIOS_ASIC_BUS_MEM_TYPE   20    </span><span class="cm">/* including the terminator 0x0! */</span><span class="cp"></span>
<span class="cp">#define	OFFSET_TO_GET_ATOMBIOS_STRINGS_NUMBER		0x002f</span>
<span class="cp">#define	OFFSET_TO_GET_ATOMBIOS_STRINGS_START		0x006e</span>

<span class="cm">/* Common header for all ROM Data tables.</span>
<span class="cm">  Every table pointed  _ATOM_MASTER_DATA_TABLE has this common header. </span>
<span class="cm">  And the pointer actually points to this header. */</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_COMMON_TABLE_HEADER</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usStructureSize</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucTableFormatRevision</span><span class="p">;</span>   <span class="cm">/*Change it when the Parser is not backward compatible */</span>
  <span class="n">UCHAR</span>  <span class="n">ucTableContentRevision</span><span class="p">;</span>  <span class="cm">/*Change it only when the table needs to change but the firmware */</span>
                                  <span class="cm">/*Image can&#39;t be updated, while Driver needs to carry the new table! */</span>
<span class="p">}</span><span class="n">ATOM_COMMON_TABLE_HEADER</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>Structure stores the ROM header.</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ROM_HEADER</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>		<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">UCHAR</span>	 <span class="n">uaFirmWareSignature</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>    <span class="cm">/*Signature to distinguish between Atombios and non-atombios, </span>
<span class="cm">                                      atombios should init it as &quot;ATOM&quot;, don&#39;t change the position */</span>
  <span class="n">USHORT</span> <span class="n">usBiosRuntimeSegmentAddress</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usProtectedModeInfoOffset</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usConfigFilenameOffset</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usCRC_BlockOffset</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usBIOS_BootupMessageOffset</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usInt10Offset</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPciBusDevInitCode</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usIoBaseAddress</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usSubsystemVendorID</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usSubsystemID</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPCI_InfoOffset</span><span class="p">;</span> 
  <span class="n">USHORT</span> <span class="n">usMasterCommandTableOffset</span><span class="p">;</span> <span class="cm">/*Offset for SW to get all command table offsets, Don&#39;t change the position */</span>
  <span class="n">USHORT</span> <span class="n">usMasterDataTableOffset</span><span class="p">;</span>   <span class="cm">/*Offset for SW to get all data table offsets, Don&#39;t change the position */</span>
  <span class="n">UCHAR</span>  <span class="n">ucExtendedFunctionCode</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_ROM_HEADER</span><span class="p">;</span>

<span class="cm">/*==============================Command Table Portion==================================== */</span>

<span class="cp">#ifdef	UEFI_BUILD</span>
	<span class="cp">#define	UTEMP	USHORT</span>
	<span class="cp">#define	USHORT	void*</span>
<span class="cp">#endif</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>Structures used in Command.mtb </p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MASTER_LIST_OF_COMMAND_TABLES</span><span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">ASIC_Init</span><span class="p">;</span>                              <span class="c1">//Function Table, used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">GetDisplaySurfaceSize</span><span class="p">;</span>                  <span class="c1">//Atomic Table,  Used by Bios when enabling HW ICON</span>
  <span class="n">USHORT</span> <span class="n">ASIC_RegistersInit</span><span class="p">;</span>                     <span class="c1">//Atomic Table,  indirectly used by various SW components,called from ASIC_Init</span>
  <span class="n">USHORT</span> <span class="n">VRAM_BlockVenderDetection</span><span class="p">;</span>              <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">DIGxEncoderControl</span><span class="p">;</span>										 <span class="c1">//Only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">MemoryControllerInit</span><span class="p">;</span>                   <span class="c1">//Atomic Table,  indirectly used by various SW components,called from ASIC_Init</span>
  <span class="n">USHORT</span> <span class="n">EnableCRTCMemReq</span><span class="p">;</span>                       <span class="c1">//Function Table,directly used by various SW components,latest version 2.1</span>
  <span class="n">USHORT</span> <span class="n">MemoryParamAdjust</span><span class="p">;</span> 										 <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemoryClock if needed</span>
  <span class="n">USHORT</span> <span class="n">DVOEncoderControl</span><span class="p">;</span>                      <span class="c1">//Function Table,directly used by various SW components,latest version 1.2</span>
  <span class="n">USHORT</span> <span class="n">GPIOPinControl</span><span class="p">;</span>												 <span class="c1">//Atomic Table,  only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">SetEngineClock</span><span class="p">;</span>                         <span class="c1">//Function Table,directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">SetMemoryClock</span><span class="p">;</span>                         <span class="c1">//Function Table,directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">SetPixelClock</span><span class="p">;</span>                          <span class="c1">//Function Table,directly used by various SW components,latest version 1.2  </span>
  <span class="n">USHORT</span> <span class="n">EnableDispPowerGating</span><span class="p">;</span>                  <span class="c1">//Atomic Table,  indirectly used by various SW components,called from ASIC_Init</span>
  <span class="n">USHORT</span> <span class="n">ResetMemoryDLL</span><span class="p">;</span>                         <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemoryClock</span>
  <span class="n">USHORT</span> <span class="n">ResetMemoryDevice</span><span class="p">;</span>                      <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemoryClock</span>
  <span class="n">USHORT</span> <span class="n">MemoryPLLInit</span><span class="p">;</span>                          <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">AdjustDisplayPll</span><span class="p">;</span>											 <span class="c1">//Atomic Table,  used by various SW componentes. </span>
  <span class="n">USHORT</span> <span class="n">AdjustMemoryController</span><span class="p">;</span>                 <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemoryClock                </span>
  <span class="n">USHORT</span> <span class="n">EnableASIC_StaticPwrMgt</span><span class="p">;</span>                <span class="c1">//Atomic Table,  only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">ASIC_StaticPwrMgtStatusChange</span><span class="p">;</span>          <span class="c1">//Obsolete ,     only used by Bios   </span>
  <span class="n">USHORT</span> <span class="n">DAC_LoadDetection</span><span class="p">;</span>                      <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.2  </span>
  <span class="n">USHORT</span> <span class="n">LVTMAEncoderControl</span><span class="p">;</span>                    <span class="c1">//Atomic Table,directly used by various SW components,latest version 1.3</span>
  <span class="n">USHORT</span> <span class="n">HW_Misc_Operation</span><span class="p">;</span>                      <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">DAC1EncoderControl</span><span class="p">;</span>                     <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1  </span>
  <span class="n">USHORT</span> <span class="n">DAC2EncoderControl</span><span class="p">;</span>                     <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">DVOOutputControl</span><span class="p">;</span>                       <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">CV1OutputControl</span><span class="p">;</span>                       <span class="c1">//Atomic Table,  Atomic Table,  Obsolete from Ry6xx, use DAC2 Output instead </span>
  <span class="n">USHORT</span> <span class="n">GetConditionalGoldenSetting</span><span class="p">;</span>            <span class="c1">//Only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">TVEncoderControl</span><span class="p">;</span>                       <span class="c1">//Function Table,directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">PatchMCSetting</span><span class="p">;</span>                         <span class="c1">//only used by BIOS</span>
  <span class="n">USHORT</span> <span class="n">MC_SEQ_Control</span><span class="p">;</span>                         <span class="c1">//only used by BIOS</span>
  <span class="n">USHORT</span> <span class="n">TV1OutputControl</span><span class="p">;</span>                       <span class="c1">//Atomic Table,  Obsolete from Ry6xx, use DAC2 Output instead</span>
  <span class="n">USHORT</span> <span class="n">EnableScaler</span><span class="p">;</span>                           <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">BlankCRTC</span><span class="p">;</span>                              <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">EnableCRTC</span><span class="p">;</span>                             <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">GetPixelClock</span><span class="p">;</span>                          <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">EnableVGA_Render</span><span class="p">;</span>                       <span class="c1">//Function Table,directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">GetSCLKOverMCLKRatio</span><span class="p">;</span>                   <span class="c1">//Atomic Table,  only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">SetCRTC_Timing</span><span class="p">;</span>                         <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">SetCRTC_OverScan</span><span class="p">;</span>                       <span class="c1">//Atomic Table,  used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">SetCRTC_Replication</span><span class="p">;</span>                    <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">SelectCRTC_Source</span><span class="p">;</span>                      <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">EnableGraphSurfaces</span><span class="p">;</span>                    <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">UpdateCRTC_DoubleBufferRegisters</span><span class="p">;</span>			 <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">LUT_AutoFill</span><span class="p">;</span>                           <span class="c1">//Atomic Table,  only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">EnableHW_IconCursor</span><span class="p">;</span>                    <span class="c1">//Atomic Table,  only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">GetMemoryClock</span><span class="p">;</span>                         <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">GetEngineClock</span><span class="p">;</span>                         <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">SetCRTC_UsingDTDTiming</span><span class="p">;</span>                 <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">ExternalEncoderControl</span><span class="p">;</span>                 <span class="c1">//Atomic Table,  directly used by various SW components,latest version 2.1</span>
  <span class="n">USHORT</span> <span class="n">LVTMAOutputControl</span><span class="p">;</span>                     <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">VRAM_BlockDetectionByStrap</span><span class="p">;</span>             <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">MemoryCleanUp</span><span class="p">;</span>                          <span class="c1">//Atomic Table,  only used by Bios    </span>
  <span class="n">USHORT</span> <span class="n">ProcessI2cChannelTransaction</span><span class="p">;</span>           <span class="c1">//Function Table,only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">WriteOneByteToHWAssistedI2C</span><span class="p">;</span>            <span class="c1">//Function Table,indirectly used by various SW components </span>
  <span class="n">USHORT</span> <span class="n">ReadHWAssistedI2CStatus</span><span class="p">;</span>                <span class="c1">//Atomic Table,  indirectly used by various SW components</span>
  <span class="n">USHORT</span> <span class="n">SpeedFanControl</span><span class="p">;</span>                        <span class="c1">//Function Table,indirectly used by various SW components,called from ASIC_Init</span>
  <span class="n">USHORT</span> <span class="n">PowerConnectorDetection</span><span class="p">;</span>                <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">MC_Synchronization</span><span class="p">;</span>                     <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemoryClock</span>
  <span class="n">USHORT</span> <span class="n">ComputeMemoryEnginePLL</span><span class="p">;</span>                 <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemory/EngineClock</span>
  <span class="n">USHORT</span> <span class="n">MemoryRefreshConversion</span><span class="p">;</span>                <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemory or SetEngineClock</span>
  <span class="n">USHORT</span> <span class="n">VRAM_GetCurrentInfoBlock</span><span class="p">;</span>               <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">DynamicMemorySettings</span><span class="p">;</span>                  <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemoryClock</span>
  <span class="n">USHORT</span> <span class="n">MemoryTraining</span><span class="p">;</span>                         <span class="c1">//Atomic Table,  used only by Bios</span>
  <span class="n">USHORT</span> <span class="n">EnableSpreadSpectrumOnPPLL</span><span class="p">;</span>             <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.2</span>
  <span class="n">USHORT</span> <span class="n">TMDSAOutputControl</span><span class="p">;</span>                     <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">SetVoltage</span><span class="p">;</span>                             <span class="c1">//Function Table,directly and/or indirectly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">DAC1OutputControl</span><span class="p">;</span>                      <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">DAC2OutputControl</span><span class="p">;</span>                      <span class="c1">//Atomic Table,  directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">ComputeMemoryClockParam</span><span class="p">;</span>                <span class="c1">//Function Table,only used by Bios, obsolete soon.Switch to use &quot;ReadEDIDFromHWAssistedI2C&quot;</span>
  <span class="n">USHORT</span> <span class="n">ClockSource</span><span class="p">;</span>                            <span class="c1">//Atomic Table,  indirectly used by various SW components,called from ASIC_Init</span>
  <span class="n">USHORT</span> <span class="n">MemoryDeviceInit</span><span class="p">;</span>                       <span class="c1">//Atomic Table,  indirectly used by various SW components,called from SetMemoryClock</span>
  <span class="n">USHORT</span> <span class="n">GetDispObjectInfo</span><span class="p">;</span>                      <span class="c1">//Atomic Table,  indirectly used by various SW components,called from EnableVGARender</span>
  <span class="n">USHORT</span> <span class="n">DIG1EncoderControl</span><span class="p">;</span>                     <span class="c1">//Atomic Table,directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">DIG2EncoderControl</span><span class="p">;</span>                     <span class="c1">//Atomic Table,directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">DIG1TransmitterControl</span><span class="p">;</span>                 <span class="c1">//Atomic Table,directly used by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span> <span class="n">DIG2TransmitterControl</span><span class="p">;</span>	               <span class="c1">//Atomic Table,directly used by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span> <span class="n">ProcessAuxChannelTransaction</span><span class="p">;</span>					 <span class="c1">//Function Table,only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">DPEncoderService</span><span class="p">;</span>											 <span class="c1">//Function Table,only used by Bios</span>
  <span class="n">USHORT</span> <span class="n">GetVoltageInfo</span><span class="p">;</span>                         <span class="c1">//Function Table,only used by Bios since SI</span>
<span class="p">}</span><span class="n">ATOM_MASTER_LIST_OF_COMMAND_TABLES</span><span class="p">;</span>   </pre></div></td></tr>


<tr id="section-4"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div><p>For backward compatible </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ReadEDIDFromHWAssistedI2C                ProcessI2cChannelTransaction</span>
<span class="cp">#define DPTranslatorControl                      DIG2EncoderControl</span>
<span class="cp">#define UNIPHYTransmitterControl			     DIG1TransmitterControl</span>
<span class="cp">#define LVTMATransmitterControl				     DIG2TransmitterControl</span>
<span class="cp">#define SetCRTC_DPM_State                        GetConditionalGoldenSetting</span>
<span class="cp">#define SetUniphyInstance                        ASIC_StaticPwrMgtStatusChange</span>
<span class="cp">#define HPDInterruptService                      ReadHWAssistedI2CStatus</span>
<span class="cp">#define EnableVGA_Access                         GetSCLKOverMCLKRatio</span>
<span class="cp">#define EnableYUV                                GetDispObjectInfo                         </span>
<span class="cp">#define DynamicClockGating                       EnableDispPowerGating</span>
<span class="cp">#define SetupHWAssistedI2CStatus                 ComputeMemoryClockParam</span>

<span class="cp">#define TMDSAEncoderControl                      PatchMCSetting</span>
<span class="cp">#define LVDSEncoderControl                       MC_SEQ_Control</span>
<span class="cp">#define LCD1OutputControl                        HW_Misc_Operation</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MASTER_COMMAND_TABLE</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>           <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ATOM_MASTER_LIST_OF_COMMAND_TABLES</span> <span class="n">ListOfCommandTables</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MASTER_COMMAND_TABLE</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-5"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div><p>Structures used in every command table</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_TABLE_ATTRIBUTE</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">USHORT</span>  <span class="n">UpdatedByUtility</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>         <span class="c1">//[15]=Table updated by utility flag</span>
  <span class="n">USHORT</span>  <span class="n">PS_SizeInBytes</span><span class="o">:</span><span class="mi">7</span><span class="p">;</span>           <span class="c1">//[14:8]=Size of parameter space in Bytes (multiple of a dword), </span>
  <span class="n">USHORT</span>  <span class="n">WS_SizeInBytes</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>           <span class="c1">//[7:0]=Size of workspace in Bytes (in multiple of a dword), </span>
<span class="cp">#else</span>
  <span class="n">USHORT</span>  <span class="n">WS_SizeInBytes</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>           <span class="c1">//[7:0]=Size of workspace in Bytes (in multiple of a dword), </span>
  <span class="n">USHORT</span>  <span class="n">PS_SizeInBytes</span><span class="o">:</span><span class="mi">7</span><span class="p">;</span>           <span class="c1">//[14:8]=Size of parameter space in Bytes (multiple of a dword), </span>
  <span class="n">USHORT</span>  <span class="n">UpdatedByUtility</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>         <span class="c1">//[15]=Table updated by utility flag</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_TABLE_ATTRIBUTE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_TABLE_ATTRIBUTE_ACCESS</span>
<span class="p">{</span>
  <span class="n">ATOM_TABLE_ATTRIBUTE</span> <span class="n">sbfAccess</span><span class="p">;</span>
  <span class="n">USHORT</span>               <span class="n">susAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_TABLE_ATTRIBUTE_ACCESS</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-6"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div><p>Common header for all command tables.
Every table pointed by <em>ATOM</em>MASTER<em>COMMAND</em>TABLE has this common header. 
And the pointer actually points to this header.</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_COMMON_ROM_COMMAND_TABLE_HEADER</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">CommonHeader</span><span class="p">;</span>
  <span class="n">ATOM_TABLE_ATTRIBUTE</span>     <span class="n">TableAttribute</span><span class="p">;</span>	
<span class="p">}</span><span class="n">ATOM_COMMON_ROM_COMMAND_TABLE_HEADER</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-7"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div><p>Structures used by ComputeMemoryEnginePLLTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="cp">#define COMPUTE_MEMORY_PLL_PARAM        1</span>
<span class="cp">#define COMPUTE_ENGINE_PLL_PARAM        2</span>
<span class="cp">#define ADJUST_MC_SETTING_PARAM         3</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-8"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div><p>Structures used by AdjustMemoryControllerTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ADJUST_MEMORY_CLOCK_FREQ</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">ULONG</span> <span class="n">ulPointerReturnFlag</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>      <span class="c1">// BYTE_3[7]=1 - Return the pointer to the right Data Block; BYTE_3[7]=0 - Program the right Data Block </span>
  <span class="n">ULONG</span> <span class="n">ulMemoryModuleNumber</span><span class="o">:</span><span class="mi">7</span><span class="p">;</span>     <span class="c1">// BYTE_3[6:0]</span>
  <span class="n">ULONG</span> <span class="n">ulClockFreq</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">ULONG</span> <span class="n">ulClockFreq</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">ulMemoryModuleNumber</span><span class="o">:</span><span class="mi">7</span><span class="p">;</span>     <span class="c1">// BYTE_3[6:0]</span>
  <span class="n">ULONG</span> <span class="n">ulPointerReturnFlag</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>      <span class="c1">// BYTE_3[7]=1 - Return the pointer to the right Data Block; BYTE_3[7]=0 - Program the right Data Block </span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_ADJUST_MEMORY_CLOCK_FREQ</span><span class="p">;</span>
<span class="cp">#define POINTER_RETURN_FLAG             0x80</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span>   <span class="n">ulClock</span><span class="p">;</span>        <span class="c1">//When returen, it&#39;s the re-calculated clock based on given Fb_div Post_Div and ref_div</span>
  <span class="n">UCHAR</span>   <span class="n">ucAction</span><span class="p">;</span>       <span class="c1">//0:reserved //1:Memory //2:Engine  </span>
  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">;</span>     <span class="c1">//may expand to return larger Fbdiv later</span>
  <span class="n">UCHAR</span>   <span class="n">ucFbDiv</span><span class="p">;</span>        <span class="c1">//return value</span>
  <span class="n">UCHAR</span>   <span class="n">ucPostDiv</span><span class="p">;</span>      <span class="c1">//return value</span>
<span class="p">}</span><span class="n">COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">ULONG</span>   <span class="n">ulClock</span><span class="p">;</span>        <span class="c1">//When return, [23:0] return real clock </span>
  <span class="n">UCHAR</span>   <span class="n">ucAction</span><span class="p">;</span>       <span class="c1">//0:reserved;COMPUTE_MEMORY_PLL_PARAM:Memory;COMPUTE_ENGINE_PLL_PARAM:Engine. it return ref_div to be written to register</span>
  <span class="n">USHORT</span>  <span class="n">usFbDiv</span><span class="p">;</span>		    <span class="c1">//return Feedback value to be written to register</span>
  <span class="n">UCHAR</span>   <span class="n">ucPostDiv</span><span class="p">;</span>      <span class="c1">//return post div to be written to register</span>
<span class="p">}</span><span class="n">COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V2</span><span class="p">;</span>
<span class="cp">#define COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_PS_ALLOCATION   COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS</span>


<span class="cp">#define SET_CLOCK_FREQ_MASK                     0x00FFFFFF  </span><span class="c1">//Clock change tables only take bit [23:0] as the requested clock value</span>
<span class="cp">#define USE_NON_BUS_CLOCK_MASK                  0x01000000  </span><span class="c1">//Applicable to both memory and engine clock change, when set, it uses another clock as the temporary clock (engine uses memory and vice versa)</span>
<span class="cp">#define USE_MEMORY_SELF_REFRESH_MASK            0x02000000	</span><span class="c1">//Only applicable to memory clock change, when set, using memory self refresh during clock transition</span>
<span class="cp">#define SKIP_INTERNAL_MEMORY_PARAMETER_CHANGE   0x04000000  </span><span class="c1">//Only applicable to memory clock change, when set, the table will skip predefined internal memory parameter change</span>
<span class="cp">#define FIRST_TIME_CHANGE_CLOCK									0x08000000	</span><span class="c1">//Applicable to both memory and engine clock change,when set, it means this is 1st time to change clock after ASIC bootup</span>
<span class="cp">#define SKIP_SW_PROGRAM_PLL											0x10000000	</span><span class="c1">//Applicable to both memory and engine clock change, when set, it means the table will not program SPLL/MPLL</span>
<span class="cp">#define USE_SS_ENABLED_PIXEL_CLOCK  USE_NON_BUS_CLOCK_MASK</span>

<span class="cp">#define b3USE_NON_BUS_CLOCK_MASK                  0x01       </span><span class="c1">//Applicable to both memory and engine clock change, when set, it uses another clock as the temporary clock (engine uses memory and vice versa)</span>
<span class="cp">#define b3USE_MEMORY_SELF_REFRESH                 0x02	     </span><span class="c1">//Only applicable to memory clock change, when set, using memory self refresh during clock transition</span>
<span class="cp">#define b3SKIP_INTERNAL_MEMORY_PARAMETER_CHANGE   0x04       </span><span class="c1">//Only applicable to memory clock change, when set, the table will skip predefined internal memory parameter change</span>
<span class="cp">#define b3FIRST_TIME_CHANGE_CLOCK									0x08       </span><span class="c1">//Applicable to both memory and engine clock change,when set, it means this is 1st time to change clock after ASIC bootup</span>
<span class="cp">#define b3SKIP_SW_PROGRAM_PLL											0x10			 </span><span class="c1">//Applicable to both memory and engine clock change, when set, it means the table will not program SPLL/MPLL</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_COMPUTE_CLOCK_FREQ</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">ULONG</span> <span class="n">ulComputeClockFlag</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>                 <span class="c1">// =1: COMPUTE_MEMORY_PLL_PARAM, =2: COMPUTE_ENGINE_PLL_PARAM</span>
  <span class="n">ULONG</span> <span class="n">ulClockFreq</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>                       <span class="c1">// in unit of 10kHz</span>
<span class="cp">#else</span>
  <span class="n">ULONG</span> <span class="n">ulClockFreq</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>                       <span class="c1">// in unit of 10kHz</span>
  <span class="n">ULONG</span> <span class="n">ulComputeClockFlag</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>                 <span class="c1">// =1: COMPUTE_MEMORY_PLL_PARAM, =2: COMPUTE_ENGINE_PLL_PARAM</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_COMPUTE_CLOCK_FREQ</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_S_MPLL_FB_DIVIDER</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usFbDivFrac</span><span class="p">;</span>  
  <span class="n">USHORT</span> <span class="n">usFbDiv</span><span class="p">;</span>  
<span class="p">}</span><span class="n">ATOM_S_MPLL_FB_DIVIDER</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V3</span>
<span class="p">{</span>
  <span class="k">union</span>
  <span class="p">{</span>
    <span class="n">ATOM_COMPUTE_CLOCK_FREQ</span>  <span class="n">ulClock</span><span class="p">;</span>         <span class="c1">//Input Parameter</span>
    <span class="n">ATOM_S_MPLL_FB_DIVIDER</span>   <span class="n">ulFbDiv</span><span class="p">;</span>         <span class="c1">//Output Parameter</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucRefDiv</span><span class="p">;</span>                           <span class="c1">//Output Parameter      </span>
  <span class="n">UCHAR</span>   <span class="n">ucPostDiv</span><span class="p">;</span>                          <span class="c1">//Output Parameter      </span>
  <span class="n">UCHAR</span>   <span class="n">ucCntlFlag</span><span class="p">;</span>                         <span class="c1">//Output Parameter      </span>
  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-9"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div><p>ucCntlFlag</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PLL_CNTL_FLAG_PLL_POST_DIV_EN          1</span>
<span class="cp">#define ATOM_PLL_CNTL_FLAG_MPLL_VCO_MODE            2</span>
<span class="cp">#define ATOM_PLL_CNTL_FLAG_FRACTION_DISABLE         4</span>
<span class="cp">#define ATOM_PLL_CNTL_FLAG_SPLL_ISPARE_9						8</span></pre></div></td></tr>


<tr id="section-10"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div><p>V4 are only used for APU which PLL outside GPU</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V4</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">ULONG</span>  <span class="n">ucPostDiv</span><span class="p">;</span>          <span class="c1">//return parameter: post divider which is used to program to register directly</span>
  <span class="n">ULONG</span>  <span class="n">ulClock</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>         <span class="c1">//Input= target clock, output = actual clock </span>
<span class="cp">#else</span>
  <span class="n">ULONG</span>  <span class="n">ulClock</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>         <span class="c1">//Input= target clock, output = actual clock </span>
  <span class="n">ULONG</span>  <span class="n">ucPostDiv</span><span class="p">;</span>          <span class="c1">//return parameter: post divider which is used to program to register directly</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V4</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V5</span>
<span class="p">{</span>
  <span class="k">union</span>
  <span class="p">{</span>
    <span class="n">ATOM_COMPUTE_CLOCK_FREQ</span>  <span class="n">ulClock</span><span class="p">;</span>         <span class="c1">//Input Parameter</span>
    <span class="n">ATOM_S_MPLL_FB_DIVIDER</span>   <span class="n">ulFbDiv</span><span class="p">;</span>         <span class="c1">//Output Parameter</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucRefDiv</span><span class="p">;</span>                           <span class="c1">//Output Parameter      </span>
  <span class="n">UCHAR</span>   <span class="n">ucPostDiv</span><span class="p">;</span>                          <span class="c1">//Output Parameter      </span>
  <span class="k">union</span>
  <span class="p">{</span>
    <span class="n">UCHAR</span>   <span class="n">ucCntlFlag</span><span class="p">;</span>                       <span class="c1">//Output Flags</span>
    <span class="n">UCHAR</span>   <span class="n">ucInputFlag</span><span class="p">;</span>                      <span class="c1">//Input Flags. ucInputFlag[0] - Strobe(1)/Performance(0) mode</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">;</span>                       
<span class="p">}</span><span class="n">COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_V5</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-11"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div><p>ucInputFlag</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PLL_INPUT_FLAG_PLL_STROBE_MODE_EN  1   </span><span class="c1">// 1-StrobeMode, 0-PerformanceMode</span></pre></div></td></tr>


<tr id="section-12"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div><p>use for ComputeMemoryClockParamTable</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_COMPUTE_MEMORY_CLOCK_PARAM_PARAMETERS_V2_1</span>
<span class="p">{</span>
  <span class="k">union</span>
  <span class="p">{</span>
    <span class="n">ULONG</span>  <span class="n">ulClock</span><span class="p">;</span>         
    <span class="n">ATOM_S_MPLL_FB_DIVIDER</span>   <span class="n">ulFbDiv</span><span class="p">;</span>         <span class="c1">//Output:UPPER_WORD=FB_DIV_INTEGER,  LOWER_WORD=FB_DIV_FRAC shl (16-FB_FRACTION_BITS)</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucDllSpeed</span><span class="p">;</span>                         <span class="c1">//Output </span>
  <span class="n">UCHAR</span>   <span class="n">ucPostDiv</span><span class="p">;</span>                          <span class="c1">//Output</span>
  <span class="k">union</span><span class="p">{</span>
    <span class="n">UCHAR</span>   <span class="n">ucInputFlag</span><span class="p">;</span>                      <span class="c1">//Input : ATOM_PLL_INPUT_FLAG_PLL_STROBE_MODE_EN: 1-StrobeMode, 0-PerformanceMode</span>
    <span class="n">UCHAR</span>   <span class="n">ucPllCntlFlag</span><span class="p">;</span>                    <span class="c1">//Output: </span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucBWCntl</span><span class="p">;</span>                       
<span class="p">}</span><span class="n">COMPUTE_MEMORY_CLOCK_PARAM_PARAMETERS_V2_1</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-13"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div><p>definition of ucInputFlag</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MPLL_INPUT_FLAG_STROBE_MODE_EN          0x01</span></pre></div></td></tr>


<tr id="section-14"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div><p>definition of ucPllCntlFlag</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MPLL_CNTL_FLAG_VCO_MODE_MASK            0x03 </span>
<span class="cp">#define MPLL_CNTL_FLAG_BYPASS_DQ_PLL            0x04</span>
<span class="cp">#define MPLL_CNTL_FLAG_QDR_ENABLE               0x08</span>
<span class="cp">#define MPLL_CNTL_FLAG_AD_HALF_RATE             0x10</span></pre></div></td></tr>


<tr id="section-15"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div><p>MPLL<em>CNTL</em>FLAG<em>BYPASS</em>AD<em>PLL has a wrong name, should be BYPASS</em>DQ_PLL</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MPLL_CNTL_FLAG_BYPASS_AD_PLL            0x04</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DYNAMICE_MEMORY_SETTINGS_PARAMETER</span>
<span class="p">{</span>
  <span class="n">ATOM_COMPUTE_CLOCK_FREQ</span> <span class="n">ulClock</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">ulReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">DYNAMICE_MEMORY_SETTINGS_PARAMETER</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DYNAMICE_ENGINE_SETTINGS_PARAMETER</span>
<span class="p">{</span>
  <span class="n">ATOM_COMPUTE_CLOCK_FREQ</span> <span class="n">ulClock</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">ulMemoryClock</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">ulReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">DYNAMICE_ENGINE_SETTINGS_PARAMETER</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-16"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div><p>Structures used by SetEngineClockTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_ENGINE_CLOCK_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulTargetEngineClock</span><span class="p">;</span>          <span class="c1">//In 10Khz unit</span>
<span class="p">}</span><span class="n">SET_ENGINE_CLOCK_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_ENGINE_CLOCK_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulTargetEngineClock</span><span class="p">;</span>          <span class="c1">//In 10Khz unit</span>
  <span class="n">COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_PS_ALLOCATION</span> <span class="n">sReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">SET_ENGINE_CLOCK_PS_ALLOCATION</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-17"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div><p>Structures used by SetMemoryClockTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_MEMORY_CLOCK_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulTargetMemoryClock</span><span class="p">;</span>          <span class="c1">//In 10Khz unit</span>
<span class="p">}</span><span class="n">SET_MEMORY_CLOCK_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_MEMORY_CLOCK_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulTargetMemoryClock</span><span class="p">;</span>          <span class="c1">//In 10Khz unit</span>
  <span class="n">COMPUTE_MEMORY_ENGINE_PLL_PARAMETERS_PS_ALLOCATION</span> <span class="n">sReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">SET_MEMORY_CLOCK_PS_ALLOCATION</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-18"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div><p>Structures used by ASIC_Init.ctb</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ASIC_INIT_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulDefaultEngineClock</span><span class="p">;</span>         <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span> <span class="n">ulDefaultMemoryClock</span><span class="p">;</span>         <span class="c1">//In 10Khz unit</span>
<span class="p">}</span><span class="n">ASIC_INIT_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ASIC_INIT_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">ASIC_INIT_PARAMETERS</span> <span class="n">sASICInitClocks</span><span class="p">;</span>
  <span class="n">SET_ENGINE_CLOCK_PS_ALLOCATION</span> <span class="n">sReserved</span><span class="p">;</span> <span class="c1">//Caller doesn&#39;t need to init this structure</span>
<span class="p">}</span><span class="n">ASIC_INIT_PS_ALLOCATION</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-19"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div><p>Structure used by DynamicClockGatingTable.ctb</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DYNAMIC_CLOCK_GATING_PARAMETERS</span> 
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucEnable</span><span class="p">;</span>                     <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">DYNAMIC_CLOCK_GATING_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define  DYNAMIC_CLOCK_GATING_PS_ALLOCATION  DYNAMIC_CLOCK_GATING_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-20"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div><p>Structure used by EnableDispPowerGatingTable.ctb</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_DISP_POWER_GATING_PARAMETERS_V2_1</span> 
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucDispPipeId</span><span class="p">;</span>                 <span class="c1">// ATOM_CRTC1, ATOM_CRTC2, ...</span>
  <span class="n">UCHAR</span> <span class="n">ucEnable</span><span class="p">;</span>                     <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_DISP_POWER_GATING_PARAMETERS_V2_1</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-21"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div><p>Structure used by EnableASIC_StaticPwrMgtTable.ctb</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_ASIC_STATIC_PWR_MGT_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucEnable</span><span class="p">;</span>                     <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_ASIC_STATIC_PWR_MGT_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define ENABLE_ASIC_STATIC_PWR_MGT_PS_ALLOCATION  ENABLE_ASIC_STATIC_PWR_MGT_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-22"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div><p>Structures used by DAC_LoadDetectionTable.ctb</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DAC_LOAD_DETECTION_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usDeviceID</span><span class="p">;</span>                  <span class="c1">//{ATOM_DEVICE_CRTx_SUPPORT,ATOM_DEVICE_TVx_SUPPORT,ATOM_DEVICE_CVx_SUPPORT}</span>
  <span class="n">UCHAR</span>  <span class="n">ucDacType</span><span class="p">;</span>                   <span class="c1">//{ATOM_DAC_A,ATOM_DAC_B, ATOM_EXT_DAC}</span>
  <span class="n">UCHAR</span>  <span class="n">ucMisc</span><span class="p">;</span>											<span class="c1">//Valid only when table revision =1.3 and above</span>
<span class="p">}</span><span class="n">DAC_LOAD_DETECTION_PARAMETERS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-23"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div><p>DAC<em>LOAD</em>DETECTION_PARAMETERS.ucMisc</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DAC_LOAD_MISC_YPrPb						0x01</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DAC_LOAD_DETECTION_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">DAC_LOAD_DETECTION_PARAMETERS</span>            <span class="n">sDacload</span><span class="p">;</span>
  <span class="n">ULONG</span>                                    <span class="n">Reserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="c1">// Don&#39;t set this one, allocation for EXT DAC</span>
<span class="p">}</span><span class="n">DAC_LOAD_DETECTION_PS_ALLOCATION</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-24"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div><p>Structures used by DAC1EncoderControlTable.ctb and DAC2EncoderControlTable.ctb</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DAC_ENCODER_CONTROL_PARAMETERS</span> 
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>                <span class="c1">// in 10KHz; for bios convenient</span>
  <span class="n">UCHAR</span>  <span class="n">ucDacStandard</span><span class="p">;</span>               <span class="c1">// See definition of ATOM_DACx_xxx, For DEC3.0, bit 7 used as internal flag to indicate DAC2 (==1) or DAC1 (==0)</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>                    <span class="c1">// 0: turn off encoder</span></pre></div></td></tr>


<tr id="section-25"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div><p>1: setup and turn on encoder
7: ATOM<em>ENCODER</em>INIT Initialize DAC</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">DAC_ENCODER_CONTROL_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define DAC_ENCODER_CONTROL_PS_ALLOCATION  DAC_ENCODER_CONTROL_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-26"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div><p>Structures used by DIG1EncoderControlTable
                   DIG2EncoderControlTable
                   ExternalEncoderControlTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_ENCODER_CONTROL_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>		<span class="c1">// in 10KHz; for bios convenient</span>
  <span class="n">UCHAR</span>  <span class="n">ucConfig</span><span class="p">;</span>		  </pre></div></td></tr>


<tr id="section-27"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div><p>[2] Link Select:
=0: PHY linkA if bfLane&lt;3
=1: PHY linkB if bfLanes&lt;3
=0: PHY linkA+B if bfLanes=3
[3] Transmitter Sel
=0: UNIPHY or PCIEPHY
=1: LVTMA                     </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>           <span class="c1">// =0: turn off encoder					</span></pre></div></td></tr>


<tr id="section-28"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div><p>=1: turn on encoder            </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucEncoderMode</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-29"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div><p>=0: DP   encoder <br />
=1: LVDS encoder <br />
=2: DVI  encoder <br />
=3: HDMI encoder
=4: SDVO encoder</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucLaneNum</span><span class="p">;</span>          <span class="c1">// how many lanes to enable</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">DIG_ENCODER_CONTROL_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define DIG_ENCODER_CONTROL_PS_ALLOCATION			  DIG_ENCODER_CONTROL_PARAMETERS</span>
<span class="cp">#define EXTERNAL_ENCODER_CONTROL_PARAMETER			DIG_ENCODER_CONTROL_PARAMETERS</span></pre></div></td></tr>


<tr id="section-30"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div><p>ucConfig</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ENCODER_CONFIG_DPLINKRATE_MASK				0x01</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_DPLINKRATE_1_62GHZ		0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_DPLINKRATE_2_70GHZ		0x01</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_DPLINKRATE_5_40GHZ		0x02</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_LINK_SEL_MASK				  0x04</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_LINKA								  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_LINKB								  0x04</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_LINKA_B							  ATOM_TRANSMITTER_CONFIG_LINKA</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_LINKB_A							  ATOM_ENCODER_CONFIG_LINKB</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_TRANSMITTER_SEL_MASK	0x08</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_UNIPHY							  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_LVTMA								  0x08</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_TRANSMITTER1				  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_TRANSMITTER2				  0x08</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_DIGB								  0x80			</span><span class="c1">// VBIOS Internal use, outside SW should set this bit=0</span></pre></div></td></tr>


<tr id="section-31"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div><p>ucAction
ATOM<em>ENABLE:  Enable Encoder
ATOM</em>DISABLE: Disable Encoder</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-32"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div><p>ucEncoderMode</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ENCODER_MODE_DP											0</span>
<span class="cp">#define ATOM_ENCODER_MODE_LVDS										1</span>
<span class="cp">#define ATOM_ENCODER_MODE_DVI											2</span>
<span class="cp">#define ATOM_ENCODER_MODE_HDMI										3</span>
<span class="cp">#define ATOM_ENCODER_MODE_SDVO										4</span>
<span class="cp">#define ATOM_ENCODER_MODE_DP_AUDIO                5</span>
<span class="cp">#define ATOM_ENCODER_MODE_TV											13</span>
<span class="cp">#define ATOM_ENCODER_MODE_CV											14</span>
<span class="cp">#define ATOM_ENCODER_MODE_CRT											15</span>
<span class="cp">#define ATOM_ENCODER_MODE_DVO											16</span>
<span class="cp">#define ATOM_ENCODER_MODE_DP_SST                  ATOM_ENCODER_MODE_DP    </span><span class="c1">// For DP1.2</span>
<span class="cp">#define ATOM_ENCODER_MODE_DP_MST                  5                       </span><span class="c1">// For DP1.2</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DIG_ENCODER_CONFIG_V2</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved1</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>     <span class="c1">// =0: UniphyAB, =1: UniphyCD  =2: UniphyEF</span>
    <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">// =0: linkA/C/E =1: linkB/D/F</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucDPLinkRate</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>         <span class="c1">// =0: 1.62Ghz, =1: 2.7Ghz</span>
<span class="cp">#else</span>
    <span class="n">UCHAR</span> <span class="n">ucDPLinkRate</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>         <span class="c1">// =0: 1.62Ghz, =1: 2.7Ghz</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">// =0: linkA/C/E =1: linkB/D/F</span>
    <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>     <span class="c1">// =0: UniphyAB, =1: UniphyCD  =2: UniphyEF</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved1</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DIG_ENCODER_CONFIG_V2</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_ENCODER_CONTROL_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>      <span class="c1">// in 10KHz; for bios convenient</span>
  <span class="n">ATOM_DIG_ENCODER_CONFIG_V2</span> <span class="n">acConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>                                       
  <span class="n">UCHAR</span> <span class="n">ucEncoderMode</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-33"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div><p>=0: DP   encoder <br />
=1: LVDS encoder <br />
=2: DVI  encoder <br />
=3: HDMI encoder
=4: SDVO encoder</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucLaneNum</span><span class="p">;</span>          <span class="c1">// how many lanes to enable</span>
  <span class="n">UCHAR</span> <span class="n">ucStatus</span><span class="p">;</span>           <span class="c1">// = DP_LINK_TRAINING_COMPLETE or DP_LINK_TRAINING_INCOMPLETE, only used by VBIOS with command ATOM_ENCODER_CMD_QUERY_DP_LINK_TRAINING_STATUS</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">DIG_ENCODER_CONTROL_PARAMETERS_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-34"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div><p>ucConfig</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ENCODER_CONFIG_V2_DPLINKRATE_MASK				0x01</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_DPLINKRATE_1_62GHZ		  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_DPLINKRATE_2_70GHZ		  0x01</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_LINK_SEL_MASK				  0x04</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_LINKA								  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_LINKB								  0x04</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_TRANSMITTER_SEL_MASK	  0x18</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_TRANSMITTER1				    0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_TRANSMITTER2				    0x08</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V2_TRANSMITTER3				    0x10</span></pre></div></td></tr>


<tr id="section-35"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div><p>ucAction:
ATOM<em>DISABLE
ATOM</em>ENABLE</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ENCODER_CMD_DP_LINK_TRAINING_START       0x08</span>
<span class="cp">#define ATOM_ENCODER_CMD_DP_LINK_TRAINING_PATTERN1    0x09</span>
<span class="cp">#define ATOM_ENCODER_CMD_DP_LINK_TRAINING_PATTERN2    0x0a</span>
<span class="cp">#define ATOM_ENCODER_CMD_DP_LINK_TRAINING_PATTERN3    0x13</span>
<span class="cp">#define ATOM_ENCODER_CMD_DP_LINK_TRAINING_COMPLETE    0x0b</span>
<span class="cp">#define ATOM_ENCODER_CMD_DP_VIDEO_OFF                 0x0c</span>
<span class="cp">#define ATOM_ENCODER_CMD_DP_VIDEO_ON                  0x0d</span>
<span class="cp">#define ATOM_ENCODER_CMD_QUERY_DP_LINK_TRAINING_STATUS    0x0e</span>
<span class="cp">#define ATOM_ENCODER_CMD_SETUP                        0x0f</span>
<span class="cp">#define ATOM_ENCODER_CMD_SETUP_PANEL_MODE             0x10</span></pre></div></td></tr>


<tr id="section-36"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div><p>ucStatus</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ENCODER_STATUS_LINK_TRAINING_COMPLETE    0x10</span>
<span class="cp">#define ATOM_ENCODER_STATUS_LINK_TRAINING_INCOMPLETE  0x00</span></pre></div></td></tr>


<tr id="section-37"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div><p>ucTableFormatRevision=1
ucTableContentRevision=3
Following function ENABLE sub-function will be used by driver when TMDS/HDMI/LVDS is used, disable function will be used by driver</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DIG_ENCODER_CONFIG_V3</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucDigSel</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>             <span class="c1">// =0/1/2/3/4/5: DIG0/1/2/3/4/5 (In register spec also referred as DIGA/B/C/D/E/F)</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucDPLinkRate</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>         <span class="c1">// =0: 1.62Ghz, =1: 2.7Ghz</span>
<span class="cp">#else</span>
    <span class="n">UCHAR</span> <span class="n">ucDPLinkRate</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>         <span class="c1">// =0: 1.62Ghz, =1: 2.7Ghz</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucDigSel</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>             <span class="c1">// =0/1/2/3/4/5: DIG0/1/2/3/4/5 (In register spec also referred as DIGA/B/C/D/E/F)</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DIG_ENCODER_CONFIG_V3</span><span class="p">;</span>

<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DPLINKRATE_MASK				0x03</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DPLINKRATE_1_62GHZ		  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DPLINKRATE_2_70GHZ		  0x01</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_ENCODER_SEL					  0x70</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DIG0_ENCODER					  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DIG1_ENCODER					  0x10</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DIG2_ENCODER					  0x20</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DIG3_ENCODER					  0x30</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DIG4_ENCODER					  0x40</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V3_DIG5_ENCODER					  0x50</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>      <span class="c1">// in 10KHz; for bios convenient</span>
  <span class="n">ATOM_DIG_ENCODER_CONFIG_V3</span> <span class="n">acConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>                              
  <span class="k">union</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucEncoderMode</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-38"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div><p>=0: DP   encoder <br />
=1: LVDS encoder <br />
=2: DVI  encoder <br />
=3: HDMI encoder
=4: SDVO encoder
=5: DP audio</p></td><td class="code"><div class="highlight"><pre>    <span class="n">UCHAR</span> <span class="n">ucPanelMode</span><span class="p">;</span>      <span class="c1">// only valid when ucAction == ATOM_ENCODER_CMD_SETUP_PANEL_MODE</span></pre></div></td></tr>


<tr id="section-39"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div><p>=0:     external DP
=1:     internal DP2
=0x11:  internal DP1 for NutMeg/Travis DP translator</p></td><td class="code"><div class="highlight"><pre>  <span class="p">};</span>
  <span class="n">UCHAR</span> <span class="n">ucLaneNum</span><span class="p">;</span>          <span class="c1">// how many lanes to enable</span>
  <span class="n">UCHAR</span> <span class="n">ucBitPerColor</span><span class="p">;</span>      <span class="c1">// only valid for DP mode when ucAction = ATOM_ENCODER_CMD_SETUP</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">DIG_ENCODER_CONTROL_PARAMETERS_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-40"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div><p>ucTableFormatRevision=1
ucTableContentRevision=4
start from NI <br />
Following function ENABLE sub-function will be used by driver when TMDS/HDMI/LVDS is used, disable function will be used by driver</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DIG_ENCODER_CONFIG_V4</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucDigSel</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>             <span class="c1">// =0/1/2/3/4/5: DIG0/1/2/3/4/5 (In register spec also referred as DIGA/B/C/D/E/F)</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucDPLinkRate</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">// =0: 1.62Ghz, =1: 2.7Ghz, 2=5.4Ghz    &lt;= Changed comparing to previous version</span>
<span class="cp">#else</span>
    <span class="n">UCHAR</span> <span class="n">ucDPLinkRate</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">// =0: 1.62Ghz, =1: 2.7Ghz, 2=5.4Ghz    &lt;= Changed comparing to previous version</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucDigSel</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>             <span class="c1">// =0/1/2/3/4/5: DIG0/1/2/3/4/5 (In register spec also referred as DIGA/B/C/D/E/F)</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DIG_ENCODER_CONFIG_V4</span><span class="p">;</span>

<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DPLINKRATE_MASK				0x03</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DPLINKRATE_1_62GHZ		  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DPLINKRATE_2_70GHZ		  0x01</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DPLINKRATE_5_40GHZ		  0x02</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DPLINKRATE_3_24GHZ		  0x03</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_ENCODER_SEL					  0x70</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DIG0_ENCODER					  0x00</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DIG1_ENCODER					  0x10</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DIG2_ENCODER					  0x20</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DIG3_ENCODER					  0x30</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DIG4_ENCODER					  0x40</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DIG5_ENCODER					  0x50</span>
<span class="cp">#define ATOM_ENCODER_CONFIG_V4_DIG6_ENCODER					  0x60</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_ENCODER_CONTROL_PARAMETERS_V4</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>      <span class="c1">// in 10KHz; for bios convenient</span>
  <span class="k">union</span><span class="p">{</span>
  <span class="n">ATOM_DIG_ENCODER_CONFIG_V4</span> <span class="n">acConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucConfig</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>                              
  <span class="k">union</span> <span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucEncoderMode</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-41"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-41">&#182;</a></div><p>=0: DP   encoder <br />
=1: LVDS encoder <br />
=2: DVI  encoder <br />
=3: HDMI encoder
=4: SDVO encoder
=5: DP audio</p></td><td class="code"><div class="highlight"><pre>    <span class="n">UCHAR</span> <span class="n">ucPanelMode</span><span class="p">;</span>      <span class="c1">// only valid when ucAction == ATOM_ENCODER_CMD_SETUP_PANEL_MODE</span></pre></div></td></tr>


<tr id="section-42"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-42">&#182;</a></div><p>=0:     external DP
=1:     internal DP2
=0x11:  internal DP1 for NutMeg/Travis DP translator</p></td><td class="code"><div class="highlight"><pre>  <span class="p">};</span>
  <span class="n">UCHAR</span> <span class="n">ucLaneNum</span><span class="p">;</span>          <span class="c1">// how many lanes to enable</span>
  <span class="n">UCHAR</span> <span class="n">ucBitPerColor</span><span class="p">;</span>      <span class="c1">// only valid for DP mode when ucAction = ATOM_ENCODER_CMD_SETUP</span>
  <span class="n">UCHAR</span> <span class="n">ucHPD_ID</span><span class="p">;</span>           <span class="c1">// HPD ID (1-6). =0 means to skip HDP programming. New comparing to previous version</span>
<span class="p">}</span><span class="n">DIG_ENCODER_CONTROL_PARAMETERS_V4</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-43"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-43">&#182;</a></div><p>define ucBitPerColor: </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PANEL_BPC_UNDEFINE                               0x00</span>
<span class="cp">#define PANEL_6BIT_PER_COLOR                             0x01 </span>
<span class="cp">#define PANEL_8BIT_PER_COLOR                             0x02</span>
<span class="cp">#define PANEL_10BIT_PER_COLOR                            0x03</span>
<span class="cp">#define PANEL_12BIT_PER_COLOR                            0x04</span>
<span class="cp">#define PANEL_16BIT_PER_COLOR                            0x05</span></pre></div></td></tr>


<tr id="section-44"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-44">&#182;</a></div><p>define ucPanelMode</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DP_PANEL_MODE_EXTERNAL_DP_MODE                   0x00</span>
<span class="cp">#define DP_PANEL_MODE_INTERNAL_DP2_MODE                  0x01</span>
<span class="cp">#define DP_PANEL_MODE_INTERNAL_DP1_MODE                  0x11</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-45"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-45">&#182;</a></div><p>Structures used by UNIPHYTransmitterControlTable
                   LVTMATransmitterControlTable
                   DVOOutputControlTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DP_VS_MODE</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucLaneSel</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucLaneSet</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_DP_VS_MODE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_TRANSMITTER_CONTROL_PARAMETERS</span>
<span class="p">{</span>
	<span class="k">union</span>
	<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>		<span class="c1">// in 10KHz; for bios convenient</span>
	<span class="n">USHORT</span> <span class="n">usInitInfo</span><span class="p">;</span>			<span class="c1">// when init uniphy,lower 8bit is used for connector type defined in objectid.h</span>
  <span class="n">ATOM_DP_VS_MODE</span> <span class="n">asMode</span><span class="p">;</span> <span class="c1">// DP Voltage swing mode</span>
	<span class="p">};</span>
  <span class="n">UCHAR</span> <span class="n">ucConfig</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-46"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-46">&#182;</a></div><p>[0]=0: 4 lane Link, <br />
   =1: 8 lane Link ( Dual Links TMDS ) 
[1]=0: InCoherent mode <br />
   =1: Coherent Mode <br />
[2] Link Select:
=0: PHY linkA   if bfLane&lt;3
=1: PHY linkB   if bfLanes&lt;3
=0: PHY linkA+B if bfLanes=3 <br />
[5:4]PCIE lane Sel
=0: lane 0~3 or 0~7
=1: lane 4~7
=2: lane 8~11 or 8~15
=3: lane 12~15 </p></td><td class="code"><div class="highlight"><pre>	<span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>				  <span class="c1">// =0: turn off encoder					</span></pre></div></td></tr>


<tr id="section-47"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-47">&#182;</a></div><p>=1: turn on encoder            </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">}</span><span class="n">DIG_TRANSMITTER_CONTROL_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define DIG_TRANSMITTER_CONTROL_PS_ALLOCATION		DIG_TRANSMITTER_CONTROL_PARAMETERS					</span></pre></div></td></tr>


<tr id="section-48"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-48">&#182;</a></div><p>ucInitInfo</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRAMITTER_INITINFO_CONNECTOR_MASK	0x00ff			</span></pre></div></td></tr>


<tr id="section-49"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-49">&#182;</a></div><p>ucConfig </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_8LANE_LINK			0x01</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_COHERENT				0x02</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LINK_SEL_MASK		0x04</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LINKA						0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LINKB						0x04</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LINKA_B					0x00			</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LINKB_A					0x04</span>

<span class="cp">#define ATOM_TRANSMITTER_CONFIG_ENCODER_SEL_MASK	0x08			</span><span class="c1">// only used when ATOM_TRANSMITTER_ACTION_ENABLE</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_DIG1_ENCODER		0x00				</span><span class="c1">// only used when ATOM_TRANSMITTER_ACTION_ENABLE</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_DIG2_ENCODER		0x08				</span><span class="c1">// only used when ATOM_TRANSMITTER_ACTION_ENABLE</span>

<span class="cp">#define ATOM_TRANSMITTER_CONFIG_CLKSRC_MASK			0x30</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_CLKSRC_PPLL			0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_CLKSRC_PCIE			0x20</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_CLKSRC_XTALIN		0x30</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LANE_SEL_MASK		0xc0</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LANE_0_3				0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LANE_0_7				0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LANE_4_7				0x40</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LANE_8_11				0x80</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LANE_8_15				0x80</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_LANE_12_15			0xc0</span></pre></div></td></tr>


<tr id="section-50"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-50">&#182;</a></div><p>ucAction</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_ACTION_DISABLE					       0</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_ENABLE					       1</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_LCD_BLOFF				       2</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_LCD_BLON				       3</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_BL_BRIGHTNESS_CONTROL  4</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_LCD_SELFTEST_START		 5</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_LCD_SELFTEST_STOP			 6</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_INIT						       7</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_DISABLE_OUTPUT	       8</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_ENABLE_OUTPUT		       9</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_SETUP						       10</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_SETUP_VSEMPH           11</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_POWER_ON               12</span>
<span class="cp">#define ATOM_TRANSMITTER_ACTION_POWER_OFF              13</span></pre></div></td></tr>


<tr id="section-51"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-51">&#182;</a></div><p>Following are used for DigTransmitterControlTable ver1.2</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DIG_TRANSMITTER_CONFIG_V2</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//bit7:6: =0 Dig Transmitter 1 ( Uniphy AB )</span></pre></div></td></tr>


<tr id="section-52"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-52">&#182;</a></div><pre><code>   =1 Dig Transmitter 2 ( Uniphy CD )
   =2 Dig Transmitter 3 ( Uniphy EF )
</code></pre></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>               
  <span class="n">UCHAR</span> <span class="n">fDPConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit4=0: DP connector  =1: None DP connector</span>
  <span class="n">UCHAR</span> <span class="n">ucEncoderSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit3=0: Data/Clk path source from DIGA( DIG inst0 ). =1: Data/clk path source from DIGB ( DIG inst1 )</span>
  <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>                <span class="c1">//bit2=0: Uniphy LINKA or C or E when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is A or C or E</span></pre></div></td></tr>


<tr id="section-53"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-53">&#182;</a></div><p>=1: Uniphy LINKB or D or F when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is B or D or F</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">fCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">//bit1=1: Coherent Mode ( for DVI/HDMI mode )</span>
  <span class="n">UCHAR</span> <span class="n">fDualLinkConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>       <span class="c1">//bit0=1: Dual Link DVI connector</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span> <span class="n">fDualLinkConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>       <span class="c1">//bit0=1: Dual Link DVI connector</span>
  <span class="n">UCHAR</span> <span class="n">fCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">//bit1=1: Coherent Mode ( for DVI/HDMI mode )</span>
  <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>                <span class="c1">//bit2=0: Uniphy LINKA or C or E when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is A or C or E</span></pre></div></td></tr>


<tr id="section-54"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-54">&#182;</a></div><p>=1: Uniphy LINKB or D or F when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is B or D or F</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucEncoderSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit3=0: Data/Clk path source from DIGA( DIG inst0 ). =1: Data/clk path source from DIGB ( DIG inst1 )</span>
  <span class="n">UCHAR</span> <span class="n">fDPConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit4=0: DP connector  =1: None DP connector</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>               
  <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//bit7:6: =0 Dig Transmitter 1 ( Uniphy AB )</span></pre></div></td></tr>


<tr id="section-55"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-55">&#182;</a></div><pre><code>   =1 Dig Transmitter 2 ( Uniphy CD )
   =2 Dig Transmitter 3 ( Uniphy EF )
</code></pre></td><td class="code"><div class="highlight"><pre><span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-56"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-56">&#182;</a></div><p>ucConfig 
Bit0</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_DUAL_LINK_CONNECTOR			0x01</span></pre></div></td></tr>


<tr id="section-57"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-57">&#182;</a></div><p>Bit1</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_COHERENT				          0x02</span></pre></div></td></tr>


<tr id="section-58"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-58">&#182;</a></div><p>Bit2</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_LINK_SEL_MASK		        0x04</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_LINKA  			            0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_LINKB				            0x04</span></pre></div></td></tr>


<tr id="section-59"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-59">&#182;</a></div><p>Bit3</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_ENCODER_SEL_MASK	        0x08</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_DIG1_ENCODER		          0x00				</span><span class="c1">// only used when ucAction == ATOM_TRANSMITTER_ACTION_ENABLE or ATOM_TRANSMITTER_ACTION_SETUP</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_DIG2_ENCODER		          0x08				</span><span class="c1">// only used when ucAction == ATOM_TRANSMITTER_ACTION_ENABLE or ATOM_TRANSMITTER_ACTION_SETUP</span></pre></div></td></tr>


<tr id="section-60"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-60">&#182;</a></div><p>Bit4</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRASMITTER_CONFIG_V2_DP_CONNECTOR			        0x10</span></pre></div></td></tr>


<tr id="section-61"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-61">&#182;</a></div><p>Bit7:6</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_TRANSMITTER_SEL_MASK     0xC0</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_TRANSMITTER1           	0x00	</span><span class="c1">//AB</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_TRANSMITTER2           	0x40	</span><span class="c1">//CD</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V2_TRANSMITTER3           	0x80	</span><span class="c1">//EF</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_TRANSMITTER_CONTROL_PARAMETERS_V2</span>
<span class="p">{</span>
	<span class="k">union</span>
	<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>		<span class="c1">// in 10KHz; for bios convenient</span>
	<span class="n">USHORT</span> <span class="n">usInitInfo</span><span class="p">;</span>			<span class="c1">// when init uniphy,lower 8bit is used for connector type defined in objectid.h</span>
  <span class="n">ATOM_DP_VS_MODE</span> <span class="n">asMode</span><span class="p">;</span> <span class="c1">// DP Voltage swing mode</span>
	<span class="p">};</span>
  <span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V2</span> <span class="n">acConfig</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>				  <span class="c1">// define as ATOM_TRANSMITER_ACTION_XXX</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">}</span><span class="n">DIG_TRANSMITTER_CONTROL_PARAMETERS_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DIG_TRANSMITTER_CONFIG_V3</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//bit7:6: =0 Dig Transmitter 1 ( Uniphy AB )</span></pre></div></td></tr>


<tr id="section-62"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-62">&#182;</a></div><pre><code>   =1 Dig Transmitter 2 ( Uniphy CD )
   =2 Dig Transmitter 3 ( Uniphy EF )
</code></pre></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucRefClkSource</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>           <span class="c1">//bit5:4: PPLL1 =0, PPLL2=1, EXT_CLK=2</span>
  <span class="n">UCHAR</span> <span class="n">ucEncoderSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit3=0: Data/Clk path source from DIGA/C/E. =1: Data/clk path source from DIGB/D/F</span>
  <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>                <span class="c1">//bit2=0: Uniphy LINKA or C or E when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is A or C or E</span></pre></div></td></tr>


<tr id="section-63"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-63">&#182;</a></div><p>=1: Uniphy LINKB or D or F when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is B or D or F</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">fCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">//bit1=1: Coherent Mode ( for DVI/HDMI mode )</span>
  <span class="n">UCHAR</span> <span class="n">fDualLinkConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>       <span class="c1">//bit0=1: Dual Link DVI connector</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span> <span class="n">fDualLinkConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>       <span class="c1">//bit0=1: Dual Link DVI connector</span>
  <span class="n">UCHAR</span> <span class="n">fCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">//bit1=1: Coherent Mode ( for DVI/HDMI mode )</span>
  <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>                <span class="c1">//bit2=0: Uniphy LINKA or C or E when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is A or C or E</span></pre></div></td></tr>


<tr id="section-64"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-64">&#182;</a></div><p>=1: Uniphy LINKB or D or F when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is B or D or F</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucEncoderSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit3=0: Data/Clk path source from DIGA/C/E. =1: Data/clk path source from DIGB/D/F</span>
  <span class="n">UCHAR</span> <span class="n">ucRefClkSource</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>           <span class="c1">//bit5:4: PPLL1 =0, PPLL2=1, EXT_CLK=2</span>
  <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//bit7:6: =0 Dig Transmitter 1 ( Uniphy AB )</span></pre></div></td></tr>


<tr id="section-65"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-65">&#182;</a></div><pre><code>   =1 Dig Transmitter 2 ( Uniphy CD )
   =2 Dig Transmitter 3 ( Uniphy EF )
</code></pre></td><td class="code"><div class="highlight"><pre><span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V3</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_TRANSMITTER_CONTROL_PARAMETERS_V3</span>
<span class="p">{</span>
	<span class="k">union</span>
	<span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>		<span class="c1">// in 10KHz; for bios convenient</span>
	  <span class="n">USHORT</span> <span class="n">usInitInfo</span><span class="p">;</span>			<span class="c1">// when init uniphy,lower 8bit is used for connector type defined in objectid.h</span>
    <span class="n">ATOM_DP_VS_MODE</span> <span class="n">asMode</span><span class="p">;</span> <span class="c1">// DP Voltage swing mode</span>
	<span class="p">};</span>
  <span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V3</span> <span class="n">acConfig</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>				    <span class="c1">// define as ATOM_TRANSMITER_ACTION_XXX</span>
  <span class="n">UCHAR</span> <span class="n">ucLaneNum</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">DIG_TRANSMITTER_CONTROL_PARAMETERS_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-66"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-66">&#182;</a></div><p>ucConfig 
Bit0</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_DUAL_LINK_CONNECTOR			0x01</span></pre></div></td></tr>


<tr id="section-67"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-67">&#182;</a></div><p>Bit1</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_COHERENT				          0x02</span></pre></div></td></tr>


<tr id="section-68"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-68">&#182;</a></div><p>Bit2</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_LINK_SEL_MASK		        0x04</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_LINKA  			            0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_LINKB				            0x04</span></pre></div></td></tr>


<tr id="section-69"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-69">&#182;</a></div><p>Bit3</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_ENCODER_SEL_MASK	        0x08</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_DIG1_ENCODER		          0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_DIG2_ENCODER		          0x08</span></pre></div></td></tr>


<tr id="section-70"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-70">&#182;</a></div><p>Bit5:4</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRASMITTER_CONFIG_V3_REFCLK_SEL_MASK 	        0x30</span>
<span class="cp">#define ATOM_TRASMITTER_CONFIG_V3_P1PLL          		        0x00</span>
<span class="cp">#define ATOM_TRASMITTER_CONFIG_V3_P2PLL		                  0x10</span>
<span class="cp">#define ATOM_TRASMITTER_CONFIG_V3_REFCLK_SRC_EXT            0x20</span></pre></div></td></tr>


<tr id="section-71"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-71">&#182;</a></div><p>Bit7:6</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_TRANSMITTER_SEL_MASK     0xC0</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_TRANSMITTER1           	0x00	</span><span class="c1">//AB</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_TRANSMITTER2           	0x40	</span><span class="c1">//CD</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V3_TRANSMITTER3           	0x80	</span><span class="c1">//EF</span>


<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-72"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-72">&#182;</a></div><p>Structures used by UNIPHYTransmitterControlTable V1.4
ASIC Families: NI
ucTableFormatRevision=1
ucTableContentRevision=4</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DP_VS_MODE_V4</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucLaneSel</span><span class="p">;</span>
 	<span class="k">union</span>
 	<span class="p">{</span>  
 	  <span class="n">UCHAR</span> <span class="n">ucLaneSet</span><span class="p">;</span>
 	  <span class="k">struct</span> <span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
 		  <span class="n">UCHAR</span> <span class="n">ucPOST_CURSOR2</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//Bit[7:6] Post Cursor2 Level      &lt;= New in V4</span>
 		  <span class="n">UCHAR</span> <span class="n">ucPRE_EMPHASIS</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>         <span class="c1">//Bit[5:3] Pre-emphasis Level</span>
 		  <span class="n">UCHAR</span> <span class="n">ucVOLTAGE_SWING</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>        <span class="c1">//Bit[2:0] Voltage Swing Level</span>
<span class="cp">#else</span>
 		  <span class="n">UCHAR</span> <span class="n">ucVOLTAGE_SWING</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>        <span class="c1">//Bit[2:0] Voltage Swing Level</span>
 		  <span class="n">UCHAR</span> <span class="n">ucPRE_EMPHASIS</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>         <span class="c1">//Bit[5:3] Pre-emphasis Level</span>
 		  <span class="n">UCHAR</span> <span class="n">ucPOST_CURSOR2</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//Bit[7:6] Post Cursor2 Level      &lt;= New in V4</span>
<span class="cp">#endif</span>
 		<span class="p">};</span>
 	<span class="p">};</span> 
<span class="p">}</span><span class="n">ATOM_DP_VS_MODE_V4</span><span class="p">;</span>
 
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DIG_TRANSMITTER_CONFIG_V4</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//bit7:6: =0 Dig Transmitter 1 ( Uniphy AB )</span></pre></div></td></tr>


<tr id="section-73"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-73">&#182;</a></div><pre><code>   =1 Dig Transmitter 2 ( Uniphy CD )
   =2 Dig Transmitter 3 ( Uniphy EF )
</code></pre></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucRefClkSource</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>           <span class="c1">//bit5:4: PPLL1 =0, PPLL2=1, DCPLL=2, EXT_CLK=3   &lt;= New</span>
  <span class="n">UCHAR</span> <span class="n">ucEncoderSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit3=0: Data/Clk path source from DIGA/C/E. =1: Data/clk path source from DIGB/D/F</span>
  <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>                <span class="c1">//bit2=0: Uniphy LINKA or C or E when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is A or C or E</span></pre></div></td></tr>


<tr id="section-74"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-74">&#182;</a></div><p>=1: Uniphy LINKB or D or F when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is B or D or F</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">fCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">//bit1=1: Coherent Mode ( for DVI/HDMI mode )</span>
  <span class="n">UCHAR</span> <span class="n">fDualLinkConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>       <span class="c1">//bit0=1: Dual Link DVI connector</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span> <span class="n">fDualLinkConnector</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>       <span class="c1">//bit0=1: Dual Link DVI connector</span>
  <span class="n">UCHAR</span> <span class="n">fCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            <span class="c1">//bit1=1: Coherent Mode ( for DVI/HDMI mode )</span>
  <span class="n">UCHAR</span> <span class="n">ucLinkSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>                <span class="c1">//bit2=0: Uniphy LINKA or C or E when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is A or C or E</span></pre></div></td></tr>


<tr id="section-75"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-75">&#182;</a></div><p>=1: Uniphy LINKB or D or F when fDualLinkConnector=0. when fDualLinkConnector=1, it means master link of dual link is B or D or F</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span> <span class="n">ucEncoderSel</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>             <span class="c1">//bit3=0: Data/Clk path source from DIGA/C/E. =1: Data/clk path source from DIGB/D/F</span>
  <span class="n">UCHAR</span> <span class="n">ucRefClkSource</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>           <span class="c1">//bit5:4: PPLL1 =0, PPLL2=1, DCPLL=2, EXT_CLK=3   &lt;= New</span>
  <span class="n">UCHAR</span> <span class="n">ucTransmitterSel</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>         <span class="c1">//bit7:6: =0 Dig Transmitter 1 ( Uniphy AB )</span></pre></div></td></tr>


<tr id="section-76"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-76">&#182;</a></div><pre><code>   =1 Dig Transmitter 2 ( Uniphy CD )
   =2 Dig Transmitter 3 ( Uniphy EF )
</code></pre></td><td class="code"><div class="highlight"><pre><span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V4</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_TRANSMITTER_CONTROL_PARAMETERS_V4</span>
<span class="p">{</span>
  <span class="k">union</span>
  <span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>		<span class="c1">// in 10KHz; for bios convenient</span>
    <span class="n">USHORT</span> <span class="n">usInitInfo</span><span class="p">;</span>			<span class="c1">// when init uniphy,lower 8bit is used for connector type defined in objectid.h</span>
    <span class="n">ATOM_DP_VS_MODE_V4</span> <span class="n">asMode</span><span class="p">;</span> <span class="c1">// DP Voltage swing mode     Redefined comparing to previous version</span>
  <span class="p">};</span>
  <span class="k">union</span>
  <span class="p">{</span>
  <span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V4</span> <span class="n">acConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucConfig</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>				    <span class="c1">// define as ATOM_TRANSMITER_ACTION_XXX	                        </span>
  <span class="n">UCHAR</span> <span class="n">ucLaneNum</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">DIG_TRANSMITTER_CONTROL_PARAMETERS_V4</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-77"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-77">&#182;</a></div><p>ucConfig 
Bit0</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_DUAL_LINK_CONNECTOR			0x01</span></pre></div></td></tr>


<tr id="section-78"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-78">&#182;</a></div><p>Bit1</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_COHERENT				          0x02</span></pre></div></td></tr>


<tr id="section-79"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-79">&#182;</a></div><p>Bit2</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_LINK_SEL_MASK		        0x04</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_LINKA  			            0x00			</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_LINKB				            0x04</span></pre></div></td></tr>


<tr id="section-80"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-80">&#182;</a></div><p>Bit3</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_ENCODER_SEL_MASK	        0x08</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_DIG1_ENCODER		          0x00				 </span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_DIG2_ENCODER		          0x08				</span></pre></div></td></tr>


<tr id="section-81"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-81">&#182;</a></div><p>Bit5:4</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_REFCLK_SEL_MASK 	        0x30</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_P1PLL         		        0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_P2PLL		                0x10</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_DCPLL		                0x20   </span><span class="c1">// New in _V4</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_REFCLK_SRC_EXT           0x30   </span><span class="c1">// Changed comparing to V3</span></pre></div></td></tr>


<tr id="section-82"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-82">&#182;</a></div><p>Bit7:6</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_TRANSMITTER_SEL_MASK     0xC0</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_TRANSMITTER1           	0x00	</span><span class="c1">//AB</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_TRANSMITTER2           	0x40	</span><span class="c1">//CD</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V4_TRANSMITTER3           	0x80	</span><span class="c1">//EF</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DIG_TRANSMITTER_CONFIG_V5</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span> <span class="n">ucReservd1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucHPDSel</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucPhyClkSrcId</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>            
  <span class="n">UCHAR</span> <span class="n">ucCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucCoherentMode</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>            
  <span class="n">UCHAR</span> <span class="n">ucPhyClkSrcId</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>            
  <span class="n">UCHAR</span> <span class="n">ucHPDSel</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucReservd1</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V5</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_TRANSMITTER_CONTROL_PARAMETERS_V1_5</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usSymClock</span><span class="p">;</span>		        <span class="c1">// Encoder Clock in 10kHz,(DP mode)= linkclock/10, (TMDS/LVDS/HDMI)= pixel clock,  (HDMI deep color), =pixel clock * deep_color_ratio</span>
  <span class="n">UCHAR</span>  <span class="n">ucPhyId</span><span class="p">;</span>                   <span class="c1">// 0=UNIPHYA, 1=UNIPHYB, 2=UNIPHYC, 3=UNIPHYD, 4= UNIPHYE 5=UNIPHYF</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>				    <span class="c1">// define as ATOM_TRANSMITER_ACTION_xxx</span>
  <span class="n">UCHAR</span>  <span class="n">ucLaneNum</span><span class="p">;</span>                 <span class="c1">// indicate lane number 1-8</span>
  <span class="n">UCHAR</span>  <span class="n">ucConnObjId</span><span class="p">;</span>               <span class="c1">// Connector Object Id defined in ObjectId.h</span>
  <span class="n">UCHAR</span>  <span class="n">ucDigMode</span><span class="p">;</span>                 <span class="c1">// indicate DIG mode</span>
  <span class="k">union</span><span class="p">{</span>
  <span class="n">ATOM_DIG_TRANSMITTER_CONFIG_V5</span> <span class="n">asConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucConfig</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>  <span class="n">ucDigEncoderSel</span><span class="p">;</span>           <span class="c1">// indicate DIG front end encoder </span>
  <span class="n">UCHAR</span>  <span class="n">ucDPLaneSet</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved1</span><span class="p">;</span>
<span class="p">}</span><span class="n">DIG_TRANSMITTER_CONTROL_PARAMETERS_V1_5</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-83"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-83">&#182;</a></div><p>ucPhyId</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PHY_ID_UNIPHYA                                 0  </span>
<span class="cp">#define ATOM_PHY_ID_UNIPHYB                                 1</span>
<span class="cp">#define ATOM_PHY_ID_UNIPHYC                                 2</span>
<span class="cp">#define ATOM_PHY_ID_UNIPHYD                                 3</span>
<span class="cp">#define ATOM_PHY_ID_UNIPHYE                                 4</span>
<span class="cp">#define ATOM_PHY_ID_UNIPHYF                                 5</span>
<span class="cp">#define ATOM_PHY_ID_UNIPHYG                                 6</span></pre></div></td></tr>


<tr id="section-84"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-84">&#182;</a></div><p>ucDigEncoderSel</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANMSITTER_V5__DIGA_SEL                       0x01</span>
<span class="cp">#define ATOM_TRANMSITTER_V5__DIGB_SEL                       0x02</span>
<span class="cp">#define ATOM_TRANMSITTER_V5__DIGC_SEL                       0x04</span>
<span class="cp">#define ATOM_TRANMSITTER_V5__DIGD_SEL                       0x08</span>
<span class="cp">#define ATOM_TRANMSITTER_V5__DIGE_SEL                       0x10</span>
<span class="cp">#define ATOM_TRANMSITTER_V5__DIGF_SEL                       0x20</span>
<span class="cp">#define ATOM_TRANMSITTER_V5__DIGG_SEL                       0x40</span></pre></div></td></tr>


<tr id="section-85"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-85">&#182;</a></div><p>ucDigMode</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_DIGMODE_V5_DP                      0</span>
<span class="cp">#define ATOM_TRANSMITTER_DIGMODE_V5_LVDS                    1</span>
<span class="cp">#define ATOM_TRANSMITTER_DIGMODE_V5_DVI                     2</span>
<span class="cp">#define ATOM_TRANSMITTER_DIGMODE_V5_HDMI                    3</span>
<span class="cp">#define ATOM_TRANSMITTER_DIGMODE_V5_SDVO                    4</span>
<span class="cp">#define ATOM_TRANSMITTER_DIGMODE_V5_DP_MST                  5</span></pre></div></td></tr>


<tr id="section-86"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-86">&#182;</a></div><p>ucDPLaneSet</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DP_LANE_SET__0DB_0_4V                               0x00</span>
<span class="cp">#define DP_LANE_SET__0DB_0_6V                               0x01</span>
<span class="cp">#define DP_LANE_SET__0DB_0_8V                               0x02</span>
<span class="cp">#define DP_LANE_SET__0DB_1_2V                               0x03</span>
<span class="cp">#define DP_LANE_SET__3_5DB_0_4V                             0x08  </span>
<span class="cp">#define DP_LANE_SET__3_5DB_0_6V                             0x09</span>
<span class="cp">#define DP_LANE_SET__3_5DB_0_8V                             0x0a</span>
<span class="cp">#define DP_LANE_SET__6DB_0_4V                               0x10</span>
<span class="cp">#define DP_LANE_SET__6DB_0_6V                               0x11</span>
<span class="cp">#define DP_LANE_SET__9_5DB_0_4V                             0x18  </span></pre></div></td></tr>


<tr id="section-87"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-87">&#182;</a></div><p>ATOM<em>DIG</em>TRANSMITTER<em>CONFIG</em>V5 asConfig;
Bit1</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_COHERENT				          0x02</span></pre></div></td></tr>


<tr id="section-88"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-88">&#182;</a></div><p>Bit3:2</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_REFCLK_SEL_MASK 	        0x0c</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_REFCLK_SEL_SHIFT		    0x02</span>

<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_P1PLL         		        0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_P2PLL		                0x04</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_P0PLL		                0x08   </span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_REFCLK_SRC_EXT           0x0c</span></pre></div></td></tr>


<tr id="section-89"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-89">&#182;</a></div><p>Bit6:4</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD_SEL_MASK		          0x70</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD_SEL_SHIFT		      0x04</span>

<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_NO_HPD_SEL				        0x00</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD1_SEL				          0x10</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD2_SEL				          0x20</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD3_SEL				          0x30</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD4_SEL				          0x40</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD5_SEL				          0x50</span>
<span class="cp">#define ATOM_TRANSMITTER_CONFIG_V5_HPD6_SEL				          0x60</span>

<span class="cp">#define DIG_TRANSMITTER_CONTROL_PS_ALLOCATION_V1_5            DIG_TRANSMITTER_CONTROL_PARAMETERS_V1_5</span>


<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-90"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-90">&#182;</a></div><p>Structures used by ExternalEncoderControlTable V1.3
ASIC Families: Evergreen, Llano, NI
ucTableFormatRevision=1
ucTableContentRevision=3</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_EXTERNAL_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="p">{</span>
  <span class="k">union</span><span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>      <span class="c1">// pixel clock in 10Khz, valid when ucAction=SETUP/ENABLE_OUTPUT </span>
  <span class="n">USHORT</span> <span class="n">usConnectorId</span><span class="p">;</span>     <span class="c1">// connector id, valid when ucAction = INIT</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>  <span class="n">ucConfig</span><span class="p">;</span>          <span class="c1">// indicate which encoder, and DP link rate when ucAction = SETUP/ENABLE_OUTPUT  </span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>          <span class="c1">// </span>
  <span class="n">UCHAR</span>  <span class="n">ucEncoderMode</span><span class="p">;</span>     <span class="c1">// encoder mode, only used when ucAction = SETUP/ENABLE_OUTPUT</span>
  <span class="n">UCHAR</span>  <span class="n">ucLaneNum</span><span class="p">;</span>         <span class="c1">// lane number, only used when ucAction = SETUP/ENABLE_OUTPUT  </span>
  <span class="n">UCHAR</span>  <span class="n">ucBitPerColor</span><span class="p">;</span>     <span class="c1">// output bit per color, only valid when ucAction = SETUP/ENABLE_OUTPUT and ucEncodeMode= DP</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>        
<span class="p">}</span><span class="n">EXTERNAL_ENCODER_CONTROL_PARAMETERS_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-91"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-91">&#182;</a></div><p>ucAction</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_DISABLE_OUTPUT         0x00</span>
<span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_ENABLE_OUTPUT          0x01</span>
<span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_ENCODER_INIT           0x07</span>
<span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_ENCODER_SETUP          0x0f</span>
<span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_ENCODER_BLANKING_OFF   0x10</span>
<span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_ENCODER_BLANKING       0x11</span>
<span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_DACLOAD_DETECTION      0x12</span>
<span class="cp">#define EXTERNAL_ENCODER_ACTION_V3_DDC_SETUP              0x14</span></pre></div></td></tr>


<tr id="section-92"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-92">&#182;</a></div><p>ucConfig</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_DPLINKRATE_MASK				0x03</span>
<span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_DPLINKRATE_1_62GHZ		  0x00</span>
<span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_DPLINKRATE_2_70GHZ		  0x01</span>
<span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_DPLINKRATE_5_40GHZ		  0x02</span>
<span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_ENCODER_SEL_MASK		    0x70</span>
<span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_ENCODER1		            0x00</span>
<span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_ENCODER2		            0x10</span>
<span class="cp">#define EXTERNAL_ENCODER_CONFIG_V3_ENCODER3		            0x20</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_EXTERNAL_ENCODER_CONTROL_PS_ALLOCATION_V3</span>
<span class="p">{</span>
  <span class="n">EXTERNAL_ENCODER_CONTROL_PARAMETERS_V3</span> <span class="n">sExtEncoder</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">ulReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">EXTERNAL_ENCODER_CONTROL_PS_ALLOCATION_V3</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-93"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-93">&#182;</a></div><p>Structures used by DAC1OuputControlTable
                   DAC2OuputControlTable
                   LVTMAOutputControlTable  (Before DEC30)
                   TMDSAOutputControlTable  (Before DEC30)</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>                    <span class="c1">// Possible input:ATOM_ENABLE||ATOMDISABLE</span></pre></div></td></tr>


<tr id="section-94"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-94">&#182;</a></div><p>When the display is LCD, in addition to above:
ATOM<em>LCD</em>BLOFF|| ATOM<em>LCD</em>BLON ||ATOM<em>LCD</em>BL<em>BRIGHTNESS</em>CONTROL||ATOM<em>LCD</em>SELFTEST<em>START||
ATOM</em>LCD<em>SELFTEST</em>STOP</p></td><td class="code"><div class="highlight"><pre>                                      
  <span class="n">UCHAR</span>  <span class="n">aucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>               <span class="c1">// padding to DWORD aligned</span>
<span class="p">}</span><span class="n">DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>


<span class="cp">#define CRT1_OUTPUT_CONTROL_PARAMETERS     DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS </span>
<span class="cp">#define CRT1_OUTPUT_CONTROL_PS_ALLOCATION  DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define CRT2_OUTPUT_CONTROL_PARAMETERS     DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS </span>
<span class="cp">#define CRT2_OUTPUT_CONTROL_PS_ALLOCATION  DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define CV1_OUTPUT_CONTROL_PARAMETERS      DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define CV1_OUTPUT_CONTROL_PS_ALLOCATION   DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define TV1_OUTPUT_CONTROL_PARAMETERS      DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define TV1_OUTPUT_CONTROL_PS_ALLOCATION   DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define DFP1_OUTPUT_CONTROL_PARAMETERS     DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define DFP1_OUTPUT_CONTROL_PS_ALLOCATION  DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define DFP2_OUTPUT_CONTROL_PARAMETERS     DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define DFP2_OUTPUT_CONTROL_PS_ALLOCATION  DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define LCD1_OUTPUT_CONTROL_PARAMETERS     DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define LCD1_OUTPUT_CONTROL_PS_ALLOCATION  DISPLAY_DEVICE_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define DVO_OUTPUT_CONTROL_PARAMETERS      DISPLAY_DEVICE_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define DVO_OUTPUT_CONTROL_PS_ALLOCATION   DIG_TRANSMITTER_CONTROL_PS_ALLOCATION</span>
<span class="cp">#define DVO_OUTPUT_CONTROL_PARAMETERS_V3	 DIG_TRANSMITTER_CONTROL_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-95"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-95">&#182;</a></div><p>Structures used by BlankCRTCTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_BLANK_CRTC_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucCRTC</span><span class="p">;</span>                    	<span class="c1">// ATOM_CRTC1 or ATOM_CRTC2</span>
  <span class="n">UCHAR</span>  <span class="n">ucBlanking</span><span class="p">;</span>                  <span class="c1">// ATOM_BLANKING or ATOM_BLANKINGOFF</span>
  <span class="n">USHORT</span> <span class="n">usBlackColorRCr</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usBlackColorGY</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usBlackColorBCb</span><span class="p">;</span>
<span class="p">}</span><span class="n">BLANK_CRTC_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define BLANK_CRTC_PS_ALLOCATION    BLANK_CRTC_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-96"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-96">&#182;</a></div><p>Structures used by EnableCRTCTable
                   EnableCRTCMemReqTable
                   UpdateCRTC_DoubleBufferRegistersTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_CRTC_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucCRTC</span><span class="p">;</span>                    	  <span class="c1">// ATOM_CRTC1 or ATOM_CRTC2</span>
  <span class="n">UCHAR</span> <span class="n">ucEnable</span><span class="p">;</span>                     <span class="c1">// ATOM_ENABLE or ATOM_DISABLE </span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_CRTC_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define ENABLE_CRTC_PS_ALLOCATION   ENABLE_CRTC_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-97"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-97">&#182;</a></div><p>Structures used by SetCRTC_OverScanTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_CRTC_OVERSCAN_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usOverscanRight</span><span class="p">;</span>             <span class="c1">// right</span>
  <span class="n">USHORT</span> <span class="n">usOverscanLeft</span><span class="p">;</span>              <span class="c1">// left</span>
  <span class="n">USHORT</span> <span class="n">usOverscanBottom</span><span class="p">;</span>            <span class="c1">// bottom</span>
  <span class="n">USHORT</span> <span class="n">usOverscanTop</span><span class="p">;</span>               <span class="c1">// top</span>
  <span class="n">UCHAR</span>  <span class="n">ucCRTC</span><span class="p">;</span>                      <span class="c1">// ATOM_CRTC1 or ATOM_CRTC2</span>
  <span class="n">UCHAR</span>  <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">SET_CRTC_OVERSCAN_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define SET_CRTC_OVERSCAN_PS_ALLOCATION  SET_CRTC_OVERSCAN_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-98"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-98">&#182;</a></div><p>Structures used by SetCRTC_ReplicationTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_CRTC_REPLICATION_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucH_Replication</span><span class="p">;</span>              <span class="c1">// horizontal replication</span>
  <span class="n">UCHAR</span> <span class="n">ucV_Replication</span><span class="p">;</span>              <span class="c1">// vertical replication</span>
  <span class="n">UCHAR</span> <span class="n">usCRTC</span><span class="p">;</span>                       <span class="c1">// ATOM_CRTC1 or ATOM_CRTC2</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">;</span>
<span class="p">}</span><span class="n">SET_CRTC_REPLICATION_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define SET_CRTC_REPLICATION_PS_ALLOCATION  SET_CRTC_REPLICATION_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-99"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-99">&#182;</a></div><p>Structures used by SelectCRTC_SourceTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SELECT_CRTC_SOURCE_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucCRTC</span><span class="p">;</span>                    	  <span class="c1">// ATOM_CRTC1 or ATOM_CRTC2</span>
  <span class="n">UCHAR</span> <span class="n">ucDevice</span><span class="p">;</span>                     <span class="c1">// ATOM_DEVICE_CRT1|ATOM_DEVICE_CRT2|....</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">SELECT_CRTC_SOURCE_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define SELECT_CRTC_SOURCE_PS_ALLOCATION  SELECT_CRTC_SOURCE_PARAMETERS</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SELECT_CRTC_SOURCE_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucCRTC</span><span class="p">;</span>                    	  <span class="c1">// ATOM_CRTC1 or ATOM_CRTC2</span>
  <span class="n">UCHAR</span> <span class="n">ucEncoderID</span><span class="p">;</span>                  <span class="c1">// DAC1/DAC2/TVOUT/DIG1/DIG2/DVO</span>
  <span class="n">UCHAR</span> <span class="n">ucEncodeMode</span><span class="p">;</span>									<span class="c1">// Encoding mode, only valid when using DIG1/DIG2/DVO</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">;</span>
<span class="p">}</span><span class="n">SELECT_CRTC_SOURCE_PARAMETERS_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-100"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-100">&#182;</a></div><p>ucEncoderID</p>

<h1>define ASIC<em>INT</em>DAC1<em>ENCODER</em>ID                            0x00</h1>

<h1>define ASIC<em>INT</em>TV<em>ENCODER</em>ID                                    0x02</h1>

<h1>define ASIC<em>INT</em>DIG1<em>ENCODER</em>ID                                0x03</h1>

<h1>define ASIC<em>INT</em>DAC2<em>ENCODER</em>ID                                0x04</h1>

<h1>define ASIC<em>EXT</em>TV<em>ENCODER</em>ID                                    0x06</h1>

<h1>define ASIC<em>INT</em>DVO<em>ENCODER</em>ID                                    0x07</h1>

<h1>define ASIC<em>INT</em>DIG2<em>ENCODER</em>ID                                0x09</h1>

<h1>define ASIC<em>EXT</em>DIG<em>ENCODER</em>ID                                    0x05</h1></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-101"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-101">&#182;</a></div><p>ucEncodeMode</p>

<h1>define ATOM<em>ENCODER</em>MODE_DP                                        0</h1>

<h1>define ATOM<em>ENCODER</em>MODE_LVDS                                    1</h1>

<h1>define ATOM<em>ENCODER</em>MODE_DVI                                        2</h1>

<h1>define ATOM<em>ENCODER</em>MODE_HDMI                                    3</h1>

<h1>define ATOM<em>ENCODER</em>MODE_SDVO                                    4</h1>

<h1>define ATOM<em>ENCODER</em>MODE_TV                                        13</h1>

<h1>define ATOM<em>ENCODER</em>MODE_CV                                        14</h1>

<h1>define ATOM<em>ENCODER</em>MODE_CRT                                        15</h1></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-102"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-102">&#182;</a></div><p>Structures used by SetPixelClockTable
                   GetPixelClockTable </p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-103"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-103">&#182;</a></div><p>Major revision=1., Minor revision=1</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PIXEL_CLOCK_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>                <span class="c1">// in 10kHz unit; for bios convenient = (RefClk*FB_Div)/(Ref_Div*Post_Div)</span></pre></div></td></tr>


<tr id="section-104"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-104">&#182;</a></div><p>0 means disable PPLL</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span> <span class="n">usRefDiv</span><span class="p">;</span>                    <span class="c1">// Reference divider</span>
  <span class="n">USHORT</span> <span class="n">usFbDiv</span><span class="p">;</span>                     <span class="c1">// feedback divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPostDiv</span><span class="p">;</span>                   <span class="c1">// post divider	</span>
  <span class="n">UCHAR</span>  <span class="n">ucFracFbDiv</span><span class="p">;</span>                 <span class="c1">// fractional feedback divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPpll</span><span class="p">;</span>                      <span class="c1">// ATOM_PPLL1 or ATOM_PPL2</span>
  <span class="n">UCHAR</span>  <span class="n">ucRefDivSrc</span><span class="p">;</span>                 <span class="c1">// ATOM_PJITTER or ATO_NONPJITTER</span>
  <span class="n">UCHAR</span>  <span class="n">ucCRTC</span><span class="p">;</span>                      <span class="c1">// Which CRTC uses this Ppll</span>
  <span class="n">UCHAR</span>  <span class="n">ucPadding</span><span class="p">;</span>
<span class="p">}</span><span class="n">PIXEL_CLOCK_PARAMETERS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-105"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-105">&#182;</a></div><p>Major revision=1., Minor revision=2, add ucMiscIfno
ucMiscInfo:</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define MISC_FORCE_REPROG_PIXEL_CLOCK 0x1</span>
<span class="cp">#define MISC_DEVICE_INDEX_MASK        0xF0</span>
<span class="cp">#define MISC_DEVICE_INDEX_SHIFT       4</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PIXEL_CLOCK_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>                <span class="c1">// in 10kHz unit; for bios convenient = (RefClk*FB_Div)/(Ref_Div*Post_Div)</span></pre></div></td></tr>


<tr id="section-106"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-106">&#182;</a></div><p>0 means disable PPLL</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span> <span class="n">usRefDiv</span><span class="p">;</span>                    <span class="c1">// Reference divider</span>
  <span class="n">USHORT</span> <span class="n">usFbDiv</span><span class="p">;</span>                     <span class="c1">// feedback divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPostDiv</span><span class="p">;</span>                   <span class="c1">// post divider	</span>
  <span class="n">UCHAR</span>  <span class="n">ucFracFbDiv</span><span class="p">;</span>                 <span class="c1">// fractional feedback divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPpll</span><span class="p">;</span>                      <span class="c1">// ATOM_PPLL1 or ATOM_PPL2</span>
  <span class="n">UCHAR</span>  <span class="n">ucRefDivSrc</span><span class="p">;</span>                 <span class="c1">// ATOM_PJITTER or ATO_NONPJITTER</span>
  <span class="n">UCHAR</span>  <span class="n">ucCRTC</span><span class="p">;</span>                      <span class="c1">// Which CRTC uses this Ppll</span>
  <span class="n">UCHAR</span>  <span class="n">ucMiscInfo</span><span class="p">;</span>                  <span class="c1">// Different bits for different purpose, bit [7:4] as device index, bit[0]=Force prog</span>
<span class="p">}</span><span class="n">PIXEL_CLOCK_PARAMETERS_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-107"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-107">&#182;</a></div><p>Major revision=1., Minor revision=3, structure/definition change
ucEncoderMode:
ATOM<em>ENCODER</em>MODE<em>DP
ATOM</em>ENOCDER<em>MODE</em>LVDS
ATOM<em>ENOCDER</em>MODE<em>DVI
ATOM</em>ENOCDER<em>MODE</em>HDMI
ATOM<em>ENOCDER</em>MODE<em>SDVO
ATOM</em>ENCODER<em>MODE</em>TV                                        13
ATOM<em>ENCODER</em>MODE<em>CV                                        14
ATOM</em>ENCODER<em>MODE</em>CRT                                        15</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-108"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-108">&#182;</a></div><p>ucDVOConfig</p>

<h1>define DVO<em>ENCODER</em>CONFIG<em>RATE</em>SEL                            0x01</h1>

<h1>define DVO<em>ENCODER</em>CONFIG<em>DDR</em>SPEED                        0x00</h1>

<h1>define DVO<em>ENCODER</em>CONFIG<em>SDR</em>SPEED                        0x01</h1>

<h1>define DVO<em>ENCODER</em>CONFIG<em>OUTPUT</em>SEL                        0x0c</h1>

<h1>define DVO<em>ENCODER</em>CONFIG_LOW12BIT                            0x00</h1>

<h1>define DVO<em>ENCODER</em>CONFIG_UPPER12BIT                        0x04</h1>

<h1>define DVO<em>ENCODER</em>CONFIG_24BIT                                0x08</h1></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-109"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-109">&#182;</a></div><p>ucMiscInfo: also changed, see below</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PIXEL_CLOCK_MISC_FORCE_PROG_PPLL						0x01</span>
<span class="cp">#define PIXEL_CLOCK_MISC_VGA_MODE										0x02</span>
<span class="cp">#define PIXEL_CLOCK_MISC_CRTC_SEL_MASK							0x04</span>
<span class="cp">#define PIXEL_CLOCK_MISC_CRTC_SEL_CRTC1							0x00</span>
<span class="cp">#define PIXEL_CLOCK_MISC_CRTC_SEL_CRTC2							0x04</span>
<span class="cp">#define PIXEL_CLOCK_MISC_USE_ENGINE_FOR_DISPCLK			0x08</span>
<span class="cp">#define PIXEL_CLOCK_MISC_REF_DIV_SRC                    0x10</span></pre></div></td></tr>


<tr id="section-110"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-110">&#182;</a></div><p>V1.4 for RoadRunner</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PIXEL_CLOCK_V4_MISC_SS_ENABLE               0x10</span>
<span class="cp">#define PIXEL_CLOCK_V4_MISC_COHERENT_MODE           0x20</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PIXEL_CLOCK_PARAMETERS_V3</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>                <span class="c1">// in 10kHz unit; for bios convenient = (RefClk*FB_Div)/(Ref_Div*Post_Div)</span></pre></div></td></tr>


<tr id="section-111"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-111">&#182;</a></div><p>0 means disable PPLL. For VGA PPLL,make sure this value is not 0.</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span> <span class="n">usRefDiv</span><span class="p">;</span>                    <span class="c1">// Reference divider</span>
  <span class="n">USHORT</span> <span class="n">usFbDiv</span><span class="p">;</span>                     <span class="c1">// feedback divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPostDiv</span><span class="p">;</span>                   <span class="c1">// post divider	</span>
  <span class="n">UCHAR</span>  <span class="n">ucFracFbDiv</span><span class="p">;</span>                 <span class="c1">// fractional feedback divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPpll</span><span class="p">;</span>                      <span class="c1">// ATOM_PPLL1 or ATOM_PPL2</span>
  <span class="n">UCHAR</span>  <span class="n">ucTransmitterId</span><span class="p">;</span>             <span class="c1">// graphic encoder id defined in objectId.h</span>
	<span class="k">union</span>
	<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucEncoderMode</span><span class="p">;</span>               <span class="c1">// encoder type defined as ATOM_ENCODER_MODE_DP/DVI/HDMI/</span>
	<span class="n">UCHAR</span>  <span class="n">ucDVOConfig</span><span class="p">;</span>									<span class="c1">// when use DVO, need to know SDR/DDR, 12bit or 24bit</span>
	<span class="p">};</span>
  <span class="n">UCHAR</span>  <span class="n">ucMiscInfo</span><span class="p">;</span>                  <span class="c1">// bit[0]=Force program, bit[1]= set pclk for VGA, b[2]= CRTC sel</span></pre></div></td></tr>


<tr id="section-112"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-112">&#182;</a></div><p>bit[3]=0:use PPLL for dispclk source, =1: use engine clock for dispclock source
bit[4]=0:use XTALIN as the source of reference divider,=1 use the pre-defined clock as the source of reference divider</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">PIXEL_CLOCK_PARAMETERS_V3</span><span class="p">;</span>

<span class="cp">#define PIXEL_CLOCK_PARAMETERS_LAST			PIXEL_CLOCK_PARAMETERS_V2</span>
<span class="cp">#define GET_PIXEL_CLOCK_PS_ALLOCATION		PIXEL_CLOCK_PARAMETERS_LAST</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PIXEL_CLOCK_PARAMETERS_V5</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucCRTC</span><span class="p">;</span>             <span class="c1">// ATOM_CRTC1~6, indicate the CRTC controller to </span></pre></div></td></tr>


<tr id="section-113"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-113">&#182;</a></div><p>drive the pixel clock. not used for DCPLL case.</p></td><td class="code"><div class="highlight"><pre>  <span class="k">union</span><span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucFracFbDiv</span><span class="p">;</span>        <span class="c1">// [gphan] temporary to prevent build problem.  remove it after driver code is changed.</span>
  <span class="p">};</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>       <span class="c1">// target the pixel clock to drive the CRTC timing</span></pre></div></td></tr>


<tr id="section-114"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-114">&#182;</a></div><p>0 means disable PPLL/DCPLL. </p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span> <span class="n">usFbDiv</span><span class="p">;</span>            <span class="c1">// feedback divider integer part. </span>
  <span class="n">UCHAR</span>  <span class="n">ucPostDiv</span><span class="p">;</span>          <span class="c1">// post divider. </span>
  <span class="n">UCHAR</span>  <span class="n">ucRefDiv</span><span class="p">;</span>           <span class="c1">// Reference divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPpll</span><span class="p">;</span>             <span class="c1">// ATOM_PPLL1/ATOM_PPLL2/ATOM_DCPLL</span>
  <span class="n">UCHAR</span>  <span class="n">ucTransmitterID</span><span class="p">;</span>    <span class="c1">// ASIC encoder id defined in objectId.h, </span></pre></div></td></tr>


<tr id="section-115"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-115">&#182;</a></div><p>indicate which graphic encoder will be used. </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>  <span class="n">ucEncoderMode</span><span class="p">;</span>      <span class="c1">// Encoder mode: </span>
  <span class="n">UCHAR</span>  <span class="n">ucMiscInfo</span><span class="p">;</span>         <span class="c1">// bit[0]= Force program PPLL </span></pre></div></td></tr>


<tr id="section-116"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-116">&#182;</a></div><p>bit[1]= when VGA timing is used. 
bit[3:2]= HDMI panel bit depth: =0: 24bpp =1:30bpp, =2:32bpp
bit[4]= RefClock source for PPLL. 
=0: XTLAIN( default mode )
=1: other external clock source, which is pre-defined
    by VBIOS depend on the feature required.
bit[7:5]: reserved.</p></td><td class="code"><div class="highlight"><pre>  <span class="n">ULONG</span>  <span class="n">ulFbDivDecFrac</span><span class="p">;</span>     <span class="c1">// 20 bit feedback divider decimal fraction part, range from 1~999999 ( 0.000001 to 0.999999 )</span>

<span class="p">}</span><span class="n">PIXEL_CLOCK_PARAMETERS_V5</span><span class="p">;</span>

<span class="cp">#define PIXEL_CLOCK_V5_MISC_FORCE_PROG_PPLL					0x01</span>
<span class="cp">#define PIXEL_CLOCK_V5_MISC_VGA_MODE								0x02</span>
<span class="cp">#define PIXEL_CLOCK_V5_MISC_HDMI_BPP_MASK           0x0c</span>
<span class="cp">#define PIXEL_CLOCK_V5_MISC_HDMI_24BPP              0x00</span>
<span class="cp">#define PIXEL_CLOCK_V5_MISC_HDMI_30BPP              0x04</span>
<span class="cp">#define PIXEL_CLOCK_V5_MISC_HDMI_32BPP              0x08</span>
<span class="cp">#define PIXEL_CLOCK_V5_MISC_REF_DIV_SRC             0x10</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_CRTC_PIXEL_CLOCK_FREQ</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">ULONG</span>  <span class="n">ucCRTC</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>            <span class="c1">// ATOM_CRTC1~6, indicate the CRTC controller to </span></pre></div></td></tr>


<tr id="section-117"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-117">&#182;</a></div><p>drive the pixel clock. not used for DCPLL case.</p></td><td class="code"><div class="highlight"><pre>  <span class="n">ULONG</span>  <span class="n">ulPixelClock</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>     <span class="c1">// target the pixel clock to drive the CRTC timing. </span></pre></div></td></tr>


<tr id="section-118"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-118">&#182;</a></div><p>0 means disable PPLL/DCPLL. Expanded to 24 bits comparing to previous version.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#else</span>
  <span class="n">ULONG</span>  <span class="n">ulPixelClock</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>     <span class="c1">// target the pixel clock to drive the CRTC timing. </span></pre></div></td></tr>


<tr id="section-119"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-119">&#182;</a></div><p>0 means disable PPLL/DCPLL. Expanded to 24 bits comparing to previous version.</p></td><td class="code"><div class="highlight"><pre>  <span class="n">ULONG</span>  <span class="n">ucCRTC</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>            <span class="c1">// ATOM_CRTC1~6, indicate the CRTC controller to </span></pre></div></td></tr>


<tr id="section-120"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-120">&#182;</a></div><p>drive the pixel clock. not used for DCPLL case.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#endif</span>
<span class="p">}</span><span class="n">CRTC_PIXEL_CLOCK_FREQ</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PIXEL_CLOCK_PARAMETERS_V6</span>
<span class="p">{</span>
  <span class="k">union</span><span class="p">{</span>
    <span class="n">CRTC_PIXEL_CLOCK_FREQ</span> <span class="n">ulCrtcPclkFreq</span><span class="p">;</span>    <span class="c1">// pixel clock and CRTC id frequency </span>
    <span class="n">ULONG</span> <span class="n">ulDispEngClkFreq</span><span class="p">;</span>                  <span class="c1">// dispclk frequency</span>
  <span class="p">};</span>
  <span class="n">USHORT</span> <span class="n">usFbDiv</span><span class="p">;</span>            <span class="c1">// feedback divider integer part. </span>
  <span class="n">UCHAR</span>  <span class="n">ucPostDiv</span><span class="p">;</span>          <span class="c1">// post divider. </span>
  <span class="n">UCHAR</span>  <span class="n">ucRefDiv</span><span class="p">;</span>           <span class="c1">// Reference divider</span>
  <span class="n">UCHAR</span>  <span class="n">ucPpll</span><span class="p">;</span>             <span class="c1">// ATOM_PPLL1/ATOM_PPLL2/ATOM_DCPLL</span>
  <span class="n">UCHAR</span>  <span class="n">ucTransmitterID</span><span class="p">;</span>    <span class="c1">// ASIC encoder id defined in objectId.h, </span></pre></div></td></tr>


<tr id="section-121"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-121">&#182;</a></div><p>indicate which graphic encoder will be used. </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>  <span class="n">ucEncoderMode</span><span class="p">;</span>      <span class="c1">// Encoder mode: </span>
  <span class="n">UCHAR</span>  <span class="n">ucMiscInfo</span><span class="p">;</span>         <span class="c1">// bit[0]= Force program PPLL </span></pre></div></td></tr>


<tr id="section-122"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-122">&#182;</a></div><p>bit[1]= when VGA timing is used. 
bit[3:2]= HDMI panel bit depth: =0: 24bpp =1:30bpp, =2:32bpp
bit[4]= RefClock source for PPLL. 
=0: XTLAIN( default mode )
=1: other external clock source, which is pre-defined <br />
    by VBIOS depend on the feature required.
bit[7:5]: reserved.</p></td><td class="code"><div class="highlight"><pre>  <span class="n">ULONG</span>  <span class="n">ulFbDivDecFrac</span><span class="p">;</span>     <span class="c1">// 20 bit feedback divider decimal fraction part, range from 1~999999 ( 0.000001 to 0.999999 )</span>

<span class="p">}</span><span class="n">PIXEL_CLOCK_PARAMETERS_V6</span><span class="p">;</span>

<span class="cp">#define PIXEL_CLOCK_V6_MISC_FORCE_PROG_PPLL					0x01</span>
<span class="cp">#define PIXEL_CLOCK_V6_MISC_VGA_MODE								0x02</span>
<span class="cp">#define PIXEL_CLOCK_V6_MISC_HDMI_BPP_MASK           0x0c</span>
<span class="cp">#define PIXEL_CLOCK_V6_MISC_HDMI_24BPP              0x00</span>
<span class="cp">#define PIXEL_CLOCK_V6_MISC_HDMI_36BPP              0x04</span>
<span class="cp">#define PIXEL_CLOCK_V6_MISC_HDMI_30BPP              0x08</span>
<span class="cp">#define PIXEL_CLOCK_V6_MISC_HDMI_48BPP              0x0c</span>
<span class="cp">#define PIXEL_CLOCK_V6_MISC_REF_DIV_SRC             0x10</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_GET_DISP_PLL_STATUS_INPUT_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">PIXEL_CLOCK_PARAMETERS_V3</span> <span class="n">sDispClkInput</span><span class="p">;</span>
<span class="p">}</span><span class="n">GET_DISP_PLL_STATUS_INPUT_PARAMETERS_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_GET_DISP_PLL_STATUS_OUTPUT_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucStatus</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucRefDivSrc</span><span class="p">;</span>                 <span class="c1">// =1: reference clock source from XTALIN, =0: source from PCIE ref clock</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">GET_DISP_PLL_STATUS_OUTPUT_PARAMETERS_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_GET_DISP_PLL_STATUS_INPUT_PARAMETERS_V3</span>
<span class="p">{</span>
  <span class="n">PIXEL_CLOCK_PARAMETERS_V5</span> <span class="n">sDispClkInput</span><span class="p">;</span>
<span class="p">}</span><span class="n">GET_DISP_PLL_STATUS_INPUT_PARAMETERS_V3</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-123"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-123">&#182;</a></div><p>Structures used by AdjustDisplayPllTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ADJUST_DISPLAY_PLL_PARAMETERS</span>
<span class="p">{</span>
	<span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucTransmitterID</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucEncodeMode</span><span class="p">;</span>
	<span class="k">union</span>
	<span class="p">{</span>
		<span class="n">UCHAR</span> <span class="n">ucDVOConfig</span><span class="p">;</span>									<span class="c1">//if DVO, need passing link rate and output 12bitlow or 24bit</span>
		<span class="n">UCHAR</span> <span class="n">ucConfig</span><span class="p">;</span>											<span class="c1">//if none DVO, not defined yet</span>
	<span class="p">};</span>
	<span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">ADJUST_DISPLAY_PLL_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define ADJUST_DISPLAY_CONFIG_SS_ENABLE       0x10</span>
<span class="cp">#define ADJUST_DISPLAY_PLL_PS_ALLOCATION			ADJUST_DISPLAY_PLL_PARAMETERS</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ADJUST_DISPLAY_PLL_INPUT_PARAMETERS_V3</span>
<span class="p">{</span>
	<span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>                    <span class="c1">// target pixel clock</span>
	<span class="n">UCHAR</span> <span class="n">ucTransmitterID</span><span class="p">;</span>                  <span class="c1">// GPU transmitter id defined in objectid.h</span>
	<span class="n">UCHAR</span> <span class="n">ucEncodeMode</span><span class="p">;</span>                     <span class="c1">// encoder mode: CRT, LVDS, DP, TMDS or HDMI</span>
  <span class="n">UCHAR</span> <span class="n">ucDispPllConfig</span><span class="p">;</span>                 <span class="c1">// display pll configure parameter defined as following DISPPLL_CONFIG_XXXX</span>
  <span class="n">UCHAR</span> <span class="n">ucExtTransmitterID</span><span class="p">;</span>               <span class="c1">// external encoder id.</span>
	<span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ADJUST_DISPLAY_PLL_INPUT_PARAMETERS_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-124"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-124">&#182;</a></div><p>usDispPllConfig v1.2 for RoadRunner</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DISPPLL_CONFIG_DVO_RATE_SEL                0x0001     </span><span class="c1">// need only when ucTransmitterID = DVO</span>
<span class="cp">#define DISPPLL_CONFIG_DVO_DDR_SPEED               0x0000     </span><span class="c1">// need only when ucTransmitterID = DVO</span>
<span class="cp">#define DISPPLL_CONFIG_DVO_SDR_SPEED               0x0001     </span><span class="c1">// need only when ucTransmitterID = DVO</span>
<span class="cp">#define DISPPLL_CONFIG_DVO_OUTPUT_SEL              0x000c     </span><span class="c1">// need only when ucTransmitterID = DVO</span>
<span class="cp">#define DISPPLL_CONFIG_DVO_LOW12BIT                0x0000     </span><span class="c1">// need only when ucTransmitterID = DVO</span>
<span class="cp">#define DISPPLL_CONFIG_DVO_UPPER12BIT              0x0004     </span><span class="c1">// need only when ucTransmitterID = DVO</span>
<span class="cp">#define DISPPLL_CONFIG_DVO_24BIT                   0x0008     </span><span class="c1">// need only when ucTransmitterID = DVO</span>
<span class="cp">#define DISPPLL_CONFIG_SS_ENABLE                   0x0010     </span><span class="c1">// Only used when ucEncoderMode = DP or LVDS</span>
<span class="cp">#define DISPPLL_CONFIG_COHERENT_MODE               0x0020     </span><span class="c1">// Only used when ucEncoderMode = TMDS or HDMI</span>
<span class="cp">#define DISPPLL_CONFIG_DUAL_LINK                   0x0040     </span><span class="c1">// Only used when ucEncoderMode = TMDS or LVDS</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ADJUST_DISPLAY_PLL_OUTPUT_PARAMETERS_V3</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulDispPllFreq</span><span class="p">;</span>                 <span class="c1">// return display PPLL freq which is used to generate the pixclock, and related idclk, symclk etc</span>
  <span class="n">UCHAR</span> <span class="n">ucRefDiv</span><span class="p">;</span>                      <span class="c1">// if it is none-zero, it is used to be calculated the other ppll parameter fb_divider and post_div ( if it is not given )</span>
  <span class="n">UCHAR</span> <span class="n">ucPostDiv</span><span class="p">;</span>                     <span class="c1">// if it is none-zero, it is used to be calculated the other ppll parameter fb_divider</span>
  <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>  
<span class="p">}</span><span class="n">ADJUST_DISPLAY_PLL_OUTPUT_PARAMETERS_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ADJUST_DISPLAY_PLL_PS_ALLOCATION_V3</span>
<span class="p">{</span>
  <span class="k">union</span> 
  <span class="p">{</span>
    <span class="n">ADJUST_DISPLAY_PLL_INPUT_PARAMETERS_V3</span>  <span class="n">sInput</span><span class="p">;</span>
    <span class="n">ADJUST_DISPLAY_PLL_OUTPUT_PARAMETERS_V3</span> <span class="n">sOutput</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span> <span class="n">ADJUST_DISPLAY_PLL_PS_ALLOCATION_V3</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-125"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-125">&#182;</a></div><p>Structures used by EnableYUVTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_YUV_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucEnable</span><span class="p">;</span>                     <span class="c1">// ATOM_ENABLE:Enable YUV or ATOM_DISABLE:Disable YUV (RGB)</span>
  <span class="n">UCHAR</span> <span class="n">ucCRTC</span><span class="p">;</span>                       <span class="c1">// Which CRTC needs this YUV or RGB format</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_YUV_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define ENABLE_YUV_PS_ALLOCATION ENABLE_YUV_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-126"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-126">&#182;</a></div><p>Structures used by GetMemoryClockTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_GET_MEMORY_CLOCK_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulReturnMemoryClock</span><span class="p">;</span>          <span class="c1">// current memory speed in 10KHz unit</span>
<span class="p">}</span> <span class="n">GET_MEMORY_CLOCK_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define GET_MEMORY_CLOCK_PS_ALLOCATION  GET_MEMORY_CLOCK_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-127"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-127">&#182;</a></div><p>Structures used by GetEngineClockTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_GET_ENGINE_CLOCK_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulReturnEngineClock</span><span class="p">;</span>          <span class="c1">// current engine speed in 10KHz unit</span>
<span class="p">}</span> <span class="n">GET_ENGINE_CLOCK_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define GET_ENGINE_CLOCK_PS_ALLOCATION  GET_ENGINE_CLOCK_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-128"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-128">&#182;</a></div><p>Following Structures and constant may be obsolete</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-129"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-129">&#182;</a></div><p>Maxium 8 bytes,the data read in will be placed in the parameter space.
Read operaion successeful when the paramter space is non-zero, otherwise read operation failed</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_READ_EDID_FROM_HW_I2C_DATA_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>    <span class="n">usPrescale</span><span class="p">;</span>         <span class="c1">//Ratio between Engine clock and I2C clock</span>
  <span class="n">USHORT</span>    <span class="n">usVRAMAddress</span><span class="p">;</span>      <span class="c1">//Address in Frame Buffer where to pace raw EDID</span>
  <span class="n">USHORT</span>    <span class="n">usStatus</span><span class="p">;</span>           <span class="c1">//When use output: lower byte EDID checksum, high byte hardware status</span></pre></div></td></tr>


<tr id="section-130"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-130">&#182;</a></div><p>WHen use input:  lower byte as 'byte to read':currently limited to 128byte or 1byte</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>     <span class="n">ucSlaveAddr</span><span class="p">;</span>        <span class="c1">//Read from which slave</span>
  <span class="n">UCHAR</span>     <span class="n">ucLineNumber</span><span class="p">;</span>       <span class="c1">//Read from which HW assisted line</span>
<span class="p">}</span><span class="n">READ_EDID_FROM_HW_I2C_DATA_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define READ_EDID_FROM_HW_I2C_DATA_PS_ALLOCATION  READ_EDID_FROM_HW_I2C_DATA_PARAMETERS</span>


<span class="cp">#define  ATOM_WRITE_I2C_FORMAT_PSOFFSET_PSDATABYTE                  0</span>
<span class="cp">#define  ATOM_WRITE_I2C_FORMAT_PSOFFSET_PSTWODATABYTES              1</span>
<span class="cp">#define  ATOM_WRITE_I2C_FORMAT_PSCOUNTER_PSOFFSET_IDDATABLOCK       2</span>
<span class="cp">#define  ATOM_WRITE_I2C_FORMAT_PSCOUNTER_IDOFFSET_PLUS_IDDATABLOCK  3</span>
<span class="cp">#define  ATOM_WRITE_I2C_FORMAT_IDCOUNTER_IDOFFSET_IDDATABLOCK       4</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_WRITE_ONE_BYTE_HW_I2C_DATA_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>    <span class="n">usPrescale</span><span class="p">;</span>         <span class="c1">//Ratio between Engine clock and I2C clock</span>
  <span class="n">USHORT</span>    <span class="n">usByteOffset</span><span class="p">;</span>       <span class="c1">//Write to which byte</span></pre></div></td></tr>


<tr id="section-131"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-131">&#182;</a></div><p>Upper portion of usByteOffset is Format of data 
1bytePS+offsetPS
2bytesPS+offsetPS
blockID+offsetPS
blockID+offsetID
blockID+counterID+offsetID</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>     <span class="n">ucData</span><span class="p">;</span>             <span class="c1">//PS data1</span>
  <span class="n">UCHAR</span>     <span class="n">ucStatus</span><span class="p">;</span>           <span class="c1">//Status byte 1=success, 2=failure, Also is used as PS data2</span>
  <span class="n">UCHAR</span>     <span class="n">ucSlaveAddr</span><span class="p">;</span>        <span class="c1">//Write to which slave</span>
  <span class="n">UCHAR</span>     <span class="n">ucLineNumber</span><span class="p">;</span>       <span class="c1">//Write from which HW assisted line</span>
<span class="p">}</span><span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION  WRITE_ONE_BYTE_HW_I2C_DATA_PARAMETERS</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_UP_HW_I2C_DATA_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>    <span class="n">usPrescale</span><span class="p">;</span>         <span class="c1">//Ratio between Engine clock and I2C clock</span>
  <span class="n">UCHAR</span>     <span class="n">ucSlaveAddr</span><span class="p">;</span>        <span class="c1">//Write to which slave</span>
  <span class="n">UCHAR</span>     <span class="n">ucLineNumber</span><span class="p">;</span>       <span class="c1">//Write from which HW assisted line</span>
<span class="p">}</span><span class="n">SET_UP_HW_I2C_DATA_PARAMETERS</span><span class="p">;</span>


<span class="cm">/**************************************************************************/</span>
<span class="cp">#define SPEED_FAN_CONTROL_PS_ALLOCATION   WRITE_ONE_BYTE_HW_I2C_DATA_PARAMETERS</span>


<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-132"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-132">&#182;</a></div><p>Structures used by PowerConnectorDetectionTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_POWER_CONNECTOR_DETECTION_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>   <span class="n">ucPowerConnectorStatus</span><span class="p">;</span>      <span class="c1">//Used for return value 0: detected, 1:not detected</span>
	<span class="n">UCHAR</span>   <span class="n">ucPwrBehaviorId</span><span class="p">;</span>							
	<span class="n">USHORT</span>	<span class="n">usPwrBudget</span><span class="p">;</span>								 <span class="c1">//how much power currently boot to in unit of watt</span>
<span class="p">}</span><span class="n">POWER_CONNECTOR_DETECTION_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">POWER_CONNECTOR_DETECTION_PS_ALLOCATION</span>
<span class="p">{</span>                               
  <span class="n">UCHAR</span>   <span class="n">ucPowerConnectorStatus</span><span class="p">;</span>      <span class="c1">//Used for return value 0: detected, 1:not detected</span>
	<span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">;</span>
	<span class="n">USHORT</span>	<span class="n">usPwrBudget</span><span class="p">;</span>								 <span class="c1">//how much power currently boot to in unit of watt</span>
  <span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION</span>    <span class="n">sReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">POWER_CONNECTOR_DETECTION_PS_ALLOCATION</span><span class="p">;</span>

<span class="cm">/****************************LVDS SS Command Table Definitions**********************/</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-133"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-133">&#182;</a></div><p>Structures used by EnableSpreadSpectrumOnPPLLTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_ENABLE_LVDS_SS_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span>       
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumType</span><span class="p">;</span>           <span class="c1">//Bit1=0 Down Spread,=1 Center Spread. Bit1=1 Ext. =0 Int. Others:TBD</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumStepSize_Delay</span><span class="p">;</span> <span class="c1">//bits3:2 SS_STEP_SIZE; bit 6:4 SS_DELAY</span>
  <span class="n">UCHAR</span>   <span class="n">ucEnable</span><span class="p">;</span>                       <span class="c1">//ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span>   <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_LVDS_SS_PARAMETERS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-134"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-134">&#182;</a></div><p>ucTableFormatRevision=1,ucTableContentRevision=2</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_ENABLE_LVDS_SS_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span>       
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumType</span><span class="p">;</span>           <span class="c1">//Bit1=0 Down Spread,=1 Center Spread. Bit1=1 Ext. =0 Int. Others:TBD</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumStep</span><span class="p">;</span>           <span class="c1">//</span>
  <span class="n">UCHAR</span>   <span class="n">ucEnable</span><span class="p">;</span>                       <span class="c1">//ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumDelay</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumRange</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucPadding</span><span class="p">;</span>
<span class="p">}</span><span class="n">ENABLE_LVDS_SS_PARAMETERS_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-135"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-135">&#182;</a></div><p>This new structure is based on ENABLE<em>LVDS</em>SS_PARAMETERS but expands to SS on PPLL, so other devices can use SS.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_ENABLE_SPREAD_SPECTRUM_ON_PPLL</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumType</span><span class="p">;</span>           <span class="c1">// Bit1=0 Down Spread,=1 Center Spread. Bit1=1 Ext. =0 Int. Others:TBD</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumStep</span><span class="p">;</span>           <span class="c1">//</span>
  <span class="n">UCHAR</span>   <span class="n">ucEnable</span><span class="p">;</span>                       <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumDelay</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumRange</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucPpll</span><span class="p">;</span>												  <span class="c1">// ATOM_PPLL1/ATOM_PPLL2</span>
<span class="p">}</span><span class="n">ENABLE_SPREAD_SPECTRUM_ON_PPLL</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_SPREAD_SPECTRUM_ON_PPLL_V2</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumType</span><span class="p">;</span>	        <span class="c1">// Bit[0]: 0-Down Spread,1-Center Spread. </span></pre></div></td></tr>


<tr id="section-136"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-136">&#182;</a></div><p>Bit[1]: 1-Ext. 0-Int. 
Bit[3:2]: =0 P1PLL =1 P2PLL =2 DCPLL
Bits[7:4] reserved</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>   <span class="n">ucEnable</span><span class="p">;</span>	                    <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumAmount</span><span class="p">;</span>      	<span class="c1">// Includes SS_AMOUNT_FBDIV[7:0] and SS_AMOUNT_NFRAC_SLIP[11:8]    </span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumStep</span><span class="p">;</span>	        <span class="c1">// SS_STEP_SIZE_DSFRAC</span>
<span class="p">}</span><span class="n">ENABLE_SPREAD_SPECTRUM_ON_PPLL_V2</span><span class="p">;</span>

<span class="cp">#define ATOM_PPLL_SS_TYPE_V2_DOWN_SPREAD      0x00</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V2_CENTRE_SPREAD    0x01</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V2_EXT_SPREAD       0x02</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V2_PPLL_SEL_MASK    0x0c</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V2_P1PLL            0x00</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V2_P2PLL            0x04</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V2_DCPLL            0x08</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V2_FBDIV_MASK     0x00FF</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V2_FBDIV_SHIFT    0</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V2_NFRAC_MASK     0x0F00</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V2_NFRAC_SHIFT    8</span></pre></div></td></tr>


<tr id="section-137"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-137">&#182;</a></div><p>Used by DCE5.0</p></td><td class="code"><div class="highlight"><pre> <span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_SPREAD_SPECTRUM_ON_PPLL_V3</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumAmountFrac</span><span class="p">;</span>   <span class="c1">// SS_AMOUNT_DSFRAC New in DCE5.0</span>
  <span class="n">UCHAR</span>   <span class="n">ucSpreadSpectrumType</span><span class="p">;</span>	        <span class="c1">// Bit[0]: 0-Down Spread,1-Center Spread. </span></pre></div></td></tr>


<tr id="section-138"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-138">&#182;</a></div><p>Bit[1]: 1-Ext. 0-Int. 
Bit[3:2]: =0 P1PLL =1 P2PLL =2 DCPLL
Bits[7:4] reserved</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>   <span class="n">ucEnable</span><span class="p">;</span>	                    <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumAmount</span><span class="p">;</span>      	<span class="c1">// Includes SS_AMOUNT_FBDIV[7:0] and SS_AMOUNT_NFRAC_SLIP[11:8]    </span>
  <span class="n">USHORT</span>  <span class="n">usSpreadSpectrumStep</span><span class="p">;</span>	        <span class="c1">// SS_STEP_SIZE_DSFRAC</span>
<span class="p">}</span><span class="n">ENABLE_SPREAD_SPECTRUM_ON_PPLL_V3</span><span class="p">;</span>
    
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_DOWN_SPREAD      0x00</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_CENTRE_SPREAD    0x01</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_EXT_SPREAD       0x02</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_PPLL_SEL_MASK    0x0c</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_P1PLL            0x00</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_P2PLL            0x04</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_DCPLL            0x08</span>
<span class="cp">#define ATOM_PPLL_SS_TYPE_V3_P0PLL            ATOM_PPLL_SS_TYPE_V3_DCPLL</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V3_FBDIV_MASK     0x00FF</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V3_FBDIV_SHIFT    0</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V3_NFRAC_MASK     0x0F00</span>
<span class="cp">#define ATOM_PPLL_SS_AMOUNT_V3_NFRAC_SHIFT    8</span>

<span class="cp">#define ENABLE_SPREAD_SPECTRUM_ON_PPLL_PS_ALLOCATION  ENABLE_SPREAD_SPECTRUM_ON_PPLL</span>

<span class="cm">/**************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_PIXEL_CLOCK_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">PIXEL_CLOCK_PARAMETERS</span> <span class="n">sPCLKInput</span><span class="p">;</span>
  <span class="n">ENABLE_SPREAD_SPECTRUM_ON_PPLL</span> <span class="n">sReserved</span><span class="p">;</span><span class="c1">//Caller doesn&#39;t need to init this portion </span>
<span class="p">}</span><span class="n">SET_PIXEL_CLOCK_PS_ALLOCATION</span><span class="p">;</span>

<span class="cp">#define ENABLE_VGA_RENDER_PS_ALLOCATION   SET_PIXEL_CLOCK_PS_ALLOCATION</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-139"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-139">&#182;</a></div><p>Structures used by ###</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_MEMORY_TRAINING_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulTargetMemoryClock</span><span class="p">;</span>          <span class="c1">//In 10Khz unit</span>
<span class="p">}</span><span class="n">MEMORY_TRAINING_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define MEMORY_TRAINING_PS_ALLOCATION MEMORY_TRAINING_PARAMETERS</span>


<span class="cm">/****************************LVDS and other encoder command table definitions **********************/</span>


<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-140"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-140">&#182;</a></div><p>Structures used by LVDSEncoderControlTable   (Before DCE30)
                   LVTMAEncoderControlTable  (Before DCE30)
                   TMDSAEncoderControlTable  (Before DCE30)</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_LVDS_ENCODER_CONTROL_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>  <span class="c1">// in 10KHz; for bios convenient</span>
  <span class="n">UCHAR</span>  <span class="n">ucMisc</span><span class="p">;</span>        <span class="c1">// bit0=0: Enable single link</span></pre></div></td></tr>


<tr id="section-141"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-141">&#182;</a></div><pre><code>=1: Enable dual link
</code></pre>

<p>Bit1=0: 666RGB
    =1: 888RGB</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>      <span class="c1">// 0: turn off encoder</span></pre></div></td></tr>


<tr id="section-142"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-142">&#182;</a></div><p>1: setup and turn on encoder</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">LVDS_ENCODER_CONTROL_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define LVDS_ENCODER_CONTROL_PS_ALLOCATION  LVDS_ENCODER_CONTROL_PARAMETERS</span>
   
<span class="cp">#define TMDS1_ENCODER_CONTROL_PARAMETERS    LVDS_ENCODER_CONTROL_PARAMETERS</span>
<span class="cp">#define TMDS1_ENCODER_CONTROL_PS_ALLOCATION TMDS1_ENCODER_CONTROL_PARAMETERS</span>

<span class="cp">#define TMDS2_ENCODER_CONTROL_PARAMETERS    TMDS1_ENCODER_CONTROL_PARAMETERS</span>
<span class="cp">#define TMDS2_ENCODER_CONTROL_PS_ALLOCATION TMDS2_ENCODER_CONTROL_PARAMETERS</span></pre></div></td></tr>


<tr id="section-143"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-143">&#182;</a></div><p>ucTableFormatRevision=1,ucTableContentRevision=2</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_LVDS_ENCODER_CONTROL_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>  <span class="c1">// in 10KHz; for bios convenient</span>
  <span class="n">UCHAR</span>  <span class="n">ucMisc</span><span class="p">;</span>        <span class="c1">// see PANEL_ENCODER_MISC_xx defintions below</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>      <span class="c1">// 0: turn off encoder</span></pre></div></td></tr>


<tr id="section-144"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-144">&#182;</a></div><p>1: setup and turn on encoder</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>  <span class="n">ucTruncate</span><span class="p">;</span>    <span class="c1">// bit0=0: Disable truncate</span></pre></div></td></tr>


<tr id="section-145"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-145">&#182;</a></div><pre><code>=1: Enable truncate
</code></pre>

<p>bit4=0: 666RGB
    =1: 888RGB</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>  <span class="n">ucSpatial</span><span class="p">;</span>     <span class="c1">// bit0=0: Disable spatial dithering</span></pre></div></td></tr>


<tr id="section-146"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-146">&#182;</a></div><pre><code>=1: Enable spatial dithering
</code></pre>

<p>bit4=0: 666RGB
    =1: 888RGB</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>  <span class="n">ucTemporal</span><span class="p">;</span>    <span class="c1">// bit0=0: Disable temporal dithering</span></pre></div></td></tr>


<tr id="section-147"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-147">&#182;</a></div><pre><code>=1: Enable temporal dithering
</code></pre>

<p>bit4=0: 666RGB
    =1: 888RGB
bit5=0: Gray level 2
    =1: Gray level 4</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>  <span class="n">ucFRC</span><span class="p">;</span>         <span class="c1">// bit4=0: 25FRC_SEL pattern E</span></pre></div></td></tr>


<tr id="section-148"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-148">&#182;</a></div><pre><code>=1: 25FRC_SEL pattern F
</code></pre>

<p>bit6:5=0: 50FRC<em>SEL pattern A
      =1: 50FRC</em>SEL pattern B
      =2: 50FRC<em>SEL pattern C
      =3: 50FRC</em>SEL pattern D
bit7=0: 75FRC<em>SEL pattern E
    =1: 75FRC</em>SEL pattern F</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">LVDS_ENCODER_CONTROL_PARAMETERS_V2</span><span class="p">;</span>

<span class="cp">#define LVDS_ENCODER_CONTROL_PS_ALLOCATION_V2  LVDS_ENCODER_CONTROL_PARAMETERS_V2</span>
   
<span class="cp">#define TMDS1_ENCODER_CONTROL_PARAMETERS_V2    LVDS_ENCODER_CONTROL_PARAMETERS_V2</span>
<span class="cp">#define TMDS1_ENCODER_CONTROL_PS_ALLOCATION_V2 TMDS1_ENCODER_CONTROL_PARAMETERS_V2</span>
  
<span class="cp">#define TMDS2_ENCODER_CONTROL_PARAMETERS_V2    TMDS1_ENCODER_CONTROL_PARAMETERS_V2</span>
<span class="cp">#define TMDS2_ENCODER_CONTROL_PS_ALLOCATION_V2 TMDS2_ENCODER_CONTROL_PARAMETERS_V2</span>

<span class="cp">#define LVDS_ENCODER_CONTROL_PARAMETERS_V3     LVDS_ENCODER_CONTROL_PARAMETERS_V2</span>
<span class="cp">#define LVDS_ENCODER_CONTROL_PS_ALLOCATION_V3  LVDS_ENCODER_CONTROL_PARAMETERS_V3</span>

<span class="cp">#define TMDS1_ENCODER_CONTROL_PARAMETERS_V3    LVDS_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="cp">#define TMDS1_ENCODER_CONTROL_PS_ALLOCATION_V3 TMDS1_ENCODER_CONTROL_PARAMETERS_V3</span>

<span class="cp">#define TMDS2_ENCODER_CONTROL_PARAMETERS_V3    LVDS_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="cp">#define TMDS2_ENCODER_CONTROL_PS_ALLOCATION_V3 TMDS2_ENCODER_CONTROL_PARAMETERS_V3</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-149"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-149">&#182;</a></div><p>Structures used by ###</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_EXTERNAL_TMDS_ENCODER_PARAMETERS</span>
<span class="p">{</span>                               
  <span class="n">UCHAR</span>    <span class="n">ucEnable</span><span class="p">;</span>            <span class="c1">// Enable or Disable External TMDS encoder</span>
  <span class="n">UCHAR</span>    <span class="n">ucMisc</span><span class="p">;</span>              <span class="c1">// Bit0=0:Enable Single link;=1:Enable Dual link;Bit1 {=0:666RGB, =1:888RGB}</span>
  <span class="n">UCHAR</span>    <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_EXTERNAL_TMDS_ENCODER_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_EXTERNAL_TMDS_ENCODER_PS_ALLOCATION</span>
<span class="p">{</span>                               
  <span class="n">ENABLE_EXTERNAL_TMDS_ENCODER_PARAMETERS</span>    <span class="n">sXTmdsEncoder</span><span class="p">;</span>
  <span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION</span>   <span class="n">sReserved</span><span class="p">;</span>     <span class="c1">//Caller doesn&#39;t need to init this portion</span>
<span class="p">}</span><span class="n">ENABLE_EXTERNAL_TMDS_ENCODER_PS_ALLOCATION</span><span class="p">;</span>

<span class="cp">#define ENABLE_EXTERNAL_TMDS_ENCODER_PARAMETERS_V2  LVDS_ENCODER_CONTROL_PARAMETERS_V2</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_EXTERNAL_TMDS_ENCODER_PS_ALLOCATION_V2</span>
<span class="p">{</span>                               
  <span class="n">ENABLE_EXTERNAL_TMDS_ENCODER_PARAMETERS_V2</span>    <span class="n">sXTmdsEncoder</span><span class="p">;</span>
  <span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION</span>      <span class="n">sReserved</span><span class="p">;</span>     <span class="c1">//Caller doesn&#39;t need to init this portion</span>
<span class="p">}</span><span class="n">ENABLE_EXTERNAL_TMDS_ENCODER_PS_ALLOCATION_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_EXTERNAL_ENCODER_CONTROL_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">DIG_ENCODER_CONTROL_PARAMETERS</span>            <span class="n">sDigEncoder</span><span class="p">;</span>
  <span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION</span> <span class="n">sReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">EXTERNAL_ENCODER_CONTROL_PS_ALLOCATION</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-150"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-150">&#182;</a></div><p>Structures used by DVOEncoderControlTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-151"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-151">&#182;</a></div><p>ucTableFormatRevision=1,ucTableContentRevision=3</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-152"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-152">&#182;</a></div><p>ucDVOConfig:</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DVO_ENCODER_CONFIG_RATE_SEL							0x01</span>
<span class="cp">#define DVO_ENCODER_CONFIG_DDR_SPEED						0x00</span>
<span class="cp">#define DVO_ENCODER_CONFIG_SDR_SPEED						0x01</span>
<span class="cp">#define DVO_ENCODER_CONFIG_OUTPUT_SEL						0x0c</span>
<span class="cp">#define DVO_ENCODER_CONFIG_LOW12BIT							0x00</span>
<span class="cp">#define DVO_ENCODER_CONFIG_UPPER12BIT						0x04</span>
<span class="cp">#define DVO_ENCODER_CONFIG_24BIT								0x08</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DVO_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span> 
  <span class="n">UCHAR</span>  <span class="n">ucDVOConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>														<span class="c1">//ATOM_ENABLE/ATOM_DISABLE/ATOM_HPD_INIT</span>
  <span class="n">UCHAR</span>  <span class="n">ucReseved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">}</span><span class="n">DVO_ENCODER_CONTROL_PARAMETERS_V3</span><span class="p">;</span>
<span class="cp">#define DVO_ENCODER_CONTROL_PS_ALLOCATION_V3	DVO_ENCODER_CONTROL_PARAMETERS_V3</span></pre></div></td></tr>


<tr id="section-153"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-153">&#182;</a></div><p>ucTableFormatRevision=1
ucTableContentRevision=3 structure is not changed but usMisc add bit 1 as another input for 
bit1=0: non-coherent mode
    =1: coherent mode</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-154"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-154">&#182;</a></div><p>==========================================================================================
Only change is here next time when changing encoder parameter definitions again!</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define LVDS_ENCODER_CONTROL_PARAMETERS_LAST     LVDS_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="cp">#define LVDS_ENCODER_CONTROL_PS_ALLOCATION_LAST  LVDS_ENCODER_CONTROL_PARAMETERS_LAST</span>

<span class="cp">#define TMDS1_ENCODER_CONTROL_PARAMETERS_LAST    LVDS_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="cp">#define TMDS1_ENCODER_CONTROL_PS_ALLOCATION_LAST TMDS1_ENCODER_CONTROL_PARAMETERS_LAST</span>

<span class="cp">#define TMDS2_ENCODER_CONTROL_PARAMETERS_LAST    LVDS_ENCODER_CONTROL_PARAMETERS_V3</span>
<span class="cp">#define TMDS2_ENCODER_CONTROL_PS_ALLOCATION_LAST TMDS2_ENCODER_CONTROL_PARAMETERS_LAST</span>

<span class="cp">#define DVO_ENCODER_CONTROL_PARAMETERS_LAST      DVO_ENCODER_CONTROL_PARAMETERS</span>
<span class="cp">#define DVO_ENCODER_CONTROL_PS_ALLOCATION_LAST   DVO_ENCODER_CONTROL_PS_ALLOCATION</span></pre></div></td></tr>


<tr id="section-155"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-155">&#182;</a></div><p>==========================================================================================</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PANEL_ENCODER_MISC_DUAL                0x01</span>
<span class="cp">#define PANEL_ENCODER_MISC_COHERENT            0x02</span>
<span class="cp">#define	PANEL_ENCODER_MISC_TMDS_LINKB					 0x04</span>
<span class="cp">#define	PANEL_ENCODER_MISC_HDMI_TYPE					 0x08</span>

<span class="cp">#define PANEL_ENCODER_ACTION_DISABLE           ATOM_DISABLE</span>
<span class="cp">#define PANEL_ENCODER_ACTION_ENABLE            ATOM_ENABLE</span>
<span class="cp">#define PANEL_ENCODER_ACTION_COHERENTSEQ       (ATOM_ENABLE+1)</span>

<span class="cp">#define PANEL_ENCODER_TRUNCATE_EN              0x01</span>
<span class="cp">#define PANEL_ENCODER_TRUNCATE_DEPTH           0x10</span>
<span class="cp">#define PANEL_ENCODER_SPATIAL_DITHER_EN        0x01</span>
<span class="cp">#define PANEL_ENCODER_SPATIAL_DITHER_DEPTH     0x10</span>
<span class="cp">#define PANEL_ENCODER_TEMPORAL_DITHER_EN       0x01</span>
<span class="cp">#define PANEL_ENCODER_TEMPORAL_DITHER_DEPTH    0x10</span>
<span class="cp">#define PANEL_ENCODER_TEMPORAL_LEVEL_4         0x20</span>
<span class="cp">#define PANEL_ENCODER_25FRC_MASK               0x10</span>
<span class="cp">#define PANEL_ENCODER_25FRC_E                  0x00</span>
<span class="cp">#define PANEL_ENCODER_25FRC_F                  0x10</span>
<span class="cp">#define PANEL_ENCODER_50FRC_MASK               0x60</span>
<span class="cp">#define PANEL_ENCODER_50FRC_A                  0x00</span>
<span class="cp">#define PANEL_ENCODER_50FRC_B                  0x20</span>
<span class="cp">#define PANEL_ENCODER_50FRC_C                  0x40</span>
<span class="cp">#define PANEL_ENCODER_50FRC_D                  0x60</span>
<span class="cp">#define PANEL_ENCODER_75FRC_MASK               0x80</span>
<span class="cp">#define PANEL_ENCODER_75FRC_E                  0x00</span>
<span class="cp">#define PANEL_ENCODER_75FRC_F                  0x80</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-156"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-156">&#182;</a></div><p>Structures used by SetVoltageTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="cp">#define SET_VOLTAGE_TYPE_ASIC_VDDC             1</span>
<span class="cp">#define SET_VOLTAGE_TYPE_ASIC_MVDDC            2</span>
<span class="cp">#define SET_VOLTAGE_TYPE_ASIC_MVDDQ            3</span>
<span class="cp">#define SET_VOLTAGE_TYPE_ASIC_VDDCI            4</span>
<span class="cp">#define SET_VOLTAGE_INIT_MODE                  5</span>
<span class="cp">#define SET_VOLTAGE_GET_MAX_VOLTAGE            6					</span><span class="c1">//Gets the Max. voltage for the soldered Asic</span>

<span class="cp">#define SET_ASIC_VOLTAGE_MODE_ALL_SOURCE       0x1</span>
<span class="cp">#define SET_ASIC_VOLTAGE_MODE_SOURCE_A         0x2</span>
<span class="cp">#define SET_ASIC_VOLTAGE_MODE_SOURCE_B         0x4</span>

<span class="cp">#define	SET_ASIC_VOLTAGE_MODE_SET_VOLTAGE      0x0</span>
<span class="cp">#define	SET_ASIC_VOLTAGE_MODE_GET_GPIOVAL      0x1	</span>
<span class="cp">#define	SET_ASIC_VOLTAGE_MODE_GET_GPIOMASK     0x2</span>

<span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_SET_VOLTAGE_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageType</span><span class="p">;</span>               <span class="c1">// To tell which voltage to set up, VDDC/MVDDC/MVDDQ</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageMode</span><span class="p">;</span>               <span class="c1">// To set all, to set source A or source B or ...</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageIndex</span><span class="p">;</span>              <span class="c1">// An index to tell which voltage level</span>
  <span class="n">UCHAR</span>    <span class="n">ucReserved</span><span class="p">;</span>          
<span class="p">}</span><span class="n">SET_VOLTAGE_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_SET_VOLTAGE_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageType</span><span class="p">;</span>               <span class="c1">// To tell which voltage to set up, VDDC/MVDDC/MVDDQ</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageMode</span><span class="p">;</span>               <span class="c1">// Not used, maybe use for state machine for differen power mode</span>
  <span class="n">USHORT</span>   <span class="n">usVoltageLevel</span><span class="p">;</span>              <span class="c1">// real voltage level</span>
<span class="p">}</span><span class="n">SET_VOLTAGE_PARAMETERS_V2</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span>	<span class="n">_SET_VOLTAGE_PARAMETERS_V1_3</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageType</span><span class="p">;</span>               <span class="c1">// To tell which voltage to set up, VDDC/MVDDC/MVDDQ/VDDCI</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageMode</span><span class="p">;</span>               <span class="c1">// Indicate action: Set voltage level</span>
  <span class="n">USHORT</span>   <span class="n">usVoltageLevel</span><span class="p">;</span>              <span class="c1">// real voltage level in unit of mv or Voltage Phase (0, 1, 2, .. )</span>
<span class="p">}</span><span class="n">SET_VOLTAGE_PARAMETERS_V1_3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-157"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-157">&#182;</a></div><p>ucVoltageType</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define VOLTAGE_TYPE_VDDC                    1</span>
<span class="cp">#define VOLTAGE_TYPE_MVDDC                   2</span>
<span class="cp">#define VOLTAGE_TYPE_MVDDQ                   3</span>
<span class="cp">#define VOLTAGE_TYPE_VDDCI                   4</span></pre></div></td></tr>


<tr id="section-158"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-158">&#182;</a></div><p>SET<em>VOLTAGE</em>PARAMETERS_V3.ucVoltageMode</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_SET_VOLTAGE                     0        </span><span class="c1">//Set voltage Level</span>
<span class="cp">#define ATOM_INIT_VOLTAGE_REGULATOR          3        </span><span class="c1">//Init Regulator</span>
<span class="cp">#define ATOM_SET_VOLTAGE_PHASE               4        </span><span class="c1">//Set Vregulator Phase</span>
<span class="cp">#define ATOM_GET_MAX_VOLTAGE                 6        </span><span class="c1">//Get Max Voltage, not used in SetVoltageTable v1.3</span>
<span class="cp">#define ATOM_GET_VOLTAGE_LEVEL               6        </span><span class="c1">//Get Voltage level from vitual voltage ID</span></pre></div></td></tr>


<tr id="section-159"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-159">&#182;</a></div><p>define vitual voltage id in usVoltageLevel</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_VIRTUAL_VOLTAGE_ID0             0xff01</span>
<span class="cp">#define ATOM_VIRTUAL_VOLTAGE_ID1             0xff02</span>
<span class="cp">#define ATOM_VIRTUAL_VOLTAGE_ID2             0xff03</span>
<span class="cp">#define ATOM_VIRTUAL_VOLTAGE_ID3             0xff04</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_VOLTAGE_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">SET_VOLTAGE_PARAMETERS</span> <span class="n">sASICSetVoltage</span><span class="p">;</span>
  <span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION</span> <span class="n">sReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">SET_VOLTAGE_PS_ALLOCATION</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-160"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-160">&#182;</a></div><p>New Added from SI for GetVoltageInfoTable, input parameter structure</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_GET_VOLTAGE_INFO_INPUT_PARAMETER_V1_1</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageType</span><span class="p">;</span>               <span class="c1">// Input: To tell which voltage to set up, VDDC/MVDDC/MVDDQ/VDDCI</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageMode</span><span class="p">;</span>               <span class="c1">// Input: Indicate action: Get voltage info</span>
  <span class="n">USHORT</span>   <span class="n">usVoltageLevel</span><span class="p">;</span>              <span class="c1">// Input: real voltage level in unit of mv or Voltage Phase (0, 1, 2, .. ) or Leakage Id </span>
  <span class="n">ULONG</span>    <span class="n">ulReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">GET_VOLTAGE_INFO_INPUT_PARAMETER_V1_1</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-161"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-161">&#182;</a></div><p>New Added from SI for GetVoltageInfoTable, output parameter structure when ucVotlageMode == ATOM<em>GET</em>VOLTAGE_VID</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_GET_VOLTAGE_INFO_OUTPUT_PARAMETER_V1_1</span>
<span class="p">{</span>
  <span class="n">ULONG</span>    <span class="n">ulVotlageGpioState</span><span class="p">;</span>
  <span class="n">ULONG</span>    <span class="n">ulVoltageGPioMask</span><span class="p">;</span>
<span class="p">}</span><span class="n">GET_VOLTAGE_INFO_OUTPUT_PARAMETER_V1_1</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-162"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-162">&#182;</a></div><p>New Added from SI for GetVoltageInfoTable, output parameter structure when ucVotlageMode == ATOM<em>GET</em>VOLTAGE<em>STATEx</em>LEAKAGE_VID</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_GET_LEAKAGE_VOLTAGE_INFO_OUTPUT_PARAMETER_V1_1</span>
<span class="p">{</span>
  <span class="n">USHORT</span>   <span class="n">usVoltageLevel</span><span class="p">;</span>
  <span class="n">USHORT</span>   <span class="n">usVoltageId</span><span class="p">;</span>                                  <span class="c1">// Voltage Id programmed in Voltage Regulator</span>
  <span class="n">ULONG</span>    <span class="n">ulReseved</span><span class="p">;</span>
<span class="p">}</span><span class="n">GET_LEAKAGE_VOLTAGE_INFO_OUTPUT_PARAMETER_V1_1</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-163"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-163">&#182;</a></div><p>GetVoltageInfo v1.1 ucVoltageMode</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	ATOM_GET_VOLTAGE_VID                0x00</span>
<span class="cp">#define ATOM_GET_VOTLAGE_INIT_SEQ           0x03</span>
<span class="cp">#define ATOM_GET_VOLTTAGE_PHASE_PHASE_VID   0x04</span></pre></div></td></tr>


<tr id="section-164"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-164">&#182;</a></div><p>for SI, this state map to 0xff02 voltage state in Power Play table, which is power boost state</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	ATOM_GET_VOLTAGE_STATE0_LEAKAGE_VID 0x10</span></pre></div></td></tr>


<tr id="section-165"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-165">&#182;</a></div><p>for SI, this state map to 0xff01 voltage state in Power Play table, which is performance state</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	ATOM_GET_VOLTAGE_STATE1_LEAKAGE_VID 0x11</span></pre></div></td></tr>


<tr id="section-166"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-166">&#182;</a></div><p>undefined power state</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	ATOM_GET_VOLTAGE_STATE2_LEAKAGE_VID 0x12</span>
<span class="cp">#define	ATOM_GET_VOLTAGE_STATE3_LEAKAGE_VID 0x13</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-167"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-167">&#182;</a></div><p>Structures used by TVEncoderControlTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_TV_ENCODER_CONTROL_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span>                <span class="c1">// in 10KHz; for bios convenient</span>
  <span class="n">UCHAR</span>  <span class="n">ucTvStandard</span><span class="p">;</span>                <span class="c1">// See definition &quot;ATOM_TV_NTSC ...&quot;</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>                    <span class="c1">// 0: turn off encoder</span></pre></div></td></tr>


<tr id="section-168"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-168">&#182;</a></div><p>1: setup and turn on encoder</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">TV_ENCODER_CONTROL_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_TV_ENCODER_CONTROL_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">TV_ENCODER_CONTROL_PARAMETERS</span> <span class="n">sTVEncoder</span><span class="p">;</span>          
  <span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION</span>    <span class="n">sReserved</span><span class="p">;</span> <span class="c1">// Don&#39;t set this one</span>
<span class="p">}</span><span class="n">TV_ENCODER_CONTROL_PS_ALLOCATION</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-169"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-169">&#182;</a></div><p>==============================Data Table Portion====================================</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-170"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-170">&#182;</a></div><p>Structure used in Data.mtb</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MASTER_LIST_OF_DATA_TABLES</span>
<span class="p">{</span>
  <span class="n">USHORT</span>        <span class="n">UtilityPipeLine</span><span class="p">;</span>	        <span class="c1">// Offest for the utility to get parser info,Don&#39;t change this position!</span>
  <span class="n">USHORT</span>        <span class="n">MultimediaCapabilityInfo</span><span class="p">;</span> <span class="c1">// Only used by MM Lib,latest version 1.1, not configuable from Bios, need to include the table to build Bios </span>
  <span class="n">USHORT</span>        <span class="n">MultimediaConfigInfo</span><span class="p">;</span>     <span class="c1">// Only used by MM Lib,latest version 2.1, not configuable from Bios, need to include the table to build Bios</span>
  <span class="n">USHORT</span>        <span class="n">StandardVESA_Timing</span><span class="p">;</span>      <span class="c1">// Only used by Bios</span>
  <span class="n">USHORT</span>        <span class="n">FirmwareInfo</span><span class="p">;</span>             <span class="c1">// Shared by various SW components,latest version 1.4</span>
  <span class="n">USHORT</span>        <span class="n">PaletteData</span><span class="p">;</span>              <span class="c1">// Only used by BIOS</span>
  <span class="n">USHORT</span>        <span class="n">LCD_Info</span><span class="p">;</span>                 <span class="c1">// Shared by various SW components,latest version 1.3, was called LVDS_Info </span>
  <span class="n">USHORT</span>        <span class="n">DIGTransmitterInfo</span><span class="p">;</span>       <span class="c1">// Internal used by VBIOS only version 3.1</span>
  <span class="n">USHORT</span>        <span class="n">AnalogTV_Info</span><span class="p">;</span>            <span class="c1">// Shared by various SW components,latest version 1.1 </span>
  <span class="n">USHORT</span>        <span class="n">SupportedDevicesInfo</span><span class="p">;</span>     <span class="c1">// Will be obsolete from R600</span>
  <span class="n">USHORT</span>        <span class="n">GPIO_I2C_Info</span><span class="p">;</span>            <span class="c1">// Shared by various SW components,latest version 1.2 will be used from R600           </span>
  <span class="n">USHORT</span>        <span class="n">VRAM_UsageByFirmware</span><span class="p">;</span>     <span class="c1">// Shared by various SW components,latest version 1.3 will be used from R600</span>
  <span class="n">USHORT</span>        <span class="n">GPIO_Pin_LUT</span><span class="p">;</span>             <span class="c1">// Shared by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span>        <span class="n">VESA_ToInternalModeLUT</span><span class="p">;</span>   <span class="c1">// Only used by Bios</span>
  <span class="n">USHORT</span>        <span class="n">ComponentVideoInfo</span><span class="p">;</span>       <span class="c1">// Shared by various SW components,latest version 2.1 will be used from R600</span>
  <span class="n">USHORT</span>        <span class="n">PowerPlayInfo</span><span class="p">;</span>            <span class="c1">// Shared by various SW components,latest version 2.1,new design from R600</span>
  <span class="n">USHORT</span>        <span class="n">CompassionateData</span><span class="p">;</span>        <span class="c1">// Will be obsolete from R600</span>
  <span class="n">USHORT</span>        <span class="n">SaveRestoreInfo</span><span class="p">;</span>          <span class="c1">// Only used by Bios</span>
  <span class="n">USHORT</span>        <span class="n">PPLL_SS_Info</span><span class="p">;</span>             <span class="c1">// Shared by various SW components,latest version 1.2, used to call SS_Info, change to new name because of int ASIC SS info</span>
  <span class="n">USHORT</span>        <span class="n">OemInfo</span><span class="p">;</span>                  <span class="c1">// Defined and used by external SW, should be obsolete soon</span>
  <span class="n">USHORT</span>        <span class="n">XTMDS_Info</span><span class="p">;</span>               <span class="c1">// Will be obsolete from R600</span>
  <span class="n">USHORT</span>        <span class="n">MclkSS_Info</span><span class="p">;</span>              <span class="c1">// Shared by various SW components,latest version 1.1, only enabled when ext SS chip is used</span>
  <span class="n">USHORT</span>        <span class="n">Object_Header</span><span class="p">;</span>            <span class="c1">// Shared by various SW components,latest version 1.1</span>
  <span class="n">USHORT</span>        <span class="n">IndirectIOAccess</span><span class="p">;</span>         <span class="c1">// Only used by Bios,this table position can&#39;t change at all!!</span>
  <span class="n">USHORT</span>        <span class="n">MC_InitParameter</span><span class="p">;</span>         <span class="c1">// Only used by command table</span>
  <span class="n">USHORT</span>        <span class="n">ASIC_VDDC_Info</span><span class="p">;</span>						<span class="c1">// Will be obsolete from R600</span>
  <span class="n">USHORT</span>        <span class="n">ASIC_InternalSS_Info</span><span class="p">;</span>			<span class="c1">// New tabel name from R600, used to be called &quot;ASIC_MVDDC_Info&quot;</span>
  <span class="n">USHORT</span>        <span class="n">TV_VideoMode</span><span class="p">;</span>							<span class="c1">// Only used by command table</span>
  <span class="n">USHORT</span>        <span class="n">VRAM_Info</span><span class="p">;</span>								<span class="c1">// Only used by command table, latest version 1.3</span>
  <span class="n">USHORT</span>        <span class="n">MemoryTrainingInfo</span><span class="p">;</span>				<span class="c1">// Used for VBIOS and Diag utility for memory training purpose since R600. the new table rev start from 2.1</span>
  <span class="n">USHORT</span>        <span class="n">IntegratedSystemInfo</span><span class="p">;</span>			<span class="c1">// Shared by various SW components</span>
  <span class="n">USHORT</span>        <span class="n">ASIC_ProfilingInfo</span><span class="p">;</span>				<span class="c1">// New table name from R600, used to be called &quot;ASIC_VDDCI_Info&quot; for pre-R600</span>
  <span class="n">USHORT</span>        <span class="n">VoltageObjectInfo</span><span class="p">;</span>				<span class="c1">// Shared by various SW components, latest version 1.1</span>
	<span class="n">USHORT</span>				<span class="n">PowerSourceInfo</span><span class="p">;</span>					<span class="c1">// Shared by various SW components, latest versoin 1.1</span>
<span class="p">}</span><span class="n">ATOM_MASTER_LIST_OF_DATA_TABLES</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MASTER_DATA_TABLE</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_MASTER_LIST_OF_DATA_TABLES</span>   <span class="n">ListOfDataTables</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MASTER_DATA_TABLE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-171"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-171">&#182;</a></div><p>For backward compatible </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define LVDS_Info                LCD_Info</span>
<span class="cp">#define DAC_Info                 PaletteData</span>
<span class="cp">#define TMDS_Info                DIGTransmitterInfo</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-172"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-172">&#182;</a></div><p>Structure used in MultimediaCapabilityInfoTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MULTIMEDIA_CAPABILITY_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ULONG</span>                    <span class="n">ulSignature</span><span class="p">;</span>      <span class="c1">// HW info table signature string &quot;$ATI&quot;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucI2C_Type</span><span class="p">;</span>       <span class="c1">// I2C type (normal GP_IO, ImpactTV GP_IO, Dedicated I2C pin, etc)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucTV_OutInfo</span><span class="p">;</span>     <span class="c1">// Type of TV out supported (3:0) and video out crystal frequency (6:4) and TV data port (7)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucVideoPortInfo</span><span class="p">;</span>  <span class="c1">// Provides the video port capabilities</span>
  <span class="n">UCHAR</span>                    <span class="n">ucHostPortInfo</span><span class="p">;</span>   <span class="c1">// Provides host port configuration information</span>
<span class="p">}</span><span class="n">ATOM_MULTIMEDIA_CAPABILITY_INFO</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-173"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-173">&#182;</a></div><p>Structure used in MultimediaConfigInfoTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MULTIMEDIA_CONFIG_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ULONG</span>                    <span class="n">ulSignature</span><span class="p">;</span>      <span class="c1">// MM info table signature sting &quot;$MMT&quot;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucTunerInfo</span><span class="p">;</span>      <span class="c1">// Type of tuner installed on the adapter (4:0) and video input for tuner (7:5)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucAudioChipInfo</span><span class="p">;</span>  <span class="c1">// List the audio chip type (3:0) product type (4) and OEM revision (7:5)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucProductID</span><span class="p">;</span>      <span class="c1">// Defines as OEM ID or ATI board ID dependent on product type setting</span>
  <span class="n">UCHAR</span>                    <span class="n">ucMiscInfo1</span><span class="p">;</span>      <span class="c1">// Tuner voltage (1:0) HW teletext support (3:2) FM audio decoder (5:4) reserved (6) audio scrambling (7)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucMiscInfo2</span><span class="p">;</span>      <span class="c1">// I2S input config (0) I2S output config (1) I2S Audio Chip (4:2) SPDIF Output Config (5) reserved (7:6)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucMiscInfo3</span><span class="p">;</span>      <span class="c1">// Video Decoder Type (3:0) Video In Standard/Crystal (7:4)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucMiscInfo4</span><span class="p">;</span>      <span class="c1">// Video Decoder Host Config (2:0) reserved (7:3)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucVideoInput0Info</span><span class="p">;</span><span class="c1">// Video Input 0 Type (1:0) F/B setting (2) physical connector ID (5:3) reserved (7:6)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucVideoInput1Info</span><span class="p">;</span><span class="c1">// Video Input 1 Type (1:0) F/B setting (2) physical connector ID (5:3) reserved (7:6)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucVideoInput2Info</span><span class="p">;</span><span class="c1">// Video Input 2 Type (1:0) F/B setting (2) physical connector ID (5:3) reserved (7:6)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucVideoInput3Info</span><span class="p">;</span><span class="c1">// Video Input 3 Type (1:0) F/B setting (2) physical connector ID (5:3) reserved (7:6)</span>
  <span class="n">UCHAR</span>                    <span class="n">ucVideoInput4Info</span><span class="p">;</span><span class="c1">// Video Input 4 Type (1:0) F/B setting (2) physical connector ID (5:3) reserved (7:6)</span>
<span class="p">}</span><span class="n">ATOM_MULTIMEDIA_CONFIG_INFO</span><span class="p">;</span>


<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-174"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-174">&#182;</a></div><p>Structures used in FirmwareInfoTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-175"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-175">&#182;</a></div><p>usBIOSCapability Definition:
Bit 0 = 0: Bios image is not Posted, =1:Bios image is Posted; 
Bit 1 = 0: Dual CRTC is not supported, =1: Dual CRTC is supported; 
Bit 2 = 0: Extended Desktop is not supported, =1: Extended Desktop is supported; 
Others: Reserved</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_BIOS_INFO_ATOM_FIRMWARE_POSTED         0x0001</span>
<span class="cp">#define ATOM_BIOS_INFO_DUAL_CRTC_SUPPORT            0x0002</span>
<span class="cp">#define ATOM_BIOS_INFO_EXTENDED_DESKTOP_SUPPORT     0x0004</span>
<span class="cp">#define ATOM_BIOS_INFO_MEMORY_CLOCK_SS_SUPPORT      0x0008		</span><span class="c1">// (valid from v1.1 ~v1.4):=1: memclk SS enable, =0 memclk SS disable. </span>
<span class="cp">#define ATOM_BIOS_INFO_ENGINE_CLOCK_SS_SUPPORT      0x0010		</span><span class="c1">// (valid from v1.1 ~v1.4):=1: engclk SS enable, =0 engclk SS disable. </span>
<span class="cp">#define ATOM_BIOS_INFO_BL_CONTROLLED_BY_GPU         0x0020</span>
<span class="cp">#define ATOM_BIOS_INFO_WMI_SUPPORT                  0x0040</span>
<span class="cp">#define ATOM_BIOS_INFO_PPMODE_ASSIGNGED_BY_SYSTEM   0x0080</span>
<span class="cp">#define ATOM_BIOS_INFO_HYPERMEMORY_SUPPORT          0x0100</span>
<span class="cp">#define ATOM_BIOS_INFO_HYPERMEMORY_SIZE_MASK        0x1E00</span>
<span class="cp">#define ATOM_BIOS_INFO_VPOST_WITHOUT_FIRST_MODE_SET 0x2000</span>
<span class="cp">#define ATOM_BIOS_INFO_BIOS_SCRATCH6_SCL2_REDEFINE  0x4000</span>
<span class="cp">#define ATOM_BIOS_INFO_MEMORY_CLOCK_EXT_SS_SUPPORT  0x0008		</span><span class="c1">// (valid from v2.1 ): =1: memclk ss enable with external ss chip</span>
<span class="cp">#define ATOM_BIOS_INFO_ENGINE_CLOCK_EXT_SS_SUPPORT  0x0010		</span><span class="c1">// (valid from v2.1 ): =1: engclk ss enable with external ss chip</span>

<span class="cp">#ifndef _H2INC</span></pre></div></td></tr>


<tr id="section-176"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-176">&#182;</a></div><p>Please don't add or expand this bitfield structure below, this one will retire soon.!</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_CAPABILITY</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">USHORT</span> <span class="n">Reserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">SCL2Redefined</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">PostWithoutModeSet</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">HyperMemory_Size</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">HyperMemory_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">PPMode_Assigned</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">WMI_SUPPORT</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">GPUControlsBL</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">EngineClockSS_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">MemoryClockSS_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">ExtendedDesktopSupport</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">DualCRTC_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">FirmwarePosted</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">USHORT</span> <span class="n">FirmwarePosted</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">DualCRTC_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">ExtendedDesktopSupport</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">MemoryClockSS_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">EngineClockSS_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">GPUControlsBL</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">WMI_SUPPORT</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">PPMode_Assigned</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">HyperMemory_Support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">HyperMemory_Size</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">PostWithoutModeSet</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">SCL2Redefined</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">Reserved</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_CAPABILITY</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_FIRMWARE_CAPABILITY_ACCESS</span>
<span class="p">{</span>
  <span class="n">ATOM_FIRMWARE_CAPABILITY</span> <span class="n">sbfAccess</span><span class="p">;</span>
  <span class="n">USHORT</span>                   <span class="n">susAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span><span class="p">;</span>

<span class="cp">#else</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_FIRMWARE_CAPABILITY_ACCESS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>                   <span class="n">susAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span><span class="p">;</span>

<span class="cp">#endif</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>        <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ULONG</span>                           <span class="n">ulFirmwareRevision</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetEngineClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetMemoryClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucASICMaxTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>               <span class="c1">//Don&#39;t use them</span>
  <span class="n">ULONG</span>                           <span class="n">aulReservedForBIOS</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>      <span class="c1">//Don&#39;t use them</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClock</span><span class="p">;</span>            <span class="c1">//In 10Khz unit, Max.  Pclk</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit, the definitions above can&#39;t change!!!</span>
  <span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span> <span class="n">usFirmwareCapability</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usReferenceClock</span><span class="p">;</span>           <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usPM_RTS_Location</span><span class="p">;</span>          <span class="c1">//RTS PM4 starting location in ROM in 1Kb unit </span>
  <span class="n">UCHAR</span>                           <span class="n">ucPM_RTS_StreamSize</span><span class="p">;</span>        <span class="c1">//RTS PM4 packets in Kb unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucDesign_ID</span><span class="p">;</span>                <span class="c1">//Indicate what is the board design</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMemoryModule_ID</span><span class="p">;</span>          <span class="c1">//Indicate what is the board design</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_INFO_V1_2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>        <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ULONG</span>                           <span class="n">ulFirmwareRevision</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetEngineClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetMemoryClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucASICMaxTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMinAllowedBL_Level</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>               <span class="c1">//Don&#39;t use them</span>
  <span class="n">ULONG</span>                           <span class="n">aulReservedForBIOS</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>      <span class="c1">//Don&#39;t use them</span>
  <span class="n">ULONG</span>                           <span class="n">ulMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClock</span><span class="p">;</span>            <span class="c1">//In 10Khz unit, Max.  Pclk</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit - lower 16bit of ulMinPixelClockPLL_Output</span>
  <span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span> <span class="n">usFirmwareCapability</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usReferenceClock</span><span class="p">;</span>           <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usPM_RTS_Location</span><span class="p">;</span>          <span class="c1">//RTS PM4 starting location in ROM in 1Kb unit </span>
  <span class="n">UCHAR</span>                           <span class="n">ucPM_RTS_StreamSize</span><span class="p">;</span>        <span class="c1">//RTS PM4 packets in Kb unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucDesign_ID</span><span class="p">;</span>                <span class="c1">//Indicate what is the board design</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMemoryModule_ID</span><span class="p">;</span>          <span class="c1">//Indicate what is the board design</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_INFO_V1_2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_INFO_V1_3</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>        <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ULONG</span>                           <span class="n">ulFirmwareRevision</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetEngineClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetMemoryClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucASICMaxTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMinAllowedBL_Level</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>               <span class="c1">//Don&#39;t use them</span>
  <span class="n">ULONG</span>                           <span class="n">aulReservedForBIOS</span><span class="p">;</span>         <span class="c1">//Don&#39;t use them</span>
  <span class="n">ULONG</span>                           <span class="n">ul3DAccelerationEngineClock</span><span class="p">;</span><span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClock</span><span class="p">;</span>            <span class="c1">//In 10Khz unit, Max.  Pclk</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit - lower 16bit of ulMinPixelClockPLL_Output</span>
  <span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span> <span class="n">usFirmwareCapability</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usReferenceClock</span><span class="p">;</span>           <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usPM_RTS_Location</span><span class="p">;</span>          <span class="c1">//RTS PM4 starting location in ROM in 1Kb unit </span>
  <span class="n">UCHAR</span>                           <span class="n">ucPM_RTS_StreamSize</span><span class="p">;</span>        <span class="c1">//RTS PM4 packets in Kb unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucDesign_ID</span><span class="p">;</span>                <span class="c1">//Indicate what is the board design</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMemoryModule_ID</span><span class="p">;</span>          <span class="c1">//Indicate what is the board design</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_INFO_V1_3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_INFO_V1_4</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>        <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ULONG</span>                           <span class="n">ulFirmwareRevision</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetEngineClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDriverTargetMemoryClock</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulASICMaxMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucASICMaxTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMinAllowedBL_Level</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usBootUpVDDCVoltage</span><span class="p">;</span>        <span class="c1">//In MV unit</span>
  <span class="n">USHORT</span>                          <span class="n">usLcdMinPixelClockPLL_Output</span><span class="p">;</span> <span class="c1">// In MHz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usLcdMaxPixelClockPLL_Output</span><span class="p">;</span> <span class="c1">// In MHz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ul3DAccelerationEngineClock</span><span class="p">;</span><span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClock</span><span class="p">;</span>            <span class="c1">//In 10Khz unit, Max.  Pclk</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit - lower 16bit of ulMinPixelClockPLL_Output</span>
  <span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span> <span class="n">usFirmwareCapability</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usReferenceClock</span><span class="p">;</span>           <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usPM_RTS_Location</span><span class="p">;</span>          <span class="c1">//RTS PM4 starting location in ROM in 1Kb unit </span>
  <span class="n">UCHAR</span>                           <span class="n">ucPM_RTS_StreamSize</span><span class="p">;</span>        <span class="c1">//RTS PM4 packets in Kb unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucDesign_ID</span><span class="p">;</span>                <span class="c1">//Indicate what is the board design</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMemoryModule_ID</span><span class="p">;</span>          <span class="c1">//Indicate what is the board design</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_INFO_V1_4</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-177"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-177">&#182;</a></div><p>the structure below to be used from Cypress</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_INFO_V2_1</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>        <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ULONG</span>                           <span class="n">ulFirmwareRevision</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved1</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved2</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulBinaryAlteredInfo</span><span class="p">;</span>        <span class="c1">//Was ulASICMaxEngineClock</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultDispEngineClkFreq</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucReserved1</span><span class="p">;</span>                <span class="c1">//Was ucASICMaxTemperature;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMinAllowedBL_Level</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usBootUpVDDCVoltage</span><span class="p">;</span>        <span class="c1">//In MV unit</span>
  <span class="n">USHORT</span>                          <span class="n">usLcdMinPixelClockPLL_Output</span><span class="p">;</span> <span class="c1">// In MHz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usLcdMaxPixelClockPLL_Output</span><span class="p">;</span> <span class="c1">// In MHz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved4</span><span class="p">;</span>                <span class="c1">//Was ulAsicMaximumVoltage</span>
  <span class="n">ULONG</span>                           <span class="n">ulMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxEngineClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinEngineClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxMemoryClockPLL_Input</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinMemoryClockPLL_Output</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClock</span><span class="p">;</span>            <span class="c1">//In 10Khz unit, Max.  Pclk</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit - lower 16bit of ulMinPixelClockPLL_Output</span>
  <span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span> <span class="n">usFirmwareCapability</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usCoreReferenceClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usMemoryReferenceClock</span><span class="p">;</span>     <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usUniphyDPModeExtClkFreq</span><span class="p">;</span>   <span class="c1">//In 10Khz unit, if it is 0, In DP Mode Uniphy Input clock from internal PPLL, otherwise Input clock from external Spread clock</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMemoryModule_ID</span><span class="p">;</span>          <span class="c1">//Indicate what is the board design</span>
  <span class="n">UCHAR</span>                           <span class="n">ucReserved4</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_INFO_V2_1</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-178"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-178">&#182;</a></div><p>the structure below to be used from NI
ucTableFormatRevision=2
ucTableContentRevision=2</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_INFO_V2_2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>        <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ULONG</span>                           <span class="n">ulFirmwareRevision</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultEngineClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultMemoryClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved1</span><span class="p">;</span>                <span class="c1">//Was ulMaxEngineClockPLL_Output; //In 10Khz unit*</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved2</span><span class="p">;</span>                <span class="c1">//Was ulMaxMemoryClockPLL_Output; //In 10Khz unit*</span>
  <span class="n">ULONG</span>                           <span class="n">ulMaxPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulBinaryAlteredInfo</span><span class="p">;</span>        <span class="c1">//Was ulASICMaxEngineClock  ?</span>
  <span class="n">ULONG</span>                           <span class="n">ulDefaultDispEngineClkFreq</span><span class="p">;</span> <span class="c1">//In 10Khz unit. This is the frequency before DCDTO, corresponding to usBootUpVDDCVoltage.          </span>
  <span class="n">UCHAR</span>                           <span class="n">ucReserved3</span><span class="p">;</span>                <span class="c1">//Was ucASICMaxTemperature;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMinAllowedBL_Level</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usBootUpVDDCVoltage</span><span class="p">;</span>        <span class="c1">//In MV unit</span>
  <span class="n">USHORT</span>                          <span class="n">usLcdMinPixelClockPLL_Output</span><span class="p">;</span> <span class="c1">// In MHz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usLcdMaxPixelClockPLL_Output</span><span class="p">;</span> <span class="c1">// In MHz unit</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved4</span><span class="p">;</span>                <span class="c1">//Was ulAsicMaximumVoltage</span>
  <span class="n">ULONG</span>                           <span class="n">ulMinPixelClockPLL_Output</span><span class="p">;</span>  <span class="c1">//In 10Khz unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucRemoteDisplayConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucReserved5</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>             <span class="c1">//Was usMinEngineClockPLL_Input and usMaxEngineClockPLL_Input</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved6</span><span class="p">;</span>                <span class="c1">//Was usMinEngineClockPLL_Output and usMinMemoryClockPLL_Input</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved7</span><span class="p">;</span>                <span class="c1">//Was usMaxMemoryClockPLL_Input and usMinMemoryClockPLL_Output</span>
  <span class="n">USHORT</span>                          <span class="n">usReserved11</span><span class="p">;</span>               <span class="c1">//Was usMaxPixelClock;  //In 10Khz unit, Max.  Pclk used only for DAC</span>
  <span class="n">USHORT</span>                          <span class="n">usMinPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usMaxPixelClockPLL_Input</span><span class="p">;</span>   <span class="c1">//In 10Khz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usBootUpVDDCIVoltage</span><span class="p">;</span>       <span class="c1">//In unit of mv; Was usMinPixelClockPLL_Output;</span>
  <span class="n">ATOM_FIRMWARE_CAPABILITY_ACCESS</span> <span class="n">usFirmwareCapability</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usCoreReferenceClock</span><span class="p">;</span>       <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usMemoryReferenceClock</span><span class="p">;</span>     <span class="c1">//In 10Khz unit	</span>
  <span class="n">USHORT</span>                          <span class="n">usUniphyDPModeExtClkFreq</span><span class="p">;</span>   <span class="c1">//In 10Khz unit, if it is 0, In DP Mode Uniphy Input clock from internal PPLL, otherwise Input clock from external Spread clock</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMemoryModule_ID</span><span class="p">;</span>          <span class="c1">//Indicate what is the board design</span>
  <span class="n">UCHAR</span>                           <span class="n">ucReserved9</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">USHORT</span>                          <span class="n">usBootUpMVDDCVoltage</span><span class="p">;</span>       <span class="c1">//In unit of mv; Was usMinPixelClockPLL_Output;</span>
  <span class="n">USHORT</span>                          <span class="n">usReserved12</span><span class="p">;</span>
  <span class="n">ULONG</span>                           <span class="n">ulReserved10</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>            <span class="c1">// New added comparing to previous version</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_INFO_V2_2</span><span class="p">;</span>

<span class="cp">#define ATOM_FIRMWARE_INFO_LAST  ATOM_FIRMWARE_INFO_V2_2</span></pre></div></td></tr>


<tr id="section-179"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-179">&#182;</a></div><p>definition of ucRemoteDisplayConfig</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define REMOTE_DISPLAY_DISABLE                   0x00</span>
<span class="cp">#define REMOTE_DISPLAY_ENABLE                    0x01</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-180"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-180">&#182;</a></div><p>Structures used in IntegratedSystemInfoTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="cp">#define IGP_CAP_FLAG_DYNAMIC_CLOCK_EN      0x2</span>
<span class="cp">#define IGP_CAP_FLAG_AC_CARD               0x4</span>
<span class="cp">#define IGP_CAP_FLAG_SDVO_CARD             0x8</span>
<span class="cp">#define IGP_CAP_FLAG_POSTDIV_BY_2_MODE     0x10</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_INTEGRATED_SYSTEM_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>        <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ULONG</span>	                          <span class="n">ulBootUpEngineClock</span><span class="p">;</span>		    <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>	                          <span class="n">ulBootUpMemoryClock</span><span class="p">;</span>		    <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>	                          <span class="n">ulMaxSystemMemoryClock</span><span class="p">;</span>	    <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>	                          <span class="n">ulMinSystemMemoryClock</span><span class="p">;</span>	    <span class="c1">//in 10kHz unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucNumberOfCyclesInPeriodHi</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucLCDTimingSel</span><span class="p">;</span>             <span class="c1">//=0:not valid.!=0 sel this timing descriptor from LCD EDID.</span>
  <span class="n">USHORT</span>                          <span class="n">usReserved1</span><span class="p">;</span>
  <span class="n">USHORT</span>                          <span class="n">usInterNBVoltageLow</span><span class="p">;</span>        <span class="c1">//An intermidiate PMW value to set the voltage </span>
  <span class="n">USHORT</span>                          <span class="n">usInterNBVoltageHigh</span><span class="p">;</span>       <span class="c1">//Another intermidiate PMW value to set the voltage </span>
  <span class="n">ULONG</span>	                          <span class="n">ulReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

  <span class="n">USHORT</span>	                        <span class="n">usFSBClock</span><span class="p">;</span>			            <span class="c1">//In MHz unit</span>
  <span class="n">USHORT</span>                          <span class="n">usCapabilityFlag</span><span class="p">;</span>		        <span class="c1">//Bit0=1 indicates the fake HDMI support,Bit1=0/1 for Dynamic clocking dis/enable</span></pre></div></td></tr>


<tr id="section-181"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-181">&#182;</a></div><p>Bit[3:2]== 0:No PCIE card, 1:AC card, 2:SDVO card
Bit[4]==1: P/2 mode, ==0: P/1 mode</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>	                        <span class="n">usPCIENBCfgReg7</span><span class="p">;</span>				    <span class="c1">//bit[7:0]=MUX_Sel, bit[9:8]=MUX_SEL_LEVEL2, bit[10]=Lane_Reversal</span>
  <span class="n">USHORT</span>	                        <span class="n">usK8MemoryClock</span><span class="p">;</span>            <span class="c1">//in MHz unit</span>
  <span class="n">USHORT</span>	                        <span class="n">usK8SyncStartDelay</span><span class="p">;</span>         <span class="c1">//in 0.01 us unit</span>
  <span class="n">USHORT</span>	                        <span class="n">usK8DataReturnTime</span><span class="p">;</span>         <span class="c1">//in 0.01 us unit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMaxNBVoltage</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMinNBVoltage</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMemoryType</span><span class="p">;</span>					      <span class="c1">//[7:4]=1:DDR1;=2:DDR2;=3:DDR3.[3:0] is reserved</span>
  <span class="n">UCHAR</span>                           <span class="n">ucNumberOfCyclesInPeriod</span><span class="p">;</span>		<span class="c1">//CG.FVTHROT_PWM_CTRL_REG0.NumberOfCyclesInPeriod </span>
  <span class="n">UCHAR</span>                           <span class="n">ucStartingPWM_HighTime</span><span class="p">;</span>     <span class="c1">//CG.FVTHROT_PWM_CTRL_REG0.StartingPWM_HighTime</span>
  <span class="n">UCHAR</span>                           <span class="n">ucHTLinkWidth</span><span class="p">;</span>              <span class="c1">//16 bit vs. 8 bit</span>
  <span class="n">UCHAR</span>                           <span class="n">ucMaxNBVoltageHigh</span><span class="p">;</span>    
  <span class="n">UCHAR</span>                           <span class="n">ucMinNBVoltageHigh</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_INTEGRATED_SYSTEM_INFO</span><span class="p">;</span>

<span class="cm">/* Explanation on entries in ATOM_INTEGRATED_SYSTEM_INFO</span>
<span class="cm">ulBootUpMemoryClock:    For Intel IGP,it&#39;s the UMA system memory clock </span>
<span class="cm">                        For AMD IGP,it&#39;s 0 if no SidePort memory installed or it&#39;s the boot-up SidePort memory clock</span>
<span class="cm">ulMaxSystemMemoryClock: For Intel IGP,it&#39;s the Max freq from memory SPD if memory runs in ASYNC mode or otherwise (SYNC mode) it&#39;s 0</span>
<span class="cm">                        For AMD IGP,for now this can be 0</span>
<span class="cm">ulMinSystemMemoryClock: For Intel IGP,it&#39;s 133MHz if memory runs in ASYNC mode or otherwise (SYNC mode) it&#39;s 0 </span>
<span class="cm">                        For AMD IGP,for now this can be 0</span>

<span class="cm">usFSBClock:             For Intel IGP,it&#39;s FSB Freq </span>
<span class="cm">                        For AMD IGP,it&#39;s HT Link Speed</span>

<span class="cm">usK8MemoryClock:        For AMD IGP only. For RevF CPU, set it to 200</span>
<span class="cm">usK8SyncStartDelay:     For AMD IGP only. Memory access latency in K8, required for watermark calculation</span>
<span class="cm">usK8DataReturnTime:     For AMD IGP only. Memory access latency in K8, required for watermark calculation</span>

<span class="cm">VC:Voltage Control</span>
<span class="cm">ucMaxNBVoltage:         Voltage regulator dependent PWM value. Low 8 bits of the value for the max voltage.Set this one to 0xFF if VC without PWM. Set this to 0x0 if no VC at all.</span>
<span class="cm">ucMinNBVoltage:         Voltage regulator dependent PWM value. Low 8 bits of the value for the min voltage.Set this one to 0x00 if VC without PWM or no VC at all.</span>

<span class="cm">ucNumberOfCyclesInPeriod:   Indicate how many cycles when PWM duty is 100%. low 8 bits of the value. </span>
<span class="cm">ucNumberOfCyclesInPeriodHi: Indicate how many cycles when PWM duty is 100%. high 8 bits of the value.If the PWM has an inverter,set bit [7]==1,otherwise set it 0 </span>

<span class="cm">ucMaxNBVoltageHigh:     Voltage regulator dependent PWM value. High 8 bits of  the value for the max voltage.Set this one to 0xFF if VC without PWM. Set this to 0x0 if no VC at all.</span>
<span class="cm">ucMinNBVoltageHigh:     Voltage regulator dependent PWM value. High 8 bits of the value for the min voltage.Set this one to 0x00 if VC without PWM or no VC at all.</span>


<span class="cm">usInterNBVoltageLow:    Voltage regulator dependent PWM value. The value makes the the voltage &gt;=Min NB voltage but &lt;=InterNBVoltageHigh. Set this to 0x0000 if VC without PWM or no VC at all.</span>
<span class="cm">usInterNBVoltageHigh:   Voltage regulator dependent PWM value. The value makes the the voltage &gt;=InterNBVoltageLow but &lt;=Max NB voltage.Set this to 0x0000 if VC without PWM or no VC at all.</span>
<span class="cm">*/</span>


<span class="cm">/*</span>
<span class="cm">The following IGP table is introduced from RS780, which is supposed to be put by SBIOS in FB before IGP VBIOS starts VPOST;</span>
<span class="cm">Then VBIOS will copy the whole structure to its image so all GPU SW components can access this data structure to get whatever they need. </span>
<span class="cm">The enough reservation should allow us to never change table revisions. Whenever needed, a GPU SW component can use reserved portion for new data entries.</span>

<span class="cm">SW components can access the IGP system infor structure in the same way as before</span>
<span class="cm">*/</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_INTEGRATED_SYSTEM_INFO_V2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ULONG</span>	                     <span class="n">ulBootUpEngineClock</span><span class="p">;</span>       <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>			     <span class="n">ulReserved1</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>            <span class="c1">//must be 0x0 for the reserved</span>
  <span class="n">ULONG</span>	                     <span class="n">ulBootUpUMAClock</span><span class="p">;</span>          <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>	                     <span class="n">ulBootUpSidePortClock</span><span class="p">;</span>     <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>	                     <span class="n">ulMinSidePortClock</span><span class="p">;</span>        <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>			     <span class="n">ulReserved2</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>            <span class="c1">//must be 0x0 for the reserved</span>
  <span class="n">ULONG</span>                      <span class="n">ulSystemConfig</span><span class="p">;</span>            <span class="c1">//see explanation below</span>
  <span class="n">ULONG</span>                      <span class="n">ulBootUpReqDisplayVector</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulOtherDisplayMisc</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulDDISlot1Config</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulDDISlot2Config</span><span class="p">;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryType</span><span class="p">;</span>              <span class="c1">//[3:0]=1:DDR1;=2:DDR2;=3:DDR3.[7:4] is reserved</span>
  <span class="n">UCHAR</span>                      <span class="n">ucUMAChannelNumber</span><span class="p">;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucDockingPinBit</span><span class="p">;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucDockingPinPolarity</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulDockingPinCFGInfo</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulCPUCapInfo</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usNumberOfCyclesInPeriod</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMaxNBVoltage</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMinNBVoltage</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usBootUpNBVoltage</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulHTLinkFreq</span><span class="p">;</span>              <span class="c1">//in 10Khz</span>
  <span class="n">USHORT</span>                     <span class="n">usMinHTLinkWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMaxHTLinkWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usUMASyncStartDelay</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usUMADataReturnTime</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usLinkStatusZeroTime</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usDACEfuse</span><span class="p">;</span>				<span class="c1">//for storing badgap value (for RS880 only)</span>
  <span class="n">ULONG</span>                      <span class="n">ulHighVoltageHTLinkFreq</span><span class="p">;</span>     <span class="c1">// in 10Khz</span>
  <span class="n">ULONG</span>                      <span class="n">ulLowVoltageHTLinkFreq</span><span class="p">;</span>      <span class="c1">// in 10Khz</span>
  <span class="n">USHORT</span>                     <span class="n">usMaxUpStreamHTLinkWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMaxDownStreamHTLinkWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMinUpStreamHTLinkWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMinDownStreamHTLinkWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usFirmwareVersion</span><span class="p">;</span>         <span class="c1">//0 means FW is not supported. Otherwise it&#39;s the FW version loaded by SBIOS and driver should enable FW.</span>
  <span class="n">USHORT</span>                     <span class="n">usFullT0Time</span><span class="p">;</span>             <span class="c1">// Input to calculate minimum HT link change time required by NB P-State. Unit is 0.01us.</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved3</span><span class="p">[</span><span class="mi">96</span><span class="p">];</span>          <span class="c1">//must be 0x0</span>
<span class="p">}</span><span class="n">ATOM_INTEGRATED_SYSTEM_INFO_V2</span><span class="p">;</span>   

<span class="cm">/*</span>
<span class="cm">ulBootUpEngineClock:   Boot-up Engine Clock in 10Khz;</span>
<span class="cm">ulBootUpUMAClock:      Boot-up UMA Clock in 10Khz; it must be 0x0 when UMA is not present</span>
<span class="cm">ulBootUpSidePortClock: Boot-up SidePort Clock in 10Khz; it must be 0x0 when SidePort Memory is not present,this could be equal to or less than maximum supported Sideport memory clock</span>

<span class="cm">ulSystemConfig:  </span>
<span class="cm">Bit[0]=1: PowerExpress mode =0 Non-PowerExpress mode; </span>
<span class="cm">Bit[1]=1: system boots up at AMD overdrived state or user customized  mode. In this case, driver will just stick to this boot-up mode. No other PowerPlay state</span>
<span class="cm">      =0: system boots up at driver control state. Power state depends on PowerPlay table.</span>
<span class="cm">Bit[2]=1: PWM method is used on NB voltage control. =0: GPIO method is used.</span>
<span class="cm">Bit[3]=1: Only one power state(Performance) will be supported.</span>
<span class="cm">      =0: Multiple power states supported from PowerPlay table.</span>
<span class="cm">Bit[4]=1: CLMC is supported and enabled on current system. </span>
<span class="cm">      =0: CLMC is not supported or enabled on current system. SBIOS need to support HT link/freq change through ATIF interface.  </span>
<span class="cm">Bit[5]=1: Enable CDLW for all driver control power states. Max HT width is from SBIOS, while Min HT width is determined by display requirement.  </span>
<span class="cm">      =0: CDLW is disabled. If CLMC is enabled case, Min HT width will be set equal to Max HT width. If CLMC disabled case, Max HT width will be applied.</span>
<span class="cm">Bit[6]=1: High Voltage requested for all power states. In this case, voltage will be forced at 1.1v and powerplay table voltage drop/throttling request will be ignored.</span>
<span class="cm">      =0: Voltage settings is determined by powerplay table.</span>
<span class="cm">Bit[7]=1: Enable CLMC as hybrid Mode. CDLD and CILR will be disabled in this case and we&#39;re using legacy C1E. This is workaround for CPU(Griffin) performance issue.</span>
<span class="cm">      =0: Enable CLMC as regular mode, CDLD and CILR will be enabled.</span>
<span class="cm">Bit[8]=1: CDLF is supported and enabled on current system.</span>
<span class="cm">      =0: CDLF is not supported or enabled on current system.</span>
<span class="cm">Bit[9]=1: DLL Shut Down feature is enabled on current system.</span>
<span class="cm">      =0: DLL Shut Down feature is not enabled or supported on current system.</span>

<span class="cm">ulBootUpReqDisplayVector: This dword is a bit vector indicates what display devices are requested during boot-up. Refer to ATOM_DEVICE_xxx_SUPPORT for the bit vector definitions.</span>

<span class="cm">ulOtherDisplayMisc: [15:8]- Bootup LCD Expansion selection; 0-center, 1-full panel size expansion;</span>
<span class="cm">			              [7:0] - BootupTV standard selection; This is a bit vector to indicate what TV standards are supported by the system. Refer to ucTVSupportedStd definition;</span>

<span class="cm">ulDDISlot1Config: Describes the PCIE lane configuration on this DDI PCIE slot (ADD2 card) or connector (Mobile design).</span>
<span class="cm">      [3:0]  - Bit vector to indicate PCIE lane config of the DDI slot/connector on chassis (bit 0=1 lane 3:0; bit 1=1 lane 7:4; bit 2=1 lane 11:8; bit 3=1 lane 15:12)</span>
<span class="cm">			[7:4]  - Bit vector to indicate PCIE lane config of the same DDI slot/connector on docking station (bit 4=1 lane 3:0; bit 5=1 lane 7:4; bit 6=1 lane 11:8; bit 7=1 lane 15:12)</span>
<span class="cm">      When a DDI connector is not &quot;paired&quot; (meaming two connections mutualexclusive on chassis or docking, only one of them can be connected at one time.</span>
<span class="cm">      in both chassis and docking, SBIOS has to duplicate the same PCIE lane info from chassis to docking or vice versa. For example:</span>
<span class="cm">      one DDI connector is only populated in docking with PCIE lane 8-11, but there is no paired connection on chassis, SBIOS has to copy bit 6 to bit 2.</span>

<span class="cm">			[15:8] - Lane configuration attribute; </span>
<span class="cm">      [23:16]- Connector type, possible value:</span>
<span class="cm">               CONNECTOR_OBJECT_ID_SINGLE_LINK_DVI_D</span>
<span class="cm">               CONNECTOR_OBJECT_ID_DUAL_LINK_DVI_D</span>
<span class="cm">               CONNECTOR_OBJECT_ID_HDMI_TYPE_A</span>
<span class="cm">               CONNECTOR_OBJECT_ID_DISPLAYPORT</span>
<span class="cm">               CONNECTOR_OBJECT_ID_eDP</span>
<span class="cm">			[31:24]- Reserved</span>

<span class="cm">ulDDISlot2Config: Same as Slot1.</span>
<span class="cm">ucMemoryType: SidePort memory type, set it to 0x0 when Sideport memory is not installed. Driver needs this info to change sideport memory clock. Not for display in CCC.</span>
<span class="cm">For IGP, Hypermemory is the only memory type showed in CCC.</span>

<span class="cm">ucUMAChannelNumber:  how many channels for the UMA;</span>

<span class="cm">ulDockingPinCFGInfo: [15:0]-Bus/Device/Function # to CFG to read this Docking Pin; [31:16]-reg offset in CFG to read this pin </span>
<span class="cm">ucDockingPinBit:     which bit in this register to read the pin status;</span>
<span class="cm">ucDockingPinPolarity:Polarity of the pin when docked;</span>

<span class="cm">ulCPUCapInfo:        [7:0]=1:Griffin;[7:0]=2:Greyhound;[7:0]=3:K8, [7:0]=4:Pharaoh, other bits reserved for now and must be 0x0</span>

<span class="cm">usNumberOfCyclesInPeriod:Indicate how many cycles when PWM duty is 100%.</span>

<span class="cm">usMaxNBVoltage:Max. voltage control value in either PWM or GPIO mode. </span>
<span class="cm">usMinNBVoltage:Min. voltage control value in either PWM or GPIO mode.</span>
<span class="cm">                    GPIO mode: both usMaxNBVoltage &amp; usMinNBVoltage have a valid value ulSystemConfig.SYSTEM_CONFIG_USE_PWM_ON_VOLTAGE=0</span>
<span class="cm">                    PWM mode: both usMaxNBVoltage &amp; usMinNBVoltage have a valid value ulSystemConfig.SYSTEM_CONFIG_USE_PWM_ON_VOLTAGE=1</span>
<span class="cm">                    GPU SW don&#39;t control mode: usMaxNBVoltage &amp; usMinNBVoltage=0 and no care about ulSystemConfig.SYSTEM_CONFIG_USE_PWM_ON_VOLTAGE</span>

<span class="cm">usBootUpNBVoltage:Boot-up voltage regulator dependent PWM value.</span>

<span class="cm">ulHTLinkFreq:       Bootup HT link Frequency in 10Khz.</span>
<span class="cm">usMinHTLinkWidth:   Bootup minimum HT link width. If CDLW disabled, this is equal to usMaxHTLinkWidth. </span>
<span class="cm">                    If CDLW enabled, both upstream and downstream width should be the same during bootup.</span>
<span class="cm">usMaxHTLinkWidth:   Bootup maximum HT link width. If CDLW disabled, this is equal to usMinHTLinkWidth. </span>
<span class="cm">                    If CDLW enabled, both upstream and downstream width should be the same during bootup.  </span>

<span class="cm">usUMASyncStartDelay: Memory access latency, required for watermark calculation </span>
<span class="cm">usUMADataReturnTime: Memory access latency, required for watermark calculation</span>
<span class="cm">usLinkStatusZeroTime:Memory access latency required for watermark calculation, set this to 0x0 for K8 CPU, set a proper value in 0.01 the unit of us </span>
<span class="cm">for Griffin or Greyhound. SBIOS needs to convert to actual time by:</span>
<span class="cm">                     if T0Ttime [5:4]=00b, then usLinkStatusZeroTime=T0Ttime [3:0]*0.1us (0.0 to 1.5us)</span>
<span class="cm">                     if T0Ttime [5:4]=01b, then usLinkStatusZeroTime=T0Ttime [3:0]*0.5us (0.0 to 7.5us)</span>
<span class="cm">                     if T0Ttime [5:4]=10b, then usLinkStatusZeroTime=T0Ttime [3:0]*2.0us (0.0 to 30us)</span>
<span class="cm">                     if T0Ttime [5:4]=11b, and T0Ttime [3:0]=0x0 to 0xa, then usLinkStatusZeroTime=T0Ttime [3:0]*20us (0.0 to 200us)</span>

<span class="cm">ulHighVoltageHTLinkFreq:     HT link frequency for power state with low voltage. If boot up runs in HT1, this must be 0.</span>
<span class="cm">                             This must be less than or equal to ulHTLinkFreq(bootup frequency). </span>
<span class="cm">ulLowVoltageHTLinkFreq:      HT link frequency for power state with low voltage or voltage scaling 1.0v~1.1v. If boot up runs in HT1, this must be 0.</span>
<span class="cm">                             This must be less than or equal to ulHighVoltageHTLinkFreq.</span>

<span class="cm">usMaxUpStreamHTLinkWidth:    Asymmetric link width support in the future, to replace usMaxHTLinkWidth. Not used for now.</span>
<span class="cm">usMaxDownStreamHTLinkWidth:  same as above.</span>
<span class="cm">usMinUpStreamHTLinkWidth:    Asymmetric link width support in the future, to replace usMinHTLinkWidth. Not used for now.</span>
<span class="cm">usMinDownStreamHTLinkWidth:  same as above.</span>
<span class="cm">*/</span></pre></div></td></tr>


<tr id="section-182"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-182">&#182;</a></div><p>ATOM<em>INTEGRATED</em>SYSTEM_INFO::ulCPUCapInfo  - CPU type definition </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define    INTEGRATED_SYSTEM_INFO__UNKNOWN_CPU             0</span>
<span class="cp">#define    INTEGRATED_SYSTEM_INFO__AMD_CPU__GRIFFIN        1</span>
<span class="cp">#define    INTEGRATED_SYSTEM_INFO__AMD_CPU__GREYHOUND      2</span>
<span class="cp">#define    INTEGRATED_SYSTEM_INFO__AMD_CPU__K8             3</span>
<span class="cp">#define    INTEGRATED_SYSTEM_INFO__AMD_CPU__PHARAOH        4</span>
<span class="cp">#define    INTEGRATED_SYSTEM_INFO__AMD_CPU__OROCHI         5</span>

<span class="cp">#define    INTEGRATED_SYSTEM_INFO__AMD_CPU__MAX_CODE       INTEGRATED_SYSTEM_INFO__AMD_CPU__OROCHI    </span><span class="c1">// this deff reflects max defined CPU code</span>

<span class="cp">#define SYSTEM_CONFIG_POWEREXPRESS_ENABLE                 0x00000001</span>
<span class="cp">#define SYSTEM_CONFIG_RUN_AT_OVERDRIVE_ENGINE             0x00000002</span>
<span class="cp">#define SYSTEM_CONFIG_USE_PWM_ON_VOLTAGE                  0x00000004 </span>
<span class="cp">#define SYSTEM_CONFIG_PERFORMANCE_POWERSTATE_ONLY         0x00000008</span>
<span class="cp">#define SYSTEM_CONFIG_CLMC_ENABLED                        0x00000010</span>
<span class="cp">#define SYSTEM_CONFIG_CDLW_ENABLED                        0x00000020</span>
<span class="cp">#define SYSTEM_CONFIG_HIGH_VOLTAGE_REQUESTED              0x00000040</span>
<span class="cp">#define SYSTEM_CONFIG_CLMC_HYBRID_MODE_ENABLED            0x00000080</span>
<span class="cp">#define SYSTEM_CONFIG_CDLF_ENABLED                        0x00000100</span>
<span class="cp">#define SYSTEM_CONFIG_DLL_SHUTDOWN_ENABLED                0x00000200</span>

<span class="cp">#define IGP_DDI_SLOT_LANE_CONFIG_MASK                     0x000000FF</span>

<span class="cp">#define b0IGP_DDI_SLOT_LANE_MAP_MASK                      0x0F</span>
<span class="cp">#define b0IGP_DDI_SLOT_DOCKING_LANE_MAP_MASK              0xF0</span>
<span class="cp">#define b0IGP_DDI_SLOT_CONFIG_LANE_0_3                    0x01</span>
<span class="cp">#define b0IGP_DDI_SLOT_CONFIG_LANE_4_7                    0x02</span>
<span class="cp">#define b0IGP_DDI_SLOT_CONFIG_LANE_8_11                   0x04</span>
<span class="cp">#define b0IGP_DDI_SLOT_CONFIG_LANE_12_15                  0x08</span>

<span class="cp">#define IGP_DDI_SLOT_ATTRIBUTE_MASK                       0x0000FF00</span>
<span class="cp">#define IGP_DDI_SLOT_CONFIG_REVERSED                      0x00000100</span>
<span class="cp">#define b1IGP_DDI_SLOT_CONFIG_REVERSED                    0x01</span>

<span class="cp">#define IGP_DDI_SLOT_CONNECTOR_TYPE_MASK                  0x00FF0000</span></pre></div></td></tr>


<tr id="section-183"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-183">&#182;</a></div><p>IntegratedSystemInfoTable new Rev is V5 after V2, because of the real rev of V2 is v1.4. This rev is used for RR</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_INTEGRATED_SYSTEM_INFO_V5</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ULONG</span>	                     <span class="n">ulBootUpEngineClock</span><span class="p">;</span>       <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>                      <span class="n">ulDentistVCOFreq</span><span class="p">;</span>          <span class="c1">//Dentist VCO clock in 10kHz unit, the source of GPU SCLK, LCLK, UCLK and VCLK. </span>
  <span class="n">ULONG</span>                      <span class="n">ulLClockFreq</span><span class="p">;</span>              <span class="c1">//GPU Lclk freq in 10kHz unit, have relationship with NCLK in NorthBridge</span>
  <span class="n">ULONG</span>	                     <span class="n">ulBootUpUMAClock</span><span class="p">;</span>          <span class="c1">//in 10kHz unit</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved1</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>            <span class="c1">//must be 0x0 for the reserved</span>
  <span class="n">ULONG</span>                      <span class="n">ulBootUpReqDisplayVector</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulOtherDisplayMisc</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved2</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>            <span class="c1">//must be 0x0 for the reserved</span>
  <span class="n">ULONG</span>                      <span class="n">ulSystemConfig</span><span class="p">;</span>            <span class="c1">//TBD</span>
  <span class="n">ULONG</span>                      <span class="n">ulCPUCapInfo</span><span class="p">;</span>              <span class="c1">//TBD</span>
  <span class="n">USHORT</span>                     <span class="n">usMaxNBVoltage</span><span class="p">;</span>            <span class="c1">//high NB voltage, calculated using current VDDNB (D24F2xDC) and VDDNB offset fuse;</span>
  <span class="n">USHORT</span>                     <span class="n">usMinNBVoltage</span><span class="p">;</span>            <span class="c1">//low NB voltage, calculated using current VDDNB (D24F2xDC) and VDDNB offset fuse;</span>
  <span class="n">USHORT</span>                     <span class="n">usBootUpNBVoltage</span><span class="p">;</span>         <span class="c1">//boot up NB voltage</span>
  <span class="n">UCHAR</span>                      <span class="n">ucHtcTmpLmt</span><span class="p">;</span>               <span class="c1">//bit [22:16] of D24F3x64 Hardware Thermal Control (HTC) Register, may not be needed, TBD</span>
  <span class="n">UCHAR</span>                      <span class="n">ucTjOffset</span><span class="p">;</span>                <span class="c1">//bit [28:22] of D24F3xE4 Thermtrip Status Register,may not be needed, TBD</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved3</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>            <span class="c1">//must be 0x0 for the reserved</span>
  <span class="n">ULONG</span>                      <span class="n">ulDDISlot1Config</span><span class="p">;</span>          <span class="c1">//see above ulDDISlot1Config definition</span>
  <span class="n">ULONG</span>                      <span class="n">ulDDISlot2Config</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulDDISlot3Config</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulDDISlot4Config</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved4</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>            <span class="c1">//must be 0x0 for the reserved</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryType</span><span class="p">;</span>              <span class="c1">//[3:0]=1:DDR1;=2:DDR2;=3:DDR3.[7:4] is reserved</span>
  <span class="n">UCHAR</span>                      <span class="n">ucUMAChannelNumber</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usReserved</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved5</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>            <span class="c1">//must be 0x0 for the reserved</span>
  <span class="n">ULONG</span>                      <span class="n">ulCSR_M3_ARB_CNTL_DEFAULT</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span><span class="c1">//arrays with values for CSR M3 arbiter for default</span>
  <span class="n">ULONG</span>                      <span class="n">ulCSR_M3_ARB_CNTL_UVD</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span> <span class="c1">//arrays with values for CSR M3 arbiter for UVD playback</span>
  <span class="n">ULONG</span>                      <span class="n">ulCSR_M3_ARB_CNTL_FS3D</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span><span class="c1">//arrays with values for CSR M3 arbiter for Full Screen 3D applications</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved6</span><span class="p">[</span><span class="mi">61</span><span class="p">];</span>           <span class="c1">//must be 0x0</span>
<span class="p">}</span><span class="n">ATOM_INTEGRATED_SYSTEM_INFO_V5</span><span class="p">;</span>   

<span class="cp">#define ATOM_CRT_INT_ENCODER1_INDEX                       0x00000000</span>
<span class="cp">#define ATOM_LCD_INT_ENCODER1_INDEX                       0x00000001</span>
<span class="cp">#define ATOM_TV_INT_ENCODER1_INDEX                        0x00000002</span>
<span class="cp">#define ATOM_DFP_INT_ENCODER1_INDEX                       0x00000003</span>
<span class="cp">#define ATOM_CRT_INT_ENCODER2_INDEX                       0x00000004</span>
<span class="cp">#define ATOM_LCD_EXT_ENCODER1_INDEX                       0x00000005</span>
<span class="cp">#define ATOM_TV_EXT_ENCODER1_INDEX                        0x00000006</span>
<span class="cp">#define ATOM_DFP_EXT_ENCODER1_INDEX                       0x00000007</span>
<span class="cp">#define ATOM_CV_INT_ENCODER1_INDEX                        0x00000008</span>
<span class="cp">#define ATOM_DFP_INT_ENCODER2_INDEX                       0x00000009</span>
<span class="cp">#define ATOM_CRT_EXT_ENCODER1_INDEX                       0x0000000A</span>
<span class="cp">#define ATOM_CV_EXT_ENCODER1_INDEX                        0x0000000B</span>
<span class="cp">#define ATOM_DFP_INT_ENCODER3_INDEX                       0x0000000C</span>
<span class="cp">#define ATOM_DFP_INT_ENCODER4_INDEX                       0x0000000D</span></pre></div></td></tr>


<tr id="section-184"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-184">&#182;</a></div><p>define ASIC internal encoder id ( bit vector ), used for CRTC_SourceSelTable</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ASIC_INT_DAC1_ENCODER_ID    											0x00 </span>
<span class="cp">#define ASIC_INT_TV_ENCODER_ID														0x02</span>
<span class="cp">#define ASIC_INT_DIG1_ENCODER_ID													0x03</span>
<span class="cp">#define ASIC_INT_DAC2_ENCODER_ID													0x04</span>
<span class="cp">#define ASIC_EXT_TV_ENCODER_ID														0x06</span>
<span class="cp">#define ASIC_INT_DVO_ENCODER_ID														0x07</span>
<span class="cp">#define ASIC_INT_DIG2_ENCODER_ID													0x09</span>
<span class="cp">#define ASIC_EXT_DIG_ENCODER_ID														0x05</span>
<span class="cp">#define ASIC_EXT_DIG2_ENCODER_ID													0x08</span>
<span class="cp">#define ASIC_INT_DIG3_ENCODER_ID													0x0a</span>
<span class="cp">#define ASIC_INT_DIG4_ENCODER_ID													0x0b</span>
<span class="cp">#define ASIC_INT_DIG5_ENCODER_ID													0x0c</span>
<span class="cp">#define ASIC_INT_DIG6_ENCODER_ID													0x0d</span>
<span class="cp">#define ASIC_INT_DIG7_ENCODER_ID													0x0e</span></pre></div></td></tr>


<tr id="section-185"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-185">&#182;</a></div><p>define Encoder attribute</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ANALOG_ENCODER																0</span>
<span class="cp">#define ATOM_DIGITAL_ENCODER															1		</span>
<span class="cp">#define ATOM_DP_ENCODER															      2		</span>

<span class="cp">#define ATOM_ENCODER_ENUM_MASK                            0x70</span>
<span class="cp">#define ATOM_ENCODER_ENUM_ID1                             0x00</span>
<span class="cp">#define ATOM_ENCODER_ENUM_ID2                             0x10</span>
<span class="cp">#define ATOM_ENCODER_ENUM_ID3                             0x20</span>
<span class="cp">#define ATOM_ENCODER_ENUM_ID4                             0x30</span>
<span class="cp">#define ATOM_ENCODER_ENUM_ID5                             0x40 </span>
<span class="cp">#define ATOM_ENCODER_ENUM_ID6                             0x50</span>

<span class="cp">#define ATOM_DEVICE_CRT1_INDEX                            0x00000000</span>
<span class="cp">#define ATOM_DEVICE_LCD1_INDEX                            0x00000001</span>
<span class="cp">#define ATOM_DEVICE_TV1_INDEX                             0x00000002</span>
<span class="cp">#define ATOM_DEVICE_DFP1_INDEX                            0x00000003</span>
<span class="cp">#define ATOM_DEVICE_CRT2_INDEX                            0x00000004</span>
<span class="cp">#define ATOM_DEVICE_LCD2_INDEX                            0x00000005</span>
<span class="cp">#define ATOM_DEVICE_DFP6_INDEX                            0x00000006</span>
<span class="cp">#define ATOM_DEVICE_DFP2_INDEX                            0x00000007</span>
<span class="cp">#define ATOM_DEVICE_CV_INDEX                              0x00000008</span>
<span class="cp">#define ATOM_DEVICE_DFP3_INDEX                            0x00000009</span>
<span class="cp">#define ATOM_DEVICE_DFP4_INDEX                            0x0000000A</span>
<span class="cp">#define ATOM_DEVICE_DFP5_INDEX                            0x0000000B</span>

<span class="cp">#define ATOM_DEVICE_RESERVEDC_INDEX                       0x0000000C</span>
<span class="cp">#define ATOM_DEVICE_RESERVEDD_INDEX                       0x0000000D</span>
<span class="cp">#define ATOM_DEVICE_RESERVEDE_INDEX                       0x0000000E</span>
<span class="cp">#define ATOM_DEVICE_RESERVEDF_INDEX                       0x0000000F</span>
<span class="cp">#define ATOM_MAX_SUPPORTED_DEVICE_INFO                    (ATOM_DEVICE_DFP3_INDEX+1)</span>
<span class="cp">#define ATOM_MAX_SUPPORTED_DEVICE_INFO_2                  ATOM_MAX_SUPPORTED_DEVICE_INFO</span>
<span class="cp">#define ATOM_MAX_SUPPORTED_DEVICE_INFO_3                  (ATOM_DEVICE_DFP5_INDEX + 1 )</span>

<span class="cp">#define ATOM_MAX_SUPPORTED_DEVICE                         (ATOM_DEVICE_RESERVEDF_INDEX+1)</span>

<span class="cp">#define ATOM_DEVICE_CRT1_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_CRT1_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_LCD1_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_LCD1_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_TV1_SUPPORT                           (0x1L &lt;&lt; ATOM_DEVICE_TV1_INDEX  )</span>
<span class="cp">#define ATOM_DEVICE_DFP1_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_DFP1_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_CRT2_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_CRT2_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_LCD2_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_LCD2_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_DFP6_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_DFP6_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_DFP2_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_DFP2_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_CV_SUPPORT                            (0x1L &lt;&lt; ATOM_DEVICE_CV_INDEX   )</span>
<span class="cp">#define ATOM_DEVICE_DFP3_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_DFP3_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_DFP4_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_DFP4_INDEX )</span>
<span class="cp">#define ATOM_DEVICE_DFP5_SUPPORT                          (0x1L &lt;&lt; ATOM_DEVICE_DFP5_INDEX )</span>

<span class="cp">#define ATOM_DEVICE_CRT_SUPPORT                           (ATOM_DEVICE_CRT1_SUPPORT | ATOM_DEVICE_CRT2_SUPPORT)</span>
<span class="cp">#define ATOM_DEVICE_DFP_SUPPORT                           (ATOM_DEVICE_DFP1_SUPPORT | ATOM_DEVICE_DFP2_SUPPORT |  ATOM_DEVICE_DFP3_SUPPORT | ATOM_DEVICE_DFP4_SUPPORT | ATOM_DEVICE_DFP5_SUPPORT | ATOM_DEVICE_DFP6_SUPPORT)</span>
<span class="cp">#define ATOM_DEVICE_TV_SUPPORT                            (ATOM_DEVICE_TV1_SUPPORT)</span>
<span class="cp">#define ATOM_DEVICE_LCD_SUPPORT                           (ATOM_DEVICE_LCD1_SUPPORT | ATOM_DEVICE_LCD2_SUPPORT)</span>

<span class="cp">#define ATOM_DEVICE_CONNECTOR_TYPE_MASK                   0x000000F0</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_TYPE_SHIFT                  0x00000004</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_VGA                         0x00000001</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_DVI_I                       0x00000002</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_DVI_D                       0x00000003</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_DVI_A                       0x00000004</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_SVIDEO                      0x00000005</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_COMPOSITE                   0x00000006</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_LVDS                        0x00000007</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_DIGI_LINK                   0x00000008</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_SCART                       0x00000009</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_HDMI_TYPE_A                 0x0000000A</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_HDMI_TYPE_B                 0x0000000B</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_CASE_1                      0x0000000E</span>
<span class="cp">#define ATOM_DEVICE_CONNECTOR_DISPLAYPORT                 0x0000000F</span>


<span class="cp">#define ATOM_DEVICE_DAC_INFO_MASK                         0x0000000F</span>
<span class="cp">#define ATOM_DEVICE_DAC_INFO_SHIFT                        0x00000000</span>
<span class="cp">#define ATOM_DEVICE_DAC_INFO_NODAC                        0x00000000</span>
<span class="cp">#define ATOM_DEVICE_DAC_INFO_DACA                         0x00000001</span>
<span class="cp">#define ATOM_DEVICE_DAC_INFO_DACB                         0x00000002</span>
<span class="cp">#define ATOM_DEVICE_DAC_INFO_EXDAC                        0x00000003</span>

<span class="cp">#define ATOM_DEVICE_I2C_ID_NOI2C                          0x00000000</span>

<span class="cp">#define ATOM_DEVICE_I2C_LINEMUX_MASK                      0x0000000F</span>
<span class="cp">#define ATOM_DEVICE_I2C_LINEMUX_SHIFT                     0x00000000</span>

<span class="cp">#define ATOM_DEVICE_I2C_ID_MASK                           0x00000070</span>
<span class="cp">#define ATOM_DEVICE_I2C_ID_SHIFT                          0x00000004</span>
<span class="cp">#define ATOM_DEVICE_I2C_ID_IS_FOR_NON_MM_USE              0x00000001</span>
<span class="cp">#define ATOM_DEVICE_I2C_ID_IS_FOR_MM_USE                  0x00000002</span>
<span class="cp">#define ATOM_DEVICE_I2C_ID_IS_FOR_SDVO_USE                0x00000003    </span><span class="c1">//For IGP RS600</span>
<span class="cp">#define ATOM_DEVICE_I2C_ID_IS_FOR_DAC_SCL                 0x00000004    </span><span class="c1">//For IGP RS690</span>

<span class="cp">#define ATOM_DEVICE_I2C_HARDWARE_CAP_MASK                 0x00000080</span>
<span class="cp">#define ATOM_DEVICE_I2C_HARDWARE_CAP_SHIFT                0x00000007</span>
<span class="cp">#define	ATOM_DEVICE_USES_SOFTWARE_ASSISTED_I2C            0x00000000</span>
<span class="cp">#define	ATOM_DEVICE_USES_HARDWARE_ASSISTED_I2C            0x00000001</span></pre></div></td></tr>


<tr id="section-186"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-186">&#182;</a></div><p>usDeviceSupport:
 Bits0    = 0 - no CRT1 support= 1- CRT1 is supported
 Bit 1    = 0 - no LCD1 support= 1- LCD1 is supported
 Bit 2    = 0 - no TV1  support= 1- TV1  is supported
 Bit 3    = 0 - no DFP1 support= 1- DFP1 is supported
 Bit 4    = 0 - no CRT2 support= 1- CRT2 is supported
 Bit 5    = 0 - no LCD2 support= 1- LCD2 is supported
 Bit 6    = 0 - no DFP6 support= 1- DFP6 is supported
 Bit 7    = 0 - no DFP2 support= 1- DFP2 is supported
 Bit 8    = 0 - no CV   support= 1- CV   is supported
 Bit 9    = 0 - no DFP3 support= 1- DFP3 is supported
 Bit 10      = 0 - no DFP4 support= 1- DFP4 is supported
 Bit 11      = 0 - no DFP5 support= 1- DFP5 is supported</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>
<span class="cm">/* Structure used in MclkSS_InfoTable                                       */</span>
<span class="cm">/****************************************************************************/</span></pre></div></td></tr>


<tr id="section-187"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-187">&#182;</a></div><pre><code>ucI2C_ConfigID
</code></pre>

<p>[7:0] - I2C LINE Associate ID
         = 0   - no I2C
   [7]        -   HW<em>Cap        = 1,  [6:0]=HW assisted I2C ID(HW line selection)
                         =    0,  [6:0]=SW assisted I2C ID
   [6-4]    - HW</em>ENGINE<em>ID  =   1,  HW engine for NON multimedia use
                         =    2,  HW engine for Multimedia use
                         =    3-7 Reserved for future I2C engines
    [3-0] - I2C</em>LINE_MUX  = A Mux number when it's HW assisted I2C or GPIO ID when it's SW I2C</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_I2C_ID_CONFIG</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span>   <span class="n">bfHW_Capable</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">bfHW_EngineID</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">bfI2C_LineMux</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span>   <span class="n">bfI2C_LineMux</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">bfHW_EngineID</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">bfHW_Capable</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_I2C_ID_CONFIG</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_I2C_ID_CONFIG_ACCESS</span>
<span class="p">{</span>
  <span class="n">ATOM_I2C_ID_CONFIG</span> <span class="n">sbfAccess</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_I2C_ID_CONFIG_ACCESS</span><span class="p">;</span>
   

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-188"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-188">&#182;</a></div><p>Structure used in GPIO<em>I2C</em>InfoTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_GPIO_I2C_ASSIGMENT</span>
<span class="p">{</span>
  <span class="n">USHORT</span>                    <span class="n">usClkMaskRegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usClkEnRegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usClkY_RegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usClkA_RegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usDataMaskRegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usDataEnRegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usDataY_RegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usDataA_RegisterIndex</span><span class="p">;</span>
  <span class="n">ATOM_I2C_ID_CONFIG_ACCESS</span> <span class="n">sucI2cId</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucClkMaskShift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucClkEnShift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucClkY_Shift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucClkA_Shift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucDataMaskShift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucDataEnShift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucDataY_Shift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucDataA_Shift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucReserved1</span><span class="p">;</span>
  <span class="n">UCHAR</span>                     <span class="n">ucReserved2</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_GPIO_I2C_ASSIGMENT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_GPIO_I2C_INFO</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ATOM_GPIO_I2C_ASSIGMENT</span>   <span class="n">asGPIO_Info</span><span class="p">[</span><span class="n">ATOM_MAX_SUPPORTED_DEVICE</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_GPIO_I2C_INFO</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-189"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-189">&#182;</a></div><p>Common Structure used in other structures</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	

<span class="cp">#ifndef _H2INC</span>
  </pre></div></td></tr>


<tr id="section-190"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-190">&#182;</a></div><p>Please don't add or expand this bitfield structure below, this one will retire soon.!</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MODE_MISC_INFO</span>
<span class="p">{</span> 
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">USHORT</span> <span class="n">Reserved</span><span class="o">:</span><span class="mi">6</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">RGB888</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">DoubleClock</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">Interlace</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">CompositeSync</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">V_ReplicationBy2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">H_ReplicationBy2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">VerticalCutOff</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">VSyncPolarity</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>      <span class="c1">//0=Active High, 1=Active Low</span>
  <span class="n">USHORT</span> <span class="n">HSyncPolarity</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>      <span class="c1">//0=Active High, 1=Active Low</span>
  <span class="n">USHORT</span> <span class="n">HorizontalCutOff</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">USHORT</span> <span class="n">HorizontalCutOff</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">HSyncPolarity</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>      <span class="c1">//0=Active High, 1=Active Low</span>
  <span class="n">USHORT</span> <span class="n">VSyncPolarity</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>      <span class="c1">//0=Active High, 1=Active Low</span>
  <span class="n">USHORT</span> <span class="n">VerticalCutOff</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">H_ReplicationBy2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">V_ReplicationBy2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">CompositeSync</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">Interlace</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">DoubleClock</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">RGB888</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">Reserved</span><span class="o">:</span><span class="mi">6</span><span class="p">;</span>           
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_MODE_MISC_INFO</span><span class="p">;</span>
  
<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_MODE_MISC_INFO_ACCESS</span>
<span class="p">{</span> 
  <span class="n">ATOM_MODE_MISC_INFO</span> <span class="n">sbfAccess</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MODE_MISC_INFO_ACCESS</span><span class="p">;</span>
  
<span class="cp">#else</span>
  
<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_MODE_MISC_INFO_ACCESS</span>
<span class="p">{</span> 
  <span class="n">USHORT</span>              <span class="n">usAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MODE_MISC_INFO_ACCESS</span><span class="p">;</span>
   
<span class="cp">#endif</span></pre></div></td></tr>


<tr id="section-191"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-191">&#182;</a></div><p>usModeMiscInfo-</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_H_CUTOFF           0x01</span>
<span class="cp">#define ATOM_HSYNC_POLARITY     0x02             </span><span class="c1">//0=Active High, 1=Active Low</span>
<span class="cp">#define ATOM_VSYNC_POLARITY     0x04             </span><span class="c1">//0=Active High, 1=Active Low</span>
<span class="cp">#define ATOM_V_CUTOFF           0x08</span>
<span class="cp">#define ATOM_H_REPLICATIONBY2   0x10</span>
<span class="cp">#define ATOM_V_REPLICATIONBY2   0x20</span>
<span class="cp">#define ATOM_COMPOSITESYNC      0x40</span>
<span class="cp">#define ATOM_INTERLACE          0x80</span>
<span class="cp">#define ATOM_DOUBLE_CLOCK_MODE  0x100</span>
<span class="cp">#define ATOM_RGB888_MODE        0x200</span></pre></div></td></tr>


<tr id="section-192"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-192">&#182;</a></div><p>usRefreshRate-</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_REFRESH_43         43</span>
<span class="cp">#define ATOM_REFRESH_47         47</span>
<span class="cp">#define ATOM_REFRESH_56         56	</span>
<span class="cp">#define ATOM_REFRESH_60         60</span>
<span class="cp">#define ATOM_REFRESH_65         65</span>
<span class="cp">#define ATOM_REFRESH_70         70</span>
<span class="cp">#define ATOM_REFRESH_72         72</span>
<span class="cp">#define ATOM_REFRESH_75         75</span>
<span class="cp">#define ATOM_REFRESH_85         85</span></pre></div></td></tr>


<tr id="section-193"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-193">&#182;</a></div><p>ATOM<em>MODE</em>TIMING data are exactly the same as VESA timing data.
Translation from EDID to ATOM<em>MODE</em>TIMING, use the following formula.</p>

<p>VESA<em>HTOTAL            =   VESA</em>ACTIVE + 2* VESA<em>BORDER + VESA</em>BLANK
                    =   EDID<em>HA + EDID</em>HBL
VESA<em>HDISP            =   VESA</em>ACTIVE =   EDID<em>HA
VESA</em>HSYNC<em>START    =   VESA</em>ACTIVE + VESA<em>BORDER + VESA</em>FRONT<em>PORCH
                    =   EDID</em>HA + EDID<em>HSO
VESA</em>HSYNC<em>WIDTH    =   VESA</em>HSYNC<em>TIME =   EDID</em>HSPW
VESA<em>BORDER            =   EDID</em>BORDER</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-194"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-194">&#182;</a></div><p>Structure used in SetCRTC_UsingDTDTimingTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_CRTC_USING_DTD_TIMING_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usH_Size</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usH_Blanking_Time</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usV_Size</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usV_Blanking_Time</span><span class="p">;</span>			
  <span class="n">USHORT</span>  <span class="n">usH_SyncOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usH_SyncWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usV_SyncOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usV_SyncWidth</span><span class="p">;</span>
  <span class="n">ATOM_MODE_MISC_INFO_ACCESS</span>  <span class="n">susModeMiscInfo</span><span class="p">;</span>  
  <span class="n">UCHAR</span>   <span class="n">ucH_Border</span><span class="p">;</span>         <span class="c1">// From DFP EDID</span>
  <span class="n">UCHAR</span>   <span class="n">ucV_Border</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucCRTC</span><span class="p">;</span>             <span class="c1">// ATOM_CRTC1 or ATOM_CRTC2  </span>
  <span class="n">UCHAR</span>   <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">SET_CRTC_USING_DTD_TIMING_PARAMETERS</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-195"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-195">&#182;</a></div><p>Structure used in SetCRTC_TimingTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_CRTC_TIMING_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>                      <span class="n">usH_Total</span><span class="p">;</span>        <span class="c1">// horizontal total</span>
  <span class="n">USHORT</span>                      <span class="n">usH_Disp</span><span class="p">;</span>         <span class="c1">// horizontal display</span>
  <span class="n">USHORT</span>                      <span class="n">usH_SyncStart</span><span class="p">;</span>    <span class="c1">// horozontal Sync start</span>
  <span class="n">USHORT</span>                      <span class="n">usH_SyncWidth</span><span class="p">;</span>    <span class="c1">// horizontal Sync width</span>
  <span class="n">USHORT</span>                      <span class="n">usV_Total</span><span class="p">;</span>        <span class="c1">// vertical total</span>
  <span class="n">USHORT</span>                      <span class="n">usV_Disp</span><span class="p">;</span>         <span class="c1">// vertical display</span>
  <span class="n">USHORT</span>                      <span class="n">usV_SyncStart</span><span class="p">;</span>    <span class="c1">// vertical Sync start</span>
  <span class="n">USHORT</span>                      <span class="n">usV_SyncWidth</span><span class="p">;</span>    <span class="c1">// vertical Sync width</span>
  <span class="n">ATOM_MODE_MISC_INFO_ACCESS</span>  <span class="n">susModeMiscInfo</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCRTC</span><span class="p">;</span>           <span class="c1">// ATOM_CRTC1 or ATOM_CRTC2</span>
  <span class="n">UCHAR</span>                       <span class="n">ucOverscanRight</span><span class="p">;</span>  <span class="c1">// right</span>
  <span class="n">UCHAR</span>                       <span class="n">ucOverscanLeft</span><span class="p">;</span>   <span class="c1">// left</span>
  <span class="n">UCHAR</span>                       <span class="n">ucOverscanBottom</span><span class="p">;</span> <span class="c1">// bottom</span>
  <span class="n">UCHAR</span>                       <span class="n">ucOverscanTop</span><span class="p">;</span>    <span class="c1">// top</span>
  <span class="n">UCHAR</span>                       <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">SET_CRTC_TIMING_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define SET_CRTC_TIMING_PARAMETERS_PS_ALLOCATION SET_CRTC_TIMING_PARAMETERS</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-196"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-196">&#182;</a></div><p>Structure used in StandardVESA<em>TimingTable
                  AnalogTV</em>InfoTable 
                  ComponentVideoInfoTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MODE_TIMING</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_H_Total</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_H_Disp</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_H_SyncStart</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_H_SyncWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_V_Total</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_V_Disp</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_V_SyncStart</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_V_SyncWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usPixelClock</span><span class="p">;</span>					                 <span class="c1">//in 10Khz unit</span>
  <span class="n">ATOM_MODE_MISC_INFO_ACCESS</span>  <span class="n">susModeMiscInfo</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_OverscanRight</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_OverscanLeft</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_OverscanBottom</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usCRTC_OverscanTop</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usReserve</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucInternalModeNumber</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucRefreshRate</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MODE_TIMING</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DTD_FORMAT</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usPixClk</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usHActive</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usHBlanking_Time</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usVActive</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usVBlanking_Time</span><span class="p">;</span>			
  <span class="n">USHORT</span>  <span class="n">usHSyncOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usHSyncWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usVSyncOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usVSyncWidth</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usImageHSize</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usImageVSize</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucHBorder</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucVBorder</span><span class="p">;</span>
  <span class="n">ATOM_MODE_MISC_INFO_ACCESS</span> <span class="n">susModeMiscInfo</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucInternalModeNumber</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucRefreshRate</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_DTD_FORMAT</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-197"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-197">&#182;</a></div><p>Structure used in LVDS_InfoTable 
 * Need a document to describe this table</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="cp">#define SUPPORTED_LCD_REFRESHRATE_30Hz          0x0004</span>
<span class="cp">#define SUPPORTED_LCD_REFRESHRATE_40Hz          0x0008</span>
<span class="cp">#define SUPPORTED_LCD_REFRESHRATE_50Hz          0x0010</span>
<span class="cp">#define SUPPORTED_LCD_REFRESHRATE_60Hz          0x0020</span></pre></div></td></tr>


<tr id="section-198"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-198">&#182;</a></div><p>ucTableFormatRevision=1
ucTableContentRevision=1</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_LVDS_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_DTD_FORMAT</span>     <span class="n">sLCDTiming</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usModePatchTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usSupportedRefreshRate</span><span class="p">;</span>     <span class="c1">//Refer to panel info table in ATOMBIOS extension Spec.</span>
  <span class="n">USHORT</span>              <span class="n">usOffDelayInMs</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceDigOntoDEin10Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceDEtoBLOnin10Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucLVDS_Misc</span><span class="p">;</span>               <span class="c1">// Bit0:{=0:single, =1:dual},Bit1 {=0:666RGB, =1:888RGB},Bit2:3:{Grey level}</span></pre></div></td></tr>


<tr id="section-199"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-199">&#182;</a></div><p>Bit4:{=0:LDI format for RGB888, =1 FPDI format for RGB888}
Bit5:{=0:Spatial Dithering disabled;1 Spatial Dithering enabled}
Bit6:{=0:Temporal Dithering disabled;1 Temporal Dithering enabled}</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>               <span class="n">ucPanelDefaultRefreshRate</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPanelIdentification</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucSS_Id</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_LVDS_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-200"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-200">&#182;</a></div><p>ucTableFormatRevision=1
ucTableContentRevision=2</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_LVDS_INFO_V12</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_DTD_FORMAT</span>     <span class="n">sLCDTiming</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usExtInfoTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usSupportedRefreshRate</span><span class="p">;</span>     <span class="c1">//Refer to panel info table in ATOMBIOS extension Spec.</span>
  <span class="n">USHORT</span>              <span class="n">usOffDelayInMs</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceDigOntoDEin10Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceDEtoBLOnin10Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucLVDS_Misc</span><span class="p">;</span>               <span class="c1">// Bit0:{=0:single, =1:dual},Bit1 {=0:666RGB, =1:888RGB},Bit2:3:{Grey level}</span></pre></div></td></tr>


<tr id="section-201"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-201">&#182;</a></div><p>Bit4:{=0:LDI format for RGB888, =1 FPDI format for RGB888}
Bit5:{=0:Spatial Dithering disabled;1 Spatial Dithering enabled}
Bit6:{=0:Temporal Dithering disabled;1 Temporal Dithering enabled}</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>               <span class="n">ucPanelDefaultRefreshRate</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPanelIdentification</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucSS_Id</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usLCDVenderID</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usLCDProductID</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucLCDPanel_SpecialHandlingCap</span><span class="p">;</span> 
	<span class="n">UCHAR</span>								<span class="n">ucPanelInfoSize</span><span class="p">;</span>					<span class="c1">//  start from ATOM_DTD_FORMAT to end of panel info, include ExtInfoTable</span>
  <span class="n">UCHAR</span>               <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_LVDS_INFO_V12</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-202"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-202">&#182;</a></div><p>Definitions for ucLCDPanel_SpecialHandlingCap:</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-203"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-203">&#182;</a></div><p>Once DAL sees this CAP is set, it will read EDID from LCD on its own instead of using sLCDTiming in ATOM<em>LVDS</em>INFO<em>V12. 
Other entries in ATOM</em>LVDS<em>INFO</em>V12 are still valid/useful to DAL </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	LCDPANEL_CAP_READ_EDID                  0x1</span></pre></div></td></tr>


<tr id="section-204"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-204">&#182;</a></div><p>If a design supports DRR (dynamic refresh rate) on internal panels (LVDS or EDP), this cap is set in ucLCDPanel<em>SpecialHandlingCap together
with multiple supported refresh rates@usSupportedRefreshRate. This cap should not be set when only slow refresh rate is supported (static
refresh rate switch by SW. This is only valid from ATOM</em>LVDS<em>INFO</em>V12</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	LCDPANEL_CAP_DRR_SUPPORTED              0x2</span></pre></div></td></tr>


<tr id="section-205"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-205">&#182;</a></div><p>Use this cap bit for a quick reference whether an embadded panel (LCD1 ) is LVDS or eDP.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	LCDPANEL_CAP_eDP                        0x4</span></pre></div></td></tr>


<tr id="section-206"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-206">&#182;</a></div><p>Color Bit Depth definition in EDID V1.4 @BYTE 14h
Bit 6  5  4
     0  0  0  -  Color bit depth is undefined
     0  0  1  -  6 Bits per Primary Color
     0  1  0  -  8 Bits per Primary Color
     0  1  1  - 10 Bits per Primary Color
     1  0  0  - 12 Bits per Primary Color
     1  0  1  - 14 Bits per Primary Color
     1  1  0  - 16 Bits per Primary Color
     1  1  1  - Reserved</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PANEL_COLOR_BIT_DEPTH_MASK    0x70</span></pre></div></td></tr>


<tr id="section-207"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-207">&#182;</a></div><p>Bit7:{=0:Random Dithering disabled;1 Random Dithering enabled}   </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PANEL_RANDOM_DITHER   0x80</span>
<span class="cp">#define PANEL_RANDOM_DITHER_MASK   0x80</span>

<span class="cp">#define ATOM_LVDS_INFO_LAST  ATOM_LVDS_INFO_V12   </span><span class="c1">// no need to change this </span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-208"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-208">&#182;</a></div><p>Structures used by LCD<em>InfoTable V1.3    Note: previous version was called ATOM</em>LVDS<em>INFO</em>V12
ASIC Families:  NI
ucTableFormatRevision=1
ucTableContentRevision=3</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_LCD_INFO_V13</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_DTD_FORMAT</span>     <span class="n">sLCDTiming</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usExtInfoTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usSupportedRefreshRate</span><span class="p">;</span>     <span class="c1">//Refer to panel info table in ATOMBIOS extension Spec.</span>
  <span class="n">ULONG</span>               <span class="n">ulReserved0</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucLCD_Misc</span><span class="p">;</span>                <span class="c1">// Reorganized in V13</span></pre></div></td></tr>


<tr id="section-209"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-209">&#182;</a></div><p>Bit0: {=0:single, =1:dual},
Bit1: {=0:LDI format for RGB888, =1 FPDI format for RGB888}  // was {=0:666RGB, =1:888RGB},
Bit3:2: {Grey level}
Bit6:4 Color Bit Depth definition (see below definition in EDID V1.4 @BYTE 14h) 
Bit7   Reserved.  was for ATOM<em>PANEL</em>MISC<em>API</em>ENABLED, still need it?  </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>               <span class="n">ucPanelDefaultRefreshRate</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPanelIdentification</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucSS_Id</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usLCDVenderID</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usLCDProductID</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucLCDPanel_SpecialHandlingCap</span><span class="p">;</span>  <span class="c1">// Reorganized in V13 </span></pre></div></td></tr>


<tr id="section-210"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-210">&#182;</a></div><p>Bit0: Once DAL sees this CAP is set, it will read EDID from LCD on its own
Bit1: See LCDPANEL<em>CAP</em>DRR_SUPPORTED
Bit2: a quick reference whether an embadded panel (LCD1 ) is LVDS (0) or eDP (1)
Bit7-3: Reserved </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>               <span class="n">ucPanelInfoSize</span><span class="p">;</span>					 <span class="c1">//  start from ATOM_DTD_FORMAT to end of panel info, include ExtInfoTable</span>
  <span class="n">USHORT</span>              <span class="n">usBacklightPWM</span><span class="p">;</span>            <span class="c1">//  Backlight PWM in Hz. New in _V13</span>

  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceDIGONtoDE_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceDEtoVARY_BL_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceVARY_BLtoDE_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceDEtoDIGON_in4Ms</span><span class="p">;</span>

  <span class="n">UCHAR</span>               <span class="n">ucOffDelay_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceVARY_BLtoBLON_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPowerSequenceBLONtoVARY_BL_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucReserved1</span><span class="p">;</span>

  <span class="n">UCHAR</span>               <span class="n">ucDPCD_eDP_CONFIGURATION_CAP</span><span class="p">;</span>     <span class="c1">// dpcd 0dh</span>
  <span class="n">UCHAR</span>               <span class="n">ucDPCD_MAX_LINK_RATE</span><span class="p">;</span>             <span class="c1">// dpcd 01h</span>
  <span class="n">UCHAR</span>               <span class="n">ucDPCD_MAX_LANE_COUNT</span><span class="p">;</span>            <span class="c1">// dpcd 02h</span>
  <span class="n">UCHAR</span>               <span class="n">ucDPCD_MAX_DOWNSPREAD</span><span class="p">;</span>            <span class="c1">// dpcd 03h</span>

  <span class="n">USHORT</span>              <span class="n">usMaxPclkFreqInSingleLink</span><span class="p">;</span>        <span class="c1">// Max PixelClock frequency in single link mode. </span>
  <span class="n">UCHAR</span>               <span class="n">uceDPToLVDSRxId</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucLcdReservd</span><span class="p">;</span>
  <span class="n">ULONG</span>               <span class="n">ulReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_LCD_INFO_V13</span><span class="p">;</span>  

<span class="cp">#define ATOM_LCD_INFO_LAST  ATOM_LCD_INFO_V13    </span></pre></div></td></tr>


<tr id="section-211"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-211">&#182;</a></div><p>Definitions for ucLCD_Misc</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PANEL_MISC_V13_DUAL                   0x00000001</span>
<span class="cp">#define ATOM_PANEL_MISC_V13_FPDI                   0x00000002</span>
<span class="cp">#define ATOM_PANEL_MISC_V13_GREY_LEVEL             0x0000000C</span>
<span class="cp">#define ATOM_PANEL_MISC_V13_GREY_LEVEL_SHIFT       2</span>
<span class="cp">#define ATOM_PANEL_MISC_V13_COLOR_BIT_DEPTH_MASK   0x70</span>
<span class="cp">#define ATOM_PANEL_MISC_V13_6BIT_PER_COLOR         0x10</span>
<span class="cp">#define ATOM_PANEL_MISC_V13_8BIT_PER_COLOR         0x20</span></pre></div></td></tr>


<tr id="section-212"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-212">&#182;</a></div><p>Color Bit Depth definition in EDID V1.4 @BYTE 14h
Bit 6  5  4
     0  0  0  -  Color bit depth is undefined
     0  0  1  -  6 Bits per Primary Color
     0  1  0  -  8 Bits per Primary Color
     0  1  1  - 10 Bits per Primary Color
     1  0  0  - 12 Bits per Primary Color
     1  0  1  - 14 Bits per Primary Color
     1  1  0  - 16 Bits per Primary Color
     1  1  1  - Reserved</p></td><td class="code"><div class="highlight"><pre> </pre></div></td></tr>


<tr id="section-213"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-213">&#182;</a></div><p>Definitions for ucLCDPanel_SpecialHandlingCap:</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-214"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-214">&#182;</a></div><p>Once DAL sees this CAP is set, it will read EDID from LCD on its own instead of using sLCDTiming in ATOM<em>LVDS</em>INFO<em>V12. 
Other entries in ATOM</em>LVDS<em>INFO</em>V12 are still valid/useful to DAL </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	LCDPANEL_CAP_V13_READ_EDID              0x1        </span><span class="c1">// = LCDPANEL_CAP_READ_EDID no change comparing to previous version</span></pre></div></td></tr>


<tr id="section-215"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-215">&#182;</a></div><p>If a design supports DRR (dynamic refresh rate) on internal panels (LVDS or EDP), this cap is set in ucLCDPanel<em>SpecialHandlingCap together
with multiple supported refresh rates@usSupportedRefreshRate. This cap should not be set when only slow refresh rate is supported (static
refresh rate switch by SW. This is only valid from ATOM</em>LVDS<em>INFO</em>V12</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	LCDPANEL_CAP_V13_DRR_SUPPORTED          0x2        </span><span class="c1">// = LCDPANEL_CAP_DRR_SUPPORTED no change comparing to previous version</span></pre></div></td></tr>


<tr id="section-216"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-216">&#182;</a></div><p>Use this cap bit for a quick reference whether an embadded panel (LCD1 ) is LVDS or eDP.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	LCDPANEL_CAP_V13_eDP                    0x4        </span><span class="c1">// = LCDPANEL_CAP_eDP no change comparing to previous version</span></pre></div></td></tr>


<tr id="section-217"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-217">&#182;</a></div><p>uceDPToLVDSRxId</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define eDP_TO_LVDS_RX_DISABLE                  0x00       </span><span class="c1">// no eDP-&gt;LVDS translator chip </span>
<span class="cp">#define eDP_TO_LVDS_COMMON_ID                   0x01       </span><span class="c1">// common eDP-&gt;LVDS translator chip without AMD SW init</span>
<span class="cp">#define eDP_TO_LVDS_RT_ID                       0x02       </span><span class="c1">// RT tanslator which require AMD SW init</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_PATCH_RECORD_MODE</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>     <span class="n">ucRecordType</span><span class="p">;</span>
  <span class="n">USHORT</span>    <span class="n">usHDisp</span><span class="p">;</span>
  <span class="n">USHORT</span>    <span class="n">usVDisp</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PATCH_RECORD_MODE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_LCD_RTS_RECORD</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>     <span class="n">ucRecordType</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucRTSValue</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_LCD_RTS_RECORD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-218"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-218">&#182;</a></div><p>!! If the record below exits, it shoud always be the first record for easy use in command table!!! 
The record below is only used when LVDS<em>Info is present. From ATOM</em>LVDS<em>INFO</em>V12, use ucLCDPanel_SpecialHandlingCap instead.</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_LCD_MODE_CONTROL_CAP</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>     <span class="n">ucRecordType</span><span class="p">;</span>
  <span class="n">USHORT</span>    <span class="n">usLCDCap</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_LCD_MODE_CONTROL_CAP</span><span class="p">;</span>

<span class="cp">#define LCD_MODE_CAP_BL_OFF                   1</span>
<span class="cp">#define LCD_MODE_CAP_CRTC_OFF                 2</span>
<span class="cp">#define LCD_MODE_CAP_PANEL_OFF                4</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FAKE_EDID_PATCH_RECORD</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucRecordType</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucFakeEDIDLength</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucFakeEDIDString</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>    <span class="c1">// This actually has ucFakeEdidLength elements.</span>
<span class="p">}</span> <span class="n">ATOM_FAKE_EDID_PATCH_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_PANEL_RESOLUTION_PATCH_RECORD</span>
<span class="p">{</span>
   <span class="n">UCHAR</span>    <span class="n">ucRecordType</span><span class="p">;</span>
   <span class="n">USHORT</span>		<span class="n">usHSize</span><span class="p">;</span>
   <span class="n">USHORT</span>		<span class="n">usVSize</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PANEL_RESOLUTION_PATCH_RECORD</span><span class="p">;</span>

<span class="cp">#define LCD_MODE_PATCH_RECORD_MODE_TYPE       1</span>
<span class="cp">#define LCD_RTS_RECORD_TYPE                   2</span>
<span class="cp">#define LCD_CAP_RECORD_TYPE                   3</span>
<span class="cp">#define LCD_FAKE_EDID_PATCH_RECORD_TYPE       4</span>
<span class="cp">#define LCD_PANEL_RESOLUTION_RECORD_TYPE      5</span>
<span class="cp">#define LCD_EDID_OFFSET_PATCH_RECORD_TYPE     6</span>
<span class="cp">#define ATOM_RECORD_END_TYPE                  0xFF</span>

<span class="cm">/****************************Spread Spectrum Info Table Definitions **********************/</span></pre></div></td></tr>


<tr id="section-219"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-219">&#182;</a></div><p>ucTableFormatRevision=1
ucTableContentRevision=2</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_SPREAD_SPECTRUM_ASSIGNMENT</span>
<span class="p">{</span>
  <span class="n">USHORT</span>              <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span> 
  <span class="n">UCHAR</span>               <span class="n">ucSpreadSpectrumType</span><span class="p">;</span>	    <span class="c1">//Bit1=0 Down Spread,=1 Center Spread. Bit1=1 Ext. =0 Int. Bit2=1: PCIE REFCLK SS =0 iternal PPLL SS  Others:TBD</span>
  <span class="n">UCHAR</span>               <span class="n">ucSS_Step</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucSS_Delay</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucSS_Id</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucRecommendedRef_Div</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucSS_Range</span><span class="p">;</span>               <span class="c1">//it was reserved for V11</span>
<span class="p">}</span><span class="n">ATOM_SPREAD_SPECTRUM_ASSIGNMENT</span><span class="p">;</span>

<span class="cp">#define ATOM_MAX_SS_ENTRY                      16</span>
<span class="cp">#define ATOM_DP_SS_ID1												 0x0f1			</span><span class="c1">// SS ID for internal DP stream at 2.7Ghz. if ATOM_DP_SS_ID2 does not exist in SS_InfoTable, it is used for internal DP stream at 1.62Ghz as well. </span>
<span class="cp">#define ATOM_DP_SS_ID2												 0x0f2			</span><span class="c1">// SS ID for internal DP stream at 1.62Ghz, if it exists in SS_InfoTable. </span>
<span class="cp">#define ATOM_LVLINK_2700MHz_SS_ID              0x0f3      </span><span class="c1">// SS ID for LV link translator chip at 2.7Ghz</span>
<span class="cp">#define ATOM_LVLINK_1620MHz_SS_ID              0x0f4      </span><span class="c1">// SS ID for LV link translator chip at 1.62Ghz</span>


<span class="cp">#define ATOM_SS_DOWN_SPREAD_MODE_MASK          0x00000000</span>
<span class="cp">#define ATOM_SS_DOWN_SPREAD_MODE               0x00000000</span>
<span class="cp">#define ATOM_SS_CENTRE_SPREAD_MODE_MASK        0x00000001</span>
<span class="cp">#define ATOM_SS_CENTRE_SPREAD_MODE             0x00000001</span>
<span class="cp">#define ATOM_INTERNAL_SS_MASK                  0x00000000</span>
<span class="cp">#define ATOM_EXTERNAL_SS_MASK                  0x00000002</span>
<span class="cp">#define EXEC_SS_STEP_SIZE_SHIFT                2</span>
<span class="cp">#define EXEC_SS_DELAY_SHIFT                    4    </span>
<span class="cp">#define ACTIVEDATA_TO_BLON_DELAY_SHIFT         4</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_SPREAD_SPECTRUM_INFO</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ATOM_SPREAD_SPECTRUM_ASSIGNMENT</span>   <span class="n">asSS_Info</span><span class="p">[</span><span class="n">ATOM_MAX_SS_ENTRY</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_SPREAD_SPECTRUM_INFO</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-220"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-220">&#182;</a></div><p>Structure used in AnalogTV_InfoTable (Top level)</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-221"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-221">&#182;</a></div><p>ucTVBootUpDefaultStd definition:</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-222"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-222">&#182;</a></div><p>ATOM<em>TV</em>NTSC                1
ATOM<em>TV</em>NTSCJ               2
ATOM<em>TV</em>PAL                 3
ATOM<em>TV</em>PALM                4
ATOM<em>TV</em>PALCN               5
ATOM<em>TV</em>PALN                6
ATOM<em>TV</em>PAL60               7
ATOM<em>TV</em>SECAM               8</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-223"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-223">&#182;</a></div><p>ucTVSupportedStd definition:</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define NTSC_SUPPORT          0x1</span>
<span class="cp">#define NTSCJ_SUPPORT         0x2</span>

<span class="cp">#define PAL_SUPPORT           0x4</span>
<span class="cp">#define PALM_SUPPORT          0x8</span>
<span class="cp">#define PALCN_SUPPORT         0x10</span>
<span class="cp">#define PALN_SUPPORT          0x20</span>
<span class="cp">#define PAL60_SUPPORT         0x40</span>
<span class="cp">#define SECAM_SUPPORT         0x80</span>

<span class="cp">#define MAX_SUPPORTED_TV_TIMING    2</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ANALOG_TV_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">UCHAR</span>                    <span class="n">ucTV_SupportedStandard</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucTV_BootUpDefaultStandard</span><span class="p">;</span> 
  <span class="n">UCHAR</span>                    <span class="n">ucExt_TV_ASIC_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucExt_TV_ASIC_SlaveAddr</span><span class="p">;</span>
  <span class="cm">/*ATOM_DTD_FORMAT          aModeTimings[MAX_SUPPORTED_TV_TIMING];*/</span>
  <span class="n">ATOM_MODE_TIMING</span>         <span class="n">aModeTimings</span><span class="p">[</span><span class="n">MAX_SUPPORTED_TV_TIMING</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ANALOG_TV_INFO</span><span class="p">;</span>

<span class="cp">#define MAX_SUPPORTED_TV_TIMING_V1_2    3</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ANALOG_TV_INFO_V1_2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">UCHAR</span>                    <span class="n">ucTV_SupportedStandard</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucTV_BootUpDefaultStandard</span><span class="p">;</span> 
  <span class="n">UCHAR</span>                    <span class="n">ucExt_TV_ASIC_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucExt_TV_ASIC_SlaveAddr</span><span class="p">;</span>
  <span class="n">ATOM_DTD_FORMAT</span>          <span class="n">aModeTimings</span><span class="p">[</span><span class="n">MAX_SUPPORTED_TV_TIMING_V1_2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ANALOG_TV_INFO_V1_2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DPCD_INFO</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>   <span class="n">ucRevisionNumber</span><span class="p">;</span>        <span class="c1">//10h : Revision 1.0; 11h : Revision 1.1   </span>
  <span class="n">UCHAR</span>   <span class="n">ucMaxLinkRate</span><span class="p">;</span>           <span class="c1">//06h : 1.62Gbps per lane; 0Ah = 2.7Gbps per lane</span>
  <span class="n">UCHAR</span>   <span class="n">ucMaxLane</span><span class="p">;</span>               <span class="c1">//Bits 4:0 = MAX_LANE_COUNT (1/2/4). Bit 7 = ENHANCED_FRAME_CAP </span>
  <span class="n">UCHAR</span>   <span class="n">ucMaxDownSpread</span><span class="p">;</span>         <span class="c1">//Bit0 = 0: No Down spread; Bit0 = 1: 0.5% (Subject to change according to DP spec)</span>
<span class="p">}</span><span class="n">ATOM_DPCD_INFO</span><span class="p">;</span>

<span class="cp">#define ATOM_DPCD_MAX_LANE_MASK    0x1F</span>

<span class="cm">/**************************************************************************/</span></pre></div></td></tr>


<tr id="section-224"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-224">&#182;</a></div><p>VRAM usage and their defintions</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-225"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-225">&#182;</a></div><p>One chunk of VRAM used by Bios are for HWICON surfaces,EDID data.
Current Mode timing and Dail Timing and/or STD timing data EACH device. They can be broken down as below.
All the addresses below are the offsets from the frame buffer start.They all MUST be Dword aligned!
To driver: The physical address of this memory portion=mmFB<em>START(4K aligned)+ATOMBIOS</em>VRAM<em>USAGE</em>START<em>ADDR+ATOM</em>x<em>ADDR
To Bios:  ATOMBIOS</em>VRAM<em>USAGE</em>START<em>ADDR+ATOM</em>x<em>ADDR->MM</em>INDEX </p></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef VESA_MEMORY_IN_64K_BLOCK</span>
<span class="cp">#define VESA_MEMORY_IN_64K_BLOCK        0x100       </span><span class="c1">//256*64K=16Mb (Max. VESA memory is 16Mb!)</span>
<span class="cp">#endif</span>

<span class="cp">#define ATOM_EDID_RAW_DATASIZE          256         </span><span class="c1">//In Bytes</span>
<span class="cp">#define ATOM_HWICON_SURFACE_SIZE        4096        </span><span class="c1">//In Bytes</span>
<span class="cp">#define ATOM_HWICON_INFOTABLE_SIZE      32</span>
<span class="cp">#define MAX_DTD_MODE_IN_VRAM            6</span>
<span class="cp">#define ATOM_DTD_MODE_SUPPORT_TBL_SIZE  (MAX_DTD_MODE_IN_VRAM*28)    </span><span class="c1">//28= (SIZEOF ATOM_DTD_FORMAT) </span>
<span class="cp">#define ATOM_STD_MODE_SUPPORT_TBL_SIZE  32*8                         </span><span class="c1">//32 is a predefined number,8= (SIZEOF ATOM_STD_FORMAT)</span></pre></div></td></tr>


<tr id="section-226"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-226">&#182;</a></div><p>20 bytes for Encoder Type and DPCD in STD EDID area</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DFP_ENCODER_TYPE_OFFSET         (ATOM_EDID_RAW_DATASIZE + ATOM_DTD_MODE_SUPPORT_TBL_SIZE + ATOM_STD_MODE_SUPPORT_TBL_SIZE - 20)    </span>
<span class="cp">#define ATOM_DP_DPCD_OFFSET             (DFP_ENCODER_TYPE_OFFSET + 4 )        </span>

<span class="cp">#define ATOM_HWICON1_SURFACE_ADDR       0</span>
<span class="cp">#define ATOM_HWICON2_SURFACE_ADDR       (ATOM_HWICON1_SURFACE_ADDR + ATOM_HWICON_SURFACE_SIZE)</span>
<span class="cp">#define ATOM_HWICON_INFOTABLE_ADDR      (ATOM_HWICON2_SURFACE_ADDR + ATOM_HWICON_SURFACE_SIZE)</span>
<span class="cp">#define ATOM_CRT1_EDID_ADDR             (ATOM_HWICON_INFOTABLE_ADDR + ATOM_HWICON_INFOTABLE_SIZE)</span>
<span class="cp">#define ATOM_CRT1_DTD_MODE_TBL_ADDR     (ATOM_CRT1_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_CRT1_STD_MODE_TBL_ADDR	    (ATOM_CRT1_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_LCD1_EDID_ADDR             (ATOM_CRT1_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_LCD1_DTD_MODE_TBL_ADDR     (ATOM_LCD1_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_LCD1_STD_MODE_TBL_ADDR   	(ATOM_LCD1_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_TV1_DTD_MODE_TBL_ADDR      (ATOM_LCD1_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_DFP1_EDID_ADDR             (ATOM_TV1_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_DFP1_DTD_MODE_TBL_ADDR     (ATOM_DFP1_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_DFP1_STD_MODE_TBL_ADDR	    (ATOM_DFP1_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_CRT2_EDID_ADDR             (ATOM_DFP1_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_CRT2_DTD_MODE_TBL_ADDR     (ATOM_CRT2_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_CRT2_STD_MODE_TBL_ADDR	    (ATOM_CRT2_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_LCD2_EDID_ADDR             (ATOM_CRT2_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_LCD2_DTD_MODE_TBL_ADDR     (ATOM_LCD2_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_LCD2_STD_MODE_TBL_ADDR   	(ATOM_LCD2_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_DFP6_EDID_ADDR             (ATOM_LCD2_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_DFP6_DTD_MODE_TBL_ADDR     (ATOM_DFP6_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_DFP6_STD_MODE_TBL_ADDR     (ATOM_DFP6_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_DFP2_EDID_ADDR             (ATOM_DFP6_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_DFP2_DTD_MODE_TBL_ADDR     (ATOM_DFP2_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_DFP2_STD_MODE_TBL_ADDR     (ATOM_DFP2_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_CV_EDID_ADDR               (ATOM_DFP2_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_CV_DTD_MODE_TBL_ADDR       (ATOM_CV_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_CV_STD_MODE_TBL_ADDR       (ATOM_CV_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_DFP3_EDID_ADDR             (ATOM_CV_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_DFP3_DTD_MODE_TBL_ADDR     (ATOM_DFP3_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_DFP3_STD_MODE_TBL_ADDR     (ATOM_DFP3_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_DFP4_EDID_ADDR             (ATOM_DFP3_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_DFP4_DTD_MODE_TBL_ADDR     (ATOM_DFP4_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_DFP4_STD_MODE_TBL_ADDR     (ATOM_DFP4_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_DFP5_EDID_ADDR             (ATOM_DFP4_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>
<span class="cp">#define ATOM_DFP5_DTD_MODE_TBL_ADDR     (ATOM_DFP5_EDID_ADDR + ATOM_EDID_RAW_DATASIZE)</span>
<span class="cp">#define ATOM_DFP5_STD_MODE_TBL_ADDR     (ATOM_DFP5_DTD_MODE_TBL_ADDR + ATOM_DTD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_DP_TRAINING_TBL_ADDR       (ATOM_DFP5_STD_MODE_TBL_ADDR + ATOM_STD_MODE_SUPPORT_TBL_SIZE)</span>

<span class="cp">#define ATOM_STACK_STORAGE_START        (ATOM_DP_TRAINING_TBL_ADDR + 1024)       </span>
<span class="cp">#define ATOM_STACK_STORAGE_END          ATOM_STACK_STORAGE_START + 512        </span></pre></div></td></tr>


<tr id="section-227"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-227">&#182;</a></div><p>The size below is in Kb!</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_VRAM_RESERVE_SIZE         ((((ATOM_STACK_STORAGE_END - ATOM_HWICON1_SURFACE_ADDR)&gt;&gt;10)+4)&amp;0xFFFC)</span>
   
<span class="cp">#define ATOM_VRAM_RESERVE_V2_SIZE      32</span>

<span class="cp">#define	ATOM_VRAM_OPERATION_FLAGS_MASK         0xC0000000L</span>
<span class="cp">#define ATOM_VRAM_OPERATION_FLAGS_SHIFT        30</span>
<span class="cp">#define	ATOM_VRAM_BLOCK_NEEDS_NO_RESERVATION   0x1</span>
<span class="cp">#define	ATOM_VRAM_BLOCK_NEEDS_RESERVATION      0x0</span>

<span class="cm">/***********************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-228"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-228">&#182;</a></div><p>Structure used in VRAM_UsageByFirmwareTable
Note1: This table is filled by SetBiosReservationStartInFB in CoreCommSubs.asm
       at running time. <br />
note2: From RV770, the memory is more than 32bit addressable, so we will change 
       ucTableFormatRevision=1,ucTableContentRevision=4, the strcuture remains 
       exactly same as 1.1 and 1.2 (1.3 is never in use), but ulStartAddrUsedByFirmware 
       (in offset to start of memory address) is KB aligned instead of byte aligend.</p></td><td class="code"><div class="highlight"><pre><span class="cm">/***********************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-229"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-229">&#182;</a></div><p>Note3:</p></td><td class="code"><div class="highlight"><pre><span class="cm">/* If we change usReserved to &quot;usFBUsedbyDrvInKB&quot;, then to VBIOS this usFBUsedbyDrvInKB is a predefined, unchanged constant across VGA or non VGA adapter,</span>
<span class="cm">for CAIL, The size of FB access area is known, only thing missing is the Offset of FB Access area, so we can  have:</span>

<span class="cm">If (ulStartAddrUsedByFirmware!=0)</span>
<span class="cm">FBAccessAreaOffset= ulStartAddrUsedByFirmware - usFBUsedbyDrvInKB;</span>
<span class="cm">Reserved area has been claimed by VBIOS including this FB access area; CAIL doesn&#39;t need to reserve any extra area for this purpose</span>
<span class="cm">else	//Non VGA case</span>
<span class="cm"> if (FB_Size&lt;=2Gb)</span>
<span class="cm">    FBAccessAreaOffset= FB_Size - usFBUsedbyDrvInKB;</span>
<span class="cm"> else</span>
<span class="cm">	  FBAccessAreaOffset= Aper_Size - usFBUsedbyDrvInKB</span>

<span class="cm">CAIL needs to claim an reserved area defined by FBAccessAreaOffset and usFBUsedbyDrvInKB in non VGA case.*/</span>

<span class="cm">/***********************************************************************************/</span>	
<span class="cp">#define ATOM_MAX_FIRMWARE_VRAM_USAGE_INFO			1</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_VRAM_RESERVE_INFO</span>
<span class="p">{</span>
  <span class="n">ULONG</span>   <span class="n">ulStartAddrUsedByFirmware</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usFirmwareUseInKb</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_VRAM_RESERVE_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_USAGE_BY_FIRMWARE</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_FIRMWARE_VRAM_RESERVE_INFO</span>	<span class="n">asFirmwareVramReserveInfo</span><span class="p">[</span><span class="n">ATOM_MAX_FIRMWARE_VRAM_USAGE_INFO</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_VRAM_USAGE_BY_FIRMWARE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-230"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-230">&#182;</a></div><p>change verion to 1.5, when allow driver to allocate the vram area for command table access. </p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FIRMWARE_VRAM_RESERVE_INFO_V1_5</span>
<span class="p">{</span>
  <span class="n">ULONG</span>   <span class="n">ulStartAddrUsedByFirmware</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usFirmwareUseInKb</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usFBUsedByDrvInKb</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_FIRMWARE_VRAM_RESERVE_INFO_V1_5</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_USAGE_BY_FIRMWARE_V1_5</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_FIRMWARE_VRAM_RESERVE_INFO_V1_5</span>	<span class="n">asFirmwareVramReserveInfo</span><span class="p">[</span><span class="n">ATOM_MAX_FIRMWARE_VRAM_USAGE_INFO</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_VRAM_USAGE_BY_FIRMWARE_V1_5</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-231"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-231">&#182;</a></div><p>Structure used in GPIO<em>Pin</em>LUTTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_GPIO_PIN_ASSIGNMENT</span>
<span class="p">{</span>
  <span class="n">USHORT</span>                   <span class="n">usGpioPin_AIndex</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucGpioPinBitShift</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucGPIO_ID</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_GPIO_PIN_ASSIGNMENT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_GPIO_PIN_LUT</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>  <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ATOM_GPIO_PIN_ASSIGNMENT</span>	<span class="n">asGPIO_Pin</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_GPIO_PIN_LUT</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-232"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-232">&#182;</a></div><p>Structure used in ComponentVideoInfoTable    </p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="cp">#define GPIO_PIN_ACTIVE_HIGH          0x1</span>

<span class="cp">#define MAX_SUPPORTED_CV_STANDARDS    5</span></pre></div></td></tr>


<tr id="section-233"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-233">&#182;</a></div><p>definitions for ATOM<em>D</em>INFO.ucSettings</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_GPIO_SETTINGS_BITSHIFT_MASK  0x1F    </span><span class="c1">// [4:0]</span>
<span class="cp">#define ATOM_GPIO_SETTINGS_RESERVED_MASK  0x60    </span><span class="c1">// [6:5] = must be zeroed out</span>
<span class="cp">#define ATOM_GPIO_SETTINGS_ACTIVE_MASK    0x80    </span><span class="c1">// [7]</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_GPIO_INFO</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usAOffset</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucSettings</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_GPIO_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-234"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-234">&#182;</a></div><p>definitions for ATOM<em>COMPONENT</em>VIDEO_INFO.ucMiscInfo (bit vector)</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_CV_RESTRICT_FORMAT_SELECTION           0x2</span></pre></div></td></tr>


<tr id="section-235"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-235">&#182;</a></div><p>definitions for ATOM<em>COMPONENT</em>VIDEO_INFO.uc480i/uc480p/uc720p/uc1080i</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_GPIO_DEFAULT_MODE_EN                   0x80 </span><span class="c1">//[7];</span>
<span class="cp">#define ATOM_GPIO_SETTING_PERMODE_MASK              0x7F </span><span class="c1">//[6:0]</span></pre></div></td></tr>


<tr id="section-236"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-236">&#182;</a></div><p>definitions for ATOM<em>COMPONENT</em>VIDEO_INFO.ucLetterBoxMode
Line 3 out put 5V.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_16_9_GPIO_A       0x01     </span><span class="c1">//represent gpio 3 state for 16:9</span>
<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_16_9_GPIO_B       0x02     </span><span class="c1">//represent gpio 4 state for 16:9</span>
<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_16_9_GPIO_SHIFT   0x0   </span></pre></div></td></tr>


<tr id="section-237"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-237">&#182;</a></div><p>Line 3 out put 2.2V              </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_4_3_LETBOX_GPIO_A 0x04     </span><span class="c1">//represent gpio 3 state for 4:3 Letter box</span>
<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_4_3_LETBOX_GPIO_B 0x08     </span><span class="c1">//represent gpio 4 state for 4:3 Letter box</span>
<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_4_3_LETBOX_GPIO_SHIFT 0x2     </span></pre></div></td></tr>


<tr id="section-238"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-238">&#182;</a></div><p>Line 3 out put 0V</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_4_3_GPIO_A        0x10     </span><span class="c1">//represent gpio 3 state for 4:3</span>
<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_4_3_GPIO_B        0x20     </span><span class="c1">//represent gpio 4 state for 4:3</span>
<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_4_3_GPIO_SHIFT    0x4 </span>

<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_MASK              0x3F     </span><span class="c1">// bit [5:0]</span>

<span class="cp">#define ATOM_CV_LINE3_ASPECTRATIO_EXIST             0x80     </span><span class="c1">//bit 7</span></pre></div></td></tr>


<tr id="section-239"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-239">&#182;</a></div><p>GPIO bit index in gpio setting per mode value, also represend the block no. in gpio blocks.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_GPIO_INDEX_LINE3_ASPECRATIO_GPIO_A   3   </span><span class="c1">//bit 3 in uc480i/uc480p/uc720p/uc1080i, which represend the default gpio bit setting for the mode.</span>
<span class="cp">#define ATOM_GPIO_INDEX_LINE3_ASPECRATIO_GPIO_B   4   </span><span class="c1">//bit 4 in uc480i/uc480p/uc720p/uc1080i, which represend the default gpio bit setting for the mode.</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_COMPONENT_VIDEO_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>             <span class="n">usMask_PinRegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>             <span class="n">usEN_PinRegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>             <span class="n">usY_PinRegisterIndex</span><span class="p">;</span>
  <span class="n">USHORT</span>             <span class="n">usA_PinRegisterIndex</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucBitShift</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucPinActiveState</span><span class="p">;</span>  <span class="c1">//ucPinActiveState: Bit0=1 active high, =0 active low</span>
  <span class="n">ATOM_DTD_FORMAT</span>    <span class="n">sReserved</span><span class="p">;</span>         <span class="c1">// must be zeroed out</span>
  <span class="n">UCHAR</span>              <span class="n">ucMiscInfo</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc480i</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc480p</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc720p</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc1080i</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucLetterBoxMode</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">UCHAR</span>              <span class="n">ucNumOfWbGpioBlocks</span><span class="p">;</span> <span class="c1">//For Component video D-Connector support. If zere, NTSC type connector</span>
  <span class="n">ATOM_GPIO_INFO</span>     <span class="n">aWbGpioStateBlock</span><span class="p">[</span><span class="n">MAX_SUPPORTED_CV_STANDARDS</span><span class="p">];</span>
  <span class="n">ATOM_DTD_FORMAT</span>    <span class="n">aModeTimings</span><span class="p">[</span><span class="n">MAX_SUPPORTED_CV_STANDARDS</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_COMPONENT_VIDEO_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-240"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-240">&#182;</a></div><p>ucTableFormatRevision=2
ucTableContentRevision=1</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_COMPONENT_VIDEO_INFO_V21</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucMiscInfo</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc480i</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc480p</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc720p</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">uc1080i</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucLetterBoxMode</span><span class="p">;</span>
  <span class="n">UCHAR</span>              <span class="n">ucNumOfWbGpioBlocks</span><span class="p">;</span> <span class="c1">//For Component video D-Connector support. If zere, NTSC type connector</span>
  <span class="n">ATOM_GPIO_INFO</span>     <span class="n">aWbGpioStateBlock</span><span class="p">[</span><span class="n">MAX_SUPPORTED_CV_STANDARDS</span><span class="p">];</span>
  <span class="n">ATOM_DTD_FORMAT</span>    <span class="n">aModeTimings</span><span class="p">[</span><span class="n">MAX_SUPPORTED_CV_STANDARDS</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_COMPONENT_VIDEO_INFO_V21</span><span class="p">;</span>

<span class="cp">#define ATOM_COMPONENT_VIDEO_INFO_LAST  ATOM_COMPONENT_VIDEO_INFO_V21</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-241"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-241">&#182;</a></div><p>Structure used in object_InfoTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_OBJECT_HEADER</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usDeviceSupport</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usConnectorObjectTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usRouterObjectTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usEncoderObjectTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usProtectionObjectTableOffset</span><span class="p">;</span> <span class="c1">//only available when Protection block is independent.</span>
  <span class="n">USHORT</span>                    <span class="n">usDisplayPathTableOffset</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_OBJECT_HEADER</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_OBJECT_HEADER_V3</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usDeviceSupport</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usConnectorObjectTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usRouterObjectTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usEncoderObjectTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usProtectionObjectTableOffset</span><span class="p">;</span> <span class="c1">//only available when Protection block is independent.</span>
  <span class="n">USHORT</span>                    <span class="n">usDisplayPathTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usMiscObjectTableOffset</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_OBJECT_HEADER_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_DISPLAY_OBJECT_PATH</span>
<span class="p">{</span>
  <span class="n">USHORT</span>    <span class="n">usDeviceTag</span><span class="p">;</span>                                   <span class="c1">//supported device </span>
  <span class="n">USHORT</span>    <span class="n">usSize</span><span class="p">;</span>                                        <span class="c1">//the size of ATOM_DISPLAY_OBJECT_PATH</span>
  <span class="n">USHORT</span>    <span class="n">usConnObjectId</span><span class="p">;</span>                                <span class="c1">//Connector Object ID </span>
  <span class="n">USHORT</span>    <span class="n">usGPUObjectId</span><span class="p">;</span>                                 <span class="c1">//GPU ID </span>
  <span class="n">USHORT</span>    <span class="n">usGraphicObjIds</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                             <span class="c1">//1st Encoder Obj source from GPU to last Graphic Obj destinate to connector.</span>
<span class="p">}</span><span class="n">ATOM_DISPLAY_OBJECT_PATH</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_DISPLAY_EXTERNAL_OBJECT_PATH</span>
<span class="p">{</span>
  <span class="n">USHORT</span>    <span class="n">usDeviceTag</span><span class="p">;</span>                                   <span class="c1">//supported device </span>
  <span class="n">USHORT</span>    <span class="n">usSize</span><span class="p">;</span>                                        <span class="c1">//the size of ATOM_DISPLAY_OBJECT_PATH</span>
  <span class="n">USHORT</span>    <span class="n">usConnObjectId</span><span class="p">;</span>                                <span class="c1">//Connector Object ID </span>
  <span class="n">USHORT</span>    <span class="n">usGPUObjectId</span><span class="p">;</span>                                 <span class="c1">//GPU ID </span>
  <span class="n">USHORT</span>    <span class="n">usGraphicObjIds</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>                            <span class="c1">//usGraphicObjIds[0]= GPU internal encoder, usGraphicObjIds[1]= external encoder </span>
<span class="p">}</span><span class="n">ATOM_DISPLAY_EXTERNAL_OBJECT_PATH</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DISPLAY_OBJECT_PATH_TABLE</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>                           <span class="n">ucNumOfDispPath</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucVersion</span><span class="p">;</span>
  <span class="n">UCHAR</span>                           <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
  <span class="n">ATOM_DISPLAY_OBJECT_PATH</span>        <span class="n">asDispPath</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_DISPLAY_OBJECT_PATH_TABLE</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_OBJECT</span>                                <span class="c1">//each object has this structure    </span>
<span class="p">{</span>
  <span class="n">USHORT</span>              <span class="n">usObjectID</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usSrcDstTableOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usRecordOffset</span><span class="p">;</span>                     <span class="c1">//this pointing to a bunch of records defined below</span>
  <span class="n">USHORT</span>              <span class="n">usReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_OBJECT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_OBJECT_TABLE</span>                         <span class="c1">//Above 4 object table offset pointing to a bunch of objects all have this structure     </span>
<span class="p">{</span>
  <span class="n">UCHAR</span>               <span class="n">ucNumberOfObjects</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">ATOM_OBJECT</span>         <span class="n">asObjects</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_OBJECT_TABLE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_SRC_DST_TABLE_FOR_ONE_OBJECT</span>         <span class="c1">//usSrcDstTableOffset pointing to this structure</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>               <span class="n">ucNumberOfSrc</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usSrcObjectID</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  <span class="n">UCHAR</span>               <span class="n">ucNumberOfDst</span><span class="p">;</span>
  <span class="n">USHORT</span>              <span class="n">usDstObjectID</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_SRC_DST_TABLE_FOR_ONE_OBJECT</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-242"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-242">&#182;</a></div><p>Two definitions below are for OPM on MXM module designs</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define EXT_HPDPIN_LUTINDEX_0                   0</span>
<span class="cp">#define EXT_HPDPIN_LUTINDEX_1                   1</span>
<span class="cp">#define EXT_HPDPIN_LUTINDEX_2                   2</span>
<span class="cp">#define EXT_HPDPIN_LUTINDEX_3                   3</span>
<span class="cp">#define EXT_HPDPIN_LUTINDEX_4                   4</span>
<span class="cp">#define EXT_HPDPIN_LUTINDEX_5                   5</span>
<span class="cp">#define EXT_HPDPIN_LUTINDEX_6                   6</span>
<span class="cp">#define EXT_HPDPIN_LUTINDEX_7                   7</span>
<span class="cp">#define MAX_NUMBER_OF_EXT_HPDPIN_LUT_ENTRIES   (EXT_HPDPIN_LUTINDEX_7+1)</span>

<span class="cp">#define EXT_AUXDDC_LUTINDEX_0                   0</span>
<span class="cp">#define EXT_AUXDDC_LUTINDEX_1                   1</span>
<span class="cp">#define EXT_AUXDDC_LUTINDEX_2                   2</span>
<span class="cp">#define EXT_AUXDDC_LUTINDEX_3                   3</span>
<span class="cp">#define EXT_AUXDDC_LUTINDEX_4                   4</span>
<span class="cp">#define EXT_AUXDDC_LUTINDEX_5                   5</span>
<span class="cp">#define EXT_AUXDDC_LUTINDEX_6                   6</span>
<span class="cp">#define EXT_AUXDDC_LUTINDEX_7                   7</span>
<span class="cp">#define MAX_NUMBER_OF_EXT_AUXDDC_LUT_ENTRIES   (EXT_AUXDDC_LUTINDEX_7+1)</span></pre></div></td></tr>


<tr id="section-243"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-243">&#182;</a></div><p>ucChannelMapping are defined as following
for DP connector, eDP, DP to VGA/LVDS 
Bit[1:0]: Define which pin connect to DP connector DP<em>Lane0, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3
Bit[3:2]: Define which pin connect to DP connector DP</em>Lane1, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3
Bit[5:4]: Define which pin connect to DP connector DP<em>Lane2, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3
Bit[7:6]: Define which pin connect to DP connector DP</em>Lane3, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DP_CONN_CHANNEL_MAPPING</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane3_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane2_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane1_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane0_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane0_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane1_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane2_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDP_Lane3_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DP_CONN_CHANNEL_MAPPING</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-244"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-244">&#182;</a></div><p>for DVI/HDMI, in dual link case, both links have to have same mapping. 
Bit[1:0]: Define which pin connect to DVI connector data Lane2, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3
Bit[3:2]: Define which pin connect to DVI connector data Lane1, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3
Bit[5:4]: Define which pin connect to DVI connector data Lane0, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3
Bit[7:6]: Define which pin connect to DVI connector clock lane, =0: source from GPU pin TX0, =1: from GPU pin TX1, =2: from GPU pin TX2, =3 from GPU pin TX3</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DVI_CONN_CHANNEL_MAPPING</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_CLK_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_DATA0_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_DATA1_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_DATA2_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_DATA2_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_DATA1_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_DATA0_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">ucDVI_CLK_Source</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_DVI_CONN_CHANNEL_MAPPING</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_EXT_DISPLAY_PATH</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usDeviceTag</span><span class="p">;</span>                    <span class="c1">//A bit vector to show what devices are supported </span>
  <span class="n">USHORT</span>  <span class="n">usDeviceACPIEnum</span><span class="p">;</span>               <span class="c1">//16bit device ACPI id. </span>
  <span class="n">USHORT</span>  <span class="n">usDeviceConnector</span><span class="p">;</span>              <span class="c1">//A physical connector for displays to plug in, using object connector definitions</span>
  <span class="n">UCHAR</span>   <span class="n">ucExtAUXDDCLutIndex</span><span class="p">;</span>            <span class="c1">//An index into external AUX/DDC channel LUT</span>
  <span class="n">UCHAR</span>   <span class="n">ucExtHPDPINLutIndex</span><span class="p">;</span>            <span class="c1">//An index into external HPD pin LUT</span>
  <span class="n">USHORT</span>  <span class="n">usExtEncoderObjId</span><span class="p">;</span>              <span class="c1">//external encoder object id</span>
  <span class="k">union</span><span class="p">{</span>
    <span class="n">UCHAR</span>   <span class="n">ucChannelMapping</span><span class="p">;</span>                  <span class="c1">// if ucChannelMapping=0, using default one to one mapping</span>
    <span class="n">ATOM_DP_CONN_CHANNEL_MAPPING</span> <span class="n">asDPMapping</span><span class="p">;</span>
    <span class="n">ATOM_DVI_CONN_CHANNEL_MAPPING</span> <span class="n">asDVIMapping</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucChPNInvert</span><span class="p">;</span>                   <span class="c1">// bit vector for up to 8 lanes, =0: P and N is not invert, =1 P and N is inverted</span>
  <span class="n">USHORT</span>  <span class="n">usCaps</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usReserved</span><span class="p">;</span> 
<span class="p">}</span><span class="n">EXT_DISPLAY_PATH</span><span class="p">;</span>
   
<span class="cp">#define NUMBER_OF_UCHAR_FOR_GUID          16</span>
<span class="cp">#define MAX_NUMBER_OF_EXT_DISPLAY_PATH    7</span></pre></div></td></tr>


<tr id="section-245"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-245">&#182;</a></div><p>usCaps</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define  EXT_DISPLAY_PATH_CAPS__HBR2_DISABLE          0x01</span>

<span class="k">typedef</span>  <span class="k">struct</span> <span class="n">_ATOM_EXTERNAL_DISPLAY_CONNECTION_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">ucGuid</span> <span class="p">[</span><span class="n">NUMBER_OF_UCHAR_FOR_GUID</span><span class="p">];</span>     <span class="c1">// a GUID is a 16 byte long string</span>
  <span class="n">EXT_DISPLAY_PATH</span>         <span class="n">sPath</span><span class="p">[</span><span class="n">MAX_NUMBER_OF_EXT_DISPLAY_PATH</span><span class="p">];</span> <span class="c1">// total of fixed 7 entries.</span>
  <span class="n">UCHAR</span>                    <span class="n">ucChecksum</span><span class="p">;</span>                            <span class="c1">// a  simple Checksum of the sum of whole structure equal to 0x0. </span>
  <span class="n">UCHAR</span>                    <span class="n">uc3DStereoPinId</span><span class="p">;</span>                       <span class="c1">// use for eDP panel</span>
  <span class="n">UCHAR</span>                    <span class="n">ucRemoteDisplayConfig</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">uceDPToLVDSRxId</span><span class="p">;</span>
  <span class="n">UCHAR</span>                    <span class="n">Reserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>                           <span class="c1">// for potential expansion</span>
<span class="p">}</span><span class="n">ATOM_EXTERNAL_DISPLAY_CONNECTION_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-246"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-246">&#182;</a></div><p>Related definitions, all records are different but they have a commond header</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_COMMON_RECORD_HEADER</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>               <span class="n">ucRecordType</span><span class="p">;</span>                      <span class="c1">//An emun to indicate the record type</span>
  <span class="n">UCHAR</span>               <span class="n">ucRecordSize</span><span class="p">;</span>                      <span class="c1">//The size of the whole record in byte</span>
<span class="p">}</span><span class="n">ATOM_COMMON_RECORD_HEADER</span><span class="p">;</span>


<span class="cp">#define ATOM_I2C_RECORD_TYPE                           1         </span>
<span class="cp">#define ATOM_HPD_INT_RECORD_TYPE                       2</span>
<span class="cp">#define ATOM_OUTPUT_PROTECTION_RECORD_TYPE             3</span>
<span class="cp">#define ATOM_CONNECTOR_DEVICE_TAG_RECORD_TYPE          4</span>
<span class="cp">#define	ATOM_CONNECTOR_DVI_EXT_INPUT_RECORD_TYPE	     5 </span><span class="c1">//Obsolete, switch to use GPIO_CNTL_RECORD_TYPE</span>
<span class="cp">#define ATOM_ENCODER_FPGA_CONTROL_RECORD_TYPE          6 </span><span class="c1">//Obsolete, switch to use GPIO_CNTL_RECORD_TYPE</span>
<span class="cp">#define ATOM_CONNECTOR_CVTV_SHARE_DIN_RECORD_TYPE      7</span>
<span class="cp">#define ATOM_JTAG_RECORD_TYPE                          8 </span><span class="c1">//Obsolete, switch to use GPIO_CNTL_RECORD_TYPE</span>
<span class="cp">#define ATOM_OBJECT_GPIO_CNTL_RECORD_TYPE              9</span>
<span class="cp">#define ATOM_ENCODER_DVO_CF_RECORD_TYPE               10</span>
<span class="cp">#define ATOM_CONNECTOR_CF_RECORD_TYPE                 11</span>
<span class="cp">#define	ATOM_CONNECTOR_HARDCODE_DTD_RECORD_TYPE	      12</span>
<span class="cp">#define ATOM_CONNECTOR_PCIE_SUBCONNECTOR_RECORD_TYPE  13</span>
<span class="cp">#define ATOM_ROUTER_DDC_PATH_SELECT_RECORD_TYPE	      14</span>
<span class="cp">#define ATOM_ROUTER_DATA_CLOCK_PATH_SELECT_RECORD_TYPE	15</span>
<span class="cp">#define ATOM_CONNECTOR_HPDPIN_LUT_RECORD_TYPE          16 </span><span class="c1">//This is for the case when connectors are not known to object table</span>
<span class="cp">#define ATOM_CONNECTOR_AUXDDC_LUT_RECORD_TYPE          17 </span><span class="c1">//This is for the case when connectors are not known to object table</span>
<span class="cp">#define ATOM_OBJECT_LINK_RECORD_TYPE                   18 </span><span class="c1">//Once this record is present under one object, it indicats the oobject is linked to another obj described by the record</span>
<span class="cp">#define ATOM_CONNECTOR_REMOTE_CAP_RECORD_TYPE          19</span>
<span class="cp">#define ATOM_ENCODER_CAP_RECORD_TYPE                   20</span></pre></div></td></tr>


<tr id="section-247"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-247">&#182;</a></div><p>Must be updated when new record type is added,equal to that record definition!</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_MAX_OBJECT_RECORD_NUMBER             ATOM_ENCODER_CAP_RECORD_TYPE</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_I2C_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">ATOM_I2C_ID_CONFIG</span>          <span class="n">sucI2cId</span><span class="p">;</span> 
  <span class="n">UCHAR</span>                       <span class="n">ucI2CAddr</span><span class="p">;</span>              <span class="c1">//The slave address, it&#39;s 0 when the record is attached to connector for DDC</span>
<span class="p">}</span><span class="n">ATOM_I2C_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_HPD_INT_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucHPDIntGPIOID</span><span class="p">;</span>         <span class="c1">//Corresponding block in GPIO_PIN_INFO table gives the pin info           </span>
  <span class="n">UCHAR</span>                       <span class="n">ucPlugged_PinState</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_HPD_INT_RECORD</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_OUTPUT_PROTECTION_RECORD</span> 
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucProtectionFlag</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_OUTPUT_PROTECTION_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_CONNECTOR_DEVICE_TAG</span>
<span class="p">{</span>
  <span class="n">ULONG</span>                       <span class="n">ulACPIDeviceEnum</span><span class="p">;</span>       <span class="c1">//Reserved for now</span>
  <span class="n">USHORT</span>                      <span class="n">usDeviceID</span><span class="p">;</span>             <span class="c1">//This Id is same as &quot;ATOM_DEVICE_XXX_SUPPORT&quot;</span>
  <span class="n">USHORT</span>                      <span class="n">usPadding</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_DEVICE_TAG</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_CONNECTOR_DEVICE_TAG_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucNumberOfDevice</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucReserved</span><span class="p">;</span>
  <span class="n">ATOM_CONNECTOR_DEVICE_TAG</span>   <span class="n">asDeviceTag</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>         <span class="c1">//This Id is same as &quot;ATOM_DEVICE_XXX_SUPPORT&quot;, 1 is only for allocation</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_DEVICE_TAG_RECORD</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_CONNECTOR_DVI_EXT_INPUT_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>						            <span class="n">ucConfigGPIOID</span><span class="p">;</span>
  <span class="n">UCHAR</span>						            <span class="n">ucConfigGPIOState</span><span class="p">;</span>	    <span class="c1">//Set to 1 when it&#39;s active high to enable external flow in</span>
  <span class="n">UCHAR</span>                       <span class="n">ucFlowinGPIPID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucExtInGPIPID</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_DVI_EXT_INPUT_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_ENCODER_FPGA_CONTROL_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCTL1GPIO_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCTL1GPIOState</span><span class="p">;</span>        <span class="c1">//Set to 1 when it&#39;s active high</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCTL2GPIO_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCTL2GPIOState</span><span class="p">;</span>        <span class="c1">//Set to 1 when it&#39;s active high</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCTL3GPIO_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCTL3GPIOState</span><span class="p">;</span>        <span class="c1">//Set to 1 when it&#39;s active high</span>
  <span class="n">UCHAR</span>                       <span class="n">ucCTLFPGA_IN_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ENCODER_FPGA_CONTROL_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_CONNECTOR_CVTV_SHARE_DIN_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucGPIOID</span><span class="p">;</span>               <span class="c1">//Corresponding block in GPIO_PIN_INFO table gives the pin info </span>
  <span class="n">UCHAR</span>                       <span class="n">ucTVActiveState</span><span class="p">;</span>        <span class="c1">//Indicating when the pin==0 or 1 when TV is connected</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_CVTV_SHARE_DIN_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_JTAG_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTMSGPIO_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTMSGPIOState</span><span class="p">;</span>         <span class="c1">//Set to 1 when it&#39;s active high</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTCKGPIO_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTCKGPIOState</span><span class="p">;</span>         <span class="c1">//Set to 1 when it&#39;s active high</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTDOGPIO_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTDOGPIOState</span><span class="p">;</span>         <span class="c1">//Set to 1 when it&#39;s active high</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTDIGPIO_ID</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucTDIGPIOState</span><span class="p">;</span>         <span class="c1">//Set to 1 when it&#39;s active high</span>
  <span class="n">UCHAR</span>                       <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_JTAG_RECORD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-248"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-248">&#182;</a></div><p>The following generic object gpio pin control record type will replace JTAG<em>RECORD/FPGA</em>CONTROL<em>RECORD/DVI</em>EXT<em>INPUT</em>RECORD above gradually</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_GPIO_PIN_CONTROL_PAIR</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>                       <span class="n">ucGPIOID</span><span class="p">;</span>               <span class="c1">// GPIO_ID, find the corresponding ID in GPIO_LUT table</span>
  <span class="n">UCHAR</span>                       <span class="n">ucGPIO_PinState</span><span class="p">;</span>        <span class="c1">// Pin state showing how to set-up the pin</span>
<span class="p">}</span><span class="n">ATOM_GPIO_PIN_CONTROL_PAIR</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_OBJECT_GPIO_CNTL_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucFlags</span><span class="p">;</span>                <span class="c1">// Future expnadibility</span>
  <span class="n">UCHAR</span>                       <span class="n">ucNumberOfPins</span><span class="p">;</span>         <span class="c1">// Number of GPIO pins used to control the object</span>
  <span class="n">ATOM_GPIO_PIN_CONTROL_PAIR</span>  <span class="n">asGpio</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>              <span class="c1">// the real gpio pin pair determined by number of pins ucNumberOfPins</span>
<span class="p">}</span><span class="n">ATOM_OBJECT_GPIO_CNTL_RECORD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-249"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-249">&#182;</a></div><p>Definitions for GPIO pin state </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define GPIO_PIN_TYPE_INPUT             0x00</span>
<span class="cp">#define GPIO_PIN_TYPE_OUTPUT            0x10</span>
<span class="cp">#define GPIO_PIN_TYPE_HW_CONTROL        0x20</span></pre></div></td></tr>


<tr id="section-250"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-250">&#182;</a></div><p>For GPIO<em>PIN</em>TYPE_OUTPUT the following is defined </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define GPIO_PIN_OUTPUT_STATE_MASK      0x01</span>
<span class="cp">#define GPIO_PIN_OUTPUT_STATE_SHIFT     0</span>
<span class="cp">#define GPIO_PIN_STATE_ACTIVE_LOW       0x0</span>
<span class="cp">#define GPIO_PIN_STATE_ACTIVE_HIGH      0x1</span></pre></div></td></tr>


<tr id="section-251"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-251">&#182;</a></div><p>Indexes to GPIO array in GLSync record 
GLSync record is for Frame Lock/Gen Lock feature.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_REFCLK    0</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_HSYNC     1</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_VSYNC     2</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_SWAP_REQ  3</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_SWAP_GNT  4</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_INTERRUPT 5</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_V_RESET   6</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_SWAP_CNTL 7</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_SWAP_SEL  8</span>
<span class="cp">#define ATOM_GPIO_INDEX_GLSYNC_MAX       9</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_ENCODER_DVO_CF_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">ULONG</span>                       <span class="n">ulStrengthControl</span><span class="p">;</span>      <span class="c1">// DVOA strength control for CF</span>
  <span class="n">UCHAR</span>                       <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ENCODER_DVO_CF_RECORD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-252"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-252">&#182;</a></div><p>Bit maps for ATOM<em>ENCODER</em>CAP_RECORD.ucEncoderCap</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ENCODER_CAP_RECORD_HBR2                  0x01         </span><span class="c1">// DP1.2 HBR2 is supported by HW encoder</span>
<span class="cp">#define ATOM_ENCODER_CAP_RECORD_HBR2_EN               0x02         </span><span class="c1">// DP1.2 HBR2 setting is qualified and HBR2 can be enabled </span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_ENCODER_CAP_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="k">union</span> <span class="p">{</span>
    <span class="n">USHORT</span>                    <span class="n">usEncoderCap</span><span class="p">;</span>         
    <span class="k">struct</span> <span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
      <span class="n">USHORT</span>                  <span class="n">usReserved</span><span class="o">:</span><span class="mi">14</span><span class="p">;</span>        <span class="c1">// Bit1-15 may be defined for other capability in future</span>
      <span class="n">USHORT</span>                  <span class="n">usHBR2En</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>           <span class="c1">// Bit1 is for DP1.2 HBR2 enable</span>
      <span class="n">USHORT</span>                  <span class="n">usHBR2Cap</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>          <span class="c1">// Bit0 is for DP1.2 HBR2 capability. </span>
<span class="cp">#else</span>
      <span class="n">USHORT</span>                  <span class="n">usHBR2Cap</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>          <span class="c1">// Bit0 is for DP1.2 HBR2 capability. </span>
      <span class="n">USHORT</span>                  <span class="n">usHBR2En</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>           <span class="c1">// Bit1 is for DP1.2 HBR2 enable</span>
      <span class="n">USHORT</span>                  <span class="n">usReserved</span><span class="o">:</span><span class="mi">14</span><span class="p">;</span>        <span class="c1">// Bit1-15 may be defined for other capability in future</span>
<span class="cp">#endif</span>
    <span class="p">};</span>
  <span class="p">};</span> 
<span class="p">}</span><span class="n">ATOM_ENCODER_CAP_RECORD</span><span class="p">;</span>                             </pre></div></td></tr>


<tr id="section-253"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-253">&#182;</a></div><p>value for ATOM<em>CONNECTOR</em>CF_RECORD.ucConnectedDvoBundle</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_CONNECTOR_CF_RECORD_CONNECTED_UPPER12BITBUNDLEA   1</span>
<span class="cp">#define ATOM_CONNECTOR_CF_RECORD_CONNECTED_LOWER12BITBUNDLEB   2</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_CONNECTOR_CF_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">USHORT</span>                      <span class="n">usMaxPixClk</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucFlowCntlGpioId</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucSwapCntlGpioId</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucConnectedDvoBundle</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucPadding</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_CF_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_CONNECTOR_HARDCODE_DTD_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
	<span class="n">ATOM_DTD_FORMAT</span>							<span class="n">asTiming</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_HARDCODE_DTD_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CONNECTOR_PCIE_SUBCONNECTOR_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>                <span class="c1">//ATOM_CONNECTOR_PCIE_SUBCONNECTOR_RECORD_TYPE</span>
  <span class="n">UCHAR</span>                       <span class="n">ucSubConnectorType</span><span class="p">;</span>     <span class="c1">//CONNECTOR_OBJECT_ID_SINGLE_LINK_DVI_D|X_ID_DUAL_LINK_DVI_D|HDMI_TYPE_A</span>
  <span class="n">UCHAR</span>                       <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_PCIE_SUBCONNECTOR_RECORD</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ROUTER_DDC_PATH_SELECT_RECORD</span>
<span class="p">{</span>
	<span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>                
	<span class="n">UCHAR</span>												<span class="n">ucMuxType</span><span class="p">;</span>							<span class="c1">//decide the number of ucMuxState, =0, no pin state, =1: single state with complement, &gt;1: multiple state</span>
	<span class="n">UCHAR</span>												<span class="n">ucMuxControlPin</span><span class="p">;</span>
	<span class="n">UCHAR</span>												<span class="n">ucMuxState</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>					<span class="c1">//for alligment purpose</span>
<span class="p">}</span><span class="n">ATOM_ROUTER_DDC_PATH_SELECT_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ROUTER_DATA_CLOCK_PATH_SELECT_RECORD</span>
<span class="p">{</span>
	<span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>                
	<span class="n">UCHAR</span>												<span class="n">ucMuxType</span><span class="p">;</span>
	<span class="n">UCHAR</span>												<span class="n">ucMuxControlPin</span><span class="p">;</span>
	<span class="n">UCHAR</span>												<span class="n">ucMuxState</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>					<span class="c1">//for alligment purpose</span>
<span class="p">}</span><span class="n">ATOM_ROUTER_DATA_CLOCK_PATH_SELECT_RECORD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-254"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-254">&#182;</a></div><p>define ucMuxType</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_ROUTER_MUX_PIN_STATE_MASK								0x0f</span>
<span class="cp">#define ATOM_ROUTER_MUX_PIN_SINGLE_STATE_COMPLEMENT		0x01</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CONNECTOR_HPDPIN_LUT_RECORD</span>     <span class="c1">//record for ATOM_CONNECTOR_HPDPIN_LUT_RECORD_TYPE</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                       <span class="n">ucHPDPINMap</span><span class="p">[</span><span class="n">MAX_NUMBER_OF_EXT_HPDPIN_LUT_ENTRIES</span><span class="p">];</span>  <span class="c1">//An fixed size array which maps external pins to internal GPIO_PIN_INFO table </span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_HPDPIN_LUT_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CONNECTOR_AUXDDC_LUT_RECORD</span>  <span class="c1">//record for ATOM_CONNECTOR_AUXDDC_LUT_RECORD_TYPE</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">ATOM_I2C_ID_CONFIG</span>          <span class="n">ucAUXDDCMap</span><span class="p">[</span><span class="n">MAX_NUMBER_OF_EXT_AUXDDC_LUT_ENTRIES</span><span class="p">];</span>  <span class="c1">//An fixed size array which maps external pins to internal DDC ID</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_AUXDDC_LUT_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_OBJECT_LINK_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">USHORT</span>                      <span class="n">usObjectID</span><span class="p">;</span>         <span class="c1">//could be connector, encorder or other object in object.h</span>
<span class="p">}</span><span class="n">ATOM_OBJECT_LINK_RECORD</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CONNECTOR_REMOTE_CAP_RECORD</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_RECORD_HEADER</span>   <span class="n">sheader</span><span class="p">;</span>
  <span class="n">USHORT</span>                      <span class="n">usReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_REMOTE_CAP_RECORD</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-255"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-255">&#182;</a></div><p>ASIC voltage data table</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_INFO_HEADER</span>
<span class="p">{</span>
   <span class="n">USHORT</span>   <span class="n">usVDDCBaseLevel</span><span class="p">;</span>                <span class="c1">//In number of 50mv unit</span>
   <span class="n">USHORT</span>   <span class="n">usReserved</span><span class="p">;</span>                     <span class="c1">//For possible extension table offset</span>
   <span class="n">UCHAR</span>    <span class="n">ucNumOfVoltageEntries</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucBytesPerVoltageEntry</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageStep</span><span class="p">;</span>                  <span class="c1">//Indicating in how many mv increament is one step, 0.5mv unit</span>
   <span class="n">UCHAR</span>    <span class="n">ucDefaultVoltageEntry</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageControlI2cLine</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageControlAddress</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageControlOffset</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_INFO_HEADER</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_INFO</span>
<span class="p">{</span>
   <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span> 
   <span class="n">ATOM_VOLTAGE_INFO_HEADER</span> <span class="n">viHeader</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageEntries</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>            <span class="c1">//64 is for allocation, the actual number of entry is present at ucNumOfVoltageEntries*ucBytesPerVoltageEntry</span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_INFO</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_FORMULA</span>
<span class="p">{</span>
   <span class="n">USHORT</span>   <span class="n">usVoltageBaseLevel</span><span class="p">;</span>             <span class="c1">// In number of 1mv unit</span>
   <span class="n">USHORT</span>   <span class="n">usVoltageStep</span><span class="p">;</span>                  <span class="c1">// Indicating in how many mv increament is one step, 1mv unit</span>
	 <span class="n">UCHAR</span>		<span class="n">ucNumOfVoltageEntries</span><span class="p">;</span>					<span class="c1">// Number of Voltage Entry, which indicate max Voltage</span>
	 <span class="n">UCHAR</span>		<span class="n">ucFlag</span><span class="p">;</span>													<span class="c1">// bit0=0 :step is 1mv =1 0.5mv</span>
	 <span class="n">UCHAR</span>		<span class="n">ucBaseVID</span><span class="p">;</span>											<span class="c1">// if there is no lookup table, VID= BaseVID + ( Vol - BaseLevle ) /VoltageStep</span>
	 <span class="n">UCHAR</span>		<span class="n">ucReserved</span><span class="p">;</span>
	 <span class="n">UCHAR</span>		<span class="n">ucVIDAdjustEntries</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>					<span class="c1">// 32 is for allocation, the actual number of entry is present at ucNumOfVoltageEntries</span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_FORMULA</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_VOLTAGE_LUT_ENTRY</span>
<span class="p">{</span>
	 <span class="n">USHORT</span>		<span class="n">usVoltageCode</span><span class="p">;</span>									<span class="c1">// The Voltage ID, either GPIO or I2C code</span>
	 <span class="n">USHORT</span>		<span class="n">usVoltageValue</span><span class="p">;</span>									<span class="c1">// The corresponding Voltage Value, in mV</span>
<span class="p">}</span><span class="n">VOLTAGE_LUT_ENTRY</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_FORMULA_V2</span>
<span class="p">{</span>
	 <span class="n">UCHAR</span>		<span class="n">ucNumOfVoltageEntries</span><span class="p">;</span>					<span class="c1">// Number of Voltage Entry, which indicate max Voltage</span>
	 <span class="n">UCHAR</span>		<span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	 <span class="n">VOLTAGE_LUT_ENTRY</span> <span class="n">asVIDAdjustEntries</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span><span class="c1">// 32 is for allocation, the actual number of entries is in ucNumOfVoltageEntries</span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_FORMULA_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VOLTAGE_CONTROL</span>
<span class="p">{</span>
	<span class="n">UCHAR</span>		 <span class="n">ucVoltageControlId</span><span class="p">;</span>							<span class="c1">//Indicate it is controlled by I2C or GPIO or HW state machine		</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageControlI2cLine</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageControlAddress</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucVoltageControlOffset</span><span class="p">;</span>	 	
  <span class="n">USHORT</span>   <span class="n">usGpioPin_AIndex</span><span class="p">;</span>								<span class="c1">//GPIO_PAD register index</span>
  <span class="n">UCHAR</span>    <span class="n">ucGpioPinBitShift</span><span class="p">[</span><span class="mi">9</span><span class="p">];</span>						<span class="c1">//at most 8 pin support 255 VIDs, termintate with 0xff</span>
	<span class="n">UCHAR</span>		 <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_CONTROL</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-256"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-256">&#182;</a></div><p>Define ucVoltageControlId</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	VOLTAGE_CONTROLLED_BY_HW							0x00</span>
<span class="cp">#define	VOLTAGE_CONTROLLED_BY_I2C_MASK				0x7F</span>
<span class="cp">#define	VOLTAGE_CONTROLLED_BY_GPIO						0x80</span>
<span class="cp">#define	VOLTAGE_CONTROL_ID_LM64								0x01									</span><span class="c1">//I2C control, used for R5xx Core Voltage</span>
<span class="cp">#define	VOLTAGE_CONTROL_ID_DAC								0x02									</span><span class="c1">//I2C control, used for R5xx/R6xx MVDDC,MVDDQ or VDDCI</span>
<span class="cp">#define	VOLTAGE_CONTROL_ID_VT116xM						0x03									</span><span class="c1">//I2C control, used for R6xx Core Voltage</span>
<span class="cp">#define VOLTAGE_CONTROL_ID_DS4402							0x04									</span>
<span class="cp">#define VOLTAGE_CONTROL_ID_UP6266 						0x05									</span>
<span class="cp">#define VOLTAGE_CONTROL_ID_SCORPIO						0x06</span>
<span class="cp">#define	VOLTAGE_CONTROL_ID_VT1556M						0x07									</span>
<span class="cp">#define	VOLTAGE_CONTROL_ID_CHL822x						0x08									</span>
<span class="cp">#define	VOLTAGE_CONTROL_ID_VT1586M						0x09</span>
<span class="cp">#define VOLTAGE_CONTROL_ID_UP1637 						0x0A</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_OBJECT</span>
<span class="p">{</span>
 	 <span class="n">UCHAR</span>		<span class="n">ucVoltageType</span><span class="p">;</span>									<span class="c1">//Indicate Voltage Source: VDDC, MVDDC, MVDDQ or MVDDCI	 </span>
	 <span class="n">UCHAR</span>		<span class="n">ucSize</span><span class="p">;</span>													<span class="c1">//Size of Object	</span>
	 <span class="n">ATOM_VOLTAGE_CONTROL</span>			<span class="n">asControl</span><span class="p">;</span>			<span class="c1">//describ how to control 	 </span>
 	 <span class="n">ATOM_VOLTAGE_FORMULA</span>			<span class="n">asFormula</span><span class="p">;</span>			<span class="c1">//Indicate How to convert real Voltage to VID </span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_OBJECT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_OBJECT_V2</span>
<span class="p">{</span>
 	 <span class="n">UCHAR</span>		<span class="n">ucVoltageType</span><span class="p">;</span>									<span class="c1">//Indicate Voltage Source: VDDC, MVDDC, MVDDQ or MVDDCI	 </span>
	 <span class="n">UCHAR</span>		<span class="n">ucSize</span><span class="p">;</span>													<span class="c1">//Size of Object	</span>
	 <span class="n">ATOM_VOLTAGE_CONTROL</span>			<span class="n">asControl</span><span class="p">;</span>			<span class="c1">//describ how to control 	 </span>
 	 <span class="n">ATOM_VOLTAGE_FORMULA_V2</span>	<span class="n">asFormula</span><span class="p">;</span>			<span class="c1">//Indicate How to convert real Voltage to VID </span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_OBJECT_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_OBJECT_INFO</span>
<span class="p">{</span>
   <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span> 
	 <span class="n">ATOM_VOLTAGE_OBJECT</span>			<span class="n">asVoltageObj</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>	<span class="c1">//Info for Voltage control	  	 </span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_OBJECT_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_OBJECT_INFO_V2</span>
<span class="p">{</span>
   <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span> 
	 <span class="n">ATOM_VOLTAGE_OBJECT_V2</span>			<span class="n">asVoltageObj</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>	<span class="c1">//Info for Voltage control	  	 </span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_OBJECT_INFO_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_LEAKID_VOLTAGE</span>
<span class="p">{</span>
	<span class="n">UCHAR</span>		<span class="n">ucLeakageId</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">ucReserved</span><span class="p">;</span>
	<span class="n">USHORT</span>	<span class="n">usVoltage</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_LEAKID_VOLTAGE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VOLTAGE_OBJECT_HEADER_V3</span><span class="p">{</span>
 	 <span class="n">UCHAR</span>		<span class="n">ucVoltageType</span><span class="p">;</span>									<span class="c1">//Indicate Voltage Source: VDDC, MVDDC, MVDDQ or MVDDCI	 </span>
   <span class="n">UCHAR</span>		<span class="n">ucVoltageMode</span><span class="p">;</span>							    <span class="c1">//Indicate voltage control mode: Init/Set/Leakage/Set phase </span>
	 <span class="n">USHORT</span>		<span class="n">usSize</span><span class="p">;</span>													<span class="c1">//Size of Object	</span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_OBJECT_HEADER_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_VOLTAGE_LUT_ENTRY_V2</span>
<span class="p">{</span>
	 <span class="n">ULONG</span>		<span class="n">ulVoltageId</span><span class="p">;</span>									  <span class="c1">// The Voltage ID which is used to program GPIO register</span>
	 <span class="n">USHORT</span>		<span class="n">usVoltageValue</span><span class="p">;</span>									<span class="c1">// The corresponding Voltage Value, in mV</span>
<span class="p">}</span><span class="n">VOLTAGE_LUT_ENTRY_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_LEAKAGE_VOLTAGE_LUT_ENTRY_V2</span>
<span class="p">{</span>
  <span class="n">USHORT</span>	<span class="n">usVoltageLevel</span><span class="p">;</span> 							  <span class="c1">// The Voltage ID which is used to program GPIO register</span>
  <span class="n">USHORT</span>  <span class="n">usVoltageId</span><span class="p">;</span>                    
	<span class="n">USHORT</span>	<span class="n">usLeakageId</span><span class="p">;</span>									  <span class="c1">// The corresponding Voltage Value, in mV</span>
<span class="p">}</span><span class="n">LEAKAGE_VOLTAGE_LUT_ENTRY_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_I2C_VOLTAGE_OBJECT_V3</span>
<span class="p">{</span>
   <span class="n">ATOM_VOLTAGE_OBJECT_HEADER_V3</span> <span class="n">sHeader</span><span class="p">;</span>
   <span class="n">UCHAR</span>	<span class="n">ucVoltageRegulatorId</span><span class="p">;</span>					  <span class="c1">//Indicate Voltage Regulator Id</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageControlI2cLine</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageControlAddress</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucVoltageControlOffset</span><span class="p">;</span>	 	
   <span class="n">ULONG</span>    <span class="n">ulReserved</span><span class="p">;</span>
   <span class="n">VOLTAGE_LUT_ENTRY</span> <span class="n">asVolI2cLut</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>        <span class="c1">// end with 0xff</span>
<span class="p">}</span><span class="n">ATOM_I2C_VOLTAGE_OBJECT_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_GPIO_VOLTAGE_OBJECT_V3</span>
<span class="p">{</span>
   <span class="n">ATOM_VOLTAGE_OBJECT_HEADER_V3</span> <span class="n">sHeader</span><span class="p">;</span>   
   <span class="n">UCHAR</span>    <span class="n">ucVoltageGpioCntlId</span><span class="p">;</span>         <span class="c1">// default is 0 which indicate control through CG VID mode </span>
   <span class="n">UCHAR</span>    <span class="n">ucGpioEntryNum</span><span class="p">;</span>              <span class="c1">// indiate the entry numbers of Votlage/Gpio value Look up table</span>
   <span class="n">UCHAR</span>    <span class="n">ucPhaseDelay</span><span class="p">;</span>                <span class="c1">// phase delay in unit of micro second</span>
   <span class="n">UCHAR</span>    <span class="n">ucReserved</span><span class="p">;</span>   
   <span class="n">ULONG</span>    <span class="n">ulGpioMaskVal</span><span class="p">;</span>               <span class="c1">// GPIO Mask value</span>
   <span class="n">VOLTAGE_LUT_ENTRY_V2</span> <span class="n">asVolGpioLut</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>   
<span class="p">}</span><span class="n">ATOM_GPIO_VOLTAGE_OBJECT_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_LEAKAGE_VOLTAGE_OBJECT_V3</span>
<span class="p">{</span>
   <span class="n">ATOM_VOLTAGE_OBJECT_HEADER_V3</span> <span class="n">sHeader</span><span class="p">;</span>
   <span class="n">UCHAR</span>    <span class="n">ucLeakageCntlId</span><span class="p">;</span>             <span class="c1">// default is 0</span>
   <span class="n">UCHAR</span>    <span class="n">ucLeakageEntryNum</span><span class="p">;</span>           <span class="c1">// indicate the entry number of LeakageId/Voltage Lut table</span>
   <span class="n">UCHAR</span>    <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>               
   <span class="n">ULONG</span>    <span class="n">ulMaxVoltageLevel</span><span class="p">;</span>
   <span class="n">LEAKAGE_VOLTAGE_LUT_ENTRY_V2</span> <span class="n">asLeakageIdLut</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>   
<span class="p">}</span><span class="n">ATOM_LEAKAGE_VOLTAGE_OBJECT_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_VOLTAGE_OBJECT_V3</span><span class="p">{</span>
  <span class="n">ATOM_GPIO_VOLTAGE_OBJECT_V3</span> <span class="n">asGpioVoltageObj</span><span class="p">;</span>
  <span class="n">ATOM_I2C_VOLTAGE_OBJECT_V3</span> <span class="n">asI2cVoltageObj</span><span class="p">;</span>
  <span class="n">ATOM_LEAKAGE_VOLTAGE_OBJECT_V3</span> <span class="n">asLeakageObj</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_OBJECT_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_VOLTAGE_OBJECT_INFO_V3_1</span>
<span class="p">{</span>
   <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span> 
	 <span class="n">ATOM_VOLTAGE_OBJECT_V3</span>			<span class="n">asVoltageObj</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>	<span class="c1">//Info for Voltage control	  	 </span>
<span class="p">}</span><span class="n">ATOM_VOLTAGE_OBJECT_INFO_V3_1</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_ASIC_PROFILE_VOLTAGE</span>
<span class="p">{</span>
	<span class="n">UCHAR</span>		<span class="n">ucProfileId</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">ucReserved</span><span class="p">;</span>
	<span class="n">USHORT</span>	<span class="n">usSize</span><span class="p">;</span>
	<span class="n">USHORT</span>	<span class="n">usEfuseSpareStartAddr</span><span class="p">;</span>
	<span class="n">USHORT</span>	<span class="n">usFuseIndex</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>												<span class="c1">//from LSB to MSB, Max 8bit,end of 0xffff if less than 8 efuse id, </span>
	<span class="n">ATOM_LEAKID_VOLTAGE</span>					<span class="n">asLeakVol</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>			<span class="c1">//Leakid and relatd voltage</span>
<span class="p">}</span><span class="n">ATOM_ASIC_PROFILE_VOLTAGE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-257"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-257">&#182;</a></div><p>ucProfileId</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define	ATOM_ASIC_PROFILE_ID_EFUSE_VOLTAGE			1		</span>
<span class="cp">#define	ATOM_ASIC_PROFILE_ID_EFUSE_PERFORMANCE_VOLTAGE			1</span>
<span class="cp">#define	ATOM_ASIC_PROFILE_ID_EFUSE_THERMAL_VOLTAGE					2</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_ASIC_PROFILING_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>			<span class="n">asHeader</span><span class="p">;</span> 
	<span class="n">ATOM_ASIC_PROFILE_VOLTAGE</span>			<span class="n">asVoltage</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_ASIC_PROFILING_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_POWER_SOURCE_OBJECT</span>
<span class="p">{</span>
	<span class="n">UCHAR</span>	<span class="n">ucPwrSrcId</span><span class="p">;</span>													<span class="c1">// Power source</span>
	<span class="n">UCHAR</span>	<span class="n">ucPwrSensorType</span><span class="p">;</span>										<span class="c1">// GPIO, I2C or none</span>
	<span class="n">UCHAR</span>	<span class="n">ucPwrSensId</span><span class="p">;</span>											  <span class="c1">// if GPIO detect, it is GPIO id,  if I2C detect, it is I2C id</span>
	<span class="n">UCHAR</span>	<span class="n">ucPwrSensSlaveAddr</span><span class="p">;</span>									<span class="c1">// Slave address if I2C detect</span>
	<span class="n">UCHAR</span> <span class="n">ucPwrSensRegIndex</span><span class="p">;</span>									<span class="c1">// I2C register Index if I2C detect</span>
	<span class="n">UCHAR</span> <span class="n">ucPwrSensRegBitMask</span><span class="p">;</span>								<span class="c1">// detect which bit is used if I2C detect</span>
	<span class="n">UCHAR</span>	<span class="n">ucPwrSensActiveState</span><span class="p">;</span>								<span class="c1">// high active or low active</span>
	<span class="n">UCHAR</span>	<span class="n">ucReserve</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>												<span class="c1">// reserve		</span>
	<span class="n">USHORT</span> <span class="n">usSensPwr</span><span class="p">;</span>													<span class="c1">// in unit of watt</span>
<span class="p">}</span><span class="n">ATOM_POWER_SOURCE_OBJECT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_POWER_SOURCE_INFO</span>
<span class="p">{</span>
		<span class="n">ATOM_COMMON_TABLE_HEADER</span>		<span class="n">asHeader</span><span class="p">;</span>
		<span class="n">UCHAR</span>												<span class="n">asPwrbehave</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
		<span class="n">ATOM_POWER_SOURCE_OBJECT</span>		<span class="n">asPwrObj</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_POWER_SOURCE_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-258"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-258">&#182;</a></div><p>Define ucPwrSrcId</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define POWERSOURCE_PCIE_ID1						0x00</span>
<span class="cp">#define POWERSOURCE_6PIN_CONNECTOR_ID1	0x01</span>
<span class="cp">#define POWERSOURCE_8PIN_CONNECTOR_ID1	0x02</span>
<span class="cp">#define POWERSOURCE_6PIN_CONNECTOR_ID2	0x04</span>
<span class="cp">#define POWERSOURCE_8PIN_CONNECTOR_ID2	0x08</span></pre></div></td></tr>


<tr id="section-259"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-259">&#182;</a></div><p>define ucPwrSensorId</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define POWER_SENSOR_ALWAYS							0x00</span>
<span class="cp">#define POWER_SENSOR_GPIO								0x01</span>
<span class="cp">#define POWER_SENSOR_I2C								0x02</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CLK_VOLT_CAPABILITY</span>
<span class="p">{</span>
  <span class="n">ULONG</span>      <span class="n">ulVoltageIndex</span><span class="p">;</span>                      <span class="c1">// The Voltage Index indicated by FUSE, same voltage index shared with SCLK DPM fuse table        </span>
  <span class="n">ULONG</span>      <span class="n">ulMaximumSupportedCLK</span><span class="p">;</span>               <span class="c1">// Maximum clock supported with specified voltage index, unit in 10kHz</span>
<span class="p">}</span><span class="n">ATOM_CLK_VOLT_CAPABILITY</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_AVAILABLE_SCLK_LIST</span>
<span class="p">{</span>
  <span class="n">ULONG</span>      <span class="n">ulSupportedSCLK</span><span class="p">;</span>               <span class="c1">// Maximum clock supported with specified voltage index,  unit in 10kHz</span>
  <span class="n">USHORT</span>     <span class="n">usVoltageIndex</span><span class="p">;</span>                <span class="c1">// The Voltage Index indicated by FUSE for specified SCLK  </span>
  <span class="n">USHORT</span>     <span class="n">usVoltageID</span><span class="p">;</span>                   <span class="c1">// The Voltage ID indicated by FUSE for specified SCLK </span>
<span class="p">}</span><span class="n">ATOM_AVAILABLE_SCLK_LIST</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-260"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-260">&#182;</a></div><p>ATOM<em>INTEGRATED</em>SYSTEM<em>INFO</em>V6 ulSystemConfig cap definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_IGP_INFO_V6_SYSTEM_CONFIG__PCIE_POWER_GATING_ENABLE             1       </span><span class="c1">// refer to ulSystemConfig bit[0]</span></pre></div></td></tr>


<tr id="section-261"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-261">&#182;</a></div><p>this IntegrateSystemInfoTable is used for Liano/Ontario APU</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_INTEGRATED_SYSTEM_INFO_V6</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulBootUpEngineClock</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulDentistVCOFreq</span><span class="p">;</span>          
  <span class="n">ULONG</span>  <span class="n">ulBootUpUMAClock</span><span class="p">;</span>          
  <span class="n">ATOM_CLK_VOLT_CAPABILITY</span>   <span class="n">sDISPCLK_Voltage</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>            
  <span class="n">ULONG</span>  <span class="n">ulBootUpReqDisplayVector</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulOtherDisplayMisc</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulGPUCapInfo</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulSB_MMIO_Base_Addr</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usRequestedPWMFreqInHz</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucHtcTmpLmt</span><span class="p">;</span>   
  <span class="n">UCHAR</span>  <span class="n">ucHtcHystLmt</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulMinEngineClock</span><span class="p">;</span>           
  <span class="n">ULONG</span>  <span class="n">ulSystemConfig</span><span class="p">;</span>            
  <span class="n">ULONG</span>  <span class="n">ulCPUCapInfo</span><span class="p">;</span>              
  <span class="n">USHORT</span> <span class="n">usNBP0Voltage</span><span class="p">;</span>               
  <span class="n">USHORT</span> <span class="n">usNBP1Voltage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usBootUpNBVoltage</span><span class="p">;</span>                       
  <span class="n">USHORT</span> <span class="n">usExtDispConnInfoOffset</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPanelRefreshRateRange</span><span class="p">;</span>     
  <span class="n">UCHAR</span>  <span class="n">ucMemoryType</span><span class="p">;</span>  
  <span class="n">UCHAR</span>  <span class="n">ucUMAChannelNumber</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulCSR_M3_ARB_CNTL_DEFAULT</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>  
  <span class="n">ULONG</span>  <span class="n">ulCSR_M3_ARB_CNTL_UVD</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span> 
  <span class="n">ULONG</span>  <span class="n">ulCSR_M3_ARB_CNTL_FS3D</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
  <span class="n">ATOM_AVAILABLE_SCLK_LIST</span>   <span class="n">sAvail_SCLK</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
  <span class="n">ULONG</span>  <span class="n">ulGMCRestoreResetTime</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulMinimumNClk</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulIdleNClk</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulDDR_DLL_PowerUpTime</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulDDR_PLL_PowerUpTime</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPCIEClkSSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPCIEClkSSType</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usLvdsSSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usLvdsSSpreadRateIn10Hz</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usHDMISSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usHDMISSpreadRateIn10Hz</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usDVISSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usDVISSpreadRateIn10Hz</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">SclkDpmBoostMargin</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">SclkDpmThrottleMargin</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">SclkDpmTdpLimitPG</span><span class="p">;</span> 
  <span class="n">USHORT</span> <span class="n">SclkDpmTdpLimitBoost</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulBoostEngineCLock</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ulBoostVid_2bit</span><span class="p">;</span>  
  <span class="n">UCHAR</span>  <span class="n">EnableBoost</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">GnbTdpLimit</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usMaxLVDSPclkFreqInSingleLink</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLvdsMisc</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSReserved</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulReserved3</span><span class="p">[</span><span class="mi">15</span><span class="p">];</span> 
  <span class="n">ATOM_EXTERNAL_DISPLAY_CONNECTION_INFO</span> <span class="n">sExtDispConnInfo</span><span class="p">;</span>   
<span class="p">}</span><span class="n">ATOM_INTEGRATED_SYSTEM_INFO_V6</span><span class="p">;</span>   </pre></div></td></tr>


<tr id="section-262"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-262">&#182;</a></div><p>ulGPUCapInfo</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define INTEGRATED_SYSTEM_INFO_V6_GPUCAPINFO__TMDSHDMI_COHERENT_SINGLEPLL_MODE       0x01</span>
<span class="cp">#define INTEGRATED_SYSTEM_INFO_V6_GPUCAPINFO__DISABLE_AUX_HW_MODE_DETECTION          0x08</span></pre></div></td></tr>


<tr id="section-263"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-263">&#182;</a></div><p>ucLVDSMisc:                   </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define SYS_INFO_LVDSMISC__888_FPDI_MODE                                             0x01</span>
<span class="cp">#define SYS_INFO_LVDSMISC__DL_CH_SWAP                                                0x02</span>
<span class="cp">#define SYS_INFO_LVDSMISC__888_BPC                                                   0x04</span>
<span class="cp">#define SYS_INFO_LVDSMISC__OVERRIDE_EN                                               0x08</span>
<span class="cp">#define SYS_INFO_LVDSMISC__BLON_ACTIVE_LOW                                           0x10</span></pre></div></td></tr>


<tr id="section-264"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-264">&#182;</a></div><p>not used any more</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define SYS_INFO_LVDSMISC__VSYNC_ACTIVE_LOW                                          0x04</span>
<span class="cp">#define SYS_INFO_LVDSMISC__HSYNC_ACTIVE_LOW                                          0x08</span>

<span class="cm">/**********************************************************************************************************************</span>
<span class="cm">  ATOM_INTEGRATED_SYSTEM_INFO_V6 Description</span>
<span class="cm">ulBootUpEngineClock:              VBIOS bootup Engine clock frequency, in 10kHz unit. if it is equal 0, then VBIOS use pre-defined bootup engine clock</span>
<span class="cm">ulDentistVCOFreq:                 Dentist VCO clock in 10kHz unit. </span>
<span class="cm">ulBootUpUMAClock:                 System memory boot up clock frequency in 10Khz unit. </span>
<span class="cm">sDISPCLK_Voltage:                 Report Display clock voltage requirement.</span>
<span class="cm"> </span>
<span class="cm">ulBootUpReqDisplayVector:         VBIOS boot up display IDs, following are supported devices in Liano/Ontaio projects:</span>
<span class="cm">                                  ATOM_DEVICE_CRT1_SUPPORT                  0x0001</span>
<span class="cm">                                  ATOM_DEVICE_CRT2_SUPPORT                  0x0010</span>
<span class="cm">                                  ATOM_DEVICE_DFP1_SUPPORT                  0x0008 </span>
<span class="cm">                                  ATOM_DEVICE_DFP6_SUPPORT                  0x0040 </span>
<span class="cm">                                  ATOM_DEVICE_DFP2_SUPPORT                  0x0080       </span>
<span class="cm">                                  ATOM_DEVICE_DFP3_SUPPORT                  0x0200       </span>
<span class="cm">                                  ATOM_DEVICE_DFP4_SUPPORT                  0x0400        </span>
<span class="cm">                                  ATOM_DEVICE_DFP5_SUPPORT                  0x0800</span>
<span class="cm">                                  ATOM_DEVICE_LCD1_SUPPORT                  0x0002</span>
<span class="cm">ulOtherDisplayMisc:      	        Other display related flags, not defined yet. </span>
<span class="cm">ulGPUCapInfo:                     bit[0]=0: TMDS/HDMI Coherent Mode use cascade PLL mode.</span>
<span class="cm">                                        =1: TMDS/HDMI Coherent Mode use signel PLL mode.</span>
<span class="cm">                                  bit[3]=0: Enable HW AUX mode detection logic</span>
<span class="cm">                                        =1: Disable HW AUX mode dettion logic</span>
<span class="cm">ulSB_MMIO_Base_Addr:              Physical Base address to SB MMIO space. Driver needs to initialize it for SMU usage.</span>

<span class="cm">usRequestedPWMFreqInHz:           When it&#39;s set to 0x0 by SBIOS: the LCD BackLight is not controlled by GPU(SW). </span>
<span class="cm">                                  Any attempt to change BL using VBIOS function or enable VariBri from PP table is not effective since ATOM_BIOS_INFO_BL_CONTROLLED_BY_GPU==0;</span>
<span class="cm">                                  </span>
<span class="cm">                                  When it&#39;s set to a non-zero frequency, the BackLight is controlled by GPU (SW) in one of two ways below:</span>
<span class="cm">                                  1. SW uses the GPU BL PWM output to control the BL, in chis case, this non-zero frequency determines what freq GPU should use;</span>
<span class="cm">                                  VBIOS will set up proper PWM frequency and ATOM_BIOS_INFO_BL_CONTROLLED_BY_GPU==1,as the result,</span>
<span class="cm">                                  Changing BL using VBIOS function is functional in both driver and non-driver present environment; </span>
<span class="cm">                                  and enabling VariBri under the driver environment from PP table is optional.</span>

<span class="cm">                                  2. SW uses other means to control BL (like DPCD),this non-zero frequency serves as a flag only indicating</span>
<span class="cm">                                  that BL control from GPU is expected.</span>
<span class="cm">                                  VBIOS will NOT set up PWM frequency but make ATOM_BIOS_INFO_BL_CONTROLLED_BY_GPU==1</span>
<span class="cm">                                  Changing BL using VBIOS function could be functional in both driver and non-driver present environment,but</span>
<span class="cm">                                  it&#39;s per platform </span>
<span class="cm">                                  and enabling VariBri under the driver environment from PP table is optional.</span>

<span class="cm">ucHtcTmpLmt:                      Refer to D18F3x64 bit[22:16], HtcTmpLmt. </span>
<span class="cm">                                  Threshold on value to enter HTC_active state.</span>
<span class="cm">ucHtcHystLmt:                     Refer to D18F3x64 bit[27:24], HtcHystLmt. </span>
<span class="cm">                                  To calculate threshold off value to exit HTC_active state, which is Threshold on vlaue minus ucHtcHystLmt.</span>
<span class="cm">ulMinEngineClock:                 Minimum SCLK allowed in 10kHz unit. This is calculated based on WRCK Fuse settings.</span>
<span class="cm">ulSystemConfig:                   Bit[0]=0: PCIE Power Gating Disabled </span>
<span class="cm">                                        =1: PCIE Power Gating Enabled</span>
<span class="cm">                                  Bit[1]=0: DDR-DLL shut-down feature disabled.</span>
<span class="cm">                                         1: DDR-DLL shut-down feature enabled.</span>
<span class="cm">                                  Bit[2]=0: DDR-PLL Power down feature disabled.</span>
<span class="cm">                                         1: DDR-PLL Power down feature enabled.                                 </span>
<span class="cm">ulCPUCapInfo:                     TBD</span>
<span class="cm">usNBP0Voltage:                    VID for voltage on NB P0 State</span>
<span class="cm">usNBP1Voltage:                    VID for voltage on NB P1 State  </span>
<span class="cm">usBootUpNBVoltage:                Voltage Index of GNB voltage configured by SBIOS, which is suffcient to support VBIOS DISPCLK requirement.</span>
<span class="cm">usExtDispConnInfoOffset:          Offset to sExtDispConnInfo inside the structure</span>
<span class="cm">usPanelRefreshRateRange:          Bit vector for LCD supported refresh rate range. If DRR is requestd by the platform, at least two bits need to be set</span>
<span class="cm">                                  to indicate a range.</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_30Hz          0x0004</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_40Hz          0x0008</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_50Hz          0x0010</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_60Hz          0x0020</span>
<span class="cm">ucMemoryType:                     [3:0]=1:DDR1;=2:DDR2;=3:DDR3.[7:4] is reserved.</span>
<span class="cm">ucUMAChannelNumber:      	        System memory channel numbers. </span>
<span class="cm">ulCSR_M3_ARB_CNTL_DEFAULT[10]:    Arrays with values for CSR M3 arbiter for default</span>
<span class="cm">ulCSR_M3_ARB_CNTL_UVD[10]:        Arrays with values for CSR M3 arbiter for UVD playback.</span>
<span class="cm">ulCSR_M3_ARB_CNTL_FS3D[10]:       Arrays with values for CSR M3 arbiter for Full Screen 3D applications.</span>
<span class="cm">sAvail_SCLK[5]:                   Arrays to provide availabe list of SLCK and corresponding voltage, order from low to high  </span>
<span class="cm">ulGMCRestoreResetTime:            GMC power restore and GMC reset time to calculate data reconnection latency. Unit in ns. </span>
<span class="cm">ulMinimumNClk:                    Minimum NCLK speed among all NB-Pstates to calcualte data reconnection latency. Unit in 10kHz. </span>
<span class="cm">ulIdleNClk:                       NCLK speed while memory runs in self-refresh state. Unit in 10kHz.</span>
<span class="cm">ulDDR_DLL_PowerUpTime:            DDR PHY DLL power up time. Unit in ns.</span>
<span class="cm">ulDDR_PLL_PowerUpTime:            DDR PHY PLL power up time. Unit in ns.</span>
<span class="cm">usPCIEClkSSPercentage:            PCIE Clock Spred Spectrum Percentage in unit 0.01%; 100 mean 1%.</span>
<span class="cm">usPCIEClkSSType:                  PCIE Clock Spred Spectrum Type. 0 for Down spread(default); 1 for Center spread.</span>
<span class="cm">usLvdsSSPercentage:               LVDS panel ( not include eDP ) Spread Spectrum Percentage in unit of 0.01%, =0, use VBIOS default setting. </span>
<span class="cm">usLvdsSSpreadRateIn10Hz:          LVDS panel ( not include eDP ) Spread Spectrum frequency in unit of 10Hz, =0, use VBIOS default setting. </span>
<span class="cm">usHDMISSPercentage:               HDMI Spread Spectrum Percentage in unit 0.01%; 100 mean 1%,  =0, use VBIOS default setting. </span>
<span class="cm">usHDMISSpreadRateIn10Hz:          HDMI Spread Spectrum frequency in unit of 10Hz,  =0, use VBIOS default setting. </span>
<span class="cm">usDVISSPercentage:                DVI Spread Spectrum Percentage in unit 0.01%; 100 mean 1%,  =0, use VBIOS default setting. </span>
<span class="cm">usDVISSpreadRateIn10Hz:           DVI Spread Spectrum frequency in unit of 10Hz,  =0, use VBIOS default setting. </span>
<span class="cm">usMaxLVDSPclkFreqInSingleLink:    Max pixel clock LVDS panel single link, if=0 means VBIOS use default threhold, right now it is 85Mhz</span>
<span class="cm">ucLVDSMisc:                       [bit0] LVDS 888bit panel mode =0: LVDS 888 panel in LDI mode, =1: LVDS 888 panel in FPDI mode</span>
<span class="cm">                                  [bit1] LVDS panel lower and upper link mapping =0: lower link and upper link not swap, =1: lower link and upper link are swapped</span>
<span class="cm">                                  [bit2] LVDS 888bit per color mode  =0: 666 bit per color =1:888 bit per color</span>
<span class="cm">                                  [bit3] LVDS parameter override enable  =0: ucLvdsMisc parameter are not used =1: ucLvdsMisc parameter should be used</span>
<span class="cm">                                  [bit4] Polarity of signal sent to digital BLON output pin. =0: not inverted(active high) =1: inverted ( active low )</span>
<span class="cm">**********************************************************************************************************************/</span></pre></div></td></tr>


<tr id="section-265"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-265">&#182;</a></div><p>this Table is used for Liano/Ontario APU</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_FUSION_SYSTEM_INFO_V1</span>
<span class="p">{</span>
  <span class="n">ATOM_INTEGRATED_SYSTEM_INFO_V6</span>    <span class="n">sIntegratedSysInfo</span><span class="p">;</span>   
  <span class="n">ULONG</span>  <span class="n">ulPowerplayTable</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>  
<span class="p">}</span><span class="n">ATOM_FUSION_SYSTEM_INFO_V1</span><span class="p">;</span> 
<span class="cm">/**********************************************************************************************************************</span>
<span class="cm">  ATOM_FUSION_SYSTEM_INFO_V1 Description</span>
<span class="cm">sIntegratedSysInfo:               refer to ATOM_INTEGRATED_SYSTEM_INFO_V6 definition.</span>
<span class="cm">ulPowerplayTable[128]:            This 512 bytes memory is used to save ATOM_PPLIB_POWERPLAYTABLE3, starting form ulPowerplayTable[0]    </span>
<span class="cm">**********************************************************************************************************************/</span> </pre></div></td></tr>


<tr id="section-266"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-266">&#182;</a></div><p>this IntegrateSystemInfoTable is used for Trinity APU</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_INTEGRATED_SYSTEM_INFO_V1_7</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulBootUpEngineClock</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulDentistVCOFreq</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulBootUpUMAClock</span><span class="p">;</span>
  <span class="n">ATOM_CLK_VOLT_CAPABILITY</span>   <span class="n">sDISPCLK_Voltage</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
  <span class="n">ULONG</span>  <span class="n">ulBootUpReqDisplayVector</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulOtherDisplayMisc</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulGPUCapInfo</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulSB_MMIO_Base_Addr</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usRequestedPWMFreqInHz</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucHtcTmpLmt</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucHtcHystLmt</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulMinEngineClock</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulSystemConfig</span><span class="p">;</span>            
  <span class="n">ULONG</span>  <span class="n">ulCPUCapInfo</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usNBP0Voltage</span><span class="p">;</span>               
  <span class="n">USHORT</span> <span class="n">usNBP1Voltage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usBootUpNBVoltage</span><span class="p">;</span>                       
  <span class="n">USHORT</span> <span class="n">usExtDispConnInfoOffset</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPanelRefreshRateRange</span><span class="p">;</span>     
  <span class="n">UCHAR</span>  <span class="n">ucMemoryType</span><span class="p">;</span>  
  <span class="n">UCHAR</span>  <span class="n">ucUMAChannelNumber</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">strVBIOSMsg</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
  <span class="n">ULONG</span>  <span class="n">ulReserved</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
  <span class="n">ATOM_AVAILABLE_SCLK_LIST</span>   <span class="n">sAvail_SCLK</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
  <span class="n">ULONG</span>  <span class="n">ulGMCRestoreResetTime</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulMinimumNClk</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulIdleNClk</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulDDR_DLL_PowerUpTime</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulDDR_PLL_PowerUpTime</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPCIEClkSSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usPCIEClkSSType</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usLvdsSSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usLvdsSSpreadRateIn10Hz</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usHDMISSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usHDMISSpreadRateIn10Hz</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usDVISSPercentage</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usDVISSpreadRateIn10Hz</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">SclkDpmBoostMargin</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">SclkDpmThrottleMargin</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">SclkDpmTdpLimitPG</span><span class="p">;</span> 
  <span class="n">USHORT</span> <span class="n">SclkDpmTdpLimitBoost</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulBoostEngineCLock</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ulBoostVid_2bit</span><span class="p">;</span>  
  <span class="n">UCHAR</span>  <span class="n">EnableBoost</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">GnbTdpLimit</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usMaxLVDSPclkFreqInSingleLink</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLvdsMisc</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSPwrOnSeqDIGONtoDE_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSPwrOnSeqDEtoVARY_BL_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSPwrOffSeqVARY_BLtoDE_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSPwrOffSeqDEtoDIGON_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSOffToOnDelay_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSPwrOnSeqVARY_BLtoBLON_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSPwrOffSeqBLONtoVARY_BL_in4Ms</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucLVDSReserved1</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulLCDBitDepthControlVal</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulNbpStateMemclkFreq</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
  <span class="n">USHORT</span> <span class="n">usNBP2Voltage</span><span class="p">;</span>               
  <span class="n">USHORT</span> <span class="n">usNBP3Voltage</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulNbpStateNClkFreq</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
  <span class="n">UCHAR</span>  <span class="n">ucNBDPMEnable</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState0VclkFid</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState0DclkFid</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState1VclkFid</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState1DclkFid</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState2VclkFid</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState2DclkFid</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState3VclkFid</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDPMState3DclkFid</span><span class="p">;</span>
  <span class="n">ATOM_EXTERNAL_DISPLAY_CONNECTION_INFO</span> <span class="n">sExtDispConnInfo</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_INTEGRATED_SYSTEM_INFO_V1_7</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-267"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-267">&#182;</a></div><p>ulOtherDisplayMisc</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define INTEGRATED_SYSTEM_INFO__GET_EDID_CALLBACK_FUNC_SUPPORT            0x01</span>
<span class="cp">#define INTEGRATED_SYSTEM_INFO__GET_BOOTUP_DISPLAY_CALLBACK_FUNC_SUPPORT  0x02</span>
<span class="cp">#define INTEGRATED_SYSTEM_INFO__GET_EXPANSION_CALLBACK_FUNC_SUPPORT       0x04</span>
<span class="cp">#define INTEGRATED_SYSTEM_INFO__FAST_BOOT_SUPPORT                         0x08</span></pre></div></td></tr>


<tr id="section-268"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-268">&#182;</a></div><p>ulGPUCapInfo</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define SYS_INFO_GPUCAPS__TMDSHDMI_COHERENT_SINGLEPLL_MODE                0x01</span>
<span class="cp">#define SYS_INFO_GPUCAPS__DP_SINGLEPLL_MODE                               0x02</span>
<span class="cp">#define SYS_INFO_GPUCAPS__DISABLE_AUX_MODE_DETECT                         0x08</span>

<span class="cm">/**********************************************************************************************************************</span>
<span class="cm">  ATOM_INTEGRATED_SYSTEM_INFO_V1_7 Description</span>
<span class="cm">ulBootUpEngineClock:              VBIOS bootup Engine clock frequency, in 10kHz unit. if it is equal 0, then VBIOS use pre-defined bootup engine clock</span>
<span class="cm">ulDentistVCOFreq:                 Dentist VCO clock in 10kHz unit. </span>
<span class="cm">ulBootUpUMAClock:                 System memory boot up clock frequency in 10Khz unit. </span>
<span class="cm">sDISPCLK_Voltage:                 Report Display clock voltage requirement.</span>
<span class="cm"> </span>
<span class="cm">ulBootUpReqDisplayVector:         VBIOS boot up display IDs, following are supported devices in Trinity projects:</span>
<span class="cm">                                  ATOM_DEVICE_CRT1_SUPPORT                  0x0001</span>
<span class="cm">                                  ATOM_DEVICE_DFP1_SUPPORT                  0x0008 </span>
<span class="cm">                                  ATOM_DEVICE_DFP6_SUPPORT                  0x0040 </span>
<span class="cm">                                  ATOM_DEVICE_DFP2_SUPPORT                  0x0080       </span>
<span class="cm">                                  ATOM_DEVICE_DFP3_SUPPORT                  0x0200       </span>
<span class="cm">                                  ATOM_DEVICE_DFP4_SUPPORT                  0x0400        </span>
<span class="cm">                                  ATOM_DEVICE_DFP5_SUPPORT                  0x0800</span>
<span class="cm">                                  ATOM_DEVICE_LCD1_SUPPORT                  0x0002</span>
<span class="cm">ulOtherDisplayMisc:      	        bit[0]=0: INT15 callback function Get LCD EDID ( ax=4e08, bl=1b ) is not supported by SBIOS. </span>
<span class="cm">                                        =1: INT15 callback function Get LCD EDID ( ax=4e08, bl=1b ) is supported by SBIOS. </span>
<span class="cm">                                  bit[1]=0: INT15 callback function Get boot display( ax=4e08, bl=01h) is not supported by SBIOS</span>
<span class="cm">                                        =1: INT15 callback function Get boot display( ax=4e08, bl=01h) is supported by SBIOS</span>
<span class="cm">                                  bit[2]=0: INT15 callback function Get panel Expansion ( ax=4e08, bl=02h) is not supported by SBIOS</span>
<span class="cm">                                        =1: INT15 callback function Get panel Expansion ( ax=4e08, bl=02h) is supported by SBIOS</span>
<span class="cm">                                  bit[3]=0: VBIOS fast boot is disable</span>
<span class="cm">                                        =1: VBIOS fast boot is enable. ( VBIOS skip display device detection in every set mode if LCD panel is connect and LID is open)</span>
<span class="cm">ulGPUCapInfo:                     bit[0]=0: TMDS/HDMI Coherent Mode use cascade PLL mode.</span>
<span class="cm">                                        =1: TMDS/HDMI Coherent Mode use signel PLL mode.</span>
<span class="cm">                                  bit[1]=0: DP mode use cascade PLL mode ( New for Trinity )</span>
<span class="cm">                                        =1: DP mode use single PLL mode</span>
<span class="cm">                                  bit[3]=0: Enable AUX HW mode detection logic</span>
<span class="cm">                                        =1: Disable AUX HW mode detection logic</span>
<span class="cm">                                      </span>
<span class="cm">ulSB_MMIO_Base_Addr:              Physical Base address to SB MMIO space. Driver needs to initialize it for SMU usage.</span>

<span class="cm">usRequestedPWMFreqInHz:           When it&#39;s set to 0x0 by SBIOS: the LCD BackLight is not controlled by GPU(SW). </span>
<span class="cm">                                  Any attempt to change BL using VBIOS function or enable VariBri from PP table is not effective since ATOM_BIOS_INFO_BL_CONTROLLED_BY_GPU==0;</span>
<span class="cm">                                  </span>
<span class="cm">                                  When it&#39;s set to a non-zero frequency, the BackLight is controlled by GPU (SW) in one of two ways below:</span>
<span class="cm">                                  1. SW uses the GPU BL PWM output to control the BL, in chis case, this non-zero frequency determines what freq GPU should use;</span>
<span class="cm">                                  VBIOS will set up proper PWM frequency and ATOM_BIOS_INFO_BL_CONTROLLED_BY_GPU==1,as the result,</span>
<span class="cm">                                  Changing BL using VBIOS function is functional in both driver and non-driver present environment; </span>
<span class="cm">                                  and enabling VariBri under the driver environment from PP table is optional.</span>

<span class="cm">                                  2. SW uses other means to control BL (like DPCD),this non-zero frequency serves as a flag only indicating</span>
<span class="cm">                                  that BL control from GPU is expected.</span>
<span class="cm">                                  VBIOS will NOT set up PWM frequency but make ATOM_BIOS_INFO_BL_CONTROLLED_BY_GPU==1</span>
<span class="cm">                                  Changing BL using VBIOS function could be functional in both driver and non-driver present environment,but</span>
<span class="cm">                                  it&#39;s per platform </span>
<span class="cm">                                  and enabling VariBri under the driver environment from PP table is optional.</span>

<span class="cm">ucHtcTmpLmt:                      Refer to D18F3x64 bit[22:16], HtcTmpLmt. </span>
<span class="cm">                                  Threshold on value to enter HTC_active state.</span>
<span class="cm">ucHtcHystLmt:                     Refer to D18F3x64 bit[27:24], HtcHystLmt. </span>
<span class="cm">                                  To calculate threshold off value to exit HTC_active state, which is Threshold on vlaue minus ucHtcHystLmt.</span>
<span class="cm">ulMinEngineClock:                 Minimum SCLK allowed in 10kHz unit. This is calculated based on WRCK Fuse settings.</span>
<span class="cm">ulSystemConfig:                   Bit[0]=0: PCIE Power Gating Disabled </span>
<span class="cm">                                        =1: PCIE Power Gating Enabled</span>
<span class="cm">                                  Bit[1]=0: DDR-DLL shut-down feature disabled.</span>
<span class="cm">                                         1: DDR-DLL shut-down feature enabled.</span>
<span class="cm">                                  Bit[2]=0: DDR-PLL Power down feature disabled.</span>
<span class="cm">                                         1: DDR-PLL Power down feature enabled.                                 </span>
<span class="cm">ulCPUCapInfo:                     TBD</span>
<span class="cm">usNBP0Voltage:                    VID for voltage on NB P0 State</span>
<span class="cm">usNBP1Voltage:                    VID for voltage on NB P1 State  </span>
<span class="cm">usNBP2Voltage:                    VID for voltage on NB P2 State</span>
<span class="cm">usNBP3Voltage:                    VID for voltage on NB P3 State  </span>
<span class="cm">usBootUpNBVoltage:                Voltage Index of GNB voltage configured by SBIOS, which is suffcient to support VBIOS DISPCLK requirement.</span>
<span class="cm">usExtDispConnInfoOffset:          Offset to sExtDispConnInfo inside the structure</span>
<span class="cm">usPanelRefreshRateRange:          Bit vector for LCD supported refresh rate range. If DRR is requestd by the platform, at least two bits need to be set</span>
<span class="cm">                                  to indicate a range.</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_30Hz          0x0004</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_40Hz          0x0008</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_50Hz          0x0010</span>
<span class="cm">                                  SUPPORTED_LCD_REFRESHRATE_60Hz          0x0020</span>
<span class="cm">ucMemoryType:                     [3:0]=1:DDR1;=2:DDR2;=3:DDR3.[7:4] is reserved.</span>
<span class="cm">ucUMAChannelNumber:      	        System memory channel numbers. </span>
<span class="cm">ulCSR_M3_ARB_CNTL_DEFAULT[10]:    Arrays with values for CSR M3 arbiter for default</span>
<span class="cm">ulCSR_M3_ARB_CNTL_UVD[10]:        Arrays with values for CSR M3 arbiter for UVD playback.</span>
<span class="cm">ulCSR_M3_ARB_CNTL_FS3D[10]:       Arrays with values for CSR M3 arbiter for Full Screen 3D applications.</span>
<span class="cm">sAvail_SCLK[5]:                   Arrays to provide availabe list of SLCK and corresponding voltage, order from low to high  </span>
<span class="cm">ulGMCRestoreResetTime:            GMC power restore and GMC reset time to calculate data reconnection latency. Unit in ns. </span>
<span class="cm">ulMinimumNClk:                    Minimum NCLK speed among all NB-Pstates to calcualte data reconnection latency. Unit in 10kHz. </span>
<span class="cm">ulIdleNClk:                       NCLK speed while memory runs in self-refresh state. Unit in 10kHz.</span>
<span class="cm">ulDDR_DLL_PowerUpTime:            DDR PHY DLL power up time. Unit in ns.</span>
<span class="cm">ulDDR_PLL_PowerUpTime:            DDR PHY PLL power up time. Unit in ns.</span>
<span class="cm">usPCIEClkSSPercentage:            PCIE Clock Spread Spectrum Percentage in unit 0.01%; 100 mean 1%.</span>
<span class="cm">usPCIEClkSSType:                  PCIE Clock Spread Spectrum Type. 0 for Down spread(default); 1 for Center spread.</span>
<span class="cm">usLvdsSSPercentage:               LVDS panel ( not include eDP ) Spread Spectrum Percentage in unit of 0.01%, =0, use VBIOS default setting. </span>
<span class="cm">usLvdsSSpreadRateIn10Hz:          LVDS panel ( not include eDP ) Spread Spectrum frequency in unit of 10Hz, =0, use VBIOS default setting. </span>
<span class="cm">usHDMISSPercentage:               HDMI Spread Spectrum Percentage in unit 0.01%; 100 mean 1%,  =0, use VBIOS default setting. </span>
<span class="cm">usHDMISSpreadRateIn10Hz:          HDMI Spread Spectrum frequency in unit of 10Hz,  =0, use VBIOS default setting. </span>
<span class="cm">usDVISSPercentage:                DVI Spread Spectrum Percentage in unit 0.01%; 100 mean 1%,  =0, use VBIOS default setting. </span>
<span class="cm">usDVISSpreadRateIn10Hz:           DVI Spread Spectrum frequency in unit of 10Hz,  =0, use VBIOS default setting. </span>
<span class="cm">usMaxLVDSPclkFreqInSingleLink:    Max pixel clock LVDS panel single link, if=0 means VBIOS use default threhold, right now it is 85Mhz</span>
<span class="cm">ucLVDSMisc:                       [bit0] LVDS 888bit panel mode =0: LVDS 888 panel in LDI mode, =1: LVDS 888 panel in FPDI mode</span>
<span class="cm">                                  [bit1] LVDS panel lower and upper link mapping =0: lower link and upper link not swap, =1: lower link and upper link are swapped</span>
<span class="cm">                                  [bit2] LVDS 888bit per color mode  =0: 666 bit per color =1:888 bit per color</span>
<span class="cm">                                  [bit3] LVDS parameter override enable  =0: ucLvdsMisc parameter are not used =1: ucLvdsMisc parameter should be used</span>
<span class="cm">                                  [bit4] Polarity of signal sent to digital BLON output pin. =0: not inverted(active high) =1: inverted ( active low )</span>
<span class="cm">ucLVDSPwrOnSeqDIGONtoDE_in4Ms:    LVDS power up sequence time in unit of 4ms, time delay from DIGON signal active to data enable signal active( DE ).</span>
<span class="cm">                                  =0 mean use VBIOS default which is 8 ( 32ms ). The LVDS power up sequence is as following: DIGON-&gt;DE-&gt;VARY_BL-&gt;BLON. </span>
<span class="cm">                                  This parameter is used by VBIOS only. VBIOS will patch LVDS_InfoTable.</span>
<span class="cm">ucLVDSPwrOnDEtoVARY_BL_in4Ms:     LVDS power up sequence time in unit of 4ms., time delay from DE( data enable ) active to Vary Brightness enable signal active( VARY_BL ).  </span>
<span class="cm">                                  =0 mean use VBIOS default which is 90 ( 360ms ). The LVDS power up sequence is as following: DIGON-&gt;DE-&gt;VARY_BL-&gt;BLON. </span>
<span class="cm">                                  This parameter is used by VBIOS only. VBIOS will patch LVDS_InfoTable.</span>

<span class="cm">ucLVDSPwrOffVARY_BLtoDE_in4Ms:    LVDS power down sequence time in unit of 4ms, time delay from data enable ( DE ) signal off to LCDVCC (DIGON) off. </span>
<span class="cm">                                  =0 mean use VBIOS default delay which is 8 ( 32ms ). The LVDS power down sequence is as following: BLON-&gt;VARY_BL-&gt;DE-&gt;DIGON</span>
<span class="cm">                                  This parameter is used by VBIOS only. VBIOS will patch LVDS_InfoTable.</span>

<span class="cm">ucLVDSPwrOffDEtoDIGON_in4Ms:      LVDS power down sequence time in unit of 4ms, time delay from vary brightness enable signal( VARY_BL) off to data enable ( DE ) signal off. </span>
<span class="cm">                                  =0 mean use VBIOS default which is 90 ( 360ms ). The LVDS power down sequence is as following: BLON-&gt;VARY_BL-&gt;DE-&gt;DIGON</span>
<span class="cm">                                  This parameter is used by VBIOS only. VBIOS will patch LVDS_InfoTable.</span>

<span class="cm">ucLVDSOffToOnDelay_in4Ms:         LVDS power down sequence time in unit of 4ms. Time delay from DIGON signal off to DIGON signal active. </span>
<span class="cm">                                  =0 means to use VBIOS default delay which is 125 ( 500ms ).</span>
<span class="cm">                                  This parameter is used by VBIOS only. VBIOS will patch LVDS_InfoTable.</span>

<span class="cm">ucLVDSPwrOnVARY_BLtoBLON_in4Ms:   LVDS power up sequence time in unit of 4ms. Time delay from VARY_BL signal on to DLON signal active. </span>
<span class="cm">                                  =0 means to use VBIOS default delay which is 0 ( 0ms ).</span>
<span class="cm">                                  This parameter is used by VBIOS only. VBIOS will patch LVDS_InfoTable.</span>

<span class="cm">ucLVDSPwrOffBLONtoVARY_BL_in4Ms:  LVDS power down sequence time in unit of 4ms. Time delay from BLON signal off to VARY_BL signal off. </span>
<span class="cm">                                  =0 means to use VBIOS default delay which is 0 ( 0ms ).</span>
<span class="cm">                                  This parameter is used by VBIOS only. VBIOS will patch LVDS_InfoTable.</span>

<span class="cm">ulNbpStateMemclkFreq[4]:          system memory clock frequncey in unit of 10Khz in different NB pstate. </span>

<span class="cm">**********************************************************************************************************************/</span>

<span class="cm">/**************************************************************************/</span></pre></div></td></tr>


<tr id="section-269"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-269">&#182;</a></div><p>This portion is only used when ext thermal chip or engine/memory clock SS chip is populated on a design
Memory SS Info Table
Define Memory Clock SS chip ID</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ICS91719  1</span>
<span class="cp">#define ICS91720  2</span></pre></div></td></tr>


<tr id="section-270"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-270">&#182;</a></div><p>Define one structure to inform SW a "block of data" writing to external SS chip via I2C protocol</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_I2C_DATA_RECORD</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>         <span class="n">ucNunberOfBytes</span><span class="p">;</span>                                              <span class="c1">//Indicates how many bytes SW needs to write to the external ASIC for one block, besides to &quot;Start&quot; and &quot;Stop&quot;</span>
  <span class="n">UCHAR</span>         <span class="n">ucI2CData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                                                 <span class="c1">//I2C data in bytes, should be less than 16 bytes usually</span>
<span class="p">}</span><span class="n">ATOM_I2C_DATA_RECORD</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-271"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-271">&#182;</a></div><p>Define one structure to inform SW how many blocks of data writing to external SS chip via I2C protocol, in addition to other information</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_I2C_DEVICE_SETUP_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_I2C_ID_CONFIG_ACCESS</span>       <span class="n">sucI2cId</span><span class="p">;</span>               <span class="c1">//I2C line and HW/SW assisted cap.</span>
  <span class="n">UCHAR</span>		                        <span class="n">ucSSChipID</span><span class="p">;</span>             <span class="c1">//SS chip being used</span>
  <span class="n">UCHAR</span>		                        <span class="n">ucSSChipSlaveAddr</span><span class="p">;</span>      <span class="c1">//Slave Address to set up this SS chip</span>
  <span class="n">UCHAR</span>                           <span class="n">ucNumOfI2CDataRecords</span><span class="p">;</span>  <span class="c1">//number of data block</span>
  <span class="n">ATOM_I2C_DATA_RECORD</span>            <span class="n">asI2CData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>  
<span class="p">}</span><span class="n">ATOM_I2C_DEVICE_SETUP_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-272"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-272">&#182;</a></div><p>==========================================================================================</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_ASIC_MVDD_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	      <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ATOM_I2C_DEVICE_SETUP_INFO</span>      <span class="n">asI2CSetup</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ASIC_MVDD_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-273"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-273">&#182;</a></div><p>==========================================================================================</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_MCLK_SS_INFO         ATOM_ASIC_MVDD_INFO</span></pre></div></td></tr>


<tr id="section-274"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-274">&#182;</a></div><p>==========================================================================================</p></td><td class="code"><div class="highlight"><pre><span class="cm">/**************************************************************************/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ASIC_SS_ASSIGNMENT</span>
<span class="p">{</span>
	<span class="n">ULONG</span>								<span class="n">ulTargetClockRange</span><span class="p">;</span>						<span class="c1">//Clock Out frequence (VCO ), in unit of 10Khz</span>
  <span class="n">USHORT</span>              <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span>		<span class="c1">//in unit of 0.01%</span>
	<span class="n">USHORT</span>							<span class="n">usSpreadRateInKhz</span><span class="p">;</span>						<span class="c1">//in unit of kHz, modulation freq</span>
  <span class="n">UCHAR</span>               <span class="n">ucClockIndication</span><span class="p">;</span>					  <span class="c1">//Indicate which clock source needs SS</span>
	<span class="n">UCHAR</span>								<span class="n">ucSpreadSpectrumMode</span><span class="p">;</span>					<span class="c1">//Bit1=0 Down Spread,=1 Center Spread.</span>
	<span class="n">UCHAR</span>								<span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ASIC_SS_ASSIGNMENT</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-275"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-275">&#182;</a></div><p>Define ucClockIndication, SW uses the IDs below to search if the SS is required/enabled on a clock branch/signal type.
SS is not required or enabled if a match is not found.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ASIC_INTERNAL_MEMORY_SS			1</span>
<span class="cp">#define ASIC_INTERNAL_ENGINE_SS			2</span>
<span class="cp">#define ASIC_INTERNAL_UVD_SS        3</span>
<span class="cp">#define ASIC_INTERNAL_SS_ON_TMDS    4</span>
<span class="cp">#define ASIC_INTERNAL_SS_ON_HDMI    5</span>
<span class="cp">#define ASIC_INTERNAL_SS_ON_LVDS    6</span>
<span class="cp">#define ASIC_INTERNAL_SS_ON_DP      7</span>
<span class="cp">#define ASIC_INTERNAL_SS_ON_DCPLL   8</span>
<span class="cp">#define ASIC_EXTERNAL_SS_ON_DP_CLOCK 9</span>
<span class="cp">#define ASIC_INTERNAL_VCE_SS        10</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ASIC_SS_ASSIGNMENT_V2</span>
<span class="p">{</span>
	<span class="n">ULONG</span>								<span class="n">ulTargetClockRange</span><span class="p">;</span>						<span class="c1">//For mem/engine/uvd, Clock Out frequence (VCO ), in unit of 10Khz</span></pre></div></td></tr>


<tr id="section-276"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-276">&#182;</a></div><p>For TMDS/HDMI/LVDS, it is pixel clock , for DP, it is link clock ( 27000 or 16200 )</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>              <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span>		<span class="c1">//in unit of 0.01%</span>
	<span class="n">USHORT</span>							<span class="n">usSpreadRateIn10Hz</span><span class="p">;</span>						<span class="c1">//in unit of 10Hz, modulation freq</span>
  <span class="n">UCHAR</span>               <span class="n">ucClockIndication</span><span class="p">;</span>					  <span class="c1">//Indicate which clock source needs SS</span>
	<span class="n">UCHAR</span>								<span class="n">ucSpreadSpectrumMode</span><span class="p">;</span>					<span class="c1">//Bit0=0 Down Spread,=1 Center Spread, bit1=0: internal SS bit1=1: external SS</span>
	<span class="n">UCHAR</span>								<span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ASIC_SS_ASSIGNMENT_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-277"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-277">&#182;</a></div><p>ucSpreadSpectrumMode</p>

<h1>define ATOM<em>SS</em>DOWN<em>SPREAD</em>MODE_MASK          0x00000000</h1>

<h1>define ATOM<em>SS</em>DOWN<em>SPREAD</em>MODE               0x00000000</h1>

<h1>define ATOM<em>SS</em>CENTRE<em>SPREAD</em>MODE_MASK        0x00000001</h1>

<h1>define ATOM<em>SS</em>CENTRE<em>SPREAD</em>MODE             0x00000001</h1>

<h1>define ATOM<em>INTERNAL</em>SS_MASK                  0x00000000</h1>

<h1>define ATOM<em>EXTERNAL</em>SS_MASK                  0x00000002</h1></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ASIC_INTERNAL_SS_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	      <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ATOM_ASIC_SS_ASSIGNMENT</span>		      <span class="n">asSpreadSpectrum</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ASIC_INTERNAL_SS_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ASIC_INTERNAL_SS_INFO_V2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	      <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ATOM_ASIC_SS_ASSIGNMENT_V2</span>		  <span class="n">asSpreadSpectrum</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>      <span class="c1">//this is point only. </span>
<span class="p">}</span><span class="n">ATOM_ASIC_INTERNAL_SS_INFO_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ASIC_SS_ASSIGNMENT_V3</span>
<span class="p">{</span>
	<span class="n">ULONG</span>								<span class="n">ulTargetClockRange</span><span class="p">;</span>						<span class="c1">//For mem/engine/uvd, Clock Out frequence (VCO ), in unit of 10Khz</span></pre></div></td></tr>


<tr id="section-278"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-278">&#182;</a></div><p>For TMDS/HDMI/LVDS, it is pixel clock , for DP, it is link clock ( 27000 or 16200 )</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>              <span class="n">usSpreadSpectrumPercentage</span><span class="p">;</span>		<span class="c1">//in unit of 0.01%</span>
	<span class="n">USHORT</span>							<span class="n">usSpreadRateIn10Hz</span><span class="p">;</span>						<span class="c1">//in unit of 10Hz, modulation freq</span>
  <span class="n">UCHAR</span>               <span class="n">ucClockIndication</span><span class="p">;</span>					  <span class="c1">//Indicate which clock source needs SS</span>
	<span class="n">UCHAR</span>								<span class="n">ucSpreadSpectrumMode</span><span class="p">;</span>					<span class="c1">//Bit0=0 Down Spread,=1 Center Spread, bit1=0: internal SS bit1=1: external SS</span>
	<span class="n">UCHAR</span>								<span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ASIC_SS_ASSIGNMENT_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ASIC_INTERNAL_SS_INFO_V3</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	      <span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">ATOM_ASIC_SS_ASSIGNMENT_V3</span>		  <span class="n">asSpreadSpectrum</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>      <span class="c1">//this is pointer only. </span>
<span class="p">}</span><span class="n">ATOM_ASIC_INTERNAL_SS_INFO_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-279"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-279">&#182;</a></div><p>==============================Scratch Pad Definition Portion===============================</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_DEVICE_CONNECT_INFO_DEF  0</span>
<span class="cp">#define ATOM_ROM_LOCATION_DEF         1</span>
<span class="cp">#define ATOM_TV_STANDARD_DEF          2</span>
<span class="cp">#define ATOM_ACTIVE_INFO_DEF          3</span>
<span class="cp">#define ATOM_LCD_INFO_DEF             4</span>
<span class="cp">#define ATOM_DOS_REQ_INFO_DEF         5</span>
<span class="cp">#define ATOM_ACC_CHANGE_INFO_DEF      6</span>
<span class="cp">#define ATOM_DOS_MODE_INFO_DEF        7</span>
<span class="cp">#define ATOM_I2C_CHANNEL_STATUS_DEF   8</span>
<span class="cp">#define ATOM_I2C_CHANNEL_STATUS1_DEF  9</span>
<span class="cp">#define ATOM_INTERNAL_TIMER_DEF       10</span></pre></div></td></tr>


<tr id="section-280"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-280">&#182;</a></div><p>BIOS<em>0</em>SCRATCH Definition </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S0_CRT1_MONO               0x00000001L</span>
<span class="cp">#define ATOM_S0_CRT1_COLOR              0x00000002L</span>
<span class="cp">#define ATOM_S0_CRT1_MASK               (ATOM_S0_CRT1_MONO+ATOM_S0_CRT1_COLOR)</span>

<span class="cp">#define ATOM_S0_TV1_COMPOSITE_A         0x00000004L</span>
<span class="cp">#define ATOM_S0_TV1_SVIDEO_A            0x00000008L</span>
<span class="cp">#define ATOM_S0_TV1_MASK_A              (ATOM_S0_TV1_COMPOSITE_A+ATOM_S0_TV1_SVIDEO_A)</span>

<span class="cp">#define ATOM_S0_CV_A                    0x00000010L</span>
<span class="cp">#define ATOM_S0_CV_DIN_A                0x00000020L</span>
<span class="cp">#define ATOM_S0_CV_MASK_A               (ATOM_S0_CV_A+ATOM_S0_CV_DIN_A)</span>


<span class="cp">#define ATOM_S0_CRT2_MONO               0x00000100L</span>
<span class="cp">#define ATOM_S0_CRT2_COLOR              0x00000200L</span>
<span class="cp">#define ATOM_S0_CRT2_MASK               (ATOM_S0_CRT2_MONO+ATOM_S0_CRT2_COLOR)</span>

<span class="cp">#define ATOM_S0_TV1_COMPOSITE           0x00000400L</span>
<span class="cp">#define ATOM_S0_TV1_SVIDEO              0x00000800L</span>
<span class="cp">#define ATOM_S0_TV1_SCART               0x00004000L</span>
<span class="cp">#define ATOM_S0_TV1_MASK                (ATOM_S0_TV1_COMPOSITE+ATOM_S0_TV1_SVIDEO+ATOM_S0_TV1_SCART)</span>

<span class="cp">#define ATOM_S0_CV                      0x00001000L</span>
<span class="cp">#define ATOM_S0_CV_DIN                  0x00002000L</span>
<span class="cp">#define ATOM_S0_CV_MASK                 (ATOM_S0_CV+ATOM_S0_CV_DIN)</span>

<span class="cp">#define ATOM_S0_DFP1                    0x00010000L</span>
<span class="cp">#define ATOM_S0_DFP2                    0x00020000L</span>
<span class="cp">#define ATOM_S0_LCD1                    0x00040000L</span>
<span class="cp">#define ATOM_S0_LCD2                    0x00080000L</span>
<span class="cp">#define ATOM_S0_DFP6                    0x00100000L</span>
<span class="cp">#define ATOM_S0_DFP3                    0x00200000L</span>
<span class="cp">#define ATOM_S0_DFP4                    0x00400000L</span>
<span class="cp">#define ATOM_S0_DFP5                    0x00800000L</span>

<span class="cp">#define ATOM_S0_DFP_MASK                ATOM_S0_DFP1 | ATOM_S0_DFP2 | ATOM_S0_DFP3 | ATOM_S0_DFP4 | ATOM_S0_DFP5 | ATOM_S0_DFP6</span>

<span class="cp">#define ATOM_S0_FAD_REGISTER_BUG        0x02000000L </span><span class="c1">// If set, indicates we are running a PCIE asic with </span></pre></div></td></tr>


<tr id="section-281"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-281">&#182;</a></div><p>the FAD/HDP reg access bug.  Bit is read by DAL, this is obsolete from RV5xx</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S0_THERMAL_STATE_MASK      0x1C000000L</span>
<span class="cp">#define ATOM_S0_THERMAL_STATE_SHIFT     26</span>

<span class="cp">#define ATOM_S0_SYSTEM_POWER_STATE_MASK 0xE0000000L</span>
<span class="cp">#define ATOM_S0_SYSTEM_POWER_STATE_SHIFT 29 </span>

<span class="cp">#define ATOM_S0_SYSTEM_POWER_STATE_VALUE_AC     1</span>
<span class="cp">#define ATOM_S0_SYSTEM_POWER_STATE_VALUE_DC     2</span>
<span class="cp">#define ATOM_S0_SYSTEM_POWER_STATE_VALUE_LITEAC 3</span>
<span class="cp">#define ATOM_S0_SYSTEM_POWER_STATE_VALUE_LIT2AC 4</span></pre></div></td></tr>


<tr id="section-282"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-282">&#182;</a></div><p>Byte aligned definition for BIOS usage</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S0_CRT1_MONOb0             0x01</span>
<span class="cp">#define ATOM_S0_CRT1_COLORb0            0x02</span>
<span class="cp">#define ATOM_S0_CRT1_MASKb0             (ATOM_S0_CRT1_MONOb0+ATOM_S0_CRT1_COLORb0)</span>

<span class="cp">#define ATOM_S0_TV1_COMPOSITEb0         0x04</span>
<span class="cp">#define ATOM_S0_TV1_SVIDEOb0            0x08</span>
<span class="cp">#define ATOM_S0_TV1_MASKb0              (ATOM_S0_TV1_COMPOSITEb0+ATOM_S0_TV1_SVIDEOb0)</span>

<span class="cp">#define ATOM_S0_CVb0                    0x10</span>
<span class="cp">#define ATOM_S0_CV_DINb0                0x20</span>
<span class="cp">#define ATOM_S0_CV_MASKb0               (ATOM_S0_CVb0+ATOM_S0_CV_DINb0)</span>

<span class="cp">#define ATOM_S0_CRT2_MONOb1             0x01</span>
<span class="cp">#define ATOM_S0_CRT2_COLORb1            0x02</span>
<span class="cp">#define ATOM_S0_CRT2_MASKb1             (ATOM_S0_CRT2_MONOb1+ATOM_S0_CRT2_COLORb1)</span>

<span class="cp">#define ATOM_S0_TV1_COMPOSITEb1         0x04</span>
<span class="cp">#define ATOM_S0_TV1_SVIDEOb1            0x08</span>
<span class="cp">#define ATOM_S0_TV1_SCARTb1             0x40</span>
<span class="cp">#define ATOM_S0_TV1_MASKb1              (ATOM_S0_TV1_COMPOSITEb1+ATOM_S0_TV1_SVIDEOb1+ATOM_S0_TV1_SCARTb1)</span>

<span class="cp">#define ATOM_S0_CVb1                    0x10</span>
<span class="cp">#define ATOM_S0_CV_DINb1                0x20</span>
<span class="cp">#define ATOM_S0_CV_MASKb1               (ATOM_S0_CVb1+ATOM_S0_CV_DINb1)</span>

<span class="cp">#define ATOM_S0_DFP1b2                  0x01</span>
<span class="cp">#define ATOM_S0_DFP2b2                  0x02</span>
<span class="cp">#define ATOM_S0_LCD1b2                  0x04</span>
<span class="cp">#define ATOM_S0_LCD2b2                  0x08</span>
<span class="cp">#define ATOM_S0_DFP6b2                  0x10</span>
<span class="cp">#define ATOM_S0_DFP3b2                  0x20</span>
<span class="cp">#define ATOM_S0_DFP4b2                  0x40</span>
<span class="cp">#define ATOM_S0_DFP5b2                  0x80</span>


<span class="cp">#define ATOM_S0_THERMAL_STATE_MASKb3    0x1C</span>
<span class="cp">#define ATOM_S0_THERMAL_STATE_SHIFTb3   2</span>

<span class="cp">#define ATOM_S0_SYSTEM_POWER_STATE_MASKb3 0xE0</span>
<span class="cp">#define ATOM_S0_LCD1_SHIFT              18</span></pre></div></td></tr>


<tr id="section-283"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-283">&#182;</a></div><p>BIOS<em>1</em>SCRATCH Definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S1_ROM_LOCATION_MASK       0x0000FFFFL</span>
<span class="cp">#define ATOM_S1_PCI_BUS_DEV_MASK        0xFFFF0000L</span></pre></div></td></tr>


<tr id="section-284"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-284">&#182;</a></div><p>BIOS<em>2</em>SCRATCH Definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S2_TV1_STANDARD_MASK       0x0000000FL</span>
<span class="cp">#define ATOM_S2_CURRENT_BL_LEVEL_MASK   0x0000FF00L</span>
<span class="cp">#define ATOM_S2_CURRENT_BL_LEVEL_SHIFT  8</span>

<span class="cp">#define ATOM_S2_FORCEDLOWPWRMODE_STATE_MASK       0x0C000000L</span>
<span class="cp">#define ATOM_S2_FORCEDLOWPWRMODE_STATE_MASK_SHIFT 26</span>
<span class="cp">#define ATOM_S2_FORCEDLOWPWRMODE_STATE_CHANGE     0x10000000L</span>

<span class="cp">#define ATOM_S2_DEVICE_DPMS_STATE       0x00010000L</span>
<span class="cp">#define ATOM_S2_VRI_BRIGHT_ENABLE       0x20000000L</span>

<span class="cp">#define ATOM_S2_DISPLAY_ROTATION_0_DEGREE     0x0</span>
<span class="cp">#define ATOM_S2_DISPLAY_ROTATION_90_DEGREE    0x1</span>
<span class="cp">#define ATOM_S2_DISPLAY_ROTATION_180_DEGREE   0x2</span>
<span class="cp">#define ATOM_S2_DISPLAY_ROTATION_270_DEGREE   0x3</span>
<span class="cp">#define ATOM_S2_DISPLAY_ROTATION_DEGREE_SHIFT 30</span>
<span class="cp">#define ATOM_S2_DISPLAY_ROTATION_ANGLE_MASK   0xC0000000L</span></pre></div></td></tr>


<tr id="section-285"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-285">&#182;</a></div><p>Byte aligned definition for BIOS usage</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S2_TV1_STANDARD_MASKb0     0x0F</span>
<span class="cp">#define ATOM_S2_CURRENT_BL_LEVEL_MASKb1 0xFF</span>
<span class="cp">#define ATOM_S2_DEVICE_DPMS_STATEb2     0x01</span>

<span class="cp">#define ATOM_S2_DEVICE_DPMS_MASKw1      0x3FF</span>
<span class="cp">#define ATOM_S2_FORCEDLOWPWRMODE_STATE_MASKb3     0x0C</span>
<span class="cp">#define ATOM_S2_FORCEDLOWPWRMODE_STATE_CHANGEb3   0x10</span>
<span class="cp">#define ATOM_S2_TMDS_COHERENT_MODEb3    0x10          </span><span class="c1">// used by VBIOS code only, use coherent mode for TMDS/HDMI mode</span>
<span class="cp">#define ATOM_S2_VRI_BRIGHT_ENABLEb3     0x20</span>
<span class="cp">#define ATOM_S2_ROTATION_STATE_MASKb3   0xC0</span></pre></div></td></tr>


<tr id="section-286"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-286">&#182;</a></div><p>BIOS<em>3</em>SCRATCH Definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S3_CRT1_ACTIVE             0x00000001L</span>
<span class="cp">#define ATOM_S3_LCD1_ACTIVE             0x00000002L</span>
<span class="cp">#define ATOM_S3_TV1_ACTIVE              0x00000004L</span>
<span class="cp">#define ATOM_S3_DFP1_ACTIVE             0x00000008L</span>
<span class="cp">#define ATOM_S3_CRT2_ACTIVE             0x00000010L</span>
<span class="cp">#define ATOM_S3_LCD2_ACTIVE             0x00000020L</span>
<span class="cp">#define ATOM_S3_DFP6_ACTIVE             0x00000040L</span>
<span class="cp">#define ATOM_S3_DFP2_ACTIVE             0x00000080L</span>
<span class="cp">#define ATOM_S3_CV_ACTIVE               0x00000100L</span>
<span class="cp">#define ATOM_S3_DFP3_ACTIVE							0x00000200L</span>
<span class="cp">#define ATOM_S3_DFP4_ACTIVE							0x00000400L</span>
<span class="cp">#define ATOM_S3_DFP5_ACTIVE							0x00000800L</span>

<span class="cp">#define ATOM_S3_DEVICE_ACTIVE_MASK      0x00000FFFL</span>

<span class="cp">#define ATOM_S3_LCD_FULLEXPANSION_ACTIVE         0x00001000L</span>
<span class="cp">#define ATOM_S3_LCD_EXPANSION_ASPEC_RATIO_ACTIVE 0x00002000L</span>

<span class="cp">#define ATOM_S3_CRT1_CRTC_ACTIVE        0x00010000L</span>
<span class="cp">#define ATOM_S3_LCD1_CRTC_ACTIVE        0x00020000L</span>
<span class="cp">#define ATOM_S3_TV1_CRTC_ACTIVE         0x00040000L</span>
<span class="cp">#define ATOM_S3_DFP1_CRTC_ACTIVE        0x00080000L</span>
<span class="cp">#define ATOM_S3_CRT2_CRTC_ACTIVE        0x00100000L</span>
<span class="cp">#define ATOM_S3_LCD2_CRTC_ACTIVE        0x00200000L</span>
<span class="cp">#define ATOM_S3_DFP6_CRTC_ACTIVE        0x00400000L</span>
<span class="cp">#define ATOM_S3_DFP2_CRTC_ACTIVE        0x00800000L</span>
<span class="cp">#define ATOM_S3_CV_CRTC_ACTIVE          0x01000000L</span>
<span class="cp">#define ATOM_S3_DFP3_CRTC_ACTIVE				0x02000000L</span>
<span class="cp">#define ATOM_S3_DFP4_CRTC_ACTIVE				0x04000000L</span>
<span class="cp">#define ATOM_S3_DFP5_CRTC_ACTIVE				0x08000000L</span>

<span class="cp">#define ATOM_S3_DEVICE_CRTC_ACTIVE_MASK 0x0FFF0000L</span>
<span class="cp">#define ATOM_S3_ASIC_GUI_ENGINE_HUNG    0x20000000L</span></pre></div></td></tr>


<tr id="section-287"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-287">&#182;</a></div><p>Below two definitions are not supported in pplib, but in the old powerplay in DAL</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S3_ALLOW_FAST_PWR_SWITCH   0x40000000L</span>
<span class="cp">#define ATOM_S3_RQST_GPU_USE_MIN_PWR    0x80000000L</span></pre></div></td></tr>


<tr id="section-288"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-288">&#182;</a></div><p>Byte aligned definition for BIOS usage</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S3_CRT1_ACTIVEb0           0x01</span>
<span class="cp">#define ATOM_S3_LCD1_ACTIVEb0           0x02</span>
<span class="cp">#define ATOM_S3_TV1_ACTIVEb0            0x04</span>
<span class="cp">#define ATOM_S3_DFP1_ACTIVEb0           0x08</span>
<span class="cp">#define ATOM_S3_CRT2_ACTIVEb0           0x10</span>
<span class="cp">#define ATOM_S3_LCD2_ACTIVEb0           0x20</span>
<span class="cp">#define ATOM_S3_DFP6_ACTIVEb0           0x40</span>
<span class="cp">#define ATOM_S3_DFP2_ACTIVEb0           0x80</span>
<span class="cp">#define ATOM_S3_CV_ACTIVEb1             0x01</span>
<span class="cp">#define ATOM_S3_DFP3_ACTIVEb1						0x02</span>
<span class="cp">#define ATOM_S3_DFP4_ACTIVEb1						0x04</span>
<span class="cp">#define ATOM_S3_DFP5_ACTIVEb1						0x08</span>

<span class="cp">#define ATOM_S3_ACTIVE_CRTC1w0          0xFFF</span>

<span class="cp">#define ATOM_S3_CRT1_CRTC_ACTIVEb2      0x01</span>
<span class="cp">#define ATOM_S3_LCD1_CRTC_ACTIVEb2      0x02</span>
<span class="cp">#define ATOM_S3_TV1_CRTC_ACTIVEb2       0x04</span>
<span class="cp">#define ATOM_S3_DFP1_CRTC_ACTIVEb2      0x08</span>
<span class="cp">#define ATOM_S3_CRT2_CRTC_ACTIVEb2      0x10</span>
<span class="cp">#define ATOM_S3_LCD2_CRTC_ACTIVEb2      0x20</span>
<span class="cp">#define ATOM_S3_DFP6_CRTC_ACTIVEb2      0x40</span>
<span class="cp">#define ATOM_S3_DFP2_CRTC_ACTIVEb2      0x80</span>
<span class="cp">#define ATOM_S3_CV_CRTC_ACTIVEb3        0x01</span>
<span class="cp">#define ATOM_S3_DFP3_CRTC_ACTIVEb3			0x02</span>
<span class="cp">#define ATOM_S3_DFP4_CRTC_ACTIVEb3			0x04</span>
<span class="cp">#define ATOM_S3_DFP5_CRTC_ACTIVEb3			0x08</span>

<span class="cp">#define ATOM_S3_ACTIVE_CRTC2w1          0xFFF</span></pre></div></td></tr>


<tr id="section-289"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-289">&#182;</a></div><p>BIOS<em>4</em>SCRATCH Definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S4_LCD1_PANEL_ID_MASK      0x000000FFL</span>
<span class="cp">#define ATOM_S4_LCD1_REFRESH_MASK       0x0000FF00L</span>
<span class="cp">#define ATOM_S4_LCD1_REFRESH_SHIFT      8</span></pre></div></td></tr>


<tr id="section-290"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-290">&#182;</a></div><p>Byte aligned definition for BIOS usage</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S4_LCD1_PANEL_ID_MASKb0	  0x0FF</span>
<span class="cp">#define ATOM_S4_LCD1_REFRESH_MASKb1		  ATOM_S4_LCD1_PANEL_ID_MASKb0</span>
<span class="cp">#define ATOM_S4_VRAM_INFO_MASKb2        ATOM_S4_LCD1_PANEL_ID_MASKb0</span></pre></div></td></tr>


<tr id="section-291"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-291">&#182;</a></div><p>BIOS<em>5</em>SCRATCH Definition, BIOS<em>5</em>SCRATCH is used by Firmware only !!!!</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S5_DOS_REQ_CRT1b0          0x01</span>
<span class="cp">#define ATOM_S5_DOS_REQ_LCD1b0          0x02</span>
<span class="cp">#define ATOM_S5_DOS_REQ_TV1b0           0x04</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP1b0          0x08</span>
<span class="cp">#define ATOM_S5_DOS_REQ_CRT2b0          0x10</span>
<span class="cp">#define ATOM_S5_DOS_REQ_LCD2b0          0x20</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP6b0          0x40</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP2b0          0x80</span>
<span class="cp">#define ATOM_S5_DOS_REQ_CVb1            0x01</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP3b1					0x02</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP4b1					0x04</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP5b1					0x08</span>

<span class="cp">#define ATOM_S5_DOS_REQ_DEVICEw0        0x0FFF</span>

<span class="cp">#define ATOM_S5_DOS_REQ_CRT1            0x0001</span>
<span class="cp">#define ATOM_S5_DOS_REQ_LCD1            0x0002</span>
<span class="cp">#define ATOM_S5_DOS_REQ_TV1             0x0004</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP1            0x0008</span>
<span class="cp">#define ATOM_S5_DOS_REQ_CRT2            0x0010</span>
<span class="cp">#define ATOM_S5_DOS_REQ_LCD2            0x0020</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP6            0x0040</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP2            0x0080</span>
<span class="cp">#define ATOM_S5_DOS_REQ_CV              0x0100</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP3            0x0200</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP4            0x0400</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP5            0x0800</span>

<span class="cp">#define ATOM_S5_DOS_FORCE_CRT1b2        ATOM_S5_DOS_REQ_CRT1b0</span>
<span class="cp">#define ATOM_S5_DOS_FORCE_TV1b2         ATOM_S5_DOS_REQ_TV1b0</span>
<span class="cp">#define ATOM_S5_DOS_FORCE_CRT2b2        ATOM_S5_DOS_REQ_CRT2b0</span>
<span class="cp">#define ATOM_S5_DOS_FORCE_CVb3          ATOM_S5_DOS_REQ_CVb1</span>
<span class="cp">#define ATOM_S5_DOS_FORCE_DEVICEw1      (ATOM_S5_DOS_FORCE_CRT1b2+ATOM_S5_DOS_FORCE_TV1b2+ATOM_S5_DOS_FORCE_CRT2b2+\</span>
<span class="cp">                                        (ATOM_S5_DOS_FORCE_CVb3&lt;&lt;8))</span></pre></div></td></tr>


<tr id="section-292"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-292">&#182;</a></div><p>BIOS<em>6</em>SCRATCH Definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S6_DEVICE_CHANGE           0x00000001L</span>
<span class="cp">#define ATOM_S6_SCALER_CHANGE           0x00000002L</span>
<span class="cp">#define ATOM_S6_LID_CHANGE              0x00000004L</span>
<span class="cp">#define ATOM_S6_DOCKING_CHANGE          0x00000008L</span>
<span class="cp">#define ATOM_S6_ACC_MODE                0x00000010L</span>
<span class="cp">#define ATOM_S6_EXT_DESKTOP_MODE        0x00000020L</span>
<span class="cp">#define ATOM_S6_LID_STATE               0x00000040L</span>
<span class="cp">#define ATOM_S6_DOCK_STATE              0x00000080L</span>
<span class="cp">#define ATOM_S6_CRITICAL_STATE          0x00000100L</span>
<span class="cp">#define ATOM_S6_HW_I2C_BUSY_STATE       0x00000200L</span>
<span class="cp">#define ATOM_S6_THERMAL_STATE_CHANGE    0x00000400L</span>
<span class="cp">#define ATOM_S6_INTERRUPT_SET_BY_BIOS   0x00000800L</span>
<span class="cp">#define ATOM_S6_REQ_LCD_EXPANSION_FULL         0x00001000L </span><span class="c1">//Normal expansion Request bit for LCD</span>
<span class="cp">#define ATOM_S6_REQ_LCD_EXPANSION_ASPEC_RATIO  0x00002000L </span><span class="c1">//Aspect ratio expansion Request bit for LCD</span>

<span class="cp">#define ATOM_S6_DISPLAY_STATE_CHANGE    0x00004000L        </span><span class="c1">//This bit is recycled when ATOM_BIOS_INFO_BIOS_SCRATCH6_SCL2_REDEFINE is set,previously it&#39;s SCL2_H_expansion</span>
<span class="cp">#define ATOM_S6_I2C_STATE_CHANGE        0x00008000L        </span><span class="c1">//This bit is recycled,when ATOM_BIOS_INFO_BIOS_SCRATCH6_SCL2_REDEFINE is set,previously it&#39;s SCL2_V_expansion</span>

<span class="cp">#define ATOM_S6_ACC_REQ_CRT1            0x00010000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_LCD1            0x00020000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_TV1             0x00040000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP1            0x00080000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_CRT2            0x00100000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_LCD2            0x00200000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP6            0x00400000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP2            0x00800000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_CV              0x01000000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP3						0x02000000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP4						0x04000000L</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP5						0x08000000L</span>

<span class="cp">#define ATOM_S6_ACC_REQ_MASK                0x0FFF0000L</span>
<span class="cp">#define ATOM_S6_SYSTEM_POWER_MODE_CHANGE    0x10000000L</span>
<span class="cp">#define ATOM_S6_ACC_BLOCK_DISPLAY_SWITCH    0x20000000L</span>
<span class="cp">#define ATOM_S6_VRI_BRIGHTNESS_CHANGE       0x40000000L</span>
<span class="cp">#define ATOM_S6_CONFIG_DISPLAY_CHANGE_MASK  0x80000000L</span></pre></div></td></tr>


<tr id="section-293"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-293">&#182;</a></div><p>Byte aligned definition for BIOS usage</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S6_DEVICE_CHANGEb0         0x01</span>
<span class="cp">#define ATOM_S6_SCALER_CHANGEb0         0x02</span>
<span class="cp">#define ATOM_S6_LID_CHANGEb0            0x04</span>
<span class="cp">#define ATOM_S6_DOCKING_CHANGEb0        0x08</span>
<span class="cp">#define ATOM_S6_ACC_MODEb0              0x10</span>
<span class="cp">#define ATOM_S6_EXT_DESKTOP_MODEb0      0x20</span>
<span class="cp">#define ATOM_S6_LID_STATEb0             0x40</span>
<span class="cp">#define ATOM_S6_DOCK_STATEb0            0x80</span>
<span class="cp">#define ATOM_S6_CRITICAL_STATEb1        0x01</span>
<span class="cp">#define ATOM_S6_HW_I2C_BUSY_STATEb1     0x02  </span>
<span class="cp">#define ATOM_S6_THERMAL_STATE_CHANGEb1  0x04</span>
<span class="cp">#define ATOM_S6_INTERRUPT_SET_BY_BIOSb1 0x08</span>
<span class="cp">#define ATOM_S6_REQ_LCD_EXPANSION_FULLb1        0x10    </span>
<span class="cp">#define ATOM_S6_REQ_LCD_EXPANSION_ASPEC_RATIOb1 0x20 </span>

<span class="cp">#define ATOM_S6_ACC_REQ_CRT1b2          0x01</span>
<span class="cp">#define ATOM_S6_ACC_REQ_LCD1b2          0x02</span>
<span class="cp">#define ATOM_S6_ACC_REQ_TV1b2           0x04</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP1b2          0x08</span>
<span class="cp">#define ATOM_S6_ACC_REQ_CRT2b2          0x10</span>
<span class="cp">#define ATOM_S6_ACC_REQ_LCD2b2          0x20</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP6b2          0x40</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP2b2          0x80</span>
<span class="cp">#define ATOM_S6_ACC_REQ_CVb3            0x01</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP3b3          0x02</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP4b3          0x04</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP5b3          0x08</span>

<span class="cp">#define ATOM_S6_ACC_REQ_DEVICEw1        ATOM_S5_DOS_REQ_DEVICEw0</span>
<span class="cp">#define ATOM_S6_SYSTEM_POWER_MODE_CHANGEb3 0x10</span>
<span class="cp">#define ATOM_S6_ACC_BLOCK_DISPLAY_SWITCHb3 0x20</span>
<span class="cp">#define ATOM_S6_VRI_BRIGHTNESS_CHANGEb3    0x40</span>
<span class="cp">#define ATOM_S6_CONFIG_DISPLAY_CHANGEb3    0x80</span>

<span class="cp">#define ATOM_S6_DEVICE_CHANGE_SHIFT             0</span>
<span class="cp">#define ATOM_S6_SCALER_CHANGE_SHIFT             1</span>
<span class="cp">#define ATOM_S6_LID_CHANGE_SHIFT                2</span>
<span class="cp">#define ATOM_S6_DOCKING_CHANGE_SHIFT            3</span>
<span class="cp">#define ATOM_S6_ACC_MODE_SHIFT                  4</span>
<span class="cp">#define ATOM_S6_EXT_DESKTOP_MODE_SHIFT          5</span>
<span class="cp">#define ATOM_S6_LID_STATE_SHIFT                 6</span>
<span class="cp">#define ATOM_S6_DOCK_STATE_SHIFT                7</span>
<span class="cp">#define ATOM_S6_CRITICAL_STATE_SHIFT            8</span>
<span class="cp">#define ATOM_S6_HW_I2C_BUSY_STATE_SHIFT         9</span>
<span class="cp">#define ATOM_S6_THERMAL_STATE_CHANGE_SHIFT      10</span>
<span class="cp">#define ATOM_S6_INTERRUPT_SET_BY_BIOS_SHIFT     11</span>
<span class="cp">#define ATOM_S6_REQ_SCALER_SHIFT                12</span>
<span class="cp">#define ATOM_S6_REQ_SCALER_ARATIO_SHIFT         13</span>
<span class="cp">#define ATOM_S6_DISPLAY_STATE_CHANGE_SHIFT      14</span>
<span class="cp">#define ATOM_S6_I2C_STATE_CHANGE_SHIFT          15</span>
<span class="cp">#define ATOM_S6_SYSTEM_POWER_MODE_CHANGE_SHIFT  28</span>
<span class="cp">#define ATOM_S6_ACC_BLOCK_DISPLAY_SWITCH_SHIFT  29</span>
<span class="cp">#define ATOM_S6_VRI_BRIGHTNESS_CHANGE_SHIFT     30</span>
<span class="cp">#define ATOM_S6_CONFIG_DISPLAY_CHANGE_SHIFT     31</span></pre></div></td></tr>


<tr id="section-294"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-294">&#182;</a></div><p>BIOS<em>7</em>SCRATCH Definition, BIOS<em>7</em>SCRATCH is used by Firmware only !!!!</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S7_DOS_MODE_TYPEb0             0x03</span>
<span class="cp">#define ATOM_S7_DOS_MODE_VGAb0              0x00</span>
<span class="cp">#define ATOM_S7_DOS_MODE_VESAb0             0x01</span>
<span class="cp">#define ATOM_S7_DOS_MODE_EXTb0              0x02</span>
<span class="cp">#define ATOM_S7_DOS_MODE_PIXEL_DEPTHb0      0x0C</span>
<span class="cp">#define ATOM_S7_DOS_MODE_PIXEL_FORMATb0     0xF0</span>
<span class="cp">#define ATOM_S7_DOS_8BIT_DAC_ENb1           0x01</span>
<span class="cp">#define ATOM_S7_DOS_MODE_NUMBERw1           0x0FFFF</span>

<span class="cp">#define ATOM_S7_DOS_8BIT_DAC_EN_SHIFT       8</span></pre></div></td></tr>


<tr id="section-295"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-295">&#182;</a></div><p>BIOS<em>8</em>SCRATCH Definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S8_I2C_CHANNEL_BUSY_MASK       0x00000FFFF</span>
<span class="cp">#define ATOM_S8_I2C_HW_ENGINE_BUSY_MASK     0x0FFFF0000   </span>

<span class="cp">#define ATOM_S8_I2C_CHANNEL_BUSY_SHIFT      0</span>
<span class="cp">#define ATOM_S8_I2C_ENGINE_BUSY_SHIFT       16</span></pre></div></td></tr>


<tr id="section-296"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-296">&#182;</a></div><p>BIOS<em>9</em>SCRATCH Definition</p></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef ATOM_S9_I2C_CHANNEL_COMPLETED_MASK </span>
<span class="cp">#define ATOM_S9_I2C_CHANNEL_COMPLETED_MASK  0x0000FFFF</span>
<span class="cp">#endif</span>
<span class="cp">#ifndef ATOM_S9_I2C_CHANNEL_ABORTED_MASK  </span>
<span class="cp">#define ATOM_S9_I2C_CHANNEL_ABORTED_MASK    0xFFFF0000</span>
<span class="cp">#endif</span>
<span class="cp">#ifndef ATOM_S9_I2C_CHANNEL_COMPLETED_SHIFT </span>
<span class="cp">#define ATOM_S9_I2C_CHANNEL_COMPLETED_SHIFT 0</span>
<span class="cp">#endif</span>
<span class="cp">#ifndef ATOM_S9_I2C_CHANNEL_ABORTED_SHIFT   </span>
<span class="cp">#define ATOM_S9_I2C_CHANNEL_ABORTED_SHIFT   16</span>
<span class="cp">#endif</span>

 
<span class="cp">#define ATOM_FLAG_SET                         0x20</span>
<span class="cp">#define ATOM_FLAG_CLEAR                       0</span>
<span class="cp">#define CLEAR_ATOM_S6_ACC_MODE                ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_ACC_MODE_SHIFT | ATOM_FLAG_CLEAR)</span>
<span class="cp">#define SET_ATOM_S6_DEVICE_CHANGE             ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_DEVICE_CHANGE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define SET_ATOM_S6_VRI_BRIGHTNESS_CHANGE     ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_VRI_BRIGHTNESS_CHANGE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define SET_ATOM_S6_SCALER_CHANGE             ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_SCALER_CHANGE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define SET_ATOM_S6_LID_CHANGE                ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_LID_CHANGE_SHIFT | ATOM_FLAG_SET)</span>

<span class="cp">#define SET_ATOM_S6_LID_STATE                 ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_LID_STATE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define CLEAR_ATOM_S6_LID_STATE               ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_LID_STATE_SHIFT | ATOM_FLAG_CLEAR)</span>

<span class="cp">#define SET_ATOM_S6_DOCK_CHANGE			          ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_DOCKING_CHANGE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define SET_ATOM_S6_DOCK_STATE                ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_DOCK_STATE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define CLEAR_ATOM_S6_DOCK_STATE              ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_DOCK_STATE_SHIFT | ATOM_FLAG_CLEAR)</span>

<span class="cp">#define SET_ATOM_S6_THERMAL_STATE_CHANGE      ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_THERMAL_STATE_CHANGE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define SET_ATOM_S6_SYSTEM_POWER_MODE_CHANGE  ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_SYSTEM_POWER_MODE_CHANGE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define SET_ATOM_S6_INTERRUPT_SET_BY_BIOS     ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_INTERRUPT_SET_BY_BIOS_SHIFT | ATOM_FLAG_SET)</span>

<span class="cp">#define SET_ATOM_S6_CRITICAL_STATE            ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_CRITICAL_STATE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define CLEAR_ATOM_S6_CRITICAL_STATE          ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_CRITICAL_STATE_SHIFT | ATOM_FLAG_CLEAR)</span>

<span class="cp">#define SET_ATOM_S6_REQ_SCALER                ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_REQ_SCALER_SHIFT | ATOM_FLAG_SET)  </span>
<span class="cp">#define CLEAR_ATOM_S6_REQ_SCALER              ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_REQ_SCALER_SHIFT | ATOM_FLAG_CLEAR )</span>

<span class="cp">#define SET_ATOM_S6_REQ_SCALER_ARATIO         ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_REQ_SCALER_ARATIO_SHIFT | ATOM_FLAG_SET )</span>
<span class="cp">#define CLEAR_ATOM_S6_REQ_SCALER_ARATIO       ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_REQ_SCALER_ARATIO_SHIFT | ATOM_FLAG_CLEAR )</span>

<span class="cp">#define SET_ATOM_S6_I2C_STATE_CHANGE          ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_I2C_STATE_CHANGE_SHIFT | ATOM_FLAG_SET )</span>

<span class="cp">#define SET_ATOM_S6_DISPLAY_STATE_CHANGE      ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_DISPLAY_STATE_CHANGE_SHIFT | ATOM_FLAG_SET )</span>

<span class="cp">#define SET_ATOM_S6_DEVICE_RECONFIG           ((ATOM_ACC_CHANGE_INFO_DEF &lt;&lt; 8 )|ATOM_S6_CONFIG_DISPLAY_CHANGE_SHIFT | ATOM_FLAG_SET)</span>
<span class="cp">#define CLEAR_ATOM_S0_LCD1                    ((ATOM_DEVICE_CONNECT_INFO_DEF &lt;&lt; 8 )|  ATOM_S0_LCD1_SHIFT | ATOM_FLAG_CLEAR )</span>
<span class="cp">#define SET_ATOM_S7_DOS_8BIT_DAC_EN           ((ATOM_DOS_MODE_INFO_DEF &lt;&lt; 8 )|ATOM_S7_DOS_8BIT_DAC_EN_SHIFT | ATOM_FLAG_SET )</span>
<span class="cp">#define CLEAR_ATOM_S7_DOS_8BIT_DAC_EN         ((ATOM_DOS_MODE_INFO_DEF &lt;&lt; 8 )|ATOM_S7_DOS_8BIT_DAC_EN_SHIFT | ATOM_FLAG_CLEAR )</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-297"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-297">&#182;</a></div><p>Portion II: Definitinos only used in Driver</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span></pre></div></td></tr>


<tr id="section-298"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-298">&#182;</a></div><p>Macros used by driver</p></td><td class="code"><div class="highlight"><pre><span class="cp">#ifdef __cplusplus</span>
<span class="cp">#define GetIndexIntoMasterTable(MasterOrData, FieldName) ((reinterpret_cast&lt;char*&gt;(&amp;(static_cast&lt;ATOM_MASTER_LIST_OF_##MasterOrData##_TABLES*&gt;(0))-&gt;FieldName)-static_cast&lt;char*&gt;(0))/sizeof(USHORT))</span>

<span class="cp">#define GET_COMMAND_TABLE_COMMANDSET_REVISION(TABLE_HEADER_OFFSET) (((static_cast&lt;ATOM_COMMON_TABLE_HEADER*&gt;(TABLE_HEADER_OFFSET))-&gt;ucTableFormatRevision )&amp;0x3F)</span>
<span class="cp">#define GET_COMMAND_TABLE_PARAMETER_REVISION(TABLE_HEADER_OFFSET)  (((static_cast&lt;ATOM_COMMON_TABLE_HEADER*&gt;(TABLE_HEADER_OFFSET))-&gt;ucTableContentRevision)&amp;0x3F)</span>
<span class="cp">#else </span><span class="c1">// not __cplusplus</span>
<span class="cp">#define	GetIndexIntoMasterTable(MasterOrData, FieldName) (((char*)(&amp;((ATOM_MASTER_LIST_OF_##MasterOrData##_TABLES*)0)-&gt;FieldName)-(char*)0)/sizeof(USHORT))</span>

<span class="cp">#define GET_COMMAND_TABLE_COMMANDSET_REVISION(TABLE_HEADER_OFFSET) ((((ATOM_COMMON_TABLE_HEADER*)TABLE_HEADER_OFFSET)-&gt;ucTableFormatRevision)&amp;0x3F)</span>
<span class="cp">#define GET_COMMAND_TABLE_PARAMETER_REVISION(TABLE_HEADER_OFFSET)  ((((ATOM_COMMON_TABLE_HEADER*)TABLE_HEADER_OFFSET)-&gt;ucTableContentRevision)&amp;0x3F)</span>
<span class="cp">#endif </span><span class="c1">// __cplusplus</span>

<span class="cp">#define GET_DATA_TABLE_MAJOR_REVISION GET_COMMAND_TABLE_COMMANDSET_REVISION</span>
<span class="cp">#define GET_DATA_TABLE_MINOR_REVISION GET_COMMAND_TABLE_PARAMETER_REVISION</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-299"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-299">&#182;</a></div><p>Portion III: Definitinos only used in VBIOS</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>
<span class="cp">#define ATOM_DAC_SRC					0x80</span>
<span class="cp">#define ATOM_SRC_DAC1					0</span>
<span class="cp">#define ATOM_SRC_DAC2					0x80</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MEMORY_PLLINIT_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">ulTargetMemoryClock</span><span class="p">;</span> <span class="c1">//In 10Khz unit</span>
  <span class="n">UCHAR</span>   <span class="n">ucAction</span><span class="p">;</span>					 <span class="c1">//not define yet</span>
  <span class="n">UCHAR</span>   <span class="n">ucFbDiv_Hi</span><span class="p">;</span>				 <span class="c1">//Fbdiv Hi byte</span>
  <span class="n">UCHAR</span>   <span class="n">ucFbDiv</span><span class="p">;</span>					 <span class="c1">//FB value</span>
  <span class="n">UCHAR</span>   <span class="n">ucPostDiv</span><span class="p">;</span>				 <span class="c1">//Post div</span>
<span class="p">}</span><span class="n">MEMORY_PLLINIT_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define MEMORY_PLLINIT_PS_ALLOCATION  MEMORY_PLLINIT_PARAMETERS</span>


<span class="cp">#define	GPIO_PIN_WRITE													0x01			</span>
<span class="cp">#define	GPIO_PIN_READ														0x00</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_GPIO_PIN_CONTROL_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucGPIO_ID</span><span class="p">;</span>           <span class="c1">//return value, read from GPIO pins</span>
  <span class="n">UCHAR</span> <span class="n">ucGPIOBitShift</span><span class="p">;</span>	     <span class="c1">//define which bit in uGPIOBitVal need to be update </span>
	<span class="n">UCHAR</span> <span class="n">ucGPIOBitVal</span><span class="p">;</span>		     <span class="c1">//Set/Reset corresponding bit defined in ucGPIOBitMask</span>
  <span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>				     <span class="c1">//=GPIO_PIN_WRITE: Read; =GPIO_PIN_READ: Write</span>
<span class="p">}</span><span class="n">GPIO_PIN_CONTROL_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_SCALER_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucScaler</span><span class="p">;</span>            <span class="c1">// ATOM_SCALER1, ATOM_SCALER2</span>
  <span class="n">UCHAR</span> <span class="n">ucEnable</span><span class="p">;</span>            <span class="c1">// ATOM_SCALER_DISABLE or ATOM_SCALER_CENTER or ATOM_SCALER_EXPANSION</span>
  <span class="n">UCHAR</span> <span class="n">ucTVStandard</span><span class="p">;</span>        <span class="c1">// </span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_SCALER_PARAMETERS</span><span class="p">;</span> 
<span class="cp">#define ENABLE_SCALER_PS_ALLOCATION ENABLE_SCALER_PARAMETERS </span></pre></div></td></tr>


<tr id="section-300"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-300">&#182;</a></div><p>ucEnable:</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define SCALER_BYPASS_AUTO_CENTER_NO_REPLICATION    0</span>
<span class="cp">#define SCALER_BYPASS_AUTO_CENTER_AUTO_REPLICATION  1</span>
<span class="cp">#define SCALER_ENABLE_2TAP_ALPHA_MODE               2</span>
<span class="cp">#define SCALER_ENABLE_MULTITAP_MODE                 3</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_HARDWARE_ICON_CURSOR_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">ULONG</span>  <span class="n">usHWIconHorzVertPosn</span><span class="p">;</span>        <span class="c1">// Hardware Icon Vertical position</span>
  <span class="n">UCHAR</span>  <span class="n">ucHWIconVertOffset</span><span class="p">;</span>          <span class="c1">// Hardware Icon Vertical offset</span>
  <span class="n">UCHAR</span>  <span class="n">ucHWIconHorzOffset</span><span class="p">;</span>          <span class="c1">// Hardware Icon Horizontal offset</span>
  <span class="n">UCHAR</span>  <span class="n">ucSelection</span><span class="p">;</span>                 <span class="c1">// ATOM_CURSOR1 or ATOM_ICON1 or ATOM_CURSOR2 or ATOM_ICON2</span>
  <span class="n">UCHAR</span>  <span class="n">ucEnable</span><span class="p">;</span>                    <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
<span class="p">}</span><span class="n">ENABLE_HARDWARE_ICON_CURSOR_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_HARDWARE_ICON_CURSOR_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">ENABLE_HARDWARE_ICON_CURSOR_PARAMETERS</span>  <span class="n">sEnableIcon</span><span class="p">;</span>
  <span class="n">ENABLE_CRTC_PARAMETERS</span>                  <span class="n">sReserved</span><span class="p">;</span>  
<span class="p">}</span><span class="n">ENABLE_HARDWARE_ICON_CURSOR_PS_ALLOCATION</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_GRAPH_SURFACE_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usHight</span><span class="p">;</span>                     <span class="c1">// Image Hight</span>
  <span class="n">USHORT</span> <span class="n">usWidth</span><span class="p">;</span>                     <span class="c1">// Image Width</span>
  <span class="n">UCHAR</span>  <span class="n">ucSurface</span><span class="p">;</span>                   <span class="c1">// Surface 1 or 2	</span>
  <span class="n">UCHAR</span>  <span class="n">ucPadding</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_GRAPH_SURFACE_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_GRAPH_SURFACE_PARAMETERS_V1_2</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usHight</span><span class="p">;</span>                     <span class="c1">// Image Hight</span>
  <span class="n">USHORT</span> <span class="n">usWidth</span><span class="p">;</span>                     <span class="c1">// Image Width</span>
  <span class="n">UCHAR</span>  <span class="n">ucSurface</span><span class="p">;</span>                   <span class="c1">// Surface 1 or 2</span>
  <span class="n">UCHAR</span>  <span class="n">ucEnable</span><span class="p">;</span>                    <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span>  <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ENABLE_GRAPH_SURFACE_PARAMETERS_V1_2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_GRAPH_SURFACE_PARAMETERS_V1_3</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usHight</span><span class="p">;</span>                     <span class="c1">// Image Hight</span>
  <span class="n">USHORT</span> <span class="n">usWidth</span><span class="p">;</span>                     <span class="c1">// Image Width</span>
  <span class="n">UCHAR</span>  <span class="n">ucSurface</span><span class="p">;</span>                   <span class="c1">// Surface 1 or 2</span>
  <span class="n">UCHAR</span>  <span class="n">ucEnable</span><span class="p">;</span>                    <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">USHORT</span> <span class="n">usDeviceId</span><span class="p">;</span>                  <span class="c1">// Active Device Id for this surface. If no device, set to 0. </span>
<span class="p">}</span><span class="n">ENABLE_GRAPH_SURFACE_PARAMETERS_V1_3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_GRAPH_SURFACE_PARAMETERS_V1_4</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usHight</span><span class="p">;</span>                     <span class="c1">// Image Hight</span>
  <span class="n">USHORT</span> <span class="n">usWidth</span><span class="p">;</span>                     <span class="c1">// Image Width</span>
  <span class="n">USHORT</span> <span class="n">usGraphPitch</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucColorDepth</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucPixelFormat</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucSurface</span><span class="p">;</span>                   <span class="c1">// Surface 1 or 2</span>
  <span class="n">UCHAR</span>  <span class="n">ucEnable</span><span class="p">;</span>                    <span class="c1">// ATOM_ENABLE or ATOM_DISABLE</span>
  <span class="n">UCHAR</span>  <span class="n">ucModeType</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ENABLE_GRAPH_SURFACE_PARAMETERS_V1_4</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-301"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-301">&#182;</a></div><p>ucEnable</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_GRAPH_CONTROL_SET_PITCH             0x0f</span>
<span class="cp">#define ATOM_GRAPH_CONTROL_SET_DISP_START        0x10</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ENABLE_GRAPH_SURFACE_PS_ALLOCATION</span>
<span class="p">{</span>
  <span class="n">ENABLE_GRAPH_SURFACE_PARAMETERS</span> <span class="n">sSetSurface</span><span class="p">;</span>          
  <span class="n">ENABLE_YUV_PS_ALLOCATION</span>        <span class="n">sReserved</span><span class="p">;</span> <span class="c1">// Don&#39;t set this one</span>
<span class="p">}</span><span class="n">ENABLE_GRAPH_SURFACE_PS_ALLOCATION</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MEMORY_CLEAN_UP_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usMemoryStart</span><span class="p">;</span>                <span class="c1">//in 8Kb boundary, offset from memory base address</span>
  <span class="n">USHORT</span>  <span class="n">usMemorySize</span><span class="p">;</span>                 <span class="c1">//8Kb blocks aligned</span>
<span class="p">}</span><span class="n">MEMORY_CLEAN_UP_PARAMETERS</span><span class="p">;</span>
<span class="cp">#define MEMORY_CLEAN_UP_PS_ALLOCATION MEMORY_CLEAN_UP_PARAMETERS</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_GET_DISPLAY_SURFACE_SIZE_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usX_Size</span><span class="p">;</span>                     <span class="c1">//When use as input parameter, usX_Size indicates which CRTC                 </span>
  <span class="n">USHORT</span>  <span class="n">usY_Size</span><span class="p">;</span>
<span class="p">}</span><span class="n">GET_DISPLAY_SURFACE_SIZE_PARAMETERS</span><span class="p">;</span> 

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_GET_DISPLAY_SURFACE_SIZE_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="k">union</span><span class="p">{</span>
    <span class="n">USHORT</span>  <span class="n">usX_Size</span><span class="p">;</span>                     <span class="c1">//When use as input parameter, usX_Size indicates which CRTC                 </span>
    <span class="n">USHORT</span>  <span class="n">usSurface</span><span class="p">;</span> 
  <span class="p">};</span>
  <span class="n">USHORT</span> <span class="n">usY_Size</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usDispXStart</span><span class="p">;</span>               
  <span class="n">USHORT</span> <span class="n">usDispYStart</span><span class="p">;</span>
<span class="p">}</span><span class="n">GET_DISPLAY_SURFACE_SIZE_PARAMETERS_V2</span><span class="p">;</span> 


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PALETTE_DATA_CONTROL_PARAMETERS_V3</span> 
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucLutId</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usLutStartIndex</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usLutLength</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usLutOffsetInVram</span><span class="p">;</span>
<span class="p">}</span><span class="n">PALETTE_DATA_CONTROL_PARAMETERS_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-302"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-302">&#182;</a></div><p>ucAction:</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define PALETTE_DATA_AUTO_FILL            1</span>
<span class="cp">#define PALETTE_DATA_READ                 2</span>
<span class="cp">#define PALETTE_DATA_WRITE                3</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_INTERRUPT_SERVICE_PARAMETERS_V2</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucInterruptId</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucServiceId</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucStatus</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">INTERRUPT_SERVICE_PARAMETER_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-303"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-303">&#182;</a></div><p>ucInterruptId</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HDP1_INTERRUPT_ID                 1</span>
<span class="cp">#define HDP2_INTERRUPT_ID                 2</span>
<span class="cp">#define HDP3_INTERRUPT_ID                 3</span>
<span class="cp">#define HDP4_INTERRUPT_ID                 4</span>
<span class="cp">#define HDP5_INTERRUPT_ID                 5</span>
<span class="cp">#define HDP6_INTERRUPT_ID                 6</span>
<span class="cp">#define SW_INTERRUPT_ID                   11   </span></pre></div></td></tr>


<tr id="section-304"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-304">&#182;</a></div><p>ucAction</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define INTERRUPT_SERVICE_GEN_SW_INT      1</span>
<span class="cp">#define INTERRUPT_SERVICE_GET_STATUS      2</span></pre></div></td></tr>


<tr id="section-305"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-305">&#182;</a></div><p>ucStatus</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define INTERRUPT_STATUS__INT_TRIGGER     1</span>
<span class="cp">#define INTERRUPT_STATUS__HPD_HIGH        2</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_INDIRECT_IO_ACCESS</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">UCHAR</span>                    <span class="n">IOAccessSequence</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">}</span> <span class="n">INDIRECT_IO_ACCESS</span><span class="p">;</span>

<span class="cp">#define INDIRECT_READ              0x00</span>
<span class="cp">#define INDIRECT_WRITE             0x80</span>

<span class="cp">#define INDIRECT_IO_MM             0</span>
<span class="cp">#define INDIRECT_IO_PLL            1</span>
<span class="cp">#define INDIRECT_IO_MC             2</span>
<span class="cp">#define INDIRECT_IO_PCIE           3</span>
<span class="cp">#define INDIRECT_IO_PCIEP          4</span>
<span class="cp">#define INDIRECT_IO_NBMISC         5</span>

<span class="cp">#define INDIRECT_IO_PLL_READ       INDIRECT_IO_PLL   | INDIRECT_READ</span>
<span class="cp">#define INDIRECT_IO_PLL_WRITE      INDIRECT_IO_PLL   | INDIRECT_WRITE</span>
<span class="cp">#define INDIRECT_IO_MC_READ        INDIRECT_IO_MC    | INDIRECT_READ</span>
<span class="cp">#define INDIRECT_IO_MC_WRITE       INDIRECT_IO_MC    | INDIRECT_WRITE</span>
<span class="cp">#define INDIRECT_IO_PCIE_READ      INDIRECT_IO_PCIE  | INDIRECT_READ</span>
<span class="cp">#define INDIRECT_IO_PCIE_WRITE     INDIRECT_IO_PCIE  | INDIRECT_WRITE</span>
<span class="cp">#define INDIRECT_IO_PCIEP_READ     INDIRECT_IO_PCIEP | INDIRECT_READ</span>
<span class="cp">#define INDIRECT_IO_PCIEP_WRITE    INDIRECT_IO_PCIEP | INDIRECT_WRITE</span>
<span class="cp">#define INDIRECT_IO_NBMISC_READ    INDIRECT_IO_NBMISC | INDIRECT_READ</span>
<span class="cp">#define INDIRECT_IO_NBMISC_WRITE   INDIRECT_IO_NBMISC | INDIRECT_WRITE</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_OEM_INFO</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">ATOM_I2C_ID_CONFIG_ACCESS</span> <span class="n">sucI2cId</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_OEM_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_TV_MODE</span>
<span class="p">{</span>
   <span class="n">UCHAR</span>	<span class="n">ucVMode_Num</span><span class="p">;</span>			  <span class="c1">//Video mode number</span>
   <span class="n">UCHAR</span>	<span class="n">ucTV_Mode_Num</span><span class="p">;</span>			<span class="c1">//Internal TV mode number</span>
<span class="p">}</span><span class="n">ATOM_TV_MODE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_BIOS_INT_TVSTD_MODE</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
   <span class="n">USHORT</span>	<span class="n">usTV_Mode_LUT_Offset</span><span class="p">;</span>	<span class="c1">// Pointer to standard to internal number conversion table</span>
   <span class="n">USHORT</span>	<span class="n">usTV_FIFO_Offset</span><span class="p">;</span>		  <span class="c1">// Pointer to FIFO entry table</span>
   <span class="n">USHORT</span>	<span class="n">usNTSC_Tbl_Offset</span><span class="p">;</span>		<span class="c1">// Pointer to SDTV_Mode_NTSC table</span>
   <span class="n">USHORT</span>	<span class="n">usPAL_Tbl_Offset</span><span class="p">;</span>		  <span class="c1">// Pointer to SDTV_Mode_PAL table </span>
   <span class="n">USHORT</span>	<span class="n">usCV_Tbl_Offset</span><span class="p">;</span>		  <span class="c1">// Pointer to SDTV_Mode_PAL table </span>
<span class="p">}</span><span class="n">ATOM_BIOS_INT_TVSTD_MODE</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_TV_MODE_SCALER_PTR</span>
<span class="p">{</span>
   <span class="n">USHORT</span>	<span class="n">ucFilter0_Offset</span><span class="p">;</span>		<span class="c1">//Pointer to filter format 0 coefficients</span>
   <span class="n">USHORT</span>	<span class="n">usFilter1_Offset</span><span class="p">;</span>		<span class="c1">//Pointer to filter format 0 coefficients</span>
   <span class="n">UCHAR</span>	<span class="n">ucTV_Mode_Num</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_TV_MODE_SCALER_PTR</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_STANDARD_VESA_TIMING</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_DTD_FORMAT</span> 				 <span class="n">aModeTimings</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>      <span class="c1">// 16 is not the real array number, just for initial allocation</span>
<span class="p">}</span><span class="n">ATOM_STANDARD_VESA_TIMING</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_STD_FORMAT</span>
<span class="p">{</span> 
  <span class="n">USHORT</span>    <span class="n">usSTD_HDisp</span><span class="p">;</span>
  <span class="n">USHORT</span>    <span class="n">usSTD_VDisp</span><span class="p">;</span>
  <span class="n">USHORT</span>    <span class="n">usSTD_RefreshRate</span><span class="p">;</span>
  <span class="n">USHORT</span>    <span class="n">usReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_STD_FORMAT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VESA_TO_EXTENDED_MODE</span>
<span class="p">{</span>
  <span class="n">USHORT</span>  <span class="n">usVESA_ModeNumber</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usExtendedModeNumber</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_VESA_TO_EXTENDED_MODE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VESA_TO_INTENAL_MODE_LUT</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">ATOM_VESA_TO_EXTENDED_MODE</span> <span class="n">asVESA_ToExtendedModeInfo</span><span class="p">[</span><span class="mi">76</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_VESA_TO_INTENAL_MODE_LUT</span><span class="p">;</span>

<span class="cm">/*************** ATOM Memory Related Data Structure ***********************/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MEMORY_VENDOR_BLOCK</span><span class="p">{</span>
	<span class="n">UCHAR</span>												<span class="n">ucMemoryType</span><span class="p">;</span>
	<span class="n">UCHAR</span>												<span class="n">ucMemoryVendor</span><span class="p">;</span>
	<span class="n">UCHAR</span>												<span class="n">ucAdjMCId</span><span class="p">;</span>
	<span class="n">UCHAR</span>												<span class="n">ucDynClkId</span><span class="p">;</span>
	<span class="n">ULONG</span>												<span class="n">ulDllResetClkRange</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_VENDOR_BLOCK</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MEMORY_SETTING_ID_CONFIG</span><span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
	<span class="n">ULONG</span>												<span class="n">ucMemBlkId</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
	<span class="n">ULONG</span>												<span class="n">ulMemClockRange</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
<span class="cp">#else</span>
	<span class="n">ULONG</span>												<span class="n">ulMemClockRange</span><span class="o">:</span><span class="mi">24</span><span class="p">;</span>
	<span class="n">ULONG</span>												<span class="n">ucMemBlkId</span><span class="o">:</span><span class="mi">8</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_SETTING_ID_CONFIG</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_MEMORY_SETTING_ID_CONFIG_ACCESS</span>
<span class="p">{</span>
  <span class="n">ATOM_MEMORY_SETTING_ID_CONFIG</span> <span class="n">slAccess</span><span class="p">;</span>
  <span class="n">ULONG</span>                         <span class="n">ulAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_SETTING_ID_CONFIG_ACCESS</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MEMORY_SETTING_DATA_BLOCK</span><span class="p">{</span>
	<span class="n">ATOM_MEMORY_SETTING_ID_CONFIG_ACCESS</span>			<span class="n">ulMemoryID</span><span class="p">;</span>
	<span class="n">ULONG</span>															        <span class="n">aulMemData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_SETTING_DATA_BLOCK</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_INIT_REG_INDEX_FORMAT</span><span class="p">{</span>
	 <span class="n">USHORT</span>											<span class="n">usRegIndex</span><span class="p">;</span>                                     <span class="c1">// MC register index</span>
	 <span class="n">UCHAR</span>											<span class="n">ucPreRegDataLength</span><span class="p">;</span>                             <span class="c1">// offset in ATOM_INIT_REG_DATA_BLOCK.saRegDataBuf</span>
<span class="p">}</span><span class="n">ATOM_INIT_REG_INDEX_FORMAT</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_INIT_REG_BLOCK</span><span class="p">{</span>
	<span class="n">USHORT</span>													<span class="n">usRegIndexTblSize</span><span class="p">;</span>													<span class="c1">//size of asRegIndexBuf</span>
	<span class="n">USHORT</span>													<span class="n">usRegDataBlkSize</span><span class="p">;</span>														<span class="c1">//size of ATOM_MEMORY_SETTING_DATA_BLOCK</span>
	<span class="n">ATOM_INIT_REG_INDEX_FORMAT</span>			<span class="n">asRegIndexBuf</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">ATOM_MEMORY_SETTING_DATA_BLOCK</span>	<span class="n">asRegDataBuf</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_INIT_REG_BLOCK</span><span class="p">;</span>

<span class="cp">#define END_OF_REG_INDEX_BLOCK  0x0ffff</span>
<span class="cp">#define END_OF_REG_DATA_BLOCK   0x00000000</span>
<span class="cp">#define ATOM_INIT_REG_MASK_FLAG 0x80               </span><span class="c1">//Not used in BIOS</span>
<span class="cp">#define	CLOCK_RANGE_HIGHEST			0x00ffffff</span>

<span class="cp">#define VALUE_DWORD             SIZEOF ULONG</span>
<span class="cp">#define VALUE_SAME_AS_ABOVE     0</span>
<span class="cp">#define VALUE_MASK_DWORD        0x84</span>

<span class="cp">#define INDEX_ACCESS_RANGE_BEGIN	    (VALUE_DWORD + 1)</span>
<span class="cp">#define INDEX_ACCESS_RANGE_END		    (INDEX_ACCESS_RANGE_BEGIN + 1)</span>
<span class="cp">#define VALUE_INDEX_ACCESS_SINGLE	    (INDEX_ACCESS_RANGE_END + 1)</span></pre></div></td></tr>


<tr id="section-306"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-306">&#182;</a></div><h1>define ACCESS_MCIODEBUGIND            0x40       //defined in BIOS code</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define ACCESS_PLACEHOLDER             0x80</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MC_INIT_PARAM_TABLE</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>		<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>											<span class="n">usAdjustARB_SEQDataOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>											<span class="n">usMCInitMemTypeTblOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>											<span class="n">usMCInitCommonTblOffset</span><span class="p">;</span>
  <span class="n">USHORT</span>											<span class="n">usMCInitPowerDownTblOffset</span><span class="p">;</span>
	<span class="n">ULONG</span>												<span class="n">ulARB_SEQDataBuf</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">ATOM_INIT_REG_BLOCK</span>					<span class="n">asMCInitMemType</span><span class="p">;</span>
	<span class="n">ATOM_INIT_REG_BLOCK</span>					<span class="n">asMCInitCommon</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MC_INIT_PARAM_TABLE</span><span class="p">;</span>


<span class="cp">#define _4Mx16              0x2</span>
<span class="cp">#define _4Mx32              0x3</span>
<span class="cp">#define _8Mx16              0x12</span>
<span class="cp">#define _8Mx32              0x13</span>
<span class="cp">#define _16Mx16             0x22</span>
<span class="cp">#define _16Mx32             0x23</span>
<span class="cp">#define _32Mx16             0x32</span>
<span class="cp">#define _32Mx32             0x33</span>
<span class="cp">#define _64Mx8              0x41</span>
<span class="cp">#define _64Mx16             0x42</span>
<span class="cp">#define _64Mx32             0x43</span>
<span class="cp">#define _128Mx8             0x51</span>
<span class="cp">#define _128Mx16            0x52</span>
<span class="cp">#define _256Mx8             0x61</span>
<span class="cp">#define _256Mx16            0x62</span>

<span class="cp">#define SAMSUNG             0x1</span>
<span class="cp">#define INFINEON            0x2</span>
<span class="cp">#define ELPIDA              0x3</span>
<span class="cp">#define ETRON               0x4</span>
<span class="cp">#define NANYA               0x5</span>
<span class="cp">#define HYNIX               0x6</span>
<span class="cp">#define MOSEL               0x7</span>
<span class="cp">#define WINBOND             0x8</span>
<span class="cp">#define ESMT                0x9</span>
<span class="cp">#define MICRON              0xF</span>

<span class="cp">#define QIMONDA             INFINEON</span>
<span class="cp">#define PROMOS              MOSEL</span>
<span class="cp">#define KRETON              INFINEON</span>
<span class="cp">#define ELIXIR              NANYA</span></pre></div></td></tr>


<tr id="section-307"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-307">&#182;</a></div><p>///////////Support for GDDR5 MC uCode to reside in upper 64K of ROM/////////////</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define UCODE_ROM_START_ADDRESS		0x1b800</span>
<span class="cp">#define	UCODE_SIGNATURE			0x4375434d </span><span class="c1">// &#39;MCuC&#39; - MC uCode</span></pre></div></td></tr>


<tr id="section-308"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-308">&#182;</a></div><p>uCode block header for reference</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_MCuCodeHeader</span>
<span class="p">{</span>
  <span class="n">ULONG</span>  <span class="n">ulSignature</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucRevision</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucChecksum</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved1</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved2</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usParametersLength</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usUCodeLength</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usReserved1</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usReserved2</span><span class="p">;</span>
<span class="p">}</span> <span class="n">MCuCodeHeader</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-309"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-309">&#182;</a></div><p>////////////////////////////////////////////////////////////////////////////////</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_MAX_NUMBER_OF_VRAM_MODULE	16</span>

<span class="cp">#define ATOM_VRAM_MODULE_MEMORY_VENDOR_ID_MASK	0xF</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_MODULE_V1</span>
<span class="p">{</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usEMRSValue</span><span class="p">;</span>  
  <span class="n">USHORT</span>                     <span class="n">usMRSValue</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucExtMemoryID</span><span class="p">;</span>     <span class="c1">// An external indicator (by hardcode, callback or pin) to tell what is the current memory module</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryType</span><span class="p">;</span>      <span class="c1">// [7:4]=0x1:DDR1;=0x2:DDR2;=0x3:DDR3;=0x4:DDR4;[3:0] reserved;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryVenderID</span><span class="p">;</span>  <span class="c1">// Predefined,never change across designs or memory type/vender </span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryDeviceCfg</span><span class="p">;</span> <span class="c1">// [7:4]=0x0:4M;=0x1:8M;=0x2:16M;0x3:32M....[3:0]=0x0:x4;=0x1:x8;=0x2:x16;=0x3:x32...</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRow</span><span class="p">;</span>             <span class="c1">// Number of Row,in power of 2;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucColumn</span><span class="p">;</span>          <span class="c1">// Number of Column,in power of 2;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucBank</span><span class="p">;</span>            <span class="c1">// Nunber of Bank;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRank</span><span class="p">;</span>            <span class="c1">// Number of Rank, in power of 2</span>
  <span class="n">UCHAR</span>                      <span class="n">ucChannelNum</span><span class="p">;</span>      <span class="c1">// Number of channel;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucChannelConfig</span><span class="p">;</span>   <span class="c1">// [3:0]=Indication of what channel combination;[4:7]=Channel bit width, in number of 2</span>
  <span class="n">UCHAR</span>                      <span class="n">ucDefaultMVDDQ_ID</span><span class="p">;</span> <span class="c1">// Default MVDDQ setting for this memory block, ID linking to MVDDQ info table to find real set-up data;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucDefaultMVDDC_ID</span><span class="p">;</span> <span class="c1">// Default MVDDC setting for this memory block, ID linking to MVDDC info table to find real set-up data;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_VRAM_MODULE_V1</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_MODULE_V2</span>
<span class="p">{</span>
  <span class="n">ULONG</span>                      <span class="n">ulReserved</span><span class="p">;</span>
  <span class="n">ULONG</span>                      <span class="n">ulFlags</span><span class="p">;</span>     			<span class="c1">// To enable/disable functionalities based on memory type</span>
  <span class="n">ULONG</span>                      <span class="n">ulEngineClock</span><span class="p">;</span>     <span class="c1">// Override of default engine clock for particular memory type</span>
  <span class="n">ULONG</span>                      <span class="n">ulMemoryClock</span><span class="p">;</span>     <span class="c1">// Override of default memory clock for particular memory type</span>
  <span class="n">USHORT</span>                     <span class="n">usEMRS2Value</span><span class="p">;</span>      <span class="c1">// EMRS2 Value is used for GDDR2 and GDDR4 memory type</span>
  <span class="n">USHORT</span>                     <span class="n">usEMRS3Value</span><span class="p">;</span>      <span class="c1">// EMRS3 Value is used for GDDR2 and GDDR4 memory type</span>
  <span class="n">USHORT</span>                     <span class="n">usEMRSValue</span><span class="p">;</span>  
  <span class="n">USHORT</span>                     <span class="n">usMRSValue</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucExtMemoryID</span><span class="p">;</span>     <span class="c1">// An external indicator (by hardcode, callback or pin) to tell what is the current memory module</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryType</span><span class="p">;</span>      <span class="c1">// [7:4]=0x1:DDR1;=0x2:DDR2;=0x3:DDR3;=0x4:DDR4;[3:0] - must not be used for now;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryVenderID</span><span class="p">;</span>  <span class="c1">// Predefined,never change across designs or memory type/vender. If not predefined, vendor detection table gets executed</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryDeviceCfg</span><span class="p">;</span> <span class="c1">// [7:4]=0x0:4M;=0x1:8M;=0x2:16M;0x3:32M....[3:0]=0x0:x4;=0x1:x8;=0x2:x16;=0x3:x32...</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRow</span><span class="p">;</span>             <span class="c1">// Number of Row,in power of 2;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucColumn</span><span class="p">;</span>          <span class="c1">// Number of Column,in power of 2;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucBank</span><span class="p">;</span>            <span class="c1">// Nunber of Bank;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRank</span><span class="p">;</span>            <span class="c1">// Number of Rank, in power of 2</span>
  <span class="n">UCHAR</span>                      <span class="n">ucChannelNum</span><span class="p">;</span>      <span class="c1">// Number of channel;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucChannelConfig</span><span class="p">;</span>   <span class="c1">// [3:0]=Indication of what channel combination;[4:7]=Channel bit width, in number of 2</span>
  <span class="n">UCHAR</span>                      <span class="n">ucDefaultMVDDQ_ID</span><span class="p">;</span> <span class="c1">// Default MVDDQ setting for this memory block, ID linking to MVDDQ info table to find real set-up data;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucDefaultMVDDC_ID</span><span class="p">;</span> <span class="c1">// Default MVDDC setting for this memory block, ID linking to MVDDC info table to find real set-up data;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRefreshRateFactor</span><span class="p">;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_VRAM_MODULE_V2</span><span class="p">;</span>


<span class="k">typedef</span>	<span class="k">struct</span> <span class="n">_ATOM_MEMORY_TIMING_FORMAT</span>
<span class="p">{</span>
	<span class="n">ULONG</span>											 <span class="n">ulClkRange</span><span class="p">;</span>				<span class="c1">// memory clock in 10kHz unit, when target memory clock is below this clock, use this memory timing 	</span>
  <span class="k">union</span><span class="p">{</span>
	  <span class="n">USHORT</span>										 <span class="n">usMRS</span><span class="p">;</span>							<span class="c1">// mode register						</span>
    <span class="n">USHORT</span>                     <span class="n">usDDR3_MR0</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">union</span><span class="p">{</span>
	  <span class="n">USHORT</span>										 <span class="n">usEMRS</span><span class="p">;</span>						<span class="c1">// extended mode register</span>
    <span class="n">USHORT</span>                     <span class="n">usDDR3_MR1</span><span class="p">;</span>
  <span class="p">};</span>
	<span class="n">UCHAR</span>											 <span class="n">ucCL</span><span class="p">;</span>							<span class="c1">// CAS latency</span>
	<span class="n">UCHAR</span>											 <span class="n">ucWL</span><span class="p">;</span>							<span class="c1">// WRITE Latency				</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRAS</span><span class="p">;</span>						<span class="c1">// tRAS</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRC</span><span class="p">;</span>							<span class="c1">// tRC	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRFC</span><span class="p">;</span>						<span class="c1">// tRFC</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRCDR</span><span class="p">;</span>						<span class="c1">// tRCDR	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRCDW</span><span class="p">;</span>						<span class="c1">// tRCDW</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRP</span><span class="p">;</span>							<span class="c1">// tRP</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRRD</span><span class="p">;</span>						<span class="c1">// tRRD	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctWR</span><span class="p">;</span>							<span class="c1">// tWR</span>
	<span class="n">UCHAR</span>											 <span class="n">uctWTR</span><span class="p">;</span>						<span class="c1">// tWTR</span>
	<span class="n">UCHAR</span>											 <span class="n">uctPDIX</span><span class="p">;</span>						<span class="c1">// tPDIX</span>
	<span class="n">UCHAR</span>											 <span class="n">uctFAW</span><span class="p">;</span>						<span class="c1">// tFAW</span>
	<span class="n">UCHAR</span>											 <span class="n">uctAOND</span><span class="p">;</span>						<span class="c1">// tAOND</span>
  <span class="k">union</span> 
  <span class="p">{</span>
    <span class="k">struct</span> <span class="p">{</span>
	    <span class="n">UCHAR</span>											 <span class="n">ucflag</span><span class="p">;</span>						<span class="c1">// flag to control memory timing calculation. bit0= control EMRS2 Infineon </span>
	    <span class="n">UCHAR</span>											 <span class="n">ucReserved</span><span class="p">;</span>						
    <span class="p">};</span>
    <span class="n">USHORT</span>                   <span class="n">usDDR3_MR2</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_TIMING_FORMAT</span><span class="p">;</span>


<span class="k">typedef</span>	<span class="k">struct</span> <span class="n">_ATOM_MEMORY_TIMING_FORMAT_V1</span>
<span class="p">{</span>
	<span class="n">ULONG</span>											 <span class="n">ulClkRange</span><span class="p">;</span>				<span class="c1">// memory clock in 10kHz unit, when target memory clock is below this clock, use this memory timing 	</span>
	<span class="n">USHORT</span>										 <span class="n">usMRS</span><span class="p">;</span>							<span class="c1">// mode register						</span>
	<span class="n">USHORT</span>										 <span class="n">usEMRS</span><span class="p">;</span>						<span class="c1">// extended mode register</span>
	<span class="n">UCHAR</span>											 <span class="n">ucCL</span><span class="p">;</span>							<span class="c1">// CAS latency</span>
	<span class="n">UCHAR</span>											 <span class="n">ucWL</span><span class="p">;</span>							<span class="c1">// WRITE Latency				</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRAS</span><span class="p">;</span>						<span class="c1">// tRAS</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRC</span><span class="p">;</span>							<span class="c1">// tRC	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRFC</span><span class="p">;</span>						<span class="c1">// tRFC</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRCDR</span><span class="p">;</span>						<span class="c1">// tRCDR	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRCDW</span><span class="p">;</span>						<span class="c1">// tRCDW</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRP</span><span class="p">;</span>							<span class="c1">// tRP</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRRD</span><span class="p">;</span>						<span class="c1">// tRRD	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctWR</span><span class="p">;</span>							<span class="c1">// tWR</span>
	<span class="n">UCHAR</span>											 <span class="n">uctWTR</span><span class="p">;</span>						<span class="c1">// tWTR</span>
	<span class="n">UCHAR</span>											 <span class="n">uctPDIX</span><span class="p">;</span>						<span class="c1">// tPDIX</span>
	<span class="n">UCHAR</span>											 <span class="n">uctFAW</span><span class="p">;</span>						<span class="c1">// tFAW</span>
	<span class="n">UCHAR</span>											 <span class="n">uctAOND</span><span class="p">;</span>						<span class="c1">// tAOND</span>
	<span class="n">UCHAR</span>											 <span class="n">ucflag</span><span class="p">;</span>						<span class="c1">// flag to control memory timing calculation. bit0= control EMRS2 Infineon </span></pre></div></td></tr>


<tr id="section-310"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-310">&#182;</a></div><p>//////////////////////////////////GDDR parameters///////////////////////////////////</p></td><td class="code"><div class="highlight"><pre>	<span class="n">UCHAR</span>											 <span class="n">uctCCDL</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCRCRL</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCRCWL</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCKE</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCKRSE</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCKRSX</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctFAW32</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucMR5lo</span><span class="p">;</span>					<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucMR5hi</span><span class="p">;</span>					<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucTerminator</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_TIMING_FORMAT_V1</span><span class="p">;</span>

<span class="k">typedef</span>	<span class="k">struct</span> <span class="n">_ATOM_MEMORY_TIMING_FORMAT_V2</span>
<span class="p">{</span>
	<span class="n">ULONG</span>											 <span class="n">ulClkRange</span><span class="p">;</span>				<span class="c1">// memory clock in 10kHz unit, when target memory clock is below this clock, use this memory timing 	</span>
	<span class="n">USHORT</span>										 <span class="n">usMRS</span><span class="p">;</span>							<span class="c1">// mode register						</span>
	<span class="n">USHORT</span>										 <span class="n">usEMRS</span><span class="p">;</span>						<span class="c1">// extended mode register</span>
	<span class="n">UCHAR</span>											 <span class="n">ucCL</span><span class="p">;</span>							<span class="c1">// CAS latency</span>
	<span class="n">UCHAR</span>											 <span class="n">ucWL</span><span class="p">;</span>							<span class="c1">// WRITE Latency				</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRAS</span><span class="p">;</span>						<span class="c1">// tRAS</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRC</span><span class="p">;</span>							<span class="c1">// tRC	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRFC</span><span class="p">;</span>						<span class="c1">// tRFC</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRCDR</span><span class="p">;</span>						<span class="c1">// tRCDR	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRCDW</span><span class="p">;</span>						<span class="c1">// tRCDW</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRP</span><span class="p">;</span>							<span class="c1">// tRP</span>
	<span class="n">UCHAR</span>											 <span class="n">uctRRD</span><span class="p">;</span>						<span class="c1">// tRRD	</span>
	<span class="n">UCHAR</span>											 <span class="n">uctWR</span><span class="p">;</span>							<span class="c1">// tWR</span>
	<span class="n">UCHAR</span>											 <span class="n">uctWTR</span><span class="p">;</span>						<span class="c1">// tWTR</span>
	<span class="n">UCHAR</span>											 <span class="n">uctPDIX</span><span class="p">;</span>						<span class="c1">// tPDIX</span>
	<span class="n">UCHAR</span>											 <span class="n">uctFAW</span><span class="p">;</span>						<span class="c1">// tFAW</span>
	<span class="n">UCHAR</span>											 <span class="n">uctAOND</span><span class="p">;</span>						<span class="c1">// tAOND</span>
	<span class="n">UCHAR</span>											 <span class="n">ucflag</span><span class="p">;</span>						<span class="c1">// flag to control memory timing calculation. bit0= control EMRS2 Infineon </span></pre></div></td></tr>


<tr id="section-311"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-311">&#182;</a></div><p>//////////////////////////////////GDDR parameters///////////////////////////////////</p></td><td class="code"><div class="highlight"><pre>	<span class="n">UCHAR</span>											 <span class="n">uctCCDL</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCRCRL</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCRCWL</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCKE</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCKRSE</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctCKRSX</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">uctFAW32</span><span class="p">;</span>						<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucMR4lo</span><span class="p">;</span>					<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucMR4hi</span><span class="p">;</span>					<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucMR5lo</span><span class="p">;</span>					<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucMR5hi</span><span class="p">;</span>					<span class="c1">// </span>
	<span class="n">UCHAR</span>											 <span class="n">ucTerminator</span><span class="p">;</span>
	<span class="n">UCHAR</span>											 <span class="n">ucReserved</span><span class="p">;</span>	
<span class="p">}</span><span class="n">ATOM_MEMORY_TIMING_FORMAT_V2</span><span class="p">;</span>

<span class="k">typedef</span>	<span class="k">struct</span> <span class="n">_ATOM_MEMORY_FORMAT</span>
<span class="p">{</span>
	<span class="n">ULONG</span>											 <span class="n">ulDllDisClock</span><span class="p">;</span>			<span class="c1">// memory DLL will be disable when target memory clock is below this clock</span>
  <span class="k">union</span><span class="p">{</span>
    <span class="n">USHORT</span>                     <span class="n">usEMRS2Value</span><span class="p">;</span>      <span class="c1">// EMRS2 Value is used for GDDR2 and GDDR4 memory type</span>
    <span class="n">USHORT</span>                     <span class="n">usDDR3_Reserved</span><span class="p">;</span>   <span class="c1">// Not used for DDR3 memory</span>
  <span class="p">};</span>
  <span class="k">union</span><span class="p">{</span>
    <span class="n">USHORT</span>                     <span class="n">usEMRS3Value</span><span class="p">;</span>      <span class="c1">// EMRS3 Value is used for GDDR2 and GDDR4 memory type</span>
    <span class="n">USHORT</span>                     <span class="n">usDDR3_MR3</span><span class="p">;</span>        <span class="c1">// Used for DDR3 memory</span>
  <span class="p">};</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryType</span><span class="p">;</span>      <span class="c1">// [7:4]=0x1:DDR1;=0x2:DDR2;=0x3:DDR3;=0x4:DDR4;[3:0] - must not be used for now;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryVenderID</span><span class="p">;</span>  <span class="c1">// Predefined,never change across designs or memory type/vender. If not predefined, vendor detection table gets executed</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRow</span><span class="p">;</span>             <span class="c1">// Number of Row,in power of 2;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucColumn</span><span class="p">;</span>          <span class="c1">// Number of Column,in power of 2;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucBank</span><span class="p">;</span>            <span class="c1">// Nunber of Bank;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRank</span><span class="p">;</span>            <span class="c1">// Number of Rank, in power of 2</span>
	<span class="n">UCHAR</span>											 <span class="n">ucBurstSize</span><span class="p">;</span>				<span class="c1">// burst size, 0= burst size=4  1= burst size=8</span>
  <span class="n">UCHAR</span>                      <span class="n">ucDllDisBit</span><span class="p">;</span>				<span class="c1">// position of DLL Enable/Disable bit in EMRS ( Extended Mode Register )</span>
  <span class="n">UCHAR</span>                      <span class="n">ucRefreshRateFactor</span><span class="p">;</span>	<span class="c1">// memory refresh rate in unit of ms	</span>
	<span class="n">UCHAR</span>											 <span class="n">ucDensity</span><span class="p">;</span>					<span class="c1">// _8Mx32, _16Mx32, _16Mx16, _32Mx16</span>
	<span class="n">UCHAR</span>											 <span class="n">ucPreamble</span><span class="p">;</span>				<span class="c1">//[7:4] Write Preamble, [3:0] Read Preamble</span>
  <span class="n">UCHAR</span>											 <span class="n">ucMemAttrib</span><span class="p">;</span>				<span class="c1">// Memory Device Addribute, like RDBI/WDBI etc</span>
	<span class="n">ATOM_MEMORY_TIMING_FORMAT</span>	 <span class="n">asMemTiming</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>		<span class="c1">//Memory Timing block sort from lower clock to higher clock</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_FORMAT</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_MODULE_V3</span>
<span class="p">{</span>
	<span class="n">ULONG</span>											 <span class="n">ulChannelMapCfg</span><span class="p">;</span>		<span class="c1">// board dependent paramenter:Channel combination</span>
	<span class="n">USHORT</span>										 <span class="n">usSize</span><span class="p">;</span>						<span class="c1">// size of ATOM_VRAM_MODULE_V3</span>
  <span class="n">USHORT</span>                     <span class="n">usDefaultMVDDQ</span><span class="p">;</span>		<span class="c1">// board dependent parameter:Default Memory Core Voltage</span>
  <span class="n">USHORT</span>                     <span class="n">usDefaultMVDDC</span><span class="p">;</span>		<span class="c1">// board dependent parameter:Default Memory IO Voltage</span>
	<span class="n">UCHAR</span>                      <span class="n">ucExtMemoryID</span><span class="p">;</span>     <span class="c1">// An external indicator (by hardcode, callback or pin) to tell what is the current memory module</span>
  <span class="n">UCHAR</span>                      <span class="n">ucChannelNum</span><span class="p">;</span>      <span class="c1">// board dependent parameter:Number of channel;</span>
	<span class="n">UCHAR</span>											 <span class="n">ucChannelSize</span><span class="p">;</span>			<span class="c1">// board dependent parameter:32bit or 64bit	</span>
	<span class="n">UCHAR</span>											 <span class="n">ucVREFI</span><span class="p">;</span>						<span class="c1">// board dependnt parameter: EXT or INT +160mv to -140mv</span>
	<span class="n">UCHAR</span>											 <span class="n">ucNPL_RT</span><span class="p">;</span>					<span class="c1">// board dependent parameter:NPL round trip delay, used for calculate memory timing parameters</span>
	<span class="n">UCHAR</span>											 <span class="n">ucFlag</span><span class="p">;</span>						<span class="c1">// To enable/disable functionalities based on memory type</span>
	<span class="n">ATOM_MEMORY_FORMAT</span>				 <span class="n">asMemory</span><span class="p">;</span>					<span class="c1">// describ all of video memory parameters from memory spec</span>
<span class="p">}</span><span class="n">ATOM_VRAM_MODULE_V3</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-312"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-312">&#182;</a></div><p>ATOM<em>VRAM</em>MODULE<em>V3.ucNPL</em>RT</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define NPL_RT_MASK															0x0f</span>
<span class="cp">#define BATTERY_ODT_MASK												0xc0</span>

<span class="cp">#define ATOM_VRAM_MODULE		 ATOM_VRAM_MODULE_V3</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_MODULE_V4</span>
<span class="p">{</span>
  <span class="n">ULONG</span>	  <span class="n">ulChannelMapCfg</span><span class="p">;</span>	                <span class="c1">// board dependent parameter: Channel combination</span>
  <span class="n">USHORT</span>  <span class="n">usModuleSize</span><span class="p">;</span>                     <span class="c1">// size of ATOM_VRAM_MODULE_V4, make it easy for VBIOS to look for next entry of VRAM_MODULE</span>
  <span class="n">USHORT</span>  <span class="n">usPrivateReserved</span><span class="p">;</span>                <span class="c1">// BIOS internal reserved space to optimize code size, updated by the compiler, shouldn&#39;t be modified manually!!</span></pre></div></td></tr>


<tr id="section-313"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-313">&#182;</a></div><p>MC<em>ARB</em>RAMCFG (includes NOOFBANK,NOOFRANKS,NOOFROWS,NOOFCOLS)</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>  <span class="n">usReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucExtMemoryID</span><span class="p">;</span>    		            <span class="c1">// An external indicator (by hardcode, callback or pin) to tell what is the current memory module</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemoryType</span><span class="p">;</span>                     <span class="c1">// [7:4]=0x1:DDR1;=0x2:DDR2;=0x3:DDR3;=0x4:DDR4; 0x5:DDR5 [3:0] - Must be 0x0 for now;</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelNum</span><span class="p">;</span>                     <span class="c1">// Number of channels present in this module config</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelWidth</span><span class="p">;</span>                   <span class="c1">// 0 - 32 bits; 1 - 64 bits</span>
	<span class="n">UCHAR</span>   <span class="n">ucDensity</span><span class="p">;</span>                        <span class="c1">// _8Mx32, _16Mx32, _16Mx16, _32Mx16</span>
	<span class="n">UCHAR</span>	  <span class="n">ucFlag</span><span class="p">;</span>						                <span class="c1">// To enable/disable functionalities based on memory type</span>
	<span class="n">UCHAR</span>	  <span class="n">ucMisc</span><span class="p">;</span>						                <span class="c1">// bit0: 0 - single rank; 1 - dual rank;   bit2: 0 - burstlength 4, 1 - burstlength 8</span>
  <span class="n">UCHAR</span>		<span class="n">ucVREFI</span><span class="p">;</span>                          <span class="c1">// board dependent parameter</span>
  <span class="n">UCHAR</span>   <span class="n">ucNPL_RT</span><span class="p">;</span>                         <span class="c1">// board dependent parameter:NPL round trip delay, used for calculate memory timing parameters</span>
  <span class="n">UCHAR</span>		<span class="n">ucPreamble</span><span class="p">;</span>                       <span class="c1">// [7:4] Write Preamble, [3:0] Read Preamble</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemorySize</span><span class="p">;</span>                     <span class="c1">// BIOS internal reserved space to optimize code size, updated by the compiler, shouldn&#39;t be modified manually!!</span></pre></div></td></tr>


<tr id="section-314"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-314">&#182;</a></div><p>Total memory size in unit of 16MB for CONFIG_MEMSIZE - bit[23:0] zeros</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-315"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-315">&#182;</a></div><p>compare with V3, we flat the struct by merging ATOM<em>MEMORY</em>FORMAT (as is) into V4 as the same level</p></td><td class="code"><div class="highlight"><pre>  <span class="k">union</span><span class="p">{</span>
    <span class="n">USHORT</span>	<span class="n">usEMRS2Value</span><span class="p">;</span>                   <span class="c1">// EMRS2 Value is used for GDDR2 and GDDR4 memory type</span>
    <span class="n">USHORT</span>  <span class="n">usDDR3_Reserved</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">union</span><span class="p">{</span>
    <span class="n">USHORT</span>	<span class="n">usEMRS3Value</span><span class="p">;</span>                   <span class="c1">// EMRS3 Value is used for GDDR2 and GDDR4 memory type</span>
    <span class="n">USHORT</span>  <span class="n">usDDR3_MR3</span><span class="p">;</span>                     <span class="c1">// Used for DDR3 memory</span>
  <span class="p">};</span>  
  <span class="n">UCHAR</span>   <span class="n">ucMemoryVenderID</span><span class="p">;</span>  		            <span class="c1">// Predefined, If not predefined, vendor detection table gets executed</span>
  <span class="n">UCHAR</span>	  <span class="n">ucRefreshRateFactor</span><span class="p">;</span>              <span class="c1">// [1:0]=RefreshFactor (00=8ms, 01=16ms, 10=32ms,11=64ms)</span>
  <span class="n">UCHAR</span>   <span class="n">ucReserved2</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
  <span class="n">ATOM_MEMORY_TIMING_FORMAT</span>  <span class="n">asMemTiming</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span><span class="c1">//Memory Timing block sort from lower clock to higher clock</span>
<span class="p">}</span><span class="n">ATOM_VRAM_MODULE_V4</span><span class="p">;</span>

<span class="cp">#define VRAM_MODULE_V4_MISC_RANK_MASK       0x3</span>
<span class="cp">#define VRAM_MODULE_V4_MISC_DUAL_RANK       0x1</span>
<span class="cp">#define VRAM_MODULE_V4_MISC_BL_MASK         0x4</span>
<span class="cp">#define VRAM_MODULE_V4_MISC_BL8             0x4</span>
<span class="cp">#define VRAM_MODULE_V4_MISC_DUAL_CS         0x10</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_MODULE_V5</span>
<span class="p">{</span>
  <span class="n">ULONG</span>	  <span class="n">ulChannelMapCfg</span><span class="p">;</span>	                <span class="c1">// board dependent parameter: Channel combination</span>
  <span class="n">USHORT</span>  <span class="n">usModuleSize</span><span class="p">;</span>                     <span class="c1">// size of ATOM_VRAM_MODULE_V4, make it easy for VBIOS to look for next entry of VRAM_MODULE</span>
  <span class="n">USHORT</span>  <span class="n">usPrivateReserved</span><span class="p">;</span>                <span class="c1">// BIOS internal reserved space to optimize code size, updated by the compiler, shouldn&#39;t be modified manually!!</span></pre></div></td></tr>


<tr id="section-316"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-316">&#182;</a></div><p>MC<em>ARB</em>RAMCFG (includes NOOFBANK,NOOFRANKS,NOOFROWS,NOOFCOLS)</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>  <span class="n">usReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucExtMemoryID</span><span class="p">;</span>    		            <span class="c1">// An external indicator (by hardcode, callback or pin) to tell what is the current memory module</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemoryType</span><span class="p">;</span>                     <span class="c1">// [7:4]=0x1:DDR1;=0x2:DDR2;=0x3:DDR3;=0x4:DDR4; 0x5:DDR5 [3:0] - Must be 0x0 for now;</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelNum</span><span class="p">;</span>                     <span class="c1">// Number of channels present in this module config</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelWidth</span><span class="p">;</span>                   <span class="c1">// 0 - 32 bits; 1 - 64 bits</span>
	<span class="n">UCHAR</span>   <span class="n">ucDensity</span><span class="p">;</span>                        <span class="c1">// _8Mx32, _16Mx32, _16Mx16, _32Mx16</span>
	<span class="n">UCHAR</span>	  <span class="n">ucFlag</span><span class="p">;</span>						                <span class="c1">// To enable/disable functionalities based on memory type</span>
	<span class="n">UCHAR</span>	  <span class="n">ucMisc</span><span class="p">;</span>						                <span class="c1">// bit0: 0 - single rank; 1 - dual rank;   bit2: 0 - burstlength 4, 1 - burstlength 8</span>
  <span class="n">UCHAR</span>		<span class="n">ucVREFI</span><span class="p">;</span>                          <span class="c1">// board dependent parameter</span>
  <span class="n">UCHAR</span>   <span class="n">ucNPL_RT</span><span class="p">;</span>                         <span class="c1">// board dependent parameter:NPL round trip delay, used for calculate memory timing parameters</span>
  <span class="n">UCHAR</span>		<span class="n">ucPreamble</span><span class="p">;</span>                       <span class="c1">// [7:4] Write Preamble, [3:0] Read Preamble</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemorySize</span><span class="p">;</span>                     <span class="c1">// BIOS internal reserved space to optimize code size, updated by the compiler, shouldn&#39;t be modified manually!!</span></pre></div></td></tr>


<tr id="section-317"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-317">&#182;</a></div><p>Total memory size in unit of 16MB for CONFIG_MEMSIZE - bit[23:0] zeros</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-318"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-318">&#182;</a></div><p>compare with V3, we flat the struct by merging ATOM<em>MEMORY</em>FORMAT (as is) into V4 as the same level</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>	<span class="n">usEMRS2Value</span><span class="p">;</span>      		            <span class="c1">// EMRS2 Value is used for GDDR2 and GDDR4 memory type</span>
  <span class="n">USHORT</span>	<span class="n">usEMRS3Value</span><span class="p">;</span>      		            <span class="c1">// EMRS3 Value is used for GDDR2 and GDDR4 memory type</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemoryVenderID</span><span class="p">;</span>  		            <span class="c1">// Predefined, If not predefined, vendor detection table gets executed</span>
  <span class="n">UCHAR</span>	  <span class="n">ucRefreshRateFactor</span><span class="p">;</span>              <span class="c1">// [1:0]=RefreshFactor (00=8ms, 01=16ms, 10=32ms,11=64ms)</span>
  <span class="n">UCHAR</span>	  <span class="n">ucFIFODepth</span><span class="p">;</span>			                <span class="c1">// FIFO depth supposes to be detected during vendor detection, but if we dont do vendor detection we have to hardcode FIFO Depth</span>
  <span class="n">UCHAR</span>   <span class="n">ucCDR_Bandwidth</span><span class="p">;</span>		   <span class="c1">// [0:3]=Read CDR bandwidth, [4:7] - Write CDR Bandwidth</span>
  <span class="n">ATOM_MEMORY_TIMING_FORMAT_V1</span>  <span class="n">asMemTiming</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span><span class="c1">//Memory Timing block sort from lower clock to higher clock</span>
<span class="p">}</span><span class="n">ATOM_VRAM_MODULE_V5</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_MODULE_V6</span>
<span class="p">{</span>
  <span class="n">ULONG</span>	  <span class="n">ulChannelMapCfg</span><span class="p">;</span>	                <span class="c1">// board dependent parameter: Channel combination</span>
  <span class="n">USHORT</span>  <span class="n">usModuleSize</span><span class="p">;</span>                     <span class="c1">// size of ATOM_VRAM_MODULE_V4, make it easy for VBIOS to look for next entry of VRAM_MODULE</span>
  <span class="n">USHORT</span>  <span class="n">usPrivateReserved</span><span class="p">;</span>                <span class="c1">// BIOS internal reserved space to optimize code size, updated by the compiler, shouldn&#39;t be modified manually!!</span></pre></div></td></tr>


<tr id="section-319"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-319">&#182;</a></div><p>MC<em>ARB</em>RAMCFG (includes NOOFBANK,NOOFRANKS,NOOFROWS,NOOFCOLS)</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>  <span class="n">usReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucExtMemoryID</span><span class="p">;</span>    		            <span class="c1">// An external indicator (by hardcode, callback or pin) to tell what is the current memory module</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemoryType</span><span class="p">;</span>                     <span class="c1">// [7:4]=0x1:DDR1;=0x2:DDR2;=0x3:DDR3;=0x4:DDR4; 0x5:DDR5 [3:0] - Must be 0x0 for now;</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelNum</span><span class="p">;</span>                     <span class="c1">// Number of channels present in this module config</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelWidth</span><span class="p">;</span>                   <span class="c1">// 0 - 32 bits; 1 - 64 bits</span>
	<span class="n">UCHAR</span>   <span class="n">ucDensity</span><span class="p">;</span>                        <span class="c1">// _8Mx32, _16Mx32, _16Mx16, _32Mx16</span>
	<span class="n">UCHAR</span>	  <span class="n">ucFlag</span><span class="p">;</span>						                <span class="c1">// To enable/disable functionalities based on memory type</span>
	<span class="n">UCHAR</span>	  <span class="n">ucMisc</span><span class="p">;</span>						                <span class="c1">// bit0: 0 - single rank; 1 - dual rank;   bit2: 0 - burstlength 4, 1 - burstlength 8</span>
  <span class="n">UCHAR</span>		<span class="n">ucVREFI</span><span class="p">;</span>                          <span class="c1">// board dependent parameter</span>
  <span class="n">UCHAR</span>   <span class="n">ucNPL_RT</span><span class="p">;</span>                         <span class="c1">// board dependent parameter:NPL round trip delay, used for calculate memory timing parameters</span>
  <span class="n">UCHAR</span>		<span class="n">ucPreamble</span><span class="p">;</span>                       <span class="c1">// [7:4] Write Preamble, [3:0] Read Preamble</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemorySize</span><span class="p">;</span>                     <span class="c1">// BIOS internal reserved space to optimize code size, updated by the compiler, shouldn&#39;t be modified manually!!</span></pre></div></td></tr>


<tr id="section-320"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-320">&#182;</a></div><p>Total memory size in unit of 16MB for CONFIG_MEMSIZE - bit[23:0] zeros</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span></pre></div></td></tr>


<tr id="section-321"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-321">&#182;</a></div><p>compare with V3, we flat the struct by merging ATOM<em>MEMORY</em>FORMAT (as is) into V4 as the same level</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>	<span class="n">usEMRS2Value</span><span class="p">;</span>      		            <span class="c1">// EMRS2 Value is used for GDDR2 and GDDR4 memory type</span>
  <span class="n">USHORT</span>	<span class="n">usEMRS3Value</span><span class="p">;</span>      		            <span class="c1">// EMRS3 Value is used for GDDR2 and GDDR4 memory type</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemoryVenderID</span><span class="p">;</span>  		            <span class="c1">// Predefined, If not predefined, vendor detection table gets executed</span>
  <span class="n">UCHAR</span>	  <span class="n">ucRefreshRateFactor</span><span class="p">;</span>              <span class="c1">// [1:0]=RefreshFactor (00=8ms, 01=16ms, 10=32ms,11=64ms)</span>
  <span class="n">UCHAR</span>	  <span class="n">ucFIFODepth</span><span class="p">;</span>			                <span class="c1">// FIFO depth supposes to be detected during vendor detection, but if we dont do vendor detection we have to hardcode FIFO Depth</span>
  <span class="n">UCHAR</span>   <span class="n">ucCDR_Bandwidth</span><span class="p">;</span>		   <span class="c1">// [0:3]=Read CDR bandwidth, [4:7] - Write CDR Bandwidth</span>
  <span class="n">ATOM_MEMORY_TIMING_FORMAT_V2</span>  <span class="n">asMemTiming</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span><span class="c1">//Memory Timing block sort from lower clock to higher clock</span>
<span class="p">}</span><span class="n">ATOM_VRAM_MODULE_V6</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_MODULE_V7</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-322"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-322">&#182;</a></div><p>Design Specific Values</p></td><td class="code"><div class="highlight"><pre>  <span class="n">ULONG</span>	  <span class="n">ulChannelMapCfg</span><span class="p">;</span>	                <span class="c1">// mmMC_SHARED_CHREMAP</span>
  <span class="n">USHORT</span>  <span class="n">usModuleSize</span><span class="p">;</span>                     <span class="c1">// Size of ATOM_VRAM_MODULE_V7</span>
  <span class="n">USHORT</span>  <span class="n">usPrivateReserved</span><span class="p">;</span>                <span class="c1">// MC_ARB_RAMCFG (includes NOOFBANK,NOOFRANKS,NOOFROWS,NOOFCOLS)</span>
  <span class="n">USHORT</span>  <span class="n">usEnableChannels</span><span class="p">;</span>                 <span class="c1">// bit vector which indicate which channels are enabled</span>
  <span class="n">UCHAR</span>   <span class="n">ucExtMemoryID</span><span class="p">;</span>                    <span class="c1">// Current memory module ID</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemoryType</span><span class="p">;</span>                     <span class="c1">// MEM_TYPE_DDR2/DDR3/GDDR3/GDDR5</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelNum</span><span class="p">;</span>                     <span class="c1">// Number of mem. channels supported in this module</span>
  <span class="n">UCHAR</span>   <span class="n">ucChannelWidth</span><span class="p">;</span>                   <span class="c1">// CHANNEL_16BIT/CHANNEL_32BIT/CHANNEL_64BIT</span>
  <span class="n">UCHAR</span>   <span class="n">ucDensity</span><span class="p">;</span>                        <span class="c1">// _8Mx32, _16Mx32, _16Mx16, _32Mx16</span>
  <span class="n">UCHAR</span>	  <span class="n">ucReserve</span><span class="p">;</span>                        <span class="c1">// Former container for Mx_FLAGS like DBI_AC_MODE_ENABLE_ASIC for GDDR4. Not used now.</span>
  <span class="n">UCHAR</span>	  <span class="n">ucMisc</span><span class="p">;</span>                           <span class="c1">// RANK_OF_THISMEMORY etc.</span>
  <span class="n">UCHAR</span>	  <span class="n">ucVREFI</span><span class="p">;</span>                          <span class="c1">// Not used.</span>
  <span class="n">UCHAR</span>   <span class="n">ucNPL_RT</span><span class="p">;</span>                         <span class="c1">// Round trip delay (MC_SEQ_CAS_TIMING [28:24]:TCL=CL+NPL_RT-2). Always 2.</span>
  <span class="n">UCHAR</span>	  <span class="n">ucPreamble</span><span class="p">;</span>                       <span class="c1">// [7:4] Write Preamble, [3:0] Read Preamble</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemorySize</span><span class="p">;</span>                     <span class="c1">// Total memory size in unit of 16MB for CONFIG_MEMSIZE - bit[23:0] zeros</span>
  <span class="n">USHORT</span>  <span class="n">usSEQSettingOffset</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-323"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-323">&#182;</a></div><p>Memory Module specific values</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>  <span class="n">usEMRS2Value</span><span class="p">;</span>                     <span class="c1">// EMRS2/MR2 Value. </span>
  <span class="n">USHORT</span>  <span class="n">usEMRS3Value</span><span class="p">;</span>                     <span class="c1">// EMRS3/MR3 Value.</span>
  <span class="n">UCHAR</span>   <span class="n">ucMemoryVenderID</span><span class="p">;</span>                 <span class="c1">// [7:4] Revision, [3:0] Vendor code</span>
  <span class="n">UCHAR</span>	  <span class="n">ucRefreshRateFactor</span><span class="p">;</span>              <span class="c1">// [1:0]=RefreshFactor (00=8ms, 01=16ms, 10=32ms,11=64ms)</span>
  <span class="n">UCHAR</span>	  <span class="n">ucFIFODepth</span><span class="p">;</span>                      <span class="c1">// FIFO depth can be detected during vendor detection, here is hardcoded per memory</span>
  <span class="n">UCHAR</span>   <span class="n">ucCDR_Bandwidth</span><span class="p">;</span>                  <span class="c1">// [0:3]=Read CDR bandwidth, [4:7] - Write CDR Bandwidth</span>
  <span class="kt">char</span>    <span class="n">strMemPNString</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>               <span class="c1">// part number end with &#39;0&#39;. </span>
<span class="p">}</span><span class="n">ATOM_VRAM_MODULE_V7</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_INFO_V2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">UCHAR</span>                      <span class="n">ucNumOfVRAMModule</span><span class="p">;</span>
  <span class="n">ATOM_VRAM_MODULE</span>           <span class="n">aVramInfo</span><span class="p">[</span><span class="n">ATOM_MAX_NUMBER_OF_VRAM_MODULE</span><span class="p">];</span>      <span class="c1">// just for allocation, real number of blocks is in ucNumOfVRAMModule;</span>
<span class="p">}</span><span class="n">ATOM_VRAM_INFO_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_INFO_V3</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
	<span class="n">USHORT</span>										 <span class="n">usMemAdjustTblOffset</span><span class="p">;</span>													 <span class="c1">// offset of ATOM_INIT_REG_BLOCK structure for memory vendor specific MC adjust setting</span>
	<span class="n">USHORT</span>										 <span class="n">usMemClkPatchTblOffset</span><span class="p">;</span>												 <span class="c1">//	offset of ATOM_INIT_REG_BLOCK structure for memory clock specific MC setting</span>
	<span class="n">USHORT</span>										 <span class="n">usRerseved</span><span class="p">;</span>
	<span class="n">UCHAR</span>           	         <span class="n">aVID_PinsShift</span><span class="p">[</span><span class="mi">9</span><span class="p">];</span>															 <span class="c1">// 8 bit strap maximum+terminator</span>
  <span class="n">UCHAR</span>                      <span class="n">ucNumOfVRAMModule</span><span class="p">;</span>
  <span class="n">ATOM_VRAM_MODULE</span>		       <span class="n">aVramInfo</span><span class="p">[</span><span class="n">ATOM_MAX_NUMBER_OF_VRAM_MODULE</span><span class="p">];</span>      <span class="c1">// just for allocation, real number of blocks is in ucNumOfVRAMModule;</span>
	<span class="n">ATOM_INIT_REG_BLOCK</span>				 <span class="n">asMemPatch</span><span class="p">;</span>																		 <span class="c1">// for allocation</span></pre></div></td></tr>


<tr id="section-324"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-324">&#182;</a></div><p>ATOM<em>INIT</em>REG_BLOCK                 aMemAdjust;</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">ATOM_VRAM_INFO_V3</span><span class="p">;</span>

<span class="cp">#define	ATOM_VRAM_INFO_LAST	     ATOM_VRAM_INFO_V3</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_INFO_V4</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMemAdjustTblOffset</span><span class="p">;</span>													 <span class="c1">// offset of ATOM_INIT_REG_BLOCK structure for memory vendor specific MC adjust setting</span>
  <span class="n">USHORT</span>                     <span class="n">usMemClkPatchTblOffset</span><span class="p">;</span>												 <span class="c1">//	offset of ATOM_INIT_REG_BLOCK structure for memory clock specific MC setting</span>
  <span class="n">USHORT</span>										 <span class="n">usRerseved</span><span class="p">;</span>
  <span class="n">UCHAR</span>           	         <span class="n">ucMemDQ7_0ByteRemap</span><span class="p">;</span>													   <span class="c1">// DQ line byte remap, =0: Memory Data line BYTE0, =1: BYTE1, =2: BYTE2, =3: BYTE3</span>
  <span class="n">ULONG</span>                      <span class="n">ulMemDQ7_0BitRemap</span><span class="p">;</span>                             <span class="c1">// each DQ line ( 7~0) use 3bits, like: DQ0=Bit[2:0], DQ1:[5:3], ... DQ7:[23:21]</span>
  <span class="n">UCHAR</span>                      <span class="n">ucReservde</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span> 
  <span class="n">UCHAR</span>                      <span class="n">ucNumOfVRAMModule</span><span class="p">;</span>
  <span class="n">ATOM_VRAM_MODULE_V4</span>		     <span class="n">aVramInfo</span><span class="p">[</span><span class="n">ATOM_MAX_NUMBER_OF_VRAM_MODULE</span><span class="p">];</span>      <span class="c1">// just for allocation, real number of blocks is in ucNumOfVRAMModule;</span>
	<span class="n">ATOM_INIT_REG_BLOCK</span>				 <span class="n">asMemPatch</span><span class="p">;</span>																		 <span class="c1">// for allocation</span></pre></div></td></tr>


<tr id="section-325"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-325">&#182;</a></div><p>ATOM<em>INIT</em>REG_BLOCK                 aMemAdjust;</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">ATOM_VRAM_INFO_V4</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_INFO_HEADER_V2_1</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>                     <span class="n">usMemAdjustTblOffset</span><span class="p">;</span>													 <span class="c1">// offset of ATOM_INIT_REG_BLOCK structure for memory vendor specific MC adjust setting</span>
  <span class="n">USHORT</span>                     <span class="n">usMemClkPatchTblOffset</span><span class="p">;</span>												 <span class="c1">//	offset of ATOM_INIT_REG_BLOCK structure for memory clock specific MC setting</span>
  <span class="n">USHORT</span>                     <span class="n">usPerBytePresetOffset</span><span class="p">;</span>                          <span class="c1">// offset of ATOM_INIT_REG_BLOCK structure for Per Byte Offset Preset Settings</span>
  <span class="n">USHORT</span>                     <span class="n">usReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">UCHAR</span>                      <span class="n">ucNumOfVRAMModule</span><span class="p">;</span>                              <span class="c1">// indicate number of VRAM module</span>
  <span class="n">UCHAR</span>                      <span class="n">ucMemoryClkPatchTblVer</span><span class="p">;</span>                         <span class="c1">// version of memory AC timing register list</span>
  <span class="n">UCHAR</span>                      <span class="n">ucVramModuleVer</span><span class="p">;</span>                                <span class="c1">// indicate ATOM_VRAM_MODUE version</span>
  <span class="n">UCHAR</span>                      <span class="n">ucReserved</span><span class="p">;</span> 
  <span class="n">ATOM_VRAM_MODULE_V7</span>		     <span class="n">aVramInfo</span><span class="p">[</span><span class="n">ATOM_MAX_NUMBER_OF_VRAM_MODULE</span><span class="p">];</span>      <span class="c1">// just for allocation, real number of blocks is in ucNumOfVRAMModule;</span>
<span class="p">}</span><span class="n">ATOM_VRAM_INFO_HEADER_V2_1</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_VRAM_GPIO_DETECTION_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">UCHAR</span>           	         <span class="n">aVID_PinsShift</span><span class="p">[</span><span class="mi">9</span><span class="p">];</span>   <span class="c1">//8 bit strap maximum+terminator</span>
<span class="p">}</span><span class="n">ATOM_VRAM_GPIO_DETECTION_INFO</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MEMORY_TRAINING_INFO</span>
<span class="p">{</span>
	<span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>
	<span class="n">UCHAR</span>											 <span class="n">ucTrainingLoop</span><span class="p">;</span>
	<span class="n">UCHAR</span>											 <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">ATOM_INIT_REG_BLOCK</span>				 <span class="n">asMemTrainingSetting</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_MEMORY_TRAINING_INFO</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">SW_I2C_CNTL_DATA_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>    <span class="n">ucControl</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucData</span><span class="p">;</span> 
  <span class="n">UCHAR</span>    <span class="n">ucSatus</span><span class="p">;</span> 
  <span class="n">UCHAR</span>    <span class="n">ucTemp</span><span class="p">;</span> 
<span class="p">}</span> <span class="n">SW_I2C_CNTL_DATA_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define SW_I2C_CNTL_DATA_PS_ALLOCATION  SW_I2C_CNTL_DATA_PARAMETERS</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SW_I2C_IO_DATA_PARAMETERS</span>
<span class="p">{</span>                               
  <span class="n">USHORT</span>   <span class="n">GPIO_Info</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucAct</span><span class="p">;</span> 
  <span class="n">UCHAR</span>    <span class="n">ucData</span><span class="p">;</span> 
 <span class="p">}</span> <span class="n">SW_I2C_IO_DATA_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define SW_I2C_IO_DATA_PS_ALLOCATION  SW_I2C_IO_DATA_PARAMETERS</span>

<span class="cm">/****************************SW I2C CNTL DEFINITIONS**********************/</span>
<span class="cp">#define SW_I2C_IO_RESET       0</span>
<span class="cp">#define SW_I2C_IO_GET         1</span>
<span class="cp">#define SW_I2C_IO_DRIVE       2</span>
<span class="cp">#define SW_I2C_IO_SET         3</span>
<span class="cp">#define SW_I2C_IO_START       4</span>

<span class="cp">#define SW_I2C_IO_CLOCK       0</span>
<span class="cp">#define SW_I2C_IO_DATA        0x80</span>

<span class="cp">#define SW_I2C_IO_ZERO        0</span>
<span class="cp">#define SW_I2C_IO_ONE         0x100</span>

<span class="cp">#define SW_I2C_CNTL_READ      0</span>
<span class="cp">#define SW_I2C_CNTL_WRITE     1</span>
<span class="cp">#define SW_I2C_CNTL_START     2</span>
<span class="cp">#define SW_I2C_CNTL_STOP      3</span>
<span class="cp">#define SW_I2C_CNTL_OPEN      4</span>
<span class="cp">#define SW_I2C_CNTL_CLOSE     5</span>
<span class="cp">#define SW_I2C_CNTL_WRITE1BIT 6</span></pre></div></td></tr>


<tr id="section-326"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-326">&#182;</a></div><p>==============================VESA definition Portion===============================</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define VESA_OEM_PRODUCT_REV			            &quot;01.00&quot;</span>
<span class="cp">#define VESA_MODE_ATTRIBUTE_MODE_SUPPORT	     0xBB	</span><span class="c1">//refer to VBE spec p.32, no TTY support</span>
<span class="cp">#define VESA_MODE_WIN_ATTRIBUTE						     7</span>
<span class="cp">#define VESA_WIN_SIZE											     64</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PTR_32_BIT_STRUCTURE</span>
<span class="p">{</span>
	<span class="n">USHORT</span>	<span class="n">Offset16</span><span class="p">;</span>			
	<span class="n">USHORT</span>	<span class="n">Segment16</span><span class="p">;</span>				
<span class="p">}</span> <span class="n">PTR_32_BIT_STRUCTURE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_PTR_32_BIT_UNION</span>
<span class="p">{</span>
	<span class="n">PTR_32_BIT_STRUCTURE</span>	<span class="n">SegmentOffset</span><span class="p">;</span>
	<span class="n">ULONG</span>					        <span class="n">Ptr32_Bit</span><span class="p">;</span>
<span class="p">}</span> <span class="n">PTR_32_BIT_UNION</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_VBE_1_2_INFO_BLOCK_UPDATABLE</span>
<span class="p">{</span>
	<span class="n">UCHAR</span>				      <span class="n">VbeSignature</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">USHORT</span>				    <span class="n">VbeVersion</span><span class="p">;</span>
	<span class="n">PTR_32_BIT_UNION</span>	<span class="n">OemStringPtr</span><span class="p">;</span>
	<span class="n">UCHAR</span>				      <span class="n">Capabilities</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">PTR_32_BIT_UNION</span>	<span class="n">VideoModePtr</span><span class="p">;</span>
	<span class="n">USHORT</span>				    <span class="n">TotalMemory</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VBE_1_2_INFO_BLOCK_UPDATABLE</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_VBE_2_0_INFO_BLOCK_UPDATABLE</span>
<span class="p">{</span>
	<span class="n">VBE_1_2_INFO_BLOCK_UPDATABLE</span>	<span class="n">CommonBlock</span><span class="p">;</span>
	<span class="n">USHORT</span>							    <span class="n">OemSoftRev</span><span class="p">;</span>
	<span class="n">PTR_32_BIT_UNION</span>				<span class="n">OemVendorNamePtr</span><span class="p">;</span>
	<span class="n">PTR_32_BIT_UNION</span>				<span class="n">OemProductNamePtr</span><span class="p">;</span>
	<span class="n">PTR_32_BIT_UNION</span>				<span class="n">OemProductRevPtr</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VBE_2_0_INFO_BLOCK_UPDATABLE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_VBE_VERSION_UNION</span>
<span class="p">{</span>
	<span class="n">VBE_2_0_INFO_BLOCK_UPDATABLE</span>	<span class="n">VBE_2_0_InfoBlock</span><span class="p">;</span>
	<span class="n">VBE_1_2_INFO_BLOCK_UPDATABLE</span>	<span class="n">VBE_1_2_InfoBlock</span><span class="p">;</span>
<span class="p">}</span> <span class="n">VBE_VERSION_UNION</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_VBE_INFO_BLOCK</span>
<span class="p">{</span>
	<span class="n">VBE_VERSION_UNION</span>			<span class="n">UpdatableVBE_Info</span><span class="p">;</span>
	<span class="n">UCHAR</span>						      <span class="n">Reserved</span><span class="p">[</span><span class="mi">222</span><span class="p">];</span>
	<span class="n">UCHAR</span>						      <span class="n">OemData</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">}</span> <span class="n">VBE_INFO_BLOCK</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_VBE_FP_INFO</span>
<span class="p">{</span>
  <span class="n">USHORT</span>	<span class="n">HSize</span><span class="p">;</span>
	<span class="n">USHORT</span>	<span class="n">VSize</span><span class="p">;</span>
	<span class="n">USHORT</span>	<span class="n">FPType</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">RedBPP</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">GreenBPP</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">BlueBPP</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">ReservedBPP</span><span class="p">;</span>
	<span class="n">ULONG</span>		<span class="n">RsvdOffScrnMemSize</span><span class="p">;</span>
	<span class="n">ULONG</span>		<span class="n">RsvdOffScrnMEmPtr</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">Reserved</span><span class="p">[</span><span class="mi">14</span><span class="p">];</span>
<span class="p">}</span> <span class="n">VBE_FP_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_VESA_MODE_INFO_BLOCK</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-327"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-327">&#182;</a></div><p>Mandatory information for all VBE revisions</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>    <span class="n">ModeAttributes</span><span class="p">;</span>  <span class="c1">//			dw	?	; mode attributes</span>
	<span class="n">UCHAR</span>     <span class="n">WinAAttributes</span><span class="p">;</span>  <span class="c1">//			db	?	; window A attributes</span>
	<span class="n">UCHAR</span>     <span class="n">WinBAttributes</span><span class="p">;</span>  <span class="c1">//			db	?	; window B attributes</span>
	<span class="n">USHORT</span>    <span class="n">WinGranularity</span><span class="p">;</span>  <span class="c1">//			dw	?	; window granularity</span>
	<span class="n">USHORT</span>    <span class="n">WinSize</span><span class="p">;</span>         <span class="c1">//			dw	?	; window size</span>
	<span class="n">USHORT</span>    <span class="n">WinASegment</span><span class="p">;</span>     <span class="c1">//			dw	?	; window A start segment</span>
	<span class="n">USHORT</span>    <span class="n">WinBSegment</span><span class="p">;</span>     <span class="c1">//			dw	?	; window B start segment</span>
	<span class="n">ULONG</span>     <span class="n">WinFuncPtr</span><span class="p">;</span>      <span class="c1">//			dd	?	; real mode pointer to window function</span>
	<span class="n">USHORT</span>    <span class="n">BytesPerScanLine</span><span class="p">;</span><span class="c1">//			dw	?	; bytes per scan line</span></pre></div></td></tr>


<tr id="section-328"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-328">&#182;</a></div><p>; Mandatory information for VBE 1.2 and above</p></td><td class="code"><div class="highlight"><pre>  <span class="n">USHORT</span>    <span class="n">XResolution</span><span class="p">;</span>      <span class="c1">//			dw	?	; horizontal resolution in pixels or characters</span>
	<span class="n">USHORT</span>    <span class="n">YResolution</span><span class="p">;</span>      <span class="c1">//			dw	?	; vertical resolution in pixels or characters</span>
	<span class="n">UCHAR</span>     <span class="n">XCharSize</span><span class="p">;</span>        <span class="c1">//			db	?	; character cell width in pixels</span>
	<span class="n">UCHAR</span>     <span class="n">YCharSize</span><span class="p">;</span>        <span class="c1">//			db	?	; character cell height in pixels</span>
	<span class="n">UCHAR</span>     <span class="n">NumberOfPlanes</span><span class="p">;</span>   <span class="c1">//			db	?	; number of memory planes</span>
	<span class="n">UCHAR</span>     <span class="n">BitsPerPixel</span><span class="p">;</span>     <span class="c1">//			db	?	; bits per pixel</span>
	<span class="n">UCHAR</span>     <span class="n">NumberOfBanks</span><span class="p">;</span>    <span class="c1">//			db	?	; number of banks</span>
	<span class="n">UCHAR</span>     <span class="n">MemoryModel</span><span class="p">;</span>      <span class="c1">//			db	?	; memory model type</span>
	<span class="n">UCHAR</span>     <span class="n">BankSize</span><span class="p">;</span>         <span class="c1">//			db	?	; bank size in KB</span>
	<span class="n">UCHAR</span>     <span class="n">NumberOfImagePages</span><span class="p">;</span><span class="c1">//		  db	?	; number of images</span>
	<span class="n">UCHAR</span>     <span class="n">ReservedForPageFunction</span><span class="p">;</span><span class="c1">//db	1	; reserved for page function</span></pre></div></td></tr>


<tr id="section-329"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-329">&#182;</a></div><p>; Direct Color fields(required for direct/6 and YUV/7 memory models)</p></td><td class="code"><div class="highlight"><pre>	<span class="n">UCHAR</span>			<span class="n">RedMaskSize</span><span class="p">;</span>        <span class="c1">//		db	?	; size of direct color red mask in bits</span>
	<span class="n">UCHAR</span>			<span class="n">RedFieldPosition</span><span class="p">;</span>   <span class="c1">//		db	?	; bit position of lsb of red mask</span>
	<span class="n">UCHAR</span>			<span class="n">GreenMaskSize</span><span class="p">;</span>      <span class="c1">//		db	?	; size of direct color green mask in bits</span>
	<span class="n">UCHAR</span>			<span class="n">GreenFieldPosition</span><span class="p">;</span> <span class="c1">//		db	?	; bit position of lsb of green mask</span>
	<span class="n">UCHAR</span>			<span class="n">BlueMaskSize</span><span class="p">;</span>       <span class="c1">//		db	?	; size of direct color blue mask in bits</span>
	<span class="n">UCHAR</span>			<span class="n">BlueFieldPosition</span><span class="p">;</span>  <span class="c1">//		db	?	; bit position of lsb of blue mask</span>
	<span class="n">UCHAR</span>			<span class="n">RsvdMaskSize</span><span class="p">;</span>       <span class="c1">//		db	?	; size of direct color reserved mask in bits</span>
	<span class="n">UCHAR</span>			<span class="n">RsvdFieldPosition</span><span class="p">;</span>  <span class="c1">//		db	?	; bit position of lsb of reserved mask</span>
	<span class="n">UCHAR</span>			<span class="n">DirectColorModeInfo</span><span class="p">;</span><span class="c1">//		db	?	; direct color mode attributes</span></pre></div></td></tr>


<tr id="section-330"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-330">&#182;</a></div><p>; Mandatory information for VBE 2.0 and above</p></td><td class="code"><div class="highlight"><pre>	<span class="n">ULONG</span>			<span class="n">PhysBasePtr</span><span class="p">;</span>        <span class="c1">//		dd	?	; physical address for flat memory frame buffer</span>
	<span class="n">ULONG</span>			<span class="n">Reserved_1</span><span class="p">;</span>         <span class="c1">//		dd	0	; reserved - always set to 0</span>
	<span class="n">USHORT</span>		<span class="n">Reserved_2</span><span class="p">;</span>         <span class="c1">//	  dw	0	; reserved - always set to 0</span></pre></div></td></tr>


<tr id="section-331"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-331">&#182;</a></div><p>; Mandatory information for VBE 3.0 and above</p></td><td class="code"><div class="highlight"><pre>	<span class="n">USHORT</span>		<span class="n">LinBytesPerScanLine</span><span class="p">;</span>  <span class="c1">//	dw	?	; bytes per scan line for linear modes</span>
	<span class="n">UCHAR</span>			<span class="n">BnkNumberOfImagePages</span><span class="p">;</span><span class="c1">//	db	?	; number of images for banked modes</span>
	<span class="n">UCHAR</span>			<span class="n">LinNumberOfImagPages</span><span class="p">;</span> <span class="c1">//	db	?	; number of images for linear modes</span>
	<span class="n">UCHAR</span>			<span class="n">LinRedMaskSize</span><span class="p">;</span>       <span class="c1">//	db	?	; size of direct color red mask(linear modes)</span>
	<span class="n">UCHAR</span>			<span class="n">LinRedFieldPosition</span><span class="p">;</span>  <span class="c1">//	db	?	; bit position of lsb of red mask(linear modes)</span>
	<span class="n">UCHAR</span>			<span class="n">LinGreenMaskSize</span><span class="p">;</span>     <span class="c1">//	db	?	; size of direct color green mask(linear modes)</span>
	<span class="n">UCHAR</span>			<span class="n">LinGreenFieldPosition</span><span class="p">;</span><span class="c1">//	db	?	; bit position of lsb of green mask(linear modes)</span>
	<span class="n">UCHAR</span>			<span class="n">LinBlueMaskSize</span><span class="p">;</span>      <span class="c1">//	db	?	; size of direct color blue mask(linear modes)</span>
	<span class="n">UCHAR</span>			<span class="n">LinBlueFieldPosition</span><span class="p">;</span> <span class="c1">//	db	?	; bit position of lsb of blue mask(linear modes)</span>
	<span class="n">UCHAR</span>			<span class="n">LinRsvdMaskSize</span><span class="p">;</span>      <span class="c1">//	db	?	; size of direct color reserved mask(linear modes)</span>
	<span class="n">UCHAR</span>			<span class="n">LinRsvdFieldPosition</span><span class="p">;</span> <span class="c1">//	db	?	; bit position of lsb of reserved mask(linear modes)</span>
	<span class="n">ULONG</span>			<span class="n">MaxPixelClock</span><span class="p">;</span>        <span class="c1">//	dd	?	; maximum pixel clock(in Hz) for graphics mode</span>
	<span class="n">UCHAR</span>			<span class="n">Reserved</span><span class="p">;</span>             <span class="c1">//	db	190 dup (0)</span>
<span class="p">}</span> <span class="n">VESA_MODE_INFO_BLOCK</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-332"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-332">&#182;</a></div><p>BIOS function CALLS</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_BIOS_EXTENDED_FUNCTION_CODE        0xA0	        </span><span class="c1">// ATI Extended Function code</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_COP_MODE             0x00</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_SHORT_QUERY1         0x04</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_SHORT_QUERY2         0x05</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_SHORT_QUERY3         0x06</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_GET_DDC              0x0B   </span>
<span class="cp">#define ATOM_BIOS_FUNCTION_ASIC_DSTATE          0x0E</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_DEBUG_PLAY           0x0F</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_STV_STD              0x16</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_DEVICE_DET           0x17</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_DEVICE_SWITCH        0x18</span>

<span class="cp">#define ATOM_BIOS_FUNCTION_PANEL_CONTROL        0x82</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_OLD_DEVICE_DET       0x83</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_OLD_DEVICE_SWITCH    0x84</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_HW_ICON              0x8A </span>
<span class="cp">#define ATOM_BIOS_FUNCTION_SET_CMOS             0x8B</span>
<span class="cp">#define SUB_FUNCTION_UPDATE_DISPLAY_INFO        0x8000          </span><span class="c1">// Sub function 80</span>
<span class="cp">#define SUB_FUNCTION_UPDATE_EXPANSION_INFO      0x8100          </span><span class="c1">// Sub function 80</span>

<span class="cp">#define ATOM_BIOS_FUNCTION_DISPLAY_INFO         0x8D</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_DEVICE_ON_OFF        0x8E</span>
<span class="cp">#define ATOM_BIOS_FUNCTION_VIDEO_STATE          0x8F </span>
<span class="cp">#define ATOM_SUB_FUNCTION_GET_CRITICAL_STATE    0x0300          </span><span class="c1">// Sub function 03  </span>
<span class="cp">#define ATOM_SUB_FUNCTION_GET_LIDSTATE          0x0700          </span><span class="c1">// Sub function 7</span>
<span class="cp">#define ATOM_SUB_FUNCTION_THERMAL_STATE_NOTICE  0x1400          </span><span class="c1">// Notify caller the current thermal state</span>
<span class="cp">#define ATOM_SUB_FUNCTION_CRITICAL_STATE_NOTICE 0x8300          </span><span class="c1">// Notify caller the current critical state</span>
<span class="cp">#define ATOM_SUB_FUNCTION_SET_LIDSTATE          0x8500          </span><span class="c1">// Sub function 85</span>
<span class="cp">#define ATOM_SUB_FUNCTION_GET_REQ_DISPLAY_FROM_SBIOS_MODE 0x8900</span><span class="c1">// Sub function 89</span>
<span class="cp">#define ATOM_SUB_FUNCTION_INFORM_ADC_SUPPORT    0x9400          </span><span class="c1">// Notify caller that ADC is supported</span>
     

<span class="cp">#define ATOM_BIOS_FUNCTION_VESA_DPMS            0x4F10          </span><span class="c1">// Set DPMS </span>
<span class="cp">#define ATOM_SUB_FUNCTION_SET_DPMS              0x0001          </span><span class="c1">// BL: Sub function 01 </span>
<span class="cp">#define ATOM_SUB_FUNCTION_GET_DPMS              0x0002          </span><span class="c1">// BL: Sub function 02 </span>
<span class="cp">#define ATOM_PARAMETER_VESA_DPMS_ON             0x0000          </span><span class="c1">// BH Parameter for DPMS ON.  </span>
<span class="cp">#define ATOM_PARAMETER_VESA_DPMS_STANDBY        0x0100          </span><span class="c1">// BH Parameter for DPMS STANDBY  </span>
<span class="cp">#define ATOM_PARAMETER_VESA_DPMS_SUSPEND        0x0200          </span><span class="c1">// BH Parameter for DPMS SUSPEND</span>
<span class="cp">#define ATOM_PARAMETER_VESA_DPMS_OFF            0x0400          </span><span class="c1">// BH Parameter for DPMS OFF</span>
<span class="cp">#define ATOM_PARAMETER_VESA_DPMS_REDUCE_ON      0x0800          </span><span class="c1">// BH Parameter for DPMS REDUCE ON (NOT SUPPORTED)</span>

<span class="cp">#define ATOM_BIOS_RETURN_CODE_MASK              0x0000FF00L</span>
<span class="cp">#define ATOM_BIOS_REG_HIGH_MASK                 0x0000FF00L</span>
<span class="cp">#define ATOM_BIOS_REG_LOW_MASK                  0x000000FFL</span></pre></div></td></tr>


<tr id="section-333"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-333">&#182;</a></div><p>structure used for VBIOS only</p></td><td class="code"><div class="highlight"><pre></pre></div></td></tr>


<tr id="section-334"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-334">&#182;</a></div><p>DispOutInfoTable</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ASIC_TRANSMITTER_INFO</span>
<span class="p">{</span>
	<span class="n">USHORT</span> <span class="n">usTransmitterObjId</span><span class="p">;</span>
	<span class="n">USHORT</span> <span class="n">usSupportDevice</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucTransmitterCmdTblId</span><span class="p">;</span>
	<span class="n">UCHAR</span>  <span class="n">ucConfig</span><span class="p">;</span>
	<span class="n">UCHAR</span>  <span class="n">ucEncoderID</span><span class="p">;</span>					 <span class="c1">//available 1st encoder ( default )</span>
	<span class="n">UCHAR</span>  <span class="n">ucOptionEncoderID</span><span class="p">;</span>    <span class="c1">//available 2nd encoder ( optional )</span>
	<span class="n">UCHAR</span>  <span class="n">uc2ndEncoderID</span><span class="p">;</span>
	<span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ASIC_TRANSMITTER_INFO</span><span class="p">;</span>

<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__DVO_SDR_MODE          0x01</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__COHERENT_MODE         0x02</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__ENCODEROBJ_ID_MASK    0xc4</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__ENCODER_A             0x00</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__ENCODER_B             0x04</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__ENCODER_C             0x40</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__ENCODER_D             0x44</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__ENCODER_E             0x80</span>
<span class="cp">#define ASIC_TRANSMITTER_INFO_CONFIG__ENCODER_F             0x84</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ASIC_ENCODER_INFO</span>
<span class="p">{</span>
	<span class="n">UCHAR</span> <span class="n">ucEncoderID</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucEncoderConfig</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usEncoderCmdTblId</span><span class="p">;</span>
<span class="p">}</span><span class="n">ASIC_ENCODER_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DISP_OUT_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
	<span class="n">USHORT</span> <span class="n">ptrTransmitterInfo</span><span class="p">;</span>
	<span class="n">USHORT</span> <span class="n">ptrEncoderInfo</span><span class="p">;</span>
	<span class="n">ASIC_TRANSMITTER_INFO</span>  <span class="n">asTransmitterInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">ASIC_ENCODER_INFO</span>      <span class="n">asEncoderInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_DISP_OUT_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DISP_OUT_INFO_V2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
	<span class="n">USHORT</span> <span class="n">ptrTransmitterInfo</span><span class="p">;</span>
	<span class="n">USHORT</span> <span class="n">ptrEncoderInfo</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">ptrMainCallParserFar</span><span class="p">;</span>                  <span class="c1">// direct address of main parser call in VBIOS binary. </span>
	<span class="n">ASIC_TRANSMITTER_INFO</span>  <span class="n">asTransmitterInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">ASIC_ENCODER_INFO</span>      <span class="n">asEncoderInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_DISP_OUT_INFO_V2</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DISP_CLOCK_ID</span> <span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucPpllId</span><span class="p">;</span> 
  <span class="n">UCHAR</span> <span class="n">ucPpllAttribute</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_DISP_CLOCK_ID</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-335"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-335">&#182;</a></div><p>ucPpllAttribute</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define CLOCK_SOURCE_SHAREABLE            0x01</span>
<span class="cp">#define CLOCK_SOURCE_DP_MODE              0x02</span>
<span class="cp">#define CLOCK_SOURCE_NONE_DP_MODE         0x04</span></pre></div></td></tr>


<tr id="section-336"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-336">&#182;</a></div><p>DispOutInfoTable</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ASIC_TRANSMITTER_INFO_V2</span>
<span class="p">{</span>
	<span class="n">USHORT</span> <span class="n">usTransmitterObjId</span><span class="p">;</span>
	<span class="n">USHORT</span> <span class="n">usDispClkIdOffset</span><span class="p">;</span>    <span class="c1">// point to clock source id list supported by Encoder Object</span>
  <span class="n">UCHAR</span>  <span class="n">ucTransmitterCmdTblId</span><span class="p">;</span>
	<span class="n">UCHAR</span>  <span class="n">ucConfig</span><span class="p">;</span>
	<span class="n">UCHAR</span>  <span class="n">ucEncoderID</span><span class="p">;</span>					 <span class="c1">// available 1st encoder ( default )</span>
	<span class="n">UCHAR</span>  <span class="n">ucOptionEncoderID</span><span class="p">;</span>    <span class="c1">// available 2nd encoder ( optional )</span>
	<span class="n">UCHAR</span>  <span class="n">uc2ndEncoderID</span><span class="p">;</span>
	<span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ASIC_TRANSMITTER_INFO_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DISP_OUT_INFO_V3</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
	<span class="n">USHORT</span> <span class="n">ptrTransmitterInfo</span><span class="p">;</span>
	<span class="n">USHORT</span> <span class="n">ptrEncoderInfo</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">ptrMainCallParserFar</span><span class="p">;</span>                  <span class="c1">// direct address of main parser call in VBIOS binary. </span>
  <span class="n">USHORT</span> <span class="n">usReserved</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucDCERevision</span><span class="p">;</span>   
  <span class="n">UCHAR</span>  <span class="n">ucMaxDispEngineNum</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucMaxActiveDispEngineNum</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucMaxPPLLNum</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucCoreRefClkSource</span><span class="p">;</span>                          <span class="c1">// value of CORE_REF_CLK_SOURCE</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">ASIC_TRANSMITTER_INFO_V2</span>  <span class="n">asTransmitterInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>     <span class="c1">// for alligment only</span>
<span class="p">}</span><span class="n">ATOM_DISP_OUT_INFO_V3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="n">CORE_REF_CLK_SOURCE</span><span class="p">{</span>
  <span class="n">CLOCK_SRC_XTALIN</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">CLOCK_SRC_XO_IN</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">CLOCK_SRC_XO_IN2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="p">}</span><span class="n">CORE_REF_CLK_SOURCE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-337"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-337">&#182;</a></div><p>DispDevicePriorityInfo</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DISPLAY_DEVICE_PRIORITY_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
	<span class="n">USHORT</span> <span class="n">asDevicePriority</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_DISPLAY_DEVICE_PRIORITY_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-338"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-338">&#182;</a></div><p>ProcessAuxChannelTransactionTable</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PROCESS_AUX_CHANNEL_TRANSACTION_PARAMETERS</span>
<span class="p">{</span>
	<span class="n">USHORT</span>	<span class="n">lpAuxRequest</span><span class="p">;</span>
	<span class="n">USHORT</span>  <span class="n">lpDataOut</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">ucChannelID</span><span class="p">;</span>
	<span class="k">union</span>
	<span class="p">{</span>
  <span class="n">UCHAR</span>   <span class="n">ucReplyStatus</span><span class="p">;</span>
	<span class="n">UCHAR</span>   <span class="n">ucDelay</span><span class="p">;</span>
	<span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucDataOutLen</span><span class="p">;</span>
	<span class="n">UCHAR</span>   <span class="n">ucReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">PROCESS_AUX_CHANNEL_TRANSACTION_PARAMETERS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-339"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-339">&#182;</a></div><p>ProcessAuxChannelTransactionTable</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PROCESS_AUX_CHANNEL_TRANSACTION_PARAMETERS_V2</span>
<span class="p">{</span>
	<span class="n">USHORT</span>	<span class="n">lpAuxRequest</span><span class="p">;</span>
	<span class="n">USHORT</span>  <span class="n">lpDataOut</span><span class="p">;</span>
	<span class="n">UCHAR</span>		<span class="n">ucChannelID</span><span class="p">;</span>
	<span class="k">union</span>
	<span class="p">{</span>
  <span class="n">UCHAR</span>   <span class="n">ucReplyStatus</span><span class="p">;</span>
	<span class="n">UCHAR</span>   <span class="n">ucDelay</span><span class="p">;</span>
	<span class="p">};</span>
  <span class="n">UCHAR</span>   <span class="n">ucDataOutLen</span><span class="p">;</span>
	<span class="n">UCHAR</span>   <span class="n">ucHPD_ID</span><span class="p">;</span>                                       <span class="c1">//=0: HPD1, =1: HPD2, =2: HPD3, =3: HPD4, =4: HPD5, =5: HPD6</span>
<span class="p">}</span><span class="n">PROCESS_AUX_CHANNEL_TRANSACTION_PARAMETERS_V2</span><span class="p">;</span>

<span class="cp">#define PROCESS_AUX_CHANNEL_TRANSACTION_PS_ALLOCATION			PROCESS_AUX_CHANNEL_TRANSACTION_PARAMETERS</span></pre></div></td></tr>


<tr id="section-340"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-340">&#182;</a></div><p>GetSinkType</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DP_ENCODER_SERVICE_PARAMETERS</span>
<span class="p">{</span>
	<span class="n">USHORT</span> <span class="n">ucLinkClock</span><span class="p">;</span>
	<span class="k">union</span> 
	<span class="p">{</span>
	<span class="n">UCHAR</span> <span class="n">ucConfig</span><span class="p">;</span>				<span class="c1">// for DP training command</span>
	<span class="n">UCHAR</span> <span class="n">ucI2cId</span><span class="p">;</span>				<span class="c1">// use for GET_SINK_TYPE command</span>
	<span class="p">};</span>
	<span class="n">UCHAR</span> <span class="n">ucAction</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucStatus</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucLaneNum</span><span class="p">;</span>
	<span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">DP_ENCODER_SERVICE_PARAMETERS</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-341"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-341">&#182;</a></div><p>ucAction</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_DP_ACTION_GET_SINK_TYPE							0x01</span>
<span class="cm">/* obselete */</span>
<span class="cp">#define ATOM_DP_ACTION_TRAINING_START							0x02</span>
<span class="cp">#define ATOM_DP_ACTION_TRAINING_COMPLETE					0x03</span>
<span class="cp">#define ATOM_DP_ACTION_TRAINING_PATTERN_SEL				0x04</span>
<span class="cp">#define ATOM_DP_ACTION_SET_VSWING_PREEMP					0x05</span>
<span class="cp">#define ATOM_DP_ACTION_GET_VSWING_PREEMP					0x06</span>
<span class="cp">#define ATOM_DP_ACTION_BLANKING                   0x07</span></pre></div></td></tr>


<tr id="section-342"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-342">&#182;</a></div><p>ucConfig</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_DP_CONFIG_ENCODER_SEL_MASK						0x03</span>
<span class="cp">#define ATOM_DP_CONFIG_DIG1_ENCODER								0x00</span>
<span class="cp">#define ATOM_DP_CONFIG_DIG2_ENCODER								0x01</span>
<span class="cp">#define ATOM_DP_CONFIG_EXTERNAL_ENCODER						0x02</span>
<span class="cp">#define ATOM_DP_CONFIG_LINK_SEL_MASK							0x04</span>
<span class="cp">#define ATOM_DP_CONFIG_LINK_A											0x00</span>
<span class="cp">#define ATOM_DP_CONFIG_LINK_B											0x04</span>
<span class="cm">/* /obselete */</span>
<span class="cp">#define DP_ENCODER_SERVICE_PS_ALLOCATION				WRITE_ONE_BYTE_HW_I2C_DATA_PARAMETERS</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DP_ENCODER_SERVICE_PARAMETERS_V2</span>
<span class="p">{</span>
	<span class="n">USHORT</span> <span class="n">usExtEncoderObjId</span><span class="p">;</span>   <span class="c1">// External Encoder Object Id, output parameter only, use when ucAction = DP_SERVICE_V2_ACTION_DET_EXT_CONNECTION</span>
  <span class="n">UCHAR</span>  <span class="n">ucAuxId</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucSinkType</span><span class="p">;</span>          <span class="c1">// Iput and Output parameters. </span>
  <span class="n">UCHAR</span>  <span class="n">ucHPDId</span><span class="p">;</span>             <span class="c1">// Input parameter, used when ucAction = DP_SERVICE_V2_ACTION_DET_EXT_CONNECTION</span>
	<span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">DP_ENCODER_SERVICE_PARAMETERS_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DP_ENCODER_SERVICE_PS_ALLOCATION_V2</span>
<span class="p">{</span>
  <span class="n">DP_ENCODER_SERVICE_PARAMETERS_V2</span> <span class="n">asDPServiceParam</span><span class="p">;</span>
  <span class="n">PROCESS_AUX_CHANNEL_TRANSACTION_PARAMETERS_V2</span> <span class="n">asAuxParam</span><span class="p">;</span>
<span class="p">}</span><span class="n">DP_ENCODER_SERVICE_PS_ALLOCATION_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-343"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-343">&#182;</a></div><p>ucAction</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DP_SERVICE_V2_ACTION_GET_SINK_TYPE							0x01</span>
<span class="cp">#define DP_SERVICE_V2_ACTION_DET_LCD_CONNECTION			    0x02</span></pre></div></td></tr>


<tr id="section-344"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-344">&#182;</a></div><p>DP<em>TRAINING</em>TABLE</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DPCD_SET_LINKRATE_LANENUM_PATTERN1_TBL_ADDR				ATOM_DP_TRAINING_TBL_ADDR		</span>
<span class="cp">#define DPCD_SET_SS_CNTL_TBL_ADDR													(ATOM_DP_TRAINING_TBL_ADDR + 8 )</span>
<span class="cp">#define DPCD_SET_LANE_VSWING_PREEMP_TBL_ADDR							(ATOM_DP_TRAINING_TBL_ADDR + 16 )</span>
<span class="cp">#define DPCD_SET_TRAINING_PATTERN0_TBL_ADDR								(ATOM_DP_TRAINING_TBL_ADDR + 24 )</span>
<span class="cp">#define DPCD_SET_TRAINING_PATTERN2_TBL_ADDR								(ATOM_DP_TRAINING_TBL_ADDR + 32)</span>
<span class="cp">#define DPCD_GET_LINKRATE_LANENUM_SS_TBL_ADDR							(ATOM_DP_TRAINING_TBL_ADDR + 40)</span>
<span class="cp">#define	DPCD_GET_LANE_STATUS_ADJUST_TBL_ADDR							(ATOM_DP_TRAINING_TBL_ADDR + 48)</span>
<span class="cp">#define DP_I2C_AUX_DDC_WRITE_START_TBL_ADDR								(ATOM_DP_TRAINING_TBL_ADDR + 60)</span>
<span class="cp">#define DP_I2C_AUX_DDC_WRITE_TBL_ADDR											(ATOM_DP_TRAINING_TBL_ADDR + 64)</span>
<span class="cp">#define DP_I2C_AUX_DDC_READ_START_TBL_ADDR								(ATOM_DP_TRAINING_TBL_ADDR + 72)</span>
<span class="cp">#define DP_I2C_AUX_DDC_READ_TBL_ADDR											(ATOM_DP_TRAINING_TBL_ADDR + 76)</span>
<span class="cp">#define DP_I2C_AUX_DDC_WRITE_END_TBL_ADDR                 (ATOM_DP_TRAINING_TBL_ADDR + 80) </span>
<span class="cp">#define DP_I2C_AUX_DDC_READ_END_TBL_ADDR									(ATOM_DP_TRAINING_TBL_ADDR + 84)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PROCESS_I2C_CHANNEL_TRANSACTION_PARAMETERS</span>
<span class="p">{</span>
	<span class="n">UCHAR</span>   <span class="n">ucI2CSpeed</span><span class="p">;</span>
 	<span class="k">union</span>
	<span class="p">{</span>
   <span class="n">UCHAR</span> <span class="n">ucRegIndex</span><span class="p">;</span>
   <span class="n">UCHAR</span> <span class="n">ucStatus</span><span class="p">;</span>
	<span class="p">};</span>
	<span class="n">USHORT</span>  <span class="n">lpI2CDataOut</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucFlag</span><span class="p">;</span>               
  <span class="n">UCHAR</span>   <span class="n">ucTransBytes</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucSlaveAddr</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucLineNumber</span><span class="p">;</span>
<span class="p">}</span><span class="n">PROCESS_I2C_CHANNEL_TRANSACTION_PARAMETERS</span><span class="p">;</span>

<span class="cp">#define PROCESS_I2C_CHANNEL_TRANSACTION_PS_ALLOCATION       PROCESS_I2C_CHANNEL_TRANSACTION_PARAMETERS</span></pre></div></td></tr>


<tr id="section-345"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-345">&#182;</a></div><p>ucFlag</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define HW_I2C_WRITE        1</span>
<span class="cp">#define HW_I2C_READ         0</span>
<span class="cp">#define I2C_2BYTE_ADDR      0x02</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-346"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-346">&#182;</a></div><p>Structures used by HW<em>Misc</em>OperationTable</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>	
<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_HW_MISC_OPERATION_INPUT_PARAMETER_V1_1</span> 
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucCmd</span><span class="p">;</span>                <span class="c1">//  Input: To tell which action to take</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">ULONG</span>  <span class="n">ulReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_HW_MISC_OPERATION_INPUT_PARAMETER_V1_1</span><span class="p">;</span> 

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_HW_MISC_OPERATION_OUTPUT_PARAMETER_V1_1</span> 
<span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucReturnCode</span><span class="p">;</span>        <span class="c1">// Output: Return value base on action was taken</span>
  <span class="n">UCHAR</span>  <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">ULONG</span>  <span class="n">ulReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_HW_MISC_OPERATION_OUTPUT_PARAMETER_V1_1</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-347"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-347">&#182;</a></div><p>Actions code</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define  ATOM_GET_SDI_SUPPORT              0xF0</span></pre></div></td></tr>


<tr id="section-348"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-348">&#182;</a></div><p>Return code </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define  ATOM_UNKNOWN_CMD                   0</span>
<span class="cp">#define  ATOM_FEATURE_NOT_SUPPORTED         1</span>
<span class="cp">#define  ATOM_FEATURE_SUPPORTED             2</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_HW_MISC_OPERATION_PS_ALLOCATION</span>
<span class="p">{</span>
	<span class="n">ATOM_HW_MISC_OPERATION_INPUT_PARAMETER_V1_1</span>        <span class="n">sInput_Output</span><span class="p">;</span>
	<span class="n">PROCESS_I2C_CHANNEL_TRANSACTION_PARAMETERS</span>         <span class="n">sReserved</span><span class="p">;</span> 
<span class="p">}</span><span class="n">ATOM_HW_MISC_OPERATION_PS_ALLOCATION</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_SET_HWBLOCK_INSTANCE_PARAMETER_V2</span>
<span class="p">{</span>
   <span class="n">UCHAR</span> <span class="n">ucHWBlkInst</span><span class="p">;</span>                <span class="c1">// HW block instance, 0, 1, 2, ...</span>
   <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span> 
<span class="p">}</span><span class="n">SET_HWBLOCK_INSTANCE_PARAMETER_V2</span><span class="p">;</span>

<span class="cp">#define HWBLKINST_INSTANCE_MASK       0x07</span>
<span class="cp">#define HWBLKINST_HWBLK_MASK          0xF0</span>
<span class="cp">#define HWBLKINST_HWBLK_SHIFT         0x04</span></pre></div></td></tr>


<tr id="section-349"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-349">&#182;</a></div><p>ucHWBlock</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define SELECT_DISP_ENGINE            0</span>
<span class="cp">#define SELECT_DISP_PLL               1</span>
<span class="cp">#define SELECT_DCIO_UNIPHY_LINK0      2</span>
<span class="cp">#define SELECT_DCIO_UNIPHY_LINK1      3</span>
<span class="cp">#define SELECT_DCIO_IMPCAL            4</span>
<span class="cp">#define SELECT_DCIO_DIG               6</span>
<span class="cp">#define SELECT_CRTC_PIXEL_RATE        7</span>
<span class="cp">#define SELECT_VGA_BLK                8</span></pre></div></td></tr>


<tr id="section-350"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-350">&#182;</a></div><p>DIGTransmitterInfoTable structure used to program UNIPHY settings </p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIG_TRANSMITTER_INFO_HEADER_V3_1</span><span class="p">{</span>  
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">USHORT</span> <span class="n">usDPVsPreEmphSettingOffset</span><span class="p">;</span>     <span class="c1">// offset of PHY_ANALOG_SETTING_INFO * with DP Voltage Swing and Pre-Emphasis for each Link clock </span>
  <span class="n">USHORT</span> <span class="n">usPhyAnalogRegListOffset</span><span class="p">;</span>       <span class="c1">// offset of CLOCK_CONDITION_REGESTER_INFO* with None-DP mode Analog Setting&#39;s register Info </span>
  <span class="n">USHORT</span> <span class="n">usPhyAnalogSettingOffset</span><span class="p">;</span>       <span class="c1">// offset of CLOCK_CONDITION_SETTING_ENTRY* with None-DP mode Analog Setting for each link clock range</span>
  <span class="n">USHORT</span> <span class="n">usPhyPllRegListOffset</span><span class="p">;</span>          <span class="c1">// offset of CLOCK_CONDITION_REGESTER_INFO* with Phy Pll register Info </span>
  <span class="n">USHORT</span> <span class="n">usPhyPllSettingOffset</span><span class="p">;</span>          <span class="c1">// offset of CLOCK_CONDITION_SETTING_ENTRY* with Phy Pll Settings</span>
<span class="p">}</span><span class="n">DIG_TRANSMITTER_INFO_HEADER_V3_1</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_CLOCK_CONDITION_REGESTER_INFO</span><span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usRegisterIndex</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucStartBit</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucEndBit</span><span class="p">;</span>
<span class="p">}</span><span class="n">CLOCK_CONDITION_REGESTER_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_CLOCK_CONDITION_SETTING_ENTRY</span><span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usMaxClockFreq</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucEncodeMode</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucPhySel</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulAnalogSetting</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">CLOCK_CONDITION_SETTING_ENTRY</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_CLOCK_CONDITION_SETTING_INFO</span><span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usEntrySize</span><span class="p">;</span>
  <span class="n">CLOCK_CONDITION_SETTING_ENTRY</span> <span class="n">asClkCondSettingEntry</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">CLOCK_CONDITION_SETTING_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PHY_CONDITION_REG_VAL</span><span class="p">{</span>
  <span class="n">ULONG</span>  <span class="n">ulCondition</span><span class="p">;</span>
  <span class="n">ULONG</span>  <span class="n">ulRegVal</span><span class="p">;</span>
<span class="p">}</span><span class="n">PHY_CONDITION_REG_VAL</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PHY_CONDITION_REG_INFO</span><span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usRegIndex</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usSize</span><span class="p">;</span>
  <span class="n">PHY_CONDITION_REG_VAL</span> <span class="n">asRegVal</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">PHY_CONDITION_REG_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PHY_ANALOG_SETTING_INFO</span><span class="p">{</span>
  <span class="n">UCHAR</span>  <span class="n">ucEncodeMode</span><span class="p">;</span>
  <span class="n">UCHAR</span>  <span class="n">ucPhySel</span><span class="p">;</span>
  <span class="n">USHORT</span> <span class="n">usSize</span><span class="p">;</span>
  <span class="n">PHY_CONDITION_REG_INFO</span>  <span class="n">asAnalogSetting</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">PHY_ANALOG_SETTING_INFO</span><span class="p">;</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-351"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-351">&#182;</a></div><p>Portion VI: Definitinos for vbios MC scratch registers that driver used</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>

<span class="cp">#define MC_MISC0__MEMORY_TYPE_MASK    0xF0000000</span>
<span class="cp">#define MC_MISC0__MEMORY_TYPE__GDDR1  0x10000000</span>
<span class="cp">#define MC_MISC0__MEMORY_TYPE__DDR2   0x20000000</span>
<span class="cp">#define MC_MISC0__MEMORY_TYPE__GDDR3  0x30000000</span>
<span class="cp">#define MC_MISC0__MEMORY_TYPE__GDDR4  0x40000000</span>
<span class="cp">#define MC_MISC0__MEMORY_TYPE__GDDR5  0x50000000</span>
<span class="cp">#define MC_MISC0__MEMORY_TYPE__DDR3   0xB0000000</span>

<span class="cm">/****************************************************************************/</span>	</pre></div></td></tr>


<tr id="section-352"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-352">&#182;</a></div><p>Portion VI: Definitinos being oboselete</p></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span></pre></div></td></tr>


<tr id="section-353"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-353">&#182;</a></div><p>==========================================================================================
Remove the definitions below when driver is ready!</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_DAC_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">USHORT</span>                   <span class="n">usMaxFrequency</span><span class="p">;</span>      <span class="c1">// in 10kHz unit</span>
  <span class="n">USHORT</span>                   <span class="n">usReserved</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_DAC_INFO</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_COMPASSIONATE_DATA</span>           
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span> </pre></div></td></tr>


<tr id="section-354"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-354">&#182;</a></div><p>==============================  DAC1 portion</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>   <span class="n">ucDAC1_BG_Adjustment</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC1_DAC_Adjustment</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC1_FORCE_Data</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-355"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-355">&#182;</a></div><p>==============================  DAC2 portion</p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>   <span class="n">ucDAC2_CRT2_BG_Adjustment</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_CRT2_DAC_Adjustment</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC2_CRT2_FORCE_Data</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC2_CRT2_MUX_RegisterIndex</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_CRT2_MUX_RegisterInfo</span><span class="p">;</span>     <span class="c1">//Bit[4:0]=Bit position,Bit[7]=1:Active High;=0 Active Low</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_NTSC_BG_Adjustment</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_NTSC_DAC_Adjustment</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC2_TV1_FORCE_Data</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC2_TV1_MUX_RegisterIndex</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_TV1_MUX_RegisterInfo</span><span class="p">;</span>      <span class="c1">//Bit[4:0]=Bit position,Bit[7]=1:Active High;=0 Active Low</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_CV_BG_Adjustment</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_CV_DAC_Adjustment</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC2_CV_FORCE_Data</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC2_CV_MUX_RegisterIndex</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_CV_MUX_RegisterInfo</span><span class="p">;</span>       <span class="c1">//Bit[4:0]=Bit position,Bit[7]=1:Active High;=0 Active Low</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_PAL_BG_Adjustment</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">ucDAC2_PAL_DAC_Adjustment</span><span class="p">;</span>
  <span class="n">USHORT</span>  <span class="n">usDAC2_TV2_FORCE_Data</span><span class="p">;</span>
<span class="p">}</span><span class="n">COMPASSIONATE_DATA</span><span class="p">;</span>

<span class="cm">/****************************Supported Device Info Table Definitions**********************/</span></pre></div></td></tr>


<tr id="section-356"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-356">&#182;</a></div><p>ucConnectInfo:
   [7:4] - connector type
     = 1   - VGA connector <br />
     = 2   - DVI-I
     = 3   - DVI-D
     = 4   - DVI-A
     = 5   - SVIDEO
     = 6   - COMPOSITE
     = 7   - LVDS
     = 8   - DIGITAL LINK
     = 9   - SCART
     = 0xA - HDMI<em>type A
     = 0xB - HDMI</em>type B
     = 0xE - Special case1 (DVI+DIN)
     Others=TBD
   [3:0] - DAC Associated
     = 0   - no DAC
     = 1   - DACA
     = 2   - DACB
     = 3   - External DAC
     Others=TBD</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CONNECTOR_INFO</span>
<span class="p">{</span>
<span class="cp">#if ATOM_BIG_ENDIAN</span>
  <span class="n">UCHAR</span>   <span class="n">bfConnectorType</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">bfAssociatedDAC</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
<span class="cp">#else</span>
  <span class="n">UCHAR</span>   <span class="n">bfAssociatedDAC</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
  <span class="n">UCHAR</span>   <span class="n">bfConnectorType</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
<span class="cp">#endif</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_CONNECTOR_INFO_ACCESS</span>
<span class="p">{</span>
  <span class="n">ATOM_CONNECTOR_INFO</span> <span class="n">sbfAccess</span><span class="p">;</span>
  <span class="n">UCHAR</span>               <span class="n">ucAccess</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_INFO_ACCESS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CONNECTOR_INFO_I2C</span>
<span class="p">{</span>
  <span class="n">ATOM_CONNECTOR_INFO_ACCESS</span> <span class="n">sucConnectorInfo</span><span class="p">;</span>
  <span class="n">ATOM_I2C_ID_CONFIG_ACCESS</span>  <span class="n">sucI2cId</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_INFO_I2C</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_SUPPORTED_DEVICES_INFO</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>                    <span class="n">usDeviceSupport</span><span class="p">;</span>
  <span class="n">ATOM_CONNECTOR_INFO_I2C</span>   <span class="n">asConnInfo</span><span class="p">[</span><span class="n">ATOM_MAX_SUPPORTED_DEVICE_INFO</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_SUPPORTED_DEVICES_INFO</span><span class="p">;</span>

<span class="cp">#define NO_INT_SRC_MAPPED       0xFF</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_CONNECTOR_INC_SRC_BITMAP</span>
<span class="p">{</span>
  <span class="n">UCHAR</span>   <span class="n">ucIntSrcBitmap</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_CONNECTOR_INC_SRC_BITMAP</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_SUPPORTED_DEVICES_INFO_2</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>      <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>                        <span class="n">usDeviceSupport</span><span class="p">;</span>
  <span class="n">ATOM_CONNECTOR_INFO_I2C</span>       <span class="n">asConnInfo</span><span class="p">[</span><span class="n">ATOM_MAX_SUPPORTED_DEVICE_INFO_2</span><span class="p">];</span>
  <span class="n">ATOM_CONNECTOR_INC_SRC_BITMAP</span> <span class="n">asIntSrcInfo</span><span class="p">[</span><span class="n">ATOM_MAX_SUPPORTED_DEVICE_INFO_2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_SUPPORTED_DEVICES_INFO_2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_SUPPORTED_DEVICES_INFO_2d1</span>
<span class="p">{</span> 
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>      <span class="n">sHeader</span><span class="p">;</span>
  <span class="n">USHORT</span>                        <span class="n">usDeviceSupport</span><span class="p">;</span>
  <span class="n">ATOM_CONNECTOR_INFO_I2C</span>       <span class="n">asConnInfo</span><span class="p">[</span><span class="n">ATOM_MAX_SUPPORTED_DEVICE</span><span class="p">];</span>
  <span class="n">ATOM_CONNECTOR_INC_SRC_BITMAP</span> <span class="n">asIntSrcInfo</span><span class="p">[</span><span class="n">ATOM_MAX_SUPPORTED_DEVICE</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_SUPPORTED_DEVICES_INFO_2d1</span><span class="p">;</span>

<span class="cp">#define ATOM_SUPPORTED_DEVICES_INFO_LAST ATOM_SUPPORTED_DEVICES_INFO_2d1</span>



<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_MISC_CONTROL_INFO</span>
<span class="p">{</span>
   <span class="n">USHORT</span> <span class="n">usFrequency</span><span class="p">;</span>
   <span class="n">UCHAR</span>  <span class="n">ucPLL_ChargePump</span><span class="p">;</span>				                <span class="c1">// PLL charge-pump gain control</span>
   <span class="n">UCHAR</span>  <span class="n">ucPLL_DutyCycle</span><span class="p">;</span>				                <span class="c1">// PLL duty cycle control</span>
   <span class="n">UCHAR</span>  <span class="n">ucPLL_VCO_Gain</span><span class="p">;</span>				                  <span class="c1">// PLL VCO gain control</span>
   <span class="n">UCHAR</span>  <span class="n">ucPLL_VoltageSwing</span><span class="p">;</span>			                <span class="c1">// PLL driver voltage swing control</span>
<span class="p">}</span><span class="n">ATOM_MISC_CONTROL_INFO</span><span class="p">;</span>  


<span class="cp">#define ATOM_MAX_MISC_INFO       4</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_TMDS_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">USHORT</span>							<span class="n">usMaxFrequency</span><span class="p">;</span>             <span class="c1">// in 10Khz</span>
  <span class="n">ATOM_MISC_CONTROL_INFO</span>				<span class="n">asMiscInfo</span><span class="p">[</span><span class="n">ATOM_MAX_MISC_INFO</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_TMDS_INFO</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ENCODER_ANALOG_ATTRIBUTE</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucTVStandard</span><span class="p">;</span>     <span class="c1">//Same as TV standards defined above, </span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_ENCODER_ANALOG_ATTRIBUTE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_ENCODER_DIGITAL_ATTRIBUTE</span>
<span class="p">{</span>
  <span class="n">UCHAR</span> <span class="n">ucAttribute</span><span class="p">;</span>      <span class="c1">//Same as other digital encoder attributes defined above</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>		
<span class="p">}</span><span class="n">ATOM_ENCODER_DIGITAL_ATTRIBUTE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">union</span> <span class="n">_ATOM_ENCODER_ATTRIBUTE</span>
<span class="p">{</span>
  <span class="n">ATOM_ENCODER_ANALOG_ATTRIBUTE</span> <span class="n">sAlgAttrib</span><span class="p">;</span>
  <span class="n">ATOM_ENCODER_DIGITAL_ATTRIBUTE</span> <span class="n">sDigAttrib</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_ENCODER_ATTRIBUTE</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DVO_ENCODER_CONTROL_PARAMETERS</span>
<span class="p">{</span>
  <span class="n">USHORT</span> <span class="n">usPixelClock</span><span class="p">;</span> 
  <span class="n">USHORT</span> <span class="n">usEncoderID</span><span class="p">;</span> 
  <span class="n">UCHAR</span>  <span class="n">ucDeviceType</span><span class="p">;</span>												<span class="c1">//Use ATOM_DEVICE_xxx1_Index to indicate device type only.	</span>
  <span class="n">UCHAR</span>  <span class="n">ucAction</span><span class="p">;</span>														<span class="c1">//ATOM_ENABLE/ATOM_DISABLE/ATOM_HPD_INIT</span>
  <span class="n">ATOM_ENCODER_ATTRIBUTE</span> <span class="n">usDevAttr</span><span class="p">;</span>     		
<span class="p">}</span><span class="n">DVO_ENCODER_CONTROL_PARAMETERS</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DVO_ENCODER_CONTROL_PS_ALLOCATION</span>
<span class="p">{</span>                               
  <span class="n">DVO_ENCODER_CONTROL_PARAMETERS</span>    <span class="n">sDVOEncoder</span><span class="p">;</span>
  <span class="n">WRITE_ONE_BYTE_HW_I2C_DATA_PS_ALLOCATION</span>      <span class="n">sReserved</span><span class="p">;</span>     <span class="c1">//Caller doesn&#39;t need to init this portion</span>
<span class="p">}</span><span class="n">DVO_ENCODER_CONTROL_PS_ALLOCATION</span><span class="p">;</span>


<span class="cp">#define ATOM_XTMDS_ASIC_SI164_ID        1</span>
<span class="cp">#define ATOM_XTMDS_ASIC_SI178_ID        2</span>
<span class="cp">#define ATOM_XTMDS_ASIC_TFP513_ID       3</span>
<span class="cp">#define ATOM_XTMDS_SUPPORTED_SINGLELINK 0x00000001</span>
<span class="cp">#define ATOM_XTMDS_SUPPORTED_DUALLINK   0x00000002</span>
<span class="cp">#define ATOM_XTMDS_MVPU_FPGA            0x00000004</span>

                           
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_XTMDS_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>   <span class="n">sHeader</span><span class="p">;</span>  
  <span class="n">USHORT</span>                     <span class="n">usSingleLinkMaxFrequency</span><span class="p">;</span> 
  <span class="n">ATOM_I2C_ID_CONFIG_ACCESS</span>  <span class="n">sucI2cId</span><span class="p">;</span>           <span class="c1">//Point the ID on which I2C is used to control external chip</span>
  <span class="n">UCHAR</span>                      <span class="n">ucXtransimitterID</span><span class="p">;</span>          
  <span class="n">UCHAR</span>                      <span class="n">ucSupportedLink</span><span class="p">;</span>    <span class="c1">// Bit field, bit0=1, single link supported;bit1=1,dual link supported</span>
  <span class="n">UCHAR</span>                      <span class="n">ucSequnceAlterID</span><span class="p">;</span>   <span class="c1">// Even with the same external TMDS asic, it&#39;s possible that the program seqence alters </span></pre></div></td></tr>


<tr id="section-357"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-357">&#182;</a></div><p>due to design. This ID is used to alert driver that the sequence is not "standard"!              </p></td><td class="code"><div class="highlight"><pre>  <span class="n">UCHAR</span>                      <span class="n">ucMasterAddress</span><span class="p">;</span>    <span class="c1">// Address to control Master xTMDS Chip</span>
  <span class="n">UCHAR</span>                      <span class="n">ucSlaveAddress</span><span class="p">;</span>     <span class="c1">// Address to control Slave xTMDS Chip</span>
<span class="p">}</span><span class="n">ATOM_XTMDS_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DFP_DPMS_STATUS_CHANGE_PARAMETERS</span>
<span class="p">{</span>  
  <span class="n">UCHAR</span> <span class="n">ucEnable</span><span class="p">;</span>                     <span class="c1">// ATOM_ENABLE=On or ATOM_DISABLE=Off</span>
  <span class="n">UCHAR</span> <span class="n">ucDevice</span><span class="p">;</span>                     <span class="c1">// ATOM_DEVICE_DFP1_INDEX....</span>
  <span class="n">UCHAR</span> <span class="n">ucPadding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>             
<span class="p">}</span><span class="n">DFP_DPMS_STATUS_CHANGE_PARAMETERS</span><span class="p">;</span>

<span class="cm">/****************************Legacy Power Play Table Definitions **********************/</span></pre></div></td></tr>


<tr id="section-358"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-358">&#182;</a></div><p>Definitions for ulPowerPlayMiscInfo</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PM_MISCINFO_SPLIT_CLOCK                     0x00000000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_USING_MCLK_SRC                  0x00000001L</span>
<span class="cp">#define ATOM_PM_MISCINFO_USING_SCLK_SRC                  0x00000002L</span>

<span class="cp">#define ATOM_PM_MISCINFO_VOLTAGE_DROP_SUPPORT            0x00000004L</span>
<span class="cp">#define ATOM_PM_MISCINFO_VOLTAGE_DROP_ACTIVE_HIGH        0x00000008L</span>

<span class="cp">#define ATOM_PM_MISCINFO_LOAD_PERFORMANCE_EN             0x00000010L</span>

<span class="cp">#define ATOM_PM_MISCINFO_ENGINE_CLOCK_CONTRL_EN          0x00000020L</span>
<span class="cp">#define ATOM_PM_MISCINFO_MEMORY_CLOCK_CONTRL_EN          0x00000040L</span>
<span class="cp">#define ATOM_PM_MISCINFO_PROGRAM_VOLTAGE                 0x00000080L  </span><span class="c1">//When this bit set, ucVoltageDropIndex is not an index for GPIO pin, but a voltage ID that SW needs program  </span>
 
<span class="cp">#define ATOM_PM_MISCINFO_ASIC_REDUCED_SPEED_SCLK_EN      0x00000100L</span>
<span class="cp">#define ATOM_PM_MISCINFO_ASIC_DYNAMIC_VOLTAGE_EN         0x00000200L</span>
<span class="cp">#define ATOM_PM_MISCINFO_ASIC_SLEEP_MODE_EN              0x00000400L</span>
<span class="cp">#define ATOM_PM_MISCINFO_LOAD_BALANCE_EN                 0x00000800L</span>
<span class="cp">#define ATOM_PM_MISCINFO_DEFAULT_DC_STATE_ENTRY_TRUE     0x00001000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_DEFAULT_LOW_DC_STATE_ENTRY_TRUE 0x00002000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_LOW_LCD_REFRESH_RATE            0x00004000L</span>

<span class="cp">#define ATOM_PM_MISCINFO_DRIVER_DEFAULT_MODE             0x00008000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_OVER_CLOCK_MODE                 0x00010000L </span>
<span class="cp">#define ATOM_PM_MISCINFO_OVER_DRIVE_MODE                 0x00020000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_POWER_SAVING_MODE               0x00040000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_THERMAL_DIODE_MODE              0x00080000L</span>

<span class="cp">#define ATOM_PM_MISCINFO_FRAME_MODULATION_MASK           0x00300000L  </span><span class="c1">//0-FM Disable, 1-2 level FM, 2-4 level FM, 3-Reserved</span>
<span class="cp">#define ATOM_PM_MISCINFO_FRAME_MODULATION_SHIFT          20 </span>

<span class="cp">#define ATOM_PM_MISCINFO_DYN_CLK_3D_IDLE                 0x00400000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_DYNAMIC_CLOCK_DIVIDER_BY_2      0x00800000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_DYNAMIC_CLOCK_DIVIDER_BY_4      0x01000000L</span>
<span class="cp">#define ATOM_PM_MISCINFO_DYNAMIC_HDP_BLOCK_EN            0x02000000L  </span><span class="c1">//When set, Dynamic </span>
<span class="cp">#define ATOM_PM_MISCINFO_DYNAMIC_MC_HOST_BLOCK_EN        0x04000000L  </span><span class="c1">//When set, Dynamic</span>
<span class="cp">#define ATOM_PM_MISCINFO_3D_ACCELERATION_EN              0x08000000L  </span><span class="c1">//When set, This mode is for acceleated 3D mode</span>

<span class="cp">#define ATOM_PM_MISCINFO_POWERPLAY_SETTINGS_GROUP_MASK   0x70000000L  </span><span class="c1">//1-Optimal Battery Life Group, 2-High Battery, 3-Balanced, 4-High Performance, 5- Optimal Performance (Default state with Default clocks) </span>
<span class="cp">#define ATOM_PM_MISCINFO_POWERPLAY_SETTINGS_GROUP_SHIFT  28</span>
<span class="cp">#define ATOM_PM_MISCINFO_ENABLE_BACK_BIAS                0x80000000L</span>

<span class="cp">#define ATOM_PM_MISCINFO2_SYSTEM_AC_LITE_MODE            0x00000001L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_MULTI_DISPLAY_SUPPORT          0x00000002L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_DYNAMIC_BACK_BIAS_EN           0x00000004L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_FS3D_OVERDRIVE_INFO            0x00000008L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_FORCEDLOWPWR_MODE              0x00000010L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_VDDCI_DYNAMIC_VOLTAGE_EN       0x00000020L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_VIDEO_PLAYBACK_CAPABLE         0x00000040L  </span><span class="c1">//If this bit is set in multi-pp mode, then driver will pack up one with the minior power consumption. </span></pre></div></td></tr>


<tr id="section-359"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-359">&#182;</a></div><p>If it's not set in any pp mode, driver will use its default logic to pick a pp mode in video playback</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PM_MISCINFO2_NOT_VALID_ON_DC                0x00000080L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_STUTTER_MODE_EN                0x00000100L</span>
<span class="cp">#define ATOM_PM_MISCINFO2_UVD_SUPPORT_MODE               0x00000200L </span></pre></div></td></tr>


<tr id="section-360"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-360">&#182;</a></div><p>ucTableFormatRevision=1
ucTableContentRevision=1</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_POWERMODE_INFO</span>
<span class="p">{</span>
  <span class="n">ULONG</span>     <span class="n">ulMiscInfo</span><span class="p">;</span>                 <span class="c1">//The power level should be arranged in ascending order</span>
  <span class="n">ULONG</span>     <span class="n">ulReserved1</span><span class="p">;</span>                <span class="c1">// must set to 0</span>
  <span class="n">ULONG</span>     <span class="n">ulReserved2</span><span class="p">;</span>                <span class="c1">// must set to 0</span>
  <span class="n">USHORT</span>    <span class="n">usEngineClock</span><span class="p">;</span>
  <span class="n">USHORT</span>    <span class="n">usMemoryClock</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucVoltageDropIndex</span><span class="p">;</span>         <span class="c1">// index to GPIO table</span>
  <span class="n">UCHAR</span>     <span class="n">ucSelectedPanel_RefreshRate</span><span class="p">;</span><span class="c1">// panel refresh rate</span>
  <span class="n">UCHAR</span>     <span class="n">ucMinTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucMaxTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucNumPciELanes</span><span class="p">;</span>             <span class="c1">// number of PCIE lanes</span>
<span class="p">}</span><span class="n">ATOM_POWERMODE_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-361"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-361">&#182;</a></div><p>ucTableFormatRevision=2
ucTableContentRevision=1</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_POWERMODE_INFO_V2</span>
<span class="p">{</span>
  <span class="n">ULONG</span>     <span class="n">ulMiscInfo</span><span class="p">;</span>                 <span class="c1">//The power level should be arranged in ascending order</span>
  <span class="n">ULONG</span>     <span class="n">ulMiscInfo2</span><span class="p">;</span>                
  <span class="n">ULONG</span>     <span class="n">ulEngineClock</span><span class="p">;</span>                
  <span class="n">ULONG</span>     <span class="n">ulMemoryClock</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucVoltageDropIndex</span><span class="p">;</span>         <span class="c1">// index to GPIO table</span>
  <span class="n">UCHAR</span>     <span class="n">ucSelectedPanel_RefreshRate</span><span class="p">;</span><span class="c1">// panel refresh rate</span>
  <span class="n">UCHAR</span>     <span class="n">ucMinTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucMaxTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucNumPciELanes</span><span class="p">;</span>             <span class="c1">// number of PCIE lanes</span>
<span class="p">}</span><span class="n">ATOM_POWERMODE_INFO_V2</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-362"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-362">&#182;</a></div><p>ucTableFormatRevision=2
ucTableContentRevision=2</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_POWERMODE_INFO_V3</span>
<span class="p">{</span>
  <span class="n">ULONG</span>     <span class="n">ulMiscInfo</span><span class="p">;</span>                 <span class="c1">//The power level should be arranged in ascending order</span>
  <span class="n">ULONG</span>     <span class="n">ulMiscInfo2</span><span class="p">;</span>                
  <span class="n">ULONG</span>     <span class="n">ulEngineClock</span><span class="p">;</span>                
  <span class="n">ULONG</span>     <span class="n">ulMemoryClock</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucVoltageDropIndex</span><span class="p">;</span>         <span class="c1">// index to Core (VDDC) votage table</span>
  <span class="n">UCHAR</span>     <span class="n">ucSelectedPanel_RefreshRate</span><span class="p">;</span><span class="c1">// panel refresh rate</span>
  <span class="n">UCHAR</span>     <span class="n">ucMinTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucMaxTemperature</span><span class="p">;</span>
  <span class="n">UCHAR</span>     <span class="n">ucNumPciELanes</span><span class="p">;</span>             <span class="c1">// number of PCIE lanes</span>
  <span class="n">UCHAR</span>     <span class="n">ucVDDCI_VoltageDropIndex</span><span class="p">;</span>   <span class="c1">// index to VDDCI votage table</span>
<span class="p">}</span><span class="n">ATOM_POWERMODE_INFO_V3</span><span class="p">;</span>


<span class="cp">#define ATOM_MAX_NUMBEROF_POWER_BLOCK  8</span>

<span class="cp">#define ATOM_PP_OVERDRIVE_INTBITMAP_AUXWIN            0x01</span>
<span class="cp">#define ATOM_PP_OVERDRIVE_INTBITMAP_OVERDRIVE         0x02</span>

<span class="cp">#define ATOM_PP_OVERDRIVE_THERMALCONTROLLER_LM63      0x01</span>
<span class="cp">#define ATOM_PP_OVERDRIVE_THERMALCONTROLLER_ADM1032   0x02</span>
<span class="cp">#define ATOM_PP_OVERDRIVE_THERMALCONTROLLER_ADM1030   0x03</span>
<span class="cp">#define ATOM_PP_OVERDRIVE_THERMALCONTROLLER_MUA6649   0x04</span>
<span class="cp">#define ATOM_PP_OVERDRIVE_THERMALCONTROLLER_LM64      0x05</span>
<span class="cp">#define ATOM_PP_OVERDRIVE_THERMALCONTROLLER_F75375    0x06</span>
<span class="cp">#define ATOM_PP_OVERDRIVE_THERMALCONTROLLER_ASC7512   0x07	</span><span class="c1">// Andigilog</span>


<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_POWERPLAY_INFO</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveThermalController</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveI2cLine</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveIntBitmap</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveControllerAddress</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucSizeOfPowerModeEntry</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucNumOfPowerModeEntries</span><span class="p">;</span>
  <span class="n">ATOM_POWERMODE_INFO</span> <span class="n">asPowerPlayInfo</span><span class="p">[</span><span class="n">ATOM_MAX_NUMBEROF_POWER_BLOCK</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_POWERPLAY_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_POWERPLAY_INFO_V2</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveThermalController</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveI2cLine</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveIntBitmap</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveControllerAddress</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucSizeOfPowerModeEntry</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucNumOfPowerModeEntries</span><span class="p">;</span>
  <span class="n">ATOM_POWERMODE_INFO_V2</span> <span class="n">asPowerPlayInfo</span><span class="p">[</span><span class="n">ATOM_MAX_NUMBEROF_POWER_BLOCK</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_POWERPLAY_INFO_V2</span><span class="p">;</span>
  
<span class="k">typedef</span> <span class="k">struct</span>  <span class="n">_ATOM_POWERPLAY_INFO_V3</span>
<span class="p">{</span>
  <span class="n">ATOM_COMMON_TABLE_HEADER</span>	<span class="n">sHeader</span><span class="p">;</span> 
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveThermalController</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveI2cLine</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveIntBitmap</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucOverdriveControllerAddress</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucSizeOfPowerModeEntry</span><span class="p">;</span>
  <span class="n">UCHAR</span>    <span class="n">ucNumOfPowerModeEntries</span><span class="p">;</span>
  <span class="n">ATOM_POWERMODE_INFO_V3</span> <span class="n">asPowerPlayInfo</span><span class="p">[</span><span class="n">ATOM_MAX_NUMBEROF_POWER_BLOCK</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_POWERPLAY_INFO_V3</span><span class="p">;</span>

<span class="cm">/* New PPlib */</span>
<span class="cm">/**************************************************************************/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_THERMALCONTROLLER</span>

<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucType</span><span class="p">;</span>           <span class="c1">// one of ATOM_PP_THERMALCONTROLLER_*</span>
    <span class="n">UCHAR</span> <span class="n">ucI2cLine</span><span class="p">;</span>        <span class="c1">// as interpreted by DAL I2C</span>
    <span class="n">UCHAR</span> <span class="n">ucI2cAddress</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucFanParameters</span><span class="p">;</span>  <span class="c1">// Fan Control Parameters.</span>
    <span class="n">UCHAR</span> <span class="n">ucFanMinRPM</span><span class="p">;</span>      <span class="c1">// Fan Minimum RPM (hundreds) -- for display purposes only.</span>
    <span class="n">UCHAR</span> <span class="n">ucFanMaxRPM</span><span class="p">;</span>      <span class="c1">// Fan Maximum RPM (hundreds) -- for display purposes only.</span>
    <span class="n">UCHAR</span> <span class="n">ucReserved</span><span class="p">;</span>       <span class="c1">// ----</span>
    <span class="n">UCHAR</span> <span class="n">ucFlags</span><span class="p">;</span>          <span class="c1">// to be defined</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_THERMALCONTROLLER</span><span class="p">;</span>

<span class="cp">#define ATOM_PP_FANPARAMETERS_TACHOMETER_PULSES_PER_REVOLUTION_MASK 0x0f</span>
<span class="cp">#define ATOM_PP_FANPARAMETERS_NOFAN                                 0x80    </span><span class="c1">// No fan is connected to this controller.</span>

<span class="cp">#define ATOM_PP_THERMALCONTROLLER_NONE      0</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_LM63      1  </span><span class="c1">// Not used by PPLib</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_ADM1032   2  </span><span class="c1">// Not used by PPLib</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_ADM1030   3  </span><span class="c1">// Not used by PPLib</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_MUA6649   4  </span><span class="c1">// Not used by PPLib</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_LM64      5</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_F75375    6  </span><span class="c1">// Not used by PPLib</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_RV6xx     7</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_RV770     8</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_ADT7473   9</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_EXTERNAL_GPIO     11</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_EVERGREEN 12</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_EMC2103   13  </span><span class="cm">/* 0x0D */</span><span class="cp"> </span><span class="c1">// Only fan control will be implemented, do NOT show this in PPGen.</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_SUMO      14  </span><span class="cm">/* 0x0E */</span><span class="cp"> </span><span class="c1">// Sumo type, used internally</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_NISLANDS  15</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_SISLANDS  16</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_LM96163   17</span></pre></div></td></tr>


<tr id="section-363"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-363">&#182;</a></div><p>Thermal controller 'combo type' to use an external controller for Fan control and an internal controller for thermal.
We probably should reserve the bit 0x80 for this use.
To keep the number of these types low we should also use the same code for all ASICs (i.e. do not distinguish RV6xx and RV7xx Internal here).
The driver can pick the correct internal controller based on the ASIC.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PP_THERMALCONTROLLER_ADT7473_WITH_INTERNAL   0x89    </span><span class="c1">// ADT7473 Fan Control + Internal Thermal Controller</span>
<span class="cp">#define ATOM_PP_THERMALCONTROLLER_EMC2103_WITH_INTERNAL   0x8D    </span><span class="c1">// EMC2103 Fan Control + Internal Thermal Controller</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_STATE</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucNonClockStateIndex</span><span class="p">;</span>
    <span class="n">UCHAR</span> <span class="n">ucClockStateIndices</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="c1">// variable-sized</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_STATE</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_FANTABLE</span>
<span class="p">{</span>
    <span class="n">UCHAR</span>   <span class="n">ucFanTableFormat</span><span class="p">;</span>                <span class="c1">// Change this if the table format changes or version changes so that the other fields are not the same.</span>
    <span class="n">UCHAR</span>   <span class="n">ucTHyst</span><span class="p">;</span>                         <span class="c1">// Temperature hysteresis. Integer.</span>
    <span class="n">USHORT</span>  <span class="n">usTMin</span><span class="p">;</span>                          <span class="c1">// The temperature, in 0.01 centigrades, below which we just run at a minimal PWM.</span>
    <span class="n">USHORT</span>  <span class="n">usTMed</span><span class="p">;</span>                          <span class="c1">// The middle temperature where we change slopes.</span>
    <span class="n">USHORT</span>  <span class="n">usTHigh</span><span class="p">;</span>                         <span class="c1">// The high point above TMed for adjusting the second slope.</span>
    <span class="n">USHORT</span>  <span class="n">usPWMMin</span><span class="p">;</span>                        <span class="c1">// The minimum PWM value in percent (0.01% increments).</span>
    <span class="n">USHORT</span>  <span class="n">usPWMMed</span><span class="p">;</span>                        <span class="c1">// The PWM value (in percent) at TMed.</span>
    <span class="n">USHORT</span>  <span class="n">usPWMHigh</span><span class="p">;</span>                       <span class="c1">// The PWM value at THigh.</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_FANTABLE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_FANTABLE2</span>
<span class="p">{</span>
    <span class="n">ATOM_PPLIB_FANTABLE</span> <span class="n">basicTable</span><span class="p">;</span>
    <span class="n">USHORT</span>  <span class="n">usTMax</span><span class="p">;</span>                          <span class="c1">// The max temperature</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_FANTABLE2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_EXTENDEDHEADER</span>
<span class="p">{</span>
    <span class="n">USHORT</span>  <span class="n">usSize</span><span class="p">;</span>
    <span class="n">ULONG</span>   <span class="n">ulMaxEngineClock</span><span class="p">;</span>   <span class="c1">// For Overdrive.</span>
    <span class="n">ULONG</span>   <span class="n">ulMaxMemoryClock</span><span class="p">;</span>   <span class="c1">// For Overdrive.</span></pre></div></td></tr>


<tr id="section-364"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-364">&#182;</a></div><p>Add extra system parameters here, always adjust size to include all fields.</p></td><td class="code"><div class="highlight"><pre>    <span class="n">USHORT</span>  <span class="n">usVCETableOffset</span><span class="p">;</span> <span class="c1">//points to ATOM_PPLIB_VCE_Table</span>
    <span class="n">USHORT</span>  <span class="n">usUVDTableOffset</span><span class="p">;</span>   <span class="c1">//points to ATOM_PPLIB_UVD_Table</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_EXTENDEDHEADER</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-365"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-365">&#182;</a></div><p>// ATOM<em>PPLIB</em>POWERPLAYTABLE::ulPlatformCaps</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PP_PLATFORM_CAP_BACKBIAS 1</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_POWERPLAY 2</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_SBIOSPOWERSOURCE 4</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_ASPM_L0s 8</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_ASPM_L1 16</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_HARDWAREDC 32</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_GEMINIPRIMARY 64</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_STEPVDDC 128</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_VOLTAGECONTROL 256</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_SIDEPORTCONTROL 512</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_TURNOFFPLL_ASPML1 1024</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_HTLINKCONTROL 2048</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_MVDDCONTROL 4096</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_GOTO_BOOT_ON_ALERT 0x2000              </span><span class="c1">// Go to boot state on alerts, e.g. on an AC-&gt;DC transition.</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_DONT_WAIT_FOR_VBLANK_ON_ALERT 0x4000   </span><span class="c1">// Do NOT wait for VBLANK during an alert (e.g. AC-&gt;DC transition).</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_VDDCI_CONTROL 0x8000                   </span><span class="c1">// Does the driver control VDDCI independently from VDDC.</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_REGULATOR_HOT 0x00010000               </span><span class="c1">// Enable the &#39;regulator hot&#39; feature.</span>
<span class="cp">#define ATOM_PP_PLATFORM_CAP_BACO          0x00020000               </span><span class="c1">// Does the driver supports BACO state.</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_POWERPLAYTABLE</span>
<span class="p">{</span>
      <span class="n">ATOM_COMMON_TABLE_HEADER</span> <span class="n">sHeader</span><span class="p">;</span>

      <span class="n">UCHAR</span> <span class="n">ucDataRevision</span><span class="p">;</span>

      <span class="n">UCHAR</span> <span class="n">ucNumStates</span><span class="p">;</span>
      <span class="n">UCHAR</span> <span class="n">ucStateEntrySize</span><span class="p">;</span>
      <span class="n">UCHAR</span> <span class="n">ucClockInfoSize</span><span class="p">;</span>
      <span class="n">UCHAR</span> <span class="n">ucNonClockSize</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-366"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-366">&#182;</a></div><p>offset from start of this table to array of ucNumStates ATOM<em>PPLIB</em>STATE structures</p></td><td class="code"><div class="highlight"><pre>      <span class="n">USHORT</span> <span class="n">usStateArrayOffset</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-367"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-367">&#182;</a></div><p>offset from start of this table to array of ASIC-specific structures,
currently ATOM<em>PPLIB</em>CLOCK_INFO.</p></td><td class="code"><div class="highlight"><pre>      <span class="n">USHORT</span> <span class="n">usClockInfoArrayOffset</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-368"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-368">&#182;</a></div><p>offset from start of this table to array of ATOM<em>PPLIB</em>NONCLOCK_INFO</p></td><td class="code"><div class="highlight"><pre>      <span class="n">USHORT</span> <span class="n">usNonClockInfoArrayOffset</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usBackbiasTime</span><span class="p">;</span>    <span class="c1">// in microseconds</span>
      <span class="n">USHORT</span> <span class="n">usVoltageTime</span><span class="p">;</span>     <span class="c1">// in microseconds</span>
      <span class="n">USHORT</span> <span class="n">usTableSize</span><span class="p">;</span>       <span class="c1">//the size of this structure, or the extended structure</span>

      <span class="n">ULONG</span> <span class="n">ulPlatformCaps</span><span class="p">;</span>            <span class="c1">// See ATOM_PPLIB_CAPS_*</span>

      <span class="n">ATOM_PPLIB_THERMALCONTROLLER</span>    <span class="n">sThermalController</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usBootClockInfoOffset</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usBootNonClockInfoOffset</span><span class="p">;</span>

<span class="p">}</span> <span class="n">ATOM_PPLIB_POWERPLAYTABLE</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_POWERPLAYTABLE2</span>
<span class="p">{</span>
    <span class="n">ATOM_PPLIB_POWERPLAYTABLE</span> <span class="n">basicTable</span><span class="p">;</span>
    <span class="n">UCHAR</span>   <span class="n">ucNumCustomThermalPolicy</span><span class="p">;</span>
    <span class="n">USHORT</span>  <span class="n">usCustomThermalPolicyArrayOffset</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_POWERPLAYTABLE2</span><span class="p">,</span> <span class="o">*</span><span class="n">LPATOM_PPLIB_POWERPLAYTABLE2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_POWERPLAYTABLE3</span>
<span class="p">{</span>
    <span class="n">ATOM_PPLIB_POWERPLAYTABLE2</span> <span class="n">basicTable2</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usFormatID</span><span class="p">;</span>                      <span class="c1">// To be used ONLY by PPGen.</span>
    <span class="n">USHORT</span>                     <span class="n">usFanTableOffset</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usExtendendedHeaderOffset</span><span class="p">;</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_POWERPLAYTABLE3</span><span class="p">,</span> <span class="o">*</span><span class="n">LPATOM_PPLIB_POWERPLAYTABLE3</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_POWERPLAYTABLE4</span>
<span class="p">{</span>
    <span class="n">ATOM_PPLIB_POWERPLAYTABLE3</span> <span class="n">basicTable3</span><span class="p">;</span>
    <span class="n">ULONG</span>                      <span class="n">ulGoldenPPID</span><span class="p">;</span>                    <span class="c1">// PPGen use only     </span>
    <span class="n">ULONG</span>                      <span class="n">ulGoldenRevision</span><span class="p">;</span>                <span class="c1">// PPGen use only</span>
    <span class="n">USHORT</span>                     <span class="n">usVddcDependencyOnSCLKOffset</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usVddciDependencyOnMCLKOffset</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usVddcDependencyOnMCLKOffset</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usMaxClockVoltageOnDCOffset</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usVddcPhaseShedLimitsTableOffset</span><span class="p">;</span>    <span class="c1">// Points to ATOM_PPLIB_PhaseSheddingLimits_Table</span>
    <span class="n">USHORT</span>                     <span class="n">usReserved</span><span class="p">;</span>  
<span class="p">}</span> <span class="n">ATOM_PPLIB_POWERPLAYTABLE4</span><span class="p">,</span> <span class="o">*</span><span class="n">LPATOM_PPLIB_POWERPLAYTABLE4</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_POWERPLAYTABLE5</span>
<span class="p">{</span>
    <span class="n">ATOM_PPLIB_POWERPLAYTABLE4</span> <span class="n">basicTable4</span><span class="p">;</span>
    <span class="n">ULONG</span>                      <span class="n">ulTDPLimit</span><span class="p">;</span>
    <span class="n">ULONG</span>                      <span class="n">ulNearTDPLimit</span><span class="p">;</span>
    <span class="n">ULONG</span>                      <span class="n">ulSQRampingThreshold</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usCACLeakageTableOffset</span><span class="p">;</span>         <span class="c1">// Points to ATOM_PPLIB_CAC_Leakage_Table</span>
    <span class="n">ULONG</span>                      <span class="n">ulCACLeakage</span><span class="p">;</span>                    <span class="c1">// The iLeakage for driver calculated CAC leakage table</span>
    <span class="n">USHORT</span>                     <span class="n">usTDPODLimit</span><span class="p">;</span>
    <span class="n">USHORT</span>                     <span class="n">usLoadLineSlope</span><span class="p">;</span>                 <span class="c1">// in milliOhms * 100</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_POWERPLAYTABLE5</span><span class="p">,</span> <span class="o">*</span><span class="n">LPATOM_PPLIB_POWERPLAYTABLE5</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-369"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-369">&#182;</a></div><p>// ATOM<em>PPLIB</em>NONCLOCK_INFO::usClassification</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_CLASSIFICATION_UI_MASK          0x0007</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_UI_SHIFT         0</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_UI_NONE          0</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_UI_BATTERY       1</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_UI_BALANCED      3</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_UI_PERFORMANCE   5</span></pre></div></td></tr>


<tr id="section-370"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-370">&#182;</a></div><p>2, 4, 6, 7 are reserved</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_CLASSIFICATION_BOOT                   0x0008</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_THERMAL                0x0010</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_LIMITEDPOWERSOURCE     0x0020</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_REST                   0x0040</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_FORCED                 0x0080</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_3DPERFORMANCE          0x0100</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_OVERDRIVETEMPLATE      0x0200</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_UVDSTATE               0x0400</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_3DLOW                  0x0800</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_ACPI                   0x1000</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_HD2STATE               0x2000</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_HDSTATE                0x4000</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION_SDSTATE                0x8000</span></pre></div></td></tr>


<tr id="section-371"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-371">&#182;</a></div><p>// ATOM<em>PPLIB</em>NONCLOCK_INFO::usClassification2</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_CLASSIFICATION2_LIMITEDPOWERSOURCE_2     0x0001</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION2_ULV                      0x0002</span>
<span class="cp">#define ATOM_PPLIB_CLASSIFICATION2_MVC                      0x0004   </span><span class="c1">//Multi-View Codec (BD-3D)</span></pre></div></td></tr>


<tr id="section-372"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-372">&#182;</a></div><p>// ATOM<em>PPLIB</em>NONCLOCK_INFO::ulCapsAndSettings</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_SINGLE_DISPLAY_ONLY           0x00000001</span>
<span class="cp">#define ATOM_PPLIB_SUPPORTS_VIDEO_PLAYBACK         0x00000002</span></pre></div></td></tr>


<tr id="section-373"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-373">&#182;</a></div><p>0 is 2.5Gb/s, 1 is 5Gb/s</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_PCIE_LINK_SPEED_MASK            0x00000004</span>
<span class="cp">#define ATOM_PPLIB_PCIE_LINK_SPEED_SHIFT           2</span></pre></div></td></tr>


<tr id="section-374"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-374">&#182;</a></div><p>lanes - 1: 1, 2, 4, 8, 12, 16 permitted by PCIE spec</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_PCIE_LINK_WIDTH_MASK            0x000000F8</span>
<span class="cp">#define ATOM_PPLIB_PCIE_LINK_WIDTH_SHIFT           3</span></pre></div></td></tr>


<tr id="section-375"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-375">&#182;</a></div><p>lookup into reduced refresh-rate table</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_LIMITED_REFRESHRATE_VALUE_MASK  0x00000F00</span>
<span class="cp">#define ATOM_PPLIB_LIMITED_REFRESHRATE_VALUE_SHIFT 8</span>

<span class="cp">#define ATOM_PPLIB_LIMITED_REFRESHRATE_UNLIMITED    0</span>
<span class="cp">#define ATOM_PPLIB_LIMITED_REFRESHRATE_50HZ         1</span></pre></div></td></tr>


<tr id="section-376"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-376">&#182;</a></div><p>2-15 TBD as needed.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_SOFTWARE_DISABLE_LOADBALANCING        0x00001000</span>
<span class="cp">#define ATOM_PPLIB_SOFTWARE_ENABLE_SLEEP_FOR_TIMESTAMPS  0x00002000</span>

<span class="cp">#define ATOM_PPLIB_DISALLOW_ON_DC                       0x00004000</span>

<span class="cp">#define ATOM_PPLIB_ENABLE_VARIBRIGHT                     0x00008000</span></pre></div></td></tr>


<tr id="section-377"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-377">&#182;</a></div><p>memory related flags</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_SWSTATE_MEMORY_DLL_OFF               0x000010000</span></pre></div></td></tr>


<tr id="section-378"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-378">&#182;</a></div><p>M3 Arb    //2bits, current 3 sets of parameters in total</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_M3ARB_MASK                       0x00060000</span>
<span class="cp">#define ATOM_PPLIB_M3ARB_SHIFT                      17</span>

<span class="cp">#define ATOM_PPLIB_ENABLE_DRR                       0x00080000</span></pre></div></td></tr>


<tr id="section-379"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-379">&#182;</a></div><p>remaining 16 bits are reserved</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_THERMAL_STATE</span>
<span class="p">{</span>
    <span class="n">UCHAR</span>   <span class="n">ucMinTemperature</span><span class="p">;</span>
    <span class="n">UCHAR</span>   <span class="n">ucMaxTemperature</span><span class="p">;</span>
    <span class="n">UCHAR</span>   <span class="n">ucThermalAction</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_THERMAL_STATE</span><span class="p">,</span> <span class="o">*</span><span class="n">LPATOM_PPLIB_THERMAL_STATE</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-380"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-380">&#182;</a></div><p>Contained in an array starting at the offset
in ATOM<em>PPLIB</em>POWERPLAYTABLE::usNonClockInfoArrayOffset.
referenced from ATOM<em>PPLIB</em>STATE_INFO::ucNonClockStateIndex</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_NONCLOCKINFO_VER1      12</span>
<span class="cp">#define ATOM_PPLIB_NONCLOCKINFO_VER2      24</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_NONCLOCK_INFO</span>
<span class="p">{</span>
      <span class="n">USHORT</span> <span class="n">usClassification</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucMinTemperature</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucMaxTemperature</span><span class="p">;</span>
      <span class="n">ULONG</span>  <span class="n">ulCapsAndSettings</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucRequiredPower</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usClassification2</span><span class="p">;</span>
      <span class="n">ULONG</span>  <span class="n">ulVCLK</span><span class="p">;</span>
      <span class="n">ULONG</span>  <span class="n">ulDCLK</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucUnused</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_NONCLOCK_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-381"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-381">&#182;</a></div><p>Contained in an array starting at the offset
in ATOM<em>PPLIB</em>POWERPLAYTABLE::usClockInfoArrayOffset.
referenced from ATOM<em>PPLIB</em>STATE::ucClockStateIndices</p></td><td class="code"><div class="highlight"><pre><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_R600_CLOCK_INFO</span>
<span class="p">{</span>
      <span class="n">USHORT</span> <span class="n">usEngineClockLow</span><span class="p">;</span>
      <span class="n">UCHAR</span> <span class="n">ucEngineClockHigh</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usMemoryClockLow</span><span class="p">;</span>
      <span class="n">UCHAR</span> <span class="n">ucMemoryClockHigh</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usVDDC</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usUnused1</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usUnused2</span><span class="p">;</span>

      <span class="n">ULONG</span> <span class="n">ulFlags</span><span class="p">;</span> <span class="c1">// ATOM_PPLIB_R600_FLAGS_*</span>

<span class="p">}</span> <span class="n">ATOM_PPLIB_R600_CLOCK_INFO</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-382"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-382">&#182;</a></div><p>ulFlags in ATOM<em>PPLIB</em>R600<em>CLOCK</em>INFO</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_PPLIB_R600_FLAGS_PCIEGEN2          1</span>
<span class="cp">#define ATOM_PPLIB_R600_FLAGS_UVDSAFE           2</span>
<span class="cp">#define ATOM_PPLIB_R600_FLAGS_BACKBIASENABLE    4</span>
<span class="cp">#define ATOM_PPLIB_R600_FLAGS_MEMORY_ODT_OFF    8</span>
<span class="cp">#define ATOM_PPLIB_R600_FLAGS_MEMORY_DLL_OFF   16</span>
<span class="cp">#define ATOM_PPLIB_R600_FLAGS_LOWPOWER         32   </span><span class="c1">// On the RV770 use &#39;low power&#39; setting (sequencer S0).</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_EVERGREEN_CLOCK_INFO</span>
<span class="p">{</span>
      <span class="n">USHORT</span> <span class="n">usEngineClockLow</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucEngineClockHigh</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usMemoryClockLow</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucMemoryClockHigh</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usVDDC</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usVDDCI</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usUnused</span><span class="p">;</span>

      <span class="n">ULONG</span> <span class="n">ulFlags</span><span class="p">;</span> <span class="c1">// ATOM_PPLIB_R600_FLAGS_*</span>

<span class="p">}</span> <span class="n">ATOM_PPLIB_EVERGREEN_CLOCK_INFO</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_SI_CLOCK_INFO</span>
<span class="p">{</span>
      <span class="n">USHORT</span> <span class="n">usEngineClockLow</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucEngineClockHigh</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usMemoryClockLow</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucMemoryClockHigh</span><span class="p">;</span>

      <span class="n">USHORT</span> <span class="n">usVDDC</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usVDDCI</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucPCIEGen</span><span class="p">;</span>
      <span class="n">UCHAR</span>  <span class="n">ucUnused1</span><span class="p">;</span>

      <span class="n">ULONG</span> <span class="n">ulFlags</span><span class="p">;</span> <span class="c1">// ATOM_PPLIB_SI_FLAGS_*, no flag is necessary for now</span>

<span class="p">}</span> <span class="n">ATOM_PPLIB_SI_CLOCK_INFO</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_RS780_CLOCK_INFO</span>

<span class="p">{</span>
      <span class="n">USHORT</span> <span class="n">usLowEngineClockLow</span><span class="p">;</span>         <span class="c1">// Low Engine clock in MHz (the same way as on the R600).</span>
      <span class="n">UCHAR</span>  <span class="n">ucLowEngineClockHigh</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usHighEngineClockLow</span><span class="p">;</span>        <span class="c1">// High Engine clock in MHz.</span>
      <span class="n">UCHAR</span>  <span class="n">ucHighEngineClockHigh</span><span class="p">;</span>
      <span class="n">USHORT</span> <span class="n">usMemoryClockLow</span><span class="p">;</span>            <span class="c1">// For now one of the ATOM_PPLIB_RS780_SPMCLK_XXXX constants.</span>
      <span class="n">UCHAR</span>  <span class="n">ucMemoryClockHigh</span><span class="p">;</span>           <span class="c1">// Currentyl unused.</span>
      <span class="n">UCHAR</span>  <span class="n">ucPadding</span><span class="p">;</span>                   <span class="c1">// For proper alignment and size.</span>
      <span class="n">USHORT</span> <span class="n">usVDDC</span><span class="p">;</span>                      <span class="c1">// For the 780, use: None, Low, High, Variable</span>
      <span class="n">UCHAR</span>  <span class="n">ucMaxHTLinkWidth</span><span class="p">;</span>            <span class="c1">// From SBIOS - {2, 4, 8, 16}</span>
      <span class="n">UCHAR</span>  <span class="n">ucMinHTLinkWidth</span><span class="p">;</span>            <span class="c1">// From SBIOS - {2, 4, 8, 16}. Effective only if CDLW enabled. Minimum down stream width could be bigger as display BW requriement.</span>
      <span class="n">USHORT</span> <span class="n">usHTLinkFreq</span><span class="p">;</span>                <span class="c1">// See definition ATOM_PPLIB_RS780_HTLINKFREQ_xxx or in MHz(&gt;=200).</span>
      <span class="n">ULONG</span>  <span class="n">ulFlags</span><span class="p">;</span> 
<span class="p">}</span> <span class="n">ATOM_PPLIB_RS780_CLOCK_INFO</span><span class="p">;</span>

<span class="cp">#define ATOM_PPLIB_RS780_VOLTAGE_NONE       0 </span>
<span class="cp">#define ATOM_PPLIB_RS780_VOLTAGE_LOW        1 </span>
<span class="cp">#define ATOM_PPLIB_RS780_VOLTAGE_HIGH       2 </span>
<span class="cp">#define ATOM_PPLIB_RS780_VOLTAGE_VARIABLE   3 </span>

<span class="cp">#define ATOM_PPLIB_RS780_SPMCLK_NONE        0   </span><span class="c1">// We cannot change the side port memory clock, leave it as it is.</span>
<span class="cp">#define ATOM_PPLIB_RS780_SPMCLK_LOW         1</span>
<span class="cp">#define ATOM_PPLIB_RS780_SPMCLK_HIGH        2</span>

<span class="cp">#define ATOM_PPLIB_RS780_HTLINKFREQ_NONE       0 </span>
<span class="cp">#define ATOM_PPLIB_RS780_HTLINKFREQ_LOW        1 </span>
<span class="cp">#define ATOM_PPLIB_RS780_HTLINKFREQ_HIGH       2 </span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_SUMO_CLOCK_INFO</span><span class="p">{</span>
      <span class="n">USHORT</span> <span class="n">usEngineClockLow</span><span class="p">;</span>  <span class="c1">//clockfrequency &amp; 0xFFFF. The unit is in 10khz</span>
      <span class="n">UCHAR</span>  <span class="n">ucEngineClockHigh</span><span class="p">;</span> <span class="c1">//clockfrequency &gt;&gt; 16. </span>
      <span class="n">UCHAR</span>  <span class="n">vddcIndex</span><span class="p">;</span>         <span class="c1">//2-bit vddc index;</span>
      <span class="n">USHORT</span> <span class="n">tdpLimit</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-383"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-383">&#182;</a></div><p>please initalize to 0</p></td><td class="code"><div class="highlight"><pre>      <span class="n">USHORT</span> <span class="n">rsv1</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-384"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-384">&#182;</a></div><p>please initialize to 0s</p></td><td class="code"><div class="highlight"><pre>      <span class="n">ULONG</span> <span class="n">rsv2</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_SUMO_CLOCK_INFO</span><span class="p">;</span>



<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_STATE_V2</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-385"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-385">&#182;</a></div><p>number of valid dpm levels in this state; Driver uses it to calculate the whole 
size of the state: sizeof(ATOM<em>PPLIB</em>STATE_V2) + (ucNumDPMLevels - 1) * sizeof(UCHAR)</p></td><td class="code"><div class="highlight"><pre>      <span class="n">UCHAR</span> <span class="n">ucNumDPMLevels</span><span class="p">;</span>
      </pre></div></td></tr>


<tr id="section-386"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-386">&#182;</a></div><p>a index to the array of nonClockInfos</p></td><td class="code"><div class="highlight"><pre>      <span class="n">UCHAR</span> <span class="n">nonClockInfoIndex</span><span class="p">;</span>
      <span class="cm">/**</span>
<span class="cm">      * Driver will read the first ucNumDPMLevels in this array</span>
<span class="cm">      */</span>
      <span class="n">UCHAR</span> <span class="n">clockInfoIndex</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span> <span class="n">ATOM_PPLIB_STATE_V2</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_StateArray</span><span class="p">{</span></pre></div></td></tr>


<tr id="section-387"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-387">&#182;</a></div><p>how many states we have </p></td><td class="code"><div class="highlight"><pre>    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>
    
    <span class="n">ATOM_PPLIB_STATE_V2</span> <span class="n">states</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">StateArray</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ClockInfoArray</span><span class="p">{</span></pre></div></td></tr>


<tr id="section-388"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-388">&#182;</a></div><p>how many clock levels we have</p></td><td class="code"><div class="highlight"><pre>    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>
    </pre></div></td></tr>


<tr id="section-389"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-389">&#182;</a></div><p>sizeof(ATOM<em>PPLIB</em>CLOCK_INFO)</p></td><td class="code"><div class="highlight"><pre>    <span class="n">UCHAR</span> <span class="n">ucEntrySize</span><span class="p">;</span>
    
    <span class="n">UCHAR</span> <span class="n">clockInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ClockInfoArray</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_NonClockInfoArray</span><span class="p">{</span></pre></div></td></tr>


<tr id="section-390"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-390">&#182;</a></div><p>how many non-clock levels we have. normally should be same as number of states</p></td><td class="code"><div class="highlight"><pre>    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-391"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-391">&#182;</a></div><p>sizeof(ATOM<em>PPLIB</em>NONCLOCK_INFO)</p></td><td class="code"><div class="highlight"><pre>    <span class="n">UCHAR</span> <span class="n">ucEntrySize</span><span class="p">;</span>
    
    <span class="n">ATOM_PPLIB_NONCLOCK_INFO</span> <span class="n">nonClockInfo</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">NonClockInfoArray</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_Clock_Voltage_Dependency_Record</span>
<span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usClockLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucClockHigh</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usVoltage</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_Clock_Voltage_Dependency_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_Clock_Voltage_Dependency_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>                                                <span class="c1">// Number of entries.</span>
    <span class="n">ATOM_PPLIB_Clock_Voltage_Dependency_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>             <span class="c1">// Dynamically allocate entries.</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_Clock_Voltage_Dependency_Table</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_Clock_Voltage_Limit_Record</span>
<span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usSclkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucSclkHigh</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usMclkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucMclkHigh</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usVddc</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usVddci</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_Clock_Voltage_Limit_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_Clock_Voltage_Limit_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>                                                <span class="c1">// Number of entries.</span>
    <span class="n">ATOM_PPLIB_Clock_Voltage_Limit_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                  <span class="c1">// Dynamically allocate entries.</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_Clock_Voltage_Limit_Table</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_CAC_Leakage_Record</span>
<span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usVddc</span><span class="p">;</span>  <span class="c1">// We use this field for the &quot;fake&quot; standardized VDDC for power calculations                                                  </span>
    <span class="n">ULONG</span>  <span class="n">ulLeakageValue</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_CAC_Leakage_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_CAC_Leakage_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>                                                 <span class="c1">// Number of entries.</span>
    <span class="n">ATOM_PPLIB_CAC_Leakage_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                           <span class="c1">// Dynamically allocate entries.</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_CAC_Leakage_Table</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_PhaseSheddingLimits_Record</span>
<span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usVoltage</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usSclkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucSclkHigh</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usMclkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucMclkHigh</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_PhaseSheddingLimits_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_PhaseSheddingLimits_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>                                                 <span class="c1">// Number of entries.</span>
    <span class="n">ATOM_PPLIB_PhaseSheddingLimits_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>                   <span class="c1">// Dynamically allocate entries.</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_PhaseSheddingLimits_Table</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_VCEClockInfo</span><span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usEVClkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucEVClkHigh</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usECClkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucECClkHigh</span><span class="p">;</span>
<span class="p">}</span><span class="n">VCEClockInfo</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_VCEClockInfoArray</span><span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>
    <span class="n">VCEClockInfo</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">VCEClockInfoArray</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_VCE_Clock_Voltage_Limit_Record</span>
<span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usVoltage</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucVCEClockInfoIndex</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_VCE_Clock_Voltage_Limit_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_VCE_Clock_Voltage_Limit_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">numEntries</span><span class="p">;</span>
    <span class="n">ATOM_PPLIB_VCE_Clock_Voltage_Limit_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_VCE_Clock_Voltage_Limit_Table</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_VCE_State_Record</span>
<span class="p">{</span>
    <span class="n">UCHAR</span>  <span class="n">ucVCEClockInfoIndex</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucClockInfoIndex</span><span class="p">;</span> <span class="c1">//highest 2 bits indicates memory p-states, lower 6bits indicates index to ClockInfoArrary</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_VCE_State_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_VCE_State_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">numEntries</span><span class="p">;</span>
    <span class="n">ATOM_PPLIB_VCE_State_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_VCE_State_Table</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_VCE_Table</span>
<span class="p">{</span>
      <span class="n">UCHAR</span> <span class="n">revid</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-392"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-392">&#182;</a></div><p>VCEClockInfoArray array;
   ATOM<em>PPLIB</em>VCE<em>Clock</em>Voltage<em>Limit</em>Table limits;
   ATOM<em>PPLIB</em>VCE<em>State</em>Table states;</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">ATOM_PPLIB_VCE_Table</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_UVDClockInfo</span><span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usVClkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucVClkHigh</span><span class="p">;</span>
    <span class="n">USHORT</span> <span class="n">usDClkLow</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucDClkHigh</span><span class="p">;</span>
<span class="p">}</span><span class="n">UVDClockInfo</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_UVDClockInfoArray</span><span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">ucNumEntries</span><span class="p">;</span>
    <span class="n">UVDClockInfo</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">UVDClockInfoArray</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_UVD_Clock_Voltage_Limit_Record</span>
<span class="p">{</span>
    <span class="n">USHORT</span> <span class="n">usVoltage</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucUVDClockInfoIndex</span><span class="p">;</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_UVD_Clock_Voltage_Limit_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_UVD_Clock_Voltage_Limit_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">numEntries</span><span class="p">;</span>
    <span class="n">ATOM_PPLIB_UVD_Clock_Voltage_Limit_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_UVD_Clock_Voltage_Limit_Table</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_UVD_State_Record</span>
<span class="p">{</span>
    <span class="n">UCHAR</span>  <span class="n">ucUVDClockInfoIndex</span><span class="p">;</span>
    <span class="n">UCHAR</span>  <span class="n">ucClockInfoIndex</span><span class="p">;</span> <span class="c1">//highest 2 bits indicates memory p-states, lower 6bits indicates index to ClockInfoArrary</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_UVD_State_Record</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_UVD_State_Table</span>
<span class="p">{</span>
    <span class="n">UCHAR</span> <span class="n">numEntries</span><span class="p">;</span>
    <span class="n">ATOM_PPLIB_UVD_State_Record</span> <span class="n">entries</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">ATOM_PPLIB_UVD_State_Table</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_ATOM_PPLIB_UVD_Table</span>
<span class="p">{</span>
      <span class="n">UCHAR</span> <span class="n">revid</span><span class="p">;</span></pre></div></td></tr>


<tr id="section-393"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-393">&#182;</a></div><p>UVDClockInfoArray array;
   ATOM<em>PPLIB</em>UVD<em>Clock</em>Voltage<em>Limit</em>Table limits;
   ATOM<em>PPLIB</em>UVD<em>State</em>Table states;</p></td><td class="code"><div class="highlight"><pre><span class="p">}</span><span class="n">ATOM_PPLIB_UVD_Table</span><span class="p">;</span>

<span class="cm">/**************************************************************************/</span></pre></div></td></tr>


<tr id="section-394"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-394">&#182;</a></div><p>Following definitions are for compatibility issue in different SW components. </p></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_MASTER_DATA_TABLE_REVISION   0x01</span>
<span class="cp">#define Object_Info												Object_Header			</span>
<span class="cp">#define	AdjustARB_SEQ											MC_InitParameter</span>
<span class="cp">#define	VRAM_GPIO_DetectionInfo						VoltageObjectInfo</span>
<span class="cp">#define	ASIC_VDDCI_Info                   ASIC_ProfilingInfo														</span>
<span class="cp">#define ASIC_MVDDQ_Info										MemoryTrainingInfo</span>
<span class="cp">#define SS_Info                           PPLL_SS_Info                      </span>
<span class="cp">#define ASIC_MVDDC_Info                   ASIC_InternalSS_Info</span>
<span class="cp">#define DispDevicePriorityInfo						SaveRestoreInfo</span>
<span class="cp">#define DispOutInfo												TV_VideoMode</span>


<span class="cp">#define ATOM_ENCODER_OBJECT_TABLE         ATOM_OBJECT_TABLE</span>
<span class="cp">#define ATOM_CONNECTOR_OBJECT_TABLE       ATOM_OBJECT_TABLE</span></pre></div></td></tr>


<tr id="section-395"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-395">&#182;</a></div><p>New device naming, remove them when both DAL/VBIOS is ready</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define DFP2I_OUTPUT_CONTROL_PARAMETERS    CRT1_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define DFP2I_OUTPUT_CONTROL_PS_ALLOCATION DFP2I_OUTPUT_CONTROL_PARAMETERS</span>

<span class="cp">#define DFP1X_OUTPUT_CONTROL_PARAMETERS    CRT1_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define DFP1X_OUTPUT_CONTROL_PS_ALLOCATION DFP1X_OUTPUT_CONTROL_PARAMETERS</span>

<span class="cp">#define DFP1I_OUTPUT_CONTROL_PARAMETERS    DFP1_OUTPUT_CONTROL_PARAMETERS</span>
<span class="cp">#define DFP1I_OUTPUT_CONTROL_PS_ALLOCATION DFP1_OUTPUT_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define ATOM_DEVICE_DFP1I_SUPPORT          ATOM_DEVICE_DFP1_SUPPORT</span>
<span class="cp">#define ATOM_DEVICE_DFP1X_SUPPORT          ATOM_DEVICE_DFP2_SUPPORT</span>

<span class="cp">#define ATOM_DEVICE_DFP1I_INDEX            ATOM_DEVICE_DFP1_INDEX</span>
<span class="cp">#define ATOM_DEVICE_DFP1X_INDEX            ATOM_DEVICE_DFP2_INDEX</span>
 
<span class="cp">#define ATOM_DEVICE_DFP2I_INDEX            0x00000009</span>
<span class="cp">#define ATOM_DEVICE_DFP2I_SUPPORT          (0x1L &lt;&lt; ATOM_DEVICE_DFP2I_INDEX)</span>

<span class="cp">#define ATOM_S0_DFP1I                      ATOM_S0_DFP1</span>
<span class="cp">#define ATOM_S0_DFP1X                      ATOM_S0_DFP2</span>

<span class="cp">#define ATOM_S0_DFP2I                      0x00200000L</span>
<span class="cp">#define ATOM_S0_DFP2Ib2                    0x20</span>

<span class="cp">#define ATOM_S2_DFP1I_DPMS_STATE           ATOM_S2_DFP1_DPMS_STATE</span>
<span class="cp">#define ATOM_S2_DFP1X_DPMS_STATE           ATOM_S2_DFP2_DPMS_STATE</span>

<span class="cp">#define ATOM_S2_DFP2I_DPMS_STATE           0x02000000L</span>
<span class="cp">#define ATOM_S2_DFP2I_DPMS_STATEb3         0x02</span>

<span class="cp">#define ATOM_S3_DFP2I_ACTIVEb1             0x02</span>

<span class="cp">#define ATOM_S3_DFP1I_ACTIVE               ATOM_S3_DFP1_ACTIVE </span>
<span class="cp">#define ATOM_S3_DFP1X_ACTIVE               ATOM_S3_DFP2_ACTIVE</span>

<span class="cp">#define ATOM_S3_DFP2I_ACTIVE               0x00000200L</span>

<span class="cp">#define ATOM_S3_DFP1I_CRTC_ACTIVE          ATOM_S3_DFP1_CRTC_ACTIVE</span>
<span class="cp">#define ATOM_S3_DFP1X_CRTC_ACTIVE          ATOM_S3_DFP2_CRTC_ACTIVE</span>
<span class="cp">#define ATOM_S3_DFP2I_CRTC_ACTIVE          0x02000000L</span>

<span class="cp">#define ATOM_S3_DFP2I_CRTC_ACTIVEb3        0x02</span>
<span class="cp">#define ATOM_S5_DOS_REQ_DFP2Ib1            0x02</span>

<span class="cp">#define ATOM_S5_DOS_REQ_DFP2I              0x0200</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP1I              ATOM_S6_ACC_REQ_DFP1</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP1X              ATOM_S6_ACC_REQ_DFP2</span>

<span class="cp">#define ATOM_S6_ACC_REQ_DFP2Ib3            0x02</span>
<span class="cp">#define ATOM_S6_ACC_REQ_DFP2I              0x02000000L</span>

<span class="cp">#define TMDS1XEncoderControl               DVOEncoderControl           </span>
<span class="cp">#define DFP1XOutputControl                 DVOOutputControl</span>

<span class="cp">#define ExternalDFPOutputControl           DFP1XOutputControl</span>
<span class="cp">#define EnableExternalTMDS_Encoder         TMDS1XEncoderControl</span>

<span class="cp">#define DFP1IOutputControl                 TMDSAOutputControl</span>
<span class="cp">#define DFP2IOutputControl                 LVTMAOutputControl      </span>

<span class="cp">#define DAC1_ENCODER_CONTROL_PARAMETERS    DAC_ENCODER_CONTROL_PARAMETERS</span>
<span class="cp">#define DAC1_ENCODER_CONTROL_PS_ALLOCATION DAC_ENCODER_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define DAC2_ENCODER_CONTROL_PARAMETERS    DAC_ENCODER_CONTROL_PARAMETERS</span>
<span class="cp">#define DAC2_ENCODER_CONTROL_PS_ALLOCATION DAC_ENCODER_CONTROL_PS_ALLOCATION</span>

<span class="cp">#define ucDac1Standard  ucDacStandard</span>
<span class="cp">#define ucDac2Standard  ucDacStandard  </span>

<span class="cp">#define TMDS1EncoderControl TMDSAEncoderControl</span>
<span class="cp">#define TMDS2EncoderControl LVTMAEncoderControl</span>

<span class="cp">#define DFP1OutputControl   TMDSAOutputControl</span>
<span class="cp">#define DFP2OutputControl   LVTMAOutputControl</span>
<span class="cp">#define CRT1OutputControl   DAC1OutputControl</span>
<span class="cp">#define CRT2OutputControl   DAC2OutputControl</span></pre></div></td></tr>


<tr id="section-396"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-396">&#182;</a></div><p>These two lines will be removed for sure in a few days, will follow up with Michael V.</p></td><td class="code"><div class="highlight"><pre><span class="cp">#define EnableLVDS_SS   EnableSpreadSpectrumOnPPLL</span>
<span class="cp">#define ENABLE_LVDS_SS_PARAMETERS_V3  ENABLE_SPREAD_SPECTRUM_ON_PPLL  </span></pre></div></td></tr>


<tr id="section-397"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-397">&#182;</a></div><h1>define ATOM<em>S2</em>CRT1<em>DPMS</em>STATE         0x00010000L</h1>

<h1>define ATOM<em>S2</em>LCD1<em>DPMS</em>STATE            ATOM<em>S2</em>CRT1<em>DPMS</em>STATE</h1>

<h1>define ATOM<em>S2</em>TV1<em>DPMS</em>STATE          ATOM<em>S2</em>CRT1<em>DPMS</em>STATE</h1>

<h1>define ATOM<em>S2</em>DFP1<em>DPMS</em>STATE         ATOM<em>S2</em>CRT1<em>DPMS</em>STATE</h1>

<h1>define ATOM<em>S2</em>CRT2<em>DPMS</em>STATE         ATOM<em>S2</em>CRT1<em>DPMS</em>STATE</h1></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S6_ACC_REQ_TV2             0x00400000L</span>
<span class="cp">#define ATOM_DEVICE_TV2_INDEX           0x00000006</span>
<span class="cp">#define ATOM_DEVICE_TV2_SUPPORT         (0x1L &lt;&lt; ATOM_DEVICE_TV2_INDEX)</span>
<span class="cp">#define ATOM_S0_TV2                     0x00100000L</span>
<span class="cp">#define ATOM_S3_TV2_ACTIVE              ATOM_S3_DFP6_ACTIVE</span>
<span class="cp">#define ATOM_S3_TV2_CRTC_ACTIVE         ATOM_S3_DFP6_CRTC_ACTIVE</span></pre></div></td></tr>


<tr id="section-398"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-398">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#define ATOM_S2_CRT1_DPMS_STATE         0x00010000L</span>
<span class="cp">#define ATOM_S2_LCD1_DPMS_STATE	        0x00020000L</span>
<span class="cp">#define ATOM_S2_TV1_DPMS_STATE          0x00040000L</span>
<span class="cp">#define ATOM_S2_DFP1_DPMS_STATE         0x00080000L</span>
<span class="cp">#define ATOM_S2_CRT2_DPMS_STATE         0x00100000L</span>
<span class="cp">#define ATOM_S2_LCD2_DPMS_STATE         0x00200000L</span>
<span class="cp">#define ATOM_S2_TV2_DPMS_STATE          0x00400000L</span>
<span class="cp">#define ATOM_S2_DFP2_DPMS_STATE         0x00800000L</span>
<span class="cp">#define ATOM_S2_CV_DPMS_STATE           0x01000000L</span>
<span class="cp">#define ATOM_S2_DFP3_DPMS_STATE					0x02000000L</span>
<span class="cp">#define ATOM_S2_DFP4_DPMS_STATE					0x04000000L</span>
<span class="cp">#define ATOM_S2_DFP5_DPMS_STATE					0x08000000L</span>

<span class="cp">#define ATOM_S2_CRT1_DPMS_STATEb2       0x01</span>
<span class="cp">#define ATOM_S2_LCD1_DPMS_STATEb2       0x02</span>
<span class="cp">#define ATOM_S2_TV1_DPMS_STATEb2        0x04</span>
<span class="cp">#define ATOM_S2_DFP1_DPMS_STATEb2       0x08</span>
<span class="cp">#define ATOM_S2_CRT2_DPMS_STATEb2       0x10</span>
<span class="cp">#define ATOM_S2_LCD2_DPMS_STATEb2       0x20</span>
<span class="cp">#define ATOM_S2_TV2_DPMS_STATEb2        0x40</span>
<span class="cp">#define ATOM_S2_DFP2_DPMS_STATEb2       0x80</span>
<span class="cp">#define ATOM_S2_CV_DPMS_STATEb3         0x01</span>
<span class="cp">#define ATOM_S2_DFP3_DPMS_STATEb3				0x02</span>
<span class="cp">#define ATOM_S2_DFP4_DPMS_STATEb3				0x04</span>
<span class="cp">#define ATOM_S2_DFP5_DPMS_STATEb3				0x08</span>

<span class="cp">#define ATOM_S3_ASIC_GUI_ENGINE_HUNGb3	0x20</span>
<span class="cp">#define ATOM_S3_ALLOW_FAST_PWR_SWITCHb3 0x40</span>
<span class="cp">#define ATOM_S3_RQST_GPU_USE_MIN_PWRb3  0x80</span>

<span class="cm">/*********************************************************************************/</span>

<span class="cp">#pragma pack() </span><span class="c1">// BIOS data must use byte aligment</span></pre></div></td></tr>


<tr id="section-399"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-399">&#182;</a></div><p>AMD ACPI Table</p></td><td class="code"><div class="highlight"><pre><span class="cp">#pragma pack(1)</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">ULONG</span> <span class="n">Signature</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">TableLength</span><span class="p">;</span>      <span class="c1">//Length</span>
  <span class="n">UCHAR</span> <span class="n">Revision</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">Checksum</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">OemId</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
  <span class="n">UCHAR</span> <span class="n">OemTableId</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>    <span class="c1">//UINT64  OemTableId;</span>
  <span class="n">ULONG</span> <span class="n">OemRevision</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">CreatorId</span><span class="p">;</span>
  <span class="n">ULONG</span> <span class="n">CreatorRevision</span><span class="p">;</span>
<span class="p">}</span> <span class="n">AMD_ACPI_DESCRIPTION_HEADER</span><span class="p">;</span>
<span class="cm">/*</span>

<span class="cm">//DIVIDER</span>
<span class="cm">typedef struct {</span>
<span class="cm">  UINT32  Signature;       //0x0</span>
<span class="cm">  UINT32  Length;          //0x4</span>
<span class="cm">  UINT8   Revision;        //0x8</span>
<span class="cm">  UINT8   Checksum;        //0x9</span>
<span class="cm">  UINT8   OemId[6];        //0xA</span>
<span class="cm">  UINT64  OemTableId;      //0x10</span>
<span class="cm">  UINT32  OemRevision;     //0x18</span>
<span class="cm">  UINT32  CreatorId;       //0x1C</span>
<span class="cm">  UINT32  CreatorRevision; //0x20</span>
<span class="cm">}EFI_ACPI_DESCRIPTION_HEADER;</span>
<span class="cm">*/</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">AMD_ACPI_DESCRIPTION_HEADER</span> <span class="n">SHeader</span><span class="p">;</span>
  <span class="n">UCHAR</span> <span class="n">TableUUID</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>    <span class="c1">//0x24</span>
  <span class="n">ULONG</span> <span class="n">VBIOSImageOffset</span><span class="p">;</span> <span class="c1">//0x34. Offset to the first GOP_VBIOS_CONTENT block from the beginning of the stucture.</span>
  <span class="n">ULONG</span> <span class="n">Lib1ImageOffset</span><span class="p">;</span>  <span class="c1">//0x38. Offset to the first GOP_LIB1_CONTENT block from the beginning of the stucture.</span>
  <span class="n">ULONG</span> <span class="n">Reserved</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>      <span class="c1">//0x3C</span>
<span class="p">}</span><span class="n">UEFI_ACPI_VFCT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">ULONG</span>  <span class="n">PCIBus</span><span class="p">;</span>          <span class="c1">//0x4C</span>
  <span class="n">ULONG</span>  <span class="n">PCIDevice</span><span class="p">;</span>       <span class="c1">//0x50</span>
  <span class="n">ULONG</span>  <span class="n">PCIFunction</span><span class="p">;</span>     <span class="c1">//0x54</span>
  <span class="n">USHORT</span> <span class="n">VendorID</span><span class="p">;</span>        <span class="c1">//0x58</span>
  <span class="n">USHORT</span> <span class="n">DeviceID</span><span class="p">;</span>        <span class="c1">//0x5A</span>
  <span class="n">USHORT</span> <span class="n">SSVID</span><span class="p">;</span>           <span class="c1">//0x5C</span>
  <span class="n">USHORT</span> <span class="n">SSID</span><span class="p">;</span>            <span class="c1">//0x5E</span>
  <span class="n">ULONG</span>  <span class="n">Revision</span><span class="p">;</span>        <span class="c1">//0x60</span>
  <span class="n">ULONG</span>  <span class="n">ImageLength</span><span class="p">;</span>     <span class="c1">//0x64</span>
<span class="p">}</span><span class="n">VFCT_IMAGE_HEADER</span><span class="p">;</span>


<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">VFCT_IMAGE_HEADER</span>	<span class="n">VbiosHeader</span><span class="p">;</span>
  <span class="n">UCHAR</span>	<span class="n">VbiosContent</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">GOP_VBIOS_CONTENT</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="n">VFCT_IMAGE_HEADER</span>	<span class="n">Lib1Header</span><span class="p">;</span>
  <span class="n">UCHAR</span>	<span class="n">Lib1Content</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="p">}</span><span class="n">GOP_LIB1_CONTENT</span><span class="p">;</span>

<span class="cp">#pragma pack()</span>


<span class="cp">#endif </span><span class="cm">/* _ATOMBIOS_H */</span><span class="cp"></span>

</pre></div></td></tr>


<tr id="section-400"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-400">&#182;</a></div><p>EFI<em>ACPI</em>DESCRIPTION_HEADER from AcpiCommon.h</p></td><td class="code"><div class="highlight"><pre>undefined</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
