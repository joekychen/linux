<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › gpu › drm › radeon › radeon_mode.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>radeon_mode.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright 2000 ATI Technologies Inc., Markham, Ontario, and</span>
<span class="cm"> *                VA Linux Systems Inc., Fremont, California.</span>
<span class="cm"> * Copyright 2008 Red Hat Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Permission is hereby granted, free of charge, to any person obtaining a</span>
<span class="cm"> * copy of this software and associated documentation files (the &quot;Software&quot;),</span>
<span class="cm"> * to deal in the Software without restriction, including without limitation</span>
<span class="cm"> * the rights to use, copy, modify, merge, publish, distribute, sublicense,</span>
<span class="cm"> * and/or sell copies of the Software, and to permit persons to whom the</span>
<span class="cm"> * Software is furnished to do so, subject to the following conditions:</span>
<span class="cm"> *</span>
<span class="cm"> * The above copyright notice and this permission notice shall be included in</span>
<span class="cm"> * all copies or substantial portions of the Software.</span>
<span class="cm"> *</span>
<span class="cm"> * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</span>
<span class="cm"> * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL</span>
<span class="cm"> * THE COPYRIGHT HOLDER(S) OR AUTHOR(S) BE LIABLE FOR ANY CLAIM, DAMAGES OR</span>
<span class="cm"> * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</span>
<span class="cm"> * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>
<span class="cm"> * OTHER DEALINGS IN THE SOFTWARE.</span>
<span class="cm"> *</span>
<span class="cm"> * Original Authors:</span>
<span class="cm"> *   Kevin E. Martin, Rickard E. Faith, Alan Hourihane</span>
<span class="cm"> *</span>
<span class="cm"> * Kernel port Author: Dave Airlie</span>
<span class="cm"> */</span>

<span class="cp">#ifndef RADEON_MODE_H</span>
<span class="cp">#define RADEON_MODE_H</span>

<span class="cp">#include &lt;drm_crtc.h&gt;</span>
<span class="cp">#include &lt;drm_mode.h&gt;</span>
<span class="cp">#include &lt;drm_edid.h&gt;</span>
<span class="cp">#include &lt;drm_dp_helper.h&gt;</span>
<span class="cp">#include &lt;drm_fixed.h&gt;</span>
<span class="cp">#include &lt;drm_crtc_helper.h&gt;</span>
<span class="cp">#include &lt;linux/i2c.h&gt;</span>
<span class="cp">#include &lt;linux/i2c-algo-bit.h&gt;</span>

<span class="k">struct</span> <span class="n">radeon_bo</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">radeon_device</span><span class="p">;</span>

<span class="cp">#define to_radeon_crtc(x) container_of(x, struct radeon_crtc, base)</span>
<span class="cp">#define to_radeon_connector(x) container_of(x, struct radeon_connector, base)</span>
<span class="cp">#define to_radeon_encoder(x) container_of(x, struct radeon_encoder, base)</span>
<span class="cp">#define to_radeon_framebuffer(x) container_of(x, struct radeon_framebuffer, base)</span>

<span class="k">enum</span> <span class="n">radeon_rmx_type</span> <span class="p">{</span>
	<span class="n">RMX_OFF</span><span class="p">,</span>
	<span class="n">RMX_FULL</span><span class="p">,</span>
	<span class="n">RMX_CENTER</span><span class="p">,</span>
	<span class="n">RMX_ASPECT</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">radeon_tv_std</span> <span class="p">{</span>
	<span class="n">TV_STD_NTSC</span><span class="p">,</span>
	<span class="n">TV_STD_PAL</span><span class="p">,</span>
	<span class="n">TV_STD_PAL_M</span><span class="p">,</span>
	<span class="n">TV_STD_PAL_60</span><span class="p">,</span>
	<span class="n">TV_STD_NTSC_J</span><span class="p">,</span>
	<span class="n">TV_STD_SCART_PAL</span><span class="p">,</span>
	<span class="n">TV_STD_SECAM</span><span class="p">,</span>
	<span class="n">TV_STD_PAL_CN</span><span class="p">,</span>
	<span class="n">TV_STD_PAL_N</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">radeon_underscan_type</span> <span class="p">{</span>
	<span class="n">UNDERSCAN_OFF</span><span class="p">,</span>
	<span class="n">UNDERSCAN_ON</span><span class="p">,</span>
	<span class="n">UNDERSCAN_AUTO</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">radeon_hpd_id</span> <span class="p">{</span>
	<span class="n">RADEON_HPD_1</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">RADEON_HPD_2</span><span class="p">,</span>
	<span class="n">RADEON_HPD_3</span><span class="p">,</span>
	<span class="n">RADEON_HPD_4</span><span class="p">,</span>
	<span class="n">RADEON_HPD_5</span><span class="p">,</span>
	<span class="n">RADEON_HPD_6</span><span class="p">,</span>
	<span class="n">RADEON_HPD_NONE</span> <span class="o">=</span> <span class="mh">0xff</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define RADEON_MAX_I2C_BUS 16</span>

<span class="cm">/* radeon gpio-based i2c</span>
<span class="cm"> * 1. &quot;mask&quot; reg and bits</span>
<span class="cm"> *    grabs the gpio pins for software use</span>
<span class="cm"> *    0=not held  1=held</span>
<span class="cm"> * 2. &quot;a&quot; reg and bits</span>
<span class="cm"> *    output pin value</span>
<span class="cm"> *    0=low 1=high</span>
<span class="cm"> * 3. &quot;en&quot; reg and bits</span>
<span class="cm"> *    sets the pin direction</span>
<span class="cm"> *    0=input 1=output</span>
<span class="cm"> * 4. &quot;y&quot; reg and bits</span>
<span class="cm"> *    input pin value</span>
<span class="cm"> *    0=low 1=high</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">radeon_i2c_bus_rec</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">valid</span><span class="p">;</span>
	<span class="cm">/* id used by atom */</span>
	<span class="kt">uint8_t</span> <span class="n">i2c_id</span><span class="p">;</span>
	<span class="cm">/* id used by atom */</span>
	<span class="k">enum</span> <span class="n">radeon_hpd_id</span> <span class="n">hpd</span><span class="p">;</span>
	<span class="cm">/* can be used with hw i2c engine */</span>
	<span class="n">bool</span> <span class="n">hw_capable</span><span class="p">;</span>
	<span class="cm">/* uses multi-media i2c engine */</span>
	<span class="n">bool</span> <span class="n">mm_i2c</span><span class="p">;</span>
	<span class="cm">/* regs and bits */</span>
	<span class="kt">uint32_t</span> <span class="n">mask_clk_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">mask_data_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">a_clk_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">a_data_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">en_clk_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">en_data_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">y_clk_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">y_data_reg</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">mask_clk_mask</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">mask_data_mask</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">a_clk_mask</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">a_data_mask</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">en_clk_mask</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">en_data_mask</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">y_clk_mask</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">y_data_mask</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_tmds_pll</span> <span class="p">{</span>
    <span class="kt">uint32_t</span> <span class="n">freq</span><span class="p">;</span>
    <span class="kt">uint32_t</span> <span class="n">value</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define RADEON_MAX_BIOS_CONNECTOR 16</span>

<span class="cm">/* pll flags */</span>
<span class="cp">#define RADEON_PLL_USE_BIOS_DIVS        (1 &lt;&lt; 0)</span>
<span class="cp">#define RADEON_PLL_NO_ODD_POST_DIV      (1 &lt;&lt; 1)</span>
<span class="cp">#define RADEON_PLL_USE_REF_DIV          (1 &lt;&lt; 2)</span>
<span class="cp">#define RADEON_PLL_LEGACY               (1 &lt;&lt; 3)</span>
<span class="cp">#define RADEON_PLL_PREFER_LOW_REF_DIV   (1 &lt;&lt; 4)</span>
<span class="cp">#define RADEON_PLL_PREFER_HIGH_REF_DIV  (1 &lt;&lt; 5)</span>
<span class="cp">#define RADEON_PLL_PREFER_LOW_FB_DIV    (1 &lt;&lt; 6)</span>
<span class="cp">#define RADEON_PLL_PREFER_HIGH_FB_DIV   (1 &lt;&lt; 7)</span>
<span class="cp">#define RADEON_PLL_PREFER_LOW_POST_DIV  (1 &lt;&lt; 8)</span>
<span class="cp">#define RADEON_PLL_PREFER_HIGH_POST_DIV (1 &lt;&lt; 9)</span>
<span class="cp">#define RADEON_PLL_USE_FRAC_FB_DIV      (1 &lt;&lt; 10)</span>
<span class="cp">#define RADEON_PLL_PREFER_CLOSEST_LOWER (1 &lt;&lt; 11)</span>
<span class="cp">#define RADEON_PLL_USE_POST_DIV         (1 &lt;&lt; 12)</span>
<span class="cp">#define RADEON_PLL_IS_LCD               (1 &lt;&lt; 13)</span>
<span class="cp">#define RADEON_PLL_PREFER_MINM_OVER_MAXP (1 &lt;&lt; 14)</span>

<span class="k">struct</span> <span class="n">radeon_pll</span> <span class="p">{</span>
	<span class="cm">/* reference frequency */</span>
	<span class="kt">uint32_t</span> <span class="n">reference_freq</span><span class="p">;</span>

	<span class="cm">/* fixed dividers */</span>
	<span class="kt">uint32_t</span> <span class="n">reference_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">post_div</span><span class="p">;</span>

	<span class="cm">/* pll in/out limits */</span>
	<span class="kt">uint32_t</span> <span class="n">pll_in_min</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">pll_in_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">pll_out_min</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">pll_out_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">lcd_pll_out_min</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">lcd_pll_out_max</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">best_vco</span><span class="p">;</span>

	<span class="cm">/* divider limits */</span>
	<span class="kt">uint32_t</span> <span class="n">min_ref_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">max_ref_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">min_post_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">max_post_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">min_feedback_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">max_feedback_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">min_frac_feedback_div</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">max_frac_feedback_div</span><span class="p">;</span>

	<span class="cm">/* flags for the current clock */</span>
	<span class="kt">uint32_t</span> <span class="n">flags</span><span class="p">;</span>

	<span class="cm">/* pll id */</span>
	<span class="kt">uint32_t</span> <span class="n">id</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">i2c_adapter</span> <span class="n">adapter</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">i2c_algo_bit_data</span> <span class="n">bit</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">i2c_algo_dp_aux_data</span> <span class="n">dp</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">algo</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_i2c_bus_rec</span> <span class="n">rec</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* mostly for macs, but really any system without connector tables */</span>
<span class="k">enum</span> <span class="n">radeon_connector_table</span> <span class="p">{</span>
	<span class="n">CT_NONE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">CT_GENERIC</span><span class="p">,</span>
	<span class="n">CT_IBOOK</span><span class="p">,</span>
	<span class="n">CT_POWERBOOK_EXTERNAL</span><span class="p">,</span>
	<span class="n">CT_POWERBOOK_INTERNAL</span><span class="p">,</span>
	<span class="n">CT_POWERBOOK_VGA</span><span class="p">,</span>
	<span class="n">CT_MINI_EXTERNAL</span><span class="p">,</span>
	<span class="n">CT_MINI_INTERNAL</span><span class="p">,</span>
	<span class="n">CT_IMAC_G5_ISIGHT</span><span class="p">,</span>
	<span class="n">CT_EMAC</span><span class="p">,</span>
	<span class="n">CT_RN50_POWER</span><span class="p">,</span>
	<span class="n">CT_MAC_X800</span><span class="p">,</span>
	<span class="n">CT_MAC_G5_9600</span><span class="p">,</span>
	<span class="n">CT_SAM440EP</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">radeon_dvo_chip</span> <span class="p">{</span>
	<span class="n">DVO_SIL164</span><span class="p">,</span>
	<span class="n">DVO_SIL1178</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_fbdev</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">radeon_afmt</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">enabled</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">offset</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">last_buffer_filled_status</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">id</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_mode_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">atom_context</span> <span class="o">*</span><span class="n">atom_context</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">card_info</span> <span class="o">*</span><span class="n">atom_card_info</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">radeon_connector_table</span> <span class="n">connector_table</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">mode_config_initialized</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_crtc</span> <span class="o">*</span><span class="n">crtcs</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">radeon_afmt</span> <span class="o">*</span><span class="n">afmt</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
	<span class="cm">/* DVI-I properties */</span>
	<span class="k">struct</span> <span class="n">drm_property</span> <span class="o">*</span><span class="n">coherent_mode_property</span><span class="p">;</span>
	<span class="cm">/* DAC enable load detect */</span>
	<span class="k">struct</span> <span class="n">drm_property</span> <span class="o">*</span><span class="n">load_detect_property</span><span class="p">;</span>
	<span class="cm">/* TV standard */</span>
	<span class="k">struct</span> <span class="n">drm_property</span> <span class="o">*</span><span class="n">tv_std_property</span><span class="p">;</span>
	<span class="cm">/* legacy TMDS PLL detect */</span>
	<span class="k">struct</span> <span class="n">drm_property</span> <span class="o">*</span><span class="n">tmds_pll_property</span><span class="p">;</span>
	<span class="cm">/* underscan */</span>
	<span class="k">struct</span> <span class="n">drm_property</span> <span class="o">*</span><span class="n">underscan_property</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">drm_property</span> <span class="o">*</span><span class="n">underscan_hborder_property</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">drm_property</span> <span class="o">*</span><span class="n">underscan_vborder_property</span><span class="p">;</span>
	<span class="cm">/* hardcoded DFP edid from BIOS */</span>
	<span class="k">struct</span> <span class="n">edid</span> <span class="o">*</span><span class="n">bios_hardcoded_edid</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">bios_hardcoded_edid_size</span><span class="p">;</span>

	<span class="cm">/* pointer to fbdev info structure */</span>
	<span class="k">struct</span> <span class="n">radeon_fbdev</span> <span class="o">*</span><span class="n">rfbdev</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define MAX_H_CODE_TIMING_LEN 32</span>
<span class="cp">#define MAX_V_CODE_TIMING_LEN 32</span>

<span class="cm">/* need to store these as reading</span>
<span class="cm">   back code tables is excessive */</span>
<span class="k">struct</span> <span class="n">radeon_tv_regs</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">tv_uv_adr</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">timing_cntl</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">hrestart</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">vrestart</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">frestart</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">h_code_timing</span><span class="p">[</span><span class="n">MAX_H_CODE_TIMING_LEN</span><span class="p">];</span>
	<span class="kt">uint16_t</span> <span class="n">v_code_timing</span><span class="p">[</span><span class="n">MAX_V_CODE_TIMING_LEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_crtc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">drm_crtc</span> <span class="n">base</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">crtc_id</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">lut_r</span><span class="p">[</span><span class="mi">256</span><span class="p">],</span> <span class="n">lut_g</span><span class="p">[</span><span class="mi">256</span><span class="p">],</span> <span class="n">lut_b</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
	<span class="n">bool</span> <span class="n">enabled</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">can_tile</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">crtc_offset</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">drm_gem_object</span> <span class="o">*</span><span class="n">cursor_bo</span><span class="p">;</span>
	<span class="kt">uint64_t</span> <span class="n">cursor_addr</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">cursor_width</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">cursor_height</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">legacy_display_base_addr</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">legacy_cursor_offset</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">radeon_rmx_type</span> <span class="n">rmx_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">h_border</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">v_border</span><span class="p">;</span>
	<span class="n">fixed20_12</span> <span class="n">vsc</span><span class="p">;</span>
	<span class="n">fixed20_12</span> <span class="n">hsc</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="n">native_mode</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">pll_id</span><span class="p">;</span>
	<span class="cm">/* page flipping */</span>
	<span class="k">struct</span> <span class="n">radeon_unpin_work</span> <span class="o">*</span><span class="n">unpin_work</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">deferred_flip_completion</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder_primary_dac</span> <span class="p">{</span>
	<span class="cm">/* legacy primary dac */</span>
	<span class="kt">uint32_t</span> <span class="n">ps2_pdac_adj</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder_lvds</span> <span class="p">{</span>
	<span class="cm">/* legacy lvds */</span>
	<span class="kt">uint16_t</span> <span class="n">panel_vcc_delay</span><span class="p">;</span>
	<span class="kt">uint8_t</span>  <span class="n">panel_pwr_delay</span><span class="p">;</span>
	<span class="kt">uint8_t</span>  <span class="n">panel_digon_delay</span><span class="p">;</span>
	<span class="kt">uint8_t</span>  <span class="n">panel_blon_delay</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">panel_ref_divider</span><span class="p">;</span>
	<span class="kt">uint8_t</span>  <span class="n">panel_post_divider</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">panel_fb_divider</span><span class="p">;</span>
	<span class="n">bool</span>     <span class="n">use_bios_dividers</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">lvds_gen_cntl</span><span class="p">;</span>
	<span class="cm">/* panel mode */</span>
	<span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="n">native_mode</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">backlight_device</span> <span class="o">*</span><span class="n">bl_dev</span><span class="p">;</span>
	<span class="kt">int</span>      <span class="n">dpms_mode</span><span class="p">;</span>
	<span class="kt">uint8_t</span>  <span class="n">backlight_level</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder_tv_dac</span> <span class="p">{</span>
	<span class="cm">/* legacy tv dac */</span>
	<span class="kt">uint32_t</span> <span class="n">ps2_tvdac_adj</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">ntsc_tvdac_adj</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">pal_tvdac_adj</span><span class="p">;</span>

	<span class="kt">int</span>               <span class="n">h_pos</span><span class="p">;</span>
	<span class="kt">int</span>               <span class="n">v_pos</span><span class="p">;</span>
	<span class="kt">int</span>               <span class="n">h_size</span><span class="p">;</span>
	<span class="kt">int</span>               <span class="n">supported_tv_stds</span><span class="p">;</span>
	<span class="n">bool</span>              <span class="n">tv_on</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">radeon_tv_std</span> <span class="n">tv_std</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_tv_regs</span> <span class="n">tv</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder_int_tmds</span> <span class="p">{</span>
	<span class="cm">/* legacy int tmds */</span>
	<span class="k">struct</span> <span class="n">radeon_tmds_pll</span> <span class="n">tmds_pll</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder_ext_tmds</span> <span class="p">{</span>
	<span class="cm">/* tmds over dvo */</span>
	<span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">i2c_bus</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">slave_addr</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">radeon_dvo_chip</span> <span class="n">dvo_chip</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* spread spectrum */</span>
<span class="k">struct</span> <span class="n">radeon_atom_ss</span> <span class="p">{</span>
	<span class="kt">uint16_t</span> <span class="n">percentage</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">type</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">step</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">delay</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">range</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">refdiv</span><span class="p">;</span>
	<span class="cm">/* asic_ss */</span>
	<span class="kt">uint16_t</span> <span class="n">rate</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">amount</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder_atom_dig</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">linkb</span><span class="p">;</span>
	<span class="cm">/* atom dig */</span>
	<span class="n">bool</span> <span class="n">coherent_mode</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">dig_encoder</span><span class="p">;</span> <span class="cm">/* -1 disabled, 0 DIGA, 1 DIGB, etc. */</span>
	<span class="cm">/* atom lvds/edp */</span>
	<span class="kt">uint32_t</span> <span class="n">lcd_misc</span><span class="p">;</span>
	<span class="kt">uint16_t</span> <span class="n">panel_pwr_delay</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">lcd_ss_id</span><span class="p">;</span>
	<span class="cm">/* panel mode */</span>
	<span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="n">native_mode</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">backlight_device</span> <span class="o">*</span><span class="n">bl_dev</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">dpms_mode</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">backlight_level</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">panel_mode</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_afmt</span> <span class="o">*</span><span class="n">afmt</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder_atom_dac</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="n">radeon_tv_std</span> <span class="n">tv_std</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">drm_encoder</span> <span class="n">base</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">encoder_enum</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">encoder_id</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">devices</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">active_device</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">flags</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">pixel_clock</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">radeon_rmx_type</span> <span class="n">rmx_type</span><span class="p">;</span>
	<span class="k">enum</span> <span class="n">radeon_underscan_type</span> <span class="n">underscan_type</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">underscan_hborder</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">underscan_vborder</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="n">native_mode</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">enc_priv</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">audio_polling_active</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">is_ext_encoder</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">caps</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_connector_atom_dig</span> <span class="p">{</span>
	<span class="kt">uint32_t</span> <span class="n">igp_lane_info</span><span class="p">;</span>
	<span class="cm">/* displayport */</span>
	<span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">dp_i2c_bus</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dpcd</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">dp_sink_type</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">dp_clock</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">dp_lane_count</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">edp_on</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_gpio_rec</span> <span class="p">{</span>
	<span class="n">bool</span> <span class="n">valid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">id</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">mask</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_hpd</span> <span class="p">{</span>
	<span class="k">enum</span> <span class="n">radeon_hpd_id</span> <span class="n">hpd</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">plugged_state</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_gpio_rec</span> <span class="n">gpio</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_router</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">router_id</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_i2c_bus_rec</span> <span class="n">i2c_info</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">i2c_addr</span><span class="p">;</span>
	<span class="cm">/* i2c mux */</span>
	<span class="n">bool</span> <span class="n">ddc_valid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ddc_mux_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ddc_mux_control_pin</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ddc_mux_state</span><span class="p">;</span>
	<span class="cm">/* clock/data mux */</span>
	<span class="n">bool</span> <span class="n">cd_valid</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cd_mux_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cd_mux_control_pin</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">cd_mux_state</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_connector</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">drm_connector</span> <span class="n">base</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">connector_id</span><span class="p">;</span>
	<span class="kt">uint32_t</span> <span class="n">devices</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">ddc_bus</span><span class="p">;</span>
	<span class="cm">/* some systems have an hdmi and vga port with a shared ddc line */</span>
	<span class="n">bool</span> <span class="n">shared_ddc</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">use_digital</span><span class="p">;</span>
	<span class="cm">/* we need to mind the EDID between detect</span>
<span class="cm">	   and get modes due to analog/digital/tvencoder */</span>
	<span class="k">struct</span> <span class="n">edid</span> <span class="o">*</span><span class="n">edid</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">con_priv</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">dac_load_detect</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">detected_by_load</span><span class="p">;</span> <span class="cm">/* if the connection status was determined by load */</span>
	<span class="kt">uint16_t</span> <span class="n">connector_object_id</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_hpd</span> <span class="n">hpd</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_router</span> <span class="n">router</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">router_bus</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">radeon_framebuffer</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="n">base</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">drm_gem_object</span> <span class="o">*</span><span class="n">obj</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define ENCODER_MODE_IS_DP(em) (((em) == ATOM_ENCODER_MODE_DP) || \</span>
<span class="cp">				((em) == ATOM_ENCODER_MODE_DP_MST))</span>

<span class="k">extern</span> <span class="k">enum</span> <span class="n">radeon_tv_std</span>
<span class="n">radeon_combios_get_tv_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">enum</span> <span class="n">radeon_tv_std</span>
<span class="n">radeon_atombios_get_tv_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span>
<span class="n">radeon_get_connector_for_encoder</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span>
<span class="n">radeon_get_connector_for_encoder_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_dig_monitor_is_duallink</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
				    <span class="n">u32</span> <span class="n">pixel_clock</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">u16</span> <span class="n">radeon_encoder_get_dp_bridge_encoder_id</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u16</span> <span class="n">radeon_connector_encoder_get_dp_bridge_encoder_id</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_connector_encoder_is_hbr2</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_connector_is_dp12_capable</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_get_monitor_bpc</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_connector_hotplug</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_dp_mode_valid_helper</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">,</span>
				       <span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">mode</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_dp_set_link_config</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">,</span>
				      <span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">mode</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_dp_link_train</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
				 <span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_dp_needs_link_train</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_connector</span> <span class="o">*</span><span class="n">radeon_connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u8</span> <span class="n">radeon_dp_getsinktype</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_connector</span> <span class="o">*</span><span class="n">radeon_connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_dp_getdpcd</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_connector</span> <span class="o">*</span><span class="n">radeon_connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_dp_get_panel_mode</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
				    <span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">atombios_dig_encoder_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="kt">int</span> <span class="n">action</span><span class="p">,</span> <span class="kt">int</span> <span class="n">panel_mode</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_atom_encoder_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_atom_disp_eng_pll_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">atombios_dig_transmitter_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
					   <span class="kt">int</span> <span class="n">action</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">lane_num</span><span class="p">,</span>
					   <span class="kt">uint8_t</span> <span class="n">lane_set</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_atom_ext_encoder_setup_ddc</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">radeon_get_external_encoder</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_dp_i2c_aux_ch</span><span class="p">(</span><span class="k">struct</span> <span class="n">i2c_adapter</span> <span class="o">*</span><span class="n">adapter</span><span class="p">,</span> <span class="kt">int</span> <span class="n">mode</span><span class="p">,</span>
				<span class="n">u8</span> <span class="n">write_byte</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="n">read_byte</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_i2c_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_i2c_fini</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_combios_i2c_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_atombios_i2c_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_i2c_add</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span>
			   <span class="k">struct</span> <span class="n">radeon_i2c_bus_rec</span> <span class="o">*</span><span class="n">rec</span><span class="p">,</span>
			   <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">radeon_i2c_lookup</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span>
						 <span class="k">struct</span> <span class="n">radeon_i2c_bus_rec</span> <span class="o">*</span><span class="n">i2c_bus</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">radeon_i2c_create_dp</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
						    <span class="k">struct</span> <span class="n">radeon_i2c_bus_rec</span> <span class="o">*</span><span class="n">rec</span><span class="p">,</span>
						    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">radeon_i2c_create</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
						 <span class="k">struct</span> <span class="n">radeon_i2c_bus_rec</span> <span class="o">*</span><span class="n">rec</span><span class="p">,</span>
						 <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_i2c_destroy</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">i2c</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_i2c_get_byte</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">i2c_bus</span><span class="p">,</span>
				<span class="n">u8</span> <span class="n">slave_addr</span><span class="p">,</span>
				<span class="n">u8</span> <span class="n">addr</span><span class="p">,</span>
				<span class="n">u8</span> <span class="o">*</span><span class="n">val</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_i2c_put_byte</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_i2c_chan</span> <span class="o">*</span><span class="n">i2c</span><span class="p">,</span>
				<span class="n">u8</span> <span class="n">slave_addr</span><span class="p">,</span>
				<span class="n">u8</span> <span class="n">addr</span><span class="p">,</span>
				<span class="n">u8</span> <span class="n">val</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_router_select_ddc_port</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_connector</span> <span class="o">*</span><span class="n">radeon_connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_router_select_cd_port</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_connector</span> <span class="o">*</span><span class="n">radeon_connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_ddc_probe</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_connector</span> <span class="o">*</span><span class="n">radeon_connector</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_ddc_get_modes</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_connector</span> <span class="o">*</span><span class="n">radeon_connector</span><span class="p">);</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">radeon_best_encoder</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_atombios_get_ppll_ss_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span>
					     <span class="k">struct</span> <span class="n">radeon_atom_ss</span> <span class="o">*</span><span class="n">ss</span><span class="p">,</span>
					     <span class="kt">int</span> <span class="n">id</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_atombios_get_asic_ss_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span>
					     <span class="k">struct</span> <span class="n">radeon_atom_ss</span> <span class="o">*</span><span class="n">ss</span><span class="p">,</span>
					     <span class="kt">int</span> <span class="n">id</span><span class="p">,</span> <span class="n">u32</span> <span class="n">clock</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_compute_pll_legacy</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_pll</span> <span class="o">*</span><span class="n">pll</span><span class="p">,</span>
				      <span class="kt">uint64_t</span> <span class="n">freq</span><span class="p">,</span>
				      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">dot_clock_p</span><span class="p">,</span>
				      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">fb_div_p</span><span class="p">,</span>
				      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">frac_fb_div_p</span><span class="p">,</span>
				      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">ref_div_p</span><span class="p">,</span>
				      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">post_div_p</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_compute_pll_avivo</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_pll</span> <span class="o">*</span><span class="n">pll</span><span class="p">,</span>
				     <span class="n">u32</span> <span class="n">freq</span><span class="p">,</span>
				     <span class="n">u32</span> <span class="o">*</span><span class="n">dot_clock_p</span><span class="p">,</span>
				     <span class="n">u32</span> <span class="o">*</span><span class="n">fb_div_p</span><span class="p">,</span>
				     <span class="n">u32</span> <span class="o">*</span><span class="n">frac_fb_div_p</span><span class="p">,</span>
				     <span class="n">u32</span> <span class="o">*</span><span class="n">ref_div_p</span><span class="p">,</span>
				     <span class="n">u32</span> <span class="o">*</span><span class="n">post_div_p</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_setup_encoder_clones</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">radeon_encoder_legacy_lvds_add</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bios_index</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">radeon_encoder_legacy_primary_dac_add</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bios_index</span><span class="p">,</span> <span class="kt">int</span> <span class="n">with_tv</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">radeon_encoder_legacy_tv_dac_add</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bios_index</span><span class="p">,</span> <span class="kt">int</span> <span class="n">with_tv</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">radeon_encoder_legacy_tmds_int_add</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bios_index</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">radeon_encoder_legacy_tmds_ext_add</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bios_index</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">atombios_dvo_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="kt">int</span> <span class="n">action</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">atombios_digital_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="kt">int</span> <span class="n">action</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">atombios_get_encoder_mode</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">atombios_set_edp_panel_power</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_connector</span> <span class="o">*</span><span class="n">connector</span><span class="p">,</span> <span class="kt">int</span> <span class="n">action</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_encoder_set_active_device</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_crtc_load_lut</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">atombios_crtc_set_base</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="o">*</span><span class="n">old_fb</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">atombios_crtc_set_base_atomic</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span>
					 <span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="o">*</span><span class="n">fb</span><span class="p">,</span>
					 <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span>
					 <span class="k">enum</span> <span class="n">mode_set_atomic</span> <span class="n">state</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">atombios_crtc_mode_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">mode</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">adjusted_mode</span><span class="p">,</span>
				   <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="o">*</span><span class="n">old_fb</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">atombios_crtc_dpms</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span> <span class="kt">int</span> <span class="n">mode</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_crtc_set_base</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span>
				 <span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="o">*</span><span class="n">old_fb</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_crtc_set_base_atomic</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span>
				       <span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="o">*</span><span class="n">fb</span><span class="p">,</span>
				       <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span>
				       <span class="k">enum</span> <span class="n">mode_set_atomic</span> <span class="n">state</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_crtc_do_set_base</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span>
				   <span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="o">*</span><span class="n">fb</span><span class="p">,</span>
				   <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">atomic</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_crtc_cursor_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span>
				  <span class="k">struct</span> <span class="n">drm_file</span> <span class="o">*</span><span class="n">file_priv</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="n">handle</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="n">width</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="n">height</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_crtc_cursor_move</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span>
				   <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">);</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">radeon_get_crtc_scanoutpos</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">crtc</span><span class="p">,</span>
				      <span class="kt">int</span> <span class="o">*</span><span class="n">vpos</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">hpos</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_combios_check_hardcoded_edid</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">edid</span> <span class="o">*</span>
<span class="n">radeon_bios_get_hardcoded_edid</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_atom_get_clock_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_combios_get_clock_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_encoder_atom_dig</span> <span class="o">*</span>
<span class="n">radeon_atombios_get_lvds_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_atombios_get_tmds_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
					  <span class="k">struct</span> <span class="n">radeon_encoder_int_tmds</span> <span class="o">*</span><span class="n">tmds</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_legacy_get_tmds_info_from_combios</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
						     <span class="k">struct</span> <span class="n">radeon_encoder_int_tmds</span> <span class="o">*</span><span class="n">tmds</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_legacy_get_tmds_info_from_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
						   <span class="k">struct</span> <span class="n">radeon_encoder_int_tmds</span> <span class="o">*</span><span class="n">tmds</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_legacy_get_ext_tmds_info_from_combios</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
							 <span class="k">struct</span> <span class="n">radeon_encoder_ext_tmds</span> <span class="o">*</span><span class="n">tmds</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_legacy_get_ext_tmds_info_from_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
						       <span class="k">struct</span> <span class="n">radeon_encoder_ext_tmds</span> <span class="o">*</span><span class="n">tmds</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_encoder_primary_dac</span> <span class="o">*</span>
<span class="n">radeon_atombios_get_primary_dac_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_encoder_tv_dac</span> <span class="o">*</span>
<span class="n">radeon_atombios_get_tv_dac_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_encoder_lvds</span> <span class="o">*</span>
<span class="n">radeon_combios_get_lvds_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_combios_get_ext_tmds_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_encoder_tv_dac</span> <span class="o">*</span>
<span class="n">radeon_combios_get_tv_dac_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">radeon_encoder_primary_dac</span> <span class="o">*</span>
<span class="n">radeon_combios_get_primary_dac_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_combios_external_tmds_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_external_tmds_setup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_combios_output_lock</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="n">bool</span> <span class="n">lock</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_combios_initialize_bios_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_atom_output_lock</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="n">bool</span> <span class="n">lock</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_atom_initialize_bios_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_save_bios_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_restore_bios_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span>
<span class="n">radeon_atombios_encoder_crtc_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="kt">int</span> <span class="n">crtc</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span>
<span class="n">radeon_atombios_encoder_dpms_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="n">bool</span> <span class="n">on</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span>
<span class="n">radeon_combios_encoder_crtc_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="kt">int</span> <span class="n">crtc</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span>
<span class="n">radeon_combios_encoder_dpms_scratch_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span> <span class="n">bool</span> <span class="n">on</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_crtc_fb_gamma_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span> <span class="n">u16</span> <span class="n">red</span><span class="p">,</span> <span class="n">u16</span> <span class="n">green</span><span class="p">,</span>
				     <span class="n">u16</span> <span class="n">blue</span><span class="p">,</span> <span class="kt">int</span> <span class="n">regno</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">radeon_crtc_fb_gamma_get</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">red</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">green</span><span class="p">,</span>
				     <span class="n">u16</span> <span class="o">*</span><span class="n">blue</span><span class="p">,</span> <span class="kt">int</span> <span class="n">regno</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">radeon_framebuffer_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">radeon_framebuffer</span> <span class="o">*</span><span class="n">rfb</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">drm_mode_fb_cmd2</span> <span class="o">*</span><span class="n">mode_cmd</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">drm_gem_object</span> <span class="o">*</span><span class="n">obj</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">radeonfb_remove</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">drm_framebuffer</span> <span class="o">*</span><span class="n">fb</span><span class="p">);</span>
<span class="n">bool</span> <span class="n">radeon_get_legacy_connector_info_from_bios</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="n">bool</span> <span class="n">radeon_get_legacy_connector_info_from_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_atombios_init_crtc</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">radeon_crtc</span> <span class="o">*</span><span class="n">radeon_crtc</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_legacy_init_crtc</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">radeon_crtc</span> <span class="o">*</span><span class="n">radeon_crtc</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">radeon_get_clock_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_get_atom_connector_info_from_object_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">bool</span> <span class="n">radeon_get_atom_connector_info_from_supported_devices_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">radeon_enc_destroy</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_copy_fb</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">drm_gem_object</span> <span class="o">*</span><span class="n">dst_obj</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_combios_asic_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="n">bool</span> <span class="n">radeon_crtc_scaling_mode_fixup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_crtc</span> <span class="o">*</span><span class="n">crtc</span><span class="p">,</span>
					<span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">mode</span><span class="p">,</span>
					<span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">adjusted_mode</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_panel_mode_fixup</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">adjusted_mode</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">atom_rv515_force_tv_scaler</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">radeon_crtc</span> <span class="o">*</span><span class="n">radeon_crtc</span><span class="p">);</span>

<span class="cm">/* legacy tv */</span>
<span class="kt">void</span> <span class="n">radeon_legacy_tv_adjust_crtc_reg</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
				      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">h_total_disp</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">h_sync_strt_wid</span><span class="p">,</span>
				      <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">v_total_disp</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">v_sync_strt_wid</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_legacy_tv_adjust_pll1</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">htotal_cntl</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">ppll_ref_div</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">ppll_div_3</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">pixclks_cntl</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_legacy_tv_adjust_pll2</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">htotal2_cntl</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">p2pll_ref_div</span><span class="p">,</span>
				  <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">p2pll_div_0</span><span class="p">,</span> <span class="kt">uint32_t</span> <span class="o">*</span><span class="n">pixclks_cntl</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_legacy_tv_mode_set</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_encoder</span> <span class="o">*</span><span class="n">encoder</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">mode</span><span class="p">,</span>
			       <span class="k">struct</span> <span class="n">drm_display_mode</span> <span class="o">*</span><span class="n">adjusted_mode</span><span class="p">);</span>

<span class="cm">/* fbdev layer */</span>
<span class="kt">int</span> <span class="n">radeon_fbdev_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_fbdev_fini</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">radeon_fbdev_set_suspend</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">state</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">radeon_fbdev_total_size</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>
<span class="n">bool</span> <span class="n">radeon_fbdev_robj_is_fb</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">radeon_bo</span> <span class="o">*</span><span class="n">robj</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">radeon_fb_output_poll_changed</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">radeon_crtc_handle_flip</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">crtc_id</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">radeon_align_pitch</span><span class="p">(</span><span class="k">struct</span> <span class="n">radeon_device</span> <span class="o">*</span><span class="n">rdev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bpp</span><span class="p">,</span> <span class="n">bool</span> <span class="n">tiled</span><span class="p">);</span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
