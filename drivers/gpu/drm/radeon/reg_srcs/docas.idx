f | evergreen | g | 20K |  | Jerome Glisse | jglisse@redhat.com | 1332752002 |  | drm/radeon/kms: add htile support to the cs checker v3  For 6xx+.  Required for mesa to use htile support for HiZ/HiS. Userspace will check radeon version 2.14 with is bumped either by tiling patch or stream out patch. This patch only add support for htile relocation which should be enough for any userspace to implement the hyperz (using htile buffer) feature.  v2: Jerome: Fix size checking for htile buffer. v3: Jerome: Adapt on top of r600/evergreen cs checker changes,             also check htile surface in case only stencil is             present.  Signed-off-by: Pierre-Eric Pelloux-Prayer <pelloux@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com> Signed-off-by: Jerome Glisse <jglisse@redhat.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | rs600 | g | 19K |  | Marek Olšák | maraeo@gmail.com | 1297642334 |  | drm/radeon/kms: check AA resolve registers on r300  This is an important security fix because we allowed arbitrary values to be passed to AARESOLVE_OFFSET. This also puts the right buffer address in the register.  Signed-off-by: Marek Olšák <maraeo@gmail.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | r300 | g | 17K |  | Marek Olšák | maraeo@gmail.com | 1297642334 |  | drm/radeon/kms: check AA resolve registers on r300  This is an important security fix because we allowed arbitrary values to be passed to AARESOLVE_OFFSET. This also puts the right buffer address in the register.  Signed-off-by: Marek Olšák <maraeo@gmail.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | rn50 | g | 648B |  | Dave Airlie | airlied@redhat.com | 1252364071 |  | drm/radeon/kms: add rn50/r100/r200 CS tracker.  This adds the command stream checker for the RN50, R100 and R200 cards.  It stops any access to 3D registers on RN50, and does checks on buffer sizes on the r100/r200 cards. It also fixes some texture sizing checks on r300.  Signed-off-by: Dave Airlie <airlied@redhat.com>
f | cayman | g | 20K |  | Jerome Glisse | jglisse@redhat.com | 1332752002 |  | drm/radeon/kms: add htile support to the cs checker v3  For 6xx+.  Required for mesa to use htile support for HiZ/HiS. Userspace will check radeon version 2.14 with is bumped either by tiling patch or stream out patch. This patch only add support for htile relocation which should be enough for any userspace to implement the hyperz (using htile buffer) feature.  v2: Jerome: Fix size checking for htile buffer. v3: Jerome: Adapt on top of r600/evergreen cs checker changes,             also check htile surface in case only stencil is             present.  Signed-off-by: Pierre-Eric Pelloux-Prayer <pelloux@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com> Signed-off-by: Jerome Glisse <jglisse@redhat.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | rv515 | g | 12K |  | Marek Olšák | maraeo@gmail.com | 1297642334 |  | drm/radeon/kms: check AA resolve registers on r300  This is an important security fix because we allowed arbitrary values to be passed to AARESOLVE_OFFSET. This also puts the right buffer address in the register.  Signed-off-by: Marek Olšák <maraeo@gmail.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | r200 | g | 4.2K |  | Andrew Randrianasulu | randrik@mail.ru | 1264025847 |  | drm/radeon/kms/r200: fix bug in CS parser  Add missing vertex shader regs for r200.  fixed fdo bug 26061  agd5f: use official reg names  Signed-off-by: Alex Deucher <alexdeucher@gmail.com> Signed-off-by: Dave Airlie <airlied@linux.ie>
f | r100 | g | 2.6K |  | Dave Airlie | airlied@redhat.com | 1252364071 |  | drm/radeon/kms: add rn50/r100/r200 CS tracker.  This adds the command stream checker for the RN50, R100 and R200 cards.  It stops any access to 3D registers on RN50, and does checks on buffer sizes on the r100/r200 cards. It also fixes some texture sizing checks on r300.  Signed-off-by: Dave Airlie <airlied@redhat.com>
f | r600 | g | 25K |  | Jerome Glisse | jglisse@redhat.com | 1332752002 |  | drm/radeon/kms: add htile support to the cs checker v3  For 6xx+.  Required for mesa to use htile support for HiZ/HiS. Userspace will check radeon version 2.14 with is bumped either by tiling patch or stream out patch. This patch only add support for htile relocation which should be enough for any userspace to implement the hyperz (using htile buffer) feature.  v2: Jerome: Fix size checking for htile buffer. v3: Jerome: Adapt on top of r600/evergreen cs checker changes,             also check htile surface in case only stencil is             present.  Signed-off-by: Pierre-Eric Pelloux-Prayer <pelloux@gmail.com> Signed-off-by: Alex Deucher <alexander.deucher@amd.com> Signed-off-by: Jerome Glisse <jglisse@redhat.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | r420 | g | 19K |  | Marek Olšák | maraeo@gmail.com | 1297642334 |  | drm/radeon/kms: check AA resolve registers on r300  This is an important security fix because we allowed arbitrary values to be passed to AARESOLVE_OFFSET. This also puts the right buffer address in the register.  Signed-off-by: Marek Olšák <maraeo@gmail.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
