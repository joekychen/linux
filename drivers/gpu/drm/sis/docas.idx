f | sis_drv.c | s | 3.7K | 117 | Márton Németh | nm127@freemail.hu | 1339841933 |  | drm sis: initialize object_idr  The filed object_idr of struct drm_sis_private was introduced with commit http://git.kernel.org/?p=linux/kernel/git/torvalds/linux.git;a=commitdiff;h=6de8a748881f1cd9d795454da2b6db616d5ca3d7 .  The idr_init(&dev->object_name_idr) is called instead of idr_init(&dev_priv->object_idr) by mistake, leaving object_idr uninitialized. Correct this.  This patch was not tested because of lack of hardware.  Signed-off-by: Márton Németh <nm127@freemail.hu> Reviewed-by: Daniel Vetter <daniel.vetter@ffwll.ch> Cc: stable@vger.kernel.org Signed-off-by: Dave Airlie <airlied@redhat.com>
f | sis_mm.c | s | 9.0K | 293 | Daniel Vetter | daniel.vetter@ffwll.ch | 1326111099 |  | drm/sis||via: don't return stack garbage from free_mem ioctl  Fallout from my "kill drm_sman" refactor. Unfortunately gcc seems to have failed me and not warned about this.  Tested-by: Jakob Bornecrantz <wallbraker@gmail.com> (on via) Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | sis_drv.h | s | 2.5K | 65 | Daniel Vetter | daniel.vetter@ffwll.ch | 1324510403 |  | drm/sis: use drm_mm instead of drm_sman  v2: Smash compile fix from Tormod Volden <debian.tormod@gmail.com> for CONFIG_FB_SIS on top of this.  Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch>
f | Makefile | g | 238B |  | Dave Airlie | airlied@redhat.com | 1215996301 |  | drm: reorganise drm tree to be more future proof.  With the coming of kernel based modesetting and the memory manager stuff, the everything in one directory approach was getting very ugly and starting to be unmanageable.  This restructures the drm along the lines of other kernel components.  It creates a drivers/gpu/drm directory and moves the hw drivers into subdirectores. It moves the includes into an include/drm, and sets up the unifdef for the userspace headers we should be exporting.  Signed-off-by: Dave Airlie <airlied@redhat.com>
