<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › gpu › drm › gma500 › psb_reg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>psb_reg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/**************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) (2005-2007) Imagination Technologies Limited.</span>
<span class="cm"> * Copyright (c) 2007, Intel Corporation.</span>
<span class="cm"> * All Rights Reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms and conditions of the GNU General Public License,</span>
<span class="cm"> * version 2, as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope it will be useful, but WITHOUT</span>
<span class="cm"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span>
<span class="cm"> * more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along with</span>
<span class="cm"> * this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA..</span>
<span class="cm"> *</span>
<span class="cm"> **************************************************************************/</span>

<span class="cp">#ifndef _PSB_REG_H_</span>
<span class="cp">#define _PSB_REG_H_</span>

<span class="cp">#define PSB_CR_CLKGATECTL		0x0000</span>
<span class="cp">#define _PSB_C_CLKGATECTL_AUTO_MAN_REG		(1 &lt;&lt; 24)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_USE_CLKG_SHIFT	(20)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_USE_CLKG_MASK		(0x3 &lt;&lt; 20)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_DPM_CLKG_SHIFT	(16)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_DPM_CLKG_MASK		(0x3 &lt;&lt; 16)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_TA_CLKG_SHIFT		(12)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_TA_CLKG_MASK		(0x3 &lt;&lt; 12)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_TSP_CLKG_SHIFT	(8)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_TSP_CLKG_MASK		(0x3 &lt;&lt; 8)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_ISP_CLKG_SHIFT	(4)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_ISP_CLKG_MASK		(0x3 &lt;&lt; 4)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_2D_CLKG_SHIFT		(0)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_2D_CLKG_MASK		(0x3 &lt;&lt; 0)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_CLKG_ENABLED		(0)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_CLKG_DISABLED		(1)</span>
<span class="cp">#define _PSB_C_CLKGATECTL_CLKG_AUTO		(2)</span>

<span class="cp">#define PSB_CR_CORE_ID			0x0010</span>
<span class="cp">#define _PSB_CC_ID_ID_SHIFT			(16)</span>
<span class="cp">#define _PSB_CC_ID_ID_MASK			(0xFFFF &lt;&lt; 16)</span>
<span class="cp">#define _PSB_CC_ID_CONFIG_SHIFT			(0)</span>
<span class="cp">#define _PSB_CC_ID_CONFIG_MASK			(0xFFFF &lt;&lt; 0)</span>

<span class="cp">#define PSB_CR_CORE_REVISION		0x0014</span>
<span class="cp">#define _PSB_CC_REVISION_DESIGNER_SHIFT		(24)</span>
<span class="cp">#define _PSB_CC_REVISION_DESIGNER_MASK		(0xFF &lt;&lt; 24)</span>
<span class="cp">#define _PSB_CC_REVISION_MAJOR_SHIFT		(16)</span>
<span class="cp">#define _PSB_CC_REVISION_MAJOR_MASK		(0xFF &lt;&lt; 16)</span>
<span class="cp">#define _PSB_CC_REVISION_MINOR_SHIFT		(8)</span>
<span class="cp">#define _PSB_CC_REVISION_MINOR_MASK		(0xFF &lt;&lt; 8)</span>
<span class="cp">#define _PSB_CC_REVISION_MAINTENANCE_SHIFT	(0)</span>
<span class="cp">#define _PSB_CC_REVISION_MAINTENANCE_MASK	(0xFF &lt;&lt; 0)</span>

<span class="cp">#define PSB_CR_DESIGNER_REV_FIELD1	0x0018</span>

<span class="cp">#define PSB_CR_SOFT_RESET		0x0080</span>
<span class="cp">#define _PSB_CS_RESET_TSP_RESET		(1 &lt;&lt; 6)</span>
<span class="cp">#define _PSB_CS_RESET_ISP_RESET		(1 &lt;&lt; 5)</span>
<span class="cp">#define _PSB_CS_RESET_USE_RESET		(1 &lt;&lt; 4)</span>
<span class="cp">#define _PSB_CS_RESET_TA_RESET		(1 &lt;&lt; 3)</span>
<span class="cp">#define _PSB_CS_RESET_DPM_RESET		(1 &lt;&lt; 2)</span>
<span class="cp">#define _PSB_CS_RESET_TWOD_RESET	(1 &lt;&lt; 1)</span>
<span class="cp">#define _PSB_CS_RESET_BIF_RESET			(1 &lt;&lt; 0)</span>

<span class="cp">#define PSB_CR_DESIGNER_REV_FIELD2	0x001C</span>

<span class="cp">#define PSB_CR_EVENT_HOST_ENABLE2	0x0110</span>

<span class="cp">#define PSB_CR_EVENT_STATUS2		0x0118</span>

<span class="cp">#define PSB_CR_EVENT_HOST_CLEAR2	0x0114</span>
<span class="cp">#define _PSB_CE2_BIF_REQUESTER_FAULT		(1 &lt;&lt; 4)</span>

<span class="cp">#define PSB_CR_EVENT_STATUS		0x012C</span>

<span class="cp">#define PSB_CR_EVENT_HOST_ENABLE	0x0130</span>

<span class="cp">#define PSB_CR_EVENT_HOST_CLEAR		0x0134</span>
<span class="cp">#define _PSB_CE_MASTER_INTERRUPT		(1 &lt;&lt; 31)</span>
<span class="cp">#define _PSB_CE_TA_DPM_FAULT			(1 &lt;&lt; 28)</span>
<span class="cp">#define _PSB_CE_TWOD_COMPLETE			(1 &lt;&lt; 27)</span>
<span class="cp">#define _PSB_CE_DPM_OUT_OF_MEMORY_ZLS		(1 &lt;&lt; 25)</span>
<span class="cp">#define _PSB_CE_DPM_TA_MEM_FREE			(1 &lt;&lt; 24)</span>
<span class="cp">#define _PSB_CE_PIXELBE_END_RENDER		(1 &lt;&lt; 18)</span>
<span class="cp">#define _PSB_CE_SW_EVENT			(1 &lt;&lt; 14)</span>
<span class="cp">#define _PSB_CE_TA_FINISHED			(1 &lt;&lt; 13)</span>
<span class="cp">#define _PSB_CE_TA_TERMINATE			(1 &lt;&lt; 12)</span>
<span class="cp">#define _PSB_CE_DPM_REACHED_MEM_THRESH		(1 &lt;&lt; 3)</span>
<span class="cp">#define _PSB_CE_DPM_OUT_OF_MEMORY_GBL		(1 &lt;&lt; 2)</span>
<span class="cp">#define _PSB_CE_DPM_OUT_OF_MEMORY_MT		(1 &lt;&lt; 1)</span>
<span class="cp">#define _PSB_CE_DPM_3D_MEM_FREE			(1 &lt;&lt; 0)</span>


<span class="cp">#define PSB_USE_OFFSET_MASK		0x0007FFFF</span>
<span class="cp">#define PSB_USE_OFFSET_SIZE		(PSB_USE_OFFSET_MASK + 1)</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE0		0x0A0C</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE1		0x0A10</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE2		0x0A14</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE3		0x0A18</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE4		0x0A1C</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE5		0x0A20</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE6		0x0A24</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE7		0x0A28</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE8		0x0A2C</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE9		0x0A30</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE10		0x0A34</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE11		0x0A38</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE12		0x0A3C</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE13		0x0A40</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE14		0x0A44</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE15		0x0A48</span>
<span class="cp">#define PSB_CR_USE_CODE_BASE(_i)	(0x0A0C + ((_i) &lt;&lt; 2))</span>
<span class="cp">#define _PSB_CUC_BASE_DM_SHIFT			(25)</span>
<span class="cp">#define _PSB_CUC_BASE_DM_MASK			(0x3 &lt;&lt; 25)</span>
<span class="cp">#define _PSB_CUC_BASE_ADDR_SHIFT		(0)	</span><span class="cm">/* 1024-bit aligned address? */</span><span class="cp"></span>
<span class="cp">#define _PSB_CUC_BASE_ADDR_ALIGNSHIFT		(7)</span>
<span class="cp">#define _PSB_CUC_BASE_ADDR_MASK			(0x1FFFFFF &lt;&lt; 0)</span>
<span class="cp">#define _PSB_CUC_DM_VERTEX			(0)</span>
<span class="cp">#define _PSB_CUC_DM_PIXEL			(1)</span>
<span class="cp">#define _PSB_CUC_DM_RESERVED			(2)</span>
<span class="cp">#define _PSB_CUC_DM_EDM				(3)</span>

<span class="cp">#define PSB_CR_PDS_EXEC_BASE		0x0AB8</span>
<span class="cp">#define _PSB_CR_PDS_EXEC_BASE_ADDR_SHIFT	(20)	</span><span class="cm">/* 1MB aligned address */</span><span class="cp"></span>
<span class="cp">#define _PSB_CR_PDS_EXEC_BASE_ADDR_ALIGNSHIFT	(20)</span>

<span class="cp">#define PSB_CR_EVENT_KICKER		0x0AC4</span>
<span class="cp">#define _PSB_CE_KICKER_ADDRESS_SHIFT		(4)	</span><span class="cm">/* 128-bit aligned address */</span><span class="cp"></span>

<span class="cp">#define PSB_CR_EVENT_KICK		0x0AC8</span>
<span class="cp">#define _PSB_CE_KICK_NOW			(1 &lt;&lt; 0)</span>

<span class="cp">#define PSB_CR_BIF_DIR_LIST_BASE1	0x0C38</span>

<span class="cp">#define PSB_CR_BIF_CTRL			0x0C00</span>
<span class="cp">#define _PSB_CB_CTRL_CLEAR_FAULT		(1 &lt;&lt; 4)</span>
<span class="cp">#define _PSB_CB_CTRL_INVALDC			(1 &lt;&lt; 3)</span>
<span class="cp">#define _PSB_CB_CTRL_FLUSH			(1 &lt;&lt; 2)</span>

<span class="cp">#define PSB_CR_BIF_INT_STAT		0x0C04</span>

<span class="cp">#define PSB_CR_BIF_FAULT		0x0C08</span>
<span class="cp">#define _PSB_CBI_STAT_PF_N_RW			(1 &lt;&lt; 14)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_SHIFT		(0)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_MASK		(0x3FFF &lt;&lt; 0)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_CACHE		(1 &lt;&lt; 1)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_TA			(1 &lt;&lt; 2)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_VDM			(1 &lt;&lt; 3)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_2D			(1 &lt;&lt; 4)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_PBE			(1 &lt;&lt; 5)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_TSP			(1 &lt;&lt; 6)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_ISP			(1 &lt;&lt; 7)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_USSEPDS		(1 &lt;&lt; 8)</span>
<span class="cp">#define _PSB_CBI_STAT_FAULT_HOST		(1 &lt;&lt; 9)</span>

<span class="cp">#define PSB_CR_BIF_BANK0		0x0C78</span>
<span class="cp">#define PSB_CR_BIF_BANK1		0x0C7C</span>
<span class="cp">#define PSB_CR_BIF_DIR_LIST_BASE0	0x0C84</span>
<span class="cp">#define PSB_CR_BIF_TWOD_REQ_BASE	0x0C88</span>
<span class="cp">#define PSB_CR_BIF_3D_REQ_BASE		0x0CAC</span>

<span class="cp">#define PSB_CR_2D_SOCIF			0x0E18</span>
<span class="cp">#define _PSB_C2_SOCIF_FREESPACE_SHIFT		(0)</span>
<span class="cp">#define _PSB_C2_SOCIF_FREESPACE_MASK		(0xFF &lt;&lt; 0)</span>
<span class="cp">#define _PSB_C2_SOCIF_EMPTY			(0x80 &lt;&lt; 0)</span>

<span class="cp">#define PSB_CR_2D_BLIT_STATUS		0x0E04</span>
<span class="cp">#define _PSB_C2B_STATUS_BUSY			(1 &lt;&lt; 24)</span>
<span class="cp">#define _PSB_C2B_STATUS_COMPLETE_SHIFT		(0)</span>
<span class="cp">#define _PSB_C2B_STATUS_COMPLETE_MASK		(0xFFFFFF &lt;&lt; 0)</span>

<span class="cm">/*</span>
<span class="cm"> * 2D defs.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * 2D Slave Port Data : Block Header&#39;s Object Type</span>
<span class="cm"> */</span>

<span class="cp">#define	PSB_2D_CLIP_BH			(0x00000000)</span>
<span class="cp">#define	PSB_2D_PAT_BH			(0x10000000)</span>
<span class="cp">#define	PSB_2D_CTRL_BH			(0x20000000)</span>
<span class="cp">#define	PSB_2D_SRC_OFF_BH		(0x30000000)</span>
<span class="cp">#define	PSB_2D_MASK_OFF_BH		(0x40000000)</span>
<span class="cp">#define	PSB_2D_RESERVED1_BH		(0x50000000)</span>
<span class="cp">#define	PSB_2D_RESERVED2_BH		(0x60000000)</span>
<span class="cp">#define	PSB_2D_FENCE_BH			(0x70000000)</span>
<span class="cp">#define	PSB_2D_BLIT_BH			(0x80000000)</span>
<span class="cp">#define	PSB_2D_SRC_SURF_BH		(0x90000000)</span>
<span class="cp">#define	PSB_2D_DST_SURF_BH		(0xA0000000)</span>
<span class="cp">#define	PSB_2D_PAT_SURF_BH		(0xB0000000)</span>
<span class="cp">#define	PSB_2D_SRC_PAL_BH		(0xC0000000)</span>
<span class="cp">#define	PSB_2D_PAT_PAL_BH		(0xD0000000)</span>
<span class="cp">#define	PSB_2D_MASK_SURF_BH		(0xE0000000)</span>
<span class="cp">#define	PSB_2D_FLUSH_BH			(0xF0000000)</span>

<span class="cm">/*</span>
<span class="cm"> * Clip Definition block (PSB_2D_CLIP_BH)</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_CLIPCOUNT_MAX		(1)</span>
<span class="cp">#define PSB_2D_CLIPCOUNT_MASK		(0x00000000)</span>
<span class="cp">#define PSB_2D_CLIPCOUNT_CLRMASK	(0xFFFFFFFF)</span>
<span class="cp">#define PSB_2D_CLIPCOUNT_SHIFT		(0)</span>
<span class="cm">/* clip rectangle min &amp; max */</span>
<span class="cp">#define PSB_2D_CLIP_XMAX_MASK		(0x00FFF000)</span>
<span class="cp">#define PSB_2D_CLIP_XMAX_CLRMASK	(0xFF000FFF)</span>
<span class="cp">#define PSB_2D_CLIP_XMAX_SHIFT		(12)</span>
<span class="cp">#define PSB_2D_CLIP_XMIN_MASK		(0x00000FFF)</span>
<span class="cp">#define PSB_2D_CLIP_XMIN_CLRMASK	(0x00FFF000)</span>
<span class="cp">#define PSB_2D_CLIP_XMIN_SHIFT		(0)</span>
<span class="cm">/* clip rectangle offset */</span>
<span class="cp">#define PSB_2D_CLIP_YMAX_MASK		(0x00FFF000)</span>
<span class="cp">#define PSB_2D_CLIP_YMAX_CLRMASK	(0xFF000FFF)</span>
<span class="cp">#define PSB_2D_CLIP_YMAX_SHIFT		(12)</span>
<span class="cp">#define PSB_2D_CLIP_YMIN_MASK		(0x00000FFF)</span>
<span class="cp">#define PSB_2D_CLIP_YMIN_CLRMASK	(0x00FFF000)</span>
<span class="cp">#define PSB_2D_CLIP_YMIN_SHIFT		(0)</span>

<span class="cm">/*</span>
<span class="cm"> * Pattern Control (PSB_2D_PAT_BH)</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_PAT_HEIGHT_MASK		(0x0000001F)</span>
<span class="cp">#define PSB_2D_PAT_HEIGHT_SHIFT		(0)</span>
<span class="cp">#define PSB_2D_PAT_WIDTH_MASK		(0x000003E0)</span>
<span class="cp">#define PSB_2D_PAT_WIDTH_SHIFT		(5)</span>
<span class="cp">#define PSB_2D_PAT_YSTART_MASK		(0x00007C00)</span>
<span class="cp">#define PSB_2D_PAT_YSTART_SHIFT		(10)</span>
<span class="cp">#define PSB_2D_PAT_XSTART_MASK		(0x000F8000)</span>
<span class="cp">#define PSB_2D_PAT_XSTART_SHIFT		(15)</span>

<span class="cm">/*</span>
<span class="cm"> * 2D Control block (PSB_2D_CTRL_BH)</span>
<span class="cm"> */</span>
<span class="cm">/* Present Flags */</span>
<span class="cp">#define PSB_2D_SRCCK_CTRL		(0x00000001)</span>
<span class="cp">#define PSB_2D_DSTCK_CTRL		(0x00000002)</span>
<span class="cp">#define PSB_2D_ALPHA_CTRL		(0x00000004)</span>
<span class="cm">/* Colour Key Colour (SRC/DST)*/</span>
<span class="cp">#define PSB_2D_CK_COL_MASK		(0xFFFFFFFF)</span>
<span class="cp">#define PSB_2D_CK_COL_CLRMASK		(0x00000000)</span>
<span class="cp">#define PSB_2D_CK_COL_SHIFT		(0)</span>
<span class="cm">/* Colour Key Mask (SRC/DST)*/</span>
<span class="cp">#define PSB_2D_CK_MASK_MASK		(0xFFFFFFFF)</span>
<span class="cp">#define PSB_2D_CK_MASK_CLRMASK		(0x00000000)</span>
<span class="cp">#define PSB_2D_CK_MASK_SHIFT		(0)</span>
<span class="cm">/* Alpha Control (Alpha/RGB)*/</span>
<span class="cp">#define PSB_2D_GBLALPHA_MASK		(0x000FF000)</span>
<span class="cp">#define PSB_2D_GBLALPHA_CLRMASK		(0xFFF00FFF)</span>
<span class="cp">#define PSB_2D_GBLALPHA_SHIFT		(12)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_MASK		(0x00700000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_CLRMASK	(0xFF8FFFFF)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_SHIFT	(20)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_ONE		(0x00000000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_SRC		(0x00100000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_DST		(0x00200000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_SG		(0x00300000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_DG		(0x00400000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_GBL		(0x00500000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_OP_ZERO		(0x00600000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_INVERT		(0x00800000)</span>
<span class="cp">#define PSB_2D_SRCALPHA_INVERT_CLR	(0xFF7FFFFF)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_MASK		(0x07000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_CLRMASK	(0xF8FFFFFF)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_SHIFT	(24)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_ONE		(0x00000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_SRC		(0x01000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_DST		(0x02000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_SG		(0x03000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_DG		(0x04000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_GBL		(0x05000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_OP_ZERO		(0x06000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_INVERT		(0x08000000)</span>
<span class="cp">#define PSB_2D_DSTALPHA_INVERT_CLR	(0xF7FFFFFF)</span>

<span class="cp">#define PSB_2D_PRE_MULTIPLICATION_ENABLE	(0x10000000)</span>
<span class="cp">#define PSB_2D_PRE_MULTIPLICATION_CLRMASK	(0xEFFFFFFF)</span>
<span class="cp">#define PSB_2D_ZERO_SOURCE_ALPHA_ENABLE		(0x20000000)</span>
<span class="cp">#define PSB_2D_ZERO_SOURCE_ALPHA_CLRMASK	(0xDFFFFFFF)</span>

<span class="cm">/*</span>
<span class="cm"> *Source Offset (PSB_2D_SRC_OFF_BH)</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_SRCOFF_XSTART_MASK	((0x00000FFF) &lt;&lt; 12)</span>
<span class="cp">#define PSB_2D_SRCOFF_XSTART_SHIFT	(12)</span>
<span class="cp">#define PSB_2D_SRCOFF_YSTART_MASK	(0x00000FFF)</span>
<span class="cp">#define PSB_2D_SRCOFF_YSTART_SHIFT	(0)</span>

<span class="cm">/*</span>
<span class="cm"> * Mask Offset (PSB_2D_MASK_OFF_BH)</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_MASKOFF_XSTART_MASK	((0x00000FFF) &lt;&lt; 12)</span>
<span class="cp">#define PSB_2D_MASKOFF_XSTART_SHIFT	(12)</span>
<span class="cp">#define PSB_2D_MASKOFF_YSTART_MASK	(0x00000FFF)</span>
<span class="cp">#define PSB_2D_MASKOFF_YSTART_SHIFT	(0)</span>

<span class="cm">/*</span>
<span class="cm"> * 2D Fence (see PSB_2D_FENCE_BH): bits 0:27 are ignored</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> *Blit Rectangle (PSB_2D_BLIT_BH)</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_ROT_MASK			(3 &lt;&lt; 25)</span>
<span class="cp">#define PSB_2D_ROT_CLRMASK		(~PSB_2D_ROT_MASK)</span>
<span class="cp">#define PSB_2D_ROT_NONE			(0 &lt;&lt; 25)</span>
<span class="cp">#define PSB_2D_ROT_90DEGS		(1 &lt;&lt; 25)</span>
<span class="cp">#define PSB_2D_ROT_180DEGS		(2 &lt;&lt; 25)</span>
<span class="cp">#define PSB_2D_ROT_270DEGS		(3 &lt;&lt; 25)</span>

<span class="cp">#define PSB_2D_COPYORDER_MASK		(3 &lt;&lt; 23)</span>
<span class="cp">#define PSB_2D_COPYORDER_CLRMASK	(~PSB_2D_COPYORDER_MASK)</span>
<span class="cp">#define PSB_2D_COPYORDER_TL2BR		(0 &lt;&lt; 23)</span>
<span class="cp">#define PSB_2D_COPYORDER_BR2TL		(1 &lt;&lt; 23)</span>
<span class="cp">#define PSB_2D_COPYORDER_TR2BL		(2 &lt;&lt; 23)</span>
<span class="cp">#define PSB_2D_COPYORDER_BL2TR		(3 &lt;&lt; 23)</span>

<span class="cp">#define PSB_2D_DSTCK_CLRMASK		(0xFF9FFFFF)</span>
<span class="cp">#define PSB_2D_DSTCK_DISABLE		(0x00000000)</span>
<span class="cp">#define PSB_2D_DSTCK_PASS		(0x00200000)</span>
<span class="cp">#define PSB_2D_DSTCK_REJECT		(0x00400000)</span>

<span class="cp">#define PSB_2D_SRCCK_CLRMASK		(0xFFE7FFFF)</span>
<span class="cp">#define PSB_2D_SRCCK_DISABLE		(0x00000000)</span>
<span class="cp">#define PSB_2D_SRCCK_PASS		(0x00080000)</span>
<span class="cp">#define PSB_2D_SRCCK_REJECT		(0x00100000)</span>

<span class="cp">#define PSB_2D_CLIP_ENABLE		(0x00040000)</span>

<span class="cp">#define PSB_2D_ALPHA_ENABLE		(0x00020000)</span>

<span class="cp">#define PSB_2D_PAT_CLRMASK		(0xFFFEFFFF)</span>
<span class="cp">#define PSB_2D_PAT_MASK			(0x00010000)</span>
<span class="cp">#define PSB_2D_USE_PAT			(0x00010000)</span>
<span class="cp">#define PSB_2D_USE_FILL			(0x00000000)</span>
<span class="cm">/*</span>
<span class="cm"> * Tungsten Graphics note on rop codes: If rop A and rop B are</span>
<span class="cm"> * identical, the mask surface will not be read and need not be</span>
<span class="cm"> * set up.</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_ROP3B_MASK		(0x0000FF00)</span>
<span class="cp">#define PSB_2D_ROP3B_CLRMASK		(0xFFFF00FF)</span>
<span class="cp">#define PSB_2D_ROP3B_SHIFT		(8)</span>
<span class="cm">/* rop code A */</span>
<span class="cp">#define PSB_2D_ROP3A_MASK		(0x000000FF)</span>
<span class="cp">#define PSB_2D_ROP3A_CLRMASK		(0xFFFFFF00)</span>
<span class="cp">#define PSB_2D_ROP3A_SHIFT		(0)</span>

<span class="cp">#define PSB_2D_ROP4_MASK		(0x0000FFFF)</span>
<span class="cm">/*</span>
<span class="cm"> *	DWORD0:	(Only pass if Pattern control == Use Fill Colour)</span>
<span class="cm"> *	Fill Colour RGBA8888</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_FILLCOLOUR_MASK		(0xFFFFFFFF)</span>
<span class="cp">#define PSB_2D_FILLCOLOUR_SHIFT		(0)</span>
<span class="cm">/*</span>
<span class="cm"> *	DWORD1: (Always Present)</span>
<span class="cm"> *	X Start (Dest)</span>
<span class="cm"> *	Y Start (Dest)</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_DST_XSTART_MASK		(0x00FFF000)</span>
<span class="cp">#define PSB_2D_DST_XSTART_CLRMASK	(0xFF000FFF)</span>
<span class="cp">#define PSB_2D_DST_XSTART_SHIFT		(12)</span>
<span class="cp">#define PSB_2D_DST_YSTART_MASK		(0x00000FFF)</span>
<span class="cp">#define PSB_2D_DST_YSTART_CLRMASK	(0xFFFFF000)</span>
<span class="cp">#define PSB_2D_DST_YSTART_SHIFT		(0)</span>
<span class="cm">/*</span>
<span class="cm"> *	DWORD2: (Always Present)</span>
<span class="cm"> *	X Size (Dest)</span>
<span class="cm"> *	Y Size (Dest)</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_DST_XSIZE_MASK		(0x00FFF000)</span>
<span class="cp">#define PSB_2D_DST_XSIZE_CLRMASK	(0xFF000FFF)</span>
<span class="cp">#define PSB_2D_DST_XSIZE_SHIFT		(12)</span>
<span class="cp">#define PSB_2D_DST_YSIZE_MASK		(0x00000FFF)</span>
<span class="cp">#define PSB_2D_DST_YSIZE_CLRMASK	(0xFFFFF000)</span>
<span class="cp">#define PSB_2D_DST_YSIZE_SHIFT		(0)</span>

<span class="cm">/*</span>
<span class="cm"> * Source Surface (PSB_2D_SRC_SURF_BH)</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> * WORD 0</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_SRC_FORMAT_MASK		(0x00078000)</span>
<span class="cp">#define PSB_2D_SRC_1_PAL		(0x00000000)</span>
<span class="cp">#define PSB_2D_SRC_2_PAL		(0x00008000)</span>
<span class="cp">#define PSB_2D_SRC_4_PAL		(0x00010000)</span>
<span class="cp">#define PSB_2D_SRC_8_PAL		(0x00018000)</span>
<span class="cp">#define PSB_2D_SRC_8_ALPHA		(0x00020000)</span>
<span class="cp">#define PSB_2D_SRC_4_ALPHA		(0x00028000)</span>
<span class="cp">#define PSB_2D_SRC_332RGB		(0x00030000)</span>
<span class="cp">#define PSB_2D_SRC_4444ARGB		(0x00038000)</span>
<span class="cp">#define PSB_2D_SRC_555RGB		(0x00040000)</span>
<span class="cp">#define PSB_2D_SRC_1555ARGB		(0x00048000)</span>
<span class="cp">#define PSB_2D_SRC_565RGB		(0x00050000)</span>
<span class="cp">#define PSB_2D_SRC_0888ARGB		(0x00058000)</span>
<span class="cp">#define PSB_2D_SRC_8888ARGB		(0x00060000)</span>
<span class="cp">#define PSB_2D_SRC_8888UYVY		(0x00068000)</span>
<span class="cp">#define PSB_2D_SRC_RESERVED		(0x00070000)</span>
<span class="cp">#define PSB_2D_SRC_1555ARGB_LOOKUP	(0x00078000)</span>


<span class="cp">#define PSB_2D_SRC_STRIDE_MASK		(0x00007FFF)</span>
<span class="cp">#define PSB_2D_SRC_STRIDE_CLRMASK	(0xFFFF8000)</span>
<span class="cp">#define PSB_2D_SRC_STRIDE_SHIFT		(0)</span>
<span class="cm">/*</span>
<span class="cm"> *  WORD 1 - Base Address</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_SRC_ADDR_MASK		(0x0FFFFFFC)</span>
<span class="cp">#define PSB_2D_SRC_ADDR_CLRMASK		(0x00000003)</span>
<span class="cp">#define PSB_2D_SRC_ADDR_SHIFT		(2)</span>
<span class="cp">#define PSB_2D_SRC_ADDR_ALIGNSHIFT	(2)</span>

<span class="cm">/*</span>
<span class="cm"> * Pattern Surface (PSB_2D_PAT_SURF_BH)</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> *  WORD 0</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_PAT_FORMAT_MASK		(0x00078000)</span>
<span class="cp">#define PSB_2D_PAT_1_PAL		(0x00000000)</span>
<span class="cp">#define PSB_2D_PAT_2_PAL		(0x00008000)</span>
<span class="cp">#define PSB_2D_PAT_4_PAL		(0x00010000)</span>
<span class="cp">#define PSB_2D_PAT_8_PAL		(0x00018000)</span>
<span class="cp">#define PSB_2D_PAT_8_ALPHA		(0x00020000)</span>
<span class="cp">#define PSB_2D_PAT_4_ALPHA		(0x00028000)</span>
<span class="cp">#define PSB_2D_PAT_332RGB		(0x00030000)</span>
<span class="cp">#define PSB_2D_PAT_4444ARGB		(0x00038000)</span>
<span class="cp">#define PSB_2D_PAT_555RGB		(0x00040000)</span>
<span class="cp">#define PSB_2D_PAT_1555ARGB		(0x00048000)</span>
<span class="cp">#define PSB_2D_PAT_565RGB		(0x00050000)</span>
<span class="cp">#define PSB_2D_PAT_0888ARGB		(0x00058000)</span>
<span class="cp">#define PSB_2D_PAT_8888ARGB		(0x00060000)</span>

<span class="cp">#define PSB_2D_PAT_STRIDE_MASK		(0x00007FFF)</span>
<span class="cp">#define PSB_2D_PAT_STRIDE_CLRMASK	(0xFFFF8000)</span>
<span class="cp">#define PSB_2D_PAT_STRIDE_SHIFT		(0)</span>
<span class="cm">/*</span>
<span class="cm"> *  WORD 1 - Base Address</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_PAT_ADDR_MASK		(0x0FFFFFFC)</span>
<span class="cp">#define PSB_2D_PAT_ADDR_CLRMASK		(0x00000003)</span>
<span class="cp">#define PSB_2D_PAT_ADDR_SHIFT		(2)</span>
<span class="cp">#define PSB_2D_PAT_ADDR_ALIGNSHIFT	(2)</span>

<span class="cm">/*</span>
<span class="cm"> * Destination Surface (PSB_2D_DST_SURF_BH)</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> * WORD 0</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_DST_FORMAT_MASK		(0x00078000)</span>
<span class="cp">#define PSB_2D_DST_332RGB		(0x00030000)</span>
<span class="cp">#define PSB_2D_DST_4444ARGB		(0x00038000)</span>
<span class="cp">#define PSB_2D_DST_555RGB		(0x00040000)</span>
<span class="cp">#define PSB_2D_DST_1555ARGB		(0x00048000)</span>
<span class="cp">#define PSB_2D_DST_565RGB		(0x00050000)</span>
<span class="cp">#define PSB_2D_DST_0888ARGB		(0x00058000)</span>
<span class="cp">#define PSB_2D_DST_8888ARGB		(0x00060000)</span>
<span class="cp">#define PSB_2D_DST_8888AYUV		(0x00070000)</span>

<span class="cp">#define PSB_2D_DST_STRIDE_MASK		(0x00007FFF)</span>
<span class="cp">#define PSB_2D_DST_STRIDE_CLRMASK	(0xFFFF8000)</span>
<span class="cp">#define PSB_2D_DST_STRIDE_SHIFT		(0)</span>
<span class="cm">/*</span>
<span class="cm"> * WORD 1 - Base Address</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_DST_ADDR_MASK		(0x0FFFFFFC)</span>
<span class="cp">#define PSB_2D_DST_ADDR_CLRMASK		(0x00000003)</span>
<span class="cp">#define PSB_2D_DST_ADDR_SHIFT		(2)</span>
<span class="cp">#define PSB_2D_DST_ADDR_ALIGNSHIFT	(2)</span>

<span class="cm">/*</span>
<span class="cm"> * Mask Surface (PSB_2D_MASK_SURF_BH)</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> * WORD 0</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_MASK_STRIDE_MASK		(0x00007FFF)</span>
<span class="cp">#define PSB_2D_MASK_STRIDE_CLRMASK	(0xFFFF8000)</span>
<span class="cp">#define PSB_2D_MASK_STRIDE_SHIFT	(0)</span>
<span class="cm">/*</span>
<span class="cm"> *  WORD 1 - Base Address</span>
<span class="cm"> */</span>
<span class="cp">#define PSB_2D_MASK_ADDR_MASK		(0x0FFFFFFC)</span>
<span class="cp">#define PSB_2D_MASK_ADDR_CLRMASK	(0x00000003)</span>
<span class="cp">#define PSB_2D_MASK_ADDR_SHIFT		(2)</span>
<span class="cp">#define PSB_2D_MASK_ADDR_ALIGNSHIFT	(2)</span>

<span class="cm">/*</span>
<span class="cm"> * Source Palette (PSB_2D_SRC_PAL_BH)</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_SRCPAL_ADDR_SHIFT	(0)</span>
<span class="cp">#define PSB_2D_SRCPAL_ADDR_CLRMASK	(0xF0000007)</span>
<span class="cp">#define PSB_2D_SRCPAL_ADDR_MASK		(0x0FFFFFF8)</span>
<span class="cp">#define PSB_2D_SRCPAL_BYTEALIGN		(1024)</span>

<span class="cm">/*</span>
<span class="cm"> * Pattern Palette (PSB_2D_PAT_PAL_BH)</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_PATPAL_ADDR_SHIFT	(0)</span>
<span class="cp">#define PSB_2D_PATPAL_ADDR_CLRMASK	(0xF0000007)</span>
<span class="cp">#define PSB_2D_PATPAL_ADDR_MASK		(0x0FFFFFF8)</span>
<span class="cp">#define PSB_2D_PATPAL_BYTEALIGN		(1024)</span>

<span class="cm">/*</span>
<span class="cm"> * Rop3 Codes (2 LS bytes)</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_2D_ROP3_SRCCOPY		(0xCCCC)</span>
<span class="cp">#define PSB_2D_ROP3_PATCOPY		(0xF0F0)</span>
<span class="cp">#define PSB_2D_ROP3_WHITENESS		(0xFFFF)</span>
<span class="cp">#define PSB_2D_ROP3_BLACKNESS		(0x0000)</span>
<span class="cp">#define PSB_2D_ROP3_SRC			(0xCC)</span>
<span class="cp">#define PSB_2D_ROP3_PAT			(0xF0)</span>
<span class="cp">#define PSB_2D_ROP3_DST			(0xAA)</span>

<span class="cm">/*</span>
<span class="cm"> * Sizes.</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_SCENE_HW_COOKIE_SIZE	16</span>
<span class="cp">#define PSB_TA_MEM_HW_COOKIE_SIZE	16</span>

<span class="cm">/*</span>
<span class="cm"> * Scene stuff.</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_NUM_HW_SCENES		2</span>

<span class="cm">/*</span>
<span class="cm"> * Scheduler completion actions.</span>
<span class="cm"> */</span>

<span class="cp">#define PSB_RASTER_BLOCK		0</span>
<span class="cp">#define PSB_RASTER			1</span>
<span class="cp">#define PSB_RETURN			2</span>
<span class="cp">#define PSB_TA				3</span>

<span class="cm">/* Power management */</span>
<span class="cp">#define PSB_PUNIT_PORT			0x04</span>
<span class="cp">#define PSB_OSPMBA			0x78</span>
<span class="cp">#define PSB_APMBA			0x7a</span>
<span class="cp">#define PSB_APM_CMD			0x0</span>
<span class="cp">#define PSB_APM_STS			0x04</span>
<span class="cp">#define PSB_PWRGT_VID_ENC_MASK		0x30</span>
<span class="cp">#define PSB_PWRGT_VID_DEC_MASK		0xc</span>
<span class="cp">#define PSB_PWRGT_GL3_MASK		0xc0</span>

<span class="cp">#define PSB_PM_SSC			0x20</span>
<span class="cp">#define PSB_PM_SSS			0x30</span>
<span class="cp">#define PSB_PWRGT_DISPLAY_MASK		0xc </span><span class="cm">/*on a different BA than video/gfx*/</span><span class="cp"></span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_A_CNTR	0x0000000c</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_B_CNTR	0x0000c000</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_C_CNTR	0x00030000</span>
<span class="cp">#define MDFLD_PWRGT_DISP_MIPI_CNTR	0x000c0000</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_CNTR    (MDFLD_PWRGT_DISPLAY_A_CNTR | MDFLD_PWRGT_DISPLAY_B_CNTR | MDFLD_PWRGT_DISPLAY_C_CNTR | MDFLD_PWRGT_DISP_MIPI_CNTR) </span><span class="cm">/* 0x000fc00c */</span><span class="cp"></span>
<span class="cm">/* Display SSS register bits are different in A0 vs. B0 */</span>
<span class="cp">#define PSB_PWRGT_GFX_MASK		0x3</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_A_STS	0x000000c0</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_B_STS	0x00000300</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_C_STS	0x00000c00</span>
<span class="cp">#define PSB_PWRGT_GFX_MASK_B0		0xc3</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_A_STS_B0	0x0000000c</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_B_STS_B0	0x0000c000</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_C_STS_B0	0x00030000</span>
<span class="cp">#define MDFLD_PWRGT_DISP_MIPI_STS	0x000c0000</span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_STS_A0    (MDFLD_PWRGT_DISPLAY_A_STS | MDFLD_PWRGT_DISPLAY_B_STS | MDFLD_PWRGT_DISPLAY_C_STS | MDFLD_PWRGT_DISP_MIPI_STS) </span><span class="cm">/* 0x000fc00c */</span><span class="cp"></span>
<span class="cp">#define MDFLD_PWRGT_DISPLAY_STS_B0    (MDFLD_PWRGT_DISPLAY_A_STS_B0 | MDFLD_PWRGT_DISPLAY_B_STS_B0 | MDFLD_PWRGT_DISPLAY_C_STS_B0 | MDFLD_PWRGT_DISP_MIPI_STS) </span><span class="cm">/* 0x000fc00c */</span><span class="cp"></span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
