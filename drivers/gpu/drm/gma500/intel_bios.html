<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › gpu › drm › gma500 › intel_bios.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>intel_bios.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (c) 2006 Intel Corporation</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms and conditions of the GNU General Public License,</span>
<span class="cm"> * version 2, as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope it will be useful, but WITHOUT</span>
<span class="cm"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<span class="cm"> * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for</span>
<span class="cm"> * more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License along with</span>
<span class="cm"> * this program; if not, write to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.</span>
<span class="cm"> *</span>
<span class="cm"> * Authors:</span>
<span class="cm"> *    Eric Anholt &lt;eric@anholt.net&gt;</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _I830_BIOS_H_</span>
<span class="cp">#define _I830_BIOS_H_</span>

<span class="cp">#include &lt;drm/drmP.h&gt;</span>

<span class="k">struct</span> <span class="n">vbt_header</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">signature</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>		<span class="cm">/**&lt; Always starts with &#39;VBT$&#39; */</span>
	<span class="n">u16</span> <span class="n">version</span><span class="p">;</span>			<span class="cm">/**&lt; decimal */</span>
	<span class="n">u16</span> <span class="n">header_size</span><span class="p">;</span>		<span class="cm">/**&lt; in bytes */</span>
	<span class="n">u16</span> <span class="n">vbt_size</span><span class="p">;</span>			<span class="cm">/**&lt; in bytes */</span>
	<span class="n">u8</span> <span class="n">vbt_checksum</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">bdb_offset</span><span class="p">;</span>			<span class="cm">/**&lt; from beginning of VBT */</span>
	<span class="n">u32</span> <span class="n">aim_offset</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>		<span class="cm">/**&lt; from beginning of VBT */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="k">struct</span> <span class="n">bdb_header</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">signature</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>		<span class="cm">/**&lt; Always &#39;BIOS_DATA_BLOCK&#39; */</span>
	<span class="n">u16</span> <span class="n">version</span><span class="p">;</span>			<span class="cm">/**&lt; decimal */</span>
	<span class="n">u16</span> <span class="n">header_size</span><span class="p">;</span>		<span class="cm">/**&lt; in bytes */</span>
	<span class="n">u16</span> <span class="n">bdb_size</span><span class="p">;</span>			<span class="cm">/**&lt; in bytes */</span>
<span class="p">};</span>

<span class="cm">/* strictly speaking, this is a &quot;skip&quot; block, but it has interesting info */</span>
<span class="k">struct</span> <span class="n">vbios_data</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span> <span class="cm">/* 0 == desktop, 1 == mobile */</span>
	<span class="n">u8</span> <span class="n">relstage</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">chipset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">lvds_present</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">tv_present</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd2</span><span class="o">:</span><span class="mi">6</span><span class="p">;</span> <span class="cm">/* finish byte */</span>
	<span class="n">u8</span> <span class="n">rsvd3</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">signon</span><span class="p">[</span><span class="mi">155</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">copyright</span><span class="p">[</span><span class="mi">61</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">code_segment</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dos_boot_mode</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bandwidth_percent</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd4</span><span class="p">;</span> <span class="cm">/* popup memory size */</span>
	<span class="n">u8</span> <span class="n">resize_pci_bios</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd5</span><span class="p">;</span> <span class="cm">/* is crt already on ddc2 */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/*</span>
<span class="cm"> * There are several types of BIOS data blocks (BDBs), each block has</span>
<span class="cm"> * an ID and size in the first 3 bytes (ID in first, size in next 2).</span>
<span class="cm"> * Known types are listed below.</span>
<span class="cm"> */</span>
<span class="cp">#define BDB_GENERAL_FEATURES	  1</span>
<span class="cp">#define BDB_GENERAL_DEFINITIONS	  2</span>
<span class="cp">#define BDB_OLD_TOGGLE_LIST	  3</span>
<span class="cp">#define BDB_MODE_SUPPORT_LIST	  4</span>
<span class="cp">#define BDB_GENERIC_MODE_TABLE	  5</span>
<span class="cp">#define BDB_EXT_MMIO_REGS	  6</span>
<span class="cp">#define BDB_SWF_IO		  7</span>
<span class="cp">#define BDB_SWF_MMIO		  8</span>
<span class="cp">#define BDB_DOT_CLOCK_TABLE	  9</span>
<span class="cp">#define BDB_MODE_REMOVAL_TABLE	 10</span>
<span class="cp">#define BDB_CHILD_DEVICE_TABLE	 11</span>
<span class="cp">#define BDB_DRIVER_FEATURES	 12</span>
<span class="cp">#define BDB_DRIVER_PERSISTENCE	 13</span>
<span class="cp">#define BDB_EXT_TABLE_PTRS	 14</span>
<span class="cp">#define BDB_DOT_CLOCK_OVERRIDE	 15</span>
<span class="cp">#define BDB_DISPLAY_SELECT	 16</span>
<span class="cm">/* 17 rsvd */</span>
<span class="cp">#define BDB_DRIVER_ROTATION	 18</span>
<span class="cp">#define BDB_DISPLAY_REMOVE	 19</span>
<span class="cp">#define BDB_OEM_CUSTOM		 20</span>
<span class="cp">#define BDB_EFP_LIST		 21 </span><span class="cm">/* workarounds for VGA hsync/vsync */</span><span class="cp"></span>
<span class="cp">#define BDB_SDVO_LVDS_OPTIONS	 22</span>
<span class="cp">#define BDB_SDVO_PANEL_DTDS	 23</span>
<span class="cp">#define BDB_SDVO_LVDS_PNP_IDS	 24</span>
<span class="cp">#define BDB_SDVO_LVDS_POWER_SEQ	 25</span>
<span class="cp">#define BDB_TV_OPTIONS		 26</span>
<span class="cp">#define BDB_LVDS_OPTIONS	 40</span>
<span class="cp">#define BDB_LVDS_LFP_DATA_PTRS	 41</span>
<span class="cp">#define BDB_LVDS_LFP_DATA	 42</span>
<span class="cp">#define BDB_LVDS_BACKLIGHT	 43</span>
<span class="cp">#define BDB_LVDS_POWER		 44</span>
<span class="cp">#define BDB_SKIP		254 </span><span class="cm">/* VBIOS private block, ignore */</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">bdb_general_features</span> <span class="p">{</span>
	<span class="cm">/* bits 1 */</span>
	<span class="n">u8</span> <span class="n">panel_fitting</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">flexaim</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">msg_enable</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">clear_screen</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">color_flip</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="cm">/* bits 2 */</span>
	<span class="n">u8</span> <span class="n">download_ext_vbt</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">enable_ssc</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ssc_freq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">enable_lfp_on_override</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">disable_ssc_ddt</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd8</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span> <span class="cm">/* finish byte */</span>

	<span class="cm">/* bits 3 */</span>
	<span class="n">u8</span> <span class="n">disable_smooth_vision</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">single_dvi</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd9</span><span class="o">:</span><span class="mi">6</span><span class="p">;</span> <span class="cm">/* finish byte */</span>

	<span class="cm">/* bits 4 */</span>
	<span class="n">u8</span> <span class="n">legacy_monitor_detect</span><span class="p">;</span>

	<span class="cm">/* bits 5 */</span>
	<span class="n">u8</span> <span class="n">int_crt_support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">int_tv_support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">int_efp_support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dp_ssc_enb</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* PCH attached eDP supports SSC */</span>
	<span class="n">u8</span> <span class="n">dp_ssc_freq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>	<span class="cm">/* SSC freq for PCH attached eDP */</span>
	<span class="n">u8</span> <span class="n">rsvd11</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span> <span class="cm">/* finish byte */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* pre-915 */</span>
<span class="cp">#define GPIO_PIN_DVI_LVDS	0x03 </span><span class="cm">/* &quot;DVI/LVDS DDC GPIO pins&quot; */</span><span class="cp"></span>
<span class="cp">#define GPIO_PIN_ADD_I2C	0x05 </span><span class="cm">/* &quot;ADDCARD I2C GPIO pins&quot; */</span><span class="cp"></span>
<span class="cp">#define GPIO_PIN_ADD_DDC	0x04 </span><span class="cm">/* &quot;ADDCARD DDC GPIO pins&quot; */</span><span class="cp"></span>
<span class="cp">#define GPIO_PIN_ADD_DDC_I2C	0x06 </span><span class="cm">/* &quot;ADDCARD DDC/I2C GPIO pins&quot; */</span><span class="cp"></span>

<span class="cm">/* Pre 915 */</span>
<span class="cp">#define DEVICE_TYPE_NONE	0x00</span>
<span class="cp">#define DEVICE_TYPE_CRT		0x01</span>
<span class="cp">#define DEVICE_TYPE_TV		0x09</span>
<span class="cp">#define DEVICE_TYPE_EFP		0x12</span>
<span class="cp">#define DEVICE_TYPE_LFP		0x22</span>
<span class="cm">/* On 915+ */</span>
<span class="cp">#define DEVICE_TYPE_CRT_DPMS		0x6001</span>
<span class="cp">#define DEVICE_TYPE_CRT_DPMS_HOTPLUG	0x4001</span>
<span class="cp">#define DEVICE_TYPE_TV_COMPOSITE	0x0209</span>
<span class="cp">#define DEVICE_TYPE_TV_MACROVISION	0x0289</span>
<span class="cp">#define DEVICE_TYPE_TV_RF_COMPOSITE	0x020c</span>
<span class="cp">#define DEVICE_TYPE_TV_SVIDEO_COMPOSITE	0x0609</span>
<span class="cp">#define DEVICE_TYPE_TV_SCART		0x0209</span>
<span class="cp">#define DEVICE_TYPE_TV_CODEC_HOTPLUG_PWR 0x6009</span>
<span class="cp">#define DEVICE_TYPE_EFP_HOTPLUG_PWR	0x6012</span>
<span class="cp">#define DEVICE_TYPE_EFP_DVI_HOTPLUG_PWR	0x6052</span>
<span class="cp">#define DEVICE_TYPE_EFP_DVI_I		0x6053</span>
<span class="cp">#define DEVICE_TYPE_EFP_DVI_D_DUAL	0x6152</span>
<span class="cp">#define DEVICE_TYPE_EFP_DVI_D_HDCP	0x60d2</span>
<span class="cp">#define DEVICE_TYPE_OPENLDI_HOTPLUG_PWR	0x6062</span>
<span class="cp">#define DEVICE_TYPE_OPENLDI_DUALPIX	0x6162</span>
<span class="cp">#define DEVICE_TYPE_LFP_PANELLINK	0x5012</span>
<span class="cp">#define DEVICE_TYPE_LFP_CMOS_PWR	0x5042</span>
<span class="cp">#define DEVICE_TYPE_LFP_LVDS_PWR	0x5062</span>
<span class="cp">#define DEVICE_TYPE_LFP_LVDS_DUAL	0x5162</span>
<span class="cp">#define DEVICE_TYPE_LFP_LVDS_DUAL_HDCP	0x51e2</span>

<span class="cp">#define DEVICE_CFG_NONE		0x00</span>
<span class="cp">#define DEVICE_CFG_12BIT_DVOB	0x01</span>
<span class="cp">#define DEVICE_CFG_12BIT_DVOC	0x02</span>
<span class="cp">#define DEVICE_CFG_24BIT_DVOBC	0x09</span>
<span class="cp">#define DEVICE_CFG_24BIT_DVOCB	0x0a</span>
<span class="cp">#define DEVICE_CFG_DUAL_DVOB	0x11</span>
<span class="cp">#define DEVICE_CFG_DUAL_DVOC	0x12</span>
<span class="cp">#define DEVICE_CFG_DUAL_DVOBC	0x13</span>
<span class="cp">#define DEVICE_CFG_DUAL_LINK_DVOBC	0x19</span>
<span class="cp">#define DEVICE_CFG_DUAL_LINK_DVOCB	0x1a</span>

<span class="cp">#define DEVICE_WIRE_NONE	0x00</span>
<span class="cp">#define DEVICE_WIRE_DVOB	0x01</span>
<span class="cp">#define DEVICE_WIRE_DVOC	0x02</span>
<span class="cp">#define DEVICE_WIRE_DVOBC	0x03</span>
<span class="cp">#define DEVICE_WIRE_DVOBB	0x05</span>
<span class="cp">#define DEVICE_WIRE_DVOCC	0x06</span>
<span class="cp">#define DEVICE_WIRE_DVOB_MASTER 0x0d</span>
<span class="cp">#define DEVICE_WIRE_DVOC_MASTER 0x0e</span>

<span class="cp">#define DEVICE_PORT_DVOA	0x00 </span><span class="cm">/* none on 845+ */</span><span class="cp"></span>
<span class="cp">#define DEVICE_PORT_DVOB	0x01</span>
<span class="cp">#define DEVICE_PORT_DVOC	0x02</span>

<span class="k">struct</span> <span class="n">child_device_config</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">handle</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">device_type</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">device_id</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span> <span class="cm">/* ascii string */</span>
	<span class="n">u16</span> <span class="n">addin_offset</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">dvo_port</span><span class="p">;</span> <span class="cm">/* See Device_PORT_* above */</span>
	<span class="n">u8</span>  <span class="n">i2c_pin</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">slave_addr</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">ddc_pin</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">edid_ptr</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">dvo_cfg</span><span class="p">;</span> <span class="cm">/* See DEVICE_CFG_* above */</span>
	<span class="n">u8</span>  <span class="n">dvo2_port</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">i2c2_pin</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">slave2_addr</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">ddc2_pin</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">capabilities</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">dvo_wiring</span><span class="p">;</span><span class="cm">/* See DEVICE_WIRE_* above */</span>
	<span class="n">u8</span>  <span class="n">dvo2_wiring</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">extended_type</span><span class="p">;</span>
	<span class="n">u8</span>  <span class="n">dvo_function</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>


<span class="k">struct</span> <span class="n">bdb_general_definitions</span> <span class="p">{</span>
	<span class="cm">/* DDC GPIO */</span>
	<span class="n">u8</span> <span class="n">crt_ddc_gmbus_pin</span><span class="p">;</span>

	<span class="cm">/* DPMS bits */</span>
	<span class="n">u8</span> <span class="n">dpms_acpi</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">skip_boot_crt_detect</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dpms_aim</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd1</span><span class="o">:</span><span class="mi">5</span><span class="p">;</span> <span class="cm">/* finish byte */</span>

	<span class="cm">/* boot device bits */</span>
	<span class="n">u8</span> <span class="n">boot_display</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">child_dev_size</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Device info:</span>
<span class="cm">	 * If TV is present, it&#39;ll be at devices[0].</span>
<span class="cm">	 * LVDS will be next, either devices[0] or [1], if present.</span>
<span class="cm">	 * On some platforms the number of device is 6. But could be as few as</span>
<span class="cm">	 * 4 if both TV and LVDS are missing.</span>
<span class="cm">	 * And the device num is related with the size of general definition</span>
<span class="cm">	 * block. It is obtained by using the following formula:</span>
<span class="cm">	 * number = (block_size - sizeof(bdb_general_definitions))/</span>
<span class="cm">	 *	     sizeof(child_device_config);</span>
<span class="cm">	 */</span>
	<span class="k">struct</span> <span class="n">child_device_config</span> <span class="n">devices</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">bdb_lvds_options</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">panel_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd1</span><span class="p">;</span>
	<span class="cm">/* LVDS capabilities, stored in a dword */</span>
	<span class="n">u8</span> <span class="n">pfit_mode</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pfit_text_mode_enhanced</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pfit_gfx_mode_enhanced</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pfit_ratio_auto</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pixel_dither</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">lvds_edid</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd4</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">bdb_lvds_backlight</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pol</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">gpio</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">gmbus</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">freq</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">minbrightness</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">i2caddr</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">brightnesscmd</span><span class="p">;</span>
	<span class="cm">/*FIXME: more...*/</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* LFP pointer table contains entries to the struct below */</span>
<span class="k">struct</span> <span class="n">bdb_lvds_lfp_data_ptr</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">fp_timing_offset</span><span class="p">;</span> <span class="cm">/* offsets are from start of bdb */</span>
	<span class="n">u8</span> <span class="n">fp_table_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">dvo_timing_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dvo_table_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">panel_pnp_id_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">pnp_table_size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">bdb_lvds_lfp_data_ptrs</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">lvds_entries</span><span class="p">;</span> <span class="cm">/* followed by one or more lvds_data_ptr structs */</span>
	<span class="k">struct</span> <span class="n">bdb_lvds_lfp_data_ptr</span> <span class="n">ptr</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* LFP data has 3 blocks per entry */</span>
<span class="k">struct</span> <span class="n">lvds_fp_timing</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">x_res</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">y_res</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">lvds_reg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">lvds_reg_val</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pp_on_reg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pp_on_reg_val</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pp_off_reg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pp_off_reg_val</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pp_cycle_reg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pp_cycle_reg_val</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pfit_reg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pfit_reg_val</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">terminator</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">lvds_dvo_timing</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">clock</span><span class="p">;</span>		<span class="cm">/**&lt; In 10khz */</span>
	<span class="n">u8</span> <span class="n">hactive_lo</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hblank_lo</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hblank_hi</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hactive_hi</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vactive_lo</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vblank_lo</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vblank_hi</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vactive_hi</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hsync_off_lo</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hsync_pulse_width</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vsync_pulse_width</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vsync_off</span><span class="o">:</span><span class="mi">4</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd0</span><span class="o">:</span><span class="mi">6</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hsync_off_hi</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">h_image</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">v_image</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">max_hv</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">h_border</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">v_border</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd1</span><span class="o">:</span><span class="mi">3</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">digital</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">vsync_positive</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hsync_positive</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">rsvd2</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">lvds_pnp_id</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">mfg_name</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">product_code</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">serial</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mfg_week</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">mfg_year</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">bdb_lvds_lfp_data_entry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">lvds_fp_timing</span> <span class="n">fp_timing</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lvds_dvo_timing</span> <span class="n">dvo_timing</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lvds_pnp_id</span> <span class="n">pnp_id</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">bdb_lvds_lfp_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bdb_lvds_lfp_data_entry</span> <span class="n">data</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">aimdb_header</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">signature</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">oem_device</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
	<span class="n">u16</span> <span class="n">aimdb_version</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">aimdb_header_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">aimdb_size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">aimdb_block</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">aimdb_id</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">aimdb_size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">vch_panel_data</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">fp_timing_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">fp_timing_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">dvo_timing_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dvo_timing_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">text_fitting_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">text_fitting_size</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">graphics_fitting_offset</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">graphics_fitting_size</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">vch_bdb_22</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">aimdb_block</span> <span class="n">aimdb_block</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">vch_panel_data</span> <span class="n">panels</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">bdb_sdvo_lvds_options</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">panel_backlight</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">h40_set_panel_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">panel_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">ssc_clk_freq</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">als_low_trip</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">als_high_trip</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sclalarcoeff_tab_row_num</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sclalarcoeff_tab_row_size</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">coefficient</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">panel_misc_bits_1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">panel_misc_bits_2</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">panel_misc_bits_3</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">panel_misc_bits_4</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">bdb_driver_features</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">boot_dev_algorithm</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">block_display_switch</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">allow_display_switch</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">hotplug_dvo</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dual_view_zoom</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">int15h_hook</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sprite_in_clone</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">primary_lfp_id</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>

	<span class="n">u16</span> <span class="n">boot_mode_x</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">boot_mode_y</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">boot_mode_bpp</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">boot_mode_refresh</span><span class="p">;</span>

	<span class="n">u16</span> <span class="n">enable_lfp_primary</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">selective_mode_pruning</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">dual_frequency</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">render_clock_freq</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span> <span class="cm">/* 0: high freq; 1: low freq */</span>
	<span class="n">u16</span> <span class="n">nt_clone_support</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">power_scheme_ui</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span> <span class="cm">/* 0: CUI; 1: 3rd party */</span>
	<span class="n">u16</span> <span class="n">sprite_display_assign</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span> <span class="cm">/* 0: secondary; 1: primary */</span>
	<span class="n">u16</span> <span class="n">cui_aspect_scaling</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">preserve_aspect_ratio</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">sdvo_device_power_down</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">crt_hotplug</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">lvds_config</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">tv_hotplug</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">hdmi_config</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">static_display</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">reserved2</span><span class="o">:</span><span class="mi">7</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">legacy_crt_max_x</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">legacy_crt_max_y</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">legacy_crt_max_refresh</span><span class="p">;</span>

	<span class="n">u8</span> <span class="n">hdmi_termination</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">custom_vbt_version</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">extern</span> <span class="n">bool</span> <span class="n">psb_intel_init_bios</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">psb_intel_destroy_bios</span><span class="p">(</span><span class="k">struct</span> <span class="n">drm_device</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * Driver&lt;-&gt;VBIOS interaction occurs through scratch bits in</span>
<span class="cm"> * GR18 &amp; SWF*.</span>
<span class="cm"> */</span>

<span class="cm">/* GR18 bits are set on display switch and hotkey events */</span>
<span class="cp">#define GR18_DRIVER_SWITCH_EN	(1&lt;&lt;7) </span><span class="cm">/* 0: VBIOS control, 1: driver control */</span><span class="cp"></span>
<span class="cp">#define GR18_HOTKEY_MASK	0x78 </span><span class="cm">/* See also SWF4 15:0 */</span><span class="cp"></span>
<span class="cp">#define   GR18_HK_NONE		(0x0&lt;&lt;3)</span>
<span class="cp">#define   GR18_HK_LFP_STRETCH	(0x1&lt;&lt;3)</span>
<span class="cp">#define   GR18_HK_TOGGLE_DISP	(0x2&lt;&lt;3)</span>
<span class="cp">#define   GR18_HK_DISP_SWITCH	(0x4&lt;&lt;3) </span><span class="cm">/* see SWF14 15:0 for what to enable */</span><span class="cp"></span>
<span class="cp">#define   GR18_HK_POPUP_DISABLED (0x6&lt;&lt;3)</span>
<span class="cp">#define   GR18_HK_POPUP_ENABLED	(0x7&lt;&lt;3)</span>
<span class="cp">#define   GR18_HK_PFIT		(0x8&lt;&lt;3)</span>
<span class="cp">#define   GR18_HK_APM_CHANGE	(0xa&lt;&lt;3)</span>
<span class="cp">#define   GR18_HK_MULTIPLE	(0xc&lt;&lt;3)</span>
<span class="cp">#define GR18_USER_INT_EN	(1&lt;&lt;2)</span>
<span class="cp">#define GR18_A0000_FLUSH_EN	(1&lt;&lt;1)</span>
<span class="cp">#define GR18_SMM_EN		(1&lt;&lt;0)</span>

<span class="cm">/* Set by driver, cleared by VBIOS */</span>
<span class="cp">#define SWF00_YRES_SHIFT	16</span>
<span class="cp">#define SWF00_XRES_SHIFT	0</span>
<span class="cp">#define SWF00_RES_MASK		0xffff</span>

<span class="cm">/* Set by VBIOS at boot time and driver at runtime */</span>
<span class="cp">#define SWF01_TV2_FORMAT_SHIFT	8</span>
<span class="cp">#define SWF01_TV1_FORMAT_SHIFT	0</span>
<span class="cp">#define SWF01_TV_FORMAT_MASK	0xffff</span>

<span class="cp">#define SWF10_VBIOS_BLC_I2C_EN	(1&lt;&lt;29)</span>
<span class="cp">#define SWF10_GTT_OVERRIDE_EN	(1&lt;&lt;28)</span>
<span class="cp">#define SWF10_LFP_DPMS_OVR	(1&lt;&lt;27) </span><span class="cm">/* override DPMS on display switch */</span><span class="cp"></span>
<span class="cp">#define SWF10_ACTIVE_TOGGLE_LIST_MASK (7&lt;&lt;24)</span>
<span class="cp">#define   SWF10_OLD_TOGGLE	0x0</span>
<span class="cp">#define   SWF10_TOGGLE_LIST_1	0x1</span>
<span class="cp">#define   SWF10_TOGGLE_LIST_2	0x2</span>
<span class="cp">#define   SWF10_TOGGLE_LIST_3	0x3</span>
<span class="cp">#define   SWF10_TOGGLE_LIST_4	0x4</span>
<span class="cp">#define SWF10_PANNING_EN	(1&lt;&lt;23)</span>
<span class="cp">#define SWF10_DRIVER_LOADED	(1&lt;&lt;22)</span>
<span class="cp">#define SWF10_EXTENDED_DESKTOP	(1&lt;&lt;21)</span>
<span class="cp">#define SWF10_EXCLUSIVE_MODE	(1&lt;&lt;20)</span>
<span class="cp">#define SWF10_OVERLAY_EN	(1&lt;&lt;19)</span>
<span class="cp">#define SWF10_PLANEB_HOLDOFF	(1&lt;&lt;18)</span>
<span class="cp">#define SWF10_PLANEA_HOLDOFF	(1&lt;&lt;17)</span>
<span class="cp">#define SWF10_VGA_HOLDOFF	(1&lt;&lt;16)</span>
<span class="cp">#define SWF10_ACTIVE_DISP_MASK	0xffff</span>
<span class="cp">#define   SWF10_PIPEB_LFP2	(1&lt;&lt;15)</span>
<span class="cp">#define   SWF10_PIPEB_EFP2	(1&lt;&lt;14)</span>
<span class="cp">#define   SWF10_PIPEB_TV2	(1&lt;&lt;13)</span>
<span class="cp">#define   SWF10_PIPEB_CRT2	(1&lt;&lt;12)</span>
<span class="cp">#define   SWF10_PIPEB_LFP	(1&lt;&lt;11)</span>
<span class="cp">#define   SWF10_PIPEB_EFP	(1&lt;&lt;10)</span>
<span class="cp">#define   SWF10_PIPEB_TV	(1&lt;&lt;9)</span>
<span class="cp">#define   SWF10_PIPEB_CRT	(1&lt;&lt;8)</span>
<span class="cp">#define   SWF10_PIPEA_LFP2	(1&lt;&lt;7)</span>
<span class="cp">#define   SWF10_PIPEA_EFP2	(1&lt;&lt;6)</span>
<span class="cp">#define   SWF10_PIPEA_TV2	(1&lt;&lt;5)</span>
<span class="cp">#define   SWF10_PIPEA_CRT2	(1&lt;&lt;4)</span>
<span class="cp">#define   SWF10_PIPEA_LFP	(1&lt;&lt;3)</span>
<span class="cp">#define   SWF10_PIPEA_EFP	(1&lt;&lt;2)</span>
<span class="cp">#define   SWF10_PIPEA_TV	(1&lt;&lt;1)</span>
<span class="cp">#define   SWF10_PIPEA_CRT	(1&lt;&lt;0)</span>

<span class="cp">#define SWF11_MEMORY_SIZE_SHIFT	16</span>
<span class="cp">#define SWF11_SV_TEST_EN	(1&lt;&lt;15)</span>
<span class="cp">#define SWF11_IS_AGP		(1&lt;&lt;14)</span>
<span class="cp">#define SWF11_DISPLAY_HOLDOFF	(1&lt;&lt;13)</span>
<span class="cp">#define SWF11_DPMS_REDUCED	(1&lt;&lt;12)</span>
<span class="cp">#define SWF11_IS_VBE_MODE	(1&lt;&lt;11)</span>
<span class="cp">#define SWF11_PIPEB_ACCESS	(1&lt;&lt;10) </span><span class="cm">/* 0 here means pipe a */</span><span class="cp"></span>
<span class="cp">#define SWF11_DPMS_MASK		0x07</span>
<span class="cp">#define   SWF11_DPMS_OFF	(1&lt;&lt;2)</span>
<span class="cp">#define   SWF11_DPMS_SUSPEND	(1&lt;&lt;1)</span>
<span class="cp">#define   SWF11_DPMS_STANDBY	(1&lt;&lt;0)</span>
<span class="cp">#define   SWF11_DPMS_ON		0</span>

<span class="cp">#define SWF14_GFX_PFIT_EN	(1&lt;&lt;31)</span>
<span class="cp">#define SWF14_TEXT_PFIT_EN	(1&lt;&lt;30)</span>
<span class="cp">#define SWF14_LID_STATUS_CLOSED	(1&lt;&lt;29) </span><span class="cm">/* 0 here means open */</span><span class="cp"></span>
<span class="cp">#define SWF14_POPUP_EN		(1&lt;&lt;28)</span>
<span class="cp">#define SWF14_DISPLAY_HOLDOFF	(1&lt;&lt;27)</span>
<span class="cp">#define SWF14_DISP_DETECT_EN	(1&lt;&lt;26)</span>
<span class="cp">#define SWF14_DOCKING_STATUS_DOCKED (1&lt;&lt;25) </span><span class="cm">/* 0 here means undocked */</span><span class="cp"></span>
<span class="cp">#define SWF14_DRIVER_STATUS	(1&lt;&lt;24)</span>
<span class="cp">#define SWF14_OS_TYPE_WIN9X	(1&lt;&lt;23)</span>
<span class="cp">#define SWF14_OS_TYPE_WINNT	(1&lt;&lt;22)</span>
<span class="cm">/* 21:19 rsvd */</span>
<span class="cp">#define SWF14_PM_TYPE_MASK	0x00070000</span>
<span class="cp">#define   SWF14_PM_ACPI_VIDEO	(0x4 &lt;&lt; 16)</span>
<span class="cp">#define   SWF14_PM_ACPI		(0x3 &lt;&lt; 16)</span>
<span class="cp">#define   SWF14_PM_APM_12	(0x2 &lt;&lt; 16)</span>
<span class="cp">#define   SWF14_PM_APM_11	(0x1 &lt;&lt; 16)</span>
<span class="cp">#define SWF14_HK_REQUEST_MASK	0x0000ffff </span><span class="cm">/* see GR18 6:3 for event type */</span><span class="cp"></span>
	  <span class="cm">/* if GR18 indicates a display switch */</span>
<span class="cp">#define   SWF14_DS_PIPEB_LFP2_EN (1&lt;&lt;15)</span>
<span class="cp">#define   SWF14_DS_PIPEB_EFP2_EN (1&lt;&lt;14)</span>
<span class="cp">#define   SWF14_DS_PIPEB_TV2_EN  (1&lt;&lt;13)</span>
<span class="cp">#define   SWF14_DS_PIPEB_CRT2_EN (1&lt;&lt;12)</span>
<span class="cp">#define   SWF14_DS_PIPEB_LFP_EN  (1&lt;&lt;11)</span>
<span class="cp">#define   SWF14_DS_PIPEB_EFP_EN  (1&lt;&lt;10)</span>
<span class="cp">#define   SWF14_DS_PIPEB_TV_EN	 (1&lt;&lt;9)</span>
<span class="cp">#define   SWF14_DS_PIPEB_CRT_EN  (1&lt;&lt;8)</span>
<span class="cp">#define   SWF14_DS_PIPEA_LFP2_EN (1&lt;&lt;7)</span>
<span class="cp">#define   SWF14_DS_PIPEA_EFP2_EN (1&lt;&lt;6)</span>
<span class="cp">#define   SWF14_DS_PIPEA_TV2_EN  (1&lt;&lt;5)</span>
<span class="cp">#define   SWF14_DS_PIPEA_CRT2_EN (1&lt;&lt;4)</span>
<span class="cp">#define   SWF14_DS_PIPEA_LFP_EN  (1&lt;&lt;3)</span>
<span class="cp">#define   SWF14_DS_PIPEA_EFP_EN  (1&lt;&lt;2)</span>
<span class="cp">#define   SWF14_DS_PIPEA_TV_EN	 (1&lt;&lt;1)</span>
<span class="cp">#define   SWF14_DS_PIPEA_CRT_EN  (1&lt;&lt;0)</span>
	  <span class="cm">/* if GR18 indicates a panel fitting request */</span>
<span class="cp">#define   SWF14_PFIT_EN		(1&lt;&lt;0) </span><span class="cm">/* 0 means disable */</span><span class="cp"></span>
	  <span class="cm">/* if GR18 indicates an APM change request */</span>
<span class="cp">#define   SWF14_APM_HIBERNATE	0x4</span>
<span class="cp">#define   SWF14_APM_SUSPEND	0x3</span>
<span class="cp">#define   SWF14_APM_STANDBY	0x1</span>
<span class="cp">#define   SWF14_APM_RESTORE	0x0</span>

<span class="cm">/* Add the device class for LFP, TV, HDMI */</span>
<span class="cp">#define	 DEVICE_TYPE_INT_LFP	0x1022</span>
<span class="cp">#define	 DEVICE_TYPE_INT_TV	0x1009</span>
<span class="cp">#define	 DEVICE_TYPE_HDMI	0x60D2</span>
<span class="cp">#define	 DEVICE_TYPE_DP		0x68C6</span>
<span class="cp">#define	 DEVICE_TYPE_eDP	0x78C6</span>

<span class="cm">/* define the DVO port for HDMI output type */</span>
<span class="cp">#define		DVO_B		1</span>
<span class="cp">#define		DVO_C		2</span>
<span class="cp">#define		DVO_D		3</span>

<span class="cm">/* define the PORT for DP output type */</span>
<span class="cp">#define		PORT_IDPB	7</span>
<span class="cp">#define		PORT_IDPC	8</span>
<span class="cp">#define		PORT_IDPD	9</span>

<span class="cp">#endif </span><span class="cm">/* _I830_BIOS_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
