d | vga |  | 4 items |  | Takashi Iwai | tiwai@suse.de | 1339236883 |  | vga_switcheroo: Enable/disable audio clients at the right time  The audio clients have to be disabled before disabling the VGA and switching.  Similarly, enabling the audio client should be done at last.  Otherwise the audio-side operation stalls, eventually leading to Oops or lockups.  Tested-by: JÃ¶rg-Volker Peetz <jvpeetz@web.de> Acked-by: Dave Airlie <airlied@redhat.com> Signed-off-by: Takashi Iwai <tiwai@suse.de>
d | drm |  | 63 items |  | Daniel Vetter | daniel.vetter@ffwll.ch | 1341310728 |  | drm/i915: kick any firmware framebuffers before claiming the gtt  Especially vesafb likes to map everything as uc- (yikes), and if that mapping hangs around still while we try to map the gtt as wc the kernel will downgrade our request to uc-, resulting in abyssal performance.  Unfortunately we can't do this as early as readon does (i.e. as the first thing we do when initializing the hw) because our fb/mmio space region moves around on a per-gen basis. So I've had to move it below the gtt initialization, but that seems to work, too. The important thing is that we do this before we set up the gtt wc mapping.  Now an altogether different question is why people compile their kernels with vesafb enabled, but I guess making things just work isn't bad per se ...  v2: - s/radeondrmfb/inteldrmfb/ - fix up error handling  v3: Kill #ifdef X86, this is Intel after all. Noticed by Ben Widawsky.  v4: Jani Nikula complained about the pointless bool primary initialization.  v5: Don't oops if we can't allocate, noticed by Chris Wilson.  v6: Resolve conflicts with agp rework and fixup whitespace.  This is commit e188719a2891f01b3100d in drm-next.  Backport to 3.5 -fixes queue requested by Dave Airlie - due to grub using vesa on fedora their initrd seems to load vesafb before loading the real kms driver. So tons more people actually experience a dead-slow gpu. Hence also the Cc: stable.  Cc: stable@vger.kernel.org Reported-and-tested-by: "Kilarski, Bernard R" <bernard.r.kilarski@intel.com> Reviewed-by: Chris Wilson <chris@chris-wilson.co.uk> Signed-off-by: Daniel Vetter <daniel.vetter@ffwll.ch> Signed-off-by: Dave Airlie <airlied@redhat.com>
d | stub |  | 3 items |  | Konstantin Khlebnikov | khlebnikov@openvz.org | 1302649825 |  | i915: select VIDEO_OUTPUT_CONTROL for ACPI_VIDEO  fix Kconfig warning:  (DRM_I915 && STUB_POULSBO) selects ACPI_VIDEO which has unmet direct dependencies (ACPI && X86 && BACKLIGHT_CLASS_DEVICE && VIDEO_OUTPUT_CONTROL && INPUT)  Signed-off-by: Konstantin Khlebnikov <khlebnikov@openvz.org> Signed-off-by: Dave Airlie <airlied@redhat.com>
f | Makefile | g | 27B |  | Lee, Chun-Yi | joeyli.kernel@gmail.com | 1288054813 |  | gpu: Add Intel GMA500(Poulsbo) Stub Driver  Currently, there have no GMA500(Poulsbo) native video driver to support intel opregion. So, use this stub driver to enable the acpi backlight control sysfs entry files by requrest acpi_video_register.  [airlied: fix warnings]  Signed-off-by: Lee, Chun-Yi <jlee@novell.com> Signed-off-by: Dave Airlie <airlied@redhat.com>
