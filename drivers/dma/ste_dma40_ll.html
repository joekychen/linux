<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › dma › ste_dma40_ll.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>ste_dma40_ll.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (C) ST-Ericsson SA 2007-2010</span>
<span class="cm"> * Author: Per Friden &lt;per.friden@stericsson.com&gt; for ST-Ericsson SA</span>
<span class="cm"> * Author: Jonas Aaberg &lt;jonas.aberg@stericsson.com&gt; for ST-Ericsson SA</span>
<span class="cm"> * License terms: GNU General Public License (GPL) version 2</span>
<span class="cm"> */</span>
<span class="cp">#ifndef STE_DMA40_LL_H</span>
<span class="cp">#define STE_DMA40_LL_H</span>

<span class="cp">#define D40_DREG_PCBASE		0x400</span>
<span class="cp">#define D40_DREG_PCDELTA	(8 * 4)</span>
<span class="cp">#define D40_LLI_ALIGN		16 </span><span class="cm">/* LLI alignment must be 16 bytes. */</span><span class="cp"></span>

<span class="cp">#define D40_LCPA_CHAN_SIZE 32</span>
<span class="cp">#define D40_LCPA_CHAN_DST_DELTA 16</span>

<span class="cp">#define D40_TYPE_TO_GROUP(type) (type / 16)</span>
<span class="cp">#define D40_TYPE_TO_EVENT(type) (type % 16)</span>
<span class="cp">#define D40_GROUP_SIZE 8</span>
<span class="cp">#define D40_PHYS_TO_GROUP(phys) ((phys &amp; (D40_GROUP_SIZE - 1)) / 2)</span>

<span class="cm">/* Most bits of the CFG register are the same in log as in phy mode */</span>
<span class="cp">#define D40_SREG_CFG_MST_POS		15</span>
<span class="cp">#define D40_SREG_CFG_TIM_POS		14</span>
<span class="cp">#define D40_SREG_CFG_EIM_POS		13</span>
<span class="cp">#define D40_SREG_CFG_LOG_INCR_POS	12</span>
<span class="cp">#define D40_SREG_CFG_PHY_PEN_POS	12</span>
<span class="cp">#define D40_SREG_CFG_PSIZE_POS		10</span>
<span class="cp">#define D40_SREG_CFG_ESIZE_POS		 8</span>
<span class="cp">#define D40_SREG_CFG_PRI_POS		 7</span>
<span class="cp">#define D40_SREG_CFG_LBE_POS		 6</span>
<span class="cp">#define D40_SREG_CFG_LOG_GIM_POS	 5</span>
<span class="cp">#define D40_SREG_CFG_LOG_MFU_POS	 4</span>
<span class="cp">#define D40_SREG_CFG_PHY_TM_POS		 4</span>
<span class="cp">#define D40_SREG_CFG_PHY_EVTL_POS	 0</span>


<span class="cm">/* Standard channel parameters - basic mode (element register) */</span>
<span class="cp">#define D40_SREG_ELEM_PHY_ECNT_POS	16</span>
<span class="cp">#define D40_SREG_ELEM_PHY_EIDX_POS	 0</span>

<span class="cp">#define D40_SREG_ELEM_PHY_ECNT_MASK	(0xFFFF &lt;&lt; D40_SREG_ELEM_PHY_ECNT_POS)</span>

<span class="cm">/* Standard channel parameters - basic mode (Link register) */</span>
<span class="cp">#define D40_SREG_LNK_PHY_TCP_POS	0</span>
<span class="cp">#define D40_SREG_LNK_PHY_LMP_POS	1</span>
<span class="cp">#define D40_SREG_LNK_PHY_PRE_POS	2</span>
<span class="cm">/*</span>
<span class="cm"> * Source  destination link address. Contains the</span>
<span class="cm"> * 29-bit byte word aligned address of the reload area.</span>
<span class="cm"> */</span>
<span class="cp">#define D40_SREG_LNK_PHYS_LNK_MASK	0xFFFFFFF8UL</span>

<span class="cm">/* Standard basic channel logical mode */</span>

<span class="cm">/* Element register */</span>
<span class="cp">#define D40_SREG_ELEM_LOG_ECNT_POS	16</span>
<span class="cp">#define D40_SREG_ELEM_LOG_LIDX_POS	 8</span>
<span class="cp">#define D40_SREG_ELEM_LOG_LOS_POS	 1</span>
<span class="cp">#define D40_SREG_ELEM_LOG_TCP_POS	 0</span>

<span class="cp">#define D40_SREG_ELEM_LOG_LIDX_MASK	(0xFF &lt;&lt; D40_SREG_ELEM_LOG_LIDX_POS)</span>

<span class="cm">/* Link register */</span>
<span class="cp">#define D40_EVENTLINE_POS(i)		(2 * i)</span>
<span class="cp">#define D40_EVENTLINE_MASK(i)		(0x3 &lt;&lt; D40_EVENTLINE_POS(i))</span>

<span class="cm">/* Standard basic channel logical params in memory */</span>

<span class="cm">/* LCSP0 */</span>
<span class="cp">#define D40_MEM_LCSP0_ECNT_POS		16</span>
<span class="cp">#define D40_MEM_LCSP0_SPTR_POS		 0</span>

<span class="cp">#define D40_MEM_LCSP0_ECNT_MASK		(0xFFFF &lt;&lt; D40_MEM_LCSP0_ECNT_POS)</span>
<span class="cp">#define D40_MEM_LCSP0_SPTR_MASK		(0xFFFF &lt;&lt; D40_MEM_LCSP0_SPTR_POS)</span>

<span class="cm">/* LCSP1 */</span>
<span class="cp">#define D40_MEM_LCSP1_SPTR_POS		16</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_MST_POS	15</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_TIM_POS	14</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_EIM_POS	13</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_INCR_POS	12</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_PSIZE_POS	10</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_ESIZE_POS	 8</span>
<span class="cp">#define D40_MEM_LCSP1_SLOS_POS		 1</span>
<span class="cp">#define D40_MEM_LCSP1_STCP_POS		 0</span>

<span class="cp">#define D40_MEM_LCSP1_SPTR_MASK		(0xFFFF &lt;&lt; D40_MEM_LCSP1_SPTR_POS)</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_TIM_MASK	(0x1 &lt;&lt; D40_MEM_LCSP1_SCFG_TIM_POS)</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_INCR_MASK	(0x1 &lt;&lt; D40_MEM_LCSP1_SCFG_INCR_POS)</span>
<span class="cp">#define D40_MEM_LCSP1_SCFG_PSIZE_MASK	(0x3 &lt;&lt; D40_MEM_LCSP1_SCFG_PSIZE_POS)</span>
<span class="cp">#define D40_MEM_LCSP1_SLOS_MASK		(0x7F &lt;&lt; D40_MEM_LCSP1_SLOS_POS)</span>
<span class="cp">#define D40_MEM_LCSP1_STCP_MASK		(0x1 &lt;&lt; D40_MEM_LCSP1_STCP_POS)</span>

<span class="cm">/* LCSP2 */</span>
<span class="cp">#define D40_MEM_LCSP2_ECNT_POS		16</span>

<span class="cp">#define D40_MEM_LCSP2_ECNT_MASK		(0xFFFF &lt;&lt; D40_MEM_LCSP2_ECNT_POS)</span>

<span class="cm">/* LCSP3 */</span>
<span class="cp">#define D40_MEM_LCSP3_DCFG_MST_POS	15</span>
<span class="cp">#define D40_MEM_LCSP3_DCFG_TIM_POS	14</span>
<span class="cp">#define D40_MEM_LCSP3_DCFG_EIM_POS	13</span>
<span class="cp">#define D40_MEM_LCSP3_DCFG_INCR_POS	12</span>
<span class="cp">#define D40_MEM_LCSP3_DCFG_PSIZE_POS	10</span>
<span class="cp">#define D40_MEM_LCSP3_DCFG_ESIZE_POS	 8</span>
<span class="cp">#define D40_MEM_LCSP3_DLOS_POS		 1</span>
<span class="cp">#define D40_MEM_LCSP3_DTCP_POS		 0</span>

<span class="cp">#define D40_MEM_LCSP3_DLOS_MASK		(0x7F &lt;&lt; D40_MEM_LCSP3_DLOS_POS)</span>
<span class="cp">#define D40_MEM_LCSP3_DTCP_MASK		(0x1 &lt;&lt; D40_MEM_LCSP3_DTCP_POS)</span>


<span class="cm">/* Standard channel parameter register offsets */</span>
<span class="cp">#define D40_CHAN_REG_SSCFG	0x00</span>
<span class="cp">#define D40_CHAN_REG_SSELT	0x04</span>
<span class="cp">#define D40_CHAN_REG_SSPTR	0x08</span>
<span class="cp">#define D40_CHAN_REG_SSLNK	0x0C</span>
<span class="cp">#define D40_CHAN_REG_SDCFG	0x10</span>
<span class="cp">#define D40_CHAN_REG_SDELT	0x14</span>
<span class="cp">#define D40_CHAN_REG_SDPTR	0x18</span>
<span class="cp">#define D40_CHAN_REG_SDLNK	0x1C</span>

<span class="cm">/* DMA Register Offsets */</span>
<span class="cp">#define D40_DREG_GCC		0x000</span>
<span class="cp">#define D40_DREG_GCC_ENA	0x1</span>
<span class="cm">/* This assumes that there are only 4 event groups */</span>
<span class="cp">#define D40_DREG_GCC_ENABLE_ALL	0xff01</span>
<span class="cp">#define D40_DREG_GCC_EVTGRP_POS 8</span>
<span class="cp">#define D40_DREG_GCC_SRC 0</span>
<span class="cp">#define D40_DREG_GCC_DST 1</span>
<span class="cp">#define D40_DREG_GCC_EVTGRP_ENA(x, y) \</span>
<span class="cp">	(1 &lt;&lt; (D40_DREG_GCC_EVTGRP_POS + 2 * x + y))</span>

<span class="cp">#define D40_DREG_PRTYP		0x004</span>
<span class="cp">#define D40_DREG_PRSME		0x008</span>
<span class="cp">#define D40_DREG_PRSMO		0x00C</span>
<span class="cp">#define D40_DREG_PRMSE		0x010</span>
<span class="cp">#define D40_DREG_PRMSO		0x014</span>
<span class="cp">#define D40_DREG_PRMOE		0x018</span>
<span class="cp">#define D40_DREG_PRMOO		0x01C</span>
<span class="cp">#define D40_DREG_PRMO_PCHAN_BASIC		0x1</span>
<span class="cp">#define D40_DREG_PRMO_PCHAN_MODULO		0x2</span>
<span class="cp">#define D40_DREG_PRMO_PCHAN_DOUBLE_DST		0x3</span>
<span class="cp">#define D40_DREG_PRMO_LCHAN_SRC_PHY_DST_LOG	0x1</span>
<span class="cp">#define D40_DREG_PRMO_LCHAN_SRC_LOG_DST_PHY	0x2</span>
<span class="cp">#define D40_DREG_PRMO_LCHAN_SRC_LOG_DST_LOG	0x3</span>

<span class="cp">#define D40_DREG_LCPA		0x020</span>
<span class="cp">#define D40_DREG_LCLA		0x024</span>
<span class="cp">#define D40_DREG_ACTIVE		0x050</span>
<span class="cp">#define D40_DREG_ACTIVO		0x054</span>
<span class="cp">#define D40_DREG_FSEB1		0x058</span>
<span class="cp">#define D40_DREG_FSEB2		0x05C</span>
<span class="cp">#define D40_DREG_PCMIS		0x060</span>
<span class="cp">#define D40_DREG_PCICR		0x064</span>
<span class="cp">#define D40_DREG_PCTIS		0x068</span>
<span class="cp">#define D40_DREG_PCEIS		0x06C</span>
<span class="cp">#define D40_DREG_LCMIS0		0x080</span>
<span class="cp">#define D40_DREG_LCMIS1		0x084</span>
<span class="cp">#define D40_DREG_LCMIS2		0x088</span>
<span class="cp">#define D40_DREG_LCMIS3		0x08C</span>
<span class="cp">#define D40_DREG_LCICR0		0x090</span>
<span class="cp">#define D40_DREG_LCICR1		0x094</span>
<span class="cp">#define D40_DREG_LCICR2		0x098</span>
<span class="cp">#define D40_DREG_LCICR3		0x09C</span>
<span class="cp">#define D40_DREG_LCTIS0		0x0A0</span>
<span class="cp">#define D40_DREG_LCTIS1		0x0A4</span>
<span class="cp">#define D40_DREG_LCTIS2		0x0A8</span>
<span class="cp">#define D40_DREG_LCTIS3		0x0AC</span>
<span class="cp">#define D40_DREG_LCEIS0		0x0B0</span>
<span class="cp">#define D40_DREG_LCEIS1		0x0B4</span>
<span class="cp">#define D40_DREG_LCEIS2		0x0B8</span>
<span class="cp">#define D40_DREG_LCEIS3		0x0BC</span>
<span class="cp">#define D40_DREG_PSEG1		0x110</span>
<span class="cp">#define D40_DREG_PSEG2		0x114</span>
<span class="cp">#define D40_DREG_PSEG3		0x118</span>
<span class="cp">#define D40_DREG_PSEG4		0x11C</span>
<span class="cp">#define D40_DREG_PCEG1		0x120</span>
<span class="cp">#define D40_DREG_PCEG2		0x124</span>
<span class="cp">#define D40_DREG_PCEG3		0x128</span>
<span class="cp">#define D40_DREG_PCEG4		0x12C</span>
<span class="cp">#define D40_DREG_RSEG1		0x130</span>
<span class="cp">#define D40_DREG_RSEG2		0x134</span>
<span class="cp">#define D40_DREG_RSEG3		0x138</span>
<span class="cp">#define D40_DREG_RSEG4		0x13C</span>
<span class="cp">#define D40_DREG_RCEG1		0x140</span>
<span class="cp">#define D40_DREG_RCEG2		0x144</span>
<span class="cp">#define D40_DREG_RCEG3		0x148</span>
<span class="cp">#define D40_DREG_RCEG4		0x14C</span>
<span class="cp">#define D40_DREG_STFU		0xFC8</span>
<span class="cp">#define D40_DREG_ICFG		0xFCC</span>
<span class="cp">#define D40_DREG_PERIPHID0	0xFE0</span>
<span class="cp">#define D40_DREG_PERIPHID1	0xFE4</span>
<span class="cp">#define D40_DREG_PERIPHID2	0xFE8</span>
<span class="cp">#define D40_DREG_PERIPHID3	0xFEC</span>
<span class="cp">#define D40_DREG_CELLID0	0xFF0</span>
<span class="cp">#define D40_DREG_CELLID1	0xFF4</span>
<span class="cp">#define D40_DREG_CELLID2	0xFF8</span>
<span class="cp">#define D40_DREG_CELLID3	0xFFC</span>

<span class="cm">/* LLI related structures */</span>

<span class="cm">/**</span>
<span class="cm"> * struct d40_phy_lli - The basic configration register for each physical</span>
<span class="cm"> * channel.</span>
<span class="cm"> *</span>
<span class="cm"> * @reg_cfg: The configuration register.</span>
<span class="cm"> * @reg_elt: The element register.</span>
<span class="cm"> * @reg_ptr: The pointer register.</span>
<span class="cm"> * @reg_lnk: The link register.</span>
<span class="cm"> *</span>
<span class="cm"> * These registers are set up for both physical and logical transfers</span>
<span class="cm"> * Note that the bit in each register means differently in logical and</span>
<span class="cm"> * physical(standard) mode.</span>
<span class="cm"> *</span>
<span class="cm"> * This struct must be 16 bytes aligned, and only contain physical registers</span>
<span class="cm"> * since it will be directly accessed by the DMA.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">d40_phy_lli</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">reg_cfg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg_elt</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg_ptr</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">reg_lnk</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct d40_phy_lli_bidir - struct for a transfer.</span>
<span class="cm"> *</span>
<span class="cm"> * @src: Register settings for src channel.</span>
<span class="cm"> * @dst: Register settings for dst channel.</span>
<span class="cm"> *</span>
<span class="cm"> * All DMA transfers have a source and a destination.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">d40_phy_lli_bidir</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">d40_phy_lli</span>	<span class="o">*</span><span class="n">src</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">d40_phy_lli</span>	<span class="o">*</span><span class="n">dst</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/**</span>
<span class="cm"> * struct d40_log_lli - logical lli configuration</span>
<span class="cm"> *</span>
<span class="cm"> * @lcsp02: Either maps to register lcsp0 if src or lcsp2 if dst.</span>
<span class="cm"> * @lcsp13: Either maps to register lcsp1 if src or lcsp3 if dst.</span>
<span class="cm"> *</span>
<span class="cm"> * This struct must be 8 bytes aligned since it will be accessed directy by</span>
<span class="cm"> * the DMA. Never add any none hw mapped registers to this struct.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">lcsp02</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">lcsp13</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct d40_log_lli_bidir - For both src and dst</span>
<span class="cm"> *</span>
<span class="cm"> * @src: pointer to src lli configuration.</span>
<span class="cm"> * @dst: pointer to dst lli configuration.</span>
<span class="cm"> *</span>
<span class="cm"> * You always have a src and a dst when doing DMA transfers.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">d40_log_lli_bidir</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">src</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">dst</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct d40_log_lli_full - LCPA layout</span>
<span class="cm"> *</span>
<span class="cm"> * @lcsp0: Logical Channel Standard Param 0 - Src.</span>
<span class="cm"> * @lcsp1: Logical Channel Standard Param 1 - Src.</span>
<span class="cm"> * @lcsp2: Logical Channel Standard Param 2 - Dst.</span>
<span class="cm"> * @lcsp3: Logical Channel Standard Param 3 - Dst.</span>
<span class="cm"> *</span>
<span class="cm"> * This struct maps to LCPA physical memory layout. Must map to</span>
<span class="cm"> * the hw.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">d40_log_lli_full</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">lcsp0</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">lcsp1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">lcsp2</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">lcsp3</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/**</span>
<span class="cm"> * struct d40_def_lcsp - Default LCSP1 and LCSP3 settings</span>
<span class="cm"> *</span>
<span class="cm"> * @lcsp3: The default configuration for dst.</span>
<span class="cm"> * @lcsp1: The default configuration for src.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">d40_def_lcsp</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">lcsp3</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">lcsp1</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Physical channels */</span>

<span class="k">enum</span> <span class="n">d40_lli_flags</span> <span class="p">{</span>
	<span class="n">LLI_ADDR_INC</span>	<span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">LLI_TERM_INT</span>	<span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">LLI_CYCLIC</span>	<span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">LLI_LAST_LINK</span>	<span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">d40_phy_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">stedma40_chan_cfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">,</span>
		 <span class="n">u32</span> <span class="o">*</span><span class="n">src_cfg</span><span class="p">,</span>
		 <span class="n">u32</span> <span class="o">*</span><span class="n">dst_cfg</span><span class="p">,</span>
		 <span class="n">bool</span> <span class="n">is_log</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">d40_log_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">stedma40_chan_cfg</span> <span class="o">*</span><span class="n">cfg</span><span class="p">,</span>
		 <span class="n">u32</span> <span class="o">*</span><span class="n">lcsp1</span><span class="p">,</span>
		 <span class="n">u32</span> <span class="o">*</span><span class="n">lcsp2</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">d40_phy_sg_to_lli</span><span class="p">(</span><span class="k">struct</span> <span class="n">scatterlist</span> <span class="o">*</span><span class="n">sg</span><span class="p">,</span>
		      <span class="kt">int</span> <span class="n">sg_len</span><span class="p">,</span>
		      <span class="n">dma_addr_t</span> <span class="n">target</span><span class="p">,</span>
		      <span class="k">struct</span> <span class="n">d40_phy_lli</span> <span class="o">*</span><span class="n">lli</span><span class="p">,</span>
		      <span class="n">dma_addr_t</span> <span class="n">lli_phys</span><span class="p">,</span>
		      <span class="n">u32</span> <span class="n">reg_cfg</span><span class="p">,</span>
		      <span class="k">struct</span> <span class="n">stedma40_half_channel_info</span> <span class="o">*</span><span class="n">info</span><span class="p">,</span>
		      <span class="k">struct</span> <span class="n">stedma40_half_channel_info</span> <span class="o">*</span><span class="n">otherinfo</span><span class="p">,</span>
		      <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">flags</span><span class="p">);</span>

<span class="cm">/* Logical channels */</span>

<span class="kt">int</span> <span class="n">d40_log_sg_to_lli</span><span class="p">(</span><span class="k">struct</span> <span class="n">scatterlist</span> <span class="o">*</span><span class="n">sg</span><span class="p">,</span>
		      <span class="kt">int</span> <span class="n">sg_len</span><span class="p">,</span>
		      <span class="n">dma_addr_t</span> <span class="n">dev_addr</span><span class="p">,</span>
		      <span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">lli_sg</span><span class="p">,</span>
		      <span class="n">u32</span> <span class="n">lcsp13</span><span class="p">,</span> <span class="cm">/* src or dst*/</span>
		      <span class="n">u32</span> <span class="n">data_width1</span><span class="p">,</span> <span class="n">u32</span> <span class="n">data_width2</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">d40_log_lli_lcpa_write</span><span class="p">(</span><span class="k">struct</span> <span class="n">d40_log_lli_full</span> <span class="o">*</span><span class="n">lcpa</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">lli_dst</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">lli_src</span><span class="p">,</span>
			    <span class="kt">int</span> <span class="n">next</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">d40_log_lli_lcla_write</span><span class="p">(</span><span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">lcla</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">lli_dst</span><span class="p">,</span>
			    <span class="k">struct</span> <span class="n">d40_log_lli</span> <span class="o">*</span><span class="n">lli_src</span><span class="p">,</span>
			    <span class="kt">int</span> <span class="n">next</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* STE_DMA40_LLI_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
