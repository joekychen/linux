<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › mfd › lpc_ich.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>lpc_ich.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  lpc_ich.c - LPC interface for Intel ICH</span>
<span class="cm"> *</span>
<span class="cm"> *  LPC bridge function of the Intel ICH contains many other</span>
<span class="cm"> *  functional units, such as Interrupt controllers, Timers,</span>
<span class="cm"> *  Power Management, System Management, GPIO, RTC, and LPC</span>
<span class="cm"> *  Configuration Registers.</span>
<span class="cm"> *</span>
<span class="cm"> *  This driver is derived from lpc_sch.</span>

<span class="cm"> *  Copyright (c) 2011 Extreme Engineering Solution, Inc.</span>
<span class="cm"> *  Author: Aaron Sierra &lt;asierra@xes-inc.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *  it under the terms of the GNU General Public License 2 as published</span>
<span class="cm"> *  by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is distributed in the hope that it will be useful,</span>
<span class="cm"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> *  GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *  You should have received a copy of the GNU General Public License</span>
<span class="cm"> *  along with this program; see the file COPYING.  If not, write to</span>
<span class="cm"> *  the Free Software Foundation, 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> *</span>
<span class="cm"> *  This driver supports the following I/O Controller hubs:</span>
<span class="cm"> *	(See the intel documentation on http://developer.intel.com.)</span>
<span class="cm"> *	document number 290655-003, 290677-014: 82801AA (ICH), 82801AB (ICHO)</span>
<span class="cm"> *	document number 290687-002, 298242-027: 82801BA (ICH2)</span>
<span class="cm"> *	document number 290733-003, 290739-013: 82801CA (ICH3-S)</span>
<span class="cm"> *	document number 290716-001, 290718-007: 82801CAM (ICH3-M)</span>
<span class="cm"> *	document number 290744-001, 290745-025: 82801DB (ICH4)</span>
<span class="cm"> *	document number 252337-001, 252663-008: 82801DBM (ICH4-M)</span>
<span class="cm"> *	document number 273599-001, 273645-002: 82801E (C-ICH)</span>
<span class="cm"> *	document number 252516-001, 252517-028: 82801EB (ICH5), 82801ER (ICH5R)</span>
<span class="cm"> *	document number 300641-004, 300884-013: 6300ESB</span>
<span class="cm"> *	document number 301473-002, 301474-026: 82801F (ICH6)</span>
<span class="cm"> *	document number 313082-001, 313075-006: 631xESB, 632xESB</span>
<span class="cm"> *	document number 307013-003, 307014-024: 82801G (ICH7)</span>
<span class="cm"> *	document number 322896-001, 322897-001: NM10</span>
<span class="cm"> *	document number 313056-003, 313057-017: 82801H (ICH8)</span>
<span class="cm"> *	document number 316972-004, 316973-012: 82801I (ICH9)</span>
<span class="cm"> *	document number 319973-002, 319974-002: 82801J (ICH10)</span>
<span class="cm"> *	document number 322169-001, 322170-003: 5 Series, 3400 Series (PCH)</span>
<span class="cm"> *	document number 320066-003, 320257-008: EP80597 (IICH)</span>
<span class="cm"> *	document number 324645-001, 324646-001: Cougar Point (CPT)</span>
<span class="cm"> *	document number TBD : Patsburg (PBG)</span>
<span class="cm"> *	document number TBD : DH89xxCC</span>
<span class="cm"> *	document number TBD : Panther Point</span>
<span class="cm"> *	document number TBD : Lynx Point</span>
<span class="cm"> */</span>

<span class="cp">#define pr_fmt(fmt) KBUILD_MODNAME &quot;: &quot; fmt</span>

<span class="cp">#include &lt;linux/init.h&gt;</span>
<span class="cp">#include &lt;linux/kernel.h&gt;</span>
<span class="cp">#include &lt;linux/module.h&gt;</span>
<span class="cp">#include &lt;linux/errno.h&gt;</span>
<span class="cp">#include &lt;linux/acpi.h&gt;</span>
<span class="cp">#include &lt;linux/pci.h&gt;</span>
<span class="cp">#include &lt;linux/mfd/core.h&gt;</span>
<span class="cp">#include &lt;linux/mfd/lpc_ich.h&gt;</span>

<span class="cp">#define ACPIBASE		0x40</span>
<span class="cp">#define ACPIBASE_GPE_OFF	0x28</span>
<span class="cp">#define ACPIBASE_GPE_END	0x2f</span>
<span class="cp">#define ACPIBASE_SMI_OFF	0x30</span>
<span class="cp">#define ACPIBASE_SMI_END	0x33</span>
<span class="cp">#define ACPIBASE_TCO_OFF	0x60</span>
<span class="cp">#define ACPIBASE_TCO_END	0x7f</span>
<span class="cp">#define ACPICTRL		0x44</span>

<span class="cp">#define ACPIBASE_GCS_OFF	0x3410</span>
<span class="cp">#define ACPIBASE_GCS_END	0x3414</span>

<span class="cp">#define GPIOBASE		0x48</span>
<span class="cp">#define GPIOCTRL		0x4C</span>

<span class="cp">#define RCBABASE		0xf0</span>

<span class="cp">#define wdt_io_res(i) wdt_res(0, i)</span>
<span class="cp">#define wdt_mem_res(i) wdt_res(ICH_RES_MEM_OFF, i)</span>
<span class="cp">#define wdt_res(b, i) (&amp;wdt_ich_res[(b) + (i)])</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">lpc_ich_acpi_save</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">lpc_ich_gpio_save</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">resource</span> <span class="n">wdt_ich_res</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* ACPI - TCO */</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">IORESOURCE_IO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="cm">/* ACPI - SMI */</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">IORESOURCE_IO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="cm">/* GCS */</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">IORESOURCE_MEM</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">resource</span> <span class="n">gpio_ich_res</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* GPIO */</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">IORESOURCE_IO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="cm">/* ACPI - GPE0 */</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">IORESOURCE_IO</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">lpc_cells</span> <span class="p">{</span>
	<span class="n">LPC_WDT</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">LPC_GPIO</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">mfd_cell</span> <span class="n">lpc_ich_cells</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="n">LPC_WDT</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;iTCO_wdt&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">num_resources</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">wdt_ich_res</span><span class="p">),</span>
		<span class="p">.</span><span class="n">resources</span> <span class="o">=</span> <span class="n">wdt_ich_res</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ignore_resource_conflicts</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_GPIO</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;gpio_ich&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">num_resources</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpio_ich_res</span><span class="p">),</span>
		<span class="p">.</span><span class="n">resources</span> <span class="o">=</span> <span class="n">gpio_ich_res</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ignore_resource_conflicts</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* chipset related info */</span>
<span class="k">enum</span> <span class="n">lpc_chipsets</span> <span class="p">{</span>
	<span class="n">LPC_ICH</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>	<span class="cm">/* ICH */</span>
	<span class="n">LPC_ICH0</span><span class="p">,</span>	<span class="cm">/* ICH0 */</span>
	<span class="n">LPC_ICH2</span><span class="p">,</span>	<span class="cm">/* ICH2 */</span>
	<span class="n">LPC_ICH2M</span><span class="p">,</span>	<span class="cm">/* ICH2-M */</span>
	<span class="n">LPC_ICH3</span><span class="p">,</span>	<span class="cm">/* ICH3-S */</span>
	<span class="n">LPC_ICH3M</span><span class="p">,</span>	<span class="cm">/* ICH3-M */</span>
	<span class="n">LPC_ICH4</span><span class="p">,</span>	<span class="cm">/* ICH4 */</span>
	<span class="n">LPC_ICH4M</span><span class="p">,</span>	<span class="cm">/* ICH4-M */</span>
	<span class="n">LPC_CICH</span><span class="p">,</span>	<span class="cm">/* C-ICH */</span>
	<span class="n">LPC_ICH5</span><span class="p">,</span>	<span class="cm">/* ICH5 &amp; ICH5R */</span>
	<span class="n">LPC_6300ESB</span><span class="p">,</span>	<span class="cm">/* 6300ESB */</span>
	<span class="n">LPC_ICH6</span><span class="p">,</span>	<span class="cm">/* ICH6 &amp; ICH6R */</span>
	<span class="n">LPC_ICH6M</span><span class="p">,</span>	<span class="cm">/* ICH6-M */</span>
	<span class="n">LPC_ICH6W</span><span class="p">,</span>	<span class="cm">/* ICH6W &amp; ICH6RW */</span>
	<span class="n">LPC_631XESB</span><span class="p">,</span>	<span class="cm">/* 631xESB/632xESB */</span>
	<span class="n">LPC_ICH7</span><span class="p">,</span>	<span class="cm">/* ICH7 &amp; ICH7R */</span>
	<span class="n">LPC_ICH7DH</span><span class="p">,</span>	<span class="cm">/* ICH7DH */</span>
	<span class="n">LPC_ICH7M</span><span class="p">,</span>	<span class="cm">/* ICH7-M &amp; ICH7-U */</span>
	<span class="n">LPC_ICH7MDH</span><span class="p">,</span>	<span class="cm">/* ICH7-M DH */</span>
	<span class="n">LPC_NM10</span><span class="p">,</span>	<span class="cm">/* NM10 */</span>
	<span class="n">LPC_ICH8</span><span class="p">,</span>	<span class="cm">/* ICH8 &amp; ICH8R */</span>
	<span class="n">LPC_ICH8DH</span><span class="p">,</span>	<span class="cm">/* ICH8DH */</span>
	<span class="n">LPC_ICH8DO</span><span class="p">,</span>	<span class="cm">/* ICH8DO */</span>
	<span class="n">LPC_ICH8M</span><span class="p">,</span>	<span class="cm">/* ICH8M */</span>
	<span class="n">LPC_ICH8ME</span><span class="p">,</span>	<span class="cm">/* ICH8M-E */</span>
	<span class="n">LPC_ICH9</span><span class="p">,</span>	<span class="cm">/* ICH9 */</span>
	<span class="n">LPC_ICH9R</span><span class="p">,</span>	<span class="cm">/* ICH9R */</span>
	<span class="n">LPC_ICH9DH</span><span class="p">,</span>	<span class="cm">/* ICH9DH */</span>
	<span class="n">LPC_ICH9DO</span><span class="p">,</span>	<span class="cm">/* ICH9DO */</span>
	<span class="n">LPC_ICH9M</span><span class="p">,</span>	<span class="cm">/* ICH9M */</span>
	<span class="n">LPC_ICH9ME</span><span class="p">,</span>	<span class="cm">/* ICH9M-E */</span>
	<span class="n">LPC_ICH10</span><span class="p">,</span>	<span class="cm">/* ICH10 */</span>
	<span class="n">LPC_ICH10R</span><span class="p">,</span>	<span class="cm">/* ICH10R */</span>
	<span class="n">LPC_ICH10D</span><span class="p">,</span>	<span class="cm">/* ICH10D */</span>
	<span class="n">LPC_ICH10DO</span><span class="p">,</span>	<span class="cm">/* ICH10DO */</span>
	<span class="n">LPC_PCH</span><span class="p">,</span>	<span class="cm">/* PCH Desktop Full Featured */</span>
	<span class="n">LPC_PCHM</span><span class="p">,</span>	<span class="cm">/* PCH Mobile Full Featured */</span>
	<span class="n">LPC_P55</span><span class="p">,</span>	<span class="cm">/* P55 */</span>
	<span class="n">LPC_PM55</span><span class="p">,</span>	<span class="cm">/* PM55 */</span>
	<span class="n">LPC_H55</span><span class="p">,</span>	<span class="cm">/* H55 */</span>
	<span class="n">LPC_QM57</span><span class="p">,</span>	<span class="cm">/* QM57 */</span>
	<span class="n">LPC_H57</span><span class="p">,</span>	<span class="cm">/* H57 */</span>
	<span class="n">LPC_HM55</span><span class="p">,</span>	<span class="cm">/* HM55 */</span>
	<span class="n">LPC_Q57</span><span class="p">,</span>	<span class="cm">/* Q57 */</span>
	<span class="n">LPC_HM57</span><span class="p">,</span>	<span class="cm">/* HM57 */</span>
	<span class="n">LPC_PCHMSFF</span><span class="p">,</span>	<span class="cm">/* PCH Mobile SFF Full Featured */</span>
	<span class="n">LPC_QS57</span><span class="p">,</span>	<span class="cm">/* QS57 */</span>
	<span class="n">LPC_3400</span><span class="p">,</span>	<span class="cm">/* 3400 */</span>
	<span class="n">LPC_3420</span><span class="p">,</span>	<span class="cm">/* 3420 */</span>
	<span class="n">LPC_3450</span><span class="p">,</span>	<span class="cm">/* 3450 */</span>
	<span class="n">LPC_EP80579</span><span class="p">,</span>	<span class="cm">/* EP80579 */</span>
	<span class="n">LPC_CPT</span><span class="p">,</span>	<span class="cm">/* Cougar Point */</span>
	<span class="n">LPC_CPTD</span><span class="p">,</span>	<span class="cm">/* Cougar Point Desktop */</span>
	<span class="n">LPC_CPTM</span><span class="p">,</span>	<span class="cm">/* Cougar Point Mobile */</span>
	<span class="n">LPC_PBG</span><span class="p">,</span>	<span class="cm">/* Patsburg */</span>
	<span class="n">LPC_DH89XXCC</span><span class="p">,</span>	<span class="cm">/* DH89xxCC */</span>
	<span class="n">LPC_PPT</span><span class="p">,</span>	<span class="cm">/* Panther Point */</span>
	<span class="n">LPC_LPT</span><span class="p">,</span>	<span class="cm">/* Lynx Point */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">lpc_ich_info</span> <span class="n">lpc_chipset_info</span><span class="p">[]</span> <span class="n">__devinitdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="n">LPC_ICH</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH0</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH0&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH2</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH2&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH2M</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH2-M&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH3-S&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH3M</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH3-M&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH4&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH4M</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH4-M&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_CICH</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;C-ICH&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH5 or ICH5R&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_6300ESB</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;6300ESB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH6 or ICH6R&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V6_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH6M</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH6-M&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V6_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH6W</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH6W or ICH6RW&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V6_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_631XESB</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;631xESB/632xESB&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V6_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH7</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH7 or ICH7R&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH7DH</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH7DH&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH7M</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH7-M or ICH7-U&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH7MDH</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH7-M DH&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_NM10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;NM10&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH8</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH8 or ICH8R&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH8DH</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH8DH&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH8DO</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH8DO&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH8M</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH8M&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH8ME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH8M-E&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V7_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH9</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH9&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V9_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH9R</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH9R&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V9_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH9DH</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH9DH&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V9_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH9DO</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH9DO&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V9_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH9M</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH9M&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V9_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH9ME</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH9M-E&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V9_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH10</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH10&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V10CONS_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH10R</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH10R&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V10CONS_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH10D</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH10D&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V10CORP_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_ICH10DO</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ICH10DO&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V10CORP_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_PCH</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;PCH Desktop Full Featured&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_PCHM</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;PCH Mobile Full Featured&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_P55</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;P55&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_PM55</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;PM55&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_H55</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;H55&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_QM57</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;QM57&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_H57</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;H57&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_HM55</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;HM55&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_Q57</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Q57&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_HM57</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;HM57&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_PCHMSFF</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;PCH Mobile SFF Full Featured&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_QS57</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;QS57&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_3400</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;3400&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_3420</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;3420&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_3450</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;3450&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_EP80579</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;EP80579&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_CPT</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Cougar Point&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_CPTD</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Cougar Point Desktop&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_CPTM</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Cougar Point Mobile&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio_version</span> <span class="o">=</span> <span class="n">ICH_V5_GPIO</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_PBG</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Patsburg&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_DH89XXCC</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;DH89xxCC&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_PPT</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Panther Point&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="n">LPC_LPT</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;Lynx Point&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">iTCO_version</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * This data only exists for exporting the supported PCI ids</span>
<span class="cm"> * via MODULE_DEVICE_TABLE.  We do not actually register a</span>
<span class="cm"> * pci_driver, because the I/O Controller Hub has also other</span>
<span class="cm"> * functions that probably will be registered by other drivers.</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="n">DEFINE_PCI_DEVICE_TABLE</span><span class="p">(</span><span class="n">lpc_ich_ids</span><span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2410</span><span class="p">),</span> <span class="n">LPC_ICH</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2420</span><span class="p">),</span> <span class="n">LPC_ICH0</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2440</span><span class="p">),</span> <span class="n">LPC_ICH2</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x244c</span><span class="p">),</span> <span class="n">LPC_ICH2M</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2480</span><span class="p">),</span> <span class="n">LPC_ICH3</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x248c</span><span class="p">),</span> <span class="n">LPC_ICH3M</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x24c0</span><span class="p">),</span> <span class="n">LPC_ICH4</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x24cc</span><span class="p">),</span> <span class="n">LPC_ICH4M</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2450</span><span class="p">),</span> <span class="n">LPC_CICH</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x24d0</span><span class="p">),</span> <span class="n">LPC_ICH5</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x25a1</span><span class="p">),</span> <span class="n">LPC_6300ESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2640</span><span class="p">),</span> <span class="n">LPC_ICH6</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2641</span><span class="p">),</span> <span class="n">LPC_ICH6M</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2642</span><span class="p">),</span> <span class="n">LPC_ICH6W</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2670</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2671</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2672</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2673</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2674</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2675</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2676</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2677</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2678</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2679</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x267a</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x267b</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x267c</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x267d</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x267e</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x267f</span><span class="p">),</span> <span class="n">LPC_631XESB</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x27b8</span><span class="p">),</span> <span class="n">LPC_ICH7</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x27b0</span><span class="p">),</span> <span class="n">LPC_ICH7DH</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x27b9</span><span class="p">),</span> <span class="n">LPC_ICH7M</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x27bd</span><span class="p">),</span> <span class="n">LPC_ICH7MDH</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x27bc</span><span class="p">),</span> <span class="n">LPC_NM10</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2810</span><span class="p">),</span> <span class="n">LPC_ICH8</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2812</span><span class="p">),</span> <span class="n">LPC_ICH8DH</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2814</span><span class="p">),</span> <span class="n">LPC_ICH8DO</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2815</span><span class="p">),</span> <span class="n">LPC_ICH8M</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2811</span><span class="p">),</span> <span class="n">LPC_ICH8ME</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2918</span><span class="p">),</span> <span class="n">LPC_ICH9</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2916</span><span class="p">),</span> <span class="n">LPC_ICH9R</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2912</span><span class="p">),</span> <span class="n">LPC_ICH9DH</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2914</span><span class="p">),</span> <span class="n">LPC_ICH9DO</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2919</span><span class="p">),</span> <span class="n">LPC_ICH9M</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2917</span><span class="p">),</span> <span class="n">LPC_ICH9ME</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3a18</span><span class="p">),</span> <span class="n">LPC_ICH10</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3a16</span><span class="p">),</span> <span class="n">LPC_ICH10R</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3a1a</span><span class="p">),</span> <span class="n">LPC_ICH10D</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3a14</span><span class="p">),</span> <span class="n">LPC_ICH10DO</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b00</span><span class="p">),</span> <span class="n">LPC_PCH</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b01</span><span class="p">),</span> <span class="n">LPC_PCHM</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b02</span><span class="p">),</span> <span class="n">LPC_P55</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b03</span><span class="p">),</span> <span class="n">LPC_PM55</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b06</span><span class="p">),</span> <span class="n">LPC_H55</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b07</span><span class="p">),</span> <span class="n">LPC_QM57</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b08</span><span class="p">),</span> <span class="n">LPC_H57</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b09</span><span class="p">),</span> <span class="n">LPC_HM55</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b0a</span><span class="p">),</span> <span class="n">LPC_Q57</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b0b</span><span class="p">),</span> <span class="n">LPC_HM57</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b0d</span><span class="p">),</span> <span class="n">LPC_PCHMSFF</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b0f</span><span class="p">),</span> <span class="n">LPC_QS57</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b12</span><span class="p">),</span> <span class="n">LPC_3400</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b14</span><span class="p">),</span> <span class="n">LPC_3420</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x3b16</span><span class="p">),</span> <span class="n">LPC_3450</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x5031</span><span class="p">),</span> <span class="n">LPC_EP80579</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c41</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c42</span><span class="p">),</span> <span class="n">LPC_CPTD</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c43</span><span class="p">),</span> <span class="n">LPC_CPTM</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c44</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c45</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c46</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c47</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c48</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c49</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c4a</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c4b</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c4c</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c4d</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c4e</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c4f</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c50</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c51</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c52</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c53</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c54</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c55</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c56</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c57</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c58</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c59</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c5a</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c5b</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c5c</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c5d</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c5e</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1c5f</span><span class="p">),</span> <span class="n">LPC_CPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1d40</span><span class="p">),</span> <span class="n">LPC_PBG</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1d41</span><span class="p">),</span> <span class="n">LPC_PBG</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x2310</span><span class="p">),</span> <span class="n">LPC_DH89XXCC</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e40</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e41</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e42</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e43</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e44</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e45</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e46</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e47</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e48</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e49</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e4a</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e4b</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e4c</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e4d</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e4e</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e4f</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e50</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e51</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e52</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e53</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e54</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e55</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e56</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e57</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e58</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e59</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e5a</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e5b</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e5c</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e5d</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e5e</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x1e5f</span><span class="p">),</span> <span class="n">LPC_PPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c40</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c41</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c42</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c43</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c44</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c45</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c46</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c47</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c48</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c49</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c4a</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c4b</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c4c</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c4d</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c4e</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c4f</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c50</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c51</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c52</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c53</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c54</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c55</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c56</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c57</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c58</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c59</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c5a</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c5b</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c5c</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c5d</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c5e</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="n">PCI_VDEVICE</span><span class="p">(</span><span class="n">INTEL</span><span class="p">,</span> <span class="mh">0x8c5f</span><span class="p">),</span> <span class="n">LPC_LPT</span><span class="p">},</span>
	<span class="p">{</span> <span class="mi">0</span><span class="p">,</span> <span class="p">},</span>			<span class="cm">/* End of list */</span>
<span class="p">};</span>
<span class="n">MODULE_DEVICE_TABLE</span><span class="p">(</span><span class="n">pci</span><span class="p">,</span> <span class="n">lpc_ich_ids</span><span class="p">);</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">lpc_ich_restore_config_space</span><span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">lpc_ich_acpi_save</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pci_write_config_byte</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">ACPICTRL</span><span class="p">,</span> <span class="n">lpc_ich_acpi_save</span><span class="p">);</span>
		<span class="n">lpc_ich_acpi_save</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">lpc_ich_gpio_save</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pci_write_config_byte</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">GPIOCTRL</span><span class="p">,</span> <span class="n">lpc_ich_gpio_save</span><span class="p">);</span>
		<span class="n">lpc_ich_gpio_save</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__devinit</span> <span class="nf">lpc_ich_enable_acpi_space</span><span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u8</span> <span class="n">reg_save</span><span class="p">;</span>

	<span class="n">pci_read_config_byte</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">ACPICTRL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">reg_save</span><span class="p">);</span>
	<span class="n">pci_write_config_byte</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">ACPICTRL</span><span class="p">,</span> <span class="n">reg_save</span> <span class="o">|</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">lpc_ich_acpi_save</span> <span class="o">=</span> <span class="n">reg_save</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__devinit</span> <span class="nf">lpc_ich_enable_gpio_space</span><span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u8</span> <span class="n">reg_save</span><span class="p">;</span>

	<span class="n">pci_read_config_byte</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">GPIOCTRL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">reg_save</span><span class="p">);</span>
	<span class="n">pci_write_config_byte</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">GPIOCTRL</span><span class="p">,</span> <span class="n">reg_save</span> <span class="o">|</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="n">lpc_ich_gpio_save</span> <span class="o">=</span> <span class="n">reg_save</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__devinit</span> <span class="nf">lpc_ich_finalize_cell</span><span class="p">(</span><span class="k">struct</span> <span class="n">mfd_cell</span> <span class="o">*</span><span class="n">cell</span><span class="p">,</span>
					<span class="k">const</span> <span class="k">struct</span> <span class="n">pci_device_id</span> <span class="o">*</span><span class="n">id</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">cell</span><span class="o">-&gt;</span><span class="n">platform_data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lpc_chipset_info</span><span class="p">[</span><span class="n">id</span><span class="o">-&gt;</span><span class="n">driver_data</span><span class="p">];</span>
	<span class="n">cell</span><span class="o">-&gt;</span><span class="n">pdata_size</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">lpc_ich_info</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__devinit</span> <span class="nf">lpc_ich_init_gpio</span><span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
				<span class="k">const</span> <span class="k">struct</span> <span class="n">pci_device_id</span> <span class="o">*</span><span class="n">id</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">base_addr_cfg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">base_addr</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">acpi_conflict</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">resource</span> <span class="o">*</span><span class="n">res</span><span class="p">;</span>

	<span class="cm">/* Setup power management base register */</span>
	<span class="n">pci_read_config_dword</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">ACPIBASE</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">base_addr_cfg</span><span class="p">);</span>
	<span class="n">base_addr</span> <span class="o">=</span> <span class="n">base_addr_cfg</span> <span class="o">&amp;</span> <span class="mh">0x0000ff80</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">base_addr</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">dev_err</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span> <span class="s">&quot;I/O space for ACPI uninitialized</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_GPIO</span><span class="p">].</span><span class="n">num_resources</span><span class="o">--</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">gpe0_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">res</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_ich_res</span><span class="p">[</span><span class="n">ICH_RES_GPE0</span><span class="p">];</span>
	<span class="n">res</span><span class="o">-&gt;</span><span class="n">start</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_GPE_OFF</span><span class="p">;</span>
	<span class="n">res</span><span class="o">-&gt;</span><span class="n">end</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_GPE_END</span><span class="p">;</span>
	<span class="n">ret</span> <span class="o">=</span> <span class="n">acpi_check_resource_conflict</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="p">{</span>
		<span class="cm">/*</span>
<span class="cm">		 * This isn&#39;t fatal for the GPIO, but we have to make sure that</span>
<span class="cm">		 * the platform_device subsystem doesn&#39;t see this resource</span>
<span class="cm">		 * or it will register an invalid region.</span>
<span class="cm">		 */</span>
		<span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_GPIO</span><span class="p">].</span><span class="n">num_resources</span><span class="o">--</span><span class="p">;</span>
		<span class="n">acpi_conflict</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">lpc_ich_enable_acpi_space</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
	<span class="p">}</span>

<span class="nl">gpe0_done:</span>
	<span class="cm">/* Setup GPIO base register */</span>
	<span class="n">pci_read_config_dword</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">GPIOBASE</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">base_addr_cfg</span><span class="p">);</span>
	<span class="n">base_addr</span> <span class="o">=</span> <span class="n">base_addr_cfg</span> <span class="o">&amp;</span> <span class="mh">0x0000ff80</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">base_addr</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">dev_err</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span> <span class="s">&quot;I/O space for GPIO uninitialized</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">gpio_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="cm">/* Older devices provide fewer GPIO and have a smaller resource size. */</span>
	<span class="n">res</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_ich_res</span><span class="p">[</span><span class="n">ICH_RES_GPIO</span><span class="p">];</span>
	<span class="n">res</span><span class="o">-&gt;</span><span class="n">start</span> <span class="o">=</span> <span class="n">base_addr</span><span class="p">;</span>
	<span class="k">switch</span> <span class="p">(</span><span class="n">lpc_chipset_info</span><span class="p">[</span><span class="n">id</span><span class="o">-&gt;</span><span class="n">driver_data</span><span class="p">].</span><span class="n">gpio_version</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="n">ICH_V5_GPIO</span>:
	<span class="k">case</span> <span class="n">ICH_V10CORP_GPIO</span>:
		<span class="n">res</span><span class="o">-&gt;</span><span class="n">end</span> <span class="o">=</span> <span class="n">res</span><span class="o">-&gt;</span><span class="n">start</span> <span class="o">+</span> <span class="mi">128</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="nl">default:</span>
		<span class="n">res</span><span class="o">-&gt;</span><span class="n">end</span> <span class="o">=</span> <span class="n">res</span><span class="o">-&gt;</span><span class="n">start</span> <span class="o">+</span> <span class="mi">64</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
		<span class="k">break</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">ret</span> <span class="o">=</span> <span class="n">acpi_check_resource_conflict</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="p">{</span>
		<span class="cm">/* this isn&#39;t necessarily fatal for the GPIO */</span>
		<span class="n">acpi_conflict</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">gpio_done</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">lpc_ich_enable_gpio_space</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="n">lpc_ich_finalize_cell</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_GPIO</span><span class="p">],</span> <span class="n">id</span><span class="p">);</span>
	<span class="n">ret</span> <span class="o">=</span> <span class="n">mfd_add_devices</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_GPIO</span><span class="p">],</span>
				<span class="mi">1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="nl">gpio_done:</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">acpi_conflict</span><span class="p">)</span>
		<span class="n">pr_warn</span><span class="p">(</span><span class="s">&quot;Resource conflict(s) found affecting %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
				<span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_GPIO</span><span class="p">].</span><span class="n">name</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__devinit</span> <span class="nf">lpc_ich_init_wdt</span><span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
				<span class="k">const</span> <span class="k">struct</span> <span class="n">pci_device_id</span> <span class="o">*</span><span class="n">id</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">base_addr_cfg</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">base_addr</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">acpi_conflict</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">resource</span> <span class="o">*</span><span class="n">res</span><span class="p">;</span>

	<span class="cm">/* Setup power management base register */</span>
	<span class="n">pci_read_config_dword</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">ACPIBASE</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">base_addr_cfg</span><span class="p">);</span>
	<span class="n">base_addr</span> <span class="o">=</span> <span class="n">base_addr_cfg</span> <span class="o">&amp;</span> <span class="mh">0x0000ff80</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">base_addr</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">dev_err</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span> <span class="s">&quot;I/O space for ACPI uninitialized</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">wdt_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">res</span> <span class="o">=</span> <span class="n">wdt_io_res</span><span class="p">(</span><span class="n">ICH_RES_IO_TCO</span><span class="p">);</span>
	<span class="n">res</span><span class="o">-&gt;</span><span class="n">start</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_TCO_OFF</span><span class="p">;</span>
	<span class="n">res</span><span class="o">-&gt;</span><span class="n">end</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_TCO_END</span><span class="p">;</span>
	<span class="n">ret</span> <span class="o">=</span> <span class="n">acpi_check_resource_conflict</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">acpi_conflict</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">wdt_done</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">res</span> <span class="o">=</span> <span class="n">wdt_io_res</span><span class="p">(</span><span class="n">ICH_RES_IO_SMI</span><span class="p">);</span>
	<span class="n">res</span><span class="o">-&gt;</span><span class="n">start</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_SMI_OFF</span><span class="p">;</span>
	<span class="n">res</span><span class="o">-&gt;</span><span class="n">end</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_SMI_END</span><span class="p">;</span>
	<span class="n">ret</span> <span class="o">=</span> <span class="n">acpi_check_resource_conflict</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">acpi_conflict</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">wdt_done</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">lpc_ich_enable_acpi_space</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>

	<span class="cm">/*</span>
<span class="cm">	 * Get the Memory-Mapped GCS register. To get access to it</span>
<span class="cm">	 * we have to read RCBA from PCI Config space 0xf0 and use</span>
<span class="cm">	 * it as base. GCS = RCBA + ICH6_GCS(0x3410).</span>
<span class="cm">	 */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">lpc_chipset_info</span><span class="p">[</span><span class="n">id</span><span class="o">-&gt;</span><span class="n">driver_data</span><span class="p">].</span><span class="n">iTCO_version</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">pci_read_config_dword</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">RCBABASE</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">base_addr_cfg</span><span class="p">);</span>
		<span class="n">base_addr</span> <span class="o">=</span> <span class="n">base_addr_cfg</span> <span class="o">&amp;</span> <span class="mh">0xffffc000</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">base_addr_cfg</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">))</span> <span class="p">{</span>
			<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;RCBA is disabled by hardware/BIOS, &quot;</span>
					<span class="s">&quot;device disabled</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
			<span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>
			<span class="k">goto</span> <span class="n">wdt_done</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">res</span> <span class="o">=</span> <span class="n">wdt_mem_res</span><span class="p">(</span><span class="n">ICH_RES_MEM_GCS</span><span class="p">);</span>
		<span class="n">res</span><span class="o">-&gt;</span><span class="n">start</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_GCS_OFF</span><span class="p">;</span>
		<span class="n">res</span><span class="o">-&gt;</span><span class="n">end</span> <span class="o">=</span> <span class="n">base_addr</span> <span class="o">+</span> <span class="n">ACPIBASE_GCS_END</span><span class="p">;</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="n">acpi_check_resource_conflict</span><span class="p">(</span><span class="n">res</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">acpi_conflict</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
			<span class="k">goto</span> <span class="n">wdt_done</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="n">lpc_ich_finalize_cell</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_WDT</span><span class="p">],</span> <span class="n">id</span><span class="p">);</span>
	<span class="n">ret</span> <span class="o">=</span> <span class="n">mfd_add_devices</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_WDT</span><span class="p">],</span>
				<span class="mi">1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="nl">wdt_done:</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">acpi_conflict</span><span class="p">)</span>
		<span class="n">pr_warn</span><span class="p">(</span><span class="s">&quot;Resource conflict(s) found affecting %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
				<span class="n">lpc_ich_cells</span><span class="p">[</span><span class="n">LPC_WDT</span><span class="p">].</span><span class="n">name</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__devinit</span> <span class="nf">lpc_ich_probe</span><span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
				<span class="k">const</span> <span class="k">struct</span> <span class="n">pci_device_id</span> <span class="o">*</span><span class="n">id</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>
	<span class="n">bool</span> <span class="n">cell_added</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>

	<span class="n">ret</span> <span class="o">=</span> <span class="n">lpc_ich_init_wdt</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">id</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ret</span><span class="p">)</span>
		<span class="n">cell_added</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="n">ret</span> <span class="o">=</span> <span class="n">lpc_ich_init_gpio</span><span class="p">(</span><span class="n">dev</span><span class="p">,</span> <span class="n">id</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ret</span><span class="p">)</span>
		<span class="n">cell_added</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * We only care if at least one or none of the cells registered</span>
<span class="cm">	 * successfully.</span>
<span class="cm">	 */</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cell_added</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">lpc_ich_restore_config_space</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__devexit</span> <span class="nf">lpc_ich_remove</span><span class="p">(</span><span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">mfd_remove_devices</span><span class="p">(</span><span class="o">&amp;</span><span class="n">dev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">);</span>
	<span class="n">lpc_ich_restore_config_space</span><span class="p">(</span><span class="n">dev</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">pci_driver</span> <span class="n">lpc_ich_driver</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;lpc_ich&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">id_table</span>	<span class="o">=</span> <span class="n">lpc_ich_ids</span><span class="p">,</span>
	<span class="p">.</span><span class="n">probe</span>		<span class="o">=</span> <span class="n">lpc_ich_probe</span><span class="p">,</span>
	<span class="p">.</span><span class="n">remove</span>		<span class="o">=</span> <span class="n">__devexit_p</span><span class="p">(</span><span class="n">lpc_ich_remove</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">__init</span> <span class="nf">lpc_ich_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">pci_register_driver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lpc_ich_driver</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__exit</span> <span class="nf">lpc_ich_exit</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">pci_unregister_driver</span><span class="p">(</span><span class="o">&amp;</span><span class="n">lpc_ich_driver</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">module_init</span><span class="p">(</span><span class="n">lpc_ich_init</span><span class="p">);</span>
<span class="n">module_exit</span><span class="p">(</span><span class="n">lpc_ich_exit</span><span class="p">);</span>

<span class="n">MODULE_AUTHOR</span><span class="p">(</span><span class="s">&quot;Aaron Sierra &lt;asierra@xes-inc.com&gt;&quot;</span><span class="p">);</span>
<span class="n">MODULE_DESCRIPTION</span><span class="p">(</span><span class="s">&quot;LPC interface for Intel ICH&quot;</span><span class="p">);</span>
<span class="n">MODULE_LICENSE</span><span class="p">(</span><span class="s">&quot;GPL&quot;</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
