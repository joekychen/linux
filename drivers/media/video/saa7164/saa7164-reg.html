<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › media › video › saa7164 › saa7164-reg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>saa7164-reg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  Driver for the NXP SAA7164 PCIe bridge</span>
<span class="cm"> *</span>
<span class="cm"> *  Copyright (c) 2010 Steven Toth &lt;stoth@kernellabs.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *  it under the terms of the GNU General Public License as published by</span>
<span class="cm"> *  the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> *  (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is distributed in the hope that it will be useful,</span>
<span class="cm"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> *</span>
<span class="cm"> *  GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *  You should have received a copy of the GNU General Public License</span>
<span class="cm"> *  along with this program; if not, write to the Free Software</span>
<span class="cm"> *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> */</span>

<span class="cm">/* TODO: Retest the driver with errors expressed as negatives */</span>

<span class="cm">/* Result codes */</span>
<span class="cp">#define SAA_OK				0</span>
<span class="cp">#define SAA_ERR_BAD_PARAMETER		0x09</span>
<span class="cp">#define SAA_ERR_NO_RESOURCES		0x0c</span>
<span class="cp">#define SAA_ERR_NOT_SUPPORTED		0x13</span>
<span class="cp">#define SAA_ERR_BUSY			0x15</span>
<span class="cp">#define SAA_ERR_READ			0x17</span>
<span class="cp">#define SAA_ERR_TIMEOUT			0x1f</span>
<span class="cp">#define SAA_ERR_OVERFLOW		0x20</span>
<span class="cp">#define SAA_ERR_EMPTY			0x22</span>
<span class="cp">#define SAA_ERR_NOT_STARTED		0x23</span>
<span class="cp">#define SAA_ERR_ALREADY_STARTED		0x24</span>
<span class="cp">#define SAA_ERR_NOT_STOPPED		0x25</span>
<span class="cp">#define SAA_ERR_ALREADY_STOPPED		0x26</span>
<span class="cp">#define SAA_ERR_INVALID_COMMAND		0x3e</span>
<span class="cp">#define SAA_ERR_NULL_PACKET		0x59</span>

<span class="cm">/* Errors and flags from the silicon */</span>
<span class="cp">#define PVC_ERRORCODE_UNKNOWN		0x00</span>
<span class="cp">#define PVC_ERRORCODE_INVALID_COMMAND	0x01</span>
<span class="cp">#define PVC_ERRORCODE_INVALID_CONTROL	0x02</span>
<span class="cp">#define PVC_ERRORCODE_INVALID_DATA	0x03</span>
<span class="cp">#define PVC_ERRORCODE_TIMEOUT		0x04</span>
<span class="cp">#define PVC_ERRORCODE_NAK		0x05</span>
<span class="cp">#define PVC_RESPONSEFLAG_ERROR		0x01</span>
<span class="cp">#define PVC_RESPONSEFLAG_OVERFLOW	0x02</span>
<span class="cp">#define PVC_RESPONSEFLAG_RESET		0x04</span>
<span class="cp">#define PVC_RESPONSEFLAG_INTERFACE	0x08</span>
<span class="cp">#define PVC_RESPONSEFLAG_CONTINUED	0x10</span>
<span class="cp">#define PVC_CMDFLAG_INTERRUPT		0x02</span>
<span class="cp">#define PVC_CMDFLAG_INTERFACE		0x04</span>
<span class="cp">#define PVC_CMDFLAG_SERIALIZE		0x08</span>
<span class="cp">#define PVC_CMDFLAG_CONTINUE		0x10</span>

<span class="cm">/* Silicon Commands */</span>
<span class="cp">#define GET_DESCRIPTORS_CONTROL		0x01</span>
<span class="cp">#define GET_STRING_CONTROL		0x03</span>
<span class="cp">#define GET_LANGUAGE_CONTROL		0x05</span>
<span class="cp">#define SET_POWER_CONTROL		0x07</span>
<span class="cp">#define GET_FW_STATUS_CONTROL		0x08</span>
<span class="cp">#define GET_FW_VERSION_CONTROL		0x09</span>
<span class="cp">#define SET_DEBUG_LEVEL_CONTROL		0x0B</span>
<span class="cp">#define GET_DEBUG_DATA_CONTROL		0x0C</span>
<span class="cp">#define GET_PRODUCTION_INFO_CONTROL	0x0D</span>

<span class="cm">/* cmd defines */</span>
<span class="cp">#define SAA_CMDFLAG_CONTINUE		0x10</span>
<span class="cp">#define SAA_CMD_MAX_MSG_UNITS		256</span>

<span class="cm">/* Some defines */</span>
<span class="cp">#define SAA_BUS_TIMEOUT			50</span>
<span class="cp">#define SAA_DEVICE_TIMEOUT		5000</span>
<span class="cp">#define SAA_DEVICE_MAXREQUESTSIZE	256</span>

<span class="cm">/* Register addresses */</span>
<span class="cp">#define SAA_DEVICE_VERSION		0x30</span>
<span class="cp">#define SAA_DOWNLOAD_FLAGS		0x34</span>
<span class="cp">#define SAA_DOWNLOAD_FLAG		0x34</span>
<span class="cp">#define SAA_DOWNLOAD_FLAG_ACK		0x38</span>
<span class="cp">#define SAA_DATAREADY_FLAG		0x3C</span>
<span class="cp">#define SAA_DATAREADY_FLAG_ACK		0x40</span>

<span class="cm">/* Boot loader register and bit definitions */</span>
<span class="cp">#define SAA_BOOTLOADERERROR_FLAGS	0x44</span>
<span class="cp">#define SAA_DEVICE_IMAGE_SEARCHING	0x01</span>
<span class="cp">#define SAA_DEVICE_IMAGE_LOADING	0x02</span>
<span class="cp">#define SAA_DEVICE_IMAGE_BOOTING	0x03</span>
<span class="cp">#define SAA_DEVICE_IMAGE_CORRUPT	0x04</span>
<span class="cp">#define SAA_DEVICE_MEMORY_CORRUPT	0x08</span>
<span class="cp">#define SAA_DEVICE_NO_IMAGE		0x10</span>

<span class="cm">/* Register addresses */</span>
<span class="cp">#define SAA_DEVICE_2ND_VERSION			0x50</span>
<span class="cp">#define SAA_DEVICE_2ND_DOWNLOADFLAG_OFFSET	0x54</span>

<span class="cm">/* Register addresses */</span>
<span class="cp">#define SAA_SECONDSTAGEERROR_FLAGS		0x64</span>

<span class="cm">/* Bootloader regs and flags */</span>
<span class="cp">#define SAA_DEVICE_DEADLOCK_DETECTED_OFFSET	0x6C</span>
<span class="cp">#define SAA_DEVICE_DEADLOCK_DETECTED		0xDEADDEAD</span>

<span class="cm">/* Basic firmware status registers */</span>
<span class="cp">#define SAA_DEVICE_SYSINIT_STATUS_OFFSET	0x70</span>
<span class="cp">#define SAA_DEVICE_SYSINIT_STATUS		0x70</span>
<span class="cp">#define SAA_DEVICE_SYSINIT_MODE			0x74</span>
<span class="cp">#define SAA_DEVICE_SYSINIT_SPEC			0x78</span>
<span class="cp">#define SAA_DEVICE_SYSINIT_INST			0x7C</span>
<span class="cp">#define SAA_DEVICE_SYSINIT_CPULOAD		0x80</span>
<span class="cp">#define SAA_DEVICE_SYSINIT_REMAINHEAP		0x84</span>

<span class="cp">#define SAA_DEVICE_DOWNLOAD_OFFSET		0x1000</span>
<span class="cp">#define SAA_DEVICE_BUFFERBLOCKSIZE		0x1000</span>

<span class="cp">#define SAA_DEVICE_2ND_BUFFERBLOCKSIZE		0x100000</span>
<span class="cp">#define SAA_DEVICE_2ND_DOWNLOAD_OFFSET		0x200000</span>

<span class="cm">/* Descriptors */</span>
<span class="cp">#define CS_INTERFACE	0x24</span>

<span class="cm">/* Descriptor subtypes */</span>
<span class="cp">#define VC_INPUT_TERMINAL		0x02</span>
<span class="cp">#define VC_OUTPUT_TERMINAL		0x03</span>
<span class="cp">#define VC_SELECTOR_UNIT		0x04</span>
<span class="cp">#define VC_PROCESSING_UNIT		0x05</span>
<span class="cp">#define FEATURE_UNIT			0x06</span>
<span class="cp">#define TUNER_UNIT			0x09</span>
<span class="cp">#define ENCODER_UNIT			0x0A</span>
<span class="cp">#define EXTENSION_UNIT			0x0B</span>
<span class="cp">#define VC_TUNER_PATH			0xF0</span>
<span class="cp">#define PVC_HARDWARE_DESCRIPTOR		0xF1</span>
<span class="cp">#define PVC_INTERFACE_DESCRIPTOR	0xF2</span>
<span class="cp">#define PVC_INFRARED_UNIT		0xF3</span>
<span class="cp">#define DRM_UNIT			0xF4</span>
<span class="cp">#define GENERAL_REQUEST			0xF5</span>

<span class="cm">/* Format Types */</span>
<span class="cp">#define VS_FORMAT_TYPE         0x02</span>
<span class="cp">#define VS_FORMAT_TYPE_I       0x01</span>
<span class="cp">#define VS_FORMAT_UNCOMPRESSED 0x04</span>
<span class="cp">#define VS_FRAME_UNCOMPRESSED  0x05</span>
<span class="cp">#define VS_FORMAT_MPEG2PS      0x09</span>
<span class="cp">#define VS_FORMAT_MPEG2TS      0x0A</span>
<span class="cp">#define VS_FORMAT_MPEG4SL      0x0B</span>
<span class="cp">#define VS_FORMAT_WM9          0x0C</span>
<span class="cp">#define VS_FORMAT_DIVX         0x0D</span>
<span class="cp">#define VS_FORMAT_VBI          0x0E</span>
<span class="cp">#define VS_FORMAT_RDS          0x0F</span>

<span class="cm">/* Device extension commands */</span>
<span class="cp">#define EXU_REGISTER_ACCESS_CONTROL	0x00</span>
<span class="cp">#define EXU_GPIO_CONTROL		0x01</span>
<span class="cp">#define EXU_GPIO_GROUP_CONTROL		0x02</span>
<span class="cp">#define EXU_INTERRUPT_CONTROL		0x03</span>

<span class="cm">/* State Transition and args */</span>
<span class="cp">#define SAA_PROBE_CONTROL	0x01</span>
<span class="cp">#define SAA_COMMIT_CONTROL	0x02</span>
<span class="cp">#define SAA_STATE_CONTROL	0x03</span>
<span class="cp">#define SAA_DMASTATE_STOP	0x00</span>
<span class="cp">#define SAA_DMASTATE_ACQUIRE	0x01</span>
<span class="cp">#define SAA_DMASTATE_PAUSE	0x02</span>
<span class="cp">#define SAA_DMASTATE_RUN	0x03</span>

<span class="cm">/* A/V Mux Input Selector */</span>
<span class="cp">#define SU_INPUT_SELECT_CONTROL 0x01</span>

<span class="cm">/* Encoder Profiles */</span>
<span class="cp">#define EU_PROFILE_PS_DVD	0x06</span>
<span class="cp">#define EU_PROFILE_TS_HQ	0x09</span>
<span class="cp">#define EU_VIDEO_FORMAT_MPEG_2	0x02</span>

<span class="cm">/* Tuner */</span>
<span class="cp">#define TU_AUDIO_MODE_CONTROL  0x17</span>

<span class="cm">/* Video Formats */</span>
<span class="cp">#define TU_STANDARD_CONTROL		0x00</span>
<span class="cp">#define TU_STANDARD_AUTO_CONTROL	0x01</span>
<span class="cp">#define TU_STANDARD_NONE		0x00</span>
<span class="cp">#define TU_STANDARD_NTSC_M		0x01</span>
<span class="cp">#define TU_STANDARD_PAL_I		0x08</span>
<span class="cp">#define TU_STANDARD_MANUAL		0x00</span>
<span class="cp">#define TU_STANDARD_AUTO		0x01</span>

<span class="cm">/* Video Controls */</span>
<span class="cp">#define PU_BRIGHTNESS_CONTROL	0x02</span>
<span class="cp">#define PU_CONTRAST_CONTROL	0x03</span>
<span class="cp">#define PU_HUE_CONTROL		0x06</span>
<span class="cp">#define PU_SATURATION_CONTROL	0x07</span>
<span class="cp">#define PU_SHARPNESS_CONTROL	0x08</span>

<span class="cm">/* Audio Controls */</span>
<span class="cp">#define MUTE_CONTROL		0x01</span>
<span class="cp">#define VOLUME_CONTROL		0x02</span>
<span class="cp">#define AUDIO_DEFAULT_CONTROL	0x0D</span>

<span class="cm">/* Default Volume Levels */</span>
<span class="cp">#define TMHW_LEV_ADJ_DECLEV_DEFAULT     0x00</span>
<span class="cp">#define TMHW_LEV_ADJ_MONOLEV_DEFAULT    0x00</span>
<span class="cp">#define TMHW_LEV_ADJ_NICLEV_DEFAULT     0x00</span>
<span class="cp">#define TMHW_LEV_ADJ_SAPLEV_DEFAULT     0x00</span>
<span class="cp">#define TMHW_LEV_ADJ_ADCLEV_DEFAULT     0x00</span>

<span class="cm">/* Encoder Related Commands */</span>
<span class="cp">#define EU_PROFILE_CONTROL		0x00</span>
<span class="cp">#define EU_VIDEO_FORMAT_CONTROL		0x01</span>
<span class="cp">#define EU_VIDEO_BIT_RATE_CONTROL	0x02</span>
<span class="cp">#define EU_VIDEO_RESOLUTION_CONTROL	0x03</span>
<span class="cp">#define EU_VIDEO_GOP_STRUCTURE_CONTROL	0x04</span>
<span class="cp">#define EU_VIDEO_INPUT_ASPECT_CONTROL	0x0A</span>
<span class="cp">#define EU_AUDIO_FORMAT_CONTROL		0x0C</span>
<span class="cp">#define EU_AUDIO_BIT_RATE_CONTROL	0x0D</span>

<span class="cm">/* Firmware Debugging */</span>
<span class="cp">#define SET_DEBUG_LEVEL_CONTROL	0x0B</span>
<span class="cp">#define GET_DEBUG_DATA_CONTROL	0x0C</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
