f | hdmi_drv.c | s | 26K | 876 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1337515335 |  | [media] v4l: s5p-tv: hdmi: fix mode synchronization  The mode setup was applied on HDMI hardware only on resume event.  This caused problem if HDMI was not suspended between mode switches.  This patch fixes this problem by setting a dirty flag on a mode change event.  If flag is set, then new mode is applied on the next stream-on event.  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | regs-hdmi.h | s | 5.2K | 129 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1337515316 |  | [media] v4l: s5p-tv: hdmi: parametrize DV timings  This patch fixes timings configuration in HDMI register. It adds support for numerous new presets including interlaced ones.  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Makefile | g | 668B |  | Tomasz Stanislawski | t.stanislaws@samsung.com | 1330464346 |  | [media] v4l: s5p-tv: add sii9234 driver  SiI9234 is a converter of HDMI signal into MHL. The chip is present on some boards from Samsung S5P family. The chip's configuration procedure is based on MHD_SiI9234 driver created by doonsoo45.kim.  The driver is using: - i2c framework - v4l2 framework - runtime PM  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | regs-vp.h | s | 2.2K | 73 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1311800161 |  | [media] v4l: s5p-tv: add TV Mixer driver for Samsung S5P platform  Add driver for TV Mixer on Samsung platforms from S5P family. Mixer is responsible for merging images from three layers and passing result to the output.  Drivers are using: - v4l2 framework - videobuf2 - runtime PM  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Reviewed-by: Marek Szyprowski <m.szyprowski@samsung.com> Reviewed-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Reviewed-by: Hans Verkuil <hverkuil@xs4all.nl> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | mixer.h | s | 10K | 316 | Sachin Kamat | sachin.kamat@linaro.org | 1337515365 |  | [media] v4l: s5p-tv: Fix section mismatch warning in mixer_video.c  The function __devinit mxr_probe() references a function __devexit mxr_release_video().  Since mxr_release_video() is referenced outside the exit section, the following compilation warning is generated which is fixed here:  WARNING: drivers/media/video/s5p-tv/s5p-mixer.o(.devinit.text+0x340): Section mismatch in reference from the function mxr_probe() to the function devexit.text:mxr_release_video()  Signed-off-by: Sachin Kamat <sachin.kamat@linaro.org> Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | hdmiphy_drv.c | s | 9.9K | 294 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1337515279 |  | [media] v4l: s5p-tv: hdmiphy: add support for per-platform variants  Adds selection of HDMIPHY configuration tables basing on both preset and platform variant.  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | mixer_drv.c | s | 11K | 407 | Uwe Kleine-König | u.kleine-koenig@pengutronix.de | 1334104696 |  | [media] s5p-tv: mark const init data with __initconst instead of __initdata  As long as there is no other non-const variable marked __initdata in the same compilation unit it doesn't hurt. If there were one however compilation would fail with  	error: $variablename causes a section type conflict  because a section containing const variables is marked read only and so cannot contain non-const variables.  Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Cc: Kyungmin Park <kyungmin.park@samsung.com> Cc: Tomasz Stanislawski <t.stanislaws@samsung.com> Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: linux-arm-kernel@lists.infradead.org Cc: linux-media@vger.kernel.org Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | mixer_grp_layer.c | s | 6.5K | 228 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1326244763 |  | [media] v4l: s5p-tv: mixer: add support for selection API  This patch add support for V4L2 selection API to s5p-tv driver.  Moreover it removes old API for cropping.  Old applications would still work because the crop ioctls are emulated using the selection API.  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | sdo_drv.c | s | 11K | 393 | Julia Lawall | Julia.Lawall@lip6.fr | 1330464257 |  | [media] v4l: s5p-tv: use devm_ functions  The various devm_ functions allocate memory that is released when a driver detaches.  This patch uses these functions for data that is allocated in the probe function of a platform device and is only freed in the remove function.  Signed-off-by: Julia Lawall <Julia.Lawall@lip6.fr> Acked-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | mixer_vp_layer.c | s | 6.2K | 204 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1326244780 |  | [media] v4l: s5p-tv: mixer: fix setup of VP scaling  Adjusting of Video Processor's scaling factors was flawed. It bounded scaling to range 1/16 to 1/1. The correct range should be 1/4 to 4/1. This patch fixes this bug.  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | regs-mixer.h | s | 3.8K | 106 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1317035071 |  | [media] s5p-tv: fix mbus configuration  This patch fixes mbus configuration between Mixer, SDO and HDMI.  The SDO accepts only YUV444 on input. The HDMI in DVI mode accepts only RGB888. Now Mixer is choosing proper output format depending on mbus format.  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | mixer_reg.c | s | 14K | 450 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1337515348 |  | [media] v4l: s5p-tv: mixer: fix handling of interlaced modes  The next frame was fetched by Mixer at every VSYNC event.  This caused tearing when Mixer's output in interlaced mode.  This patch fixes this bug by fetching new frame every second VSYNC when working in interlaced mode.  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | mixer_video.c | s | 28K | 914 | Sachin Kamat | sachin.kamat@linaro.org | 1337515365 |  | [media] v4l: s5p-tv: Fix section mismatch warning in mixer_video.c  The function __devinit mxr_probe() references a function __devexit mxr_release_video().  Since mxr_release_video() is referenced outside the exit section, the following compilation warning is generated which is fixed here:  WARNING: drivers/media/video/s5p-tv/s5p-mixer.o(.devinit.text+0x340): Section mismatch in reference from the function mxr_probe() to the function devexit.text:mxr_release_video()  Signed-off-by: Sachin Kamat <sachin.kamat@linaro.org> Signed-off-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Kconfig | g | 2.6K |  | Tomasz Stanislawski | t.stanislaws@samsung.com | 1330464346 |  | [media] v4l: s5p-tv: add sii9234 driver  SiI9234 is a converter of HDMI signal into MHL. The chip is present on some boards from Samsung S5P family. The chip's configuration procedure is based on MHD_SiI9234 driver created by doonsoo45.kim.  The driver is using: - i2c framework - v4l2 framework - runtime PM  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | sii9234_drv.c | s | 10K | 360 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1330464346 |  | [media] v4l: s5p-tv: add sii9234 driver  SiI9234 is a converter of HDMI signal into MHL. The chip is present on some boards from Samsung S5P family. The chip's configuration procedure is based on MHD_SiI9234 driver created by doonsoo45.kim.  The driver is using: - i2c framework - v4l2 framework - runtime PM  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | regs-sdo.h | s | 1.6K | 52 | Tomasz Stanislawski | t.stanislaws@samsung.com | 1311800161 |  | [media] v4l: s5p-tv: add SDO driver for Samsung S5P platform  Add drivers for Standard Definition output (SDO) on Samsung platforms from S5P family. The driver provides control over streaming analog TV via Composite connector.  Driver is using: - v4l2 framework - runtime PM  Signed-off-by: Tomasz Stanislawski <t.stanislaws@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Reviewed-by: Marek Szyprowski <m.szyprowski@samsung.com> Reviewed-by: Sylwester Nawrocki <s.nawrocki@samsung.com> Reviewed-by: Hans Verkuil <hverkuil@xs4all.nl> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
