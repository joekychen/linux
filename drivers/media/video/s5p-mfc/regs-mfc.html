<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › media › video › s5p-mfc › regs-mfc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>regs-mfc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Register definition file for Samsung MFC V5.1 Interface (FIMV) driver</span>
<span class="cm"> *</span>
<span class="cm"> * Kamil Debski, Copyright (c) 2010 Samsung Electronics</span>
<span class="cm"> * http://www.samsung.com/</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm">*/</span>

<span class="cp">#ifndef _REGS_FIMV_H</span>
<span class="cp">#define _REGS_FIMV_H</span>

<span class="cp">#define S5P_FIMV_REG_SIZE	(S5P_FIMV_END_ADDR - S5P_FIMV_START_ADDR)</span>
<span class="cp">#define S5P_FIMV_REG_COUNT	((S5P_FIMV_END_ADDR - S5P_FIMV_START_ADDR) / 4)</span>

<span class="cm">/* Number of bits that the buffer address should be shifted for particular</span>
<span class="cm"> * MFC buffers.  */</span>
<span class="cp">#define S5P_FIMV_START_ADDR		0x0000</span>
<span class="cp">#define S5P_FIMV_END_ADDR		0xe008</span>

<span class="cp">#define S5P_FIMV_SW_RESET		0x0000</span>
<span class="cp">#define S5P_FIMV_RISC_HOST_INT		0x0008</span>

<span class="cm">/* Command from HOST to RISC */</span>
<span class="cp">#define S5P_FIMV_HOST2RISC_CMD		0x0030</span>
<span class="cp">#define S5P_FIMV_HOST2RISC_ARG1		0x0034</span>
<span class="cp">#define S5P_FIMV_HOST2RISC_ARG2		0x0038</span>
<span class="cp">#define S5P_FIMV_HOST2RISC_ARG3		0x003c</span>
<span class="cp">#define S5P_FIMV_HOST2RISC_ARG4		0x0040</span>

<span class="cm">/* Command from RISC to HOST */</span>
<span class="cp">#define S5P_FIMV_RISC2HOST_CMD		0x0044</span>
<span class="cp">#define S5P_FIMV_RISC2HOST_CMD_MASK	0x1FFFF</span>
<span class="cp">#define S5P_FIMV_RISC2HOST_ARG1		0x0048</span>
<span class="cp">#define S5P_FIMV_RISC2HOST_ARG2		0x004c</span>
<span class="cp">#define S5P_FIMV_RISC2HOST_ARG3		0x0050</span>
<span class="cp">#define S5P_FIMV_RISC2HOST_ARG4		0x0054</span>

<span class="cp">#define S5P_FIMV_FW_VERSION		0x0058</span>
<span class="cp">#define S5P_FIMV_SYS_MEM_SZ		0x005c</span>
<span class="cp">#define S5P_FIMV_FW_STATUS		0x0080</span>

<span class="cm">/* Memory controller register */</span>
<span class="cp">#define S5P_FIMV_MC_DRAMBASE_ADR_A	0x0508</span>
<span class="cp">#define S5P_FIMV_MC_DRAMBASE_ADR_B	0x050c</span>
<span class="cp">#define S5P_FIMV_MC_STATUS		0x0510</span>

<span class="cm">/* Common register */</span>
<span class="cp">#define S5P_FIMV_COMMON_BASE_A		0x0600</span>
<span class="cp">#define S5P_FIMV_COMMON_BASE_B		0x0700</span>

<span class="cm">/* Decoder */</span>
<span class="cp">#define S5P_FIMV_DEC_CHROMA_ADR		(S5P_FIMV_COMMON_BASE_A)</span>
<span class="cp">#define S5P_FIMV_DEC_LUMA_ADR		(S5P_FIMV_COMMON_BASE_B)</span>

<span class="cm">/* H.264 decoding */</span>
<span class="cp">#define S5P_FIMV_H264_VERT_NB_MV_ADR	(S5P_FIMV_COMMON_BASE_A + 0x8c)</span>
					<span class="cm">/* vertical neighbor motion vector */</span>
<span class="cp">#define S5P_FIMV_H264_NB_IP_ADR		(S5P_FIMV_COMMON_BASE_A + 0x90)</span>
					<span class="cm">/* neighbor pixels for intra pred */</span>
<span class="cp">#define S5P_FIMV_H264_MV_ADR		(S5P_FIMV_COMMON_BASE_B + 0x80)</span>
					<span class="cm">/* H264 motion vector */</span>

<span class="cm">/* MPEG4 decoding */</span>
<span class="cp">#define S5P_FIMV_MPEG4_NB_DCAC_ADR	(S5P_FIMV_COMMON_BASE_A + 0x8c)</span>
					<span class="cm">/* neighbor AC/DC coeff. */</span>
<span class="cp">#define S5P_FIMV_MPEG4_UP_NB_MV_ADR	(S5P_FIMV_COMMON_BASE_A + 0x90)</span>
					<span class="cm">/* upper neighbor motion vector */</span>
<span class="cp">#define S5P_FIMV_MPEG4_SA_MV_ADR	(S5P_FIMV_COMMON_BASE_A + 0x94)</span>
					<span class="cm">/* subseq. anchor motion vector */</span>
<span class="cp">#define S5P_FIMV_MPEG4_OT_LINE_ADR	(S5P_FIMV_COMMON_BASE_A + 0x98)</span>
					<span class="cm">/* overlap transform line */</span>
<span class="cp">#define S5P_FIMV_MPEG4_SP_ADR		(S5P_FIMV_COMMON_BASE_A + 0xa8)</span>
					<span class="cm">/* syntax parser */</span>

<span class="cm">/* H.263 decoding */</span>
<span class="cp">#define S5P_FIMV_H263_NB_DCAC_ADR	(S5P_FIMV_COMMON_BASE_A + 0x8c)</span>
<span class="cp">#define S5P_FIMV_H263_UP_NB_MV_ADR	(S5P_FIMV_COMMON_BASE_A + 0x90)</span>
<span class="cp">#define S5P_FIMV_H263_SA_MV_ADR		(S5P_FIMV_COMMON_BASE_A + 0x94)</span>
<span class="cp">#define S5P_FIMV_H263_OT_LINE_ADR	(S5P_FIMV_COMMON_BASE_A + 0x98)</span>

<span class="cm">/* VC-1 decoding */</span>
<span class="cp">#define S5P_FIMV_VC1_NB_DCAC_ADR	(S5P_FIMV_COMMON_BASE_A + 0x8c)</span>
<span class="cp">#define S5P_FIMV_VC1_UP_NB_MV_ADR	(S5P_FIMV_COMMON_BASE_A + 0x90)</span>
<span class="cp">#define S5P_FIMV_VC1_SA_MV_ADR		(S5P_FIMV_COMMON_BASE_A + 0x94)</span>
<span class="cp">#define S5P_FIMV_VC1_OT_LINE_ADR	(S5P_FIMV_COMMON_BASE_A + 0x98)</span>
<span class="cp">#define S5P_FIMV_VC1_BITPLANE3_ADR	(S5P_FIMV_COMMON_BASE_A + 0x9c)</span>
					<span class="cm">/* bitplane3 */</span>
<span class="cp">#define S5P_FIMV_VC1_BITPLANE2_ADR	(S5P_FIMV_COMMON_BASE_A + 0xa0)</span>
					<span class="cm">/* bitplane2 */</span>
<span class="cp">#define S5P_FIMV_VC1_BITPLANE1_ADR	(S5P_FIMV_COMMON_BASE_A + 0xa4)</span>
					<span class="cm">/* bitplane1 */</span>

<span class="cm">/* Encoder */</span>
<span class="cp">#define S5P_FIMV_ENC_REF0_LUMA_ADR	(S5P_FIMV_COMMON_BASE_A + 0x1c)</span>
<span class="cp">#define S5P_FIMV_ENC_REF1_LUMA_ADR	(S5P_FIMV_COMMON_BASE_A + 0x20)</span>
					<span class="cm">/* reconstructed luma */</span>
<span class="cp">#define S5P_FIMV_ENC_REF0_CHROMA_ADR	(S5P_FIMV_COMMON_BASE_B)</span>
<span class="cp">#define S5P_FIMV_ENC_REF1_CHROMA_ADR	(S5P_FIMV_COMMON_BASE_B + 0x04)</span>
					<span class="cm">/* reconstructed chroma */</span>
<span class="cp">#define S5P_FIMV_ENC_REF2_LUMA_ADR	(S5P_FIMV_COMMON_BASE_B + 0x10)</span>
<span class="cp">#define S5P_FIMV_ENC_REF2_CHROMA_ADR	(S5P_FIMV_COMMON_BASE_B + 0x08)</span>
<span class="cp">#define S5P_FIMV_ENC_REF3_LUMA_ADR	(S5P_FIMV_COMMON_BASE_B + 0x14)</span>
<span class="cp">#define S5P_FIMV_ENC_REF3_CHROMA_ADR	(S5P_FIMV_COMMON_BASE_B + 0x0c)</span>

<span class="cm">/* H.264 encoding */</span>
<span class="cp">#define S5P_FIMV_H264_UP_MV_ADR		(S5P_FIMV_COMMON_BASE_A)</span>
					<span class="cm">/* upper motion vector */</span>
<span class="cp">#define S5P_FIMV_H264_NBOR_INFO_ADR	(S5P_FIMV_COMMON_BASE_A + 0x04)</span>
					<span class="cm">/* entropy engine&#39;s neighbor info. */</span>
<span class="cp">#define S5P_FIMV_H264_UP_INTRA_MD_ADR	(S5P_FIMV_COMMON_BASE_A + 0x08)</span>
					<span class="cm">/* upper intra MD */</span>
<span class="cp">#define S5P_FIMV_H264_COZERO_FLAG_ADR	(S5P_FIMV_COMMON_BASE_A + 0x10)</span>
					<span class="cm">/* direct cozero flag */</span>
<span class="cp">#define S5P_FIMV_H264_UP_INTRA_PRED_ADR	(S5P_FIMV_COMMON_BASE_B + 0x40)</span>
					<span class="cm">/* upper intra PRED */</span>

<span class="cm">/* H.263 encoding */</span>
<span class="cp">#define S5P_FIMV_H263_UP_MV_ADR		(S5P_FIMV_COMMON_BASE_A)</span>
					<span class="cm">/* upper motion vector */</span>
<span class="cp">#define S5P_FIMV_H263_ACDC_COEF_ADR	(S5P_FIMV_COMMON_BASE_A + 0x04)</span>
					<span class="cm">/* upper Q coeff. */</span>

<span class="cm">/* MPEG4 encoding */</span>
<span class="cp">#define S5P_FIMV_MPEG4_UP_MV_ADR	(S5P_FIMV_COMMON_BASE_A)</span>
					<span class="cm">/* upper motion vector */</span>
<span class="cp">#define S5P_FIMV_MPEG4_ACDC_COEF_ADR	(S5P_FIMV_COMMON_BASE_A + 0x04)</span>
					<span class="cm">/* upper Q coeff. */</span>
<span class="cp">#define S5P_FIMV_MPEG4_COZERO_FLAG_ADR	(S5P_FIMV_COMMON_BASE_A + 0x10)</span>
					<span class="cm">/* direct cozero flag */</span>

<span class="cp">#define S5P_FIMV_ENC_REF_B_LUMA_ADR     0x062c </span><span class="cm">/* ref B Luma addr */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_REF_B_CHROMA_ADR   0x0630 </span><span class="cm">/* ref B Chroma addr */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_ENC_CUR_LUMA_ADR	0x0718 </span><span class="cm">/* current Luma addr */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_CUR_CHROMA_ADR	0x071C </span><span class="cm">/* current Chroma addr */</span><span class="cp"></span>

<span class="cm">/* Codec common register */</span>
<span class="cp">#define S5P_FIMV_ENC_HSIZE_PX		0x0818 </span><span class="cm">/* frame width at encoder */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_VSIZE_PX		0x081c </span><span class="cm">/* frame height at encoder */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_PROFILE		0x0830 </span><span class="cm">/* profile register */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_PROFILE_H264_MAIN			0</span>
<span class="cp">#define S5P_FIMV_ENC_PROFILE_H264_HIGH			1</span>
<span class="cp">#define S5P_FIMV_ENC_PROFILE_H264_BASELINE		2</span>
<span class="cp">#define S5P_FIMV_ENC_PROFILE_MPEG4_SIMPLE		0</span>
<span class="cp">#define S5P_FIMV_ENC_PROFILE_MPEG4_ADVANCED_SIMPLE	1</span>
<span class="cp">#define S5P_FIMV_ENC_PIC_STRUCT		0x083c </span><span class="cm">/* picture field/frame flag */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_LF_CTRL		0x0848 </span><span class="cm">/* loop filter control */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_ALPHA_OFF		0x084c </span><span class="cm">/* loop filter alpha offset */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_BETA_OFF		0x0850 </span><span class="cm">/* loop filter beta offset */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_MR_BUSIF_CTRL		0x0854 </span><span class="cm">/* hidden, bus interface ctrl */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_PXL_CACHE_CTRL	0x0a00 </span><span class="cm">/* pixel cache control */</span><span class="cp"></span>

<span class="cm">/* Channel &amp; stream interface register */</span>
<span class="cp">#define S5P_FIMV_SI_RTN_CHID		0x2000 </span><span class="cm">/* Return CH inst ID register */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH0_INST_ID		0x2040 </span><span class="cm">/* codec instance ID */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH1_INST_ID		0x2080 </span><span class="cm">/* codec instance ID */</span><span class="cp"></span>
<span class="cm">/* Decoder */</span>
<span class="cp">#define S5P_FIMV_SI_VRESOL		0x2004 </span><span class="cm">/* vertical res of decoder */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_HRESOL		0x2008 </span><span class="cm">/* horizontal res of decoder */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_BUF_NUMBER		0x200c </span><span class="cm">/* number of frames in the</span>
<span class="cm">								decoded pic */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_DISPLAY_Y_ADR	0x2010 </span><span class="cm">/* luma addr of displayed pic */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_DISPLAY_C_ADR	0x2014 </span><span class="cm">/* chroma addrof displayed pic */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_SI_CONSUMED_BYTES	0x2018 </span><span class="cm">/* Consumed number of bytes to</span>
<span class="cm">							decode a frame */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_DISPLAY_STATUS	0x201c </span><span class="cm">/* status of decoded picture */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_SI_DECODE_Y_ADR	0x2024 </span><span class="cm">/* luma addr of decoded pic */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_DECODE_C_ADR	0x2028 </span><span class="cm">/* chroma addrof decoded pic */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_DECODE_STATUS	0x202c </span><span class="cm">/* status of decoded picture */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_SI_CH0_SB_ST_ADR	0x2044 </span><span class="cm">/* start addr of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH0_SB_FRM_SIZE	0x2048 </span><span class="cm">/* size of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH0_DESC_ADR	0x204c </span><span class="cm">/* addr of descriptor buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH0_CPB_SIZE	0x2058 </span><span class="cm">/* max size of coded pic. buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH0_DESC_SIZE	0x205c </span><span class="cm">/* max size of descriptor buf */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_SI_CH1_SB_ST_ADR	0x2084 </span><span class="cm">/* start addr of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH1_SB_FRM_SIZE	0x2088 </span><span class="cm">/* size of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH1_DESC_ADR	0x208c </span><span class="cm">/* addr of descriptor buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH1_CPB_SIZE	0x2098 </span><span class="cm">/* max size of coded pic. buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH1_DESC_SIZE	0x209c </span><span class="cm">/* max size of descriptor buf */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_CRC_LUMA0		0x2030 </span><span class="cm">/* luma crc data per frame</span>
<span class="cm">								(top field) */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_CRC_CHROMA0		0x2034 </span><span class="cm">/* chroma crc data per frame</span>
<span class="cm">								(top field) */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_CRC_LUMA1		0x2038 </span><span class="cm">/* luma crc data per bottom</span>
<span class="cm">								field */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_CRC_CHROMA1		0x203c </span><span class="cm">/* chroma crc data per bottom</span>
<span class="cm">								field */</span><span class="cp"></span>

<span class="cm">/* Display status */</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_DECODING_ONLY		0</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_DECODING_DISPLAY		1</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_DISPLAY_ONLY		2</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_DECODING_EMPTY		3</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_DECODING_STATUS_MASK	7</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_PROGRESSIVE			(0&lt;&lt;3)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_INTERLACE			(1&lt;&lt;3)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_INTERLACE_MASK		(1&lt;&lt;3)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_CRC_NUMBER_TWO		(0&lt;&lt;4)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_CRC_NUMBER_FOUR		(1&lt;&lt;4)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_CRC_NUMBER_MASK		(1&lt;&lt;4)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_CRC_GENERATED		(1&lt;&lt;5)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_CRC_NOT_GENERATED		(0&lt;&lt;5)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_CRC_MASK			(1&lt;&lt;5)</span>

<span class="cp">#define S5P_FIMV_DEC_STATUS_RESOLUTION_MASK		(3&lt;&lt;4)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_RESOLUTION_INC		(1&lt;&lt;4)</span>
<span class="cp">#define S5P_FIMV_DEC_STATUS_RESOLUTION_DEC		(2&lt;&lt;4)</span>

<span class="cm">/* Decode frame address */</span>
<span class="cp">#define S5P_FIMV_DECODE_Y_ADR			0x2024</span>
<span class="cp">#define S5P_FIMV_DECODE_C_ADR			0x2028</span>

<span class="cm">/* Decoded frame tpe */</span>
<span class="cp">#define S5P_FIMV_DECODE_FRAME_TYPE		0x2020</span>
<span class="cp">#define S5P_FIMV_DECODE_FRAME_MASK		7</span>

<span class="cp">#define S5P_FIMV_DECODE_FRAME_SKIPPED		0</span>
<span class="cp">#define S5P_FIMV_DECODE_FRAME_I_FRAME		1</span>
<span class="cp">#define S5P_FIMV_DECODE_FRAME_P_FRAME		2</span>
<span class="cp">#define S5P_FIMV_DECODE_FRAME_B_FRAME		3</span>
<span class="cp">#define S5P_FIMV_DECODE_FRAME_OTHER_FRAME	4</span>

<span class="cm">/* Sizes of buffers required for decoding */</span>
<span class="cp">#define S5P_FIMV_DEC_NB_IP_SIZE			(32 * 1024)</span>
<span class="cp">#define S5P_FIMV_DEC_VERT_NB_MV_SIZE		(16 * 1024)</span>
<span class="cp">#define S5P_FIMV_DEC_NB_DCAC_SIZE		(16 * 1024)</span>
<span class="cp">#define S5P_FIMV_DEC_UPNB_MV_SIZE		(68 * 1024)</span>
<span class="cp">#define S5P_FIMV_DEC_SUB_ANCHOR_MV_SIZE		(136 * 1024)</span>
<span class="cp">#define S5P_FIMV_DEC_OVERLAP_TRANSFORM_SIZE     (32 * 1024)</span>
<span class="cp">#define S5P_FIMV_DEC_VC1_BITPLANE_SIZE		(2 * 1024)</span>
<span class="cp">#define S5P_FIMV_DEC_STX_PARSER_SIZE		(68 * 1024)</span>

<span class="cp">#define S5P_FIMV_DEC_BUF_ALIGN			(8 * 1024)</span>
<span class="cp">#define S5P_FIMV_ENC_BUF_ALIGN			(8 * 1024)</span>
<span class="cp">#define S5P_FIMV_NV12M_HALIGN			16</span>
<span class="cp">#define S5P_FIMV_NV12M_LVALIGN			16</span>
<span class="cp">#define S5P_FIMV_NV12M_CVALIGN			8</span>
<span class="cp">#define S5P_FIMV_NV12MT_HALIGN			128</span>
<span class="cp">#define S5P_FIMV_NV12MT_VALIGN			32</span>
<span class="cp">#define S5P_FIMV_NV12M_SALIGN			2048</span>
<span class="cp">#define S5P_FIMV_NV12MT_SALIGN			8192</span>

<span class="cm">/* Sizes of buffers required for encoding */</span>
<span class="cp">#define S5P_FIMV_ENC_UPMV_SIZE		0x10000</span>
<span class="cp">#define S5P_FIMV_ENC_COLFLG_SIZE	0x10000</span>
<span class="cp">#define S5P_FIMV_ENC_INTRAMD_SIZE	0x10000</span>
<span class="cp">#define S5P_FIMV_ENC_INTRAPRED_SIZE	0x4000</span>
<span class="cp">#define S5P_FIMV_ENC_NBORINFO_SIZE	0x10000</span>
<span class="cp">#define S5P_FIMV_ENC_ACDCCOEF_SIZE	0x10000</span>

<span class="cm">/* Encoder */</span>
<span class="cp">#define S5P_FIMV_ENC_SI_STRM_SIZE	0x2004 </span><span class="cm">/* stream size */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_PIC_CNT		0x2008 </span><span class="cm">/* picture count */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_WRITE_PTR	0x200c </span><span class="cm">/* write pointer */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_SLICE_TYPE	0x2010 </span><span class="cm">/* slice type(I/P/B/IDR) */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_SLICE_TYPE_NON_CODED	0</span>
<span class="cp">#define S5P_FIMV_ENC_SI_SLICE_TYPE_I		1</span>
<span class="cp">#define S5P_FIMV_ENC_SI_SLICE_TYPE_P		2</span>
<span class="cp">#define S5P_FIMV_ENC_SI_SLICE_TYPE_B		3</span>
<span class="cp">#define S5P_FIMV_ENC_SI_SLICE_TYPE_SKIPPED	4</span>
<span class="cp">#define S5P_FIMV_ENC_SI_SLICE_TYPE_OTHERS	5</span>
<span class="cp">#define S5P_FIMV_ENCODED_Y_ADDR         0x2014 </span><span class="cm">/* the addr of the encoded</span>
<span class="cm">								luma pic */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENCODED_C_ADDR         0x2018 </span><span class="cm">/* the addr of the encoded</span>
<span class="cm">								chroma pic */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_ENC_SI_CH0_SB_ADR	0x2044 </span><span class="cm">/* addr of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH0_SB_SIZE	0x204c </span><span class="cm">/* size of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH0_CUR_Y_ADR	0x2050 </span><span class="cm">/* current Luma addr */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH0_CUR_C_ADR	0x2054 </span><span class="cm">/* current Chroma addr */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH0_FRAME_INS	0x2058 </span><span class="cm">/* frame insertion */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_ENC_SI_CH1_SB_ADR	0x2084 </span><span class="cm">/* addr of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH1_SB_SIZE	0x208c </span><span class="cm">/* size of stream buf */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH1_CUR_Y_ADR	0x2090 </span><span class="cm">/* current Luma addr */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH1_CUR_C_ADR	0x2094 </span><span class="cm">/* current Chroma addr */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_SI_CH1_FRAME_INS	0x2098 </span><span class="cm">/* frame insertion */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_ENC_PIC_TYPE_CTRL	0xc504 </span><span class="cm">/* pic type level control */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_B_RECON_WRITE_ON	0xc508 </span><span class="cm">/* B frame recon write ctrl */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_MSLICE_CTRL	0xc50c </span><span class="cm">/* multi slice control */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_MSLICE_MB		0xc510 </span><span class="cm">/* MB number in the one slice */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_MSLICE_BIT		0xc514 </span><span class="cm">/* bit count for one slice */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_CIR_CTRL		0xc518 </span><span class="cm">/* number of intra refresh MB */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_MAP_FOR_CUR	0xc51c </span><span class="cm">/* linear or tiled mode */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_PADDING_CTRL	0xc520 </span><span class="cm">/* padding control */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_ENC_RC_CONFIG		0xc5a0 </span><span class="cm">/* RC config */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_RC_BIT_RATE	0xc5a8 </span><span class="cm">/* bit rate */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_RC_QBOUND		0xc5ac </span><span class="cm">/* max/min QP */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_RC_RPARA		0xc5b0 </span><span class="cm">/* rate control reaction coeff */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_RC_MB_CTRL		0xc5b4 </span><span class="cm">/* MB adaptive scaling */</span><span class="cp"></span>

<span class="cm">/* Encoder for H264 only */</span>
<span class="cp">#define S5P_FIMV_ENC_H264_ENTROPY_MODE	0xd004 </span><span class="cm">/* CAVLC or CABAC */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_H264_ALPHA_OFF	0xd008 </span><span class="cm">/* loop filter alpha offset */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_H264_BETA_OFF	0xd00c </span><span class="cm">/* loop filter beta offset */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_H264_NUM_OF_REF	0xd010 </span><span class="cm">/* number of reference for P/B */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_ENC_H264_TRANS_FLAG	0xd034 </span><span class="cm">/* 8x8 transform flag in PPS &amp;</span>
<span class="cm">								high profile */</span><span class="cp"></span>

<span class="cp">#define S5P_FIMV_ENC_RC_FRAME_RATE	0xd0d0 </span><span class="cm">/* frame rate */</span><span class="cp"></span>

<span class="cm">/* Encoder for MPEG4 only */</span>
<span class="cp">#define S5P_FIMV_ENC_MPEG4_QUART_PXL	0xe008 </span><span class="cm">/* qpel interpolation ctrl */</span><span class="cp"></span>

<span class="cm">/* Additional */</span>
<span class="cp">#define S5P_FIMV_SI_CH0_DPB_CONF_CTRL   0x2068 </span><span class="cm">/* DPB Config Control Register */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SLICE_INT_MASK		1</span>
<span class="cp">#define S5P_FIMV_SLICE_INT_SHIFT	31</span>
<span class="cp">#define S5P_FIMV_DDELAY_ENA_SHIFT	30</span>
<span class="cp">#define S5P_FIMV_DDELAY_VAL_MASK	0xff</span>
<span class="cp">#define S5P_FIMV_DDELAY_VAL_SHIFT	16</span>
<span class="cp">#define S5P_FIMV_DPB_COUNT_MASK		0xffff</span>
<span class="cp">#define S5P_FIMV_DPB_FLUSH_MASK		1</span>
<span class="cp">#define S5P_FIMV_DPB_FLUSH_SHIFT	14</span>


<span class="cp">#define S5P_FIMV_SI_CH0_RELEASE_BUF     0x2060 </span><span class="cm">/* DPB release buffer register */</span><span class="cp"></span>
<span class="cp">#define S5P_FIMV_SI_CH0_HOST_WR_ADR	0x2064 </span><span class="cm">/* address of shared memory */</span><span class="cp"></span>

<span class="cm">/* Codec numbers  */</span>
<span class="cp">#define S5P_FIMV_CODEC_NONE		-1</span>

<span class="cp">#define S5P_FIMV_CODEC_H264_DEC		0</span>
<span class="cp">#define S5P_FIMV_CODEC_VC1_DEC		1</span>
<span class="cp">#define S5P_FIMV_CODEC_MPEG4_DEC	2</span>
<span class="cp">#define S5P_FIMV_CODEC_MPEG2_DEC	3</span>
<span class="cp">#define S5P_FIMV_CODEC_H263_DEC		4</span>
<span class="cp">#define S5P_FIMV_CODEC_VC1RCV_DEC	5</span>

<span class="cp">#define S5P_FIMV_CODEC_H264_ENC		16</span>
<span class="cp">#define S5P_FIMV_CODEC_MPEG4_ENC	17</span>
<span class="cp">#define S5P_FIMV_CODEC_H263_ENC		18</span>

<span class="cm">/* Channel Control Register */</span>
<span class="cp">#define S5P_FIMV_CH_SEQ_HEADER		1</span>
<span class="cp">#define S5P_FIMV_CH_FRAME_START		2</span>
<span class="cp">#define S5P_FIMV_CH_LAST_FRAME		3</span>
<span class="cp">#define S5P_FIMV_CH_INIT_BUFS		4</span>
<span class="cp">#define S5P_FIMV_CH_FRAME_START_REALLOC	5</span>
<span class="cp">#define S5P_FIMV_CH_MASK		7</span>
<span class="cp">#define S5P_FIMV_CH_SHIFT		16</span>


<span class="cm">/* Host to RISC command */</span>
<span class="cp">#define S5P_FIMV_H2R_CMD_EMPTY		0</span>
<span class="cp">#define S5P_FIMV_H2R_CMD_OPEN_INSTANCE	1</span>
<span class="cp">#define S5P_FIMV_H2R_CMD_CLOSE_INSTANCE	2</span>
<span class="cp">#define S5P_FIMV_H2R_CMD_SYS_INIT	3</span>
<span class="cp">#define S5P_FIMV_H2R_CMD_FLUSH		4</span>
<span class="cp">#define S5P_FIMV_H2R_CMD_SLEEP		5</span>
<span class="cp">#define S5P_FIMV_H2R_CMD_WAKEUP		6</span>

<span class="cp">#define S5P_FIMV_R2H_CMD_EMPTY			0</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_OPEN_INSTANCE_RET	1</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_CLOSE_INSTANCE_RET	2</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_RSV_RET		3</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_SEQ_DONE_RET		4</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_FRAME_DONE_RET		5</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_SLICE_DONE_RET		6</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_ENC_COMPLETE_RET	7</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_SYS_INIT_RET		8</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_FW_STATUS_RET		9</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_SLEEP_RET		10</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_WAKEUP_RET		11</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_FLUSH_RET		12</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_INIT_BUFFERS_RET	15</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_EDFU_INIT_RET		16</span>
<span class="cp">#define S5P_FIMV_R2H_CMD_ERR_RET		32</span>

<span class="cm">/* Error handling defines */</span>
<span class="cp">#define S5P_FIMV_ERR_WARNINGS_START		145</span>
<span class="cp">#define S5P_FIMV_ERR_DEC_MASK			0xFFFF</span>
<span class="cp">#define S5P_FIMV_ERR_DEC_SHIFT			0</span>
<span class="cp">#define S5P_FIMV_ERR_DSPL_MASK			0xFFFF0000</span>
<span class="cp">#define S5P_FIMV_ERR_DSPL_SHIFT			16</span>

<span class="cm">/* Shared memory registers&#39; offsets */</span>

<span class="cm">/* An offset of the start position in the stream when</span>
<span class="cm"> * the start position is not aligned */</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_INFO_H		0x0020</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_LEFT_MASK		0xFFFF</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_LEFT_SHIFT		0</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_RIGHT_MASK		0xFFFF0000</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_RIGHT_SHIFT	16</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_INFO_V		0x0024</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_TOP_MASK		0xFFFF</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_TOP_SHIFT		0</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_BOTTOM_MASK	0xFFFF0000</span>
<span class="cp">#define S5P_FIMV_SHARED_CROP_BOTTOM_SHIFT	16</span>
<span class="cp">#define S5P_FIMV_SHARED_SET_FRAME_TAG		0x0004</span>
<span class="cp">#define S5P_FIMV_SHARED_GET_FRAME_TAG_TOP	0x0008</span>
<span class="cp">#define S5P_FIMV_SHARED_GET_FRAME_TAG_BOT	0x000C</span>
<span class="cp">#define S5P_FIMV_SHARED_START_BYTE_NUM		0x0018</span>
<span class="cp">#define S5P_FIMV_SHARED_RC_VOP_TIMING		0x0030</span>
<span class="cp">#define S5P_FIMV_SHARED_LUMA_DPB_SIZE		0x0064</span>
<span class="cp">#define S5P_FIMV_SHARED_CHROMA_DPB_SIZE		0x0068</span>
<span class="cp">#define S5P_FIMV_SHARED_MV_SIZE			0x006C</span>
<span class="cp">#define S5P_FIMV_SHARED_PIC_TIME_TOP		0x0010</span>
<span class="cp">#define S5P_FIMV_SHARED_PIC_TIME_BOTTOM		0x0014</span>
<span class="cp">#define S5P_FIMV_SHARED_EXT_ENC_CONTROL		0x0028</span>
<span class="cp">#define S5P_FIMV_SHARED_P_B_FRAME_QP		0x0070</span>
<span class="cp">#define S5P_FIMV_SHARED_ASPECT_RATIO_IDC	0x0074</span>
<span class="cp">#define S5P_FIMV_SHARED_EXTENDED_SAR		0x0078</span>
<span class="cp">#define S5P_FIMV_SHARED_H264_I_PERIOD		0x009C</span>
<span class="cp">#define S5P_FIMV_SHARED_RC_CONTROL_CONFIG	0x00A0</span>

<span class="cp">#endif </span><span class="cm">/* _REGS_FIMV_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
