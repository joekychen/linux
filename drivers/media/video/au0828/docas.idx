f | Makefile | g | 317B |  | Arnaud Lacombe | lacombar@gmail.com | 1315086659 |  | [media] drivers/media: do not use EXTRA_CFLAGS  Usage of these flags has been deprecated for nearly 4 years by:      commit f77bf01425b11947eeb3b5b54685212c302741b8     Author: Sam Ravnborg <sam@neptun.(none)>     Date:   Mon Oct 15 22:25:06 2007 +0200          kbuild: introduce ccflags-y, asflags-y and ldflags-y  Moreover, these flags (at least EXTRA_CFLAGS) have been documented for command line use. By default, gmake(1) do not override command line setting, so this is likely to result in build failure or unexpected behavior.  Replace their usage by Kbuild's `{as,cc,ld}flags-y'.  Cc: Sam Ravnborg <sam@ravnborg.org> Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: linux-media@vger.kernel.org Signed-off-by: Arnaud Lacombe <lacombar@gmail.com> Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-core.c | s | 7.5K | 235 | Mauro Carvalho Chehab | mchehab@redhat.com | 1311799992 |  | [media] Stop using linux/version.h on most video drivers  All the modified drivers didn't have any version increment since Jan, 1 2011. Several of them didn't have any version increment for a long time, even having new features and important bug fixes happening.  As we're now filling the QUERYCAP version with the current Kernel Release, we don't need to maintain a per-driver version control anymore. So, let's just use the default.  In order to preserve the Kernel module version history, a KERNEL_VERSION() macro were added to all modified drivers, and the extraver number were incremented.  I opted to preserve the per-driver version control to a few pwc, pvrusb2, s2255, s5p-fimc and sh_vou.  A few drivers are still using the legacy way to handle ioctl's. So, we can't do such change on them, otherwise, they'll break. Those are: uvc, et61x251 and sn9c102.  The rationale is that the per-driver version control seems to be actively maintained on those.  Yet, I think that the better for them would be to just use the default version numbering, instead of doing that by themselves.  While here, removed a few uneeded include linux/version.h  Acked-by: Hans Verkuil <hans.verkuil@cisco.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-cards.h | s | 1.0K | 26 | Steven Toth | stoth@hauppauge.com | 1220477841 |  | V4L/DVB (8805): Steven Toth email address change  I need this so I can better isolate my linux email from my corporate email.  Signed-off-by: Steven Toth <stoth@linuxtv.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-vbi.c | s | 3.8K | 111 | Devin Heitmueller | dheitmueller@kernellabs.com | 1280771333 |  | V4L/DVB: Add closed captioning support for the HVR-950q  Add NTSC closed captioning support for au0828 based products.  Note that this also required reworking the locking to support streaming on both the video and VBI devices (the logic for which I copied from my changes made to the em28xx several months ago).  This work was sponsored by GetWellNetwork Inc.  Signed-off-by: Devin Heitmueller <dheitmueller@kernellabs.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Kconfig | g | 626B |  | Michael Krufky | mkrufky@kernellabs.com | 1334839746 |  | [media] au8522: build ATV/DTV demodulators as separate modules  au8522_dig.o and au8522_decoder.o function independentantly of each other, each for a different hardware function using a different software subsystem api, each with its own set of subsystem module dependencies.  Since these drivers do not depend on each other, and it is in fact possible to build hardware designs using one function and not the other, lets split this module into two, allowing system integrators to enable the hardware without dragging in undesired dependencies.  Signed-off-by: Michael Krufky <mkrufky@kernellabs.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-video.c | s | 48K | 1658 | Hans Verkuil | hans.verkuil@cisco.com | 1337017623 |  | [media] v4l: fix compiler warnings  media_build/v4l/au0828-video.c: In function 'au0828_irq_callback': media_build/v4l/au0828-video.c:123:6: warning: variable 'rc' set but not used [-Wunused-but-set-variable] media_build/v4l/cx23888-ir.c: In function 'pulse_clocks_to_clock_divider': media_build/v4l/cx23888-ir.c:334:6: warning: variable 'rem' set but not used [-Wunused-but-set-variable] media_build/v4l/cx25840-ir.c: In function 'pulse_clocks_to_clock_divider': media_build/v4l/cx25840-ir.c:319:6: warning: variable 'rem' set but not used [-Wunused-but-set-variable] media_build/v4l/cx25840-ir.c: In function 'cx25840_ir_tx_write': media_build/v4l/cx25840-ir.c:863:21: warning: variable 'c' set but not used [-Wunused-but-set-variable] media_build/v4l/em28xx-audio.c: In function 'snd_em28xx_hw_capture_params': media_build/v4l/em28xx-audio.c:346:31: warning: variable 'format' set but not used [-Wunused-but-set-variable] media_build/v4l/em28xx-audio.c:346:25: warning: variable 'rate' set but not used [-Wunused-but-set-variable] media_build/v4l/em28xx-audio.c:346:15: warning: variable 'channels' set but not used [-Wunused-but-set-variable] media_build/v4l/hdpvr-control.c: In function 'get_input_lines_info': media_build/v4l/hdpvr-control.c:98:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/hdpvr-video.c: In function 'hdpvr_try_ctrl': media_build/v4l/hdpvr-video.c:955:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/saa7134-video.c: In function 'saa7134_s_tuner': media_build/v4l/saa7134-video.c:2030:6: warning: variable 'rx' set but not used [-Wunused-but-set-variable] media_build/v4l/sn9c102_core.c: In function 'sn9c102_stream_interrupt': media_build/v4l/sn9c102_core.c:998:7: warning: variable 'timeout' set but not used [-Wunused-but-set-variable]  Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com> Acked-by: Janne Grunau <j@jannau.net> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-cards.c | s | 10.0K | 311 | Ismael Luceno | ismael.luceno@gmail.com | 1337520631 |  | [media] au0828: Add USB ID used by many dongles  Tested with Yfeng 680 ATV dongle.  Signed-off-by: Ismael Luceno <ismael.luceno@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-i2c.c | s | 9.0K | 304 | Jean Delvare | khali@linux-fr.org | 1322154677 |  | [media] video: Drop undue references to i2c-algo-bit  There's one comment that has been copied from bttv to many other media/video drivers:  /* init + register i2c algo-bit adapter */  Meanwhile, many drivers use hardware I2C implementations instead of relying on i2c-algo-bit, so this comment is misleading. Remove the reference to "algo-bit" from all drivers, to avoid any confusion. This is the best way to ensure that the comments won't go out of sync again. Anyone interested in the implementation details would rather look at the code itself.  Signed-off-by: Jean Delvare <khali@linux-fr.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-dvb.c | s | 11K | 389 | Michael Krufky | mkrufky@linuxtv.org | 1334839494 |  | [media] au0828-dvb: attach tuner based on dev->board.tuner_type on hvr950q  We can tell from the eeprom whether we have a xc5000a or xc5000c. Attach the correct tuner based on this information.  Signed-off-by: Michael Krufky <mkrufky@linuxtv.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828.h | s | 7.6K | 248 | Devin Heitmueller | dheitmueller@kernellabs.com | 1293617794 |  | [media] au0828: fixes for timeout on no video  The first pass of fixes to cause the driver to continue streaming even when there is no video arriving over the ITU656 bus were not adequate.  Continue the work from the previous patch.  Signed-off-by: Devin Heitmueller <dheitmueller@kernellabs.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | au0828-reg.h | s | 2.1K | 56 | Devin Heitmueller | dheitmueller@linuxtv.org | 1239065036 |  | V4L/DVB (11342): au0828: better document i2c registers  Change the #define entries for the i2c registers to be more meaningful, and document the valid values for the registers.  Note that this changeset makes *no* functional changes to the code.  Signed-off-by: Devin Heitmueller <dheitmueller@linuxtv.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
