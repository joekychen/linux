<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › media › video › s5p-fimc › fimc-lite-reg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>fimc-lite-reg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2012 Samsung Electronics Co., Ltd.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef FIMC_LITE_REG_H_</span>
<span class="cp">#define FIMC_LITE_REG_H_</span>

<span class="cp">#include &quot;fimc-lite.h&quot;</span>

<span class="cm">/* Camera Source size */</span>
<span class="cp">#define FLITE_REG_CISRCSIZE			0x00</span>
<span class="cp">#define FLITE_REG_CISRCSIZE_ORDER422_IN_YCBYCR	(0 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CISRCSIZE_ORDER422_IN_YCRYCB	(1 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CISRCSIZE_ORDER422_IN_CBYCRY	(2 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CISRCSIZE_ORDER422_IN_CRYCBY	(3 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CISRCSIZE_ORDER422_MASK	(0x3 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CISRCSIZE_SIZE_CAM_MASK	(0x3fff &lt;&lt; 16 | 0x3fff)</span>

<span class="cm">/* Global control */</span>
<span class="cp">#define FLITE_REG_CIGCTRL			0x04</span>
<span class="cp">#define FLITE_REG_CIGCTRL_YUV422_1P		(0x1e &lt;&lt; 24)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_RAW8			(0x2a &lt;&lt; 24)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_RAW10			(0x2b &lt;&lt; 24)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_RAW12			(0x2c &lt;&lt; 24)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_RAW14			(0x2d &lt;&lt; 24)</span>
<span class="cm">/* User defined formats. x = 0...15 */</span>
<span class="cp">#define FLITE_REG_CIGCTRL_USER(x)		((0x30 + x - 1) &lt;&lt; 24)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_FMT_MASK		(0x3f &lt;&lt; 24)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_SHADOWMASK_DISABLE	(1 &lt;&lt; 21)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_ODMA_DISABLE		(1 &lt;&lt; 20)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_SWRST_REQ		(1 &lt;&lt; 19)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_SWRST_RDY		(1 &lt;&lt; 18)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_SWRST			(1 &lt;&lt; 17)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_TEST_PATTERN_COLORBAR	(1 &lt;&lt; 15)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_INVPOLPCLK		(1 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_INVPOLVSYNC		(1 &lt;&lt; 13)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_INVPOLHREF		(1 &lt;&lt; 12)</span>
<span class="cm">/* Interrupts mask bits (1 disables an interrupt) */</span>
<span class="cp">#define FLITE_REG_CIGCTRL_IRQ_LASTEN		(1 &lt;&lt; 8)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_IRQ_ENDEN		(1 &lt;&lt; 7)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_IRQ_STARTEN		(1 &lt;&lt; 6)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_IRQ_OVFEN		(1 &lt;&lt; 5)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_IRQ_DISABLE_MASK	(0xf &lt;&lt; 5)</span>
<span class="cp">#define FLITE_REG_CIGCTRL_SELCAM_MIPI		(1 &lt;&lt; 3)</span>

<span class="cm">/* Image Capture Enable */</span>
<span class="cp">#define FLITE_REG_CIIMGCPT			0x08</span>
<span class="cp">#define FLITE_REG_CIIMGCPT_IMGCPTEN		(1 &lt;&lt; 31)</span>
<span class="cp">#define FLITE_REG_CIIMGCPT_CPT_FREN		(1 &lt;&lt; 25)</span>
<span class="cp">#define FLITE_REG_CIIMGCPT_CPT_MOD_FRCNT	(1 &lt;&lt; 18)</span>
<span class="cp">#define FLITE_REG_CIIMGCPT_CPT_MOD_FREN		(0 &lt;&lt; 18)</span>

<span class="cm">/* Capture Sequence */</span>
<span class="cp">#define FLITE_REG_CICPTSEQ			0x0c</span>

<span class="cm">/* Camera Window Offset */</span>
<span class="cp">#define FLITE_REG_CIWDOFST			0x10</span>
<span class="cp">#define FLITE_REG_CIWDOFST_WINOFSEN		(1 &lt;&lt; 31)</span>
<span class="cp">#define FLITE_REG_CIWDOFST_CLROVIY		(1 &lt;&lt; 31)</span>
<span class="cp">#define FLITE_REG_CIWDOFST_CLROVFICB		(1 &lt;&lt; 15)</span>
<span class="cp">#define FLITE_REG_CIWDOFST_CLROVFICR		(1 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CIWDOFST_OFST_MASK		((0x1fff &lt;&lt; 16) | 0x1fff)</span>

<span class="cm">/* Camera Window Offset2 */</span>
<span class="cp">#define FLITE_REG_CIWDOFST2			0x14</span>

<span class="cm">/* Camera Output DMA Format */</span>
<span class="cp">#define FLITE_REG_CIODMAFMT			0x18</span>
<span class="cp">#define FLITE_REG_CIODMAFMT_RAW_CON		(1 &lt;&lt; 15)</span>
<span class="cp">#define FLITE_REG_CIODMAFMT_PACK12		(1 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CIODMAFMT_CRYCBY		(0 &lt;&lt; 4)</span>
<span class="cp">#define FLITE_REG_CIODMAFMT_CBYCRY		(1 &lt;&lt; 4)</span>
<span class="cp">#define FLITE_REG_CIODMAFMT_YCRYCB		(2 &lt;&lt; 4)</span>
<span class="cp">#define FLITE_REG_CIODMAFMT_YCBYCR		(3 &lt;&lt; 4)</span>
<span class="cp">#define FLITE_REG_CIODMAFMT_YCBCR_ORDER_MASK	(0x3 &lt;&lt; 4)</span>

<span class="cm">/* Camera Output Canvas */</span>
<span class="cp">#define FLITE_REG_CIOCAN			0x20</span>
<span class="cp">#define FLITE_REG_CIOCAN_MASK			((0x3fff &lt;&lt; 16) | 0x3fff)</span>

<span class="cm">/* Camera Output DMA Offset */</span>
<span class="cp">#define FLITE_REG_CIOOFF			0x24</span>
<span class="cp">#define FLITE_REG_CIOOFF_MASK			((0x3fff &lt;&lt; 16) | 0x3fff)</span>

<span class="cm">/* Camera Output DMA Start Address */</span>
<span class="cp">#define FLITE_REG_CIOSA				0x30</span>

<span class="cm">/* Camera Status */</span>
<span class="cp">#define FLITE_REG_CISTATUS			0x40</span>
<span class="cp">#define FLITE_REG_CISTATUS_MIPI_VVALID		(1 &lt;&lt; 22)</span>
<span class="cp">#define FLITE_REG_CISTATUS_MIPI_HVALID		(1 &lt;&lt; 21)</span>
<span class="cp">#define FLITE_REG_CISTATUS_MIPI_DVALID		(1 &lt;&lt; 20)</span>
<span class="cp">#define FLITE_REG_CISTATUS_ITU_VSYNC		(1 &lt;&lt; 14)</span>
<span class="cp">#define FLITE_REG_CISTATUS_ITU_HREFF		(1 &lt;&lt; 13)</span>
<span class="cp">#define FLITE_REG_CISTATUS_OVFIY		(1 &lt;&lt; 10)</span>
<span class="cp">#define FLITE_REG_CISTATUS_OVFICB		(1 &lt;&lt; 9)</span>
<span class="cp">#define FLITE_REG_CISTATUS_OVFICR		(1 &lt;&lt; 8)</span>
<span class="cp">#define FLITE_REG_CISTATUS_IRQ_SRC_OVERFLOW	(1 &lt;&lt; 7)</span>
<span class="cp">#define FLITE_REG_CISTATUS_IRQ_SRC_LASTCAPEND	(1 &lt;&lt; 6)</span>
<span class="cp">#define FLITE_REG_CISTATUS_IRQ_SRC_FRMSTART	(1 &lt;&lt; 5)</span>
<span class="cp">#define FLITE_REG_CISTATUS_IRQ_SRC_FRMEND	(1 &lt;&lt; 4)</span>
<span class="cp">#define FLITE_REG_CISTATUS_IRQ_CAM		(1 &lt;&lt; 0)</span>
<span class="cp">#define FLITE_REG_CISTATUS_IRQ_MASK		(0xf &lt;&lt; 4)</span>

<span class="cm">/* Camera Status2 */</span>
<span class="cp">#define FLITE_REG_CISTATUS2			0x44</span>
<span class="cp">#define FLITE_REG_CISTATUS2_LASTCAPEND		(1 &lt;&lt; 1)</span>
<span class="cp">#define FLITE_REG_CISTATUS2_FRMEND		(1 &lt;&lt; 0)</span>

<span class="cm">/* Qos Threshold */</span>
<span class="cp">#define FLITE_REG_CITHOLD			0xf0</span>
<span class="cp">#define FLITE_REG_CITHOLD_W_QOS_EN		(1 &lt;&lt; 30)</span>

<span class="cm">/* Camera General Purpose */</span>
<span class="cp">#define FLITE_REG_CIGENERAL			0xfc</span>
<span class="cm">/* b0: 1 - camera B, 0 - camera A */</span>
<span class="cp">#define FLITE_REG_CIGENERAL_CAM_B		(1 &lt;&lt; 0)</span>

<span class="cm">/* ----------------------------------------------------------------------------</span>
<span class="cm"> * Function declarations</span>
<span class="cm"> */</span>
<span class="kt">void</span> <span class="n">flite_hw_reset</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_clear_pending_irq</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="n">u32</span> <span class="n">flite_hw_get_interrupt_source</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_clear_last_capture_end</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_set_interrupt_mask</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_capture_start</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_capture_stop</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_set_camera_bus</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">s5p_fimc_isp_info</span> <span class="o">*</span><span class="n">s_info</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_set_camera_polarity</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span>
				  <span class="k">struct</span> <span class="n">s5p_fimc_isp_info</span> <span class="o">*</span><span class="n">cam</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_set_window_offset</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">flite_frame</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_set_source_format</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">flite_frame</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">flite_hw_set_output_dma</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">flite_frame</span> <span class="o">*</span><span class="n">f</span><span class="p">,</span>
			     <span class="n">bool</span> <span class="n">enable</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_set_dma_window</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">struct</span> <span class="n">flite_frame</span> <span class="o">*</span><span class="n">f</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_set_test_pattern</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">bool</span> <span class="n">on</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">flite_hw_dump_regs</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">label</span><span class="p">);</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">flite_hw_set_output_addr</span><span class="p">(</span><span class="k">struct</span> <span class="n">fimc_lite</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u32</span> <span class="n">paddr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">writel</span><span class="p">(</span><span class="n">paddr</span><span class="p">,</span> <span class="n">dev</span><span class="o">-&gt;</span><span class="n">regs</span> <span class="o">+</span> <span class="n">FLITE_REG_CIOSA</span><span class="p">);</span>
<span class="p">}</span>
<span class="cp">#endif </span><span class="cm">/* FIMC_LITE_REG_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
