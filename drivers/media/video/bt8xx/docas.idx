f | bttvp.h | s | 14K | 438 | Hans de Goede | hdegoede@redhat.com | 1339441532 |  | [media] bttv: The Hauppauge 61334 needs the msp3410 to do radio demodulation  The (radio) audio out from the tuner (which can also demod FM radio) does not seem to be hooked up to the msp3410 on this board in any way, so the only way to get sound from the radio part is to make the msp3410 do the FM radio demod.  The msp3410 can handle this fine, but it is a bit weird compared to how it is handled on other boards.  Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-audio-hook.c | s | 9.4K | 345 | Trent Piepho | xyzzy@speakeasy.org | 1201294913 |  | V4L/DVB (6507): bttv: whitespace cleanup  Someone wasn't using the v4l-dvb commit scripts and so didn't run the automatic whitespace cleaner on their code.  Signed-off-by: Trent Piepho <xyzzy@speakeasy.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>
f | Makefile | g | 380B |  | Arnaud Lacombe | lacombar@gmail.com | 1315086659 |  | [media] drivers/media: do not use EXTRA_CFLAGS  Usage of these flags has been deprecated for nearly 4 years by:      commit f77bf01425b11947eeb3b5b54685212c302741b8     Author: Sam Ravnborg <sam@neptun.(none)>     Date:   Mon Oct 15 22:25:06 2007 +0200          kbuild: introduce ccflags-y, asflags-y and ldflags-y  Moreover, these flags (at least EXTRA_CFLAGS) have been documented for command line use. By default, gmake(1) do not override command line setting, so this is likely to result in build failure or unexpected behavior.  Replace their usage by Kbuild's `{as,cc,ld}flags-y'.  Cc: Sam Ravnborg <sam@ravnborg.org> Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: linux-media@vger.kernel.org Signed-off-by: Arnaud Lacombe <lacombar@gmail.com> Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-if.c | s | 2.8K | 93 | Trent Piepho | xyzzy@speakeasy.org | 1238427767 |  | V4L/DVB (10568): bttv: dynamically allocate device data  The bttv driver had static array of structures for up to 16 possible bttv devices, even though few users have more than one or two.  The structures were quite large and this resulted in a huge BSS segment.  Change the driver to allocate the bttv device data dynamically, which changes "struct bttv bttvs[BTTV_MAX]" to "struct bttv *bttvs[BTTV_MAX]". It would be nice to get ride of "bttvs" entirely but there are some complications with gpio access from the audio & mpeg drivers.  To help bttvs removal along anyway, I changed the open() methods use the video device's drvdata to get the driver data instead of looking it up in the bttvs array.  This is also more efficient.  Some WARN_ON()s are added in cases the device node exists by the bttv device doesn't, which I don't think should be possible.  The gpio access functions need to check if bttvs[card] is NULL now.  Though calling them on a non-existent card in the first place is wrong, but hard to solve given the fundamental problems in how the gpio access code works.  This patch reduces the bss size by 66560 bytes on ia32.  Overall change is a reduction of 66398 bytes, as the WARN_ON()s add some 198 bytes.  Signed-off-by: Trent Piepho <xyzzy@speakeasy.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv.h | s | 14K | 335 | Hans de Goede | hdegoede@redhat.com | 1339441505 |  | [media] bttv: Remove unused needs_tvaudio card variable  Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-driver.c | s | 117K | 3972 | Hans de Goede | hdegoede@redhat.com | 1339441532 |  | [media] bttv: The Hauppauge 61334 needs the msp3410 to do radio demodulation  The (radio) audio out from the tuner (which can also demod FM radio) does not seem to be hooked up to the msp3410 on this board in any way, so the only way to get sound from the radio part is to make the msp3410 do the FM radio demod.  The msp3410 can handle this fine, but it is a bit weird compared to how it is handled on other boards.  Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-gpio.c | s | 4.8K | 150 | Joe Perches | joe@perches.com | 1315094572 |  | [media] bt8xx: Use current logging styles  This converts some messages that were emitted at KERN_INFO to KERN_DEBUG.  All of these messages were guarded by bttv_debug tests.  Add pr_fmt. Convert printks to pr_<level> Convert printks without KERN_<level> to appropriate pr_<level>. Removed embedded prefixes when pr_fmt was added. Whitespace cleanups when around other conversions. Macros coded with if statements should be do { if... } while (0) so the macros can be used in other if tests. Use ##__VA_ARGS__ for variadic macro as well. Coalesce format strings.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-risc.c | s | 25K | 807 | Joe Perches | joe@perches.com | 1315094572 |  | [media] bt8xx: Use current logging styles  This converts some messages that were emitted at KERN_INFO to KERN_DEBUG.  All of these messages were guarded by bttv_debug tests.  Add pr_fmt. Convert printks to pr_<level> Convert printks without KERN_<level> to appropriate pr_<level>. Removed embedded prefixes when pr_fmt was added. Whitespace cleanups when around other conversions. Macros coded with if statements should be do { if... } while (0) so the macros can be used in other if tests. Use ##__VA_ARGS__ for variadic macro as well. Coalesce format strings.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-cards.c | s | 145K | 4528 | Hans de Goede | hdegoede@redhat.com | 1339441532 |  | [media] bttv: The Hauppauge 61334 needs the msp3410 to do radio demodulation  The (radio) audio out from the tuner (which can also demod FM radio) does not seem to be hooked up to the msp3410 on this board in any way, so the only way to get sound from the radio part is to make the msp3410 do the FM radio demod.  The msp3410 can handle this fine, but it is a bit weird compared to how it is handled on other boards.  Signed-off-by: Hans de Goede <hdegoede@redhat.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-i2c.c | s | 9.5K | 334 | Jean Delvare | khali@linux-fr.org | 1322154677 |  | [media] video: Drop undue references to i2c-algo-bit  There's one comment that has been copied from bttv to many other media/video drivers:  /* init + register i2c algo-bit adapter */  Meanwhile, many drivers use hardware I2C implementations instead of relying on i2c-algo-bit, so this comment is misleading. Remove the reference to "algo-bit" from all drivers, to avoid any confusion. This is the best way to ensure that the comments won't go out of sync again. Anyone interested in the implementation details would rather look at the code itself.  Signed-off-by: Jean Delvare <khali@linux-fr.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Kconfig | g | 934B |  | Mauro Carvalho Chehab | mchehab@redhat.com | 1293617810 |  | [media] rc: rename the remaining things to rc_core  The Remote Controller subsystem is meant to be used not only by Infra Red but also for similar types of Remote Controllers. The core is not specific to Infra Red. As such, rename: 	- ir-core.h to rc-core.h 	- IR_CORE to RC_CORE 	- namespace inside rc-core.c/rc-core.h  To be consistent with the other changes.  No functional change on this patch.  Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-audio-hook.h | s | 1.1K | 19 | Nickolay V. Shmyrev | nshmyrev@yandex.ru | 1201294859 |  | V4L/DVB (6416): Split hooks on volume and audio mode and rework their handling  Also convert audio_mode_gpio functions from audio_hook  Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru> Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>
f | bttv-input.c | s | 13K | 499 | Joe Perches | joe@perches.com | 1315094572 |  | [media] bt8xx: Use current logging styles  This converts some messages that were emitted at KERN_INFO to KERN_DEBUG.  All of these messages were guarded by bttv_debug tests.  Add pr_fmt. Convert printks to pr_<level> Convert printks without KERN_<level> to appropriate pr_<level>. Removed embedded prefixes when pr_fmt was added. Whitespace cleanups when around other conversions. Macros coded with if statements should be do { if... } while (0) so the macros can be used in other if tests. Use ##__VA_ARGS__ for variadic macro as well. Coalesce format strings.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bttv-vbi.c | s | 12K | 362 | Joe Perches | joe@perches.com | 1315094572 |  | [media] bt8xx: Use current logging styles  This converts some messages that were emitted at KERN_INFO to KERN_DEBUG.  All of these messages were guarded by bttv_debug tests.  Add pr_fmt. Convert printks to pr_<level> Convert printks without KERN_<level> to appropriate pr_<level>. Removed embedded prefixes when pr_fmt was added. Whitespace cleanups when around other conversions. Macros coded with if statements should be do { if... } while (0) so the macros can be used in other if tests. Use ##__VA_ARGS__ for variadic macro as well. Coalesce format strings.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | bt848.h | s | 11K | 309 | Peter De Schrijver | p2@psychaos.be | 1320758544 |  | [media] bt8xx: add support for PCI device ID 0x36c  add support for conexant PCI device 0x36c. Seems to be fully compatible with the currently supported chips, yet the chip has different PCI ID.  Signed-off-by: Peter De Schrijver <p2@psychaos.be> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
