f | cx88-dvb.c | s | 47K | 1573 | Miroslav Slugen | thunder.mmm@gmail.com | 1325877394 |  | [media] cx88: Fix radio support for Leadtek DTV2000H J  Leadtek DTV2000H J has Philips a FMD1216MEX tuner, and not a FMD1216ME.  Signed-off-by: Miroslav Slugen <thunder.mmm@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-i2c.c | s | 4.9K | 146 | Jean Delvare | khali@linux-fr.org | 1322154677 |  | [media] video: Drop undue references to i2c-algo-bit  There's one comment that has been copied from bttv to many other media/video drivers:  /* init + register i2c algo-bit adapter */  Meanwhile, many drivers use hardware I2C implementations instead of relying on i2c-algo-bit, so this comment is misleading. Remove the reference to "algo-bit" from all drivers, to avoid any confusion. This is the best way to ensure that the comments won't go out of sync again. Anyone interested in the implementation details would rather look at the code itself.  Signed-off-by: Jean Delvare <khali@linux-fr.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-vbi.c | s | 6.3K | 202 | lawrence rust | lawrence@softsystem.co.uk | 1287630292 |  | V4L/DVB: drivers/media: Make static data tables and strings const  Making static data const avoids allocation of additional r/w memory and reduces initialisation time.  It also provides some additional opportunities for compiler optimisations.  Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Makefile | g | 612B |  | Arnaud Lacombe | lacombar@gmail.com | 1315086659 |  | [media] drivers/media: do not use EXTRA_CFLAGS  Usage of these flags has been deprecated for nearly 4 years by:      commit f77bf01425b11947eeb3b5b54685212c302741b8     Author: Sam Ravnborg <sam@neptun.(none)>     Date:   Mon Oct 15 22:25:06 2007 +0200          kbuild: introduce ccflags-y, asflags-y and ldflags-y  Moreover, these flags (at least EXTRA_CFLAGS) have been documented for command line use. By default, gmake(1) do not override command line setting, so this is likely to result in build failure or unexpected behavior.  Replace their usage by Kbuild's `{as,cc,ld}flags-y'.  Cc: Sam Ravnborg <sam@ravnborg.org> Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: linux-media@vger.kernel.org Signed-off-by: Arnaud Lacombe <lacombar@gmail.com> Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-video.c | s | 56K | 1909 | istvan_v@mailbox.hu | istvan_v@mailbox.hu | 1314454876 |  | [media] cx88: notch filter control fixes  This patch reduces the number of available choices for the notch filter type control so that the standard-specific filter types cannot be selected. It is now limited to being either 0 (4xFsc, the default) or 1 (square pixel optimized). The patch also removes the initialization of this control from cx88_reset(), since that is already done by init_controls(), which is called by cx8800_initdev().  Signed-off-by: Istvan Varga <istvan_v@mailbox.hu> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-cards.c | s | 96K | 3678 | Miroslav Slugen | thunder.mmm@gmail.com | 1326722122 |  | [media] cx88: fix: don't duplicate xc4000 entry for radio  All radio tuners in cx88 driver using same address for radio and tuner, so there is no need to probe it twice for same tuner and we can use radio_type UNSET, this also fix broken radio since kernel 2.6.39-rc1 for those tuners.  Cc: stable@kernel.org Signed-off-by: Miroslav Slugen <thunder.mmm@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-input.c | s | 16K | 554 | Istvan Varga | istvan_v@mailbox.hu | 1325944050 |  | [media] Add support for two Leadtek Winfast TV 2000XP types  Add support for two new types of Leadtek Winfast TV 2000XP tuner  The author of this patch is Istvan Varga. Only resending current reformated version against current git.  Signed-off-by: Miroslav Slugen <thunder.mmm@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-blackbird.c | s | 37K | 1163 | Hans Verkuil | hans.verkuil@cisco.com | 1339449248 |  | [media] cx88: fix firmware load on big-endian systems  Tested with a HVR-1300.  Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88.h | s | 22K | 603 | Istvan Varga | istvan_v@mailbox.hu | 1325944050 |  | [media] Add support for two Leadtek Winfast TV 2000XP types  Add support for two new types of Leadtek Winfast TV 2000XP tuner  The author of this patch is Istvan Varga. Only resending current reformated version against current git.  Signed-off-by: Miroslav Slugen <thunder.mmm@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-dsp.c | s | 8.7K | 268 | lawrence rust | lawrence@softsystem.co.uk | 1287630292 |  | V4L/DVB: drivers/media: Make static data tables and strings const  Making static data const avoids allocation of additional r/w memory and reduces initialisation time.  It also provides some additional opportunities for compiler optimisations.  Signed-off-by: Lawrence Rust <lvr@softsystem.co.uk> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-vp3054-i2c.c | s | 4.2K | 124 | Mauro Carvalho Chehab | mchehab@redhat.com | 1293718639 |  | [media] cx88: Remove the obsolete i2c_adapter.id field  Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-vp3054-i2c.h | s | 1.5K | 33 | Trent Piepho | xyzzy@speakeasy.org | 1184779391 |  | V4L/DVB (5629): Cx88: VP3054 support can't be a module when cx88 is compiled in  If cx88 support is compiled into the kernel while vp3054 is left as a module, the kernel will fail to link.  Adjust the existing "#if" code in cx88 so that it won't consider vp3054 to be supported in this case.  It might make sense to move vp3054 selection into the "customisation" menu instead of a cx88 sub-option (though this is a cx88 feature, there is no extra chip involved).  It might also make sense to use dvb_attach() to load vp3054 support.  Signed-off-by: Trent Piepho <xyzzy@speakeasy.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>
f | cx88-core.c | s | 30K | 967 | istvan_v@mailbox.hu | istvan_v@mailbox.hu | 1314454876 |  | [media] cx88: notch filter control fixes  This patch reduces the number of available choices for the notch filter type control so that the standard-specific filter types cannot be selected. It is now limited to being either 0 (4xFsc, the default) or 1 (square pixel optimized). The patch also removes the initialization of this control from cx88_reset(), since that is already done by init_controls(), which is called by cx8800_initdev().  Signed-off-by: Istvan Varga <istvan_v@mailbox.hu> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-alsa.c | s | 24K | 809 | Rusty Russell | rusty@rustcorp.com.au | 1326409340 |  | module_param: make bool parameters really bool (drivers & misc)  module_param(bool) used to counter-intuitively take an int.  In fddd5201 (mid-2009) we allowed bool or int/unsigned int using a messy trick.  It's time to remove the int/unsigned int option.  For this version it'll simply give a warning, but it'll break next kernel version.  Acked-by: Mauro Carvalho Chehab <mchehab@redhat.com> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | Kconfig | g | 2.7K |  | Hans Verkuil | hans.verkuil@cisco.com | 1320760341 |  | [media] cx88: fix menu level for the VP-3054 module  Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-tvaudio.c | s | 28K | 966 | Lawrence Rust | lawrence@softsystem.co.uk | 1300750339 |  | [media] Add proper audio support for Nova-S Plus with wm8775 ADC  This patch adds audio DMA capture and ALSA mixer elements for the line input jack of the Hauppauge Nova-S-plus DVB-S PCI card.  The Nova-S-plus has a WM8775 ADC that is currently not detected.  This patch enables this chip and exports volume, balance mute and ALC elements for ALSA mixer controls.  [mchehab@redhat.com: Changed the patch to only talk with wm8775 if board info says so. Also, added platform_data support, to avoid changing the behaviour for other boards, and fixed CodingStyle]  [awalls@md.metrocast.net: Changed patch to make the WM8775_GID defintion bridge driver private and let the bridge driver set the value of v4l2_subdev.grp_id.]  -- To unsubscribe from this list: send the line "unsubscribe linux-media" in the body of a message to majordomo@vger.kernel.org More majordomo info at  http://vger.kernel.org/majordomo-info.html  Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com> Signed-off-by: Andy Walls <awalls@md.metrocast.net>
f | cx88-mpeg.c | s | 24K | 775 | Devin Heitmueller | dheitmueller@kernellabs.com | 1311800160 |  | [media] cx88: properly maintain decoder config when using MPEG encoder  The cx88 driver would force core->input to always be zero when doing the the request_acquire().  While it wasn't actually changing the input register in the hardware, the driver makes decision based on the current input.  In particular, it decides whether to do things like enabling the comb filter when on a composite input but disabling it on s-video.  So for example, on the HVR-1300, using the s-video input with the MPEG encoder would end up with the video decoder core configured as though the input type were composite.  In short, the driver state did not match the hardware state.  This patch does two things:  1.  It forces the input to zero only if actually switching to DVB mode.  This prevents the input from changing when the blackbird driver opens the device.  2.  Keep track of what the input was set to when switching to DVB, and reset it back when done.  This eliminates a condition where for example the user had the analog side of the board set to capture on the s-video input, then he used DVB for a bit, then the analog input would unexpectedly be set to the tuner input.  This work was sponsored by Anevia S.A.  Signed-off-by: Devin Heitmueller <dheitmueller@kernellabs.com> Cc: Florent Audebert <florent.audebert@anevia.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | cx88-reg.h | s | 33K | 742 | Trent Piepho | xyzzy@speakeasy.org | 1191978355 |  | V4L/DVB (6066): cx88-alsa: Change order of interrupt enabling, fix spurious IRQs  Currently the driver turns on audio interrupts, then sets the audio interrupt mask to select which interrupts to get.  One could received unwanted interrupts since the mask is set _after_ interrupts have already been turned on.  Change the order of the operations, and clear any audio interrupt status bits that are already set for good measure.  Before changing the SRAM FIFO parameters, make sure the FIFO isn't being used. This shouldn't happen with just the ALSA driver, as it should never try to turn on FIFO/RISC/DMA while they are already on.  However, the V4L driver needs to turn the audio FIFO on for analog audio output to work (undocumented cx88 bug).  The FIFO parameters are in an inconsistent state while they are updated, and this results in many FIFO sync error IRQs if the FIFO is in use while it's in this inconsistent state.  Also create and use a bunch of symbolic constants for audio interrupt mask bits.  Signed-off-by: Trent Piepho <xyzzy@speakeasy.org> Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>
