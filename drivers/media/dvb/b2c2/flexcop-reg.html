<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › media › dvb › b2c2 › flexcop-reg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>flexcop-reg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Linux driver for digital TV devices equipped with B2C2 FlexcopII(b)/III</span>
<span class="cm"> * flexcop-reg.h - register abstraction for FlexCopII, FlexCopIIb and FlexCopIII</span>
<span class="cm"> * see flexcop.c for copyright information</span>
<span class="cm"> */</span>
<span class="cp">#ifndef __FLEXCOP_REG_H__</span>
<span class="cp">#define __FLEXCOP_REG_H__</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FLEXCOP_UNK</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FLEXCOP_II</span><span class="p">,</span>
	<span class="n">FLEXCOP_IIB</span><span class="p">,</span>
	<span class="n">FLEXCOP_III</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_revision_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_UNK</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FC_CABLE</span><span class="p">,</span>
	<span class="n">FC_AIR_DVBT</span><span class="p">,</span>
	<span class="n">FC_AIR_ATSC1</span><span class="p">,</span>
	<span class="n">FC_AIR_ATSC2</span><span class="p">,</span>
	<span class="n">FC_AIR_ATSC3</span><span class="p">,</span>
	<span class="n">FC_SKY_REV23</span><span class="p">,</span>
	<span class="n">FC_SKY_REV26</span><span class="p">,</span>
	<span class="n">FC_SKY_REV27</span><span class="p">,</span>
	<span class="n">FC_SKY_REV28</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_device_type_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_USB</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FC_PCI</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_bus_t</span><span class="p">;</span>

<span class="cm">/* FlexCop IBI Registers */</span>
<span class="cp">#if defined(__LITTLE_ENDIAN)</span>
<span class="cp">#include &quot;flexcop_ibi_value_le.h&quot;</span>
<span class="cp">#else</span>
<span class="cp">#if defined(__BIG_ENDIAN)</span>
<span class="cp">#include &quot;flexcop_ibi_value_be.h&quot;</span>
<span class="cp">#else</span>
<span class="cp">#error no endian defined</span>
<span class="cp">#endif</span>
<span class="cp">#endif</span>

<span class="cp">#define fc_data_Tag_ID_DVB  0x3e</span>
<span class="cp">#define fc_data_Tag_ID_ATSC 0x3f</span>
<span class="cp">#define fc_data_Tag_ID_IDSB 0x8b</span>

<span class="cp">#define fc_key_code_default 0x1</span>
<span class="cp">#define fc_key_code_even    0x2</span>
<span class="cp">#define fc_key_code_odd     0x3</span>

<span class="k">extern</span> <span class="n">flexcop_ibi_value</span> <span class="n">ibi_zero</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_I2C_PORT_DEMOD</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FC_I2C_PORT_EEPROM</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">FC_I2C_PORT_TUNER</span>  <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_i2c_port_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_WRITE</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FC_READ</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_access_op_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_SRAM_DEST_NET</span>   <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FC_SRAM_DEST_CAI</span>   <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">FC_SRAM_DEST_CAO</span>   <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">FC_SRAM_DEST_MEDIA</span> <span class="o">=</span> <span class="mi">8</span>
<span class="p">}</span> <span class="n">flexcop_sram_dest_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_SRAM_DEST_TARGET_WAN_USB</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FC_SRAM_DEST_TARGET_DMA1</span>    <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FC_SRAM_DEST_TARGET_DMA2</span>    <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">FC_SRAM_DEST_TARGET_FC3_CA</span>  <span class="o">=</span> <span class="mi">3</span>
<span class="p">}</span> <span class="n">flexcop_sram_dest_target_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_SRAM_2_32KB</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="cm">/*  64KB */</span>
	<span class="n">FC_SRAM_1_32KB</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="cm">/*  32KB - default fow FCII */</span>
	<span class="n">FC_SRAM_1_128KB</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="cm">/* 128KB */</span>
	<span class="n">FC_SRAM_1_48KB</span>  <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="cm">/*  48KB - default for FCIII */</span>
<span class="p">}</span> <span class="n">flexcop_sram_type_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_WAN_SPEED_4MBITS</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="n">FC_WAN_SPEED_8MBITS</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FC_WAN_SPEED_12MBITS</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">FC_WAN_SPEED_16MBITS</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_wan_speed_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_DMA_1</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FC_DMA_2</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_dma_index_t</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">FC_DMA_SUBADDR_0</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">FC_DMA_SUBADDR_1</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_dma_addr_index_t</span><span class="p">;</span>

<span class="cm">/* names of the particular registers */</span>
<span class="k">typedef</span> <span class="k">enum</span> <span class="p">{</span>
	<span class="n">dma1_000</span>            <span class="o">=</span> <span class="mh">0x000</span><span class="p">,</span>
	<span class="n">dma1_004</span>            <span class="o">=</span> <span class="mh">0x004</span><span class="p">,</span>
	<span class="n">dma1_008</span>            <span class="o">=</span> <span class="mh">0x008</span><span class="p">,</span>
	<span class="n">dma1_00c</span>            <span class="o">=</span> <span class="mh">0x00c</span><span class="p">,</span>
	<span class="n">dma2_010</span>            <span class="o">=</span> <span class="mh">0x010</span><span class="p">,</span>
	<span class="n">dma2_014</span>            <span class="o">=</span> <span class="mh">0x014</span><span class="p">,</span>
	<span class="n">dma2_018</span>            <span class="o">=</span> <span class="mh">0x018</span><span class="p">,</span>
	<span class="n">dma2_01c</span>            <span class="o">=</span> <span class="mh">0x01c</span><span class="p">,</span>

	<span class="n">tw_sm_c_100</span>         <span class="o">=</span> <span class="mh">0x100</span><span class="p">,</span>
	<span class="n">tw_sm_c_104</span>         <span class="o">=</span> <span class="mh">0x104</span><span class="p">,</span>
	<span class="n">tw_sm_c_108</span>         <span class="o">=</span> <span class="mh">0x108</span><span class="p">,</span>
	<span class="n">tw_sm_c_10c</span>         <span class="o">=</span> <span class="mh">0x10c</span><span class="p">,</span>
	<span class="n">tw_sm_c_110</span>         <span class="o">=</span> <span class="mh">0x110</span><span class="p">,</span>

	<span class="n">lnb_switch_freq_200</span> <span class="o">=</span> <span class="mh">0x200</span><span class="p">,</span>
	<span class="n">misc_204</span>            <span class="o">=</span> <span class="mh">0x204</span><span class="p">,</span>
	<span class="n">ctrl_208</span>            <span class="o">=</span> <span class="mh">0x208</span><span class="p">,</span>
	<span class="n">irq_20c</span>             <span class="o">=</span> <span class="mh">0x20c</span><span class="p">,</span>
	<span class="n">sw_reset_210</span>        <span class="o">=</span> <span class="mh">0x210</span><span class="p">,</span>
	<span class="n">misc_214</span>            <span class="o">=</span> <span class="mh">0x214</span><span class="p">,</span>
	<span class="n">mbox_v8_to_host_218</span> <span class="o">=</span> <span class="mh">0x218</span><span class="p">,</span>
	<span class="n">mbox_host_to_v8_21c</span> <span class="o">=</span> <span class="mh">0x21c</span><span class="p">,</span>

	<span class="n">pid_filter_300</span>      <span class="o">=</span> <span class="mh">0x300</span><span class="p">,</span>
	<span class="n">pid_filter_304</span>      <span class="o">=</span> <span class="mh">0x304</span><span class="p">,</span>
	<span class="n">pid_filter_308</span>      <span class="o">=</span> <span class="mh">0x308</span><span class="p">,</span>
	<span class="n">pid_filter_30c</span>      <span class="o">=</span> <span class="mh">0x30c</span><span class="p">,</span>
	<span class="n">index_reg_310</span>       <span class="o">=</span> <span class="mh">0x310</span><span class="p">,</span>
	<span class="n">pid_n_reg_314</span>       <span class="o">=</span> <span class="mh">0x314</span><span class="p">,</span>
	<span class="n">mac_low_reg_318</span>     <span class="o">=</span> <span class="mh">0x318</span><span class="p">,</span>
	<span class="n">mac_high_reg_31c</span>    <span class="o">=</span> <span class="mh">0x31c</span><span class="p">,</span>

	<span class="n">data_tag_400</span>        <span class="o">=</span> <span class="mh">0x400</span><span class="p">,</span>
	<span class="n">card_id_408</span>         <span class="o">=</span> <span class="mh">0x408</span><span class="p">,</span>
	<span class="n">card_id_40c</span>         <span class="o">=</span> <span class="mh">0x40c</span><span class="p">,</span>
	<span class="n">mac_address_418</span>     <span class="o">=</span> <span class="mh">0x418</span><span class="p">,</span>
	<span class="n">mac_address_41c</span>     <span class="o">=</span> <span class="mh">0x41c</span><span class="p">,</span>

	<span class="n">ci_600</span>              <span class="o">=</span> <span class="mh">0x600</span><span class="p">,</span>
	<span class="n">pi_604</span>              <span class="o">=</span> <span class="mh">0x604</span><span class="p">,</span>
	<span class="n">pi_608</span>              <span class="o">=</span> <span class="mh">0x608</span><span class="p">,</span>
	<span class="n">dvb_reg_60c</span>         <span class="o">=</span> <span class="mh">0x60c</span><span class="p">,</span>

	<span class="n">sram_ctrl_reg_700</span>   <span class="o">=</span> <span class="mh">0x700</span><span class="p">,</span>
	<span class="n">net_buf_reg_704</span>     <span class="o">=</span> <span class="mh">0x704</span><span class="p">,</span>
	<span class="n">cai_buf_reg_708</span>     <span class="o">=</span> <span class="mh">0x708</span><span class="p">,</span>
	<span class="n">cao_buf_reg_70c</span>     <span class="o">=</span> <span class="mh">0x70c</span><span class="p">,</span>
	<span class="n">media_buf_reg_710</span>   <span class="o">=</span> <span class="mh">0x710</span><span class="p">,</span>
	<span class="n">sram_dest_reg_714</span>   <span class="o">=</span> <span class="mh">0x714</span><span class="p">,</span>
	<span class="n">net_buf_reg_718</span>     <span class="o">=</span> <span class="mh">0x718</span><span class="p">,</span>
	<span class="n">wan_ctrl_reg_71c</span>    <span class="o">=</span> <span class="mh">0x71c</span><span class="p">,</span>
<span class="p">}</span> <span class="n">flexcop_ibi_register</span><span class="p">;</span>

<span class="cp">#define flexcop_set_ibi_value(reg,attr,val) { \</span>
<span class="cp">	flexcop_ibi_value v = fc-&gt;read_ibi_reg(fc,reg); \</span>
<span class="cp">	v.reg.attr = val; \</span>
<span class="cp">	fc-&gt;write_ibi_reg(fc,reg,v); \</span>
<span class="cp">}</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
