f | smsusb.c | s | 15K | 468 | Michael Krufky | mkrufky@linuxtv.org | 1339441955 |  | [media] smsusb: add autodetection support for USB ID 2040:f5a0  Signed-off-by: Michael Krufky <mkrufky@linuxtv.org> Cc: stable@kernel.org Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | smsir.h | s | 1.5K | 39 | Mauro Carvalho Chehab | mchehab@redhat.com | 1293617810 |  | [media] rc: rename the remaining things to rc_core  The Remote Controller subsystem is meant to be used not only by Infra Red but also for similar types of Remote Controllers. The core is not specific to Infra Red. As such, rename: 	- ir-core.h to rc-core.h 	- IR_CORE to RC_CORE 	- namespace inside rc-core.c/rc-core.h  To be consistent with the other changes.  No functional change on this patch.  Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Makefile | g | 286B |  | Arnaud Lacombe | lacombar@gmail.com | 1315086659 |  | [media] drivers/media: do not use EXTRA_CFLAGS  Usage of these flags has been deprecated for nearly 4 years by:      commit f77bf01425b11947eeb3b5b54685212c302741b8     Author: Sam Ravnborg <sam@neptun.(none)>     Date:   Mon Oct 15 22:25:06 2007 +0200          kbuild: introduce ccflags-y, asflags-y and ldflags-y  Moreover, these flags (at least EXTRA_CFLAGS) have been documented for command line use. By default, gmake(1) do not override command line setting, so this is likely to result in build failure or unexpected behavior.  Replace their usage by Kbuild's `{as,cc,ld}flags-y'.  Cc: Sam Ravnborg <sam@ravnborg.org> Cc: Mauro Carvalho Chehab <mchehab@infradead.org> Cc: linux-media@vger.kernel.org Signed-off-by: Arnaud Lacombe <lacombar@gmail.com> Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | smsendian.h | s | 1.1K | 22 | Uri Shkolnik | uris@siano-ms.com | 1245190483 |  | V4L/DVB (11892): Siano: smsendian - declare function as extern  Declare the object function as 'extern'  Signed-off-by: Uri Shkolnik <uris@siano-ms.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | smssdio.c | s | 8.1K | 288 | Hans Verkuil | hans.verkuil@cisco.com | 1337017810 |  | [media] v4l/dvb: fix compiler warnings  media_build/v4l/stb6100.c: In function 'stb6100_read_reg': media_build/v4l/stb6100.c:161:6: warning: variable 'rc' set but not used [-Wunused-but-set-variable] media_build/v4l/cx24110.c: In function 'cx24110_read_ucblocks': media_build/v4l/cx24110.c:515:6: warning: variable 'lastbyer' set but not used [-Wunused-but-set-variable] media_build/v4l/dib9000.c: In function 'dib9000_mbx_process': media_build/v4l/dib9000.c:711:6: warning: variable 'tmp' set but not used [-Wunused-but-set-variable] media_build/v4l/zl10353.c: In function 'zl10353_init': media_build/v4l/zl10353.c:562:6: warning: variable 'rc' set but not used [-Wunused-but-set-variable] media_build/v4l/stv0297.c: In function 'stv0297_set_frontend': media_build/v4l/stv0297.c:417:16: warning: variable 'starttime' set but not used [-Wunused-but-set-variable] media_build/v4l/lgs8gxx.c: In function 'lgs8gxx_set_mode_manual': media_build/v4l/lgs8gxx.c:265:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/af9013.c: In function 'af9013_statistics_work': media_build/v4l/af9013.c:517:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/stv090x.c: In function 'stv090x_optimize_track': media_build/v4l/stv090x.c:2845:23: warning: variable 'rolloff' set but not used [-Wunused-but-set-variable] media_build/v4l/stv090x.c: In function 'stv090x_algo': media_build/v4l/stv090x.c:3177:28: warning: variable 'no_signal' set but not used [-Wunused-but-set-variable] media_build/v4l/it913x-fe.c: In function 'it913x_fe_read_ber': media_build/v4l/it913x-fe.c:636:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/it913x-fe.c: In function 'it913x_fe_get_frontend': media_build/v4l/it913x-fe.c:661:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/it913x-fe.c: In function 'it913x_fe_set_frontend': media_build/v4l/it913x-fe.c:694:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/m88rs2000.c: In function 'm88rs2000_set_fec': media_build/v4l/m88rs2000.c:657:6: warning: variable 'ret' set but not used [-Wunused-but-set-variable] media_build/v4l/dst_ca.c: In function 'ca_send_message': media_build/v4l/dst_ca.c:480:15: warning: variable 'ca_message_header_len' set but not used [-Wunused-but-set-variable] media_build/v4l/smssdio.c: In function 'smssdio_interrupt': media_build/v4l/smssdio.c:117:11: warning: variable 'isr' set but not used [-Wunused-but-set-variable]  Signed-off-by: Hans Verkuil <hans.verkuil@cisco.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | smsir.c | s | 3.1K | 87 | Mauro Carvalho Chehab | mchehab@redhat.com | 1293617810 |  | [media] rc: Rename remote controller type to rc_type instead of ir_type  for i in `find drivers/staging -type f -name *.[ch]` `find include/media -type f -name *.[ch]` `find drivers/media -type f -name *.[ch]`; do sed s,IR_TYPE,RC_TYPE,g <$i >a && mv a $i; done for i in `find drivers/staging -type f -name *.[ch]` `find include/media -type f -name *.[ch]` `find drivers/media -type f -name *.[ch]`; do sed s,ir_type,rc_type,g <$i >a && mv a $i; done  Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | smscoreapi.h | s | 23K | 638 | Mauro Carvalho Chehab | mchehab@redhat.com | 1311799992 |  | [media] drxd, siano: Remove unused include linux/version.h  Both drxd and siano drivers were including linux/version.h without any reason. Probably, this is due to some compatibility code that used to exist before having their support added into the Linux Kernel.  Acked-by: Hans Verkuil <hans.verkuil@cisco.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | smsendian.c | s | 2.5K | 83 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103911 |  | drivers/media: Add export.h for EXPORT_SYMBOL/THIS_MODULE as required  These two macros were in module.h but now module.h is no longer sprayed across every source file imaginable, so the users need to expicitly call out their use of them.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | smsdvb.c | s | 28K | 892 | Gianluca Gennari | gennarone@gmail.com | 1331216412 |  | [media] smsdvb: fix get_frontend  In the get_frontend function, an internal copy of the dtv_frontend_properties struct (which is never initialized) is copied over the frontend property cache data structure, resetting everything to 0. In particular, the delivery system is reset to 0 (which is an invalid value) so the driver stops working as soon as a DVBv3 application calls the get_frontend function, giving this error:  dvb_frontend_ioctl_legacy: doesn't know how to handle a DVBv3 call to delivery system 0  This patch eliminates the unused internal copy of the dtv_frontend_properties struct, and gives a proper implementation of the get_frontend function.  The original author of the patch is Panagiotis Malakoudis, who also tested this new version on Ubuntu 11.10 with the latest media_build tree installed. The original patch has been used on MIPS set-top-boxes for over one year, but it was never posted on the linux-media list. I ported the code to the current media_build tree (converting it to use the dtv_frontend_properties struct) and added basic support for ISDB-T (untested).  Signed-off-by: Panagiotis Malakoudis <malakudi@gmail.com> Signed-off-by: Gianluca Gennari <gennarone@gmail.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | sms-cards.c | s | 8.5K | 281 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103911 |  | drivers/media: Add module.h to all files using it implicitly  A pending cleanup will mean that module.h won't be implicitly everywhere anymore.  Make sure the modular drivers in clocksource are actually calling out for <module.h> explicitly in advance.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | smscoreapi.c | s | 41K | 1378 | Mauro Carvalho Chehab | mchehab@redhat.com | 1311800016 |  | [media] siano: bad parameter is -EINVAL and not -EFAULT  Acked-by: Hans Verkuil <hans.verkuil@cisco.com> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | Kconfig | g | 886B |  | Mauro Carvalho Chehab | mchehab@redhat.com | 1293617810 |  | [media] rc: rename the remaining things to rc_core  The Remote Controller subsystem is meant to be used not only by Infra Red but also for similar types of Remote Controllers. The core is not specific to Infra Red. As such, rename: 	- ir-core.h to rc-core.h 	- IR_CORE to RC_CORE 	- namespace inside rc-core.c/rc-core.h  To be consistent with the other changes.  No functional change on this patch.  Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | sms-cards.h | s | 3.2K | 109 | Mauro Carvalho Chehab | mchehab@redhat.com | 1280778236 |  | V4L/DVB: sms: Convert IR support to use the Remote Controller core  Rewrites the siano IR implementation. The previous implementation were non-standard. As such, it has issues if more than one device registers IR, as there used to have some static constants used during protocol decoding phase. Also, it used to implement its on RAW decoder, and only for RC5.  The new code uses RC core subsystem for handling IR. This brings several new features to the driver, including: 	- Allow to dynamically replace the IR keycodes; 	- Supports all existing raw decoders (JVC, NEC, RC-5, RC-6, SONY); 	- Supports lirc dev; 	- Doesn't have race conditions when more than one sms IR is 	  registered; 	- The code size for the IR implementation is very small; 	- it exports the IR features via /sys/class/rc.  Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
