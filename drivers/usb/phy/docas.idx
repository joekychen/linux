f | Kconfig | g | 518B |  | Alexandre Pereira da Silva | aletes.xgr@gmail.com | 1340752473 |  | usb: phy: Fix Kconfig dependency for Phy drivers  USB phy layer driver are only built if usb host is selected, but they are used too by USB_GADGET drivers  Signed-off-by: Alexandre Pereira da Silva <aletes.xgr@gmail.com> Acked-by: Roland Stigge <stigge@antcom.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | Makefile | g | 127B |  | Roland Stigge | stigge@antcom.de | 1335893582 |  | USB: Add driver for NXP ISP1301 USB transceiver  This new driver registers the NXP ISP1301 chip via the I2C subsystem.  The chip is the USB transceiver shared by ohci-nxp, lpc32xx_udc (gadget) and isp1301_omap.  ISP1301 is a very low-level driver that primarily separates out the I2C client registration of the ISP1301 chip (including instantiation via DT), used by other drivers, and declares the chip's registers. It's only a helper driver for some OHCI and USB device drivers.  The driver can be considered as a register set extension of ohci-nxp, lpc32xx-udc and isp1301_omap, which in turn know best what to do with the low level functionality (individual ISP1301 registers and timing, see the different initialization strategies in those drivers). Those drivers previously internally duplicated ISP1301 register definitions which is solved by this new isp1301 driver. The ISP1301 registers exposed via isp1301.h can be accessed by other drivers using it with standard i2c_smbus_*() accesses.  Following patches let the respective USB host and gadget drivers use this driver, instead of duplicating ISP1301 handling.  Signed-off-by: Roland Stigge <stigge@antcom.de> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | isp1301.c | s | 1.7K | 64 | Roland Stigge | stigge@antcom.de | 1335893582 |  | USB: Add driver for NXP ISP1301 USB transceiver  This new driver registers the NXP ISP1301 chip via the I2C subsystem.  The chip is the USB transceiver shared by ohci-nxp, lpc32xx_udc (gadget) and isp1301_omap.  ISP1301 is a very low-level driver that primarily separates out the I2C client registration of the ISP1301 chip (including instantiation via DT), used by other drivers, and declares the chip's registers. It's only a helper driver for some OHCI and USB device drivers.  The driver can be considered as a register set extension of ohci-nxp, lpc32xx-udc and isp1301_omap, which in turn know best what to do with the low level functionality (individual ISP1301 registers and timing, see the different initialization strategies in those drivers). Those drivers previously internally duplicated ISP1301 register definitions which is solved by this new isp1301 driver. The ISP1301 registers exposed via isp1301.h can be accessed by other drivers using it with standard i2c_smbus_*() accesses.  Following patches let the respective USB host and gadget drivers use this driver, instead of duplicating ISP1301 handling.  Signed-off-by: Roland Stigge <stigge@antcom.de> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
