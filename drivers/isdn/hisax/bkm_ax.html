<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › isdn › hisax › bkm_ax.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>bkm_ax.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* $Id: bkm_ax.h,v 1.5.6.3 2001/09/23 22:24:46 kai Exp $</span>
<span class="cm"> *</span>
<span class="cm"> * low level decls for T-Berkom cards A4T and Scitel Quadro (4*S0, passive)</span>
<span class="cm"> *</span>
<span class="cm"> * Author       Roland Klabunde</span>
<span class="cm"> * Copyright    by Roland Klabunde   &lt;R.Klabunde@Berkom.de&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This software may be used and distributed according to the terms</span>
<span class="cm"> * of the GNU General Public License, incorporated herein by reference.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef	__BKM_AX_H__</span>
<span class="cp">#define	__BKM_AX_H__</span>

<span class="cm">/* Supported boards	(subtypes) */</span>
<span class="cp">#define SCT_1		1</span>
<span class="cp">#define	SCT_2		2</span>
<span class="cp">#define	SCT_3		3</span>
<span class="cp">#define	SCT_4		4</span>
<span class="cp">#define BKM_A4T		5</span>

<span class="cp">#define	PLX_ADDR_PLX		0x14	</span><span class="cm">/* Addr PLX configuration */</span><span class="cp"></span>
<span class="cp">#define	PLX_ADDR_ISAC		0x18	</span><span class="cm">/* Addr ISAC */</span><span class="cp"></span>
<span class="cp">#define	PLX_ADDR_HSCX		0x1C	</span><span class="cm">/* Addr HSCX */</span><span class="cp"></span>
<span class="cp">#define	PLX_ADDR_ALE		0x20	</span><span class="cm">/* Addr ALE */</span><span class="cp"></span>
<span class="cp">#define	PLX_ADDR_ALEPLUS	0x24	</span><span class="cm">/* Next Addr behind ALE */</span><span class="cp"></span>

<span class="cp">#define	PLX_SUBVEN		0x2C	</span><span class="cm">/* Offset SubVendor */</span><span class="cp"></span>
<span class="cp">#define	PLX_SUBSYS		0x2E	</span><span class="cm">/* Offset SubSystem */</span><span class="cp"></span>


<span class="cm">/* Application specific registers I20 (Siemens SZB6120H) */</span>
<span class="k">typedef</span>	<span class="k">struct</span> <span class="p">{</span>
	<span class="cm">/* Video front end horizontal configuration register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VFEHorzCfg</span><span class="p">;</span>	<span class="cm">/* Offset 00 */</span>
	<span class="cm">/* Video front end vertical configuration register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VFEVertCfg</span><span class="p">;</span>	<span class="cm">/* Offset 04 */</span>
	<span class="cm">/* Video front end scaler and pixel format register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VFEScaler</span><span class="p">;</span>	<span class="cm">/* Offset 08 */</span>
	<span class="cm">/* Video display top register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VDispTop</span><span class="p">;</span>	<span class="cm">/* Offset 0C */</span>
	<span class="cm">/* Video display bottom register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VDispBottom</span><span class="p">;</span>	<span class="cm">/* Offset 10 */</span>
	<span class="cm">/* Video stride, status and frame grab register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VidFrameGrab</span><span class="p">;</span><span class="cm">/* Offset 14 */</span>
	<span class="cm">/* Video display configuration register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VDispCfg</span><span class="p">;</span>	<span class="cm">/* Offset 18 */</span>
	<span class="cm">/* Video masking map top */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VMaskTop</span><span class="p">;</span>	<span class="cm">/* Offset 1C */</span>
	<span class="cm">/* Video masking map bottom */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20VMaskBottom</span><span class="p">;</span>	<span class="cm">/* Offset 20 */</span>
	<span class="cm">/* Overlay control register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20OvlyControl</span><span class="p">;</span>	<span class="cm">/* Offset 24 */</span>
	<span class="cm">/* System, PCI and general purpose pins control register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20SysControl</span><span class="p">;</span>	<span class="cm">/* Offset 28 */</span>
<span class="cp">#define	sysRESET		0x01000000	</span><span class="cm">/* bit 24:Softreset (Low)		*/</span><span class="cp"></span>
	<span class="cm">/* GPIO 4...0: Output fixed for our cfg! */</span>
<span class="cp">#define	sysCFG			0x000000E0	</span><span class="cm">/* GPIO 7,6,5: Input */</span><span class="cp"></span>
	<span class="cm">/* General purpose pins and guest bus control register */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20GuestControl</span><span class="p">;</span><span class="cm">/* Offset 2C */</span>
<span class="cp">#define	guestWAIT_CFG	0x00005555	</span><span class="cm">/* 4 PCI waits for all */</span><span class="cp"></span>
<span class="cp">#define	guestISDN_INT_E	0x01000000	</span><span class="cm">/* ISDN Int en (low) */</span><span class="cp"></span>
<span class="cp">#define	guestVID_INT_E	0x02000000	</span><span class="cm">/* Video interrupt en (low) */</span><span class="cp"></span>
<span class="cp">#define	guestADI1_INT_R	0x04000000	</span><span class="cm">/* ADI #1 int req (low) */</span><span class="cp"></span>
<span class="cp">#define	guestADI2_INT_R	0x08000000	</span><span class="cm">/* ADI #2 int req (low) */</span><span class="cp"></span>
<span class="cp">#define	guestISDN_RES	0x10000000	</span><span class="cm">/* ISDN reset bit (high) */</span><span class="cp"></span>
<span class="cp">#define	guestADI1_INT_S	0x20000000	</span><span class="cm">/* ADI #1 int pending (low) */</span><span class="cp"></span>
<span class="cp">#define	guestADI2_INT_S	0x40000000	</span><span class="cm">/* ADI #2 int pending (low) */</span><span class="cp"></span>
<span class="cp">#define	guestISDN_INT_S	0x80000000	</span><span class="cm">/* ISAC int pending (low) */</span><span class="cp"></span>

<span class="cp">#define	g_A4T_JADE_RES	0x01000000	</span><span class="cm">/* JADE Reset (High) */</span><span class="cp"></span>
<span class="cp">#define	g_A4T_ISAR_RES	0x02000000	</span><span class="cm">/* ISAR Reset (High) */</span><span class="cp"></span>
<span class="cp">#define	g_A4T_ISAC_RES	0x04000000	</span><span class="cm">/* ISAC Reset (High) */</span><span class="cp"></span>
<span class="cp">#define	g_A4T_JADE_BOOTR 0x08000000	</span><span class="cm">/* JADE enable boot SRAM (Low) NOT USED */</span><span class="cp"></span>
<span class="cp">#define	g_A4T_ISAR_BOOTR 0x10000000	</span><span class="cm">/* ISAR enable boot SRAM (Low) NOT USED */</span><span class="cp"></span>
<span class="cp">#define	g_A4T_JADE_INT_S 0x20000000	</span><span class="cm">/* JADE interrupt pnd (Low) */</span><span class="cp"></span>
<span class="cp">#define	g_A4T_ISAR_INT_S 0x40000000	</span><span class="cm">/* ISAR interrupt pnd (Low) */</span><span class="cp"></span>
<span class="cp">#define	g_A4T_ISAC_INT_S 0x80000000	</span><span class="cm">/* ISAC interrupt pnd (Low) */</span><span class="cp"></span>

	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20CodeSource</span><span class="p">;</span>	<span class="cm">/* Offset 30 */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20CodeXferCtrl</span><span class="p">;</span><span class="cm">/* Offset 34 */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20CodeMemPtr</span><span class="p">;</span>	<span class="cm">/* Offset 38 */</span>

	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20IntStatus</span><span class="p">;</span>	<span class="cm">/* Offset 3C */</span>
	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20IntCtrl</span><span class="p">;</span>	<span class="cm">/* Offset 40 */</span>
<span class="cp">#define	intISDN		0x40000000	</span><span class="cm">/* GIRQ1En (ISAC/ADI) (High) */</span><span class="cp"></span>
<span class="cp">#define	intVID		0x20000000	</span><span class="cm">/* GIRQ0En (VSYNC)    (High) */</span><span class="cp"></span>
<span class="cp">#define	intCOD		0x10000000	</span><span class="cm">/* CodRepIrqEn        (High) */</span><span class="cp"></span>
<span class="cp">#define	intPCI		0x01000000	</span><span class="cm">/* PCI IntA enable    (High) */</span><span class="cp"></span>

	<span class="k">volatile</span> <span class="n">u_int</span>	<span class="n">i20I2CCtrl</span><span class="p">;</span>	<span class="cm">/* Offset 44					*/</span>
<span class="p">}</span> <span class="n">I20_REGISTER_FILE</span><span class="p">,</span> <span class="o">*</span><span class="n">PI20_REGISTER_FILE</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm"> * Postoffice structure for A4T</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="cp">#define	PO_OFFSET	0x00000200	</span><span class="cm">/* Postoffice offset from base */</span><span class="cp"></span>

<span class="cp">#define	GCS_0		0x00000000	</span><span class="cm">/* Guest bus chip selects */</span><span class="cp"></span>
<span class="cp">#define	GCS_1		0x00100000</span>
<span class="cp">#define	GCS_2		0x00200000</span>
<span class="cp">#define	GCS_3		0x00300000</span>

<span class="cp">#define	PO_READ		0x00000000	</span><span class="cm">/* R/W from/to guest bus */</span><span class="cp"></span>
<span class="cp">#define	PO_WRITE	0x00800000</span>

<span class="cp">#define	PO_PEND		0x02000000</span>

<span class="cp">#define POSTOFFICE(postoffice) *(volatile unsigned int *)(postoffice)</span>

<span class="cm">/* Wait unlimited (don&#39;t worry)										*/</span>
<span class="cp">#define	__WAITI20__(postoffice)					\</span>
<span class="cp">	do {							\</span>
<span class="cp">		while ((POSTOFFICE(postoffice) &amp; PO_PEND)) ;	\</span>
<span class="cp">	} while (0)</span>

<span class="cp">#endif	</span><span class="cm">/* __BKM_AX_H__ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
