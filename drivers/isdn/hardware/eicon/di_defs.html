<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › isdn › hardware › eicon › di_defs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>di_defs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> Copyright (c) Eicon Networks, 2002.</span>
<span class="cm"> *</span>
<span class="cm"> This source file is supplied for the use with</span>
<span class="cm"> Eicon Networks range of DIVA Server Adapters.</span>
<span class="cm"> *</span>
<span class="cm"> Eicon File Revision :    2.1</span>
<span class="cm"> *</span>
<span class="cm"> This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> it under the terms of the GNU General Public License as published by</span>
<span class="cm"> the Free Software Foundation; either version 2, or (at your option)</span>
<span class="cm"> any later version.</span>
<span class="cm"> *</span>
<span class="cm"> This program is distributed in the hope that it will be useful,</span>
<span class="cm"> but WITHOUT ANY WARRANTY OF ANY KIND WHATSOEVER INCLUDING ANY</span>
<span class="cm"> implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
<span class="cm"> See the GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> You should have received a copy of the GNU General Public License</span>
<span class="cm"> along with this program; if not, write to the Free Software</span>
<span class="cm"> Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _DI_DEFS_</span>
<span class="cp">#define _DI_DEFS_</span>
<span class="cm">/* typedefs for our data structures                         */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">get_name_s</span> <span class="n">GET_NAME</span><span class="p">;</span>
<span class="cm">/*  The entity_s structure is used to pass all</span>
<span class="cm">    parameters between application and IDI   */</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">entity_s</span> <span class="n">ENTITY</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">buffers_s</span> <span class="n">BUFFERS</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">postcall_s</span> <span class="n">POSTCALL</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">get_para_s</span> <span class="n">GET_PARA</span><span class="p">;</span>
<span class="cp">#define BOARD_NAME_LENGTH 9</span>
<span class="cp">#define IDI_CALL_LINK_T</span>
<span class="cp">#define IDI_CALL_ENTITY_T</span>
<span class="cm">/* typedef void ( * IDI_CALL)(ENTITY *); */</span>
<span class="cm">/* --------------------------------------------------------</span>
<span class="cm">   IDI_CALL</span>
<span class="cm">   -------------------------------------------------------- */</span>
<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="n">IDI_CALL_LINK_T</span> <span class="o">*</span><span class="n">IDI_CALL</span><span class="p">)(</span><span class="n">ENTITY</span> <span class="n">IDI_CALL_ENTITY_T</span> <span class="o">*</span><span class="p">);</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">word</span> <span class="n">length</span><span class="p">;</span>          <span class="cm">/* length of data/parameter field           */</span>
	<span class="n">byte</span> <span class="n">P</span><span class="p">[</span><span class="mi">270</span><span class="p">];</span>          <span class="cm">/* data/parameter field                     */</span>
<span class="p">}</span> <span class="n">DBUFFER</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">get_name_s</span> <span class="p">{</span>
	<span class="n">word</span> <span class="n">command</span><span class="p">;</span>         <span class="cm">/* command = 0x0100 */</span>
	<span class="n">byte</span> <span class="n">name</span><span class="p">[</span><span class="n">BOARD_NAME_LENGTH</span><span class="p">];</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">postcall_s</span> <span class="p">{</span>
	<span class="n">word</span>      <span class="n">command</span><span class="p">;</span>                           <span class="cm">/* command = 0x0300 */</span>
	<span class="n">word</span>      <span class="n">dummy</span><span class="p">;</span>                             <span class="cm">/* not used */</span>
	<span class="kt">void</span>      <span class="p">(</span><span class="o">*</span><span class="n">callback</span><span class="p">)(</span><span class="kt">void</span> <span class="o">*</span><span class="p">);</span>      <span class="cm">/* call back */</span>
	<span class="kt">void</span>      <span class="o">*</span><span class="n">context</span><span class="p">;</span>                          <span class="cm">/* context pointer */</span>
<span class="p">};</span>
<span class="cp">#define REQ_PARA            0x0600   </span><span class="cm">/* request command line parameters */</span><span class="cp"></span>
<span class="cp">#define REQ_PARA_LEN             1   </span><span class="cm">/* number of data bytes */</span><span class="cp"></span>
<span class="cp">#define L1_STARTUP_DOWN_POS      0   </span><span class="cm">/* &#39;-y&#39; command line parameter in......*/</span><span class="cp"></span>
<span class="cp">#define L1_STARTUP_DOWN_MSK   0x01   </span><span class="cm">/* first byte position (index 0) with value 0x01 */</span><span class="cp"></span>
<span class="k">struct</span> <span class="n">get_para_s</span> <span class="p">{</span>
	<span class="n">word</span>  <span class="n">command</span><span class="p">;</span>            <span class="cm">/* command = 0x0600 */</span>
	<span class="n">byte</span>  <span class="n">len</span><span class="p">;</span>                <span class="cm">/* max length of para field in bytes */</span>
	<span class="n">byte</span>  <span class="n">para</span><span class="p">[</span><span class="n">REQ_PARA_LEN</span><span class="p">];</span> <span class="cm">/* parameter field */</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">buffers_s</span> <span class="p">{</span>
	<span class="n">word</span> <span class="n">PLength</span><span class="p">;</span>
	<span class="n">byte</span> <span class="o">*</span><span class="n">P</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">entity_s</span> <span class="p">{</span>
	<span class="n">byte</span>                  <span class="n">Req</span><span class="p">;</span>            <span class="cm">/* pending request          */</span>
	<span class="n">byte</span>                  <span class="n">Rc</span><span class="p">;</span>             <span class="cm">/* return code received     */</span>
	<span class="n">byte</span>                  <span class="n">Ind</span><span class="p">;</span>            <span class="cm">/* indication received      */</span>
	<span class="n">byte</span>                  <span class="n">ReqCh</span><span class="p">;</span>          <span class="cm">/* channel of current Req   */</span>
	<span class="n">byte</span>                  <span class="n">RcCh</span><span class="p">;</span>           <span class="cm">/* channel of current Rc    */</span>
	<span class="n">byte</span>                  <span class="n">IndCh</span><span class="p">;</span>          <span class="cm">/* channel of current Ind   */</span>
	<span class="n">byte</span>                  <span class="n">Id</span><span class="p">;</span>             <span class="cm">/* ID used by this entity   */</span>
	<span class="n">byte</span>                  <span class="n">GlobalId</span><span class="p">;</span>       <span class="cm">/* reserved field           */</span>
	<span class="n">byte</span>                  <span class="n">XNum</span><span class="p">;</span>           <span class="cm">/* number of X-buffers      */</span>
	<span class="n">byte</span>                  <span class="n">RNum</span><span class="p">;</span>           <span class="cm">/* number of R-buffers      */</span>
	<span class="n">BUFFERS</span>               <span class="o">*</span><span class="n">X</span><span class="p">;</span>             <span class="cm">/* pointer to X-buffer list */</span>
	<span class="n">BUFFERS</span>               <span class="o">*</span><span class="n">R</span><span class="p">;</span>             <span class="cm">/* pointer to R-buffer list */</span>
	<span class="n">word</span>                  <span class="n">RLength</span><span class="p">;</span>        <span class="cm">/* length of current R-data */</span>
	<span class="n">DBUFFER</span>               <span class="o">*</span><span class="n">RBuffer</span><span class="p">;</span>       <span class="cm">/* buffer of current R-data */</span>
	<span class="n">byte</span>                  <span class="n">RNR</span><span class="p">;</span>            <span class="cm">/* receive not ready flag   */</span>
	<span class="n">byte</span>                  <span class="n">complete</span><span class="p">;</span>       <span class="cm">/* receive complete status  */</span>
	<span class="n">IDI_CALL</span>              <span class="n">callback</span><span class="p">;</span>
	<span class="n">word</span>                  <span class="n">user</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="cm">/* fields used by the driver internally                     */</span>
	<span class="n">byte</span>                  <span class="n">No</span><span class="p">;</span>             <span class="cm">/* entity number            */</span>
	<span class="n">byte</span>                  <span class="n">reserved2</span><span class="p">;</span>      <span class="cm">/* reserved field           */</span>
	<span class="n">byte</span>                  <span class="n">More</span><span class="p">;</span>           <span class="cm">/* R/X More flags           */</span>
	<span class="n">byte</span>                  <span class="n">MInd</span><span class="p">;</span>           <span class="cm">/* MDATA coding for this ID */</span>
	<span class="n">byte</span>                  <span class="n">XCurrent</span><span class="p">;</span>       <span class="cm">/* current transmit buffer  */</span>
	<span class="n">byte</span>                  <span class="n">RCurrent</span><span class="p">;</span>       <span class="cm">/* current receive buffer   */</span>
	<span class="n">word</span>                  <span class="n">XOffset</span><span class="p">;</span>        <span class="cm">/* offset in x-buffer       */</span>
	<span class="n">word</span>                  <span class="n">ROffset</span><span class="p">;</span>        <span class="cm">/* offset in r-buffer       */</span>
<span class="p">};</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">byte</span>                  <span class="n">type</span><span class="p">;</span>
	<span class="n">byte</span>                  <span class="n">channels</span><span class="p">;</span>
	<span class="n">word</span>                  <span class="n">features</span><span class="p">;</span>
	<span class="n">IDI_CALL</span>              <span class="n">request</span><span class="p">;</span>
<span class="p">}</span> <span class="n">DESCRIPTOR</span><span class="p">;</span>
<span class="cm">/* descriptor type field coding */</span>
<span class="cp">#define IDI_ADAPTER_S           1</span>
<span class="cp">#define IDI_ADAPTER_PR          2</span>
<span class="cp">#define IDI_ADAPTER_DIVA        3</span>
<span class="cp">#define IDI_ADAPTER_MAESTRA     4</span>
<span class="cp">#define IDI_VADAPTER            0x40</span>
<span class="cp">#define IDI_DRIVER              0x80</span>
<span class="cp">#define IDI_DADAPTER            0xfd</span>
<span class="cp">#define IDI_DIDDPNP             0xfe</span>
<span class="cp">#define IDI_DIMAINT             0xff</span>
<span class="cm">/* Hardware IDs ISA PNP */</span>
<span class="cp">#define HW_ID_DIVA_PRO     3    </span><span class="cm">/* same as IDI_ADAPTER_DIVA    */</span><span class="cp"></span>
<span class="cp">#define HW_ID_MAESTRA      4    </span><span class="cm">/* same as IDI_ADAPTER_MAESTRA */</span><span class="cp"></span>
<span class="cp">#define HW_ID_PICCOLA      5</span>
<span class="cp">#define HW_ID_DIVA_PRO20   6</span>
<span class="cp">#define HW_ID_DIVA20       7</span>
<span class="cp">#define HW_ID_DIVA_PRO20_U 8</span>
<span class="cp">#define HW_ID_DIVA20_U     9</span>
<span class="cp">#define HW_ID_DIVA30       10</span>
<span class="cp">#define HW_ID_DIVA30_U     11</span>
<span class="cm">/* Hardware IDs PCI */</span>
<span class="cp">#define HW_ID_EICON_PCI              0x1133</span>
<span class="cp">#define HW_ID_SIEMENS_PCI            0x8001 </span><span class="cm">/* unused SubVendor ID for Siemens Cornet-N cards */</span><span class="cp"></span>
<span class="cp">#define HW_ID_PROTTYPE_CORNETN       0x0014 </span><span class="cm">/* SubDevice ID for Siemens Cornet-N cards */</span><span class="cp"></span>
<span class="cp">#define HW_ID_FUJITSU_SIEMENS_PCI    0x110A </span><span class="cm">/* SubVendor ID for Fujitsu Siemens */</span><span class="cp"></span>
<span class="cp">#define HW_ID_GS03_PCI               0x0021 </span><span class="cm">/* SubDevice ID for Fujitsu Siemens ISDN S0 card */</span><span class="cp"></span>
<span class="cp">#define HW_ID_DIVA_PRO20_PCI         0xe001</span>
<span class="cp">#define HW_ID_DIVA20_PCI             0xe002</span>
<span class="cp">#define HW_ID_DIVA_PRO20_PCI_U       0xe003</span>
<span class="cp">#define HW_ID_DIVA20_PCI_U           0xe004</span>
<span class="cp">#define HW_ID_DIVA201_PCI            0xe005</span>
<span class="cp">#define HW_ID_DIVA_CT_ST             0xe006</span>
<span class="cp">#define HW_ID_DIVA_CT_U              0xe007</span>
<span class="cp">#define HW_ID_DIVA_CTL_ST            0xe008</span>
<span class="cp">#define HW_ID_DIVA_CTL_U             0xe009</span>
<span class="cp">#define HW_ID_DIVA_ISDN_V90_PCI      0xe00a</span>
<span class="cp">#define HW_ID_DIVA202_PCI_ST         0xe00b</span>
<span class="cp">#define HW_ID_DIVA202_PCI_U          0xe00c</span>
<span class="cp">#define HW_ID_DIVA_PRO30_PCI         0xe00d</span>
<span class="cp">#define HW_ID_MAESTRA_PCI            0xe010</span>
<span class="cp">#define HW_ID_MAESTRAQ_PCI           0xe012</span>
<span class="cp">#define HW_ID_DSRV_Q8M_V2_PCI        0xe013</span>
<span class="cp">#define HW_ID_MAESTRAP_PCI           0xe014</span>
<span class="cp">#define HW_ID_DSRV_P30M_V2_PCI       0xe015</span>
<span class="cp">#define HW_ID_DSRV_VOICE_Q8M_PCI     0xe016</span>
<span class="cp">#define HW_ID_DSRV_VOICE_Q8M_V2_PCI  0xe017</span>
<span class="cp">#define HW_ID_DSRV_B2M_V2_PCI        0xe018</span>
<span class="cp">#define HW_ID_DSRV_VOICE_P30M_V2_PCI 0xe019</span>
<span class="cp">#define HW_ID_DSRV_B2F_PCI           0xe01a</span>
<span class="cp">#define HW_ID_DSRV_VOICE_B2M_V2_PCI  0xe01b</span>
<span class="cm">/* Hardware IDs USB */</span>
<span class="cp">#define EICON_USB_VENDOR_ID          0x071D</span>
<span class="cp">#define HW_ID_DIVA_USB_REV1          0x1000</span>
<span class="cp">#define HW_ID_DIVA_USB_REV2          0x1003</span>
<span class="cp">#define HW_ID_TELEDAT_SURF_USB_REV2  0x1004</span>
<span class="cp">#define HW_ID_TELEDAT_SURF_USB_REV1  0x2000</span>
<span class="cm">/* --------------------------------------------------------------------------</span>
<span class="cm">   Adapter array change notification framework</span>
<span class="cm">   -------------------------------------------------------------------------- */</span>
<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="n">IDI_CALL_LINK_T</span> <span class="o">*</span><span class="n">didd_adapter_change_callback_t</span><span class="p">)(</span><span class="kt">void</span> <span class="n">IDI_CALL_ENTITY_T</span> <span class="o">*</span><span class="n">context</span><span class="p">,</span> <span class="n">DESCRIPTOR</span> <span class="o">*</span><span class="n">adapter</span><span class="p">,</span> <span class="kt">int</span> <span class="n">removal</span><span class="p">);</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cp">#define DI_VOICE          0x0 </span><span class="cm">/* obsolete define */</span><span class="cp"></span>
<span class="cp">#define DI_FAX3           0x1</span>
<span class="cp">#define DI_MODEM          0x2</span>
<span class="cp">#define DI_POST           0x4</span>
<span class="cp">#define DI_V110           0x8</span>
<span class="cp">#define DI_V120           0x10</span>
<span class="cp">#define DI_POTS           0x20</span>
<span class="cp">#define DI_CODEC          0x40</span>
<span class="cp">#define DI_MANAGE         0x80</span>
<span class="cp">#define DI_V_42           0x0100</span>
<span class="cp">#define DI_EXTD_FAX       0x0200 </span><span class="cm">/* Extended FAX (ECM, 2D, T.6, Polling) */</span><span class="cp"></span>
<span class="cp">#define DI_AT_PARSER      0x0400 </span><span class="cm">/* Build-in AT Parser in the L2 */</span><span class="cp"></span>
<span class="cp">#define DI_VOICE_OVER_IP  0x0800 </span><span class="cm">/* Voice over IP support */</span><span class="cp"></span>
<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="n">IDI_CALL_LINK_T</span> <span class="o">*</span><span class="n">_IDI_CALL</span><span class="p">)(</span><span class="kt">void</span> <span class="o">*</span><span class="p">,</span> <span class="n">ENTITY</span> <span class="o">*</span><span class="p">);</span>
<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
