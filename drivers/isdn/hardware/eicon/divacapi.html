<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › isdn › hardware › eicon › divacapi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>divacapi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> Copyright (c) Eicon Networks, 2002.</span>
<span class="cm"> *</span>
<span class="cm"> This source file is supplied for the use with</span>
<span class="cm"> Eicon Networks range of DIVA Server Adapters.</span>
<span class="cm"> *</span>
<span class="cm"> Eicon File Revision :    2.1</span>
<span class="cm"> *</span>
<span class="cm"> This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> it under the terms of the GNU General Public License as published by</span>
<span class="cm"> the Free Software Foundation; either version 2, or (at your option)</span>
<span class="cm"> any later version.</span>
<span class="cm"> *</span>
<span class="cm"> This program is distributed in the hope that it will be useful,</span>
<span class="cm"> but WITHOUT ANY WARRANTY OF ANY KIND WHATSOEVER INCLUDING ANY</span>
<span class="cm"> implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span>
<span class="cm"> See the GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> You should have received a copy of the GNU General Public License</span>
<span class="cm"> along with this program; if not, write to the Free Software</span>
<span class="cm"> Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*#define DEBUG */</span>











<span class="cp">#define IMPLEMENT_DTMF 1</span>
<span class="cp">#define IMPLEMENT_LINE_INTERCONNECT2 1</span>
<span class="cp">#define IMPLEMENT_ECHO_CANCELLER 1</span>
<span class="cp">#define IMPLEMENT_RTP 1</span>
<span class="cp">#define IMPLEMENT_T38 1</span>
<span class="cp">#define IMPLEMENT_FAX_SUB_SEP_PWD 1</span>
<span class="cp">#define IMPLEMENT_V18 1</span>
<span class="cp">#define IMPLEMENT_DTMF_TONE 1</span>
<span class="cp">#define IMPLEMENT_PIAFS 1</span>
<span class="cp">#define IMPLEMENT_FAX_PAPER_FORMATS 1</span>
<span class="cp">#define IMPLEMENT_VOWN 1</span>
<span class="cp">#define IMPLEMENT_CAPIDTMF 1</span>
<span class="cp">#define IMPLEMENT_FAX_NONSTANDARD 1</span>
<span class="cp">#define VSWITCH_SUPPORT 1</span>


<span class="cp">#define IMPLEMENT_LINE_INTERCONNECT 0</span>
<span class="cp">#define IMPLEMENT_MARKED_OK_AFTER_FC 1</span>

<span class="cp">#include &quot;capidtmf.h&quot;</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* Common API internal definitions                                  */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define MAX_APPL 240</span>
<span class="cp">#define MAX_NCCI           127</span>

<span class="cp">#define MSG_IN_QUEUE_SIZE  ((4096 + 3) &amp; 0xfffc)  </span><span class="cm">/* must be multiple of 4 */</span><span class="cp"></span>


<span class="cp">#define MSG_IN_OVERHEAD    sizeof(APPL   *)</span>

<span class="cp">#define MAX_NL_CHANNEL     255</span>
<span class="cp">#define MAX_DATA_B3        8</span>
<span class="cp">#define MAX_DATA_ACK       MAX_DATA_B3</span>
<span class="cp">#define MAX_MULTI_IE       6</span>
<span class="cp">#define MAX_MSG_SIZE       256</span>
<span class="cp">#define MAX_MSG_PARMS      10</span>
<span class="cp">#define MAX_CPN_MASK_SIZE  16</span>
<span class="cp">#define MAX_MSN_CONFIG     10</span>
<span class="cp">#define EXT_CONTROLLER     0x80</span>
<span class="cp">#define CODEC              0x01</span>
<span class="cp">#define CODEC_PERMANENT    0x02</span>
<span class="cp">#define ADV_VOICE          0x03</span>
<span class="cp">#define MAX_CIP_TYPES      5  </span><span class="cm">/* kind of CIP types for group optimization */</span><span class="cp"></span>
<span class="cp">#define C_IND_MASK_DWORDS  ((MAX_APPL + 32) &gt;&gt; 5)</span>


<span class="cp">#define FAX_CONNECT_INFO_BUFFER_SIZE  256</span>
<span class="cp">#define NCPI_BUFFER_SIZE              256</span>

<span class="cp">#define MAX_CHANNELS_PER_PLCI         8</span>
<span class="cp">#define MAX_INTERNAL_COMMAND_LEVELS   4</span>
<span class="cp">#define INTERNAL_REQ_BUFFER_SIZE      272</span>

<span class="cp">#define INTERNAL_IND_BUFFER_SIZE      768</span>

<span class="cp">#define DTMF_PARAMETER_BUFFER_SIZE    12</span>
<span class="cp">#define ADV_VOICE_COEF_BUFFER_SIZE    50</span>

<span class="cp">#define LI_PLCI_B_QUEUE_ENTRIES       256</span>



<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_APPL</span> <span class="n">APPL</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_PLCI</span> <span class="n">PLCI</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_NCCI</span> <span class="n">NCCI</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DIVA_CAPI_ADAPTER</span> <span class="n">DIVA_CAPI_ADAPTER</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DATA_B3_DESC</span> <span class="n">DATA_B3_DESC</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">_DATA_ACK_DESC</span> <span class="n">DATA_ACK_DESC</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">manufacturer_profile_s</span> <span class="n">MANUFACTURER_PROFILE</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">fax_ncpi_s</span> <span class="n">FAX_NCPI</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">api_parse_s</span> <span class="n">API_PARSE</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">api_save_s</span> <span class="n">API_SAVE</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">msn_config_s</span> <span class="n">MSN_CONFIG</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">msn_config_max_s</span> <span class="n">MSN_CONFIG_MAX</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">msn_ld_s</span> <span class="n">MSN_LD</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">manufacturer_profile_s</span> <span class="p">{</span>
	<span class="n">dword</span> <span class="n">private_options</span><span class="p">;</span>
	<span class="n">dword</span> <span class="n">rtp_primary_payloads</span><span class="p">;</span>
	<span class="n">dword</span> <span class="n">rtp_additional_payloads</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">fax_ncpi_s</span> <span class="p">{</span>
	<span class="n">word</span> <span class="n">options</span><span class="p">;</span>
	<span class="n">word</span> <span class="n">format</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">msn_config_s</span> <span class="p">{</span>
	<span class="n">byte</span> <span class="n">msn</span><span class="p">[</span><span class="n">MAX_CPN_MASK_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">msn_config_max_s</span> <span class="p">{</span>
	<span class="n">MSN_CONFIG</span>    <span class="n">msn_conf</span><span class="p">[</span><span class="n">MAX_MSN_CONFIG</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">msn_ld_s</span> <span class="p">{</span>
	<span class="n">dword</span> <span class="n">low</span><span class="p">;</span>
	<span class="n">dword</span> <span class="n">high</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">api_parse_s</span> <span class="p">{</span>
	<span class="n">word</span>          <span class="n">length</span><span class="p">;</span>
	<span class="n">byte</span> <span class="o">*</span><span class="n">info</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">api_save_s</span> <span class="p">{</span>
	<span class="n">API_PARSE</span>     <span class="n">parms</span><span class="p">[</span><span class="n">MAX_MSG_PARMS</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">info</span><span class="p">[</span><span class="n">MAX_MSG_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">_DATA_B3_DESC</span> <span class="p">{</span>
	<span class="n">word</span>          <span class="n">Handle</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">Number</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">Flags</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">Length</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">P</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">_DATA_ACK_DESC</span> <span class="p">{</span>
	<span class="n">word</span>          <span class="n">Handle</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">Number</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">t_std_internal_command</span><span class="p">)(</span><span class="n">dword</span> <span class="n">Id</span><span class="p">,</span> <span class="n">PLCI</span> <span class="o">*</span><span class="n">plci</span><span class="p">,</span> <span class="n">byte</span> <span class="n">Rc</span><span class="p">);</span>

<span class="cm">/************************************************************************/</span>
<span class="cm">/* Don&#39;t forget to adapt dos.asm after changing the _APPL structure!!!! */</span>
<span class="k">struct</span> <span class="n">_APPL</span> <span class="p">{</span>
	<span class="n">word</span>          <span class="n">Id</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">NullCREnable</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">CDEnable</span><span class="p">;</span>
	<span class="n">dword</span>         <span class="n">S_Handle</span><span class="p">;</span>






	<span class="n">LIST_ENTRY</span>    <span class="n">s_function</span><span class="p">;</span>
	<span class="n">dword</span>         <span class="n">s_context</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">s_count</span><span class="p">;</span>
	<span class="n">APPL</span> <span class="o">*</span><span class="n">s_next</span><span class="p">;</span>
	<span class="n">byte</span> <span class="o">*</span><span class="n">xbuffer_used</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">**</span><span class="n">xbuffer_internal</span><span class="p">;</span>
	<span class="kt">void</span> <span class="o">**</span><span class="n">xbuffer_ptr</span><span class="p">;</span>






	<span class="n">byte</span> <span class="o">*</span><span class="n">queue</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">queue_size</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">queue_free</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">queue_read</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">queue_write</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">queue_signal</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">msg_lost</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">appl_flags</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">Number</span><span class="p">;</span>

	<span class="n">word</span>          <span class="n">MaxBuffer</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">MaxNCCI</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">MaxNCCIData</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">MaxDataLength</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">NCCIDataFlowCtrlTimer</span><span class="p">;</span>
	<span class="n">byte</span> <span class="o">*</span><span class="n">ReceiveBuffer</span><span class="p">;</span>
	<span class="n">word</span> <span class="o">*</span><span class="n">DataNCCI</span><span class="p">;</span>
	<span class="n">word</span> <span class="o">*</span><span class="n">DataFlags</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">_PLCI</span> <span class="p">{</span>
	<span class="n">ENTITY</span>        <span class="n">Sig</span><span class="p">;</span>
	<span class="n">ENTITY</span>        <span class="n">NL</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">RNum</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">RFlags</span><span class="p">;</span>
	<span class="n">BUFFERS</span>       <span class="n">RData</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="n">BUFFERS</span>       <span class="n">XData</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">BUFFERS</span>       <span class="n">NData</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>

	<span class="n">DIVA_CAPI_ADAPTER</span>   <span class="o">*</span><span class="n">adapter</span><span class="p">;</span>
	<span class="n">APPL</span>      <span class="o">*</span><span class="n">appl</span><span class="p">;</span>
	<span class="n">PLCI</span>      <span class="o">*</span><span class="n">relatedPTYPLCI</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">Id</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">State</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">sig_req</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">nl_req</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">SuppState</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">channels</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">tel</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">B1_resource</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">B2_prot</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">B3_prot</span><span class="p">;</span>

	<span class="n">word</span>          <span class="n">command</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">m_command</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">internal_command</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">number</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">req_in_start</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">req_in</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">req_out</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">msg_in_write_pos</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">msg_in_read_pos</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">msg_in_wrap_pos</span><span class="p">;</span>

	<span class="kt">void</span> <span class="o">*</span><span class="n">data_sent_ptr</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">data_sent</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">send_disc</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">sig_global_req</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">sig_remove_id</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">nl_global_req</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">nl_remove_id</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">b_channel</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">adv_nl</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">manufacturer</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">call_dir</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">hook_state</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">spoofed_msg</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">ptyState</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">cr_enquiry</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">hangup_flow_ctrl_timer</span><span class="p">;</span>

	<span class="n">word</span>          <span class="n">ncci_ring_list</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">inc_dis_ncci_table</span><span class="p">[</span><span class="n">MAX_CHANNELS_PER_PLCI</span><span class="p">];</span>
	<span class="n">t_std_internal_command</span> <span class="n">internal_command_queue</span><span class="p">[</span><span class="n">MAX_INTERNAL_COMMAND_LEVELS</span><span class="p">];</span>
	<span class="n">dword</span>         <span class="n">c_ind_mask_table</span><span class="p">[</span><span class="n">C_IND_MASK_DWORDS</span><span class="p">];</span>
	<span class="n">dword</span>         <span class="n">group_optimization_mask_table</span><span class="p">[</span><span class="n">C_IND_MASK_DWORDS</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">RBuffer</span><span class="p">[</span><span class="mi">200</span><span class="p">];</span>
	<span class="n">dword</span>         <span class="n">msg_in_queue</span><span class="p">[</span><span class="n">MSG_IN_QUEUE_SIZE</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">dword</span><span class="p">)];</span>
	<span class="n">API_SAVE</span>      <span class="n">saved_msg</span><span class="p">;</span>
	<span class="n">API_SAVE</span>      <span class="n">B_protocol</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">fax_connect_info_length</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">fax_connect_info_buffer</span><span class="p">[</span><span class="n">FAX_CONNECT_INFO_BUFFER_SIZE</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">fax_edata_ack_length</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">nsf_control_bits</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">ncpi_state</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">ncpi_buffer</span><span class="p">[</span><span class="n">NCPI_BUFFER_SIZE</span><span class="p">];</span>

	<span class="n">byte</span>          <span class="n">internal_req_buffer</span><span class="p">[</span><span class="n">INTERNAL_REQ_BUFFER_SIZE</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">internal_ind_buffer</span><span class="p">[</span><span class="n">INTERNAL_IND_BUFFER_SIZE</span> <span class="o">+</span> <span class="mi">3</span><span class="p">];</span>
	<span class="n">dword</span>         <span class="n">requested_options_conn</span><span class="p">;</span>
	<span class="n">dword</span>         <span class="n">requested_options</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">B1_facilities</span><span class="p">;</span>
	<span class="n">API_SAVE</span>   <span class="o">*</span><span class="n">adjust_b_parms_msg</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">adjust_b_facilities</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">adjust_b_command</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">adjust_b_ncci</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">adjust_b_mode</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">adjust_b_state</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">adjust_b_restore</span><span class="p">;</span>

	<span class="n">byte</span>          <span class="n">dtmf_rec_active</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">dtmf_rec_pulse_ms</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">dtmf_rec_pause_ms</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">dtmf_send_requests</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">dtmf_send_pulse_ms</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">dtmf_send_pause_ms</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">dtmf_cmd</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">dtmf_msg_number_queue</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">dtmf_parameter_length</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">dtmf_parameter_buffer</span><span class="p">[</span><span class="n">DTMF_PARAMETER_BUFFER_SIZE</span><span class="p">];</span>


	<span class="n">t_capidtmf_state</span> <span class="n">capidtmf_state</span><span class="p">;</span>


	<span class="n">byte</span>          <span class="n">li_bchannel_id</span><span class="p">;</span>    <span class="cm">/* BRI: 1..2, PRI: 1..32 */</span>
	<span class="n">byte</span>          <span class="n">li_channel_bits</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">li_notify_update</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">li_cmd</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">li_write_command</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">li_write_channel</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">li_plci_b_write_pos</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">li_plci_b_read_pos</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">li_plci_b_req_pos</span><span class="p">;</span>
	<span class="n">dword</span>         <span class="n">li_plci_b_queue</span><span class="p">[</span><span class="n">LI_PLCI_B_QUEUE_ENTRIES</span><span class="p">];</span>


	<span class="n">word</span>          <span class="n">ec_cmd</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">ec_idi_options</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">ec_tail_length</span><span class="p">;</span>


	<span class="n">byte</span>          <span class="n">tone_last_indication_code</span><span class="p">;</span>

	<span class="n">byte</span>          <span class="n">vswitchstate</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">vsprot</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">vsprotdialect</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">notifiedcall</span><span class="p">;</span> <span class="cm">/* Flag if it is a spoofed call */</span>

	<span class="kt">int</span>           <span class="n">rx_dma_descriptor</span><span class="p">;</span>
	<span class="n">dword</span>         <span class="n">rx_dma_magic</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">_NCCI</span> <span class="p">{</span>
	<span class="n">byte</span>          <span class="n">data_out</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">data_pending</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">data_ack_out</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">data_ack_pending</span><span class="p">;</span>
	<span class="n">DATA_B3_DESC</span>  <span class="n">DBuffer</span><span class="p">[</span><span class="n">MAX_DATA_B3</span><span class="p">];</span>
	<span class="n">DATA_ACK_DESC</span> <span class="n">DataAck</span><span class="p">[</span><span class="n">MAX_DATA_ACK</span><span class="p">];</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">_DIVA_CAPI_ADAPTER</span> <span class="p">{</span>
	<span class="n">IDI_CALL</span>      <span class="n">request</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">Id</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">max_plci</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">max_listen</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">listen_active</span><span class="p">;</span>
	<span class="n">PLCI</span>      <span class="o">*</span><span class="n">plci</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">ch_ncci</span><span class="p">[</span><span class="n">MAX_NL_CHANNEL</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">ncci_ch</span><span class="p">[</span><span class="n">MAX_NCCI</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">ncci_plci</span><span class="p">[</span><span class="n">MAX_NCCI</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">ncci_state</span><span class="p">[</span><span class="n">MAX_NCCI</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">ncci_next</span><span class="p">[</span><span class="n">MAX_NCCI</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="n">NCCI</span>          <span class="n">ncci</span><span class="p">[</span><span class="n">MAX_NCCI</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>

	<span class="n">byte</span>          <span class="n">ch_flow_control</span><span class="p">[</span><span class="n">MAX_NL_CHANNEL</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>  <span class="cm">/* Used by XON protocol */</span>
	<span class="n">byte</span>          <span class="n">ch_flow_control_pending</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">ch_flow_plci</span><span class="p">[</span><span class="n">MAX_NL_CHANNEL</span> <span class="o">+</span> <span class="mi">1</span><span class="p">];</span>
	<span class="kt">int</span>           <span class="n">last_flow_control_ch</span><span class="p">;</span>

	<span class="n">dword</span>         <span class="n">Info_Mask</span><span class="p">[</span><span class="n">MAX_APPL</span><span class="p">];</span>
	<span class="n">dword</span>         <span class="n">CIP_Mask</span><span class="p">[</span><span class="n">MAX_APPL</span><span class="p">];</span>

	<span class="n">dword</span>         <span class="n">Notification_Mask</span><span class="p">[</span><span class="n">MAX_APPL</span><span class="p">];</span>
	<span class="n">PLCI</span>      <span class="o">*</span><span class="n">codec_listen</span><span class="p">[</span><span class="n">MAX_APPL</span><span class="p">];</span>
	<span class="n">dword</span>         <span class="n">requested_options_table</span><span class="p">[</span><span class="n">MAX_APPL</span><span class="p">];</span>
	<span class="n">API_PROFILE</span>   <span class="n">profile</span><span class="p">;</span>
	<span class="n">MANUFACTURER_PROFILE</span> <span class="n">man_profile</span><span class="p">;</span>
	<span class="n">dword</span>         <span class="n">manufacturer_features</span><span class="p">;</span>

	<span class="n">byte</span>          <span class="n">AdvCodecFLAG</span><span class="p">;</span>
	<span class="n">PLCI</span>      <span class="o">*</span><span class="n">AdvCodecPLCI</span><span class="p">;</span>
	<span class="n">PLCI</span>      <span class="o">*</span><span class="n">AdvSignalPLCI</span><span class="p">;</span>
	<span class="n">APPL</span>      <span class="o">*</span><span class="n">AdvSignalAppl</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">TelOAD</span><span class="p">[</span><span class="mi">23</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">TelOSA</span><span class="p">[</span><span class="mi">23</span><span class="p">];</span>
	<span class="n">byte</span>          <span class="n">scom_appl_disable</span><span class="p">;</span>
	<span class="n">PLCI</span>      <span class="o">*</span><span class="n">automatic_lawPLCI</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">automatic_law</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">u_law</span><span class="p">;</span>

	<span class="n">byte</span>          <span class="n">adv_voice_coef_length</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">adv_voice_coef_buffer</span><span class="p">[</span><span class="n">ADV_VOICE_COEF_BUFFER_SIZE</span><span class="p">];</span>

	<span class="n">byte</span>          <span class="n">li_pri</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">li_channels</span><span class="p">;</span>
	<span class="n">word</span>          <span class="n">li_base</span><span class="p">;</span>

	<span class="n">byte</span> <span class="n">adapter_disabled</span><span class="p">;</span>
	<span class="n">byte</span> <span class="n">group_optimization_enabled</span><span class="p">;</span> <span class="cm">/* use application groups if enabled */</span>
	<span class="n">dword</span> <span class="n">sdram_bar</span><span class="p">;</span>
	<span class="n">byte</span> <span class="n">flag_dynamic_l1_down</span><span class="p">;</span> <span class="cm">/* for hunt groups:down layer 1 if no appl present*/</span>
	<span class="n">byte</span> <span class="n">FlowControlIdTable</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
	<span class="n">byte</span> <span class="n">FlowControlSkipTable</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
	<span class="kt">void</span> <span class="o">*</span><span class="n">os_card</span><span class="p">;</span> <span class="cm">/* pointer to associated OS dependent adapter structure */</span>
<span class="p">};</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* Application flags                                                */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define APPL_FLAG_OLD_LI_SPEC           0x01</span>
<span class="cp">#define APPL_FLAG_PRIV_EC_SPEC          0x02</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* API parameter definitions                                        */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define X75_TTX         1       </span><span class="cm">/* x.75 for ttx                     */</span><span class="cp"></span>
<span class="cp">#define TRF             2       </span><span class="cm">/* transparent with hdlc framing    */</span><span class="cp"></span>
<span class="cp">#define TRF_IN          3       </span><span class="cm">/* transparent with hdlc fr. inc.   */</span><span class="cp"></span>
<span class="cp">#define SDLC            4       </span><span class="cm">/* sdlc, sna layer-2                */</span><span class="cp"></span>
<span class="cp">#define X75_BTX         5       </span><span class="cm">/* x.75 for btx                     */</span><span class="cp"></span>
<span class="cp">#define LAPD            6       </span><span class="cm">/* lapd (Q.921)                     */</span><span class="cp"></span>
<span class="cp">#define X25_L2          7       </span><span class="cm">/* x.25 layer-2                     */</span><span class="cp"></span>
<span class="cp">#define V120_L2         8       </span><span class="cm">/* V.120 layer-2 protocol           */</span><span class="cp"></span>
<span class="cp">#define V42_IN          9       </span><span class="cm">/* V.42 layer-2 protocol, incomming */</span><span class="cp"></span>
<span class="cp">#define V42            10       </span><span class="cm">/* V.42 layer-2 protocol            */</span><span class="cp"></span>
<span class="cp">#define MDM_ATP        11       </span><span class="cm">/* AT Parser built in the L2        */</span><span class="cp"></span>
<span class="cp">#define X75_V42BIS     12       </span><span class="cm">/* ISO7776 (X.75 SLP) modified to support V.42 bis compression */</span><span class="cp"></span>
<span class="cp">#define RTPL2_IN       13       </span><span class="cm">/* RTP layer-2 protocol, incomming  */</span><span class="cp"></span>
<span class="cp">#define RTPL2          14       </span><span class="cm">/* RTP layer-2 protocol             */</span><span class="cp"></span>
<span class="cp">#define V120_V42BIS    15       </span><span class="cm">/* V.120 layer-2 protocol supporting V.42 bis compression */</span><span class="cp"></span>

<span class="cp">#define T70NL           1</span>
<span class="cp">#define X25PLP          2</span>
<span class="cp">#define T70NLX          3</span>
<span class="cp">#define TRANSPARENT_NL  4</span>
<span class="cp">#define ISO8208         5</span>
<span class="cp">#define T30             6</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* FAX interface to IDI                                             */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define CAPI_MAX_HEAD_LINE_SPACE        89</span>
<span class="cp">#define CAPI_MAX_DATE_TIME_LENGTH       18</span>

<span class="cp">#define T30_MAX_STATION_ID_LENGTH       20</span>
<span class="cp">#define T30_MAX_SUBADDRESS_LENGTH       20</span>
<span class="cp">#define T30_MAX_PASSWORD_LENGTH         20</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">t30_info_s</span> <span class="n">T30_INFO</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">t30_info_s</span> <span class="p">{</span>
	<span class="n">byte</span>          <span class="n">code</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">rate_div_2400</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">resolution</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">data_format</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">pages_low</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">pages_high</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">operating_mode</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">control_bits_low</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">control_bits_high</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">feature_bits_low</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">feature_bits_high</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">recording_properties</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">universal_6</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">universal_7</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">station_id_len</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">head_line_len</span><span class="p">;</span>
	<span class="n">byte</span>          <span class="n">station_id</span><span class="p">[</span><span class="n">T30_MAX_STATION_ID_LENGTH</span><span class="p">];</span>
<span class="cm">/* byte          head_line[];      */</span>
<span class="cm">/* byte          sub_sep_length;   */</span>
<span class="cm">/* byte          sub_sep_field[];  */</span>
<span class="cm">/* byte          pwd_length;       */</span>
<span class="cm">/* byte          pwd_field[];      */</span>
<span class="cm">/* byte          nsf_info_length;   */</span>
<span class="cm">/* byte          nsf_info_field[];  */</span>
<span class="p">};</span>


<span class="cp">#define T30_RESOLUTION_R8_0385          0x00</span>
<span class="cp">#define T30_RESOLUTION_R8_0770_OR_200   0x01</span>
<span class="cp">#define T30_RESOLUTION_R8_1540          0x02</span>
<span class="cp">#define T30_RESOLUTION_R16_1540_OR_400  0x04</span>
<span class="cp">#define T30_RESOLUTION_R4_0385_OR_100   0x08</span>
<span class="cp">#define T30_RESOLUTION_300_300          0x10</span>
<span class="cp">#define T30_RESOLUTION_INCH_BASED       0x40</span>
<span class="cp">#define T30_RESOLUTION_METRIC_BASED     0x80</span>

<span class="cp">#define T30_RECORDING_WIDTH_ISO_A4      0</span>
<span class="cp">#define T30_RECORDING_WIDTH_ISO_B4      1</span>
<span class="cp">#define T30_RECORDING_WIDTH_ISO_A3      2</span>
<span class="cp">#define T30_RECORDING_WIDTH_COUNT       3</span>

<span class="cp">#define T30_RECORDING_LENGTH_ISO_A4     0</span>
<span class="cp">#define T30_RECORDING_LENGTH_ISO_B4     1</span>
<span class="cp">#define T30_RECORDING_LENGTH_UNLIMITED  2</span>
<span class="cp">#define T30_RECORDING_LENGTH_COUNT      3</span>

<span class="cp">#define T30_MIN_SCANLINE_TIME_00_00_00  0</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_05_05_05  1</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_10_05_05  2</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_10_10_10  3</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_20_10_10  4</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_20_20_20  5</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_40_20_20  6</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_40_40_40  7</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_RES_8     8</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_RES_9     9</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_RES_10    10</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_10_10_05  11</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_20_10_05  12</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_20_20_10  13</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_40_20_10  14</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_40_40_20  15</span>
<span class="cp">#define T30_MIN_SCANLINE_TIME_COUNT     16</span>

<span class="cp">#define T30_DATA_FORMAT_SFF             0</span>
<span class="cp">#define T30_DATA_FORMAT_ASCII           1</span>
<span class="cp">#define T30_DATA_FORMAT_NATIVE          2</span>
<span class="cp">#define T30_DATA_FORMAT_COUNT           3</span>


<span class="cp">#define T30_OPERATING_MODE_STANDARD     0</span>
<span class="cp">#define T30_OPERATING_MODE_CLASS2       1</span>
<span class="cp">#define T30_OPERATING_MODE_CLASS1       2</span>
<span class="cp">#define T30_OPERATING_MODE_CAPI         3</span>
<span class="cp">#define T30_OPERATING_MODE_CAPI_NEG     4</span>
<span class="cp">#define T30_OPERATING_MODE_COUNT        5</span>

<span class="cm">/* EDATA transmit messages */</span>
<span class="cp">#define EDATA_T30_DIS         0x01</span>
<span class="cp">#define EDATA_T30_FTT         0x02</span>
<span class="cp">#define EDATA_T30_MCF         0x03</span>
<span class="cp">#define EDATA_T30_PARAMETERS  0x04</span>

<span class="cm">/* EDATA receive messages */</span>
<span class="cp">#define EDATA_T30_DCS         0x81</span>
<span class="cp">#define EDATA_T30_TRAIN_OK    0x82</span>
<span class="cp">#define EDATA_T30_EOP         0x83</span>
<span class="cp">#define EDATA_T30_MPS         0x84</span>
<span class="cp">#define EDATA_T30_EOM         0x85</span>
<span class="cp">#define EDATA_T30_DTC         0x86</span>
<span class="cp">#define EDATA_T30_PAGE_END    0x87   </span><span class="cm">/* Indicates end of page data. Reserved, but not implemented ! */</span><span class="cp"></span>
<span class="cp">#define EDATA_T30_EOP_CAPI    0x88</span>


<span class="cp">#define T30_SUCCESS                        0</span>
<span class="cp">#define T30_ERR_NO_DIS_RECEIVED            1</span>
<span class="cp">#define T30_ERR_TIMEOUT_NO_RESPONSE        2</span>
<span class="cp">#define T30_ERR_RETRY_NO_RESPONSE          3</span>
<span class="cp">#define T30_ERR_TOO_MANY_REPEATS           4</span>
<span class="cp">#define T30_ERR_UNEXPECTED_MESSAGE         5</span>
<span class="cp">#define T30_ERR_UNEXPECTED_DCN             6</span>
<span class="cp">#define T30_ERR_DTC_UNSUPPORTED            7</span>
<span class="cp">#define T30_ERR_ALL_RATES_FAILED           8</span>
<span class="cp">#define T30_ERR_TOO_MANY_TRAINS            9</span>
<span class="cp">#define T30_ERR_RECEIVE_CORRUPTED          10</span>
<span class="cp">#define T30_ERR_UNEXPECTED_DISC            11</span>
<span class="cp">#define T30_ERR_APPLICATION_DISC           12</span>
<span class="cp">#define T30_ERR_INCOMPATIBLE_DIS           13</span>
<span class="cp">#define T30_ERR_INCOMPATIBLE_DCS           14</span>
<span class="cp">#define T30_ERR_TIMEOUT_NO_COMMAND         15</span>
<span class="cp">#define T30_ERR_RETRY_NO_COMMAND           16</span>
<span class="cp">#define T30_ERR_TIMEOUT_COMMAND_TOO_LONG   17</span>
<span class="cp">#define T30_ERR_TIMEOUT_RESPONSE_TOO_LONG  18</span>
<span class="cp">#define T30_ERR_NOT_IDENTIFIED             19</span>
<span class="cp">#define T30_ERR_SUPERVISORY_TIMEOUT        20</span>
<span class="cp">#define T30_ERR_TOO_LONG_SCAN_LINE         21</span>
<span class="cm">/* #define T30_ERR_RETRY_NO_PAGE_AFTER_MPS    22 */</span>
<span class="cp">#define T30_ERR_RETRY_NO_PAGE_RECEIVED     23</span>
<span class="cp">#define T30_ERR_RETRY_NO_DCS_AFTER_FTT     24</span>
<span class="cp">#define T30_ERR_RETRY_NO_DCS_AFTER_EOM     25</span>
<span class="cp">#define T30_ERR_RETRY_NO_DCS_AFTER_MPS     26</span>
<span class="cp">#define T30_ERR_RETRY_NO_DCN_AFTER_MCF     27</span>
<span class="cp">#define T30_ERR_RETRY_NO_DCN_AFTER_RTN     28</span>
<span class="cp">#define T30_ERR_RETRY_NO_CFR               29</span>
<span class="cp">#define T30_ERR_RETRY_NO_MCF_AFTER_EOP     30</span>
<span class="cp">#define T30_ERR_RETRY_NO_MCF_AFTER_EOM     31</span>
<span class="cp">#define T30_ERR_RETRY_NO_MCF_AFTER_MPS     32</span>
<span class="cp">#define T30_ERR_SUB_SEP_UNSUPPORTED        33</span>
<span class="cp">#define T30_ERR_PWD_UNSUPPORTED            34</span>
<span class="cp">#define T30_ERR_SUB_SEP_PWD_UNSUPPORTED    35</span>
<span class="cp">#define T30_ERR_INVALID_COMMAND_FRAME      36</span>
<span class="cp">#define T30_ERR_UNSUPPORTED_PAGE_CODING    37</span>
<span class="cp">#define T30_ERR_INVALID_PAGE_CODING        38</span>
<span class="cp">#define T30_ERR_INCOMPATIBLE_PAGE_CONFIG   39</span>
<span class="cp">#define T30_ERR_TIMEOUT_FROM_APPLICATION   40</span>
<span class="cp">#define T30_ERR_V34FAX_NO_REACTION_ON_MARK 41</span>
<span class="cp">#define T30_ERR_V34FAX_TRAINING_TIMEOUT    42</span>
<span class="cp">#define T30_ERR_V34FAX_UNEXPECTED_V21      43</span>
<span class="cp">#define T30_ERR_V34FAX_PRIMARY_CTS_ON      44</span>
<span class="cp">#define T30_ERR_V34FAX_TURNAROUND_POLLING  45</span>
<span class="cp">#define T30_ERR_V34FAX_V8_INCOMPATIBILITY  46</span>


<span class="cp">#define T30_CONTROL_BIT_DISABLE_FINE       0x0001</span>
<span class="cp">#define T30_CONTROL_BIT_ENABLE_ECM         0x0002</span>
<span class="cp">#define T30_CONTROL_BIT_ECM_64_BYTES       0x0004</span>
<span class="cp">#define T30_CONTROL_BIT_ENABLE_2D_CODING   0x0008</span>
<span class="cp">#define T30_CONTROL_BIT_ENABLE_T6_CODING   0x0010</span>
<span class="cp">#define T30_CONTROL_BIT_ENABLE_UNCOMPR     0x0020</span>
<span class="cp">#define T30_CONTROL_BIT_ACCEPT_POLLING     0x0040</span>
<span class="cp">#define T30_CONTROL_BIT_REQUEST_POLLING    0x0080</span>
<span class="cp">#define T30_CONTROL_BIT_MORE_DOCUMENTS     0x0100</span>
<span class="cp">#define T30_CONTROL_BIT_ACCEPT_SUBADDRESS  0x0200</span>
<span class="cp">#define T30_CONTROL_BIT_ACCEPT_SEL_POLLING 0x0400</span>
<span class="cp">#define T30_CONTROL_BIT_ACCEPT_PASSWORD    0x0800</span>
<span class="cp">#define T30_CONTROL_BIT_ENABLE_V34FAX      0x1000</span>
<span class="cp">#define T30_CONTROL_BIT_EARLY_CONNECT      0x2000</span>

<span class="cp">#define T30_CONTROL_BIT_ALL_FEATURES  (T30_CONTROL_BIT_ENABLE_ECM | T30_CONTROL_BIT_ENABLE_2D_CODING |   T30_CONTROL_BIT_ENABLE_T6_CODING | T30_CONTROL_BIT_ENABLE_UNCOMPR |   T30_CONTROL_BIT_ENABLE_V34FAX)</span>

<span class="cp">#define T30_FEATURE_BIT_FINE               0x0001</span>
<span class="cp">#define T30_FEATURE_BIT_ECM                0x0002</span>
<span class="cp">#define T30_FEATURE_BIT_ECM_64_BYTES       0x0004</span>
<span class="cp">#define T30_FEATURE_BIT_2D_CODING          0x0008</span>
<span class="cp">#define T30_FEATURE_BIT_T6_CODING          0x0010</span>
<span class="cp">#define T30_FEATURE_BIT_UNCOMPR_ENABLED    0x0020</span>
<span class="cp">#define T30_FEATURE_BIT_POLLING            0x0040</span>
<span class="cp">#define T30_FEATURE_BIT_MORE_DOCUMENTS     0x0100</span>
<span class="cp">#define T30_FEATURE_BIT_V34FAX             0x1000</span>


<span class="cp">#define T30_NSF_CONTROL_BIT_ENABLE_NSF     0x0001</span>
<span class="cp">#define T30_NSF_CONTROL_BIT_RAW_INFO       0x0002</span>
<span class="cp">#define T30_NSF_CONTROL_BIT_NEGOTIATE_IND  0x0004</span>
<span class="cp">#define T30_NSF_CONTROL_BIT_NEGOTIATE_RESP 0x0008</span>

<span class="cp">#define T30_NSF_ELEMENT_NSF_FIF            0x00</span>
<span class="cp">#define T30_NSF_ELEMENT_NSC_FIF            0x01</span>
<span class="cp">#define T30_NSF_ELEMENT_NSS_FIF            0x02</span>
<span class="cp">#define T30_NSF_ELEMENT_COMPANY_NAME       0x03</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* Analog modem definitions                                         */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">async_s</span> <span class="n">ASYNC_FORMAT</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">async_s</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="n">pe</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">parity</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">spare</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">stp</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="n">ch_len</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span>   <span class="cm">/* 3th octett in CAI */</span>
<span class="p">};</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* PLCI/NCCI states                                                 */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define IDLE                    0</span>
<span class="cp">#define OUTG_CON_PENDING        1</span>
<span class="cp">#define INC_CON_PENDING         2</span>
<span class="cp">#define INC_CON_ALERT           3</span>
<span class="cp">#define INC_CON_ACCEPT          4</span>
<span class="cp">#define INC_ACT_PENDING         5</span>
<span class="cp">#define LISTENING               6</span>
<span class="cp">#define CONNECTED               7</span>
<span class="cp">#define OUTG_DIS_PENDING        8</span>
<span class="cp">#define INC_DIS_PENDING         9</span>
<span class="cp">#define LOCAL_CONNECT           10</span>
<span class="cp">#define INC_RES_PENDING         11</span>
<span class="cp">#define OUTG_RES_PENDING        12</span>
<span class="cp">#define SUSPENDING              13</span>
<span class="cp">#define ADVANCED_VOICE_SIG      14</span>
<span class="cp">#define ADVANCED_VOICE_NOSIG    15</span>
<span class="cp">#define RESUMING                16</span>
<span class="cp">#define INC_CON_CONNECTED_ALERT 17</span>
<span class="cp">#define OUTG_REJ_PENDING        18</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* auxiliary states for supplementary services                     */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define IDLE                0</span>
<span class="cp">#define HOLD_REQUEST        1</span>
<span class="cp">#define HOLD_INDICATE       2</span>
<span class="cp">#define CALL_HELD           3</span>
<span class="cp">#define RETRIEVE_REQUEST    4</span>
<span class="cp">#define RETRIEVE_INDICATION 5</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* Capi IE + Msg types                                              */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cp">#define ESC_CAUSE        0x800 | CAU        </span><span class="cm">/* Escape cause element */</span><span class="cp"></span>
<span class="cp">#define ESC_MSGTYPE      0x800 | MSGTYPEIE  </span><span class="cm">/* Escape message type  */</span><span class="cp"></span>
<span class="cp">#define ESC_CHI          0x800 | CHI        </span><span class="cm">/* Escape channel id    */</span><span class="cp"></span>
<span class="cp">#define ESC_LAW          0x800 | BC         </span><span class="cm">/* Escape law info      */</span><span class="cp"></span>
<span class="cp">#define ESC_CR           0x800 | CRIE       </span><span class="cm">/* Escape CallReference */</span><span class="cp"></span>
<span class="cp">#define ESC_PROFILE      0x800 | PROFILEIE  </span><span class="cm">/* Escape profile       */</span><span class="cp"></span>
<span class="cp">#define ESC_SSEXT        0x800 | SSEXTIE    </span><span class="cm">/* Escape Supplem. Serv.*/</span><span class="cp"></span>
<span class="cp">#define ESC_VSWITCH      0x800 | VSWITCHIE  </span><span class="cm">/* Escape VSwitch       */</span><span class="cp"></span>
<span class="cp">#define CST              0x14               </span><span class="cm">/* Call State i.e.      */</span><span class="cp"></span>
<span class="cp">#define PI               0x1E               </span><span class="cm">/* Progress Indicator   */</span><span class="cp"></span>
<span class="cp">#define NI               0x27               </span><span class="cm">/* Notification Ind     */</span><span class="cp"></span>
<span class="cp">#define CONN_NR          0x4C               </span><span class="cm">/* Connected Number     */</span><span class="cp"></span>
<span class="cp">#define CONG_RNR         0xBF               </span><span class="cm">/* Congestion RNR       */</span><span class="cp"></span>
<span class="cp">#define CONG_RR          0xB0               </span><span class="cm">/* Congestion RR        */</span><span class="cp"></span>
<span class="cp">#define RESERVED         0xFF               </span><span class="cm">/* Res. for future use  */</span><span class="cp"></span>
<span class="cp">#define ON_BOARD_CODEC   0x02               </span><span class="cm">/* external controller  */</span><span class="cp"></span>
<span class="cp">#define HANDSET          0x04               </span><span class="cm">/* Codec+Handset(Pro11) */</span><span class="cp"></span>
<span class="cp">#define HOOK_SUPPORT     0x01               </span><span class="cm">/* activate Hook signal */</span><span class="cp"></span>
<span class="cp">#define SCR              0x7a               </span><span class="cm">/* unscreened number    */</span><span class="cp"></span>

<span class="cp">#define HOOK_OFF_REQ     0x9001             </span><span class="cm">/* internal conn req    */</span><span class="cp"></span>
<span class="cp">#define HOOK_ON_REQ      0x9002             </span><span class="cm">/* internal disc req    */</span><span class="cp"></span>
<span class="cp">#define SUSPEND_REQ      0x9003             </span><span class="cm">/* internal susp req    */</span><span class="cp"></span>
<span class="cp">#define RESUME_REQ       0x9004             </span><span class="cm">/* internal resume req  */</span><span class="cp"></span>
<span class="cp">#define USELAW_REQ       0x9005             </span><span class="cm">/* internal law    req  */</span><span class="cp"></span>
<span class="cp">#define LISTEN_SIG_ASSIGN_PEND  0x9006</span>
<span class="cp">#define PERM_LIST_REQ    0x900a             </span><span class="cm">/* permanent conn DCE   */</span><span class="cp"></span>
<span class="cp">#define C_HOLD_REQ       0x9011</span>
<span class="cp">#define C_RETRIEVE_REQ   0x9012</span>
<span class="cp">#define C_NCR_FAC_REQ    0x9013</span>
<span class="cp">#define PERM_COD_ASSIGN  0x9014</span>
<span class="cp">#define PERM_COD_CALL    0x9015</span>
<span class="cp">#define PERM_COD_HOOK    0x9016</span>
<span class="cp">#define PERM_COD_CONN_PEND 0x9017           </span><span class="cm">/* wait for connect_con */</span><span class="cp"></span>
<span class="cp">#define PTY_REQ_PEND     0x9018</span>
<span class="cp">#define CD_REQ_PEND      0x9019</span>
<span class="cp">#define CF_START_PEND    0x901a</span>
<span class="cp">#define CF_STOP_PEND     0x901b</span>
<span class="cp">#define ECT_REQ_PEND     0x901c</span>
<span class="cp">#define GETSERV_REQ_PEND 0x901d</span>
<span class="cp">#define BLOCK_PLCI       0x901e</span>
<span class="cp">#define INTERR_NUMBERS_REQ_PEND         0x901f</span>
<span class="cp">#define INTERR_DIVERSION_REQ_PEND       0x9020</span>
<span class="cp">#define MWI_ACTIVATE_REQ_PEND           0x9021</span>
<span class="cp">#define MWI_DEACTIVATE_REQ_PEND         0x9022</span>
<span class="cp">#define SSEXT_REQ_COMMAND               0x9023</span>
<span class="cp">#define SSEXT_NC_REQ_COMMAND            0x9024</span>
<span class="cp">#define START_L1_SIG_ASSIGN_PEND        0x9025</span>
<span class="cp">#define REM_L1_SIG_ASSIGN_PEND          0x9026</span>
<span class="cp">#define CONF_BEGIN_REQ_PEND             0x9027</span>
<span class="cp">#define CONF_ADD_REQ_PEND               0x9028</span>
<span class="cp">#define CONF_SPLIT_REQ_PEND             0x9029</span>
<span class="cp">#define CONF_DROP_REQ_PEND              0x902a</span>
<span class="cp">#define CONF_ISOLATE_REQ_PEND           0x902b</span>
<span class="cp">#define CONF_REATTACH_REQ_PEND          0x902c</span>
<span class="cp">#define VSWITCH_REQ_PEND                0x902d</span>
<span class="cp">#define GET_MWI_STATE                   0x902e</span>
<span class="cp">#define CCBS_REQUEST_REQ_PEND           0x902f</span>
<span class="cp">#define CCBS_DEACTIVATE_REQ_PEND        0x9030</span>
<span class="cp">#define CCBS_INTERROGATE_REQ_PEND       0x9031</span>

<span class="cp">#define NO_INTERNAL_COMMAND             0</span>
<span class="cp">#define DTMF_COMMAND_1                  1</span>
<span class="cp">#define DTMF_COMMAND_2                  2</span>
<span class="cp">#define DTMF_COMMAND_3                  3</span>
<span class="cp">#define MIXER_COMMAND_1                 4</span>
<span class="cp">#define MIXER_COMMAND_2                 5</span>
<span class="cp">#define MIXER_COMMAND_3                 6</span>
<span class="cp">#define ADV_VOICE_COMMAND_CONNECT_1     7</span>
<span class="cp">#define ADV_VOICE_COMMAND_CONNECT_2     8</span>
<span class="cp">#define ADV_VOICE_COMMAND_CONNECT_3     9</span>
<span class="cp">#define ADV_VOICE_COMMAND_DISCONNECT_1  10</span>
<span class="cp">#define ADV_VOICE_COMMAND_DISCONNECT_2  11</span>
<span class="cp">#define ADV_VOICE_COMMAND_DISCONNECT_3  12</span>
<span class="cp">#define ADJUST_B_RESTORE_1              13</span>
<span class="cp">#define ADJUST_B_RESTORE_2              14</span>
<span class="cp">#define RESET_B3_COMMAND_1              15</span>
<span class="cp">#define SELECT_B_COMMAND_1              16</span>
<span class="cp">#define FAX_CONNECT_INFO_COMMAND_1      17</span>
<span class="cp">#define FAX_CONNECT_INFO_COMMAND_2      18</span>
<span class="cp">#define FAX_ADJUST_B23_COMMAND_1        19</span>
<span class="cp">#define FAX_ADJUST_B23_COMMAND_2        20</span>
<span class="cp">#define EC_COMMAND_1                    21</span>
<span class="cp">#define EC_COMMAND_2                    22</span>
<span class="cp">#define EC_COMMAND_3                    23</span>
<span class="cp">#define RTP_CONNECT_B3_REQ_COMMAND_1    24</span>
<span class="cp">#define RTP_CONNECT_B3_REQ_COMMAND_2    25</span>
<span class="cp">#define RTP_CONNECT_B3_REQ_COMMAND_3    26</span>
<span class="cp">#define RTP_CONNECT_B3_RES_COMMAND_1    27</span>
<span class="cp">#define RTP_CONNECT_B3_RES_COMMAND_2    28</span>
<span class="cp">#define RTP_CONNECT_B3_RES_COMMAND_3    29</span>
<span class="cp">#define HOLD_SAVE_COMMAND_1             30</span>
<span class="cp">#define RETRIEVE_RESTORE_COMMAND_1      31</span>
<span class="cp">#define FAX_DISCONNECT_COMMAND_1        32</span>
<span class="cp">#define FAX_DISCONNECT_COMMAND_2        33</span>
<span class="cp">#define FAX_DISCONNECT_COMMAND_3        34</span>
<span class="cp">#define FAX_EDATA_ACK_COMMAND_1         35</span>
<span class="cp">#define FAX_EDATA_ACK_COMMAND_2         36</span>
<span class="cp">#define FAX_CONNECT_ACK_COMMAND_1       37</span>
<span class="cp">#define FAX_CONNECT_ACK_COMMAND_2       38</span>
<span class="cp">#define STD_INTERNAL_COMMAND_COUNT      39</span>

<span class="cp">#define UID              0x2d               </span><span class="cm">/* User Id for Mgmt      */</span><span class="cp"></span>

<span class="cp">#define CALL_DIR_OUT             0x01       </span><span class="cm">/* call direction of initial call */</span><span class="cp"></span>
<span class="cp">#define CALL_DIR_IN              0x02</span>
<span class="cp">#define CALL_DIR_ORIGINATE       0x04       </span><span class="cm">/* DTE/DCE direction according to */</span><span class="cp"></span>
<span class="cp">#define CALL_DIR_ANSWER          0x08       </span><span class="cm">/*   state of B-Channel Operation */</span><span class="cp"></span>
<span class="cp">#define CALL_DIR_FORCE_OUTG_NL   0x10       </span><span class="cm">/* for RESET_B3 reconnect, after DISC_B3... */</span><span class="cp"></span>

<span class="cp">#define AWAITING_MANUF_CON 0x80             </span><span class="cm">/* command spoofing flags */</span><span class="cp"></span>
<span class="cp">#define SPOOFING_REQUIRED  0xff</span>
<span class="cp">#define AWAITING_SELECT_B  0xef</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* B_CTRL / DSP_CTRL                                                */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define DSP_CTRL_OLD_SET_MIXER_COEFFICIENTS     0x01</span>
<span class="cp">#define DSP_CTRL_SET_BCHANNEL_PASSIVATION_BRI   0x02</span>
<span class="cp">#define DSP_CTRL_SET_DTMF_PARAMETERS            0x03</span>

<span class="cp">#define MANUFACTURER_FEATURE_SLAVE_CODEC          0x00000001L</span>
<span class="cp">#define MANUFACTURER_FEATURE_FAX_MORE_DOCUMENTS   0x00000002L</span>
<span class="cp">#define MANUFACTURER_FEATURE_HARDDTMF             0x00000004L</span>
<span class="cp">#define MANUFACTURER_FEATURE_SOFTDTMF_SEND        0x00000008L</span>
<span class="cp">#define MANUFACTURER_FEATURE_DTMF_PARAMETERS      0x00000010L</span>
<span class="cp">#define MANUFACTURER_FEATURE_SOFTDTMF_RECEIVE     0x00000020L</span>
<span class="cp">#define MANUFACTURER_FEATURE_FAX_SUB_SEP_PWD      0x00000040L</span>
<span class="cp">#define MANUFACTURER_FEATURE_V18                  0x00000080L</span>
<span class="cp">#define MANUFACTURER_FEATURE_MIXER_CH_CH          0x00000100L</span>
<span class="cp">#define MANUFACTURER_FEATURE_MIXER_CH_PC          0x00000200L</span>
<span class="cp">#define MANUFACTURER_FEATURE_MIXER_PC_CH          0x00000400L</span>
<span class="cp">#define MANUFACTURER_FEATURE_MIXER_PC_PC          0x00000800L</span>
<span class="cp">#define MANUFACTURER_FEATURE_ECHO_CANCELLER       0x00001000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_RTP                  0x00002000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_T38                  0x00004000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_TRANSP_DELIVERY_CONF 0x00008000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_XONOFF_FLOW_CONTROL  0x00010000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_OOB_CHANNEL          0x00020000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_IN_BAND_CHANNEL      0x00040000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_IN_BAND_FEATURE      0x00080000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_PIAFS                0x00100000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_DTMF_TONE            0x00200000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_FAX_PAPER_FORMATS    0x00400000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_OK_FC_LABEL          0x00800000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_VOWN                 0x01000000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_XCONNECT             0x02000000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_DMACONNECT           0x04000000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_AUDIO_TAP            0x08000000L</span>
<span class="cp">#define MANUFACTURER_FEATURE_FAX_NONSTANDARD      0x10000000L</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* DTMF interface to IDI                                            */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define DTMF_DIGIT_TONE_LOW_GROUP_697_HZ        0x00</span>
<span class="cp">#define DTMF_DIGIT_TONE_LOW_GROUP_770_HZ        0x01</span>
<span class="cp">#define DTMF_DIGIT_TONE_LOW_GROUP_852_HZ        0x02</span>
<span class="cp">#define DTMF_DIGIT_TONE_LOW_GROUP_941_HZ        0x03</span>
<span class="cp">#define DTMF_DIGIT_TONE_LOW_GROUP_MASK          0x03</span>
<span class="cp">#define DTMF_DIGIT_TONE_HIGH_GROUP_1209_HZ      0x00</span>
<span class="cp">#define DTMF_DIGIT_TONE_HIGH_GROUP_1336_HZ      0x04</span>
<span class="cp">#define DTMF_DIGIT_TONE_HIGH_GROUP_1477_HZ      0x08</span>
<span class="cp">#define DTMF_DIGIT_TONE_HIGH_GROUP_1633_HZ      0x0c</span>
<span class="cp">#define DTMF_DIGIT_TONE_HIGH_GROUP_MASK         0x0c</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_0                  0x07</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_1                  0x00</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_2                  0x04</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_3                  0x08</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_4                  0x01</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_5                  0x05</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_6                  0x09</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_7                  0x02</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_8                  0x06</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_9                  0x0a</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_STAR               0x03</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_HASHMARK           0x0b</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_A                  0x0c</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_B                  0x0d</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_C                  0x0e</span>
<span class="cp">#define DTMF_DIGIT_TONE_CODE_D                  0x0f</span>

<span class="cp">#define DTMF_UDATA_REQUEST_SEND_DIGITS            16</span>
<span class="cp">#define DTMF_UDATA_REQUEST_ENABLE_RECEIVER        17</span>
<span class="cp">#define DTMF_UDATA_REQUEST_DISABLE_RECEIVER       18</span>
<span class="cp">#define DTMF_UDATA_INDICATION_DIGITS_SENT         16</span>
<span class="cp">#define DTMF_UDATA_INDICATION_DIGITS_RECEIVED     17</span>
<span class="cp">#define DTMF_UDATA_INDICATION_MODEM_CALLING_TONE  18</span>
<span class="cp">#define DTMF_UDATA_INDICATION_FAX_CALLING_TONE    19</span>
<span class="cp">#define DTMF_UDATA_INDICATION_ANSWER_TONE         20</span>

<span class="cp">#define UDATA_REQUEST_MIXER_TAP_DATA        27</span>
<span class="cp">#define UDATA_INDICATION_MIXER_TAP_DATA     27</span>

<span class="cp">#define DTMF_LISTEN_ACTIVE_FLAG        0x01</span>
<span class="cp">#define DTMF_SEND_DIGIT_FLAG           0x01</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* Mixer interface to IDI                                           */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define LI2_FLAG_PCCONNECT_A_B 0x40000000</span>
<span class="cp">#define LI2_FLAG_PCCONNECT_B_A 0x80000000</span>

<span class="cp">#define MIXER_BCHANNELS_BRI    2</span>
<span class="cp">#define MIXER_IC_CHANNELS_BRI  MIXER_BCHANNELS_BRI</span>
<span class="cp">#define MIXER_IC_CHANNEL_BASE  MIXER_BCHANNELS_BRI</span>
<span class="cp">#define MIXER_CHANNELS_BRI     (MIXER_BCHANNELS_BRI + MIXER_IC_CHANNELS_BRI)</span>
<span class="cp">#define MIXER_CHANNELS_PRI     32</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">li_config_s</span> <span class="n">LI_CONFIG</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">xconnect_card_address_s</span> <span class="p">{</span>
	<span class="n">dword</span> <span class="n">low</span><span class="p">;</span>
	<span class="n">dword</span> <span class="n">high</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">xconnect_transfer_address_s</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">xconnect_card_address_s</span> <span class="n">card_address</span><span class="p">;</span>
	<span class="n">dword</span> <span class="n">offset</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">li_config_s</span> <span class="p">{</span>
	<span class="n">DIVA_CAPI_ADAPTER</span>   <span class="o">*</span><span class="n">adapter</span><span class="p">;</span>
	<span class="n">PLCI</span>   <span class="o">*</span><span class="n">plci</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xconnect_transfer_address_s</span> <span class="n">send_b</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">xconnect_transfer_address_s</span> <span class="n">send_pc</span><span class="p">;</span>
	<span class="n">byte</span>   <span class="o">*</span><span class="n">flag_table</span><span class="p">;</span>  <span class="cm">/* dword aligned and sized */</span>
	<span class="n">byte</span>   <span class="o">*</span><span class="n">coef_table</span><span class="p">;</span>  <span class="cm">/* dword aligned and sized */</span>
	<span class="n">byte</span> <span class="n">channel</span><span class="p">;</span>
	<span class="n">byte</span> <span class="n">curchnl</span><span class="p">;</span>
	<span class="n">byte</span> <span class="n">chflags</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="n">LI_CONFIG</span>   <span class="o">*</span><span class="n">li_config_table</span><span class="p">;</span>
<span class="k">extern</span> <span class="n">word</span> <span class="n">li_total_channels</span><span class="p">;</span>

<span class="cp">#define LI_CHANNEL_INVOLVED        0x01</span>
<span class="cp">#define LI_CHANNEL_ACTIVE          0x02</span>
<span class="cp">#define LI_CHANNEL_TX_DATA         0x04</span>
<span class="cp">#define LI_CHANNEL_RX_DATA         0x08</span>
<span class="cp">#define LI_CHANNEL_CONFERENCE      0x10</span>
<span class="cp">#define LI_CHANNEL_ADDRESSES_SET   0x80</span>

<span class="cp">#define LI_CHFLAG_MONITOR          0x01</span>
<span class="cp">#define LI_CHFLAG_MIX              0x02</span>
<span class="cp">#define LI_CHFLAG_LOOP             0x04</span>

<span class="cp">#define LI_FLAG_INTERCONNECT       0x01</span>
<span class="cp">#define LI_FLAG_MONITOR            0x02</span>
<span class="cp">#define LI_FLAG_MIX                0x04</span>
<span class="cp">#define LI_FLAG_PCCONNECT          0x08</span>
<span class="cp">#define LI_FLAG_CONFERENCE         0x10</span>
<span class="cp">#define LI_FLAG_ANNOUNCEMENT       0x20</span>

<span class="cp">#define LI_COEF_CH_CH              0x01</span>
<span class="cp">#define LI_COEF_CH_PC              0x02</span>
<span class="cp">#define LI_COEF_PC_CH              0x04</span>
<span class="cp">#define LI_COEF_PC_PC              0x08</span>
<span class="cp">#define LI_COEF_CH_CH_SET          0x10</span>
<span class="cp">#define LI_COEF_CH_PC_SET          0x20</span>
<span class="cp">#define LI_COEF_PC_CH_SET          0x40</span>
<span class="cp">#define LI_COEF_PC_PC_SET          0x80</span>

<span class="cp">#define LI_REQ_SILENT_UPDATE       0xffff</span>

<span class="cp">#define LI_PLCI_B_LAST_FLAG        ((dword) 0x80000000L)</span>
<span class="cp">#define LI_PLCI_B_DISC_FLAG        ((dword) 0x40000000L)</span>
<span class="cp">#define LI_PLCI_B_SKIP_FLAG        ((dword) 0x20000000L)</span>
<span class="cp">#define LI_PLCI_B_FLAG_MASK        ((dword) 0xe0000000L)</span>

<span class="cp">#define UDATA_REQUEST_SET_MIXER_COEFS_BRI       24</span>
<span class="cp">#define UDATA_REQUEST_SET_MIXER_COEFS_PRI_SYNC  25</span>
<span class="cp">#define UDATA_REQUEST_SET_MIXER_COEFS_PRI_ASYN  26</span>
<span class="cp">#define UDATA_INDICATION_MIXER_COEFS_SET        24</span>

<span class="cp">#define MIXER_FEATURE_ENABLE_TX_DATA        0x0001</span>
<span class="cp">#define MIXER_FEATURE_ENABLE_RX_DATA        0x0002</span>

<span class="cp">#define MIXER_COEF_LINE_CHANNEL_MASK        0x1f</span>
<span class="cp">#define MIXER_COEF_LINE_FROM_PC_FLAG        0x20</span>
<span class="cp">#define MIXER_COEF_LINE_TO_PC_FLAG          0x40</span>
<span class="cp">#define MIXER_COEF_LINE_ROW_FLAG            0x80</span>

<span class="cp">#define UDATA_REQUEST_XCONNECT_FROM         28</span>
<span class="cp">#define UDATA_INDICATION_XCONNECT_FROM      28</span>
<span class="cp">#define UDATA_REQUEST_XCONNECT_TO           29</span>
<span class="cp">#define UDATA_INDICATION_XCONNECT_TO        29</span>

<span class="cp">#define XCONNECT_CHANNEL_PORT_B             0x0000</span>
<span class="cp">#define XCONNECT_CHANNEL_PORT_PC            0x8000</span>
<span class="cp">#define XCONNECT_CHANNEL_PORT_MASK          0x8000</span>
<span class="cp">#define XCONNECT_CHANNEL_NUMBER_MASK        0x7fff</span>
<span class="cp">#define XCONNECT_CHANNEL_PORT_COUNT         2</span>

<span class="cp">#define XCONNECT_SUCCESS           0x0000</span>
<span class="cp">#define XCONNECT_ERROR             0x0001</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* Echo canceller interface to IDI                                  */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define PRIVATE_ECHO_CANCELLER         0</span>

<span class="cp">#define PRIV_SELECTOR_ECHO_CANCELLER   255</span>

<span class="cp">#define EC_ENABLE_OPERATION            1</span>
<span class="cp">#define EC_DISABLE_OPERATION           2</span>
<span class="cp">#define EC_FREEZE_COEFFICIENTS         3</span>
<span class="cp">#define EC_RESUME_COEFFICIENT_UPDATE   4</span>
<span class="cp">#define EC_RESET_COEFFICIENTS          5</span>

<span class="cp">#define EC_DISABLE_NON_LINEAR_PROCESSING     0x0001</span>
<span class="cp">#define EC_DO_NOT_REQUIRE_REVERSALS          0x0002</span>
<span class="cp">#define EC_DETECT_DISABLE_TONE               0x0004</span>

<span class="cp">#define EC_SUCCESS                           0</span>
<span class="cp">#define EC_UNSUPPORTED_OPERATION             1</span>

<span class="cp">#define EC_BYPASS_DUE_TO_CONTINUOUS_2100HZ   1</span>
<span class="cp">#define EC_BYPASS_DUE_TO_REVERSED_2100HZ     2</span>
<span class="cp">#define EC_BYPASS_RELEASED                   3</span>

<span class="cp">#define DSP_CTRL_SET_LEC_PARAMETERS          0x05</span>

<span class="cp">#define LEC_ENABLE_ECHO_CANCELLER            0x0001</span>
<span class="cp">#define LEC_ENABLE_2100HZ_DETECTOR           0x0002</span>
<span class="cp">#define LEC_REQUIRE_2100HZ_REVERSALS         0x0004</span>
<span class="cp">#define LEC_MANUAL_DISABLE                   0x0008</span>
<span class="cp">#define LEC_ENABLE_NONLINEAR_PROCESSING      0x0010</span>
<span class="cp">#define LEC_FREEZE_COEFFICIENTS              0x0020</span>
<span class="cp">#define LEC_RESET_COEFFICIENTS               0x8000</span>

<span class="cp">#define LEC_MAX_SUPPORTED_TAIL_LENGTH        32</span>

<span class="cp">#define LEC_UDATA_INDICATION_DISABLE_DETECT  9</span>

<span class="cp">#define LEC_DISABLE_TYPE_CONTIGNUOUS_2100HZ  0x00</span>
<span class="cp">#define LEC_DISABLE_TYPE_REVERSED_2100HZ     0x01</span>
<span class="cp">#define LEC_DISABLE_RELEASED                 0x02</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* RTP interface to IDI                                             */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define B1_RTP                  31</span>
<span class="cp">#define B2_RTP                  31</span>
<span class="cp">#define B3_RTP                  31</span>

<span class="cp">#define PRIVATE_RTP                    1</span>

<span class="cp">#define RTP_PRIM_PAYLOAD_PCMU_8000     0</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_1016_8000     1</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_G726_32_8000  2</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_GSM_8000      3</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_G723_8000     4</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_DVI4_8000     5</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_DVI4_16000    6</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_LPC_8000      7</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_PCMA_8000     8</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_G722_16000    9</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_QCELP_8000    12</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_G728_8000     14</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_G729_8000     18</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_GSM_HR_8000   30</span>
<span class="cp">#define RTP_PRIM_PAYLOAD_GSM_EFR_8000  31</span>

<span class="cp">#define RTP_ADD_PAYLOAD_BASE           32</span>
<span class="cp">#define RTP_ADD_PAYLOAD_RED            32</span>
<span class="cp">#define RTP_ADD_PAYLOAD_CN_8000        33</span>
<span class="cp">#define RTP_ADD_PAYLOAD_DTMF           34</span>

<span class="cp">#define RTP_SUCCESS                         0</span>
<span class="cp">#define RTP_ERR_SSRC_OR_PAYLOAD_CHANGE      1</span>

<span class="cp">#define UDATA_REQUEST_RTP_RECONFIGURE       64</span>
<span class="cp">#define UDATA_INDICATION_RTP_CHANGE         65</span>
<span class="cp">#define BUDATA_REQUEST_QUERY_RTCP_REPORT    1</span>
<span class="cp">#define BUDATA_INDICATION_RTCP_REPORT       1</span>

<span class="cp">#define RTP_CONNECT_OPTION_DISC_ON_SSRC_CHANGE    0x00000001L</span>
<span class="cp">#define RTP_CONNECT_OPTION_DISC_ON_PT_CHANGE      0x00000002L</span>
<span class="cp">#define RTP_CONNECT_OPTION_DISC_ON_UNKNOWN_PT     0x00000004L</span>
<span class="cp">#define RTP_CONNECT_OPTION_NO_SILENCE_TRANSMIT    0x00010000L</span>

<span class="cp">#define RTP_PAYLOAD_OPTION_VOICE_ACTIVITY_DETECT  0x0001</span>
<span class="cp">#define RTP_PAYLOAD_OPTION_DISABLE_POST_FILTER    0x0002</span>
<span class="cp">#define RTP_PAYLOAD_OPTION_G723_LOW_CODING_RATE   0x0100</span>

<span class="cp">#define RTP_PACKET_FILTER_IGNORE_UNKNOWN_SSRC     0x00000001L</span>

<span class="cp">#define RTP_CHANGE_FLAG_SSRC_CHANGE               0x00000001L</span>
<span class="cp">#define RTP_CHANGE_FLAG_PAYLOAD_TYPE_CHANGE       0x00000002L</span>
<span class="cp">#define RTP_CHANGE_FLAG_UNKNOWN_PAYLOAD_TYPE      0x00000004L</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* T.38 interface to IDI                                            */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define B1_T38                  30</span>
<span class="cp">#define B2_T38                  30</span>
<span class="cp">#define B3_T38                  30</span>

<span class="cp">#define PRIVATE_T38                    2</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* PIAFS interface to IDI                                            */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define B1_PIAFS                29</span>
<span class="cp">#define B2_PIAFS                29</span>

<span class="cp">#define PRIVATE_PIAFS           29</span>

<span class="cm">/*</span>
<span class="cm">  B2 configuration for PIAFS:</span>
<span class="cm">  +---------------------+------+-----------------------------------------+</span>
<span class="cm">  | PIAFS Protocol      | byte | Bit 1 - Protocol Speed                  |</span>
<span class="cm">  | Speed configuration |      |         0 - 32K                         |</span>
<span class="cm">  |                     |      |         1 - 64K (default)               |</span>
<span class="cm">  |                     |      | Bit 2 - Variable Protocol Speed         |</span>
<span class="cm">  |                     |      |         0 - Speed is fix                |</span>
<span class="cm">  |                     |      |         1 - Speed is variable (default) |</span>
<span class="cm">  +---------------------+------+-----------------------------------------+</span>
<span class="cm">  | Direction           | word | Enable compression/decompression for    |</span>
<span class="cm">  |                     |      | 0: All direction                        |</span>
<span class="cm">  |                     |      | 1: disable outgoing data                |</span>
<span class="cm">  |                     |      | 2: disable incomming data               |</span>
<span class="cm">  |                     |      | 3: disable both direction (default)     |</span>
<span class="cm">  +---------------------+------+-----------------------------------------+</span>
<span class="cm">  | Number of code      | word | Parameter P1 of V.42bis in accordance   |</span>
<span class="cm">  | words               |      | with V.42bis                            |</span>
<span class="cm">  +---------------------+------+-----------------------------------------+</span>
<span class="cm">  | Maximum String      | word | Parameter P2 of V.42bis in accordance   |</span>
<span class="cm">  | Length              |      | with V.42bis                            |</span>
<span class="cm">  +---------------------+------+-----------------------------------------+</span>
<span class="cm">  | control (UDATA)     | byte | enable PIAFS control communication      |</span>
<span class="cm">  | abilities           |      |                                         |</span>
<span class="cm">  +---------------------+------+-----------------------------------------+</span>
<span class="cm">*/</span>
<span class="cp">#define PIAFS_UDATA_ABILITIES  0x80</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* FAX SUB/SEP/PWD extension                                        */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define PRIVATE_FAX_SUB_SEP_PWD        3</span>



<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* V.18 extension                                                   */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define PRIVATE_V18                    4</span>



<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* DTMF TONE extension                                              */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define DTMF_GET_SUPPORTED_DETECT_CODES  0xf8</span>
<span class="cp">#define DTMF_GET_SUPPORTED_SEND_CODES    0xf9</span>
<span class="cp">#define DTMF_LISTEN_TONE_START           0xfa</span>
<span class="cp">#define DTMF_LISTEN_TONE_STOP            0xfb</span>
<span class="cp">#define DTMF_SEND_TONE                   0xfc</span>
<span class="cp">#define DTMF_LISTEN_MF_START             0xfd</span>
<span class="cp">#define DTMF_LISTEN_MF_STOP              0xfe</span>
<span class="cp">#define DTMF_SEND_MF                     0xff</span>

<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_1               0x10</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_2               0x11</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_3               0x12</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_4               0x13</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_5               0x14</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_6               0x15</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_7               0x16</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_8               0x17</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_9               0x18</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_0               0x19</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_K1              0x1a</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_K2              0x1b</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_KP              0x1c</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_S1              0x1d</span>
<span class="cp">#define DTMF_MF_DIGIT_TONE_CODE_ST              0x1e</span>

<span class="cp">#define DTMF_DIGIT_CODE_COUNT                   16</span>
<span class="cp">#define DTMF_MF_DIGIT_CODE_BASE                 DSP_DTMF_DIGIT_CODE_COUNT</span>
<span class="cp">#define DTMF_MF_DIGIT_CODE_COUNT                15</span>
<span class="cp">#define DTMF_TOTAL_DIGIT_CODE_COUNT             (DSP_MF_DIGIT_CODE_BASE + DSP_MF_DIGIT_CODE_COUNT)</span>

<span class="cp">#define DTMF_TONE_DIGIT_BASE                    0x80</span>

<span class="cp">#define DTMF_SIGNAL_NO_TONE                     (DTMF_TONE_DIGIT_BASE + 0)</span>
<span class="cp">#define DTMF_SIGNAL_UNIDENTIFIED_TONE           (DTMF_TONE_DIGIT_BASE + 1)</span>

<span class="cp">#define DTMF_SIGNAL_DIAL_TONE                   (DTMF_TONE_DIGIT_BASE + 2)</span>
<span class="cp">#define DTMF_SIGNAL_PABX_INTERNAL_DIAL_TONE     (DTMF_TONE_DIGIT_BASE + 3)</span>
<span class="cp">#define DTMF_SIGNAL_SPECIAL_DIAL_TONE           (DTMF_TONE_DIGIT_BASE + 4)   </span><span class="cm">/* stutter dial tone */</span><span class="cp"></span>
<span class="cp">#define DTMF_SIGNAL_SECOND_DIAL_TONE            (DTMF_TONE_DIGIT_BASE + 5)</span>
<span class="cp">#define DTMF_SIGNAL_RINGING_TONE                (DTMF_TONE_DIGIT_BASE + 6)</span>
<span class="cp">#define DTMF_SIGNAL_SPECIAL_RINGING_TONE        (DTMF_TONE_DIGIT_BASE + 7)</span>
<span class="cp">#define DTMF_SIGNAL_BUSY_TONE                   (DTMF_TONE_DIGIT_BASE + 8)</span>
<span class="cp">#define DTMF_SIGNAL_CONGESTION_TONE             (DTMF_TONE_DIGIT_BASE + 9)   </span><span class="cm">/* reorder tone */</span><span class="cp"></span>
<span class="cp">#define DTMF_SIGNAL_SPECIAL_INFORMATION_TONE    (DTMF_TONE_DIGIT_BASE + 10)</span>
<span class="cp">#define DTMF_SIGNAL_COMFORT_TONE                (DTMF_TONE_DIGIT_BASE + 11)</span>
<span class="cp">#define DTMF_SIGNAL_HOLD_TONE                   (DTMF_TONE_DIGIT_BASE + 12)</span>
<span class="cp">#define DTMF_SIGNAL_RECORD_TONE                 (DTMF_TONE_DIGIT_BASE + 13)</span>
<span class="cp">#define DTMF_SIGNAL_CALLER_WAITING_TONE         (DTMF_TONE_DIGIT_BASE + 14)</span>
<span class="cp">#define DTMF_SIGNAL_CALL_WAITING_TONE           (DTMF_TONE_DIGIT_BASE + 15)</span>
<span class="cp">#define DTMF_SIGNAL_PAY_TONE                    (DTMF_TONE_DIGIT_BASE + 16)</span>
<span class="cp">#define DTMF_SIGNAL_POSITIVE_INDICATION_TONE    (DTMF_TONE_DIGIT_BASE + 17)</span>
<span class="cp">#define DTMF_SIGNAL_NEGATIVE_INDICATION_TONE    (DTMF_TONE_DIGIT_BASE + 18)</span>
<span class="cp">#define DTMF_SIGNAL_WARNING_TONE                (DTMF_TONE_DIGIT_BASE + 19)</span>
<span class="cp">#define DTMF_SIGNAL_INTRUSION_TONE              (DTMF_TONE_DIGIT_BASE + 20)</span>
<span class="cp">#define DTMF_SIGNAL_CALLING_CARD_SERVICE_TONE   (DTMF_TONE_DIGIT_BASE + 21)</span>
<span class="cp">#define DTMF_SIGNAL_PAYPHONE_RECOGNITION_TONE   (DTMF_TONE_DIGIT_BASE + 22)</span>
<span class="cp">#define DTMF_SIGNAL_CPE_ALERTING_SIGNAL         (DTMF_TONE_DIGIT_BASE + 23)</span>
<span class="cp">#define DTMF_SIGNAL_OFF_HOOK_WARNING_TONE       (DTMF_TONE_DIGIT_BASE + 24)</span>

<span class="cp">#define DTMF_SIGNAL_INTERCEPT_TONE              (DTMF_TONE_DIGIT_BASE + 63)</span>

<span class="cp">#define DTMF_SIGNAL_MODEM_CALLING_TONE          (DTMF_TONE_DIGIT_BASE + 64)</span>
<span class="cp">#define DTMF_SIGNAL_FAX_CALLING_TONE            (DTMF_TONE_DIGIT_BASE + 65)</span>
<span class="cp">#define DTMF_SIGNAL_ANSWER_TONE                 (DTMF_TONE_DIGIT_BASE + 66)</span>
<span class="cp">#define DTMF_SIGNAL_REVERSED_ANSWER_TONE        (DTMF_TONE_DIGIT_BASE + 67)</span>
<span class="cp">#define DTMF_SIGNAL_ANSAM_TONE                  (DTMF_TONE_DIGIT_BASE + 68)</span>
<span class="cp">#define DTMF_SIGNAL_REVERSED_ANSAM_TONE         (DTMF_TONE_DIGIT_BASE + 69)</span>
<span class="cp">#define DTMF_SIGNAL_BELL103_ANSWER_TONE         (DTMF_TONE_DIGIT_BASE + 70)</span>
<span class="cp">#define DTMF_SIGNAL_FAX_FLAGS                   (DTMF_TONE_DIGIT_BASE + 71)</span>
<span class="cp">#define DTMF_SIGNAL_G2_FAX_GROUP_ID             (DTMF_TONE_DIGIT_BASE + 72)</span>
<span class="cp">#define DTMF_SIGNAL_HUMAN_SPEECH                (DTMF_TONE_DIGIT_BASE + 73)</span>
<span class="cp">#define DTMF_SIGNAL_ANSWERING_MACHINE_390       (DTMF_TONE_DIGIT_BASE + 74)</span>

<span class="cp">#define DTMF_MF_LISTEN_ACTIVE_FLAG     0x02</span>
<span class="cp">#define DTMF_SEND_MF_FLAG              0x02</span>
<span class="cp">#define DTMF_TONE_LISTEN_ACTIVE_FLAG   0x04</span>
<span class="cp">#define DTMF_SEND_TONE_FLAG            0x04</span>

<span class="cp">#define PRIVATE_DTMF_TONE              5</span>


<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* FAX paper format extension                                       */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define PRIVATE_FAX_PAPER_FORMATS      6</span>



<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* V.OWN extension                                                  */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define PRIVATE_VOWN                   7</span>



<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* FAX non-standard facilities extension                            */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>


<span class="cp">#define PRIVATE_FAX_NONSTANDARD        8</span>



<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* Advanced voice                                                   */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define ADV_VOICE_WRITE_ACTIVATION    0</span>
<span class="cp">#define ADV_VOICE_WRITE_DEACTIVATION  1</span>
<span class="cp">#define ADV_VOICE_WRITE_UPDATE        2</span>

<span class="cp">#define ADV_VOICE_OLD_COEF_COUNT    6</span>
<span class="cp">#define ADV_VOICE_NEW_COEF_BASE     (ADV_VOICE_OLD_COEF_COUNT * sizeof(word))</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* B1 resource switching                                            */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>

<span class="cp">#define B1_FACILITY_LOCAL  0x01</span>
<span class="cp">#define B1_FACILITY_MIXER  0x02</span>
<span class="cp">#define B1_FACILITY_DTMFX  0x04</span>
<span class="cp">#define B1_FACILITY_DTMFR  0x08</span>
<span class="cp">#define B1_FACILITY_VOICE  0x10</span>
<span class="cp">#define B1_FACILITY_EC     0x20</span>

<span class="cp">#define ADJUST_B_MODE_SAVE          0x0001</span>
<span class="cp">#define ADJUST_B_MODE_REMOVE_L23    0x0002</span>
<span class="cp">#define ADJUST_B_MODE_SWITCH_L1     0x0004</span>
<span class="cp">#define ADJUST_B_MODE_NO_RESOURCE   0x0008</span>
<span class="cp">#define ADJUST_B_MODE_ASSIGN_L23    0x0010</span>
<span class="cp">#define ADJUST_B_MODE_USER_CONNECT  0x0020</span>
<span class="cp">#define ADJUST_B_MODE_CONNECT       0x0040</span>
<span class="cp">#define ADJUST_B_MODE_RESTORE       0x0080</span>

<span class="cp">#define ADJUST_B_START                     0</span>
<span class="cp">#define ADJUST_B_SAVE_MIXER_1              1</span>
<span class="cp">#define ADJUST_B_SAVE_DTMF_1               2</span>
<span class="cp">#define ADJUST_B_REMOVE_L23_1              3</span>
<span class="cp">#define ADJUST_B_REMOVE_L23_2              4</span>
<span class="cp">#define ADJUST_B_SAVE_EC_1                 5</span>
<span class="cp">#define ADJUST_B_SAVE_DTMF_PARAMETER_1     6</span>
<span class="cp">#define ADJUST_B_SAVE_VOICE_1              7</span>
<span class="cp">#define ADJUST_B_SWITCH_L1_1               8</span>
<span class="cp">#define ADJUST_B_SWITCH_L1_2               9</span>
<span class="cp">#define ADJUST_B_RESTORE_VOICE_1           10</span>
<span class="cp">#define ADJUST_B_RESTORE_VOICE_2           11</span>
<span class="cp">#define ADJUST_B_RESTORE_DTMF_PARAMETER_1  12</span>
<span class="cp">#define ADJUST_B_RESTORE_DTMF_PARAMETER_2  13</span>
<span class="cp">#define ADJUST_B_RESTORE_EC_1              14</span>
<span class="cp">#define ADJUST_B_RESTORE_EC_2              15</span>
<span class="cp">#define ADJUST_B_ASSIGN_L23_1              16</span>
<span class="cp">#define ADJUST_B_ASSIGN_L23_2              17</span>
<span class="cp">#define ADJUST_B_CONNECT_1                 18</span>
<span class="cp">#define ADJUST_B_CONNECT_2                 19</span>
<span class="cp">#define ADJUST_B_CONNECT_3                 20</span>
<span class="cp">#define ADJUST_B_CONNECT_4                 21</span>
<span class="cp">#define ADJUST_B_RESTORE_DTMF_1            22</span>
<span class="cp">#define ADJUST_B_RESTORE_DTMF_2            23</span>
<span class="cp">#define ADJUST_B_RESTORE_MIXER_1           24</span>
<span class="cp">#define ADJUST_B_RESTORE_MIXER_2           25</span>
<span class="cp">#define ADJUST_B_RESTORE_MIXER_3           26</span>
<span class="cp">#define ADJUST_B_RESTORE_MIXER_4           27</span>
<span class="cp">#define ADJUST_B_RESTORE_MIXER_5           28</span>
<span class="cp">#define ADJUST_B_RESTORE_MIXER_6           29</span>
<span class="cp">#define ADJUST_B_RESTORE_MIXER_7           30</span>
<span class="cp">#define ADJUST_B_END                       31</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* XON Protocol def&#39;s                                               */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cp">#define N_CH_XOFF               0x01</span>
<span class="cp">#define N_XON_SENT              0x02</span>
<span class="cp">#define N_XON_REQ               0x04</span>
<span class="cp">#define N_XON_CONNECT_IND       0x08</span>
<span class="cp">#define N_RX_FLOW_CONTROL_MASK  0x3f</span>
<span class="cp">#define N_OK_FC_PENDING         0x80</span>
<span class="cp">#define N_TX_FLOW_CONTROL_MASK  0xc0</span>

<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cm">/* NCPI state                                                       */</span>
<span class="cm">/*------------------------------------------------------------------*/</span>
<span class="cp">#define NCPI_VALID_CONNECT_B3_IND  0x01</span>
<span class="cp">#define NCPI_VALID_CONNECT_B3_ACT  0x02</span>
<span class="cp">#define NCPI_VALID_DISC_B3_IND     0x04</span>
<span class="cp">#define NCPI_CONNECT_B3_ACT_SENT   0x08</span>
<span class="cp">#define NCPI_NEGOTIATE_B3_SENT     0x10</span>
<span class="cp">#define NCPI_MDM_CTS_ON_RECEIVED   0x40</span>
<span class="cp">#define NCPI_MDM_DCD_ON_RECEIVED   0x80</span>

<span class="cm">/*------------------------------------------------------------------*/</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
