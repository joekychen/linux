<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › isdn › hardware › mISDN › ipac.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>ipac.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *</span>
<span class="cm"> * ipac.h	Defines for the Infineon (former Siemens) ISDN</span>
<span class="cm"> *		chip series</span>
<span class="cm"> *</span>
<span class="cm"> * Author       Karsten Keil &lt;keil@isdn4linux.de&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2009  by Karsten Keil &lt;keil@isdn4linux.de&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#include &quot;iohelper.h&quot;</span>

<span class="k">struct</span> <span class="n">isac_hw</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">dchannel</span>		<span class="n">dch</span><span class="p">;</span>
	<span class="n">u32</span>			<span class="n">type</span><span class="p">;</span>
	<span class="n">u32</span>			<span class="n">off</span><span class="p">;</span>		<span class="cm">/* offset to isac regs */</span>
	<span class="kt">char</span>			<span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="n">spinlock_t</span>		<span class="o">*</span><span class="n">hwlock</span><span class="p">;</span>	<span class="cm">/* lock HW access */</span>
	<span class="n">read_reg_func</span>		<span class="o">*</span><span class="n">read_reg</span><span class="p">;</span>
	<span class="n">write_reg_func</span>		<span class="o">*</span><span class="n">write_reg</span><span class="p">;</span>
	<span class="n">fifo_func</span>		<span class="o">*</span><span class="n">read_fifo</span><span class="p">;</span>
	<span class="n">fifo_func</span>		<span class="o">*</span><span class="n">write_fifo</span><span class="p">;</span>
	<span class="kt">int</span>			<span class="p">(</span><span class="o">*</span><span class="n">monitor</span><span class="p">)(</span><span class="kt">void</span> <span class="o">*</span><span class="p">,</span> <span class="n">u32</span><span class="p">,</span> <span class="n">u8</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
	<span class="kt">void</span>			<span class="p">(</span><span class="o">*</span><span class="n">release</span><span class="p">)(</span><span class="k">struct</span> <span class="n">isac_hw</span> <span class="o">*</span><span class="p">);</span>
	<span class="kt">int</span>			<span class="p">(</span><span class="o">*</span><span class="n">init</span><span class="p">)(</span><span class="k">struct</span> <span class="n">isac_hw</span> <span class="o">*</span><span class="p">);</span>
	<span class="kt">int</span>			<span class="p">(</span><span class="o">*</span><span class="n">ctrl</span><span class="p">)(</span><span class="k">struct</span> <span class="n">isac_hw</span> <span class="o">*</span><span class="p">,</span> <span class="n">u32</span><span class="p">,</span> <span class="n">u_long</span><span class="p">);</span>
	<span class="kt">int</span>			<span class="p">(</span><span class="o">*</span><span class="n">open</span><span class="p">)(</span><span class="k">struct</span> <span class="n">isac_hw</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">channel_req</span> <span class="o">*</span><span class="p">);</span>
	<span class="n">u8</span>			<span class="o">*</span><span class="n">mon_tx</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="o">*</span><span class="n">mon_rx</span><span class="p">;</span>
	<span class="kt">int</span>			<span class="n">mon_txp</span><span class="p">;</span>
	<span class="kt">int</span>			<span class="n">mon_txc</span><span class="p">;</span>
	<span class="kt">int</span>			<span class="n">mon_rxp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">arcofi_msg</span>	<span class="o">*</span><span class="n">arcofi_list</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timer_list</span>	<span class="n">arcofitimer</span><span class="p">;</span>
	<span class="n">wait_queue_head_t</span>	<span class="n">arcofi_wait</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">arcofi_bc</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">arcofi_state</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">mocr</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">adf2</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">state</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ipac_hw</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">hscx_hw</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">bchannel</span>		<span class="n">bch</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">ipac_hw</span>		<span class="o">*</span><span class="n">ip</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">fifo_size</span><span class="p">;</span>
	<span class="n">u8</span>			<span class="n">off</span><span class="p">;</span>	<span class="cm">/* offset to ICA or ICB */</span>
	<span class="n">u8</span>			<span class="n">slot</span><span class="p">;</span>
	<span class="kt">char</span>			<span class="n">log</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">ipac_hw</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">isac_hw</span>		<span class="n">isac</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">hscx_hw</span>		<span class="n">hscx</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">char</span>			<span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="kt">void</span>			<span class="o">*</span><span class="n">hw</span><span class="p">;</span>
	<span class="n">spinlock_t</span>		<span class="o">*</span><span class="n">hwlock</span><span class="p">;</span>	<span class="cm">/* lock HW access */</span>
	<span class="k">struct</span> <span class="n">module</span>		<span class="o">*</span><span class="n">owner</span><span class="p">;</span>
	<span class="n">u32</span>			<span class="n">type</span><span class="p">;</span>
	<span class="n">read_reg_func</span>		<span class="o">*</span><span class="n">read_reg</span><span class="p">;</span>
	<span class="n">write_reg_func</span>		<span class="o">*</span><span class="n">write_reg</span><span class="p">;</span>
	<span class="n">fifo_func</span>		<span class="o">*</span><span class="n">read_fifo</span><span class="p">;</span>
	<span class="n">fifo_func</span>		<span class="o">*</span><span class="n">write_fifo</span><span class="p">;</span>
	<span class="kt">void</span>			<span class="p">(</span><span class="o">*</span><span class="n">release</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ipac_hw</span> <span class="o">*</span><span class="p">);</span>
	<span class="kt">int</span>			<span class="p">(</span><span class="o">*</span><span class="n">init</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ipac_hw</span> <span class="o">*</span><span class="p">);</span>
	<span class="kt">int</span>			<span class="p">(</span><span class="o">*</span><span class="n">ctrl</span><span class="p">)(</span><span class="k">struct</span> <span class="n">ipac_hw</span> <span class="o">*</span><span class="p">,</span> <span class="n">u32</span><span class="p">,</span> <span class="n">u_long</span><span class="p">);</span>
	<span class="n">u8</span>			<span class="n">conf</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define IPAC_TYPE_ISAC		0x0010</span>
<span class="cp">#define IPAC_TYPE_IPAC		0x0020</span>
<span class="cp">#define IPAC_TYPE_ISACX		0x0040</span>
<span class="cp">#define IPAC_TYPE_IPACX		0x0080</span>
<span class="cp">#define IPAC_TYPE_HSCX		0x0100</span>

<span class="cp">#define ISAC_USE_ARCOFI		0x1000</span>

<span class="cm">/* Monitor functions */</span>
<span class="cp">#define MONITOR_RX_0		0x1000</span>
<span class="cp">#define MONITOR_RX_1		0x1001</span>
<span class="cp">#define MONITOR_TX_0		0x2000</span>
<span class="cp">#define MONITOR_TX_1		0x2001</span>

<span class="cm">/* All registers original Siemens Spec  */</span>
<span class="cm">/* IPAC/ISAC registers */</span>
<span class="cp">#define ISAC_MASK		0x20</span>
<span class="cp">#define ISAC_ISTA		0x20</span>
<span class="cp">#define ISAC_STAR		0x21</span>
<span class="cp">#define ISAC_CMDR		0x21</span>
<span class="cp">#define ISAC_EXIR		0x24</span>
<span class="cp">#define ISAC_ADF2		0x39</span>
<span class="cp">#define ISAC_SPCR		0x30</span>
<span class="cp">#define ISAC_ADF1		0x38</span>
<span class="cp">#define ISAC_CIR0		0x31</span>
<span class="cp">#define ISAC_CIX0		0x31</span>
<span class="cp">#define ISAC_CIR1		0x33</span>
<span class="cp">#define ISAC_CIX1		0x33</span>
<span class="cp">#define ISAC_STCR		0x37</span>
<span class="cp">#define ISAC_MODE		0x22</span>
<span class="cp">#define ISAC_RSTA		0x27</span>
<span class="cp">#define ISAC_RBCL		0x25</span>
<span class="cp">#define ISAC_RBCH		0x2A</span>
<span class="cp">#define ISAC_TIMR		0x23</span>
<span class="cp">#define ISAC_SQXR		0x3b</span>
<span class="cp">#define ISAC_SQRR		0x3b</span>
<span class="cp">#define ISAC_MOSR		0x3a</span>
<span class="cp">#define ISAC_MOCR		0x3a</span>
<span class="cp">#define ISAC_MOR0		0x32</span>
<span class="cp">#define ISAC_MOX0		0x32</span>
<span class="cp">#define ISAC_MOR1		0x34</span>
<span class="cp">#define ISAC_MOX1		0x34</span>

<span class="cp">#define ISAC_RBCH_XAC		0x80</span>

<span class="cp">#define IPAC_D_TIN2		0x01</span>

<span class="cm">/* IPAC/HSCX */</span>
<span class="cp">#define IPAC_ISTAB		0x20	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_MASKB		0x20	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_STARB		0x21	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_CMDRB		0x21	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_MODEB		0x22	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_EXIRB		0x24	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RBCLB		0x25	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RAH1		0x26	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RAH2		0x27	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RSTAB		0x27	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RAL1		0x28	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RAL2		0x29	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RHCRB		0x29	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_XBCL		0x2A	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_CCR2		0x2C	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RBCHB		0x2D	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_XBCH		0x2D	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define HSCX_VSTR		0x2E	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RLCR		0x2E	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_CCR1		0x2F	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_TSAX		0x30	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_TSAR		0x31	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_XCCR		0x32	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_RCCR		0x33	</span><span class="cm">/* WR	*/</span><span class="cp"></span>

<span class="cm">/* IPAC_ISTAB/IPAC_MASKB bits */</span>
<span class="cp">#define IPAC_B_XPR		0x10</span>
<span class="cp">#define IPAC_B_RPF		0x40</span>
<span class="cp">#define IPAC_B_RME		0x80</span>
<span class="cp">#define IPAC_B_ON		0x2F</span>

<span class="cm">/* IPAC_EXIRB bits */</span>
<span class="cp">#define IPAC_B_RFS		0x04</span>
<span class="cp">#define IPAC_B_RFO		0x10</span>
<span class="cp">#define IPAC_B_XDU		0x40</span>
<span class="cp">#define IPAC_B_XMR		0x80</span>

<span class="cm">/* IPAC special registers */</span>
<span class="cp">#define IPAC_CONF		0xC0	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_ISTA		0xC1	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_MASK		0xC1	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_ID			0xC2	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_ACFG		0xC3	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_AOE		0xC4	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_ARX		0xC5	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_ATX		0xC5	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_PITA1		0xC6	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_PITA2		0xC7	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_POTA1		0xC8	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_POTA2		0xC9	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_PCFG		0xCA	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_SCFG		0xCB	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPAC_TIMR2		0xCC	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>

<span class="cm">/* IPAC_ISTA/_MASK bits */</span>
<span class="cp">#define IPAC__EXB		0x01</span>
<span class="cp">#define IPAC__ICB		0x02</span>
<span class="cp">#define IPAC__EXA		0x04</span>
<span class="cp">#define IPAC__ICA		0x08</span>
<span class="cp">#define IPAC__EXD		0x10</span>
<span class="cp">#define IPAC__ICD		0x20</span>
<span class="cp">#define IPAC__INT0		0x40</span>
<span class="cp">#define IPAC__INT1		0x80</span>
<span class="cp">#define IPAC__ON		0xC0</span>

<span class="cm">/* HSCX ISTA/MASK bits */</span>
<span class="cp">#define HSCX__EXB		0x01</span>
<span class="cp">#define HSCX__EXA		0x02</span>
<span class="cp">#define HSCX__ICA		0x04</span>

<span class="cm">/* ISAC/ISACX/IPAC/IPACX L1 commands */</span>
<span class="cp">#define ISAC_CMD_TIM		0x0</span>
<span class="cp">#define ISAC_CMD_RS		0x1</span>
<span class="cp">#define ISAC_CMD_SCZ		0x4</span>
<span class="cp">#define ISAC_CMD_SSZ		0x2</span>
<span class="cp">#define ISAC_CMD_AR8		0x8</span>
<span class="cp">#define ISAC_CMD_AR10		0x9</span>
<span class="cp">#define ISAC_CMD_ARL		0xA</span>
<span class="cp">#define ISAC_CMD_DUI		0xF</span>

<span class="cm">/* ISAC/ISACX/IPAC/IPACX L1 indications */</span>
<span class="cp">#define ISAC_IND_RS		0x1</span>
<span class="cp">#define ISAC_IND_PU		0x7</span>
<span class="cp">#define ISAC_IND_DR		0x0</span>
<span class="cp">#define ISAC_IND_SD		0x2</span>
<span class="cp">#define ISAC_IND_DIS		0x3</span>
<span class="cp">#define ISAC_IND_EI		0x6</span>
<span class="cp">#define ISAC_IND_RSY		0x4</span>
<span class="cp">#define ISAC_IND_ARD		0x8</span>
<span class="cp">#define ISAC_IND_TI		0xA</span>
<span class="cp">#define ISAC_IND_ATI		0xB</span>
<span class="cp">#define ISAC_IND_AI8		0xC</span>
<span class="cp">#define ISAC_IND_AI10		0xD</span>
<span class="cp">#define ISAC_IND_DID		0xF</span>

<span class="cm">/* the new ISACX / IPACX */</span>
<span class="cm">/* D-channel registers   */</span>
<span class="cp">#define ISACX_RFIFOD		0x00	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_XFIFOD		0x00	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ISTAD		0x20	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MASKD		0x20	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_STARD		0x21	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CMDRD		0x21	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MODED		0x22	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_EXMD1		0x23	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TIMR1		0x24	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SAP1		0x25	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SAP2		0x26	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_RBCLD		0x26	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_RBCHD		0x27	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TEI1		0x27	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TEI2		0x28	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_RSTAD		0x28	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TMD		0x29	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CIR0		0x2E	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CIX0		0x2E	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CIR1		0x2F	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CIX1		0x2F	</span><span class="cm">/* WR	*/</span><span class="cp"></span>

<span class="cm">/* Transceiver registers  */</span>
<span class="cp">#define ISACX_TR_CONF0		0x30	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TR_CONF1		0x31	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TR_CONF2		0x32	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TR_STA		0x33	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TR_CMD		0x34	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SQRR1		0x35	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SQXR1		0x35	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SQRR2		0x36	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SQXR2		0x36	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SQRR3		0x37	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SQXR3		0x37	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ISTATR		0x38	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MASKTR		0x39	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TR_MODE		0x3A	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ACFG1		0x3C	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ACFG2		0x3D	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_AOE		0x3E	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ARX		0x3F	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ATX		0x3F	</span><span class="cm">/* WR	*/</span><span class="cp"></span>

<span class="cm">/* IOM: Timeslot, DPS, CDA  */</span>
<span class="cp">#define ISACX_CDA10		0x40	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA11		0x41	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA20		0x42	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA21		0x43	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA_TSDP10	0x44	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA_TSDP11	0x45	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA_TSDP20	0x46	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA_TSDP21	0x47	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_BCHA_TSDP_BC1	0x48	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_BCHA_TSDP_BC2	0x49	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_BCHB_TSDP_BC1	0x4A	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_BCHB_TSDP_BC2	0x4B	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TR_TSDP_BC1	0x4C	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TR_TSDP_BC2	0x4D	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA1_CR		0x4E	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_CDA2_CR		0x4F	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>

<span class="cm">/* IOM: Contol, Sync transfer, Monitor    */</span>
<span class="cp">#define ISACX_TR_CR		0x50	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TRC_CR		0x50	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_BCHA_CR		0x51	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_BCHB_CR		0x52	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_DCI_CR		0x53	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_DCIC_CR		0x53	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MON_CR		0x54	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SDS1_CR		0x55	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SDS2_CR		0x56	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_IOM_CR		0x57	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_STI		0x58	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ASTI		0x58	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MSTI		0x59	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SDS_CONF		0x5A	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MCDA		0x5B	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MOR		0x5C	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MOX		0x5C	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MOSR		0x5D	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MOCR		0x5E	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MSTA		0x5F	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MCONF		0x5F	</span><span class="cm">/* WR	*/</span><span class="cp"></span>

<span class="cm">/* Interrupt and general registers */</span>
<span class="cp">#define ISACX_ISTA		0x60	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MASK		0x60	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_AUXI		0x61	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_AUXM		0x61	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MODE1		0x62	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_MODE2		0x63	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_ID		0x64	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_SRES		0x64	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define ISACX_TIMR2		0x65	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>

<span class="cm">/* Register Bits */</span>
<span class="cm">/* ISACX/IPACX _ISTAD (R) and _MASKD (W) */</span>
<span class="cp">#define ISACX_D_XDU		0x04</span>
<span class="cp">#define ISACX_D_XMR		0x08</span>
<span class="cp">#define ISACX_D_XPR		0x10</span>
<span class="cp">#define ISACX_D_RFO		0x20</span>
<span class="cp">#define ISACX_D_RPF		0x40</span>
<span class="cp">#define ISACX_D_RME		0x80</span>

<span class="cm">/* ISACX/IPACX _ISTA (R) and _MASK (W) */</span>
<span class="cp">#define ISACX__ICD		0x01</span>
<span class="cp">#define ISACX__MOS		0x02</span>
<span class="cp">#define ISACX__TRAN		0x04</span>
<span class="cp">#define ISACX__AUX		0x08</span>
<span class="cp">#define ISACX__CIC		0x10</span>
<span class="cp">#define ISACX__ST		0x20</span>
<span class="cp">#define IPACX__ICB		0x40</span>
<span class="cp">#define IPACX__ICA		0x80</span>
<span class="cp">#define IPACX__ON		0x2C</span>

<span class="cm">/* ISACX/IPACX _CMDRD (W) */</span>
<span class="cp">#define ISACX_CMDRD_XRES	0x01</span>
<span class="cp">#define ISACX_CMDRD_XME		0x02</span>
<span class="cp">#define ISACX_CMDRD_XTF		0x08</span>
<span class="cp">#define ISACX_CMDRD_STI		0x10</span>
<span class="cp">#define ISACX_CMDRD_RRES	0x40</span>
<span class="cp">#define ISACX_CMDRD_RMC		0x80</span>

<span class="cm">/* ISACX/IPACX _RSTAD (R) */</span>
<span class="cp">#define ISACX_RSTAD_TA		0x01</span>
<span class="cp">#define ISACX_RSTAD_CR		0x02</span>
<span class="cp">#define ISACX_RSTAD_SA0		0x04</span>
<span class="cp">#define ISACX_RSTAD_SA1		0x08</span>
<span class="cp">#define ISACX_RSTAD_RAB		0x10</span>
<span class="cp">#define ISACX_RSTAD_CRC		0x20</span>
<span class="cp">#define ISACX_RSTAD_RDO		0x40</span>
<span class="cp">#define ISACX_RSTAD_VFR		0x80</span>

<span class="cm">/* ISACX/IPACX _CIR0 (R) */</span>
<span class="cp">#define ISACX_CIR0_BAS		0x01</span>
<span class="cp">#define ISACX_CIR0_SG		0x08</span>
<span class="cp">#define ISACX_CIR0_CIC1		0x08</span>
<span class="cp">#define ISACX_CIR0_CIC0		0x08</span>

<span class="cm">/* B-channel registers */</span>
<span class="cp">#define IPACX_OFF_ICA		0x70</span>
<span class="cp">#define IPACX_OFF_ICB		0x80</span>

<span class="cm">/* ICA: IPACX_OFF_ICA + Reg ICB: IPACX_OFF_ICB + Reg */</span>

<span class="cp">#define IPACX_ISTAB		0x00    </span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_MASKB		0x00	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_STARB		0x01	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_CMDRB		0x01	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_MODEB		0x02	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_EXMB		0x03	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RAH1		0x05	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RAH2		0x06	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RBCLB		0x06	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RBCHB		0x07	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RAL1		0x07	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RAL2		0x08	</span><span class="cm">/* WR	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RSTAB		0x08	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_TMB		0x09	</span><span class="cm">/* R/W	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_RFIFOB		0x0A	</span><span class="cm">/* RD	*/</span><span class="cp"></span>
<span class="cp">#define IPACX_XFIFOB		0x0A	</span><span class="cm">/* WR	*/</span><span class="cp"></span>

<span class="cm">/* IPACX_ISTAB / IPACX_MASKB bits */</span>
<span class="cp">#define IPACX_B_XDU		0x04</span>
<span class="cp">#define IPACX_B_XPR		0x10</span>
<span class="cp">#define IPACX_B_RFO		0x20</span>
<span class="cp">#define IPACX_B_RPF		0x40</span>
<span class="cp">#define IPACX_B_RME		0x80</span>

<span class="cp">#define IPACX_B_ON		0x0B</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">mISDNisac_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">isac_hw</span> <span class="o">*</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">irqreturn_t</span> <span class="n">mISDNisac_irq</span><span class="p">(</span><span class="k">struct</span> <span class="n">isac_hw</span> <span class="o">*</span><span class="p">,</span> <span class="n">u8</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">mISDNipac_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">ipac_hw</span> <span class="o">*</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">irqreturn_t</span> <span class="n">mISDNipac_irq</span><span class="p">(</span><span class="k">struct</span> <span class="n">ipac_hw</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
