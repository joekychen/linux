<!DOCTYPE html>
<html><head><title>joekychen/linux » drivers › target › iscsi › iscsi_target_parameters.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>iscsi_target_parameters.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef ISCSI_PARAMETERS_H</span>
<span class="cp">#define ISCSI_PARAMETERS_H</span>

<span class="k">struct</span> <span class="n">iscsi_extra_response</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="n">key</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">value</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">er_list</span><span class="p">;</span>
<span class="p">}</span> <span class="n">____cacheline_aligned</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">iscsi_param</span> <span class="p">{</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="kt">char</span> <span class="o">*</span><span class="n">value</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">set_param</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">phase</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">scope</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sender</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">use</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">type_range</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">state</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">list_head</span> <span class="n">p_list</span><span class="p">;</span>
<span class="p">}</span> <span class="n">____cacheline_aligned</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_login_rx_data</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_conn</span> <span class="o">*</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_login_tx_data</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_conn</span> <span class="o">*</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iscsi_dump_conn_ops</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_conn_ops</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iscsi_dump_sess_ops</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_sess_ops</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iscsi_print_params</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_create_default_params</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">**</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_set_keys_to_negotiate</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_set_keys_irrelevant_for_discovery</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_copy_param_list</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">**</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_change_param_value</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iscsi_release_param_list</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">iscsi_param</span> <span class="o">*</span><span class="n">iscsi_find_param_from_key</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_extract_key_value</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_update_param_value</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_param</span> <span class="o">*</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_decode_text_input</span><span class="p">(</span><span class="n">u8</span><span class="p">,</span> <span class="n">u8</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="n">u32</span><span class="p">,</span> <span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_encode_text_output</span><span class="p">(</span><span class="n">u8</span><span class="p">,</span> <span class="n">u8</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="p">,</span> <span class="n">u32</span> <span class="o">*</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">iscsi_check_negotiated_keys</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iscsi_set_connection_parameters</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_conn_ops</span> <span class="o">*</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">iscsi_set_session_parameters</span><span class="p">(</span><span class="k">struct</span> <span class="n">iscsi_sess_ops</span> <span class="o">*</span><span class="p">,</span>
			<span class="k">struct</span> <span class="n">iscsi_param_list</span> <span class="o">*</span><span class="p">,</span> <span class="kt">int</span><span class="p">);</span>

<span class="cp">#define YES				&quot;Yes&quot;</span>
<span class="cp">#define NO				&quot;No&quot;</span>
<span class="cp">#define ALL				&quot;All&quot;</span>
<span class="cp">#define IRRELEVANT			&quot;Irrelevant&quot;</span>
<span class="cp">#define NONE				&quot;None&quot;</span>
<span class="cp">#define NOTUNDERSTOOD			&quot;NotUnderstood&quot;</span>
<span class="cp">#define REJECT				&quot;Reject&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * The Parameter Names.</span>
<span class="cm"> */</span>
<span class="cp">#define AUTHMETHOD			&quot;AuthMethod&quot;</span>
<span class="cp">#define HEADERDIGEST			&quot;HeaderDigest&quot;</span>
<span class="cp">#define DATADIGEST			&quot;DataDigest&quot;</span>
<span class="cp">#define MAXCONNECTIONS			&quot;MaxConnections&quot;</span>
<span class="cp">#define SENDTARGETS			&quot;SendTargets&quot;</span>
<span class="cp">#define TARGETNAME			&quot;TargetName&quot;</span>
<span class="cp">#define INITIATORNAME			&quot;InitiatorName&quot;</span>
<span class="cp">#define TARGETALIAS			&quot;TargetAlias&quot;</span>
<span class="cp">#define INITIATORALIAS			&quot;InitiatorAlias&quot;</span>
<span class="cp">#define TARGETADDRESS			&quot;TargetAddress&quot;</span>
<span class="cp">#define TARGETPORTALGROUPTAG		&quot;TargetPortalGroupTag&quot;</span>
<span class="cp">#define INITIALR2T			&quot;InitialR2T&quot;</span>
<span class="cp">#define IMMEDIATEDATA			&quot;ImmediateData&quot;</span>
<span class="cp">#define MAXRECVDATASEGMENTLENGTH	&quot;MaxRecvDataSegmentLength&quot;</span>
<span class="cp">#define MAXBURSTLENGTH			&quot;MaxBurstLength&quot;</span>
<span class="cp">#define FIRSTBURSTLENGTH		&quot;FirstBurstLength&quot;</span>
<span class="cp">#define DEFAULTTIME2WAIT		&quot;DefaultTime2Wait&quot;</span>
<span class="cp">#define DEFAULTTIME2RETAIN		&quot;DefaultTime2Retain&quot;</span>
<span class="cp">#define MAXOUTSTANDINGR2T		&quot;MaxOutstandingR2T&quot;</span>
<span class="cp">#define DATAPDUINORDER			&quot;DataPDUInOrder&quot;</span>
<span class="cp">#define DATASEQUENCEINORDER		&quot;DataSequenceInOrder&quot;</span>
<span class="cp">#define ERRORRECOVERYLEVEL		&quot;ErrorRecoveryLevel&quot;</span>
<span class="cp">#define SESSIONTYPE			&quot;SessionType&quot;</span>
<span class="cp">#define IFMARKER			&quot;IFMarker&quot;</span>
<span class="cp">#define OFMARKER			&quot;OFMarker&quot;</span>
<span class="cp">#define IFMARKINT			&quot;IFMarkInt&quot;</span>
<span class="cp">#define OFMARKINT			&quot;OFMarkInt&quot;</span>
<span class="cp">#define X_EXTENSIONKEY			&quot;X-com.sbei.version&quot;</span>
<span class="cp">#define X_EXTENSIONKEY_CISCO_NEW	&quot;X-com.cisco.protocol&quot;</span>
<span class="cp">#define X_EXTENSIONKEY_CISCO_OLD	&quot;X-com.cisco.iscsi.draft&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * For AuthMethod.</span>
<span class="cm"> */</span>
<span class="cp">#define KRB5				&quot;KRB5&quot;</span>
<span class="cp">#define SPKM1				&quot;SPKM1&quot;</span>
<span class="cp">#define SPKM2				&quot;SPKM2&quot;</span>
<span class="cp">#define SRP				&quot;SRP&quot;</span>
<span class="cp">#define CHAP				&quot;CHAP&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * Initial values for Parameter Negotiation.</span>
<span class="cm"> */</span>
<span class="cp">#define INITIAL_AUTHMETHOD			CHAP</span>
<span class="cp">#define INITIAL_HEADERDIGEST			&quot;CRC32C,None&quot;</span>
<span class="cp">#define INITIAL_DATADIGEST			&quot;CRC32C,None&quot;</span>
<span class="cp">#define INITIAL_MAXCONNECTIONS			&quot;1&quot;</span>
<span class="cp">#define INITIAL_SENDTARGETS			ALL</span>
<span class="cp">#define INITIAL_TARGETNAME			&quot;LIO.Target&quot;</span>
<span class="cp">#define INITIAL_INITIATORNAME			&quot;LIO.Initiator&quot;</span>
<span class="cp">#define INITIAL_TARGETALIAS			&quot;LIO Target&quot;</span>
<span class="cp">#define INITIAL_INITIATORALIAS			&quot;LIO Initiator&quot;</span>
<span class="cp">#define INITIAL_TARGETADDRESS			&quot;0.0.0.0:0000,0&quot;</span>
<span class="cp">#define INITIAL_TARGETPORTALGROUPTAG		&quot;1&quot;</span>
<span class="cp">#define INITIAL_INITIALR2T			YES</span>
<span class="cp">#define INITIAL_IMMEDIATEDATA			YES</span>
<span class="cp">#define INITIAL_MAXRECVDATASEGMENTLENGTH	&quot;8192&quot;</span>
<span class="cp">#define INITIAL_MAXBURSTLENGTH			&quot;262144&quot;</span>
<span class="cp">#define INITIAL_FIRSTBURSTLENGTH		&quot;65536&quot;</span>
<span class="cp">#define INITIAL_DEFAULTTIME2WAIT		&quot;2&quot;</span>
<span class="cp">#define INITIAL_DEFAULTTIME2RETAIN		&quot;20&quot;</span>
<span class="cp">#define INITIAL_MAXOUTSTANDINGR2T		&quot;1&quot;</span>
<span class="cp">#define INITIAL_DATAPDUINORDER			YES</span>
<span class="cp">#define INITIAL_DATASEQUENCEINORDER		YES</span>
<span class="cp">#define INITIAL_ERRORRECOVERYLEVEL		&quot;0&quot;</span>
<span class="cp">#define INITIAL_SESSIONTYPE			NORMAL</span>
<span class="cp">#define INITIAL_IFMARKER			NO</span>
<span class="cp">#define INITIAL_OFMARKER			NO</span>
<span class="cp">#define INITIAL_IFMARKINT			&quot;2048~65535&quot;</span>
<span class="cp">#define INITIAL_OFMARKINT			&quot;2048~65535&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * For [Header,Data]Digests.</span>
<span class="cm"> */</span>
<span class="cp">#define CRC32C				&quot;CRC32C&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * For SessionType.</span>
<span class="cm"> */</span>
<span class="cp">#define DISCOVERY			&quot;Discovery&quot;</span>
<span class="cp">#define NORMAL				&quot;Normal&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * struct iscsi_param-&gt;use</span>
<span class="cm"> */</span>
<span class="cp">#define USE_LEADING_ONLY		0x01</span>
<span class="cp">#define USE_INITIAL_ONLY		0x02</span>
<span class="cp">#define USE_ALL				0x04</span>

<span class="cp">#define IS_USE_LEADING_ONLY(p)		((p)-&gt;use &amp; USE_LEADING_ONLY)</span>
<span class="cp">#define IS_USE_INITIAL_ONLY(p)		((p)-&gt;use &amp; USE_INITIAL_ONLY)</span>
<span class="cp">#define IS_USE_ALL(p)			((p)-&gt;use &amp; USE_ALL)</span>

<span class="cp">#define SET_USE_INITIAL_ONLY(p)		((p)-&gt;use |= USE_INITIAL_ONLY)</span>

<span class="cm">/*</span>
<span class="cm"> * struct iscsi_param-&gt;sender</span>
<span class="cm"> */</span>
<span class="cp">#define	SENDER_INITIATOR		0x01</span>
<span class="cp">#define SENDER_TARGET			0x02</span>
<span class="cp">#define SENDER_BOTH			0x03</span>
<span class="cm">/* Used in iscsi_check_key() */</span>
<span class="cp">#define SENDER_RECEIVER			0x04</span>

<span class="cp">#define IS_SENDER_INITIATOR(p)		((p)-&gt;sender &amp; SENDER_INITIATOR)</span>
<span class="cp">#define IS_SENDER_TARGET(p)		((p)-&gt;sender &amp; SENDER_TARGET)</span>
<span class="cp">#define IS_SENDER_BOTH(p)		((p)-&gt;sender &amp; SENDER_BOTH)</span>

<span class="cm">/*</span>
<span class="cm"> * struct iscsi_param-&gt;scope</span>
<span class="cm"> */</span>
<span class="cp">#define SCOPE_CONNECTION_ONLY		0x01</span>
<span class="cp">#define SCOPE_SESSION_WIDE		0x02</span>

<span class="cp">#define IS_SCOPE_CONNECTION_ONLY(p)	((p)-&gt;scope &amp; SCOPE_CONNECTION_ONLY)</span>
<span class="cp">#define IS_SCOPE_SESSION_WIDE(p)	((p)-&gt;scope &amp; SCOPE_SESSION_WIDE)</span>

<span class="cm">/*</span>
<span class="cm"> * struct iscsi_param-&gt;phase</span>
<span class="cm"> */</span>
<span class="cp">#define PHASE_SECURITY			0x01</span>
<span class="cp">#define PHASE_OPERATIONAL		0x02</span>
<span class="cp">#define PHASE_DECLARATIVE		0x04</span>
<span class="cp">#define PHASE_FFP0			0x08</span>

<span class="cp">#define IS_PHASE_SECURITY(p)		((p)-&gt;phase &amp; PHASE_SECURITY)</span>
<span class="cp">#define IS_PHASE_OPERATIONAL(p)		((p)-&gt;phase &amp; PHASE_OPERATIONAL)</span>
<span class="cp">#define IS_PHASE_DECLARATIVE(p)		((p)-&gt;phase &amp; PHASE_DECLARATIVE)</span>
<span class="cp">#define IS_PHASE_FFP0(p)		((p)-&gt;phase &amp; PHASE_FFP0)</span>

<span class="cm">/*</span>
<span class="cm"> * struct iscsi_param-&gt;type</span>
<span class="cm"> */</span>
<span class="cp">#define TYPE_BOOL_AND			0x01</span>
<span class="cp">#define TYPE_BOOL_OR			0x02</span>
<span class="cp">#define TYPE_NUMBER			0x04</span>
<span class="cp">#define TYPE_NUMBER_RANGE		0x08</span>
<span class="cp">#define TYPE_STRING			0x10</span>
<span class="cp">#define TYPE_VALUE_LIST			0x20</span>

<span class="cp">#define IS_TYPE_BOOL_AND(p)		((p)-&gt;type &amp; TYPE_BOOL_AND)</span>
<span class="cp">#define IS_TYPE_BOOL_OR(p)		((p)-&gt;type &amp; TYPE_BOOL_OR)</span>
<span class="cp">#define IS_TYPE_NUMBER(p)		((p)-&gt;type &amp; TYPE_NUMBER)</span>
<span class="cp">#define IS_TYPE_NUMBER_RANGE(p)		((p)-&gt;type &amp; TYPE_NUMBER_RANGE)</span>
<span class="cp">#define IS_TYPE_STRING(p)		((p)-&gt;type &amp; TYPE_STRING)</span>
<span class="cp">#define IS_TYPE_VALUE_LIST(p)		((p)-&gt;type &amp; TYPE_VALUE_LIST)</span>

<span class="cm">/*</span>
<span class="cm"> * struct iscsi_param-&gt;type_range</span>
<span class="cm"> */</span>
<span class="cp">#define TYPERANGE_BOOL_AND		0x0001</span>
<span class="cp">#define TYPERANGE_BOOL_OR		0x0002</span>
<span class="cp">#define TYPERANGE_0_TO_2		0x0004</span>
<span class="cp">#define TYPERANGE_0_TO_3600		0x0008</span>
<span class="cp">#define TYPERANGE_0_TO_32767		0x0010</span>
<span class="cp">#define TYPERANGE_0_TO_65535		0x0020</span>
<span class="cp">#define TYPERANGE_1_TO_65535		0x0040</span>
<span class="cp">#define TYPERANGE_2_TO_3600		0x0080</span>
<span class="cp">#define TYPERANGE_512_TO_16777215	0x0100</span>
<span class="cp">#define TYPERANGE_AUTH			0x0200</span>
<span class="cp">#define TYPERANGE_DIGEST		0x0400</span>
<span class="cp">#define TYPERANGE_ISCSINAME		0x0800</span>
<span class="cp">#define TYPERANGE_MARKINT		0x1000</span>
<span class="cp">#define TYPERANGE_SESSIONTYPE		0x2000</span>
<span class="cp">#define TYPERANGE_TARGETADDRESS		0x4000</span>
<span class="cp">#define TYPERANGE_UTF8			0x8000</span>

<span class="cp">#define IS_TYPERANGE_0_TO_2(p)		((p)-&gt;type_range &amp; TYPERANGE_0_TO_2)</span>
<span class="cp">#define IS_TYPERANGE_0_TO_3600(p)	((p)-&gt;type_range &amp; TYPERANGE_0_TO_3600)</span>
<span class="cp">#define IS_TYPERANGE_0_TO_32767(p)	((p)-&gt;type_range &amp; TYPERANGE_0_TO_32767)</span>
<span class="cp">#define IS_TYPERANGE_0_TO_65535(p)	((p)-&gt;type_range &amp; TYPERANGE_0_TO_65535)</span>
<span class="cp">#define IS_TYPERANGE_1_TO_65535(p)	((p)-&gt;type_range &amp; TYPERANGE_1_TO_65535)</span>
<span class="cp">#define IS_TYPERANGE_2_TO_3600(p)	((p)-&gt;type_range &amp; TYPERANGE_2_TO_3600)</span>
<span class="cp">#define IS_TYPERANGE_512_TO_16777215(p)	((p)-&gt;type_range &amp; \</span>
<span class="cp">						TYPERANGE_512_TO_16777215)</span>
<span class="cp">#define IS_TYPERANGE_AUTH_PARAM(p)	((p)-&gt;type_range &amp; TYPERANGE_AUTH)</span>
<span class="cp">#define IS_TYPERANGE_DIGEST_PARAM(p)	((p)-&gt;type_range &amp; TYPERANGE_DIGEST)</span>
<span class="cp">#define IS_TYPERANGE_SESSIONTYPE(p)	((p)-&gt;type_range &amp; \</span>
<span class="cp">						TYPERANGE_SESSIONTYPE)</span>

<span class="cm">/*</span>
<span class="cm"> * struct iscsi_param-&gt;state</span>
<span class="cm"> */</span>
<span class="cp">#define PSTATE_ACCEPTOR			0x01</span>
<span class="cp">#define PSTATE_NEGOTIATE		0x02</span>
<span class="cp">#define PSTATE_PROPOSER			0x04</span>
<span class="cp">#define PSTATE_IRRELEVANT		0x08</span>
<span class="cp">#define PSTATE_REJECT			0x10</span>
<span class="cp">#define PSTATE_REPLY_OPTIONAL		0x20</span>
<span class="cp">#define PSTATE_RESPONSE_GOT		0x40</span>
<span class="cp">#define PSTATE_RESPONSE_SENT		0x80</span>

<span class="cp">#define IS_PSTATE_ACCEPTOR(p)		((p)-&gt;state &amp; PSTATE_ACCEPTOR)</span>
<span class="cp">#define IS_PSTATE_NEGOTIATE(p)		((p)-&gt;state &amp; PSTATE_NEGOTIATE)</span>
<span class="cp">#define IS_PSTATE_PROPOSER(p)		((p)-&gt;state &amp; PSTATE_PROPOSER)</span>
<span class="cp">#define IS_PSTATE_IRRELEVANT(p)		((p)-&gt;state &amp; PSTATE_IRRELEVANT)</span>
<span class="cp">#define IS_PSTATE_REJECT(p)		((p)-&gt;state &amp; PSTATE_REJECT)</span>
<span class="cp">#define IS_PSTATE_REPLY_OPTIONAL(p)	((p)-&gt;state &amp; PSTATE_REPLY_OPTIONAL)</span>
<span class="cp">#define IS_PSTATE_RESPONSE_GOT(p)	((p)-&gt;state &amp; PSTATE_RESPONSE_GOT)</span>
<span class="cp">#define IS_PSTATE_RESPONSE_SENT(p)	((p)-&gt;state &amp; PSTATE_RESPONSE_SENT)</span>

<span class="cp">#define SET_PSTATE_ACCEPTOR(p)		((p)-&gt;state |= PSTATE_ACCEPTOR)</span>
<span class="cp">#define SET_PSTATE_NEGOTIATE(p)		((p)-&gt;state |= PSTATE_NEGOTIATE)</span>
<span class="cp">#define SET_PSTATE_PROPOSER(p)		((p)-&gt;state |= PSTATE_PROPOSER)</span>
<span class="cp">#define SET_PSTATE_IRRELEVANT(p)	((p)-&gt;state |= PSTATE_IRRELEVANT)</span>
<span class="cp">#define SET_PSTATE_REJECT(p)		((p)-&gt;state |= PSTATE_REJECT)</span>
<span class="cp">#define SET_PSTATE_REPLY_OPTIONAL(p)	((p)-&gt;state |= PSTATE_REPLY_OPTIONAL)</span>
<span class="cp">#define SET_PSTATE_RESPONSE_GOT(p)	((p)-&gt;state |= PSTATE_RESPONSE_GOT)</span>
<span class="cp">#define SET_PSTATE_RESPONSE_SENT(p)	((p)-&gt;state |= PSTATE_RESPONSE_SENT)</span>

<span class="cp">#endif </span><span class="cm">/* ISCSI_PARAMETERS_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
