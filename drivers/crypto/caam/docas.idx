f | ctrl.c | s | 7.4K | 228 | Shengzhou Liu | Shengzhou.Liu@freescale.com | 1333010097 |  | crypto: caam - add backward compatible string sec4.0  In some device trees of previous version, there were string "fsl,sec4.0". To be backward compatible with device trees, we have CAAM driver first check "fsl,sec-v4.0", if it fails, then check for "fsl,sec4.0".  Signed-off-by: Shengzhou Liu <Shengzhou.Liu@freescale.com> Acked-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | error.h | s | 257B | 10 | Kim Phillips | kim.phillips@freescale.com | 1304486106 |  | crypto: caam - fix printk recursion for long error texts  during recent descriptor development, an Invalid Sequence Command error triggered a:  BUG: recent printk recursion!  due to insufficient memory allocated for the error text.  The Invalid Sequence Command error text is the longest. The length of the maximum error string is computed as the sum of:  "DECO: ": 6 "jump tgt desc idx 255: ": 23 Invalid Sequence Command text: 272 zero termination character: 1  i.e, 302 characters.  Define this maximum error string length in error.h and fix caam_jr_strstatus callsites.  Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | compat.h | s | 877B | 33 | Kim Phillips | kim.phillips@freescale.com | 1321863713 |  | crypto: caam - add support for MD5 algorithm variants  specifically, add these algorithm combinations:  authenc-hmac-md5-cbc-aes-caam authenc-hmac-md5-cbc-des3_ede-caam authenc-hmac-md5-cbc-des-caam  Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | Makefile | g | 198B |  | Kim Phillips | kim.phillips@freescale.com | 1301193916 |  | crypto: caam - Add support for the Freescale SEC4/CAAM  The SEC4 supercedes the SEC2.x/3.x as Freescale's Integrated Security Engine.  Its programming model is incompatible with all prior versions of the SEC (talitos).  The SEC4 is also known as the Cryptographic Accelerator and Assurance Module (CAAM); this driver is named caam.  This initial submission does not include support for Data Path mode operation - AEAD descriptors are submitted via the job ring interface, while the Queue Interface (QI) is enabled for use by others.  Only AEAD algorithms are implemented at this time, for use with IPsec.  Many thanks to the Freescale STC team for their contributions to this driver.  Signed-off-by: Steve Cornelius <sec@pobox.com> Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | desc_constr.h | s | 7.5K | 223 | Kim Phillips | kim.phillips@freescale.com | 1324365604 |  | crypto: caam - fix polarity of "propagate error" logic  the polarity of the definition for error propagation was reverse in the initial desc.h.  Fix desc.h and its users.  Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | error.c | s | 7.9K | 228 | Dan Carpenter | error27@gmail.com | 1301193917 |  | crypto: caam - ARRAY_SIZE() vs sizeof()  ARRAY_SIZE() was intended here instead of sizeof().  sizeof() is four times larger than ARRAY_SIZE().  outstr is normally 256 chars so printing garbage to it could overfill the buffer and corrupt memory.  Signed-off-by: Dan Carpenter <error27@gmail.com> Acked-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | jr.c | s | 14K | 427 | Kim Phillips | kim.phillips@freescale.com | 1304380411 |  | crypto: caam - handle interrupt lines shared across rings  - add IRQF_SHARED to request_irq flags to support parts such as the p1023 that has one IRQ line per couple of rings.  - resetting a job ring triggers an interrupt, so move request_irq prior to jr_reset to avoid 'got IRQ but nobody cared' messages.  - disable IRQs in h/w to avoid contention between reset and interrupt status  - delete invalid comment - if there were incomplete jobs, module would be in use, preventing an unload.  Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | intern.h | s | 3.7K | 98 | Kim Phillips | kim.phillips@freescale.com | 1301193916 |  | crypto: caam - Add support for the Freescale SEC4/CAAM  The SEC4 supercedes the SEC2.x/3.x as Freescale's Integrated Security Engine.  Its programming model is incompatible with all prior versions of the SEC (talitos).  The SEC4 is also known as the Cryptographic Accelerator and Assurance Module (CAAM); this driver is named caam.  This initial submission does not include support for Data Path mode operation - AEAD descriptors are submitted via the job ring interface, while the Queue Interface (QI) is enabled for use by others.  Only AEAD algorithms are implemented at this time, for use with IPsec.  Many thanks to the Freescale STC team for their contributions to this driver.  Signed-off-by: Steve Cornelius <sec@pobox.com> Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | caamalg.c | s | 69K | 2128 | Shengzhou Liu | Shengzhou.Liu@freescale.com | 1333010097 |  | crypto: caam - add backward compatible string sec4.0  In some device trees of previous version, there were string "fsl,sec4.0". To be backward compatible with device trees, we have CAAM driver first check "fsl,sec-v4.0", if it fails, then check for "fsl,sec4.0".  Signed-off-by: Shengzhou Liu <Shengzhou.Liu@freescale.com> Acked-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | desc.h | s | 61K | 1372 | Kim Phillips | kim.phillips@freescale.com | 1324365604 |  | crypto: caam - fix polarity of "propagate error" logic  the polarity of the definition for error propagation was reverse in the initial desc.h.  Fix desc.h and its users.  Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | regs.h | s | 21K | 596 | Kim Phillips | kim.phillips@freescale.com | 1324365605 |  | crypto: caam - remove DECO access initialization code  Access to the SEC4 DECOs (DEscriptor COntrollers) (for debug purposes) isn't supported or used, and its register access initialization code erroneously makes illegal i/o accesses that show up as errors when run under simulation.  Remove it until proper support (via DECORR) is added.  Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | Kconfig | g | 2.1K |  | Kim Phillips | kim.phillips@freescale.com | 1301193916 |  | crypto: caam - Add support for the Freescale SEC4/CAAM  The SEC4 supercedes the SEC2.x/3.x as Freescale's Integrated Security Engine.  Its programming model is incompatible with all prior versions of the SEC (talitos).  The SEC4 is also known as the Cryptographic Accelerator and Assurance Module (CAAM); this driver is named caam.  This initial submission does not include support for Data Path mode operation - AEAD descriptors are submitted via the job ring interface, while the Queue Interface (QI) is enabled for use by others.  Only AEAD algorithms are implemented at this time, for use with IPsec.  Many thanks to the Freescale STC team for their contributions to this driver.  Signed-off-by: Steve Cornelius <sec@pobox.com> Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
f | jr.h | s | 636B | 18 | Kim Phillips | kim.phillips@freescale.com | 1301193916 |  | crypto: caam - Add support for the Freescale SEC4/CAAM  The SEC4 supercedes the SEC2.x/3.x as Freescale's Integrated Security Engine.  Its programming model is incompatible with all prior versions of the SEC (talitos).  The SEC4 is also known as the Cryptographic Accelerator and Assurance Module (CAAM); this driver is named caam.  This initial submission does not include support for Data Path mode operation - AEAD descriptors are submitted via the job ring interface, while the Queue Interface (QI) is enabled for use by others.  Only AEAD algorithms are implemented at this time, for use with IPsec.  Many thanks to the Freescale STC team for their contributions to this driver.  Signed-off-by: Steve Cornelius <sec@pobox.com> Signed-off-by: Kim Phillips <kim.phillips@freescale.com> Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
