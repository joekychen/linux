f | governor_performance.c | s | 919B | 35 | Xiaoguang Chen | chenxg@marvell.com | 1335900230 |  | PM: devfreq: init performance/powersave governor  Performance and powersave governor's get_target_freq is not called if driver chooses one of these two governors. Add init function in governor profile to call update_devfreq which will call get_target_freq subsequently.  Signed-off-by: Xiaoguang Chen <chenxg@marvell.com> Acked-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | governor_userspace.c | s | 2.8K | 105 | MyungJoo Ham | myungjoo.ham@samsung.com | 1327021958 |  | PM / devfreq: add min/max_freq limit requested by users.  The frequency requested to devfreq device driver from devfreq governors is restricted by min_freq and max_freq input.  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
f | devfreq.c | s | 18K | 606 | MyungJoo Ham | myungjoo.ham@samsung.com | 1332017494 |  | PM / devfreq: add relation of recommended frequency.  The semantics of "target frequency" given to devfreq driver from devfreq framework has always been interpretted as "at least" or GLB (greatest lower bound). However, the framework might want the device driver to limit its max frequency (LUB: least upper bound), especially if it is given by thermal framework (it's too hot).  Thus, the target fuction should have another parameter to express whether the framework wants GLB or LUB. And, the additional parameter, "u32 flags", does it.  With the update, devfreq_recommended_opp() is also updated.  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Reviewed-by: Mike Turquette <mturquette@ti.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | Makefile | g | 367B |  | MyungJoo Ham | myungjoo.ham@samsung.com | 1324357688 |  | PM/Devfreq: Add Exynos4-bus device DVFS driver for Exynos4210/4212/4412.  Exynos4-bus device devfreq driver add DVFS capability for Exynos4210/4212/4412-Bus (memory). The driver monitors PPMU counters of memory controllers and adjusts operating frequencies and voltages with OPP. For Exynos4210, vdd_int is controlled. For exynos4412/4212, vdd_mif and vdd_int are controlled.  Dependency (CONFIG_EXYNOS_ASV): Exynos4 ASV driver has been posted in the mailing list; however, it si not yet upstreamed. Although the current revision of Exynos4 ASV patch does not contain "CONFIG_EXYNOS_ASV", we have added the symbol to hide the dependent from compilers for now. As soon as Exynos4 ASV drivers are merged, the #ifdef statement will be removed or the name will be changed.  However, enabling ASV is essential in most Exynos4 chips to reduce the power consumption of Exynos4210 because without ASV, this Devfreq driver assumes the worst case scenario, which consumes more power.  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>  --- Changes from v1 - Support 4212 and 4412 as well as 4210.
f | Kconfig | g | 3.1K |  | Masanari Iida | standby24x7@gmail.com | 1334580008 |  | Fix typo in various Kconfig file  Correct spelling typo in various Kconfig file.  Signed-off-by: Masanari Iida <standby24x7@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | governor_powersave.c | s | 858B | 32 | Xiaoguang Chen | chenxg@marvell.com | 1335900230 |  | PM: devfreq: init performance/powersave governor  Performance and powersave governor's get_target_freq is not called if driver chooses one of these two governors. Add init function in governor profile to call update_devfreq which will call get_target_freq subsequently.  Signed-off-by: Xiaoguang Chen <chenxg@marvell.com> Acked-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | governor_simpleondemand.c | s | 2.4K | 81 | MyungJoo Ham | myungjoo.ham@samsung.com | 1327021958 |  | PM / devfreq: add min/max_freq limit requested by users.  The frequency requested to devfreq device driver from devfreq governors is restricted by min_freq and max_freq input.  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
f | governor.h | s | 691B | 19 | MyungJoo Ham | myungjoo.ham@samsung.com | 1317507555 |  | PM: Introduce devfreq: generic DVFS framework with device-specific OPPs  With OPPs, a device may have multiple operable frequency and voltage sets. However, there can be multiple possible operable sets and a system will need to choose one from them. In order to reduce the power consumption (by reducing frequency and voltage) without affecting the performance too much, a Dynamic Voltage and Frequency Scaling (DVFS) scheme may be used.  This patch introduces the DVFS capability to non-CPU devices with OPPs. DVFS is a techique whereby the frequency and supplied voltage of a device is adjusted on-the-fly. DVFS usually sets the frequency as low as possible with given conditions (such as QoS assurance) and adjusts voltage according to the chosen frequency in order to reduce power consumption and heat dissipation.  The generic DVFS for devices, devfreq, may appear quite similar with /drivers/cpufreq.  However, cpufreq does not allow to have multiple devices registered and is not suitable to have multiple heterogenous devices with different (but simple) governors.  Normally, DVFS mechanism controls frequency based on the demand for the device, and then, chooses voltage based on the chosen frequency. devfreq also controls the frequency based on the governor's frequency recommendation and let OPP pick up the pair of frequency and voltage based on the recommended frequency. Then, the chosen OPP is passed to device driver's "target" callback.  When PM QoS is going to be used with the devfreq device, the device driver should enable OPPs that are appropriate with the current PM QoS requests. In order to do so, the device driver may call opp_enable and opp_disable at the notifier callback of PM QoS so that PM QoS's update_target() call enables the appropriate OPPs. Note that at least one of OPPs should be enabled at any time; be careful when there is a transition.  Signed-off-by: MyungJoo Ham <myungjoo.ham@samsung.com> Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com> Reviewed-by: Mike Turquette <mturquette@ti.com> Acked-by: Kevin Hilman <khilman@ti.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | exynos4_bus.c | s | 26K | 941 | Linus Torvalds | torvalds@linux-foundation.org | 1332889412 |  | 
