f | proto.c | s | 29K | 1050 | Eric Dumazet | edumazet@google.com | 1337244621 |  | net: include/net/sock.h cleanup  bool/const conversions where possible  __inline__ -> inline  space cleanups  Signed-off-by: Eric Dumazet <edumazet@google.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | dccp.h | s | 16K | 428 | Eric Dumazet | eric.dumazet@gmail.com | 1334508280 |  | net: cleanup unsigned to unsigned int  Use of "unsigned int" is preferred to bare "unsigned" in net tree.  Signed-off-by: Eric Dumazet <eric.dumazet@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | options.c | s | 17K | 542 | Rusty Russell | rusty@rustcorp.com.au | 1324351649 |  | net: fix assignment of 0/1 to bool variables.  DaveM said:    Please, this kind of stuff rots forever and not using bool properly    drives me crazy.  Joe Perches <joe@perches.com> gave me the spatch script:  	@@ 	bool b; 	@@ 	-b = 0 	+b = false 	@@ 	bool b; 	@@ 	-b = 1 	+b = true  I merely installed coccinelle, read the documentation and took credit.  Signed-off-by: Rusty Russell <rusty@rustcorp.com.au> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Makefile | g | 842B |  | Tomasz Grobelny | tomasz@grobelny.oswiecenia.net | 1291726032 |  | dccp: Policy-based packet dequeueing infrastructure  This patch adds a generic infrastructure for policy-based dequeueing of TX packets and provides two policies:  * a simple FIFO policy (which is the default) and  * a priority based policy (set via socket options). Both policies honour the tx_qlen sysctl for the maximum size of the write queue (can be overridden via socket options).  The priority policy uses skb->priority internally to assign an u32 priority identifier, using the same ranking as SO_PRIORITY. The skb->priority field is set to 0 when the packet leaves DCCP. The priority is supplied as ancillary data using cmsg(3), the patch also provides the requisite parsing routines.  Signed-off-by: Tomasz Grobelny <tomasz@grobelny.oswiecenia.net> Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk>
f | diag.c | s | 2.3K | 68 | Pavel Emelyanov | xemul@parallels.com | 1326315366 |  | inet_diag: Rename inet_diag_req into inet_diag_req_v2  Signed-off-by: Pavel Emelyanov <xemul@parallels.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | output.c | s | 20K | 595 | Samuel Jero | sj323707@ohio.edu | 1330790572 |  | dccp: fix bug in sequence number validation during connection setup  This fixes a bug in the sequence number validation during the initial handshake.  The code did not treat the initial sequence numbers ISS and ISR as read-only and did not keep state for GSR and GSS as required by the specification. This causes problems with retransmissions during the initial handshake, causing the budding connection to be reset.  This patch now treats ISS/ISR as read-only and tracks GSS/GSR as required.  Signed-off-by: Samuel Jero <sj323707@ohio.edu> Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk>
f | input.c | s | 21K | 652 | Eric Dumazet | eric.dumazet@gmail.com | 1334508280 |  | net: cleanup unsigned to unsigned int  Use of "unsigned int" is preferred to bare "unsigned" in net tree.  Signed-off-by: Eric Dumazet <eric.dumazet@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | ccid.h | s | 8.7K | 236 | Gerrit Renker | gerrit@erg.abdn.ac.uk | 1288286820 |  | dccp: Return-value convention of hc_tx_send_packet()  This patch reorganises the return value convention of the CCID TX sending function, to permit more flexible schemes, as required by subsequent patches.  Currently the convention is  * values < 0     mean error,  * a value == 0   means "send now", and  * a value x > 0  means "send in x milliseconds".  The patch provides symbolic constants and a function to interpret return values.  In addition, it caps the maximum positive return value to 0xFFFF milliseconds, corresponding to 65.535 seconds.  This is possible since in CCID-3/4 the maximum possible inter-packet gap is fixed at t_mbi = 64 sec.  Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk> Signed-off-by: David S. Miller <davem@davemloft.net>
f | sysctl.c | s | 2.8K | 108 | Eric W. Biederman | ebiederm@xmission.com | 1334971350 |  | net: Convert all sysctl registrations to register_net_sysctl  This results in code with less boiler plate that is a bit easier to read.  Additionally stops us from using compatibility code in the sysctl core, hastening the day when the compatibility code can be removed.  Signed-off-by: Eric W. Biederman <ebiederm@xmission.com> Acked-by: Pavel Emelyanov <xemul@parallels.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | minisocks.c | s | 7.9K | 239 | Samuel Jero | sj323707@ohio.edu | 1330790572 |  | dccp: fix bug in sequence number validation during connection setup  This fixes a bug in the sequence number validation during the initial handshake.  The code did not treat the initial sequence numbers ISS and ISR as read-only and did not keep state for GSR and GSS as required by the specification. This causes problems with retransmissions during the initial handshake, causing the budding connection to be reset.  This patch now treats ISS/ISR as read-only and tracks GSS/GSR as required.  Signed-off-by: Samuel Jero <sj323707@ohio.edu> Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk>
f | ipv6.c | s | 31K | 1024 | Eric Dumazet | edumazet@google.com | 1334859835 |  | ipv6: dccp: dont drop packet but consume it  When we need to clone skb, we dont drop a packet. Call consume_skb() to not confuse dropwatch.  Signed-off-by: Eric Dumazet <edumazet@google.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | ackvec.c | s | 12K | 355 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103830 |  | net: Add export.h for EXPORT_SYMBOL/THIS_MODULE to non-modules  These files are non modular, but need to export symbols using the macros now living in export.h -- call out the include so that things won't break when we remove the implicit presence of module.h from everywhere.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | ipv4.c | s | 28K | 937 | Eric Dumazet | edumazet@google.com | 1334431466 |  | inet: makes syn_ack_timeout mandatory  There are two struct request_sock_ops providers, tcp and dccp.  inet_csk_reqsk_queue_prune() can avoid testing syn_ack_timeout being NULL if we make it non NULL like syn_ack_timeout  Signed-off-by: Eric Dumazet <edumazet@google.com> Cc: Gerrit Renker <gerrit@erg.abdn.ac.uk> Cc: dccp@vger.kernel.org Signed-off-by: David S. Miller <davem@davemloft.net>
f | qpolicy.c | s | 3.4K | 120 | Tomasz Grobelny | tomasz@grobelny.oswiecenia.net | 1291726032 |  | dccp qpolicy: Parameter checking of cmsg qpolicy parameters  Ensure that cmsg->cmsg_type value is valid for qpolicy that is currently in use.  Signed-off-by: Tomasz Grobelny <tomasz@grobelny.oswiecenia.net> Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk>
f | timer.c | s | 7.5K | 251 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103830 |  | net: Add export.h for EXPORT_SYMBOL/THIS_MODULE to non-modules  These files are non modular, but need to export symbols using the macros now living in export.h -- call out the include so that things won't break when we remove the implicit presence of module.h from everywhere.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | ccid.c | s | 5.2K | 189 | Gerrit Renker | gerrit@erg.abdn.ac.uk | 1309804633 |  | dccp: cosmetics of info message  Change the CCID (de)activation message to start with the protocol name, as 'CCID' is already in there.  Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk>
f | probe.c | s | 4.9K | 171 | David S. Miller | davem@davemloft.net | 1322768749 |  | dccp: Fix compile warning in probe code.  Commit 1386be55e32a3c5d8ef4a2b243c530a7b664c02c ("dccp: fix auto-loading of dccp(_probe)") fixed a bug but created a new compiler warning:  net/dccp/probe.c: In function ‘dccpprobe_init’: net/dccp/probe.c:166:2: warning: the omitted middle operand in ?: will always be ‘true’, suggest explicit middle operand [-Wparentheses]  try_then_request_module() is built for situations where the "existence" test is some lookup function that returns a non-NULL object on success, and with a reference count of some kind held.  Here we're looking for a success return of zero from the jprobe registry.  Instead of fighting the way try_then_request_module() works, simply open code what we want to happen in a local helper function.  Signed-off-by: David S. Miller <davem@davemloft.net>
f | feat.h | s | 4.6K | 123 | Gerrit Renker | gerrit@erg.abdn.ac.uk | 1312206754 |  | dccp: support for the exchange of NN options in established state 1/2  In contrast to static feature negotiation at the begin of a connection, this patch introduces support for exchange of dynamically changing options.  Such an update/exchange is necessary in at least two cases:  * CCID-2's Ack Ratio (RFC 4341, 6.1.2) which changes during the connection;  * Sequence Window values that, as per RFC 4340, 7.5.2, should be sent "as    the connection progresses".  Both are non-negotiable (NN) features, which means that no new capabilities are negotiated, but rather that changes in known parameters are brought up-to-date at either end.  Thse characteristics are reflected by the implementation:  * only NN options can be exchanged after connection setup;  * an ack is scheduled directly after activation to speed up the update;  * CCIDs may request changes to an NN feature even if a negotiation for that    feature is already underway: this is required by CCID-2, where changes in    cwnd necessitate Ack Ratio changes, such that the previous Ack Ratio (which    is still being negotiated) would cause irrecoverable RTO timeouts (thanks    to work by Samuel Jero).  Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk> Signed-off-by: Samuel Jero <sj323707@ohio.edu> Acked-by: Ian McDonald <ian.mcdonald@jandi.co.uk>
f | ackvec.h | s | 4.7K | 121 | Gerrit Renker | gerrit@erg.abdn.ac.uk | 1289801521 |  | dccp ccid-2: Separate option parsing from CCID processing  This patch replaces an almost identical replication of code: large parts of dccp_parse_options() re-appeared as ccid2_ackvector() in ccid2.c.  Apart from the duplication, this caused two more problems:  1. CCIDs should not need to be concerned with parsing header options;  2. one can not assume that Ack Vectors appear as a contiguous area within an     skb, it is legal to insert other options and/or padding in between. The     current code would throw an error and stop reading in such a case.  Since Ack Vectors provide CCID-specific information, they are now processed by the CCID directly, separating this functionality from the main DCCP code.  Signed-off-by: Gerrit Renker <gerrit@erg.abdn.ac.uk>
f | Kconfig | g | 1.7K |  | Michael Witten | mfwitten@gmail.com | 1289861413 |  | Docs/Kconfig: Update: osdl.org -> linuxfoundation.org  Some of the documentation refers to web pages under the domain `osdl.org'. However, `osdl.org' now redirects to `linuxfoundation.org'.  Rather than rely on redirections, this patch updates the addresses appropriately; for the most part, only documentation that is meant to be current has been updated.  The patch should be pretty quick to scan and check; each new web-page url was gotten by trying out the original URL in a browser and then simply copying the the redirected URL (formatting as necessary).  There is some conflict as to which one of these domain names is preferred:    linuxfoundation.org   linux-foundation.org  So, I wrote:    info@linuxfoundation.org  and got this reply:    Message-ID: <4CE17EE6.9040807@linuxfoundation.org>   Date: Mon, 15 Nov 2010 10:41:42 -0800   From: David Ames <david@linuxfoundation.org>    ...    linuxfoundation.org is preferred. The canonical name for our web site is   www.linuxfoundation.org. Our list site is actually   lists.linux-foundation.org.    Regarding email linuxfoundation.org is preferred there are a few people   who choose to use linux-foundation.org for their own reasons.  Consequently, I used `linuxfoundation.org' for web pages and `lists.linux-foundation.org' for mailing-list web pages and email addresses; the only personal email address I updated from `@osdl.org' was that of Andrew Morton, who prefers `linux-foundation.org' according `git log'.  Signed-off-by: Michael Witten <mfwitten@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
d | ccids |  | 6 items |  | Eric Dumazet | eric.dumazet@gmail.com | 1334508280 |  | net: cleanup unsigned to unsigned int  Use of "unsigned int" is preferred to bare "unsigned" in net tree.  Signed-off-by: Eric Dumazet <eric.dumazet@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | feat.c | s | 47K | 1378 | Rusty Russell | rusty@rustcorp.com.au | 1324351649 |  | net: fix assignment of 0/1 to bool variables.  DaveM said:    Please, this kind of stuff rots forever and not using bool properly    drives me crazy.  Joe Perches <joe@perches.com> gave me the spatch script:  	@@ 	bool b; 	@@ 	-b = 0 	+b = false 	@@ 	bool b; 	@@ 	-b = 1 	+b = true  I merely installed coccinelle, read the documentation and took credit.  Signed-off-by: Rusty Russell <rusty@rustcorp.com.au> Signed-off-by: David S. Miller <davem@davemloft.net>
f | ipv6.h | s | 822B | 31 | Jörn Engel | joern@wohnheim.fh-wedel.de | 1151688336 |  | Remove obsolete #include <linux/config.h>  Signed-off-by: Jörn Engel <joern@wohnheim.fh-wedel.de> Signed-off-by: Adrian Bunk <bunk@stusta.de>
