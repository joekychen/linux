f | Makefile | g | 131B |  | Tracey Dent | tdent48227@gmail.com | 1290442570 |  | Net: dns_resolver: Makefile: Remove deprecated kbuild goal definitions  Changed Makefile to use <modules>-y instead of <modules>-objs because -objs is deprecated and not mentioned in Documentation/kbuild/makefiles.txt.  Signed-off-by: Tracey Dent <tdent48227@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | Kconfig | g | 914B |  | Steve French | sfrench@us.ibm.com | 1281064689 |  | [DNS RESOLVER] Minor typo correction  CC: Dave Howells <dhowells@redhat.com> Signed-off-by: Steve French <sfrench@us.ibm.com>
f | internal.h | s | 1.4K | 39 | Eric Dumazet | eric.dumazet@gmail.com | 1334508280 |  | net: cleanup unsigned to unsigned int  Use of "unsigned int" is preferred to bare "unsigned" in net tree.  Signed-off-by: Eric Dumazet <eric.dumazet@gmail.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | dns_query.c | s | 4.6K | 147 | Wang Lei | wang840925@gmail.com | 1281546688 |  | DNS: If the DNS server returns an error, allow that to be cached [ver #2]  If the DNS server returns an error, allow that to be cached in the DNS resolver key in lieu of a value.  Userspace passes the desired error number as an option in the payload:  	"#dnserror=<number>"  Userspace must map h_errno from the name resolution routines to an appropriate Linux error before passing it up.  Something like the following mapping is recommended:  	[HOST_NOT_FOUND]	= ENODATA, 	[TRY_AGAIN]		= EAGAIN, 	[NO_RECOVERY]		= ECONNREFUSED, 	[NO_DATA]		= ENODATA,  in lieu of Linux errors specifically for representing name service errors.  The filesystem must map these errors appropropriately before passing them to userspace.  AFS is made to map ENODATA and EAGAIN to EDESTADDRREQ for the return to userspace; ECONNREFUSED is allowed to stand as is.  The error can be seen in /proc/keys as a negative number after the description of the key.  Compare, for example, the following key entries:  2f97238c I--Q--     1  53s 3f010000     0     0 dns_resol afsdb:grand.centrall.org: -61 338bfbbe I--Q--     1  59m 3f010000     0     0 dns_resol afsdb:grand.central.org: 37  If the error option is supplied in the payload, the main part of the payload is discarded.  The key should have an expiry time set by userspace.  Signed-off-by: Wang Lei <wang840925@gmail.com> Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Jeff Layton <jlayton@redhat.com> Signed-off-by: Steve French <sfrench@us.ibm.com>
f | dns_key.c | s | 7.8K | 262 | Linus Torvalds | torvalds@linux-foundation.org | 1337657256 |  | Merge branch 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/jmorris/linux-security  Pull security subsystem updates from James Morris:  "New notable features:    - The seccomp work from Will Drewry    - PR_{GET,SET}_NO_NEW_PRIVS from Andy Lutomirski    - Longer security labels for Smack from Casey Schaufler    - Additional ptrace restriction modes for Yama by Kees Cook"  Fix up trivial context conflicts in arch/x86/Kconfig and include/linux/filter.h  * 'next' of git://git.kernel.org/pub/scm/linux/kernel/git/jmorris/linux-security: (65 commits)   apparmor: fix long path failure due to disconnected path   apparmor: fix profile lookup for unconfined   ima: fix filename hint to reflect script interpreter name   KEYS: Don't check for NULL key pointer in key_validate()   Smack: allow for significantly longer Smack labels v4   gfp flags for security_inode_alloc()?   Smack: recursive tramsmute   Yama: replace capable() with ns_capable()   TOMOYO: Accept manager programs which do not start with / .   KEYS: Add invalidation support   KEYS: Do LRU discard in full keyrings   KEYS: Permit in-place link replacement in keyring list   KEYS: Perform RCU synchronisation on keys prior to key destruction   KEYS: Announce key type (un)registration   KEYS: Reorganise keys Makefile   KEYS: Move the key config into security/keys/Kconfig   KEYS: Use the compat keyctl() syscall wrapper on Sparc64 for Sparc32 compat   Yama: remove an unused variable   samples/seccomp: fix dependencies on arch macros   Yama: add additional ptrace scopes   ...
