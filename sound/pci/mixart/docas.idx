f | mixart_mixer.c | s | 46K | 1106 | Takashi Iwai | tiwai@suse.de | 1218620798 |  | ALSA: Kill snd_assert() in sound/pci/*  Kill snd_assert() in sound/pci/*, either removed or replaced with if () with snd_BUG_ON().  Signed-off-by: Takashi Iwai <tiwai@suse.de> Signed-off-by: Jaroslav Kysela <perex@perex.cz>
f | mixart.h | s | 6.7K | 173 | Ingo Molnar | mingo@elte.hu | 1143019529 |  | [ALSA] semaphore -> mutex (PCI part)  Semaphore to mutex conversion.  The conversion was generated via scripts, and the result was validated automatically via a script as well.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | mixart_core.h | s | 13K | 473 | David Howells | dhowells@redhat.com | 1160057412 |  | IRQ: Maintain regs pointer globally rather than passing to IRQ handlers  Maintain a per-CPU global "struct pt_regs *" variable which can be used instead of passing regs around manually through all ~1800 interrupt handlers in the Linux kernel.  The regs pointer is used in few places, but it potentially costs both stack space and code to pass it around.  On the FRV arch, removing the regs parameter from all the genirq function results in a 20% speed up of the IRQ exit path (ie: from leaving timer_interrupt() to leaving do_IRQ()).  Where appropriate, an arch may override the generic storage facility and do something different with the variable.  On FRV, for instance, the address is maintained in GR28 at all times inside the kernel as part of general exception handling.  Having looked over the code, it appears that the parameter may be handed down through up to twenty or so layers of functions.  Consider a USB character device attached to a USB hub, attached to a USB controller that posts its interrupts through a cascaded auxiliary interrupt controller.  A character device driver may want to pass regs to the sysrq handler through the input layer which adds another few layers of parameter passing.  I've build this code with allyesconfig for x86_64 and i386.  I've runtested the main part of the code on FRV and i386, though I can't test most of the drivers. I've also done partial conversion for powerpc and MIPS - these at least compile with minimal configurations.  This will affect all archs.  Mostly the changes should be relatively easy. Take do_IRQ(), store the regs pointer at the beginning, saving the old one:  	struct pt_regs *old_regs = set_irq_regs(regs);  And put the old one back at the end:  	set_irq_regs(old_regs);  Don't pass regs through to generic_handle_irq() or __do_IRQ().  In timer_interrupt(), this sort of change will be necessary:  	-	update_process_times(user_mode(regs)); 	-	profile_tick(CPU_PROFILING, regs); 	+	update_process_times(user_mode(get_irq_regs())); 	+	profile_tick(CPU_PROFILING);  I'd like to move update_process_times()'s use of get_irq_regs() into itself, except that i386, alone of the archs, uses something other than user_mode().  Some notes on the interrupt handling in the drivers:   (*) input_dev() is now gone entirely.  The regs pointer is no longer stored in      the input_dev struct.   (*) finish_unlinks() in drivers/usb/host/ohci-q.c needs checking.  It does      something different depending on whether it's been supplied with a regs      pointer or not.   (*) Various IRQ handler function pointers have been moved to type      irq_handler_t.  Signed-Off-By: David Howells <dhowells@redhat.com> (cherry picked from 1b16e7ac850969f38b375e511e3fa2f474a33867 commit)
f | Makefile | g | 196B |  | Jaroslav Kysela | perex@perex.cz | 1192546278 |  | [ALSA] Changed Jaroslav Kysela's e-mail from perex@suse.cz to perex@perex.cz   Signed-off-by: Jaroslav Kysela <perex@perex.cz>
f | mixart.c | s | 38K | 1122 | Takashi Iwai | tiwai@suse.de | 1335263100 |  | ALSA: pci: clean up using module_pci_driver()  Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | mixart_hwdep.c | s | 19K | 532 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103881 |  | sound: Add module.h to the previously silent sound users  Lots of sound drivers were getting module.h via the implicit presence of it in <linux/device.h> but we are going to clean that up.  So fix up those users now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | mixart_core.c | s | 18K | 480 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | mixart_mixer.h | s | 1.2K | 28 | Takashi Iwai | tiwai@suse.de | 1136287156 |  | [ALSA] Remove xxx_t typedefs: PCI miXart  Modules: MIXART driver  Remove xxx_t typedefs from the PCI miXart driver.  Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | mixart_hwdep.h | s | 6.5K | 119 | Florian Fainelli | florian@openwrt.org | 1289437340 |  | ALSA: sound/mixart: avoid redefining {readl,write}_{le,be} accessors  If the platform already provides a definition for these accessors do not redefine them. The warning was caught on MIPS.  Signed-off-by: Florian Fainelli <florian@openwrt.org> Signed-off-by: Takashi Iwai <tiwai@suse.de>
