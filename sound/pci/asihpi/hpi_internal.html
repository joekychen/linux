<!DOCTYPE html>
<html><head><title>joekychen/linux » sound › pci › asihpi › hpi_internal.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>hpi_internal.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/******************************************************************************</span>

<span class="cm">    AudioScience HPI driver</span>
<span class="cm">    Copyright (C) 1997-2012  AudioScience Inc. &lt;support@audioscience.com&gt;</span>

<span class="cm">    This program is free software; you can redistribute it and/or modify</span>
<span class="cm">    it under the terms of version 2 of the GNU General Public License as</span>
<span class="cm">    published by the Free Software Foundation;</span>

<span class="cm">    This program is distributed in the hope that it will be useful,</span>
<span class="cm">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm">    GNU General Public License for more details.</span>

<span class="cm">    You should have received a copy of the GNU General Public License</span>
<span class="cm">    along with this program; if not, write to the Free Software</span>
<span class="cm">    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>

<span class="cm">HPI internal definitions</span>

<span class="cm">(C) Copyright AudioScience Inc. 1996-2009</span>
<span class="cm">******************************************************************************/</span>

<span class="cp">#ifndef _HPI_INTERNAL_H_</span>
<span class="cp">#define _HPI_INTERNAL_H_</span>

<span class="cp">#include &quot;hpi.h&quot;</span>

<span class="cm">/** maximum number of memory regions mapped to an adapter */</span>
<span class="cp">#define HPI_MAX_ADAPTER_MEM_SPACES (2)</span>

<span class="cm">/* Each OS needs its own hpios.h */</span>
<span class="cp">#include &quot;hpios.h&quot;</span>

<span class="cm">/* physical memory allocation */</span>

<span class="cm">/** Allocate and map an area of locked memory for bus master DMA operations.</span>

<span class="cm">On success, *pLockedMemeHandle is a valid handle, and 0 is returned</span>
<span class="cm">On error *pLockedMemHandle marked invalid, non-zero returned.</span>

<span class="cm">If this function succeeds, then HpiOs_LockedMem_GetVirtAddr() and</span>
<span class="cm">HpiOs_LockedMem_GetPyhsAddr() will always succed on the returned handle.</span>
<span class="cm">*/</span>
<span class="n">u16</span> <span class="n">hpios_locked_mem_alloc</span><span class="p">(</span><span class="k">struct</span> <span class="n">consistent_dma_area</span> <span class="o">*</span><span class="n">p_locked_mem_handle</span><span class="p">,</span>
							   <span class="cm">/**&lt; memory handle */</span>
	<span class="n">u32</span> <span class="n">size</span><span class="p">,</span> <span class="cm">/**&lt; Size in bytes to allocate */</span>
	<span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">p_os_reference</span>
	<span class="cm">/**&lt; OS specific data required for memory allocation */</span>
	<span class="p">);</span>

<span class="cm">/** Free mapping and memory represented by LockedMemHandle</span>

<span class="cm">Frees any resources, then invalidates the handle.</span>
<span class="cm">Returns 0 on success, 1 if handle is invalid.</span>

<span class="cm">*/</span>
<span class="n">u16</span> <span class="n">hpios_locked_mem_free</span><span class="p">(</span><span class="k">struct</span> <span class="n">consistent_dma_area</span> <span class="o">*</span><span class="n">locked_mem_handle</span><span class="p">);</span>

<span class="cm">/** Get the physical PCI address of memory represented by LockedMemHandle.</span>

<span class="cm">If handle is invalid *pPhysicalAddr is set to zero and return 1</span>
<span class="cm">*/</span>
<span class="n">u16</span> <span class="n">hpios_locked_mem_get_phys_addr</span><span class="p">(</span><span class="k">struct</span> <span class="n">consistent_dma_area</span>
	<span class="o">*</span><span class="n">locked_mem_handle</span><span class="p">,</span> <span class="n">u32</span> <span class="o">*</span><span class="n">p_physical_addr</span><span class="p">);</span>

<span class="cm">/** Get the CPU address of of memory represented by LockedMemHandle.</span>

<span class="cm">If handle is NULL *ppvVirtualAddr is set to NULL and return 1</span>
<span class="cm">*/</span>
<span class="n">u16</span> <span class="n">hpios_locked_mem_get_virt_addr</span><span class="p">(</span><span class="k">struct</span> <span class="n">consistent_dma_area</span>
	<span class="o">*</span><span class="n">locked_mem_handle</span><span class="p">,</span> <span class="kt">void</span> <span class="o">**</span><span class="n">ppv_virtual_addr</span><span class="p">);</span>

<span class="cm">/** Check that handle is valid</span>
<span class="cm">i.e it represents a valid memory area</span>
<span class="cm">*/</span>
<span class="n">u16</span> <span class="n">hpios_locked_mem_valid</span><span class="p">(</span><span class="k">struct</span> <span class="n">consistent_dma_area</span> <span class="o">*</span><span class="n">locked_mem_handle</span><span class="p">);</span>

<span class="cm">/* timing/delay */</span>
<span class="kt">void</span> <span class="n">hpios_delay_micro_seconds</span><span class="p">(</span><span class="n">u32</span> <span class="n">num_micro_sec</span><span class="p">);</span>

<span class="k">struct</span> <span class="n">hpi_message</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">hpi_response</span><span class="p">;</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="n">hpi_handler_func</span><span class="p">(</span><span class="k">struct</span> <span class="n">hpi_message</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">hpi_response</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/* If the assert fails, compiler complains</span>
<span class="cm">   something like size of array `msg&#39; is negative.</span>
<span class="cm">   Unlike linux BUILD_BUG_ON, this works outside function scope.</span>
<span class="cm">*/</span>
<span class="cp">#define compile_time_assert(cond, msg) \</span>
<span class="cp">    typedef char ASSERT_##msg[(cond) ? 1 : -1]</span>

<span class="cm">/******************************************* bus types */</span>
<span class="k">enum</span> <span class="n">HPI_BUSES</span> <span class="p">{</span>
	<span class="n">HPI_BUS_ISAPNP</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">HPI_BUS_PCI</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">HPI_BUS_USB</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">HPI_BUS_NET</span> <span class="o">=</span> <span class="mi">4</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">HPI_SUBSYS_OPTIONS</span> <span class="p">{</span>
	<span class="cm">/* 0, 256 are invalid, 1..255 reserved for global options */</span>
	<span class="n">HPI_SUBSYS_OPT_NET_ENABLE</span> <span class="o">=</span> <span class="mi">257</span><span class="p">,</span>
	<span class="n">HPI_SUBSYS_OPT_NET_BROADCAST</span> <span class="o">=</span> <span class="mi">258</span><span class="p">,</span>
	<span class="n">HPI_SUBSYS_OPT_NET_UNICAST</span> <span class="o">=</span> <span class="mi">259</span><span class="p">,</span>
	<span class="n">HPI_SUBSYS_OPT_NET_ADDR</span> <span class="o">=</span> <span class="mi">260</span><span class="p">,</span>
	<span class="n">HPI_SUBSYS_OPT_NET_MASK</span> <span class="o">=</span> <span class="mi">261</span><span class="p">,</span>
	<span class="n">HPI_SUBSYS_OPT_NET_ADAPTER_ADDRESS_ADD</span> <span class="o">=</span> <span class="mi">262</span>
<span class="p">};</span>

<span class="cm">/** Volume flags</span>
<span class="cm">*/</span>
<span class="k">enum</span> <span class="n">HPI_VOLUME_FLAGS</span> <span class="p">{</span>
	<span class="cm">/** Set if the volume control is muted */</span>
	<span class="n">HPI_VOLUME_FLAG_MUTED</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">),</span>
	<span class="cm">/** Set if the volume control has a mute function */</span>
	<span class="n">HPI_VOLUME_FLAG_HAS_MUTE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">),</span>
	<span class="cm">/** Set if volume control can do autofading */</span>
	<span class="n">HPI_VOLUME_FLAG_HAS_AUTOFADE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">)</span>
		<span class="cm">/* Note Flags &gt;= (1&lt;&lt;8) are for DSP internal use only */</span>
<span class="p">};</span>

<span class="cm">/******************************************* CONTROL ATTRIBUTES ****/</span>
<span class="cm">/* (in order of control type ID */</span>

<span class="cm">/* This allows for 255 control types, 256 unique attributes each */</span>
<span class="cp">#define HPI_CTL_ATTR(ctl, ai) ((HPI_CONTROL_##ctl &lt;&lt; 8) + ai)</span>

<span class="cm">/* Get the sub-index of the attribute for a control type */</span>
<span class="cp">#define HPI_CTL_ATTR_INDEX(i) (i &amp; 0xff)</span>

<span class="cm">/* Extract the control from the control attribute */</span>
<span class="cp">#define HPI_CTL_ATTR_CONTROL(i) (i &gt;&gt; 8)</span>

<span class="cm">/** Enable event generation for a control.</span>
<span class="cm">0=disable, 1=enable</span>
<span class="cm">\note generic to all controls that can generate events</span>
<span class="cm">*/</span>

<span class="cm">/** Unique identifiers for every control attribute</span>
<span class="cm">*/</span>
<span class="k">enum</span> <span class="n">HPI_CONTROL_ATTRIBUTES</span> <span class="p">{</span>
	<span class="n">HPI_GENERIC_ENABLE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">GENERIC</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_GENERIC_EVENT_ENABLE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">GENERIC</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>

	<span class="n">HPI_VOLUME_GAIN</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">VOLUME</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_VOLUME_AUTOFADE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">VOLUME</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_VOLUME_MUTE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">VOLUME</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_VOLUME_GAIN_AND_FLAGS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">VOLUME</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_VOLUME_NUM_CHANNELS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">VOLUME</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_VOLUME_RANGE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">VOLUME</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>

	<span class="n">HPI_METER_RMS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">METER</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_METER_PEAK</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">METER</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_METER_RMS_BALLISTICS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">METER</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_METER_PEAK_BALLISTICS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">METER</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_METER_NUM_CHANNELS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">METER</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>

	<span class="n">HPI_MULTIPLEXER_SOURCE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">MULTIPLEXER</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_MULTIPLEXER_QUERYSOURCE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">MULTIPLEXER</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>

	<span class="n">HPI_AESEBUTX_FORMAT</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBUTX</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_AESEBUTX_SAMPLERATE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBUTX</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_AESEBUTX_CHANNELSTATUS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBUTX</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_AESEBUTX_USERDATA</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBUTX</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>

	<span class="n">HPI_AESEBURX_FORMAT</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBURX</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_AESEBURX_ERRORSTATUS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBURX</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_AESEBURX_SAMPLERATE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBURX</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_AESEBURX_CHANNELSTATUS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBURX</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_AESEBURX_USERDATA</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">AESEBURX</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>

	<span class="n">HPI_LEVEL_GAIN</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">LEVEL</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_LEVEL_RANGE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">LEVEL</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>

	<span class="n">HPI_TUNER_BAND</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_TUNER_FREQ</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_TUNER_LEVEL_AVG</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_TUNER_LEVEL_RAW</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_TUNER_SNR</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_TUNER_GAIN</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_TUNER_STATUS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
	<span class="n">HPI_TUNER_MODE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
	<span class="n">HPI_TUNER_RDS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
	<span class="n">HPI_TUNER_DEEMPHASIS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
	<span class="n">HPI_TUNER_PROGRAM</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
	<span class="n">HPI_TUNER_HDRADIO_SIGNAL_QUALITY</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
	<span class="n">HPI_TUNER_HDRADIO_SDK_VERSION</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
	<span class="n">HPI_TUNER_HDRADIO_DSP_VERSION</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
	<span class="n">HPI_TUNER_HDRADIO_BLEND</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TUNER</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>

	<span class="n">HPI_VOX_THRESHOLD</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">VOX</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>

	<span class="n">HPI_CHANNEL_MODE_MODE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">CHANNEL_MODE</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>

	<span class="n">HPI_BITSTREAM_DATA_POLARITY</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">BITSTREAM</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_BITSTREAM_CLOCK_EDGE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">BITSTREAM</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_BITSTREAM_CLOCK_SOURCE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">BITSTREAM</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_BITSTREAM_ACTIVITY</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">BITSTREAM</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>

	<span class="n">HPI_SAMPLECLOCK_SOURCE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SAMPLECLOCK</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_SAMPLECLOCK_SAMPLERATE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SAMPLECLOCK</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_SAMPLECLOCK_SOURCE_INDEX</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SAMPLECLOCK</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_SAMPLECLOCK_LOCAL_SAMPLERATE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SAMPLECLOCK</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_SAMPLECLOCK_AUTO</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SAMPLECLOCK</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_SAMPLECLOCK_LOCAL_LOCK</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SAMPLECLOCK</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>

	<span class="n">HPI_MICROPHONE_PHANTOM_POWER</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">MICROPHONE</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>

	<span class="n">HPI_EQUALIZER_NUM_FILTERS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">EQUALIZER</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_EQUALIZER_FILTER</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">EQUALIZER</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_EQUALIZER_COEFFICIENTS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">EQUALIZER</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>

	<span class="n">HPI_COMPANDER_PARAMS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COMPANDER</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_COMPANDER_MAKEUPGAIN</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COMPANDER</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_COMPANDER_THRESHOLD</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COMPANDER</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_COMPANDER_RATIO</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COMPANDER</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_COMPANDER_ATTACK</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COMPANDER</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_COMPANDER_DECAY</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COMPANDER</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>

	<span class="n">HPI_COBRANET_SET</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COBRANET</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_COBRANET_GET</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COBRANET</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_COBRANET_GET_STATUS</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COBRANET</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_COBRANET_SEND_PACKET</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COBRANET</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_COBRANET_GET_PACKET</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">COBRANET</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>

	<span class="n">HPI_TONEDETECTOR_THRESHOLD</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TONEDETECTOR</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_TONEDETECTOR_STATE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TONEDETECTOR</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_TONEDETECTOR_FREQUENCY</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">TONEDETECTOR</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>

	<span class="n">HPI_SILENCEDETECTOR_THRESHOLD</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SILENCEDETECTOR</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_SILENCEDETECTOR_STATE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SILENCEDETECTOR</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_SILENCEDETECTOR_DELAY</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">SILENCEDETECTOR</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>

	<span class="n">HPI_PAD_CHANNEL_NAME</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_PAD_ARTIST</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_PAD_TITLE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_PAD_COMMENT</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_PAD_PROGRAM_TYPE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_PAD_PROGRAM_ID</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_PAD_TA_SUPPORT</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
	<span class="n">HPI_PAD_TA_ACTIVE</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">PAD</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>

	<span class="n">HPI_UNIVERSAL_ENTITY</span> <span class="o">=</span> <span class="n">HPI_CTL_ATTR</span><span class="p">(</span><span class="n">UNIVERSAL</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">};</span>

<span class="cp">#define HPI_POLARITY_POSITIVE           0</span>
<span class="cp">#define HPI_POLARITY_NEGATIVE           1</span>

<span class="cm">/*------------------------------------------------------------</span>
<span class="cm"> Cobranet Chip Bridge - copied from HMI.H</span>
<span class="cm">------------------------------------------------------------*/</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_bridge           0x20000</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_bridge_tx_pkt_buf \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_bridge + 0x1000)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_bridge_rx_pkt_buf \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_bridge + 0x2000)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_if_table1         0x110000</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_if_phy_address \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_if_table1 + 0xd)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_protocolIP       0x72000</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_ip_mon_currentIP \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_protocolIP + 0x0)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_ip_mon_staticIP \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_protocolIP + 0x2)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_sys              0x100000</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_sys_desc \</span>
<span class="cp">		(HPI_COBRANET_HMI_cobra_sys + 0x0)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_sys_objectID \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_sys + 0x100)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_sys_contact \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_sys + 0x200)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_sys_name \</span>
<span class="cp">		(HPI_COBRANET_HMI_cobra_sys + 0x300)</span>
<span class="cp">#define  HPI_COBRANET_HMI_cobra_sys_location \</span>
<span class="cp">	(HPI_COBRANET_HMI_cobra_sys + 0x400)</span>

<span class="cm">/*------------------------------------------------------------</span>
<span class="cm"> Cobranet Chip Status bits</span>
<span class="cm">------------------------------------------------------------*/</span>
<span class="cp">#define HPI_COBRANET_HMI_STATUS_RXPACKET 2</span>
<span class="cp">#define HPI_COBRANET_HMI_STATUS_TXPACKET 3</span>

<span class="cm">/*------------------------------------------------------------</span>
<span class="cm"> Ethernet header size</span>
<span class="cm">------------------------------------------------------------*/</span>
<span class="cp">#define HPI_ETHERNET_HEADER_SIZE (16)</span>

<span class="cm">/* These defines are used to fill in protocol information for an Ethernet packet</span>
<span class="cm">    sent using HMI on CS18102 */</span>
<span class="cm">/** ID supplied by Cirrus for ASI packets. */</span>
<span class="cp">#define HPI_ETHERNET_PACKET_ID                  0x85</span>
<span class="cm">/** Simple packet - no special routing required */</span>
<span class="cp">#define HPI_ETHERNET_PACKET_V1                  0x01</span>
<span class="cm">/** This packet must make its way to the host across the HPI interface */</span>
<span class="cp">#define HPI_ETHERNET_PACKET_HOSTED_VIA_HMI      0x20</span>
<span class="cm">/** This packet must make its way to the host across the HPI interface */</span>
<span class="cp">#define HPI_ETHERNET_PACKET_HOSTED_VIA_HMI_V1   0x21</span>
<span class="cm">/** This packet must make its way to the host across the HPI interface */</span>
<span class="cp">#define HPI_ETHERNET_PACKET_HOSTED_VIA_HPI      0x40</span>
<span class="cm">/** This packet must make its way to the host across the HPI interface */</span>
<span class="cp">#define HPI_ETHERNET_PACKET_HOSTED_VIA_HPI_V1   0x41</span>

<span class="cp">#define HPI_ETHERNET_UDP_PORT 44600 </span><span class="cm">/**&lt; HPI UDP service */</span><span class="cp"></span>

<span class="cm">/** Default network timeout in milli-seconds. */</span>
<span class="cp">#define HPI_ETHERNET_TIMEOUT_MS 500</span>

<span class="cm">/** Locked memory buffer alloc/free phases */</span>
<span class="k">enum</span> <span class="n">HPI_BUFFER_CMDS</span> <span class="p">{</span>
	<span class="cm">/** use one message to allocate or free physical memory */</span>
	<span class="n">HPI_BUFFER_CMD_EXTERNAL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="cm">/** alloc physical memory */</span>
	<span class="n">HPI_BUFFER_CMD_INTERNAL_ALLOC</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="cm">/** send physical memory address to adapter */</span>
	<span class="n">HPI_BUFFER_CMD_INTERNAL_GRANTADAPTER</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="cm">/** notify adapter to stop using physical buffer */</span>
	<span class="n">HPI_BUFFER_CMD_INTERNAL_REVOKEADAPTER</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="cm">/** free physical buffer */</span>
	<span class="n">HPI_BUFFER_CMD_INTERNAL_FREE</span> <span class="o">=</span> <span class="mi">4</span>
<span class="p">};</span>

<span class="cm">/*****************************************************************************/</span>
<span class="cm">/*****************************************************************************/</span>
<span class="cm">/********               HPI LOW LEVEL MESSAGES                  *******/</span>
<span class="cm">/*****************************************************************************/</span>
<span class="cm">/*****************************************************************************/</span>
<span class="cm">/** Pnp ids */</span>
<span class="cm">/** &quot;ASI&quot;  - actual is &quot;ASX&quot; - need to change */</span>
<span class="cp">#define HPI_ID_ISAPNP_AUDIOSCIENCE      0x0669</span>
<span class="cm">/** PCI vendor ID that AudioScience uses */</span>
<span class="cp">#define HPI_PCI_VENDOR_ID_AUDIOSCIENCE  0x175C</span>
<span class="cm">/** PCI vendor ID that the DSP56301 has */</span>
<span class="cp">#define HPI_PCI_VENDOR_ID_MOTOROLA      0x1057</span>
<span class="cm">/** PCI vendor ID that TI uses */</span>
<span class="cp">#define HPI_PCI_VENDOR_ID_TI            0x104C</span>

<span class="cp">#define HPI_PCI_DEV_ID_PCI2040          0xAC60</span>
<span class="cm">/** TI&#39;s C6205 PCI interface has this ID */</span>
<span class="cp">#define HPI_PCI_DEV_ID_DSP6205          0xA106</span>

<span class="cp">#define HPI_USB_VENDOR_ID_AUDIOSCIENCE  0x1257</span>
<span class="cp">#define HPI_USB_W2K_TAG                 0x57495341	</span><span class="cm">/* &quot;ASIW&quot;       */</span><span class="cp"></span>
<span class="cp">#define HPI_USB_LINUX_TAG               0x4C495341	</span><span class="cm">/* &quot;ASIL&quot;       */</span><span class="cp"></span>

<span class="cm">/** Invalid Adapter index</span>
<span class="cm">Used in HPI messages that are not addressed to a specific adapter</span>
<span class="cm">Used in DLL to indicate device not present</span>
<span class="cm">*/</span>
<span class="cp">#define HPI_ADAPTER_INDEX_INVALID 0xFFFF</span>

<span class="cm">/** First 2 hex digits define the adapter family */</span>
<span class="cp">#define HPI_ADAPTER_FAMILY_MASK         0xff00</span>
<span class="cp">#define HPI_MODULE_FAMILY_MASK          0xfff0</span>

<span class="cp">#define HPI_ADAPTER_FAMILY_ASI(f)   (f &amp; HPI_ADAPTER_FAMILY_MASK)</span>
<span class="cp">#define HPI_MODULE_FAMILY_ASI(f)   (f &amp; HPI_MODULE_FAMILY_MASK)</span>
<span class="cp">#define HPI_ADAPTER_ASI(f)   (f)</span>

<span class="k">enum</span> <span class="n">HPI_MESSAGE_TYPES</span> <span class="p">{</span>
	<span class="n">HPI_TYPE_REQUEST</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">HPI_TYPE_RESPONSE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">HPI_TYPE_DATA</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">HPI_TYPE_SSX2BYPASS_MESSAGE</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">HPI_TYPE_COMMAND</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">HPI_TYPE_NOTIFICATION</span> <span class="o">=</span> <span class="mi">6</span>
<span class="p">};</span>

<span class="k">enum</span> <span class="n">HPI_OBJECT_TYPES</span> <span class="p">{</span>
	<span class="n">HPI_OBJ_SUBSYSTEM</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="n">HPI_OBJ_ADAPTER</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="n">HPI_OBJ_OSTREAM</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="n">HPI_OBJ_ISTREAM</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="n">HPI_OBJ_MIXER</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="n">HPI_OBJ_NODE</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span>
	<span class="n">HPI_OBJ_CONTROL</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="n">HPI_OBJ_NVMEMORY</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="n">HPI_OBJ_GPIO</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
	<span class="n">HPI_OBJ_WATCHDOG</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
	<span class="n">HPI_OBJ_CLOCK</span> <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="n">HPI_OBJ_PROFILE</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="cm">/* HPI_ OBJ_ CONTROLEX  = 13, */</span>
	<span class="n">HPI_OBJ_ASYNCEVENT</span> <span class="o">=</span> <span class="mi">14</span>
<span class="cp">#define HPI_OBJ_MAXINDEX 14</span>
<span class="p">};</span>

<span class="cp">#define HPI_OBJ_FUNCTION_SPACING 0x100</span>
<span class="cp">#define HPI_FUNC_ID(obj, i) (HPI_OBJ_##obj * HPI_OBJ_FUNCTION_SPACING + i)</span>

<span class="cp">#define HPI_EXTRACT_INDEX(fn) (fn &amp; 0xff)</span>

<span class="k">enum</span> <span class="n">HPI_FUNCTION_IDS</span> <span class="p">{</span>
	<span class="n">HPI_SUBSYS_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_GET_VERSION</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_CREATE_ADAPTER</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_CLOSE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_DRIVER_LOAD</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_DRIVER_UNLOAD</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_GET_NUM_ADAPTERS</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_GET_ADAPTER</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_SET_NETWORK_INTERFACE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_OPTION_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_OPTION_GET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
	<span class="n">HPI_SUBSYS_OPTION_SET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">SUBSYSTEM</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
<span class="cp">#define HPI_SUBSYS_FUNCTION_COUNT 17</span>

	<span class="n">HPI_ADAPTER_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_CLOSE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_GET_ASSERT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_TEST_ASSERT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_SET_MODE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_GET_MODE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_ENABLE_CAPABILITY</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_SELFTEST</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_FIND_OBJECT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_QUERY_FLASH</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_START_FLASH</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_PROGRAM_FLASH</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_SET_PROPERTY</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_GET_PROPERTY</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_ENUM_PROPERTY</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_MODULE_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_DEBUG_READ</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_IRQ_QUERY_AND_CLEAR</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_IRQ_CALLBACK</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_DELETE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_READ_FLASH</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_END_FLASH</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">23</span><span class="p">),</span>
	<span class="n">HPI_ADAPTER_FILESTORE_DELETE_ALL</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ADAPTER</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
<span class="cp">#define HPI_ADAPTER_FUNCTION_COUNT 24</span>

	<span class="n">HPI_OSTREAM_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_CLOSE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_WRITE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_START</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_STOP</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_RESET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_QUERY_FORMAT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_DATA</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_SET_VELOCITY</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_SET_PUNCHINOUT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_SINEGEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_ANC_RESET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_ANC_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_ANC_READ</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_SET_TIMESCALE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_SET_FORMAT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_HOSTBUFFER_ALLOC</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_HOSTBUFFER_FREE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_GROUP_ADD</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_GROUP_GETMAP</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">21</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_GROUP_RESET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_HOSTBUFFER_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">23</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_WAIT_START</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>
	<span class="n">HPI_OSTREAM_WAIT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">OSTREAM</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>
<span class="cp">#define HPI_OSTREAM_FUNCTION_COUNT 25</span>

	<span class="n">HPI_ISTREAM_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_CLOSE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_SET_FORMAT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_READ</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_START</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_STOP</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_RESET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_QUERY_FORMAT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_ANC_RESET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_ANC_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_ANC_WRITE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_HOSTBUFFER_ALLOC</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_HOSTBUFFER_FREE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_GROUP_ADD</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_GROUP_GETMAP</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_GROUP_RESET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_HOSTBUFFER_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_WAIT_START</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
	<span class="n">HPI_ISTREAM_WAIT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ISTREAM</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span>
<span class="cp">#define HPI_ISTREAM_FUNCTION_COUNT 20</span>

<span class="cm">/* NOTE:</span>
<span class="cm">   GET_NODE_INFO, SET_CONNECTION, GET_CONNECTIONS are not currently used */</span>
	<span class="n">HPI_MIXER_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_MIXER_CLOSE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_NODE_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_CONTROL</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_MIXER_SET_CONNECTION</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_CONNECTIONS</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_CONTROL_BY_INDEX</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_CONTROL_ARRAY_BY_INDEX</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_CONTROL_MULTIPLE_VALUES</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
	<span class="n">HPI_MIXER_STORE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_CACHE_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_BLOCK_HANDLE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span>
	<span class="n">HPI_MIXER_GET_PARAMETER_HANDLE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">MIXER</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span>
<span class="cp">#define HPI_MIXER_FUNCTION_COUNT 14</span>

	<span class="n">HPI_CONTROL_GET_INFO</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_CONTROL_GET_STATE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_CONTROL_SET_STATE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">CONTROL</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="cp">#define HPI_CONTROL_FUNCTION_COUNT 3</span>

	<span class="n">HPI_NVMEMORY_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">NVMEMORY</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_NVMEMORY_READ_BYTE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">NVMEMORY</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_NVMEMORY_WRITE_BYTE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">NVMEMORY</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
<span class="cp">#define HPI_NVMEMORY_FUNCTION_COUNT 3</span>

	<span class="n">HPI_GPIO_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">GPIO</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_GPIO_READ_BIT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">GPIO</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_GPIO_WRITE_BIT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">GPIO</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_GPIO_READ_ALL</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">GPIO</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_GPIO_WRITE_STATUS</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">GPIO</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
<span class="cp">#define HPI_GPIO_FUNCTION_COUNT 5</span>

	<span class="n">HPI_ASYNCEVENT_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ASYNCEVENT</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_ASYNCEVENT_CLOSE</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ASYNCEVENT</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_ASYNCEVENT_WAIT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ASYNCEVENT</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_ASYNCEVENT_GETCOUNT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ASYNCEVENT</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_ASYNCEVENT_GET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ASYNCEVENT</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_ASYNCEVENT_SENDEVENTS</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">ASYNCEVENT</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
<span class="cp">#define HPI_ASYNCEVENT_FUNCTION_COUNT 6</span>

	<span class="n">HPI_WATCHDOG_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">WATCHDOG</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_WATCHDOG_SET_TIME</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">WATCHDOG</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_WATCHDOG_PING</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">WATCHDOG</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>

	<span class="n">HPI_CLOCK_OPEN</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">CLOCK</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_CLOCK_SET_TIME</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">CLOCK</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_CLOCK_GET_TIME</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">CLOCK</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>

	<span class="n">HPI_PROFILE_OPEN_ALL</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">PROFILE</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
	<span class="n">HPI_PROFILE_START_ALL</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">PROFILE</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
	<span class="n">HPI_PROFILE_STOP_ALL</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">PROFILE</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
	<span class="n">HPI_PROFILE_GET</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">PROFILE</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
	<span class="n">HPI_PROFILE_GET_IDLECOUNT</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">PROFILE</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
	<span class="n">HPI_PROFILE_GET_NAME</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">PROFILE</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span>
	<span class="n">HPI_PROFILE_GET_UTILIZATION</span> <span class="o">=</span> <span class="n">HPI_FUNC_ID</span><span class="p">(</span><span class="n">PROFILE</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="cp">#define HPI_PROFILE_FUNCTION_COUNT 7</span>
<span class="p">};</span>

<span class="cm">/* ////////////////////////////////////////////////////////////////////// */</span>
<span class="cm">/* STRUCTURES */</span>
<span class="cp">#ifndef DISABLE_PRAGMA_PACK1</span>
<span class="cp">#pragma pack(push, 1)</span>
<span class="cp">#endif</span>

<span class="cm">/** PCI bus resource */</span>
<span class="k">struct</span> <span class="n">hpi_pci</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">ap_mem_base</span><span class="p">[</span><span class="n">HPI_MAX_ADAPTER_MEM_SPACES</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">pci_dev</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_resource</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">const</span> <span class="k">struct</span> <span class="n">hpi_pci</span> <span class="o">*</span><span class="n">pci</span><span class="p">;</span>
		<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">net_if</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">r</span><span class="p">;</span>
<span class="cp">#ifndef HPI64BIT		</span><span class="cm">/* keep structure size constant */</span><span class="cp"></span>
	<span class="n">u32</span> <span class="n">pad_to64</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u16</span> <span class="n">bus_type</span><span class="p">;</span>		<span class="cm">/* HPI_BUS_PNPISA, _PCI, _USB etc */</span>
	<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>

<span class="p">};</span>

<span class="cm">/** Format info used inside struct hpi_message</span>
<span class="cm">    Not the same as public API struct hpi_format */</span>
<span class="k">struct</span> <span class="n">hpi_msg_format</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">sample_rate</span><span class="p">;</span> <span class="cm">/**&lt; 11025, 32000, 44100 etc. */</span>
	<span class="n">u32</span> <span class="n">bit_rate</span><span class="p">;</span> <span class="cm">/**&lt; for MPEG */</span>
	<span class="n">u32</span> <span class="n">attributes</span><span class="p">;</span>	<span class="cm">/**&lt; stereo/joint_stereo/mono */</span>
	<span class="n">u16</span> <span class="n">channels</span><span class="p">;</span> <span class="cm">/**&lt; 1,2..., (or ancillary mode or idle bit */</span>
	<span class="n">u16</span> <span class="n">format</span><span class="p">;</span> <span class="cm">/**&lt; HPI_FORMAT_PCM16, _MPEG etc. see \ref HPI_FORMATS. */</span>
<span class="p">};</span>

<span class="cm">/**  Buffer+format structure.</span>
<span class="cm">	 Must be kept 7 * 32 bits to match public struct hpi_datastruct */</span>
<span class="k">struct</span> <span class="n">hpi_msg_data</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_msg_format</span> <span class="n">format</span><span class="p">;</span>
	<span class="n">u8</span> <span class="o">*</span><span class="n">pb_data</span><span class="p">;</span>
<span class="cp">#ifndef HPI64BIT</span>
	<span class="n">u32</span> <span class="n">padding</span><span class="p">;</span>
<span class="cp">#endif</span>
	<span class="n">u32</span> <span class="n">data_size</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/** struct hpi_datastructure used up to 3.04 driver */</span>
<span class="k">struct</span> <span class="n">hpi_data_legacy32</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_format</span> <span class="n">format</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pb_data</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">data_size</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#ifdef HPI64BIT</span>
<span class="cm">/* Compatibility version of struct hpi_data*/</span>
<span class="k">struct</span> <span class="n">hpi_data_compat32</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_msg_format</span> <span class="n">format</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pb_data</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">padding</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">data_size</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">hpi_buffer</span> <span class="p">{</span>
  <span class="cm">/** placeholder for backward compatibility (see dwBufferSize) */</span>
	<span class="k">struct</span> <span class="n">hpi_msg_format</span> <span class="n">reserved</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">command</span><span class="p">;</span> <span class="cm">/**&lt; HPI_BUFFER_CMD_xxx*/</span>
	<span class="n">u32</span> <span class="n">pci_address</span><span class="p">;</span> <span class="cm">/**&lt; PCI physical address of buffer for DSP DMA */</span>
	<span class="n">u32</span> <span class="n">buffer_size</span><span class="p">;</span> <span class="cm">/**&lt; must line up with data_size of HPI_DATA*/</span>
<span class="p">};</span>

<span class="cm">/*/////////////////////////////////////////////////////////////////////////// */</span>
<span class="cm">/* This is used for background buffer bus mastering stream buffers.           */</span>
<span class="k">struct</span> <span class="n">hpi_hostbuffer_status</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">samples_processed</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">auxiliary_data_available</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">stream_state</span><span class="p">;</span>
	<span class="cm">/* DSP index in to the host bus master buffer. */</span>
	<span class="n">u32</span> <span class="n">dsp_index</span><span class="p">;</span>
	<span class="cm">/* Host index in to the host bus master buffer. */</span>
	<span class="n">u32</span> <span class="n">host_index</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">size_in_bytes</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_streamid</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">object_type</span><span class="p">;</span>
		    <span class="cm">/**&lt; Type of object, HPI_OBJ_OSTREAM or HPI_OBJ_ISTREAM. */</span>
	<span class="n">u16</span> <span class="n">stream_index</span><span class="p">;</span> <span class="cm">/**&lt; outstream or instream index. */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_punchinout</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">punch_in_sample</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">punch_out_sample</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_subsys_msg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_resource</span> <span class="n">resource</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_subsys_res</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">version</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">data</span><span class="p">;</span>		<span class="cm">/* extended version */</span>
	<span class="n">u16</span> <span class="n">num_adapters</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">adapter_index</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">adapter_type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">pad16</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">hpi_adapterx_msg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">dsp_address</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">count_bytes</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">debug_read</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">adapter_mode</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">query_or_set</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">mode</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u16</span> <span class="n">index</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">module_info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u16</span> <span class="n">index</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">what</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">property_index</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">property_enum</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u16</span> <span class="n">property</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">parameter1</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">parameter2</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">property_set</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">pad32</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">key1</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">key2</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">restart</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">pad32</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">value</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">test_assert</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">yes</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">irq_query</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pad</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_adapter_res</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">serial_number</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">adapter_type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">adapter_index</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">num_instreams</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">num_outstreams</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">num_mixers</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">version</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">sz_adapter_assert</span><span class="p">[</span><span class="n">HPI_STRING_LEN</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">hpi_adapterx_res</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_adapter_res</span> <span class="n">info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">p1</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">count</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">dsp_index</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">p2</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">dsp_msg_addr</span><span class="p">;</span>
		<span class="kt">char</span> <span class="n">sz_message</span><span class="p">[</span><span class="n">HPI_STRING_LEN</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">assert</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">adapter_mode</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">mode</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u16</span> <span class="n">parameter1</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">parameter2</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">property_get</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">yes</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">irq_query</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_stream_msg</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">hpi_msg_data</span> <span class="n">data</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_data_legacy32</span> <span class="n">data32</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">velocity</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_punchinout</span> <span class="n">pio</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">time_scale</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_buffer</span> <span class="n">buffer</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_streamid</span> <span class="n">stream</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">threshold_bytes</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_stream_res</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="cm">/* size of hardware buffer */</span>
			<span class="n">u32</span> <span class="n">buffer_size</span><span class="p">;</span>
			<span class="cm">/* OutStream - data to play,</span>
<span class="cm">			   InStream - data recorded */</span>
			<span class="n">u32</span> <span class="n">data_available</span><span class="p">;</span>
			<span class="cm">/* OutStream - samples played,</span>
<span class="cm">			   InStream - samples recorded */</span>
			<span class="n">u32</span> <span class="n">samples_transferred</span><span class="p">;</span>
			<span class="cm">/* Adapter - OutStream - data to play,</span>
<span class="cm">			   InStream - data recorded */</span>
			<span class="n">u32</span> <span class="n">auxiliary_data_available</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">state</span><span class="p">;</span>	<span class="cm">/* HPI_STATE_PLAYING, _STATE_STOPPED */</span>
			<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">stream_info</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">buffer_size</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">data_available</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">samples_transfered</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">state</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">outstream_index</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">instream_index</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">auxiliary_data_available</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">legacy_stream_info</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="cm">/* bitmap of grouped OutStreams */</span>
			<span class="n">u32</span> <span class="n">outstream_group_map</span><span class="p">;</span>
			<span class="cm">/* bitmap of grouped InStreams */</span>
			<span class="n">u32</span> <span class="n">instream_group_map</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">group_info</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="cm">/* pointer to the buffer */</span>
			<span class="n">u8</span> <span class="o">*</span><span class="n">p_buffer</span><span class="p">;</span>
			<span class="cm">/* pointer to the hostbuffer status */</span>
			<span class="k">struct</span> <span class="n">hpi_hostbuffer_status</span> <span class="o">*</span><span class="n">p_status</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">hostbuffer_info</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_mixer_msg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">control_index</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">control_type</span><span class="p">;</span>	<span class="cm">/* = HPI_CONTROL_METER _VOLUME etc */</span>
	<span class="n">u16</span> <span class="n">padding1</span><span class="p">;</span>		<span class="cm">/* Maintain alignment of subsequent fields */</span>
	<span class="n">u16</span> <span class="n">node_type1</span><span class="p">;</span>		<span class="cm">/* = HPI_SOURCENODE_LINEIN etc */</span>
	<span class="n">u16</span> <span class="n">node_index1</span><span class="p">;</span>	<span class="cm">/* = 0..N */</span>
	<span class="n">u16</span> <span class="n">node_type2</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">node_index2</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">padding2</span><span class="p">;</span>		<span class="cm">/* round to 4 bytes */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_mixer_res</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">src_node_type</span><span class="p">;</span>	<span class="cm">/* = HPI_SOURCENODE_LINEIN etc */</span>
	<span class="n">u16</span> <span class="n">src_node_index</span><span class="p">;</span>	<span class="cm">/* = 0..N */</span>
	<span class="n">u16</span> <span class="n">dst_node_type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">dst_node_index</span><span class="p">;</span>
	<span class="cm">/* Also controlType for MixerGetControlByIndex */</span>
	<span class="n">u16</span> <span class="n">control_index</span><span class="p">;</span>
	<span class="cm">/* may indicate which DSP the control is located on */</span>
	<span class="n">u16</span> <span class="n">dsp_index</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">hpi_mixerx_msg</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u16</span> <span class="n">starting_index</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">flags</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">length_in_bytes</span><span class="p">;</span>	<span class="cm">/* length in bytes of p_data */</span>
		<span class="n">u32</span> <span class="n">p_data</span><span class="p">;</span>	<span class="cm">/* pointer to a data array */</span>
	<span class="p">}</span> <span class="n">gcabi</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u16</span> <span class="n">command</span><span class="p">;</span>
		<span class="n">u16</span> <span class="n">index</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">store</span><span class="p">;</span>		<span class="cm">/* for HPI_MIXER_STORE message */</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">hpi_mixerx_res</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">bytes_returned</span><span class="p">;</span>	<span class="cm">/* size of items returned */</span>
		<span class="n">u32</span> <span class="n">p_data</span><span class="p">;</span>	<span class="cm">/* pointer to data array */</span>
		<span class="n">u16</span> <span class="n">more_to_do</span><span class="p">;</span>	<span class="cm">/* indicates if there is more to do */</span>
	<span class="p">}</span> <span class="n">gcabi</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">total_controls</span><span class="p">;</span>	<span class="cm">/* count of controls in the mixer */</span>
		<span class="n">u32</span> <span class="n">cache_controls</span><span class="p">;</span>	<span class="cm">/* count of controls in the cac */</span>
		<span class="n">u32</span> <span class="n">cache_bytes</span><span class="p">;</span>	<span class="cm">/* size of cache */</span>
	<span class="p">}</span> <span class="n">cache_info</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_msg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">attribute</span><span class="p">;</span>		<span class="cm">/* control attribute or property */</span>
	<span class="n">u16</span> <span class="n">saved_index</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">param1</span><span class="p">;</span>		<span class="cm">/* generic parameter 1 */</span>
	<span class="n">u32</span> <span class="n">param2</span><span class="p">;</span>		<span class="cm">/* generic parameter 2 */</span>
	<span class="kt">short</span> <span class="n">an_log_value</span><span class="p">[</span><span class="n">HPI_MAX_CHANNELS</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_union_msg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">attribute</span><span class="p">;</span>		<span class="cm">/* control attribute or property */</span>
	<span class="n">u16</span> <span class="n">saved_index</span><span class="p">;</span>	<span class="cm">/* only used in ctrl save/restore */</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">param1</span><span class="p">;</span>	<span class="cm">/* generic parameter 1 */</span>
			<span class="n">u32</span> <span class="n">param2</span><span class="p">;</span>	<span class="cm">/* generic parameter 2 */</span>
			<span class="kt">short</span> <span class="n">an_log_value</span><span class="p">[</span><span class="n">HPI_MAX_CHANNELS</span><span class="p">];</span>
		<span class="p">}</span> <span class="n">old</span><span class="p">;</span>
		<span class="k">union</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">frequency</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">gain</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">band</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">deemphasis</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">program</span><span class="p">;</span>
			<span class="k">struct</span> <span class="p">{</span>
				<span class="n">u32</span> <span class="n">mode</span><span class="p">;</span>
				<span class="n">u32</span> <span class="n">value</span><span class="p">;</span>
			<span class="p">}</span> <span class="n">mode</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">blend</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">tuner</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_res</span> <span class="p">{</span>
	<span class="cm">/* Could make union. dwParam, anLogValue never used in same response */</span>
	<span class="n">u32</span> <span class="n">param1</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">param2</span><span class="p">;</span>
	<span class="kt">short</span> <span class="n">an_log_value</span><span class="p">[</span><span class="n">HPI_MAX_CHANNELS</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">hpi_control_union_res</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">param1</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">param2</span><span class="p">;</span>
		<span class="kt">short</span> <span class="n">an_log_value</span><span class="p">[</span><span class="n">HPI_MAX_CHANNELS</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">old</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="n">u32</span> <span class="n">band</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">frequency</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">gain</span><span class="p">;</span>
		<span class="n">u32</span> <span class="n">deemphasis</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
			<span class="n">u32</span> <span class="n">bLER</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">rds</span><span class="p">;</span>
		<span class="kt">short</span> <span class="n">s_level</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u16</span> <span class="n">value</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">mask</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">status</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">tuner</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="kt">char</span> <span class="n">sz_data</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
		<span class="n">u32</span> <span class="n">remaining_chars</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">chars8</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">c_data12</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">status</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">readable_size</span><span class="p">;</span>
			<span class="n">u32</span> <span class="n">writeable_size</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">status</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">cobranet</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_nvmemory_msg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">address</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">data</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_nvmemory_res</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">size_in_bytes</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">data</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_gpio_msg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">bit_index</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">bit_data</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_gpio_res</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">number_input_bits</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">number_output_bits</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">bit_data</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_async_msg</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">events</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">maximum_events</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_async_res</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u16</span> <span class="n">count</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">count</span><span class="p">;</span>
		<span class="k">struct</span> <span class="p">{</span>
			<span class="n">u32</span> <span class="n">events</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">number_returned</span><span class="p">;</span>
			<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>
		<span class="p">}</span> <span class="n">get</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_async_event</span> <span class="n">event</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_watchdog_msg</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">time_ms</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_watchdog_res</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">time_ms</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_clock_msg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">hours</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">minutes</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">seconds</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">milli_seconds</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_clock_res</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">size_in_bytes</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">hours</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">minutes</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">seconds</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">milli_seconds</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_profile_msg</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">bin_index</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_profile_res_open</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">max_profiles</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_profile_res_time</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">total_tick_count</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">call_count</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">max_tick_count</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">ticks_per_millisecond</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">profile_interval</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_profile_res_name</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">sz_name</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_profile_res</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">hpi_profile_res_open</span> <span class="n">o</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_profile_res_time</span> <span class="n">t</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_profile_res_name</span> <span class="n">n</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_message_header</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">size</span><span class="p">;</span>		<span class="cm">/* total size in bytes */</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>		<span class="cm">/* HPI_TYPE_MESSAGE  */</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">;</span>		<span class="cm">/* message version */</span>
	<span class="n">u16</span> <span class="n">object</span><span class="p">;</span>		<span class="cm">/* HPI_OBJ_* */</span>
	<span class="n">u16</span> <span class="n">function</span><span class="p">;</span>		<span class="cm">/* HPI_SUBSYS_xxx, HPI_ADAPTER_xxx */</span>
	<span class="n">u16</span> <span class="n">adapter_index</span><span class="p">;</span>	<span class="cm">/* the adapter index */</span>
	<span class="n">u16</span> <span class="n">obj_index</span><span class="p">;</span>		<span class="cm">/* */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_message</span> <span class="p">{</span>
	<span class="cm">/* following fields must match HPI_MESSAGE_HEADER */</span>
	<span class="n">u16</span> <span class="n">size</span><span class="p">;</span>		<span class="cm">/* total size in bytes */</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>		<span class="cm">/* HPI_TYPE_MESSAGE  */</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">;</span>		<span class="cm">/* message version */</span>
	<span class="n">u16</span> <span class="n">object</span><span class="p">;</span>		<span class="cm">/* HPI_OBJ_* */</span>
	<span class="n">u16</span> <span class="n">function</span><span class="p">;</span>		<span class="cm">/* HPI_SUBSYS_xxx, HPI_ADAPTER_xxx */</span>
	<span class="n">u16</span> <span class="n">adapter_index</span><span class="p">;</span>	<span class="cm">/* the adapter index */</span>
	<span class="n">u16</span> <span class="n">obj_index</span><span class="p">;</span>		<span class="cm">/*  */</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">hpi_subsys_msg</span> <span class="n">s</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_adapterx_msg</span> <span class="n">ax</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_stream_msg</span> <span class="n">d</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_mixer_msg</span> <span class="n">m</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_mixerx_msg</span> <span class="n">mx</span><span class="p">;</span>	<span class="cm">/* extended mixer; */</span>
		<span class="k">struct</span> <span class="n">hpi_control_msg</span> <span class="n">c</span><span class="p">;</span>	<span class="cm">/* mixer control; */</span>
		<span class="cm">/* identical to struct hpi_control_msg,</span>
<span class="cm">		   but field naming is improved */</span>
		<span class="k">struct</span> <span class="n">hpi_control_union_msg</span> <span class="n">cu</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_nvmemory_msg</span> <span class="n">n</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_gpio_msg</span> <span class="n">l</span><span class="p">;</span>	<span class="cm">/* digital i/o */</span>
		<span class="k">struct</span> <span class="n">hpi_watchdog_msg</span> <span class="n">w</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_clock_msg</span> <span class="n">t</span><span class="p">;</span>	<span class="cm">/* dsp time */</span>
		<span class="k">struct</span> <span class="n">hpi_profile_msg</span> <span class="n">p</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_async_msg</span> <span class="n">as</span><span class="p">;</span>
		<span class="kt">char</span> <span class="n">fixed_size</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define HPI_MESSAGE_SIZE_BY_OBJECT { \</span>
<span class="cp">	sizeof(struct hpi_message_header) ,   </span><span class="cm">/* Default, no object type 0 */</span><span class="cp"> \</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_subsys_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(union hpi_adapterx_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_stream_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_stream_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_mixer_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) ,   </span><span class="cm">/* no node message */</span><span class="cp"> \</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_control_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_nvmemory_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_gpio_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_watchdog_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_clock_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_profile_msg),\</span>
<span class="cp">	sizeof(struct hpi_message_header), </span><span class="cm">/* controlx obj removed */</span><span class="cp"> \</span>
<span class="cp">	sizeof(struct hpi_message_header) + sizeof(struct hpi_async_msg) \</span>
<span class="cp">}</span>

<span class="cm">/*</span>
<span class="cm">Note that the wSpecificError error field should be inspected and potentially</span>
<span class="cm">reported whenever HPI_ERROR_DSP_COMMUNICATION or HPI_ERROR_DSP_BOOTLOAD is</span>
<span class="cm">returned in wError.</span>
<span class="cm">*/</span>
<span class="k">struct</span> <span class="n">hpi_response_header</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">size</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>		<span class="cm">/* HPI_TYPE_RESPONSE  */</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">;</span>		<span class="cm">/* response version */</span>
	<span class="n">u16</span> <span class="n">object</span><span class="p">;</span>		<span class="cm">/* HPI_OBJ_* */</span>
	<span class="n">u16</span> <span class="n">function</span><span class="p">;</span>		<span class="cm">/* HPI_SUBSYS_xxx, HPI_ADAPTER_xxx */</span>
	<span class="n">u16</span> <span class="n">error</span><span class="p">;</span>		<span class="cm">/* HPI_ERROR_xxx */</span>
	<span class="n">u16</span> <span class="n">specific_error</span><span class="p">;</span>	<span class="cm">/* adapter specific error */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_response</span> <span class="p">{</span>
<span class="cm">/* following fields must match HPI_RESPONSE_HEADER */</span>
	<span class="n">u16</span> <span class="n">size</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>		<span class="cm">/* HPI_TYPE_RESPONSE  */</span>
	<span class="n">u8</span> <span class="n">version</span><span class="p">;</span>		<span class="cm">/* response version */</span>
	<span class="n">u16</span> <span class="n">object</span><span class="p">;</span>		<span class="cm">/* HPI_OBJ_* */</span>
	<span class="n">u16</span> <span class="n">function</span><span class="p">;</span>		<span class="cm">/* HPI_SUBSYS_xxx, HPI_ADAPTER_xxx */</span>
	<span class="n">u16</span> <span class="n">error</span><span class="p">;</span>		<span class="cm">/* HPI_ERROR_xxx */</span>
	<span class="n">u16</span> <span class="n">specific_error</span><span class="p">;</span>	<span class="cm">/* adapter specific error */</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">hpi_subsys_res</span> <span class="n">s</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_adapterx_res</span> <span class="n">ax</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_stream_res</span> <span class="n">d</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_mixer_res</span> <span class="n">m</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_mixerx_res</span> <span class="n">mx</span><span class="p">;</span>	<span class="cm">/* extended mixer; */</span>
		<span class="k">struct</span> <span class="n">hpi_control_res</span> <span class="n">c</span><span class="p">;</span>	<span class="cm">/* mixer control; */</span>
		<span class="cm">/* identical to hpi_control_res, but field naming is improved */</span>
		<span class="k">union</span> <span class="n">hpi_control_union_res</span> <span class="n">cu</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_nvmemory_res</span> <span class="n">n</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_gpio_res</span> <span class="n">l</span><span class="p">;</span>	<span class="cm">/* digital i/o */</span>
		<span class="k">struct</span> <span class="n">hpi_watchdog_res</span> <span class="n">w</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_clock_res</span> <span class="n">t</span><span class="p">;</span>	<span class="cm">/* dsp time */</span>
		<span class="k">struct</span> <span class="n">hpi_profile_res</span> <span class="n">p</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_async_res</span> <span class="n">as</span><span class="p">;</span>
		<span class="n">u8</span> <span class="n">bytes</span><span class="p">[</span><span class="mi">52</span><span class="p">];</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define HPI_RESPONSE_SIZE_BY_OBJECT { \</span>
<span class="cp">	sizeof(struct hpi_response_header) ,</span><span class="cm">/* Default, no object type 0 */</span><span class="cp"> \</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_subsys_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(union  hpi_adapterx_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_stream_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_stream_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_mixer_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) , </span><span class="cm">/* no node response */</span><span class="cp"> \</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_control_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_nvmemory_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_gpio_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_watchdog_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_clock_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_profile_res),\</span>
<span class="cp">	sizeof(struct hpi_response_header), </span><span class="cm">/* controlx obj removed */</span><span class="cp"> \</span>
<span class="cp">	sizeof(struct hpi_response_header) + sizeof(struct hpi_async_res) \</span>
<span class="cp">}</span>

<span class="cm">/*********************** version 1 message/response **************************/</span>
<span class="cp">#define HPINET_ETHERNET_DATA_SIZE (1500)</span>
<span class="cp">#define HPINET_IP_HDR_SIZE (20)</span>
<span class="cp">#define HPINET_IP_DATA_SIZE (HPINET_ETHERNET_DATA_SIZE - HPINET_IP_HDR_SIZE)</span>
<span class="cp">#define HPINET_UDP_HDR_SIZE (8)</span>
<span class="cp">#define HPINET_UDP_DATA_SIZE (HPINET_IP_DATA_SIZE - HPINET_UDP_HDR_SIZE)</span>
<span class="cp">#define HPINET_ASI_HDR_SIZE (2)</span>
<span class="cp">#define HPINET_ASI_DATA_SIZE (HPINET_UDP_DATA_SIZE - HPINET_ASI_HDR_SIZE)</span>

<span class="cp">#define HPI_MAX_PAYLOAD_SIZE (HPINET_ASI_DATA_SIZE - 2)</span>

<span class="cm">/* New style message/response, but still V0 compatible */</span>
<span class="k">struct</span> <span class="n">hpi_msg_adapter_get_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_message_header</span> <span class="n">h</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_res_adapter_get_info</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_response_header</span> <span class="n">h</span><span class="p">;</span>	<span class="cm">/*v0 */</span>
	<span class="k">struct</span> <span class="n">hpi_adapter_res</span> <span class="n">p</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_res_adapter_debug_read</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_response_header</span> <span class="n">h</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bytes</span><span class="p">[</span><span class="mi">1024</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_msg_cobranet_hmi</span> <span class="p">{</span>
	<span class="n">u16</span> <span class="n">attribute</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">padding</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">hmi_address</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">byte_count</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_msg_cobranet_hmiwrite</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_message_header</span> <span class="n">h</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">hpi_msg_cobranet_hmi</span> <span class="n">p</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bytes</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_msg_cobranet_hmiread</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_message_header</span> <span class="n">h</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">hpi_msg_cobranet_hmi</span> <span class="n">p</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_res_cobranet_hmiread</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_response_header</span> <span class="n">h</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">byte_count</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">bytes</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#if 1</span>
<span class="cp">#define hpi_message_header_v1 hpi_message_header</span>
<span class="cp">#define hpi_response_header_v1 hpi_response_header</span>
<span class="cp">#else</span>
<span class="cm">/* V1 headers in Addition to v0 headers */</span>
<span class="k">struct</span> <span class="n">hpi_message_header_v1</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_message_header</span> <span class="n">h0</span><span class="p">;</span>
<span class="cm">/* struct {</span>
<span class="cm">} h1; */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_response_header_v1</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_response_header</span> <span class="n">h0</span><span class="p">;</span>
	<span class="k">struct</span> <span class="p">{</span>
		<span class="n">u16</span> <span class="n">adapter_index</span><span class="p">;</span>	<span class="cm">/* the adapter index */</span>
		<span class="n">u16</span> <span class="n">obj_index</span><span class="p">;</span>	<span class="cm">/* object index */</span>
	<span class="p">}</span> <span class="n">h1</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">hpi_msg_payload_v0</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_message_header</span> <span class="n">h</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">hpi_subsys_msg</span> <span class="n">s</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_adapterx_msg</span> <span class="n">ax</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_stream_msg</span> <span class="n">d</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_mixer_msg</span> <span class="n">m</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_mixerx_msg</span> <span class="n">mx</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_msg</span> <span class="n">c</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_union_msg</span> <span class="n">cu</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_nvmemory_msg</span> <span class="n">n</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_gpio_msg</span> <span class="n">l</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_watchdog_msg</span> <span class="n">w</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_clock_msg</span> <span class="n">t</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_profile_msg</span> <span class="n">p</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_async_msg</span> <span class="n">as</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_res_payload_v0</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_response_header</span> <span class="n">h</span><span class="p">;</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">hpi_subsys_res</span> <span class="n">s</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_adapterx_res</span> <span class="n">ax</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_stream_res</span> <span class="n">d</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_mixer_res</span> <span class="n">m</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_mixerx_res</span> <span class="n">mx</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_res</span> <span class="n">c</span><span class="p">;</span>
		<span class="k">union</span> <span class="n">hpi_control_union_res</span> <span class="n">cu</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_nvmemory_res</span> <span class="n">n</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_gpio_res</span> <span class="n">l</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_watchdog_res</span> <span class="n">w</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_clock_res</span> <span class="n">t</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_profile_res</span> <span class="n">p</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_async_res</span> <span class="n">as</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">hpi_message_buffer_v1</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_message</span> <span class="n">m0</span><span class="p">;</span>	<span class="cm">/* version 0 */</span>
	<span class="k">struct</span> <span class="n">hpi_message_header_v1</span> <span class="n">h</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">buf</span><span class="p">[</span><span class="n">HPI_MAX_PAYLOAD_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">union</span> <span class="n">hpi_response_buffer_v1</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_response</span> <span class="n">r0</span><span class="p">;</span>	<span class="cm">/* version 0 */</span>
	<span class="k">struct</span> <span class="n">hpi_response_header_v1</span> <span class="n">h</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">buf</span><span class="p">[</span><span class="n">HPI_MAX_PAYLOAD_SIZE</span><span class="p">];</span>
<span class="p">};</span>

<span class="n">compile_time_assert</span><span class="p">((</span><span class="k">sizeof</span><span class="p">(</span><span class="k">union</span> <span class="n">hpi_message_buffer_v1</span><span class="p">)</span> <span class="o">&lt;=</span>
		<span class="n">HPI_MAX_PAYLOAD_SIZE</span><span class="p">),</span> <span class="n">message_buffer_ok</span><span class="p">);</span>
<span class="n">compile_time_assert</span><span class="p">((</span><span class="k">sizeof</span><span class="p">(</span><span class="k">union</span> <span class="n">hpi_response_buffer_v1</span><span class="p">)</span> <span class="o">&lt;=</span>
		<span class="n">HPI_MAX_PAYLOAD_SIZE</span><span class="p">),</span> <span class="n">response_buffer_ok</span><span class="p">);</span>

<span class="cm">/*////////////////////////////////////////////////////////////////////////// */</span>
<span class="cm">/* declarations for compact control calls  */</span>
<span class="k">struct</span> <span class="n">hpi_control_defn</span> <span class="p">{</span>
	<span class="n">u8</span> <span class="n">type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">channels</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">src_node_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">src_node_index</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dest_node_type</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">dest_node_index</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*////////////////////////////////////////////////////////////////////////// */</span>
<span class="cm">/* declarations for control caching (internal to HPI&lt;-&gt;DSP interaction)      */</span>

<span class="cm">/** indicates a cached u16 value is invalid. */</span>
<span class="cp">#define HPI_CACHE_INVALID_UINT16 0xFFFF</span>
<span class="cm">/** indicates a cached short value is invalid. */</span>
<span class="cp">#define HPI_CACHE_INVALID_SHORT -32768</span>

<span class="cm">/** A compact representation of (part of) a controls state.</span>
<span class="cm">Used for efficient transfer of the control state</span>
<span class="cm">between DSP and host or across a network</span>
<span class="cm">*/</span>
<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="p">{</span>
	<span class="cm">/** one of HPI_CONTROL_* */</span>
	<span class="n">u8</span> <span class="n">control_type</span><span class="p">;</span>
	<span class="cm">/** The total size of cached information in 32-bit words. */</span>
	<span class="n">u8</span> <span class="n">size_in32bit_words</span><span class="p">;</span>
	<span class="cm">/** The original index of the control on the DSP */</span>
	<span class="n">u16</span> <span class="n">control_index</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_vol</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="kt">short</span> <span class="n">an_log</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">flags</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">padding</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_meter</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="kt">short</span> <span class="n">an_log_peak</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">short</span> <span class="n">an_logRMS</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_channelmode</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">mode</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">temp_padding</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_mux</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">source_node_type</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">source_node_index</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">temp_padding</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_level</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="kt">short</span> <span class="n">an_log</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">temp_padding</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_tuner</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">freq_ink_hz</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">band</span><span class="p">;</span>
	<span class="kt">short</span> <span class="n">s_level_avg</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_aes3rx</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">error_status</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">format</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_aes3tx</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">format</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">temp_padding</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_tonedetector</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">state</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">temp_padding</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_silencedetector</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">state</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">temp_padding</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_sampleclock</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">source</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">source_index</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">sample_rate</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_microphone</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u16</span> <span class="n">phantom_state</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">temp_padding</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_single</span> <span class="p">{</span>
	<span class="k">union</span> <span class="p">{</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_vol</span> <span class="n">vol</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_meter</span> <span class="n">meter</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_channelmode</span> <span class="n">mode</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_mux</span> <span class="n">mux</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_level</span> <span class="n">level</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_tuner</span> <span class="n">tuner</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_aes3rx</span> <span class="n">aes3rx</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_aes3tx</span> <span class="n">aes3tx</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_tonedetector</span> <span class="n">tone</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_silencedetector</span> <span class="n">silence</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_sampleclock</span> <span class="n">clk</span><span class="p">;</span>
		<span class="k">struct</span> <span class="n">hpi_control_cache_microphone</span> <span class="n">microphone</span><span class="p">;</span>
	<span class="p">}</span> <span class="n">u</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hpi_control_cache_pad</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hpi_control_cache_info</span> <span class="n">i</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">field_valid_flags</span><span class="p">;</span>
	<span class="n">u8</span> <span class="n">c_channel</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">c_artist</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">c_title</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
	<span class="n">u8</span> <span class="n">c_comment</span><span class="p">[</span><span class="mi">200</span><span class="p">];</span>
	<span class="n">u32</span> <span class="n">pTY</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">pI</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">traffic_supported</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">traffic_anouncement</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* 2^N sized FIFO buffer (internal to HPI&lt;-&gt;DSP interaction) */</span>
<span class="k">struct</span> <span class="n">hpi_fifo_buffer</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">size</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">dsp_index</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">host_index</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#ifndef DISABLE_PRAGMA_PACK1</span>
<span class="cp">#pragma pack(pop)</span>
<span class="cp">#endif</span>

<span class="cm">/* skip host side function declarations for DSP</span>
<span class="cm">   compile and documentation extraction */</span>

<span class="kt">char</span> <span class="n">hpi_handle_object</span><span class="p">(</span><span class="k">const</span> <span class="n">u32</span> <span class="n">handle</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">hpi_handle_to_indexes</span><span class="p">(</span><span class="k">const</span> <span class="n">u32</span> <span class="n">handle</span><span class="p">,</span> <span class="n">u16</span> <span class="o">*</span><span class="n">pw_adapter_index</span><span class="p">,</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">pw_object_index</span><span class="p">);</span>

<span class="n">u32</span> <span class="n">hpi_indexes_to_handle</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="n">c_object</span><span class="p">,</span> <span class="k">const</span> <span class="n">u16</span> <span class="n">adapter_index</span><span class="p">,</span>
	<span class="k">const</span> <span class="n">u16</span> <span class="n">object_index</span><span class="p">);</span>

<span class="cm">/*////////////////////////////////////////////////////////////////////////// */</span>

<span class="cm">/* main HPI entry point */</span>
<span class="kt">void</span> <span class="n">hpi_send_recv</span><span class="p">(</span><span class="k">struct</span> <span class="n">hpi_message</span> <span class="o">*</span><span class="n">phm</span><span class="p">,</span> <span class="k">struct</span> <span class="n">hpi_response</span> <span class="o">*</span><span class="n">phr</span><span class="p">);</span>

<span class="cm">/* used in PnP OS/driver */</span>
<span class="n">u16</span> <span class="n">hpi_subsys_create_adapter</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">hpi_resource</span> <span class="o">*</span><span class="n">p_resource</span><span class="p">,</span>
	<span class="n">u16</span> <span class="o">*</span><span class="n">pw_adapter_index</span><span class="p">);</span>

<span class="n">u16</span> <span class="n">hpi_outstream_host_buffer_get_info</span><span class="p">(</span><span class="n">u32</span> <span class="n">h_outstream</span><span class="p">,</span> <span class="n">u8</span> <span class="o">**</span><span class="n">pp_buffer</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">hpi_hostbuffer_status</span> <span class="o">**</span><span class="n">pp_status</span><span class="p">);</span>

<span class="n">u16</span> <span class="n">hpi_instream_host_buffer_get_info</span><span class="p">(</span><span class="n">u32</span> <span class="n">h_instream</span><span class="p">,</span> <span class="n">u8</span> <span class="o">**</span><span class="n">pp_buffer</span><span class="p">,</span>
	<span class="k">struct</span> <span class="n">hpi_hostbuffer_status</span> <span class="o">**</span><span class="n">pp_status</span><span class="p">);</span>

<span class="n">u16</span> <span class="n">hpi_adapter_restart</span><span class="p">(</span><span class="n">u16</span> <span class="n">adapter_index</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm">The following 3 functions were last declared in header files for</span>
<span class="cm">driver 3.10. HPI_ControlQuery() used to be the recommended way</span>
<span class="cm">of getting a volume range. Declared here for binary asihpi32.dll</span>
<span class="cm">compatibility.</span>
<span class="cm">*/</span>

<span class="kt">void</span> <span class="n">hpi_format_to_msg</span><span class="p">(</span><span class="k">struct</span> <span class="n">hpi_msg_format</span> <span class="o">*</span><span class="n">pMF</span><span class="p">,</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">hpi_format</span> <span class="o">*</span><span class="n">pF</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">hpi_stream_response_to_legacy</span><span class="p">(</span><span class="k">struct</span> <span class="n">hpi_stream_res</span> <span class="o">*</span><span class="n">pSR</span><span class="p">);</span>

<span class="cm">/*////////////////////////////////////////////////////////////////////////// */</span>
<span class="cm">/* declarations for individual HPI entry points */</span>
<span class="n">hpi_handler_func</span> <span class="n">HPI_6000</span><span class="p">;</span>
<span class="n">hpi_handler_func</span> <span class="n">HPI_6205</span><span class="p">;</span>

<span class="cp">#endif				</span><span class="cm">/* _HPI_INTERNAL_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
