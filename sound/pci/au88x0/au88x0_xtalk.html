<!DOCTYPE html>
<html><head><title>joekychen/linux » sound › pci › au88x0 › au88x0_xtalk.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>au88x0_xtalk.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/***************************************************************************</span>
<span class="cm"> *            au88x0_cxtalk.c</span>
<span class="cm"> *</span>
<span class="cm"> *  Wed Nov 19 16:29:47 2003</span>
<span class="cm"> *  Copyright  2003  mjander</span>
<span class="cm"> *  mjander@users.sourceforge.org</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> *  This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *  it under the terms of the GNU General Public License as published by</span>
<span class="cm"> *  the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> *  (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *  This program is distributed in the hope that it will be useful,</span>
<span class="cm"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> *  GNU Library General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *  You should have received a copy of the GNU General Public License</span>
<span class="cm"> *  along with this program; if not, write to the Free Software</span>
<span class="cm"> *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.</span>
<span class="cm"> */</span>

<span class="cp">#include &quot;au88x0_xtalk.h&quot;</span>

<span class="cm">/* Data (a whole lot of data.... ) */</span>

<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideKLeftEq</span> <span class="o">=</span> <span class="mh">0x269C</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideKRightEq</span> <span class="o">=</span> <span class="mh">0x269C</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideKLeftXt</span> <span class="o">=</span> <span class="mh">0xF25E</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideKRightXt</span> <span class="o">=</span> <span class="mh">0xF25E</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideShiftLeftEq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideShiftRightEq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideShiftLeftXt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkWideShiftRightXt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">wXtalkWideLeftDelay</span> <span class="o">=</span> <span class="mh">0xd</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">wXtalkWideRightDelay</span> <span class="o">=</span> <span class="mh">0xd</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowKLeftEq</span> <span class="o">=</span> <span class="mh">0x468D</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowKRightEq</span> <span class="o">=</span> <span class="mh">0x468D</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowKLeftXt</span> <span class="o">=</span> <span class="mh">0xF82E</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowKRightXt</span> <span class="o">=</span> <span class="mh">0xF82E</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowShiftLeftEq</span> <span class="o">=</span> <span class="mh">0x3</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowShiftRightEq</span> <span class="o">=</span> <span class="mh">0x3</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowShiftLeftXt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sXtalkNarrowShiftRightXt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">wXtalkNarrowLeftDelay</span> <span class="o">=</span> <span class="mh">0x7</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">wXtalkNarrowRightDelay</span> <span class="o">=</span> <span class="mh">0x7</span><span class="p">;</span>

<span class="k">static</span> <span class="n">xtalk_gains_t</span> <span class="k">const</span> <span class="n">asXtalkGainsDefault</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span>
	<span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span>	<span class="mh">0x4000</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_gains_t</span> <span class="k">const</span> <span class="n">asXtalkGainsTest</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x7fff</span><span class="p">,</span> <span class="mh">0x8000</span><span class="p">,</span> <span class="mh">0x0000</span><span class="p">,</span> <span class="mh">0x0000</span><span class="p">,</span> <span class="mh">0x0001</span><span class="p">,</span>
	<span class="mh">0xffff</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="mh">0xc000</span><span class="p">,</span> <span class="mh">0x0002</span><span class="p">,</span> <span class="mh">0xfffe</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_gains_t</span> <span class="k">const</span> <span class="n">asXtalkGains1Chan</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x7FFF</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
	<span class="mh">0x7FFF</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span></pre></div></td></tr>


<tr id="section-2"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div><p>Input gain for 4 A3D slices. One possible input pair is left zero.</p></td><td class="code"><div class="highlight"><pre><span class="k">static</span> <span class="n">xtalk_gains_t</span> <span class="k">const</span> <span class="n">asXtalkGainsAllChan</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
	<span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x7FFF</span><span class="p">,</span>	<span class="mi">0</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_gains_t</span> <span class="k">const</span> <span class="n">asXtalkGainsZeros</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_dline_t</span> <span class="k">const</span> <span class="n">alXtalkDlineZeros</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
	<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="p">};</span>
<span class="k">static</span> <span class="n">xtalk_dline_t</span> <span class="k">const</span> <span class="n">alXtalkDlineTest</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x0000fc18</span><span class="p">,</span> <span class="mh">0xfff03e8</span><span class="p">,</span> <span class="mh">0x000186a0</span><span class="p">,</span> <span class="mh">0xfffe7960</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mh">0xffffffff</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
	<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
	<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_instate_t</span> <span class="k">const</span> <span class="n">asXtalkInStateZeros</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_instate_t</span> <span class="k">const</span> <span class="n">asXtalkInStateTest</span> <span class="o">=</span> <span class="p">{</span>
	<span class="mh">0x0080</span><span class="p">,</span> <span class="mh">0xff80</span><span class="p">,</span> <span class="mh">0x0001</span><span class="p">,</span> <span class="mh">0xffff</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_state_t</span> <span class="k">const</span> <span class="n">asXtalkOutStateZeros</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondKLeftEq</span> <span class="o">=</span> <span class="mh">0x401d</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondKRightEq</span> <span class="o">=</span> <span class="mh">0x401d</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondKLeftXt</span> <span class="o">=</span> <span class="mh">0xF90E</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondKRightXt</span> <span class="o">=</span> <span class="mh">0xF90E</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondShiftLeftEq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondShiftRightEq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondShiftLeftXt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">sDiamondShiftRightXt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">wDiamondLeftDelay</span> <span class="o">=</span> <span class="mh">0xb</span><span class="p">;</span>
<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="k">const</span> <span class="n">wDiamondRightDelay</span> <span class="o">=</span> <span class="mh">0xb</span><span class="p">;</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkWideCoefsLeftEq</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0xEC4C</span><span class="p">,</span> <span class="mh">0xDCE9</span><span class="p">,</span> <span class="mh">0xFDC2</span><span class="p">,</span> <span class="mh">0xFEEC</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x5F60</span><span class="p">,</span> <span class="mh">0xCBCB</span><span class="p">,</span> <span class="mh">0xFC26</span><span class="p">,</span> <span class="mh">0x0305</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x340B</span><span class="p">,</span> <span class="mh">0xe8f5</span><span class="p">,</span> <span class="mh">0x236c</span><span class="p">,</span> <span class="mh">0xe40d</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x76d5</span><span class="p">,</span> <span class="mh">0xc78d</span><span class="p">,</span> <span class="mh">0x05ac</span><span class="p">,</span> <span class="mh">0xfa5b</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x7F04</span><span class="p">,</span> <span class="mh">0xC0FA</span><span class="p">,</span> <span class="mh">0x0263</span><span class="p">,</span> <span class="mh">0xFDA2</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>
<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkWideCoefsRightEq</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0xEC4C</span><span class="p">,</span> <span class="mh">0xDCE9</span><span class="p">,</span> <span class="mh">0xFDC2</span><span class="p">,</span> <span class="mh">0xFEEC</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x5F60</span><span class="p">,</span> <span class="mh">0xCBCB</span><span class="p">,</span> <span class="mh">0xFC26</span><span class="p">,</span> <span class="mh">0x0305</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x340B</span><span class="p">,</span> <span class="mh">0xe8f5</span><span class="p">,</span> <span class="mh">0x236c</span><span class="p">,</span> <span class="mh">0xe40d</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x76d5</span><span class="p">,</span> <span class="mh">0xc78d</span><span class="p">,</span> <span class="mh">0x05ac</span><span class="p">,</span> <span class="mh">0xfa5b</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x7F04</span><span class="p">,</span> <span class="mh">0xC0FA</span><span class="p">,</span> <span class="mh">0x0263</span><span class="p">,</span> <span class="mh">0xFDA2</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>
<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkWideCoefsLeftXt</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x55c6</span><span class="p">,</span> <span class="mh">0xc97b</span><span class="p">,</span> <span class="mh">0x005b</span><span class="p">,</span> <span class="mh">0x0047</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6a60</span><span class="p">,</span> <span class="mh">0xca20</span><span class="p">,</span> <span class="mh">0xffc6</span><span class="p">,</span> <span class="mh">0x0040</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6411</span><span class="p">,</span> <span class="mh">0xd711</span><span class="p">,</span> <span class="mh">0xfca1</span><span class="p">,</span> <span class="mh">0x0190</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x77dc</span><span class="p">,</span> <span class="mh">0xc79e</span><span class="p">,</span> <span class="mh">0xffb8</span><span class="p">,</span> <span class="mh">0x000a</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>
<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkWideCoefsRightXt</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x55c6</span><span class="p">,</span> <span class="mh">0xc97b</span><span class="p">,</span> <span class="mh">0x005b</span><span class="p">,</span> <span class="mh">0x0047</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6a60</span><span class="p">,</span> <span class="mh">0xca20</span><span class="p">,</span> <span class="mh">0xffc6</span><span class="p">,</span> <span class="mh">0x0040</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6411</span><span class="p">,</span> <span class="mh">0xd711</span><span class="p">,</span> <span class="mh">0xfca1</span><span class="p">,</span> <span class="mh">0x0190</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x77dc</span><span class="p">,</span> <span class="mh">0xc79e</span><span class="p">,</span> <span class="mh">0xffb8</span><span class="p">,</span> <span class="mh">0x000a</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>
<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkNarrowCoefsLeftEq</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x50B5</span><span class="p">,</span> <span class="mh">0xD07C</span><span class="p">,</span> <span class="mh">0x026D</span><span class="p">,</span> <span class="mh">0xFD21</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x460F</span><span class="p">,</span> <span class="mh">0xE44F</span><span class="p">,</span> <span class="mh">0xF75E</span><span class="p">,</span> <span class="mh">0xEFA6</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x556D</span><span class="p">,</span> <span class="mh">0xDCAB</span><span class="p">,</span> <span class="mh">0x2098</span><span class="p">,</span> <span class="mh">0xF0F2</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x7E03</span><span class="p">,</span> <span class="mh">0xC1F0</span><span class="p">,</span> <span class="mh">0x007D</span><span class="p">,</span> <span class="mh">0xFF89</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x383E</span><span class="p">,</span> <span class="mh">0xFD9D</span><span class="p">,</span> <span class="mh">0xB278</span><span class="p">,</span> <span class="mh">0x4547</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkNarrowCoefsRightEq</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x50B5</span><span class="p">,</span> <span class="mh">0xD07C</span><span class="p">,</span> <span class="mh">0x026D</span><span class="p">,</span> <span class="mh">0xFD21</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x460F</span><span class="p">,</span> <span class="mh">0xE44F</span><span class="p">,</span> <span class="mh">0xF75E</span><span class="p">,</span> <span class="mh">0xEFA6</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x556D</span><span class="p">,</span> <span class="mh">0xDCAB</span><span class="p">,</span> <span class="mh">0x2098</span><span class="p">,</span> <span class="mh">0xF0F2</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x7E03</span><span class="p">,</span> <span class="mh">0xC1F0</span><span class="p">,</span> <span class="mh">0x007D</span><span class="p">,</span> <span class="mh">0xFF89</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x383E</span><span class="p">,</span> <span class="mh">0xFD9D</span><span class="p">,</span> <span class="mh">0xB278</span><span class="p">,</span> <span class="mh">0x4547</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkNarrowCoefsLeftXt</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x3CB2</span><span class="p">,</span> <span class="mh">0xDF49</span><span class="p">,</span> <span class="mh">0xF6EA</span><span class="p">,</span> <span class="mh">0x095B</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6777</span><span class="p">,</span> <span class="mh">0xC915</span><span class="p">,</span> <span class="mh">0xFEAF</span><span class="p">,</span> <span class="mh">0x00B1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x7762</span><span class="p">,</span> <span class="mh">0xC7D9</span><span class="p">,</span> <span class="mh">0x025B</span><span class="p">,</span> <span class="mh">0xFDA6</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6B7A</span><span class="p">,</span> <span class="mh">0xD2AA</span><span class="p">,</span> <span class="mh">0xF2FB</span><span class="p">,</span> <span class="mh">0x0B64</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkNarrowCoefsRightXt</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x3CB2</span><span class="p">,</span> <span class="mh">0xDF49</span><span class="p">,</span> <span class="mh">0xF6EA</span><span class="p">,</span> <span class="mh">0x095B</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6777</span><span class="p">,</span> <span class="mh">0xC915</span><span class="p">,</span> <span class="mh">0xFEAF</span><span class="p">,</span> <span class="mh">0x00B1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x7762</span><span class="p">,</span> <span class="mh">0xC7D9</span><span class="p">,</span> <span class="mh">0x025B</span><span class="p">,</span> <span class="mh">0xFDA6</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x6B7A</span><span class="p">,</span> <span class="mh">0xD2AA</span><span class="p">,</span> <span class="mh">0xF2FB</span><span class="p">,</span> <span class="mh">0x0B64</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkCoefsZeros</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkCoefsPipe</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0FA0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0FA0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0FA0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x0FA0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0x1180</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
<span class="p">};</span>
<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkCoefsNegPipe</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xF380</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xF380</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xF380</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xF380</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xF200</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkCoefsNumTest</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mh">0xF380</span><span class="p">,</span> <span class="mh">0x8000</span><span class="p">,</span> <span class="mh">0x6D60</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asXtalkCoefsDenTest</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0xC000</span><span class="p">,</span> <span class="mh">0x2000</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_state_t</span> <span class="k">const</span> <span class="n">asXtalkOutStateTest</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x7FFF</span><span class="p">,</span> <span class="mh">0x0004</span><span class="p">,</span> <span class="mh">0xFFFC</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0xFE00</span><span class="p">,</span> <span class="mh">0x0008</span><span class="p">,</span> <span class="mh">0xFFF8</span><span class="p">,</span> <span class="mh">0x4000</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x0200</span><span class="p">,</span> <span class="mh">0x0010</span><span class="p">,</span> <span class="mh">0xFFF0</span><span class="p">,</span> <span class="mh">0xC000</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x8000</span><span class="p">,</span> <span class="mh">0x0020</span><span class="p">,</span> <span class="mh">0xFFE0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asDiamondCoefsLeftEq</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x0F1E</span><span class="p">,</span> <span class="mh">0x2D05</span><span class="p">,</span> <span class="mh">0xF8E3</span><span class="p">,</span> <span class="mh">0x07C8</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x45E2</span><span class="p">,</span> <span class="mh">0xCA51</span><span class="p">,</span> <span class="mh">0x0448</span><span class="p">,</span> <span class="mh">0xFCE7</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0xA93E</span><span class="p">,</span> <span class="mh">0xDBD5</span><span class="p">,</span> <span class="mh">0x022C</span><span class="p">,</span> <span class="mh">0x028A</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asDiamondCoefsRightEq</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x0F1E</span><span class="p">,</span> <span class="mh">0x2D05</span><span class="p">,</span> <span class="mh">0xF8E3</span><span class="p">,</span> <span class="mh">0x07C8</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x45E2</span><span class="p">,</span> <span class="mh">0xCA51</span><span class="p">,</span> <span class="mh">0x0448</span><span class="p">,</span> <span class="mh">0xFCE7</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0xA93E</span><span class="p">,</span> <span class="mh">0xDBD5</span><span class="p">,</span> <span class="mh">0x022C</span><span class="p">,</span> <span class="mh">0x028A</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asDiamondCoefsLeftXt</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x3B50</span><span class="p">,</span> <span class="mh">0xFE08</span><span class="p">,</span> <span class="mh">0xF959</span><span class="p">,</span> <span class="mh">0x0060</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x9FCB</span><span class="p">,</span> <span class="mh">0xD8F1</span><span class="p">,</span> <span class="mh">0x00A2</span><span class="p">,</span> <span class="mh">0x003A</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">asDiamondCoefsRightXt</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span><span class="mh">0x3B50</span><span class="p">,</span> <span class="mh">0xFE08</span><span class="p">,</span> <span class="mh">0xF959</span><span class="p">,</span> <span class="mh">0x0060</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mh">0x9FCB</span><span class="p">,</span> <span class="mh">0xD8F1</span><span class="p">,</span> <span class="mh">0x00A2</span><span class="p">,</span> <span class="mh">0x003A</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
	<span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
<span class="p">};</span>

 <span class="cm">/**/</span>
<span class="cm">/* XTalk EQ and XT */</span>
<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetLeftEQ</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_0</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_4</span><span class="p">,</span>
			 <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24200</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24204</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24208</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2420c</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24210</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24538</span><span class="p">,</span> <span class="n">arg_0</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2453C</span><span class="p">,</span> <span class="n">arg_4</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetRightEQ</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_0</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_4</span><span class="p">,</span>
			  <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242b4</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242b8</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242bc</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242c0</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242c4</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24540</span><span class="p">,</span> <span class="n">arg_0</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24544</span><span class="p">,</span> <span class="n">arg_4</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetLeftXT</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_0</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_4</span><span class="p">,</span>
			 <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24368</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2436c</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24370</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24374</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24378</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24548</span><span class="p">,</span> <span class="n">arg_0</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2454C</span><span class="p">,</span> <span class="n">arg_4</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetRightXT</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_0</span><span class="p">,</span> <span class="kt">short</span> <span class="n">arg_4</span><span class="p">,</span>
			  <span class="n">xtalk_coefs_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2441C</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24420</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24424</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24428</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2442C</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24550</span><span class="p">,</span> <span class="n">arg_0</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24554</span><span class="p">,</span> <span class="n">arg_4</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetLeftEQStates</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span>
			       <span class="n">xtalk_instate_t</span> <span class="k">const</span> <span class="n">arg_0</span><span class="p">,</span>
			       <span class="n">xtalk_state_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24214</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24218</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2421C</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24220</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x244F8</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x244FC</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24500</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24504</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetRightEQStates</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span>
				<span class="n">xtalk_instate_t</span> <span class="k">const</span> <span class="n">arg_0</span><span class="p">,</span>
				<span class="n">xtalk_state_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242C8</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242CC</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x242D0</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x244D4</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24508</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2450C</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24510</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24514</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetLeftXTStates</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span>
			       <span class="n">xtalk_instate_t</span> <span class="k">const</span> <span class="n">arg_0</span><span class="p">,</span>
			       <span class="n">xtalk_state_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2437C</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24380</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24384</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24388</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24518</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2451C</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24520</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24524</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetRightXTStates</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span>
				<span class="n">xtalk_instate_t</span> <span class="k">const</span> <span class="n">arg_0</span><span class="p">,</span>
				<span class="n">xtalk_state_t</span> <span class="k">const</span> <span class="n">coefs</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24430</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24434</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24438</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2443C</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="mh">0x24</span><span class="p">,</span> <span class="n">coefs</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]);</span>
	<span class="p">}</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24528</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x2452C</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24530</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24534</span><span class="p">,</span> <span class="n">arg_0</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
<span class="p">}</span>

<span class="cp">#if 0</span><span class="c"></span>
<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetLeftEQ(vortex_t * vortex, short *arg_0, short *arg_4,</span>
<span class="c">			 xtalk_coefs_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x24200 + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x24204 + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x24208 + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x2420c + i * 0x24);</span>
<span class="c">		coefs[i][4] = hwread(vortex-&gt;mmio, 0x24210 + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	*arg_0 = hwread(vortex-&gt;mmio, 0x24538) &amp; 0xffff;</span>
<span class="c">	*arg_4 = hwread(vortex-&gt;mmio, 0x2453c) &amp; 0xffff;</span>
<span class="c">}</span>

<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetRightEQ(vortex_t * vortex, short *arg_0, short *arg_4,</span>
<span class="c">			  xtalk_coefs_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x242b4 + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x242b8 + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x242bc + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x242c0 + i * 0x24);</span>
<span class="c">		coefs[i][4] = hwread(vortex-&gt;mmio, 0x242c4 + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	*arg_0 = hwread(vortex-&gt;mmio, 0x24540) &amp; 0xffff;</span>
<span class="c">	*arg_4 = hwread(vortex-&gt;mmio, 0x24544) &amp; 0xffff;</span>
<span class="c">}</span>

<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetLeftXT(vortex_t * vortex, short *arg_0, short *arg_4,</span>
<span class="c">			 xtalk_coefs_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x24368 + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x2436C + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x24370 + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x24374 + i * 0x24);</span>
<span class="c">		coefs[i][4] = hwread(vortex-&gt;mmio, 0x24378 + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	*arg_0 = hwread(vortex-&gt;mmio, 0x24548) &amp; 0xffff;</span>
<span class="c">	*arg_4 = hwread(vortex-&gt;mmio, 0x2454C) &amp; 0xffff;</span>
<span class="c">}</span>

<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetRightXT(vortex_t * vortex, short *arg_0, short *arg_4,</span>
<span class="c">			  xtalk_coefs_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x2441C + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x24420 + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x24424 + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x24428 + i * 0x24);</span>
<span class="c">		coefs[i][4] = hwread(vortex-&gt;mmio, 0x2442C + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	*arg_0 = hwread(vortex-&gt;mmio, 0x24550) &amp; 0xffff;</span>
<span class="c">	*arg_4 = hwread(vortex-&gt;mmio, 0x24554) &amp; 0xffff;</span>
<span class="c">}</span>

<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetLeftEQStates(vortex_t * vortex, xtalk_instate_t arg_0,</span>
<span class="c">			       xtalk_state_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x24214 + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x24218 + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x2421C + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x24220 + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	arg_0[0] = hwread(vortex-&gt;mmio, 0x244F8);</span>
<span class="c">	arg_0[1] = hwread(vortex-&gt;mmio, 0x244FC);</span>
<span class="c">	arg_0[2] = hwread(vortex-&gt;mmio, 0x24500);</span>
<span class="c">	arg_0[3] = hwread(vortex-&gt;mmio, 0x24504);</span>
<span class="c">}</span>

<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetRightEQStates(vortex_t * vortex, xtalk_instate_t arg_0,</span>
<span class="c">				xtalk_state_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x242C8 + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x242CC + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x242D0 + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x242D4 + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	arg_0[0] = hwread(vortex-&gt;mmio, 0x24508);</span>
<span class="c">	arg_0[1] = hwread(vortex-&gt;mmio, 0x2450C);</span>
<span class="c">	arg_0[2] = hwread(vortex-&gt;mmio, 0x24510);</span>
<span class="c">	arg_0[3] = hwread(vortex-&gt;mmio, 0x24514);</span>
<span class="c">}</span>

<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetLeftXTStates(vortex_t * vortex, xtalk_instate_t arg_0,</span>
<span class="c">			       xtalk_state_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x2437C + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x24380 + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x24384 + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x24388 + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	arg_0[0] = hwread(vortex-&gt;mmio, 0x24518);</span>
<span class="c">	arg_0[1] = hwread(vortex-&gt;mmio, 0x2451C);</span>
<span class="c">	arg_0[2] = hwread(vortex-&gt;mmio, 0x24520);</span>
<span class="c">	arg_0[3] = hwread(vortex-&gt;mmio, 0x24524);</span>
<span class="c">}</span>

<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetRightXTStates(vortex_t * vortex, xtalk_instate_t arg_0,</span>
<span class="c">				xtalk_state_t coefs)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 5; i++) {</span>
<span class="c">		coefs[i][0] = hwread(vortex-&gt;mmio, 0x24430 + i * 0x24);</span>
<span class="c">		coefs[i][1] = hwread(vortex-&gt;mmio, 0x24434 + i * 0x24);</span>
<span class="c">		coefs[i][2] = hwread(vortex-&gt;mmio, 0x24438 + i * 0x24);</span>
<span class="c">		coefs[i][3] = hwread(vortex-&gt;mmio, 0x2443C + i * 0x24);</span>
<span class="c">	}</span>
<span class="c">	arg_0[0] = hwread(vortex-&gt;mmio, 0x24528);</span>
<span class="c">	arg_0[1] = hwread(vortex-&gt;mmio, 0x2452C);</span>
<span class="c">	arg_0[2] = hwread(vortex-&gt;mmio, 0x24530);</span>
<span class="c">	arg_0[3] = hwread(vortex-&gt;mmio, 0x24534);</span>
<span class="c">}</span>

<span class="cp">#endif</span>
<span class="cm">/* Gains */</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetGains</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="n">xtalk_gains_t</span> <span class="k">const</span> <span class="n">gains</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">XTGAINS_SZ</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x244D0</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">4</span><span class="p">),</span> <span class="n">gains</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetGainsAllChan</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">vortex_XtalkHw_SetGains</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">asXtalkGainsAllChan</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#if 0</span><span class="c"></span>
<span class="c">static void vortex_XtalkHw_GetGains(vortex_t * vortex, xtalk_gains_t gains)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; XTGAINS_SZ; i++)</span>
<span class="c">		gains[i] = hwread(vortex-&gt;mmio, 0x244D0 + i * 4);</span>
<span class="c">}</span>

<span class="cp">#endif</span>
<span class="cm">/* Delay parameters */</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetDelay</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">right</span><span class="p">,</span>
			<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">left</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">esp0</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="n">esp0</span> <span class="o">&amp;=</span> <span class="mh">0x1FFFFFFF</span><span class="p">;</span>
	<span class="n">esp0</span> <span class="o">|=</span> <span class="mh">0xA0000000</span><span class="p">;</span>
	<span class="n">esp0</span> <span class="o">=</span> <span class="p">(</span><span class="n">esp0</span> <span class="o">&amp;</span> <span class="mh">0xffffE0ff</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">right</span> <span class="o">&amp;</span> <span class="mh">0x1F</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">);</span>
	<span class="n">esp0</span> <span class="o">=</span> <span class="p">(</span><span class="n">esp0</span> <span class="o">&amp;</span> <span class="mh">0xfffc1fff</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">left</span> <span class="o">&amp;</span> <span class="mh">0x1F</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mh">0xd</span><span class="p">);</span>

	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24660</span><span class="p">,</span> <span class="n">esp0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetLeftDline</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="n">xtalk_dline_t</span> <span class="k">const</span> <span class="n">dline</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mh">0x20</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24000</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dline</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24080</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dline</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span>
<span class="nf">vortex_XtalkHw_SetRightDline</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="n">xtalk_dline_t</span> <span class="k">const</span> <span class="n">dline</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mh">0x20</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24100</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dline</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&amp;</span> <span class="mh">0xffff</span><span class="p">);</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24180</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">),</span> <span class="n">dline</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="mh">0x10</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="cp">#if 0</span><span class="c"></span>
<span class="c">static void</span>
<span class="c">vortex_XtalkHw_GetDelay(vortex_t * vortex, unsigned short *right,</span>
<span class="c">			unsigned short *left)</span>
<span class="c">{</span>
<span class="c">	int esp0;</span>

<span class="c">	esp0 = hwread(vortex-&gt;mmio, 0x24660);</span>
<span class="c">	*right = (esp0 &gt;&gt; 8) &amp; 0x1f;</span>
<span class="c">	*left = (esp0 &gt;&gt; 0xd) &amp; 0x1f;</span>
<span class="c">}</span>

<span class="c">static void vortex_XtalkHw_GetLeftDline(vortex_t * vortex, xtalk_dline_t dline)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 0x20; i++) {</span>
<span class="c">		dline[i] =</span>
<span class="c">		    (hwread(vortex-&gt;mmio, 0x24000 + (i &lt;&lt; 2)) &amp; 0xffff) |</span>
<span class="c">		    (hwread(vortex-&gt;mmio, 0x24080 + (i &lt;&lt; 2)) &lt;&lt; 0x10);</span>
<span class="c">	}</span>
<span class="c">}</span>

<span class="c">static void vortex_XtalkHw_GetRightDline(vortex_t * vortex, xtalk_dline_t dline)</span>
<span class="c">{</span>
<span class="c">	int i;</span>

<span class="c">	for (i = 0; i &lt; 0x20; i++) {</span>
<span class="c">		dline[i] =</span>
<span class="c">		    (hwread(vortex-&gt;mmio, 0x24100 + (i &lt;&lt; 2)) &amp; 0xffff) |</span>
<span class="c">		    (hwread(vortex-&gt;mmio, 0x24180 + (i &lt;&lt; 2)) &lt;&lt; 0x10);</span>
<span class="c">	}</span>
<span class="c">}</span>

<span class="cp">#endif</span>
<span class="cm">/* Control/Global stuff */</span>

<span class="cp">#if 0</span><span class="c"></span>
<span class="c">static void vortex_XtalkHw_SetControlReg(vortex_t * vortex, u32 ctrl)</span>
<span class="c">{</span>
<span class="c">	hwwrite(vortex-&gt;mmio, 0x24660, ctrl);</span>
<span class="c">}</span>
<span class="c">static void vortex_XtalkHw_GetControlReg(vortex_t * vortex, u32 *ctrl)</span>
<span class="c">{</span>
<span class="c">	*ctrl = hwread(vortex-&gt;mmio, 0x24660);</span>
<span class="c">}</span>
<span class="cp">#endif</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_SetSampleRate</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">,</span> <span class="n">u32</span> <span class="n">sr</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">temp</span><span class="p">;</span>

	<span class="n">temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">hwread</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24660</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1FFFFFFF</span><span class="p">)</span> <span class="o">|</span> <span class="mh">0xC0000000</span><span class="p">;</span>
	<span class="n">temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">temp</span> <span class="o">&amp;</span> <span class="mh">0xffffff07</span><span class="p">)</span> <span class="o">|</span> <span class="p">((</span><span class="n">sr</span> <span class="o">&amp;</span> <span class="mh">0x1f</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span><span class="p">);</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24660</span><span class="p">,</span> <span class="n">temp</span><span class="p">);</span>
<span class="p">}</span>

<span class="cp">#if 0</span><span class="c"></span>
<span class="c">static void vortex_XtalkHw_GetSampleRate(vortex_t * vortex, u32 *sr)</span>
<span class="c">{</span>
<span class="c">	*sr = (hwread(vortex-&gt;mmio, 0x24660) &gt;&gt; 3) &amp; 0x1f;</span>
<span class="c">}</span>

<span class="cp">#endif</span>
<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_Enable</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">temp</span><span class="p">;</span>

	<span class="n">temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">hwread</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24660</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1FFFFFFF</span><span class="p">)</span> <span class="o">|</span> <span class="mh">0xC0000000</span><span class="p">;</span>
	<span class="n">temp</span> <span class="o">|=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24660</span><span class="p">,</span> <span class="n">temp</span><span class="p">);</span>

<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_Disable</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">u32</span> <span class="n">temp</span><span class="p">;</span>

	<span class="n">temp</span> <span class="o">=</span> <span class="p">(</span><span class="n">hwread</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24660</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x1FFFFFFF</span><span class="p">)</span> <span class="o">|</span> <span class="mh">0xC0000000</span><span class="p">;</span>
	<span class="n">temp</span> <span class="o">&amp;=</span> <span class="mh">0xfffffffe</span><span class="p">;</span>
	<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24660</span><span class="p">,</span> <span class="n">temp</span><span class="p">);</span>

<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_ZeroIO</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">20</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24600</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
		<span class="n">hwwrite</span><span class="p">(</span><span class="n">vortex</span><span class="o">-&gt;</span><span class="n">mmio</span><span class="p">,</span> <span class="mh">0x24650</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_ZeroState</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">vortex_XtalkHw_ZeroIO</span><span class="p">(</span><span class="n">vortex</span><span class="p">);</span>	<span class="c1">// inlined</span>

	<span class="n">vortex_XtalkHw_SetLeftEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">asXtalkCoefsZeros</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">asXtalkCoefsZeros</span><span class="p">);</span>

	<span class="n">vortex_XtalkHw_SetLeftXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">asXtalkCoefsZeros</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">asXtalkCoefsZeros</span><span class="p">);</span>

	<span class="n">vortex_XtalkHw_SetGains</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">asXtalkGainsZeros</span><span class="p">);</span>	<span class="c1">// inlined</span>

	<span class="n">vortex_XtalkHw_SetDelay</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>	<span class="c1">// inlined</span>

	<span class="n">vortex_XtalkHw_SetLeftDline</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">alXtalkDlineZeros</span><span class="p">);</span>	<span class="c1">// inlined</span>
	<span class="n">vortex_XtalkHw_SetRightDline</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">alXtalkDlineZeros</span><span class="p">);</span>	<span class="c1">// inlined</span>
	<span class="n">vortex_XtalkHw_SetLeftDline</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">alXtalkDlineZeros</span><span class="p">);</span>	<span class="c1">// inlined</span>
	<span class="n">vortex_XtalkHw_SetRightDline</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">alXtalkDlineZeros</span><span class="p">);</span>	<span class="c1">// inlined</span>

	<span class="n">vortex_XtalkHw_SetLeftEQStates</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">asXtalkInStateZeros</span><span class="p">,</span>
				       <span class="n">asXtalkOutStateZeros</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightEQStates</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">asXtalkInStateZeros</span><span class="p">,</span>
					<span class="n">asXtalkOutStateZeros</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetLeftXTStates</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">asXtalkInStateZeros</span><span class="p">,</span>
				       <span class="n">asXtalkOutStateZeros</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightXTStates</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">asXtalkInStateZeros</span><span class="p">,</span>
					<span class="n">asXtalkOutStateZeros</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_ProgramPipe</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">vortex_XtalkHw_SetLeftEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">asXtalkCoefsPipe</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">asXtalkCoefsPipe</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetLeftXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">asXtalkCoefsZeros</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">asXtalkCoefsZeros</span><span class="p">);</span>

	<span class="n">vortex_XtalkHw_SetDelay</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>	<span class="c1">// inlined</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_ProgramXtalkWide</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">vortex_XtalkHw_SetLeftEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkWideKLeftEq</span><span class="p">,</span>
				 <span class="n">sXtalkWideShiftLeftEq</span><span class="p">,</span> <span class="n">asXtalkWideCoefsLeftEq</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkWideKRightEq</span><span class="p">,</span>
				  <span class="n">sXtalkWideShiftRightEq</span><span class="p">,</span>
				  <span class="n">asXtalkWideCoefsRightEq</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetLeftXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkWideKLeftXt</span><span class="p">,</span>
				 <span class="n">sXtalkWideShiftLeftXt</span><span class="p">,</span> <span class="n">asXtalkWideCoefsLeftXt</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkWideKLeftXt</span><span class="p">,</span>
				  <span class="n">sXtalkWideShiftLeftXt</span><span class="p">,</span>
				  <span class="n">asXtalkWideCoefsLeftXt</span><span class="p">);</span>

	<span class="n">vortex_XtalkHw_SetDelay</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">wXtalkWideRightDelay</span><span class="p">,</span> <span class="n">wXtalkWideLeftDelay</span><span class="p">);</span>	<span class="c1">// inlined</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_ProgramXtalkNarrow</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>

	<span class="n">vortex_XtalkHw_SetLeftEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkNarrowKLeftEq</span><span class="p">,</span>
				 <span class="n">sXtalkNarrowShiftLeftEq</span><span class="p">,</span>
				 <span class="n">asXtalkNarrowCoefsLeftEq</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkNarrowKRightEq</span><span class="p">,</span>
				  <span class="n">sXtalkNarrowShiftRightEq</span><span class="p">,</span>
				  <span class="n">asXtalkNarrowCoefsRightEq</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetLeftXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkNarrowKLeftXt</span><span class="p">,</span>
				 <span class="n">sXtalkNarrowShiftLeftXt</span><span class="p">,</span>
				 <span class="n">asXtalkNarrowCoefsLeftXt</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sXtalkNarrowKLeftXt</span><span class="p">,</span>
				  <span class="n">sXtalkNarrowShiftLeftXt</span><span class="p">,</span>
				  <span class="n">asXtalkNarrowCoefsLeftXt</span><span class="p">);</span>

	<span class="n">vortex_XtalkHw_SetDelay</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">wXtalkNarrowRightDelay</span><span class="p">,</span> <span class="n">wXtalkNarrowLeftDelay</span><span class="p">);</span>	<span class="c1">// inlined</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_ProgramDiamondXtalk</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span></pre></div></td></tr>


<tr id="section-3"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div><p>sDiamondKLeftEq,sDiamondKRightXt,asDiamondCoefsLeftEq</p></td><td class="code"><div class="highlight"><pre>	<span class="n">vortex_XtalkHw_SetLeftEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sDiamondKLeftEq</span><span class="p">,</span>
				 <span class="n">sDiamondShiftLeftEq</span><span class="p">,</span> <span class="n">asDiamondCoefsLeftEq</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightEQ</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sDiamondKRightEq</span><span class="p">,</span>
				  <span class="n">sDiamondShiftRightEq</span><span class="p">,</span> <span class="n">asDiamondCoefsRightEq</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetLeftXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sDiamondKLeftXt</span><span class="p">,</span>
				 <span class="n">sDiamondShiftLeftXt</span><span class="p">,</span> <span class="n">asDiamondCoefsLeftXt</span><span class="p">);</span>
	<span class="n">vortex_XtalkHw_SetRightXT</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">sDiamondKLeftXt</span><span class="p">,</span>
				  <span class="n">sDiamondShiftLeftXt</span><span class="p">,</span> <span class="n">asDiamondCoefsLeftXt</span><span class="p">);</span>

	<span class="n">vortex_XtalkHw_SetDelay</span><span class="p">(</span><span class="n">vortex</span><span class="p">,</span> <span class="n">wDiamondRightDelay</span><span class="p">,</span> <span class="n">wDiamondLeftDelay</span><span class="p">);</span>	<span class="c1">// inlined</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">vortex_XtalkHw_init</span><span class="p">(</span><span class="n">vortex_t</span> <span class="o">*</span> <span class="n">vortex</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">vortex_XtalkHw_ZeroState</span><span class="p">(</span><span class="n">vortex</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* End of file */</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
