f | indigoiox_dsp.c | s | 2.1K | 53 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | darla20_dsp.c | s | 3.4K | 97 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | echoaudio_dsp.h | s | 20K | 558 | Giuliano Pochini | pochini@shiny.it | 1237447077 |  | ALSA: Echoaudio: add support for Indigo express cards  This patch adds support for IndigoIOx and IndigoDJx.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | Makefile | g | 1.1K |  | Giuliano Pochini | pochini@shiny.it | 1237447077 |  | ALSA: Echoaudio: add support for Indigo express cards  This patch adds support for IndigoIOx and IndigoDJx.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | indigoiox.c | s | 2.9K | 98 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | indigo.c | s | 2.8K | 95 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | indigodjx_dsp.c | s | 2.1K | 53 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | echoaudio_gml.c | s | 5.8K | 157 | Takashi Iwai | tiwai@suse.de | 1218620798 |  | ALSA: Kill snd_assert() in sound/pci/*  Kill snd_assert() in sound/pci/*, either removed or replaced with if () with snd_BUG_ON().  Signed-off-by: Takashi Iwai <tiwai@suse.de> Signed-off-by: Jaroslav Kysela <perex@perex.cz>
f | layla24_dsp.c | s | 10K | 315 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | indigoio_dsp.c | s | 3.4K | 94 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | mia_dsp.c | s | 5.5K | 165 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | echoaudio_3g.c | s | 11K | 335 | Giuliano Pochini | pochini@shiny.it | 1266226611 |  | ALSA: Echoaudio - Add firmware cache #1  Changes the way the firmware is passed through functions.  When CONFIG_PM is enabled the firmware cannot be released because the driver will need it again to resume the card. With this patch the firmware is passed as an index of the struct firmware card_fw[] in place of a pointer. That same index is then used to locate the firmware in the firmware cache.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | indigodjx.c | s | 2.9K | 97 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | mona.c | s | 4.2K | 126 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | layla20_dsp.c | s | 7.3K | 226 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | darla24_dsp.c | s | 3.8K | 122 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | layla20.c | s | 3.3K | 104 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | gina20_dsp.c | s | 5.5K | 165 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | echoaudio.h | s | 17K | 469 | Giuliano Pochini | pochini@shiny.it | 1266226815 |  | ALSA: Echoaudio - Add suspend support #2  This patch adds rearranges parts of the initialization code and adds suspend and resume callbacks.  This patch adds suspend and resume callbacks. It also rearranges parts of the initialization code so it can be used in both the first initialization (when the module is loaded we also have to load default settings) and the resume callback (where we have to restore the previous settings).  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | echo3g_dsp.c | s | 4.1K | 106 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | echoaudio.c | s | 62K | 1936 | Takashi Iwai | tiwai@suse.de | 1335263100 |  | ALSA: pci: clean up using module_pci_driver()  Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | indigodj_dsp.c | s | 4.0K | 120 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | mona_dsp.c | s | 10K | 349 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | indigo_express_dsp.c | s | 3.2K | 92 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | indigoio.c | s | 2.9K | 96 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | mia.c | s | 3.4K | 109 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | darla24.c | s | 3.1K | 96 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | echoaudio_dsp.c | s | 29K | 910 | Mark Hills | mark@pogo.org.uk | 1336301660 |  | ALSA: echoaudio: Remove incorrect part of assertion  This assertion seems to imply that chip->dsp_code_to_load is a pointer. It's actually an integer handle on the actual firmware, and 0 has no special meaning.  The assertion prevents initialisation of a Darla20 card, but would also affect other models. It seems it was introduced in commit dd7b254d.  ALSA sound/pci/echoaudio/echoaudio.c:2061 Echoaudio driver starting... ALSA sound/pci/echoaudio/echoaudio.c:1969 chip=ebe4e000 ALSA sound/pci/echoaudio/echoaudio.c:2007 pci=ed568000 irq=19 subdev=0010 Init hardware... ALSA sound/pci/echoaudio/darla20_dsp.c:36 init_hw() - Darla20 ------------[ cut here ]------------ WARNING: at sound/pci/echoaudio/echoaudio_dsp.c:478 init_hw+0x1d1/0x86c [snd_darla20]() Hardware name: Dell DM051 BUG? (!chip->dsp_code_to_load |||| !chip->comm_page)  Signed-off-by: Mark Hills <mark@pogo.org.uk> Cc: <stable@kernel.org> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | echo3g.c | s | 3.4K | 111 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | layla24.c | s | 3.6K | 115 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | gina24.c | s | 3.9K | 118 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | indigo_dsp.c | s | 3.9K | 120 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | darla20.c | s | 2.8K | 89 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | indigodj.c | s | 2.8K | 95 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | gina20.c | s | 2.9K | 93 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103879 |  | sound: fix drivers needing module.h not moduleparam.h  The implicit presence of module.h lured several users into incorrectly thinking that they only needed/used modparam.h but once we clean up the module.h presence, these will show up as build failures, so fix 'em now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | midi.c | s | 9.1K | 256 | Harvey Harrison | harvey.harrison@gmail.com | 1234394651 |  | ALSA: echoaudio - replace uses of __constant_{endian}  The base versions handle constant folding now.  Signed-off-by: Harvey Harrison <harvey.harrison@gmail.com> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | gina24_dsp.c | s | 9.1K | 281 | Giuliano Pochini | pochini@shiny.it | 1266226762 |  | ALSA: Echoaudio - Add suspend support #1  Move the controls init code outside the init_hw() function because is must not be called during resume.  This patch moves the code that initializes the card's controls with default valued from the init_hw() function into a separated set_mixer_defaults() function (one for each of the 16 supported cards). This change is necessary because during resume we must resurrect the hardware without losing the previous settings. set_mixer_defaults() must be called only once when the module is loaded.  Signed-off-by: Giuliano Pochini <pochini@shiny.it> Signed-off-by: Takashi Iwai <tiwai@suse.de>
