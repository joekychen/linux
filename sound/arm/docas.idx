f | pxa2xx-ac97.c | s | 6.3K | 211 | Rob Herring | rob.herring@calxeda.com | 1332704191 |  | ARM: pxa: use common IOMEM definition  pxa was missed in the moving of IOMEM to a common definition, so lots of IOMEM redefined warnings were introduced. So remove pxa IOMEM definition and fix all the fallout.  Reported-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Eric Miao <eric.y.miao@gmail.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Haojian Zhuang <haojian.zhuang@marvell.com> Cc: Alessandro Zummo <a.zummo@towertech.it> Cc: Jaroslav Kysela <perex@perex.cz> Cc: Takashi Iwai <tiwai@suse.de> Cc: rtc-linux@googlegroups.com Cc: alsa-devel@alsa-project.org
f | pxa2xx-pcm-lib.c | s | 7.3K | 241 | Vasily Khoruzhick | anarsoul@gmail.com | 1301824136 |  | ASoC: PXA: Fix oops in __pxa2xx_pcm_prepare  pxa2xx_pcm_hw_free frees dma channel and sets prtd->dma_ch to -1, but does not set prtd->params to NULL, so if pxa2xx_pcm_hw_params will be called immediately, it leaves prtd->dma_ch initialized with -1, and it results in oops in __pxa2xx_pcm_prepare. This bug is triggered via SDL.  This patch adds check for prtd->dma_ch to __pxa2xx_pcm_prepare and cleans prtd->params, so now it works properly.  Signed-off-by: Vasily Khoruzhick <anarsoul@gmail.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | Makefile | g | 423B |  | Takashi Iwai | tiwai@suse.de | 1259313324 |  | ALSA: Remove old DMA-mmap code from arm/devdma.c  The call of dma_mmap_coherent() is done in the PCM core now.  Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | pxa2xx-pcm.c | s | 3.1K | 107 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103881 |  | sound: Add module.h to the previously silent sound users  Lots of sound drivers were getting module.h via the implicit presence of it in <linux/device.h> but we are going to clean that up.  So fix up those users now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | pxa2xx-ac97-lib.c | s | 8.3K | 337 | Linus Torvalds | torvalds@linux-foundation.org | 1333069330 |  | 
f | aaci.h | s | 6.9K | 221 | Russell King | rmk+kernel@arm.linux.org.uk | 1296073492 |  | ALSA: AACI: make fifo variables more explanitory  Improve commenting and change fifo variable names to reflect their meanings.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | pxa2xx-pcm.h | s | 899B | 26 | Eric Miao | eric.miao@marvell.com | 1228200146 |  | [ARM] pxa: explicit #include <mach/dma.h> in various drivers  Where 'pxa_dma_desc' and 'pxa_{request,free}_dma' are referenced.  Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | Kconfig | g | 867B |  | Dmitry Artamonow | mad_soft@inbox.ru | 1237309093 |  | ALSA: drop outdated and broken sa11xx-uda1341 driver  It depends on L3 support from 2.4 kernel (CONFIG_L3) that never got merged into mainline. Since there's no way to use it on any of supported machines (iPaq h3100 or h3600), better drop it for now. It can be reimplemented later using ASoC infrastructure (there's already a driver for uda1341 codec in mainline, so only CPU and machine parts need to be written).  Signed-off-by: Dmitry Artamonow <mad_soft@inbox.ru> Cc: Russell King <linux@arm.linux.org.uk> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | aaci.c | s | 25K | 904 | viresh kumar | viresh.kumar@st.com | 1331940755 |  | ARM: 7362/1: AMBA: Add module_amba_driver() helper macro for amba_driver  For simple modules that contain a single amba_driver without any additional setup code then ends up being a block of duplicated boilerplate. This patch adds a new macro, module_amba_driver(), which replaces the module_init()/module_exit() registrations with template functions.  Signed-off-by: Viresh Kumar <viresh.kumar@st.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
