d | codecs |  | 9 items |  | Axel Lin | axel.lin@gmail.com | 1327673908 |  | ALSA: aoa: Convert onyx and tas codec drivers to module_i2c_driver  This patch converts onyx and tas codec drivers to use the module_i2c_driver() macro which makes the code smaller and a bit simpler.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | aoa-gpio.h | s | 2.4K | 71 | Johannes Berg | johannes@sipsolutions.net | 1232040517 |  | ALSA: snd-aoa: handle master-amp if present  Some machines have a master amp GPIO that needs to be toggled to get sound output, in addition to speaker/headphone/line-out amps. This makes snd-aoa handle it, if present in the device tree, thus making snd-aoa be able to output sound on PowerMac3,6, which was previously handled by snd-powermac which also doesn't use the master amp GPIO.  Signed-off-by: Johannes Berg <johannes@sipsolutions.net> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | aoa.h | s | 3.7K | 105 | Takashi Iwai | tiwai@suse.de | 1201796988 |  | [ALSA] Remove sound/driver.h  This header file exists only for some hacks to adapt alsa-driver tree.  It's useless for building in the kernel.  Let's move a few lines in it to sound/core.h and remove it. With this patch, sound/driver.h isn't removed but has just a single compile warning to include it.  This should be really killed in future.  Signed-off-by: Takashi Iwai <tiwai@suse.de> Signed-off-by: Jaroslav Kysela <perex@perex.cz>
f | Makefile | g | 142B |  | Benjamin Herrenschmidt | benh@kernel.crashing.org | 1152563059 |  | [PATCH] aoa: fix when all is built into the kernel  This patch fixes initialisation issues when all of aoa is built into the kernel by re-ordering the link order in the Makefile and making the soundbus use subsys_initcall so it is initialised earlier.  Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> Signed-off-by: Johannes Berg <johannes@sipsolutions.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
d | soundbus |  | 6 items |  | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103881 |  | sound: Add module.h to the previously silent sound users  Lots of sound drivers were getting module.h via the implicit presence of it in <linux/device.h> but we are going to clean that up.  So fix up those users now.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
d | fabrics |  | 3 items |  | Julia Lawall | julia@diku.dk | 1313825224 |  | ALSA: sound/aoa/fabrics/layout.c: remove unneeded kfree  The label outnodev is only used when kzalloc has not yet taken place or has failed, so there is no need for the call for kfree under this label.  A simplified version of the semantic match that finds this problem is as follows: (http://coccinelle.lip6.fr/)  // <smpl> @@ identifier x; expression E1!=0,E2,E3,E4; statement S; iterator I; @@  ( if (...) { ... when != kfree(x)                when != x = E3                when != E3 = x *  return ...;  } ... when != x = E2     when != I(...,x,...) S if (...) { ... when != x = E4  kfree(x); ... return ...; } ) // </smpl>  Signed-off-by: Julia Lawall <julia@diku.dk> Signed-off-by: Takashi Iwai <tiwai@suse.de>
d | core |  | 6 items |  | Tejun Heo | tj@kernel.org | 1292228564 |  | sound: don't use flush_scheduled_work()  flush_scheduled_work() is deprecated and scheduled to be removed.  * cancel[_delayed]_work() + flush_scheduled_work() ->   cancel[_delayed]_work_sync().  * wm8350, wm8753 and soc-core use custom code to cancel a delayed   work, execute it immediately if it was pending and wait for its   completion.  This is equivalent to flush_delayed_work_sync().  Use   it instead.  Signed-off-by: Tejun Heo <tj@kernel.org> Acked-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Takashi Iwai <tiwai@suse.de>
f | Kconfig | g | 329B |  | Takashi Iwai | tiwai@suse.de | 1211896580 |  | sound: Convert to menuconfig  Convert menu in sound Kconfig files to menuconfig and if.  Signed-off-by: Takashi Iwai <tiwai@suse.de>
