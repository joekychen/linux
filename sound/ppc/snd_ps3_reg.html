<!DOCTYPE html>
<html><head><title>joekychen/linux » sound › ppc › snd_ps3_reg.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>snd_ps3_reg.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Audio support for PS3</span>
<span class="cm"> * Copyright (C) 2007 Sony Computer Entertainment Inc.</span>
<span class="cm"> * Copyright 2006, 2007 Sony Corporation</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License</span>
<span class="cm"> * as published by the Free Software Foundation; version 2 of the License.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * interrupt / configure registers</span>
<span class="cm"> */</span>

<span class="cp">#define PS3_AUDIO_INTR_0                 (0x00000100)</span>
<span class="cp">#define PS3_AUDIO_INTR_EN_0              (0x00000140)</span>
<span class="cp">#define PS3_AUDIO_CONFIG                 (0x00000200)</span>

<span class="cm">/*</span>
<span class="cm"> * DMAC registers</span>
<span class="cm"> * n:0..9</span>
<span class="cm"> */</span>
<span class="cp">#define PS3_AUDIO_DMAC_REGBASE(x)         (0x0000210 + 0x20 * (x))</span>

<span class="cp">#define PS3_AUDIO_KICK(n)                 (PS3_AUDIO_DMAC_REGBASE(n) + 0x00)</span>
<span class="cp">#define PS3_AUDIO_SOURCE(n)               (PS3_AUDIO_DMAC_REGBASE(n) + 0x04)</span>
<span class="cp">#define PS3_AUDIO_DEST(n)                 (PS3_AUDIO_DMAC_REGBASE(n) + 0x08)</span>
<span class="cp">#define PS3_AUDIO_DMASIZE(n)              (PS3_AUDIO_DMAC_REGBASE(n) + 0x0C)</span>

<span class="cm">/*</span>
<span class="cm"> * mute control</span>
<span class="cm"> */</span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL                (0x00004000)</span>
<span class="cp">#define PS3_AUDIO_AX_ISBP                 (0x00004004)</span>
<span class="cp">#define PS3_AUDIO_AX_AOBP                 (0x00004008)</span>
<span class="cp">#define PS3_AUDIO_AX_IC                   (0x00004010)</span>
<span class="cp">#define PS3_AUDIO_AX_IE                   (0x00004014)</span>
<span class="cp">#define PS3_AUDIO_AX_IS                   (0x00004018)</span>

<span class="cm">/*</span>
<span class="cm"> * three wire serial</span>
<span class="cm"> * n:0..3</span>
<span class="cm"> */</span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL                (0x00006000)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL              (0x00006004)</span>

<span class="cp">#define PS3_AUDIO_AO_3WCTRL(n)            (0x00006200 + 0x200 * (n))</span>

<span class="cm">/*</span>
<span class="cm"> * S/PDIF</span>
<span class="cm"> * n:0..1</span>
<span class="cm"> * x:0..11</span>
<span class="cm"> * y:0..5</span>
<span class="cm"> */</span>
<span class="cp">#define PS3_AUDIO_AO_SPD_REGBASE(n)       (0x00007200 + 0x200 * (n))</span>

<span class="cp">#define PS3_AUDIO_AO_SPDCTRL(n) \</span>
<span class="cp">	(PS3_AUDIO_AO_SPD_REGBASE(n) + 0x00)</span>
<span class="cp">#define PS3_AUDIO_AO_SPDUB(n, x) \</span>
<span class="cp">	(PS3_AUDIO_AO_SPD_REGBASE(n) + 0x04 + 0x04 * (x))</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCS(n, y) \</span>
<span class="cp">	(PS3_AUDIO_AO_SPD_REGBASE(n) + 0x34 + 0x04 * (y))</span>


<span class="cm">/*</span>
<span class="cm">  PS3_AUDIO_INTR_0 register tells an interrupt handler which audio</span>
<span class="cm">  DMA channel triggered the interrupt.  The interrupt status for a channel</span>
<span class="cm">  can be cleared by writing a &#39;1&#39; to the corresponding bit.  A new interrupt</span>
<span class="cm">  cannot be generated until the previous interrupt has been cleared.</span>

<span class="cm">  Note that the status reported by PS3_AUDIO_INTR_0 is independent of the</span>
<span class="cm">  value of PS3_AUDIO_INTR_EN_0.</span>

<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0 0 0 0 0 0|C|0|C|0|C|0|C|0|C|0|C|0|C|0|C|0|C|0|C| INTR_0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN(n)	(1 &lt;&lt; ((n) * 2))</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN9     PS3_AUDIO_INTR_0_CHAN(9)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN8     PS3_AUDIO_INTR_0_CHAN(8)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN7     PS3_AUDIO_INTR_0_CHAN(7)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN6     PS3_AUDIO_INTR_0_CHAN(6)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN5     PS3_AUDIO_INTR_0_CHAN(5)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN4     PS3_AUDIO_INTR_0_CHAN(4)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN3     PS3_AUDIO_INTR_0_CHAN(3)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN2     PS3_AUDIO_INTR_0_CHAN(2)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN1     PS3_AUDIO_INTR_0_CHAN(1)</span>
<span class="cp">#define PS3_AUDIO_INTR_0_CHAN0     PS3_AUDIO_INTR_0_CHAN(0)</span>

<span class="cm">/*</span>
<span class="cm">  The PS3_AUDIO_INTR_EN_0 register specifies which DMA channels can generate</span>
<span class="cm">  an interrupt to the PU.  Each bit of PS3_AUDIO_INTR_EN_0 is ANDed with the</span>
<span class="cm">  corresponding bit in PS3_AUDIO_INTR_0.  The resulting bits are OR&#39;d together</span>
<span class="cm">  to generate the Audio interrupt.</span>

<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0 0 0 0 0 0|C|0|C|0|C|0|C|0|C|0|C|0|C|0|C|0|C|0|C| INTR_EN_0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>

<span class="cm">  Bit assignments are same as PS3_AUDIO_INTR_0</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">  PS3_AUDIO_CONFIG</span>
<span class="cm">  31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0|0 0 0 0 0 0 0 0|0 0 0 0 0 0 0 C|0 0 0 0 0 0 0 0| CONFIG</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>

<span class="cm">*/</span>

<span class="cm">/* The CLEAR field cancels all pending transfers, and stops any running DMA</span>
<span class="cm">   transfers.  Any interrupts associated with the canceled transfers</span>
<span class="cm">   will occur as if the transfer had finished.</span>
<span class="cm">   Since this bit is designed to recover from DMA related issues</span>
<span class="cm">   which are caused by unpredictable situations, it is preferred to wait</span>
<span class="cm">   for normal DMA transfer end without using this bit.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_CONFIG_CLEAR          (1 &lt;&lt; 8)  </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">  PS3_AUDIO_AX_MCTRL: Audio Port Mute Control Register</span>

<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0|A|A|A|0 0 0 0 0 0 0|S|S|A|A|A|A| AX_MCTRL</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>

<span class="cm">/* 3 Wire Audio Serial Output Channel Mutes (0..3)  */</span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_ASOMT(n)     (1 &lt;&lt; (3 - (n)))  </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_ASO3MT       (1 &lt;&lt; 0)          </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_ASO2MT       (1 &lt;&lt; 1)          </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_ASO1MT       (1 &lt;&lt; 2)          </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_ASO0MT       (1 &lt;&lt; 3)          </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* S/PDIF mutes (0,1)*/</span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_SPOMT(n)     (1 &lt;&lt; (5 - (n)))  </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_SPO1MT       (1 &lt;&lt; 4)          </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_SPO0MT       (1 &lt;&lt; 5)          </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* All 3 Wire Serial Outputs Mute */</span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_AASOMT       (1 &lt;&lt; 13)         </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* All S/PDIF Mute */</span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_ASPOMT       (1 &lt;&lt; 14)         </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* All Audio Outputs Mute */</span>
<span class="cp">#define PS3_AUDIO_AX_MCTRL_AAOMT        (1 &lt;&lt; 15)         </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">  S/PDIF Outputs Buffer Read/Write Pointer Register</span>

<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0|0|SPO0B|0|SPO1B|0 0 0 0 0 0 0 0|0|SPO0B|0|SPO1B| AX_ISBP</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>

<span class="cm">*/</span>
<span class="cm">/*</span>
<span class="cm"> S/PDIF Output Channel Read Buffer Numbers</span>
<span class="cm"> Buffer number is  value of field.</span>
<span class="cm"> Indicates current read access buffer ID from Audio Data</span>
<span class="cm"> Transfer controller of S/PDIF Output</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_AX_ISBP_SPOBRN_MASK(n) (0x7 &lt;&lt; 4 * (1 - (n))) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_ISBP_SPO1BRN_MASK		(0x7 &lt;&lt; 0) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_ISBP_SPO0BRN_MASK		(0x7 &lt;&lt; 4) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">S/PDIF Output Channel Buffer Write Numbers</span>
<span class="cm">Indicates current write access buffer ID from bus master.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AX_ISBP_SPOBWN_MASK(n) (0x7 &lt;&lt;  4 * (5 - (n))) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_ISBP_SPO1BWN_MASK		(0x7 &lt;&lt; 16) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_ISBP_SPO0BWN_MASK		(0x7 &lt;&lt; 20) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">  3 Wire Audio Serial Outputs Buffer Read/Write</span>
<span class="cm">  Pointer Register</span>
<span class="cm">  Buffer number is  value of field</span>

<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0|ASO0B|0|ASO1B|0|ASO2B|0|ASO3B|0|ASO0B|0|ASO1B|0|ASO2B|0|ASO3B| AX_AOBP</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">3 Wire Audio Serial Output Channel Buffer Read Numbers</span>
<span class="cm">Indicates current read access buffer Id from Audio Data Transfer</span>
<span class="cm">Controller of 3 Wire Audio Serial Output Channels</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASOBRN_MASK(n) (0x7 &lt;&lt; 4 * (3 - (n))) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>

<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO3BRN_MASK	(0x7 &lt;&lt; 0) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO2BRN_MASK	(0x7 &lt;&lt; 4) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO1BRN_MASK	(0x7 &lt;&lt; 8) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO0BRN_MASK	(0x7 &lt;&lt; 12) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">3 Wire Audio Serial Output Channel Buffer Write Numbers</span>
<span class="cm">Indicates current write access buffer ID from bus master.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASOBWN_MASK(n) (0x7 &lt;&lt; 4 * (7 - (n))) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>

<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO3BWN_MASK        (0x7 &lt;&lt; 16) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO2BWN_MASK        (0x7 &lt;&lt; 20) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO1BWN_MASK        (0x7 &lt;&lt; 24) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_AOBP_ASO0BWN_MASK        (0x7 &lt;&lt; 28) </span><span class="cm">/* R-IUF */</span><span class="cp"></span>



<span class="cm">/*</span>
<span class="cm">Audio Port Interrupt Condition Register</span>
<span class="cm">For the fields in this register, the following values apply:</span>
<span class="cm">0 = Interrupt is generated every interrupt event.</span>
<span class="cm">1 = Interrupt is generated every 2 interrupt events.</span>
<span class="cm">2 = Interrupt is generated every 4 interrupt events.</span>
<span class="cm">3 = Reserved</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0|0 0|SPO|0 0|SPO|0 0|AAS|0 0 0 0 0 0 0 0 0 0 0 0| AX_IC</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>
<span class="cm">/*</span>
<span class="cm">All 3-Wire Audio Serial Outputs Interrupt Mode</span>
<span class="cm">Configures the Interrupt and Signal Notification</span>
<span class="cm">condition of all 3-wire Audio Serial Outputs.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AX_IC_AASOIMD_MASK          (0x3 &lt;&lt; 12) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_AASOIMD_EVERY1        (0x0 &lt;&lt; 12) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_AASOIMD_EVERY2        (0x1 &lt;&lt; 12) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_AASOIMD_EVERY4        (0x2 &lt;&lt; 12) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">S/PDIF Output Channel Interrupt Modes</span>
<span class="cm">Configures the Interrupt and signal Notification</span>
<span class="cm">conditions of S/PDIF output channels.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AX_IC_SPO1IMD_MASK          (0x3 &lt;&lt; 16) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_SPO1IMD_EVERY1        (0x0 &lt;&lt; 16) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_SPO1IMD_EVERY2        (0x1 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_SPO1IMD_EVERY4        (0x2 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cp">#define PS3_AUDIO_AX_IC_SPO0IMD_MASK          (0x3 &lt;&lt; 20) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_SPO0IMD_EVERY1        (0x0 &lt;&lt; 20) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_SPO0IMD_EVERY2        (0x1 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IC_SPO0IMD_EVERY4        (0x2 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">Audio Port interrupt Enable Register</span>
<span class="cm">Configures whether to enable or disable each Interrupt Generation.</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0|S|S|0 0|A|A|A|A|0 0 0 0|S|S|0 0|S|S|0 0|A|A|A|A| AX_IE</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>

<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">3 Wire Audio Serial Output Channel Buffer Underflow</span>
<span class="cm">Interrupt Enables</span>
<span class="cm">Select enable/disable of Buffer Underflow Interrupts for</span>
<span class="cm">3-Wire Audio Serial Output Channels</span>
<span class="cm">DISABLED=Interrupt generation disabled.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASOBUIE(n)      (1 &lt;&lt; (3 - (n))) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO3BUIE        (1 &lt;&lt; 0) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO2BUIE        (1 &lt;&lt; 1) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO1BUIE        (1 &lt;&lt; 2) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO0BUIE        (1 &lt;&lt; 3) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* S/PDIF Output Channel Buffer Underflow Interrupt Enables */</span>

<span class="cp">#define PS3_AUDIO_AX_IE_SPOBUIE(n)      (1 &lt;&lt; (7 - (n))) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_SPO1BUIE        (1 &lt;&lt; 6) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_SPO0BUIE        (1 &lt;&lt; 7) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* S/PDIF Output Channel One Block Transfer Completion Interrupt Enables */</span>

<span class="cp">#define PS3_AUDIO_AX_IE_SPOBTCIE(n)     (1 &lt;&lt; (11 - (n))) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_SPO1BTCIE       (1 &lt;&lt; 10) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_SPO0BTCIE       (1 &lt;&lt; 11) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* 3-Wire Audio Serial Output Channel Buffer Empty Interrupt Enables */</span>

<span class="cp">#define PS3_AUDIO_AX_IE_ASOBEIE(n)      (1 &lt;&lt; (19 - (n))) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO3BEIE        (1 &lt;&lt; 16) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO2BEIE        (1 &lt;&lt; 17) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO1BEIE        (1 &lt;&lt; 18) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_ASO0BEIE        (1 &lt;&lt; 19) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/* S/PDIF Output Channel Buffer Empty Interrupt Enables */</span>

<span class="cp">#define PS3_AUDIO_AX_IE_SPOBEIE(n)      (1 &lt;&lt; (23 - (n))) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_SPO1BEIE        (1 &lt;&lt; 22) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AX_IE_SPO0BEIE        (1 &lt;&lt; 23) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">Audio Port Interrupt Status Register</span>
<span class="cm">Indicates Interrupt status, which interrupt has occurred, and can clear</span>
<span class="cm">each interrupt in this register.</span>
<span class="cm">Writing 1b to a field containing 1b clears field and de-asserts interrupt.</span>
<span class="cm">Writing 0b to a field has no effect.</span>
<span class="cm">Field vaules are the following:</span>
<span class="cm">0 - Interrupt hasn&#39;t occurred.</span>
<span class="cm">1 - Interrupt has occurred.</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0|S|S|0 0|A|A|A|A|0 0 0 0|S|S|0 0|S|S|0 0|A|A|A|A| AX_IS</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>

<span class="cm"> Bit assignment are same as AX_IE</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">Audio Output Master Control Register</span>
<span class="cm">Configures Master Clock and other master Audio Output Settings</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0|SCKSE|0|SCKSE|  MR0  |  MR1  |MCL|MCL|0 0 0 0|0 0 0 0 0 0 0 0| AO_MCTRL</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">MCLK Output Control</span>
<span class="cm">Controls mclko[1] output.</span>
<span class="cm">0 - Disable output (fixed at High)</span>
<span class="cm">1 - Output clock produced by clock selected</span>
<span class="cm">with scksel1 by mr1</span>
<span class="cm">2 - Reserved</span>
<span class="cm">3 - Reserved</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC1_MASK		(0x3 &lt;&lt; 12) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC1_DISABLED	(0x0 &lt;&lt; 12) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC1_ENABLED	(0x1 &lt;&lt; 12) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC1_RESVD2	(0x2 &lt;&lt; 12) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC1_RESVD3	(0x3 &lt;&lt; 12) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">MCLK Output Control</span>
<span class="cm">Controls mclko[0] output.</span>
<span class="cm">0 - Disable output (fixed at High)</span>
<span class="cm">1 - Output clock produced by clock selected</span>
<span class="cm">with SCKSEL0 by MR0</span>
<span class="cm">2 - Reserved</span>
<span class="cm">3 - Reserved</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC0_MASK		(0x3 &lt;&lt; 14) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC0_DISABLED	(0x0 &lt;&lt; 14) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC0_ENABLED	(0x1 &lt;&lt; 14) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC0_RESVD2	(0x2 &lt;&lt; 14) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MCLKC0_RESVD3	(0x3 &lt;&lt; 14) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Master Clock Rate 1</span>
<span class="cm">Sets the divide ration of Master Clock1 (clock output from</span>
<span class="cm">mclko[1] for the input clock selected by scksel1.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MR1_MASK	(0xf &lt;&lt; 16)</span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MR1_DEFAULT	(0x0 &lt;&lt; 16) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Master Clock Rate 0</span>
<span class="cm">Sets the divide ratio of Master Clock0 (clock output from</span>
<span class="cm">mclko[0] for the input clock selected by scksel0).</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MR0_MASK	(0xf &lt;&lt; 20) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_MR0_DEFAULT	(0x0 &lt;&lt; 20) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">System Clock Select 0/1</span>
<span class="cm">Selects the system clock to be used as Master Clock 0/1</span>
<span class="cm">Input the system clock that is appropriate for the sampling</span>
<span class="cm">rate.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_SCKSEL1_MASK		(0x7 &lt;&lt; 24) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_SCKSEL1_DEFAULT	(0x2 &lt;&lt; 24) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>

<span class="cp">#define PS3_AUDIO_AO_MCTRL_SCKSEL0_MASK		(0x7 &lt;&lt; 28) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_MCTRL_SCKSEL0_DEFAULT	(0x2 &lt;&lt; 28) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm">3-Wire Audio Output Master Control Register</span>
<span class="cm">Configures clock, 3-Wire Audio Serial Output Enable, and</span>
<span class="cm">other 3-Wire Audio Serial Output Master Settings</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |A|A|A|A|0 0 0|A| ASOSR |0 0 0 0|A|A|A|A|A|A|0|1|0 0 0 0 0 0 0 0| AO_3WMCTRL</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>


<span class="cm">/*</span>
<span class="cm">LRCKO Polarity</span>
<span class="cm">0 - Reserved</span>
<span class="cm">1 - default</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOPLRCK 		(1 &lt;&lt; 8) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOPLRCK_DEFAULT	(1 &lt;&lt; 8) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/* LRCK Output Disable */</span>

<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOLRCKD		(1 &lt;&lt; 10) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOLRCKD_ENABLED	(0 &lt;&lt; 10) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOLRCKD_DISABLED	(1 &lt;&lt; 10) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>

<span class="cm">/* Bit Clock Output Disable */</span>

<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOBCLKD		(1 &lt;&lt; 11) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOBCLKD_ENABLED	(0 &lt;&lt; 11) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOBCLKD_DISABLED	(1 &lt;&lt; 11) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">3-Wire Audio Serial Output Channel 0-3 Operational</span>
<span class="cm">Status.  Each bit becomes 1 after each 3-Wire Audio</span>
<span class="cm">Serial Output Channel N is in action by setting 1 to</span>
<span class="cm">asoen.</span>
<span class="cm">Each bit becomes 0 after each 3-Wire Audio Serial Output</span>
<span class="cm">Channel N is out of action by setting 0 to asoen.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN(n)		(1 &lt;&lt; (15 - (n))) </span><span class="cm">/* R-IVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN_STOPPED(n)	(0 &lt;&lt; (15 - (n))) </span><span class="cm">/* R-I-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN_RUNNING(n)	(1 &lt;&lt; (15 - (n))) </span><span class="cm">/* R---V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN0		\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN(0)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN0_STOPPED	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_STOPPED(0)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN0_RUNNING	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_RUNNING(0)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN1		\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN(1)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN1_STOPPED	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_STOPPED(1)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN1_RUNNING	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_RUNNING(1)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN2		\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN(2)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN2_STOPPED	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_STOPPED(2)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN2_RUNNING	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_RUNNING(2)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN3		\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN(3)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN3_STOPPED	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_STOPPED(3)</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASORUN3_RUNNING	\</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASORUN_RUNNING(3)</span>

<span class="cm">/*</span>
<span class="cm">Sampling Rate</span>
<span class="cm">Specifies the divide ratio of the bit clock (clock output</span>
<span class="cm">from bclko) used by the 3-wire Audio Output Clock, which</span>
<span class="cm">is applied to the master clock selected by mcksel.</span>
<span class="cm">Data output is synchronized with this clock.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOSR_MASK		(0xf &lt;&lt; 20) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOSR_DIV2		(0x1 &lt;&lt; 20) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOSR_DIV4		(0x2 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOSR_DIV8		(0x4 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOSR_DIV12	(0x6 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">Master Clock Select</span>
<span class="cm">0 - Master Clock 0</span>
<span class="cm">1 - Master Clock 1</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOMCKSEL		(1 &lt;&lt; 24) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOMCKSEL_CLK0	(0 &lt;&lt; 24) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOMCKSEL_CLK1	(1 &lt;&lt; 24) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">Enables and disables 4ch 3-Wire Audio Serial Output</span>
<span class="cm">operation.  Each Bit from 0 to 3 corresponds to an</span>
<span class="cm">output channel, which means that each output channel</span>
<span class="cm">can be enabled or disabled individually.  When</span>
<span class="cm">multiple channels are enabled at the same time, output</span>
<span class="cm">operations are performed in synchronization.</span>
<span class="cm">Bit 0 - Output Channel 0 (SDOUT[0])</span>
<span class="cm">Bit 1 - Output Channel 1 (SDOUT[1])</span>
<span class="cm">Bit 2 - Output Channel 2 (SDOUT[2])</span>
<span class="cm">Bit 3 - Output Channel 3 (SDOUT[3])</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOEN(n)		(1 &lt;&lt; (31 - (n))) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOEN_DISABLED(n)	(0 &lt;&lt; (31 - (n))) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOEN_ENABLED(n)	(1 &lt;&lt; (31 - (n))) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOEN0 \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN(0) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOEN0_DISABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_DISABLED(0) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WMCTRL_ASOEN0_ENABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_ENABLED(0) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A1_3WMCTRL_ASOEN0 \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN(1) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A1_3WMCTRL_ASOEN0_DISABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_DISABLED(1) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A1_3WMCTRL_ASOEN0_ENABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_ENABLED(1) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A2_3WMCTRL_ASOEN0 \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN(2) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A2_3WMCTRL_ASOEN0_DISABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_DISABLED(2) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A2_3WMCTRL_ASOEN0_ENABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_ENABLED(2) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A3_3WMCTRL_ASOEN0 \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN(3) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A3_3WMCTRL_ASOEN0_DISABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_DISABLED(3) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_A3_3WMCTRL_ASOEN0_ENABLED \</span>
<span class="cp">	PS3_AUDIO_AO_3WMCTRL_ASOEN_ENABLED(3) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">3-Wire Audio Serial output Channel 0-3 Control Register</span>
<span class="cm">Configures settings for 3-Wire Serial Audio Output Channel 0-3</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0 0 0 0 0 0 0 0|A|0 0 0 0|A|0|ASO|0 0 0|0|0|0|0|0| AO_3WCTRL</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>

<span class="cm">*/</span>
<span class="cm">/*</span>
<span class="cm">Data Bit Mode</span>
<span class="cm">Specifies the number of data bits</span>
<span class="cm">0 - 16 bits</span>
<span class="cm">1 - reserved</span>
<span class="cm">2 - 20 bits</span>
<span class="cm">3 - 24 bits</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODB_MASK	(0x3 &lt;&lt; 8) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODB_16BIT	(0x0 &lt;&lt; 8) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODB_RESVD	(0x1 &lt;&lt; 8) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODB_20BIT	(0x2 &lt;&lt; 8) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODB_24BIT	(0x3 &lt;&lt; 8) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Data Format Mode</span>
<span class="cm">Specifies the data format where (LSB side or MSB) the data(in 20 bit</span>
<span class="cm">or 24 bit resolution mode) is put in a 32 bit field.</span>
<span class="cm">0 - Data put on LSB side</span>
<span class="cm">1 - Data put on MSB side</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODF 	(1 &lt;&lt; 11) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODF_LSB	(0 &lt;&lt; 11) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASODF_MSB	(1 &lt;&lt; 11) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Buffer Reset</span>
<span class="cm">Performs buffer reset.  Writing 1 to this bit initializes the</span>
<span class="cm">corresponding 3-Wire Audio Output buffers(both L and R).</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASOBRST 		(1 &lt;&lt; 16) </span><span class="cm">/* CWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASOBRST_IDLE	(0 &lt;&lt; 16) </span><span class="cm">/* -WI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_3WCTRL_ASOBRST_RESET	(1 &lt;&lt; 16) </span><span class="cm">/* -W--T */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">S/PDIF Audio Output Channel 0/1 Control Register</span>
<span class="cm">Configures settings for S/PDIF Audio Output Channel 0/1.</span>

<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |S|0 0 0|S|0 0|S| SPOSR |0 0|SPO|0 0 0 0|S|0|SPO|0 0 0 0 0 0 0|S| AO_SPDCTRL</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>
<span class="cm">/*</span>
<span class="cm">Buffer reset.  Writing 1 to this bit initializes the</span>
<span class="cm">corresponding S/PDIF output buffer pointer.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOBRST		(1 &lt;&lt; 0) </span><span class="cm">/* CWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOBRST_IDLE	(0 &lt;&lt; 0) </span><span class="cm">/* -WI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOBRST_RESET	(1 &lt;&lt; 0) </span><span class="cm">/* -W--T */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">Data Bit Mode</span>
<span class="cm">Specifies number of data bits</span>
<span class="cm">0 - 16 bits</span>
<span class="cm">1 - Reserved</span>
<span class="cm">2 - 20 bits</span>
<span class="cm">3 - 24 bits</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODB_MASK		(0x3 &lt;&lt; 8) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODB_16BIT	(0x0 &lt;&lt; 8) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODB_RESVD	(0x1 &lt;&lt; 8) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODB_20BIT	(0x2 &lt;&lt; 8) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODB_24BIT	(0x3 &lt;&lt; 8) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Data format Mode</span>
<span class="cm">Specifies the data format, where (LSB side or MSB)</span>
<span class="cm">the data(in 20 or 24 bit resolution) is put in the</span>
<span class="cm">32 bit field.</span>
<span class="cm">0 - LSB Side</span>
<span class="cm">1 - MSB Side</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODF	(1 &lt;&lt; 11) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODF_LSB	(0 &lt;&lt; 11) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPODF_MSB	(1 &lt;&lt; 11) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Source Select</span>
<span class="cm">Specifies the source of the S/PDIF output.  When 0, output</span>
<span class="cm">operation is controlled by 3wen[0] of AO_3WMCTRL register.</span>
<span class="cm">The SR must have the same setting as the a0_3wmctrl reg.</span>
<span class="cm">0 - 3-Wire Audio OUT Ch0 Buffer</span>
<span class="cm">1 - S/PDIF buffer</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSS_MASK		(0x3 &lt;&lt; 16) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSS_3WEN		(0x0 &lt;&lt; 16) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSS_SPDIF	(0x1 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Sampling Rate</span>
<span class="cm">Specifies the divide ratio of the bit clock (clock output</span>
<span class="cm">from bclko) used by the S/PDIF Output Clock, which</span>
<span class="cm">is applied to the master clock selected by mcksel.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSR		(0xf &lt;&lt; 20) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSR_DIV2		(0x1 &lt;&lt; 20) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSR_DIV4		(0x2 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSR_DIV8		(0x4 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOSR_DIV12	(0x6 &lt;&lt; 20) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cm">/*</span>
<span class="cm">Master Clock Select</span>
<span class="cm">0 - Master Clock 0</span>
<span class="cm">1 - Master Clock 1</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOMCKSEL		(1 &lt;&lt; 24) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOMCKSEL_CLK0	(0 &lt;&lt; 24) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOMCKSEL_CLK1	(1 &lt;&lt; 24) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">S/PDIF Output Channel Operational Status</span>
<span class="cm">This bit becomes 1 after S/PDIF Output Channel is in</span>
<span class="cm">action by setting 1 to spoen.  This bit becomes 0</span>
<span class="cm">after S/PDIF Output Channel is out of action by setting</span>
<span class="cm">0 to spoen.</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPORUN		(1 &lt;&lt; 27) </span><span class="cm">/* R-IVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPORUN_STOPPED	(0 &lt;&lt; 27) </span><span class="cm">/* R-I-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPORUN_RUNNING	(1 &lt;&lt; 27) </span><span class="cm">/* R---V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">S/PDIF Audio Output Channel Output Enable</span>
<span class="cm">Enables and disables output operation.  This bit is used</span>
<span class="cm">only when sposs = 1</span>
<span class="cm">*/</span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOEN		(1 &lt;&lt; 31) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOEN_DISABLED	(0 &lt;&lt; 31) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_AO_SPDCTRL_SPOEN_ENABLED	(1 &lt;&lt; 31) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">S/PDIF Audio Output Channel Channel Status</span>
<span class="cm">Setting Registers.</span>
<span class="cm">Configures channel status bit settings for each block</span>
<span class="cm">(192 bits).</span>
<span class="cm">Output is performed from the MSB(AO_SPDCS0 register bit 31).</span>
<span class="cm">The same value is added for subframes within the same frame.</span>
<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |                             SPOCS                             | AO_SPDCS</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>

<span class="cm">S/PDIF Audio Output Channel User Bit Setting</span>
<span class="cm">Configures user bit settings for each block (384 bits).</span>
<span class="cm">Output is performed from the MSB(ao_spdub0 register bit 31).</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |                             SPOUB                             | AO_SPDUB</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>
<span class="cm">/*****************************************************************************</span>
<span class="cm"> *</span>
<span class="cm"> * DMAC register</span>
<span class="cm"> *</span>
<span class="cm"> *****************************************************************************/</span>
<span class="cm">/*</span>
<span class="cm">The PS3_AUDIO_KICK register is used to initiate a DMA transfer and monitor</span>
<span class="cm">its status</span>

<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0|STATU|0 0 0|  EVENT  |0 0 0 0 0 0 0 0 0 0 0 0 0 0 0|R| KICK</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>
<span class="cm">/*</span>
<span class="cm">The REQUEST field is written to ACTIVE to initiate a DMA request when EVENT</span>
<span class="cm">occurs.</span>
<span class="cm">It will return to the DONE state when the request is completed.</span>
<span class="cm">The registers for a DMA channel should only be written if REQUEST is IDLE.</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_KICK_REQUEST                (1 &lt;&lt; 0) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_REQUEST_IDLE           (0 &lt;&lt; 0) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_REQUEST_ACTIVE         (1 &lt;&lt; 0) </span><span class="cm">/* -W--T */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *The EVENT field is used to set the event in which</span>
<span class="cm"> *the DMA request becomes active.</span>
<span class="cm"> */</span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_MASK             (0x1f &lt;&lt; 16) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_ALWAYS           (0x00 &lt;&lt; 16) </span><span class="cm">/* RWI-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT0_EMPTY (0x01 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT0_UNDERFLOW	(0x02 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT1_EMPTY		(0x03 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT1_UNDERFLOW	(0x04 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT2_EMPTY		(0x05 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT2_UNDERFLOW	(0x06 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT3_EMPTY		(0x07 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SERIALOUT3_UNDERFLOW	(0x08 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SPDIF0_BLOCKTRANSFERCOMPLETE \</span>
<span class="cp">	(0x09 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SPDIF0_UNDERFLOW		(0x0A &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SPDIF0_EMPTY		(0x0B &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SPDIF1_BLOCKTRANSFERCOMPLETE \</span>
<span class="cp">	(0x0C &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SPDIF1_UNDERFLOW		(0x0D &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_SPDIF1_EMPTY		(0x0E &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA(n) \</span>
<span class="cp">	((0x13 + (n)) &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA0         (0x13 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA1         (0x14 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA2         (0x15 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA3         (0x16 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA4         (0x17 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA5         (0x18 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA6         (0x19 &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA7         (0x1A &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA8         (0x1B &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_EVENT_AUDIO_DMA9         (0x1C &lt;&lt; 16) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">The STATUS field can be used to monitor the progress of a DMA request.</span>
<span class="cm">DONE indicates the previous request has completed.</span>
<span class="cm">EVENT indicates that the DMA engine is waiting for the EVENT to occur.</span>
<span class="cm">PENDING indicates that the DMA engine has not started processing this</span>
<span class="cm">request, but the EVENT has occurred.</span>
<span class="cm">DMA indicates that the data transfer is in progress.</span>
<span class="cm">NOTIFY indicates that the notifier signalling end of transfer is being written.</span>
<span class="cm">CLEAR indicated that the previous transfer was cleared.</span>
<span class="cm">ERROR indicates the previous transfer requested an unsupported</span>
<span class="cm">source/destination combination.</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_KICK_STATUS_MASK	(0x7 &lt;&lt; 24) </span><span class="cm">/* R-IVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_STATUS_DONE	(0x0 &lt;&lt; 24) </span><span class="cm">/* R-I-V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_STATUS_EVENT	(0x1 &lt;&lt; 24) </span><span class="cm">/* R---V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_STATUS_PENDING	(0x2 &lt;&lt; 24) </span><span class="cm">/* R---V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_STATUS_DMA	(0x3 &lt;&lt; 24) </span><span class="cm">/* R---V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_STATUS_NOTIFY	(0x4 &lt;&lt; 24) </span><span class="cm">/* R---V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_STATUS_CLEAR	(0x5 &lt;&lt; 24) </span><span class="cm">/* R---V */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_KICK_STATUS_ERROR	(0x6 &lt;&lt; 24) </span><span class="cm">/* R---V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">The PS3_AUDIO_SOURCE register specifies the source address for transfers.</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |                      START                      |0 0 0 0 0|TAR| SOURCE</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">The Audio DMA engine uses 128-byte transfers, thus the address must be aligned</span>
<span class="cm">to a 128 byte boundary.  The low seven bits are assumed to be 0.</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_SOURCE_START_MASK	(0x01FFFFFF &lt;&lt; 7) </span><span class="cm">/* RWIUF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">The TARGET field specifies the memory space containing the source address.</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_SOURCE_TARGET_MASK 		(3 &lt;&lt; 0) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_SOURCE_TARGET_SYSTEM_MEMORY	(2 &lt;&lt; 0) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">The PS3_AUDIO_DEST register specifies the destination address for transfers.</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |                      START                      |0 0 0 0 0|TAR| DEST</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>

<span class="cm">/*</span>
<span class="cm">The Audio DMA engine uses 128-byte transfers, thus the address must be aligned</span>
<span class="cm">to a 128 byte boundary.  The low seven bits are assumed to be 0.</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_DEST_START_MASK	(0x01FFFFFF &lt;&lt; 7) </span><span class="cm">/* RWIUF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">The TARGET field specifies the memory space containing the destination address</span>
<span class="cm">AUDIOFIFO = Audio WriteData FIFO,</span>
<span class="cm">*/</span>

<span class="cp">#define PS3_AUDIO_DEST_TARGET_MASK		(3 &lt;&lt; 0) </span><span class="cm">/* RWIVF */</span><span class="cp"></span>
<span class="cp">#define PS3_AUDIO_DEST_TARGET_AUDIOFIFO		(1 &lt;&lt; 0) </span><span class="cm">/* RW--V */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm">PS3_AUDIO_DMASIZE specifies the number of 128-byte blocks + 1 to transfer.</span>
<span class="cm">So a value of 0 means 128-bytes will get transferred.</span>


<span class="cm"> 31            24 23           16 15            8 7             0</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm"> |0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0|   BLOCKS    | DMASIZE</span>
<span class="cm"> +-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-|-+-+-+-+-+-+-+-+</span>
<span class="cm">*/</span>


<span class="cp">#define PS3_AUDIO_DMASIZE_BLOCKS_MASK 	(0x7f &lt;&lt; 0) </span><span class="cm">/* RWIUF */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * source/destination address for internal fifos</span>
<span class="cm"> */</span>
<span class="cp">#define PS3_AUDIO_AO_3W_LDATA(n)	(0x1000 + (0x100 * (n)))</span>
<span class="cp">#define PS3_AUDIO_AO_3W_RDATA(n)	(0x1080 + (0x100 * (n)))</span>

<span class="cp">#define PS3_AUDIO_AO_SPD_DATA(n)	(0x2000 + (0x400 * (n)))</span>


<span class="cm">/*</span>
<span class="cm"> * field attiribute</span>
<span class="cm"> *</span>
<span class="cm"> *	Read</span>
<span class="cm"> *	  &#39; &#39; = Other Information</span>
<span class="cm"> *	  &#39;-&#39; = Field is part of a write-only register</span>
<span class="cm"> *	  &#39;C&#39; = Value read is always the same, constant value line follows (C)</span>
<span class="cm"> *	  &#39;R&#39; = Value is read</span>
<span class="cm"> *</span>
<span class="cm"> *	Write</span>
<span class="cm"> *	  &#39; &#39; = Other Information</span>
<span class="cm"> *	  &#39;-&#39; = Must not be written (D), value ignored when written (R,A,F)</span>
<span class="cm"> *	  &#39;W&#39; = Can be written</span>
<span class="cm"> *</span>
<span class="cm"> *	Internal State</span>
<span class="cm"> *	  &#39; &#39; = Other Information</span>
<span class="cm"> *	  &#39;-&#39; = No internal state</span>
<span class="cm"> *	  &#39;X&#39; = Internal state, initial value is unknown</span>
<span class="cm"> *	  &#39;I&#39; = Internal state, initial value is known and follows (I)</span>
<span class="cm"> *</span>
<span class="cm"> *	Declaration/Size</span>
<span class="cm"> *	  &#39; &#39; = Other Information</span>
<span class="cm"> *	  &#39;-&#39; = Does Not Apply</span>
<span class="cm"> *	  &#39;V&#39; = Type is void</span>
<span class="cm"> *	  &#39;U&#39; = Type is unsigned integer</span>
<span class="cm"> *	  &#39;S&#39; = Type is signed integer</span>
<span class="cm"> *	  &#39;F&#39; = Type is IEEE floating point</span>
<span class="cm"> *	  &#39;1&#39; = Byte size (008)</span>
<span class="cm"> *	  &#39;2&#39; = Short size (016)</span>
<span class="cm"> *	  &#39;3&#39; = Three byte size (024)</span>
<span class="cm"> *	  &#39;4&#39; = Word size (032)</span>
<span class="cm"> *	  &#39;8&#39; = Double size (064)</span>
<span class="cm"> *</span>
<span class="cm"> *	Define Indicator</span>
<span class="cm"> *	  &#39; &#39; = Other Information</span>
<span class="cm"> *	  &#39;D&#39; = Device</span>
<span class="cm"> *	  &#39;M&#39; = Memory</span>
<span class="cm"> *	  &#39;R&#39; = Register</span>
<span class="cm"> *	  &#39;A&#39; = Array of Registers</span>
<span class="cm"> *	  &#39;F&#39; = Field</span>
<span class="cm"> *	  &#39;V&#39; = Value</span>
<span class="cm"> *	  &#39;T&#39; = Task</span>
<span class="cm"> */</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
