<!DOCTYPE html>
<html><head><title>joekychen/linux » sound › usb › mixer_maps.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>mixer_maps.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *   Additional mixer mapping</span>
<span class="cm"> *</span>
<span class="cm"> *   Copyright (c) 2002 by Takashi Iwai &lt;tiwai@suse.de&gt;</span>
<span class="cm"> *</span>
<span class="cm"> *   This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> *   it under the terms of the GNU General Public License as published by</span>
<span class="cm"> *   the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> *   (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> *   This program is distributed in the hope that it will be useful,</span>
<span class="cm"> *   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> *   GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> *   You should have received a copy of the GNU General Public License</span>
<span class="cm"> *   along with this program; if not, write to the Free Software</span>
<span class="cm"> *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">usbmix_dB_map</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">min</span><span class="p">;</span>
	<span class="n">u32</span> <span class="n">max</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">id</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">control</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">usbmix_dB_map</span> <span class="o">*</span><span class="n">dB</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">usbmix_selector_map</span> <span class="p">{</span>
	<span class="kt">int</span> <span class="n">id</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">count</span><span class="p">;</span>
	<span class="k">const</span> <span class="kt">char</span> <span class="o">**</span><span class="n">names</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">usbmix_ctl_map</span> <span class="p">{</span>
	<span class="n">u32</span> <span class="n">id</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="o">*</span><span class="n">map</span><span class="p">;</span>
	<span class="k">const</span> <span class="k">struct</span> <span class="n">usbmix_selector_map</span> <span class="o">*</span><span class="n">selector_map</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ignore_ctl_error</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * USB control mappers for SB Exitigy</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Topology of SB Extigy (see on the wide screen :)</span>

<span class="cm">USB_IN[1] ---&gt;FU[2]------------------------------+-&gt;MU[16]--&gt;PU[17]-+-&gt;FU[18]--+-&gt;EU[27]--+-&gt;EU[21]--&gt;FU[22]--+-&gt;FU[23] &gt; Dig_OUT[24]</span>
<span class="cm">                                                 ^                  |          |          |                   |</span>
<span class="cm">USB_IN[3] -+-&gt;SU[5]--&gt;FU[6]--+-&gt;MU[14] -&gt;PU[15]-&gt;+                  |          |          |                   +-&gt;FU[25] &gt; Dig_OUT[26]</span>
<span class="cm">           ^                 ^                   |                  |          |          |</span>
<span class="cm">Dig_IN[4] -+                 |                   |                  |          |          +-&gt;FU[28]---------------------&gt; Spk_OUT[19]</span>
<span class="cm">                             |                   |                  |          |</span>
<span class="cm">Lin-IN[7] -+--&gt;FU[8]---------+                   |                  |          +----------------------------------------&gt; Hph_OUT[20]</span>
<span class="cm">           |                                     |                  |</span>
<span class="cm">Mic-IN[9] --+-&gt;FU[10]----------------------------+                  |</span>
<span class="cm">           ||                                                       |</span>
<span class="cm">           ||  +----------------------------------------------------+</span>
<span class="cm">           VV  V</span>
<span class="cm">           ++--+-&gt;SU[11]--&gt;FU[12] --------------------------------------------------------------------------------------&gt; USB_OUT[13]</span>
<span class="cm">*/</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">extigy_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT pcm */</span>
	<span class="p">{</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&quot;PCM Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 3: IT pcm */</span>
	<span class="cm">/* 4: IT digital in */</span>
	<span class="p">{</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* DISABLED: this seems to be bogus on some firmware */</span>
	<span class="p">{</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;Digital In&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 7: IT line */</span>
	<span class="p">{</span> <span class="mi">8</span><span class="p">,</span> <span class="s">&quot;Line Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 9: IT mic */</span>
	<span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&quot;Mic Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;Capture Source&quot;</span> <span class="p">},</span> <span class="cm">/* SU */</span>
	<span class="p">{</span> <span class="mi">12</span><span class="p">,</span> <span class="s">&quot;Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 13: OT pcm capture */</span>
	<span class="cm">/* 14: MU (w/o controls) */</span>
	<span class="cm">/* 15: PU (3D enh) */</span>
	<span class="cm">/* 16: MU (w/o controls) */</span>
	<span class="p">{</span> <span class="mi">17</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">1</span> <span class="p">},</span> <span class="cm">/* DISABLED: PU-switch (any effect?) */</span>
	<span class="p">{</span> <span class="mi">17</span><span class="p">,</span> <span class="s">&quot;Channel Routing&quot;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">},</span>	<span class="cm">/* PU: mode select */</span>
	<span class="p">{</span> <span class="mi">18</span><span class="p">,</span> <span class="s">&quot;Tone Control - Bass&quot;</span><span class="p">,</span> <span class="n">UAC_FU_BASS</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">18</span><span class="p">,</span> <span class="s">&quot;Tone Control - Treble&quot;</span><span class="p">,</span> <span class="n">UAC_FU_TREBLE</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">18</span><span class="p">,</span> <span class="s">&quot;Master Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU; others */</span>
	<span class="cm">/* 19: OT speaker */</span>
	<span class="cm">/* 20: OT headphone */</span>
	<span class="p">{</span> <span class="mi">21</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* DISABLED: EU (for what?) */</span>
	<span class="p">{</span> <span class="mi">22</span><span class="p">,</span> <span class="s">&quot;Digital Out Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">23</span><span class="p">,</span> <span class="s">&quot;Digital Out1 Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>  <span class="cm">/* FIXME: corresponds to 24 */</span>
	<span class="cm">/* 24: OT digital out */</span>
	<span class="p">{</span> <span class="mi">25</span><span class="p">,</span> <span class="s">&quot;IEC958 Optical Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">26</span><span class="p">,</span> <span class="s">&quot;IEC958 Optical Playback&quot;</span> <span class="p">},</span> <span class="cm">/* OT */</span>
	<span class="p">{</span> <span class="mi">27</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* DISABLED: EU (for what?) */</span>
	<span class="cm">/* 28: FU speaker (mute) */</span>
	<span class="p">{</span> <span class="mi">29</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* Digital Input Playback Source? */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="cm">/* Sound Blaster MP3+ controls mapping</span>
<span class="cm"> * The default mixer channels have totally misleading names,</span>
<span class="cm"> * e.g. no Master and fake PCM volume</span>
<span class="cm"> *			Pavel Mihaylov &lt;bin@bash.info&gt;</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_dB_map</span> <span class="n">mp3plus_dB_1</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">4781</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>	<span class="cm">/* just guess */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_dB_map</span> <span class="n">mp3plus_dB_2</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1781</span><span class="p">,</span> <span class="mi">618</span><span class="p">};</span> <span class="cm">/* just guess */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">mp3plus_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT pcm */</span>
	<span class="cm">/* 2: IT mic */</span>
	<span class="cm">/* 3: IT line */</span>
	<span class="cm">/* 4: IT digital in */</span>
	<span class="cm">/* 5: OT digital out */</span>
	<span class="cm">/* 6: OT speaker */</span>
	<span class="cm">/* 7: OT pcm capture */</span>
	<span class="p">{</span> <span class="mi">8</span><span class="p">,</span> <span class="s">&quot;Capture Source&quot;</span> <span class="p">},</span> <span class="cm">/* FU, default PCM Capture Source */</span>
		<span class="cm">/* (Mic, Input 1 = Line input, Input 2 = Optical input) */</span>
	<span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="s">&quot;Master Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU, default Speaker 1 */</span>
	<span class="cm">/* { 10, &quot;Mic Capture&quot;, 1 }, */</span> <span class="cm">/* FU, Mic Capture */</span>
	<span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="cm">/* &quot;Mic Capture&quot;, */</span> <span class="nb">NULL</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">.</span><span class="n">dB</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">mp3plus_dB_2</span> <span class="p">},</span>
		<span class="cm">/* FU, Mic Capture */</span>
	<span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&quot;Mic Boost&quot;</span><span class="p">,</span> <span class="mi">7</span> <span class="p">},</span> <span class="cm">/* FU, default Auto Gain Input */</span>
	<span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;Line Capture&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dB</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">mp3plus_dB_2</span> <span class="p">},</span>
		<span class="cm">/* FU, default PCM Capture */</span>
	<span class="p">{</span> <span class="mi">12</span><span class="p">,</span> <span class="s">&quot;Digital In Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU, default PCM 1 */</span>
	<span class="p">{</span> <span class="mi">13</span><span class="p">,</span> <span class="cm">/* &quot;Mic Playback&quot;, */</span> <span class="p">.</span><span class="n">dB</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">mp3plus_dB_1</span> <span class="p">},</span>
		<span class="cm">/* FU, default Mic Playback */</span>
	<span class="p">{</span> <span class="mi">14</span><span class="p">,</span> <span class="s">&quot;Line Playback&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dB</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">mp3plus_dB_1</span> <span class="p">},</span> <span class="cm">/* FU, default Speaker */</span>
	<span class="cm">/* 15: MU */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="cm">/* Topology of SB Audigy 2 NX</span>

<span class="cm">          +-----------------------------&gt;EU[27]--+</span>
<span class="cm">          |                                      v</span>
<span class="cm">          | +-----------------------------------&gt;SU[29]----&gt;FU[22]--&gt;Dig_OUT[24]</span>
<span class="cm">          | |                                    ^</span>
<span class="cm">USB_IN[1]-+------------+              +-&gt;EU[17]-&gt;+-&gt;FU[11]-+</span>
<span class="cm">            |          v              |          v         |</span>
<span class="cm">Dig_IN[4]---+-&gt;FU[6]--&gt;MU[16]-&gt;FU[18]-+-&gt;EU[21]-&gt;SU[31]-----&gt;FU[30]-&gt;Hph_OUT[20]</span>
<span class="cm">            |          ^              |                    |</span>
<span class="cm">Lin_IN[7]-+---&gt;FU[8]---+              +-&gt;EU[23]-&gt;FU[28]-------------&gt;Spk_OUT[19]</span>
<span class="cm">          | |                                              v</span>
<span class="cm">          +---&gt;FU[12]-------------------------------------&gt;SU[14]---&gt;USB_OUT[15]</span>
<span class="cm">            |                                              ^</span>
<span class="cm">            +-&gt;FU[13]--------------------------------------+</span>
<span class="cm">*/</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">audigy2nx_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT pcm playback */</span>
	<span class="cm">/* 4: IT digital in */</span>
	<span class="p">{</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;Digital In Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 7: IT line in */</span>
	<span class="p">{</span> <span class="mi">8</span><span class="p">,</span> <span class="s">&quot;Line Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;What-U-Hear Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">12</span><span class="p">,</span> <span class="s">&quot;Line Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">13</span><span class="p">,</span> <span class="s">&quot;Digital In Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">14</span><span class="p">,</span> <span class="s">&quot;Capture Source&quot;</span> <span class="p">},</span> <span class="cm">/* SU */</span>
	<span class="cm">/* 15: OT pcm capture */</span>
	<span class="cm">/* 16: MU w/o controls */</span>
	<span class="p">{</span> <span class="mi">17</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* DISABLED: EU (for what?) */</span>
	<span class="p">{</span> <span class="mi">18</span><span class="p">,</span> <span class="s">&quot;Master Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 19: OT speaker */</span>
	<span class="cm">/* 20: OT headphone */</span>
	<span class="p">{</span> <span class="mi">21</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* DISABLED: EU (for what?) */</span>
	<span class="p">{</span> <span class="mi">22</span><span class="p">,</span> <span class="s">&quot;Digital Out Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">23</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* DISABLED: EU (for what?) */</span>
	<span class="cm">/* 24: OT digital out */</span>
	<span class="p">{</span> <span class="mi">27</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* DISABLED: EU (for what?) */</span>
	<span class="p">{</span> <span class="mi">28</span><span class="p">,</span> <span class="s">&quot;Speaker Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">29</span><span class="p">,</span> <span class="s">&quot;Digital Out Source&quot;</span> <span class="p">},</span> <span class="cm">/* SU */</span>
	<span class="p">{</span> <span class="mi">30</span><span class="p">,</span> <span class="s">&quot;Headphone Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">31</span><span class="p">,</span> <span class="s">&quot;Headphone Source&quot;</span> <span class="p">},</span> <span class="cm">/* SU */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_selector_map</span> <span class="n">audigy2nx_selectors</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="cm">/* Capture Source */</span>
		<span class="p">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
		<span class="p">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="p">[])</span> <span class="p">{</span><span class="s">&quot;Line&quot;</span><span class="p">,</span> <span class="s">&quot;Digital In&quot;</span><span class="p">,</span> <span class="s">&quot;What-U-Hear&quot;</span><span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">29</span><span class="p">,</span> <span class="cm">/* Digital Out Source */</span>
		<span class="p">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
		<span class="p">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="p">[])</span> <span class="p">{</span><span class="s">&quot;Front&quot;</span><span class="p">,</span> <span class="s">&quot;PCM&quot;</span><span class="p">,</span> <span class="s">&quot;Digital In&quot;</span><span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="mi">31</span><span class="p">,</span> <span class="cm">/* Headphone Source */</span>
		<span class="p">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">names</span> <span class="o">=</span> <span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="p">[])</span> <span class="p">{</span><span class="s">&quot;Front&quot;</span><span class="p">,</span> <span class="s">&quot;Side&quot;</span><span class="p">}</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="cm">/* Creative SoundBlaster Live! 24-bit External */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">live24ext_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 2: PCM Playback Volume */</span>
	<span class="p">{</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&quot;Mic Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU, default PCM Capture Volume */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="cm">/* LineX FM Transmitter entry - needed to bypass controls bug */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">linex_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT pcm */</span>
	<span class="cm">/* 2: OT Speaker */</span> 
	<span class="p">{</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&quot;Master&quot;</span> <span class="p">},</span> <span class="cm">/* FU: master volume - left / right / mute */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">maya44_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT line */</span>
	<span class="p">{</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&quot;Line Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 3: IT line */</span>
	<span class="p">{</span> <span class="mi">4</span><span class="p">,</span> <span class="s">&quot;Line Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 5: IT pcm playback */</span>
	<span class="cm">/* 6: MU */</span>
	<span class="p">{</span> <span class="mi">7</span><span class="p">,</span> <span class="s">&quot;Master Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 8: OT speaker */</span>
	<span class="cm">/* 9: IT line */</span>
	<span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&quot;Line Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 11: MU */</span>
	<span class="cm">/* 12: OT pcm capture */</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* Section &quot;justlink_map&quot; below added by James Courtier-Dutton &lt;James@superbug.demon.co.uk&gt;</span>
<span class="cm"> * sourced from Maplin Electronics (http://www.maplin.co.uk), part number A56AK</span>
<span class="cm"> * Part has 2 connectors that act as a single output. (TOSLINK Optical for digital out, and 3.5mm Jack for Analogue out.)</span>
<span class="cm"> * The USB Mixer publishes a Microphone and extra Volume controls for it, but none exist on the device,</span>
<span class="cm"> * so this map removes all unwanted sliders from alsamixer</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">justlink_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT pcm playback */</span>
	<span class="cm">/* 2: Not present */</span>
	<span class="p">{</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">},</span> <span class="cm">/* IT mic (No mic input on device) */</span>
	<span class="cm">/* 4: Not present */</span>
	<span class="cm">/* 5: OT speacker */</span>
	<span class="cm">/* 6: OT pcm capture */</span>
	<span class="p">{</span> <span class="mi">7</span><span class="p">,</span> <span class="s">&quot;Master Playback&quot;</span> <span class="p">},</span> <span class="cm">/* Mute/volume for speaker */</span>
	<span class="p">{</span> <span class="mi">8</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* Capture Switch (No capture inputs on device) */</span>
	<span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* Capture Mute/volume (No capture inputs on device */</span>
	<span class="cm">/* 0xa: Not present */</span>
	<span class="cm">/* 0xb: MU (w/o controls) */</span>
	<span class="p">{</span> <span class="mh">0xc</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* Mic feedback Mute/volume (No capture inputs on device) */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="cm">/* TerraTec Aureon 5.1 MkII USB */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">aureon_51_2_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT USB */</span>
	<span class="cm">/* 2: IT Mic */</span>
	<span class="cm">/* 3: IT Line */</span>
	<span class="cm">/* 4: IT SPDIF */</span>
	<span class="cm">/* 5: OT SPDIF */</span>
	<span class="cm">/* 6: OT Speaker */</span>
	<span class="cm">/* 7: OT USB */</span>
	<span class="p">{</span> <span class="mi">8</span><span class="p">,</span> <span class="s">&quot;Capture Source&quot;</span> <span class="p">},</span> <span class="cm">/* SU */</span>
	<span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="s">&quot;Master Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&quot;Mic Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;Line Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">12</span><span class="p">,</span> <span class="s">&quot;IEC958 In Capture&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">13</span><span class="p">,</span> <span class="s">&quot;Mic Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">14</span><span class="p">,</span> <span class="s">&quot;Line Playback&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 15: MU */</span>
	<span class="p">{}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">scratch_live_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* 1: IT Line 1 (USB streaming) */</span>
	<span class="cm">/* 2: OT Line 1 (Speaker) */</span>
	<span class="cm">/* 3: IT Line 1 (Line connector) */</span>
	<span class="p">{</span> <span class="mi">4</span><span class="p">,</span> <span class="s">&quot;Line 1 In&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 5: OT Line 1 (USB streaming) */</span>
	<span class="cm">/* 6: IT Line 2 (USB streaming) */</span>
	<span class="cm">/* 7: OT Line 2 (Speaker) */</span>
	<span class="cm">/* 8: IT Line 2 (Line connector) */</span>
	<span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="s">&quot;Line 2 In&quot;</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="cm">/* 10: OT Line 2 (USB streaming) */</span>
	<span class="cm">/* 11: IT Mic (Line connector) */</span>
	<span class="cm">/* 12: OT Mic (USB streaming) */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">ebox44_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">6</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* MU */</span>
	<span class="p">{</span> <span class="mi">7</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* FU */</span>
	<span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="nb">NULL</span> <span class="p">},</span> <span class="cm">/* MU */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* &quot;Gamesurround Muse Pocket LT&quot; looks same like &quot;Sound Blaster MP3+&quot;</span>
<span class="cm"> *  most importand difference is SU[8], it should be set to &quot;Capture Source&quot;</span>
<span class="cm"> *  to make alsamixer and PA working properly.</span>
<span class="cm"> *  FIXME: or mp3plus_map should use &quot;Capture Source&quot; too,</span>
<span class="cm"> *  so this maps can be merget</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_name_map</span> <span class="n">hercules_usb51_map</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="mi">8</span><span class="p">,</span> <span class="s">&quot;Capture Source&quot;</span> <span class="p">},</span>	<span class="cm">/* SU, default &quot;PCM Capture Source&quot; */</span>
	<span class="p">{</span> <span class="mi">9</span><span class="p">,</span> <span class="s">&quot;Master Playback&quot;</span> <span class="p">},</span>	<span class="cm">/* FU, default &quot;Speaker Playback&quot; */</span>
	<span class="p">{</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&quot;Mic Boost&quot;</span><span class="p">,</span> <span class="mi">7</span> <span class="p">},</span>		<span class="cm">/* FU, default &quot;Auto Gain Input&quot; */</span>
	<span class="p">{</span> <span class="mi">11</span><span class="p">,</span> <span class="s">&quot;Line Capture&quot;</span> <span class="p">},</span>		<span class="cm">/* FU, default &quot;PCM Capture&quot; */</span>
	<span class="p">{</span> <span class="mi">13</span><span class="p">,</span> <span class="s">&quot;Mic Bypass Playback&quot;</span> <span class="p">},</span>	<span class="cm">/* FU, default &quot;Mic Playback&quot; */</span>
	<span class="p">{</span> <span class="mi">14</span><span class="p">,</span> <span class="s">&quot;Line Bypass Playback&quot;</span> <span class="p">},</span>	<span class="cm">/* FU, default &quot;Line Playback&quot; */</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span>				<span class="cm">/* terminator */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Control map entries</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">usbmix_ctl_map</span> <span class="n">usbmix_ctl_maps</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x041e</span><span class="p">,</span> <span class="mh">0x3000</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">extigy_map</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ignore_ctl_error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x041e</span><span class="p">,</span> <span class="mh">0x3010</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">mp3plus_map</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x041e</span><span class="p">,</span> <span class="mh">0x3020</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">audigy2nx_map</span><span class="p">,</span>
		<span class="p">.</span><span class="n">selector_map</span> <span class="o">=</span> <span class="n">audigy2nx_selectors</span><span class="p">,</span>
	<span class="p">},</span>
 	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x041e</span><span class="p">,</span> <span class="mh">0x3040</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">live24ext_map</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x041e</span><span class="p">,</span> <span class="mh">0x3048</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">audigy2nx_map</span><span class="p">,</span>
		<span class="p">.</span><span class="n">selector_map</span> <span class="o">=</span> <span class="n">audigy2nx_selectors</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>	<span class="cm">/* Logitech, Inc. QuickCam Pro for Notebooks */</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x046d</span><span class="p">,</span> <span class="mh">0x0991</span><span class="p">),</span>
		<span class="p">.</span><span class="n">ignore_ctl_error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>	<span class="cm">/* Logitech, Inc. QuickCam E 3500 */</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x046d</span><span class="p">,</span> <span class="mh">0x09a4</span><span class="p">),</span>
		<span class="p">.</span><span class="n">ignore_ctl_error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="cm">/* Hercules DJ Console (Windows Edition) */</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x06f8</span><span class="p">,</span> <span class="mh">0xb000</span><span class="p">),</span>
		<span class="p">.</span><span class="n">ignore_ctl_error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="cm">/* Hercules DJ Console (Macintosh Edition) */</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x06f8</span><span class="p">,</span> <span class="mh">0xd002</span><span class="p">),</span>
		<span class="p">.</span><span class="n">ignore_ctl_error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="cm">/* Hercules Gamesurround Muse Pocket LT</span>
<span class="cm">		 * (USB 5.1 Channel Audio Adapter)</span>
<span class="cm">		 */</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x06f8</span><span class="p">,</span> <span class="mh">0xc000</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">hercules_usb51_map</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x08bb</span><span class="p">,</span> <span class="mh">0x2702</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">linex_map</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ignore_ctl_error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x0a92</span><span class="p">,</span> <span class="mh">0x0091</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">maya44_map</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x0c45</span><span class="p">,</span> <span class="mh">0x1158</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">justlink_map</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x0ccd</span><span class="p">,</span> <span class="mh">0x0028</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">aureon_51_2_map</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x13e5</span><span class="p">,</span> <span class="mh">0x0001</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">scratch_live_map</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ignore_ctl_error</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">USB_ID</span><span class="p">(</span><span class="mh">0x200c</span><span class="p">,</span> <span class="mh">0x1018</span><span class="p">),</span>
		<span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">ebox44_map</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="mi">0</span> <span class="p">}</span> <span class="cm">/* terminator */</span>
<span class="p">};</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
