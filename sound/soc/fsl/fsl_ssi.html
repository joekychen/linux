<!DOCTYPE html>
<html><head><title>joekychen/linux » sound › soc › fsl › fsl_ssi.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>fsl_ssi.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * fsl_ssi.h - ALSA SSI interface for the Freescale MPC8610 SoC</span>
<span class="cm"> *</span>
<span class="cm"> * Author: Timur Tabi &lt;timur@freescale.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright 2007-2008 Freescale Semiconductor, Inc.  This file is licensed</span>
<span class="cm"> * under the terms of the GNU General Public License version 2.  This</span>
<span class="cm"> * program is licensed &quot;as is&quot; without any warranty of any kind, whether</span>
<span class="cm"> * express or implied.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _MPC8610_I2S_H</span>
<span class="cp">#define _MPC8610_I2S_H</span>

<span class="cm">/* SSI Register Map */</span>
<span class="k">struct</span> <span class="n">ccsr_ssi</span> <span class="p">{</span>
	<span class="n">__be32</span> <span class="n">stx0</span><span class="p">;</span>	<span class="cm">/* 0x.0000 - SSI Transmit Data Register 0 */</span>
	<span class="n">__be32</span> <span class="n">stx1</span><span class="p">;</span>	<span class="cm">/* 0x.0004 - SSI Transmit Data Register 1 */</span>
	<span class="n">__be32</span> <span class="n">srx0</span><span class="p">;</span>	<span class="cm">/* 0x.0008 - SSI Receive Data Register 0 */</span>
	<span class="n">__be32</span> <span class="n">srx1</span><span class="p">;</span>	<span class="cm">/* 0x.000C - SSI Receive Data Register 1 */</span>
	<span class="n">__be32</span> <span class="n">scr</span><span class="p">;</span>	<span class="cm">/* 0x.0010 - SSI Control Register */</span>
	<span class="n">__be32</span> <span class="n">sisr</span><span class="p">;</span>	<span class="cm">/* 0x.0014 - SSI Interrupt Status Register Mixed */</span>
	<span class="n">__be32</span> <span class="n">sier</span><span class="p">;</span>	<span class="cm">/* 0x.0018 - SSI Interrupt Enable Register */</span>
	<span class="n">__be32</span> <span class="n">stcr</span><span class="p">;</span>	<span class="cm">/* 0x.001C - SSI Transmit Configuration Register */</span>
	<span class="n">__be32</span> <span class="n">srcr</span><span class="p">;</span>	<span class="cm">/* 0x.0020 - SSI Receive Configuration Register */</span>
	<span class="n">__be32</span> <span class="n">stccr</span><span class="p">;</span>	<span class="cm">/* 0x.0024 - SSI Transmit Clock Control Register */</span>
	<span class="n">__be32</span> <span class="n">srccr</span><span class="p">;</span>	<span class="cm">/* 0x.0028 - SSI Receive Clock Control Register */</span>
	<span class="n">__be32</span> <span class="n">sfcsr</span><span class="p">;</span>	<span class="cm">/* 0x.002C - SSI FIFO Control/Status Register */</span>
	<span class="n">__be32</span> <span class="n">str</span><span class="p">;</span>	<span class="cm">/* 0x.0030 - SSI Test Register */</span>
	<span class="n">__be32</span> <span class="n">sor</span><span class="p">;</span>	<span class="cm">/* 0x.0034 - SSI Option Register */</span>
	<span class="n">__be32</span> <span class="n">sacnt</span><span class="p">;</span>	<span class="cm">/* 0x.0038 - SSI AC97 Control Register */</span>
	<span class="n">__be32</span> <span class="n">sacadd</span><span class="p">;</span>	<span class="cm">/* 0x.003C - SSI AC97 Command Address Register */</span>
	<span class="n">__be32</span> <span class="n">sacdat</span><span class="p">;</span>	<span class="cm">/* 0x.0040 - SSI AC97 Command Data Register */</span>
	<span class="n">__be32</span> <span class="n">satag</span><span class="p">;</span>	<span class="cm">/* 0x.0044 - SSI AC97 Tag Register */</span>
	<span class="n">__be32</span> <span class="n">stmsk</span><span class="p">;</span>	<span class="cm">/* 0x.0048 - SSI Transmit Time Slot Mask Register */</span>
	<span class="n">__be32</span> <span class="n">srmsk</span><span class="p">;</span>	<span class="cm">/* 0x.004C - SSI Receive Time Slot Mask Register */</span>
	<span class="n">__be32</span> <span class="n">saccst</span><span class="p">;</span>	<span class="cm">/* 0x.0050 - SSI AC97 Channel Status Register */</span>
	<span class="n">__be32</span> <span class="n">saccen</span><span class="p">;</span>	<span class="cm">/* 0x.0054 - SSI AC97 Channel Enable Register */</span>
	<span class="n">__be32</span> <span class="n">saccdis</span><span class="p">;</span> <span class="cm">/* 0x.0058 - SSI AC97 Channel Disable Register */</span>
<span class="p">};</span>

<span class="cp">#define CCSR_SSI_SCR_RFR_CLK_DIS	0x00000800</span>
<span class="cp">#define CCSR_SSI_SCR_TFR_CLK_DIS	0x00000400</span>
<span class="cp">#define CCSR_SSI_SCR_TCH_EN		0x00000100</span>
<span class="cp">#define CCSR_SSI_SCR_SYS_CLK_EN		0x00000080</span>
<span class="cp">#define CCSR_SSI_SCR_I2S_MODE_MASK	0x00000060</span>
<span class="cp">#define CCSR_SSI_SCR_I2S_MODE_NORMAL	0x00000000</span>
<span class="cp">#define CCSR_SSI_SCR_I2S_MODE_MASTER	0x00000020</span>
<span class="cp">#define CCSR_SSI_SCR_I2S_MODE_SLAVE	0x00000040</span>
<span class="cp">#define CCSR_SSI_SCR_SYN		0x00000010</span>
<span class="cp">#define CCSR_SSI_SCR_NET		0x00000008</span>
<span class="cp">#define CCSR_SSI_SCR_RE			0x00000004</span>
<span class="cp">#define CCSR_SSI_SCR_TE			0x00000002</span>
<span class="cp">#define CCSR_SSI_SCR_SSIEN		0x00000001</span>

<span class="cp">#define CCSR_SSI_SISR_RFRC		0x01000000</span>
<span class="cp">#define CCSR_SSI_SISR_TFRC		0x00800000</span>
<span class="cp">#define CCSR_SSI_SISR_CMDAU		0x00040000</span>
<span class="cp">#define CCSR_SSI_SISR_CMDDU		0x00020000</span>
<span class="cp">#define CCSR_SSI_SISR_RXT		0x00010000</span>
<span class="cp">#define CCSR_SSI_SISR_RDR1		0x00008000</span>
<span class="cp">#define CCSR_SSI_SISR_RDR0		0x00004000</span>
<span class="cp">#define CCSR_SSI_SISR_TDE1		0x00002000</span>
<span class="cp">#define CCSR_SSI_SISR_TDE0		0x00001000</span>
<span class="cp">#define CCSR_SSI_SISR_ROE1		0x00000800</span>
<span class="cp">#define CCSR_SSI_SISR_ROE0		0x00000400</span>
<span class="cp">#define CCSR_SSI_SISR_TUE1		0x00000200</span>
<span class="cp">#define CCSR_SSI_SISR_TUE0		0x00000100</span>
<span class="cp">#define CCSR_SSI_SISR_TFS		0x00000080</span>
<span class="cp">#define CCSR_SSI_SISR_RFS		0x00000040</span>
<span class="cp">#define CCSR_SSI_SISR_TLS		0x00000020</span>
<span class="cp">#define CCSR_SSI_SISR_RLS		0x00000010</span>
<span class="cp">#define CCSR_SSI_SISR_RFF1		0x00000008</span>
<span class="cp">#define CCSR_SSI_SISR_RFF0		0x00000004</span>
<span class="cp">#define CCSR_SSI_SISR_TFE1		0x00000002</span>
<span class="cp">#define CCSR_SSI_SISR_TFE0		0x00000001</span>

<span class="cp">#define CCSR_SSI_SIER_RFRC_EN		0x01000000</span>
<span class="cp">#define CCSR_SSI_SIER_TFRC_EN		0x00800000</span>
<span class="cp">#define CCSR_SSI_SIER_RDMAE		0x00400000</span>
<span class="cp">#define CCSR_SSI_SIER_RIE		0x00200000</span>
<span class="cp">#define CCSR_SSI_SIER_TDMAE		0x00100000</span>
<span class="cp">#define CCSR_SSI_SIER_TIE		0x00080000</span>
<span class="cp">#define CCSR_SSI_SIER_CMDAU_EN		0x00040000</span>
<span class="cp">#define CCSR_SSI_SIER_CMDDU_EN		0x00020000</span>
<span class="cp">#define CCSR_SSI_SIER_RXT_EN		0x00010000</span>
<span class="cp">#define CCSR_SSI_SIER_RDR1_EN		0x00008000</span>
<span class="cp">#define CCSR_SSI_SIER_RDR0_EN		0x00004000</span>
<span class="cp">#define CCSR_SSI_SIER_TDE1_EN		0x00002000</span>
<span class="cp">#define CCSR_SSI_SIER_TDE0_EN		0x00001000</span>
<span class="cp">#define CCSR_SSI_SIER_ROE1_EN		0x00000800</span>
<span class="cp">#define CCSR_SSI_SIER_ROE0_EN		0x00000400</span>
<span class="cp">#define CCSR_SSI_SIER_TUE1_EN		0x00000200</span>
<span class="cp">#define CCSR_SSI_SIER_TUE0_EN		0x00000100</span>
<span class="cp">#define CCSR_SSI_SIER_TFS_EN		0x00000080</span>
<span class="cp">#define CCSR_SSI_SIER_RFS_EN		0x00000040</span>
<span class="cp">#define CCSR_SSI_SIER_TLS_EN		0x00000020</span>
<span class="cp">#define CCSR_SSI_SIER_RLS_EN		0x00000010</span>
<span class="cp">#define CCSR_SSI_SIER_RFF1_EN		0x00000008</span>
<span class="cp">#define CCSR_SSI_SIER_RFF0_EN		0x00000004</span>
<span class="cp">#define CCSR_SSI_SIER_TFE1_EN		0x00000002</span>
<span class="cp">#define CCSR_SSI_SIER_TFE0_EN		0x00000001</span>

<span class="cp">#define CCSR_SSI_STCR_TXBIT0		0x00000200</span>
<span class="cp">#define CCSR_SSI_STCR_TFEN1		0x00000100</span>
<span class="cp">#define CCSR_SSI_STCR_TFEN0		0x00000080</span>
<span class="cp">#define CCSR_SSI_STCR_TFDIR		0x00000040</span>
<span class="cp">#define CCSR_SSI_STCR_TXDIR		0x00000020</span>
<span class="cp">#define CCSR_SSI_STCR_TSHFD		0x00000010</span>
<span class="cp">#define CCSR_SSI_STCR_TSCKP		0x00000008</span>
<span class="cp">#define CCSR_SSI_STCR_TFSI		0x00000004</span>
<span class="cp">#define CCSR_SSI_STCR_TFSL		0x00000002</span>
<span class="cp">#define CCSR_SSI_STCR_TEFS		0x00000001</span>

<span class="cp">#define CCSR_SSI_SRCR_RXEXT		0x00000400</span>
<span class="cp">#define CCSR_SSI_SRCR_RXBIT0		0x00000200</span>
<span class="cp">#define CCSR_SSI_SRCR_RFEN1		0x00000100</span>
<span class="cp">#define CCSR_SSI_SRCR_RFEN0		0x00000080</span>
<span class="cp">#define CCSR_SSI_SRCR_RFDIR		0x00000040</span>
<span class="cp">#define CCSR_SSI_SRCR_RXDIR		0x00000020</span>
<span class="cp">#define CCSR_SSI_SRCR_RSHFD		0x00000010</span>
<span class="cp">#define CCSR_SSI_SRCR_RSCKP		0x00000008</span>
<span class="cp">#define CCSR_SSI_SRCR_RFSI		0x00000004</span>
<span class="cp">#define CCSR_SSI_SRCR_RFSL		0x00000002</span>
<span class="cp">#define CCSR_SSI_SRCR_REFS		0x00000001</span>

<span class="cm">/* STCCR and SRCCR */</span>
<span class="cp">#define CCSR_SSI_SxCCR_DIV2		0x00040000</span>
<span class="cp">#define CCSR_SSI_SxCCR_PSR		0x00020000</span>
<span class="cp">#define CCSR_SSI_SxCCR_WL_SHIFT		13</span>
<span class="cp">#define CCSR_SSI_SxCCR_WL_MASK		0x0001E000</span>
<span class="cp">#define CCSR_SSI_SxCCR_WL(x) \</span>
<span class="cp">	(((((x) / 2) - 1) &lt;&lt; CCSR_SSI_SxCCR_WL_SHIFT) &amp; CCSR_SSI_SxCCR_WL_MASK)</span>
<span class="cp">#define CCSR_SSI_SxCCR_DC_SHIFT		8</span>
<span class="cp">#define CCSR_SSI_SxCCR_DC_MASK		0x00001F00</span>
<span class="cp">#define CCSR_SSI_SxCCR_DC(x) \</span>
<span class="cp">	((((x) - 1) &lt;&lt; CCSR_SSI_SxCCR_DC_SHIFT) &amp; CCSR_SSI_SxCCR_DC_MASK)</span>
<span class="cp">#define CCSR_SSI_SxCCR_PM_SHIFT		0</span>
<span class="cp">#define CCSR_SSI_SxCCR_PM_MASK		0x000000FF</span>
<span class="cp">#define CCSR_SSI_SxCCR_PM(x) \</span>
<span class="cp">	((((x) - 1) &lt;&lt; CCSR_SSI_SxCCR_PM_SHIFT) &amp; CCSR_SSI_SxCCR_PM_MASK)</span>

<span class="cm">/*</span>
<span class="cm"> * The xFCNT bits are read-only, and the xFWM bits are read/write.  Use the</span>
<span class="cm"> * CCSR_SSI_SFCSR_xFCNTy() macros to read the FIFO counters, and use the</span>
<span class="cm"> * CCSR_SSI_SFCSR_xFWMy() macros to set the watermarks.</span>
<span class="cm"> */</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFCNT1_SHIFT	28</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFCNT1_MASK	0xF0000000</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFCNT1(x) \</span>
<span class="cp">	(((x) &amp; CCSR_SSI_SFCSR_RFCNT1_MASK) &gt;&gt; CCSR_SSI_SFCSR_RFCNT1_SHIFT)</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFCNT1_SHIFT	24</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFCNT1_MASK	0x0F000000</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFCNT1(x) \</span>
<span class="cp">	(((x) &amp; CCSR_SSI_SFCSR_TFCNT1_MASK) &gt;&gt; CCSR_SSI_SFCSR_TFCNT1_SHIFT)</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFWM1_SHIFT	20</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFWM1_MASK	0x00F00000</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFWM1(x)	\</span>
<span class="cp">	(((x) &lt;&lt; CCSR_SSI_SFCSR_RFWM1_SHIFT) &amp; CCSR_SSI_SFCSR_RFWM1_MASK)</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFWM1_SHIFT	16</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFWM1_MASK	0x000F0000</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFWM1(x)	\</span>
<span class="cp">	(((x) &lt;&lt; CCSR_SSI_SFCSR_TFWM1_SHIFT) &amp; CCSR_SSI_SFCSR_TFWM1_MASK)</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFCNT0_SHIFT	12</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFCNT0_MASK	0x0000F000</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFCNT0(x) \</span>
<span class="cp">	(((x) &amp; CCSR_SSI_SFCSR_RFCNT0_MASK) &gt;&gt; CCSR_SSI_SFCSR_RFCNT0_SHIFT)</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFCNT0_SHIFT	8</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFCNT0_MASK	0x00000F00</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFCNT0(x) \</span>
<span class="cp">	(((x) &amp; CCSR_SSI_SFCSR_TFCNT0_MASK) &gt;&gt; CCSR_SSI_SFCSR_TFCNT0_SHIFT)</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFWM0_SHIFT	4</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFWM0_MASK	0x000000F0</span>
<span class="cp">#define CCSR_SSI_SFCSR_RFWM0(x)	\</span>
<span class="cp">	(((x) &lt;&lt; CCSR_SSI_SFCSR_RFWM0_SHIFT) &amp; CCSR_SSI_SFCSR_RFWM0_MASK)</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFWM0_SHIFT	0</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFWM0_MASK	0x0000000F</span>
<span class="cp">#define CCSR_SSI_SFCSR_TFWM0(x)	\</span>
<span class="cp">	(((x) &lt;&lt; CCSR_SSI_SFCSR_TFWM0_SHIFT) &amp; CCSR_SSI_SFCSR_TFWM0_MASK)</span>

<span class="cp">#define CCSR_SSI_STR_TEST		0x00008000</span>
<span class="cp">#define CCSR_SSI_STR_RCK2TCK		0x00004000</span>
<span class="cp">#define CCSR_SSI_STR_RFS2TFS		0x00002000</span>
<span class="cp">#define CCSR_SSI_STR_RXSTATE(x) (((x) &gt;&gt; 8) &amp; 0x1F)</span>
<span class="cp">#define CCSR_SSI_STR_TXD2RXD		0x00000080</span>
<span class="cp">#define CCSR_SSI_STR_TCK2RCK		0x00000040</span>
<span class="cp">#define CCSR_SSI_STR_TFS2RFS		0x00000020</span>
<span class="cp">#define CCSR_SSI_STR_TXSTATE(x) ((x) &amp; 0x1F)</span>

<span class="cp">#define CCSR_SSI_SOR_CLKOFF		0x00000040</span>
<span class="cp">#define CCSR_SSI_SOR_RX_CLR		0x00000020</span>
<span class="cp">#define CCSR_SSI_SOR_TX_CLR		0x00000010</span>
<span class="cp">#define CCSR_SSI_SOR_INIT		0x00000008</span>
<span class="cp">#define CCSR_SSI_SOR_WAIT_SHIFT		1</span>
<span class="cp">#define CCSR_SSI_SOR_WAIT_MASK		0x00000006</span>
<span class="cp">#define CCSR_SSI_SOR_WAIT(x) (((x) &amp; 3) &lt;&lt; CCSR_SSI_SOR_WAIT_SHIFT)</span>
<span class="cp">#define CCSR_SSI_SOR_SYNRST 		0x00000001</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
