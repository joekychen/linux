f | mfld_machine.c | s | 11K | 380 | Liam Girdwood | lrg@ti.com | 1328359211 |  | ASoC: core: Add support for DAI and machine kcontrols.  Currently ASoC can only add kcontrols using codec and platform component device handles. It's also desirable to add kcontrols for DAIs (i.e. McBSP) and for SoC card machine drivers too. This allows the kcontrol to have a direct handle to the parent ASoC component DAI/SoC Card/Platform/Codec device and hence easily get it's private data.  This change makes snd_soc_add_controls() static and wraps it in the folowing calls (card and dai are new) :-  snd_soc_add_card_controls() snd_soc_add_codec_controls() snd_soc_add_dai_controls() snd_soc_add_platform_controls()  This patch also does a lot of small mechanical changes in individual codec drivers to replace snd_soc_add_controls() with snd_soc_add_codec_controls().  It also updates the McBSP DAI driver to use snd_soc_add_dai_controls().  Finally, it updates the existing machine drivers that register controls to either :-  1) Use snd_soc_add_card_controls() where no direct codec control is required. 2) Use snd_soc_add_codec_controls() where there is direct codec control.  In the case of 1) above we also update the machine drivers to get the correct component data pointers from the kcontrol (rather than getting the machine pointer via the codec pointer).  Signed-off-by: Liam Girdwood <lrg@ti.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | Kconfig | g | 441B |  | Vinod Koul | vinod.koul@linux.intel.com | 1323093751 |  | ASoC: sst_platform: fix the dsp driver interface  lower level drivers typically register with upper layers. So fix by exporting symbols from sst_platform driver for dsp driver to register to sst platform driver  Now this driver doesnt depend on sst driver, so remove the dependency and the header files  Signed-off-by: Vinod Koul <vinod.koul@linux.intel.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | Makefile | g | 203B |  | Vinod Koul | vinod.koul@intel.com | 1294659362 |  | ASoC: mid-x86 - remove the flag in makefile  previous commit e62255f2adf2 introduced DDEBUG flag in Makefile This causes all debug statemenets to be ON.  This patch removes this flag  Signed-off-by: Vinod Koul <vinod.koul@intel.com> Signed-off-by: Harsha Priya <priya.harsha@intel.com> Acked-by: Liam Girdwood <lrg@slimlogic.co.uk> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | sst_platform.h | s | 3.2K | 117 | Vinod Koul | vinod.koul@linux.intel.com | 1323093751 |  | ASoC: sst_platform: fix the dsp driver interface  lower level drivers typically register with upper layers. So fix by exporting symbols from sst_platform driver for dsp driver to register to sst platform driver  Now this driver doesnt depend on sst driver, so remove the dependency and the header files  Signed-off-by: Vinod Koul <vinod.koul@linux.intel.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | sst_platform.c | s | 13K | 461 | Joachim Eastwood | joachim.eastwood@jotron.com | 1325963885 |  | ASoC: check for substream not channels_min in pcm engines  This is a follow up on 53dea36c70c1857 which fixes the other affected pcm engines.  Description from 53dea36c70c1857:  Don't rely on the codec's channels_min information to decide wheter or  not allocate a substream's DMA buffer. Rather check if the substream  itself was allocated previously.  Without this patch I was seeing null-pointer dereferenc in atmel-pcm.  Signed-off-by: Joachim Eastwood <joachim.eastwood@jotron.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
