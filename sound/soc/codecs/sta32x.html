<!DOCTYPE html>
<html><head><title>joekychen/linux » sound › soc › codecs › sta32x.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>sta32x.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Codec driver for ST STA32x 2.1-channel high-efficiency digital audio system</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright: 2011 Raumfeld GmbH</span>
<span class="cm"> * Author: Johannes Stezenbach &lt;js@sig21.net&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * based on code from:</span>
<span class="cm"> *	Wolfson Microelectronics PLC.</span>
<span class="cm"> *	Mark Brown &lt;broonie@opensource.wolfsonmicro.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute  it and/or modify it</span>
<span class="cm"> * under  the terms of  the GNU General  Public License as published by the</span>
<span class="cm"> * Free Software Foundation;  either version 2 of the  License, or (at your</span>
<span class="cm"> * option) any later version.</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _ASOC_STA_32X_H</span>
<span class="cp">#define _ASOC_STA_32X_H</span>

<span class="cm">/* STA326 register addresses */</span>

<span class="cp">#define STA32X_REGISTER_COUNT	0x2d</span>
<span class="cp">#define STA32X_COEF_COUNT 62</span>

<span class="cp">#define STA32X_CONFA	0x00</span>
<span class="cp">#define STA32X_CONFB    0x01</span>
<span class="cp">#define STA32X_CONFC    0x02</span>
<span class="cp">#define STA32X_CONFD    0x03</span>
<span class="cp">#define STA32X_CONFE    0x04</span>
<span class="cp">#define STA32X_CONFF    0x05</span>
<span class="cp">#define STA32X_MMUTE    0x06</span>
<span class="cp">#define STA32X_MVOL     0x07</span>
<span class="cp">#define STA32X_C1VOL    0x08</span>
<span class="cp">#define STA32X_C2VOL    0x09</span>
<span class="cp">#define STA32X_C3VOL    0x0a</span>
<span class="cp">#define STA32X_AUTO1    0x0b</span>
<span class="cp">#define STA32X_AUTO2    0x0c</span>
<span class="cp">#define STA32X_AUTO3    0x0d</span>
<span class="cp">#define STA32X_C1CFG    0x0e</span>
<span class="cp">#define STA32X_C2CFG    0x0f</span>
<span class="cp">#define STA32X_C3CFG    0x10</span>
<span class="cp">#define STA32X_TONE     0x11</span>
<span class="cp">#define STA32X_L1AR     0x12</span>
<span class="cp">#define STA32X_L1ATRT   0x13</span>
<span class="cp">#define STA32X_L2AR     0x14</span>
<span class="cp">#define STA32X_L2ATRT   0x15</span>
<span class="cp">#define STA32X_CFADDR2  0x16</span>
<span class="cp">#define STA32X_B1CF1    0x17</span>
<span class="cp">#define STA32X_B1CF2    0x18</span>
<span class="cp">#define STA32X_B1CF3    0x19</span>
<span class="cp">#define STA32X_B2CF1    0x1a</span>
<span class="cp">#define STA32X_B2CF2    0x1b</span>
<span class="cp">#define STA32X_B2CF3    0x1c</span>
<span class="cp">#define STA32X_A1CF1    0x1d</span>
<span class="cp">#define STA32X_A1CF2    0x1e</span>
<span class="cp">#define STA32X_A1CF3    0x1f</span>
<span class="cp">#define STA32X_A2CF1    0x20</span>
<span class="cp">#define STA32X_A2CF2    0x21</span>
<span class="cp">#define STA32X_A2CF3    0x22</span>
<span class="cp">#define STA32X_B0CF1    0x23</span>
<span class="cp">#define STA32X_B0CF2    0x24</span>
<span class="cp">#define STA32X_B0CF3    0x25</span>
<span class="cp">#define STA32X_CFUD     0x26</span>
<span class="cp">#define STA32X_MPCC1    0x27</span>
<span class="cp">#define STA32X_MPCC2    0x28</span>
<span class="cm">/* Reserved 0x29 */</span>
<span class="cm">/* Reserved 0x2a */</span>
<span class="cp">#define STA32X_Reserved 0x2a</span>
<span class="cp">#define STA32X_FDRC1    0x2b</span>
<span class="cp">#define STA32X_FDRC2    0x2c</span>
<span class="cm">/* Reserved 0x2d */</span>


<span class="cm">/* STA326 register field definitions */</span>

<span class="cm">/* 0x00 CONFA */</span>
<span class="cp">#define STA32X_CONFA_MCS_MASK	0x03</span>
<span class="cp">#define STA32X_CONFA_MCS_SHIFT	0</span>
<span class="cp">#define STA32X_CONFA_IR_MASK	0x18</span>
<span class="cp">#define STA32X_CONFA_IR_SHIFT	3</span>
<span class="cp">#define STA32X_CONFA_TWRB	0x20</span>
<span class="cp">#define STA32X_CONFA_TWAB	0x40</span>
<span class="cp">#define STA32X_CONFA_FDRB	0x80</span>

<span class="cm">/* 0x01 CONFB */</span>
<span class="cp">#define STA32X_CONFB_SAI_MASK	0x0f</span>
<span class="cp">#define STA32X_CONFB_SAI_SHIFT	0</span>
<span class="cp">#define STA32X_CONFB_SAIFB	0x10</span>
<span class="cp">#define STA32X_CONFB_DSCKE	0x20</span>
<span class="cp">#define STA32X_CONFB_C1IM	0x40</span>
<span class="cp">#define STA32X_CONFB_C2IM	0x80</span>

<span class="cm">/* 0x02 CONFC */</span>
<span class="cp">#define STA32X_CONFC_OM_MASK	0x03</span>
<span class="cp">#define STA32X_CONFC_OM_SHIFT	0</span>
<span class="cp">#define STA32X_CONFC_CSZ_MASK	0x7c</span>
<span class="cp">#define STA32X_CONFC_CSZ_SHIFT	2</span>

<span class="cm">/* 0x03 CONFD */</span>
<span class="cp">#define STA32X_CONFD_HPB	0x01</span>
<span class="cp">#define STA32X_CONFD_HPB_SHIFT	0</span>
<span class="cp">#define STA32X_CONFD_DEMP	0x02</span>
<span class="cp">#define STA32X_CONFD_DEMP_SHIFT	1</span>
<span class="cp">#define STA32X_CONFD_DSPB	0x04</span>
<span class="cp">#define STA32X_CONFD_DSPB_SHIFT	2</span>
<span class="cp">#define STA32X_CONFD_PSL	0x08</span>
<span class="cp">#define STA32X_CONFD_PSL_SHIFT	3</span>
<span class="cp">#define STA32X_CONFD_BQL	0x10</span>
<span class="cp">#define STA32X_CONFD_BQL_SHIFT	4</span>
<span class="cp">#define STA32X_CONFD_DRC	0x20</span>
<span class="cp">#define STA32X_CONFD_DRC_SHIFT	5</span>
<span class="cp">#define STA32X_CONFD_ZDE	0x40</span>
<span class="cp">#define STA32X_CONFD_ZDE_SHIFT	6</span>
<span class="cp">#define STA32X_CONFD_MME	0x80</span>
<span class="cp">#define STA32X_CONFD_MME_SHIFT	7</span>

<span class="cm">/* 0x04 CONFE */</span>
<span class="cp">#define STA32X_CONFE_MPCV	0x01</span>
<span class="cp">#define STA32X_CONFE_MPCV_SHIFT	0</span>
<span class="cp">#define STA32X_CONFE_MPC	0x02</span>
<span class="cp">#define STA32X_CONFE_MPC_SHIFT	1</span>
<span class="cp">#define STA32X_CONFE_AME	0x08</span>
<span class="cp">#define STA32X_CONFE_AME_SHIFT	3</span>
<span class="cp">#define STA32X_CONFE_PWMS	0x10</span>
<span class="cp">#define STA32X_CONFE_PWMS_SHIFT	4</span>
<span class="cp">#define STA32X_CONFE_ZCE	0x40</span>
<span class="cp">#define STA32X_CONFE_ZCE_SHIFT	6</span>
<span class="cp">#define STA32X_CONFE_SVE	0x80</span>
<span class="cp">#define STA32X_CONFE_SVE_SHIFT	7</span>

<span class="cm">/* 0x05 CONFF */</span>
<span class="cp">#define STA32X_CONFF_OCFG_MASK	0x03</span>
<span class="cp">#define STA32X_CONFF_OCFG_SHIFT	0</span>
<span class="cp">#define STA32X_CONFF_IDE	0x04</span>
<span class="cp">#define STA32X_CONFF_IDE_SHIFT	3</span>
<span class="cp">#define STA32X_CONFF_BCLE	0x08</span>
<span class="cp">#define STA32X_CONFF_ECLE	0x20</span>
<span class="cp">#define STA32X_CONFF_PWDN	0x40</span>
<span class="cp">#define STA32X_CONFF_EAPD	0x80</span>

<span class="cm">/* 0x06 MMUTE */</span>
<span class="cp">#define STA32X_MMUTE_MMUTE	0x01</span>

<span class="cm">/* 0x0b AUTO1 */</span>
<span class="cp">#define STA32X_AUTO1_AMEQ_MASK	0x03</span>
<span class="cp">#define STA32X_AUTO1_AMEQ_SHIFT	0</span>
<span class="cp">#define STA32X_AUTO1_AMV_MASK	0xc0</span>
<span class="cp">#define STA32X_AUTO1_AMV_SHIFT	2</span>
<span class="cp">#define STA32X_AUTO1_AMGC_MASK	0x30</span>
<span class="cp">#define STA32X_AUTO1_AMGC_SHIFT	4</span>
<span class="cp">#define STA32X_AUTO1_AMPS	0x80</span>

<span class="cm">/* 0x0c AUTO2 */</span>
<span class="cp">#define STA32X_AUTO2_AMAME	0x01</span>
<span class="cp">#define STA32X_AUTO2_AMAM_MASK	0x0e</span>
<span class="cp">#define STA32X_AUTO2_AMAM_SHIFT	1</span>
<span class="cp">#define STA32X_AUTO2_XO_MASK	0xf0</span>
<span class="cp">#define STA32X_AUTO2_XO_SHIFT	4</span>

<span class="cm">/* 0x0d AUTO3 */</span>
<span class="cp">#define STA32X_AUTO3_PEQ_MASK	0x1f</span>
<span class="cp">#define STA32X_AUTO3_PEQ_SHIFT	0</span>

<span class="cm">/* 0x0e 0x0f 0x10 CxCFG */</span>
<span class="cp">#define STA32X_CxCFG_TCB	0x01	</span><span class="cm">/* only C1 and C2 */</span><span class="cp"></span>
<span class="cp">#define STA32X_CxCFG_TCB_SHIFT	0</span>
<span class="cp">#define STA32X_CxCFG_EQBP	0x02	</span><span class="cm">/* only C1 and C2 */</span><span class="cp"></span>
<span class="cp">#define STA32X_CxCFG_EQBP_SHIFT	1</span>
<span class="cp">#define STA32X_CxCFG_VBP	0x03</span>
<span class="cp">#define STA32X_CxCFG_VBP_SHIFT	2</span>
<span class="cp">#define STA32X_CxCFG_BO		0x04</span>
<span class="cp">#define STA32X_CxCFG_LS_MASK	0x30</span>
<span class="cp">#define STA32X_CxCFG_LS_SHIFT	4</span>
<span class="cp">#define STA32X_CxCFG_OM_MASK	0xc0</span>
<span class="cp">#define STA32X_CxCFG_OM_SHIFT	6</span>

<span class="cm">/* 0x11 TONE */</span>
<span class="cp">#define STA32X_TONE_BTC_SHIFT	0</span>
<span class="cp">#define STA32X_TONE_TTC_SHIFT	4</span>

<span class="cm">/* 0x12 0x13 0x14 0x15 limiter attack/release */</span>
<span class="cp">#define STA32X_LxA_SHIFT	0</span>
<span class="cp">#define STA32X_LxR_SHIFT	4</span>

<span class="cm">/* 0x26 CFUD */</span>
<span class="cp">#define STA32X_CFUD_W1		0x01</span>
<span class="cp">#define STA32X_CFUD_WA		0x02</span>
<span class="cp">#define STA32X_CFUD_R1		0x04</span>
<span class="cp">#define STA32X_CFUD_RA		0x08</span>


<span class="cm">/* biquad filter coefficient table offsets */</span>
<span class="cp">#define STA32X_C1_BQ_BASE	0</span>
<span class="cp">#define STA32X_C2_BQ_BASE	20</span>
<span class="cp">#define STA32X_CH_BQ_NUM	4</span>
<span class="cp">#define STA32X_BQ_NUM_COEF	5</span>
<span class="cp">#define STA32X_XO_HP_BQ_BASE	40</span>
<span class="cp">#define STA32X_XO_LP_BQ_BASE	45</span>
<span class="cp">#define STA32X_C1_PRESCALE	50</span>
<span class="cp">#define STA32X_C2_PRESCALE	51</span>
<span class="cp">#define STA32X_C1_POSTSCALE	52</span>
<span class="cp">#define STA32X_C2_POSTSCALE	53</span>
<span class="cp">#define STA32X_C3_POSTSCALE	54</span>
<span class="cp">#define STA32X_TW_POSTSCALE	55</span>
<span class="cp">#define STA32X_C1_MIX1		56</span>
<span class="cp">#define STA32X_C1_MIX2		57</span>
<span class="cp">#define STA32X_C2_MIX1		58</span>
<span class="cp">#define STA32X_C2_MIX2		59</span>
<span class="cp">#define STA32X_C3_MIX1		60</span>
<span class="cp">#define STA32X_C3_MIX2		61</span>

<span class="cp">#endif </span><span class="cm">/* _ASOC_STA_32X_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
