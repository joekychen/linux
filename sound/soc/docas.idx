d | pxa |  | 27 items |  | Qiao Zhou | zhouqiao@marvell.com | 1339388775 |  | ASoC: fix pxa-ssp compiling issue under mach-mmp  pxa-ssp.c uses API like cpu_is_pxa3xx(), cpu_is_pxa2xx(), which is defined under arch-pxa architecture, and drivers under mach-mmp can't find it. so just use ssp->type to replace that API.  Signed-off-by: Qiao Zhou <zhouqiao@marvell.com> Acked-by: Haojian Zhuang <haojian.zhuang@gmail.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | soc-pcm.c | s | 64K | 1926 | Liam Girdwood | lrg@ti.com | 1339109798 |  | ASoC: dpcm: Fix dpcm_get_be() to check that DAI is BE  Make sure that the dpcm_get_be() only returns BE DAI links.  Signed-off-by: Liam Girdwood <lrg@ti.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | soc-core.c | s | 101K | 3430 | Stephen Warren | swarren@nvidia.com | 1337157858 |  | ASoC: don't flip master of DT-instantiated DAI links  Commit 4924082 "ASoC: core: Flip master for CODECs in the CPU slot of a CODEC<->CODEC link" added code that was conditional on there being no PCM/DMA driver for the link. However, it failed to cover the case where the link was instantiated from device tree, and hence was specified by DT node rather than name.  This prevents the following error on Toshiba AC100: aplay: pcm_write:1603: write error: Input/output error  Signed-off-by: Stephen Warren <swarren@nvidia.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | Makefile | g | 951B |  | Ola Lilja | ola.o.lilja@stericsson.com | 1336564379 |  | ASoC: Ux500: Add MSP I2S-driver  Add driver for running I2S with the MSP-block.  Signed-off-by: Ola Lilja <ola.o.lilja@stericsson.com> [Fixed trailing whitespace -- broonie] Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | sh |  | 11 items |  | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1338372252 |  | ASoC: fsi: bugfix: ensure dma is terminated  FSI DMAEngine has to be stopped certainly at the start/stop time. Without this patch, it will include noise on playback.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | codecs |  | 196 items |  | Hebbar, Gururaja | gururaja.hebbar@ti.com | 1340954283 |  | ASoC: tlv320aic3x: Fix codec pll configure bug  In sound/soc/codecs/tlv320aic3x.c          data = snd_soc_read(codec, AIC3X_PLL_PROGA_REG);         snd_soc_write(codec, AIC3X_PLL_PROGA_REG,                       data || (pll_p << PLLP_SHIFT));  In the above code, pll-p value is OR'ed with previous value without clearing it. Bug is not seen if pll-p value doesn't change across Sampling frequency.  However on some platforms (like AM335x EVM-SK), pll-p may have different values across different sampling frequencies. In such case, above code configures the pll with a wrong value. Because of this bug, when a audio stream is played with pll value different from previous stream, audio is heard as differently(like its stretched).  Signed-off-by: Hebbar, Gururaja <gururaja.hebbar@ti.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Cc: stable@vger.kernel.org
d | omap |  | 28 items |  | Ricardo Neri | ricardo.neri@ti.com | 1337704404 |  | ASoC: OMAP: HDMI: Rename sound card source file  Rename sound card driver source file to encompass not only OMAP4 but future OMAP versions that feature HDMI.  Signed-off-by: Ricardo Neri <ricardo.neri@ti.com> Acked-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Signed-off-by: Liam Girdwood <lrg@ti.com>
d | jz4740 |  | 7 items |  | Maarten ter Huurne | maarten@treewalker.org | 1333732925 |  | ASoC: JZ4740: Replaced comma operators with semicolons.  They were harmless but also unnecessary, probably a leftover from earlier code.  Signed-off-by: Maarten ter Huurne <maarten@treewalker.org> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | ux500 |  | 6 items |  | Mark Brown | broonie@opensource.wolfsonmicro.com | 1336640718 |  | ASoC: ux500: Don't make the CPU I2S driver user selectable  It can only be used with a machine driver so the idiomatic thing for ASoC is to select this driver from the machine driver.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | soc-dmaengine-pcm.c | s | 7.9K | 247 | Vinod Koul | vinod.koul@linux.intel.com | 1332782891 |  | ASoC: dmaengine_pcm: use dmaengine cyclic wrapper  commit 4a163c82 added extra parameter to device_prep_dma_cyclic this is not required if we use the wrapper over cyclic API.  This is split from Alexedre's patch  Signed-off-by: Vinod Koul <vinod.koul@linux.intel.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | soc-cache.c | s | 7.8K | 298 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1323706828 |  | ASoC: Remove rbtree register cache  All users now use regmap directly so delete the ASoC version of the code.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | soc-io.c | s | 4.5K | 148 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1329852887 |  | ASoC: io: Retrieve val_bytes from the regmap API  Allow us to build infrastructure which needs to know the size of a value without requiring regmap based drivers to supply this information to both ASoC and regmap by asking regmap for the value.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com> Acked-by: Liam Girdwood <lrg@ti.com>
f | soc-dapm.c | s | 88K | 3085 | Liam Girdwood | lrg@ti.com | 1339109801 |  | ASoC: dapm: Fix input list to use source widgets  We should only add source widgets to the input list.  Signed-off-by: Liam Girdwood <lrg@ti.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | txx9 |  | 6 items |  | Alexandre Bounine | alexandre.bounine@idt.com | 1332337822 |  | dmaengine/dma_slave: introduce inline wrappers  Add inline wrappers for device_prep_slave_sg() and device_prep_dma_cyclic() interfaces to hide new parameter from current users of affected interfaces. Convert current users to use new wrappers instead of direct calls. Suggested by Russell King [https://lkml.org/lkml/2012/2/3/269].  Signed-off-by: Alexandre Bounine <alexandre.bounine@idt.com> Signed-off-by: Vinod Koul <vinod.koul@linux.intel.com>
d | mxs |  | 7 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337803543 |  | 
d | mid-x86 |  | 5 items |  | Liam Girdwood | lrg@ti.com | 1328359211 |  | ASoC: core: Add support for DAI and machine kcontrols.  Currently ASoC can only add kcontrols using codec and platform component device handles. It's also desirable to add kcontrols for DAIs (i.e. McBSP) and for SoC card machine drivers too. This allows the kcontrol to have a direct handle to the parent ASoC component DAI/SoC Card/Platform/Codec device and hence easily get it's private data.  This change makes snd_soc_add_controls() static and wraps it in the folowing calls (card and dai are new) :-  snd_soc_add_card_controls() snd_soc_add_codec_controls() snd_soc_add_dai_controls() snd_soc_add_platform_controls()  This patch also does a lot of small mechanical changes in individual codec drivers to replace snd_soc_add_controls() with snd_soc_add_codec_controls().  It also updates the McBSP DAI driver to use snd_soc_add_dai_controls().  Finally, it updates the existing machine drivers that register controls to either :-  1) Use snd_soc_add_card_controls() where no direct codec control is required. 2) Use snd_soc_add_codec_controls() where there is direct codec control.  In the case of 1) above we also update the machine drivers to get the correct component data pointers from the kcontrol (rather than getting the machine pointer via the codec pointer).  Signed-off-by: Liam Girdwood <lrg@ti.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | blackfin |  | 23 items |  | Mark Brown | broonie@opensource.wolfsonmicro.com | 1336912374 |  | 
f | soc-utils.c | s | 3.7K | 128 | Liam Girdwood | lrg@ti.com | 1327067907 |  | ASoC: utils - Add support for a dummy codec driver.  This is useful to create dummy codec devices where we need to have some DAI links without a real Codec. e.g. could be used to represent dumb FM, MODEM, etc  This is also used by dynamic PCM for DAI links that have no codec.  Signed-off-by: Liam Girdwood <lrg@ti.com> [Fixed the indentation -- broonie] Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | kirkwood |  | 7 items |  | Andrew Lunn | andrew@lunn.ch | 1336520043 |  | ARM: Orion: Audio: Add clk/clkdev support  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
d | nuc900 |  | 6 items |  | Russell King | rmk+kernel@arm.linux.org.uk | 1326466822 |  | Merge branch 'master' into fixes
d | ep93xx |  | 9 items |  | H Hartley Sweeten | hartleys@visionengravers.com | 1333276109 |  | ASoC: ep93xx-i2s: use devm_* helpers to cleanup probe  Use the devm_* helpers to cleanup the probe routine. This also eliminates having to carry the mem value in the private data for the remove.  Signed-off-by: H Hartley Sweeten <hsweeten@visionengravers.com> Tested-by: Mika Westerberg <mika.westerberg@iki.fi> Acked-by: Mika Westerberg <mika.westerberg@iki.fi> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | soc-jack.c | s | 9.6K | 329 | Mark Brown | broonie@opensource.wolfsonmicro.com | 1333276103 |  | ASoC: jack: Push locking for jacks down to the jack  Currently operations on jack reporting take the CODEC mutex both to protect the current jack status and also to protect the DAPM run which is triggered on status updates. Since the addition of a DAPM-specific lock we no longer need to worry about locking DAPM as it has its own finer grained lock so create a per jack lock to take care of the jack status.  This is both cleaner where the jack isn't specifically associated with a CODEC and clearer as it's much more obvious what the lock is protecting.  Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | atmel |  | 8 items |  | Axel Lin | axel.lin@gmail.com | 1328133174 |  | ASoC: Convert afeb9260 to table based DAPM init  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | s6000 |  | 7 items |  | Joachim Eastwood | joachim.eastwood@jotron.com | 1327067905 |  | ASoC: use proper defines for stream directions in pcm engines  Signed-off-by: Joachim Eastwood <joachim.eastwood@jotron.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | Kconfig | g | 1.5K |  | Ola Lilja | ola.o.lilja@stericsson.com | 1336564379 |  | ASoC: Ux500: Add MSP I2S-driver  Add driver for running I2S with the MSP-block.  Signed-off-by: Ola Lilja <ola.o.lilja@stericsson.com> [Fixed trailing whitespace -- broonie] Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | davinci |  | 11 items |  | Joachim Eastwood | joachim.eastwood@jotron.com | 1327067906 |  | ASoC: replace 0xffffffff with DMA_BIT_MASK macro  Signed-off-by: Joachim Eastwood <joachim.eastwood@jotron.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | au1x |  | 11 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1326575121 |  | Merge branch 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus  * 'upstream' of git://git.linux-mips.org/pub/scm/ralf/upstream-linus: (119 commits)   MIPS: Delete unused function add_temporary_entry.   MIPS: Set default pci cache line size.   MIPS: Flush huge TLB   MIPS: Octeon: Remove SYS_SUPPORTS_HIGHMEM.   MIPS: Octeon: Add support for OCTEON II PCIe   MIPS: Octeon: Update PCI Latency timer and enable more error reporting.   MIPS: Alchemy: Update cpu-feature-overrides   MIPS: Alchemy: db1200: Improve PB1200 detection.   MIPS: Alchemy: merge Au1000 and Au1300-style IRQ controller code.   MIPS: Alchemy: chain IRQ controllers to MIPS IRQ controller   MIPS: Alchemy: irq: register pm at irq init time   MIPS: Alchemy: Touchscreen support on DB1100   MIPS: Alchemy: Hook up IrDA on DB1000/DB1100   net/irda: convert au1k_ir to platform driver.   MIPS: Alchemy: remove unused board headers   MTD: nand: make au1550nd.c a platform_driver   MIPS: Netlogic: Mark Netlogic chips as SMT capable   MIPS: Netlogic: Add support for XLP 3XX cores   MIPS: Netlogic: Merge some of XLR/XLP wakup code   MIPS: Netlogic: Add default XLP config.   ...  Fix up trivial conflicts in arch/mips/kernel/{perf_event_mipsxx.c, traps.c} and drivers/tty/serial/Makefile
d | generic |  | 3 items |  | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1334312965 |  | ASoC: add generic simple-card support  Current ASoC requires card.c file to each platforms in order to specifies its CPU and Codecs pair. But the differences between these were only value/strings of setting. In order to reduce duplicate driver, this patch adds generic/simple-card.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | tegra |  | 20 items |  | Stephen Warren | swarren@nvidia.com | 1339472328 |  | ASoC: tegra+wm8903: turn of mic detect when card is removed  If mic detect is left enabled and the WM8903 detects a status change, the WM8903 driver will make a callback against the free()d jack, which will cause a crash.  This problem can be triggered by fully initializing an audio card, then removing and re-inserting the machine driver module.  Signed-off-by: Stephen Warren <swarren@nvidia.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
d | samsung |  | 44 items |  | Mark Brown | broonie@opensource.wolfsonmicro.com | 1336912374 |  | 
d | fsl |  | 31 items |  | Richard Zhao | richard.zhao@freescale.com | 1338803639 |  | ASoC: imx-audmux: add pinctrl support  Signed-off-by: Richard Zhao <richard.zhao@freescale.com> Acked-by: Dong Aisheng <dong.aisheng@linaro.org> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
