f | Makefile | g | 424B |  | matt mooney | mfm@muteddisk.com | 1300366977 |  | fs: change to new flag variable  Replace EXTRA_CFLAGS with ccflags-y. And change ntfs-objs to ntfs-y for cleaner conditional inclusion.  Signed-off-by: matt mooney <mfm@muteddisk.com> Acked-by: WANG Cong <xiyou.wangcong@gmail.com> Signed-off-by: Michal Marek <mmarek@suse.cz>
f | dir.c | s | 52K | 1557 | Josef Bacik | josef@redhat.com | 1311209279 |  | fs: push i_mutex and filemap_write_and_wait down into ->fsync() handlers  Btrfs needs to be able to control how filemap_write_and_wait_range() is called in fsync to make it less of a painful operation, so push down taking i_mutex and the calling of filemap_write_and_wait() down into the ->fsync() handlers.  Some file systems can drop taking the i_mutex altogether it seems, like ext3 and ocfs2.  For correctness sake I just pushed everything down in all cases to make sure that we keep the current behavior the same for everybody, and then each individual fs maintainer can make up their mind about what to do from there. Thanks,  Acked-by: Jan Kara <jack@suse.cz> Signed-off-by: Josef Bacik <josef@redhat.com> Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | debug.h | s | 2.2K | 53 | Joe Perches | joe@perches.com | 1320107454 |  | treewide: use __printf not __attribute__((format(printf,...)))  Standardize the style for compiler based printf format verification. Standardized the location of __printf too.  Done via script and a little typing.  $ grep -rPl --include=*.[ch] -w "__attribute__" * || \   grep -vP "^(tools||scripts||include/linux/compiler-gcc.h)" || \   xargs perl -n -i -e 'local $/; while (<>) { s/\b__attribute__\s*\(\s*\(\s*format\s*\(\s*printf\s*,\s*(.+)\s*,\s*(.+)\s*\)\s*\)\s*\)/__printf($1, $2)/g ; print; }'  [akpm@linux-foundation.org: revert arch bits] Signed-off-by: Joe Perches <joe@perches.com> Cc: "Kirill A. Shutemov" <kirill@shutemov.name> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | runlist.h | s | 3.3K | 85 | Anton Altaparmakov | aia21@cantab.net | 1126207594 |  | NTFS: Add ntfs_rl_punch_nolock() which punches a caller specified hole into a runlist.  Signed-off-by: Anton Altaparmakov <aia21@cantab.net>
f | layout.h | s | 96K | 2241 | Justin P. Mattock | justinmattock@gmail.com | 1329820836 |  | Typos: change aditional to additional.  The below patch fixes some typos "aditional" to "additional", and also fixes a comment with another word mispelled.  Signed-off-by: Justin P. Mattock <justinmattock@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | mft.h | s | 4.0K | 106 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | ntfs.h | s | 5.0K | 142 | Christoph Hellwig | hch@lst.de | 1193066001 |  | exportfs: make struct export_operations const  Now that nfsd has stopped writing to the find_exported_dentry member we an mark the export_operations const  Signed-off-by: Christoph Hellwig <hch@lst.de> Cc: Neil Brown <neilb@suse.de> Cc: "J. Bruce Fields" <bfields@fieldses.org> Cc: <linux-ext4@vger.kernel.org> Cc: Dave Kleikamp <shaggy@austin.ibm.com> Cc: Anton Altaparmakov <aia21@cantab.net> Cc: David Chinner <dgc@sgi.com> Cc: Timothy Shimmin <tes@sgi.com> Cc: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp> Cc: Hugh Dickins <hugh@veritas.com> Cc: Chris Mason <mason@suse.com> Cc: Jeff Mahoney <jeffm@suse.com> Cc: "Vladimir V. Saveliev" <vs@namesys.com> Cc: Steven Whitehouse <swhiteho@redhat.com> Cc: Mark Fasheh <mark.fasheh@oracle.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | attrib.h | s | 4.2K | 98 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | aops.h | s | 3.9K | 97 | Nick Piggin | npiggin@suse.de | 1178565171 |  | mm: make read_cache_page synchronous  Ensure pages are uptodate after returning from read_cache_page, which allows us to cut out most of the filesystem-internal PageUptodate calls.  I didn't have a great look down the call chains, but this appears to fixes 7 possible use-before uptodate in hfs, 2 in hfsplus, 1 in jfs, a few in ecryptfs, 1 in jffs2, and a possible cleared data overwritten with readpage in block2mtd.  All depending on whether the filler is async and/or can return with a !uptodate page.  Signed-off-by: Nick Piggin <npiggin@suse.de> Cc: Hugh Dickins <hugh@veritas.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | debug.c | s | 5.3K | 168 | Randy Dunlap | rddunlap@osdl.org | 1115287907 |  | NTFS: Fix printk format warnings on ia64. (Randy Dunlap)  Signed-off-by: Randy Dunlap <rddunlap@osdl.org> Signed-off-by: Anton Altaparmakov <aia21@cantab.net>
f | endian.h | s | 2.2K | 77 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | index.h | s | 5.5K | 137 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | aops.c | s | 47K | 1563 | Cong Wang | amwang@redhat.com | 1332251305 |  | ntfs: remove the second argument of k[un]map_atomic()  Signed-off-by: Cong Wang <amwang@redhat.com>
f | compress.c | s | 29K | 877 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | unistr.c | s | 12K | 376 | Christoph Lameter | clameter@sgi.com | 1165509563 |  | [PATCH] slab: remove SLAB_NOFS  SLAB_NOFS is an alias of GFP_NOFS.  Signed-off-by: Christoph Lameter <clameter@sgi.com> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | collate.c | s | 3.6K | 114 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | index.c | s | 14K | 447 | Tejun Heo | tj@kernel.org | 1269954152 |  | include cleanup: Update gfp.h and slab.h includes to prepare for breaking implicit slab.h inclusion from percpu.h  percpu.h is included by sched.h and module.h and thus ends up being included when building most .c files.  percpu.h includes slab.h which in turn includes gfp.h making everything defined by the two files universally available and complicating inclusion dependencies.  percpu.h -> slab.h dependency is about to be removed.  Prepare for this change by updating users of gfp and slab facilities include those headers directly instead of assuming availability.  As this conversion needs to touch large number of source files, the following script is used as the basis of conversion.    http://userweb.kernel.org/~tj/misc/slabh-sweep.py  The script does the followings.  * Scan files for gfp and slab usages and update includes such that   only the necessary includes are there.  ie. if only gfp is used,   gfp.h, if slab is used, slab.h.  * When the script inserts a new include, it looks at the include   blocks and try to put the new include such that its order conforms   to its surrounding.  It's put in the include block which contains   core kernel includes, in the same order that the rest are ordered -   alphabetical, Christmas tree, rev-Xmas-tree or at the end if there   doesn't seem to be any matching order.  * If the script can't find a place to put a new include (mostly   because the file doesn't have fitting include block), it prints out   an error message indicating which .h file needs to be added to the   file.  The conversion was done in the following steps.  1. The initial automatic conversion of all .c files updated slightly    over 4000 files, deleting around 700 includes and adding ~480 gfp.h    and ~3000 slab.h inclusions.  The script emitted errors for ~400    files.  2. Each error was manually checked.  Some didn't need the inclusion,    some needed manual addition while adding it to implementation .h or    embedding .c file was more appropriate for others.  This step added    inclusions to around 150 files.  3. The script was run again and the output was compared to the edits    from #2 to make sure no file was left behind.  4. Several build tests were done and a couple of problems were fixed.    e.g. lib/decompress_*.c used malloc/free() wrappers around slab    APIs requiring slab.h to be added manually.  5. The script was run on all .h files but without automatically    editing them as sprinkling gfp.h and slab.h inclusions around .h    files could easily lead to inclusion dependency hell.  Most gfp.h    inclusion directives were ignored as stuff from gfp.h was usually    wildly available and often used in preprocessor macros.  Each    slab.h inclusion directive was examined and added manually as    necessary.  6. percpu.h was updated not to include slab.h.  7. Build test were done on the following configurations and failures    were fixed.  CONFIG_GCOV_KERNEL was turned off for all tests (as my    distributed build env didn't work with gcov compiles) and a few    more options had to be turned off depending on archs to make things    build (like ipr on powerpc/64 which failed due to missing writeq).     * x86 and x86_64 UP and SMP allmodconfig and a custom test config.    * powerpc and powerpc64 SMP allmodconfig    * sparc and sparc64 SMP allmodconfig    * ia64 SMP allmodconfig    * s390 SMP allmodconfig    * alpha SMP allmodconfig    * um on x86_64 SMP allmodconfig  8. percpu.h modifications were reverted so that it could be applied as    a separate patch and serve as bisection point.  Given the fact that I had only a couple of failures from tests on step 6, I'm fairly confident about the coverage of this conversion patch. If there is a breakage, it's likely to be something in one of the arch headers which should be easily discoverable easily on most builds of the specific arch.  Signed-off-by: Tejun Heo <tj@kernel.org> Guess-its-ok-by: Christoph Lameter <cl@linux-foundation.org> Cc: Ingo Molnar <mingo@redhat.com> Cc: Lee Schermerhorn <Lee.Schermerhorn@hp.com>
f | usnjrnl.c | s | 2.7K | 78 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | types.h | s | 2.0K | 60 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | lcnalloc.c | s | 32K | 986 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | sysctl.c | s | 2.3K | 73 | Eric W. Biederman | ebiederm@xmission.com | 1258562260 |  | sysctl: Drop & in front of every proc_handler.  For consistency drop & in front of every proc_handler.  Explicity taking the address is unnecessary and it prevents optimizations like stubbing the proc_handlers to NULL.  Cc: Alexey Dobriyan <adobriyan@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: Joe Perches <joe@perches.com> Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
f | malloc.h | s | 3.1K | 89 | Jan Beulich | JBeulich@novell.com | 1253629058 |  | mm: replace various uses of num_physpages by totalram_pages  Sizing of memory allocations shouldn't depend on the number of physical pages found in a system, as that generally includes (perhaps a huge amount of) non-RAM pages.  The amount of what actually is usable as storage should instead be used as a basis here.  Some of the calculations (i.e.  those not intending to use high memory) should likely even use (totalram_pages - totalhigh_pages).  Signed-off-by: Jan Beulich <jbeulich@novell.com> Acked-by: Rusty Russell <rusty@rustcorp.com.au> Acked-by: Ingo Molnar <mingo@elte.hu> Cc: Dave Airlie <airlied@linux.ie> Cc: Kyle McMartin <kyle@mcmartin.ca> Cc: Jeremy Fitzhardinge <jeremy@goop.org> Cc: Pekka Enberg <penberg@cs.helsinki.fi> Cc: Hugh Dickins <hugh.dickins@tiscali.co.uk> Cc: "David S. Miller" <davem@davemloft.net> Cc: Patrick McHardy <kaber@trash.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | quota.c | s | 3.6K | 112 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | bitmap.c | s | 5.5K | 177 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | super.c | s | 100K | 3081 | Linus Torvalds | torvalds@linux-foundation.org | 1332362201 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/viro/vfs  Pull vfs pile 1 from Al Viro:  "This is _not_ all; in particular, Miklos' and Jan's stuff is not there   yet."  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/viro/vfs: (64 commits)   ext4: initialization of ext4_li_mtx needs to be done earlier   debugfs-related mode_t whack-a-mole   hfsplus: add an ioctl to bless files   hfsplus: change finder_info to u32   hfsplus: initialise userflags   qnx4: new helper - try_extent()   qnx4: get rid of qnx4_bread/qnx4_getblk   take removal of PF_FORKNOEXEC to flush_old_exec()   trim includes in inode.c   um: uml_dup_mmap() relies on ->mmap_sem being held, but activate_mm() doesn't hold it   um: embed ->stub_pages[] into mmu_context   gadgetfs: list_for_each_safe() misuse   ocfs2: fix leaks on failure exits in module_init   ecryptfs: make register_filesystem() the last potential failure exit   ntfs: forgets to unregister sysctls on register_filesystem() failure   logfs: missing cleanup on register_filesystem() failure   jfs: mising cleanup on register_filesystem() failure   make configfs_pin_fs() return root dentry on success   configfs: configfs_create_dir() has parent dentry in dentry->d_parent   configfs: sanitize configfs_create()   ...
f | dir.h | s | 1.6K | 42 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | upcase.c | s | 3.8K | 81 | Marcin Slusarz | marcin.slusarz@gmail.com | 1211648168 |  | ntfs: le*_add_cpu conversion  replace all: little_endian_variable = cpu_to_leX(leX_to_cpu(little_endian_variable) + 					expression_in_cpu_byteorder); with: 	leX_add_cpu(&little_endian_variable, expression_in_cpu_byteorder); generated with semantic patch  Signed-off-by: Marcin Slusarz <marcin.slusarz@gmail.com> Acked-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | quota.h | s | 1.2K | 29 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | inode.c | s | 96K | 2966 | Jan Kara | jack@suse.cz | 1336283021 |  | vfs: Rename end_writeback() to clear_inode()  After we moved inode_sync_wait() from end_writeback() it doesn't make sense to call the function end_writeback() anymore. Rename it to clear_inode() which well says what the function really does - set I_CLEAR flag.  Signed-off-by: Jan Kara <jack@suse.cz> Signed-off-by: Fengguang Wu <fengguang.wu@intel.com>
f | attrib.c | s | 89K | 2567 | Cong Wang | amwang@redhat.com | 1332251305 |  | ntfs: remove the second argument of k[un]map_atomic()  Signed-off-by: Cong Wang <amwang@redhat.com>
f | logfile.h | s | 13K | 291 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | bitmap.h | s | 3.5K | 106 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | mft.c | s | 99K | 2836 | Anton Altaparmakov | anton@tuxera.com | 1330075029 |  | NTFS: Correct two spelling errors "dealocate" to "deallocate" in mft.c.  From: Masanari Iida <standby24x7@gmail.com>  Signed-off-by: Anton Altaparmakov <anton@tuxera.com>
f | usnjrnl.h | s | 9.1K | 191 | Harvey Harrison | harvey.harrison@gmail.com | 1238601558 |  | ntfs: remove private wrapper of endian helpers  The base versions handle constant folding now and are shorter than these private wrappers, use them directly.  Signed-off-by: Harvey Harrison <harvey.harrison@gmail.com> Cc: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sysctl.h | s | 1.4K | 34 | Jan Engelhardt | jengelh@gmx.de | 1192828864 |  | Convert files to UTF-8 and some cleanups  * Convert files to UTF-8.    * Also correct some people's names     (one example is Eißfeldt, which was found in a source file.     Given that the author used an ß at all in a source file     indicates that the real name has in fact a 'ß' and not an 'ss',     which is commonly used as a substitute for 'ß' when limited to     7bit.)    * Correct town names (Goettingen -> Göttingen)    * Update Eberhard Mönkeberg's address (http://lkml.org/lkml/2007/1/8/313)  Signed-off-by: Jan Engelhardt <jengelh@gmx.de> Signed-off-by: Adrian Bunk <bunk@kernel.org>
f | lcnalloc.h | s | 5.7K | 132 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | namei.c | s | 14K | 382 | Tejun Heo | tj@kernel.org | 1269954152 |  | include cleanup: Update gfp.h and slab.h includes to prepare for breaking implicit slab.h inclusion from percpu.h  percpu.h is included by sched.h and module.h and thus ends up being included when building most .c files.  percpu.h includes slab.h which in turn includes gfp.h making everything defined by the two files universally available and complicating inclusion dependencies.  percpu.h -> slab.h dependency is about to be removed.  Prepare for this change by updating users of gfp and slab facilities include those headers directly instead of assuming availability.  As this conversion needs to touch large number of source files, the following script is used as the basis of conversion.    http://userweb.kernel.org/~tj/misc/slabh-sweep.py  The script does the followings.  * Scan files for gfp and slab usages and update includes such that   only the necessary includes are there.  ie. if only gfp is used,   gfp.h, if slab is used, slab.h.  * When the script inserts a new include, it looks at the include   blocks and try to put the new include such that its order conforms   to its surrounding.  It's put in the include block which contains   core kernel includes, in the same order that the rest are ordered -   alphabetical, Christmas tree, rev-Xmas-tree or at the end if there   doesn't seem to be any matching order.  * If the script can't find a place to put a new include (mostly   because the file doesn't have fitting include block), it prints out   an error message indicating which .h file needs to be added to the   file.  The conversion was done in the following steps.  1. The initial automatic conversion of all .c files updated slightly    over 4000 files, deleting around 700 includes and adding ~480 gfp.h    and ~3000 slab.h inclusions.  The script emitted errors for ~400    files.  2. Each error was manually checked.  Some didn't need the inclusion,    some needed manual addition while adding it to implementation .h or    embedding .c file was more appropriate for others.  This step added    inclusions to around 150 files.  3. The script was run again and the output was compared to the edits    from #2 to make sure no file was left behind.  4. Several build tests were done and a couple of problems were fixed.    e.g. lib/decompress_*.c used malloc/free() wrappers around slab    APIs requiring slab.h to be added manually.  5. The script was run on all .h files but without automatically    editing them as sprinkling gfp.h and slab.h inclusions around .h    files could easily lead to inclusion dependency hell.  Most gfp.h    inclusion directives were ignored as stuff from gfp.h was usually    wildly available and often used in preprocessor macros.  Each    slab.h inclusion directive was examined and added manually as    necessary.  6. percpu.h was updated not to include slab.h.  7. Build test were done on the following configurations and failures    were fixed.  CONFIG_GCOV_KERNEL was turned off for all tests (as my    distributed build env didn't work with gcov compiles) and a few    more options had to be turned off depending on archs to make things    build (like ipr on powerpc/64 which failed due to missing writeq).     * x86 and x86_64 UP and SMP allmodconfig and a custom test config.    * powerpc and powerpc64 SMP allmodconfig    * sparc and sparc64 SMP allmodconfig    * ia64 SMP allmodconfig    * s390 SMP allmodconfig    * alpha SMP allmodconfig    * um on x86_64 SMP allmodconfig  8. percpu.h modifications were reverted so that it could be applied as    a separate patch and serve as bisection point.  Given the fact that I had only a couple of failures from tests on step 6, I'm fairly confident about the coverage of this conversion patch. If there is a breakage, it's likely to be something in one of the arch headers which should be easily discoverable easily on most builds of the specific arch.  Signed-off-by: Tejun Heo <tj@kernel.org> Guess-its-ok-by: Christoph Lameter <cl@linux-foundation.org> Cc: Ingo Molnar <mingo@redhat.com> Cc: Lee Schermerhorn <Lee.Schermerhorn@hp.com>
f | runlist.c | s | 59K | 1816 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | Kconfig | g | 3.2K |  | Alexey Dobriyan | adobriyan@gmail.com | 1232619355 |  | fs/Kconfig: move ntfs out  Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
f | mst.c | s | 6.9K | 192 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | file.c | s | 66K | 2181 | Josef Bacik | josef@redhat.com | 1338566845 |  | fs: introduce inode operation ->update_time  Btrfs has to make sure we have space to allocate new blocks in order to modify the inode, so updating time can fail.  We've gotten around this by having our own file_update_time but this is kind of a pain, and Christoph has indicated he would like to make xfs do something different with atime updates.  So introduce ->update_time, where we will deal with i_version an a/m/c time updates and indicate which changes need to be made.  The normal version just does what it has always done, updates the time and marks the inode dirty, and then filesystems can choose to do something different.  I've gone through all of the users of file_update_time and made them check for errors with the exception of the fault code since it's complicated and I wasn't quite sure what to do there, also Jan is going to be pushing the file time updates into page_mkwrite for those who have it so that should satisfy btrfs and make it not a big deal to check the file_update_time() return code in the generic fault path. Thanks,  Signed-off-by: Josef Bacik <josef@redhat.com>
f | collate.h | s | 1.7K | 44 | Richard Knutsson | ricknu-0@student.ltu.se | 1159688359 |  | [PATCH] fs/ntfs: Conversion to generic boolean  Conversion of booleans to: generic-boolean.patch (2006-08-23)  Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se> Signed-off-by: Anton Altaparmakov <aia21@cantab.net> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | volume.h | s | 6.8K | 161 | Al Viro | viro@zeniv.linux.org.uk | 1325649308 |  | ntfs: propagate umode_t  same story as with isofs and udf...  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | time.h | s | 3.5K | 91 | Anton Altaparmakov | aia21@cantab.net | 1115287273 |  | NTFS: Change time to u64 in time.h::ntfs2utc() as it otherwise generates a       warning in the do_div() call on sparc32.  Thanks to Meelis Roos for the       report and analysis of the warning.  Signed-off-by: Anton Altaparmakov <aia21@cantab.net>
f | inode.h | s | 11K | 287 | Al Viro | viro@zeniv.linux.org.uk | 1325909994 |  | vfs: switch ->show_options() to struct dentry *  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | logfile.c | s | 28K | 842 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
