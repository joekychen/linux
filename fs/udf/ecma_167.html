<!DOCTYPE html>
<html><head><title>joekychen/linux » fs › udf › ecma_167.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../index.html"></a><h1>ecma_167.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * ecma_167.h</span>
<span class="cm"> *</span>
<span class="cm"> * This file is based on ECMA-167 3rd edition (June 1997)</span>
<span class="cm"> * http://www.ecma.ch</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2001-2002  Ben Fennema &lt;bfennema@falcon.csc.calpoly.edu&gt;</span>
<span class="cm"> * All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * Redistribution and use in source and binary forms, with or without</span>
<span class="cm"> * modification, are permitted provided that the following conditions</span>
<span class="cm"> * are met:</span>
<span class="cm"> * 1. Redistributions of source code must retain the above copyright</span>
<span class="cm"> *    notice, this list of conditions, and the following disclaimer,</span>
<span class="cm"> *    without modification.</span>
<span class="cm"> * 2. The name of the author may not be used to endorse or promote products</span>
<span class="cm"> *    derived from this software without specific prior written permission.</span>
<span class="cm"> *</span>
<span class="cm"> * Alternatively, this software may be distributed under the terms of the</span>
<span class="cm"> * GNU Public License (&quot;GPL&quot;).</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS&#39;&#39; AND</span>
<span class="cm"> * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
<span class="cm"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span>
<span class="cm"> * ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR</span>
<span class="cm"> * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<span class="cm"> * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</span>
<span class="cm"> * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span>
<span class="cm"> * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</span>
<span class="cm"> * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</span>
<span class="cm"> * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</span>
<span class="cm"> * SUCH DAMAGE.</span>
<span class="cm"> */</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cp">#ifndef _ECMA_167_H</span>
<span class="cp">#define _ECMA_167_H 1</span>

<span class="cm">/* Character set specification (ECMA 167r3 1/7.2.1) */</span>
<span class="k">struct</span> <span class="n">charspec</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">charSetType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">charSetInfo</span><span class="p">[</span><span class="mi">63</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Character Set Type (ECMA 167r3 1/7.2.1.1) */</span>
<span class="cp">#define CHARSPEC_TYPE_CS0		0x00	</span><span class="cm">/* (1/7.2.2) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS1		0x01	</span><span class="cm">/* (1/7.2.3) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS2		0x02	</span><span class="cm">/* (1/7.2.4) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS3		0x03	</span><span class="cm">/* (1/7.2.5) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS4		0x04	</span><span class="cm">/* (1/7.2.6) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS5		0x05	</span><span class="cm">/* (1/7.2.7) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS6		0x06	</span><span class="cm">/* (1/7.2.8) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS7		0x07	</span><span class="cm">/* (1/7.2.9) */</span><span class="cp"></span>
<span class="cp">#define CHARSPEC_TYPE_CS8		0x08	</span><span class="cm">/* (1/7.2.10) */</span><span class="cp"></span>

<span class="k">typedef</span> <span class="kt">uint8_t</span>		<span class="n">dstring</span><span class="p">;</span>

<span class="cm">/* Timestamp (ECMA 167r3 1/7.3) */</span>
<span class="k">struct</span> <span class="n">timestamp</span> <span class="p">{</span>
	<span class="n">__le16</span>		<span class="n">typeAndTimezone</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">year</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">month</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">day</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">hour</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">minute</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">second</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">centiseconds</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">hundredsOfMicroseconds</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">microseconds</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Type and Time Zone (ECMA 167r3 1/7.3.1) */</span>
<span class="cp">#define TIMESTAMP_TYPE_MASK		0xF000</span>
<span class="cp">#define TIMESTAMP_TYPE_CUT		0x0000</span>
<span class="cp">#define TIMESTAMP_TYPE_LOCAL		0x1000</span>
<span class="cp">#define TIMESTAMP_TYPE_AGREEMENT	0x2000</span>
<span class="cp">#define TIMESTAMP_TIMEZONE_MASK		0x0FFF</span>

<span class="cm">/* Entity identifier (ECMA 167r3 1/7.4) */</span>
<span class="k">struct</span> <span class="n">regid</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">flags</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">ident</span><span class="p">[</span><span class="mi">23</span><span class="p">];</span>
	<span class="kt">uint8_t</span>		<span class="n">identSuffix</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Flags (ECMA 167r3 1/7.4.1) */</span>
<span class="cp">#define ENTITYID_FLAGS_DIRTY		0x00</span>
<span class="cp">#define ENTITYID_FLAGS_PROTECTED	0x01</span>

<span class="cm">/* Volume Structure Descriptor (ECMA 167r3 2/9.1) */</span>
<span class="cp">#define VSD_STD_ID_LEN			5</span>
<span class="k">struct</span> <span class="n">volStructDesc</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">structType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">stdIdent</span><span class="p">[</span><span class="n">VSD_STD_ID_LEN</span><span class="p">];</span>
	<span class="kt">uint8_t</span>		<span class="n">structVersion</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">structData</span><span class="p">[</span><span class="mi">2041</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Standard Identifier (EMCA 167r2 2/9.1.2) */</span>
<span class="cp">#define VSD_STD_ID_NSR02		&quot;NSR02&quot;	</span><span class="cm">/* (3/9.1) */</span><span class="cp"></span>

<span class="cm">/* Standard Identifier (ECMA 167r3 2/9.1.2) */</span>
<span class="cp">#define VSD_STD_ID_BEA01		&quot;BEA01&quot;	</span><span class="cm">/* (2/9.2) */</span><span class="cp"></span>
<span class="cp">#define VSD_STD_ID_BOOT2		&quot;BOOT2&quot;	</span><span class="cm">/* (2/9.4) */</span><span class="cp"></span>
<span class="cp">#define VSD_STD_ID_CD001		&quot;CD001&quot;	</span><span class="cm">/* (ECMA-119) */</span><span class="cp"></span>
<span class="cp">#define VSD_STD_ID_CDW02		&quot;CDW02&quot;	</span><span class="cm">/* (ECMA-168) */</span><span class="cp"></span>
<span class="cp">#define VSD_STD_ID_NSR03		&quot;NSR03&quot;	</span><span class="cm">/* (3/9.1) */</span><span class="cp"></span>
<span class="cp">#define VSD_STD_ID_TEA01		&quot;TEA01&quot;	</span><span class="cm">/* (2/9.3) */</span><span class="cp"></span>

<span class="cm">/* Beginning Extended Area Descriptor (ECMA 167r3 2/9.2) */</span>
<span class="k">struct</span> <span class="n">beginningExtendedAreaDesc</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">structType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">stdIdent</span><span class="p">[</span><span class="n">VSD_STD_ID_LEN</span><span class="p">];</span>
	<span class="kt">uint8_t</span>		<span class="n">structVersion</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">structData</span><span class="p">[</span><span class="mi">2041</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Terminating Extended Area Descriptor (ECMA 167r3 2/9.3) */</span>
<span class="k">struct</span> <span class="n">terminatingExtendedAreaDesc</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">structType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">stdIdent</span><span class="p">[</span><span class="n">VSD_STD_ID_LEN</span><span class="p">];</span>
	<span class="kt">uint8_t</span>		<span class="n">structVersion</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">structData</span><span class="p">[</span><span class="mi">2041</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Boot Descriptor (ECMA 167r3 2/9.4) */</span>
<span class="k">struct</span> <span class="n">bootDesc</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>			<span class="n">structType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">stdIdent</span><span class="p">[</span><span class="n">VSD_STD_ID_LEN</span><span class="p">];</span>
	<span class="kt">uint8_t</span>			<span class="n">structVersion</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">reserved1</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">archType</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">bootIdent</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">bootExtLocation</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">bootExtLength</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">loadAddress</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">startAddress</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">descCreationDateAndTime</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">flags</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">reserved2</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="kt">uint8_t</span>			<span class="n">bootUse</span><span class="p">[</span><span class="mi">1906</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Flags (ECMA 167r3 2/9.4.12) */</span>
<span class="cp">#define BOOT_FLAGS_ERASE		0x01</span>

<span class="cm">/* Extent Descriptor (ECMA 167r3 3/7.1) */</span>
<span class="k">struct</span> <span class="n">extent_ad</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">extLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">extLocation</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">kernel_extent_ad</span> <span class="p">{</span>
	<span class="kt">uint32_t</span>	<span class="n">extLength</span><span class="p">;</span>
	<span class="kt">uint32_t</span>	<span class="n">extLocation</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Descriptor Tag (ECMA 167r3 3/7.2) */</span>
<span class="k">struct</span> <span class="n">tag</span> <span class="p">{</span>
	<span class="n">__le16</span>		<span class="n">tagIdent</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">descVersion</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">tagChecksum</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">tagSerialNum</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">descCRC</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">descCRCLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">tagLocation</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Tag Identifier (ECMA 167r3 3/7.2.1) */</span>
<span class="cp">#define TAG_IDENT_PVD			0x0001</span>
<span class="cp">#define TAG_IDENT_AVDP			0x0002</span>
<span class="cp">#define TAG_IDENT_VDP			0x0003</span>
<span class="cp">#define TAG_IDENT_IUVD			0x0004</span>
<span class="cp">#define TAG_IDENT_PD			0x0005</span>
<span class="cp">#define TAG_IDENT_LVD			0x0006</span>
<span class="cp">#define TAG_IDENT_USD			0x0007</span>
<span class="cp">#define TAG_IDENT_TD			0x0008</span>
<span class="cp">#define TAG_IDENT_LVID			0x0009</span>

<span class="cm">/* NSR Descriptor (ECMA 167r3 3/9.1) */</span>
<span class="k">struct</span> <span class="n">NSRDesc</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">structType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">stdIdent</span><span class="p">[</span><span class="n">VSD_STD_ID_LEN</span><span class="p">];</span>
	<span class="kt">uint8_t</span>		<span class="n">structVersion</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">structData</span><span class="p">[</span><span class="mi">2040</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Primary Volume Descriptor (ECMA 167r3 3/10.1) */</span>
<span class="k">struct</span> <span class="n">primaryVolDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">volDescSeqNum</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">primaryVolDescNum</span><span class="p">;</span>
	<span class="n">dstring</span>			<span class="n">volIdent</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__le16</span>			<span class="n">volSeqNum</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">maxVolSeqNum</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">interchangeLvl</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">maxInterchangeLvl</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">charSetList</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">maxCharSetList</span><span class="p">;</span>
	<span class="n">dstring</span>			<span class="n">volSetIdent</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">charspec</span>		<span class="n">descCharSet</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">charspec</span>		<span class="n">explanatoryCharSet</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">volAbstract</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">volCopyright</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">appIdent</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">recordingDateAndTime</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">impIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">impUse</span><span class="p">[</span><span class="mi">64</span><span class="p">];</span>
	<span class="n">__le32</span>			<span class="n">predecessorVolDescSeqLocation</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">flags</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">reserved</span><span class="p">[</span><span class="mi">22</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Flags (ECMA 167r3 3/10.1.21) */</span>
<span class="cp">#define PVD_FLAGS_VSID_COMMON		0x0001</span>

<span class="cm">/* Anchor Volume Descriptor Pointer (ECMA 167r3 3/10.2) */</span>
<span class="k">struct</span> <span class="n">anchorVolDescPtr</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">mainVolDescSeqExt</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">reserveVolDescSeqExt</span><span class="p">;</span>
	<span class="kt">uint8_t</span>	 		<span class="n">reserved</span><span class="p">[</span><span class="mi">480</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Volume Descriptor Pointer (ECMA 167r3 3/10.3) */</span>
<span class="k">struct</span> <span class="n">volDescPtr</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">volDescSeqNum</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">nextVolDescSeqExt</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">reserved</span><span class="p">[</span><span class="mi">484</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Implementation Use Volume Descriptor (ECMA 167r3 3/10.4) */</span>
<span class="k">struct</span> <span class="n">impUseVolDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">volDescSeqNum</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>	<span class="n">impIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">impUse</span><span class="p">[</span><span class="mi">460</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Partition Descriptor (ECMA 167r3 3/10.5) */</span>
<span class="k">struct</span> <span class="n">partitionDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span> <span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">volDescSeqNum</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">partitionFlags</span><span class="p">;</span>
	<span class="n">__le16</span> <span class="n">partitionNumber</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span> <span class="n">partitionContents</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">partitionContentsUse</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="n">__le32</span> <span class="n">accessType</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">partitionStartingLocation</span><span class="p">;</span>
	<span class="n">__le32</span> <span class="n">partitionLength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span> <span class="n">impIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span> <span class="n">impUse</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="kt">uint8_t</span> <span class="n">reserved</span><span class="p">[</span><span class="mi">156</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Partition Flags (ECMA 167r3 3/10.5.3) */</span>
<span class="cp">#define PD_PARTITION_FLAGS_ALLOC	0x0001</span>

<span class="cm">/* Partition Contents (ECMA 167r2 3/10.5.3) */</span>
<span class="cp">#define PD_PARTITION_CONTENTS_NSR02	&quot;+NSR02&quot;</span>

<span class="cm">/* Partition Contents (ECMA 167r3 3/10.5.5) */</span>
<span class="cp">#define PD_PARTITION_CONTENTS_FDC01	&quot;+FDC01&quot;</span>
<span class="cp">#define PD_PARTITION_CONTENTS_CD001	&quot;+CD001&quot;</span>
<span class="cp">#define PD_PARTITION_CONTENTS_CDW02	&quot;+CDW02&quot;</span>
<span class="cp">#define PD_PARTITION_CONTENTS_NSR03	&quot;+NSR03&quot;</span>

<span class="cm">/* Access Type (ECMA 167r3 3/10.5.7) */</span>
<span class="cp">#define PD_ACCESS_TYPE_NONE		0x00000000</span>
<span class="cp">#define PD_ACCESS_TYPE_READ_ONLY	0x00000001</span>
<span class="cp">#define PD_ACCESS_TYPE_WRITE_ONCE	0x00000002</span>
<span class="cp">#define PD_ACCESS_TYPE_REWRITABLE	0x00000003</span>
<span class="cp">#define PD_ACCESS_TYPE_OVERWRITABLE	0x00000004</span>

<span class="cm">/* Logical Volume Descriptor (ECMA 167r3 3/10.6) */</span>
<span class="k">struct</span> <span class="n">logicalVolDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">volDescSeqNum</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">charspec</span>		<span class="n">descCharSet</span><span class="p">;</span>
	<span class="n">dstring</span>			<span class="n">logicalVolIdent</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="n">__le32</span>			<span class="n">logicalBlockSize</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">domainIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">logicalVolContentsUse</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
	<span class="n">__le32</span>			<span class="n">mapTableLength</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">numPartitionMaps</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">impIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">impUse</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">integritySeqExt</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">partitionMaps</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Generic Partition Map (ECMA 167r3 3/10.7.1) */</span>
<span class="k">struct</span> <span class="n">genericPartitionMap</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionMapType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionMapLength</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionMapping</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Partition Map Type (ECMA 167r3 3/10.7.1.1) */</span>
<span class="cp">#define GP_PARTITION_MAP_TYPE_UNDEF	0x00</span>
<span class="cp">#define GP_PARTIITON_MAP_TYPE_1		0x01</span>
<span class="cp">#define GP_PARTITION_MAP_TYPE_2		0x02</span>

<span class="cm">/* Type 1 Partition Map (ECMA 167r3 3/10.7.2) */</span>
<span class="k">struct</span> <span class="n">genericPartitionMap1</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionMapType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionMapLength</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">volSeqNum</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">partitionNum</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Type 2 Partition Map (ECMA 167r3 3/10.7.3) */</span>
<span class="k">struct</span> <span class="n">genericPartitionMap2</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionMapType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionMapLength</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">partitionIdent</span><span class="p">[</span><span class="mi">62</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Unallocated Space Descriptor (ECMA 167r3 3/10.8) */</span>
<span class="k">struct</span> <span class="n">unallocSpaceDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">volDescSeqNum</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">numAllocDescs</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">allocDescs</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Terminating Descriptor (ECMA 167r3 3/10.9) */</span>
<span class="k">struct</span> <span class="n">terminatingDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">496</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Logical Volume Integrity Descriptor (ECMA 167r3 3/10.10) */</span>
<span class="k">struct</span> <span class="n">logicalVolIntegrityDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">recordingDateAndTime</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">integrityType</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">extent_ad</span>	<span class="n">nextIntegrityExt</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">logicalVolContentsUse</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__le32</span>			<span class="n">numOfPartitions</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">lengthOfImpUse</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">freeSpaceTable</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="n">__le32</span>			<span class="n">sizeTable</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="kt">uint8_t</span>			<span class="n">impUse</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Integrity Type (ECMA 167r3 3/10.10.3) */</span>
<span class="cp">#define LVID_INTEGRITY_TYPE_OPEN	0x00000000</span>
<span class="cp">#define LVID_INTEGRITY_TYPE_CLOSE	0x00000001</span>

<span class="cm">/* Recorded Address (ECMA 167r3 4/7.1) */</span>
<span class="k">struct</span> <span class="n">lb_addr</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">logicalBlockNum</span><span class="p">;</span>
	<span class="n">__le16</span>	 	<span class="n">partitionReferenceNum</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* ... and its in-core analog */</span>
<span class="k">struct</span> <span class="n">kernel_lb_addr</span> <span class="p">{</span>
	<span class="kt">uint32_t</span>		<span class="n">logicalBlockNum</span><span class="p">;</span>
	<span class="kt">uint16_t</span>	 	<span class="n">partitionReferenceNum</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Short Allocation Descriptor (ECMA 167r3 4/14.14.1) */</span>
<span class="k">struct</span> <span class="n">short_ad</span> <span class="p">{</span>
        <span class="n">__le32</span>		<span class="n">extLength</span><span class="p">;</span>
        <span class="n">__le32</span>		<span class="n">extPosition</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Long Allocation Descriptor (ECMA 167r3 4/14.14.2) */</span>
<span class="k">struct</span> <span class="n">long_ad</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">extLength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lb_addr</span>	<span class="n">extLocation</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">impUse</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">kernel_long_ad</span> <span class="p">{</span>
	<span class="kt">uint32_t</span>		<span class="n">extLength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">kernel_lb_addr</span>	<span class="n">extLocation</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">impUse</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/* Extended Allocation Descriptor (ECMA 167r3 4/14.14.3) */</span>
<span class="k">struct</span> <span class="n">ext_ad</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">extLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">recordedLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">informationLength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lb_addr</span>	<span class="n">extLocation</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="k">struct</span> <span class="n">kernel_ext_ad</span> <span class="p">{</span>
	<span class="kt">uint32_t</span>		<span class="n">extLength</span><span class="p">;</span>
	<span class="kt">uint32_t</span>		<span class="n">recordedLength</span><span class="p">;</span>
	<span class="kt">uint32_t</span>		<span class="n">informationLength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">kernel_lb_addr</span>	<span class="n">extLocation</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* Descriptor Tag (ECMA 167r3 4/7.2 - See 3/7.2) */</span>

<span class="cm">/* Tag Identifier (ECMA 167r3 4/7.2.1) */</span>
<span class="cp">#define TAG_IDENT_FSD			0x0100</span>
<span class="cp">#define TAG_IDENT_FID			0x0101</span>
<span class="cp">#define TAG_IDENT_AED			0x0102</span>
<span class="cp">#define TAG_IDENT_IE			0x0103</span>
<span class="cp">#define TAG_IDENT_TE			0x0104</span>
<span class="cp">#define TAG_IDENT_FE			0x0105</span>
<span class="cp">#define TAG_IDENT_EAHD			0x0106</span>
<span class="cp">#define TAG_IDENT_USE			0x0107</span>
<span class="cp">#define TAG_IDENT_SBD			0x0108</span>
<span class="cp">#define TAG_IDENT_PIE			0x0109</span>
<span class="cp">#define TAG_IDENT_EFE			0x010A</span>

<span class="cm">/* File Set Descriptor (ECMA 167r3 4/14.1) */</span>
<span class="k">struct</span> <span class="n">fileSetDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">recordingDateAndTime</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">interchangeLvl</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">maxInterchangeLvl</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">charSetList</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">maxCharSetList</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">fileSetNum</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">fileSetDescNum</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">charspec</span>		<span class="n">logicalVolIdentCharSet</span><span class="p">;</span>
	<span class="n">dstring</span>			<span class="n">logicalVolIdent</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">charspec</span>		<span class="n">fileSetCharSet</span><span class="p">;</span>
	<span class="n">dstring</span>			<span class="n">fileSetIdent</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">dstring</span>			<span class="n">copyrightFileIdent</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">dstring</span>			<span class="n">abstractFileIdent</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">long_ad</span>		<span class="n">rootDirectoryICB</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">domainIdent</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">long_ad</span>		<span class="n">nextExt</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">long_ad</span>		<span class="n">streamDirectoryICB</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">reserved</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Partition Header Descriptor (ECMA 167r3 4/14.3) */</span>
<span class="k">struct</span> <span class="n">partitionHeaderDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">short_ad</span>	<span class="n">unallocSpaceTable</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">short_ad</span>	<span class="n">unallocSpaceBitmap</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">short_ad</span>	<span class="n">partitionIntegrityTable</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">short_ad</span>	<span class="n">freedSpaceTable</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">short_ad</span>	<span class="n">freedSpaceBitmap</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">88</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* File Identifier Descriptor (ECMA 167r3 4/14.4) */</span>
<span class="k">struct</span> <span class="n">fileIdentDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">fileVersionNum</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">fileCharacteristics</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">lengthFileIdent</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">long_ad</span>	<span class="n">icb</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">lengthOfImpUse</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">impUse</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="kt">uint8_t</span>		<span class="n">fileIdent</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="kt">uint8_t</span>		<span class="n">padding</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* File Characteristics (ECMA 167r3 4/14.4.3) */</span>
<span class="cp">#define FID_FILE_CHAR_HIDDEN		0x01</span>
<span class="cp">#define FID_FILE_CHAR_DIRECTORY		0x02</span>
<span class="cp">#define FID_FILE_CHAR_DELETED		0x04</span>
<span class="cp">#define FID_FILE_CHAR_PARENT		0x08</span>
<span class="cp">#define FID_FILE_CHAR_METADATA		0x10</span>

<span class="cm">/* Allocation Ext Descriptor (ECMA 167r3 4/14.5) */</span>
<span class="k">struct</span> <span class="n">allocExtDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">previousAllocExtLocation</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">lengthAllocDescs</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* ICB Tag (ECMA 167r3 4/14.6) */</span>
<span class="k">struct</span> <span class="n">icbtag</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">priorRecordedNumDirectEntries</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">strategyType</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">strategyParameter</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">numEntries</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">fileType</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">lb_addr</span>	<span class="n">parentICBLocation</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">flags</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Strategy Type (ECMA 167r3 4/14.6.2) */</span>
<span class="cp">#define ICBTAG_STRATEGY_TYPE_UNDEF	0x0000</span>
<span class="cp">#define ICBTAG_STRATEGY_TYPE_1		0x0001</span>
<span class="cp">#define ICBTAG_STRATEGY_TYPE_2		0x0002</span>
<span class="cp">#define ICBTAG_STRATEGY_TYPE_3		0x0003</span>
<span class="cp">#define ICBTAG_STRATEGY_TYPE_4		0x0004</span>

<span class="cm">/* File Type (ECMA 167r3 4/14.6.6) */</span>
<span class="cp">#define ICBTAG_FILE_TYPE_UNDEF		0x00</span>
<span class="cp">#define ICBTAG_FILE_TYPE_USE		0x01</span>
<span class="cp">#define ICBTAG_FILE_TYPE_PIE		0x02</span>
<span class="cp">#define ICBTAG_FILE_TYPE_IE		0x03</span>
<span class="cp">#define ICBTAG_FILE_TYPE_DIRECTORY	0x04</span>
<span class="cp">#define ICBTAG_FILE_TYPE_REGULAR	0x05</span>
<span class="cp">#define ICBTAG_FILE_TYPE_BLOCK		0x06</span>
<span class="cp">#define ICBTAG_FILE_TYPE_CHAR		0x07</span>
<span class="cp">#define ICBTAG_FILE_TYPE_EA		0x08</span>
<span class="cp">#define ICBTAG_FILE_TYPE_FIFO		0x09</span>
<span class="cp">#define ICBTAG_FILE_TYPE_SOCKET		0x0A</span>
<span class="cp">#define ICBTAG_FILE_TYPE_TE		0x0B</span>
<span class="cp">#define ICBTAG_FILE_TYPE_SYMLINK	0x0C</span>
<span class="cp">#define ICBTAG_FILE_TYPE_STREAMDIR	0x0D</span>

<span class="cm">/* Flags (ECMA 167r3 4/14.6.8) */</span>
<span class="cp">#define ICBTAG_FLAG_AD_MASK		0x0007</span>
<span class="cp">#define ICBTAG_FLAG_AD_SHORT		0x0000</span>
<span class="cp">#define ICBTAG_FLAG_AD_LONG		0x0001</span>
<span class="cp">#define ICBTAG_FLAG_AD_EXTENDED		0x0002</span>
<span class="cp">#define ICBTAG_FLAG_AD_IN_ICB		0x0003</span>
<span class="cp">#define ICBTAG_FLAG_SORTED		0x0008</span>
<span class="cp">#define ICBTAG_FLAG_NONRELOCATABLE	0x0010</span>
<span class="cp">#define ICBTAG_FLAG_ARCHIVE		0x0020</span>
<span class="cp">#define ICBTAG_FLAG_SETUID		0x0040</span>
<span class="cp">#define ICBTAG_FLAG_SETGID		0x0080</span>
<span class="cp">#define ICBTAG_FLAG_STICKY		0x0100</span>
<span class="cp">#define ICBTAG_FLAG_CONTIGUOUS		0x0200</span>
<span class="cp">#define ICBTAG_FLAG_SYSTEM		0x0400</span>
<span class="cp">#define ICBTAG_FLAG_TRANSFORMED		0x0800</span>
<span class="cp">#define ICBTAG_FLAG_MULTIVERSIONS	0x1000</span>
<span class="cp">#define ICBTAG_FLAG_STREAM		0x2000</span>

<span class="cm">/* Indirect Entry (ECMA 167r3 4/14.7) */</span>
<span class="k">struct</span> <span class="n">indirectEntry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">icbtag</span>	<span class="n">icbTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">long_ad</span>	<span class="n">indirectICB</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Terminal Entry (ECMA 167r3 4/14.8) */</span>
<span class="k">struct</span> <span class="n">terminalEntry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">icbtag</span>	<span class="n">icbTag</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* File Entry (ECMA 167r3 4/14.9) */</span>
<span class="k">struct</span> <span class="n">fileEntry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">icbtag</span>		<span class="n">icbTag</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">uid</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">gid</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">permissions</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">fileLinkCount</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">recordFormat</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">recordDisplayAttr</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">recordLength</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">informationLength</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">logicalBlocksRecorded</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">accessTime</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">modificationTime</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">attrTime</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">checkpoint</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">long_ad</span>		<span class="n">extendedAttrICB</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">impIdent</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">uniqueID</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">lengthExtendedAttr</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">lengthAllocDescs</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">extendedAttr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="kt">uint8_t</span>			<span class="n">allocDescs</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Permissions (ECMA 167r3 4/14.9.5) */</span>
<span class="cp">#define FE_PERM_O_EXEC			0x00000001U</span>
<span class="cp">#define FE_PERM_O_WRITE			0x00000002U</span>
<span class="cp">#define FE_PERM_O_READ			0x00000004U</span>
<span class="cp">#define FE_PERM_O_CHATTR		0x00000008U</span>
<span class="cp">#define FE_PERM_O_DELETE		0x00000010U</span>
<span class="cp">#define FE_PERM_G_EXEC			0x00000020U</span>
<span class="cp">#define FE_PERM_G_WRITE			0x00000040U</span>
<span class="cp">#define FE_PERM_G_READ			0x00000080U</span>
<span class="cp">#define FE_PERM_G_CHATTR		0x00000100U</span>
<span class="cp">#define FE_PERM_G_DELETE		0x00000200U</span>
<span class="cp">#define FE_PERM_U_EXEC			0x00000400U</span>
<span class="cp">#define FE_PERM_U_WRITE			0x00000800U</span>
<span class="cp">#define FE_PERM_U_READ			0x00001000U</span>
<span class="cp">#define FE_PERM_U_CHATTR		0x00002000U</span>
<span class="cp">#define FE_PERM_U_DELETE		0x00004000U</span>

<span class="cm">/* Record Format (ECMA 167r3 4/14.9.7) */</span>
<span class="cp">#define FE_RECORD_FMT_UNDEF		0x00</span>
<span class="cp">#define FE_RECORD_FMT_FIXED_PAD		0x01</span>
<span class="cp">#define FE_RECORD_FMT_FIXED		0x02</span>
<span class="cp">#define FE_RECORD_FMT_VARIABLE8		0x03</span>
<span class="cp">#define FE_RECORD_FMT_VARIABLE16	0x04</span>
<span class="cp">#define FE_RECORD_FMT_VARIABLE16_MSB	0x05</span>
<span class="cp">#define FE_RECORD_FMT_VARIABLE32	0x06</span>
<span class="cp">#define FE_RECORD_FMT_PRINT		0x07</span>
<span class="cp">#define FE_RECORD_FMT_LF		0x08</span>
<span class="cp">#define FE_RECORD_FMT_CR		0x09</span>
<span class="cp">#define FE_RECORD_FMT_CRLF		0x0A</span>
<span class="cp">#define FE_RECORD_FMT_LFCR		0x0B</span>

<span class="cm">/* Record Display Attributes (ECMA 167r3 4/14.9.8) */</span>
<span class="cp">#define FE_RECORD_DISPLAY_ATTR_UNDEF	0x00</span>
<span class="cp">#define FE_RECORD_DISPLAY_ATTR_1	0x01</span>
<span class="cp">#define FE_RECORD_DISPLAY_ATTR_2	0x02</span>
<span class="cp">#define FE_RECORD_DISPLAY_ATTR_3	0x03</span>

<span class="cm">/* Extended Attribute Header Descriptor (ECMA 167r3 4/14.10.1) */</span>
<span class="k">struct</span> <span class="n">extendedAttrHeaderDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">impAttrLocation</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">appAttrLocation</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Generic Format (ECMA 167r3 4/14.10.2) */</span>
<span class="k">struct</span> <span class="n">genericFormat</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrData</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Character Set Information (ECMA 167r3 4/14.10.3) */</span>
<span class="k">struct</span> <span class="n">charSetInfo</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">escapeSeqLength</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">charSetType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">escapeSeq</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Alternate Permissions (ECMA 167r3 4/14.10.4) */</span>
<span class="k">struct</span> <span class="n">altPerms</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">ownerIdent</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">groupIdent</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">permission</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* File Times Extended Attribute (ECMA 167r3 4/14.10.5) */</span>
<span class="k">struct</span> <span class="n">fileTimesExtAttr</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">dataLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">fileTimeExistence</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">fileTimes</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* FileTimeExistence (ECMA 167r3 4/14.10.5.6) */</span>
<span class="cp">#define FTE_CREATION			0x00000001</span>
<span class="cp">#define FTE_DELETION			0x00000004</span>
<span class="cp">#define FTE_EFFECTIVE			0x00000008</span>
<span class="cp">#define FTE_BACKUP			0x00000002</span>

<span class="cm">/* Information Times Extended Attribute (ECMA 167r3 4/14.10.6) */</span>
<span class="k">struct</span> <span class="n">infoTimesExtAttr</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">dataLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">infoTimeExistence</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">infoTimes</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Device Specification (ECMA 167r3 4/14.10.7) */</span>
<span class="k">struct</span> <span class="n">deviceSpec</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">impUseLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">majorDeviceIdent</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">minorDeviceIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">impUse</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Implementation Use Extended Attr (ECMA 167r3 4/14.10.8) */</span>
<span class="k">struct</span> <span class="n">impUseExtAttr</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">impUseLength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>	<span class="n">impIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">impUse</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Application Use Extended Attribute (ECMA 167r3 4/14.10.9) */</span>
<span class="k">struct</span> <span class="n">appUseExtAttr</span> <span class="p">{</span>
	<span class="n">__le32</span>		<span class="n">attrType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">attrSubtype</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
	<span class="n">__le32</span>		<span class="n">attrLength</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">appUseLength</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>	<span class="n">appIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">appUse</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cp">#define EXTATTR_CHAR_SET		1</span>
<span class="cp">#define EXTATTR_ALT_PERMS		3</span>
<span class="cp">#define EXTATTR_FILE_TIMES		5</span>
<span class="cp">#define EXTATTR_INFO_TIMES		6</span>
<span class="cp">#define EXTATTR_DEV_SPEC		12</span>
<span class="cp">#define EXTATTR_IMP_USE			2048</span>
<span class="cp">#define EXTATTR_APP_USE			65536</span>

<span class="cm">/* Unallocated Space Entry (ECMA 167r3 4/14.11) */</span>
<span class="k">struct</span> <span class="n">unallocSpaceEntry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">icbtag</span>	<span class="n">icbTag</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">lengthAllocDescs</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">allocDescs</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Space Bitmap Descriptor (ECMA 167r3 4/14.12) */</span>
<span class="k">struct</span> <span class="n">spaceBitmapDesc</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>	<span class="n">descTag</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">numOfBits</span><span class="p">;</span>
	<span class="n">__le32</span>		<span class="n">numOfBytes</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">bitmap</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Partition Integrity Entry (ECMA 167r3 4/14.13) */</span>
<span class="k">struct</span> <span class="n">partitionIntegrityEntry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">icbtag</span>		<span class="n">icbTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">recordingDateAndTime</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">integrityType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">reserved</span><span class="p">[</span><span class="mi">175</span><span class="p">];</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">impIdent</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">impUse</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Short Allocation Descriptor (ECMA 167r3 4/14.14.1) */</span>

<span class="cm">/* Extent Length (ECMA 167r3 4/14.14.1.1) */</span>
<span class="cp">#define EXT_RECORDED_ALLOCATED		0x00000000</span>
<span class="cp">#define EXT_NOT_RECORDED_ALLOCATED	0x40000000</span>
<span class="cp">#define EXT_NOT_RECORDED_NOT_ALLOCATED	0x80000000</span>
<span class="cp">#define EXT_NEXT_EXTENT_ALLOCDECS	0xC0000000</span>

<span class="cm">/* Long Allocation Descriptor (ECMA 167r3 4/14.14.2) */</span>

<span class="cm">/* Extended Allocation Descriptor (ECMA 167r3 4/14.14.3) */</span>

<span class="cm">/* Logical Volume Header Descriptor (ECMA 167r3 4/14.15) */</span>
<span class="k">struct</span> <span class="n">logicalVolHeaderDesc</span> <span class="p">{</span>
	<span class="n">__le64</span>		<span class="n">uniqueID</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">reserved</span><span class="p">[</span><span class="mi">24</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* Path Component (ECMA 167r3 4/14.16.1) */</span>
<span class="k">struct</span> <span class="n">pathComponent</span> <span class="p">{</span>
	<span class="kt">uint8_t</span>		<span class="n">componentType</span><span class="p">;</span>
	<span class="kt">uint8_t</span>		<span class="n">lengthComponentIdent</span><span class="p">;</span>
	<span class="n">__le16</span>		<span class="n">componentFileVersionNum</span><span class="p">;</span>
	<span class="n">dstring</span>		<span class="n">componentIdent</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cm">/* File Entry (ECMA 167r3 4/14.17) */</span>
<span class="k">struct</span> <span class="n">extendedFileEntry</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">tag</span>		<span class="n">descTag</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">icbtag</span>		<span class="n">icbTag</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">uid</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">gid</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">permissions</span><span class="p">;</span>
	<span class="n">__le16</span>			<span class="n">fileLinkCount</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">recordFormat</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">recordDisplayAttr</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">recordLength</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">informationLength</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">objectSize</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">logicalBlocksRecorded</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">accessTime</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">modificationTime</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">createTime</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">timestamp</span>	<span class="n">attrTime</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">checkpoint</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">reserved</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">long_ad</span>		<span class="n">extendedAttrICB</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">long_ad</span>		<span class="n">streamDirectoryICB</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">regid</span>		<span class="n">impIdent</span><span class="p">;</span>
	<span class="n">__le64</span>			<span class="n">uniqueID</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">lengthExtendedAttr</span><span class="p">;</span>
	<span class="n">__le32</span>			<span class="n">lengthAllocDescs</span><span class="p">;</span>
	<span class="kt">uint8_t</span>			<span class="n">extendedAttr</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="kt">uint8_t</span>			<span class="n">allocDescs</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">}</span> <span class="n">__attribute__</span> <span class="p">((</span><span class="n">packed</span><span class="p">));</span>

<span class="cp">#endif </span><span class="cm">/* _ECMA_167_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:2}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../javascript/docco.min.js"></script>
</html>
