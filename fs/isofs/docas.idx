f | dir.c | s | 6.7K | 248 | Jan Kara | jack@suse.cz | 1311378132 |  | isofs: Remove global fs lock  sbi->s_mutex isn't needed for isofs at all so we can just remove it. Generally, since isofs is always mounted read-only, filesystem structure cannot change under us.  So buffer_head contents stays constant after it's filled in. That leaves us with possible changes of global data structures. Superblock changes only during filesystem mount (even remount does not change it), inodes are only filled in during reading from disk. So there are no changes of these structures to bother about.  Arguments why sbi->s_mutex can be removed at each place: isofs_readdir: Accesses sb, inode, filp, local variables => s_mutex not needed isofs_lookup: Protected by directory's i_mutex. Accesses sb, inode, dentry,   local variables => s_mutex not needed rock_ridge_symlink_readpage: Protected by page lock. Accesses sb, inode,   local variables => s_mutex not needed.  Signed-off-by: Jan Kara <jack@suse.cz> Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | joliet.c | s | 1.3K | 59 | Alan Stern | stern@rowland.harvard.edu | 1245127483 |  | NLS: update handling of Unicode  This patch (as1239) updates the kernel's treatment of Unicode.  The character-set conversion routines are well behind the current state of the Unicode specification: They don't recognize the existence of code points beyond plane 0 or of surrogate pairs in the UTF-16 encoding.  The old wchar_t 16-bit type is retained because it's still used in lots of places.  This shouldn't cause any new problems; if a conversion now results in an invalid 16-bit code then before it must have yielded an undefined code.  Difficult-to-read names like "utf_mbstowcs" are replaced with more transparent names like "utf8s_to_utf16s" and the ordering of the parameters is rationalized (buffer lengths come immediate after the pointers they refer to, and the inputs precede the outputs). Fortunately the low-level conversion routines are used in only a few places; the interfaces to the higher-level uni2char and char2uni methods have been left unchanged.  Signed-off-by: Alan Stern <stern@rowland.harvard.edu> Acked-by: Clemens Ladisch <clemens@ladisch.de> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | Makefile | g | 272B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | util.c | s | 2.4K | 72 | Al Viro | viro@www.linux.org.uk | 1114479132 |  | [PATCH] isofs includes sanitized  fs/isofs includes trimmed down to something resembling sanity.  Kernel-only parts of linux/iso_fs.h and entire linux/iso_fs_{sb,i}.h moved to fs/isofs/isofs.h.  A lot of useless #include in fs/isofs/*.c killed.  Signed-off-by: Al Viro <viro@parcelfarce.linux.theplanet.co.uk> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | inode.c | s | 39K | 1411 | Al Viro | viro@zeniv.linux.org.uk | 1332293375 |  | switch open-coded instances of d_make_root() to new helper  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | isofs.h | s | 6.0K | 166 | Al Viro | viro@zeniv.linux.org.uk | 1325649308 |  | isofs: propagate umode_t  situation with mount options is the same as for udf  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | compress.c | s | 10K | 339 | Jan Kara | jack@suse.cz | 1260453769 |  | zisofs: Implement reading of compressed files when PAGE_CACHE_SIZE > compress block size  Also split and cleanup zisofs_readpage() when we are changing it anyway.  Signed-off-by: Jan Kara <jack@suse.cz>
f | zisofs.h | s | 807B | 19 | Christoph Hellwig | hch@lst.de | 1151531944 |  | [PATCH] mark address_space_operations const  Same as with already do with the file operations: keep them in .rodata and prevents people from doing runtime patching.  Signed-off-by: Christoph Hellwig <hch@lst.de> Cc: Steven French <sfrench@us.ibm.com> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | rock.c | s | 17K | 726 | Miklos Szeredi | mszeredi@suse.cz | 1320234823 |  | filesystems: add set_nlink()  Replace remaining direct i_nlink updates with a new set_nlink() updater function.  Signed-off-by: Miklos Szeredi <mszeredi@suse.cz> Tested-by: Toshiyuki Okajima <toshi.okajima@jp.fujitsu.com> Signed-off-by: Christoph Hellwig <hch@lst.de>
f | export.c | s | 5.0K | 167 | Al Viro | viro@zeniv.linux.org.uk | 1338348513 |  | ->encode_fh() API change  pass inode + parent's inode or NULL instead of dentry + bool saying whether we want the parent or not.  NOTE: that needs ceph fix folded in.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | Kconfig | g | 1.7K |  | Alexey Dobriyan | adobriyan@gmail.com | 1232619355 |  | fs/Kconfig: move iso9660, udf out  Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
f | rock.h | s | 2.3K | 105 | Andrew Morton | akpm@osdl.org | 1119406058 |  | [PATCH] rock: rename union members  The silly thing does:  	struct foo { ... }; 	... 	#define foo 42  so you can no longer refer to `struct foo' in C code.  Rename the structures.  Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | namei.c | s | 4.3K | 165 | Jan Kara | jack@suse.cz | 1311378132 |  | isofs: Remove global fs lock  sbi->s_mutex isn't needed for isofs at all so we can just remove it. Generally, since isofs is always mounted read-only, filesystem structure cannot change under us.  So buffer_head contents stays constant after it's filled in. That leaves us with possible changes of global data structures. Superblock changes only during filesystem mount (even remount does not change it), inodes are only filled in during reading from disk. So there are no changes of these structures to bother about.  Arguments why sbi->s_mutex can be removed at each place: isofs_readdir: Accesses sb, inode, filp, local variables => s_mutex not needed isofs_lookup: Protected by directory's i_mutex. Accesses sb, inode, dentry,   local variables => s_mutex not needed rock_ridge_symlink_readpage: Protected by page lock. Accesses sb, inode,   local variables => s_mutex not needed.  Signed-off-by: Jan Kara <jack@suse.cz> Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
