f | dir.c | s | 6.2K | 202 | Phillip Lougher | phillip@squashfs.org.uk | 1331348462 |  | Squashfs: fix f_pos check in get_dir_index_using_offset  One off error in the f_pos check.  If f_pos is 3 or less don't bother reading the index because we're at the start of the directory, and we obviously already know where that is on disk.  This eliminates an unnecessary read.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | decompressor.c | s | 3.0K | 95 | Phillip Lougher | phillip@squashfs.org.uk | 1311300088 |  | Squashfs: Make ZLIB compression support optional  Squashfs now supports XZ and LZO compression in addition to ZLIB. As such it no longer makes sense to always include ZLIB support. In particular embedded systems may only use LZO or XZ compression, and the ability to exclude ZLIB support will reduce kernel size.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | zlib_wrapper.c | s | 3.5K | 121 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306403351 |  | Squashfs: update email address  My existing email address may stop working in a month or two, so update email to one that will continue working.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | Makefile | g | 420B |  | Phillip Lougher | phillip@squashfs.org.uk | 1311300088 |  | Squashfs: Make ZLIB compression support optional  Squashfs now supports XZ and LZO compression in addition to ZLIB. As such it no longer makes sense to always include ZLIB support. In particular embedded systems may only use LZO or XZ compression, and the ability to exclude ZLIB support will reduce kernel size.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | xattr_id.c | s | 2.7K | 79 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306403351 |  | Squashfs: update email address  My existing email address may stop working in a month or two, so update email to one that will continue working.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | xattr.h | s | 1.6K | 45 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306403351 |  | Squashfs: update email address  My existing email address may stop working in a month or two, so update email to one that will continue working.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | squashfs_fs_i.h | s | 1.4K | 51 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306403351 |  | Squashfs: update email address  My existing email address may stop working in a month or two, so update email to one that will continue working.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | fragment.c | s | 3.1K | 86 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306659789 |  | Squashfs: Fix sanity check patches on big-endian systems  le64 values should be swapped when accessing on big-endian systems.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | squashfs_fs.h | s | 10K | 378 | Phillip Lougher | phillip@squashfs.org.uk | 1331348461 |  | Squashfs: get rid of obsolete definitions in header file  Most of these were never used by the kernel code, but belong to the time when the header file was used by both the kernel code and the user space tools.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | squashfs.h | s | 3.4K | 80 | Phillip Lougher | phillip@squashfs.org.uk | 1311300088 |  | Squashfs: Make ZLIB compression support optional  Squashfs now supports XZ and LZO compression in addition to ZLIB. As such it no longer makes sense to always include ZLIB support. In particular embedded systems may only use LZO or XZ compression, and the ability to exclude ZLIB support will reduce kernel size.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | lzo_wrapper.c | s | 3.2K | 113 | Phillip Lougher | phillip@lougher.demon.co.uk | 1298917319 |  | Squashfs: extend decompressor framework to handle compression options  Extend decompressor framework to handle compression options stored in the filesystem.  These options can be used by the relevant decompressor at initialisation time to over-ride defaults.  The presence of compression options in the filesystem is indicated by the COMP_OPT filesystem flag.  If present the data is read from the filesystem and passed to the decompressor init function.  The decompressor init function signature has been extended to take this data.  Also update the init function signature in the glib, lzo and xz decompressor wrappers.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | xattr.c | s | 8.4K | 283 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306403351 |  | Squashfs: update email address  My existing email address may stop working in a month or two, so update email to one that will continue working.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | super.c | s | 13K | 413 | Linus Torvalds | torvalds@linux-foundation.org | 1332983154 |  | 
f | id.c | s | 2.9K | 87 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306659789 |  | Squashfs: Fix sanity check patches on big-endian systems  le64 values should be swapped when accessing on big-endian systems.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | decompressor.h | s | 1.9K | 56 | Phillip Lougher | phillip@squashfs.org.uk | 1311300088 |  | Squashfs: Make ZLIB compression support optional  Squashfs now supports XZ and LZO compression in addition to ZLIB. As such it no longer makes sense to always include ZLIB support. In particular embedded systems may only use LZO or XZ compression, and the ability to exclude ZLIB support will reduce kernel size.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | squashfs_fs_sb.h | s | 2.1K | 76 | Ajeet Yadav | ajeet.yadav.77@gmail.com | 1325208253 |  | Squashfs: optimise squashfs_cache_get entry search  squashfs_cache_get() iterates over all entries to search for  block its looking for. Often get() / put() are called for  same block.  If we cache the current entry index, then we can optimise the subsequent *_get() calls.  Signed-off-by: Ajeet Yadav <ajeet.yadav.77@gmail.com> Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | inode.c | s | 12K | 368 | Phillip Lougher | phillip@squashfs.org.uk | 1325563243 |  | Squashfs: fix i_blocks calculation with extended regular files  The le64_to_cpu() forces the calculation to be unsigned, with the effect that it can underflow leading to an incorrect large value.  This bug only triggers in rare(ish) circumstances, an empty file encoded as an extended regular file or a completely sparse file. Normally empty files are encoded as a regular file rather than as an extended regular file (and the regular file i_blocks calculation doesn't have this bug).  To save space regular file inodes are optimised to encode the most commonly occurring files.  Less common regular files are encoded using extended regular file inodes which contain extra information.  Empty files with nlinks greater than 1, and or empty files with extended attributes are encoded using extended regular file inodes and they will hit this bug.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | symlink.c | s | 3.8K | 113 | Cong Wang | amwang@redhat.com | 1332251305 |  | squashfs: remove the second argument of k[un]map_atomic()  Signed-off-by: Cong Wang <amwang@redhat.com>
f | export.c | s | 4.6K | 130 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306659789 |  | Squashfs: Fix sanity check patches on big-endian systems  le64 values should be swapped when accessing on big-endian systems.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | xz_wrapper.c | s | 4.1K | 147 | Phillip Lougher | phillip@lougher.demon.co.uk | 1306403351 |  | Squashfs: update email address  My existing email address may stop working in a month or two, so update email to one that will continue working.  Signed-off-by: Phillip Lougher <phillip@lougher.demon.co.uk>
f | cache.c | s | 11K | 370 | Ajeet Yadav | ajeet.yadav.77@gmail.com | 1325208253 |  | Squashfs: optimise squashfs_cache_get entry search  squashfs_cache_get() iterates over all entries to search for  block its looking for. Often get() / put() are called for  same block.  If we cache the current entry index, then we can optimise the subsequent *_get() calls.  Signed-off-by: Ajeet Yadav <ajeet.yadav.77@gmail.com> Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | Kconfig | g | 4.4K |  | Linus Torvalds | torvalds@linux-foundation.org | 1320450517 |  | Merge git://git.kernel.org/pub/scm/linux/kernel/git/pkl/squashfs-next  * git://git.kernel.org/pub/scm/linux/kernel/git/pkl/squashfs-next:   Squashfs: Add an option to set dev block size to 4K
f | namei.c | s | 7.4K | 208 | Phillip Lougher | phillip@squashfs.org.uk | 1331348461 |  | Squashfs: remove redundant length initialisation in squashfs_lookup  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | block.c | s | 5.4K | 185 | Phillip Lougher | phillip@squashfs.org.uk | 1331348460 |  | Squashfs: update comment removing reference to zlib only  Comment was written when Squashfs only supported zlib compression. This comment is now misleading given Squashfs supports other compression algorithms.  Signed-off-by: Phillip Lougher <phillip@squashfs.org.uk>
f | file.c | s | 13K | 428 | Cong Wang | amwang@redhat.com | 1332251305 |  | squashfs: remove the second argument of k[un]map_atomic()  Signed-off-by: Cong Wang <amwang@redhat.com>
