f | vfsmount_mark.c | s | 5.2K | 159 | Al Viro | viro@zeniv.linux.org.uk | 1325649432 |  | vfs: move fsnotify junk to struct mount  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | inode_mark.c | s | 8.3K | 261 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Makefile | g | 168B |  | Eric Paris | eparis@redhat.com | 1280325537 |  | fsnotify: vfsmount marks generic functions  Much like inode-mark.c has all of the code dealing with marks on inodes this patch adds a vfsmount-mark.c which has similar code but is intended for marks on vfsmounts.  Signed-off-by: Eric Paris <eparis@redhat.com>
d | inotify |  | 5 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1302200089 |  | Merge branch 'for-linus2' of git://git.profusion.mobi/users/lucas/linux-2.6  * 'for-linus2' of git://git.profusion.mobi/users/lucas/linux-2.6:   Fix common misspellings
f | notification.c | s | 13K | 382 | H Hartley Sweeten | hartleys@visionengravers.com | 1332547111 |  | fs/notify/notification.c: make subsys_initcall function static  Signed-off-by: H Hartley Sweeten <hsweeten@visionengravers.com> Cc: Eric Dumazet <eric.dumazet@gmail.com> Cc: Mike Frysinger <vapier@gentoo.org> Cc: Arun Sharma <asharma@fb.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Kconfig | g | 135B |  | Eric Paris | eparis@redhat.com | 1288300933 |  | fanotify: allow fanotify to be built  We disabled the ability to build fanotify in commit 7c5347733dcc4ba0ba. This reverts that commit and allows people to build fanotify.  Signed-off-by: Eric Paris <eparis@redhat.com>
d | dnotify |  | 3 items |  | Eric Paris | eparis@redhat.com | 1280326735 |  | fanotify: use both marks when possible  fanotify currently, when given a vfsmount_mark will look up (if it exists) the corresponding inode mark.  This patch drops that lookup and uses the mark provided.  Signed-off-by: Eric Paris <eparis@redhat.com>
f | group.c | s | 3.0K | 87 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | fsnotify.c | s | 9.2K | 267 | Dan Carpenter | dan.carpenter@oracle.com | 1338426293 |  | fsnotify: remove unused parameter from send_to_group()  We don't use "mnt" anymore in send_to_group() after 1968f5eed5 ("fanotify: use both marks when possible") was applied.  Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com> Cc: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | mark.c | s | 10K | 316 | Miklos Szeredi | mszeredi@suse.cz | 1326592902 |  | fsnotify: don't BUG in fsnotify_destroy_mark()  Removing the parent of a watched file results in "kernel BUG at fs/notify/mark.c:139".  To reproduce    add "-w /tmp/audit/dir/watched_file" to audit.rules   rm -rf /tmp/audit/dir  This is caused by fsnotify_destroy_mark() being called without an extra reference taken by the caller.  Reported by Francesco Cosoleto here:    https://bugzilla.novell.com/show_bug.cgi?id=689860  Fix by removing the BUG_ON and adding a comment about not accessing mark after the iput.  Signed-off-by: Miklos Szeredi <mszeredi@suse.cz> CC: stable@vger.kernel.org Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
d | fanotify |  | 4 items |  | Al Viro | viro@zeniv.linux.org.uk | 1325649432 |  | vfs: move fsnotify junk to struct mount  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | fsnotify.h | s | 1.9K | 39 | Eric Paris | eparis@redhat.com | 1280326734 |  | fsnotify: remove global fsnotify groups lists  The global fsnotify groups lists were invented as a way to increase the performance of fsnotify by shortcutting events which were not interesting. With the changes to walk the object lists rather than global groups lists these shortcuts are not useful.  Signed-off-by: Eric Paris <eparis@redhat.com>
