f | vfs_dir.c | s | 6.9K | 272 | Joe Perches | joe@perches.com | 1325782304 |  | 9p: Reduce object size with CONFIG_NET_9P_DEBUG  Reduce object size by deduplicating formats.  Use vsprintf extension %pV. Rename P9_DPRINTK uses to p9_debug, align arguments. Add function for _p9_debug and macro to add __func__. Add missing "\n"s to p9_debug uses. Remove embedded function names as p9_debug adds it. Remove P9_EPRINTK macro and convert use to pr_<level>. Add and use pr_fmt and pr_<level>.  $ size fs/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   62133	    984	  16000	  79117	  1350d	fs/9p/built-in.o.new   67342	    984	  16928	  85254	  14d06	fs/9p/built-in.o.old $ size net/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   88792	   4148	  22024	 114964	  1c114	net/9p/built-in.o.new   94072	   4148	  23232	 121452	  1da6c	net/9p/built-in.o.old  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | v9fs.h | s | 7.3K | 207 | Aneesh Kumar K.V | aneesh.kumar@linux.vnet.ibm.com | 1311431570 |  | fs/9p: Always ask new inode in create  This make sure we don't end up reusing the unlinked inode object. The ideal way is to use inode i_generation. But i_generation is not available in userspace always.  Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | vfs_addr.c | s | 8.2K | 304 | Joe Perches | joe@perches.com | 1325782304 |  | 9p: Reduce object size with CONFIG_NET_9P_DEBUG  Reduce object size by deduplicating formats.  Use vsprintf extension %pV. Rename P9_DPRINTK uses to p9_debug, align arguments. Add function for _p9_debug and macro to add __func__. Add missing "\n"s to p9_debug uses. Remove embedded function names as p9_debug adds it. Remove P9_EPRINTK macro and convert use to pr_<level>. Add and use pr_fmt and pr_<level>.  $ size fs/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   62133	    984	  16000	  79117	  1350d	fs/9p/built-in.o.new   67342	    984	  16928	  85254	  14d06	fs/9p/built-in.o.old $ size net/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   88792	   4148	  22024	 114964	  1c114	net/9p/built-in.o.new   94072	   4148	  23232	 121452	  1da6c	net/9p/built-in.o.old  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | Makefile | g | 268B |  | Aneesh Kumar K.V | aneesh.kumar@linux.vnet.ibm.com | 1294761487 |  | fs/9p: Move dotl inode operations into a seperate file  Source Code Reorganization  Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Signed-off-by: Venkateswararao Jujjuri <jvrao@linux.vnet.ibm.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | v9fs.c | s | 13K | 560 | Al Viro | viro@zeniv.linux.org.uk | 1332293385 |  | 9p: make register_filesystem() the last failure exit  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | v9fs_vfs.h | s | 3.7K | 82 | Al Viro | viro@zeniv.linux.org.uk | 1325649301 |  | 9p: propagate umode_t  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | fid.c | s | 7.1K | 272 | Joe Perches | joe@perches.com | 1325782304 |  | 9p: Reduce object size with CONFIG_NET_9P_DEBUG  Reduce object size by deduplicating formats.  Use vsprintf extension %pV. Rename P9_DPRINTK uses to p9_debug, align arguments. Add function for _p9_debug and macro to add __func__. Add missing "\n"s to p9_debug uses. Remove embedded function names as p9_debug adds it. Remove P9_EPRINTK macro and convert use to pr_<level>. Add and use pr_fmt and pr_<level>.  $ size fs/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   62133	    984	  16000	  79117	  1350d	fs/9p/built-in.o.new   67342	    984	  16928	  85254	  14d06	fs/9p/built-in.o.old $ size net/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   88792	   4148	  22024	 114964	  1c114	net/9p/built-in.o.new   94072	   4148	  23232	 121452	  1da6c	net/9p/built-in.o.old  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | xattr.h | s | 1.2K | 30 | Aneesh Kumar K.V | aneesh.kumar@linux.vnet.ibm.com | 1288274926 |  | fs/9p: Add xattr callbacks for POSIX ACL  This patch implement fetching POSIX ACL from the server  Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Signed-off-by: Venkateswararao Jujjuri <jvrao@linux.vnet.ibm.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | vfs_super.c | s | 8.6K | 326 | Linus Torvalds | torvalds@linux-foundation.org | 1332953918 |  | 
f | vfs_inode.c | s | 33K | 1322 | Jan Kara | jack@suse.cz | 1336283021 |  | vfs: Rename end_writeback() to clear_inode()  After we moved inode_sync_wait() from end_writeback() it doesn't make sense to call the function end_writeback() anymore. Rename it to clear_inode() which well says what the function really does - set I_CLEAR flag.  Signed-off-by: Jan Kara <jack@suse.cz> Signed-off-by: Fengguang Wu <fengguang.wu@intel.com>
f | cache.h | s | 4.1K | 117 | Aneesh Kumar K.V | aneesh.kumar@linux.vnet.ibm.com | 1311431568 |  | fs/9p: When doing inode lookup compare qid details and inode mode bits.  This make sure we don't use wrong inode from the inode hash. The inode number of the file deleted is reused by the next file system object created and if we only use inode number for inode hash lookup we could end up with wrong struct inode.  Also compare inode generation number. Not all Linux file system provide st_gen in userspace. So it could be 0;  Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | xattr.c | s | 4.3K | 158 | Joe Perches | joe@perches.com | 1325782304 |  | 9p: Reduce object size with CONFIG_NET_9P_DEBUG  Reduce object size by deduplicating formats.  Use vsprintf extension %pV. Rename P9_DPRINTK uses to p9_debug, align arguments. Add function for _p9_debug and macro to add __func__. Add missing "\n"s to p9_debug uses. Remove embedded function names as p9_debug adds it. Remove P9_EPRINTK macro and convert use to pr_<level>. Add and use pr_fmt and pr_<level>.  $ size fs/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   62133	    984	  16000	  79117	  1350d	fs/9p/built-in.o.new   67342	    984	  16928	  85254	  14d06	fs/9p/built-in.o.old $ size net/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   88792	   4148	  22024	 114964	  1c114	net/9p/built-in.o.new   94072	   4148	  23232	 121452	  1da6c	net/9p/built-in.o.old  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | vfs_inode_dotl.c | s | 25K | 910 | Al Viro | viro@zeniv.linux.org.uk | 1338348514 |  | kill v9fs_dentry_from_dir_inode()  In *all* callers we have a dentry of child of that directory. Just use ->d_parent of that one, for fsck sake...  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | vfs_file.c | s | 18K | 687 | Joe Perches | joe@perches.com | 1325782304 |  | 9p: Reduce object size with CONFIG_NET_9P_DEBUG  Reduce object size by deduplicating formats.  Use vsprintf extension %pV. Rename P9_DPRINTK uses to p9_debug, align arguments. Add function for _p9_debug and macro to add __func__. Add missing "\n"s to p9_debug uses. Remove embedded function names as p9_debug adds it. Remove P9_EPRINTK macro and convert use to pr_<level>. Add and use pr_fmt and pr_<level>.  $ size fs/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   62133	    984	  16000	  79117	  1350d	fs/9p/built-in.o.new   67342	    984	  16928	  85254	  14d06	fs/9p/built-in.o.old $ size net/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   88792	   4148	  22024	 114964	  1c114	net/9p/built-in.o.new   94072	   4148	  23232	 121452	  1da6c	net/9p/built-in.o.old  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | cache.c | s | 10K | 342 | Joe Perches | joe@perches.com | 1325782304 |  | 9p: Reduce object size with CONFIG_NET_9P_DEBUG  Reduce object size by deduplicating formats.  Use vsprintf extension %pV. Rename P9_DPRINTK uses to p9_debug, align arguments. Add function for _p9_debug and macro to add __func__. Add missing "\n"s to p9_debug uses. Remove embedded function names as p9_debug adds it. Remove P9_EPRINTK macro and convert use to pr_<level>. Add and use pr_fmt and pr_<level>.  $ size fs/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   62133	    984	  16000	  79117	  1350d	fs/9p/built-in.o.new   67342	    984	  16928	  85254	  14d06	fs/9p/built-in.o.old $ size net/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   88792	   4148	  22024	 114964	  1c114	net/9p/built-in.o.new   94072	   4148	  23232	 121452	  1da6c	net/9p/built-in.o.old  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | acl.h | s | 1.4K | 47 | Al Viro | viro@zeniv.linux.org.uk | 1312178982 |  | switch posix_acl_create() to umode_t *  so we can pass &inode->i_mode to it  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | acl.c | s | 8.7K | 340 | Al Viro | viro@zeniv.linux.org.uk | 1312179006 |  | switch posix_acl_equiv_mode() to umode_t *  ... so that &inode->i_mode could be passed to it  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | Kconfig | g | 947B |  | Eric Van Hensbergen | ericvh@gmail.com | 1306331198 |  | 9p: remove experimental tag from tested configurations  The 9p client is currently undergoing regular regresssion and stress testing as a by-product of the virtfs work.  I think its finally time to take off the experimental tags from the well-tested code paths.  Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | vfs_dentry.c | s | 3.5K | 129 | Joe Perches | joe@perches.com | 1325782304 |  | 9p: Reduce object size with CONFIG_NET_9P_DEBUG  Reduce object size by deduplicating formats.  Use vsprintf extension %pV. Rename P9_DPRINTK uses to p9_debug, align arguments. Add function for _p9_debug and macro to add __func__. Add missing "\n"s to p9_debug uses. Remove embedded function names as p9_debug adds it. Remove P9_EPRINTK macro and convert use to pr_<level>. Add and use pr_fmt and pr_<level>.  $ size fs/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   62133	    984	  16000	  79117	  1350d	fs/9p/built-in.o.new   67342	    984	  16928	  85254	  14d06	fs/9p/built-in.o.old $ size net/9p/built-in.o*    text	   data	    bss	    dec	    hex	filename   88792	   4148	  22024	 114964	  1c114	net/9p/built-in.o.new   94072	   4148	  23232	 121452	  1da6c	net/9p/built-in.o.old  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | xattr_user.c | s | 2.0K | 67 | Aneesh Kumar K.V | aneesh.kumar@linux.vnet.ibm.com | 1280777315 |  | fs/9p: Add support user. xattr  Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Signed-off-by: Venkateswararao Jujjuri <jvrao@linux.vnet.ibm.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
f | fid.h | s | 1.8K | 48 | Aneesh Kumar K.V | aneesh.kumar@linux.vnet.ibm.com | 1300201061 |  | fs/9p: Prevent multiple inclusion of same header  Add necessary #ifndef #endif blocks to avoid mulitple inclusion of same headers  Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com> Signed-off-by: Venkateswararao Jujjuri <jvrao@linux.vnet.ibm.com> Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
