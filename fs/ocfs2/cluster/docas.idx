f | masklog.c | s | 3.8K | 131 | Tao Ma | boyu.mt@taobao.com | 1298258367 |  | ocfs2: Remove masklog ML_AIO.  There is no user for masklog AIO, so remove it.  Signed-off-by: Tao Ma <boyu.mt@taobao.com>
f | quorum.c | s | 10K | 280 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | tcp.h | s | 4.0K | 135 | Sunil Mushran | sunil.mushran@oracle.com | 1311528774 |  | ocfs2/cluster: Add new function o2net_fill_node_map()  Patch adds function o2net_fill_node_map() to return the bitmap of nodes that it is connected to. This bitmap is also accessible by the user via the debugfs file, /sys/kernel/debug/o2net/connected_nodes.  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com>
f | Makefile | g | 150B |  | Sunil Mushran | sunil.mushran@oracle.com | 1208534180 |  | ocfs2/net: Add debug interface to o2net  This patch exposes o2net information via debugfs. The information includes the list of sockets (sock_containers) as well as the list of outstanding messages (send_tracking). Useful for o2dlm debugging.  (This patch is derived from an earlier one written by Zach Brown that exposed the same information via /proc.)  [Mark: checkpatch fixes]  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com> Reviewed-by: Joel Becker <joel.becker@oracle.com> Signed-off-by: Mark Fasheh <mfasheh@suse.com>
f | tcp_internal.h | s | 7.6K | 217 | Sunil Mushran | sunil.mushran@oracle.com | 1293071890 |  | ocfs2/cluster: Track process message timing stats for each socket  Tracks total time taken to process messages received on a socket.  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com> Signed-off-by: Joel Becker <joel.becker@oracle.com>
f | sys.c | s | 1.9K | 70 | Amerigo Wang | amwang@redhat.com | 1306219034 |  | ocfs2: remove the /sys/o2cb symlink  It is obsoleted since Dec 2005.  Signed-off-by: WANG Cong <amwang@redhat.com> Signed-off-by: Joel Becker <jlbec@evilplan.org>
f | nodemanager.h | s | 2.6K | 75 | Sunil Mushran | sunil.mushran@oracle.com | 1259801366 |  | ocfs2/cluster: Make fence method configurable - v2  By default, o2cb fences the box by calling emergency_restart(). While this scheme works well in production, it comes in the way during testing as it does not let the tester take stack/core dumps for analysis.  This patch allows user to dynamically change the fence method to panic() by: # echo "panic" > /sys/kernel/config/cluster/<clustername>/fence_method  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com> Signed-off-by: Joel Becker <joel.becker@oracle.com>
f | sys.h | s | 1011B | 30 | Zach Brown | zach.brown@oracle.com | 1136317546 |  | [PATCH] OCFS2: The Second Oracle Cluster Filesystem  Node messaging via tcp. Used by the dlm and the file system for point to point communication between nodes.  Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com> Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
f | tcp.c | s | 58K | 1814 | Pavel Emelyanov | xemul@parallels.com | 1335037945 |  | sock: Introduce named constants for sk_reuse  Name them in a "backward compatible" manner, i.e. reuse or not are still 1 and 0 respectively. The reuse value of 2 means that the socket with it will forcibly reuse everyone else's port.  Signed-off-by: Pavel Emelyanov <xemul@openvz.org> Signed-off-by: David S. Miller <davem@davemloft.net>
f | masklog.h | s | 7.9K | 197 | Tao Ma | boyu.mt@taobao.com | 1298258383 |  | ocfs2: Make the left masklogs compat.  Since we have removed almost all of the masklogs in fs/ocfs2/*, make the left masklogs compat.  Signed-off-by: Tao Ma <boyu.mt@taobao.com>
f | ocfs2_heartbeat.h | s | 1.1K | 35 | Mark Fasheh | mark.fasheh@oracle.com | 1151621135 |  | ocfs2: warn the user on a dead timeout mismatch  Print a warning to the user when a node with a different dead count joins the region.  Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
f | ocfs2_nodemanager.h | s | 1.4K | 39 | Sunil Mushran | sunil.mushran@oracle.com | 1286645183 |  | ocfs2/dlm: Add message DLM_QUERY_REGION  Adds new dlm message DLM_QUERY_REGION that sends the names of all active heartbeat regions. This message is only sent in the global heartbeat mode. If the regions in the joining node do not fully match the ones in the active nodes, the join domain request is rejected.  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com>
f | netdebug.c | s | 14K | 476 | Al Viro | viro@zeniv.linux.org.uk | 1325649296 |  | switch debugfs to umode_t  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | heartbeat.h | s | 2.6K | 77 | Sunil Mushran | sunil.mushran@oracle.com | 1286487066 |  | ocfs2/cluster: Get all heartbeat regions  Export function in o2hb to get a list of heartbeat regions. It also adds an upper limit to the length of the heartbeat region name.  o2hb_global_heartbeat_active() currently disables global heartbeat. It will be enabled in a later patch after all the code is added.  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com>
f | ver.c | s | 1.2K | 35 | Mark Fasheh | mark.fasheh@oracle.com | 1201302346 |  | ocfs2: bump version number  Bump the printed version to 1.5.0. This helps us quickly identify which version of Ocfs2 a bug filer is running.  Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
f | quorum.h | s | 1.1K | 32 | Zach Brown | zach.brown@oracle.com | 1136317546 |  | [PATCH] OCFS2: The Second Oracle Cluster Filesystem  Node messaging via tcp. Used by the dlm and the file system for point to point communication between nodes.  Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com> Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
f | heartbeat.c | s | 69K | 2218 | Sunil Mushran | sunil.mushran@oracle.com | 1311528714 |  | ocfs2/cluster: Fix output in file elapsed_time_in_ms  The o2hb debugfs file, elapsed_time_in_ms, should return values only after the timer is armed atleast once.  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com>
f | nodemanager.c | s | 24K | 813 | Sunil Mushran | sunil.mushran@oracle.com | 1286497817 |  | ocfs2/cluster: Print messages when adding/removing nodes  Prints messages when the user adds or removes nodes.  Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com>
f | ver.h | s | 1008B | 28 | Kurt Hackel | kurt.hackel@oracle.com | 1136317546 |  | [PATCH] OCFS2: The Second Oracle Cluster Filesystem  A simple node information service, filled and updated from userspace. The rest of the stack queries this service for simple node information.  Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com> Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
