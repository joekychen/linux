<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › parisc › include › asm › pdc.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>pdc.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _PARISC_PDC_H</span>
<span class="cp">#define _PARISC_PDC_H</span>

<span class="cm">/*</span>
<span class="cm"> *	PDC return values ...</span>
<span class="cm"> *	All PDC calls return a subset of these errors. </span>
<span class="cm"> */</span>

<span class="cp">#define PDC_WARN		  3	</span><span class="cm">/* Call completed with a warning */</span><span class="cp"></span>
<span class="cp">#define PDC_REQ_ERR_1		  2	</span><span class="cm">/* See above			 */</span><span class="cp"></span>
<span class="cp">#define PDC_REQ_ERR_0		  1	</span><span class="cm">/* Call would generate a requestor error */</span><span class="cp"></span>
<span class="cp">#define PDC_OK			  0	</span><span class="cm">/* Call completed successfully	*/</span><span class="cp"></span>
<span class="cp">#define PDC_BAD_PROC		 -1	</span><span class="cm">/* Called non-existent procedure*/</span><span class="cp"></span>
<span class="cp">#define PDC_BAD_OPTION		 -2	</span><span class="cm">/* Called with non-existent option */</span><span class="cp"></span>
<span class="cp">#define PDC_ERROR		 -3	</span><span class="cm">/* Call could not complete without an error */</span><span class="cp"></span>
<span class="cp">#define PDC_NE_MOD		 -5	</span><span class="cm">/* Module not found		*/</span><span class="cp"></span>
<span class="cp">#define PDC_NE_CELL_MOD		 -7	</span><span class="cm">/* Cell module not found	*/</span><span class="cp"></span>
<span class="cp">#define PDC_INVALID_ARG		-10	</span><span class="cm">/* Called with an invalid argument */</span><span class="cp"></span>
<span class="cp">#define PDC_BUS_POW_WARN	-12	</span><span class="cm">/* Call could not complete in allowed power budget */</span><span class="cp"></span>
<span class="cp">#define PDC_NOT_NARROW		-17	</span><span class="cm">/* Narrow mode not supported	*/</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	PDC entry points...</span>
<span class="cm"> */</span>

<span class="cp">#define PDC_POW_FAIL	1		</span><span class="cm">/* perform a power-fail		*/</span><span class="cp"></span>
<span class="cp">#define PDC_POW_FAIL_PREPARE	0	</span><span class="cm">/* prepare for powerfail	*/</span><span class="cp"></span>

<span class="cp">#define PDC_CHASSIS	2		</span><span class="cm">/* PDC-chassis functions	*/</span><span class="cp"></span>
<span class="cp">#define PDC_CHASSIS_DISP	0	</span><span class="cm">/* update chassis display	*/</span><span class="cp"></span>
<span class="cp">#define PDC_CHASSIS_WARN	1	</span><span class="cm">/* return chassis warnings	*/</span><span class="cp"></span>
<span class="cp">#define PDC_CHASSIS_DISPWARN	2	</span><span class="cm">/* update&amp;return chassis status */</span><span class="cp"></span>
<span class="cp">#define PDC_RETURN_CHASSIS_INFO 128	</span><span class="cm">/* HVERSION dependent: return chassis LED/LCD info  */</span><span class="cp"></span>

<span class="cp">#define PDC_PIM         3               </span><span class="cm">/* Get PIM data                 */</span><span class="cp"></span>
<span class="cp">#define PDC_PIM_HPMC            0       </span><span class="cm">/* Transfer HPMC data           */</span><span class="cp"></span>
<span class="cp">#define PDC_PIM_RETURN_SIZE     1       </span><span class="cm">/* Get Max buffer needed for PIM*/</span><span class="cp"></span>
<span class="cp">#define PDC_PIM_LPMC            2       </span><span class="cm">/* Transfer HPMC data           */</span><span class="cp"></span>
<span class="cp">#define PDC_PIM_SOFT_BOOT       3       </span><span class="cm">/* Transfer Soft Boot data      */</span><span class="cp"></span>
<span class="cp">#define PDC_PIM_TOC             4       </span><span class="cm">/* Transfer TOC data            */</span><span class="cp"></span>

<span class="cp">#define PDC_MODEL	4		</span><span class="cm">/* PDC model information call	*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_INFO		0	</span><span class="cm">/* returns information 		*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_BOOTID	1	</span><span class="cm">/* set the BOOT_ID		*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_VERSIONS	2	</span><span class="cm">/* returns cpu-internal versions*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_SYSMODEL	3	</span><span class="cm">/* return system model info	*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_ENSPEC	4	</span><span class="cm">/* enable specific option	*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_DISPEC	5	</span><span class="cm">/* disable specific option	*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_CPU_ID	6	</span><span class="cm">/* returns cpu-id (only newer machines!) */</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_CAPABILITIES	7	</span><span class="cm">/* returns OS32/OS64-flags	*/</span><span class="cp"></span>
<span class="cm">/* Values for PDC_MODEL_CAPABILITIES non-equivalent virtual aliasing support */</span>
<span class="cp">#define  PDC_MODEL_OS64			(1 &lt;&lt; 0)</span>
<span class="cp">#define  PDC_MODEL_OS32			(1 &lt;&lt; 1)</span>
<span class="cp">#define  PDC_MODEL_IOPDIR_FDC		(1 &lt;&lt; 2)</span>
<span class="cp">#define  PDC_MODEL_NVA_MASK		(3 &lt;&lt; 4)</span>
<span class="cp">#define  PDC_MODEL_NVA_SUPPORTED	(0 &lt;&lt; 4)</span>
<span class="cp">#define  PDC_MODEL_NVA_SLOW		(1 &lt;&lt; 4)</span>
<span class="cp">#define  PDC_MODEL_NVA_UNSUPPORTED	(3 &lt;&lt; 4)</span>
<span class="cp">#define PDC_MODEL_GET_BOOT__OP	8	</span><span class="cm">/* returns boot test options	*/</span><span class="cp"></span>
<span class="cp">#define PDC_MODEL_SET_BOOT__OP	9	</span><span class="cm">/* set boot test options	*/</span><span class="cp"></span>

<span class="cp">#define PA89_INSTRUCTION_SET	0x4	</span><span class="cm">/* capatibilies returned	*/</span><span class="cp"></span>
<span class="cp">#define PA90_INSTRUCTION_SET	0x8</span>

<span class="cp">#define PDC_CACHE	5		</span><span class="cm">/* return/set cache (&amp; TLB) info*/</span><span class="cp"></span>
<span class="cp">#define PDC_CACHE_INFO		0	</span><span class="cm">/* returns information 		*/</span><span class="cp"></span>
<span class="cp">#define PDC_CACHE_SET_COH	1	</span><span class="cm">/* set coherence state		*/</span><span class="cp"></span>
<span class="cp">#define PDC_CACHE_RET_SPID	2	</span><span class="cm">/* returns space-ID bits	*/</span><span class="cp"></span>

<span class="cp">#define PDC_HPA		6		</span><span class="cm">/* return HPA of processor	*/</span><span class="cp"></span>
<span class="cp">#define PDC_HPA_PROCESSOR	0</span>
<span class="cp">#define PDC_HPA_MODULES		1</span>

<span class="cp">#define PDC_COPROC	7		</span><span class="cm">/* Co-Processor (usually FP unit(s)) */</span><span class="cp"></span>
<span class="cp">#define PDC_COPROC_CFG		0	</span><span class="cm">/* Co-Processor Cfg (FP unit(s) enabled?) */</span><span class="cp"></span>

<span class="cp">#define PDC_IODC	8		</span><span class="cm">/* talk to IODC			*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_READ		0	</span><span class="cm">/* read IODC entry point	*/</span><span class="cp"></span>
<span class="cm">/*      PDC_IODC_RI_			 * INDEX parameter of PDC_IODC_READ */</span>
<span class="cp">#define PDC_IODC_RI_DATA_BYTES	0	</span><span class="cm">/* IODC Data Bytes		*/</span><span class="cp"></span>
<span class="cm">/*				1, 2	   obsolete - HVERSION dependent*/</span>
<span class="cp">#define PDC_IODC_RI_INIT	3	</span><span class="cm">/* Initialize module		*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_RI_IO		4	</span><span class="cm">/* Module input/output		*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_RI_SPA		5	</span><span class="cm">/* Module input/output		*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_RI_CONFIG	6	</span><span class="cm">/* Module input/output		*/</span><span class="cp"></span>
<span class="cm">/*				7	  obsolete - HVERSION dependent */</span>
<span class="cp">#define PDC_IODC_RI_TEST	8	</span><span class="cm">/* Module input/output		*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_RI_TLB		9	</span><span class="cm">/* Module input/output		*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_NINIT		2	</span><span class="cm">/* non-destructive init		*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_DINIT		3	</span><span class="cm">/* destructive init		*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_MEMERR		4	</span><span class="cm">/* check for memory errors	*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_INDEX_DATA	0	</span><span class="cm">/* get first 16 bytes from mod IODC */</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_BUS_ERROR	-4	</span><span class="cm">/* bus error return value	*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_INVALID_INDEX	-5	</span><span class="cm">/* invalid index return value	*/</span><span class="cp"></span>
<span class="cp">#define PDC_IODC_COUNT		-6	</span><span class="cm">/* count is too small		*/</span><span class="cp"></span>

<span class="cp">#define PDC_TOD		9		</span><span class="cm">/* time-of-day clock (TOD)	*/</span><span class="cp"></span>
<span class="cp">#define PDC_TOD_READ		0	</span><span class="cm">/* read TOD			*/</span><span class="cp"></span>
<span class="cp">#define PDC_TOD_WRITE		1	</span><span class="cm">/* write TOD			*/</span><span class="cp"></span>


<span class="cp">#define PDC_STABLE	10		</span><span class="cm">/* stable storage (sprockets)	*/</span><span class="cp"></span>
<span class="cp">#define PDC_STABLE_READ		0</span>
<span class="cp">#define PDC_STABLE_WRITE	1</span>
<span class="cp">#define PDC_STABLE_RETURN_SIZE	2</span>
<span class="cp">#define PDC_STABLE_VERIFY_CONTENTS 3</span>
<span class="cp">#define PDC_STABLE_INITIALIZE	4</span>

<span class="cp">#define PDC_NVOLATILE	11		</span><span class="cm">/* often not implemented	*/</span><span class="cp"></span>

<span class="cp">#define PDC_ADD_VALID	12		</span><span class="cm">/* Memory validation PDC call	*/</span><span class="cp"></span>
<span class="cp">#define PDC_ADD_VALID_VERIFY	0	</span><span class="cm">/* Make PDC_ADD_VALID verify region */</span><span class="cp"></span>

<span class="cp">#define PDC_INSTR	15		</span><span class="cm">/* get instr to invoke PDCE_CHECK() */</span><span class="cp"></span>

<span class="cp">#define PDC_PROC	16		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>

<span class="cp">#define PDC_CONFIG	16		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>
<span class="cp">#define PDC_CONFIG_DECONFIG	0</span>
<span class="cp">#define PDC_CONFIG_DRECONFIG	1</span>
<span class="cp">#define PDC_CONFIG_DRETURN_CONFIG 2</span>

<span class="cp">#define PDC_BLOCK_TLB	18		</span><span class="cm">/* manage hardware block-TLB	*/</span><span class="cp"></span>
<span class="cp">#define PDC_BTLB_INFO		0	</span><span class="cm">/* returns parameter 		*/</span><span class="cp"></span>
<span class="cp">#define PDC_BTLB_INSERT		1	</span><span class="cm">/* insert BTLB entry		*/</span><span class="cp"></span>
<span class="cp">#define PDC_BTLB_PURGE		2	</span><span class="cm">/* purge BTLB entries 		*/</span><span class="cp"></span>
<span class="cp">#define PDC_BTLB_PURGE_ALL	3	</span><span class="cm">/* purge all BTLB entries 	*/</span><span class="cp"></span>

<span class="cp">#define PDC_TLB		19		</span><span class="cm">/* manage hardware TLB miss handling */</span><span class="cp"></span>
<span class="cp">#define PDC_TLB_INFO		0	</span><span class="cm">/* returns parameter 		*/</span><span class="cp"></span>
<span class="cp">#define PDC_TLB_SETUP		1	</span><span class="cm">/* set up miss handling 	*/</span><span class="cp"></span>

<span class="cp">#define PDC_MEM		20		</span><span class="cm">/* Manage memory		*/</span><span class="cp"></span>
<span class="cp">#define PDC_MEM_MEMINFO		0</span>
<span class="cp">#define PDC_MEM_ADD_PAGE	1</span>
<span class="cp">#define PDC_MEM_CLEAR_PDT	2</span>
<span class="cp">#define PDC_MEM_READ_PDT	3</span>
<span class="cp">#define PDC_MEM_RESET_CLEAR	4</span>
<span class="cp">#define PDC_MEM_GOODMEM		5</span>
<span class="cp">#define PDC_MEM_TABLE		128	</span><span class="cm">/* Non contig mem map (sprockets) */</span><span class="cp"></span>
<span class="cp">#define PDC_MEM_RETURN_ADDRESS_TABLE	PDC_MEM_TABLE</span>
<span class="cp">#define PDC_MEM_GET_MEMORY_SYSTEM_TABLES_SIZE	131</span>
<span class="cp">#define PDC_MEM_GET_MEMORY_SYSTEM_TABLES	132</span>
<span class="cp">#define PDC_MEM_GET_PHYSICAL_LOCATION_FROM_MEMORY_ADDRESS 133</span>

<span class="cp">#define PDC_MEM_RET_SBE_REPLACED	5	</span><span class="cm">/* PDC_MEM return values */</span><span class="cp"></span>
<span class="cp">#define PDC_MEM_RET_DUPLICATE_ENTRY	4</span>
<span class="cp">#define PDC_MEM_RET_BUF_SIZE_SMALL	1</span>
<span class="cp">#define PDC_MEM_RET_PDT_FULL		-11</span>
<span class="cp">#define PDC_MEM_RET_INVALID_PHYSICAL_LOCATION ~0ULL</span>

<span class="cp">#define PDC_PSW		21		</span><span class="cm">/* Get/Set default System Mask  */</span><span class="cp"></span>
<span class="cp">#define PDC_PSW_MASK		0	</span><span class="cm">/* Return mask                  */</span><span class="cp"></span>
<span class="cp">#define PDC_PSW_GET_DEFAULTS	1	</span><span class="cm">/* Return defaults              */</span><span class="cp"></span>
<span class="cp">#define PDC_PSW_SET_DEFAULTS	2	</span><span class="cm">/* Set default                  */</span><span class="cp"></span>
<span class="cp">#define PDC_PSW_ENDIAN_BIT	1	</span><span class="cm">/* set for big endian           */</span><span class="cp"></span>
<span class="cp">#define PDC_PSW_WIDE_BIT	2	</span><span class="cm">/* set for wide mode            */</span><span class="cp"> </span>

<span class="cp">#define PDC_SYSTEM_MAP	22		</span><span class="cm">/* find system modules		*/</span><span class="cp"></span>
<span class="cp">#define PDC_FIND_MODULE 	0</span>
<span class="cp">#define PDC_FIND_ADDRESS	1</span>
<span class="cp">#define PDC_TRANSLATE_PATH	2</span>

<span class="cp">#define PDC_SOFT_POWER	23		</span><span class="cm">/* soft power switch		*/</span><span class="cp"></span>
<span class="cp">#define PDC_SOFT_POWER_INFO	0	</span><span class="cm">/* return info about the soft power switch */</span><span class="cp"></span>
<span class="cp">#define PDC_SOFT_POWER_ENABLE	1	</span><span class="cm">/* enable/disable soft power switch */</span><span class="cp"></span>


<span class="cm">/* HVERSION dependent */</span>

<span class="cm">/* The PDC_MEM_MAP calls */</span>
<span class="cp">#define PDC_MEM_MAP	128		</span><span class="cm">/* on s700: return page info	*/</span><span class="cp"></span>
<span class="cp">#define PDC_MEM_MAP_HPA		0	</span><span class="cm">/* returns hpa of a module	*/</span><span class="cp"></span>

<span class="cp">#define PDC_EEPROM	129		</span><span class="cm">/* EEPROM access		*/</span><span class="cp"></span>
<span class="cp">#define PDC_EEPROM_READ_WORD	0</span>
<span class="cp">#define PDC_EEPROM_WRITE_WORD	1</span>
<span class="cp">#define PDC_EEPROM_READ_BYTE	2</span>
<span class="cp">#define PDC_EEPROM_WRITE_BYTE	3</span>
<span class="cp">#define PDC_EEPROM_EEPROM_PASSWORD -1000</span>

<span class="cp">#define PDC_NVM		130		</span><span class="cm">/* NVM (non-volatile memory) access */</span><span class="cp"></span>
<span class="cp">#define PDC_NVM_READ_WORD	0</span>
<span class="cp">#define PDC_NVM_WRITE_WORD	1</span>
<span class="cp">#define PDC_NVM_READ_BYTE	2</span>
<span class="cp">#define PDC_NVM_WRITE_BYTE	3</span>

<span class="cp">#define PDC_SEED_ERROR	132		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>

<span class="cp">#define PDC_IO		135		</span><span class="cm">/* log error info, reset IO system */</span><span class="cp"></span>
<span class="cp">#define PDC_IO_READ_AND_CLEAR_ERRORS	0</span>
<span class="cp">#define PDC_IO_RESET			1</span>
<span class="cp">#define PDC_IO_RESET_DEVICES		2</span>
<span class="cm">/* sets bits 6&amp;7 (little endian) of the HcControl Register */</span>
<span class="cp">#define PDC_IO_USB_SUSPEND	0xC000000000000000</span>
<span class="cp">#define PDC_IO_EEPROM_IO_ERR_TABLE_FULL	-5	</span><span class="cm">/* return value */</span><span class="cp"></span>
<span class="cp">#define PDC_IO_NO_SUSPEND		-6	</span><span class="cm">/* return value */</span><span class="cp"></span>

<span class="cp">#define PDC_BROADCAST_RESET 136		</span><span class="cm">/* reset all processors		*/</span><span class="cp"></span>
<span class="cp">#define PDC_DO_RESET		0	</span><span class="cm">/* option: perform a broadcast reset */</span><span class="cp"></span>
<span class="cp">#define PDC_DO_FIRM_TEST_RESET	1	</span><span class="cm">/* Do broadcast reset with bitmap */</span><span class="cp"></span>
<span class="cp">#define PDC_BR_RECONFIGURATION	2	</span><span class="cm">/* reset w/reconfiguration	*/</span><span class="cp"></span>
<span class="cp">#define PDC_FIRM_TEST_MAGIC	0xab9ec36fUL    </span><span class="cm">/* for this reboot only	*/</span><span class="cp"></span>

<span class="cp">#define PDC_LAN_STATION_ID 138		</span><span class="cm">/* Hversion dependent mechanism for */</span><span class="cp"></span>
<span class="cp">#define PDC_LAN_STATION_ID_READ	0	</span><span class="cm">/* getting the lan station address  */</span><span class="cp"></span>

<span class="cp">#define	PDC_LAN_STATION_ID_SIZE	6</span>

<span class="cp">#define PDC_CHECK_RANGES 139		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>

<span class="cp">#define PDC_NV_SECTIONS	141		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>

<span class="cp">#define PDC_PERFORMANCE	142		</span><span class="cm">/* performance monitoring	*/</span><span class="cp"></span>

<span class="cp">#define PDC_SYSTEM_INFO	143		</span><span class="cm">/* system information		*/</span><span class="cp"></span>
<span class="cp">#define PDC_SYSINFO_RETURN_INFO_SIZE	0</span>
<span class="cp">#define PDC_SYSINFO_RRETURN_SYS_INFO	1</span>
<span class="cp">#define PDC_SYSINFO_RRETURN_ERRORS	2</span>
<span class="cp">#define PDC_SYSINFO_RRETURN_WARNINGS	3</span>
<span class="cp">#define PDC_SYSINFO_RETURN_REVISIONS	4</span>
<span class="cp">#define PDC_SYSINFO_RRETURN_DIAGNOSE	5</span>
<span class="cp">#define PDC_SYSINFO_RRETURN_HV_DIAGNOSE	1005</span>

<span class="cp">#define PDC_RDR		144		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>
<span class="cp">#define PDC_RDR_READ_BUFFER	0</span>
<span class="cp">#define PDC_RDR_READ_SINGLE	1</span>
<span class="cp">#define PDC_RDR_WRITE_SINGLE	2</span>

<span class="cp">#define PDC_INTRIGUE	145 		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>
<span class="cp">#define PDC_INTRIGUE_WRITE_BUFFER 	 0</span>
<span class="cp">#define PDC_INTRIGUE_GET_SCRATCH_BUFSIZE 1</span>
<span class="cp">#define PDC_INTRIGUE_START_CPU_COUNTERS	 2</span>
<span class="cp">#define PDC_INTRIGUE_STOP_CPU_COUNTERS	 3</span>

<span class="cp">#define PDC_STI		146 		</span><span class="cm">/* STI access			*/</span><span class="cp"></span>
<span class="cm">/* same as PDC_PCI_XXX values (see below) */</span>

<span class="cm">/* Legacy PDC definitions for same stuff */</span>
<span class="cp">#define PDC_PCI_INDEX	147</span>
<span class="cp">#define PDC_PCI_INTERFACE_INFO		0</span>
<span class="cp">#define PDC_PCI_SLOT_INFO		1</span>
<span class="cp">#define PDC_PCI_INFLIGHT_BYTES		2</span>
<span class="cp">#define PDC_PCI_READ_CONFIG		3</span>
<span class="cp">#define PDC_PCI_WRITE_CONFIG		4</span>
<span class="cp">#define PDC_PCI_READ_PCI_IO		5</span>
<span class="cp">#define PDC_PCI_WRITE_PCI_IO		6</span>
<span class="cp">#define PDC_PCI_READ_CONFIG_DELAY	7</span>
<span class="cp">#define PDC_PCI_UPDATE_CONFIG_DELAY	8</span>
<span class="cp">#define PDC_PCI_PCI_PATH_TO_PCI_HPA	9</span>
<span class="cp">#define PDC_PCI_PCI_HPA_TO_PCI_PATH	10</span>
<span class="cp">#define PDC_PCI_PCI_PATH_TO_PCI_BUS	11</span>
<span class="cp">#define PDC_PCI_PCI_RESERVED		12</span>
<span class="cp">#define PDC_PCI_PCI_INT_ROUTE_SIZE	13</span>
<span class="cp">#define PDC_PCI_GET_INT_TBL_SIZE	PDC_PCI_PCI_INT_ROUTE_SIZE</span>
<span class="cp">#define PDC_PCI_PCI_INT_ROUTE		14</span>
<span class="cp">#define PDC_PCI_GET_INT_TBL		PDC_PCI_PCI_INT_ROUTE </span>
<span class="cp">#define PDC_PCI_READ_MON_TYPE		15</span>
<span class="cp">#define PDC_PCI_WRITE_MON_TYPE		16</span>


<span class="cm">/* Get SCSI Interface Card info:  SDTR, SCSI ID, mode (SE vs LVD) */</span>
<span class="cp">#define PDC_INITIATOR	163</span>
<span class="cp">#define PDC_GET_INITIATOR	0</span>
<span class="cp">#define PDC_SET_INITIATOR	1</span>
<span class="cp">#define PDC_DELETE_INITIATOR	2</span>
<span class="cp">#define PDC_RETURN_TABLE_SIZE	3</span>
<span class="cp">#define PDC_RETURN_TABLE	4</span>

<span class="cp">#define PDC_LINK	165 		</span><span class="cm">/* (sprockets)			*/</span><span class="cp"></span>
<span class="cp">#define PDC_LINK_PCI_ENTRY_POINTS	0  </span><span class="cm">/* list (Arg1) = 0 */</span><span class="cp"></span>
<span class="cp">#define PDC_LINK_USB_ENTRY_POINTS	1  </span><span class="cm">/* list (Arg1) = 1 */</span><span class="cp"></span>

<span class="cm">/* cl_class</span>
<span class="cm"> * page 3-33 of IO-Firmware ARS</span>
<span class="cm"> * IODC ENTRY_INIT(Search first) RET[1]</span>
<span class="cm"> */</span>
<span class="cp">#define	CL_NULL		0	</span><span class="cm">/* invalid */</span><span class="cp"></span>
<span class="cp">#define	CL_RANDOM	1	</span><span class="cm">/* random access (as disk) */</span><span class="cp"></span>
<span class="cp">#define	CL_SEQU		2	</span><span class="cm">/* sequential access (as tape) */</span><span class="cp"></span>
<span class="cp">#define	CL_DUPLEX	7	</span><span class="cm">/* full-duplex point-to-point (RS-232, Net) */</span><span class="cp"></span>
<span class="cp">#define	CL_KEYBD	8	</span><span class="cm">/* half-duplex console (HIL Keyboard) */</span><span class="cp"></span>
<span class="cp">#define	CL_DISPL	9	</span><span class="cm">/* half-duplex console (display) */</span><span class="cp"></span>
<span class="cp">#define	CL_FC		10	</span><span class="cm">/* FiberChannel access media */</span><span class="cp"></span>

<span class="cm">/* IODC ENTRY_INIT() */</span>
<span class="cp">#define ENTRY_INIT_SRCH_FRST	2</span>
<span class="cp">#define ENTRY_INIT_SRCH_NEXT	3</span>
<span class="cp">#define ENTRY_INIT_MOD_DEV	4</span>
<span class="cp">#define ENTRY_INIT_DEV		5</span>
<span class="cp">#define ENTRY_INIT_MOD		6</span>
<span class="cp">#define ENTRY_INIT_MSG		9</span>

<span class="cm">/* IODC ENTRY_IO() */</span>
<span class="cp">#define ENTRY_IO_BOOTIN		0</span>
<span class="cp">#define ENTRY_IO_BOOTOUT	1</span>
<span class="cp">#define ENTRY_IO_CIN		2</span>
<span class="cp">#define ENTRY_IO_COUT		3</span>
<span class="cp">#define ENTRY_IO_CLOSE		4</span>
<span class="cp">#define ENTRY_IO_GETMSG		9</span>
<span class="cp">#define ENTRY_IO_BBLOCK_IN	16</span>
<span class="cp">#define ENTRY_IO_BBLOCK_OUT	17</span>

<span class="cm">/* IODC ENTRY_SPA() */</span>

<span class="cm">/* IODC ENTRY_CONFIG() */</span>

<span class="cm">/* IODC ENTRY_TEST() */</span>

<span class="cm">/* IODC ENTRY_TLB() */</span>

<span class="cm">/* constants for OS (NVM...) */</span>
<span class="cp">#define OS_ID_NONE		0	</span><span class="cm">/* Undefined OS ID	*/</span><span class="cp"></span>
<span class="cp">#define OS_ID_HPUX		1	</span><span class="cm">/* HP-UX OS		*/</span><span class="cp"></span>
<span class="cp">#define OS_ID_MPEXL		2	</span><span class="cm">/* MPE XL OS		*/</span><span class="cp"></span>
<span class="cp">#define OS_ID_OSF		3	</span><span class="cm">/* OSF OS		*/</span><span class="cp"></span>
<span class="cp">#define OS_ID_HPRT		4	</span><span class="cm">/* HP-RT OS		*/</span><span class="cp"></span>
<span class="cp">#define OS_ID_NOVEL		5	</span><span class="cm">/* NOVELL OS		*/</span><span class="cp"></span>
<span class="cp">#define OS_ID_LINUX		6	</span><span class="cm">/* Linux		*/</span><span class="cp"></span>


<span class="cm">/* constants for PDC_CHASSIS */</span>
<span class="cp">#define OSTAT_OFF		0</span>
<span class="cp">#define OSTAT_FLT		1 </span>
<span class="cp">#define OSTAT_TEST		2</span>
<span class="cp">#define OSTAT_INIT		3</span>
<span class="cp">#define OSTAT_SHUT		4</span>
<span class="cp">#define OSTAT_WARN		5</span>
<span class="cp">#define OSTAT_RUN		6</span>
<span class="cp">#define OSTAT_ON		7</span>

<span class="cm">/* Page Zero constant offsets used by the HPMC handler */</span>
<span class="cp">#define BOOT_CONSOLE_HPA_OFFSET  0x3c0</span>
<span class="cp">#define BOOT_CONSOLE_SPA_OFFSET  0x3c4</span>
<span class="cp">#define BOOT_CONSOLE_PATH_OFFSET 0x3a8</span>

<span class="cm">/* size of the pdc_result buffer for firmware.c */</span>
<span class="cp">#define NUM_PDC_RESULT	32</span>

<span class="cp">#if !defined(__ASSEMBLY__)</span>

<span class="cp">#include &lt;linux/types.h&gt;</span>

<span class="cp">#ifdef __KERNEL__</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">pdc_type</span><span class="p">;</span>

<span class="cm">/* Values for pdc_type */</span>
<span class="cp">#define PDC_TYPE_ILLEGAL	-1</span>
<span class="cp">#define PDC_TYPE_PAT		 0 </span><span class="cm">/* 64-bit PAT-PDC */</span><span class="cp"></span>
<span class="cp">#define PDC_TYPE_SYSTEM_MAP	 1 </span><span class="cm">/* 32-bit, but supports PDC_SYSTEM_MAP */</span><span class="cp"></span>
<span class="cp">#define PDC_TYPE_SNAKE		 2 </span><span class="cm">/* Doesn&#39;t support SYSTEM_MAP */</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">pdc_chassis_info</span> <span class="p">{</span>       <span class="cm">/* for PDC_CHASSIS_INFO */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">actcnt</span><span class="p">;</span>   <span class="cm">/* actual number of bytes returned */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">maxcnt</span><span class="p">;</span>   <span class="cm">/* maximum number of bytes that could be returned */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_coproc_cfg</span> <span class="p">{</span>         <span class="cm">/* for PDC_COPROC_CFG */</span>
        <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ccr_functional</span><span class="p">;</span>
        <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ccr_present</span><span class="p">;</span>
        <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">revision</span><span class="p">;</span>
        <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">model</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_model</span> <span class="p">{</span>		<span class="cm">/* for PDC_MODEL */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hversion</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sversion</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hw_id</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">boot_id</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sw_id</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sw_cap</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">arch_rev</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">pot_key</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">curr_key</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_cache_cf</span> <span class="p">{</span>		<span class="cm">/* for PDC_CACHE  (I/D-caches) */</span>
    <span class="kt">unsigned</span> <span class="kt">long</span>
<span class="cp">#ifdef CONFIG_64BIT</span>
		<span class="nl">cc_padW:</span><span class="mi">32</span><span class="p">,</span>
<span class="cp">#endif</span>
		<span class="nl">cc_alias:</span> <span class="mi">4</span><span class="p">,</span>	<span class="cm">/* alias boundaries for virtual addresses   */</span>
		<span class="nl">cc_block:</span> <span class="mi">4</span><span class="p">,</span>	<span class="cm">/* to determine most efficient stride */</span>
		<span class="n">cc_line</span>	<span class="o">:</span> <span class="mi">3</span><span class="p">,</span>	<span class="cm">/* maximum amount written back as a result of store (multiple of 16 bytes) */</span>
		<span class="nl">cc_shift:</span> <span class="mi">2</span><span class="p">,</span>	<span class="cm">/* how much to shift cc_block left */</span>
		<span class="n">cc_wt</span>	<span class="o">:</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* 0 = WT-Dcache, 1 = WB-Dcache */</span>
		<span class="n">cc_sh</span>	<span class="o">:</span> <span class="mi">2</span><span class="p">,</span>	<span class="cm">/* 0 = separate I/D-cache, else shared I/D-cache */</span>
		<span class="n">cc_cst</span>  <span class="o">:</span> <span class="mi">3</span><span class="p">,</span>	<span class="cm">/* 0 = incoherent D-cache, 1=coherent D-cache */</span>
		<span class="n">cc_pad1</span> <span class="o">:</span> <span class="mi">10</span><span class="p">,</span>	<span class="cm">/* reserved */</span>
		<span class="n">cc_hv</span>   <span class="o">:</span> <span class="mi">3</span><span class="p">;</span>	<span class="cm">/* hversion dependent */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_tlb_cf</span> <span class="p">{</span>		<span class="cm">/* for PDC_CACHE (I/D-TLB&#39;s) */</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">tc_pad0</span><span class="o">:</span><span class="mi">12</span><span class="p">,</span>	<span class="cm">/* reserved */</span>
<span class="cp">#ifdef CONFIG_64BIT</span>
		<span class="nl">tc_padW:</span><span class="mi">32</span><span class="p">,</span>
<span class="cp">#endif</span>
		<span class="n">tc_sh</span>	<span class="o">:</span> <span class="mi">2</span><span class="p">,</span>	<span class="cm">/* 0 = separate I/D-TLB, else shared I/D-TLB */</span>
		<span class="n">tc_hv</span>   <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* HV */</span>
		<span class="n">tc_page</span> <span class="o">:</span> <span class="mi">1</span><span class="p">,</span>	<span class="cm">/* 0 = 2K page-size-machine, 1 = 4k page size */</span>
		<span class="n">tc_cst</span>  <span class="o">:</span> <span class="mi">3</span><span class="p">,</span>	<span class="cm">/* 0 = incoherent operations, else coherent operations */</span>
		<span class="n">tc_aid</span>  <span class="o">:</span> <span class="mi">5</span><span class="p">,</span>	<span class="cm">/* ITLB: width of access ids of processor (encoded!) */</span>
		<span class="n">tc_pad1</span> <span class="o">:</span> <span class="mi">8</span><span class="p">;</span>	<span class="cm">/* ITLB: width of space-registers (encoded) */</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_cache_info</span> <span class="p">{</span>		<span class="cm">/* main-PDC_CACHE-structure (caches &amp; TLB&#39;s) */</span>
	<span class="cm">/* I-cache */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">ic_size</span><span class="p">;</span>	<span class="cm">/* size in bytes */</span>
	<span class="k">struct</span> <span class="n">pdc_cache_cf</span> <span class="n">ic_conf</span><span class="p">;</span>	<span class="cm">/* configuration */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">ic_base</span><span class="p">;</span>	<span class="cm">/* base-addr */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">ic_stride</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">ic_count</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">ic_loop</span><span class="p">;</span>
	<span class="cm">/* D-cache */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dc_size</span><span class="p">;</span>	<span class="cm">/* size in bytes */</span>
	<span class="k">struct</span> <span class="n">pdc_cache_cf</span> <span class="n">dc_conf</span><span class="p">;</span>	<span class="cm">/* configuration */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dc_base</span><span class="p">;</span>	<span class="cm">/* base-addr */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dc_stride</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dc_count</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dc_loop</span><span class="p">;</span>
	<span class="cm">/* Instruction-TLB */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_size</span><span class="p">;</span>	<span class="cm">/* number of entries in I-TLB */</span>
	<span class="k">struct</span> <span class="n">pdc_tlb_cf</span> <span class="n">it_conf</span><span class="p">;</span>	<span class="cm">/* I-TLB-configuration */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_sp_base</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_sp_stride</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_sp_count</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_off_base</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_off_stride</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_off_count</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">it_loop</span><span class="p">;</span>
	<span class="cm">/* data-TLB */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_size</span><span class="p">;</span>	<span class="cm">/* number of entries in D-TLB */</span>
	<span class="k">struct</span> <span class="n">pdc_tlb_cf</span> <span class="n">dt_conf</span><span class="p">;</span>	<span class="cm">/* D-TLB-configuration */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_sp_base</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_sp_stride</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_sp_count</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_off_base</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_off_stride</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_off_count</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span>	<span class="n">dt_loop</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#if 0</span><span class="c"></span>
<span class="c">/* If you start using the next struct, you&#39;ll have to adjust it to</span>
<span class="c"> * work with 64-bit firmware I think -PB</span>
<span class="c"> */</span>
<span class="c">struct pdc_iodc {     /* PDC_IODC */</span>
<span class="c">	unsigned char   hversion_model;</span>
<span class="c">	unsigned char 	hversion;</span>
<span class="c">	unsigned char 	spa;</span>
<span class="c">	unsigned char 	type;</span>
<span class="c">	unsigned int	sversion_rev:4;</span>
<span class="c">	unsigned int	sversion_model:19;</span>
<span class="c">	unsigned int	sversion_opt:8;</span>
<span class="c">	unsigned char	rev;</span>
<span class="c">	unsigned char	dep;</span>
<span class="c">	unsigned char	features;</span>
<span class="c">	unsigned char	pad1;</span>
<span class="c">	unsigned int	checksum:16;</span>
<span class="c">	unsigned int	length:16;</span>
<span class="c">	unsigned int    pad[15];</span>
<span class="c">} __attribute__((aligned(8))) ;</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef CONFIG_PA20</span>
<span class="cm">/* no BLTBs in pa2.0 processors */</span>
<span class="k">struct</span> <span class="n">pdc_btlb_info_range</span> <span class="p">{</span>
	<span class="n">__u8</span> <span class="n">res00</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">num_i</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">num_d</span><span class="p">;</span>
	<span class="n">__u8</span> <span class="n">num_comb</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_btlb_info</span> <span class="p">{</span>	<span class="cm">/* PDC_BLOCK_TLB, return of PDC_BTLB_INFO */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">min_size</span><span class="p">;</span>	<span class="cm">/* minimum size of BTLB in pages */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">max_size</span><span class="p">;</span>	<span class="cm">/* maximum size of BTLB in pages */</span>
	<span class="k">struct</span> <span class="n">pdc_btlb_info_range</span> <span class="n">fixed_range_info</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">pdc_btlb_info_range</span> <span class="n">variable_range_info</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* !CONFIG_PA20 */</span><span class="cp"></span>

<span class="cp">#ifdef CONFIG_64BIT</span>
<span class="k">struct</span> <span class="n">pdc_memory_table_raddr</span> <span class="p">{</span> <span class="cm">/* PDC_MEM/PDC_MEM_TABLE (return info) */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">entries_returned</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">entries_total</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_memory_table</span> <span class="p">{</span>       <span class="cm">/* PDC_MEM/PDC_MEM_TABLE (arguments) */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">paddr</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>  <span class="n">pages</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>  <span class="n">reserved</span><span class="p">;</span>
<span class="p">};</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_64BIT */</span><span class="cp"></span>

<span class="k">struct</span> <span class="n">pdc_system_map_mod_info</span> <span class="p">{</span> <span class="cm">/* PDC_SYSTEM_MAP/FIND_MODULE */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mod_addr</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mod_pgs</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">add_addrs</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_system_map_addr_info</span> <span class="p">{</span> <span class="cm">/* PDC_SYSTEM_MAP/FIND_ADDRESS */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mod_addr</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mod_pgs</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">pdc_initiator</span> <span class="p">{</span> <span class="cm">/* PDC_INITIATOR */</span>
	<span class="kt">int</span> <span class="n">host_id</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">factor</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">width</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">mode</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">hardware_path</span> <span class="p">{</span>
	<span class="kt">char</span>  <span class="n">flags</span><span class="p">;</span>	<span class="cm">/* see bit definitions below */</span>
	<span class="kt">char</span>  <span class="n">bc</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>	<span class="cm">/* Bus Converter routing info to a specific */</span>
			<span class="cm">/* I/O adaptor (&lt; 0 means none, &gt; 63 resvd) */</span>
	<span class="kt">char</span>  <span class="n">mod</span><span class="p">;</span>	<span class="cm">/* fixed field of specified module */</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Device path specifications used by PDC.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">pdc_module_path</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">hardware_path</span> <span class="n">path</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">layers</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span> <span class="cm">/* device-specific info (ctlr #, unit # ...) */</span>
<span class="p">};</span>

<span class="cp">#ifndef CONFIG_PA20</span>
<span class="cm">/* Only used on some pre-PA2.0 boxes */</span>
<span class="k">struct</span> <span class="n">pdc_memory_map</span> <span class="p">{</span>		<span class="cm">/* PDC_MEMORY_MAP */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hpa</span><span class="p">;</span>	<span class="cm">/* mod&#39;s register set address */</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">more_pgs</span><span class="p">;</span>	<span class="cm">/* number of additional I/O pgs */</span>
<span class="p">};</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">pdc_tod</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">tod_sec</span><span class="p">;</span> 
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">tod_usec</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/* architected results from PDC_PIM/transfer hpmc on a PA1.1 machine */</span>

<span class="k">struct</span> <span class="n">pdc_hpmc_pim_11</span> <span class="p">{</span> <span class="cm">/* PDC_PIM */</span>
	<span class="n">__u32</span> <span class="n">gr</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u32</span> <span class="n">cr</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u32</span> <span class="n">sr</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u32</span> <span class="n">iasq_back</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">iaoq_back</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">check_type</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">cpu_state</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">rsvd1</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">cache_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">tlb_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">bus_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">assists_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">rsvd2</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">assist_state</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">responder_addr</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">requestor_addr</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">path_info</span><span class="p">;</span>
	<span class="n">__u64</span> <span class="n">fr</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * architected results from PDC_PIM/transfer hpmc on a PA2.0 machine</span>
<span class="cm"> *</span>
<span class="cm"> * Note that PDC_PIM doesn&#39;t care whether or not wide mode was enabled</span>
<span class="cm"> * so the results are different on  PA1.1 vs. PA2.0 when in narrow mode.</span>
<span class="cm"> *</span>
<span class="cm"> * Note also that there are unarchitected results available, which</span>
<span class="cm"> * are hversion dependent. Do a &quot;ser pim 0 hpmc&quot; after rebooting, since</span>
<span class="cm"> * the firmware is probably the best way of printing hversion dependent</span>
<span class="cm"> * data.</span>
<span class="cm"> */</span>

<span class="k">struct</span> <span class="n">pdc_hpmc_pim_20</span> <span class="p">{</span> <span class="cm">/* PDC_PIM */</span>
	<span class="n">__u64</span> <span class="n">gr</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u64</span> <span class="n">cr</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
	<span class="n">__u64</span> <span class="n">sr</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>
	<span class="n">__u64</span> <span class="n">iasq_back</span><span class="p">;</span>
	<span class="n">__u64</span> <span class="n">iaoq_back</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">check_type</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">cpu_state</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">cache_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">tlb_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">bus_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">assists_check</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">assist_state</span><span class="p">;</span>
	<span class="n">__u32</span> <span class="n">path_info</span><span class="p">;</span>
	<span class="n">__u64</span> <span class="n">responder_addr</span><span class="p">;</span>
	<span class="n">__u64</span> <span class="n">requestor_addr</span><span class="p">;</span>
	<span class="n">__u64</span> <span class="n">fr</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">pdc_console_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>	<span class="cm">/* in pdc_console.c */</span>
<span class="kt">void</span> <span class="n">pdc_console_restart</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">setup_pdc</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>		<span class="cm">/* in inventory.c */</span>

<span class="cm">/* wrapper-functions from pdc.c */</span>

<span class="kt">int</span> <span class="n">pdc_add_valid</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">address</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_chassis_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_chassis_info</span> <span class="o">*</span><span class="n">chassis_info</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">led_info</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">len</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_chassis_disp</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">disp</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_chassis_warn</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">warn</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_coproc_cfg</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_coproc_cfg</span> <span class="o">*</span><span class="n">pdc_coproc_info</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_coproc_cfg_unlocked</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_coproc_cfg</span> <span class="o">*</span><span class="n">pdc_coproc_info</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_iodc_read</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">actcnt</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hpa</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span>
		  <span class="kt">void</span> <span class="o">*</span><span class="n">iodc_data</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">iodc_data_size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_system_map_find_mods</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_system_map_mod_info</span> <span class="o">*</span><span class="n">pdc_mod_info</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">pdc_module_path</span> <span class="o">*</span><span class="n">mod_path</span><span class="p">,</span> <span class="kt">long</span> <span class="n">mod_index</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_system_map_find_addrs</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_system_map_addr_info</span> <span class="o">*</span><span class="n">pdc_addr_info</span><span class="p">,</span>
			      <span class="kt">long</span> <span class="n">mod_index</span><span class="p">,</span> <span class="kt">long</span> <span class="n">addr_index</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_model_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_model</span> <span class="o">*</span><span class="n">model</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_model_sysmodel</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">name</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_model_cpuid</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">cpu_id</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_model_versions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">versions</span><span class="p">,</span> <span class="kt">int</span> <span class="n">id</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_model_capabilities</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">capabilities</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_cache_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_cache_info</span> <span class="o">*</span><span class="n">cache</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_spaceid_bits</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">space_bits</span><span class="p">);</span>
<span class="cp">#ifndef CONFIG_PA20</span>
<span class="kt">int</span> <span class="n">pdc_btlb_info</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_btlb_info</span> <span class="o">*</span><span class="n">btlb</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_mem_map_hpa</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_memory_map</span> <span class="o">*</span><span class="n">r_addr</span><span class="p">,</span> <span class="k">struct</span> <span class="n">pdc_module_path</span> <span class="o">*</span><span class="n">mod_path</span><span class="p">);</span>
<span class="cp">#endif </span><span class="cm">/* !CONFIG_PA20 */</span><span class="cp"></span>
<span class="kt">int</span> <span class="n">pdc_lan_station_id</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">lan_addr</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">net_hpa</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">pdc_stable_read</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">staddr</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">memaddr</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">count</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_stable_write</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">staddr</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">memaddr</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">count</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_stable_get_size</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">size</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_stable_verify_contents</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_stable_initialize</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">pdc_pci_irt_size</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">num_entries</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hpa</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_pci_irt</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">num_entries</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hpa</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">tbl</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">pdc_get_initiator</span><span class="p">(</span><span class="k">struct</span> <span class="n">hardware_path</span> <span class="o">*</span><span class="p">,</span> <span class="k">struct</span> <span class="n">pdc_initiator</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_tod_read</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_tod</span> <span class="o">*</span><span class="n">tod</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_tod_set</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sec</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">usec</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_64BIT</span>
<span class="kt">int</span> <span class="n">pdc_mem_mem_table</span><span class="p">(</span><span class="k">struct</span> <span class="n">pdc_memory_table_raddr</span> <span class="o">*</span><span class="n">r_addr</span><span class="p">,</span>
		<span class="k">struct</span> <span class="n">pdc_memory_table</span> <span class="o">*</span><span class="n">tbl</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">entries</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="kt">void</span> <span class="n">set_firmware_width</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">set_firmware_width_unlocked</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_do_firm_test_reset</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ftc_bitmap</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_do_reset</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_soft_power_info</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="o">*</span><span class="n">power_reg</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_soft_power_button</span><span class="p">(</span><span class="kt">int</span> <span class="n">sw_control</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">pdc_io_reset</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">pdc_io_reset_devices</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_iodc_getc</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_iodc_print</span><span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">count</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">pdc_emergency_unlock</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">pdc_sti_call</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">func</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">flags</span><span class="p">,</span>
                 <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">inptr</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">outputr</span><span class="p">,</span>
                 <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">glob_cfg</span><span class="p">);</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">char</span> <span class="o">*</span> <span class="nf">os_id_to_string</span><span class="p">(</span><span class="n">u16</span> <span class="n">os_id</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">switch</span><span class="p">(</span><span class="n">os_id</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">case</span> <span class="n">OS_ID_NONE</span>:	<span class="k">return</span> <span class="s">&quot;No OS&quot;</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">OS_ID_HPUX</span>:	<span class="k">return</span> <span class="s">&quot;HP-UX&quot;</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">OS_ID_MPEXL</span>:	<span class="k">return</span> <span class="s">&quot;MPE-iX&quot;</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">OS_ID_OSF</span>:		<span class="k">return</span> <span class="s">&quot;OSF&quot;</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">OS_ID_HPRT</span>:	<span class="k">return</span> <span class="s">&quot;HP-RT&quot;</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">OS_ID_NOVEL</span>:	<span class="k">return</span> <span class="s">&quot;Novell Netware&quot;</span><span class="p">;</span>
	<span class="k">case</span> <span class="n">OS_ID_LINUX</span>:	<span class="k">return</span> <span class="s">&quot;Linux&quot;</span><span class="p">;</span>
	<span class="nl">default:</span>	<span class="k">return</span> <span class="s">&quot;Unknown&quot;</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>

<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

<span class="cm">/* flags of the device_path */</span>
<span class="cp">#define	PF_AUTOBOOT	0x80</span>
<span class="cp">#define	PF_AUTOSEARCH	0x40</span>
<span class="cp">#define	PF_TIMER	0x0F</span>

<span class="k">struct</span> <span class="n">device_path</span> <span class="p">{</span>		<span class="cm">/* page 1-69 */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">flags</span><span class="p">;</span>	<span class="cm">/* flags see above! */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">bc</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>	<span class="cm">/* bus converter routing info */</span>
	<span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">mod</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>  <span class="n">layers</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span><span class="cm">/* device-specific layer-info */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">aligned</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span> <span class="p">;</span>

<span class="k">struct</span> <span class="n">pz_device</span> <span class="p">{</span>
	<span class="k">struct</span>	<span class="n">device_path</span> <span class="n">dp</span><span class="p">;</span>	<span class="cm">/* see above */</span>
	<span class="cm">/* struct	iomod *hpa; */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">hpa</span><span class="p">;</span>	<span class="cm">/* HPA base address */</span>
	<span class="cm">/* char	*spa; */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">spa</span><span class="p">;</span>	<span class="cm">/* SPA base address */</span>
	<span class="cm">/* int	(*iodc_io)(struct iomod*, ...); */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">iodc_io</span><span class="p">;</span>	<span class="cm">/* device entry point */</span>
	<span class="kt">short</span>	<span class="n">pad</span><span class="p">;</span>		<span class="cm">/* reserved */</span>
	<span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">cl_class</span><span class="p">;</span><span class="cm">/* see below */</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">aligned</span><span class="p">(</span><span class="mi">8</span><span class="p">)))</span> <span class="p">;</span>

<span class="k">struct</span> <span class="n">zeropage</span> <span class="p">{</span>
	<span class="cm">/* [0x000] initialize vectors (VEC) */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">vec_special</span><span class="p">;</span>		<span class="cm">/* must be zero */</span>
	<span class="cm">/* int	(*vec_pow_fail)(void);*/</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">vec_pow_fail</span><span class="p">;</span> <span class="cm">/* power failure handler */</span>
	<span class="cm">/* int	(*vec_toc)(void); */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">vec_toc</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">vec_toclen</span><span class="p">;</span>
	<span class="cm">/* int	(*vec_rendz)(void); */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">vec_rendz</span><span class="p">;</span>
	<span class="kt">int</span>	<span class="n">vec_pow_fail_flen</span><span class="p">;</span>
	<span class="kt">int</span>	<span class="n">vec_pad</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>		
	
	<span class="cm">/* [0x040] reserved processor dependent */</span>
	<span class="kt">int</span>	<span class="n">pad0</span><span class="p">[</span><span class="mi">112</span><span class="p">];</span>

	<span class="cm">/* [0x200] reserved */</span>
	<span class="kt">int</span>	<span class="n">pad1</span><span class="p">[</span><span class="mi">84</span><span class="p">];</span>

	<span class="cm">/* [0x350] memory configuration (MC) */</span>
	<span class="kt">int</span>	<span class="n">memc_cont</span><span class="p">;</span>		<span class="cm">/* contiguous mem size (bytes) */</span>
	<span class="kt">int</span>	<span class="n">memc_phsize</span><span class="p">;</span>		<span class="cm">/* physical memory size */</span>
	<span class="kt">int</span>	<span class="n">memc_adsize</span><span class="p">;</span>		<span class="cm">/* additional mem size, bytes of SPA space used by PDC */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">mem_pdc_hi</span><span class="p">;</span>	<span class="cm">/* used for 64-bit */</span>

	<span class="cm">/* [0x360] various parameters for the boot-CPU */</span>
	<span class="cm">/* unsigned int *mem_booterr[8]; */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">mem_booterr</span><span class="p">[</span><span class="mi">8</span><span class="p">];</span>	<span class="cm">/* ptr to boot errors */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">mem_free</span><span class="p">;</span>		<span class="cm">/* first location, where OS can be loaded */</span>
	<span class="cm">/* struct iomod *mem_hpa; */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">mem_hpa</span><span class="p">;</span>		<span class="cm">/* HPA of the boot-CPU */</span>
	<span class="cm">/* int (*mem_pdc)(int, ...); */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">mem_pdc</span><span class="p">;</span>		<span class="cm">/* PDC entry point */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">mem_10msec</span><span class="p">;</span>	<span class="cm">/* number of clock ticks in 10msec */</span>

	<span class="cm">/* [0x390] initial memory module (IMM) */</span>
	<span class="cm">/* struct iomod *imm_hpa; */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">imm_hpa</span><span class="p">;</span>		<span class="cm">/* HPA of the IMM */</span>
	<span class="kt">int</span>	<span class="n">imm_soft_boot</span><span class="p">;</span>		<span class="cm">/* 0 = was hard boot, 1 = was soft boot */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">imm_spa_size</span><span class="p">;</span>		<span class="cm">/* SPA size of the IMM in bytes */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">imm_max_mem</span><span class="p">;</span>		<span class="cm">/* bytes of mem in IMM */</span>

	<span class="cm">/* [0x3A0] boot console, display device and keyboard */</span>
	<span class="k">struct</span> <span class="n">pz_device</span> <span class="n">mem_cons</span><span class="p">;</span>	<span class="cm">/* description of console device */</span>
	<span class="k">struct</span> <span class="n">pz_device</span> <span class="n">mem_boot</span><span class="p">;</span>	<span class="cm">/* description of boot device */</span>
	<span class="k">struct</span> <span class="n">pz_device</span> <span class="n">mem_kbd</span><span class="p">;</span>	<span class="cm">/* description of keyboard device */</span>

	<span class="cm">/* [0x430] reserved */</span>
	<span class="kt">int</span>	<span class="n">pad430</span><span class="p">[</span><span class="mi">116</span><span class="p">];</span>

	<span class="cm">/* [0x600] processor dependent */</span>
	<span class="n">__u32</span>	<span class="n">pad600</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
	<span class="n">__u32</span>	<span class="n">proc_sti</span><span class="p">;</span>		<span class="cm">/* pointer to STI ROM */</span>
	<span class="n">__u32</span>	<span class="n">pad608</span><span class="p">[</span><span class="mi">126</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* !defined(__ASSEMBLY__) */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* _PARISC_PDC_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
