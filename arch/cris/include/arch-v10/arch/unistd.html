<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › cris › include › arch-v10 › arch › unistd.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>unistd.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _ASM_CRIS_ARCH_UNISTD_H_</span>
<span class="cp">#define _ASM_CRIS_ARCH_UNISTD_H_</span>

<span class="cm">/* XXX - _foo needs to be __foo, while __NR_bar could be _NR_bar. */</span>
<span class="cm">/*</span>
<span class="cm"> * Don&#39;t remove the .ifnc tests; they are an insurance against</span>
<span class="cm"> * any hard-to-spot gcc register allocation bugs.</span>
<span class="cm"> */</span>
<span class="cp">#define _syscall0(type,name) \</span>
<span class="cp">type name(void) \</span>
<span class="cp">{ \</span>
<span class="cp">  register long __a __asm__ (&quot;r10&quot;); \</span>
<span class="cp">  register long __n_ __asm__ (&quot;r9&quot;) = (__NR_##name); \</span>
<span class="cp">  __asm__ __volatile__ (&quot;.ifnc %0%1,$r10$r9\n\t&quot; \</span>
<span class="cp">			&quot;.err\n\t&quot; \</span>
<span class="cp">			&quot;.endif\n\t&quot; \</span>
<span class="cp">			&quot;break 13&quot; \</span>
<span class="cp">			: &quot;=r&quot; (__a) \</span>
<span class="cp">			: &quot;r&quot; (__n_)); \</span>
<span class="cp">  if (__a &gt;= 0) \</span>
<span class="cp">     return (type) __a; \</span>
<span class="cp">  errno = -__a; \</span>
<span class="cp">  return (type) -1; \</span>
<span class="cp">}</span>

<span class="cp">#define _syscall1(type,name,type1,arg1) \</span>
<span class="cp">type name(type1 arg1) \</span>
<span class="cp">{ \</span>
<span class="cp">  register long __a __asm__ (&quot;r10&quot;) = (long) arg1; \</span>
<span class="cp">  register long __n_ __asm__ (&quot;r9&quot;) = (__NR_##name); \</span>
<span class="cp">  __asm__ __volatile__ (&quot;.ifnc %0%1,$r10$r9\n\t&quot; \</span>
<span class="cp">			&quot;.err\n\t&quot; \</span>
<span class="cp">			&quot;.endif\n\t&quot; \</span>
<span class="cp">			&quot;break 13&quot; \</span>
<span class="cp">			: &quot;=r&quot; (__a) \</span>
<span class="cp">			: &quot;r&quot; (__n_), &quot;0&quot; (__a)); \</span>
<span class="cp">  if (__a &gt;= 0) \</span>
<span class="cp">     return (type) __a; \</span>
<span class="cp">  errno = -__a; \</span>
<span class="cp">  return (type) -1; \</span>
<span class="cp">}</span>

<span class="cp">#define _syscall2(type,name,type1,arg1,type2,arg2) \</span>
<span class="cp">type name(type1 arg1,type2 arg2) \</span>
<span class="cp">{ \</span>
<span class="cp">  register long __a __asm__ (&quot;r10&quot;) = (long) arg1; \</span>
<span class="cp">  register long __b __asm__ (&quot;r11&quot;) = (long) arg2; \</span>
<span class="cp">  register long __n_ __asm__ (&quot;r9&quot;) = (__NR_##name); \</span>
<span class="cp">  __asm__ __volatile__ (&quot;.ifnc %0%1%3,$r10$r9$r11\n\t&quot; \</span>
<span class="cp">			&quot;.err\n\t&quot; \</span>
<span class="cp">			&quot;.endif\n\t&quot; \</span>
<span class="cp">			&quot;break 13&quot; \</span>
<span class="cp">			: &quot;=r&quot; (__a) \</span>
<span class="cp">			: &quot;r&quot; (__n_), &quot;0&quot; (__a), &quot;r&quot; (__b)); \</span>
<span class="cp">  if (__a &gt;= 0) \</span>
<span class="cp">     return (type) __a; \</span>
<span class="cp">  errno = -__a; \</span>
<span class="cp">  return (type) -1; \</span>
<span class="cp">}</span>

<span class="cp">#define _syscall3(type,name,type1,arg1,type2,arg2,type3,arg3) \</span>
<span class="cp">type name(type1 arg1,type2 arg2,type3 arg3) \</span>
<span class="cp">{ \</span>
<span class="cp">  register long __a __asm__ (&quot;r10&quot;) = (long) arg1; \</span>
<span class="cp">  register long __b __asm__ (&quot;r11&quot;) = (long) arg2; \</span>
<span class="cp">  register long __c __asm__ (&quot;r12&quot;) = (long) arg3; \</span>
<span class="cp">  register long __n_ __asm__ (&quot;r9&quot;) = (__NR_##name); \</span>
<span class="cp">  __asm__ __volatile__ (&quot;.ifnc %0%1%3%4,$r10$r9$r11$r12\n\t&quot; \</span>
<span class="cp">			&quot;.err\n\t&quot; \</span>
<span class="cp">			&quot;.endif\n\t&quot; \</span>
<span class="cp">			&quot;break 13&quot; \</span>
<span class="cp">			: &quot;=r&quot; (__a) \</span>
<span class="cp">			: &quot;r&quot; (__n_), &quot;0&quot; (__a), &quot;r&quot; (__b), &quot;r&quot; (__c)); \</span>
<span class="cp">  if (__a &gt;= 0) \</span>
<span class="cp">     return (type) __a; \</span>
<span class="cp">  errno = -__a; \</span>
<span class="cp">  return (type) -1; \</span>
<span class="cp">}</span>

<span class="cp">#define _syscall4(type,name,type1,arg1,type2,arg2,type3,arg3,type4,arg4) \</span>
<span class="cp">type name (type1 arg1, type2 arg2, type3 arg3, type4 arg4) \</span>
<span class="cp">{ \</span>
<span class="cp">  register long __a __asm__ (&quot;r10&quot;) = (long) arg1; \</span>
<span class="cp">  register long __b __asm__ (&quot;r11&quot;) = (long) arg2; \</span>
<span class="cp">  register long __c __asm__ (&quot;r12&quot;) = (long) arg3; \</span>
<span class="cp">  register long __d __asm__ (&quot;r13&quot;) = (long) arg4; \</span>
<span class="cp">  register long __n_ __asm__ (&quot;r9&quot;) = (__NR_##name); \</span>
<span class="cp">  __asm__ __volatile__ (&quot;.ifnc %0%1%3%4%5,$r10$r9$r11$r12$r13\n\t&quot; \</span>
<span class="cp">			&quot;.err\n\t&quot; \</span>
<span class="cp">			&quot;.endif\n\t&quot; \</span>
<span class="cp">			&quot;break 13&quot; \</span>
<span class="cp">			: &quot;=r&quot; (__a) \</span>
<span class="cp">			: &quot;r&quot; (__n_), &quot;0&quot; (__a), &quot;r&quot; (__b), \</span>
<span class="cp">			  &quot;r&quot; (__c), &quot;r&quot; (__d)); \</span>
<span class="cp">  if (__a &gt;= 0) \</span>
<span class="cp">     return (type) __a; \</span>
<span class="cp">  errno = -__a; \</span>
<span class="cp">  return (type) -1; \</span>
<span class="cp">} </span>

<span class="cp">#define _syscall5(type,name,type1,arg1,type2,arg2,type3,arg3,type4,arg4, \</span>
<span class="cp">	  type5,arg5) \</span>
<span class="cp">type name (type1 arg1,type2 arg2,type3 arg3,type4 arg4,type5 arg5) \</span>
<span class="cp">{ \</span>
<span class="cp">  register long __a __asm__ (&quot;r10&quot;) = (long) arg1; \</span>
<span class="cp">  register long __b __asm__ (&quot;r11&quot;) = (long) arg2; \</span>
<span class="cp">  register long __c __asm__ (&quot;r12&quot;) = (long) arg3; \</span>
<span class="cp">  register long __d __asm__ (&quot;r13&quot;) = (long) arg4; \</span>
<span class="cp">  register long __n_ __asm__ (&quot;r9&quot;) = (__NR_##name); \</span>
<span class="cp">  __asm__ __volatile__ (&quot;.ifnc %0%1%3%4%5,$r10$r9$r11$r12$r13\n\t&quot; \</span>
<span class="cp">			&quot;.err\n\t&quot; \</span>
<span class="cp">			&quot;.endif\n\t&quot; \</span>
<span class="cp">			&quot;move %6,$mof\n\t&quot; \</span>
<span class="cp">			&quot;break 13&quot; \</span>
<span class="cp">			: &quot;=r&quot; (__a) \</span>
<span class="cp">			: &quot;r&quot; (__n_), &quot;0&quot; (__a), &quot;r&quot; (__b), \</span>
<span class="cp">			  &quot;r&quot; (__c), &quot;r&quot; (__d), &quot;g&quot; (arg5)); \</span>
<span class="cp">  if (__a &gt;= 0) \</span>
<span class="cp">     return (type) __a; \</span>
<span class="cp">  errno = -__a; \</span>
<span class="cp">  return (type) -1; \</span>
<span class="cp">}</span>

<span class="cp">#define _syscall6(type,name,type1,arg1,type2,arg2,type3,arg3,type4,arg4, \</span>
<span class="cp">	  type5,arg5,type6,arg6) \</span>
<span class="cp">type name (type1 arg1,type2 arg2,type3 arg3,type4 arg4,type5 arg5,type6 arg6) \</span>
<span class="cp">{ \</span>
<span class="cp">  register long __a __asm__ (&quot;r10&quot;) = (long) arg1; \</span>
<span class="cp">  register long __b __asm__ (&quot;r11&quot;) = (long) arg2; \</span>
<span class="cp">  register long __c __asm__ (&quot;r12&quot;) = (long) arg3; \</span>
<span class="cp">  register long __d __asm__ (&quot;r13&quot;) = (long) arg4; \</span>
<span class="cp">  register long __n_ __asm__ (&quot;r9&quot;) = (__NR_##name); \</span>
<span class="cp">  __asm__ __volatile__ (&quot;.ifnc %0%1%3%4%5,$r10$r9$r11$r12$r13\n\t&quot; \</span>
<span class="cp">			&quot;.err\n\t&quot; \</span>
<span class="cp">			&quot;.endif\n\t&quot; \</span>
<span class="cp">			&quot;move %6,$mof\n\tmove %7,$srp\n\t&quot; \</span>
<span class="cp">			&quot;break 13&quot; \</span>
<span class="cp">			: &quot;=r&quot; (__a) \</span>
<span class="cp">			: &quot;r&quot; (__n_), &quot;0&quot; (__a), &quot;r&quot; (__b), \</span>
<span class="cp">			  &quot;r&quot; (__c), &quot;r&quot; (__d), &quot;g&quot; (arg5), &quot;g&quot; (arg6)\</span>
<span class="cp">			: &quot;srp&quot;); \</span>
<span class="cp">  if (__a &gt;= 0) \</span>
<span class="cp">     return (type) __a; \</span>
<span class="cp">  errno = -__a; \</span>
<span class="cp">  return (type) -1; \</span>
<span class="cp">}</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
