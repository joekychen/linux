<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › sparc › include › asm › auxio_64.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>auxio_64.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * auxio.h:  Definitions and code for the Auxiliary I/O registers.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 1995 David S. Miller (davem@caip.rutgers.edu)</span>
<span class="cm"> *</span>
<span class="cm"> * Refactoring for unified NCR/PCIO support 2002 Eric Brower (ebrower@usa.net)</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _SPARC64_AUXIO_H</span>
<span class="cp">#define _SPARC64_AUXIO_H</span>

<span class="cm">/* AUXIO implementations:</span>
<span class="cm"> * sbus-based NCR89C105 &quot;Slavio&quot;</span>
<span class="cm"> *	LED/Floppy (AUX1) register</span>
<span class="cm"> *	Power (AUX2) register</span>
<span class="cm"> *</span>
<span class="cm"> * ebus-based auxio on PCIO</span>
<span class="cm"> *	LED Auxio Register</span>
<span class="cm"> *	Power Auxio Register</span>
<span class="cm"> *</span>
<span class="cm"> * Register definitions from NCR _NCR89C105 Chip Specification_</span>
<span class="cm"> *</span>
<span class="cm"> * SLAVIO AUX1 @ 0x1900000</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * | (R) | (R) |  D  | (R) |  E  |  M  |  T  |  L  |</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * (R) - bit 7:6,4 are reserved and should be masked in s/w</span>
<span class="cm"> *  D  - Floppy Density Sense (1=high density) R/O</span>
<span class="cm"> *  E  - Link Test Enable, directly reflected on AT&amp;T 7213 LTE pin</span>
<span class="cm"> *  M  - Monitor/Mouse Mux, directly reflected on MON_MSE_MUX pin</span>
<span class="cm"> *  T  - Terminal Count: sends TC pulse to 82077 floppy controller</span>
<span class="cm"> *  L  - System LED on front panel (0=off, 1=on)</span>
<span class="cm"> */</span>
<span class="cp">#define AUXIO_AUX1_MASK		0xc0 </span><span class="cm">/* Mask bits 		*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX1_FDENS	0x20 </span><span class="cm">/* Floppy Density Sense	*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX1_LTE 		0x08 </span><span class="cm">/* Link Test Enable 	*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX1_MMUX		0x04 </span><span class="cm">/* Monitor/Mouse Mux	*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX1_FTCNT	0x02 </span><span class="cm">/* Terminal Count, 	*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX1_LED		0x01 </span><span class="cm">/* System LED		*/</span><span class="cp"></span>

<span class="cm">/* SLAVIO AUX2 @ 0x1910000</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * | (R) | (R) |  D  | (R) | (R) | (R) |  C  |  F  |</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * (R) - bits 7:6,4:2 are reserved and should be masked in s/w</span>
<span class="cm"> *  D  - Power Failure Detect (1=power fail)</span>
<span class="cm"> *  C  - Clear Power Failure Detect Int (1=clear)</span>
<span class="cm"> *  F  - Power Off (1=power off)</span>
<span class="cm"> */</span>
<span class="cp">#define AUXIO_AUX2_MASK		0xdc </span><span class="cm">/* Mask Bits		*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX2_PFAILDET	0x20 </span><span class="cm">/* Power Fail Detect	*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX2_PFAILCLR 	0x02 </span><span class="cm">/* Clear Pwr Fail Det Intr	*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_AUX2_PWR_OFF	0x01 </span><span class="cm">/* Power Off		*/</span><span class="cp"></span>

<span class="cm">/* Register definitions from Sun Microsystems _PCIO_ p/n 802-7837</span>
<span class="cm"> *</span>
<span class="cm"> * PCIO LED Auxio @ 0x726000</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * |             31:1 Unused                 | LED |</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * Bits 31:1 unused</span>
<span class="cm"> * LED - System LED on front panel (0=off, 1=on)</span>
<span class="cm"> */</span>
<span class="cp">#define AUXIO_PCIO_LED		0x01 </span><span class="cm">/* System LED 		*/</span><span class="cp"></span>

<span class="cm">/* PCIO Power Auxio @ 0x724000</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * |             31:2 Unused           | CPO | SPO |</span>
<span class="cm"> * -------------------------------------------------</span>
<span class="cm"> * Bits 31:2 unused</span>
<span class="cm"> * CPO - Courtesy Power Off (1=off)</span>
<span class="cm"> * SPO - System Power Off   (1=off)</span>
<span class="cm"> */</span>
<span class="cp">#define AUXIO_PCIO_CPWR_OFF	0x02 </span><span class="cm">/* Courtesy Power Off	*/</span><span class="cp"></span>
<span class="cp">#define AUXIO_PCIO_SPWR_OFF	0x01 </span><span class="cm">/* System Power Off	*/</span><span class="cp"></span>

<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">auxio_register</span><span class="p">;</span>

<span class="cp">#define AUXIO_LTE_ON	1</span>
<span class="cp">#define AUXIO_LTE_OFF	0</span>

<span class="cm">/* auxio_set_lte - Set Link Test Enable (TPE Link Detect)</span>
<span class="cm"> *</span>
<span class="cm"> * on - AUXIO_LTE_ON or AUXIO_LTE_OFF</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">auxio_set_lte</span><span class="p">(</span><span class="kt">int</span> <span class="n">on</span><span class="p">);</span>

<span class="cp">#define AUXIO_LED_ON	1</span>
<span class="cp">#define AUXIO_LED_OFF	0</span>

<span class="cm">/* auxio_set_led - Set system front panel LED</span>
<span class="cm"> *</span>
<span class="cm"> * on - AUXIO_LED_ON or AUXIO_LED_OFF</span>
<span class="cm"> */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">auxio_set_led</span><span class="p">(</span><span class="kt">int</span> <span class="n">on</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* ifndef __ASSEMBLY__ */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* !(_SPARC64_AUXIO_H) */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
