<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › sparc › include › asm › ttable.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>ttable.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _SPARC64_TTABLE_H</span>
<span class="cp">#define _SPARC64_TTABLE_H</span>

<span class="cp">#include &lt;asm/utrap.h&gt;</span>
<span class="cp">#include &lt;asm/pil.h&gt;</span>

<span class="cp">#ifdef __ASSEMBLY__</span>
<span class="cp">#include &lt;asm/thread_info.h&gt;</span>
<span class="cp">#endif</span>

<span class="cp">#define BOOT_KERNEL b sparc64_boot; nop; nop; nop; nop; nop; nop; nop;</span>

<span class="cm">/* We need a &quot;cleaned&quot; instruction... */</span>
<span class="cp">#define CLEAN_WINDOW							\</span>
<span class="cp">	rdpr	%cleanwin, %l0;		add	%l0, 1, %l0;		\</span>
<span class="cp">	wrpr	%l0, 0x0, %cleanwin;					\</span>
<span class="cp">	clr	%o0;	clr	%o1;	clr	%o2;	clr	%o3;	\</span>
<span class="cp">	clr	%o4;	clr	%o5;	clr	%o6;	clr	%o7;	\</span>
<span class="cp">	clr	%l0;	clr	%l1;	clr	%l2;	clr	%l3;	\</span>
<span class="cp">	clr	%l4;	clr	%l5;	clr	%l6;	clr	%l7;	\</span>
<span class="cp">	retry;								\</span>
<span class="cp">	nop;nop;nop;nop;nop;nop;nop;nop;nop;nop;nop;nop;</span>

<span class="cp">#define TRAP(routine)					\</span>
<span class="cp">	sethi	%hi(109f), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, etrap;				\</span>
<span class="cp">109:	 or	%g7, %lo(109b), %g7;			\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 add	%sp, PTREGS_OFF, %o0;			\</span>
<span class="cp">	ba,pt	%xcc, rtrap;				\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	nop;</span>

<span class="cp">#define TRAP_7INSNS(routine)				\</span>
<span class="cp">	sethi	%hi(109f), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, etrap;				\</span>
<span class="cp">109:	 or	%g7, %lo(109b), %g7;			\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 add	%sp, PTREGS_OFF, %o0;			\</span>
<span class="cp">	ba,pt	%xcc, rtrap;				\</span>
<span class="cp">	 nop;</span>

<span class="cp">#define TRAP_SAVEFPU(routine)				\</span>
<span class="cp">	sethi	%hi(109f), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, do_fptrap;			\</span>
<span class="cp">109:	 or	%g7, %lo(109b), %g7;			\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 add	%sp, PTREGS_OFF, %o0;			\</span>
<span class="cp">	ba,pt	%xcc, rtrap;				\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	nop;</span>

<span class="cp">#define TRAP_NOSAVE(routine)				\</span>
<span class="cp">	ba,pt	%xcc, routine;				\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	nop; nop; nop; nop; nop; nop;</span>

<span class="cp">#define TRAP_NOSAVE_7INSNS(routine)			\</span>
<span class="cp">	ba,pt	%xcc, routine;				\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	nop; nop; nop; nop; nop;</span>

<span class="cp">#define TRAPTL1(routine)				\</span>
<span class="cp">	sethi	%hi(109f), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, etraptl1;				\</span>
<span class="cp">109:	 or	%g7, %lo(109b), %g7;			\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 add	%sp, PTREGS_OFF, %o0;			\</span>
<span class="cp">	ba,pt	%xcc, rtrap;				\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	nop;</span>

<span class="cp">#define TRAP_ARG(routine, arg)				\</span>
<span class="cp">	sethi	%hi(109f), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, etrap;				\</span>
<span class="cp">109:	 or	%g7, %lo(109b), %g7;			\</span>
<span class="cp">	add	%sp, PTREGS_OFF, %o0;			\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 mov	arg, %o1;				\</span>
<span class="cp">	ba,pt	%xcc, rtrap;				\</span>
<span class="cp">	 nop;</span>

<span class="cp">#define TRAPTL1_ARG(routine, arg)			\</span>
<span class="cp">	sethi	%hi(109f), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, etraptl1;				\</span>
<span class="cp">109:	 or	%g7, %lo(109b), %g7;			\</span>
<span class="cp">	add	%sp, PTREGS_OFF, %o0;			\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 mov	arg, %o1;				\</span>
<span class="cp">	ba,pt	%xcc, rtrap;				\</span>
<span class="cp">	 nop;</span>

<span class="cp">#define SYSCALL_TRAP(routine, systbl)			\</span>
<span class="cp">	rdpr	%pil, %g2;				\</span>
<span class="cp">	mov	TSTATE_SYSCALL, %g3;			\</span>
<span class="cp">	sethi	%hi(109f), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, etrap_syscall;			\</span>
<span class="cp">109:	 or	%g7, %lo(109b), %g7;			\</span>
<span class="cp">	sethi	%hi(systbl), %l7;			\</span>
<span class="cp">	ba,pt	%xcc, routine;				\</span>
<span class="cp">	 or	%l7, %lo(systbl), %l7;</span>

<span class="cp">#define TRAP_UTRAP(handler,lvl)				\</span>
<span class="cp">	mov	handler, %g3;				\</span>
<span class="cp">	ba,pt	%xcc, utrap_trap;			\</span>
<span class="cp">	 mov	lvl, %g4;				\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;</span>

<span class="cp">#ifdef CONFIG_COMPAT</span>
<span class="cp">#define	LINUX_32BIT_SYSCALL_TRAP SYSCALL_TRAP(linux_sparc_syscall32, sys_call_table32)</span>
<span class="cp">#else</span>
<span class="cp">#define	LINUX_32BIT_SYSCALL_TRAP BTRAP(0x110)</span>
<span class="cp">#endif</span>
<span class="cp">#define LINUX_64BIT_SYSCALL_TRAP SYSCALL_TRAP(linux_sparc_syscall, sys_call_table64)</span>
<span class="cp">#define GETCC_TRAP TRAP(getcc)</span>
<span class="cp">#define SETCC_TRAP TRAP(setcc)</span>
<span class="cp">#define BREAKPOINT_TRAP TRAP(breakpoint_trap)</span>

<span class="cp">#ifdef CONFIG_TRACE_IRQFLAGS</span>

<span class="cp">#define TRAP_IRQ(routine, level)			\</span>
<span class="cp">	rdpr	%pil, %g2;				\</span>
<span class="cp">	wrpr	%g0, PIL_NORMAL_MAX, %pil;		\</span>
<span class="cp">	sethi	%hi(1f-4), %g7;				\</span>
<span class="cp">	ba,pt	%xcc, etrap_irq;			\</span>
<span class="cp">	 or	%g7, %lo(1f-4), %g7;			\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	.subsection	2;				\</span>
<span class="cp">1:	call	trace_hardirqs_off;			\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	mov	level, %o0;				\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 add	%sp, PTREGS_OFF, %o1;			\</span>
<span class="cp">	ba,a,pt	%xcc, rtrap_irq;			\</span>
<span class="cp">	.previous;</span>

<span class="cp">#else</span>

<span class="cp">#define TRAP_IRQ(routine, level)			\</span>
<span class="cp">	rdpr	%pil, %g2;				\</span>
<span class="cp">	wrpr	%g0, PIL_NORMAL_MAX, %pil;		\</span>
<span class="cp">	ba,pt	%xcc, etrap_irq;			\</span>
<span class="cp">	 rd	%pc, %g7;				\</span>
<span class="cp">	mov	level, %o0;				\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 add	%sp, PTREGS_OFF, %o1;			\</span>
<span class="cp">	ba,a,pt	%xcc, rtrap_irq;</span>

<span class="cp">#endif</span>

<span class="cp">#define TRAP_NMI_IRQ(routine, level)			\</span>
<span class="cp">	rdpr	%pil, %g2;				\</span>
<span class="cp">	wrpr	%g0, PIL_NMI, %pil;			\</span>
<span class="cp">	ba,pt	%xcc, etrap_irq;			\</span>
<span class="cp">	 rd	%pc, %g7;				\</span>
<span class="cp">	mov	level, %o0;				\</span>
<span class="cp">	call	routine;				\</span>
<span class="cp">	 add	%sp, PTREGS_OFF, %o1;			\</span>
<span class="cp">	ba,a,pt	%xcc, rtrap_nmi;</span>

<span class="cp">#define TRAP_IVEC TRAP_NOSAVE(do_ivec)</span>

<span class="cp">#define BTRAP(lvl) TRAP_ARG(bad_trap, lvl)</span>

<span class="cp">#define BTRAPTL1(lvl) TRAPTL1_ARG(bad_trap_tl1, lvl)</span>

<span class="cp">#define FLUSH_WINDOW_TRAP						\</span>
<span class="cp">	ba,pt	%xcc, etrap;						\</span>
<span class="cp">	 rd	%pc, %g7;						\</span>
<span class="cp">	flushw;								\</span>
<span class="cp">	ldx	[%sp + PTREGS_OFF + PT_V9_TNPC], %l1;			\</span>
<span class="cp">	add	%l1, 4, %l2;						\</span>
<span class="cp">	stx	%l1, [%sp + PTREGS_OFF + PT_V9_TPC];			\</span>
<span class="cp">	ba,pt	%xcc, rtrap;						\</span>
<span class="cp">	 stx	%l2, [%sp + PTREGS_OFF + PT_V9_TNPC];</span>

<span class="cp">#ifdef CONFIG_KPROBES</span>
<span class="cp">#define KPROBES_TRAP(lvl) TRAP_IRQ(kprobe_trap, lvl)</span>
<span class="cp">#else</span>
<span class="cp">#define KPROBES_TRAP(lvl) TRAP_ARG(bad_trap, lvl)</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_KGDB</span>
<span class="cp">#define KGDB_TRAP(lvl) TRAP_IRQ(kgdb_trap, lvl)</span>
<span class="cp">#else</span>
<span class="cp">#define KGDB_TRAP(lvl) TRAP_ARG(bad_trap, lvl)</span>
<span class="cp">#endif</span>

<span class="cp">#define SUN4V_ITSB_MISS					\</span>
<span class="cp">	ldxa	[%g0] ASI_SCRATCHPAD, %g2;		\</span>
<span class="cp">	ldx	[%g2 + HV_FAULT_I_ADDR_OFFSET], %g4;	\</span>
<span class="cp">	ldx	[%g2 + HV_FAULT_I_CTX_OFFSET], %g5;	\</span>
<span class="cp">	srlx	%g4, 22, %g6;				\</span>
<span class="cp">	ba,pt	%xcc, sun4v_itsb_miss;			\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;</span>

<span class="cp">#define SUN4V_DTSB_MISS					\</span>
<span class="cp">	ldxa	[%g0] ASI_SCRATCHPAD, %g2;		\</span>
<span class="cp">	ldx	[%g2 + HV_FAULT_D_ADDR_OFFSET], %g4;	\</span>
<span class="cp">	ldx	[%g2 + HV_FAULT_D_CTX_OFFSET], %g5;	\</span>
<span class="cp">	srlx	%g4, 22, %g6;				\</span>
<span class="cp">	ba,pt	%xcc, sun4v_dtsb_miss;			\</span>
<span class="cp">	 nop;						\</span>
<span class="cp">	nop;						\</span>
<span class="cp">	nop;</span>

<span class="cm">/* Before touching these macros, you owe it to yourself to go and</span>
<span class="cm"> * see how arch/sparc64/kernel/winfixup.S works... -DaveM</span>
<span class="cm"> *</span>
<span class="cm"> * For the user cases we used to use the %asi register, but</span>
<span class="cm"> * it turns out that the &quot;wr xxx, %asi&quot; costs ~5 cycles, so</span>
<span class="cm"> * now we use immediate ASI loads and stores instead.  Kudos</span>
<span class="cm"> * to Greg Onufer for pointing out this performance anomaly.</span>
<span class="cm"> *</span>
<span class="cm"> * Further note that we cannot use the g2, g4, g5, and g7 alternate</span>
<span class="cm"> * globals in the spill routines, check out the save instruction in</span>
<span class="cm"> * arch/sparc64/kernel/etrap.S to see what I mean about g2, and</span>
<span class="cm"> * g4/g5 are the globals which are preserved by etrap processing</span>
<span class="cm"> * for the caller of it.  The g7 register is the return pc for</span>
<span class="cm"> * etrap.  Finally, g6 is the current thread register so we cannot</span>
<span class="cm"> * us it in the spill handlers either.  Most of these rules do not</span>
<span class="cm"> * apply to fill processing, only g6 is not usable.</span>
<span class="cm"> */</span>

<span class="cm">/* Normal kernel spill */</span>
<span class="cp">#define SPILL_0_NORMAL					\</span>
<span class="cp">	stx	%l0, [%sp + STACK_BIAS + 0x00];		\</span>
<span class="cp">	stx	%l1, [%sp + STACK_BIAS + 0x08];		\</span>
<span class="cp">	stx	%l2, [%sp + STACK_BIAS + 0x10];		\</span>
<span class="cp">	stx	%l3, [%sp + STACK_BIAS + 0x18];		\</span>
<span class="cp">	stx	%l4, [%sp + STACK_BIAS + 0x20];		\</span>
<span class="cp">	stx	%l5, [%sp + STACK_BIAS + 0x28];		\</span>
<span class="cp">	stx	%l6, [%sp + STACK_BIAS + 0x30];		\</span>
<span class="cp">	stx	%l7, [%sp + STACK_BIAS + 0x38];		\</span>
<span class="cp">	stx	%i0, [%sp + STACK_BIAS + 0x40];		\</span>
<span class="cp">	stx	%i1, [%sp + STACK_BIAS + 0x48];		\</span>
<span class="cp">	stx	%i2, [%sp + STACK_BIAS + 0x50];		\</span>
<span class="cp">	stx	%i3, [%sp + STACK_BIAS + 0x58];		\</span>
<span class="cp">	stx	%i4, [%sp + STACK_BIAS + 0x60];		\</span>
<span class="cp">	stx	%i5, [%sp + STACK_BIAS + 0x68];		\</span>
<span class="cp">	stx	%i6, [%sp + STACK_BIAS + 0x70];		\</span>
<span class="cp">	stx	%i7, [%sp + STACK_BIAS + 0x78];		\</span>
<span class="cp">	saved; retry; nop; nop; nop; nop; nop; nop;	\</span>
<span class="cp">	nop; nop; nop; nop; nop; nop; nop; nop;</span>

<span class="cp">#define SPILL_0_NORMAL_ETRAP				\</span>
<span class="cp">etrap_kernel_spill:					\</span>
<span class="cp">	stx	%l0, [%sp + STACK_BIAS + 0x00];		\</span>
<span class="cp">	stx	%l1, [%sp + STACK_BIAS + 0x08];		\</span>
<span class="cp">	stx	%l2, [%sp + STACK_BIAS + 0x10];		\</span>
<span class="cp">	stx	%l3, [%sp + STACK_BIAS + 0x18];		\</span>
<span class="cp">	stx	%l4, [%sp + STACK_BIAS + 0x20];		\</span>
<span class="cp">	stx	%l5, [%sp + STACK_BIAS + 0x28];		\</span>
<span class="cp">	stx	%l6, [%sp + STACK_BIAS + 0x30];		\</span>
<span class="cp">	stx	%l7, [%sp + STACK_BIAS + 0x38];		\</span>
<span class="cp">	stx	%i0, [%sp + STACK_BIAS + 0x40];		\</span>
<span class="cp">	stx	%i1, [%sp + STACK_BIAS + 0x48];		\</span>
<span class="cp">	stx	%i2, [%sp + STACK_BIAS + 0x50];		\</span>
<span class="cp">	stx	%i3, [%sp + STACK_BIAS + 0x58];		\</span>
<span class="cp">	stx	%i4, [%sp + STACK_BIAS + 0x60];		\</span>
<span class="cp">	stx	%i5, [%sp + STACK_BIAS + 0x68];		\</span>
<span class="cp">	stx	%i6, [%sp + STACK_BIAS + 0x70];		\</span>
<span class="cp">	stx	%i7, [%sp + STACK_BIAS + 0x78];		\</span>
<span class="cp">	saved;						\</span>
<span class="cp">	sub	%g1, 2, %g1;				\</span>
<span class="cp">	ba,pt	%xcc, etrap_save;			\</span>
<span class="cp">	wrpr	%g1, %cwp;				\</span>
<span class="cp">	nop; nop; nop; nop; nop; nop; nop; nop;		\</span>
<span class="cp">	nop; nop; nop; nop;</span>

<span class="cm">/* Normal 64bit spill */</span>
<span class="cp">#define SPILL_1_GENERIC(ASI)				\</span>
<span class="cp">	add	%sp, STACK_BIAS + 0x00, %g1;		\</span>
<span class="cp">	stxa	%l0, [%g1 + %g0] ASI;			\</span>
<span class="cp">	mov	0x08, %g3;				\</span>
<span class="cp">	stxa	%l1, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	stxa	%l2, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stxa	%l3, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	stxa	%l4, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stxa	%l5, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	stxa	%l6, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stxa	%l7, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	stxa	%i0, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stxa	%i1, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	stxa	%i2, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stxa	%i3, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	stxa	%i4, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stxa	%i5, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	stxa	%i6, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stxa	%i7, [%g1 + %g3] ASI;			\</span>
<span class="cp">	saved;						\</span>
<span class="cp">	retry; nop; nop;				\</span>
<span class="cp">	b,a,pt	%xcc, spill_fixup_dax;			\</span>
<span class="cp">	b,a,pt	%xcc, spill_fixup_mna;			\</span>
<span class="cp">	b,a,pt	%xcc, spill_fixup;</span>

<span class="cp">#define SPILL_1_GENERIC_ETRAP				\</span>
<span class="cp">etrap_user_spill_64bit:					\</span>
<span class="cp">	stxa	%l0, [%sp + STACK_BIAS + 0x00] %asi;	\</span>
<span class="cp">	stxa	%l1, [%sp + STACK_BIAS + 0x08] %asi;	\</span>
<span class="cp">	stxa	%l2, [%sp + STACK_BIAS + 0x10] %asi;	\</span>
<span class="cp">	stxa	%l3, [%sp + STACK_BIAS + 0x18] %asi;	\</span>
<span class="cp">	stxa	%l4, [%sp + STACK_BIAS + 0x20] %asi;	\</span>
<span class="cp">	stxa	%l5, [%sp + STACK_BIAS + 0x28] %asi;	\</span>
<span class="cp">	stxa	%l6, [%sp + STACK_BIAS + 0x30] %asi;	\</span>
<span class="cp">	stxa	%l7, [%sp + STACK_BIAS + 0x38] %asi;	\</span>
<span class="cp">	stxa	%i0, [%sp + STACK_BIAS + 0x40] %asi;	\</span>
<span class="cp">	stxa	%i1, [%sp + STACK_BIAS + 0x48] %asi;	\</span>
<span class="cp">	stxa	%i2, [%sp + STACK_BIAS + 0x50] %asi;	\</span>
<span class="cp">	stxa	%i3, [%sp + STACK_BIAS + 0x58] %asi;	\</span>
<span class="cp">	stxa	%i4, [%sp + STACK_BIAS + 0x60] %asi;	\</span>
<span class="cp">	stxa	%i5, [%sp + STACK_BIAS + 0x68] %asi;	\</span>
<span class="cp">	stxa	%i6, [%sp + STACK_BIAS + 0x70] %asi;	\</span>
<span class="cp">	stxa	%i7, [%sp + STACK_BIAS + 0x78] %asi;	\</span>
<span class="cp">	saved;						\</span>
<span class="cp">	sub	%g1, 2, %g1;				\</span>
<span class="cp">	ba,pt	%xcc, etrap_save;			\</span>
<span class="cp">	 wrpr	%g1, %cwp;				\</span>
<span class="cp">	nop; nop; nop; nop; nop;			\</span>
<span class="cp">	nop; nop; nop; nop;				\</span>
<span class="cp">	ba,a,pt	%xcc, etrap_spill_fixup_64bit;		\</span>
<span class="cp">	ba,a,pt	%xcc, etrap_spill_fixup_64bit;		\</span>
<span class="cp">	ba,a,pt	%xcc, etrap_spill_fixup_64bit;</span>

<span class="cp">#define SPILL_1_GENERIC_ETRAP_FIXUP			\</span>
<span class="cp">etrap_spill_fixup_64bit:				\</span>
<span class="cp">	ldub	[%g6 + TI_WSAVED], %g1;			\</span>
<span class="cp">	sll	%g1, 3, %g3;				\</span>
<span class="cp">	add	%g6, %g3, %g3;				\</span>
<span class="cp">	stx	%sp, [%g3 + TI_RWIN_SPTRS];		\</span>
<span class="cp">	sll	%g1, 7, %g3;				\</span>
<span class="cp">	add	%g6, %g3, %g3;				\</span>
<span class="cp">	stx	%l0, [%g3 + TI_REG_WINDOW + 0x00];	\</span>
<span class="cp">	stx	%l1, [%g3 + TI_REG_WINDOW + 0x08];	\</span>
<span class="cp">	stx	%l2, [%g3 + TI_REG_WINDOW + 0x10];	\</span>
<span class="cp">	stx	%l3, [%g3 + TI_REG_WINDOW + 0x18];	\</span>
<span class="cp">	stx	%l4, [%g3 + TI_REG_WINDOW + 0x20];	\</span>
<span class="cp">	stx	%l5, [%g3 + TI_REG_WINDOW + 0x28];	\</span>
<span class="cp">	stx	%l6, [%g3 + TI_REG_WINDOW + 0x30];	\</span>
<span class="cp">	stx	%l7, [%g3 + TI_REG_WINDOW + 0x38];	\</span>
<span class="cp">	stx	%i0, [%g3 + TI_REG_WINDOW + 0x40];	\</span>
<span class="cp">	stx	%i1, [%g3 + TI_REG_WINDOW + 0x48];	\</span>
<span class="cp">	stx	%i2, [%g3 + TI_REG_WINDOW + 0x50];	\</span>
<span class="cp">	stx	%i3, [%g3 + TI_REG_WINDOW + 0x58];	\</span>
<span class="cp">	stx	%i4, [%g3 + TI_REG_WINDOW + 0x60];	\</span>
<span class="cp">	stx	%i5, [%g3 + TI_REG_WINDOW + 0x68];	\</span>
<span class="cp">	stx	%i6, [%g3 + TI_REG_WINDOW + 0x70];	\</span>
<span class="cp">	stx	%i7, [%g3 + TI_REG_WINDOW + 0x78];	\</span>
<span class="cp">	add	%g1, 1, %g1;				\</span>
<span class="cp">	stb	%g1, [%g6 + TI_WSAVED];			\</span>
<span class="cp">	saved;						\</span>
<span class="cp">	rdpr	%cwp, %g1;				\</span>
<span class="cp">	sub	%g1, 2, %g1;				\</span>
<span class="cp">	ba,pt	%xcc, etrap_save;			\</span>
<span class="cp">	 wrpr	%g1, %cwp;				\</span>
<span class="cp">	nop; nop; nop</span>

<span class="cm">/* Normal 32bit spill */</span>
<span class="cp">#define SPILL_2_GENERIC(ASI)				\</span>
<span class="cp">	srl	%sp, 0, %sp;				\</span>
<span class="cp">	stwa	%l0, [%sp + %g0] ASI;			\</span>
<span class="cp">	mov	0x04, %g3;				\</span>
<span class="cp">	stwa	%l1, [%sp + %g3] ASI;			\</span>
<span class="cp">	add	%sp, 0x08, %g1;				\</span>
<span class="cp">	stwa	%l2, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stwa	%l3, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x08, %g1;				\</span>
<span class="cp">	stwa	%l4, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stwa	%l5, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x08, %g1;				\</span>
<span class="cp">	stwa	%l6, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stwa	%l7, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x08, %g1;				\</span>
<span class="cp">	stwa	%i0, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stwa	%i1, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x08, %g1;				\</span>
<span class="cp">	stwa	%i2, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stwa	%i3, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x08, %g1;				\</span>
<span class="cp">	stwa	%i4, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stwa	%i5, [%g1 + %g3] ASI;			\</span>
<span class="cp">	add	%g1, 0x08, %g1;				\</span>
<span class="cp">	stwa	%i6, [%g1 + %g0] ASI;			\</span>
<span class="cp">	stwa	%i7, [%g1 + %g3] ASI;			\</span>
<span class="cp">	saved;						\</span>
<span class="cp">        retry; nop; nop;				\</span>
<span class="cp">	b,a,pt	%xcc, spill_fixup_dax;			\</span>
<span class="cp">	b,a,pt	%xcc, spill_fixup_mna;			\</span>
<span class="cp">	b,a,pt	%xcc, spill_fixup;</span>

<span class="cp">#define SPILL_2_GENERIC_ETRAP		\</span>
<span class="cp">etrap_user_spill_32bit:			\</span>
<span class="cp">	srl	%sp, 0, %sp;		\</span>
<span class="cp">	stwa	%l0, [%sp + 0x00] %asi;	\</span>
<span class="cp">	stwa	%l1, [%sp + 0x04] %asi;	\</span>
<span class="cp">	stwa	%l2, [%sp + 0x08] %asi;	\</span>
<span class="cp">	stwa	%l3, [%sp + 0x0c] %asi;	\</span>
<span class="cp">	stwa	%l4, [%sp + 0x10] %asi;	\</span>
<span class="cp">	stwa	%l5, [%sp + 0x14] %asi;	\</span>
<span class="cp">	stwa	%l6, [%sp + 0x18] %asi;	\</span>
<span class="cp">	stwa	%l7, [%sp + 0x1c] %asi;	\</span>
<span class="cp">	stwa	%i0, [%sp + 0x20] %asi;	\</span>
<span class="cp">	stwa	%i1, [%sp + 0x24] %asi;	\</span>
<span class="cp">	stwa	%i2, [%sp + 0x28] %asi;	\</span>
<span class="cp">	stwa	%i3, [%sp + 0x2c] %asi;	\</span>
<span class="cp">	stwa	%i4, [%sp + 0x30] %asi;	\</span>
<span class="cp">	stwa	%i5, [%sp + 0x34] %asi;	\</span>
<span class="cp">	stwa	%i6, [%sp + 0x38] %asi;	\</span>
<span class="cp">	stwa	%i7, [%sp + 0x3c] %asi;	\</span>
<span class="cp">	saved;				\</span>
<span class="cp">	sub	%g1, 2, %g1;		\</span>
<span class="cp">	ba,pt	%xcc, etrap_save;	\</span>
<span class="cp">	 wrpr	%g1, %cwp;		\</span>
<span class="cp">	nop; nop; nop; nop;		\</span>
<span class="cp">	nop; nop; nop; nop;		\</span>
<span class="cp">	ba,a,pt	%xcc, etrap_spill_fixup_32bit; \</span>
<span class="cp">	ba,a,pt	%xcc, etrap_spill_fixup_32bit; \</span>
<span class="cp">	ba,a,pt	%xcc, etrap_spill_fixup_32bit;</span>

<span class="cp">#define SPILL_2_GENERIC_ETRAP_FIXUP			\</span>
<span class="cp">etrap_spill_fixup_32bit:				\</span>
<span class="cp">	ldub	[%g6 + TI_WSAVED], %g1;			\</span>
<span class="cp">	sll	%g1, 3, %g3;				\</span>
<span class="cp">	add	%g6, %g3, %g3;				\</span>
<span class="cp">	stx	%sp, [%g3 + TI_RWIN_SPTRS];		\</span>
<span class="cp">	sll	%g1, 7, %g3;				\</span>
<span class="cp">	add	%g6, %g3, %g3;				\</span>
<span class="cp">	stw	%l0, [%g3 + TI_REG_WINDOW + 0x00];	\</span>
<span class="cp">	stw	%l1, [%g3 + TI_REG_WINDOW + 0x04];	\</span>
<span class="cp">	stw	%l2, [%g3 + TI_REG_WINDOW + 0x08];	\</span>
<span class="cp">	stw	%l3, [%g3 + TI_REG_WINDOW + 0x0c];	\</span>
<span class="cp">	stw	%l4, [%g3 + TI_REG_WINDOW + 0x10];	\</span>
<span class="cp">	stw	%l5, [%g3 + TI_REG_WINDOW + 0x14];	\</span>
<span class="cp">	stw	%l6, [%g3 + TI_REG_WINDOW + 0x18];	\</span>
<span class="cp">	stw	%l7, [%g3 + TI_REG_WINDOW + 0x1c];	\</span>
<span class="cp">	stw	%i0, [%g3 + TI_REG_WINDOW + 0x20];	\</span>
<span class="cp">	stw	%i1, [%g3 + TI_REG_WINDOW + 0x24];	\</span>
<span class="cp">	stw	%i2, [%g3 + TI_REG_WINDOW + 0x28];	\</span>
<span class="cp">	stw	%i3, [%g3 + TI_REG_WINDOW + 0x2c];	\</span>
<span class="cp">	stw	%i4, [%g3 + TI_REG_WINDOW + 0x30];	\</span>
<span class="cp">	stw	%i5, [%g3 + TI_REG_WINDOW + 0x34];	\</span>
<span class="cp">	stw	%i6, [%g3 + TI_REG_WINDOW + 0x38];	\</span>
<span class="cp">	stw	%i7, [%g3 + TI_REG_WINDOW + 0x3c];	\</span>
<span class="cp">	add	%g1, 1, %g1;				\</span>
<span class="cp">	stb	%g1, [%g6 + TI_WSAVED];			\</span>
<span class="cp">	saved;						\</span>
<span class="cp">	rdpr	%cwp, %g1;				\</span>
<span class="cp">	sub	%g1, 2, %g1;				\</span>
<span class="cp">	ba,pt	%xcc, etrap_save;			\</span>
<span class="cp">	 wrpr	%g1, %cwp;				\</span>
<span class="cp">	nop; nop; nop</span>

<span class="cp">#define SPILL_1_NORMAL SPILL_1_GENERIC(ASI_AIUP)</span>
<span class="cp">#define SPILL_2_NORMAL SPILL_2_GENERIC(ASI_AIUP)</span>
<span class="cp">#define SPILL_3_NORMAL SPILL_0_NORMAL</span>
<span class="cp">#define SPILL_4_NORMAL SPILL_0_NORMAL</span>
<span class="cp">#define SPILL_5_NORMAL SPILL_0_NORMAL</span>
<span class="cp">#define SPILL_6_NORMAL SPILL_0_NORMAL</span>
<span class="cp">#define SPILL_7_NORMAL SPILL_0_NORMAL</span>

<span class="cp">#define SPILL_0_OTHER SPILL_0_NORMAL</span>
<span class="cp">#define SPILL_1_OTHER SPILL_1_GENERIC(ASI_AIUS)</span>
<span class="cp">#define SPILL_2_OTHER SPILL_2_GENERIC(ASI_AIUS)</span>
<span class="cp">#define SPILL_3_OTHER SPILL_3_NORMAL</span>
<span class="cp">#define SPILL_4_OTHER SPILL_4_NORMAL</span>
<span class="cp">#define SPILL_5_OTHER SPILL_5_NORMAL</span>
<span class="cp">#define SPILL_6_OTHER SPILL_6_NORMAL</span>
<span class="cp">#define SPILL_7_OTHER SPILL_7_NORMAL</span>

<span class="cm">/* Normal kernel fill */</span>
<span class="cp">#define FILL_0_NORMAL					\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x00], %l0;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x08], %l1;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x10], %l2;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x18], %l3;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x20], %l4;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x28], %l5;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x30], %l6;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x38], %l7;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x40], %i0;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x48], %i1;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x50], %i2;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x58], %i3;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x60], %i4;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x68], %i5;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x70], %i6;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x78], %i7;		\</span>
<span class="cp">	restored; retry; nop; nop; nop; nop; nop; nop;	\</span>
<span class="cp">	nop; nop; nop; nop; nop; nop; nop; nop;</span>

<span class="cp">#define FILL_0_NORMAL_RTRAP				\</span>
<span class="cp">kern_rtt_fill:						\</span>
<span class="cp">	rdpr	%cwp, %g1;				\</span>
<span class="cp">	sub	%g1, 1, %g1;				\</span>
<span class="cp">	wrpr	%g1, %cwp;				\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x00], %l0;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x08], %l1;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x10], %l2;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x18], %l3;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x20], %l4;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x28], %l5;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x30], %l6;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x38], %l7;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x40], %i0;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x48], %i1;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x50], %i2;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x58], %i3;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x60], %i4;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x68], %i5;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x70], %i6;		\</span>
<span class="cp">	ldx	[%sp + STACK_BIAS + 0x78], %i7;		\</span>
<span class="cp">	restored;					\</span>
<span class="cp">	add	%g1, 1, %g1;				\</span>
<span class="cp">	ba,pt	%xcc, kern_rtt_restore;			\</span>
<span class="cp">	 wrpr	%g1, %cwp;				\</span>
<span class="cp">	nop; nop; nop; nop; nop;			\</span>
<span class="cp">	nop; nop; nop; nop;</span>


<span class="cm">/* Normal 64bit fill */</span>
<span class="cp">#define FILL_1_GENERIC(ASI)				\</span>
<span class="cp">	add	%sp, STACK_BIAS + 0x00, %g1;		\</span>
<span class="cp">	ldxa	[%g1 + %g0] ASI, %l0;			\</span>
<span class="cp">	mov	0x08, %g2;				\</span>
<span class="cp">	mov	0x10, %g3;				\</span>
<span class="cp">	ldxa	[%g1 + %g2] ASI, %l1;			\</span>
<span class="cp">	mov	0x18, %g5;				\</span>
<span class="cp">	ldxa	[%g1 + %g3] ASI, %l2;			\</span>
<span class="cp">	ldxa	[%g1 + %g5] ASI, %l3;			\</span>
<span class="cp">	add	%g1, 0x20, %g1;				\</span>
<span class="cp">	ldxa	[%g1 + %g0] ASI, %l4;			\</span>
<span class="cp">	ldxa	[%g1 + %g2] ASI, %l5;			\</span>
<span class="cp">	ldxa	[%g1 + %g3] ASI, %l6;			\</span>
<span class="cp">	ldxa	[%g1 + %g5] ASI, %l7;			\</span>
<span class="cp">	add	%g1, 0x20, %g1;				\</span>
<span class="cp">	ldxa	[%g1 + %g0] ASI, %i0;			\</span>
<span class="cp">	ldxa	[%g1 + %g2] ASI, %i1;			\</span>
<span class="cp">	ldxa	[%g1 + %g3] ASI, %i2;			\</span>
<span class="cp">	ldxa	[%g1 + %g5] ASI, %i3;			\</span>
<span class="cp">	add	%g1, 0x20, %g1;				\</span>
<span class="cp">	ldxa	[%g1 + %g0] ASI, %i4;			\</span>
<span class="cp">	ldxa	[%g1 + %g2] ASI, %i5;			\</span>
<span class="cp">	ldxa	[%g1 + %g3] ASI, %i6;			\</span>
<span class="cp">	ldxa	[%g1 + %g5] ASI, %i7;			\</span>
<span class="cp">	restored;					\</span>
<span class="cp">	retry; nop; nop; nop; nop;			\</span>
<span class="cp">	b,a,pt	%xcc, fill_fixup_dax;			\</span>
<span class="cp">	b,a,pt	%xcc, fill_fixup_mna;			\</span>
<span class="cp">	b,a,pt	%xcc, fill_fixup;</span>

<span class="cp">#define FILL_1_GENERIC_RTRAP				\</span>
<span class="cp">user_rtt_fill_64bit:					\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x00] %asi, %l0;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x08] %asi, %l1;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x10] %asi, %l2;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x18] %asi, %l3;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x20] %asi, %l4;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x28] %asi, %l5;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x30] %asi, %l6;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x38] %asi, %l7;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x40] %asi, %i0;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x48] %asi, %i1;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x50] %asi, %i2;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x58] %asi, %i3;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x60] %asi, %i4;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x68] %asi, %i5;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x70] %asi, %i6;	\</span>
<span class="cp">	ldxa	[%sp + STACK_BIAS + 0x78] %asi, %i7;	\</span>
<span class="cp">	ba,pt	%xcc, user_rtt_pre_restore;		\</span>
<span class="cp">	 restored;					\</span>
<span class="cp">	nop; nop; nop; nop; nop; nop;			\</span>
<span class="cp">	nop; nop; nop; nop; nop;			\</span>
<span class="cp">	ba,a,pt	%xcc, user_rtt_fill_fixup;		\</span>
<span class="cp">	ba,a,pt	%xcc, user_rtt_fill_fixup;		\</span>
<span class="cp">	ba,a,pt	%xcc, user_rtt_fill_fixup;</span>


<span class="cm">/* Normal 32bit fill */</span>
<span class="cp">#define FILL_2_GENERIC(ASI)				\</span>
<span class="cp">	srl	%sp, 0, %sp;				\</span>
<span class="cp">	lduwa	[%sp + %g0] ASI, %l0;			\</span>
<span class="cp">	mov	0x04, %g2;				\</span>
<span class="cp">	mov	0x08, %g3;				\</span>
<span class="cp">	lduwa	[%sp + %g2] ASI, %l1;			\</span>
<span class="cp">	mov	0x0c, %g5;				\</span>
<span class="cp">	lduwa	[%sp + %g3] ASI, %l2;			\</span>
<span class="cp">	lduwa	[%sp + %g5] ASI, %l3;			\</span>
<span class="cp">	add	%sp, 0x10, %g1;				\</span>
<span class="cp">	lduwa	[%g1 + %g0] ASI, %l4;			\</span>
<span class="cp">	lduwa	[%g1 + %g2] ASI, %l5;			\</span>
<span class="cp">	lduwa	[%g1 + %g3] ASI, %l6;			\</span>
<span class="cp">	lduwa	[%g1 + %g5] ASI, %l7;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	lduwa	[%g1 + %g0] ASI, %i0;			\</span>
<span class="cp">	lduwa	[%g1 + %g2] ASI, %i1;			\</span>
<span class="cp">	lduwa	[%g1 + %g3] ASI, %i2;			\</span>
<span class="cp">	lduwa	[%g1 + %g5] ASI, %i3;			\</span>
<span class="cp">	add	%g1, 0x10, %g1;				\</span>
<span class="cp">	lduwa	[%g1 + %g0] ASI, %i4;			\</span>
<span class="cp">	lduwa	[%g1 + %g2] ASI, %i5;			\</span>
<span class="cp">	lduwa	[%g1 + %g3] ASI, %i6;			\</span>
<span class="cp">	lduwa	[%g1 + %g5] ASI, %i7;			\</span>
<span class="cp">	restored;					\</span>
<span class="cp">	retry; nop; nop; nop; nop;			\</span>
<span class="cp">	b,a,pt	%xcc, fill_fixup_dax;			\</span>
<span class="cp">	b,a,pt	%xcc, fill_fixup_mna;			\</span>
<span class="cp">	b,a,pt	%xcc, fill_fixup;</span>

<span class="cp">#define FILL_2_GENERIC_RTRAP				\</span>
<span class="cp">user_rtt_fill_32bit:					\</span>
<span class="cp">	srl	%sp, 0, %sp;				\</span>
<span class="cp">	lduwa	[%sp + 0x00] %asi, %l0;			\</span>
<span class="cp">	lduwa	[%sp + 0x04] %asi, %l1;			\</span>
<span class="cp">	lduwa	[%sp + 0x08] %asi, %l2;			\</span>
<span class="cp">	lduwa	[%sp + 0x0c] %asi, %l3;			\</span>
<span class="cp">	lduwa	[%sp + 0x10] %asi, %l4;			\</span>
<span class="cp">	lduwa	[%sp + 0x14] %asi, %l5;			\</span>
<span class="cp">	lduwa	[%sp + 0x18] %asi, %l6;			\</span>
<span class="cp">	lduwa	[%sp + 0x1c] %asi, %l7;			\</span>
<span class="cp">	lduwa	[%sp + 0x20] %asi, %i0;			\</span>
<span class="cp">	lduwa	[%sp + 0x24] %asi, %i1;			\</span>
<span class="cp">	lduwa	[%sp + 0x28] %asi, %i2;			\</span>
<span class="cp">	lduwa	[%sp + 0x2c] %asi, %i3;			\</span>
<span class="cp">	lduwa	[%sp + 0x30] %asi, %i4;			\</span>
<span class="cp">	lduwa	[%sp + 0x34] %asi, %i5;			\</span>
<span class="cp">	lduwa	[%sp + 0x38] %asi, %i6;			\</span>
<span class="cp">	lduwa	[%sp + 0x3c] %asi, %i7;			\</span>
<span class="cp">	ba,pt	%xcc, user_rtt_pre_restore;		\</span>
<span class="cp">	 restored;					\</span>
<span class="cp">	nop; nop; nop; nop; nop;			\</span>
<span class="cp">	nop; nop; nop; nop; nop;			\</span>
<span class="cp">	ba,a,pt	%xcc, user_rtt_fill_fixup;		\</span>
<span class="cp">	ba,a,pt	%xcc, user_rtt_fill_fixup;		\</span>
<span class="cp">	ba,a,pt	%xcc, user_rtt_fill_fixup;</span>


<span class="cp">#define FILL_1_NORMAL FILL_1_GENERIC(ASI_AIUP)</span>
<span class="cp">#define FILL_2_NORMAL FILL_2_GENERIC(ASI_AIUP)</span>
<span class="cp">#define FILL_3_NORMAL FILL_0_NORMAL</span>
<span class="cp">#define FILL_4_NORMAL FILL_0_NORMAL</span>
<span class="cp">#define FILL_5_NORMAL FILL_0_NORMAL</span>
<span class="cp">#define FILL_6_NORMAL FILL_0_NORMAL</span>
<span class="cp">#define FILL_7_NORMAL FILL_0_NORMAL</span>

<span class="cp">#define FILL_0_OTHER FILL_0_NORMAL</span>
<span class="cp">#define FILL_1_OTHER FILL_1_GENERIC(ASI_AIUS)</span>
<span class="cp">#define FILL_2_OTHER FILL_2_GENERIC(ASI_AIUS)</span>
<span class="cp">#define FILL_3_OTHER FILL_3_NORMAL</span>
<span class="cp">#define FILL_4_OTHER FILL_4_NORMAL</span>
<span class="cp">#define FILL_5_OTHER FILL_5_NORMAL</span>
<span class="cp">#define FILL_6_OTHER FILL_6_NORMAL</span>
<span class="cp">#define FILL_7_OTHER FILL_7_NORMAL</span>

<span class="cp">#endif </span><span class="cm">/* !(_SPARC64_TTABLE_H) */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
