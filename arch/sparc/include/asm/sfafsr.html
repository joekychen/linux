<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › sparc › include › asm › sfafsr.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>sfafsr.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _SPARC64_SFAFSR_H</span>
<span class="cp">#define _SPARC64_SFAFSR_H</span>

<span class="cp">#include &lt;linux/const.h&gt;</span>

<span class="cm">/* Spitfire Asynchronous Fault Status register, ASI=0x4C VA&lt;63:0&gt;=0x0 */</span>

<span class="cp">#define SFAFSR_ME		(_AC(1,UL) &lt;&lt; SFAFSR_ME_SHIFT)</span>
<span class="cp">#define SFAFSR_ME_SHIFT		32</span>
<span class="cp">#define SFAFSR_PRIV		(_AC(1,UL) &lt;&lt; SFAFSR_PRIV_SHIFT)</span>
<span class="cp">#define SFAFSR_PRIV_SHIFT	31</span>
<span class="cp">#define SFAFSR_ISAP		(_AC(1,UL) &lt;&lt; SFAFSR_ISAP_SHIFT)</span>
<span class="cp">#define SFAFSR_ISAP_SHIFT	30</span>
<span class="cp">#define SFAFSR_ETP		(_AC(1,UL) &lt;&lt; SFAFSR_ETP_SHIFT)</span>
<span class="cp">#define SFAFSR_ETP_SHIFT	29</span>
<span class="cp">#define SFAFSR_IVUE		(_AC(1,UL) &lt;&lt; SFAFSR_IVUE_SHIFT)</span>
<span class="cp">#define SFAFSR_IVUE_SHIFT	28</span>
<span class="cp">#define SFAFSR_TO		(_AC(1,UL) &lt;&lt; SFAFSR_TO_SHIFT)</span>
<span class="cp">#define SFAFSR_TO_SHIFT		27</span>
<span class="cp">#define SFAFSR_BERR		(_AC(1,UL) &lt;&lt; SFAFSR_BERR_SHIFT)</span>
<span class="cp">#define SFAFSR_BERR_SHIFT	26</span>
<span class="cp">#define SFAFSR_LDP		(_AC(1,UL) &lt;&lt; SFAFSR_LDP_SHIFT)</span>
<span class="cp">#define SFAFSR_LDP_SHIFT	25</span>
<span class="cp">#define SFAFSR_CP		(_AC(1,UL) &lt;&lt; SFAFSR_CP_SHIFT)</span>
<span class="cp">#define SFAFSR_CP_SHIFT		24</span>
<span class="cp">#define SFAFSR_WP		(_AC(1,UL) &lt;&lt; SFAFSR_WP_SHIFT)</span>
<span class="cp">#define SFAFSR_WP_SHIFT		23</span>
<span class="cp">#define SFAFSR_EDP		(_AC(1,UL) &lt;&lt; SFAFSR_EDP_SHIFT)</span>
<span class="cp">#define SFAFSR_EDP_SHIFT	22</span>
<span class="cp">#define SFAFSR_UE		(_AC(1,UL) &lt;&lt; SFAFSR_UE_SHIFT)</span>
<span class="cp">#define SFAFSR_UE_SHIFT		21</span>
<span class="cp">#define SFAFSR_CE		(_AC(1,UL) &lt;&lt; SFAFSR_CE_SHIFT)</span>
<span class="cp">#define SFAFSR_CE_SHIFT		20</span>
<span class="cp">#define SFAFSR_ETS		(_AC(0xf,UL) &lt;&lt; SFAFSR_ETS_SHIFT)</span>
<span class="cp">#define SFAFSR_ETS_SHIFT	16</span>
<span class="cp">#define SFAFSR_PSYND		(_AC(0xffff,UL) &lt;&lt; SFAFSR_PSYND_SHIFT)</span>
<span class="cp">#define SFAFSR_PSYND_SHIFT	0</span>

<span class="cm">/* UDB Error Register, ASI=0x7f VA&lt;63:0&gt;=0x0(High),0x18(Low) for read</span>
<span class="cm"> *                     ASI=0x77 VA&lt;63:0&gt;=0x0(High),0x18(Low) for write</span>
<span class="cm"> */</span>

<span class="cp">#define UDBE_UE			(_AC(1,UL) &lt;&lt; 9)</span>
<span class="cp">#define UDBE_CE			(_AC(1,UL) &lt;&lt; 8)</span>
<span class="cp">#define UDBE_E_SYNDR		(_AC(0xff,UL) &lt;&lt; 0)</span>

<span class="cm">/* The trap handlers for asynchronous errors encode the AFSR and</span>
<span class="cm"> * other pieces of information into a 64-bit argument for C code</span>
<span class="cm"> * encoded as follows:</span>
<span class="cm"> *</span>
<span class="cm"> * -----------------------------------------------</span>
<span class="cm"> * |  UDB_H  |  UDB_L  | TL&gt;1  |  TT  |   AFSR   |</span>
<span class="cm"> * -----------------------------------------------</span>
<span class="cm"> *  63     54 53     44    42   41  33 32       0</span>
<span class="cm"> *</span>
<span class="cm"> * The AFAR is passed in unchanged.</span>
<span class="cm"> */</span>
<span class="cp">#define SFSTAT_UDBH_MASK	(_AC(0x3ff,UL) &lt;&lt; SFSTAT_UDBH_SHIFT)</span>
<span class="cp">#define SFSTAT_UDBH_SHIFT	54</span>
<span class="cp">#define SFSTAT_UDBL_MASK	(_AC(0x3ff,UL) &lt;&lt; SFSTAT_UDBH_SHIFT)</span>
<span class="cp">#define SFSTAT_UDBL_SHIFT	44</span>
<span class="cp">#define SFSTAT_TL_GT_ONE	(_AC(1,UL) &lt;&lt; SFSTAT_TL_GT_ONE_SHIFT)</span>
<span class="cp">#define SFSTAT_TL_GT_ONE_SHIFT	42</span>
<span class="cp">#define SFSTAT_TRAP_TYPE	(_AC(0x1FF,UL) &lt;&lt; SFSTAT_TRAP_TYPE_SHIFT)</span>
<span class="cp">#define SFSTAT_TRAP_TYPE_SHIFT	33</span>
<span class="cp">#define SFSTAT_AFSR_MASK	(_AC(0x1ffffffff,UL) &lt;&lt; SFSTAT_AFSR_SHIFT)</span>
<span class="cp">#define SFSTAT_AFSR_SHIFT	0</span>

<span class="cm">/* ESTATE Error Enable Register, ASI=0x4b VA&lt;63:0&gt;=0x0 */</span>
<span class="cp">#define ESTATE_ERR_CE		0x1 </span><span class="cm">/* Correctable errors                    */</span><span class="cp"></span>
<span class="cp">#define ESTATE_ERR_NCE		0x2 </span><span class="cm">/* TO, BERR, LDP, ETP, EDP, WP, UE, IVUE */</span><span class="cp"></span>
<span class="cp">#define ESTATE_ERR_ISAP		0x4 </span><span class="cm">/* System address parity error           */</span><span class="cp"></span>
<span class="cp">#define ESTATE_ERR_ALL		(ESTATE_ERR_CE | \</span>
<span class="cp">				 ESTATE_ERR_NCE | \</span>
<span class="cp">				 ESTATE_ERR_ISAP)</span>

<span class="cm">/* The various trap types that report using the above state. */</span>
<span class="cp">#define TRAP_TYPE_IAE		0x09 </span><span class="cm">/* Instruction Access Error             */</span><span class="cp"></span>
<span class="cp">#define TRAP_TYPE_DAE		0x32 </span><span class="cm">/* Data Access Error                    */</span><span class="cp"></span>
<span class="cp">#define TRAP_TYPE_CEE		0x63 </span><span class="cm">/* Correctable ECC Error                */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* _SPARC64_SFAFSR_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
