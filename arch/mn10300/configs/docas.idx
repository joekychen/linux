f | asb2303_defconfig | g | 1.7K |  | David Rientjes | rientjes@google.com | 1295571725 |  | kconfig: rename CONFIG_EMBEDDED to CONFIG_EXPERT  The meaning of CONFIG_EMBEDDED has long since been obsoleted; the option is used to configure any non-standard kernel with a much larger scope than only small devices.  This patch renames the option to CONFIG_EXPERT in init/Kconfig and fixes references to the option throughout the kernel.  A new CONFIG_EMBEDDED option is added that automatically selects CONFIG_EXPERT when enabled and can be used in the future to isolate options that should only be considered for embedded systems (RISC architectures, SLOB, etc).  Calling the option "EXPERT" more accurately represents its intention: only expert users who understand the impact of the configuration changes they are making should enable it.  Reviewed-by: Ingo Molnar <mingo@elte.hu> Acked-by: David Woodhouse <david.woodhouse@intel.com> Signed-off-by: David Rientjes <rientjes@google.com> Cc: Greg KH <gregkh@suse.de> Cc: "David S. Miller" <davem@davemloft.net> Cc: Jens Axboe <axboe@kernel.dk> Cc: Arnd Bergmann <arnd@arndb.de> Cc: Robin Holt <holt@sgi.com> Cc: <linux-arch@vger.kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | asb2364_defconfig | g | 2.4K |  | Daniel Lezcano | daniel.lezcano@free.fr | 1306455154 |  | cgroup: remove the ns_cgroup  The ns_cgroup is an annoying cgroup at the namespace / cgroup frontier and leads to some problems:    * cgroup creation is out-of-control   * cgroup name can conflict when pids are looping   * it is not possible to have a single process handling a lot of     namespaces without falling in a exponential creation time   * we may want to create a namespace without creating a cgroup    The ns_cgroup was replaced by a compatibility flag 'clone_children',   where a newly created cgroup will copy the parent cgroup values.   The userspace has to manually create a cgroup and add a task to   the 'tasks' file.  This patch removes the ns_cgroup as suggested in the following thread:  https://lists.linux-foundation.org/pipermail/containers/2009-June/018616.html  The 'cgroup_clone' function is removed because it is no longer used.  This is a userspace-visible change.  Commit 45531757b45c ("cgroup: notify ns_cgroup deprecated") (merged into 2.6.27) caused the kernel to emit a printk warning users that the feature is planned for removal.  Since that time we have heard from XXX users who were affected by this.  Signed-off-by: Daniel Lezcano <daniel.lezcano@free.fr> Signed-off-by: Serge E. Hallyn <serge.hallyn@canonical.com> Cc: Eric W. Biederman <ebiederm@xmission.com> Cc: Jamal Hadi Salim <hadi@cyberus.ca> Reviewed-by: Li Zefan <lizf@cn.fujitsu.com> Acked-by: Paul Menage <menage@google.com> Acked-by: Matt Helsley <matthltc@us.ibm.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
