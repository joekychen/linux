<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › mn10300 › include › asm › busctl-regs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>busctl-regs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* AM33v2 on-board bus controller registers</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2002 Red Hat, Inc. All Rights Reserved.</span>
<span class="cm"> * Written by David Howells (dhowells@redhat.com)</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or</span>
<span class="cm"> * modify it under the terms of the GNU General Public Licence</span>
<span class="cm"> * as published by the Free Software Foundation; either version</span>
<span class="cm"> * 2 of the Licence, or (at your option) any later version.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _ASM_BUSCTL_REGS_H</span>
<span class="cp">#define _ASM_BUSCTL_REGS_H</span>

<span class="cp">#include &lt;asm/cpu-regs.h&gt;</span>

<span class="cp">#ifdef __KERNEL__</span>

<span class="cm">/* bus controller registers */</span>
<span class="cp">#define BCCR			__SYSREG(0xc0002000, u32)	</span><span class="cm">/* bus controller control reg */</span><span class="cp"></span>
<span class="cp">#define BCCR_B0AD		0x00000003	</span><span class="cm">/* block 0 (80000000-83ffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_B1AD		0x0000000c	</span><span class="cm">/* block 1 (84000000-87ffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_B2AD		0x00000030	</span><span class="cm">/* block 2 (88000000-8bffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_B3AD		0x000000c0	</span><span class="cm">/* block 3 (8c000000-8fffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_B4AD		0x00000300	</span><span class="cm">/* block 4 (90000000-93ffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_B5AD		0x00000c00	</span><span class="cm">/* block 5 (94000000-97ffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_B6AD		0x00003000	</span><span class="cm">/* block 6 (98000000-9bffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_B7AD		0x0000c000	</span><span class="cm">/* block 7 (9c000000-9fffffff) bus allocation */</span><span class="cp"></span>
<span class="cp">#define BCCR_BxAD_EXBUS		0x0		</span><span class="cm">/* - direct to system bus controller */</span><span class="cp"></span>
<span class="cp">#define BCCR_BxAD_OPEXBUS	0x1		</span><span class="cm">/* - direct to memory bus controller */</span><span class="cp"></span>
<span class="cp">#define BCCR_BxAD_OCMBUS	0x2		</span><span class="cm">/* - direct to on chip memory */</span><span class="cp"></span>
<span class="cp">#define BCCR_API		0x00070000	</span><span class="cm">/* bus arbitration priority */</span><span class="cp"></span>
<span class="cp">#define BCCR_API_DMACICD	0x00000000	</span><span class="cm">/* - DMA &gt; CI &gt; CD */</span><span class="cp"></span>
<span class="cp">#define BCCR_API_DMACDCI	0x00010000	</span><span class="cm">/* - DMA &gt; CD &gt; CI */</span><span class="cp"></span>
<span class="cp">#define BCCR_API_CICDDMA	0x00020000	</span><span class="cm">/* - CI &gt; CD &gt; DMA */</span><span class="cp"></span>
<span class="cp">#define BCCR_API_CDCIDMA	0x00030000	</span><span class="cm">/* - CD &gt; CI &gt; DMA */</span><span class="cp"></span>
<span class="cp">#define BCCR_API_ROUNDROBIN	0x00040000	</span><span class="cm">/* - round robin */</span><span class="cp"></span>
<span class="cp">#define BCCR_BEPRI_DMACICD	0x00c00000	</span><span class="cm">/* bus error address priority */</span><span class="cp"></span>
<span class="cp">#define BCCR_BEPRI_DMACDCI	0x00000000	</span><span class="cm">/* - DMA &gt; CI &gt; CD */</span><span class="cp"></span>
<span class="cp">#define BCCR_BEPRI_CICDDMA	0x00400000	</span><span class="cm">/* - DMA &gt; CD &gt; CI */</span><span class="cp"></span>
<span class="cp">#define BCCR_BEPRI_CDCIDMA	0x00800000	</span><span class="cm">/* - CI &gt; CD &gt; DMA */</span><span class="cp"></span>
<span class="cp">#define BCCR_BEPRI		0x00c00000	</span><span class="cm">/* - CD &gt; CI &gt; DMA */</span><span class="cp"></span>
<span class="cp">#define BCCR_TMON		0x03000000	</span><span class="cm">/* timeout value settings */</span><span class="cp"></span>
<span class="cp">#define BCCR_TMON_16IOCLK	0x00000000	</span><span class="cm">/* - 16 IOCLK cycles */</span><span class="cp"></span>
<span class="cp">#define BCCR_TMON_256IOCLK	0x01000000	</span><span class="cm">/* - 256 IOCLK cycles */</span><span class="cp"></span>
<span class="cp">#define BCCR_TMON_4096IOCLK	0x02000000	</span><span class="cm">/* - 4096 IOCLK cycles */</span><span class="cp"></span>
<span class="cp">#define BCCR_TMON_65536IOCLK	0x03000000	</span><span class="cm">/* - 65536 IOCLK cycles */</span><span class="cp"></span>
<span class="cp">#define BCCR_TMOE		0x10000000	</span><span class="cm">/* timeout detection enable */</span><span class="cp"></span>

<span class="cp">#define BCBERR			__SYSREG(0xc0002010, u32)	</span><span class="cm">/* bus error source reg */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESB		0x0000001f	</span><span class="cm">/* erroneous access destination space */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESB_MON		0x00000001	</span><span class="cm">/* - monitor space */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESB_IO		0x00000002	</span><span class="cm">/* - IO bus */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESB_EX		0x00000004	</span><span class="cm">/* - EX bus */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESB_OPEX	0x00000008	</span><span class="cm">/* - OpEX bus */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESB_OCM		0x00000010	</span><span class="cm">/* - on chip memory */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BERW		0x00000100	</span><span class="cm">/* type of access */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BERW_WRITE	0x00000000	</span><span class="cm">/* - write */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BERW_READ	0x00000100	</span><span class="cm">/* - read */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESD		0x00000200	</span><span class="cm">/* error detector */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESD_BCU		0x00000000	</span><span class="cm">/* - BCU detected error */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BESD_SLAVE_BUS	0x00000200	</span><span class="cm">/* - slave bus detected error */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEBST		0x00000400	</span><span class="cm">/* type of access */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEBST_SINGLE	0x00000000	</span><span class="cm">/* - single */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEBST_BURST	0x00000400	</span><span class="cm">/* - burst */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEME		0x00000800	</span><span class="cm">/* multiple bus error flag */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEMR		0x00007000	</span><span class="cm">/* master bus that caused the error */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEMR_NOERROR	0x00000000	</span><span class="cm">/* - no error */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEMR_CI		0x00001000	</span><span class="cm">/* - CPU instruction fetch bus caused error */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEMR_CD		0x00002000	</span><span class="cm">/* - CPU data bus caused error */</span><span class="cp"></span>
<span class="cp">#define BCBERR_BEMR_DMA		0x00004000	</span><span class="cm">/* - DMA bus caused error */</span><span class="cp"></span>

<span class="cp">#define BCBEAR			__SYSREGC(0xc0002020, u32)	</span><span class="cm">/* bus error address reg */</span><span class="cp"></span>

<span class="cm">/* system bus controller registers */</span>
<span class="cp">#define SBBASE(X)		__SYSREG(0xd8c00100 + (X) * 0x10, u32)	</span><span class="cm">/* SBC base addr regs */</span><span class="cp"></span>
<span class="cp">#define SBBASE_BE		0x00000001	</span><span class="cm">/* bank enable */</span><span class="cp"></span>
<span class="cp">#define SBBASE_BAM		0x0000fffe	</span><span class="cm">/* bank address mask [31:17] */</span><span class="cp"></span>
<span class="cp">#define SBBASE_BBA		0xfffe0000	</span><span class="cm">/* bank base address [31:17] */</span><span class="cp"></span>

<span class="cp">#define SBCNTRL0(X)		__SYSREG(0xd8c00200 + (X) * 0x10, u32)	</span><span class="cm">/* SBC bank ctrl0 regs */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL0_WEH		0x00000f00	</span><span class="cm">/* write enable hold */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL0_REH		0x0000f000	</span><span class="cm">/* read enable hold */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL0_RWH		0x000f0000	</span><span class="cm">/* SRW signal hold */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL0_CSH		0x00f00000	</span><span class="cm">/* chip select hold */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL0_DAH		0x0f000000	</span><span class="cm">/* data hold */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL0_ADH		0xf0000000	</span><span class="cm">/* address hold */</span><span class="cp"></span>

<span class="cp">#define SBCNTRL1(X)		__SYSREG(0xd8c00204 + (X) * 0x10, u32)	</span><span class="cm">/* SBC bank ctrl1 regs */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL1_WED		0x00000f00	</span><span class="cm">/* write enable delay */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL1_RED		0x0000f000	</span><span class="cm">/* read enable delay */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL1_RWD		0x000f0000	</span><span class="cm">/* SRW signal delay */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL1_ASW		0x00f00000	</span><span class="cm">/* address strobe width */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL1_CSD		0x0f000000	</span><span class="cm">/* chip select delay */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL1_ASD		0xf0000000	</span><span class="cm">/* address strobe delay */</span><span class="cp"></span>

<span class="cp">#define SBCNTRL2(X)		__SYSREG(0xd8c00208 + (X) * 0x10, u32)	</span><span class="cm">/* SBC bank ctrl2 regs */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_WC		0x000000ff	</span><span class="cm">/* wait count */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BWC		0x00000f00	</span><span class="cm">/* burst wait count */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_WM		0x01000000	</span><span class="cm">/* wait mode setting */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_WM_FIXEDWAIT	0x00000000	</span><span class="cm">/* - fixed wait access */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_WM_HANDSHAKE	0x01000000	</span><span class="cm">/* - handshake access */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BM		0x02000000	</span><span class="cm">/* bus synchronisation mode */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BM_SYNC	0x00000000	</span><span class="cm">/* - synchronous mode */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BM_ASYNC	0x02000000	</span><span class="cm">/* - asynchronous mode */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BW		0x04000000	</span><span class="cm">/* bus width */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BW_32		0x00000000	</span><span class="cm">/* - 32 bits */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BW_16		0x04000000	</span><span class="cm">/* - 16 bits */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_RWINV		0x08000000	</span><span class="cm">/* R/W signal invert polarity */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_RWINV_NORM	0x00000000	</span><span class="cm">/* - normal (read high) */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_RWINV_INV	0x08000000	</span><span class="cm">/* - inverted (read low) */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BT		0x70000000	</span><span class="cm">/* bus type setting */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BT_SRAM	0x00000000	</span><span class="cm">/* - SRAM interface */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BT_ADMUX	0x00000000	</span><span class="cm">/* - addr/data multiplexed interface */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BT_BROM	0x00000000	</span><span class="cm">/* - burst ROM interface */</span><span class="cp"></span>
<span class="cp">#define SBCNTRL2_BTSE		0x80000000	</span><span class="cm">/* burst enable */</span><span class="cp"></span>

<span class="cm">/* memory bus controller */</span>
<span class="cp">#define SDBASE(X)		__SYSREG(0xda000008 + (X) * 0x4, u32)	</span><span class="cm">/* MBC base addr regs */</span><span class="cp"></span>
<span class="cp">#define SDBASE_CE		0x00000001	</span><span class="cm">/* chip enable */</span><span class="cp"></span>
<span class="cp">#define SDBASE_CBAM		0x0000fff0	</span><span class="cm">/* chip base address mask [31:20] */</span><span class="cp"></span>
<span class="cp">#define SDBASE_CBAM_SHIFT	16</span>
<span class="cp">#define SDBASE_CBA		0xfff00000	</span><span class="cm">/* chip base address [31:20] */</span><span class="cp"></span>

<span class="cp">#define SDRAMBUS		__SYSREG(0xda000000, u32)	</span><span class="cm">/* bus mode control reg */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_REFEN		0x00000004	</span><span class="cm">/* refresh enable */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_TRC		0x00000018	</span><span class="cm">/* refresh command delay time */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_BSTPT		0x00000020	</span><span class="cm">/* burst stop command enable */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_PONSEQ		0x00000040	</span><span class="cm">/* power on sequence */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_SELFREQ	0x00000080	</span><span class="cm">/* self-refresh mode request */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_SELFON		0x00000100	</span><span class="cm">/* self-refresh mode on */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_SIZE		0x00030000	</span><span class="cm">/* SDRAM size */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_SIZE_64Mbit	0x00010000	</span><span class="cm">/* 64Mbit SDRAM (x16) */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_SIZE_128Mbit	0x00020000	</span><span class="cm">/* 128Mbit SDRAM (x16) */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_SIZE_256Mbit	0x00030000	</span><span class="cm">/* 256Mbit SDRAM (x16) */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_TRASWAIT	0x000c0000	</span><span class="cm">/* row address precharge command cycle number */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_REFNUM		0x00300000	</span><span class="cm">/* refresh command number */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_BSTWAIT	0x00c00000	</span><span class="cm">/* burst stop command cycle */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_SETWAIT	0x03000000	</span><span class="cm">/* mode register setting command cycle */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_PREWAIT	0x0c000000	</span><span class="cm">/* precharge command cycle */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_RASLATE	0x30000000	</span><span class="cm">/* RAS latency */</span><span class="cp"></span>
<span class="cp">#define SDRAMBUS_CASLATE	0xc0000000	</span><span class="cm">/* CAS latency */</span><span class="cp"></span>

<span class="cp">#define SDREFCNT		__SYSREG(0xda000004, u32)	</span><span class="cm">/* refresh period reg */</span><span class="cp"></span>
<span class="cp">#define SDREFCNT_PERI		0x00000fff	</span><span class="cm">/* refresh period */</span><span class="cp"></span>

<span class="cp">#define SDSHDW			__SYSREG(0xda000010, u32)	</span><span class="cm">/* test reg */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* __KERNEL__ */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* _ASM_BUSCTL_REGS_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
