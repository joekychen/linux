f | uv_bau.h | s | 23K | 709 | Cliff Wickman | cpw@sgi.com | 1339148908 |  | x86/uv: Fix UV2 BAU legacy mode  The SGI Altix UV2 BAU (Broadcast Assist Unit) as used for tlb-shootdown (selective broadcast mode) always uses UV2 broadcast descriptor format. There is no need to clear the 'legacy' (UV1) mode, because the hardware always uses UV2 mode for selective broadcast.  But the BIOS uses general broadcast and legacy mode, and the hardware pays attention to the legacy mode bit for general broadcast. So the kernel must not clear that mode bit.  Signed-off-by: Cliff Wickman <cpw@sgi.com> Cc: <stable@kernel.org> Link: http://lkml.kernel.org/r/E1SccoO-0002Lh-Cb@eag09.americas.sgi.com Signed-off-by: Ingo Molnar <mingo@kernel.org>
f | uv_hub.h | s | 17K | 527 | Russ Anderson | rja@sgi.com | 1327571907 |  | x86/uv: Fix uv_gpa_to_soc_phys_ram() shift  uv_gpa_to_soc_phys_ram() was inadvertently ignoring the shift values.  This fix takes the shift into account.  Signed-off-by: Russ Anderson <rja@sgi.com> Cc: <stable@kernel.org> Link: http://lkml.kernel.org/r/20120119020753.GA7228@sgi.com Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | uv_irq.h | s | 907B | 33 | Dimitri Sivanich | sivanich@sgi.com | 1255504629 |  | x86, apic: Move SGI UV functionality out of generic IO-APIC code  Move UV specific functionality out of the generic IO-APIC code.  Signed-off-by: Dimitri Sivanich <sivanich@sgi.com> LKML-Reference: <20091013203236.GD20543@sgi.com> [ Cleaned up the code some more in their new places. ] Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | uv.h | s | 987B | 26 | Russ Anderson | rja@sgi.com | 1267270461 |  | x86: Enable NMI on all cpus on UV  Enable NMI on all cpus in UV system and add an NMI handler to dump_stack on each cpu.  By default on x86 all the cpus except the boot cpu have NMI masked off.  This patch enables NMI on all cpus in UV system and adds an NMI handler to dump_stack on each cpu.  This way if a system hangs we can NMI the machine and get a backtrace from all the cpus.  Version 2: Use x86_platform driver mechanism for nmi init, per            Ingo's suggestion.  Version 3: Clean up Ingo's nits.  Signed-off-by: Russ Anderson <rja@sgi.com> LKML-Reference: <20100226164912.GA24439@sgi.com> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | uv_mmrs.h | s | 92K | 1919 | Jack Steiner | steiner@sgi.com | 1323082192 |  | x86, UV: Fix UV2 hub part number  There was a mixup when the SGI UV2 hub chip was sent to be fabricated, and it ended up with the wrong part number in the HRP_NODE_ID mmr. Future versions of the chip will (may) have the correct part number. Change the UV infrastructure to recognize both part numbers as valid IDs of a UV2 hub chip.  Signed-off-by: Jack Steiner <steiner@sgi.com> Link: http://lkml.kernel.org/r/20111129210058.GA20452@sgi.com Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | bios.h | s | 3.3K | 100 | Linus Torvalds | torvalds@linux-foundation.org | 1267383655 |  | Merge branch 'x86-uv-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip  * 'x86-uv-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:   x86, uv: Remove recursion in uv_heartbeat_enable()   x86, uv: uv_global_gru_mmr_address() macro fix   x86, uv: Add serial number parameter to uv_bios_get_sn_info()
