f | reg_compare.c | s | 8.1K | 317 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | reg_u_sub.S | g | 6.0K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | reg_constant.h | s | 982B | 21 | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | round_Xsig.S | g | 3.2K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_tags.c | s | 2.7K | 95 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | reg_add_sub.c | s | 8.6K | 295 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | Makefile | g | 792B |  | Sam Ravnborg | sam@neptun.(none) | 1192391382 |  | kbuild: fix up CFLAGS usage  Only in very rare cases is it needed to change CFLAGS outside of arch/*/Makefile. Fix up all wrong cases - in most cases the use of EXTRA_CFLAGS is the only thing needed.  Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
f | reg_u_div.S | g | 12K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_entry.c | s | 22K | 676 | Srikar Dronamraju | srikar@linux.vnet.ibm.com | 1331616249 |  | x86: Rename trap_no to trap_nr in thread_struct  There are precedences of trap number being referred to as trap_nr. However thread struct refers trap number as trap_no. Change it to trap_nr.  Also use enum instead of left-over literals for trap values.  This is pure cleanup, no functional change intended.  Suggested-by: Ingo Molnar <mingo@eltu.hu> Signed-off-by: Srikar Dronamraju <srikar@linux.vnet.ibm.com> Cc: Linus Torvalds <torvalds@linux-foundation.org> Cc: Ananth N Mavinakayanahalli <ananth@in.ibm.com> Cc: Jim Keniston <jkenisto@linux.vnet.ibm.com> Cc: Linux-mm <linux-mm@kvack.org> Cc: Oleg Nesterov <oleg@redhat.com> Cc: Andi Kleen <andi@firstfloor.org> Cc: Christoph Hellwig <hch@infradead.org> Cc: Steven Rostedt <rostedt@goodmis.org> Cc: Arnaldo Carvalho de Melo <acme@infradead.org> Cc: Masami Hiramatsu <masami.hiramatsu.pt@hitachi.com> Cc: Peter Zijlstra <peterz@infradead.org> Link: http://lkml.kernel.org/r/20120312092555.5379.942.sendpatchset@srdronam.in.ibm.com [ Fixed the math-emu build ] Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | status_w.h | s | 2.5K | 56 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | reg_ld_str.c | s | 31K | 1083 | Suresh Siddha | suresh.b.siddha@intel.com | 1208625595 |  | x86, fpu: split FPU state from task struct - v5  Split the FPU save area from the task struct. This allows easy migration of FPU context, and it's generally cleaner. It also allows the following two optimizations:  1) only allocate when the application actually uses FPU, so in the first lazy FPU trap. This could save memory for non-fpu using apps. Next patch does this lazy allocation.  2) allocate the right size for the actual cpu rather than 512 bytes always. Patches enabling xsave/xrstor support (coming shortly) will take advantage of this.  Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com> Signed-off-by: Arjan van de Ven <arjan@linux.intel.com> Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | version.h | s | 838B | 11 | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_aux.c | s | 4.3K | 171 | H. Peter Anvin | hpa@zytor.com | 1273523836 |  | x86, fpu: Unbreak FPU emulation  Unbreak FPU emulation, broken by checkin 86603283326c9e95e5ad4e9fdddeec93cac5d9ad: x86: Introduce 'struct fpu' and related API  Signed-off-by: H. Peter Anvin <hpa@zytor.com> Cc: Avi Kivity <avi@redhat.com> Cc: Suresh Siddha <suresh.b.siddha@intel.com> LKML-Reference: <1273135546-29690-3-git-send-email-avi@redhat.com>
f | reg_constant.c | s | 3.7K | 97 | Paolo Ciarrocchi | paolo.ciarrocchi@gmail.com | 1213794013 |  | x86: coding style fixes to arch/x86/math-emu/reg_constant  Before: total: 6 errors, 1 warnings, 117 lines checked  After: total: 0 errors, 1 warnings, 117 lines checked  paolo@paolo-desktop:~/linux.trees.git$ md5sum /tmp/reg_constant.o.* 780388a3056d58fb759efaf190d5d3d1  /tmp/reg_constant.o.after 780388a3056d58fb759efaf190d5d3d1  /tmp/reg_constant.o.before  paolo@paolo-desktop:~/linux.trees.git$ size /tmp/reg_constant.o.*    text    data     bss     dec     hex filename     457       0       0     457     1c9 /tmp/reg_constant.o.after     457       0       0     457     1c9 /tmp/reg_constant.o.before  Signed-off-by: Paolo Ciarrocchi <paolo.ciarrocchi@gmail.com> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_etc.c | s | 3.1K | 123 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | control_w.h | s | 1.8K | 37 | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_system.h | s | 3.6K | 71 | H. Peter Anvin | hpa@zytor.com | 1273523836 |  | x86, fpu: Unbreak FPU emulation  Unbreak FPU emulation, broken by checkin 86603283326c9e95e5ad4e9fdddeec93cac5d9ad: x86: Introduce 'struct fpu' and related API  Signed-off-by: H. Peter Anvin <hpa@zytor.com> Cc: Avi Kivity <avi@redhat.com> Cc: Suresh Siddha <suresh.b.siddha@intel.com> LKML-Reference: <1273135546-29690-3-git-send-email-avi@redhat.com>
f | poly.h | s | 4.6K | 100 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | div_small.S | g | 1.5K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | reg_round.S | g | 17K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | reg_mul.c | s | 3.9K | 105 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | wm_shrx.S | g | 6.1K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | wm_sqrt.S | g | 10K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | mul_Xsig.S | g | 4.1K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | poly_l2.c | s | 7.1K | 204 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | poly_sin.c | s | 10K | 297 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | exception.h | s | 1.8K | 41 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | reg_u_mul.S | g | 3.6K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_proto.h | s | 5.5K | 142 | Tejun Heo | tj@kernel.org | 1234222754 |  | x86: fix math_emu register frame access  do_device_not_available() is the handler for #NM and it declares that it takes a unsigned long and calls math_emu(), which takes a long argument and surprisingly expects the stack frame starting at the zero argument would match struct math_emu_info, which isn't true regardless of configuration in the current code.  This patch makes do_device_not_available() take struct pt_regs like other exception handlers and initialize struct math_emu_info with pointer to it and pass pointer to the math_emu_info to math_emulate() like normal C functions do.  This way, unless gcc makes a copy of struct pt_regs in do_device_not_available(), the register frame is correctly accessed regardless of kernel configuration or compiler used.  This doesn't fix all math_emu problems but it at least gets it somewhat working.  Signed-off-by: Tejun Heo <tj@kernel.org> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | errors.c | s | 17K | 593 | Andrew Morton | akpm@linux-foundation.org | 1201696333 |  | x86: arch/x86/math-emu/errors.c: fix printk warnings  arch/x86/math-emu/errors.c:163: warning: format '%ld' expects type 'long int', but argument 3 has type 'u32' arch/x86/math-emu/errors.c:175: warning: format '%ld' expects type 'long int', but argument 3 has type 'u32' arch/x86/math-emu/errors.c:175: warning: format '%ld' expects type 'long int', but argument 4 has type 'u32' arch/x86/math-emu/errors.c:175: warning: format '%ld' expects type 'long int', but argument 5 has type 'u32' arch/x86/math-emu/errors.c:175: warning: format '%ld' expects type 'long int', but argument 6 has type 'u32'  Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | reg_divide.c | s | 4.9K | 162 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | load_store.c | s | 8.5K | 269 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | poly_2xm1.c | s | 4.4K | 124 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | README | g | 21K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | div_Xsig.S | g | 9.9K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | polynom_Xsig.S | g | 3.9K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | poly_tan.c | s | 6.7K | 185 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | fpu_arith.c | s | 2.9K | 133 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | shr_Xsig.S | g | 2.4K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | reg_norm.S | g | 3.5K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_trig.c | s | 38K | 1400 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | reg_convert.c | s | 1.6K | 38 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | fpu_asm.h | s | 1.0K | 25 | Ingo Molnar | mingo@elte.hu | 1201696211 |  | x86: lindent arch/i386/math-emu  lindent these files:                                        errors   lines of code   errors/KLOC  arch/x86/math-emu/                      2236            9424         237.2  arch/x86/math-emu/                       128            8706          14.7  no other changes. No code changed:     text    data     bss     dec     hex filename    5589802  612739 3833856 10036397         9924ad vmlinux.before    5589802  612739 3833856 10036397         9924ad vmlinux.after  the intent of this patch is to ease the automated tracking of kernel code quality - it's just much easier for us to maintain it if every file in arch/x86 is supposed to be clean.  NOTE: it is a known problem of lindent that it causes some style damage of its own, but it's a safe tool (well, except for the gcc array range initializers extension), so we did the bulk of the changes via lindent, and did the manual fixups in a followup patch.  the resulting math-emu code has been tested by Thomas Gleixner on a real 386 DX CPU as well, and it works fine.  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | reg_u_add.S | g | 3.9K |  | Thomas Gleixner | tglx@linutronix.de | 1192094191 |  | i386: move math-emu  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | get_address.c | s | 10K | 353 | Tejun Heo | tj@kernel.org | 1234222918 |  | x86: add %gs accessors for x86_32  Impact: cleanup  On x86_32, %gs is handled lazily.  It's not saved and restored on kernel entry/exit but only when necessary which usually is during task switch but there are few other places.  Currently, it's done by calling savesegment() and loadsegment() explicitly.  Define get_user_gs(), set_user_gs() and task_user_gs() and use them instead.  While at it, clean up register access macros in signal.c.  This cleans up code a bit and will help future changes.  Signed-off-by: Tejun Heo <tj@kernel.org> Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | fpu_emu.h | s | 7.1K | 182 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | poly_atan.c | s | 6.2K | 175 | Ingo Molnar | mingo@elte.hu | 1201696212 |  | x86: lindent arch/i386/math-emu, cleanup  manually clean up some of the damage that lindent caused. (this is a separate commit so that in the unlikely case of a typo we can bisect it down to the manual edits.)  Signed-off-by: Ingo Molnar <mingo@elte.hu> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
