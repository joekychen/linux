f | mconsole_kern.c | s | 19K | 772 | Paul E. McKenney | paul.mckenney@linaro.org | 1335995003 |  | rcu: Move PREEMPT_RCU preemption to switch_to() invocation  Currently, PREEMPT_RCU readers are enqueued upon entry to the scheduler. This is inefficient because enqueuing is required only if there is a context switch, and entry to the scheduler does not guarantee a context switch.  The commit therefore moves the enqueuing to immediately precede the call to switch_to() from the scheduler.  Signed-off-by: Paul E. McKenney <paul.mckenney@linaro.org> Signed-off-by: Paul E. McKenney <paulmck@linux.vnet.ibm.com> Tested-by: Linus Torvalds <torvalds@linux-foundation.org>
f | slip_user.c | s | 4.9K | 213 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | Makefile | g | 2.3K |  | Nolan Leake | nolan@sigbus.net | 1306337981 |  | um: add ucast ethernet transport  The ucast transport is similar to the mcast transport (and, in fact, shares most of its code), only it uses UDP unicast to move packets.  Obviously this is only useful for point-to-point connections between virtual ethernet devices.  Signed-off-by: Nolan Leake <nolan@cumulusnetworks.com> Signed-off-by: Richard Weinberger <richard@nod.at> Cc: David Miller <davem@davemloft.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | slirp_kern.c | s | 2.6K | 100 | Paul Menage | menage@google.com | 1245954133 |  | UML: Fix some apparent bitrot  UML: Fix some apparent bitrot  - migration of net_device methods into net_device_ops - dma_sync_single() changes  Signed-off-by: Paul Menage <menage@google.com> Acked-by: Amerigo Wang <xiyou.wangcong@gmail.com> --  This version is split from my earlier patch, including just the portions that ar required for Linus' tree.  Fixes the following compile errors:  include/linux/dma-mapping.h:113: error: redefinition of 'dma_sync_single' arch/um/include/asm/dma-mapping.h:84: error: previous definition of 'dma_sync_single' was here include/linux/dma-mapping.h: In function 'dma_sync_single': include/linux/dma-mapping.h:117: error: implicit declaration of function 'dma_sync_single_for_cpu' include/linux/dma-mapping.h: At top level: include/linux/dma-mapping.h:120: error: redefinition of 'dma_sync_sg' arch/um/include/asm/dma-mapping.h:91: error: previous definition of 'dma_sync_sg' was here include/linux/dma-mapping.h: In function 'dma_sync_sg': include/linux/dma-mapping.h:124: error: implicit declaration of function 'dma_sync_sg_for_cpu'  arch/um/drivers/slirp_kern.c: In function 'slirp_init': arch/um/drivers/slirp_kern.c:35: error: 'struct net_device' has no member named 'init' Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ssl.c | s | 5.2K | 194 | Al Viro | viro@zeniv.linux.org.uk | 1332631794 |  | um: switch users of ->chan_list to ->chan_{in,out} (easy cases)  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | umcast_user.c | s | 4.6K | 158 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | daemon_kern.c | s | 2.4K | 80 | Wang Chen | wangchen@cn.fujitsu.com | 1228432053 |  | um: Kill directly reference of netdev->priv  Simply replace netdev->priv with netdev_priv().  Signed-off-by: Wang Chen <wangchen@cn.fujitsu.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | cow.h | s | 1.0K | 25 | Al Viro | viro@zeniv.linux.org.uk | 1334009625 |  | um: switch cow_user.h to htobe{32,64}/betoh{32,64}  ... rather than open-coding the 64bit versions.  endian.h has those guys.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | ubd_user.c | s | 1.2K | 54 | Al Viro | viro@zeniv.linux.org.uk | 1332631792 |  | um: clean up the includes in ubd  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | cow_user.c | s | 12K | 398 | Al Viro | viro@zeniv.linux.org.uk | 1334009625 |  | um: switch cow_user.h to htobe{32,64}/betoh{32,64}  ... rather than open-coding the 64bit versions.  endian.h has those guys.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | vde_kern.c | s | 3.0K | 104 | Wang Chen | wangchen@cn.fujitsu.com | 1228432053 |  | um: Kill directly reference of netdev->priv  Simply replace netdev->priv with netdev_priv().  Signed-off-by: Wang Chen <wangchen@cn.fujitsu.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | port.h | s | 494B | 16 | WANG Cong | xiyou.wangcong@gmail.com | 1238601557 |  | uml: remove useless comments  These comments are useless now, remove them.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Cc: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | chan_kern.c | s | 12K | 502 | Richard Weinberger | richard@nod.at | 1337627376 |  | um: Implement um_free_irq()  Instead of using chip->release() we can achieve the same using a simple wrapper for free_irq(). We have already um_request_irq(), so um_free_irq() is the perfect counterpart.  Signed-off-by: Richard Weinberger <richard@nod.at> Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
f | chan_user.h | s | 1.6K | 44 | Al Viro | viro@zeniv.linux.org.uk | 1332631794 |  | um: chan_init_pri is dead now  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | harddog_user.c | s | 2.4K | 109 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | ssl.h | s | 220B | 9 | WANG Cong | xiyou.wangcong@gmail.com | 1238601557 |  | uml: remove useless comments  These comments are useless now, remove them.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Cc: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | net_kern.c | s | 20K | 770 | Richard Weinberger | richard@nod.at | 1337627376 |  | um: Implement um_free_irq()  Instead of using chip->release() we can achieve the same using a simple wrapper for free_irq(). We have already um_request_irq(), so um_free_irq() is the perfect counterpart.  Signed-off-by: Richard Weinberger <richard@nod.at> Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
f | xterm_kern.c | s | 1.5K | 62 | Richard Weinberger | richard@nod.at | 1337627376 |  | um: Implement um_free_irq()  Instead of using chip->release() we can achieve the same using a simple wrapper for free_irq(). We have already um_request_irq(), so um_free_irq() is the perfect counterpart.  Signed-off-by: Richard Weinberger <richard@nod.at> Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
f | pty.c | s | 3.1K | 139 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | mconsole.h | s | 2.4K | 80 | Al Viro | viro@ftp.linux.org.uk | 1320239712 |  | um: take mconsole*.h to arch/um/drivers  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | harddog_kern.c | s | 4.4K | 170 | Linus Torvalds | torvalds@linux-foundation.org | 1287769976 |  | Merge branch 'llseek' of git://git.kernel.org/pub/scm/linux/kernel/git/arnd/bkl  * 'llseek' of git://git.kernel.org/pub/scm/linux/kernel/git/arnd/bkl:   vfs: make no_llseek the default   vfs: don't use BKL in default_llseek   llseek: automatically add .llseek fop   libfs: use generic_file_llseek for simple_attr   mac80211: disallow seeks in minstrel debug code   lirc: make chardev nonseekable   viotape: use noop_llseek   raw: use explicit llseek file operations   ibmasmfs: use generic_file_llseek   spufs: use llseek in all file operations   arm/omap: use generic_file_llseek in iommu_debug   lkdtm: use generic_file_llseek in debugfs   net/wireless: use generic_file_llseek in debugfs   drm: use noop_llseek
f | port_user.c | s | 3.6K | 168 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | null.c | s | 970B | 42 | Simon Arlott | simon@fire.lp0.eu | 1192836183 |  | spelling fixes: arch/um/  Spelling fixes in arch/um/.  Signed-off-by: Simon Arlott <simon@fire.lp0.eu> Acked-by: Jeff Dike <jdike@addtoit.com> Signed-off-by: Adrian Bunk <bunk@kernel.org>
f | mconsole_kern.h | s | 955B | 41 | Al Viro | viro@ftp.linux.org.uk | 1320239712 |  | um: take mconsole*.h to arch/um/drivers  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | xterm.c | s | 4.9K | 190 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | hostaudio_kern.c | s | 7.6K | 289 | Linus Torvalds | torvalds@linux-foundation.org | 1287769391 |  | Merge branch 'config' of git://git.kernel.org/pub/scm/linux/kernel/git/arnd/bkl  * 'config' of git://git.kernel.org/pub/scm/linux/kernel/git/arnd/bkl:   BKL: introduce CONFIG_BKL.   dabusb: remove the BKL   sunrpc: remove the big kernel lock   init/main.c: remove BKL notations   blktrace: remove the big kernel lock   rtmutex-tester: make it build without BKL   dvb-core: kill the big kernel lock   dvb/bt8xx: kill the big kernel lock   tlclk: remove big kernel lock   fix rawctl compat ioctls breakage on amd64 and itanic   uml: kill big kernel lock   parisc: remove big kernel lock   cris: autoconvert trivial BKL users   alpha: kill big kernel lock   isapnp: BKL removal   s390/block: kill the big kernel lock   hpet: kill BKL, add compat_ioctl
f | mconsole_user.c | s | 5.2K | 180 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | slip_common.h | s | 2.2K | 92 | Paolo 'Blaisorblade' Giarrusso | blaisorblade@yahoo.it | 1138812802 |  | [PATCH] uml: fix hugest stack users  The C99 initialization, with GCC's bad handling, for 6K wide structs (which _aren't_ on the stack), is causing GCC to use 12K for these silly procs with 3 vars.  Workaround this.  Note that .name = { '\0' } translates to memset(->name, 0, '->name' size) - I verified this with GCC's docs and a testprogram.  Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it> Cc: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | stdio_console.c | s | 4.8K | 174 | Al Viro | viro@zeniv.linux.org.uk | 1332631794 |  | um: switch users of ->chan_list to ->chan_{in,out} (easy cases)  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | daemon.h | s | 500B | 22 | Jeff Dike | jdike@addtoit.com | 1192552988 |  | uml: network formatting  Style and other non-functional changes in the UML networking code, including 	include tidying 	style violations 	copyright updates 	printks getting severities 	userspace code calling libc directly rather than using the os_* wrappers  There's also a exit path cleanup in the pcap driver.  Signed-off-by: Jeff Dike <jdike@linux.intel.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ubd.h | s | 357B | 12 | Al Viro | viro@zeniv.linux.org.uk | 1332631792 |  | um: clean up the includes in ubd  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | vde.h | s | 574B | 25 | Jeff Dike | jdike@addtoit.com | 1192552985 |  | uml: add VDE networking support  Added vde network backend in uml to introduce native Virtual Distributed Ethernet support (using libvdeplug).  Signed-off-by: Luca Bigliardi <shammash@artha.org> Signed-off-by: Jeff Dike <jdike@linux.intel.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | pcap_user.c | s | 2.9K | 114 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | stderr_console.c | s | 1.6K | 52 | Simon Arlott | simon@fire.lp0.eu | 1192836183 |  | spelling fixes: arch/um/  Spelling fixes in arch/um/.  Signed-off-by: Simon Arlott <simon@fire.lp0.eu> Acked-by: Jeff Dike <jdike@addtoit.com> Signed-off-by: Adrian Bunk <bunk@kernel.org>
f | stdio_console.h | s | 185B | 8 | WANG Cong | xiyou.wangcong@gmail.com | 1238601557 |  | uml: remove useless comments  These comments are useless now, remove them.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Cc: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | slirp.h | s | 786B | 27 | Jeff Dike | jdike@addtoit.com | 1159370775 |  | [PATCH] uml: const more data  Make lots of structures const in order to make it obvious that they need no locking.  Signed-off-by: Jeff Dike <jdike@addtoit.com> Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | ubd_kern.c | s | 33K | 1240 | Al Viro | viro@zeniv.linux.org.uk | 1332631792 |  | um: clean up the includes in ubd  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | fd.c | s | 1.9K | 82 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | slip_common.c | s | 1.1K | 48 | Jeff Dike | jdike@addtoit.com | 1118721523 |  | [PATCH] uml: slirp and slip driver cleanups and fixes  This patch merges a lot of duplicated code in the slip and slirp drivers, abstracts out the slip protocol, and makes the slip driver work in 2.6.  Signed-off-by: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | xterm.h | s | 183B | 8 | WANG Cong | xiyou.wangcong@gmail.com | 1238601557 |  | uml: remove useless comments  These comments are useless now, remove them.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Cc: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | mmapper_kern.c | s | 2.8K | 112 | Justin P. Mattock | justinmattock@gmail.com | 1302447665 |  | treewide: remove extra semicolons  Signed-off-by: Justin P. Mattock <justinmattock@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | slirp_user.c | s | 2.2K | 102 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | daemon_user.c | s | 4.2K | 168 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | umcast_kern.c | s | 4.6K | 160 | Nolan Leake | nolan@sigbus.net | 1306337981 |  | um: add ucast ethernet transport  The ucast transport is similar to the mcast transport (and, in fact, shares most of its code), only it uses UDP unicast to move packets.  Obviously this is only useful for point-to-point connections between virtual ethernet devices.  Signed-off-by: Nolan Leake <nolan@cumulusnetworks.com> Signed-off-by: Richard Weinberger <richard@nod.at> Cc: David Miller <davem@davemloft.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | line.c | s | 18K | 730 | Richard Weinberger | richard@nod.at | 1337627376 |  | um: Implement um_free_irq()  Instead of using chip->release() we can achieve the same using a simple wrapper for free_irq(). We have already um_request_irq(), so um_free_irq() is the perfect counterpart.  Signed-off-by: Richard Weinberger <richard@nod.at> Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
f | random.c | s | 3.6K | 140 | Yong Zhang | yong.zhang0@gmail.com | 1332631792 |  | um: irq: Remove IRQF_DISABLED  Since commit [e58aa3d2: genirq: Run irq handlers with interrupts disabled], We run all interrupt handlers with interrupts disabled and we even check and yell when an interrupt handler returns with interrupts enabled (see commit [b738a50a: genirq: Warn when handler enables interrupts]).  So now this flag is a NOOP and can be removed.  Signed-off-by: Yong Zhang <yong.zhang0@gmail.com> Signed-off-by: Richard Weinberger <richard@nod.at>
f | slip_kern.c | s | 2.0K | 76 | Paul Menage | menage@google.com | 1245954133 |  | UML: Fix some apparent bitrot  UML: Fix some apparent bitrot  - migration of net_device methods into net_device_ops - dma_sync_single() changes  Signed-off-by: Paul Menage <menage@google.com> Acked-by: Amerigo Wang <xiyou.wangcong@gmail.com> --  This version is split from my earlier patch, including just the portions that ar required for Linus' tree.  Fixes the following compile errors:  include/linux/dma-mapping.h:113: error: redefinition of 'dma_sync_single' arch/um/include/asm/dma-mapping.h:84: error: previous definition of 'dma_sync_single' was here include/linux/dma-mapping.h: In function 'dma_sync_single': include/linux/dma-mapping.h:117: error: implicit declaration of function 'dma_sync_single_for_cpu' include/linux/dma-mapping.h: At top level: include/linux/dma-mapping.h:120: error: redefinition of 'dma_sync_sg' arch/um/include/asm/dma-mapping.h:91: error: previous definition of 'dma_sync_sg' was here include/linux/dma-mapping.h: In function 'dma_sync_sg': include/linux/dma-mapping.h:124: error: implicit declaration of function 'dma_sync_sg_for_cpu'  arch/um/drivers/slirp_kern.c: In function 'slirp_init': arch/um/drivers/slirp_kern.c:35: error: 'struct net_device' has no member named 'init' Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | tty.c | s | 1.5K | 68 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | vde_user.c | s | 2.3K | 97 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | cow_sys.h | s | 674B | 31 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | umcast.h | s | 497B | 21 | Nolan Leake | nolan@sigbus.net | 1306337981 |  | um: add ucast ethernet transport  The ucast transport is similar to the mcast transport (and, in fact, shares most of its code), only it uses UDP unicast to move packets.  Obviously this is only useful for point-to-point connections between virtual ethernet devices.  Signed-off-by: Nolan Leake <nolan@cumulusnetworks.com> Signed-off-by: Richard Weinberger <richard@nod.at> Cc: David Miller <davem@davemloft.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | slip.h | s | 419B | 15 | Jeff Dike | jdike@addtoit.com | 1159370775 |  | [PATCH] uml: const more data  Make lots of structures const in order to make it obvious that they need no locking.  Signed-off-by: Jeff Dike <jdike@addtoit.com> Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it> Signed-off-by: Andrew Morton <akpm@osdl.org> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | line.h | s | 3.1K | 88 | Al Viro | viro@zeniv.linux.org.uk | 1332631794 |  | um: line->have_irq is never checked...  looks like a half-arsed duplicate of line->enabled  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | port_kern.c | s | 6.5K | 259 | Richard Weinberger | richard@nod.at | 1337627376 |  | um: Implement um_free_irq()  Instead of using chip->release() we can achieve the same using a simple wrapper for free_irq(). We have already um_request_irq(), so um_free_irq() is the perfect counterpart.  Signed-off-by: Richard Weinberger <richard@nod.at> Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
f | net_user.c | s | 5.2K | 228 | Al Viro | viro@ftp.linux.org.uk | 1320239684 |  | um: -include user.h for USER_OBJ, trim includes  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | chan_user.c | s | 6.9K | 258 | Al Viro | viro@ftp.linux.org.uk | 1320239711 |  | um: take register_winch_irq() into the caller of is_skas_winch()  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | chan.h | s | 1.5K | 45 | Al Viro | viro@zeniv.linux.org.uk | 1332631794 |  | um: switch close_chan() to struct line  ... and switch chan_interrupt() to directly calling close_one_chan(), so we can lose delay_free_irq argument of close_chan() as well.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | pcap_kern.c | s | 2.5K | 96 | Wang Chen | wangchen@cn.fujitsu.com | 1228432053 |  | um: Kill directly reference of netdev->priv  Simply replace netdev->priv with netdev_priv().  Signed-off-by: Wang Chen <wangchen@cn.fujitsu.com> Signed-off-by: David S. Miller <davem@davemloft.net>
f | pcap_user.h | s | 364B | 16 | WANG Cong | xiyou.wangcong@gmail.com | 1238601557 |  | uml: remove useless comments  These comments are useless now, remove them.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Cc: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
