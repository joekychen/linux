d | kernel |  | 31 items |  | Al Viro | viro@zeniv.linux.org.uk | 1338569932 |  | new helper: signal_delivered()  Does block_sigmask() + tracehook_signal_handler();  called when sigframe has been successfully built.  All architectures converted to it; block_sigmask() itself is gone now (merged into this one).  I'm still not too happy with the signature, but that's a separate story (IMO we need a structure that would contain signal number + siginfo + k_sigaction, so that get_signal_to_deliver() would fill one, signal_delivered(), handle_signal() and probably setup...frame() - take one).  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | Makefile | g | 4.7K |  | Sam Ravnborg | sam@ravnborg.org | 1336245573 |  | kbuild: link of vmlinux moved to a script  Move the final link of vmlinux to a script to improve readability and maintainability of the code.  The Makefile fragments used to link vmlinux has over the years seen far too many changes and the logic had become hard to follow.  As the process by nature is serialized there was nothing gained including this in the Makefile.  "um" has special link requirments - and the only way to handle this was to hard-code the linking of "um" in the script. This was better than trying to modularize it only for the benefit of "um" anyway.  The shell script has been improved after input from: Arnaud Lacombe <lacombar@gmail.com> Nick Bowler <nbowler@elliptictech.com>  Signed-off-by: Sam Ravnborg <sam@ravnborg.org> Cc: Arnaud Lacombe <lacombar@gmail.com> Cc: Nick Bowler <nbowler@elliptictech.com> Cc: Richard Weinberger <richard@nod.at> Signed-off-by: Michal Marek <mmarek@suse.cz>
d | scripts |  | 1 items |  | Al Viro | viro@zeniv.linux.org.uk | 1332631796 |  | um: don't bother trying to rebuild CHECKFLAGS for USER_OBJS  ... just strip NOSTDINC_FLAGS out of it for those  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
d | sys-ppc |  | 9 items |  | matt mooney | mfm@muteddisk.com | 1300366977 |  | um: change to new flag variables  Replace EXTRA_CFLAGS with ccflags-y and EXTRA_AFLAGS with asflags-y.  Signed-off-by: matt mooney <mfm@muteddisk.com> Acked-by: WANG Cong <xiyou.wangcong@gmail.com> Signed-off-by: Michal Marek <mmarek@suse.cz>
d | drivers |  | 59 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1337788901 |  | Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/rw/uml  Pull UML updates from Richard Weinberger:  "Most changes are bug fixes and cleanups"  * 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/rw/uml:   um: missing checks of __put_user()/__get_user() return values   um: stub_rt_sigsuspend isn't needed these days anymore   um/x86: merge (and trim) 32- and 64-bit variants of ptrace.h   irq: Remove irq_chip->release()   um: Remove CONFIG_IRQ_RELEASE_METHOD   um: Remove usage of irq_chip->release()   um: Implement um_free_irq()   um: Fix __swp_type()   um: Implement a custom pte_same() function   um: Add BUG() to do_ops()'s error path   um: Remove unused variables   um: bury unused _TIF_RESTORE_SIGMASK   um: wrong sigmask saved in case of multiple sigframes   um: add TIF_NOTIFY_RESUME   um: ->restart_block.fn needs to be reset on sigreturn
d | include |  | 2 items |  | Al Viro | viro@zeniv.linux.org.uk | 1338569931 |  | most of set_current_blocked() callers want SIGKILL/SIGSTOP removed from set  Only 3 out of 63 do not.  Renamed the current variant to __set_current_blocked(), added set_current_blocked() that will exclude unblockable signals, switched open-coded instances to it.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | Kconfig.debug | g | 997B |  | Stephen Boyd | sboyd@codeaurora.org | 1306337994 |  | lib: consolidate DEBUG_STACK_USAGE option  Most arches define CONFIG_DEBUG_STACK_USAGE exactly the same way.  Move it to lib/Kconfig.debug so each arch doesn't have to define it.  This obviously makes the option generic, but that's fine because the config is already used in generic code.  It's not obvious to me that sysrq-P actually does anything caution by keeping the most inclusive wording.  Signed-off-by: Stephen Boyd <sboyd@codeaurora.org> Cc: Chris Metcalf <cmetcalf@tilera.com> Acked-by: David S. Miller <davem@davemloft.net> Acked-by: Richard Weinberger <richard@nod.at> Acked-by: Mike Frysinger <vapier@gentoo.org> Cc: Russell King <rmk@arm.linux.org.uk> Cc: Hirokazu Takata <takata@linux-m32r.org> Acked-by: Ralf Baechle <ralf@linux-mips.org> Cc: Paul Mackerras <paulus@samba.org> Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Chen Liqin <liqin.chen@sunplusct.com> Cc: Lennox Wu <lennox.wu@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: Thomas Gleixner <tglx@linutronix.de> Cc: "H. Peter Anvin" <hpa@zytor.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Makefile-ppc | g | 203B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
d | os-Linux |  | 22 items |  | Richard Weinberger | richard@nod.at | 1337627372 |  | um: Remove unused variables  Signed-off-by: Richard Weinberger <richard@nod.at>
f | Kconfig.um | g | 5.2K |  | Thomas Gleixner | tglx@linutronix.de | 1337636626 |  | timers: Fixup the Kconfig consolidation fallout  Sigh, I missed to check which architecture Kconfig files actually include the core Kconfig file. There are a few which did not. So we broke them.  Instead of adding the includes to those, we are better off to move the include to init/Kconfig like we did already with irqs and others.  This does not change anything for the architectures using the old style periodic timer mode. It just solves the build wreckage there.  For those architectures which use the clock events infrastructure it moves the include of the core Kconfig file to "General setup" which is a way more logical place than having it at random locations specified by the architecture specific Kconfigs.  Reported-by: Ingo Molnar <mingo@kernel.org> Cc: Anna-Maria Gleixner <anna-maria@glx-um.de> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | Kconfig.rest | g | 291B |  | Al Viro | viro@ftp.linux.org.uk | 1320239741 |  | um: switch to use of drivers/Kconfig  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
d | sys-ia64 |  | 2 items |  | WANG Cong | xiyou.wangcong@gmail.com | 1238601557 |  | uml: remove useless comments  These comments are useless now, remove them.  Signed-off-by: WANG Cong <xiyou.wangcong@gmail.com> Cc: Jeff Dike <jdike@addtoit.com> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | Kconfig.common | g | 701B |  | Linus Torvalds | torvalds@linux-foundation.org | 1337891386 |  | Merge branch 'timers-core-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip  Pull timer updates from Thomas Gleixner.  Various trivial conflict fixups in arch Kconfig due to addition of unrelated entries nearby.  And one slightly more subtle one for sparc32 (new user of GENERIC_CLOCKEVENTS), fixed up as per Thomas.  * 'timers-core-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/tip: (31 commits)   timekeeping: Fix a few minor newline issues.   time: remove obsolete declaration   ntp: Fix a stale comment and a few stray newlines.   ntp: Correct TAI offset during leap second   timers: Fixup the Kconfig consolidation fallout   x86: Use generic time config   unicore32: Use generic time config   um: Use generic time config   tile: Use generic time config   sparc: Use: generic time config   sh: Use generic time config   score: Use generic time config   s390: Use generic time config   openrisc: Use generic time config   powerpc: Use generic time config   mn10300: Use generic time config   mips: Use generic time config   microblaze: Use generic time config   m68k: Use generic time config   m32r: Use generic time config   ...
f | defconfig | g | 21K |  | Richard Weinberger | richard@nod.at | 1337627377 |  | um: Remove CONFIG_IRQ_RELEASE_METHOD  UML does no longer need CONFIG_IRQ_RELEASE_METHOD.  Signed-off-by: Richard Weinberger <richard@nod.at> Reviewed-by: Thomas Gleixner <tglx@linutronix.de>
f | Kconfig.char | g | 4.5K |  | Al Viro | viro@ftp.linux.org.uk | 1320239729 |  | um: clean Kconfig up a bit  * kill duplicates with drivers/char/Kconfig * take watchdog one into drivers/watchdog/Kconfig * take mmapper to arch/um/Kconfig.um * rename Kconfig.char menu to "UML Character Devices"  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Richard Weinberger <richard@nod.at>
f | Makefile-os-Linux | g | 235B |  | Al Viro | viro@zeniv.linux.org.uk | 1224741322 |  | x86, um: get rid of arch/um/os symlink  we can get DEV_NULL defined for arch/um/drivers/null.c in less convoluted ways, TYVM...  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: H. Peter Anvin <hpa@zytor.com>
f | Kconfig.net | g | 8.5K |  | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | Makefile-ia64 | g | 32B |  | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | Makefile-skas | g | 290B |  | Al Viro | viro@ftp.linux.org.uk | 1128008786 |  | [PATCH] uml makefiles sanitized  UML makefiles sanitized:  - number of generated headers reduced to 2 (from user-offsets.c and    kernel-offsets.c resp.).  The rest is made constant and simply    includes those two.  - mk_... helpers are gone now that we don't need to generate these    headers  - arch/um/include2 removed since everything under arch/um/include/sysdep    is constant now and symlink can point straight to source tree.  - dependencies seriously simplified.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
