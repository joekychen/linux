f | debug.c | s | 8.8K | 286 | Geert Uytterhoeven | geert@linux-m68k.org | 1323543169 |  | m68k/atari: Move declaration of atari_SCC_reset_done to header file  Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
f | atakeyb.c | s | 15K | 531 | Michael Schmitz | schmitz@biophys.uni-duesseldorf.de | 1305821951 |  | input/atari: Use the correct mouse interrupt hook  The Atari keyboard driver calls atari_mouse_interrupt_hook if it's set, not atari_input_mouse_interrupt_hook. Fix below.  [geert] Killed off atari_mouse_interrupt_hook completely, after fixing another incorrect assignment in atarimouse.c.  Signed-off-by: Michael Schmitz <schmitz@debian.org> Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
f | time.c | s | 9.7K | 311 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103859 |  | m68k: Add export.h to the m68k specific files as required  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | Makefile | g | 178B |  | Adrian Bunk | bunk@kernel.org | 1224005007 |  | m68k: Remove the broken Hades support  This patch removes the Hades support that was marked as BROKEN 5 years ago.  Signed-off-by: Adrian Bunk <bunk@kernel.org> Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | ataints.c | s | 6.2K | 198 | Geert Uytterhoeven | geert@linux-m68k.org | 1335118609 |  | m68k/atari: Change VME irq numbers from unsigned long to unsigned int  Device interrupts numbers were changed to unsigned int in 1997, the year IRQ_MACHSPEC was killed as well.  Also kill a related cast while we're at it.  Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org> Cc: netdev@vger.kernel.org
f | config.c | s | 18K | 593 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for M68K  Disintegrate asm/system.h for M68K.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Greg Ungerer <gerg@uclinux.org> cc: linux-m68k@lists.linux-m68k.org
f | stdma.c | s | 5.0K | 164 | Geert Uytterhoeven | geert@linux-m68k.org | 1305821950 |  | m68k/atari: Do not use "/" in interrupt names  It may trigger a warning in fs/proc/generic.c:__xlate_proc_name() when trying to add an entry for the interrupt handler to sysfs.  Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
f | atasound.c | s | 2.6K | 92 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for M68K  Disintegrate asm/system.h for M68K.  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: Greg Ungerer <gerg@uclinux.org> cc: linux-m68k@lists.linux-m68k.org
f | stram.c | s | 3.6K | 129 | Michael Schmitz | schmitzmic@googlemail.com | 1312053699 |  | m68k/atari: Reserve some ST-RAM early on for device buffer use  Based on an original patch from Michael Schmitz:  Because mem_init() is now called before device init, devices that rely on ST-RAM may find all ST-RAM already allocated to other users by the time device init happens. In particular, a large initrd RAM disk may use up enough of ST-RAM to cause atari_stram_alloc() to resort to __get_dma_pages() allocation.  In the current state of Atari memory management, all of RAM is marked DMA capable, so __get_dma_pages() may well return RAM that is not in actual fact DMA capable. Using this for frame buffer or SCSI DMA buffer causes subtle failure.  The ST-RAM allocator has been changed to allocate memory from a pool of reserved ST-RAM of configurable size, set aside on ST-RAM init (i.e. before mem_init()). As long as this pool is not exhausted, allocation of real ST-RAM can be guaranteed.  Other changes:   - Replace the custom allocator in the ST-RAM pool by the existing allocator     in the resource subsystem,   - Remove mem_init_done and its hook, as memory init is now done before     device init,   - Remove /proc/stram, as ST-RAM usage now shows up under /proc/iomem, e.g.  	005f2000-006f1fff : ST-RAM Pool 	  005f2000-0063dfff : atafb 	  0063e000-00641fff : ataflop 	  00642000-00642fff : SCSI  Signed-off-by: Michael Schmitz <schmitz@debian.org> [Andreas Schwab <schwab@linux-m68k.org>: Use memparse()] [Geert: Use the resource subsystem instead of a custom allocator] Signed-off-by: Geert Uytterhoeven <geert@linux-m68k.org>
