<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › m68k › include › asm › macints.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>macints.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">** macints.h -- Macintosh Linux interrupt handling structs and prototypes</span>
<span class="cm">**</span>
<span class="cm">** Copyright 1997 by Michael Schmitz</span>
<span class="cm">**</span>
<span class="cm">** This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm">** License.  See the file COPYING in the main directory of this archive</span>
<span class="cm">** for more details.</span>
<span class="cm">**</span>
<span class="cm">*/</span>

<span class="cp">#ifndef _ASM_MACINTS_H_</span>
<span class="cp">#define _ASM_MACINTS_H_</span>

<span class="cp">#include &lt;asm/irq.h&gt;</span>

<span class="cm">/* Setting this prints debugging info for unclaimed interrupts */</span>

<span class="cp">#define DEBUG_SPURIOUS</span>

<span class="cm">/* Setting this prints debugging info on each autovector interrupt */</span>

<span class="cm">/* #define DEBUG_IRQS */</span>

<span class="cm">/* Setting this prints debugging info on each Nubus interrupt */</span>

<span class="cm">/* #define DEBUG_NUBUS_INT */</span>

<span class="cm">/* Setting this prints debugging info on irqs as they enabled and disabled. */</span>

<span class="cm">/* #define DEBUG_IRQUSE */</span>

<span class="cm">/*</span>
<span class="cm"> * Base IRQ number for all Mac68K interrupt sources. Each source</span>
<span class="cm"> * has eight indexes (base -&gt; base+7).</span>
<span class="cm"> */</span>

<span class="cp">#define VIA1_SOURCE_BASE	8</span>
<span class="cp">#define VIA2_SOURCE_BASE	16</span>
<span class="cp">#define PSC3_SOURCE_BASE	24</span>
<span class="cp">#define PSC4_SOURCE_BASE	32</span>
<span class="cp">#define PSC5_SOURCE_BASE	40</span>
<span class="cp">#define PSC6_SOURCE_BASE	48</span>
<span class="cp">#define NUBUS_SOURCE_BASE	56</span>
<span class="cp">#define BABOON_SOURCE_BASE	64</span>

<span class="cm">/*</span>
<span class="cm"> * Maximum IRQ number is BABOON_SOURCE_BASE + 7,</span>
<span class="cm"> * giving us IRQs up through 71</span>
<span class="cm"> */</span>

<span class="cp">#define NUM_MAC_SOURCES		72</span>

<span class="cm">/*</span>
<span class="cm"> * clean way to separate IRQ into its source and index</span>
<span class="cm"> */</span>

<span class="cp">#define IRQ_SRC(irq)	(irq &gt;&gt; 3)</span>
<span class="cp">#define	IRQ_IDX(irq)	(irq &amp; 7)</span>

<span class="cm">/* VIA1 interrupts */</span>
<span class="cp">#define IRQ_VIA1_0	  (8)		</span><span class="cm">/* one second int. */</span><span class="cp"></span>
<span class="cp">#define IRQ_VIA1_1        (9)		</span><span class="cm">/* VBlank int. */</span><span class="cp"></span>
<span class="cp">#define IRQ_MAC_VBL	  IRQ_VIA1_1</span>
<span class="cp">#define IRQ_VIA1_2	  (10)		</span><span class="cm">/* ADB SR shifts complete */</span><span class="cp"></span>
<span class="cp">#define IRQ_MAC_ADB	  IRQ_VIA1_2</span>
<span class="cp">#define IRQ_MAC_ADB_SR	  IRQ_VIA1_2</span>
<span class="cp">#define IRQ_VIA1_3	  (11)		</span><span class="cm">/* ADB SR CB2 ?? */</span><span class="cp"></span>
<span class="cp">#define IRQ_MAC_ADB_SD	  IRQ_VIA1_3</span>
<span class="cp">#define IRQ_VIA1_4        (12)		</span><span class="cm">/* ADB SR ext. clock pulse */</span><span class="cp"></span>
<span class="cp">#define IRQ_MAC_ADB_CL	  IRQ_VIA1_4</span>
<span class="cp">#define IRQ_VIA1_5	  (13)</span>
<span class="cp">#define IRQ_MAC_TIMER_2	  IRQ_VIA1_5</span>
<span class="cp">#define IRQ_VIA1_6	  (14)</span>
<span class="cp">#define IRQ_MAC_TIMER_1	  IRQ_VIA1_6</span>
<span class="cp">#define IRQ_VIA1_7        (15)</span>

<span class="cm">/* VIA2/RBV interrupts */</span>
<span class="cp">#define IRQ_VIA2_0	  (16)</span>
<span class="cp">#define IRQ_MAC_SCSIDRQ	  IRQ_VIA2_0</span>
<span class="cp">#define IRQ_VIA2_1        (17)</span>
<span class="cp">#define IRQ_MAC_NUBUS	  IRQ_VIA2_1</span>
<span class="cp">#define IRQ_VIA2_2	  (18)</span>
<span class="cp">#define IRQ_VIA2_3	  (19)</span>
<span class="cp">#define IRQ_MAC_SCSI	  IRQ_VIA2_3</span>
<span class="cp">#define IRQ_VIA2_4        (20)</span>
<span class="cp">#define IRQ_VIA2_5	  (21)</span>
<span class="cp">#define IRQ_VIA2_6	  (22)</span>
<span class="cp">#define IRQ_VIA2_7        (23)</span>

<span class="cm">/* Level 3 (PSC, AV Macs only) interrupts */</span>
<span class="cp">#define IRQ_PSC3_0	  (24)</span>
<span class="cp">#define IRQ_MAC_MACE	  IRQ_PSC3_0</span>
<span class="cp">#define IRQ_PSC3_1	  (25)</span>
<span class="cp">#define IRQ_PSC3_2	  (26)</span>
<span class="cp">#define IRQ_PSC3_3	  (27)</span>

<span class="cm">/* Level 4 (PSC, AV Macs only) interrupts */</span>
<span class="cp">#define IRQ_PSC4_0	  (32)</span>
<span class="cp">#define IRQ_PSC4_1	  (33)</span>
<span class="cp">#define IRQ_MAC_SCC_A	  IRQ_PSC4_1</span>
<span class="cp">#define IRQ_PSC4_2	  (34)</span>
<span class="cp">#define IRQ_MAC_SCC_B	  IRQ_PSC4_2</span>
<span class="cp">#define IRQ_PSC4_3	  (35)</span>
<span class="cp">#define IRQ_MAC_MACE_DMA  IRQ_PSC4_3</span>

<span class="cm">/* OSS Level 4 interrupts */</span>
<span class="cp">#define IRQ_MAC_SCC	  (33)</span>

<span class="cm">/* Level 5 (PSC, AV Macs only) interrupts */</span>
<span class="cp">#define IRQ_PSC5_0	  (40)</span>
<span class="cp">#define IRQ_PSC5_1	  (41)</span>
<span class="cp">#define IRQ_PSC5_2	  (42)</span>
<span class="cp">#define IRQ_PSC5_3	  (43)</span>

<span class="cm">/* Level 6 (PSC, AV Macs only) interrupts */</span>
<span class="cp">#define IRQ_PSC6_0	  (48)</span>
<span class="cp">#define IRQ_PSC6_1	  (49)</span>
<span class="cp">#define IRQ_PSC6_2	  (50)</span>
<span class="cp">#define IRQ_PSC6_3	  (51)</span>

<span class="cm">/* Nubus interrupts (cascaded to VIA2) */</span>
<span class="cp">#define IRQ_NUBUS_9	  (56)</span>
<span class="cp">#define IRQ_NUBUS_A	  (57)</span>
<span class="cp">#define IRQ_NUBUS_B	  (58)</span>
<span class="cp">#define IRQ_NUBUS_C	  (59)</span>
<span class="cp">#define IRQ_NUBUS_D	  (60)</span>
<span class="cp">#define IRQ_NUBUS_E	  (61)</span>
<span class="cp">#define IRQ_NUBUS_F	  (62)</span>

<span class="cm">/* Baboon interrupts (cascaded to nubus slot $C) */</span>
<span class="cp">#define IRQ_BABOON_0	  (64)</span>
<span class="cp">#define IRQ_BABOON_1	  (65)</span>
<span class="cp">#define IRQ_BABOON_2	  (66)</span>
<span class="cp">#define IRQ_BABOON_3	  (67)</span>

<span class="cp">#define SLOT2IRQ(x)	  (x + 47)</span>
<span class="cp">#define IRQ2SLOT(x)	  (x - 47)</span>

<span class="cp">#define INT_CLK   24576	    </span><span class="cm">/* CLK while int_clk =2.456MHz and divide = 100 */</span><span class="cp"></span>
<span class="cp">#define INT_TICKS 246	    </span><span class="cm">/* to make sched_time = 99.902... HZ */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* asm/macints.h */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
