<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › m68k › include › asm › bootinfo.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>bootinfo.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">** asm/bootinfo.h -- Definition of the Linux/m68k boot information structure</span>
<span class="cm">**</span>
<span class="cm">** Copyright 1992 by Greg Harp</span>
<span class="cm">**</span>
<span class="cm">** This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm">** License.  See the file COPYING in the main directory of this archive</span>
<span class="cm">** for more details.</span>
<span class="cm">**</span>
<span class="cm">** Created 09/29/92 by Greg Harp</span>
<span class="cm">**</span>
<span class="cm">** 5/2/94 Roman Hodek:</span>
<span class="cm">**   Added bi_atari part of the machine dependent union bi_un; for now it</span>
<span class="cm">**   contains just a model field to distinguish between TT and Falcon.</span>
<span class="cm">** 26/7/96 Roman Zippel:</span>
<span class="cm">**   Renamed to setup.h; added some useful macros to allow gcc some</span>
<span class="cm">**   optimizations if possible.</span>
<span class="cm">** 5/10/96 Geert Uytterhoeven:</span>
<span class="cm">**   Redesign of the boot information structure; renamed to bootinfo.h again</span>
<span class="cm">** 27/11/96 Geert Uytterhoeven:</span>
<span class="cm">**   Backwards compatibility with bootinfo interface version 1.0</span>
<span class="cm">*/</span>

<span class="cp">#ifndef _M68K_BOOTINFO_H</span>
<span class="cp">#define _M68K_BOOTINFO_H</span>


    <span class="cm">/*</span>
<span class="cm">     *  Bootinfo definitions</span>
<span class="cm">     *</span>
<span class="cm">     *  This is an easily parsable and extendable structure containing all</span>
<span class="cm">     *  information to be passed from the bootstrap to the kernel.</span>
<span class="cm">     *</span>
<span class="cm">     *  This way I hope to keep all future changes back/forewards compatible.</span>
<span class="cm">     *  Thus, keep your fingers crossed...</span>
<span class="cm">     *</span>
<span class="cm">     *  This structure is copied right after the kernel bss by the bootstrap</span>
<span class="cm">     *  routine.</span>
<span class="cm">     */</span>

<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="k">struct</span> <span class="n">bi_record</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">tag</span><span class="p">;</span>			<span class="cm">/* tag ID */</span>
    <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">size</span><span class="p">;</span>		<span class="cm">/* size of record (in bytes) */</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>		<span class="cm">/* data */</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* __ASSEMBLY__ */</span><span class="cp"></span>


    <span class="cm">/*</span>
<span class="cm">     *  Tag Definitions</span>
<span class="cm">     *</span>
<span class="cm">     *  Machine independent tags start counting from 0x0000</span>
<span class="cm">     *  Machine dependent tags start counting from 0x8000</span>
<span class="cm">     */</span>

<span class="cp">#define BI_LAST			0x0000	</span><span class="cm">/* last record (sentinel) */</span><span class="cp"></span>
<span class="cp">#define BI_MACHTYPE		0x0001	</span><span class="cm">/* machine type (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_CPUTYPE		0x0002	</span><span class="cm">/* cpu type (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_FPUTYPE		0x0003	</span><span class="cm">/* fpu type (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_MMUTYPE		0x0004	</span><span class="cm">/* mmu type (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_MEMCHUNK		0x0005	</span><span class="cm">/* memory chunk address and size */</span><span class="cp"></span>
					<span class="cm">/* (struct mem_info) */</span>
<span class="cp">#define BI_RAMDISK		0x0006	</span><span class="cm">/* ramdisk address and size */</span><span class="cp"></span>
					<span class="cm">/* (struct mem_info) */</span>
<span class="cp">#define BI_COMMAND_LINE		0x0007	</span><span class="cm">/* kernel command line parameters */</span><span class="cp"></span>
					<span class="cm">/* (string) */</span>

    <span class="cm">/*</span>
<span class="cm">     *  Amiga-specific tags</span>
<span class="cm">     */</span>

<span class="cp">#define BI_AMIGA_MODEL		0x8000	</span><span class="cm">/* model (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_AMIGA_AUTOCON	0x8001	</span><span class="cm">/* AutoConfig device */</span><span class="cp"></span>
					<span class="cm">/* (struct ConfigDev) */</span>
<span class="cp">#define BI_AMIGA_CHIP_SIZE	0x8002	</span><span class="cm">/* size of Chip RAM (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_AMIGA_VBLANK		0x8003	</span><span class="cm">/* VBLANK frequency (u_char) */</span><span class="cp"></span>
<span class="cp">#define BI_AMIGA_PSFREQ		0x8004	</span><span class="cm">/* power supply frequency (u_char) */</span><span class="cp"></span>
<span class="cp">#define BI_AMIGA_ECLOCK		0x8005	</span><span class="cm">/* EClock frequency (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_AMIGA_CHIPSET	0x8006	</span><span class="cm">/* native chipset present (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_AMIGA_SERPER		0x8007	</span><span class="cm">/* serial port period (u_short) */</span><span class="cp"></span>

    <span class="cm">/*</span>
<span class="cm">     *  Atari-specific tags</span>
<span class="cm">     */</span>

<span class="cp">#define BI_ATARI_MCH_COOKIE	0x8000	</span><span class="cm">/* _MCH cookie from TOS (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_ATARI_MCH_TYPE	0x8001	</span><span class="cm">/* special machine type (u_long) */</span><span class="cp"></span>
					<span class="cm">/* (values are ATARI_MACH_* defines */</span>

<span class="cm">/* mch_cookie values (upper word) */</span>
<span class="cp">#define ATARI_MCH_ST		0</span>
<span class="cp">#define ATARI_MCH_STE		1</span>
<span class="cp">#define ATARI_MCH_TT		2</span>
<span class="cp">#define ATARI_MCH_FALCON	3</span>

<span class="cm">/* mch_type values */</span>
<span class="cp">#define ATARI_MACH_NORMAL	0	</span><span class="cm">/* no special machine type */</span><span class="cp"></span>
<span class="cp">#define ATARI_MACH_MEDUSA	1	</span><span class="cm">/* Medusa 040 */</span><span class="cp"></span>
<span class="cp">#define ATARI_MACH_HADES	2	</span><span class="cm">/* Hades 040 or 060 */</span><span class="cp"></span>
<span class="cp">#define ATARI_MACH_AB40		3	</span><span class="cm">/* Afterburner040 on Falcon */</span><span class="cp"></span>

    <span class="cm">/*</span>
<span class="cm">     *  VME-specific tags</span>
<span class="cm">     */</span>

<span class="cp">#define BI_VME_TYPE		0x8000	</span><span class="cm">/* VME sub-architecture (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_VME_BRDINFO		0x8001	</span><span class="cm">/* VME board information (struct) */</span><span class="cp"></span>

<span class="cm">/* BI_VME_TYPE codes */</span>
<span class="cp">#define	VME_TYPE_TP34V		0x0034	</span><span class="cm">/* Tadpole TP34V */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_MVME147	0x0147	</span><span class="cm">/* Motorola MVME147 */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_MVME162	0x0162	</span><span class="cm">/* Motorola MVME162 */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_MVME166	0x0166	</span><span class="cm">/* Motorola MVME166 */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_MVME167	0x0167	</span><span class="cm">/* Motorola MVME167 */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_MVME172	0x0172	</span><span class="cm">/* Motorola MVME172 */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_MVME177	0x0177	</span><span class="cm">/* Motorola MVME177 */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_BVME4000	0x4000	</span><span class="cm">/* BVM Ltd. BVME4000 */</span><span class="cp"></span>
<span class="cp">#define VME_TYPE_BVME6000	0x6000	</span><span class="cm">/* BVM Ltd. BVME6000 */</span><span class="cp"></span>

<span class="cm">/* BI_VME_BRDINFO is a 32 byte struct as returned by the Bug code on</span>
<span class="cm"> * Motorola VME boards.  Contains board number, Bug version, board</span>
<span class="cm"> * configuration options, etc.  See include/asm/mvme16xhw.h for details.</span>
<span class="cm"> */</span>


    <span class="cm">/*</span>
<span class="cm">     *  Macintosh-specific tags (all u_long)</span>
<span class="cm">     */</span>

<span class="cp">#define BI_MAC_MODEL		0x8000	</span><span class="cm">/* Mac Gestalt ID (model type) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_VADDR		0x8001	</span><span class="cm">/* Mac video base address */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_VDEPTH		0x8002	</span><span class="cm">/* Mac video depth */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_VROW		0x8003	</span><span class="cm">/* Mac video rowbytes */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_VDIM		0x8004	</span><span class="cm">/* Mac video dimensions */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_VLOGICAL		0x8005	</span><span class="cm">/* Mac video logical base */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_SCCBASE		0x8006	</span><span class="cm">/* Mac SCC base address */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_BTIME		0x8007	</span><span class="cm">/* Mac boot time */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_GMTBIAS		0x8008	</span><span class="cm">/* Mac GMT timezone offset */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_MEMSIZE		0x8009	</span><span class="cm">/* Mac RAM size (sanity check) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_CPUID		0x800a	</span><span class="cm">/* Mac CPU type (sanity check) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_ROMBASE		0x800b	</span><span class="cm">/* Mac system ROM base address */</span><span class="cp"></span>

    <span class="cm">/*</span>
<span class="cm">     *  Macintosh hardware profile data - unused, see macintosh.h for</span>
<span class="cm">     *  reasonable type values</span>
<span class="cm">     */</span>

<span class="cp">#define BI_MAC_VIA1BASE		0x8010	</span><span class="cm">/* Mac VIA1 base address (always present) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_VIA2BASE		0x8011	</span><span class="cm">/* Mac VIA2 base address (type varies) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_VIA2TYPE		0x8012	</span><span class="cm">/* Mac VIA2 type (VIA, RBV, OSS) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_ADBTYPE		0x8013	</span><span class="cm">/* Mac ADB interface type */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_ASCBASE		0x8014	</span><span class="cm">/* Mac Apple Sound Chip base address */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_SCSI5380		0x8015	</span><span class="cm">/* Mac NCR 5380 SCSI (base address, multi) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_SCSIDMA		0x8016	</span><span class="cm">/* Mac SCSI DMA (base address) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_SCSI5396		0x8017	</span><span class="cm">/* Mac NCR 53C96 SCSI (base address, multi) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_IDETYPE		0x8018	</span><span class="cm">/* Mac IDE interface type */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_IDEBASE		0x8019	</span><span class="cm">/* Mac IDE interface base address */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_NUBUS		0x801a	</span><span class="cm">/* Mac Nubus type (none, regular, pseudo) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_SLOTMASK		0x801b	</span><span class="cm">/* Mac Nubus slots present */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_SCCTYPE		0x801c	</span><span class="cm">/* Mac SCC serial type (normal, IOP) */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_ETHTYPE		0x801d	</span><span class="cm">/* Mac builtin ethernet type (Sonic, MACE */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_ETHBASE		0x801e	</span><span class="cm">/* Mac builtin ethernet base address */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_PMU		0x801f	</span><span class="cm">/* Mac power management / poweroff hardware */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_IOP_SWIM		0x8020	</span><span class="cm">/* Mac SWIM floppy IOP */</span><span class="cp"></span>
<span class="cp">#define BI_MAC_IOP_ADB		0x8021	</span><span class="cm">/* Mac ADB IOP */</span><span class="cp"></span>

    <span class="cm">/*</span>
<span class="cm">     * Mac: compatibility with old booter data format (temporarily)</span>
<span class="cm">     * Fields unused with the new bootinfo can be deleted now; instead of</span>
<span class="cm">     * adding new fields the struct might be splitted into a hardware address</span>
<span class="cm">     * part and a hardware type part</span>
<span class="cm">     */</span>

<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="k">struct</span> <span class="n">mac_booter_data</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videoaddr</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videorow</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videodepth</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dimensions</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">args</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">boottime</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">gmtbias</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">bootver</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videological</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sccbase</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">id</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">memsize</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">serialmf</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">serialhsk</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">serialgpi</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">printmf</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">printhsk</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">printgpi</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">cpuid</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rombase</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">adbdelay</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">timedbra</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">mac_booter_data</span>
	<span class="n">mac_bi_data</span><span class="p">;</span>

<span class="cp">#endif</span>

    <span class="cm">/*</span>
<span class="cm">     *  Apollo-specific tags</span>
<span class="cm">     */</span>

<span class="cp">#define BI_APOLLO_MODEL         0x8000  </span><span class="cm">/* model (u_long) */</span><span class="cp"></span>

    <span class="cm">/*</span>
<span class="cm">     *  HP300-specific tags</span>
<span class="cm">     */</span>

<span class="cp">#define BI_HP300_MODEL		0x8000	</span><span class="cm">/* model (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_HP300_UART_SCODE	0x8001	</span><span class="cm">/* UART select code (u_long) */</span><span class="cp"></span>
<span class="cp">#define BI_HP300_UART_ADDR	0x8002	</span><span class="cm">/* phys. addr of UART (u_long) */</span><span class="cp"></span>

    <span class="cm">/*</span>
<span class="cm">     * Stuff for bootinfo interface versioning</span>
<span class="cm">     *</span>
<span class="cm">     * At the start of kernel code, a &#39;struct bootversion&#39; is located.</span>
<span class="cm">     * bootstrap checks for a matching version of the interface before booting</span>
<span class="cm">     * a kernel, to avoid user confusion if kernel and bootstrap don&#39;t work</span>
<span class="cm">     * together :-)</span>
<span class="cm">     *</span>
<span class="cm">     * If incompatible changes are made to the bootinfo interface, the major</span>
<span class="cm">     * number below should be stepped (and the minor reset to 0) for the</span>
<span class="cm">     * appropriate machine. If a change is backward-compatible, the minor</span>
<span class="cm">     * should be stepped. &quot;Backwards-compatible&quot; means that booting will work,</span>
<span class="cm">     * but certain features may not.</span>
<span class="cm">     */</span>

<span class="cp">#define BOOTINFOV_MAGIC			0x4249561A	</span><span class="cm">/* &#39;BIV^Z&#39; */</span><span class="cp"></span>
<span class="cp">#define MK_BI_VERSION(major,minor)	(((major)&lt;&lt;16)+(minor))</span>
<span class="cp">#define BI_VERSION_MAJOR(v)		(((v) &gt;&gt; 16) &amp; 0xffff)</span>
<span class="cp">#define BI_VERSION_MINOR(v)		((v) &amp; 0xffff)</span>

<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="k">struct</span> <span class="n">bootversion</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">short</span> <span class="n">branch</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">magic</span><span class="p">;</span>
    <span class="k">struct</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">machtype</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">version</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">machversions</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="p">};</span>

<span class="cp">#endif </span><span class="cm">/* __ASSEMBLY__ */</span><span class="cp"></span>

<span class="cp">#define AMIGA_BOOTI_VERSION    MK_BI_VERSION( 2, 0 )</span>
<span class="cp">#define ATARI_BOOTI_VERSION    MK_BI_VERSION( 2, 1 )</span>
<span class="cp">#define MAC_BOOTI_VERSION      MK_BI_VERSION( 2, 0 )</span>
<span class="cp">#define MVME147_BOOTI_VERSION  MK_BI_VERSION( 2, 0 )</span>
<span class="cp">#define MVME16x_BOOTI_VERSION  MK_BI_VERSION( 2, 0 )</span>
<span class="cp">#define BVME6000_BOOTI_VERSION MK_BI_VERSION( 2, 0 )</span>
<span class="cp">#define Q40_BOOTI_VERSION      MK_BI_VERSION( 2, 0 )</span>
<span class="cp">#define HP300_BOOTI_VERSION    MK_BI_VERSION( 2, 0 )</span>

<span class="cp">#ifdef BOOTINFO_COMPAT_1_0</span>

    <span class="cm">/*</span>
<span class="cm">     *  Backwards compatibility with bootinfo interface version 1.0</span>
<span class="cm">     */</span>

<span class="cp">#define COMPAT_AMIGA_BOOTI_VERSION    MK_BI_VERSION( 1, 0 )</span>
<span class="cp">#define COMPAT_ATARI_BOOTI_VERSION    MK_BI_VERSION( 1, 0 )</span>
<span class="cp">#define COMPAT_MAC_BOOTI_VERSION      MK_BI_VERSION( 1, 0 )</span>

<span class="cp">#include &lt;linux/zorro.h&gt;</span>

<span class="cp">#define COMPAT_NUM_AUTO    16</span>

<span class="k">struct</span> <span class="n">compat_bi_Amiga</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">model</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">num_autocon</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">ConfigDev</span> <span class="n">autocon</span><span class="p">[</span><span class="n">COMPAT_NUM_AUTO</span><span class="p">];</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">chip_size</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">vblank</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">psfreq</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">eclock</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">chipset</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hw_present</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">compat_bi_Atari</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">hw_present</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">mch_cookie</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#ifndef __ASSEMBLY__</span>

<span class="k">struct</span> <span class="n">compat_bi_Macintosh</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videoaddr</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videorow</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videodepth</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">dimensions</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">args</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">boottime</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">gmtbias</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">bootver</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">videological</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">sccbase</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">id</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">memsize</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">serialmf</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">serialhsk</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">serialgpi</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">printmf</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">printhsk</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">printgpi</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">cpuid</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rombase</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">adbdelay</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">timedbra</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">compat_mem_info</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">addr</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">size</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define COMPAT_NUM_MEMINFO  4</span>

<span class="cp">#define COMPAT_CPUB_68020 0</span>
<span class="cp">#define COMPAT_CPUB_68030 1</span>
<span class="cp">#define COMPAT_CPUB_68040 2</span>
<span class="cp">#define COMPAT_CPUB_68060 3</span>
<span class="cp">#define COMPAT_FPUB_68881 5</span>
<span class="cp">#define COMPAT_FPUB_68882 6</span>
<span class="cp">#define COMPAT_FPUB_68040 7</span>
<span class="cp">#define COMPAT_FPUB_68060 8</span>

<span class="cp">#define COMPAT_CPU_68020    (1&lt;&lt;COMPAT_CPUB_68020)</span>
<span class="cp">#define COMPAT_CPU_68030    (1&lt;&lt;COMPAT_CPUB_68030)</span>
<span class="cp">#define COMPAT_CPU_68040    (1&lt;&lt;COMPAT_CPUB_68040)</span>
<span class="cp">#define COMPAT_CPU_68060    (1&lt;&lt;COMPAT_CPUB_68060)</span>
<span class="cp">#define COMPAT_CPU_MASK     (31)</span>
<span class="cp">#define COMPAT_FPU_68881    (1&lt;&lt;COMPAT_FPUB_68881)</span>
<span class="cp">#define COMPAT_FPU_68882    (1&lt;&lt;COMPAT_FPUB_68882)</span>
<span class="cp">#define COMPAT_FPU_68040    (1&lt;&lt;COMPAT_FPUB_68040)</span>
<span class="cp">#define COMPAT_FPU_68060    (1&lt;&lt;COMPAT_FPUB_68060)</span>
<span class="cp">#define COMPAT_FPU_MASK     (0xfe0)</span>

<span class="cp">#define COMPAT_CL_SIZE      (256)</span>

<span class="k">struct</span> <span class="n">compat_bootinfo</span> <span class="p">{</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">machtype</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">cputype</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">compat_mem_info</span> <span class="n">memory</span><span class="p">[</span><span class="n">COMPAT_NUM_MEMINFO</span><span class="p">];</span>
    <span class="kt">int</span> <span class="n">num_memory</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ramdisk_size</span><span class="p">;</span>
    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">ramdisk_addr</span><span class="p">;</span>
    <span class="kt">char</span> <span class="n">command_line</span><span class="p">[</span><span class="n">COMPAT_CL_SIZE</span><span class="p">];</span>
    <span class="k">union</span> <span class="p">{</span>
	<span class="k">struct</span> <span class="n">compat_bi_Amiga</span>     <span class="n">bi_ami</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">compat_bi_Atari</span>     <span class="n">bi_ata</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">compat_bi_Macintosh</span> <span class="n">bi_mac</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">bi_un</span><span class="p">;</span>
<span class="p">};</span>

<span class="cp">#define bi_amiga	bi_un.bi_ami</span>
<span class="cp">#define bi_atari	bi_un.bi_ata</span>
<span class="cp">#define bi_mac		bi_un.bi_mac</span>

<span class="cp">#endif </span><span class="cm">/* BOOTINFO_COMPAT_1_0 */</span><span class="cp"></span>


<span class="cp">#endif </span><span class="cm">/* _M68K_BOOTINFO_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
