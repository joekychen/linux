<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › m68k › include › asm › MC68EZ328.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>MC68EZ328.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* include/asm-m68knommu/MC68EZ328.h: &#39;EZ328 control registers</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 1999  Vladimir Gurevich &lt;vgurevic@cisco.com&gt;</span>
<span class="cm"> *                     Bear &amp; Hare Software, Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * Based on include/asm-m68knommu/MC68332.h</span>
<span class="cm"> * Copyright (C) 1998  Kenneth Albanowski &lt;kjahds@kjahds.com&gt;,</span>
<span class="cm"> *                     The Silver Hammer Group, Ltd.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _MC68EZ328_H_</span>
<span class="cp">#define _MC68EZ328_H_</span>

<span class="cp">#define BYTE_REF(addr) (*((volatile unsigned char*)addr))</span>
<span class="cp">#define WORD_REF(addr) (*((volatile unsigned short*)addr))</span>
<span class="cp">#define LONG_REF(addr) (*((volatile unsigned long*)addr))</span>

<span class="cp">#define PUT_FIELD(field, val) (((val) &lt;&lt; field##_SHIFT) &amp; field##_MASK)</span>
<span class="cp">#define GET_FIELD(reg, field) (((reg) &amp; field##_MASK) &gt;&gt; field##_SHIFT)</span>

<span class="cm">/********** </span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF0xx -- System Control</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>
 
<span class="cm">/*</span>
<span class="cm"> * System Control Register (SCR)</span>
<span class="cm"> */</span>
<span class="cp">#define SCR_ADDR	0xfffff000</span>
<span class="cp">#define SCR		BYTE_REF(SCR_ADDR)</span>

<span class="cp">#define SCR_WDTH8	0x01	</span><span class="cm">/* 8-Bit Width Select */</span><span class="cp"></span>
<span class="cp">#define SCR_DMAP	0x04	</span><span class="cm">/* Double Map */</span><span class="cp"></span>
<span class="cp">#define SCR_SO		0x08	</span><span class="cm">/* Supervisor Only */</span><span class="cp"></span>
<span class="cp">#define SCR_BETEN	0x10	</span><span class="cm">/* Bus-Error Time-Out Enable */</span><span class="cp"></span>
<span class="cp">#define SCR_PRV		0x20	</span><span class="cm">/* Privilege Violation */</span><span class="cp"></span>
<span class="cp">#define SCR_WPV		0x40	</span><span class="cm">/* Write Protect Violation */</span><span class="cp"></span>
<span class="cp">#define SCR_BETO	0x80	</span><span class="cm">/* Bus-Error TimeOut */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Silicon ID Register (Mask Revision Register (MRR) for &#39;328 Compatibility)</span>
<span class="cm"> */</span>
<span class="cp">#define MRR_ADDR 0xfffff004</span>
<span class="cp">#define MRR	 LONG_REF(MRR_ADDR)</span>

<span class="cm">/********** </span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF1xx -- Chip-Select logic</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>
 
<span class="cm">/*</span>
<span class="cm"> * Chip Select Group Base Registers </span>
<span class="cm"> */</span>
<span class="cp">#define CSGBA_ADDR	0xfffff100</span>
<span class="cp">#define CSGBB_ADDR	0xfffff102</span>

<span class="cp">#define CSGBC_ADDR	0xfffff104</span>
<span class="cp">#define CSGBD_ADDR	0xfffff106</span>

<span class="cp">#define CSGBA		WORD_REF(CSGBA_ADDR)</span>
<span class="cp">#define CSGBB		WORD_REF(CSGBB_ADDR)</span>
<span class="cp">#define CSGBC		WORD_REF(CSGBC_ADDR)</span>
<span class="cp">#define CSGBD		WORD_REF(CSGBD_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * Chip Select Registers </span>
<span class="cm"> */</span>
<span class="cp">#define CSA_ADDR	0xfffff110</span>
<span class="cp">#define CSB_ADDR	0xfffff112</span>
<span class="cp">#define CSC_ADDR	0xfffff114</span>
<span class="cp">#define CSD_ADDR	0xfffff116</span>

<span class="cp">#define CSA		WORD_REF(CSA_ADDR)</span>
<span class="cp">#define CSB		WORD_REF(CSB_ADDR)</span>
<span class="cp">#define CSC		WORD_REF(CSC_ADDR)</span>
<span class="cp">#define CSD		WORD_REF(CSD_ADDR)</span>

<span class="cp">#define CSA_EN		0x0001		</span><span class="cm">/* Chip-Select Enable */</span><span class="cp"></span>
<span class="cp">#define CSA_SIZ_MASK	0x000e		</span><span class="cm">/* Chip-Select Size */</span><span class="cp"></span>
<span class="cp">#define CSA_SIZ_SHIFT   1</span>
<span class="cp">#define CSA_WS_MASK	0x0070		</span><span class="cm">/* Wait State */</span><span class="cp"></span>
<span class="cp">#define CSA_WS_SHIFT    4</span>
<span class="cp">#define CSA_BSW		0x0080		</span><span class="cm">/* Data Bus Width */</span><span class="cp"></span>
<span class="cp">#define CSA_FLASH	0x0100		</span><span class="cm">/* FLASH Memory Support */</span><span class="cp"></span>
<span class="cp">#define CSA_RO		0x8000		</span><span class="cm">/* Read-Only */</span><span class="cp"></span>

<span class="cp">#define CSB_EN		0x0001		</span><span class="cm">/* Chip-Select Enable */</span><span class="cp"></span>
<span class="cp">#define CSB_SIZ_MASK	0x000e		</span><span class="cm">/* Chip-Select Size */</span><span class="cp"></span>
<span class="cp">#define CSB_SIZ_SHIFT   1</span>
<span class="cp">#define CSB_WS_MASK	0x0070		</span><span class="cm">/* Wait State */</span><span class="cp"></span>
<span class="cp">#define CSB_WS_SHIFT    4</span>
<span class="cp">#define CSB_BSW		0x0080		</span><span class="cm">/* Data Bus Width */</span><span class="cp"></span>
<span class="cp">#define CSB_FLASH	0x0100		</span><span class="cm">/* FLASH Memory Support */</span><span class="cp"></span>
<span class="cp">#define CSB_UPSIZ_MASK	0x1800		</span><span class="cm">/* Unprotected memory block size */</span><span class="cp"></span>
<span class="cp">#define CSB_UPSIZ_SHIFT 11</span>
<span class="cp">#define CSB_ROP		0x2000		</span><span class="cm">/* Readonly if protected */</span><span class="cp"></span>
<span class="cp">#define CSB_SOP		0x4000		</span><span class="cm">/* Supervisor only if protected */</span><span class="cp"></span>
<span class="cp">#define CSB_RO		0x8000		</span><span class="cm">/* Read-Only */</span><span class="cp"></span>

<span class="cp">#define CSC_EN		0x0001		</span><span class="cm">/* Chip-Select Enable */</span><span class="cp"></span>
<span class="cp">#define CSC_SIZ_MASK	0x000e		</span><span class="cm">/* Chip-Select Size */</span><span class="cp"></span>
<span class="cp">#define CSC_SIZ_SHIFT   1</span>
<span class="cp">#define CSC_WS_MASK	0x0070		</span><span class="cm">/* Wait State */</span><span class="cp"></span>
<span class="cp">#define CSC_WS_SHIFT    4</span>
<span class="cp">#define CSC_BSW		0x0080		</span><span class="cm">/* Data Bus Width */</span><span class="cp"></span>
<span class="cp">#define CSC_FLASH	0x0100		</span><span class="cm">/* FLASH Memory Support */</span><span class="cp"></span>
<span class="cp">#define CSC_UPSIZ_MASK	0x1800		</span><span class="cm">/* Unprotected memory block size */</span><span class="cp"></span>
<span class="cp">#define CSC_UPSIZ_SHIFT 11</span>
<span class="cp">#define CSC_ROP		0x2000		</span><span class="cm">/* Readonly if protected */</span><span class="cp"></span>
<span class="cp">#define CSC_SOP		0x4000		</span><span class="cm">/* Supervisor only if protected */</span><span class="cp"></span>
<span class="cp">#define CSC_RO		0x8000		</span><span class="cm">/* Read-Only */</span><span class="cp"></span>

<span class="cp">#define CSD_EN		0x0001		</span><span class="cm">/* Chip-Select Enable */</span><span class="cp"></span>
<span class="cp">#define CSD_SIZ_MASK	0x000e		</span><span class="cm">/* Chip-Select Size */</span><span class="cp"></span>
<span class="cp">#define CSD_SIZ_SHIFT   1</span>
<span class="cp">#define CSD_WS_MASK	0x0070		</span><span class="cm">/* Wait State */</span><span class="cp"></span>
<span class="cp">#define CSD_WS_SHIFT    4</span>
<span class="cp">#define CSD_BSW		0x0080		</span><span class="cm">/* Data Bus Width */</span><span class="cp"></span>
<span class="cp">#define CSD_FLASH	0x0100		</span><span class="cm">/* FLASH Memory Support */</span><span class="cp"></span>
<span class="cp">#define CSD_DRAM	0x0200		</span><span class="cm">/* Dram Selection */</span><span class="cp"></span>
<span class="cp">#define	CSD_COMB	0x0400		</span><span class="cm">/* Combining */</span><span class="cp"></span>
<span class="cp">#define CSD_UPSIZ_MASK	0x1800		</span><span class="cm">/* Unprotected memory block size */</span><span class="cp"></span>
<span class="cp">#define CSD_UPSIZ_SHIFT 11</span>
<span class="cp">#define CSD_ROP		0x2000		</span><span class="cm">/* Readonly if protected */</span><span class="cp"></span>
<span class="cp">#define CSD_SOP		0x4000		</span><span class="cm">/* Supervisor only if protected */</span><span class="cp"></span>
<span class="cp">#define CSD_RO		0x8000		</span><span class="cm">/* Read-Only */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Emulation Chip-Select Register </span>
<span class="cm"> */</span>
<span class="cp">#define EMUCS_ADDR	0xfffff118</span>
<span class="cp">#define EMUCS		WORD_REF(EMUCS_ADDR)</span>

<span class="cp">#define EMUCS_WS_MASK	0x0070</span>
<span class="cp">#define EMUCS_WS_SHIFT	4</span>

<span class="cm">/********** </span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF2xx -- Phase Locked Loop (PLL) &amp; Power Control</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * PLL Control Register </span>
<span class="cm"> */</span>
<span class="cp">#define PLLCR_ADDR	0xfffff200</span>
<span class="cp">#define PLLCR		WORD_REF(PLLCR_ADDR)</span>

<span class="cp">#define PLLCR_DISPLL	       0x0008	</span><span class="cm">/* Disable PLL */</span><span class="cp"></span>
<span class="cp">#define PLLCR_CLKEN	       0x0010	</span><span class="cm">/* Clock (CLKO pin) enable */</span><span class="cp"></span>
<span class="cp">#define PLLCR_PRESC	       0x0020	</span><span class="cm">/* VCO prescaler */</span><span class="cp"></span>
<span class="cp">#define PLLCR_SYSCLK_SEL_MASK  0x0700	</span><span class="cm">/* System Clock Selection */</span><span class="cp"></span>
<span class="cp">#define PLLCR_SYSCLK_SEL_SHIFT 8</span>
<span class="cp">#define PLLCR_LCDCLK_SEL_MASK  0x3800	</span><span class="cm">/* LCD Clock Selection */</span><span class="cp"></span>
<span class="cp">#define PLLCR_LCDCLK_SEL_SHIFT 11</span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define PLLCR_PIXCLK_SEL_MASK	PLLCR_LCDCLK_SEL_MASK</span>
<span class="cp">#define PLLCR_PIXCLK_SEL_SHIFT	PLLCR_LCDCLK_SEL_SHIFT</span>

<span class="cm">/*</span>
<span class="cm"> * PLL Frequency Select Register</span>
<span class="cm"> */</span>
<span class="cp">#define PLLFSR_ADDR	0xfffff202</span>
<span class="cp">#define PLLFSR		WORD_REF(PLLFSR_ADDR)</span>

<span class="cp">#define PLLFSR_PC_MASK	0x00ff		</span><span class="cm">/* P Count */</span><span class="cp"></span>
<span class="cp">#define PLLFSR_PC_SHIFT 0</span>
<span class="cp">#define PLLFSR_QC_MASK	0x0f00		</span><span class="cm">/* Q Count */</span><span class="cp"></span>
<span class="cp">#define PLLFSR_QC_SHIFT 8</span>
<span class="cp">#define PLLFSR_PROT	0x4000		</span><span class="cm">/* Protect P &amp; Q */</span><span class="cp"></span>
<span class="cp">#define PLLFSR_CLK32	0x8000		</span><span class="cm">/* Clock 32 (kHz) */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Power Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define PCTRL_ADDR	0xfffff207</span>
<span class="cp">#define PCTRL		BYTE_REF(PCTRL_ADDR)</span>

<span class="cp">#define PCTRL_WIDTH_MASK	0x1f	</span><span class="cm">/* CPU Clock bursts width */</span><span class="cp"></span>
<span class="cp">#define PCTRL_WIDTH_SHIFT	0</span>
<span class="cp">#define PCTRL_PCEN		0x80	</span><span class="cm">/* Power Control Enable */</span><span class="cp"></span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF3xx -- Interrupt Controller</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/* </span>
<span class="cm"> * Interrupt Vector Register</span>
<span class="cm"> */</span>
<span class="cp">#define IVR_ADDR	0xfffff300</span>
<span class="cp">#define IVR		BYTE_REF(IVR_ADDR)</span>

<span class="cp">#define IVR_VECTOR_MASK 0xF8</span>

<span class="cm">/*</span>
<span class="cm"> * Interrupt control Register</span>
<span class="cm"> */</span>
<span class="cp">#define ICR_ADDR	0xfffff302</span>
<span class="cp">#define ICR		WORD_REF(ICR_ADDR)</span>

<span class="cp">#define ICR_POL5	0x0080	</span><span class="cm">/* Polarity Control for IRQ5 */</span><span class="cp"></span>
<span class="cp">#define ICR_ET6		0x0100	</span><span class="cm">/* Edge Trigger Select for IRQ6 */</span><span class="cp"></span>
<span class="cp">#define ICR_ET3		0x0200	</span><span class="cm">/* Edge Trigger Select for IRQ3 */</span><span class="cp"></span>
<span class="cp">#define ICR_ET2		0x0400	</span><span class="cm">/* Edge Trigger Select for IRQ2 */</span><span class="cp"></span>
<span class="cp">#define ICR_ET1		0x0800	</span><span class="cm">/* Edge Trigger Select for IRQ1 */</span><span class="cp"></span>
<span class="cp">#define ICR_POL6	0x1000	</span><span class="cm">/* Polarity Control for IRQ6 */</span><span class="cp"></span>
<span class="cp">#define ICR_POL3	0x2000	</span><span class="cm">/* Polarity Control for IRQ3 */</span><span class="cp"></span>
<span class="cp">#define ICR_POL2	0x4000	</span><span class="cm">/* Polarity Control for IRQ2 */</span><span class="cp"></span>
<span class="cp">#define ICR_POL1	0x8000	</span><span class="cm">/* Polarity Control for IRQ1 */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Interrupt Mask Register</span>
<span class="cm"> */</span>
<span class="cp">#define IMR_ADDR	0xfffff304</span>
<span class="cp">#define IMR		LONG_REF(IMR_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * Define the names for bit positions first. This is useful for </span>
<span class="cm"> * request_irq</span>
<span class="cm"> */</span>
<span class="cp">#define SPI_IRQ_NUM	0	</span><span class="cm">/* SPI interrupt */</span><span class="cp"></span>
<span class="cp">#define TMR_IRQ_NUM	1	</span><span class="cm">/* Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define UART_IRQ_NUM	2	</span><span class="cm">/* UART interrupt */</span><span class="cp">	</span>
<span class="cp">#define	WDT_IRQ_NUM	3	</span><span class="cm">/* Watchdog Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define RTC_IRQ_NUM	4	</span><span class="cm">/* RTC interrupt */</span><span class="cp"></span>
<span class="cp">#define	KB_IRQ_NUM	6	</span><span class="cm">/* Keyboard Interrupt */</span><span class="cp"></span>
<span class="cp">#define PWM_IRQ_NUM	7	</span><span class="cm">/* Pulse-Width Modulator int. */</span><span class="cp"></span>
<span class="cp">#define	INT0_IRQ_NUM	8	</span><span class="cm">/* External INT0 */</span><span class="cp"></span>
<span class="cp">#define	INT1_IRQ_NUM	9	</span><span class="cm">/* External INT1 */</span><span class="cp"></span>
<span class="cp">#define	INT2_IRQ_NUM	10	</span><span class="cm">/* External INT2 */</span><span class="cp"></span>
<span class="cp">#define	INT3_IRQ_NUM	11	</span><span class="cm">/* External INT3 */</span><span class="cp"></span>
<span class="cp">#define IRQ1_IRQ_NUM	16	</span><span class="cm">/* IRQ1 */</span><span class="cp"></span>
<span class="cp">#define IRQ2_IRQ_NUM	17	</span><span class="cm">/* IRQ2 */</span><span class="cp"></span>
<span class="cp">#define IRQ3_IRQ_NUM	18	</span><span class="cm">/* IRQ3 */</span><span class="cp"></span>
<span class="cp">#define IRQ6_IRQ_NUM	19	</span><span class="cm">/* IRQ6 */</span><span class="cp"></span>
<span class="cp">#define IRQ5_IRQ_NUM	20	</span><span class="cm">/* IRQ5 */</span><span class="cp"></span>
<span class="cp">#define SAM_IRQ_NUM	22	</span><span class="cm">/* Sampling Timer for RTC */</span><span class="cp"></span>
<span class="cp">#define EMIQ_IRQ_NUM	23	</span><span class="cm">/* Emulator Interrupt */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define SPIM_IRQ_NUM	SPI_IRQ_NUM</span>
<span class="cp">#define TMR1_IRQ_NUM	TMR_IRQ_NUM</span>

<span class="cm">/* </span>
<span class="cm"> * Here go the bitmasks themselves</span>
<span class="cm"> */</span>
<span class="cp">#define IMR_MSPI 	(1 &lt;&lt; SPI_IRQ_NUM)	</span><span class="cm">/* Mask SPI interrupt */</span><span class="cp"></span>
<span class="cp">#define	IMR_MTMR	(1 &lt;&lt; TMR_IRQ_NUM)	</span><span class="cm">/* Mask Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define IMR_MUART	(1 &lt;&lt; UART_IRQ_NUM)	</span><span class="cm">/* Mask UART interrupt */</span><span class="cp">	</span>
<span class="cp">#define	IMR_MWDT	(1 &lt;&lt; WDT_IRQ_NUM)	</span><span class="cm">/* Mask Watchdog Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define IMR_MRTC	(1 &lt;&lt; RTC_IRQ_NUM)	</span><span class="cm">/* Mask RTC interrupt */</span><span class="cp"></span>
<span class="cp">#define	IMR_MKB		(1 &lt;&lt; KB_IRQ_NUM)	</span><span class="cm">/* Mask Keyboard Interrupt */</span><span class="cp"></span>
<span class="cp">#define IMR_MPWM	(1 &lt;&lt; PWM_IRQ_NUM)	</span><span class="cm">/* Mask Pulse-Width Modulator int. */</span><span class="cp"></span>
<span class="cp">#define	IMR_MINT0	(1 &lt;&lt; INT0_IRQ_NUM)	</span><span class="cm">/* Mask External INT0 */</span><span class="cp"></span>
<span class="cp">#define	IMR_MINT1	(1 &lt;&lt; INT1_IRQ_NUM)	</span><span class="cm">/* Mask External INT1 */</span><span class="cp"></span>
<span class="cp">#define	IMR_MINT2	(1 &lt;&lt; INT2_IRQ_NUM)	</span><span class="cm">/* Mask External INT2 */</span><span class="cp"></span>
<span class="cp">#define	IMR_MINT3	(1 &lt;&lt; INT3_IRQ_NUM)	</span><span class="cm">/* Mask External INT3 */</span><span class="cp"></span>
<span class="cp">#define IMR_MIRQ1	(1 &lt;&lt; IRQ1_IRQ_NUM)	</span><span class="cm">/* Mask IRQ1 */</span><span class="cp"></span>
<span class="cp">#define IMR_MIRQ2	(1 &lt;&lt; IRQ2_IRQ_NUM)	</span><span class="cm">/* Mask IRQ2 */</span><span class="cp"></span>
<span class="cp">#define IMR_MIRQ3	(1 &lt;&lt; IRQ3_IRQ_NUM)	</span><span class="cm">/* Mask IRQ3 */</span><span class="cp"></span>
<span class="cp">#define IMR_MIRQ6	(1 &lt;&lt; IRQ6_IRQ_NUM)	</span><span class="cm">/* Mask IRQ6 */</span><span class="cp"></span>
<span class="cp">#define IMR_MIRQ5	(1 &lt;&lt; IRQ5_IRQ_NUM)	</span><span class="cm">/* Mask IRQ5 */</span><span class="cp"></span>
<span class="cp">#define IMR_MSAM	(1 &lt;&lt; SAM_IRQ_NUM)	</span><span class="cm">/* Mask Sampling Timer for RTC */</span><span class="cp"></span>
<span class="cp">#define IMR_MEMIQ	(1 &lt;&lt; EMIQ_IRQ_NUM)	</span><span class="cm">/* Mask Emulator Interrupt */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define IMR_MSPIM	IMR_MSPI</span>
<span class="cp">#define IMR_MTMR1	IMR_MTMR</span>

<span class="cm">/* </span>
<span class="cm"> * Interrupt Status Register </span>
<span class="cm"> */</span>
<span class="cp">#define ISR_ADDR	0xfffff30c</span>
<span class="cp">#define ISR		LONG_REF(ISR_ADDR)</span>

<span class="cp">#define ISR_SPI 	(1 &lt;&lt; SPI_IRQ_NUM)	</span><span class="cm">/* SPI interrupt */</span><span class="cp"></span>
<span class="cp">#define	ISR_TMR		(1 &lt;&lt; TMR_IRQ_NUM)	</span><span class="cm">/* Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define ISR_UART	(1 &lt;&lt; UART_IRQ_NUM)	</span><span class="cm">/* UART interrupt */</span><span class="cp">	</span>
<span class="cp">#define	ISR_WDT		(1 &lt;&lt; WDT_IRQ_NUM)	</span><span class="cm">/* Watchdog Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define ISR_RTC		(1 &lt;&lt; RTC_IRQ_NUM)	</span><span class="cm">/* RTC interrupt */</span><span class="cp"></span>
<span class="cp">#define	ISR_KB		(1 &lt;&lt; KB_IRQ_NUM)	</span><span class="cm">/* Keyboard Interrupt */</span><span class="cp"></span>
<span class="cp">#define ISR_PWM		(1 &lt;&lt; PWM_IRQ_NUM)	</span><span class="cm">/* Pulse-Width Modulator interrupt */</span><span class="cp"></span>
<span class="cp">#define	ISR_INT0	(1 &lt;&lt; INT0_IRQ_NUM)	</span><span class="cm">/* External INT0 */</span><span class="cp"></span>
<span class="cp">#define	ISR_INT1	(1 &lt;&lt; INT1_IRQ_NUM)	</span><span class="cm">/* External INT1 */</span><span class="cp"></span>
<span class="cp">#define	ISR_INT2	(1 &lt;&lt; INT2_IRQ_NUM)	</span><span class="cm">/* External INT2 */</span><span class="cp"></span>
<span class="cp">#define	ISR_INT3	(1 &lt;&lt; INT3_IRQ_NUM)	</span><span class="cm">/* External INT3 */</span><span class="cp"></span>
<span class="cp">#define ISR_IRQ1	(1 &lt;&lt; IRQ1_IRQ_NUM)	</span><span class="cm">/* IRQ1 */</span><span class="cp"></span>
<span class="cp">#define ISR_IRQ2	(1 &lt;&lt; IRQ2_IRQ_NUM)	</span><span class="cm">/* IRQ2 */</span><span class="cp"></span>
<span class="cp">#define ISR_IRQ3	(1 &lt;&lt; IRQ3_IRQ_NUM)	</span><span class="cm">/* IRQ3 */</span><span class="cp"></span>
<span class="cp">#define ISR_IRQ6	(1 &lt;&lt; IRQ6_IRQ_NUM)	</span><span class="cm">/* IRQ6 */</span><span class="cp"></span>
<span class="cp">#define ISR_IRQ5	(1 &lt;&lt; IRQ5_IRQ_NUM)	</span><span class="cm">/* IRQ5 */</span><span class="cp"></span>
<span class="cp">#define ISR_SAM		(1 &lt;&lt; SAM_IRQ_NUM)	</span><span class="cm">/* Sampling Timer for RTC */</span><span class="cp"></span>
<span class="cp">#define ISR_EMIQ	(1 &lt;&lt; EMIQ_IRQ_NUM)	</span><span class="cm">/* Emulator Interrupt */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define ISR_SPIM	ISR_SPI</span>
<span class="cp">#define ISR_TMR1	ISR_TMR</span>

<span class="cm">/* </span>
<span class="cm"> * Interrupt Pending Register </span>
<span class="cm"> */</span>
<span class="cp">#define IPR_ADDR	0xfffff30c</span>
<span class="cp">#define IPR		LONG_REF(IPR_ADDR)</span>

<span class="cp">#define IPR_SPI 	(1 &lt;&lt; SPI_IRQ_NUM)	</span><span class="cm">/* SPI interrupt */</span><span class="cp"></span>
<span class="cp">#define	IPR_TMR		(1 &lt;&lt; TMR_IRQ_NUM)	</span><span class="cm">/* Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define IPR_UART	(1 &lt;&lt; UART_IRQ_NUM)	</span><span class="cm">/* UART interrupt */</span><span class="cp">	</span>
<span class="cp">#define	IPR_WDT		(1 &lt;&lt; WDT_IRQ_NUM)	</span><span class="cm">/* Watchdog Timer interrupt */</span><span class="cp"></span>
<span class="cp">#define IPR_RTC		(1 &lt;&lt; RTC_IRQ_NUM)	</span><span class="cm">/* RTC interrupt */</span><span class="cp"></span>
<span class="cp">#define	IPR_KB		(1 &lt;&lt; KB_IRQ_NUM)	</span><span class="cm">/* Keyboard Interrupt */</span><span class="cp"></span>
<span class="cp">#define IPR_PWM		(1 &lt;&lt; PWM_IRQ_NUM)	</span><span class="cm">/* Pulse-Width Modulator interrupt */</span><span class="cp"></span>
<span class="cp">#define	IPR_INT0	(1 &lt;&lt; INT0_IRQ_NUM)	</span><span class="cm">/* External INT0 */</span><span class="cp"></span>
<span class="cp">#define	IPR_INT1	(1 &lt;&lt; INT1_IRQ_NUM)	</span><span class="cm">/* External INT1 */</span><span class="cp"></span>
<span class="cp">#define	IPR_INT2	(1 &lt;&lt; INT2_IRQ_NUM)	</span><span class="cm">/* External INT2 */</span><span class="cp"></span>
<span class="cp">#define	IPR_INT3	(1 &lt;&lt; INT3_IRQ_NUM)	</span><span class="cm">/* External INT3 */</span><span class="cp"></span>
<span class="cp">#define IPR_IRQ1	(1 &lt;&lt; IRQ1_IRQ_NUM)	</span><span class="cm">/* IRQ1 */</span><span class="cp"></span>
<span class="cp">#define IPR_IRQ2	(1 &lt;&lt; IRQ2_IRQ_NUM)	</span><span class="cm">/* IRQ2 */</span><span class="cp"></span>
<span class="cp">#define IPR_IRQ3	(1 &lt;&lt; IRQ3_IRQ_NUM)	</span><span class="cm">/* IRQ3 */</span><span class="cp"></span>
<span class="cp">#define IPR_IRQ6	(1 &lt;&lt; IRQ6_IRQ_NUM)	</span><span class="cm">/* IRQ6 */</span><span class="cp"></span>
<span class="cp">#define IPR_IRQ5	(1 &lt;&lt; IRQ5_IRQ_NUM)	</span><span class="cm">/* IRQ5 */</span><span class="cp"></span>
<span class="cp">#define IPR_SAM		(1 &lt;&lt; SAM_IRQ_NUM)	</span><span class="cm">/* Sampling Timer for RTC */</span><span class="cp"></span>
<span class="cp">#define IPR_EMIQ	(1 &lt;&lt; EMIQ_IRQ_NUM)	</span><span class="cm">/* Emulator Interrupt */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define IPR_SPIM	IPR_SPI</span>
<span class="cp">#define IPR_TMR1	IPR_TMR</span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF4xx -- Parallel Ports</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * Port A</span>
<span class="cm"> */</span>
<span class="cp">#define PADIR_ADDR	0xfffff400		</span><span class="cm">/* Port A direction reg */</span><span class="cp"></span>
<span class="cp">#define PADATA_ADDR	0xfffff401		</span><span class="cm">/* Port A data register */</span><span class="cp"></span>
<span class="cp">#define PAPUEN_ADDR	0xfffff402		</span><span class="cm">/* Port A Pull-Up enable reg */</span><span class="cp"></span>

<span class="cp">#define PADIR		BYTE_REF(PADIR_ADDR)</span>
<span class="cp">#define PADATA		BYTE_REF(PADATA_ADDR)</span>
<span class="cp">#define PAPUEN		BYTE_REF(PAPUEN_ADDR)</span>

<span class="cp">#define PA(x)		(1 &lt;&lt; (x))</span>

<span class="cm">/* </span>
<span class="cm"> * Port B</span>
<span class="cm"> */</span>
<span class="cp">#define PBDIR_ADDR	0xfffff408		</span><span class="cm">/* Port B direction reg */</span><span class="cp"></span>
<span class="cp">#define PBDATA_ADDR	0xfffff409		</span><span class="cm">/* Port B data register */</span><span class="cp"></span>
<span class="cp">#define PBPUEN_ADDR	0xfffff40a		</span><span class="cm">/* Port B Pull-Up enable reg */</span><span class="cp"></span>
<span class="cp">#define PBSEL_ADDR	0xfffff40b		</span><span class="cm">/* Port B Select Register */</span><span class="cp"></span>

<span class="cp">#define PBDIR		BYTE_REF(PBDIR_ADDR)</span>
<span class="cp">#define PBDATA		BYTE_REF(PBDATA_ADDR)</span>
<span class="cp">#define PBPUEN		BYTE_REF(PBPUEN_ADDR)</span>
<span class="cp">#define PBSEL		BYTE_REF(PBSEL_ADDR)</span>

<span class="cp">#define PB(x)		(1 &lt;&lt; (x))</span>

<span class="cp">#define PB_CSB0		0x01	</span><span class="cm">/* Use CSB0      as PB[0] */</span><span class="cp"></span>
<span class="cp">#define PB_CSB1		0x02	</span><span class="cm">/* Use CSB1      as PB[1] */</span><span class="cp"></span>
<span class="cp">#define PB_CSC0_RAS0	0x04    </span><span class="cm">/* Use CSC0/RAS0 as PB[2] */</span><span class="cp">	</span>
<span class="cp">#define PB_CSC1_RAS1	0x08    </span><span class="cm">/* Use CSC1/RAS1 as PB[3] */</span><span class="cp">	</span>
<span class="cp">#define PB_CSD0_CAS0	0x10    </span><span class="cm">/* Use CSD0/CAS0 as PB[4] */</span><span class="cp">	</span>
<span class="cp">#define PB_CSD1_CAS1	0x20    </span><span class="cm">/* Use CSD1/CAS1 as PB[5] */</span><span class="cp"></span>
<span class="cp">#define PB_TIN_TOUT	0x40	</span><span class="cm">/* Use TIN/TOUT  as PB[6] */</span><span class="cp"></span>
<span class="cp">#define PB_PWMO		0x80	</span><span class="cm">/* Use PWMO      as PB[7] */</span><span class="cp"></span>

<span class="cm">/* </span>
<span class="cm"> * Port C</span>
<span class="cm"> */</span>
<span class="cp">#define PCDIR_ADDR	0xfffff410		</span><span class="cm">/* Port C direction reg */</span><span class="cp"></span>
<span class="cp">#define PCDATA_ADDR	0xfffff411		</span><span class="cm">/* Port C data register */</span><span class="cp"></span>
<span class="cp">#define PCPDEN_ADDR	0xfffff412		</span><span class="cm">/* Port C Pull-Down enb. reg */</span><span class="cp"></span>
<span class="cp">#define PCSEL_ADDR	0xfffff413		</span><span class="cm">/* Port C Select Register */</span><span class="cp"></span>

<span class="cp">#define PCDIR		BYTE_REF(PCDIR_ADDR)</span>
<span class="cp">#define PCDATA		BYTE_REF(PCDATA_ADDR)</span>
<span class="cp">#define PCPDEN		BYTE_REF(PCPDEN_ADDR)</span>
<span class="cp">#define PCSEL		BYTE_REF(PCSEL_ADDR)</span>

<span class="cp">#define PC(x)		(1 &lt;&lt; (x))</span>

<span class="cp">#define PC_LD0		0x01	</span><span class="cm">/* Use LD0  as PC[0] */</span><span class="cp"></span>
<span class="cp">#define PC_LD1		0x02	</span><span class="cm">/* Use LD1  as PC[1] */</span><span class="cp"></span>
<span class="cp">#define PC_LD2		0x04	</span><span class="cm">/* Use LD2  as PC[2] */</span><span class="cp"></span>
<span class="cp">#define PC_LD3		0x08	</span><span class="cm">/* Use LD3  as PC[3] */</span><span class="cp"></span>
<span class="cp">#define PC_LFLM		0x10	</span><span class="cm">/* Use LFLM as PC[4] */</span><span class="cp"></span>
<span class="cp">#define PC_LLP 		0x20	</span><span class="cm">/* Use LLP  as PC[5] */</span><span class="cp"></span>
<span class="cp">#define PC_LCLK		0x40	</span><span class="cm">/* Use LCLK as PC[6] */</span><span class="cp"></span>
<span class="cp">#define PC_LACD		0x80	</span><span class="cm">/* Use LACD as PC[7] */</span><span class="cp"></span>

<span class="cm">/* </span>
<span class="cm"> * Port D</span>
<span class="cm"> */</span>
<span class="cp">#define PDDIR_ADDR	0xfffff418		</span><span class="cm">/* Port D direction reg */</span><span class="cp"></span>
<span class="cp">#define PDDATA_ADDR	0xfffff419		</span><span class="cm">/* Port D data register */</span><span class="cp"></span>
<span class="cp">#define PDPUEN_ADDR	0xfffff41a		</span><span class="cm">/* Port D Pull-Up enable reg */</span><span class="cp"></span>
<span class="cp">#define PDSEL_ADDR	0xfffff41b		</span><span class="cm">/* Port D Select Register */</span><span class="cp"></span>
<span class="cp">#define PDPOL_ADDR	0xfffff41c		</span><span class="cm">/* Port D Polarity Register */</span><span class="cp"></span>
<span class="cp">#define PDIRQEN_ADDR	0xfffff41d		</span><span class="cm">/* Port D IRQ enable register */</span><span class="cp"></span>
<span class="cp">#define PDKBEN_ADDR	0xfffff41e		</span><span class="cm">/* Port D Keyboard Enable reg */</span><span class="cp"></span>
<span class="cp">#define	PDIQEG_ADDR	0xfffff41f		</span><span class="cm">/* Port D IRQ Edge Register */</span><span class="cp"></span>

<span class="cp">#define PDDIR		BYTE_REF(PDDIR_ADDR)</span>
<span class="cp">#define PDDATA		BYTE_REF(PDDATA_ADDR)</span>
<span class="cp">#define PDPUEN		BYTE_REF(PDPUEN_ADDR)</span>
<span class="cp">#define PDSEL		BYTE_REF(PDSEL_ADDR)</span>
<span class="cp">#define	PDPOL		BYTE_REF(PDPOL_ADDR)</span>
<span class="cp">#define PDIRQEN		BYTE_REF(PDIRQEN_ADDR)</span>
<span class="cp">#define PDKBEN		BYTE_REF(PDKBEN_ADDR)</span>
<span class="cp">#define PDIQEG		BYTE_REF(PDIQEG_ADDR)</span>

<span class="cp">#define PD(x)		(1 &lt;&lt; (x))</span>

<span class="cp">#define PD_INT0		0x01	</span><span class="cm">/* Use INT0 as PD[0] */</span><span class="cp"></span>
<span class="cp">#define PD_INT1		0x02	</span><span class="cm">/* Use INT1 as PD[1] */</span><span class="cp"></span>
<span class="cp">#define PD_INT2		0x04	</span><span class="cm">/* Use INT2 as PD[2] */</span><span class="cp"></span>
<span class="cp">#define PD_INT3		0x08	</span><span class="cm">/* Use INT3 as PD[3] */</span><span class="cp"></span>
<span class="cp">#define PD_IRQ1		0x10	</span><span class="cm">/* Use IRQ1 as PD[4] */</span><span class="cp"></span>
<span class="cp">#define PD_IRQ2		0x20	</span><span class="cm">/* Use IRQ2 as PD[5] */</span><span class="cp"></span>
<span class="cp">#define PD_IRQ3		0x40	</span><span class="cm">/* Use IRQ3 as PD[6] */</span><span class="cp"></span>
<span class="cp">#define PD_IRQ6		0x80	</span><span class="cm">/* Use IRQ6 as PD[7] */</span><span class="cp"></span>

<span class="cm">/* </span>
<span class="cm"> * Port E</span>
<span class="cm"> */</span>
<span class="cp">#define PEDIR_ADDR	0xfffff420		</span><span class="cm">/* Port E direction reg */</span><span class="cp"></span>
<span class="cp">#define PEDATA_ADDR	0xfffff421		</span><span class="cm">/* Port E data register */</span><span class="cp"></span>
<span class="cp">#define PEPUEN_ADDR	0xfffff422		</span><span class="cm">/* Port E Pull-Up enable reg */</span><span class="cp"></span>
<span class="cp">#define PESEL_ADDR	0xfffff423		</span><span class="cm">/* Port E Select Register */</span><span class="cp"></span>

<span class="cp">#define PEDIR		BYTE_REF(PEDIR_ADDR)</span>
<span class="cp">#define PEDATA		BYTE_REF(PEDATA_ADDR)</span>
<span class="cp">#define PEPUEN		BYTE_REF(PEPUEN_ADDR)</span>
<span class="cp">#define PESEL		BYTE_REF(PESEL_ADDR)</span>

<span class="cp">#define PE(x)		(1 &lt;&lt; (x))</span>

<span class="cp">#define PE_SPMTXD	0x01	</span><span class="cm">/* Use SPMTXD as PE[0] */</span><span class="cp"></span>
<span class="cp">#define PE_SPMRXD	0x02	</span><span class="cm">/* Use SPMRXD as PE[1] */</span><span class="cp"></span>
<span class="cp">#define PE_SPMCLK	0x04	</span><span class="cm">/* Use SPMCLK as PE[2] */</span><span class="cp"></span>
<span class="cp">#define PE_DWE		0x08	</span><span class="cm">/* Use DWE    as PE[3] */</span><span class="cp"></span>
<span class="cp">#define PE_RXD		0x10	</span><span class="cm">/* Use RXD    as PE[4] */</span><span class="cp"></span>
<span class="cp">#define PE_TXD		0x20	</span><span class="cm">/* Use TXD    as PE[5] */</span><span class="cp"></span>
<span class="cp">#define PE_RTS		0x40	</span><span class="cm">/* Use RTS    as PE[6] */</span><span class="cp"></span>
<span class="cp">#define PE_CTS		0x80	</span><span class="cm">/* Use CTS    as PE[7] */</span><span class="cp"></span>

<span class="cm">/* </span>
<span class="cm"> * Port F</span>
<span class="cm"> */</span>
<span class="cp">#define PFDIR_ADDR	0xfffff428		</span><span class="cm">/* Port F direction reg */</span><span class="cp"></span>
<span class="cp">#define PFDATA_ADDR	0xfffff429		</span><span class="cm">/* Port F data register */</span><span class="cp"></span>
<span class="cp">#define PFPUEN_ADDR	0xfffff42a		</span><span class="cm">/* Port F Pull-Up enable reg */</span><span class="cp"></span>
<span class="cp">#define PFSEL_ADDR	0xfffff42b		</span><span class="cm">/* Port F Select Register */</span><span class="cp"></span>

<span class="cp">#define PFDIR		BYTE_REF(PFDIR_ADDR)</span>
<span class="cp">#define PFDATA		BYTE_REF(PFDATA_ADDR)</span>
<span class="cp">#define PFPUEN		BYTE_REF(PFPUEN_ADDR)</span>
<span class="cp">#define PFSEL		BYTE_REF(PFSEL_ADDR)</span>

<span class="cp">#define PF(x)		(1 &lt;&lt; (x))</span>

<span class="cp">#define PF_LCONTRAST	0x01	</span><span class="cm">/* Use LCONTRAST as PF[0] */</span><span class="cp"></span>
<span class="cp">#define PF_IRQ5         0x02    </span><span class="cm">/* Use IRQ5      as PF[1] */</span><span class="cp"></span>
<span class="cp">#define PF_CLKO         0x04    </span><span class="cm">/* Use CLKO      as PF[2] */</span><span class="cp"></span>
<span class="cp">#define PF_A20          0x08    </span><span class="cm">/* Use A20       as PF[3] */</span><span class="cp"></span>
<span class="cp">#define PF_A21          0x10    </span><span class="cm">/* Use A21       as PF[4] */</span><span class="cp"></span>
<span class="cp">#define PF_A22          0x20    </span><span class="cm">/* Use A22       as PF[5] */</span><span class="cp"></span>
<span class="cp">#define PF_A23          0x40    </span><span class="cm">/* Use A23       as PF[6] */</span><span class="cp"></span>
<span class="cp">#define PF_CSA1		0x80    </span><span class="cm">/* Use CSA1      as PF[7] */</span><span class="cp"></span>

<span class="cm">/* </span>
<span class="cm"> * Port G</span>
<span class="cm"> */</span>
<span class="cp">#define PGDIR_ADDR	0xfffff430		</span><span class="cm">/* Port G direction reg */</span><span class="cp"></span>
<span class="cp">#define PGDATA_ADDR	0xfffff431		</span><span class="cm">/* Port G data register */</span><span class="cp"></span>
<span class="cp">#define PGPUEN_ADDR	0xfffff432		</span><span class="cm">/* Port G Pull-Up enable reg */</span><span class="cp"></span>
<span class="cp">#define PGSEL_ADDR	0xfffff433		</span><span class="cm">/* Port G Select Register */</span><span class="cp"></span>

<span class="cp">#define PGDIR		BYTE_REF(PGDIR_ADDR)</span>
<span class="cp">#define PGDATA		BYTE_REF(PGDATA_ADDR)</span>
<span class="cp">#define PGPUEN		BYTE_REF(PGPUEN_ADDR)</span>
<span class="cp">#define PGSEL		BYTE_REF(PGSEL_ADDR)</span>

<span class="cp">#define PG(x)		(1 &lt;&lt; (x))</span>

<span class="cp">#define PG_BUSW_DTACK	0x01	</span><span class="cm">/* Use BUSW/DTACK as PG[0] */</span><span class="cp"></span>
<span class="cp">#define PG_A0		0x02	</span><span class="cm">/* Use A0         as PG[1] */</span><span class="cp"></span>
<span class="cp">#define PG_EMUIRQ	0x04	</span><span class="cm">/* Use EMUIRQ     as PG[2] */</span><span class="cp"></span>
<span class="cp">#define PG_HIZ_P_D	0x08	</span><span class="cm">/* Use HIZ/P/D    as PG[3] */</span><span class="cp"></span>
<span class="cp">#define PG_EMUCS        0x10	</span><span class="cm">/* Use EMUCS      as PG[4] */</span><span class="cp"></span>
<span class="cp">#define PG_EMUBRK	0x20	</span><span class="cm">/* Use EMUBRK     as PG[5] */</span><span class="cp"></span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF5xx -- Pulse-Width Modulator (PWM)</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * PWM Control Register </span>
<span class="cm"> */</span>
<span class="cp">#define PWMC_ADDR	0xfffff500</span>
<span class="cp">#define PWMC		WORD_REF(PWMC_ADDR)</span>

<span class="cp">#define PWMC_CLKSEL_MASK	0x0003	</span><span class="cm">/* Clock Selection */</span><span class="cp"></span>
<span class="cp">#define PWMC_CLKSEL_SHIFT	0</span>
<span class="cp">#define PWMC_REPEAT_MASK	0x000c	</span><span class="cm">/* Sample Repeats */</span><span class="cp"></span>
<span class="cp">#define PWMC_REPEAT_SHIFT	2</span>
<span class="cp">#define PWMC_EN			0x0010	</span><span class="cm">/* Enable PWM */</span><span class="cp"></span>
<span class="cp">#define PMNC_FIFOAV		0x0020	</span><span class="cm">/* FIFO Available */</span><span class="cp"></span>
<span class="cp">#define PWMC_IRQEN		0x0040	</span><span class="cm">/* Interrupt Request Enable */</span><span class="cp"></span>
<span class="cp">#define PWMC_IRQ		0x0080	</span><span class="cm">/* Interrupt Request (FIFO empty) */</span><span class="cp"></span>
<span class="cp">#define PWMC_PRESCALER_MASK	0x7f00	</span><span class="cm">/* Incoming Clock prescaler */</span><span class="cp"></span>
<span class="cp">#define PWMC_PRESCALER_SHIFT	8</span>
<span class="cp">#define PWMC_CLKSRC		0x8000	</span><span class="cm">/* Clock Source Select */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define PWMC_PWMEN	PWMC_EN</span>

<span class="cm">/*</span>
<span class="cm"> * PWM Sample Register </span>
<span class="cm"> */</span>
<span class="cp">#define PWMS_ADDR	0xfffff502</span>
<span class="cp">#define PWMS		WORD_REF(PWMS_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * PWM Period Register</span>
<span class="cm"> */</span>
<span class="cp">#define PWMP_ADDR	0xfffff504</span>
<span class="cp">#define PWMP		BYTE_REF(PWMP_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * PWM Counter Register</span>
<span class="cm"> */</span>
<span class="cp">#define PWMCNT_ADDR	0xfffff505</span>
<span class="cp">#define PWMCNT		BYTE_REF(PWMCNT_ADDR)</span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF6xx -- General-Purpose Timer</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/* </span>
<span class="cm"> * Timer Control register</span>
<span class="cm"> */</span>
<span class="cp">#define TCTL_ADDR	0xfffff600</span>
<span class="cp">#define TCTL		WORD_REF(TCTL_ADDR)</span>

<span class="cp">#define	TCTL_TEN		0x0001	</span><span class="cm">/* Timer Enable  */</span><span class="cp"></span>
<span class="cp">#define TCTL_CLKSOURCE_MASK 	0x000e	</span><span class="cm">/* Clock Source: */</span><span class="cp"></span>
<span class="cp">#define   TCTL_CLKSOURCE_STOP	   0x0000	</span><span class="cm">/* Stop count (disabled)    */</span><span class="cp"></span>
<span class="cp">#define   TCTL_CLKSOURCE_SYSCLK	   0x0002	</span><span class="cm">/* SYSCLK to prescaler      */</span><span class="cp"></span>
<span class="cp">#define   TCTL_CLKSOURCE_SYSCLK_16 0x0004	</span><span class="cm">/* SYSCLK/16 to prescaler   */</span><span class="cp"></span>
<span class="cp">#define   TCTL_CLKSOURCE_TIN	   0x0006	</span><span class="cm">/* TIN to prescaler         */</span><span class="cp"></span>
<span class="cp">#define   TCTL_CLKSOURCE_32KHZ	   0x0008	</span><span class="cm">/* 32kHz clock to prescaler */</span><span class="cp"></span>
<span class="cp">#define TCTL_IRQEN		0x0010	</span><span class="cm">/* IRQ Enable    */</span><span class="cp"></span>
<span class="cp">#define TCTL_OM			0x0020	</span><span class="cm">/* Output Mode   */</span><span class="cp"></span>
<span class="cp">#define TCTL_CAP_MASK		0x00c0	</span><span class="cm">/* Capture Edge: */</span><span class="cp"></span>
<span class="cp">#define	  TCTL_CAP_RE		0x0040		</span><span class="cm">/* Capture on rizing edge   */</span><span class="cp"></span>
<span class="cp">#define   TCTL_CAP_FE		0x0080		</span><span class="cm">/* Capture on falling edge  */</span><span class="cp"></span>
<span class="cp">#define TCTL_FRR		0x0010	</span><span class="cm">/* Free-Run Mode */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define TCTL1_ADDR	TCTL_ADDR</span>
<span class="cp">#define TCTL1		TCTL</span>

<span class="cm">/*</span>
<span class="cm"> * Timer Prescaler Register</span>
<span class="cm"> */</span>
<span class="cp">#define TPRER_ADDR	0xfffff602</span>
<span class="cp">#define TPRER		WORD_REF(TPRER_ADDR)</span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define TPRER1_ADDR	TPRER_ADDR</span>
<span class="cp">#define TPRER1		TPRER</span>

<span class="cm">/*</span>
<span class="cm"> * Timer Compare Register</span>
<span class="cm"> */</span>
<span class="cp">#define TCMP_ADDR	0xfffff604</span>
<span class="cp">#define TCMP		WORD_REF(TCMP_ADDR)</span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define TCMP1_ADDR	TCMP_ADDR</span>
<span class="cp">#define TCMP1		TCMP</span>

<span class="cm">/*</span>
<span class="cm"> * Timer Capture register</span>
<span class="cm"> */</span>
<span class="cp">#define TCR_ADDR	0xfffff606</span>
<span class="cp">#define TCR		WORD_REF(TCR_ADDR)</span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define TCR1_ADDR	TCR_ADDR</span>
<span class="cp">#define TCR1		TCR</span>

<span class="cm">/*</span>
<span class="cm"> * Timer Counter Register</span>
<span class="cm"> */</span>
<span class="cp">#define TCN_ADDR	0xfffff608</span>
<span class="cp">#define TCN		WORD_REF(TCN_ADDR)</span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define TCN1_ADDR	TCN_ADDR</span>
<span class="cp">#define TCN1		TCN</span>

<span class="cm">/*</span>
<span class="cm"> * Timer Status Register</span>
<span class="cm"> */</span>
<span class="cp">#define TSTAT_ADDR	0xfffff60a</span>
<span class="cp">#define TSTAT		WORD_REF(TSTAT_ADDR)</span>

<span class="cp">#define TSTAT_COMP	0x0001		</span><span class="cm">/* Compare Event occurred */</span><span class="cp"></span>
<span class="cp">#define TSTAT_CAPT	0x0001		</span><span class="cm">/* Capture Event occurred */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define TSTAT1_ADDR	TSTAT_ADDR</span>
<span class="cp">#define TSTAT1		TSTAT</span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF8xx -- Serial Periferial Interface Master (SPIM)</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * SPIM Data Register</span>
<span class="cm"> */</span>
<span class="cp">#define SPIMDATA_ADDR	0xfffff800</span>
<span class="cp">#define SPIMDATA	WORD_REF(SPIMDATA_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * SPIM Control/Status Register</span>
<span class="cm"> */</span>
<span class="cp">#define SPIMCONT_ADDR	0xfffff802</span>
<span class="cp">#define SPIMCONT	WORD_REF(SPIMCONT_ADDR)</span>

<span class="cp">#define SPIMCONT_BIT_COUNT_MASK	 0x000f	</span><span class="cm">/* Transfer Length in Bytes */</span><span class="cp"></span>
<span class="cp">#define SPIMCONT_BIT_COUNT_SHIFT 0</span>
<span class="cp">#define SPIMCONT_POL		 0x0010	</span><span class="cm">/* SPMCLK Signel Polarity */</span><span class="cp"></span>
<span class="cp">#define	SPIMCONT_PHA		 0x0020	</span><span class="cm">/* Clock/Data phase relationship */</span><span class="cp"></span>
<span class="cp">#define SPIMCONT_IRQEN		 0x0040 </span><span class="cm">/* IRQ Enable */</span><span class="cp"></span>
<span class="cp">#define SPIMCONT_IRQ		 0x0080	</span><span class="cm">/* Interrupt Request */</span><span class="cp"></span>
<span class="cp">#define SPIMCONT_XCH		 0x0100	</span><span class="cm">/* Exchange */</span><span class="cp"></span>
<span class="cp">#define SPIMCONT_ENABLE		 0x0200	</span><span class="cm">/* Enable SPIM */</span><span class="cp"></span>
<span class="cp">#define SPIMCONT_DATA_RATE_MASK	 0xe000	</span><span class="cm">/* SPIM Data Rate */</span><span class="cp"></span>
<span class="cp">#define SPIMCONT_DATA_RATE_SHIFT 13</span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define SPIMCONT_SPIMIRQ	SPIMCONT_IRQ</span>
<span class="cp">#define SPIMCONT_SPIMEN		SPIMCONT_ENABLE</span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFF9xx -- UART</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * UART Status/Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define USTCNT_ADDR	0xfffff900</span>
<span class="cp">#define USTCNT		WORD_REF(USTCNT_ADDR)</span>

<span class="cp">#define USTCNT_TXAE	0x0001	</span><span class="cm">/* Transmitter Available Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_TXHE	0x0002	</span><span class="cm">/* Transmitter Half Empty Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_TXEE	0x0004	</span><span class="cm">/* Transmitter Empty Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_RXRE	0x0008	</span><span class="cm">/* Receiver Ready Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_RXHE	0x0010	</span><span class="cm">/* Receiver Half-Full Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_RXFE	0x0020	</span><span class="cm">/* Receiver Full Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_CTSD	0x0040	</span><span class="cm">/* CTS Delta Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_ODEN	0x0080	</span><span class="cm">/* Old Data Interrupt Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_8_7	0x0100	</span><span class="cm">/* Eight or seven-bit transmission */</span><span class="cp"></span>
<span class="cp">#define USTCNT_STOP	0x0200	</span><span class="cm">/* Stop bit transmission */</span><span class="cp"></span>
<span class="cp">#define USTCNT_ODD	0x0400	</span><span class="cm">/* Odd Parity */</span><span class="cp"></span>
<span class="cp">#define	USTCNT_PEN	0x0800	</span><span class="cm">/* Parity Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_CLKM	0x1000	</span><span class="cm">/* Clock Mode Select */</span><span class="cp"></span>
<span class="cp">#define	USTCNT_TXEN	0x2000	</span><span class="cm">/* Transmitter Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_RXEN	0x4000	</span><span class="cm">/* Receiver Enable */</span><span class="cp"></span>
<span class="cp">#define USTCNT_UEN	0x8000	</span><span class="cm">/* UART Enable */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define USTCNT_TXAVAILEN	USTCNT_TXAE</span>
<span class="cp">#define USTCNT_TXHALFEN		USTCNT_TXHE</span>
<span class="cp">#define USTCNT_TXEMPTYEN	USTCNT_TXEE</span>
<span class="cp">#define USTCNT_RXREADYEN	USTCNT_RXRE</span>
<span class="cp">#define USTCNT_RXHALFEN		USTCNT_RXHE</span>
<span class="cp">#define USTCNT_RXFULLEN		USTCNT_RXFE</span>
<span class="cp">#define USTCNT_CTSDELTAEN	USTCNT_CTSD</span>
<span class="cp">#define USTCNT_ODD_EVEN		USTCNT_ODD</span>
<span class="cp">#define USTCNT_PARITYEN		USTCNT_PEN</span>
<span class="cp">#define USTCNT_CLKMODE		USTCNT_CLKM</span>
<span class="cp">#define USTCNT_UARTEN		USTCNT_UEN</span>

<span class="cm">/*</span>
<span class="cm"> * UART Baud Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define UBAUD_ADDR	0xfffff902</span>
<span class="cp">#define UBAUD		WORD_REF(UBAUD_ADDR)</span>

<span class="cp">#define UBAUD_PRESCALER_MASK	0x003f	</span><span class="cm">/* Actual divisor is 65 - PRESCALER */</span><span class="cp"></span>
<span class="cp">#define UBAUD_PRESCALER_SHIFT	0</span>
<span class="cp">#define UBAUD_DIVIDE_MASK	0x0700	</span><span class="cm">/* Baud Rate freq. divizor */</span><span class="cp"></span>
<span class="cp">#define UBAUD_DIVIDE_SHIFT	8</span>
<span class="cp">#define UBAUD_BAUD_SRC		0x0800	</span><span class="cm">/* Baud Rate Source */</span><span class="cp"></span>
<span class="cp">#define UBAUD_UCLKDIR		0x2000	</span><span class="cm">/* UCLK Direction */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * UART Receiver Register </span>
<span class="cm"> */</span>
<span class="cp">#define URX_ADDR	0xfffff904</span>
<span class="cp">#define URX		WORD_REF(URX_ADDR)</span>

<span class="cp">#define URX_RXDATA_ADDR	0xfffff905</span>
<span class="cp">#define URX_RXDATA	BYTE_REF(URX_RXDATA_ADDR)</span>

<span class="cp">#define URX_RXDATA_MASK	 0x00ff	</span><span class="cm">/* Received data */</span><span class="cp"></span>
<span class="cp">#define URX_RXDATA_SHIFT 0</span>
<span class="cp">#define URX_PARITY_ERROR 0x0100	</span><span class="cm">/* Parity Error */</span><span class="cp"></span>
<span class="cp">#define URX_BREAK	 0x0200	</span><span class="cm">/* Break Detected */</span><span class="cp"></span>
<span class="cp">#define URX_FRAME_ERROR	 0x0400	</span><span class="cm">/* Framing Error */</span><span class="cp"></span>
<span class="cp">#define URX_OVRUN	 0x0800	</span><span class="cm">/* Serial Overrun */</span><span class="cp"></span>
<span class="cp">#define URX_OLD_DATA	 0x1000	</span><span class="cm">/* Old data in FIFO */</span><span class="cp"></span>
<span class="cp">#define URX_DATA_READY	 0x2000	</span><span class="cm">/* Data Ready (FIFO not empty) */</span><span class="cp"></span>
<span class="cp">#define URX_FIFO_HALF	 0x4000 </span><span class="cm">/* FIFO is Half-Full */</span><span class="cp"></span>
<span class="cp">#define URX_FIFO_FULL	 0x8000	</span><span class="cm">/* FIFO is Full */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * UART Transmitter Register </span>
<span class="cm"> */</span>
<span class="cp">#define UTX_ADDR	0xfffff906</span>
<span class="cp">#define UTX		WORD_REF(UTX_ADDR)</span>

<span class="cp">#define UTX_TXDATA_ADDR	0xfffff907</span>
<span class="cp">#define UTX_TXDATA	BYTE_REF(UTX_TXDATA_ADDR)</span>

<span class="cp">#define UTX_TXDATA_MASK	 0x00ff	</span><span class="cm">/* Data to be transmitted */</span><span class="cp"></span>
<span class="cp">#define UTX_TXDATA_SHIFT 0</span>
<span class="cp">#define UTX_CTS_DELTA	 0x0100	</span><span class="cm">/* CTS changed */</span><span class="cp"></span>
<span class="cp">#define UTX_CTS_STAT	 0x0200	</span><span class="cm">/* CTS State */</span><span class="cp"></span>
<span class="cp">#define	UTX_BUSY	 0x0400	</span><span class="cm">/* FIFO is busy, sending a character */</span><span class="cp"></span>
<span class="cp">#define	UTX_NOCTS	 0x0800	</span><span class="cm">/* Ignore CTS */</span><span class="cp"></span>
<span class="cp">#define UTX_SEND_BREAK	 0x1000	</span><span class="cm">/* Send a BREAK */</span><span class="cp"></span>
<span class="cp">#define UTX_TX_AVAIL	 0x2000	</span><span class="cm">/* Transmit FIFO has a slot available */</span><span class="cp"></span>
<span class="cp">#define UTX_FIFO_HALF	 0x4000	</span><span class="cm">/* Transmit FIFO is half empty */</span><span class="cp"></span>
<span class="cp">#define UTX_FIFO_EMPTY	 0x8000	</span><span class="cm">/* Transmit FIFO is empty */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define UTX_CTS_STATUS	UTX_CTS_STAT</span>
<span class="cp">#define UTX_IGNORE_CTS	UTX_NOCTS</span>

<span class="cm">/*</span>
<span class="cm"> * UART Miscellaneous Register </span>
<span class="cm"> */</span>
<span class="cp">#define UMISC_ADDR	0xfffff908</span>
<span class="cp">#define UMISC		WORD_REF(UMISC_ADDR)</span>

<span class="cp">#define UMISC_TX_POL	 0x0004	</span><span class="cm">/* Transmit Polarity */</span><span class="cp"></span>
<span class="cp">#define UMISC_RX_POL	 0x0008	</span><span class="cm">/* Receive Polarity */</span><span class="cp"></span>
<span class="cp">#define UMISC_IRDA_LOOP	 0x0010	</span><span class="cm">/* IrDA Loopback Enable */</span><span class="cp"></span>
<span class="cp">#define UMISC_IRDA_EN	 0x0020	</span><span class="cm">/* Infra-Red Enable */</span><span class="cp"></span>
<span class="cp">#define UMISC_RTS	 0x0040	</span><span class="cm">/* Set RTS status */</span><span class="cp"></span>
<span class="cp">#define UMISC_RTSCONT	 0x0080	</span><span class="cm">/* Choose RTS control */</span><span class="cp"></span>
<span class="cp">#define UMISC_IR_TEST	 0x0400	</span><span class="cm">/* IRDA Test Enable */</span><span class="cp"></span>
<span class="cp">#define UMISC_BAUD_RESET 0x0800	</span><span class="cm">/* Reset Baud Rate Generation Counters */</span><span class="cp"></span>
<span class="cp">#define UMISC_LOOP	 0x1000	</span><span class="cm">/* Serial Loopback Enable */</span><span class="cp"></span>
<span class="cp">#define UMISC_FORCE_PERR 0x2000	</span><span class="cm">/* Force Parity Error */</span><span class="cp"></span>
<span class="cp">#define UMISC_CLKSRC	 0x4000	</span><span class="cm">/* Clock Source */</span><span class="cp"></span>
<span class="cp">#define UMISC_BAUD_TEST	 0x8000	</span><span class="cm">/* Enable Baud Test Mode */</span><span class="cp"></span>

<span class="cm">/* </span>
<span class="cm"> * UART Non-integer Prescaler Register</span>
<span class="cm"> */</span>
<span class="cp">#define NIPR_ADDR	0xfffff90a</span>
<span class="cp">#define NIPR		WORD_REF(NIPR_ADDR)</span>

<span class="cp">#define NIPR_STEP_VALUE_MASK	0x00ff	</span><span class="cm">/* NI prescaler step value */</span><span class="cp"></span>
<span class="cp">#define NIPR_STEP_VALUE_SHIFT	0</span>
<span class="cp">#define NIPR_SELECT_MASK	0x0700	</span><span class="cm">/* Tap Selection */</span><span class="cp"></span>
<span class="cp">#define NIPR_SELECT_SHIFT	8</span>
<span class="cp">#define NIPR_PRE_SEL		0x8000	</span><span class="cm">/* Non-integer prescaler select */</span><span class="cp"></span>


<span class="cm">/* generalization of uart control registers to support multiple ports: */</span>
<span class="k">typedef</span> <span class="k">volatile</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">ustcnt</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">ubaud</span><span class="p">;</span>
  <span class="k">union</span> <span class="p">{</span>
    <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">w</span><span class="p">;</span>
    <span class="k">struct</span> <span class="p">{</span>
      <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">status</span><span class="p">;</span>
      <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">rxdata</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">b</span><span class="p">;</span>
  <span class="p">}</span> <span class="n">urx</span><span class="p">;</span>
  <span class="k">union</span> <span class="p">{</span>
    <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">w</span><span class="p">;</span>
    <span class="k">struct</span> <span class="p">{</span>
      <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">status</span><span class="p">;</span>
      <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">txdata</span><span class="p">;</span>
    <span class="p">}</span> <span class="n">b</span><span class="p">;</span>
  <span class="p">}</span> <span class="n">utx</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">umisc</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">nipr</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">pad1</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">unsigned</span> <span class="kt">short</span> <span class="kt">int</span> <span class="n">pad2</span><span class="p">;</span>
<span class="p">}</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">packed</span><span class="p">))</span> <span class="n">m68328_uart</span><span class="p">;</span>


<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFFAxx -- LCD Controller</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Screen Starting Address Register </span>
<span class="cm"> */</span>
<span class="cp">#define LSSA_ADDR	0xfffffa00</span>
<span class="cp">#define LSSA		LONG_REF(LSSA_ADDR)</span>

<span class="cp">#define LSSA_SSA_MASK	0x1ffffffe	</span><span class="cm">/* Bits 0 and 29-31 are reserved */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * LCD Virtual Page Width Register </span>
<span class="cm"> */</span>
<span class="cp">#define LVPW_ADDR	0xfffffa05</span>
<span class="cp">#define LVPW		BYTE_REF(LVPW_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Screen Width Register (not compatible with &#39;328 !!!) </span>
<span class="cm"> */</span>
<span class="cp">#define LXMAX_ADDR	0xfffffa08</span>
<span class="cp">#define LXMAX		WORD_REF(LXMAX_ADDR)</span>

<span class="cp">#define LXMAX_XM_MASK	0x02f0		</span><span class="cm">/* Bits 0-3 and 10-15 are reserved */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * LCD Screen Height Register</span>
<span class="cm"> */</span>
<span class="cp">#define LYMAX_ADDR	0xfffffa0a</span>
<span class="cp">#define LYMAX		WORD_REF(LYMAX_ADDR)</span>

<span class="cp">#define LYMAX_YM_MASK	0x01ff		</span><span class="cm">/* Bits 9-15 are reserved */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * LCD Cursor X Position Register</span>
<span class="cm"> */</span>
<span class="cp">#define LCXP_ADDR	0xfffffa18</span>
<span class="cp">#define LCXP		WORD_REF(LCXP_ADDR)</span>

<span class="cp">#define LCXP_CC_MASK	0xc000		</span><span class="cm">/* Cursor Control */</span><span class="cp"></span>
<span class="cp">#define   LCXP_CC_TRAMSPARENT	0x0000</span>
<span class="cp">#define   LCXP_CC_BLACK		0x4000</span>
<span class="cp">#define   LCXP_CC_REVERSED	0x8000</span>
<span class="cp">#define   LCXP_CC_WHITE		0xc000</span>
<span class="cp">#define LCXP_CXP_MASK	0x02ff		</span><span class="cm">/* Cursor X position */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * LCD Cursor Y Position Register</span>
<span class="cm"> */</span>
<span class="cp">#define LCYP_ADDR	0xfffffa1a</span>
<span class="cp">#define LCYP		WORD_REF(LCYP_ADDR)</span>

<span class="cp">#define LCYP_CYP_MASK	0x01ff		</span><span class="cm">/* Cursor Y Position */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * LCD Cursor Width and Heigth Register</span>
<span class="cm"> */</span>
<span class="cp">#define LCWCH_ADDR	0xfffffa1c</span>
<span class="cp">#define LCWCH		WORD_REF(LCWCH_ADDR)</span>

<span class="cp">#define LCWCH_CH_MASK	0x001f		</span><span class="cm">/* Cursor Height */</span><span class="cp"></span>
<span class="cp">#define LCWCH_CH_SHIFT	0</span>
<span class="cp">#define LCWCH_CW_MASK	0x1f00		</span><span class="cm">/* Cursor Width */</span><span class="cp"></span>
<span class="cp">#define LCWCH_CW_SHIFT	8</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Blink Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define LBLKC_ADDR	0xfffffa1f</span>
<span class="cp">#define LBLKC		BYTE_REF(LBLKC_ADDR)</span>

<span class="cp">#define LBLKC_BD_MASK	0x7f	</span><span class="cm">/* Blink Divisor */</span><span class="cp"></span>
<span class="cp">#define LBLKC_BD_SHIFT	0</span>
<span class="cp">#define LBLKC_BKEN	0x80	</span><span class="cm">/* Blink Enabled */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * LCD Panel Interface Configuration Register </span>
<span class="cm"> */</span>
<span class="cp">#define LPICF_ADDR	0xfffffa20</span>
<span class="cp">#define LPICF		BYTE_REF(LPICF_ADDR)</span>

<span class="cp">#define LPICF_GS_MASK	 0x03	 </span><span class="cm">/* Gray-Scale Mode */</span><span class="cp"></span>
<span class="cp">#define	  LPICF_GS_BW	   0x00</span>
<span class="cp">#define   LPICF_GS_GRAY_4  0x01</span>
<span class="cp">#define   LPICF_GS_GRAY_16 0x02</span>
<span class="cp">#define LPICF_PBSIZ_MASK 0x0c	</span><span class="cm">/* Panel Bus Width */</span><span class="cp"></span>
<span class="cp">#define   LPICF_PBSIZ_1	   0x00</span>
<span class="cp">#define   LPICF_PBSIZ_2    0x04</span>
<span class="cp">#define   LPICF_PBSIZ_4    0x08</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Polarity Configuration Register </span>
<span class="cm"> */</span>
<span class="cp">#define LPOLCF_ADDR	0xfffffa21</span>
<span class="cp">#define LPOLCF		BYTE_REF(LPOLCF_ADDR)</span>

<span class="cp">#define LPOLCF_PIXPOL	0x01	</span><span class="cm">/* Pixel Polarity */</span><span class="cp"></span>
<span class="cp">#define LPOLCF_LPPOL	0x02	</span><span class="cm">/* Line Pulse Polarity */</span><span class="cp"></span>
<span class="cp">#define LPOLCF_FLMPOL	0x04	</span><span class="cm">/* Frame Marker Polarity */</span><span class="cp"></span>
<span class="cp">#define LPOLCF_LCKPOL	0x08	</span><span class="cm">/* LCD Shift Lock Polarity */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * LACD (LCD Alternate Crystal Direction) Rate Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define LACDRC_ADDR	0xfffffa23</span>
<span class="cp">#define LACDRC		BYTE_REF(LACDRC_ADDR)</span>

<span class="cp">#define LACDRC_ACDSLT	 0x80	</span><span class="cm">/* Signal Source Select */</span><span class="cp"></span>
<span class="cp">#define LACDRC_ACD_MASK	 0x0f	</span><span class="cm">/* Alternate Crystal Direction Control */</span><span class="cp"></span>
<span class="cp">#define LACDRC_ACD_SHIFT 0</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Pixel Clock Divider Register</span>
<span class="cm"> */</span>
<span class="cp">#define LPXCD_ADDR	0xfffffa25</span>
<span class="cp">#define LPXCD		BYTE_REF(LPXCD_ADDR)</span>

<span class="cp">#define	LPXCD_PCD_MASK	0x3f 	</span><span class="cm">/* Pixel Clock Divider */</span><span class="cp"></span>
<span class="cp">#define LPXCD_PCD_SHIFT	0</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Clocking Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define LCKCON_ADDR	0xfffffa27</span>
<span class="cp">#define LCKCON		BYTE_REF(LCKCON_ADDR)</span>

<span class="cp">#define LCKCON_DWS_MASK	 0x0f	</span><span class="cm">/* Display Wait-State */</span><span class="cp"></span>
<span class="cp">#define LCKCON_DWS_SHIFT 0</span>
<span class="cp">#define LCKCON_DWIDTH	 0x40	</span><span class="cm">/* Display Memory Width  */</span><span class="cp"></span>
<span class="cp">#define LCKCON_LCDON	 0x80	</span><span class="cm">/* Enable LCD Controller */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define LCKCON_DW_MASK  LCKCON_DWS_MASK</span>
<span class="cp">#define LCKCON_DW_SHIFT LCKCON_DWS_SHIFT</span>
 
<span class="cm">/*</span>
<span class="cm"> * LCD Refresh Rate Adjustment Register </span>
<span class="cm"> */</span>
<span class="cp">#define LRRA_ADDR	0xfffffa29</span>
<span class="cp">#define LRRA		BYTE_REF(LRRA_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Panning Offset Register</span>
<span class="cm"> */</span>
<span class="cp">#define LPOSR_ADDR	0xfffffa2d</span>
<span class="cp">#define LPOSR		BYTE_REF(LPOSR_ADDR)</span>

<span class="cp">#define LPOSR_POS_MASK	0x0f	</span><span class="cm">/* Pixel Offset Code */</span><span class="cp"></span>
<span class="cp">#define LPOSR_POS_SHIFT	0</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Frame Rate Control Modulation Register</span>
<span class="cm"> */</span>
<span class="cp">#define LFRCM_ADDR	0xfffffa31</span>
<span class="cp">#define LFRCM		BYTE_REF(LFRCM_ADDR)</span>

<span class="cp">#define LFRCM_YMOD_MASK	 0x0f	</span><span class="cm">/* Vertical Modulation */</span><span class="cp"></span>
<span class="cp">#define LFRCM_YMOD_SHIFT 0</span>
<span class="cp">#define LFRCM_XMOD_MASK	 0xf0	</span><span class="cm">/* Horizontal Modulation */</span><span class="cp"></span>
<span class="cp">#define LFRCM_XMOD_SHIFT 4</span>

<span class="cm">/*</span>
<span class="cm"> * LCD Gray Palette Mapping Register</span>
<span class="cm"> */</span>
<span class="cp">#define LGPMR_ADDR	0xfffffa33</span>
<span class="cp">#define LGPMR		BYTE_REF(LGPMR_ADDR)</span>

<span class="cp">#define LGPMR_G1_MASK	0x0f</span>
<span class="cp">#define LGPMR_G1_SHIFT	0</span>
<span class="cp">#define LGPMR_G2_MASK	0xf0</span>
<span class="cp">#define LGPMR_G2_SHIFT	4</span>

<span class="cm">/* </span>
<span class="cm"> * PWM Contrast Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define PWMR_ADDR	0xfffffa36</span>
<span class="cp">#define PWMR		WORD_REF(PWMR_ADDR)</span>

<span class="cp">#define PWMR_PW_MASK	0x00ff	</span><span class="cm">/* Pulse Width */</span><span class="cp"></span>
<span class="cp">#define PWMR_PW_SHIFT	0</span>
<span class="cp">#define PWMR_CCPEN	0x0100	</span><span class="cm">/* Contrast Control Enable */</span><span class="cp"></span>
<span class="cp">#define PWMR_SRC_MASK	0x0600	</span><span class="cm">/* Input Clock Source */</span><span class="cp"></span>
<span class="cp">#define   PWMR_SRC_LINE	  0x0000	</span><span class="cm">/* Line Pulse  */</span><span class="cp"></span>
<span class="cp">#define   PWMR_SRC_PIXEL  0x0200	</span><span class="cm">/* Pixel Clock */</span><span class="cp"></span>
<span class="cp">#define   PWMR_SRC_LCD    0x4000	</span><span class="cm">/* LCD clock   */</span><span class="cp"></span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFFBxx -- Real-Time Clock (RTC)</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * RTC Hours Minutes and Seconds Register</span>
<span class="cm"> */</span>
<span class="cp">#define RTCTIME_ADDR	0xfffffb00</span>
<span class="cp">#define RTCTIME		LONG_REF(RTCTIME_ADDR)</span>

<span class="cp">#define RTCTIME_SECONDS_MASK	0x0000003f	</span><span class="cm">/* Seconds */</span><span class="cp"></span>
<span class="cp">#define RTCTIME_SECONDS_SHIFT	0</span>
<span class="cp">#define RTCTIME_MINUTES_MASK	0x003f0000	</span><span class="cm">/* Minutes */</span><span class="cp"></span>
<span class="cp">#define RTCTIME_MINUTES_SHIFT	16</span>
<span class="cp">#define RTCTIME_HOURS_MASK	0x1f000000	</span><span class="cm">/* Hours */</span><span class="cp"></span>
<span class="cp">#define RTCTIME_HOURS_SHIFT	24</span>

<span class="cm">/*</span>
<span class="cm"> *  RTC Alarm Register </span>
<span class="cm"> */</span>
<span class="cp">#define RTCALRM_ADDR    0xfffffb04</span>
<span class="cp">#define RTCALRM         LONG_REF(RTCALRM_ADDR)</span>

<span class="cp">#define RTCALRM_SECONDS_MASK    0x0000003f      </span><span class="cm">/* Seconds */</span><span class="cp"></span>
<span class="cp">#define RTCALRM_SECONDS_SHIFT   0</span>
<span class="cp">#define RTCALRM_MINUTES_MASK    0x003f0000      </span><span class="cm">/* Minutes */</span><span class="cp"></span>
<span class="cp">#define RTCALRM_MINUTES_SHIFT   16</span>
<span class="cp">#define RTCALRM_HOURS_MASK      0x1f000000      </span><span class="cm">/* Hours */</span><span class="cp"></span>
<span class="cp">#define RTCALRM_HOURS_SHIFT     24</span>

<span class="cm">/*</span>
<span class="cm"> * Watchdog Timer Register </span>
<span class="cm"> */</span>
<span class="cp">#define WATCHDOG_ADDR	0xfffffb0a</span>
<span class="cp">#define WATCHDOG	WORD_REF(WATCHDOG_ADDR)</span>

<span class="cp">#define WATCHDOG_EN	0x0001	</span><span class="cm">/* Watchdog Enabled */</span><span class="cp"></span>
<span class="cp">#define WATCHDOG_ISEL	0x0002	</span><span class="cm">/* Select the watchdog interrupt */</span><span class="cp"></span>
<span class="cp">#define WATCHDOG_INTF	0x0080	</span><span class="cm">/* Watchdog interrupt occurred */</span><span class="cp"></span>
<span class="cp">#define WATCHDOG_CNT_MASK  0x0300	</span><span class="cm">/* Watchdog Counter */</span><span class="cp"></span>
<span class="cp">#define WATCHDOG_CNT_SHIFT 8</span>

<span class="cm">/*</span>
<span class="cm"> * RTC Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define RTCCTL_ADDR	0xfffffb0c</span>
<span class="cp">#define RTCCTL		WORD_REF(RTCCTL_ADDR)</span>

<span class="cp">#define RTCCTL_XTL	0x0020	</span><span class="cm">/* Crystal Selection */</span><span class="cp"></span>
<span class="cp">#define RTCCTL_EN	0x0080	</span><span class="cm">/* RTC Enable */</span><span class="cp"></span>

<span class="cm">/* &#39;328-compatible definitions */</span>
<span class="cp">#define RTCCTL_384	RTCCTL_XTL</span>
<span class="cp">#define RTCCTL_ENABLE	RTCCTL_EN</span>

<span class="cm">/*</span>
<span class="cm"> * RTC Interrupt Status Register </span>
<span class="cm"> */</span>
<span class="cp">#define RTCISR_ADDR	0xfffffb0e</span>
<span class="cp">#define RTCISR		WORD_REF(RTCISR_ADDR)</span>

<span class="cp">#define RTCISR_SW	0x0001	</span><span class="cm">/* Stopwatch timed out */</span><span class="cp"></span>
<span class="cp">#define RTCISR_MIN	0x0002	</span><span class="cm">/* 1-minute interrupt has occurred */</span><span class="cp"></span>
<span class="cp">#define RTCISR_ALM	0x0004	</span><span class="cm">/* Alarm interrupt has occurred */</span><span class="cp"></span>
<span class="cp">#define RTCISR_DAY	0x0008	</span><span class="cm">/* 24-hour rollover interrupt has occurred */</span><span class="cp"></span>
<span class="cp">#define RTCISR_1HZ	0x0010	</span><span class="cm">/* 1Hz interrupt has occurred */</span><span class="cp"></span>
<span class="cp">#define RTCISR_HR	0x0020	</span><span class="cm">/* 1-hour interrupt has occurred */</span><span class="cp"></span>
<span class="cp">#define RTCISR_SAM0	0x0100	</span><span class="cm">/*   4Hz /   4.6875Hz interrupt has occurred */</span><span class="cp"> </span>
<span class="cp">#define RTCISR_SAM1	0x0200	</span><span class="cm">/*   8Hz /   9.3750Hz interrupt has occurred */</span><span class="cp"> </span>
<span class="cp">#define RTCISR_SAM2	0x0400	</span><span class="cm">/*  16Hz /  18.7500Hz interrupt has occurred */</span><span class="cp"> </span>
<span class="cp">#define RTCISR_SAM3	0x0800	</span><span class="cm">/*  32Hz /  37.5000Hz interrupt has occurred */</span><span class="cp"> </span>
<span class="cp">#define RTCISR_SAM4	0x1000	</span><span class="cm">/*  64Hz /  75.0000Hz interrupt has occurred */</span><span class="cp"> </span>
<span class="cp">#define RTCISR_SAM5	0x2000	</span><span class="cm">/* 128Hz / 150.0000Hz interrupt has occurred */</span><span class="cp"> </span>
<span class="cp">#define RTCISR_SAM6	0x4000	</span><span class="cm">/* 256Hz / 300.0000Hz interrupt has occurred */</span><span class="cp"> </span>
<span class="cp">#define RTCISR_SAM7	0x8000	</span><span class="cm">/* 512Hz / 600.0000Hz interrupt has occurred */</span><span class="cp"> </span>

<span class="cm">/*</span>
<span class="cm"> * RTC Interrupt Enable Register</span>
<span class="cm"> */</span>
<span class="cp">#define RTCIENR_ADDR	0xfffffb10</span>
<span class="cp">#define RTCIENR		WORD_REF(RTCIENR_ADDR)</span>

<span class="cp">#define RTCIENR_SW	0x0001	</span><span class="cm">/* Stopwatch interrupt enable */</span><span class="cp"></span>
<span class="cp">#define RTCIENR_MIN	0x0002	</span><span class="cm">/* 1-minute interrupt enable */</span><span class="cp"></span>
<span class="cp">#define RTCIENR_ALM	0x0004	</span><span class="cm">/* Alarm interrupt enable */</span><span class="cp"></span>
<span class="cp">#define RTCIENR_DAY	0x0008	</span><span class="cm">/* 24-hour rollover interrupt enable */</span><span class="cp"></span>
<span class="cp">#define RTCIENR_1HZ	0x0010	</span><span class="cm">/* 1Hz interrupt enable */</span><span class="cp"></span>
<span class="cp">#define RTCIENR_HR	0x0020	</span><span class="cm">/* 1-hour interrupt enable */</span><span class="cp"></span>
<span class="cp">#define RTCIENR_SAM0	0x0100	</span><span class="cm">/*   4Hz /   4.6875Hz interrupt enable */</span><span class="cp"> </span>
<span class="cp">#define RTCIENR_SAM1	0x0200	</span><span class="cm">/*   8Hz /   9.3750Hz interrupt enable */</span><span class="cp"> </span>
<span class="cp">#define RTCIENR_SAM2	0x0400	</span><span class="cm">/*  16Hz /  18.7500Hz interrupt enable */</span><span class="cp"> </span>
<span class="cp">#define RTCIENR_SAM3	0x0800	</span><span class="cm">/*  32Hz /  37.5000Hz interrupt enable */</span><span class="cp"> </span>
<span class="cp">#define RTCIENR_SAM4	0x1000	</span><span class="cm">/*  64Hz /  75.0000Hz interrupt enable */</span><span class="cp"> </span>
<span class="cp">#define RTCIENR_SAM5	0x2000	</span><span class="cm">/* 128Hz / 150.0000Hz interrupt enable */</span><span class="cp"> </span>
<span class="cp">#define RTCIENR_SAM6	0x4000	</span><span class="cm">/* 256Hz / 300.0000Hz interrupt enable */</span><span class="cp"> </span>
<span class="cp">#define RTCIENR_SAM7	0x8000	</span><span class="cm">/* 512Hz / 600.0000Hz interrupt enable */</span><span class="cp"> </span>

<span class="cm">/* </span>
<span class="cm"> * Stopwatch Minutes Register</span>
<span class="cm"> */</span>
<span class="cp">#define STPWCH_ADDR	0xfffffb12</span>
<span class="cp">#define STPWCH		WORD_REF(STPWCH)</span>

<span class="cp">#define STPWCH_CNT_MASK	 0x003f	</span><span class="cm">/* Stopwatch countdown value */</span><span class="cp"></span>
<span class="cp">#define SPTWCH_CNT_SHIFT 0</span>

<span class="cm">/*</span>
<span class="cm"> * RTC Day Count Register </span>
<span class="cm"> */</span>
<span class="cp">#define DAYR_ADDR	0xfffffb1a</span>
<span class="cp">#define DAYR		WORD_REF(DAYR_ADDR)</span>

<span class="cp">#define DAYR_DAYS_MASK	0x1ff	</span><span class="cm">/* Day Setting */</span><span class="cp"></span>
<span class="cp">#define DAYR_DAYS_SHIFT 0</span>

<span class="cm">/*</span>
<span class="cm"> * RTC Day Alarm Register </span>
<span class="cm"> */</span>
<span class="cp">#define DAYALARM_ADDR	0xfffffb1c</span>
<span class="cp">#define DAYALARM	WORD_REF(DAYALARM_ADDR)</span>

<span class="cp">#define DAYALARM_DAYSAL_MASK	0x01ff	</span><span class="cm">/* Day Setting of the Alarm */</span><span class="cp"></span>
<span class="cp">#define DAYALARM_DAYSAL_SHIFT 	0</span>

<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFFCxx -- DRAM Controller</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * DRAM Memory Configuration Register </span>
<span class="cm"> */</span>
<span class="cp">#define DRAMMC_ADDR	0xfffffc00</span>
<span class="cp">#define DRAMMC		WORD_REF(DRAMMC_ADDR)</span>

<span class="cp">#define DRAMMC_ROW12_MASK	0xc000	</span><span class="cm">/* Row address bit for MD12 */</span><span class="cp"></span>
<span class="cp">#define   DRAMMC_ROW12_PA10	0x0000</span>
<span class="cp">#define   DRAMMC_ROW12_PA21	0x4000	</span>
<span class="cp">#define   DRAMMC_ROW12_PA23	0x8000</span>
<span class="cp">#define	DRAMMC_ROW0_MASK	0x3000	</span><span class="cm">/* Row address bit for MD0 */</span><span class="cp"></span>
<span class="cp">#define	  DRAMMC_ROW0_PA11	0x0000</span>
<span class="cp">#define   DRAMMC_ROW0_PA22	0x1000</span>
<span class="cp">#define   DRAMMC_ROW0_PA23	0x2000</span>
<span class="cp">#define DRAMMC_ROW11		0x0800	</span><span class="cm">/* Row address bit for MD11 PA20/PA22 */</span><span class="cp"></span>
<span class="cp">#define DRAMMC_ROW10		0x0400	</span><span class="cm">/* Row address bit for MD10 PA19/PA21 */</span><span class="cp"></span>
<span class="cp">#define	DRAMMC_ROW9		0x0200	</span><span class="cm">/* Row address bit for MD9  PA9/PA19  */</span><span class="cp"></span>
<span class="cp">#define DRAMMC_ROW8		0x0100	</span><span class="cm">/* Row address bit for MD8  PA10/PA20 */</span><span class="cp"></span>
<span class="cp">#define DRAMMC_COL10		0x0080	</span><span class="cm">/* Col address bit for MD10 PA11/PA0  */</span><span class="cp"></span>
<span class="cp">#define DRAMMC_COL9		0x0040	</span><span class="cm">/* Col address bit for MD9  PA10/PA0  */</span><span class="cp"></span>
<span class="cp">#define DRAMMC_COL8		0x0020	</span><span class="cm">/* Col address bit for MD8  PA9/PA0   */</span><span class="cp"></span>
<span class="cp">#define DRAMMC_REF_MASK		0x001f	</span><span class="cm">/* Reresh Cycle */</span><span class="cp"></span>
<span class="cp">#define DRAMMC_REF_SHIFT	0</span>

<span class="cm">/*</span>
<span class="cm"> * DRAM Control Register</span>
<span class="cm"> */</span>
<span class="cp">#define DRAMC_ADDR	0xfffffc02</span>
<span class="cp">#define DRAMC		WORD_REF(DRAMC_ADDR)</span>

<span class="cp">#define DRAMC_DWE	   0x0001	</span><span class="cm">/* DRAM Write Enable */</span><span class="cp"></span>
<span class="cp">#define DRAMC_RST	   0x0002	</span><span class="cm">/* Reset Burst Refresh Enable */</span><span class="cp"></span>
<span class="cp">#define DRAMC_LPR	   0x0004	</span><span class="cm">/* Low-Power Refresh Enable */</span><span class="cp"></span>
<span class="cp">#define DRAMC_SLW	   0x0008	</span><span class="cm">/* Slow RAM */</span><span class="cp"></span>
<span class="cp">#define DRAMC_LSP	   0x0010	</span><span class="cm">/* Light Sleep */</span><span class="cp"></span>
<span class="cp">#define DRAMC_MSW	   0x0020	</span><span class="cm">/* Slow Multiplexing */</span><span class="cp"></span>
<span class="cp">#define DRAMC_WS_MASK	   0x00c0	</span><span class="cm">/* Wait-states */</span><span class="cp"></span>
<span class="cp">#define DRAMC_WS_SHIFT	   6</span>
<span class="cp">#define DRAMC_PGSZ_MASK    0x0300	</span><span class="cm">/* Page Size for fast page mode */</span><span class="cp"></span>
<span class="cp">#define DRAMC_PGSZ_SHIFT   8</span>
<span class="cp">#define   DRAMC_PGSZ_256K  0x0000	</span>
<span class="cp">#define   DRAMC_PGSZ_512K  0x0100</span>
<span class="cp">#define   DRAMC_PGSZ_1024K 0x0200</span>
<span class="cp">#define	  DRAMC_PGSZ_2048K 0x0300</span>
<span class="cp">#define DRAMC_EDO	   0x0400	</span><span class="cm">/* EDO DRAM */</span><span class="cp"></span>
<span class="cp">#define DRAMC_CLK	   0x0800	</span><span class="cm">/* Refresh Timer Clock source select */</span><span class="cp"></span>
<span class="cp">#define DRAMC_BC_MASK	   0x3000	</span><span class="cm">/* Page Access Clock Cycle (FP mode) */</span><span class="cp"></span>
<span class="cp">#define DRAMC_BC_SHIFT	   12</span>
<span class="cp">#define DRAMC_RM	   0x4000	</span><span class="cm">/* Refresh Mode */</span><span class="cp"></span>
<span class="cp">#define DRAMC_EN	   0x8000	</span><span class="cm">/* DRAM Controller enable */</span><span class="cp"></span>


<span class="cm">/**********</span>
<span class="cm"> *</span>
<span class="cm"> * 0xFFFFFDxx -- In-Circuit Emulation (ICE)</span>
<span class="cm"> *</span>
<span class="cm"> **********/</span>

<span class="cm">/*</span>
<span class="cm"> * ICE Module Address Compare Register</span>
<span class="cm"> */</span>
<span class="cp">#define ICEMACR_ADDR	0xfffffd00</span>
<span class="cp">#define ICEMACR		LONG_REF(ICEMACR_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * ICE Module Address Mask Register</span>
<span class="cm"> */</span>
<span class="cp">#define ICEMAMR_ADDR	0xfffffd04</span>
<span class="cp">#define ICEMAMR		LONG_REF(ICEMAMR_ADDR)</span>

<span class="cm">/*</span>
<span class="cm"> * ICE Module Control Compare Register</span>
<span class="cm"> */</span>
<span class="cp">#define ICEMCCR_ADDR	0xfffffd08</span>
<span class="cp">#define ICEMCCR		WORD_REF(ICEMCCR_ADDR)</span>

<span class="cp">#define ICEMCCR_PD	0x0001	</span><span class="cm">/* Program/Data Cycle Selection */</span><span class="cp"></span>
<span class="cp">#define ICEMCCR_RW	0x0002	</span><span class="cm">/* Read/Write Cycle Selection */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * ICE Module Control Mask Register</span>
<span class="cm"> */</span>
<span class="cp">#define ICEMCMR_ADDR	0xfffffd0a</span>
<span class="cp">#define ICEMCMR		WORD_REF(ICEMCMR_ADDR)</span>

<span class="cp">#define ICEMCMR_PDM	0x0001	</span><span class="cm">/* Program/Data Cycle Mask */</span><span class="cp"></span>
<span class="cp">#define ICEMCMR_RWM	0x0002	</span><span class="cm">/* Read/Write Cycle Mask */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * ICE Module Control Register </span>
<span class="cm"> */</span>
<span class="cp">#define ICEMCR_ADDR	0xfffffd0c</span>
<span class="cp">#define ICEMCR		WORD_REF(ICEMCR_ADDR)</span>

<span class="cp">#define ICEMCR_CEN	0x0001	</span><span class="cm">/* Compare Enable */</span><span class="cp"></span>
<span class="cp">#define ICEMCR_PBEN	0x0002	</span><span class="cm">/* Program Break Enable */</span><span class="cp"></span>
<span class="cp">#define ICEMCR_SB	0x0004	</span><span class="cm">/* Single Breakpoint */</span><span class="cp"></span>
<span class="cp">#define ICEMCR_HMDIS	0x0008	</span><span class="cm">/* HardMap disable */</span><span class="cp"></span>
<span class="cp">#define ICEMCR_BBIEN	0x0010	</span><span class="cm">/* Bus Break Interrupt Enable */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * ICE Module Status Register </span>
<span class="cm"> */</span>
<span class="cp">#define ICEMSR_ADDR	0xfffffd0e</span>
<span class="cp">#define ICEMSR		WORD_REF(ICEMSR_ADDR)</span>

<span class="cp">#define ICEMSR_EMUEN	0x0001	</span><span class="cm">/* Emulation Enable */</span><span class="cp"></span>
<span class="cp">#define ICEMSR_BRKIRQ	0x0002	</span><span class="cm">/* A-Line Vector Fetch Detected */</span><span class="cp"></span>
<span class="cp">#define ICEMSR_BBIRQ	0x0004	</span><span class="cm">/* Bus Break Interrupt Detected */</span><span class="cp"></span>
<span class="cp">#define ICEMSR_EMIRQ	0x0008	</span><span class="cm">/* EMUIRQ Falling Edge Detected */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* _MC68EZ328_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
