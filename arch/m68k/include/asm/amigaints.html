<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › m68k › include › asm › amigaints.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>amigaints.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">** amigaints.h -- Amiga Linux interrupt handling structs and prototypes</span>
<span class="cm">**</span>
<span class="cm">** Copyright 1992 by Greg Harp</span>
<span class="cm">**</span>
<span class="cm">** This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm">** License.  See the file COPYING in the main directory of this archive</span>
<span class="cm">** for more details.</span>
<span class="cm">**</span>
<span class="cm">** Created 10/2/92 by Greg Harp</span>
<span class="cm">*/</span>

<span class="cp">#ifndef _ASMm68k_AMIGAINTS_H_</span>
<span class="cp">#define _ASMm68k_AMIGAINTS_H_</span>

<span class="cp">#include &lt;asm/irq.h&gt;</span>

<span class="cm">/*</span>
<span class="cm">** Amiga Interrupt sources.</span>
<span class="cm">**</span>
<span class="cm">*/</span>

<span class="cp">#define AUTO_IRQS           (8)</span>
<span class="cp">#define AMI_STD_IRQS        (14)</span>
<span class="cp">#define CIA_IRQS            (5)</span>
<span class="cp">#define AMI_IRQS            (32) </span><span class="cm">/* AUTO_IRQS+AMI_STD_IRQS+2*CIA_IRQS */</span><span class="cp"></span>

<span class="cm">/* builtin serial port interrupts */</span>
<span class="cp">#define IRQ_AMIGA_TBE		(IRQ_USER+0)</span>
<span class="cp">#define IRQ_AMIGA_RBF		(IRQ_USER+11)</span>

<span class="cm">/* floppy disk interrupts */</span>
<span class="cp">#define IRQ_AMIGA_DSKBLK	(IRQ_USER+1)</span>
<span class="cp">#define IRQ_AMIGA_DSKSYN	(IRQ_USER+12)</span>

<span class="cm">/* software interrupts */</span>
<span class="cp">#define IRQ_AMIGA_SOFT		(IRQ_USER+2)</span>

<span class="cm">/* interrupts from external hardware */</span>
<span class="cp">#define IRQ_AMIGA_PORTS		IRQ_AUTO_2</span>
<span class="cp">#define IRQ_AMIGA_EXTER		IRQ_AUTO_6</span>

<span class="cm">/* copper interrupt */</span>
<span class="cp">#define IRQ_AMIGA_COPPER	(IRQ_USER+4)</span>

<span class="cm">/* vertical blanking interrupt */</span>
<span class="cp">#define IRQ_AMIGA_VERTB		(IRQ_USER+5)</span>

<span class="cm">/* Blitter done interrupt */</span>
<span class="cp">#define IRQ_AMIGA_BLIT		(IRQ_USER+6)</span>

<span class="cm">/* Audio interrupts */</span>
<span class="cp">#define IRQ_AMIGA_AUD0		(IRQ_USER+7)</span>
<span class="cp">#define IRQ_AMIGA_AUD1		(IRQ_USER+8)</span>
<span class="cp">#define IRQ_AMIGA_AUD2		(IRQ_USER+9)</span>
<span class="cp">#define IRQ_AMIGA_AUD3		(IRQ_USER+10)</span>

<span class="cm">/* CIA interrupt sources */</span>
<span class="cp">#define IRQ_AMIGA_CIAA		(IRQ_USER+14)</span>
<span class="cp">#define IRQ_AMIGA_CIAA_TA	(IRQ_USER+14)</span>
<span class="cp">#define IRQ_AMIGA_CIAA_TB	(IRQ_USER+15)</span>
<span class="cp">#define IRQ_AMIGA_CIAA_ALRM	(IRQ_USER+16)</span>
<span class="cp">#define IRQ_AMIGA_CIAA_SP	(IRQ_USER+17)</span>
<span class="cp">#define IRQ_AMIGA_CIAA_FLG	(IRQ_USER+18)</span>
<span class="cp">#define IRQ_AMIGA_CIAB		(IRQ_USER+19)</span>
<span class="cp">#define IRQ_AMIGA_CIAB_TA	(IRQ_USER+19)</span>
<span class="cp">#define IRQ_AMIGA_CIAB_TB	(IRQ_USER+20)</span>
<span class="cp">#define IRQ_AMIGA_CIAB_ALRM	(IRQ_USER+21)</span>
<span class="cp">#define IRQ_AMIGA_CIAB_SP	(IRQ_USER+22)</span>
<span class="cp">#define IRQ_AMIGA_CIAB_FLG	(IRQ_USER+23)</span>


<span class="cm">/* INTREQR masks */</span>
<span class="cp">#define IF_SETCLR   0x8000      </span><span class="cm">/* set/clr bit */</span><span class="cp"></span>
<span class="cp">#define IF_INTEN    0x4000	</span><span class="cm">/* master interrupt bit in INT* registers */</span><span class="cp"></span>
<span class="cp">#define IF_EXTER    0x2000	</span><span class="cm">/* external level 6 and CIA B interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_DSKSYN   0x1000	</span><span class="cm">/* disk sync interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_RBF	    0x0800	</span><span class="cm">/* serial receive buffer full interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_AUD3     0x0400	</span><span class="cm">/* audio channel 3 done interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_AUD2     0x0200	</span><span class="cm">/* audio channel 2 done interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_AUD1     0x0100	</span><span class="cm">/* audio channel 1 done interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_AUD0     0x0080	</span><span class="cm">/* audio channel 0 done interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_BLIT     0x0040	</span><span class="cm">/* blitter done interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_VERTB    0x0020	</span><span class="cm">/* vertical blanking interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_COPER    0x0010	</span><span class="cm">/* copper interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_PORTS    0x0008	</span><span class="cm">/* external level 2 and CIA A interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_SOFT     0x0004	</span><span class="cm">/* software initiated interrupt */</span><span class="cp"></span>
<span class="cp">#define IF_DSKBLK   0x0002	</span><span class="cm">/* diskblock DMA finished */</span><span class="cp"></span>
<span class="cp">#define IF_TBE	    0x0001	</span><span class="cm">/* serial transmit buffer empty interrupt */</span><span class="cp"></span>

<span class="cm">/* CIA interrupt control register bits */</span>

<span class="cp">#define CIA_ICR_TA	0x01</span>
<span class="cp">#define CIA_ICR_TB	0x02</span>
<span class="cp">#define CIA_ICR_ALRM	0x04</span>
<span class="cp">#define CIA_ICR_SP	0x08</span>
<span class="cp">#define CIA_ICR_FLG	0x10</span>
<span class="cp">#define CIA_ICR_ALL	0x1f</span>
<span class="cp">#define CIA_ICR_SETCLR	0x80</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">amiga_init_IRQ</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cm">/* to access the interrupt control registers of CIA&#39;s use only</span>
<span class="cm">** these functions, they behave exactly like the amiga os routines</span>
<span class="cm">*/</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">ciabase</span> <span class="n">ciaa_base</span><span class="p">,</span> <span class="n">ciab_base</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">cia_init_IRQ</span><span class="p">(</span><span class="k">struct</span> <span class="n">ciabase</span> <span class="o">*</span><span class="n">base</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">cia_set_irq</span><span class="p">(</span><span class="k">struct</span> <span class="n">ciabase</span> <span class="o">*</span><span class="n">base</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">mask</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">cia_able_irq</span><span class="p">(</span><span class="k">struct</span> <span class="n">ciabase</span> <span class="o">*</span><span class="n">base</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">mask</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* asm-m68k/amigaints.h */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
