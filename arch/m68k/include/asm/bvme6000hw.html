<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › m68k › include › asm › bvme6000hw.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>bvme6000hw.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _M68K_BVME6000HW_H_</span>
<span class="cp">#define _M68K_BVME6000HW_H_</span>

<span class="cp">#include &lt;asm/irq.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * PIT structure</span>
<span class="cm"> */</span>

<span class="cp">#define BVME_PIT_BASE	0xffa00000</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>
	<span class="n">pad_a</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pgcr</span><span class="p">,</span>
	<span class="n">pad_b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">psrr</span><span class="p">,</span>
	<span class="n">pad_c</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">paddr</span><span class="p">,</span>
	<span class="n">pad_d</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pbddr</span><span class="p">,</span>
	<span class="n">pad_e</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pcddr</span><span class="p">,</span>
	<span class="n">pad_f</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pivr</span><span class="p">,</span>
	<span class="n">pad_g</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pacr</span><span class="p">,</span>
	<span class="n">pad_h</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pbcr</span><span class="p">,</span>
	<span class="n">pad_i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">padr</span><span class="p">,</span>
	<span class="n">pad_j</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pbdr</span><span class="p">,</span>
	<span class="n">pad_k</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">paar</span><span class="p">,</span>
	<span class="n">pad_l</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pbar</span><span class="p">,</span>
	<span class="n">pad_m</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pcdr</span><span class="p">,</span>
	<span class="n">pad_n</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">psr</span><span class="p">,</span>
	<span class="n">pad_o</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">res1</span><span class="p">,</span>
	<span class="n">pad_p</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">res2</span><span class="p">,</span>
	<span class="n">pad_q</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">tcr</span><span class="p">,</span>
	<span class="n">pad_r</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">tivr</span><span class="p">,</span>
	<span class="n">pad_s</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">res3</span><span class="p">,</span>
	<span class="n">pad_t</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cprh</span><span class="p">,</span>
	<span class="n">pad_u</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cprm</span><span class="p">,</span>
	<span class="n">pad_v</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cprl</span><span class="p">,</span>
	<span class="n">pad_w</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">res4</span><span class="p">,</span>
	<span class="n">pad_x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">crh</span><span class="p">,</span>
	<span class="n">pad_y</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">crm</span><span class="p">,</span>
	<span class="n">pad_z</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">crl</span><span class="p">,</span>
	<span class="n">pad_A</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">tsr</span><span class="p">,</span>
	<span class="n">pad_B</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">res5</span><span class="p">;</span>
<span class="p">}</span> <span class="n">PitRegs_t</span><span class="p">,</span> <span class="o">*</span><span class="n">PitRegsPtr</span><span class="p">;</span>

<span class="cp">#define bvmepit   ((*(volatile PitRegsPtr)(BVME_PIT_BASE)))</span>

<span class="cp">#define BVME_RTC_BASE	0xff900000</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">char</span>
	<span class="n">pad_a</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">msr</span><span class="p">,</span>
	<span class="n">pad_b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">t0cr_rtmr</span><span class="p">,</span>
	<span class="n">pad_c</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">t1cr_omr</span><span class="p">,</span>
	<span class="n">pad_d</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">pfr_icr0</span><span class="p">,</span>
	<span class="n">pad_e</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">irr_icr1</span><span class="p">,</span>
	<span class="n">pad_f</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_tenms</span><span class="p">,</span>
	<span class="n">pad_g</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_sec</span><span class="p">,</span>
	<span class="n">pad_h</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_min</span><span class="p">,</span>
	<span class="n">pad_i</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_hr</span><span class="p">,</span>
	<span class="n">pad_j</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_dom</span><span class="p">,</span>
	<span class="n">pad_k</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_mth</span><span class="p">,</span>
	<span class="n">pad_l</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_year</span><span class="p">,</span>
	<span class="n">pad_m</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_ujcc</span><span class="p">,</span>
	<span class="n">pad_n</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_hjcc</span><span class="p">,</span>
	<span class="n">pad_o</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">bcd_dow</span><span class="p">,</span>
	<span class="n">pad_p</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">t0lsb</span><span class="p">,</span>
	<span class="n">pad_q</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">t0msb</span><span class="p">,</span>
	<span class="n">pad_r</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">t1lsb</span><span class="p">,</span>
	<span class="n">pad_s</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">t1msb</span><span class="p">,</span>
	<span class="n">pad_t</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cmp_sec</span><span class="p">,</span>
	<span class="n">pad_u</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cmp_min</span><span class="p">,</span>
	<span class="n">pad_v</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cmp_hr</span><span class="p">,</span>
	<span class="n">pad_w</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cmp_dom</span><span class="p">,</span>
	<span class="n">pad_x</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cmp_mth</span><span class="p">,</span>
	<span class="n">pad_y</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">cmp_dow</span><span class="p">,</span>
	<span class="n">pad_z</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">sav_sec</span><span class="p">,</span>
	<span class="n">pad_A</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">sav_min</span><span class="p">,</span>
	<span class="n">pad_B</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">sav_hr</span><span class="p">,</span>
	<span class="n">pad_C</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">sav_dom</span><span class="p">,</span>
	<span class="n">pad_D</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">sav_mth</span><span class="p">,</span>
	<span class="n">pad_E</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">ram</span><span class="p">,</span>
	<span class="n">pad_F</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">test</span><span class="p">;</span>
<span class="p">}</span> <span class="n">RtcRegs_t</span><span class="p">,</span> <span class="o">*</span><span class="n">RtcPtr_t</span><span class="p">;</span>


<span class="cp">#define BVME_I596_BASE	0xff100000</span>

<span class="cp">#define BVME_ETHIRQ_REG	0xff20000b</span>

<span class="cp">#define BVME_LOCAL_IRQ_STAT  0xff20000f</span>

<span class="cp">#define BVME_ETHERR          0x02</span>
<span class="cp">#define BVME_ABORT_STATUS    0x08</span>

<span class="cp">#define BVME_NCR53C710_BASE	0xff000000</span>

<span class="cp">#define BVME_SCC_A_ADDR	0xffb0000b</span>
<span class="cp">#define BVME_SCC_B_ADDR	0xffb00003</span>
<span class="cp">#define BVME_SCC_RTxC	7372800</span>

<span class="cp">#define BVME_CONFIG_REG	0xff500003</span>

<span class="cp">#define config_reg_ptr	(volatile unsigned char *)BVME_CONFIG_REG</span>

<span class="cp">#define BVME_CONFIG_SW1	0x08</span>
<span class="cp">#define BVME_CONFIG_SW2	0x04</span>
<span class="cp">#define BVME_CONFIG_SW3	0x02</span>
<span class="cp">#define BVME_CONFIG_SW4	0x01</span>


<span class="cp">#define BVME_IRQ_TYPE_PRIO	0</span>

<span class="cp">#define BVME_IRQ_PRN		(IRQ_USER+20)</span>
<span class="cp">#define BVME_IRQ_TIMER		(IRQ_USER+25)</span>
<span class="cp">#define BVME_IRQ_I596		IRQ_AUTO_2</span>
<span class="cp">#define BVME_IRQ_SCSI		IRQ_AUTO_3</span>
<span class="cp">#define BVME_IRQ_RTC		IRQ_AUTO_6</span>
<span class="cp">#define BVME_IRQ_ABORT		IRQ_AUTO_7</span>

<span class="cm">/* SCC interrupts */</span>
<span class="cp">#define BVME_IRQ_SCC_BASE		IRQ_USER</span>
<span class="cp">#define BVME_IRQ_SCCB_TX		IRQ_USER</span>
<span class="cp">#define BVME_IRQ_SCCB_STAT		(IRQ_USER+2)</span>
<span class="cp">#define BVME_IRQ_SCCB_RX		(IRQ_USER+4)</span>
<span class="cp">#define BVME_IRQ_SCCB_SPCOND		(IRQ_USER+6)</span>
<span class="cp">#define BVME_IRQ_SCCA_TX		(IRQ_USER+8)</span>
<span class="cp">#define BVME_IRQ_SCCA_STAT		(IRQ_USER+10)</span>
<span class="cp">#define BVME_IRQ_SCCA_RX		(IRQ_USER+12)</span>
<span class="cp">#define BVME_IRQ_SCCA_SPCOND		(IRQ_USER+14)</span>

<span class="cm">/* Address control registers */</span>

<span class="cp">#define BVME_ACR_A32VBA		0xff400003</span>
<span class="cp">#define BVME_ACR_A32MSK		0xff410003</span>
<span class="cp">#define BVME_ACR_A24VBA		0xff420003</span>
<span class="cp">#define BVME_ACR_A24MSK		0xff430003</span>
<span class="cp">#define BVME_ACR_A16VBA		0xff440003</span>
<span class="cp">#define BVME_ACR_A32LBA		0xff450003</span>
<span class="cp">#define BVME_ACR_A24LBA		0xff460003</span>
<span class="cp">#define BVME_ACR_ADDRCTL	0xff470003</span>

<span class="cp">#define bvme_acr_a32vba		*(volatile unsigned char *)BVME_ACR_A32VBA</span>
<span class="cp">#define bvme_acr_a32msk		*(volatile unsigned char *)BVME_ACR_A32MSK</span>
<span class="cp">#define bvme_acr_a24vba		*(volatile unsigned char *)BVME_ACR_A24VBA</span>
<span class="cp">#define bvme_acr_a24msk		*(volatile unsigned char *)BVME_ACR_A24MSK</span>
<span class="cp">#define bvme_acr_a16vba		*(volatile unsigned char *)BVME_ACR_A16VBA</span>
<span class="cp">#define bvme_acr_a32lba		*(volatile unsigned char *)BVME_ACR_A32LBA</span>
<span class="cp">#define bvme_acr_a24lba		*(volatile unsigned char *)BVME_ACR_A24LBA</span>
<span class="cp">#define bvme_acr_addrctl	*(volatile unsigned char *)BVME_ACR_ADDRCTL</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
