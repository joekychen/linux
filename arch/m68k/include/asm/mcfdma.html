<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › m68k › include › asm › mcfdma.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>mcfdma.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> *	mcfdma.h -- Coldfire internal DMA support defines.</span>
<span class="cm"> *</span>
<span class="cm"> *	(C) Copyright 1999, Rob Scott (rscott@mtrob.ml.org)</span>
<span class="cm"> */</span>

<span class="cm">/****************************************************************************/</span>
<span class="cp">#ifndef	mcfdma_h</span>
<span class="cp">#define	mcfdma_h</span>
<span class="cm">/****************************************************************************/</span>

<span class="cp">#if !defined(CONFIG_M5272)</span>

<span class="cm">/*</span>
<span class="cm"> *	Define the DMA register set addresses.</span>
<span class="cm"> *      Note: these are longword registers, use unsigned long as data type</span>
<span class="cm"> */</span>
<span class="cp">#define	MCFDMA_SAR		0x00		</span><span class="cm">/* DMA source address (r/w) */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DAR		0x01		</span><span class="cm">/* DMA destination adr (r/w) */</span><span class="cp"></span>
<span class="cm">/* these are word registers, use unsigned short data type */</span>
<span class="cp">#define	MCFDMA_DCR		0x04		</span><span class="cm">/* DMA control reg (r/w) */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_BCR		0x06		</span><span class="cm">/* DMA byte count reg (r/w) */</span><span class="cp"></span>
<span class="cm">/* these are byte registers, use unsiged char data type */</span>
<span class="cp">#define	MCFDMA_DSR		0x10		</span><span class="cm">/* DMA status reg (r/w) */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DIVR		0x14		</span><span class="cm">/* DMA interrupt vec (r/w) */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	Bit definitions for the DMA Control Register (DCR).</span>
<span class="cm"> */</span>
<span class="cp">#define	MCFDMA_DCR_INT	        0x8000		</span><span class="cm">/* Enable completion irq */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_EEXT	        0x4000		</span><span class="cm">/* Enable external DMA req */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_CS 	        0x2000		</span><span class="cm">/* Enable cycle steal */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_AA   	0x1000		</span><span class="cm">/* Enable auto alignment */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_BWC_MASK  	0x0E00		</span><span class="cm">/* Bandwidth ctl mask */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DCR_BWC_512      0x0200          </span><span class="cm">/* Bandwidth:   512 Bytes */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DCR_BWC_1024     0x0400          </span><span class="cm">/* Bandwidth:  1024 Bytes */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DCR_BWC_2048     0x0600          </span><span class="cm">/* Bandwidth:  2048 Bytes */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DCR_BWC_4096     0x0800          </span><span class="cm">/* Bandwidth:  4096 Bytes */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DCR_BWC_8192     0x0a00          </span><span class="cm">/* Bandwidth:  8192 Bytes */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DCR_BWC_16384    0x0c00          </span><span class="cm">/* Bandwidth: 16384 Bytes */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DCR_BWC_32768    0x0e00          </span><span class="cm">/* Bandwidth: 32768 Bytes */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_SAA         	0x0100		</span><span class="cm">/* Single Address Access */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_S_RW        	0x0080		</span><span class="cm">/* SAA read/write value */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_SINC        	0x0040		</span><span class="cm">/* Source addr inc enable */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_SSIZE_MASK  	0x0030		</span><span class="cm">/* Src xfer size */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_SSIZE_LONG  	0x0000		</span><span class="cm">/* Src xfer size, 00 = longw */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_SSIZE_BYTE  	0x0010		</span><span class="cm">/* Src xfer size, 01 = byte */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_SSIZE_WORD  	0x0020		</span><span class="cm">/* Src xfer size, 10 = word */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_SSIZE_LINE  	0x0030		</span><span class="cm">/* Src xfer size, 11 = line */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_DINC        	0x0008		</span><span class="cm">/* Dest addr inc enable */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_DSIZE_MASK  	0x0006		</span><span class="cm">/* Dest xfer size */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_DSIZE_LONG  	0x0000		</span><span class="cm">/* Dest xfer size, 00 = long */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_DSIZE_BYTE  	0x0002		</span><span class="cm">/* Dest xfer size, 01 = byte */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_DSIZE_WORD  	0x0004		</span><span class="cm">/* Dest xfer size, 10 = word */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_DSIZE_LINE  	0x0006		</span><span class="cm">/* Dest xfer size, 11 = line */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DCR_START       	0x0001		</span><span class="cm">/* Start transfer */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *	Bit definitions for the DMA Status Register (DSR).</span>
<span class="cm"> */</span>
<span class="cp">#define	MCFDMA_DSR_CE	        0x40		</span><span class="cm">/* Config error */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DSR_BES	        0x20		</span><span class="cm">/* Bus Error on source */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DSR_BED 	        0x10		</span><span class="cm">/* Bus Error on dest */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DSR_REQ   	0x04		</span><span class="cm">/* Requests remaining */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DSR_BSY  	0x02		</span><span class="cm">/* Busy */</span><span class="cp"></span>
<span class="cp">#define	MCFDMA_DSR_DONE        	0x01		</span><span class="cm">/* DMA transfer complete */</span><span class="cp"></span>

<span class="cp">#else </span><span class="cm">/* This is an MCF5272 */</span><span class="cp"></span>

<span class="cp">#define MCFDMA_DMR        0x00    </span><span class="cm">/* Mode Register (r/w) */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR        0x03    </span><span class="cm">/* Interrupt trigger register (r/w) */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DSAR       0x03    </span><span class="cm">/* Source Address register (r/w) */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DDAR       0x04    </span><span class="cm">/* Destination Address register (r/w) */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DBCR       0x02    </span><span class="cm">/* Byte Count Register (r/w) */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for the DMA Mode Register (DMR) */</span>
<span class="cp">#define MCFDMA_DMR_RESET     0x80000000L </span><span class="cm">/* Reset bit */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_EN        0x40000000L </span><span class="cm">/* DMA enable */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_RQM       0x000C0000L </span><span class="cm">/* Request Mode Mask */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_RQM_DUAL  0x000C0000L </span><span class="cm">/* Dual address mode, the only valid mode */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTM      0x00002000L </span><span class="cm">/* Destination addressing mask */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTM_SA   0x00000000L </span><span class="cm">/* Destination uses static addressing */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTM_IA   0x00002000L </span><span class="cm">/* Destination uses incremental addressing */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTT_UD   0x00000400L </span><span class="cm">/* Destination is user data */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTT_UC   0x00000800L </span><span class="cm">/* Destination is user code */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTT_SD   0x00001400L </span><span class="cm">/* Destination is supervisor data */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTT_SC   0x00001800L </span><span class="cm">/* Destination is supervisor code */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTS_OFF  0x8         </span><span class="cm">/* offset to the destination size bits */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTS_LONG 0x00000000L </span><span class="cm">/* Long destination size */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTS_BYTE 0x00000100L </span><span class="cm">/* Byte destination size */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTS_WORD 0x00000200L </span><span class="cm">/* Word destination size */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_DSTS_LINE 0x00000300L </span><span class="cm">/* Line destination size */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCM      0x00000020L </span><span class="cm">/* Source addressing mask */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCM_SA   0x00000000L </span><span class="cm">/* Source uses static addressing */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCM_IA   0x00000020L </span><span class="cm">/* Source uses incremental addressing */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCT_UD   0x00000004L </span><span class="cm">/* Source is user data */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCT_UC   0x00000008L </span><span class="cm">/* Source is user code */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCT_SD   0x00000014L </span><span class="cm">/* Source is supervisor data */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCT_SC   0x00000018L </span><span class="cm">/* Source is supervisor code */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCS_OFF  0x0         </span><span class="cm">/* Offset to the source size bits */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCS_LONG 0x00000000L </span><span class="cm">/* Long source size */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCS_BYTE 0x00000001L </span><span class="cm">/* Byte source size */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCS_WORD 0x00000002L </span><span class="cm">/* Word source size */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DMR_SRCS_LINE 0x00000003L </span><span class="cm">/* Line source size */</span><span class="cp"></span>

<span class="cm">/* Bit definitions for the DMA interrupt register (DIR) */</span>
<span class="cp">#define MCFDMA_DIR_INVEN     0x1000 </span><span class="cm">/* Invalid Combination interrupt enable */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR_ASCEN     0x0800 </span><span class="cm">/* Address Sequence Complete (Completion) interrupt enable */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR_TEEN      0x0200 </span><span class="cm">/* Transfer Error interrupt enable */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR_TCEN      0x0100 </span><span class="cm">/* Transfer Complete (a bus transfer, that is) interrupt enable */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR_INV       0x0010 </span><span class="cm">/* Invalid Combination */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR_ASC       0x0008 </span><span class="cm">/* Address Sequence Complete (DMA Completion) */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR_TE        0x0002 </span><span class="cm">/* Transfer Error */</span><span class="cp"></span>
<span class="cp">#define MCFDMA_DIR_TC        0x0001 </span><span class="cm">/* Transfer Complete */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* !defined(CONFIG_M5272) */</span><span class="cp"> </span>

<span class="cm">/****************************************************************************/</span>
<span class="cp">#endif	</span><span class="cm">/* mcfdma_h */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
