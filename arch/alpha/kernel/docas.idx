f | irq_impl.h | s | 1.2K | 31 | Thomas Gleixner | tglx@linutronix.de | 1299095875 |  | alpha: i8259, alcor, jensen wildfire: Convert irq_chip  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | binfmt_loader.c | s | 1.1K | 42 | Al Viro | viro@zeniv.linux.org.uk | 1332293386 |  | __register_binfmt() made void  Just don't pass NULL to it - nobody does, anyway.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | machvec_impl.h | s | 5.1K | 137 | Ivan Kokshaysky | ink@jurassic.park.msu.ru | 1288137132 |  | alpha: use single HAE window on T2 core logic (gamma, sable)  T2 are the only alpha SMP systems that do HAE switching at runtime, which is fundamentally racy on SMP.  This patch limits MMIO space on T2 to HAE0 only, like we did on MCPCIA (rawhide) long ago.  This leaves us with only 112 Mb of PCI MMIO (128 Mb HAE aperture minus 16 Mb reserved for EISA), but since linux PCI allocations are reasonably tight, it should be enough for sane hardware configurations.  Also, fix a typo in MCPCIA_FROB_MMIO macro which shouldn't call set_hae() if MCPCIA_ONE_HAE_WINDOW is defined.  It's more for correctness, as set_hae() is a no-op anyway in that case.  Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Matt Turner <mattst88@gmail.com> Cc: Richard Henderson <rth@twiddle.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | pc873xx.c | s | 1.7K | 68 | Morten H. Larsen | m-larsen@post6.tele.dk | 1276625948 |  | alpha: Detect Super IO chip, no IDE on Avanti, enable EPP19  This patch probes for the Super IO chip and reserves the IO range when found. It avoids enabling the IDE interface on the Avanti family, since none has IDE. It enables the Enhanced Parallel Port v1.9 feature.  Signed-off-by: Morten H. Larsen <m-larsen@post6.tele.dk> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | pci.c | s | 11K | 383 | Bjorn Helgaas | bhelgaas@google.com | 1330053541 |  | alpha/PCI: get rid of device resource fixups  Tell the PCI core about host bridge address translation so it can take care of bus-to-resource conversion for us.  CC: linux-alpha@vger.kernel.org Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
f | sys_marvel.c | s | 11K | 436 | Matt Turner | mattst88@gmail.com | 1335988446 |  | alpha: silence 'const' warning in sys_marvel.c  warning: passing argument 1 of 'pci_find_capability' discards 'const' qualifier from pointer target type  Signed-off-by: Matt Turner <mattst88@gmail.com>
f | Makefile | g | 4.1K |  | Thomas Gleixner | tglx@linutronix.de | 1336215621 |  | alpha: Use generic init_task  Identical code. Use the generic version.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Matt Turner <mattst88@gmail.com> Link: http://lkml.kernel.org/r/20120503085034.162634519@linutronix.de
f | core_lca.c | s | 13K | 439 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | sys_takara.c | s | 7.9K | 250 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | time.c | s | 14K | 433 | Linus Torvalds | torvalds@linux-foundation.org | 1311378716 |  | Merge branch 'timers-cleanup-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip  * 'timers-cleanup-for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/tip/linux-2.6-tip:   mips: Fix i8253 clockevent fallout   i8253: Cleanup outb/inb magic   arm: Footbridge: Use common i8253 clockevent   mips: Use common i8253 clockevent   x86: Use common i8253 clockevent   i8253: Create common clockevent implementation   i8253: Export i8253_lock unconditionally   pcpskr: MIPS: Make config dependencies finer grained   pcspkr: Cleanup Kconfig dependencies   i8253: Move remaining content and delete asm/i8253.h   i8253: Consolidate definitions of PIT_LATCH   x86: i8253: Consolidate definitions of global_clock_event   i8253: Alpha, PowerPC: Remove unused asm/8253pit.h   alpha: i8253: Cleanup remaining users of i8253pit.h   i8253: Remove I8253_LOCK config   i8253: Make pcsp sound driver use the shared i8253_lock   i8253: Make pcspkr input driver use the shared i8253_lock   i8253: Consolidate all kernel definitions of i8253_lock   i8253: Unify all kernel declarations of i8253_lock   i8253: Create linux/i8253.h and use it in all 8253 related files
f | err_impl.h | s | 2.6K | 76 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | core_cia.c | s | 32K | 1044 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | pci_iommu.c | s | 25K | 779 | Jiri Kosina | jkosina@suse.cz | 1333914532 |  | Merge branch 'master' into for-next  Merge with latest Linus' tree, as I have incoming patches that fix code that is newer than current HEAD of for-next.  Conflicts: 	drivers/net/ethernet/realtek/r8169.c
f | sys_miata.c | s | 8.0K | 260 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | head.S | g | 2.1K |  | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | core_tsunami.c | s | 12K | 401 | Jim Faulkner | jfaulkne@ccs.neu.edu | 1335988446 |  | alpha: include module.h to fix modpost on Tsunami  Signed-off-by: Jim Faulkner <jfaulkne@ccs.neu.edu> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | osf_sys.c | s | 33K | 1211 | Mans Rullgard | mans@mansr.com | 1337884077 |  | alpha: implement various OSF/1 stat syscalls  This implements OSF/1 versions of stat, lstat, fstat, statfs64, and fstatfs64 syscalls.  Signed-off-by: Mans Rullgard <mans@mansr.com> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | err_ev6.c | s | 7.8K | 231 | Joe Perches | joe@perches.com | 1284865577 |  | alpha: Use static const char * const where possible  Acked-by: Richard Henderson  <rth@twiddle.net> Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | asm-offsets.c | s | 1.4K | 37 | David Howells | dhowells@redhat.com | 1226619556 |  | CRED: Separate task security context from task_struct  Separate the task security context from task_struct.  At this point, the security data is temporarily embedded in the task_struct with two pointers pointing to it.  Note that the Alpha arch is altered as it refers to (E)UID and (E)GID in entry.S via asm-offsets.  With comment fixes Signed-off-by: Marc Dionne <marc.c.dionne@gmail.com>  Signed-off-by: David Howells <dhowells@redhat.com> Acked-by: James Morris <jmorris@namei.org> Acked-by: Serge Hallyn <serue@us.ibm.com> Signed-off-by: James Morris <jmorris@namei.org>
f | core_mcpcia.c | s | 15K | 525 | Richard Henderson | rth@twiddle.net | 1303076490 |  | alpha: Remove set but unused variables.  This is a new warning in gcc 4.6.  Several of these variables are used within #if 0 code, which probably ought to be removed.  Most of the changes are legitimate cleanups.  Signed-off-by: Richard Henderson <rth@twiddle.net> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sys_ruffian.c | s | 5.8K | 208 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | sys_rawhide.c | s | 6.4K | 224 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | core_t2.c | s | 16K | 531 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | err_common.c | s | 7.8K | 274 | Jean Delvare | khali@linux-fr.org | 1178157755 |  | PCI: Cleanup the includes of <linux/pci.h>  I noticed that many source files include <linux/pci.h> while they do not appear to need it. Here is an attempt to clean it all up.  In order to find all possibly affected files, I searched for all files including <linux/pci.h> but without any other occurence of "pci" or "PCI". I removed the include statement from all of these, then I compiled an allmodconfig kernel on both i386 and x86_64 and fixed the false positives manually.  My tests covered 66% of the affected files, so there could be false positives remaining. Untested files are:  arch/alpha/kernel/err_common.c arch/alpha/kernel/err_ev6.c arch/alpha/kernel/err_ev7.c arch/ia64/sn/kernel/huberror.c arch/ia64/sn/kernel/xpnet.c arch/m68knommu/kernel/dma.c arch/mips/lib/iomap.c arch/powerpc/platforms/pseries/ras.c arch/ppc/8260_io/enet.c arch/ppc/8260_io/fcc_enet.c arch/ppc/8xx_io/enet.c arch/ppc/syslib/ppc4xx_sgdma.c arch/sh64/mach-cayman/iomap.c arch/xtensa/kernel/xtensa_ksyms.c arch/xtensa/platform-iss/setup.c drivers/i2c/busses/i2c-at91.c drivers/i2c/busses/i2c-mpc.c drivers/media/video/saa711x.c drivers/misc/hdpuftrs/hdpu_cpustate.c drivers/misc/hdpuftrs/hdpu_nexus.c drivers/net/au1000_eth.c drivers/net/fec_8xx/fec_main.c drivers/net/fec_8xx/fec_mii.c drivers/net/fs_enet/fs_enet-main.c drivers/net/fs_enet/mac-fcc.c drivers/net/fs_enet/mac-fec.c drivers/net/fs_enet/mac-scc.c drivers/net/fs_enet/mii-bitbang.c drivers/net/fs_enet/mii-fec.c drivers/net/ibm_emac/ibm_emac_core.c drivers/net/lasi_82596.c drivers/parisc/hppb.c drivers/sbus/sbus.c drivers/video/g364fb.c drivers/video/platinumfb.c drivers/video/stifb.c drivers/video/valkyriefb.c include/asm-arm/arch-ixp4xx/dma.h sound/oss/au1550_ac97.c  I would welcome test reports for these files. I am fine with removing the untested files from the patch if the general opinion is that these changes aren't safe. The tested part would still be nice to have.  Note that this patch depends on another header fixup patch I submitted to LKML yesterday:   [PATCH] scatterlist.h needs types.h   http://lkml.org/lkml/2007/3/01/141  Signed-off-by: Jean Delvare <khali@linux-fr.org> Cc: Badari Pulavarty <pbadari@us.ibm.com> Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
f | sys_wildfire.c | s | 8.6K | 292 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | vmlinux.lds.S | g | 1.4K |  | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | irq_pyxis.c | s | 2.2K | 91 | Thomas Gleixner | tglx@linutronix.de | 1301402878 |  | alpha: Convert to new irq function names  Scripted with coccinelle.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | proto.h | s | 7.1K | 187 | Morten H. Larsen | m-larsen@post6.tele.dk | 1283309131 |  | Fix call to replaced SuperIO functions  This patch fixes the failure to compile Alpha Generic because of previously overlooked calls to ns87312_enable_ide(). The function has been replaced by newer SuperIO code.  Tested-by: Michael Cree <mcree@orcon.net.nz> Signed-off-by: Morten H. Larsen <m-larsen@post6.tele.dk> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | ptrace.c | s | 9.0K | 298 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | traps.c | s | 26K | 980 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | core_marvel.c | s | 24K | 948 | Julia Lawall | julia@diku.dk | 1259613499 |  | arch/alpha/kernel: Add kmalloc NULL tests  Check that the result of kmalloc is not NULL before passing it to other functions.  The semantic match that finds this problem is as follows: (http://www.emn.fr/x-info/coccinelle/)  // <smpl> @@ expression *x; identifier f; constant char *C; @@  x = \(kmalloc\||kcalloc\||kzalloc\)(...); ... when != x == NULL     when != x != NULL     when != (x |||| ...) ( kfree(x) f(...,C,...,x,...) || *f(...,x,...) || *x->f ) // </smpl>  Signed-off-by: Julia Lawall <julia@diku.dk> Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Richard Henderson <rth@twiddle.net> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | alpha_ksyms.c | s | 2.6K | 94 | Matthew Wilcox | matthew@wil.cx | 1208443354 |  | Generic semaphore implementation  Semaphores are no longer performance-critical, so a generic C implementation is better for maintainability, debuggability and extensibility.  Thanks to Peter Zijlstra for fixing the lockdep warning.  Thanks to Harvey Harrison for pointing out that the unlikely() was unnecessary.  Signed-off-by: Matthew Wilcox <willy@linux.intel.com> Acked-by: Ingo Molnar <mingo@elte.hu>
f | perf_event.c | s | 22K | 722 | Robert Richter | robert.richter@amd.com | 1336569792 |  | perf: Pass last sampling period to perf_sample_data_init()  We always need to pass the last sample period to perf_sample_data_init(), otherwise the event distribution will be wrong. Thus, modifiyng the function interface with the required period as argument. So basically a pattern like this:          perf_sample_data_init(&data, ~0ULL);         data.period = event->hw.last_period;  will now be like that:          perf_sample_data_init(&data, ~0ULL, event->hw.last_period);  Avoids unininitialized data.period and simplifies code.  Signed-off-by: Robert Richter <robert.richter@amd.com> Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Link: http://lkml.kernel.org/r/1333390758-10893-3-git-send-email-robert.richter@amd.com Signed-off-by: Ingo Molnar <mingo@kernel.org>
f | sys_dp264.c | s | 17K | 586 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | pci-noop.c | s | 3.9K | 156 | Andrzej Pietrasiewicz | andrzej.p@samsung.com | 1332945396 |  | Alpha: adapt for dma_map_ops changes  Adapt core Alpha architecture code for dma_map_ops changes: replace alloc/free_coherent with generic alloc/free methods.  Signed-off-by: Andrzej Pietrasiewicz <andrzej.p@samsung.com> Acked-by: Kyungmin Park <kyungmin.park@samsung.com> Signed-off-by: Marek Szyprowski <m.szyprowski@samsung.com> Reviewed-by: Arnd Bergmann <arnd@arndb.de> Acked-by: Matt Turner <mattst88@gmail.com>
f | irq_srm.c | s | 1.3K | 54 | Thomas Gleixner | tglx@linutronix.de | 1301402878 |  | alpha: Convert to new irq function names  Scripted with coccinelle.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | sys_sx164.c | s | 4.5K | 159 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | sys_noritake.c | s | 9.0K | 297 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | irq_alpha.c | s | 6.4K | 220 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | err_ev7.c | s | 8.0K | 251 | Ivan Kokshaysky | ink@jurassic.park.msu.ru | 1241303770 |  | alpha: titan and marvel build fixes  These platforms got broken after u64 => 'long long' conversion.  Apparently that change was compile-tested with 'make allmodconfig', but it doesn't include systems that depend on !ALPHA_LEGACY_START_ADDRESS.  Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Al Viro <viro@ZenIV.linux.org.uk> Cc: Richard Henderson <rth@twiddle.net Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | sys_nautilus.c | s | 6.7K | 236 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | sys_sio.c | s | 12K | 401 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | irq_i8259.c | s | 3.9K | 142 | Thomas Gleixner | tglx@linutronix.de | 1301402878 |  | alpha: Convert to new irq function names  Scripted with coccinelle.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | srm_env.c | s | 6.8K | 257 | Paul Bolle | pebolle@tiscali.nl | 1317139684 |  | doc: fix broken references  There are numerous broken references to Documentation files (in other Documentation files, in comments, etc.). These broken references are caused by typo's in the references, and by renames or removals of the Documentation files. Some broken references are simply odd.  Fix these broken references, sometimes by dropping the irrelevant text they were part of.  Signed-off-by: Paul Bolle <pebolle@tiscali.nl> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | systbls.S | g | 12K |  | Mans Rullgard | mans@mansr.com | 1337884077 |  | alpha: implement various OSF/1 stat syscalls  This implements OSF/1 versions of stat, lstat, fstat, statfs64, and fstatfs64 syscalls.  Signed-off-by: Mans Rullgard <mans@mansr.com> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | irq.c | s | 3.2K | 113 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | smc37c669.c | s | 60K | 2374 | Tejun Heo | tj@kernel.org | 1269954152 |  | include cleanup: Update gfp.h and slab.h includes to prepare for breaking implicit slab.h inclusion from percpu.h  percpu.h is included by sched.h and module.h and thus ends up being included when building most .c files.  percpu.h includes slab.h which in turn includes gfp.h making everything defined by the two files universally available and complicating inclusion dependencies.  percpu.h -> slab.h dependency is about to be removed.  Prepare for this change by updating users of gfp and slab facilities include those headers directly instead of assuming availability.  As this conversion needs to touch large number of source files, the following script is used as the basis of conversion.    http://userweb.kernel.org/~tj/misc/slabh-sweep.py  The script does the followings.  * Scan files for gfp and slab usages and update includes such that   only the necessary includes are there.  ie. if only gfp is used,   gfp.h, if slab is used, slab.h.  * When the script inserts a new include, it looks at the include   blocks and try to put the new include such that its order conforms   to its surrounding.  It's put in the include block which contains   core kernel includes, in the same order that the rest are ordered -   alphabetical, Christmas tree, rev-Xmas-tree or at the end if there   doesn't seem to be any matching order.  * If the script can't find a place to put a new include (mostly   because the file doesn't have fitting include block), it prints out   an error message indicating which .h file needs to be added to the   file.  The conversion was done in the following steps.  1. The initial automatic conversion of all .c files updated slightly    over 4000 files, deleting around 700 includes and adding ~480 gfp.h    and ~3000 slab.h inclusions.  The script emitted errors for ~400    files.  2. Each error was manually checked.  Some didn't need the inclusion,    some needed manual addition while adding it to implementation .h or    embedding .c file was more appropriate for others.  This step added    inclusions to around 150 files.  3. The script was run again and the output was compared to the edits    from #2 to make sure no file was left behind.  4. Several build tests were done and a couple of problems were fixed.    e.g. lib/decompress_*.c used malloc/free() wrappers around slab    APIs requiring slab.h to be added manually.  5. The script was run on all .h files but without automatically    editing them as sprinkling gfp.h and slab.h inclusions around .h    files could easily lead to inclusion dependency hell.  Most gfp.h    inclusion directives were ignored as stuff from gfp.h was usually    wildly available and often used in preprocessor macros.  Each    slab.h inclusion directive was examined and added manually as    necessary.  6. percpu.h was updated not to include slab.h.  7. Build test were done on the following configurations and failures    were fixed.  CONFIG_GCOV_KERNEL was turned off for all tests (as my    distributed build env didn't work with gcov compiles) and a few    more options had to be turned off depending on archs to make things    build (like ipr on powerpc/64 which failed due to missing writeq).     * x86 and x86_64 UP and SMP allmodconfig and a custom test config.    * powerpc and powerpc64 SMP allmodconfig    * sparc and sparc64 SMP allmodconfig    * ia64 SMP allmodconfig    * s390 SMP allmodconfig    * alpha SMP allmodconfig    * um on x86_64 SMP allmodconfig  8. percpu.h modifications were reverted so that it could be applied as    a separate patch and serve as bisection point.  Given the fact that I had only a couple of failures from tests on step 6, I'm fairly confident about the coverage of this conversion patch. If there is a breakage, it's likely to be something in one of the arch headers which should be easily discoverable easily on most builds of the specific arch.  Signed-off-by: Tejun Heo <tj@kernel.org> Guess-its-ok-by: Christoph Lameter <cl@linux-foundation.org> Cc: Ingo Molnar <mingo@redhat.com> Cc: Lee Schermerhorn <Lee.Schermerhorn@hp.com>
f | es1888.c | s | 1.3K | 46 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | sys_eiger.c | s | 5.4K | 190 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | sys_eb64p.c | s | 5.6K | 205 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | module.c | s | 7.6K | 253 | Jonas Bonn | jonas@southpole.se | 1311510964 |  | modules: make arch's use default loader hooks  This patch removes all the module loader hook implementations in the architecture specific code where the functionality is the same as that now provided by the recently added default hooks.  Signed-off-by: Jonas Bonn <jonas@southpole.se> Acked-by: Mike Frysinger <vapier@gentoo.org> Acked-by: Geert Uytterhoeven <geert@linux-m68k.org> Tested-by: Michal Simek <monstr@monstr.eu> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | pc873xx.h | s | 588B | 30 | Morten H. Larsen | m-larsen@post6.tele.dk | 1276625948 |  | alpha: Detect Super IO chip, no IDE on Avanti, enable EPP19  This patch probes for the Super IO chip and reserves the IO range when found. It avoids enabling the IDE interface on the Avanti family, since none has IDE. It enables the Enhanced Parallel Port v1.9 feature.  Signed-off-by: Morten H. Larsen <m-larsen@post6.tele.dk> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | sys_rx164.c | s | 5.0K | 175 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | sys_cabriolet.c | s | 12K | 391 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | setup.c | s | 38K | 1318 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | core_wildfire.c | s | 17K | 540 | Al Viro | viro@ftp.linux.org.uk | 1160335956 |  | [PATCH] alpha pt_regs cleanups: machine_check()  do set_irq_regs() in caller, kill pt_regs argument.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | pci-sysfs.c | s | 9.2K | 313 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103862 |  | alpha: fix implicit stat.h usage in pci-sysfs.c  To avoid this:  arch/alpha/kernel/pci-sysfs.c:164: error: 'S_IRUSR' undeclared (first use in this function) arch/alpha/kernel/pci-sysfs.c:164: error: 'S_IWUSR' undeclared (first use in this function) make[2]: *** [arch/alpha/kernel/pci-sysfs.o] Error 1  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | err_marvel.c | s | 36K | 1037 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | core_irongate.c | s | 10K | 355 | Paul Gortmaker | paul.gortmaker@windriver.com | 1320103863 |  | alpha: Add export.h for THIS_MODULE/EXPORT_SYMBOL  These files were getting it via the implicit module.h presence that was everywhere.  Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
f | gct.c | s | 1011B | 38 | Jörn Engel | joern@wohnheim.fh-wedel.de | 1151688336 |  | Remove obsolete #include <linux/config.h>  Signed-off-by: Jörn Engel <joern@wohnheim.fh-wedel.de> Signed-off-by: Adrian Bunk <bunk@stusta.de>
f | smp.c | s | 17K | 664 | Thomas Gleixner | tglx@linutronix.de | 1335434772 |  | alpha: Use generic idle thread allocation  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Peter Zijlstra <peterz@infradead.org> Cc: Rusty Russell <rusty@rustcorp.com.au> Cc: Paul E. McKenney <paulmck@linux.vnet.ibm.com> Cc: Srivatsa S. Bhat <srivatsa.bhat@linux.vnet.ibm.com> Cc: Matt Turner <mattst88@gmail.com> Link: http://lkml.kernel.org/r/20120420124557.914631081@linutronix.de
f | sys_sable.c | s | 16K | 572 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | core_apecs.c | s | 10.0K | 350 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | core_polaris.c | s | 4.4K | 169 | Al Viro | viro@ftp.linux.org.uk | 1160335956 |  | [PATCH] alpha pt_regs cleanups: machine_check()  do set_irq_regs() in caller, kill pt_regs argument.  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Linus Torvalds <torvalds@osdl.org>
f | sys_titan.c | s | 9.4K | 354 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | sys_mikasa.c | s | 5.9K | 213 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | process.c | s | 11K | 397 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | io.c | s | 12K | 536 | Linus Torvalds | torvalds@ppc970.osdl.org | 1113690036 |  | Linux-2.6.12-rc2  Initial git repository build. I'm not bothering with the full history, even though we have it. We can create a separate "historical" git archive of that later if we want to, and in the meantime it's about 3.2GB when imported into git - space that would just make the early git days unnecessarily complicated, when we don't have a lot of good infrastructure for it.  Let it rip!
f | entry.S | g | 18K |  | Al Viro | viro@ftp.linux.org.uk | 1285615193 |  | alpha: switch osf_sigprocmask() to use of sigprocmask()  get rid of a useless wrapper, while we are at it  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | pci_impl.h | s | 6.4K | 171 | Bjorn Helgaas | bhelgaas@google.com | 1330053536 |  | alpha/PCI: replace pci_probe_only with pci_flags  Some architectures (alpha, mips, powerpc) have an arch-specific "pci_probe_only" flag.  Others use PCI_PROBE_ONLY in pci_flags for the same purpose.  This moves alpha to the pci_flags approach so generic code can use the same test across all architectures.  CC: linux-alpha@vger.kernel.org Signed-off-by: Bjorn Helgaas <bhelgaas@google.com>
f | smc37c93x.c | s | 6.2K | 222 | Richard Henderson | rth@twiddle.net | 1303076490 |  | alpha: Remove set but unused variables.  This is a new warning in gcc 4.6.  Several of these variables are used within #if 0 code, which probably ought to be removed.  Most of the changes are legitimate cleanups.  Signed-off-by: Richard Henderson <rth@twiddle.net> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | console.c | s | 2.0K | 74 | Jay Estabrook | jay.estabrook@hp.com | 1180711109 |  | ALPHA: support graphics on non-zero PCI domains  This code replaces earlier and incomplete handling of graphics on non-zero PCI domains (aka hoses or peer PCI buses).  An option (CONFIG_VGA_HOSE) is set TRUE if configuring a GENERIC kernel, or a kernel for MARVEL, TITAN, or TSUNAMI machines, as these are the machines whose SRM consoles are capable of configuring and handling graphics options on non-zero hoses.  All other machines have the option set FALSE.  A routine, "find_console_vga_hose()", is used to find the graphics device which the machine's firmware believes is the console device, and it sets a global (pci_vga_hose) for later use in managing access to the device.  This is called in "init_arch" on TITAN and TSUNAMI machines; MARVEL machines use a custom version of this routine because of extra complexity.  A routine, "locate_and_init_vga()", is used to find the graphics device and set a global (pci_vga_hose) for later use in managing access to the device, in the case where "find_console_vga_hose" has failed.  Various adjustments are made to the ioremap and ioportmap routines for detecting and translating "legacy" VGA register and memory references to the real PCI domain.  [akpm@linux-foundation.org: don't statically init bss] [akpm@linux-foundation.org: build fix] Signed-off-by: Jay Estabrook <jay.estabrook@hp.com> Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Richard Henderson <rth@twiddle.net> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | signal.c | s | 15K | 493 | Al Viro | viro@zeniv.linux.org.uk | 1338569932 |  | new helper: signal_delivered()  Does block_sigmask() + tracehook_signal_handler();  called when sigframe has been successfully built.  All architectures converted to it; block_sigmask() itself is gone now (merged into this one).  I'm still not too happy with the signature, but that's a separate story (IMO we need a structure that would contain signal number + siginfo + k_sigaction, so that get_signal_to_deliver() would fill one, signal_delivered(), handle_signal() and probably setup...frame() - take one).  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | srmcons.c | s | 5.9K | 244 | Jiri Slaby | jslaby@suse.cz | 1331235741 |  | TTY: srmcons, convert to use tty_port  This is needed because the tty buffer will become a tty_port member later. That will help us to wipe out most of the races and checks for the tty pointer in hot paths.  Signed-off-by: Jiri Slaby <jslaby@suse.cz> Cc: Richard Henderson <rth@twiddle.net> Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Matt Turner <mattst88@gmail.com> Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
f | err_titan.c | s | 22K | 675 | Richard Henderson | rth@twiddle.net | 1303076490 |  | alpha: Remove set but unused variables.  This is a new warning in gcc 4.6.  Several of these variables are used within #if 0 code, which probably ought to be removed.  Most of the changes are legitimate cleanups.  Signed-off-by: Richard Henderson <rth@twiddle.net> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | core_titan.c | s | 19K | 666 | Julia Lawall | julia@diku.dk | 1259613499 |  | arch/alpha/kernel: Add kmalloc NULL tests  Check that the result of kmalloc is not NULL before passing it to other functions.  The semantic match that finds this problem is as follows: (http://www.emn.fr/x-info/coccinelle/)  // <smpl> @@ expression *x; identifier f; constant char *C; @@  x = \(kmalloc\||kcalloc\||kzalloc\)(...); ... when != x == NULL     when != x != NULL     when != (x |||| ...) ( kfree(x) f(...,C,...,x,...) || *f(...,x,...) || *x->f ) // </smpl>  Signed-off-by: Julia Lawall <julia@diku.dk> Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru> Cc: Richard Henderson <rth@twiddle.net> Signed-off-by: Matt Turner <mattst88@gmail.com>
f | sys_alcor.c | s | 7.5K | 266 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
f | sys_jensen.c | s | 5.5K | 205 | David Howells | dhowells@redhat.com | 1332954672 |  | Disintegrate asm/system.h for Alpha  Disintegrate asm/system.h for Alpha.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-alpha@vger.kernel.org
