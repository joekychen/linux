f | smpboot.c | s | 15K | 530 | Thomas Gleixner | tglx@linutronix.de | 1335434769 |  | smp: Add task_struct argument to __cpu_up()  Preparatory patch to make the idle thread allocation for secondary cpus generic.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Peter Zijlstra <peterz@infradead.org> Cc: Rusty Russell <rusty@rustcorp.com.au> Cc: Paul E. McKenney <paulmck@linux.vnet.ibm.com> Cc: Srivatsa S. Bhat <srivatsa.bhat@linux.vnet.ibm.com> Cc: Matt Turner <mattst88@gmail.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Mike Frysinger <vapier@gentoo.org> Cc: Jesper Nilsson <jesper.nilsson@axis.com> Cc: Richard Kuo <rkuo@codeaurora.org> Cc: Tony Luck <tony.luck@intel.com> Cc: Hirokazu Takata <takata@linux-m32r.org> Cc: Ralf Baechle <ralf@linux-mips.org> Cc: David Howells <dhowells@redhat.com> Cc: James E.J. Bottomley <jejb@parisc-linux.org> Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org> Cc: Martin Schwidefsky <schwidefsky@de.ibm.com> Cc: Paul Mundt <lethal@linux-sh.org> Cc: David S. Miller <davem@davemloft.net> Cc: Chris Metcalf <cmetcalf@tilera.com> Cc: Richard Weinberger <richard@nod.at> Cc: x86@kernel.org Link: http://lkml.kernel.org/r/20120420124556.964170564@linutronix.de
f | time.c | s | 4.9K | 157 | Torben Hohn | torbenh@gmx.de | 1296482145 |  | m32r: Switch from do_timer() to xtime_update()  xtime_update() does proper locking.  Signed-off-by: Torben Hohn <torbenh@gmx.de> Cc: Peter Zijlstra <peterz@infradead.org> Cc: johnstul@us.ibm.com Cc: Hirokazu Takata <takata@linux-m32r.org> Cc: hch@infradead.org Cc: yong.zhang0@gmail.com LKML-Reference: <20110127150001.23248.68620.stgit@localhost> Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | Makefile | g | 257B |  | Thomas Gleixner | tglx@linutronix.de | 1336215623 |  | m32r: Use generic init_task  Same code. Use the generic version. The special Makefile treatment is pointless anyway as init_task.o contains only data which is handled by the linker script. So no point on being treated like head text.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Hirokazu Takata <takata@linux-m32r.org> Link: http://lkml.kernel.org/r/20120503085034.756332161@linutronix.de
f | head.S | g | 5.8K |  | Tim Abbott | tabbott@ksplice.com | 1253633380 |  | m32r: Move the spi_stack_top and spu_stack_top into .init.data section.  Since these get squashed into the .data output section by the m32r linker script, it seems likely that they don't need their own input sections.  At Hirokazu Takata's suggestion, we place these structures in .init.data rather than just placing them in .data (since they are only used at init time).  This patch is preparation for cleaning up the m32r architecture to use the new macros in vmlinux.lds.h; if these sections are indeed not needed, then we can use the RW_DATA_SECTION macro for m32r and save a bunch of redundant code.  Signed-off-by: Tim Abbott <tabbott@ksplice.com> Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
f | traps.c | s | 8.0K | 287 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for M32R  Disintegrate asm/system.h for M32R.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-m32r@ml.linux-m32r.org
f | syscall_table.S | g | 9.4K |  | NeilBrown | neilb@suse.de | 1314396598 |  | All Arch: remove linkage for sys_nfsservctl system call  The nfsservctl system call is now gone, so we should remove all linkage for it.  Signed-off-by: NeilBrown <neilb@suse.de> Signed-off-by: J. Bruce Fields <bfields@redhat.com> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | vmlinux.lds.S | g | 1.5K |  | Linus Torvalds | torvalds@linux-foundation.org | 1306263222 |  | Merge branch 'for-2.6.40' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/percpu  * 'for-2.6.40' of git://git.kernel.org/pub/scm/linux/kernel/git/tj/percpu:   percpu: Unify input section names   percpu: Avoid extra NOP in percpu_cmpxchg16b_double   percpu: Cast away printk format warning   percpu: Always align percpu output section to PAGE_SIZE  Fix up fairly trivial conflict in arch/x86/include/asm/percpu.h as per Tejun
f | asm-offsets.c | s | 80B | 1 | Sam Ravnborg | sam@mars.(none) | 1126298873 |  | kbuild: frv,m32r,sparc64 introduce fake asm-offsets.h file  Needed to get them to build. And a hint to avoid hardcoding to many constants in assembler.  Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
f | irq.c | s | 990B | 38 | Thomas Gleixner | tglx@linutronix.de | 1300995357 |  | m32r: Use generic show_interrupts()  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | ptrace.c | s | 15K | 630 | David Howells | dhowells@redhat.com | 1332955802 |  | Disintegrate asm/system.h for M32R  Disintegrate asm/system.h for M32R.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-m32r@ml.linux-m32r.org
f | sys_m32r.c | s | 2.5K | 102 | David Howells | dhowells@redhat.com | 1282093663 |  | Make do_execve() take a const filename pointer  Make do_execve() take a const filename pointer so that kernel_execve() compiles correctly on ARM:  arch/arm/kernel/sys_arm.c:88: warning: passing argument 1 of 'do_execve' discards qualifiers from pointer target type  This also requires the argv and envp arguments to be consted twice, once for the pointer array and once for the strings the array points to.  This is because do_execve() passes a pointer to the filename (now const) to copy_strings_kernel().  A simpler alternative would be to cast the filename pointer in do_execve() when it's passed to copy_strings_kernel().  do_execve() may not change any of the strings it is passed as part of the argv or envp lists as they are some of them in .rodata, so marking these strings as const should be fine.  Further kernel_execve() and sys_execve() need to be changed to match.  This has been test built on x86_64, frv, arm and mips.  Signed-off-by: David Howells <dhowells@redhat.com> Tested-by: Ralf Baechle <ralf@linux-mips.org> Acked-by: Russell King <rmk+kernel@arm.linux.org.uk> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | align.c | s | 11K | 468 | Jörn Engel | joern@wohnheim.fh-wedel.de | 1151688336 |  | Remove obsolete #include <linux/config.h>  Signed-off-by: Jörn Engel <joern@wohnheim.fh-wedel.de> Signed-off-by: Adrian Bunk <bunk@stusta.de>
f | smp.c | s | 23K | 754 | Arun Sharma | asharma@fb.com | 1311724187 |  | atomic: use <linux/atomic.h>  This allows us to move duplicated code in <asm/atomic.h> (atomic_inc_not_zero() for now) to <linux/atomic.h>  Signed-off-by: Arun Sharma <asharma@fb.com> Reviewed-by: Eric Dumazet <eric.dumazet@gmail.com> Cc: Ingo Molnar <mingo@elte.hu> Cc: David Miller <davem@davemloft.net> Cc: Eric Dumazet <eric.dumazet@gmail.com> Acked-by: Mike Frysinger <vapier@gentoo.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | m32r_ksyms.c | s | 2.0K | 80 | Hirokazu Takata | takata@linux-m32r.org | 1254625356 |  | m32r: export delay loop symbols  - Move EXPORT_SYMBOL lines of delay loop functions   from arch/m32r/kernel/m32r_ksyms.c to arch/m32r/lib/delay.c. - Export __ndelay.  Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
f | module.c | s | 6.4K | 206 | Jonas Bonn | jonas@southpole.se | 1311510964 |  | modules: make arch's use default loader hooks  This patch removes all the module loader hook implementations in the architecture specific code where the functionality is the same as that now provided by the recently added default hooks.  Signed-off-by: Jonas Bonn <jonas@southpole.se> Acked-by: Mike Frysinger <vapier@gentoo.org> Acked-by: Geert Uytterhoeven <geert@linux-m68k.org> Tested-by: Michal Simek <monstr@monstr.eu> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | setup.c | s | 10K | 350 | Jan Engelhardt | jengelh@computergmbh.de | 1202491358 |  | procfs: constify function pointer tables  Signed-off-by: Jan Engelhardt <jengelh@computergmbh.de> Acked-by: Geert Uytterhoeven <geert@linux-m68k.org> Acked-by: Mike Frysinger <vapier@gentoo.org> Acked-By: David Howells <dhowells@redhat.com> Acked-by: Bryan Wu <bryan.wu@analog.com> Acked-by: Jesper Nilsson <jesper.nilsson@axis.com> Cc: <linux-arch@vger.kernel.org> Signed-off-by: Andrew Morton <akpm@linux-foundation.org> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | signal.c | s | 8.2K | 317 | Al Viro | viro@zeniv.linux.org.uk | 1338569932 |  | new helper: signal_delivered()  Does block_sigmask() + tracehook_signal_handler();  called when sigframe has been successfully built.  All architectures converted to it; block_sigmask() itself is gone now (merged into this one).  I'm still not too happy with the signature, but that's a separate story (IMO we need a structure that would contain signal number + siginfo + k_sigaction, so that get_signal_to_deliver() would fill one, signal_delivered(), handle_signal() and probably setup...frame() - take one).  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | entry.S | g | 12K |  | Al Viro | viro@zeniv.linux.org.uk | 1285361659 |  | make m32r handle multiple pending signals  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk> Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
f | process.c | s | 7.5K | 273 | Thomas Gleixner | tglx@linutronix.de | 1330594083 |  | sched/rt: Use schedule_preempt_disabled()  Coccinelle based conversion.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Acked-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Link: http://lkml.kernel.org/n/tip-24swm5zut3h9c4a6s46x8rws@git.kernel.org Signed-off-by: Ingo Molnar <mingo@elte.hu>
