<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › m32r › include › asm › m32104ut › m32104ut_pld.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>m32104ut_pld.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cp">#ifndef _M32104UT_M32104UT_PLD_H</span>
<span class="cp">#define _M32104UT_M32104UT_PLD_H</span>

<span class="cm">/*</span>
<span class="cm"> * include/asm-m32r/m32104ut/m32104ut_pld.h</span>
<span class="cm"> *</span>
<span class="cm"> * Definitions for Programmable Logic Device(PLD) on M32104UT board.</span>
<span class="cm"> * Based on m32700ut_pld.h</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2002	Takeo Takahashi</span>
<span class="cm"> * Copyright (c) 2005	Naoto Sugai</span>
<span class="cm"> *</span>
<span class="cm"> * This file is subject to the terms and conditions of the GNU General</span>
<span class="cm"> * Public License.  See the file &quot;COPYING&quot; in the main directory of</span>
<span class="cm"> * this archive for more details.</span>
<span class="cm"> */</span>

<span class="cp">#if defined(CONFIG_PLAT_M32104UT)</span>
<span class="cp">#define PLD_PLAT_BASE		0x02c00000</span>
<span class="cp">#else</span>
<span class="cp">#error &quot;no platform configuration&quot;</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef __ASSEMBLY__</span>
<span class="cm">/*</span>
<span class="cm"> * C functions use non-cache address.</span>
<span class="cm"> */</span>
<span class="cp">#define PLD_BASE		(PLD_PLAT_BASE </span><span class="cm">/* + NONCACHE_OFFSET */</span><span class="cp">)</span>
<span class="cp">#define __reg8			(volatile unsigned char *)</span>
<span class="cp">#define __reg16			(volatile unsigned short *)</span>
<span class="cp">#define __reg32			(volatile unsigned int *)</span>
<span class="cp">#else</span>
<span class="cp">#define PLD_BASE		(PLD_PLAT_BASE + NONCACHE_OFFSET)</span>
<span class="cp">#define __reg8</span>
<span class="cp">#define __reg16</span>
<span class="cp">#define __reg32</span>
<span class="cp">#endif </span><span class="cm">/* __ASSEMBLY__ */</span><span class="cp"></span>

<span class="cm">/* CFC */</span>
<span class="cp">#define	PLD_CFRSTCR		__reg16(PLD_BASE + 0x0000)</span>
<span class="cp">#define PLD_CFSTS		__reg16(PLD_BASE + 0x0002)</span>
<span class="cp">#define PLD_CFIMASK		__reg16(PLD_BASE + 0x0004)</span>
<span class="cp">#define PLD_CFBUFCR		__reg16(PLD_BASE + 0x0006)</span>

<span class="cm">/* MMC */</span>
<span class="cp">#define PLD_MMCCR		__reg16(PLD_BASE + 0x4000)</span>
<span class="cp">#define PLD_MMCMOD		__reg16(PLD_BASE + 0x4002)</span>
<span class="cp">#define PLD_MMCSTS		__reg16(PLD_BASE + 0x4006)</span>
<span class="cp">#define PLD_MMCBAUR		__reg16(PLD_BASE + 0x400a)</span>
<span class="cp">#define PLD_MMCCMDBCUT		__reg16(PLD_BASE + 0x400c)</span>
<span class="cp">#define PLD_MMCCDTBCUT		__reg16(PLD_BASE + 0x400e)</span>
<span class="cp">#define PLD_MMCDET		__reg16(PLD_BASE + 0x4010)</span>
<span class="cp">#define PLD_MMCWP		__reg16(PLD_BASE + 0x4012)</span>
<span class="cp">#define PLD_MMCWDATA		__reg16(PLD_BASE + 0x5000)</span>
<span class="cp">#define PLD_MMCRDATA		__reg16(PLD_BASE + 0x6000)</span>
<span class="cp">#define PLD_MMCCMDDATA		__reg16(PLD_BASE + 0x7000)</span>
<span class="cp">#define PLD_MMCRSPDATA		__reg16(PLD_BASE + 0x7006)</span>

<span class="cm">/* ICU</span>
<span class="cm"> *  ICUISTS:	status register</span>
<span class="cm"> *  ICUIREQ0: 	request register</span>
<span class="cm"> *  ICUIREQ1: 	request register</span>
<span class="cm"> *  ICUCR3:	control register for CFIREQ# interrupt</span>
<span class="cm"> *  ICUCR4:	control register for CFC Card insert interrupt</span>
<span class="cm"> *  ICUCR5:	control register for CFC Card eject interrupt</span>
<span class="cm"> *  ICUCR6:	control register for external interrupt</span>
<span class="cm"> *  ICUCR11:	control register for MMC Card insert/eject interrupt</span>
<span class="cm"> *  ICUCR13:	control register for SC error interrupt</span>
<span class="cm"> *  ICUCR14:	control register for SC receive interrupt</span>
<span class="cm"> *  ICUCR15:	control register for SC send interrupt</span>
<span class="cm"> */</span>

<span class="cp">#define PLD_IRQ_INT0		(M32104UT_PLD_IRQ_BASE + 0)	</span><span class="cm">/* None */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_CFIREQ		(M32104UT_PLD_IRQ_BASE + 3)	</span><span class="cm">/* CF IREQ */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_CFC_INSERT	(M32104UT_PLD_IRQ_BASE + 4)	</span><span class="cm">/* CF Insert */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_CFC_EJECT	(M32104UT_PLD_IRQ_BASE + 5)	</span><span class="cm">/* CF Eject */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_EXINT		(M32104UT_PLD_IRQ_BASE + 6)	</span><span class="cm">/* EXINT */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_MMCCARD		(M32104UT_PLD_IRQ_BASE + 11)	</span><span class="cm">/* MMC Insert/Eject */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_SC_ERROR	(M32104UT_PLD_IRQ_BASE + 13)	</span><span class="cm">/* SC error */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_SC_RCV		(M32104UT_PLD_IRQ_BASE + 14)	</span><span class="cm">/* SC receive */</span><span class="cp"></span>
<span class="cp">#define PLD_IRQ_SC_SND		(M32104UT_PLD_IRQ_BASE + 15)	</span><span class="cm">/* SC send */</span><span class="cp"></span>

<span class="cp">#define PLD_ICUISTS		__reg16(PLD_BASE + 0x8002)</span>
<span class="cp">#define PLD_ICUISTS_VECB_MASK	(0xf000)</span>
<span class="cp">#define PLD_ICUISTS_VECB(x)	((x) &amp; PLD_ICUISTS_VECB_MASK)</span>
<span class="cp">#define PLD_ICUISTS_ISN_MASK	(0x07c0)</span>
<span class="cp">#define PLD_ICUISTS_ISN(x)	((x) &amp; PLD_ICUISTS_ISN_MASK)</span>
<span class="cp">#define PLD_ICUCR3		__reg16(PLD_BASE + 0x8104)</span>
<span class="cp">#define PLD_ICUCR4		__reg16(PLD_BASE + 0x8106)</span>
<span class="cp">#define PLD_ICUCR5		__reg16(PLD_BASE + 0x8108)</span>
<span class="cp">#define PLD_ICUCR6		__reg16(PLD_BASE + 0x810a)</span>
<span class="cp">#define PLD_ICUCR11		__reg16(PLD_BASE + 0x8114)</span>
<span class="cp">#define PLD_ICUCR13		__reg16(PLD_BASE + 0x8118)</span>
<span class="cp">#define PLD_ICUCR14		__reg16(PLD_BASE + 0x811a)</span>
<span class="cp">#define PLD_ICUCR15		__reg16(PLD_BASE + 0x811c)</span>
<span class="cp">#define PLD_ICUCR_IEN		(0x1000)</span>
<span class="cp">#define PLD_ICUCR_IREQ		(0x0100)</span>
<span class="cp">#define PLD_ICUCR_ISMOD00	(0x0000)	</span><span class="cm">/* Low edge */</span><span class="cp"></span>
<span class="cp">#define PLD_ICUCR_ISMOD01	(0x0010)	</span><span class="cm">/* Low level */</span><span class="cp"></span>
<span class="cp">#define PLD_ICUCR_ISMOD02	(0x0020)	</span><span class="cm">/* High edge */</span><span class="cp"></span>
<span class="cp">#define PLD_ICUCR_ISMOD03	(0x0030)	</span><span class="cm">/* High level */</span><span class="cp"></span>
<span class="cp">#define PLD_ICUCR_ILEVEL0	(0x0000)</span>
<span class="cp">#define PLD_ICUCR_ILEVEL1	(0x0001)</span>
<span class="cp">#define PLD_ICUCR_ILEVEL2	(0x0002)</span>
<span class="cp">#define PLD_ICUCR_ILEVEL3	(0x0003)</span>
<span class="cp">#define PLD_ICUCR_ILEVEL4	(0x0004)</span>
<span class="cp">#define PLD_ICUCR_ILEVEL5	(0x0005)</span>
<span class="cp">#define PLD_ICUCR_ILEVEL6	(0x0006)</span>
<span class="cp">#define PLD_ICUCR_ILEVEL7	(0x0007)</span>

<span class="cm">/* Power Control of MMC and CF */</span>
<span class="cp">#define PLD_CPCR		__reg16(PLD_BASE + 0x14000)</span>
<span class="cp">#define PLD_CPCR_CDP		0x0001</span>

<span class="cm">/* LED Control</span>
<span class="cm"> *</span>
<span class="cm"> * 1: DIP swich side</span>
<span class="cm"> * 2: Reset switch side</span>
<span class="cm"> */</span>
<span class="cp">#define PLD_IOLEDCR		__reg16(PLD_BASE + 0x14002)</span>
<span class="cp">#define PLD_IOLED_1_ON		0x001</span>
<span class="cp">#define PLD_IOLED_1_OFF		0x000</span>
<span class="cp">#define PLD_IOLED_2_ON		0x002</span>
<span class="cp">#define PLD_IOLED_2_OFF		0x000</span>

<span class="cm">/* DIP Switch</span>
<span class="cm"> *  0: Write-protect of Flash Memory (0:protected, 1:non-protected)</span>
<span class="cm"> *  1: -</span>
<span class="cm"> *  2: -</span>
<span class="cm"> *  3: -</span>
<span class="cm"> */</span>
<span class="cp">#define PLD_IOSWSTS		__reg16(PLD_BASE + 0x14004)</span>
<span class="cp">#define	PLD_IOSWSTS_IOSW2	0x0200</span>
<span class="cp">#define	PLD_IOSWSTS_IOSW1	0x0100</span>
<span class="cp">#define	PLD_IOSWSTS_IOWP0	0x0001</span>

<span class="cm">/* CRC */</span>
<span class="cp">#define PLD_CRC7DATA		__reg16(PLD_BASE + 0x18000)</span>
<span class="cp">#define PLD_CRC7INDATA		__reg16(PLD_BASE + 0x18002)</span>
<span class="cp">#define PLD_CRC16DATA		__reg16(PLD_BASE + 0x18004)</span>
<span class="cp">#define PLD_CRC16INDATA		__reg16(PLD_BASE + 0x18006)</span>
<span class="cp">#define PLD_CRC16ADATA		__reg16(PLD_BASE + 0x18008)</span>
<span class="cp">#define PLD_CRC16AINDATA	__reg16(PLD_BASE + 0x1800a)</span>

<span class="cm">/* RTC */</span>
<span class="cp">#define PLD_RTCCR		__reg16(PLD_BASE + 0x1c000)</span>
<span class="cp">#define PLD_RTCBAUR		__reg16(PLD_BASE + 0x1c002)</span>
<span class="cp">#define PLD_RTCWRDATA		__reg16(PLD_BASE + 0x1c004)</span>
<span class="cp">#define PLD_RTCRDDATA		__reg16(PLD_BASE + 0x1c006)</span>
<span class="cp">#define PLD_RTCRSTODT		__reg16(PLD_BASE + 0x1c008)</span>

<span class="cm">/* SIM Card */</span>
<span class="cp">#define PLD_SCCR		__reg16(PLD_BASE + 0x38000)</span>
<span class="cp">#define PLD_SCMOD		__reg16(PLD_BASE + 0x38004)</span>
<span class="cp">#define PLD_SCSTS		__reg16(PLD_BASE + 0x38006)</span>
<span class="cp">#define PLD_SCINTCR		__reg16(PLD_BASE + 0x38008)</span>
<span class="cp">#define PLD_SCBAUR		__reg16(PLD_BASE + 0x3800a)</span>
<span class="cp">#define PLD_SCTXB		__reg16(PLD_BASE + 0x3800c)</span>
<span class="cp">#define PLD_SCRXB		__reg16(PLD_BASE + 0x3800e)</span>

<span class="cp">#endif </span><span class="cm">/* _M32104UT_M32104UT_PLD_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
