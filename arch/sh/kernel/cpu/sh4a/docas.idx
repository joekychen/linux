f | Makefile | g | 2.1K |  | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1334647226 |  | sh: Add support pinmux for SH7734  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7722.c | s | 17K | 673 | Paul Mundt | lethal@linux-sh.org | 1337312978 |  | sh: sh7722 evt2irq migration.  Migrate SH7722 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7770.c | s | 19K | 659 | Paul Mundt | lethal@linux-sh.org | 1337316742 |  | sh: sh7770 evt2irq migration.  Migrate SH7770 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pinmux-shx3.c | s | 18K | 536 | Paul Mundt | lethal@linux-sh.org | 1286136019 |  | sh: Drop __initdata for SH-X3 pinmux tables.  The gpio sysfs support needs to get at these later, so drop the __initdata annotations.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-shx3.c | s | 4.6K | 130 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pinmux-sh7734.c | s | 90K | 2261 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1334647226 |  | sh: Add support pinmux for SH7734  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pinmux-sh7724.c | s | 75K | 2051 | Kuninori Morimoto | morimoto.kuninori@renesas.com | 1239860456 |  | sh: Add support for SH7724 (SH-Mobile R2R) CPU subtype.  This implements initial support for the SH-Mobile R2R CPU. Based on Rev 0.11 of the initial SH7724 hardware manual.  Signed-off-by: Kuninori Morimoto <morimoto.kuninori@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | intc-shx3.c | s | 780B | 30 | Paul Mundt | lethal@linux-sh.org | 1285947823 |  | sh: Support userimask for all SH-X3 interrupt controllers.  This shuffles some of the shared bits out of the 7786 code and in to a shared SH-X3 support file. Presently just for userimask, but also a good place for the IRQ balancing wrappers.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7757.c | s | 4.3K | 127 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7780.c | s | 15K | 564 | Paul Mundt | lethal@linux-sh.org | 1337317158 |  | sh: sh7780 evt2irq migration.  Migrate SH7780 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7786.c | s | 6.8K | 173 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7724.c | s | 35K | 1288 | Paul Mundt | lethal@linux-sh.org | 1337314344 |  | sh: sh7724 evt2irq migration.  Migrate SH7724 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-shx3.c | s | 14K | 462 | Paul Mundt | lethal@linux-sh.org | 1337681275 |  | sh: intc: Kill off special reservation interface.  At present reserving the IRLs in the IRQ bitmap in addition to the dropping of the legacy IRQ pre-allocation prevent IRL IRQs from being allocated for the x3proto board.  The only reason to permit reservations was to lock down possible hardware vectors prior to dynamic IRQ scanning, but this doesn't matter much given that the hardware controller configuration is sorted before we get around to doing any dynamic IRQ allocation anyways. Beyond that, all of the tables are __init annotated, so quite a bit more work would need to be done to support reconfiguring things like IRL controllers on the fly, much more than would ever make it worth the hassle.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7366.c | s | 9.1K | 241 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7763.c | s | 15K | 511 | Paul Mundt | lethal@linux-sh.org | 1337316394 |  | sh: sh7763 evt2irq migration.  Migrate SH7763 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | serial-sh7722.c | s | 462B | 18 | Paul Mundt | lethal@linux-sh.org | 1308022819 |  | serial: sh-sci: Abstract register maps.  This takes a bit of a sledgehammer to the horribly CPU subtype ifdef-ridden header and abstracts all of the different register layouts in to distinct types which in turn can be overriden on a per-port basis, or permitted to default to the map matching the port type at probe time.  In the process this ultimately fixes up inumerable bugs with mismatches on various CPU types (particularly the legacy ones that were obviously broken years ago and no one noticed) and provides a more tightly coupled and consolidated platform for extending and implementing generic features.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7786.c | s | 26K | 956 | Paul Mundt | lethal@linux-sh.org | 1337311762 |  | sh: sh7786 evt2irq migration.  This migrates SH7786 to evt2irq() backed hwirq lookup rather than using an open-coded calculation. This will make it possible to reposition the vector base at a later point in time.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7785.c | s | 18K | 645 | Paul Mundt | lethal@linux-sh.org | 1337317489 |  | sh: sh7785 evt2irq migration.  Migrate SH7785 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7343.c | s | 13K | 460 | Paul Mundt | lethal@linux-sh.org | 1337312292 |  | sh: sh7343 evt2irq migration.  Migrate SH7343 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | perf_event.c | s | 7.6K | 271 | Peter Zijlstra | peterz@infradead.org | 1309511198 |  | perf, arch: Add generic NODE cache events  Add a NODE level to the generic cache events which is used to measure local vs remote memory accesses. Like all other cache events, an ACCESS is HIT+MISS, if there is no way to distinguish between reads and writes do reads only etc..  The below needs filling out for !x86 (which I filled out with unsupported events).  I'm fairly sure ARM can leave it like that since it doesn't strike me as an architecture that even has NUMA support. SH might have something since it does appear to have some NUMA bits.  Sparc64, PowerPC and MIPS certainly want a good look there since they clearly are NUMA capable.  Signed-off-by: Peter Zijlstra <a.p.zijlstra@chello.nl> Cc: David Miller <davem@davemloft.net> Cc: Anton Blanchard <anton@samba.org> Cc: David Daney <ddaney@caviumnetworks.com> Cc: Deng-Cheng Zhu <dengcheng.zhu@gmail.com> Cc: Paul Mundt <lethal@linux-sh.org> Cc: Will Deacon <will.deacon@arm.com> Cc: Robert Richter <robert.richter@amd.com> Cc: Stephane Eranian <eranian@google.com> Link: http://lkml.kernel.org/r/1303508226.4865.8.camel@laptop Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | clock-sh7724.c | s | 13K | 327 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7780.c | s | 2.8K | 102 | Magnus Damm | damm@opensource.se | 1331587152 |  | sh: sh4a sh_clk_ops rename  Convert sh4a SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | clock-sh7770.c | s | 1.7K | 61 | Magnus Damm | damm@opensource.se | 1331587152 |  | sh: sh4a sh_clk_ops rename  Convert sh4a SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | pinmux-sh7785.c | s | 42K | 1243 | Magnus Damm | damm@igel.co.jp | 1224730777 |  | sh: sh7785 pinmux support  This patch implements pinmux tables for the sh7785 processor.  Signed-off-by: Magnus Damm <damm@igel.co.jp> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7723.c | s | 18K | 688 | Paul Mundt | lethal@linux-sh.org | 1337313479 |  | sh: sh7723 evt2irq migration.  Migrate SH7723 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7366.c | s | 11K | 418 | Paul Mundt | lethal@linux-sh.org | 1337312591 |  | sh: sh7366 evt2irq migration.  Migrate SH7366 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pinmux-sh7722.c | s | 62K | 1672 | Guennadi Liakhovetski | g.liakhovetski@gmx.de | 1265083350 |  | sh: add high impedance mode management for SIUA pins on sh7722  This improves power management for the SIUA controller on sh7722. Similar patches might be desired for other SIU-enabled SH platforms.  Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | ubc.c | s | 2.9K | 106 | Paul Mundt | lethal@linux-sh.org | 1262686005 |  | sh: Abstracted SH-4A UBC support on hw-breakpoint core.  This is the next big chunk of hw_breakpoint support. This decouples the SH-4A support from the core and moves it out in to its own stub, following many of the conventions established with the perf events layering.  In addition to extending SH-4A support to encapsulate the remainder of the UBC channels, clock framework support for handling the UBC interface clock is added as well, allowing for dynamic clock gating.  This also fixes up a regression introduced by the SIGTRAP handling that broke the ksym_tracer, to the extent that the current support works well with all of the ksym_tracer/ptrace/kgdb. The kprobes singlestep code will follow in turn.  With this in place, the remaining UBC variants (SH-2A and SH-4) can now be trivially plugged in.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7734.c | s | 9.3K | 236 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7343.c | s | 9.6K | 248 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7763.c | s | 2.7K | 97 | Magnus Damm | damm@opensource.se | 1331587152 |  | sh: sh4a sh_clk_ops rename  Convert sh4a SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | pinmux-sh7786.c | s | 30K | 796 | Kuninori Morimoto | morimoto.kuninori@renesas.com | 1238452791 |  | sh: Tidy up sh7786 pinmux table.  Formatting and typo fix.  Signed-off-by: Kuninori Morimoto <morimoto.kuninori@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7757.c | s | 33K | 1170 | Paul Mundt | lethal@linux-sh.org | 1337332407 |  | Merge branch 'sh/evt2irq-migration' into sh-latest  Conflicts: 	arch/sh/kernel/cpu/sh3/setup-sh770x.c 	arch/sh/kernel/cpu/sh3/setup-sh7710.c 	arch/sh/kernel/cpu/sh3/setup-sh7720.c 	arch/sh/kernel/cpu/sh4/setup-sh7750.c 	arch/sh/kernel/cpu/sh4a/setup-sh7343.c 	arch/sh/kernel/cpu/sh4a/setup-sh7366.c 	arch/sh/kernel/cpu/sh4a/setup-sh7722.c 	arch/sh/kernel/cpu/sh4a/setup-sh7723.c 	arch/sh/kernel/cpu/sh4a/setup-sh7724.c 	arch/sh/kernel/cpu/sh4a/setup-sh7757.c 	arch/sh/kernel/cpu/sh4a/setup-sh7763.c 	arch/sh/kernel/cpu/sh4a/setup-sh7770.c 	arch/sh/kernel/cpu/sh4a/setup-sh7785.c 	arch/sh/kernel/cpu/sh4a/setup-sh7786.c  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pinmux-sh7757.c | s | 76K | 2133 | Yoshihiro Shimoda | yoshihiro.shimoda.uh@renesas.com | 1278405509 |  | sh: modify pinmux for SH7757 2nd cut  Signed-off-by: Yoshihiro Shimoda <yoshihiro.shimoda.uh@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pinmux-sh7723.c | s | 68K | 1765 | Paul Mundt | lethal@linux-sh.org | 1224471893 |  | sh: Move the CPU definition headers from asm/ to cpu/.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7734.c | s | 17K | 720 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1334647223 |  | sh: Add initial support for SH7734 CPU subtype  This implements initial support for the SH7734. This adds support SCIF, TMU and RTC.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7785.c | s | 5.8K | 154 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7722.c | s | 8.2K | 220 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7723.c | s | 11K | 272 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340869534 |  | sh: Convert sh_clk_mstp32_register to sh_clk_mstp_register  sh_clk_mstp32_register is deprecated. This convert to sh_clk_mstp_register.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | smp-shx3.c | s | 3.9K | 134 | Yong Zhang | yong.zhang0@gmail.com | 1319780368 |  | SH: irq: Remove IRQF_DISABLED  Since commit [e58aa3d2: genirq: Run irq handlers with interrupts disabled], We run all interrupt handlers with interrupts disabled and we even check and yell when an interrupt handler returns with interrupts enabled (see commit [b738a50a: genirq: Warn when handler enables interrupts]).  So now this flag is a NOOP and can be removed.  Signed-off-by: Yong Zhang <yong.zhang0@gmail.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
