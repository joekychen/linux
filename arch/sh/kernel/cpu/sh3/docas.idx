f | setup-sh7710.c | s | 5.9K | 226 | Paul Mundt | lethal@linux-sh.org | 1337319471 |  | sh: sh7710/sh7712 evt2irq migration.  Migrate SH7710/SH7712 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | Makefile | g | 1.3K |  | Paul Mundt | lethal@linux-sh.org | 1308022819 |  | serial: sh-sci: Abstract register maps.  This takes a bit of a sledgehammer to the horribly CPU subtype ifdef-ridden header and abstracts all of the different register layouts in to distinct types which in turn can be overriden on a per-port basis, or permitted to default to the map matching the port type at probe time.  In the process this ultimately fixes up inumerable bugs with mismatches on various CPU types (particularly the legacy ones that were obviously broken years ago and no one noticed) and provides a more tightly coupled and consolidated platform for extending and implementing generic features.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | swsusp.S | g | 2.9K |  | Magnus Damm | damm@igel.co.jp | 1236657340 |  | sh: hibernation support  Add Suspend-to-disk / swsusp / CONFIG_HIBERNATION support to the SuperH architecture.  To suspend, use "swapon /dev/sda2; echo disk > /sys/power/state" To resume, pass "resume=/dev/sda2" on the kernel command line.  The patch "pm: rework includes, remove arch ifdefs V2" is needed to allow the generic swsusp code to build properly.  Hibernation is not enabled with this patch though, a patch setting ARCH_HIBERNATION_POSSIBLE will be submitted later.  Signed-off-by: Magnus Damm <damm@igel.co.jp> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | serial-sh7710.c | s | 554B | 17 | Paul Mundt | lethal@linux-sh.org | 1308022819 |  | serial: sh-sci: Abstract register maps.  This takes a bit of a sledgehammer to the horribly CPU subtype ifdef-ridden header and abstracts all of the different register layouts in to distinct types which in turn can be overriden on a per-port basis, or permitted to default to the map matching the port type at probe time.  In the process this ultimately fixes up inumerable bugs with mismatches on various CPU types (particularly the legacy ones that were obviously broken years ago and no one noticed) and provides a more tightly coupled and consolidated platform for extending and implementing generic features.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh3.c | s | 2.2K | 73 | Magnus Damm | damm@opensource.se | 1331587151 |  | sh: sh3 sh_clk_ops rename  Convert sh3 SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | ex.S | g | 1.8K |  | Paul Mundt | lethal@linux-sh.org | 1260252147 |  | sh: hw-breakpoints: Add preliminary support for SH-4A UBC.  This adds preliminary support for the SH-4A UBC to the hw-breakpoints API. Presently only a single channel is implemented, and the ptrace interface still needs to be converted. This is the first step to cleaning up the long-standing UBC mess, making the UBC more generally accessible, and finally making it SMP safe.  An additional abstraction will be layered on top of this as with the perf events code to permit the various CPU families to wire up support for their own specific UBCs, as many variations exist.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh3.c | s | 1.8K | 57 | Paul Mundt | lethal@linux-sh.org | 1264478320 |  | sh: Mass ctrl_in/outX to __raw_read/writeX conversion.  The old ctrl in/out routines are non-portable and unsuitable for cross-platform use. While drivers/sh has already been sanitized, there is still quite a lot of code that is not. This converts the arch/sh/ bits over, which permits us to flag the routines as deprecated whilst still building with -Werror for the architecture code, and to ensure that future users are not added.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | serial-sh770x.c | s | 838B | 27 | Paul Mundt | lethal@linux-sh.org | 1308022819 |  | serial: sh-sci: Abstract register maps.  This takes a bit of a sledgehammer to the horribly CPU subtype ifdef-ridden header and abstracts all of the different register layouts in to distinct types which in turn can be overriden on a per-port basis, or permitted to default to the map matching the port type at probe time.  In the process this ultimately fixes up inumerable bugs with mismatches on various CPU types (particularly the legacy ones that were obviously broken years ago and no one noticed) and provides a more tightly coupled and consolidated platform for extending and implementing generic features.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | serial-sh7720.c | s | 1.1K | 34 | Paul Mundt | lethal@linux-sh.org | 1308540293 |  | sh: Fix up build fallout from serial merge.  This fixes up build issues for SH7720/SH7722/SH7750 that crept in with the serial rework.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7710.c | s | 1.9K | 66 | Magnus Damm | damm@opensource.se | 1331587151 |  | sh: sh3 sh_clk_ops rename  Convert sh3 SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | clock-sh7706.c | s | 2.0K | 69 | Magnus Damm | damm@opensource.se | 1331587151 |  | sh: sh3 sh_clk_ops rename  Convert sh3 SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | clock-sh7712.c | s | 1.6K | 58 | Magnus Damm | damm@opensource.se | 1331587151 |  | sh: sh3 sh_clk_ops rename  Convert sh3 SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | setup-sh7705.c | s | 5.8K | 224 | Paul Mundt | lethal@linux-sh.org | 1337319071 |  | sh: sh7705 evt2irq migration.  Migrate SH7705 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup-sh7720.c | s | 10K | 426 | Paul Mundt | lethal@linux-sh.org | 1337319660 |  | sh: sh7720 evt2irq migration.  Migrate SH7720 to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | probe.c | s | 3.0K | 97 | Paul Mundt | lethal@linux-sh.org | 1271818866 |  | sh: Tidy CPU probing and fixup section annotations.  This does a detect_cpu_and_cache_system() -> cpu_probe() rename, tidies up the unused return value, and stuffs it under __cpuinit in preparation for CPU hotplug.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7709.c | s | 2.1K | 70 | Magnus Damm | damm@opensource.se | 1331587151 |  | sh: sh3 sh_clk_ops rename  Convert sh3 SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | setup-sh770x.c | s | 7.5K | 287 | Paul Mundt | lethal@linux-sh.org | 1337319288 |  | sh: sh7706/sh7707/sh7709/sh7709 evt2irq migration.  Migrate SH770x to evt2irq() backed hwirq lookups.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | entry.S | g | 10K |  | Paul Mundt | lethal@linux-sh.org | 1336975048 |  | sh: Support thread fault code encoding.  This provides a simple interface modelled after sparc64/m32r to encode the error code in the upper byte of thread_info for finer-grained handling in the page fault path.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | clock-sh7705.c | s | 2.1K | 72 | Magnus Damm | damm@opensource.se | 1331587151 |  | sh: sh3 sh_clk_ops rename  Convert sh3 SoCs to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | pinmux-sh7720.c | s | 42K | 1151 | Paul Mundt | lethal@linux-sh.org | 1224471893 |  | sh: Move the CPU definition headers from asm/ to cpu/.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
