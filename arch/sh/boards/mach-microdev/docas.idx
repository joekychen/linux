f | irq.c | s | 5.1K | 126 | David Howells | dhowells@redhat.com | 1332955803 |  | Disintegrate asm/system.h for SH  Disintegrate asm/system.h for SH.  Signed-off-by: David Howells <dhowells@redhat.com> cc: linux-sh@vger.kernel.org
f | setup.c | s | 5.6K | 189 | Paul Mundt | lethal@linux-sh.org | 1337590441 |  | sh: Kill off machvec IRQ hinting.  Everything is using sparseirq these days, so we have no need to arbitrarily size nr_irqs ahead of time. The legacy IRQ pre-allocation likewise has no meaning for us, so that's killed off too. We now depend on nr_irqs expansion by the generic hardirq layer instead.  It's also worth noting that the majority of boards had completely bogus values for their nr_irqs relative to their CPU and configurations, so this ends up correcting behaviour for quite a few platforms.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | Makefile | g | 113B |  | Paul Mundt | lethal@linux-sh.org | 1229939085 |  | sh: mach-microdev: Split out the fdc37c93xapm initialization code.  This makes the microdev code a bit more readable, and moves the setup for the SuperIO out on its own.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | fdc37c93xapm.c | s | 6.3K | 138 | Paul Mundt | lethal@linux-sh.org | 1229939085 |  | sh: mach-microdev: Split out the fdc37c93xapm initialization code.  This makes the microdev code a bit more readable, and moves the setup for the SuperIO out on its own.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | io.c | s | 4.1K | 116 | Paul Mundt | lethal@linux-sh.org | 1288345342 |  | sh: mach-microdev: SuperIO-relative ioport mapping.  The microdev only has to contend with silly PIO mangling on anything within the SuperIO range. As each of the SuperIO modules is already speciail cased, we just shift that logic over to the ioport map.  With microdev PCI never being merged (and being fudamentally broken in hardware), and the ethernet chip only doing 16-bit accesses already, there's no need to maintain any of the extra special casing. Kill it all off.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
