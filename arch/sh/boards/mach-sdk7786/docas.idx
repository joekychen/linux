f | Makefile | g | 113B |  | Paul Mundt | lethal@linux-sh.org | 1292579884 |  | sh: mach-sdk7786: Handle baseboard NMI source selection.  The on-board NMI switch is routed through and mangled by the FPGA prior to its delivery to the NMI pin, so add some glue for the various configuration options. The default is to unmask it and enable all input sources.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | nmi.c | s | 1.7K | 74 | Paul Mundt | lethal@linux-sh.org | 1292579884 |  | sh: mach-sdk7786: Handle baseboard NMI source selection.  The on-board NMI switch is routed through and mangled by the FPGA prior to its delivery to the NMI pin, so add some glue for the various configuration options. The default is to unmask it and enable all input sources.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | gpio.c | s | 1.2K | 43 | Paul Mundt | lethal@linux-sh.org | 1286993084 |  | sh: mach-sdk7786: Add support for fpga gpios.  The sdk7786 FPGA supports a number of user settable input switches that are otherwise unused. This wires up a dummy gpio chip for the switch bank to simply expose them to userspace.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | irq.c | s | 1.1K | 42 | Paul Mundt | lethal@linux-sh.org | 1263968634 |  | sh: mach-sdk7786: Split out FPGA IRQ controller setup.  This moves out the FPGA IRQ controller setup code to its own file, in preparation for switching off of IRL mode and having it provide its own irq_chip.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | setup.c | s | 5.8K | 221 | Magnus Damm | damm@opensource.se | 1331587152 |  | sh: board sh_clk_ops rename  Convert remaining sh board code to use sh_clk_ops.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | fpga.c | s | 1.7K | 61 | Paul Mundt | lethal@linux-sh.org | 1263979519 |  | sh: mach-sdk7786: Probe system FPGA area mapping.  This implements dynamic probing for the system FPGA. The system reset controller contains a fixed magic read word in order to identify the FPGA. This just utilizes a simple loop that scans across all of the fixed physical areas (area 0 through area 6) to locate the FPGA.  The FPGA also contains register information detailing the area mappings and chip select settings for all of the other blocks, so this needs to be done before we can set up anything else.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | sram.c | s | 1.7K | 63 | Paul Mundt | lethal@linux-sh.org | 1287076384 |  | sh: mach-sdk7786: Add support for the FPGA SRAM.  This ties in the 2KiB of FPGA SRAM in to the generic SRAM pool.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
