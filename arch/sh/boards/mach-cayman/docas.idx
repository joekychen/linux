f | setup.c | s | 5.4K | 155 | Paul Mundt | lethal@linux-sh.org | 1337590441 |  | sh: Kill off machvec IRQ hinting.  Everything is using sparseirq these days, so we have no need to arbitrarily size nr_irqs ahead of time. The legacy IRQ pre-allocation likewise has no meaning for us, so that's killed off too. We now depend on nr_irqs expansion by the generic hardirq layer instead.  It's also worth noting that the majority of boards had completely bogus values for their nr_irqs relative to their CPU and configurations, so this ends up correcting behaviour for quite a few platforms.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | irq.c | s | 3.4K | 133 | Yong Zhang | yong.zhang0@gmail.com | 1319780368 |  | SH: irq: Remove IRQF_DISABLED  Since commit [e58aa3d2: genirq: Run irq handlers with interrupts disabled], We run all interrupt handlers with interrupts disabled and we even check and yell when an interrupt handler returns with interrupts enabled (see commit [b738a50a: genirq: Warn when handler enables interrupts]).  So now this flag is a NOOP and can be removed.  Signed-off-by: Yong Zhang <yong.zhang0@gmail.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | Makefile | g | 98B |  | Paul Mundt | lethal@linux-sh.org | 1241772119 |  | sh: Move out cayman-specific panic handler code to its own file.  This moves out the cayman-specific panic handler code to a better location, and leaves the generic implementation a simple stub that is still used under emulation.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | panic.c | s | 1.0K | 42 | Paul Mundt | lethal@linux-sh.org | 1241772119 |  | sh: Move out cayman-specific panic handler code to its own file.  This moves out the cayman-specific panic handler code to a better location, and leaves the generic implementation a simple stub that is still used under emulation.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
