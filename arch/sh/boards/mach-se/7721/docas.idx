f | setup.c | s | 2.2K | 86 | Paul Mundt | lethal@linux-sh.org | 1337590441 |  | sh: Kill off machvec IRQ hinting.  Everything is using sparseirq these days, so we have no need to arbitrarily size nr_irqs ahead of time. The legacy IRQ pre-allocation likewise has no meaning for us, so that's killed off too. We now depend on nr_irqs expansion by the generic hardirq layer instead.  It's also worth noting that the majority of boards had completely bogus values for their nr_irqs relative to their CPU and configurations, so this ends up correcting behaviour for quite a few platforms.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | irq.c | s | 1015B | 38 | Paul Mundt | lethal@linux-sh.org | 1264478320 |  | sh: Mass ctrl_in/outX to __raw_read/writeX conversion.  The old ctrl in/out routines are non-portable and unsuitable for cross-platform use. While drivers/sh has already been sanitized, there is still quite a lot of code that is not. This converts the arch/sh/ bits over, which permits us to flag the routines as deprecated whilst still building with -Werror for the architecture code, and to ensure that future users are not added.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | Makefile | g | 24B |  | Paul Mundt | lethal@linux-sh.org | 1217332879 |  | sh: Shuffle the board directories in to mach groups.  This flattens out the board directories in to individual mach groups, we will use this for getting rid of unneeded directories, simplifying the build system, and becoming more coherent with the refactored arch/sh/include topology.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
