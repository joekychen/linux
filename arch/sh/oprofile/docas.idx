f | common.c | s | 1.4K | 56 | Vladimir Zapolskiy | vladimir.zapolskiy@nokia.com | 1324637914 |  | oprofile, arm/sh: Fix oprofile_arch_exit() linkage issue  This change fixes a linking problem, which happens if oprofile is selected to be compiled as built-in:    `oprofile_arch_exit' referenced in section `.init.text' of   arch/arm/oprofile/built-in.o: defined in discarded section   `.exit.text' of arch/arm/oprofile/built-in.o  The problem is appeared after commit 87121ca504, which introduced oprofile_arch_exit() calls from __init function. Note that the aforementioned commit has been backported to stable branches, and the problem is known to be reproduced at least with 3.0.13 and 3.1.5 kernels.  Signed-off-by: Vladimir Zapolskiy <vladimir.zapolskiy@nokia.com> Signed-off-by: Robert Richter <robert.richter@amd.com> Cc: Will Deacon <will.deacon@arm.com> Cc: oprofile-list <oprofile-list@lists.sourceforge.net> Cc: <stable@kernel.org> Link: http://lkml.kernel.org/r/20111222151540.GB16765@erda.amd.com Signed-off-by: Ingo Molnar <mingo@elte.hu>
f | Makefile | g | 436B |  | Paul Mundt | lethal@linux-sh.org | 1288165893 |  | sh: oprofile: Fix up and extend op_name_from_perf_id().  op_name_from_perf_id() currently returns a local variable, which isn't terribly productive. As we only handle a single PMU case for now, simply allocate and free the string from the arch init/exit context and have op_name_from_perf_id() hand back the cached string.  This also takes UTS_MACHINE in to account, given that we build for multiple architectures.  Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | backtrace.c | s | 2.1K | 75 | Richard Weinberger | richard@nod.at | 1306129335 |  | sh: remove warning and warning_symbol from struct stacktrace_ops  Both warning and warning_symbol are nowhere used. Let's get rid of them.  Signed-off-by: Richard Weinberger <richard@nod.at> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
