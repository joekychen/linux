<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › xtensa › variants › s6000 › include › variant › core.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../../index.html"></a><h1>core.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Xtensa processor core configuration information.</span>
<span class="cm"> *</span>
<span class="cm"> * This file is subject to the terms and conditions of the GNU General Public</span>
<span class="cm"> * License.  See the file &quot;COPYING&quot; in the main directory of this archive</span>
<span class="cm"> * for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 1999-2008 Tensilica Inc.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef _XTENSA_CORE_CONFIGURATION_H</span>
<span class="cp">#define _XTENSA_CORE_CONFIGURATION_H</span>


<span class="cm">/****************************************************************************</span>
<span class="cm">	    Parameters Useful for Any Code, USER or PRIVILEGED</span>
<span class="cm"> ****************************************************************************/</span>

<span class="cm">/*</span>
<span class="cm"> *  Note:  Macros of the form XCHAL_HAVE_*** have a value of 1 if the option is</span>
<span class="cm"> *  configured, and a value of 0 otherwise.  These macros are always defined.</span>
<span class="cm"> */</span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">				ISA</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_HAVE_BE			0	</span><span class="cm">/* big-endian byte ordering */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_WINDOWED		1	</span><span class="cm">/* windowed registers option */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_AREGS			64	</span><span class="cm">/* num of physical addr regs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_AREGS_LOG2		6	</span><span class="cm">/* log2(XCHAL_NUM_AREGS) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_MAX_INSTRUCTION_SIZE	8	</span><span class="cm">/* max instr bytes (3..8) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_DEBUG		1	</span><span class="cm">/* debug option */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_DENSITY		1	</span><span class="cm">/* 16-bit instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_LOOPS		1	</span><span class="cm">/* zero-overhead loops */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_NSA			1	</span><span class="cm">/* NSA/NSAU instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_MINMAX		1	</span><span class="cm">/* MIN/MAX instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_SEXT			1	</span><span class="cm">/* SEXT instruction */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_CLAMPS		1	</span><span class="cm">/* CLAMPS instruction */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_MUL16		1	</span><span class="cm">/* MUL16S/MUL16U instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_MUL32		1	</span><span class="cm">/* MULL instruction */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_MUL32_HIGH		1	</span><span class="cm">/* MULUH/MULSH instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_DIV32		0	</span><span class="cm">/* QUOS/QUOU/REMS/REMU instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_L32R			1	</span><span class="cm">/* L32R instruction */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_ABSOLUTE_LITERALS	1	</span><span class="cm">/* non-PC-rel (extended) L32R */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_CONST16		0	</span><span class="cm">/* CONST16 instruction */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_ADDX			1	</span><span class="cm">/* ADDX#/SUBX# instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_WIDE_BRANCHES	0	</span><span class="cm">/* B*.W18 or B*.W15 instr&#39;s */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_PREDICTED_BRANCHES	0	</span><span class="cm">/* B[EQ/EQZ/NE/NEZ]T instr&#39;s */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_CALL4AND12		1	</span><span class="cm">/* (obsolete option) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_ABS			1	</span><span class="cm">/* ABS instruction */</span><span class="cp"></span>
<span class="cm">/*#define XCHAL_HAVE_POPC		0*/</span>	<span class="cm">/* POPC instruction */</span>
<span class="cm">/*#define XCHAL_HAVE_CRC		0*/</span>	<span class="cm">/* CRC instruction */</span>
<span class="cp">#define XCHAL_HAVE_RELEASE_SYNC		0	</span><span class="cm">/* L32AI/S32RI instructions */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_S32C1I		0	</span><span class="cm">/* S32C1I instruction */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_SPECULATION		0	</span><span class="cm">/* speculation */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_FULL_RESET		0	</span><span class="cm">/* all regs/state reset */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_CONTEXTS		1	</span><span class="cm">/* */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_MISC_REGS		4	</span><span class="cm">/* num of scratch regs (0..4) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_TAP_MASTER		0	</span><span class="cm">/* JTAG TAP control instr&#39;s */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_PRID			0	</span><span class="cm">/* processor ID register */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_THREADPTR		0	</span><span class="cm">/* THREADPTR register */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_BOOLEANS		1	</span><span class="cm">/* boolean registers */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_CP			1	</span><span class="cm">/* CPENABLE reg (coprocessor) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_CP_MAXCFG			8	</span><span class="cm">/* max allowed cp id plus one */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_MAC16		0	</span><span class="cm">/* MAC16 package */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_VECTORFPU2005	0	</span><span class="cm">/* vector floating-point pkg */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_FP			1	</span><span class="cm">/* floating point pkg */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_VECTRA1		0	</span><span class="cm">/* Vectra I  pkg */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_VECTRALX		0	</span><span class="cm">/* Vectra LX pkg */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_HIFI2		0	</span><span class="cm">/* HiFi2 Audio Engine pkg */</span><span class="cp"></span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">				MISC</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_NUM_WRITEBUFFER_ENTRIES	8	</span><span class="cm">/* size of write buffer */</span><span class="cp"></span>
<span class="cp">#define XCHAL_INST_FETCH_WIDTH		8	</span><span class="cm">/* instr-fetch width in bytes */</span><span class="cp"></span>
<span class="cp">#define XCHAL_DATA_WIDTH		16	</span><span class="cm">/* data width in bytes */</span><span class="cp"></span>
<span class="cm">/*  In T1050, applies to selected core load and store instructions (see ISA): */</span>
<span class="cp">#define XCHAL_UNALIGNED_LOAD_EXCEPTION	1	</span><span class="cm">/* unaligned loads cause exc. */</span><span class="cp"></span>
<span class="cp">#define XCHAL_UNALIGNED_STORE_EXCEPTION	1	</span><span class="cm">/* unaligned stores cause exc.*/</span><span class="cp"></span>

<span class="cp">#define XCHAL_SW_VERSION		701001	</span><span class="cm">/* sw version of this header */</span><span class="cp"></span>

<span class="cp">#define XCHAL_CORE_ID			&quot;stretch_bali&quot;	</span><span class="cm">/* alphanum core name</span>
<span class="cm">						   (CoreID) set in the Xtensa</span>
<span class="cm">						   Processor Generator */</span><span class="cp"></span>

<span class="cp">#define XCHAL_BUILD_UNIQUE_ID		0x000104B9	</span><span class="cm">/* 22-bit sw build ID */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> *  These definitions describe the hardware targeted by this software.</span>
<span class="cm"> */</span>
<span class="cp">#define XCHAL_HW_CONFIGID0		0xC2F3F9FE	</span><span class="cm">/* ConfigID hi 32 bits*/</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_CONFIGID1		0x054104B9	</span><span class="cm">/* ConfigID lo 32 bits*/</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_VERSION_NAME		&quot;LX1.0.2&quot;	</span><span class="cm">/* full version name */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_VERSION_MAJOR		2100	</span><span class="cm">/* major ver# of targeted hw */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_VERSION_MINOR		2	</span><span class="cm">/* minor ver# of targeted hw */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_VERSION		210002	</span><span class="cm">/* major*100+minor */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_REL_LX1		1</span>
<span class="cp">#define XCHAL_HW_REL_LX1_0		1</span>
<span class="cp">#define XCHAL_HW_REL_LX1_0_2		1</span>
<span class="cp">#define XCHAL_HW_CONFIGID_RELIABLE	1</span>
<span class="cm">/*  If software targets a *range* of hardware versions, these are the bounds: */</span>
<span class="cp">#define XCHAL_HW_MIN_VERSION_MAJOR	2100	</span><span class="cm">/* major v of earliest tgt hw */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_MIN_VERSION_MINOR	2	</span><span class="cm">/* minor v of earliest tgt hw */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_MIN_VERSION		210002	</span><span class="cm">/* earliest targeted hw */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_MAX_VERSION_MAJOR	2100	</span><span class="cm">/* major v of latest tgt hw */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_MAX_VERSION_MINOR	2	</span><span class="cm">/* minor v of latest tgt hw */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HW_MAX_VERSION		210002	</span><span class="cm">/* latest targeted hw */</span><span class="cp"></span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">				CACHE</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_ICACHE_LINESIZE		16	</span><span class="cm">/* I-cache line size in bytes */</span><span class="cp"></span>
<span class="cp">#define XCHAL_DCACHE_LINESIZE		16	</span><span class="cm">/* D-cache line size in bytes */</span><span class="cp"></span>
<span class="cp">#define XCHAL_ICACHE_LINEWIDTH		4	</span><span class="cm">/* log2(I line size in bytes) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_DCACHE_LINEWIDTH		4	</span><span class="cm">/* log2(D line size in bytes) */</span><span class="cp"></span>

<span class="cp">#define XCHAL_ICACHE_SIZE		32768	</span><span class="cm">/* I-cache size in bytes or 0 */</span><span class="cp"></span>
<span class="cp">#define XCHAL_DCACHE_SIZE		32768	</span><span class="cm">/* D-cache size in bytes or 0 */</span><span class="cp"></span>

<span class="cp">#define XCHAL_DCACHE_IS_WRITEBACK	1	</span><span class="cm">/* writeback feature */</span><span class="cp"></span>




<span class="cm">/****************************************************************************</span>
<span class="cm">    Parameters Useful for PRIVILEGED (Supervisory or Non-Virtualized) Code</span>
<span class="cm"> ****************************************************************************/</span>


<span class="cp">#ifndef XTENSA_HAL_NON_PRIVILEGED_ONLY</span>

<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">				CACHE</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_HAVE_PIF			1	</span><span class="cm">/* any outbound PIF present */</span><span class="cp"></span>

<span class="cm">/*  If present, cache size in bytes == (ways * 2^(linewidth + setwidth)).  */</span>

<span class="cm">/*  Number of cache sets in log2(lines per way):  */</span>
<span class="cp">#define XCHAL_ICACHE_SETWIDTH		9</span>
<span class="cp">#define XCHAL_DCACHE_SETWIDTH		10</span>

<span class="cm">/*  Cache set associativity (number of ways):  */</span>
<span class="cp">#define XCHAL_ICACHE_WAYS		4</span>
<span class="cp">#define XCHAL_DCACHE_WAYS		2</span>

<span class="cm">/*  Cache features:  */</span>
<span class="cp">#define XCHAL_ICACHE_LINE_LOCKABLE	1</span>
<span class="cp">#define XCHAL_DCACHE_LINE_LOCKABLE	0</span>
<span class="cp">#define XCHAL_ICACHE_ECC_PARITY		0</span>
<span class="cp">#define XCHAL_DCACHE_ECC_PARITY		0</span>

<span class="cm">/*  Number of encoded cache attr bits (see &lt;xtensa/hal.h&gt; for decoded bits):  */</span>
<span class="cp">#define XCHAL_CA_BITS			4</span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">			INTERNAL I/D RAM/ROMs and XLMI</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_NUM_INSTROM		0	</span><span class="cm">/* number of core instr. ROMs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_INSTRAM		0	</span><span class="cm">/* number of core instr. RAMs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_DATAROM		0	</span><span class="cm">/* number of core data ROMs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_DATARAM		1	</span><span class="cm">/* number of core data RAMs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_URAM			0	</span><span class="cm">/* number of core unified RAMs*/</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_XLMI			1	</span><span class="cm">/* number of core XLMI ports */</span><span class="cp"></span>

<span class="cm">/*  Data RAM 0:  */</span>
<span class="cp">#define XCHAL_DATARAM0_VADDR		0x3FFF0000</span>
<span class="cp">#define XCHAL_DATARAM0_PADDR		0x3FFF0000</span>
<span class="cp">#define XCHAL_DATARAM0_SIZE		65536</span>
<span class="cp">#define XCHAL_DATARAM0_ECC_PARITY	0</span>

<span class="cm">/*  XLMI Port 0:  */</span>
<span class="cp">#define XCHAL_XLMI0_VADDR		0x37F80000</span>
<span class="cp">#define XCHAL_XLMI0_PADDR		0x37F80000</span>
<span class="cp">#define XCHAL_XLMI0_SIZE		262144</span>
<span class="cp">#define XCHAL_XLMI0_ECC_PARITY	0</span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">			INTERRUPTS and TIMERS</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_HAVE_INTERRUPTS		1	</span><span class="cm">/* interrupt option */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_HIGHPRI_INTERRUPTS	1	</span><span class="cm">/* med/high-pri. interrupts */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_NMI			1	</span><span class="cm">/* non-maskable interrupt */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_CCOUNT		1	</span><span class="cm">/* CCOUNT reg. (timer option) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_TIMERS		3	</span><span class="cm">/* number of CCOMPAREn regs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_INTERRUPTS		27	</span><span class="cm">/* number of interrupts */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_INTERRUPTS_LOG2	5	</span><span class="cm">/* ceil(log2(NUM_INTERRUPTS)) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_EXTINTERRUPTS		20	</span><span class="cm">/* num of external interrupts */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_INTLEVELS		4	</span><span class="cm">/* number of interrupt levels</span>
<span class="cm">						   (not including level zero) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXCM_LEVEL		1	</span><span class="cm">/* level masked by PS.EXCM */</span><span class="cp"></span>
	<span class="cm">/* (always 1 in XEA1; levels 2 .. EXCM_LEVEL are &quot;medium priority&quot;) */</span>

<span class="cm">/*  Masks of interrupts at each interrupt level:  */</span>
<span class="cp">#define XCHAL_INTLEVEL1_MASK		0x01F07FFF</span>
<span class="cp">#define XCHAL_INTLEVEL2_MASK		0x02018000</span>
<span class="cp">#define XCHAL_INTLEVEL3_MASK		0x04060000</span>
<span class="cp">#define XCHAL_INTLEVEL4_MASK		0x00000000</span>
<span class="cp">#define XCHAL_INTLEVEL5_MASK		0x00080000</span>
<span class="cp">#define XCHAL_INTLEVEL6_MASK		0x00000000</span>
<span class="cp">#define XCHAL_INTLEVEL7_MASK		0x00000000</span>

<span class="cm">/*  Masks of interrupts at each range 1..n of interrupt levels:  */</span>
<span class="cp">#define XCHAL_INTLEVEL1_ANDBELOW_MASK	0x01F07FFF</span>
<span class="cp">#define XCHAL_INTLEVEL2_ANDBELOW_MASK	0x03F1FFFF</span>
<span class="cp">#define XCHAL_INTLEVEL3_ANDBELOW_MASK	0x07F7FFFF</span>
<span class="cp">#define XCHAL_INTLEVEL4_ANDBELOW_MASK	0x07F7FFFF</span>
<span class="cp">#define XCHAL_INTLEVEL5_ANDBELOW_MASK	0x07FFFFFF</span>
<span class="cp">#define XCHAL_INTLEVEL6_ANDBELOW_MASK	0x07FFFFFF</span>
<span class="cp">#define XCHAL_INTLEVEL7_ANDBELOW_MASK	0x07FFFFFF</span>

<span class="cm">/*  Level of each interrupt:  */</span>
<span class="cp">#define XCHAL_INT0_LEVEL		1</span>
<span class="cp">#define XCHAL_INT1_LEVEL		1</span>
<span class="cp">#define XCHAL_INT2_LEVEL		1</span>
<span class="cp">#define XCHAL_INT3_LEVEL		1</span>
<span class="cp">#define XCHAL_INT4_LEVEL		1</span>
<span class="cp">#define XCHAL_INT5_LEVEL		1</span>
<span class="cp">#define XCHAL_INT6_LEVEL		1</span>
<span class="cp">#define XCHAL_INT7_LEVEL		1</span>
<span class="cp">#define XCHAL_INT8_LEVEL		1</span>
<span class="cp">#define XCHAL_INT9_LEVEL		1</span>
<span class="cp">#define XCHAL_INT10_LEVEL		1</span>
<span class="cp">#define XCHAL_INT11_LEVEL		1</span>
<span class="cp">#define XCHAL_INT12_LEVEL		1</span>
<span class="cp">#define XCHAL_INT13_LEVEL		1</span>
<span class="cp">#define XCHAL_INT14_LEVEL		1</span>
<span class="cp">#define XCHAL_INT15_LEVEL		2</span>
<span class="cp">#define XCHAL_INT16_LEVEL		2</span>
<span class="cp">#define XCHAL_INT17_LEVEL		3</span>
<span class="cp">#define XCHAL_INT18_LEVEL		3</span>
<span class="cp">#define XCHAL_INT19_LEVEL		5</span>
<span class="cp">#define XCHAL_INT20_LEVEL		1</span>
<span class="cp">#define XCHAL_INT21_LEVEL		1</span>
<span class="cp">#define XCHAL_INT22_LEVEL		1</span>
<span class="cp">#define XCHAL_INT23_LEVEL		1</span>
<span class="cp">#define XCHAL_INT24_LEVEL		1</span>
<span class="cp">#define XCHAL_INT25_LEVEL		2</span>
<span class="cp">#define XCHAL_INT26_LEVEL		3</span>
<span class="cp">#define XCHAL_DEBUGLEVEL		4	</span><span class="cm">/* debug interrupt level */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_DEBUG_EXTERN_INT	1	</span><span class="cm">/* OCD external db interrupt */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NMILEVEL			5	</span><span class="cm">/* NMI &quot;level&quot; (for use with</span>
<span class="cm">						   EXCSAVE/EPS/EPC_n, RFI n) */</span><span class="cp"></span>

<span class="cm">/*  Type of each interrupt:  */</span>
<span class="cp">#define XCHAL_INT0_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT1_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT2_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT3_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT4_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT5_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT6_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT7_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT8_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT9_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT10_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT11_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT12_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT13_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT14_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT15_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT16_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT17_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT18_TYPE 	XTHAL_INTTYPE_EXTERN_LEVEL</span>
<span class="cp">#define XCHAL_INT19_TYPE 	XTHAL_INTTYPE_NMI</span>
<span class="cp">#define XCHAL_INT20_TYPE 	XTHAL_INTTYPE_SOFTWARE</span>
<span class="cp">#define XCHAL_INT21_TYPE 	XTHAL_INTTYPE_SOFTWARE</span>
<span class="cp">#define XCHAL_INT22_TYPE 	XTHAL_INTTYPE_SOFTWARE</span>
<span class="cp">#define XCHAL_INT23_TYPE 	XTHAL_INTTYPE_SOFTWARE</span>
<span class="cp">#define XCHAL_INT24_TYPE 	XTHAL_INTTYPE_TIMER</span>
<span class="cp">#define XCHAL_INT25_TYPE 	XTHAL_INTTYPE_TIMER</span>
<span class="cp">#define XCHAL_INT26_TYPE 	XTHAL_INTTYPE_TIMER</span>

<span class="cm">/*  Masks of interrupts for each type of interrupt:  */</span>
<span class="cp">#define XCHAL_INTTYPE_MASK_UNCONFIGURED	0xF8000000</span>
<span class="cp">#define XCHAL_INTTYPE_MASK_SOFTWARE	0x00F00000</span>
<span class="cp">#define XCHAL_INTTYPE_MASK_EXTERN_EDGE	0x00000000</span>
<span class="cp">#define XCHAL_INTTYPE_MASK_EXTERN_LEVEL	0x0007FFFF</span>
<span class="cp">#define XCHAL_INTTYPE_MASK_TIMER	0x07000000</span>
<span class="cp">#define XCHAL_INTTYPE_MASK_NMI		0x00080000</span>
<span class="cp">#define XCHAL_INTTYPE_MASK_WRITE_ERROR	0x00000000</span>

<span class="cm">/*  Interrupt numbers assigned to specific interrupt sources:  */</span>
<span class="cp">#define XCHAL_TIMER0_INTERRUPT		24	</span><span class="cm">/* CCOMPARE0 */</span><span class="cp"></span>
<span class="cp">#define XCHAL_TIMER1_INTERRUPT		25	</span><span class="cm">/* CCOMPARE1 */</span><span class="cp"></span>
<span class="cp">#define XCHAL_TIMER2_INTERRUPT		26	</span><span class="cm">/* CCOMPARE2 */</span><span class="cp"></span>
<span class="cp">#define XCHAL_TIMER3_INTERRUPT		XTHAL_TIMER_UNCONFIGURED</span>
<span class="cp">#define XCHAL_NMI_INTERRUPT		19	</span><span class="cm">/* non-maskable interrupt */</span><span class="cp"></span>

<span class="cm">/*  Interrupt numbers for levels at which only one interrupt is configured:  */</span>
<span class="cp">#define XCHAL_INTLEVEL5_NUM		19</span>
<span class="cm">/*  (There are many interrupts each at level(s) 1, 2, 3.)  */</span>


<span class="cm">/*</span>
<span class="cm"> *  External interrupt vectors/levels.</span>
<span class="cm"> *  These macros describe how Xtensa processor interrupt numbers</span>
<span class="cm"> *  (as numbered internally, eg. in INTERRUPT and INTENABLE registers)</span>
<span class="cm"> *  map to external BInterrupt&lt;n&gt; pins, for those interrupts</span>
<span class="cm"> *  configured as external (level-triggered, edge-triggered, or NMI).</span>
<span class="cm"> *  See the Xtensa processor databook for more details.</span>
<span class="cm"> */</span>

<span class="cm">/*  Core interrupt numbers mapped to each EXTERNAL interrupt number:  */</span>
<span class="cp">#define XCHAL_EXTINT0_NUM		0	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT1_NUM		1	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT2_NUM		2	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT3_NUM		3	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT4_NUM		4	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT5_NUM		5	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT6_NUM		6	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT7_NUM		7	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT8_NUM		8	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT9_NUM		9	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT10_NUM		10	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT11_NUM		11	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT12_NUM		12	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT13_NUM		13	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT14_NUM		14	</span><span class="cm">/* (intlevel 1) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT15_NUM		15	</span><span class="cm">/* (intlevel 2) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT16_NUM		16	</span><span class="cm">/* (intlevel 2) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT17_NUM		17	</span><span class="cm">/* (intlevel 3) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT18_NUM		18	</span><span class="cm">/* (intlevel 3) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_EXTINT19_NUM		19	</span><span class="cm">/* (intlevel 5) */</span><span class="cp"></span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">			EXCEPTIONS and VECTORS</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_XEA_VERSION		2	</span><span class="cm">/* Xtensa Exception Architecture</span>
<span class="cm">						   number: 1 == XEA1 (old)</span>
<span class="cm">							   2 == XEA2 (new)</span>
<span class="cm">							   0 == XEAX (extern) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_XEA1			0	</span><span class="cm">/* Exception Architecture 1 */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_XEA2			1	</span><span class="cm">/* Exception Architecture 2 */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_XEAX			0	</span><span class="cm">/* External Exception Arch. */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_EXCEPTIONS		1	</span><span class="cm">/* exception option */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_MEM_ECC_PARITY	0	</span><span class="cm">/* local memory ECC/parity */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_VECTOR_SELECT	0	</span><span class="cm">/* relocatable vectors */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_VECBASE		0	</span><span class="cm">/* relocatable vectors */</span><span class="cp"></span>

<span class="cp">#define XCHAL_RESET_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_RESET_VECTOR_VADDR	0x3FFE03D0</span>
<span class="cp">#define XCHAL_RESET_VECTOR_PADDR	0x3FFE03D0</span>
<span class="cp">#define XCHAL_USER_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_USER_VECTOR_VADDR		0x40000220</span>
<span class="cp">#define XCHAL_USER_VECTOR_PADDR		0x40000220</span>
<span class="cp">#define XCHAL_KERNEL_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_KERNEL_VECTOR_VADDR	0x40000200</span>
<span class="cp">#define XCHAL_KERNEL_VECTOR_PADDR	0x40000200</span>
<span class="cp">#define XCHAL_DOUBLEEXC_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_DOUBLEEXC_VECTOR_VADDR	0x400002A0</span>
<span class="cp">#define XCHAL_DOUBLEEXC_VECTOR_PADDR	0x400002A0</span>
<span class="cp">#define XCHAL_WINDOW_OF4_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_WINDOW_UF4_VECOFS		0x00000040</span>
<span class="cp">#define XCHAL_WINDOW_OF8_VECOFS		0x00000080</span>
<span class="cp">#define XCHAL_WINDOW_UF8_VECOFS		0x000000C0</span>
<span class="cp">#define XCHAL_WINDOW_OF12_VECOFS	0x00000100</span>
<span class="cp">#define XCHAL_WINDOW_UF12_VECOFS	0x00000140</span>
<span class="cp">#define XCHAL_WINDOW_VECTORS_VADDR	0x40000000</span>
<span class="cp">#define XCHAL_WINDOW_VECTORS_PADDR	0x40000000</span>
<span class="cp">#define XCHAL_INTLEVEL2_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_INTLEVEL2_VECTOR_VADDR	0x40000240</span>
<span class="cp">#define XCHAL_INTLEVEL2_VECTOR_PADDR	0x40000240</span>
<span class="cp">#define XCHAL_INTLEVEL3_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_INTLEVEL3_VECTOR_VADDR	0x40000260</span>
<span class="cp">#define XCHAL_INTLEVEL3_VECTOR_PADDR	0x40000260</span>
<span class="cp">#define XCHAL_INTLEVEL4_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_INTLEVEL4_VECTOR_VADDR	0x40000390</span>
<span class="cp">#define XCHAL_INTLEVEL4_VECTOR_PADDR	0x40000390</span>
<span class="cp">#define XCHAL_DEBUG_VECOFS		XCHAL_INTLEVEL4_VECOFS</span>
<span class="cp">#define XCHAL_DEBUG_VECTOR_VADDR	XCHAL_INTLEVEL4_VECTOR_VADDR</span>
<span class="cp">#define XCHAL_DEBUG_VECTOR_PADDR	XCHAL_INTLEVEL4_VECTOR_PADDR</span>
<span class="cp">#define XCHAL_NMI_VECOFS		0x00000000</span>
<span class="cp">#define XCHAL_NMI_VECTOR_VADDR		0x400003B0</span>
<span class="cp">#define XCHAL_NMI_VECTOR_PADDR		0x400003B0</span>
<span class="cp">#define XCHAL_INTLEVEL5_VECOFS		XCHAL_NMI_VECOFS</span>
<span class="cp">#define XCHAL_INTLEVEL5_VECTOR_VADDR	XCHAL_NMI_VECTOR_VADDR</span>
<span class="cp">#define XCHAL_INTLEVEL5_VECTOR_PADDR	XCHAL_NMI_VECTOR_PADDR</span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">				DEBUG</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cp">#define XCHAL_HAVE_OCD			1	</span><span class="cm">/* OnChipDebug option */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_IBREAK		2	</span><span class="cm">/* number of IBREAKn regs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_NUM_DBREAK		2	</span><span class="cm">/* number of DBREAKn regs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_OCD_DIR_ARRAY	1	</span><span class="cm">/* faster OCD option */</span><span class="cp"></span>


<span class="cm">/*----------------------------------------------------------------------</span>
<span class="cm">				MMU</span>
<span class="cm">  ----------------------------------------------------------------------*/</span>

<span class="cm">/*  See core-matmap.h header file for more details.  */</span>

<span class="cp">#define XCHAL_HAVE_TLBS			1	</span><span class="cm">/* inverse of HAVE_CACHEATTR */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_SPANNING_WAY		1	</span><span class="cm">/* one way maps I+D 4GB vaddr */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_IDENTITY_MAP		1	</span><span class="cm">/* vaddr == paddr always */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_CACHEATTR		0	</span><span class="cm">/* CACHEATTR register present */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_MIMIC_CACHEATTR	1	</span><span class="cm">/* region protection */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_XLT_CACHEATTR	0	</span><span class="cm">/* region prot. w/translation */</span><span class="cp"></span>
<span class="cp">#define XCHAL_HAVE_PTP_MMU		0	</span><span class="cm">/* full MMU (with page table</span>
<span class="cm">						   [autorefill] and protection)</span>
<span class="cm">						   usable for an MMU-based OS */</span><span class="cp"></span>
<span class="cm">/*  If none of the above last 4 are set, it&#39;s a custom TLB configuration.  */</span>

<span class="cp">#define XCHAL_MMU_ASID_BITS		0	</span><span class="cm">/* number of bits in ASIDs */</span><span class="cp"></span>
<span class="cp">#define XCHAL_MMU_RINGS			1	</span><span class="cm">/* number of rings (1..4) */</span><span class="cp"></span>
<span class="cp">#define XCHAL_MMU_RING_BITS		0	</span><span class="cm">/* num of bits in RING field */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* !XTENSA_HAL_NON_PRIVILEGED_ONLY */</span><span class="cp"></span>


<span class="cp">#endif </span><span class="cm">/* _XTENSA_CORE_CONFIGURATION_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:6}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../../javascript/docco.min.js"></script>
</html>
