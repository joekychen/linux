f | pci.c | s | 10.0K | 351 | Bjorn Helgaas | bhelgaas@google.com | 1332265323 |  | unicore32/PCI: move <asm-generic/pci-bridge.h> include to asm/pci.h  Move this include to be consistent with other architectures.  CC: Guan Xuetao <gxt@mprc.pku.edu.cn> Signed-off-by: Bjorn Helgaas <bhelgaas@google.com> Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
f | Makefile | g | 826B |  | Thomas Gleixner | tglx@linutronix.de | 1336215626 |  | unicore32: Use generic init_task  Same code. Use the generic version. The special Makefile treatment is pointless anyway as init_task.o contains only data which is handled by the linker script. So no point on being treated like head text.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de> Cc: Guan Xuetao <gxt@mprc.pku.edu.cn> Link: http://lkml.kernel.org/r/20120503085035.669622065@linutronix.de
f | time.c | s | 3.4K | 119 | Yong Zhang | yong.zhang0@gmail.com | 1326162581 |  | unicore32: Remove IRQF_DISABLED  This flag is a NOOP and can be removed now.  Signed-off-by: Yong Zhang <yong.zhang0@gmail.com>
f | fpu-ucf64.c | s | 2.9K | 105 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324751 |  | unicore32 additional architecture files: float point handling  This patch implements support for float point unit, which using UniCore-F64 FPU hardware in UniCore32 ISA.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | head.S | g | 6.3K |  | Guan Xuetao | gxt@mprc.pku.edu.cn | 1332955803 |  | Disintegrate asm/system.h for Unicore32 [based on ver #3, changed by gxt]  Disintegrate asm/system.h for Unicore32. (Compilation successful) The implementation details are not changed, but only splitted. BTW, some codestyles are adjusted.  Signed-off-by: David Howells <dhowells@redhat.com> Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
f | gpio.c | s | 3.0K | 107 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324759 |  | unicore32 io: redefine __REG(x) and re-use readl/writel funcs    -- by advice of Arnd Bergmann  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | pm.c | s | 2.7K | 102 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324751 |  | unicore32 additional architecture files: pm related files  This patch adds pm related files, including hibernate and sleep supports.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | asm-offsets.c | s | 4.3K | 110 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324745 |  | unicore32 core architecture: generic elf and ksyms stuff  This patch includes some generic stuff including elf and ksyms. Because all one-line asm-generic headers are auto-generated by ASM_GENERIC_HEADERS in arch/unicore32/Makefile, so the rest seems very little. ELF handling functions and module handling functions are also here.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | vmlinux.lds.S | g | 1.1K |  | Guan Xuetao | gxt@mprc.pku.edu.cn | 1307608066 |  | unicore32: change PERCPU to PERCPU_SECTION  The patch changes PERCPU to PERCPU_SECTION see commit from Tejun Heo <0415b00d175e0d8945e6785aad21b5f157976ce0>   percpu: Always align percpu output section to PAGE_SIZE  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Tejun Heo <tj@kernel.org>
f | dma.c | s | 4.1K | 155 | Guan Xuetao | gxt@mprc.pku.edu.cn | 1332955803 |  | Disintegrate asm/system.h for Unicore32 [based on ver #3, changed by gxt]  Disintegrate asm/system.h for Unicore32. (Compilation successful) The implementation details are not changed, but only splitted. BTW, some codestyles are adjusted.  Signed-off-by: David Howells <dhowells@redhat.com> Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
f | puv3-core.c | s | 6.4K | 246 | Kay Sievers | kay.sievers@vrfy.org | 1324513563 |  | driver-core: remove sysdev.h usage.  The sysdev.h file should not be needed by any in-kernel code, so remove the .h file from these random files that seem to still want to include it.  The sysdev code will be going away soon, so this include needs to be removed no matter what.  Cc: Jiandong Zheng <jdzheng@broadcom.com> Cc: Scott Branden <sbranden@broadcom.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Kukjin Kim <kgene.kim@samsung.com> Cc: David Brown <davidb@codeaurora.org> Cc: Daniel Walker <dwalker@fifo99.com> Cc: Bryan Huntsman <bryanh@codeaurora.org> Cc: Ben Dooks <ben-linux@fluff.org> Cc: Wan ZongShun <mcuos.com@gmail.com> Cc: Haavard Skinnemoen <hskinnemoen@gmail.com> Cc: Hans-Christian Egtvedt <egtvedt@samfundet.no> Cc: Guan Xuetao <gxt@mprc.pku.edu.cn> Cc: "Venkatesh Pallipadi Cc: Thomas Gleixner <tglx@linutronix.de> Cc: Ingo Molnar <mingo@redhat.com> Cc: "H. Peter Anvin" <hpa@zytor.com> Cc: Grant Likely <grant.likely@secretlab.ca> Cc: Richard Purdie <rpurdie@rpsys.net> Cc: Matthew Garrett <mjg@redhat.com> Signed-off-by: Kay Sievers <kay.sievers@vrfy.org>
f | cpu-ucv2.c | s | 2.2K | 76 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324751 |  | unicore32 additional architecture files: pm related files  This patch adds pm related files, including hibernate and sleep supports.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | traps.c | s | 7.5K | 275 | Guan Xuetao | gxt@mprc.pku.edu.cn | 1332955803 |  | Disintegrate asm/system.h for Unicore32 [based on ver #3, changed by gxt]  Disintegrate asm/system.h for Unicore32. (Compilation successful) The implementation details are not changed, but only splitted. BTW, some codestyles are adjusted.  Signed-off-by: David Howells <dhowells@redhat.com> Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
f | clock.c | s | 10K | 343 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324759 |  | unicore32 io: redefine __REG(x) and re-use readl/writel funcs    -- by advice of Arnd Bergmann  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | ptrace.c | s | 3.4K | 126 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324752 |  | unicore32 additional architecture files: ptrace handling  This patch adds ptrace support.  Changed from previous version:     1. disable arch_has_single_step and remove single-step instruction handler     2. add 'Ross Biro 1/23/92' contributor information     3. clean unused codes  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | sys.c | s | 3.1K | 113 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324746 |  | unicore32 core architecture: processor and system headers  This patch includes processor and system headers. System call interface is here. We used the syscall interface the same as asm-generic version.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | puv3-nb0916.c | s | 3.5K | 121 | Yong Zhang | yong.zhang0@gmail.com | 1326162581 |  | unicore32: Remove IRQF_DISABLED  This flag is a NOOP and can be removed now.  Signed-off-by: Yong Zhang <yong.zhang0@gmail.com>
f | setup.h | s | 866B | 26 | Guan Xuetao | gxt@mprc.pku.edu.cn | 1332955803 |  | Disintegrate asm/system.h for Unicore32 [based on ver #3, changed by gxt]  Disintegrate asm/system.h for Unicore32. (Compilation successful) The implementation details are not changed, but only splitted. BTW, some codestyles are adjusted.  Signed-off-by: David Howells <dhowells@redhat.com> Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
f | elf.c | s | 890B | 33 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324745 |  | unicore32 core architecture: generic elf and ksyms stuff  This patch includes some generic stuff including elf and ksyms. Because all one-line asm-generic headers are auto-generated by ASM_GENERIC_HEADERS in arch/unicore32/Makefile, so the rest seems very little. ELF handling functions and module handling functions are also here.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | ksyms.h | s | 475B | 15 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324745 |  | unicore32 core architecture: generic elf and ksyms stuff  This patch includes some generic stuff including elf and ksyms. Because all one-line asm-generic headers are auto-generated by ASM_GENERIC_HEADERS in arch/unicore32/Makefile, so the rest seems very little. ELF handling functions and module handling functions are also here.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | ksyms.c | s | 2.1K | 83 | Guan Xuetao | gxt@mprc.pku.edu.cn | 1332955803 |  | Disintegrate asm/system.h for Unicore32 [based on ver #3, changed by gxt]  Disintegrate asm/system.h for Unicore32. (Compilation successful) The implementation details are not changed, but only splitted. BTW, some codestyles are adjusted.  Signed-off-by: David Howells <dhowells@redhat.com> Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
f | sleep.S | g | 3.8K |  | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324761 |  | unicore32: modify io_p2v and io_v2p macros, and adjust PKUNITY_mmio_BASEs  1. remove __REG macro 2. add (void __iomem *) to io_p2v macro 3. add (phys_addr_t) to io_v2p macro 4. add PKUNITY_AHB_BASE and PKUNITY_APB_BASE definitions 5. modify all PKUNITY_mmio_BASEs from physical addr to virtual addr 6. adjust prefix macro for all usage of PKUNITY_mmio_BASEs   -- by advice with Arnd Bergmann  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | irq.c | s | 8.3K | 313 | Guan Xuetao | gxt@mprc.pku.edu.cn | 1332955803 |  | Disintegrate asm/system.h for Unicore32 [based on ver #3, changed by gxt]  Disintegrate asm/system.h for Unicore32. (Compilation successful) The implementation details are not changed, but only splitted. BTW, some codestyles are adjusted.  Signed-off-by: David Howells <dhowells@redhat.com> Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
f | stacktrace.c | s | 3.3K | 112 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324747 |  | unicore32 core architecture: process/thread related codes  This patch implements process/thread related codes. Backtrace and stacktrace are here.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | setup.c | s | 7.5K | 288 | Kees Cook | keescook@chromium.org | 1326162580 |  | unicore32: standardize /proc/iomem "Kernel code" name  All other ports use "Kernel code" to identify the Kernel text segment in /proc/iomem. Change the unicore32 resources to do the same.  Signed-off-by: Kees Cook <keescook@chromium.org> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | module.c | s | 2.8K | 99 | Jonas Bonn | jonas@southpole.se | 1311510964 |  | modules: make arch's use default loader hooks  This patch removes all the module loader hook implementations in the architecture specific code where the functionality is the same as that now provided by the recently added default hooks.  Signed-off-by: Jonas Bonn <jonas@southpole.se> Acked-by: Mike Frysinger <vapier@gentoo.org> Acked-by: Geert Uytterhoeven <geert@linux-m68k.org> Tested-by: Michal Simek <monstr@monstr.eu> Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
f | debug.S | g | 1.4K |  | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324752 |  | unicore32 additional architecture files: low-level lib: ocd debug  This patch implements low-level debug libraries with On-Chip-Debugger hardware support.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | hibernate_asm.S | g | 2.3K |  | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324751 |  | unicore32 additional architecture files: pm related files  This patch adds pm related files, including hibernate and sleep supports.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | process.c | s | 9.8K | 340 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | hibernate.c | s | 3.4K | 126 | Guan Xuetao | gxt@mprc.pku.edu.cn | 1332955803 |  | Disintegrate asm/system.h for Unicore32 [based on ver #3, changed by gxt]  Disintegrate asm/system.h for Unicore32. (Compilation successful) The implementation details are not changed, but only splitted. BTW, some codestyles are adjusted.  Signed-off-by: David Howells <dhowells@redhat.com> Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
f | early_printk.c | s | 1.3K | 50 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324752 |  | unicore32 additional architecture files: low-level lib: ocd debug  This patch implements low-level debug libraries with On-Chip-Debugger hardware support.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | debug-macro.S | g | 2.0K |  | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324752 |  | unicore32 additional architecture files: low-level lib: ocd debug  This patch implements low-level debug libraries with On-Chip-Debugger hardware support.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | signal.c | s | 13K | 382 | Al Viro | viro@zeniv.linux.org.uk | 1338569932 |  | new helper: signal_delivered()  Does block_sigmask() + tracehook_signal_handler();  called when sigframe has been successfully built.  All architectures converted to it; block_sigmask() itself is gone now (merged into this one).  I'm still not too happy with the signature, but that's a separate story (IMO we need a structure that would contain signal number + siginfo + k_sigaction, so that get_signal_to_deliver() would fill one, signal_delivered(), handle_signal() and probably setup...frame() - take one).  Signed-off-by: Al Viro <viro@zeniv.linux.org.uk>
f | entry.S | g | 17K |  | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324761 |  | unicore32: modify io_p2v and io_v2p macros, and adjust PKUNITY_mmio_BASEs  1. remove __REG macro 2. add (void __iomem *) to io_p2v macro 3. add (phys_addr_t) to io_v2p macro 4. add PKUNITY_AHB_BASE and PKUNITY_APB_BASE definitions 5. modify all PKUNITY_mmio_BASEs from physical addr to virtual addr 6. adjust prefix macro for all usage of PKUNITY_mmio_BASEs   -- by advice with Arnd Bergmann  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | pwm.c | s | 5.1K | 215 | GuanXuetao | gxt@mprc.pku.edu.cn | 1300324750 |  | unicore32 core architecture: timer and time handling  This patch implements timer and time. RTC and PWM device drivers are also here.  Signed-off-by: Guan Xuetao <gxt@mprc.pku.edu.cn>
