<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › unicore32 › include › mach › regs-dmac.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>regs-dmac.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * PKUnity Direct Memory Access Controller (DMAC)</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * Interrupt Status Reg DMAC_ISR.</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_ISR		(PKUNITY_DMAC_BASE + 0x0020)</span>
<span class="cm">/*</span>
<span class="cm"> * Interrupt Transfer Complete Status Reg DMAC_ITCSR.</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_ITCSR		(PKUNITY_DMAC_BASE + 0x0050)</span>
<span class="cm">/*</span>
<span class="cm"> * Interrupt Transfer Complete Clear Reg DMAC_ITCCR.</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_ITCCR		(PKUNITY_DMAC_BASE + 0x0060)</span>
<span class="cm">/*</span>
<span class="cm"> * Interrupt Error Status Reg DMAC_IESR.</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_IESR		(PKUNITY_DMAC_BASE + 0x0080)</span>
<span class="cm">/*</span>
<span class="cm"> * Interrupt Error Clear Reg DMAC_IECR.</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_IECR		(PKUNITY_DMAC_BASE + 0x0090)</span>
<span class="cm">/*</span>
<span class="cm"> * Enable Channels Reg DMAC_ENCH.</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_ENCH		(PKUNITY_DMAC_BASE + 0x00B0)</span>

<span class="cm">/*</span>
<span class="cm"> * DMA control reg. Space [byte]</span>
<span class="cm"> */</span>
<span class="cp">#define DMASp                   0x00000100</span>

<span class="cm">/*</span>
<span class="cm"> * Source Addr DMAC_SRCADDR(ch).</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_SRCADDR(ch)	(PKUNITY_DMAC_BASE + (ch)*DMASp + 0x00)</span>
<span class="cm">/*</span>
<span class="cm"> * Destination Addr DMAC_DESTADDR(ch).</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_DESTADDR(ch)	(PKUNITY_DMAC_BASE + (ch)*DMASp + 0x04)</span>
<span class="cm">/*</span>
<span class="cm"> * Control Reg DMAC_CONTROL(ch).</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_CONTROL(ch)	(PKUNITY_DMAC_BASE + (ch)*DMASp + 0x0C)</span>
<span class="cm">/*</span>
<span class="cm"> * Configuration Reg DMAC_CONFIG(ch).</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_CONFIG(ch)		(PKUNITY_DMAC_BASE + (ch)*DMASp + 0x10)</span>

<span class="cp">#define DMAC_IR_MASK            FMASK(6, 0)</span>
<span class="cm">/*</span>
<span class="cm"> * select channel (ch)</span>
<span class="cm"> */</span>
<span class="cp">#define DMAC_CHANNEL(ch)	FIELD(1, 1, (ch))</span>

<span class="cp">#define DMAC_CONTROL_SIZE_BYTE(v)       (FIELD((v), 12, 14) | \</span>
<span class="cp">					FIELD(0, 3, 9) | FIELD(0, 3, 6))</span>
<span class="cp">#define DMAC_CONTROL_SIZE_HWORD(v)      (FIELD((v) &gt;&gt; 1, 12, 14) | \</span>
<span class="cp">					FIELD(1, 3, 9) | FIELD(1, 3, 6))</span>
<span class="cp">#define DMAC_CONTROL_SIZE_WORD(v)       (FIELD((v) &gt;&gt; 2, 12, 14) | \</span>
<span class="cp">					FIELD(2, 3, 9) | FIELD(2, 3, 6))</span>
<span class="cp">#define DMAC_CONTROL_DI                 FIELD(1, 1, 13)</span>
<span class="cp">#define DMAC_CONTROL_SI                 FIELD(1, 1, 12)</span>
<span class="cp">#define DMAC_CONTROL_BURST_1BYTE        (FIELD(0, 3, 3) | FIELD(0, 3, 0))</span>
<span class="cp">#define DMAC_CONTROL_BURST_4BYTE        (FIELD(3, 3, 3) | FIELD(3, 3, 0))</span>
<span class="cp">#define DMAC_CONTROL_BURST_8BYTE        (FIELD(5, 3, 3) | FIELD(5, 3, 0))</span>
<span class="cp">#define DMAC_CONTROL_BURST_16BYTE       (FIELD(7, 3, 3) | FIELD(7, 3, 0))</span>

<span class="cp">#define	DMAC_CONFIG_UART0_WR    (FIELD(2, 4, 11) | FIELD(1, 2, 1))</span>
<span class="cp">#define	DMAC_CONFIG_UART0_RD    (FIELD(2, 4, 7)  | FIELD(2, 2, 1))</span>
<span class="cp">#define	DMAC_CONFIG_UART1_WR    (FIELD(3, 4, 11) | FIELD(1, 2, 1))</span>
<span class="cp">#define	DMAC_CONFIG_UART1RD     (FIELD(3, 4, 7)  | FIELD(2, 2, 1))</span>
<span class="cp">#define	DMAC_CONFIG_AC97WR      (FIELD(4, 4, 11) | FIELD(1, 2, 1))</span>
<span class="cp">#define	DMAC_CONFIG_AC97RD      (FIELD(4, 4, 7)  | FIELD(2, 2, 1))</span>
<span class="cp">#define	DMAC_CONFIG_MMCWR       (FIELD(7, 4, 11) | FIELD(1, 2, 1))</span>
<span class="cp">#define	DMAC_CONFIG_MMCRD       (FIELD(7, 4, 7)  | FIELD(2, 2, 1))</span>
<span class="cp">#define DMAC_CONFIG_MASKITC     FIELD(1, 1, 4)</span>
<span class="cp">#define DMAC_CONFIG_MASKIE      FIELD(1, 1, 3)</span>
<span class="cp">#define DMAC_CONFIG_EN          FIELD(1, 1, 0)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
