<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › unicore32 › include › mach › regs-umal.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../index.html"></a><h1>regs-umal.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * PKUnity Ultra Media Access Layer (UMAL) Ethernet MAC Registers</span>
<span class="cm"> */</span>

<span class="cm">/* MAC module of UMAL */</span>
<span class="cm">/* UMAL&#39;s MAC module includes G/MII interface, several additional PHY</span>
<span class="cm"> * interfaces, and MAC control sub-layer, which provides support for control</span>
<span class="cm"> * frames (e.g. PAUSE frames).</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> * TX/RX reset and control UMAL_CFG1</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_CFG1		(PKUNITY_UMAL_BASE + 0x0000)</span>
<span class="cm">/*</span>
<span class="cm"> * MAC interface mode control UMAL_CFG2</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_CFG2		(PKUNITY_UMAL_BASE + 0x0004)</span>
<span class="cm">/*</span>
<span class="cm"> * Inter Packet/Frame Gap UMAL_IPGIFG</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_IPGIFG		(PKUNITY_UMAL_BASE + 0x0008)</span>
<span class="cm">/*</span>
<span class="cm"> * Collision retry or backoff UMAL_HALFDUPLEX</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_HALFDUPLEX		(PKUNITY_UMAL_BASE + 0x000c)</span>
<span class="cm">/*</span>
<span class="cm"> * Maximum Frame Length UMAL_MAXFRAME</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MAXFRAME		(PKUNITY_UMAL_BASE + 0x0010)</span>
<span class="cm">/*</span>
<span class="cm"> * Test Regsiter UMAL_TESTREG</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_TESTREG		(PKUNITY_UMAL_BASE + 0x001c)</span>
<span class="cm">/*</span>
<span class="cm"> * MII Management Configure UMAL_MIICFG</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIICFG		(PKUNITY_UMAL_BASE + 0x0020)</span>
<span class="cm">/*</span>
<span class="cm"> * MII Management Command UMAL_MIICMD</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIICMD		(PKUNITY_UMAL_BASE + 0x0024)</span>
<span class="cm">/*</span>
<span class="cm"> * MII Management Address UMAL_MIIADDR</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIIADDR		(PKUNITY_UMAL_BASE + 0x0028)</span>
<span class="cm">/*</span>
<span class="cm"> * MII Management Control UMAL_MIICTRL</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIICTRL		(PKUNITY_UMAL_BASE + 0x002c)</span>
<span class="cm">/*</span>
<span class="cm"> * MII Management Status UMAL_MIISTATUS</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIISTATUS		(PKUNITY_UMAL_BASE + 0x0030)</span>
<span class="cm">/*</span>
<span class="cm"> * MII Management Indicator UMAL_MIIIDCT</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIIIDCT		(PKUNITY_UMAL_BASE + 0x0034)</span>
<span class="cm">/*</span>
<span class="cm"> * Interface Control UMAL_IFCTRL</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_IFCTRL		(PKUNITY_UMAL_BASE + 0x0038)</span>
<span class="cm">/*</span>
<span class="cm"> * Interface Status UMAL_IFSTATUS</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_IFSTATUS		(PKUNITY_UMAL_BASE + 0x003c)</span>
<span class="cm">/*</span>
<span class="cm"> * MAC address (high 4 bytes) UMAL_STADDR1</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_STADDR1		(PKUNITY_UMAL_BASE + 0x0040)</span>
<span class="cm">/*</span>
<span class="cm"> * MAC address (low 2 bytes) UMAL_STADDR2</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_STADDR2		(PKUNITY_UMAL_BASE + 0x0044)</span>

<span class="cm">/* FIFO MODULE OF UMAL */</span>
<span class="cm">/* UMAL&#39;s FIFO module provides data queuing for increased system level</span>
<span class="cm"> * throughput</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_FIFOCFG0		(PKUNITY_UMAL_BASE + 0x0048)</span>
<span class="cp">#define UMAL_FIFOCFG1		(PKUNITY_UMAL_BASE + 0x004c)</span>
<span class="cp">#define UMAL_FIFOCFG2		(PKUNITY_UMAL_BASE + 0x0050)</span>
<span class="cp">#define UMAL_FIFOCFG3		(PKUNITY_UMAL_BASE + 0x0054)</span>
<span class="cp">#define UMAL_FIFOCFG4		(PKUNITY_UMAL_BASE + 0x0058)</span>
<span class="cp">#define UMAL_FIFOCFG5		(PKUNITY_UMAL_BASE + 0x005c)</span>
<span class="cp">#define UMAL_FIFORAM0		(PKUNITY_UMAL_BASE + 0x0060)</span>
<span class="cp">#define UMAL_FIFORAM1		(PKUNITY_UMAL_BASE + 0x0064)</span>
<span class="cp">#define UMAL_FIFORAM2		(PKUNITY_UMAL_BASE + 0x0068)</span>
<span class="cp">#define UMAL_FIFORAM3		(PKUNITY_UMAL_BASE + 0x006c)</span>
<span class="cp">#define UMAL_FIFORAM4		(PKUNITY_UMAL_BASE + 0x0070)</span>
<span class="cp">#define UMAL_FIFORAM5		(PKUNITY_UMAL_BASE + 0x0074)</span>
<span class="cp">#define UMAL_FIFORAM6		(PKUNITY_UMAL_BASE + 0x0078)</span>
<span class="cp">#define UMAL_FIFORAM7		(PKUNITY_UMAL_BASE + 0x007c)</span>

<span class="cm">/* MAHBE MODULE OF UMAL */</span>
<span class="cm">/* UMAL&#39;s MAHBE module interfaces to the host system through 32-bit AHB Master</span>
<span class="cm"> * and Slave ports.Registers within the M-AHBE provide Control and Status</span>
<span class="cm"> * information concerning these transfers.</span>
<span class="cm"> */</span>
<span class="cm">/*</span>
<span class="cm"> * Transmit Control UMAL_DMATxCtrl</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMATxCtrl		(PKUNITY_UMAL_BASE + 0x0180)</span>
<span class="cm">/*</span>
<span class="cm"> * Pointer to TX Descripter UMAL_DMATxDescriptor</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMATxDescriptor	(PKUNITY_UMAL_BASE + 0x0184)</span>
<span class="cm">/*</span>
<span class="cm"> * Status of Tx Packet Transfers UMAL_DMATxStatus</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMATxStatus	(PKUNITY_UMAL_BASE + 0x0188)</span>
<span class="cm">/*</span>
<span class="cm"> * Receive Control UMAL_DMARxCtrl</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMARxCtrl		(PKUNITY_UMAL_BASE + 0x018c)</span>
<span class="cm">/*</span>
<span class="cm"> * Pointer to Rx Descriptor UMAL_DMARxDescriptor</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMARxDescriptor	(PKUNITY_UMAL_BASE + 0x0190)</span>
<span class="cm">/*</span>
<span class="cm"> * Status of Rx Packet Transfers UMAL_DMARxStatus</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMARxStatus	(PKUNITY_UMAL_BASE + 0x0194)</span>
<span class="cm">/*</span>
<span class="cm"> * Interrupt Mask UMAL_DMAIntrMask</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMAIntrMask	(PKUNITY_UMAL_BASE + 0x0198)</span>
<span class="cm">/*</span>
<span class="cm"> * Interrupts, read only UMAL_DMAInterrupt</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMAInterrupt	(PKUNITY_UMAL_BASE + 0x019c)</span>

<span class="cm">/*</span>
<span class="cm"> * Commands for UMAL_CFG1 register</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_CFG1_TXENABLE	FIELD(1, 1, 0)</span>
<span class="cp">#define UMAL_CFG1_RXENABLE	FIELD(1, 1, 2)</span>
<span class="cp">#define UMAL_CFG1_TXFLOWCTL	FIELD(1, 1, 4)</span>
<span class="cp">#define UMAL_CFG1_RXFLOWCTL	FIELD(1, 1, 5)</span>
<span class="cp">#define UMAL_CFG1_CONFLPBK	FIELD(1, 1, 8)</span>
<span class="cp">#define UMAL_CFG1_RESET		FIELD(1, 1, 31)</span>
<span class="cp">#define UMAL_CFG1_CONFFLCTL	(MAC_TX_FLOW_CTL | MAC_RX_FLOW_CTL)</span>

<span class="cm">/*</span>
<span class="cm"> * Commands for UMAL_CFG2 register</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_CFG2_FULLDUPLEX	FIELD(1, 1, 0)</span>
<span class="cp">#define UMAL_CFG2_CRCENABLE	FIELD(1, 1, 1)</span>
<span class="cp">#define UMAL_CFG2_PADCRC	FIELD(1, 1, 2)</span>
<span class="cp">#define UMAL_CFG2_LENGTHCHECK	FIELD(1, 1, 4)</span>
<span class="cp">#define UMAL_CFG2_MODEMASK	FMASK(2, 8)</span>
<span class="cp">#define UMAL_CFG2_NIBBLEMODE	FIELD(1, 2, 8)</span>
<span class="cp">#define UMAL_CFG2_BYTEMODE	FIELD(2, 2, 8)</span>
<span class="cp">#define UMAL_CFG2_PREAMBLENMASK	FMASK(4, 12)</span>
<span class="cp">#define UMAL_CFG2_DEFPREAMBLEN	FIELD(7, 4, 12)</span>
<span class="cp">#define UMAL_CFG2_FD100		(UMAL_CFG2_DEFPREAMBLEN | UMAL_CFG2_NIBBLEMODE \</span>
<span class="cp">				| UMAL_CFG2_LENGTHCHECK | UMAL_CFG2_PADCRC \</span>
<span class="cp">				| UMAL_CFG2_CRCENABLE | UMAL_CFG2_FULLDUPLEX)</span>
<span class="cp">#define UMAL_CFG2_FD1000	(UMAL_CFG2_DEFPREAMBLEN | UMAL_CFG2_BYTEMODE \</span>
<span class="cp">				| UMAL_CFG2_LENGTHCHECK | UMAL_CFG2_PADCRC \</span>
<span class="cp">				| UMAL_CFG2_CRCENABLE | UMAL_CFG2_FULLDUPLEX)</span>
<span class="cp">#define UMAL_CFG2_HD100		(UMAL_CFG2_DEFPREAMBLEN | UMAL_CFG2_NIBBLEMODE \</span>
<span class="cp">				| UMAL_CFG2_LENGTHCHECK | UMAL_CFG2_PADCRC \</span>
<span class="cp">				| UMAL_CFG2_CRCENABLE)</span>

<span class="cm">/*</span>
<span class="cm"> * Command for UMAL_IFCTRL register</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_IFCTRL_RESET	FIELD(1, 1, 31)</span>

<span class="cm">/*</span>
<span class="cm"> * Command for UMAL_MIICFG register</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIICFG_RESET	FIELD(1, 1, 31)</span>

<span class="cm">/*</span>
<span class="cm"> * Command for UMAL_MIICMD register</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIICMD_READ	FIELD(1, 1, 0)</span>

<span class="cm">/*</span>
<span class="cm"> * Command for UMAL_MIIIDCT register</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_MIIIDCT_BUSY	FIELD(1, 1, 0)</span>
<span class="cp">#define UMAL_MIIIDCT_NOTVALID	FIELD(1, 1, 2)</span>

<span class="cm">/*</span>
<span class="cm"> * Commands for DMATxCtrl regesters</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMA_Enable		FIELD(1, 1, 0)</span>

<span class="cm">/*</span>
<span class="cm"> * Commands for DMARxCtrl regesters</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DMAIntrMask_ENABLEHALFWORD	FIELD(1, 1, 16)</span>

<span class="cm">/*</span>
<span class="cm"> * Command for DMARxStatus</span>
<span class="cm"> */</span>
<span class="cp">#define CLR_RX_BUS_ERR		FIELD(1, 1, 3)</span>
<span class="cp">#define CLR_RX_OVERFLOW		FIELD(1, 1, 2)</span>
<span class="cp">#define CLR_RX_PKT		FIELD(1, 1, 0)</span>

<span class="cm">/*</span>
<span class="cm"> * Command for DMATxStatus</span>
<span class="cm"> */</span>
<span class="cp">#define CLR_TX_BUS_ERR		FIELD(1, 1, 3)</span>
<span class="cp">#define CLR_TX_UNDERRUN		FIELD(1, 1, 1)</span>
<span class="cp">#define CLR_TX_PKT		FIELD(1, 1, 0)</span>

<span class="cm">/*</span>
<span class="cm"> * Commands for DMAIntrMask and DMAInterrupt register</span>
<span class="cm"> */</span>
<span class="cp">#define INT_RX_MASK		FIELD(0xd, 4, 4)</span>
<span class="cp">#define INT_TX_MASK		FIELD(0xb, 4, 0)</span>

<span class="cp">#define INT_RX_BUS_ERR		FIELD(1, 1, 7)</span>
<span class="cp">#define INT_RX_OVERFLOW		FIELD(1, 1, 6)</span>
<span class="cp">#define INT_RX_PKT		FIELD(1, 1, 4)</span>
<span class="cp">#define INT_TX_BUS_ERR		FIELD(1, 1, 3)</span>
<span class="cp">#define INT_TX_UNDERRUN		FIELD(1, 1, 1)</span>
<span class="cp">#define INT_TX_PKT		FIELD(1, 1, 0)</span>

<span class="cm">/*</span>
<span class="cm"> * MARCOS of UMAL&#39;s descriptors</span>
<span class="cm"> */</span>
<span class="cp">#define UMAL_DESC_PACKETSIZE_EMPTY	FIELD(1, 1, 31)</span>
<span class="cp">#define UMAL_DESC_PACKETSIZE_NONEMPTY	FIELD(0, 1, 31)</span>
<span class="cp">#define UMAL_DESC_PACKETSIZE_SIZEMASK	FMASK(12, 0)</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:4}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../javascript/docco.min.js"></script>
</html>
