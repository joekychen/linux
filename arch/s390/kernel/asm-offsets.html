<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › s390 › kernel › asm-offsets.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>asm-offsets.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Generate definitions needed by assembly language modules.</span>
<span class="cm"> * This code generates raw asm output which is post-processed to extract</span>
<span class="cm"> * and format the required data.</span>
<span class="cm"> */</span>

<span class="cp">#define ASM_OFFSETS_C</span>

<span class="cp">#include &lt;linux/kbuild.h&gt;</span>
<span class="cp">#include &lt;linux/sched.h&gt;</span>
<span class="cp">#include &lt;asm/cputime.h&gt;</span>
<span class="cp">#include &lt;asm/timer.h&gt;</span>
<span class="cp">#include &lt;asm/vdso.h&gt;</span>
<span class="cp">#include &lt;asm/pgtable.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * Make sure that the compiler is new enough. We want a compiler that</span>
<span class="cm"> * is known to work with the &quot;Q&quot; assembler constraint.</span>
<span class="cm"> */</span>
<span class="cp">#if __GNUC__ &lt; 3 || (__GNUC__ == 3 &amp;&amp; __GNUC_MINOR__ &lt; 3)</span>
<span class="cp">#error Your compiler is too old; please use version 3.3.3 or newer</span>
<span class="cp">#endif</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__THREAD_info</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">task_struct</span><span class="p">,</span> <span class="n">stack</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__THREAD_ksp</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">task_struct</span><span class="p">,</span> <span class="kr">thread</span><span class="p">.</span><span class="n">ksp</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__THREAD_mm_segment</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">task_struct</span><span class="p">,</span> <span class="kr">thread</span><span class="p">.</span><span class="n">mm_segment</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TASK_pid</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">task_struct</span><span class="p">,</span> <span class="n">pid</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__THREAD_per_cause</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">task_struct</span><span class="p">,</span> <span class="kr">thread</span><span class="p">.</span><span class="n">per_event</span><span class="p">.</span><span class="n">cause</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__THREAD_per_address</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">task_struct</span><span class="p">,</span> <span class="kr">thread</span><span class="p">.</span><span class="n">per_event</span><span class="p">.</span><span class="n">address</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__THREAD_per_paid</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">task_struct</span><span class="p">,</span> <span class="kr">thread</span><span class="p">.</span><span class="n">per_event</span><span class="p">.</span><span class="n">paid</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_task</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">task</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_domain</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">exec_domain</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_flags</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">flags</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_cpu</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">cpu</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_precount</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">preempt_count</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_user_timer</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">user_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_system_timer</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">system_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__TI_last_break</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">thread_info</span><span class="p">,</span> <span class="n">last_break</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__PT_ARGS</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span><span class="p">,</span> <span class="n">args</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__PT_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span><span class="p">,</span> <span class="n">psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__PT_GPRS</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span><span class="p">,</span> <span class="n">gprs</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__PT_ORIG_GPR2</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span><span class="p">,</span> <span class="n">orig_gpr2</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__PT_INT_CODE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span><span class="p">,</span> <span class="n">int_code</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__PT_INT_PARM_LONG</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span><span class="p">,</span> <span class="n">int_parm_long</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__PT_SIZE</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__SF_BACKCHAIN</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">stack_frame</span><span class="p">,</span> <span class="n">back_chain</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__SF_GPRS</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">stack_frame</span><span class="p">,</span> <span class="n">gprs</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__SF_EMPTY</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">stack_frame</span><span class="p">,</span> <span class="n">empty1</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="cm">/* timeval/timezone offsets for use by vdso */</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_UPD_COUNT</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">tb_update_count</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_XTIME_STAMP</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">xtime_tod_stamp</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_XTIME_SEC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">xtime_clock_sec</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_XTIME_NSEC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">xtime_clock_nsec</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_WTOM_SEC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">wtom_clock_sec</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_WTOM_NSEC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">wtom_clock_nsec</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_TIMEZONE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">tz_minuteswest</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_ECTG_OK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">ectg_available</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_NTP_MULT</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_data</span><span class="p">,</span> <span class="n">ntp_mult</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_ECTG_BASE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_per_cpu_data</span><span class="p">,</span> <span class="n">ectg_timer_base</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VDSO_ECTG_USER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vdso_per_cpu_data</span><span class="p">,</span> <span class="n">ectg_user_time</span><span class="p">));</span>
	<span class="cm">/* constants used by the vdso */</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__CLOCK_REALTIME</span><span class="p">,</span> <span class="n">CLOCK_REALTIME</span><span class="p">);</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__CLOCK_MONOTONIC</span><span class="p">,</span> <span class="n">CLOCK_MONOTONIC</span><span class="p">);</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__CLOCK_REALTIME_RES</span><span class="p">,</span> <span class="n">MONOTONIC_RES_NSEC</span><span class="p">);</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="cm">/* idle data offsets */</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__IDLE_ENTER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">s390_idle_data</span><span class="p">,</span> <span class="n">idle_enter</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__IDLE_EXIT</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">s390_idle_data</span><span class="p">,</span> <span class="n">idle_exit</span><span class="p">));</span>
	<span class="cm">/* vtimer queue offsets */</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VQ_IDLE_ENTER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vtimer_queue</span><span class="p">,</span> <span class="n">idle_enter</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__VQ_IDLE_EXIT</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">vtimer_queue</span><span class="p">,</span> <span class="n">idle_exit</span><span class="p">));</span>
	<span class="cm">/* lowcore offsets */</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_EXT_PARAMS</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">ext_params</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_EXT_CPU_ADDR</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">ext_cpu_addr</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_EXT_INT_CODE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">ext_int_code</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SVC_ILC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">svc_ilc</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SVC_INT_CODE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">svc_code</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PGM_ILC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">pgm_ilc</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PGM_INT_CODE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">pgm_code</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_TRANS_EXC_CODE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">trans_exc_code</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PER_CAUSE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">per_perc_atmid</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PER_ADDRESS</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">per_address</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PER_PAID</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">per_access_id</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_AR_MODE_ID</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">ar_access_id</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SUBCHANNEL_ID</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">subchannel_id</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SUBCHANNEL_NR</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">subchannel_nr</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_IO_INT_PARM</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">io_int_parm</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_IO_INT_WORD</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">io_int_word</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_STFL_FAC_LIST</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">stfl_fac_list</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_MCCK_CODE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">mcck_interruption_code</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_RST_OLD_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">restart_old_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_EXT_OLD_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">external_old_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SVC_OLD_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">svc_old_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PGM_OLD_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">program_old_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_MCK_OLD_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">mcck_old_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_IO_OLD_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">io_old_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_RST_NEW_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">restart_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_EXT_NEW_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">external_new_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SVC_NEW_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">svc_new_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PGM_NEW_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">program_new_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_MCK_NEW_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">mcck_new_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_IO_NEW_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">io_new_psw</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SAVE_AREA_SYNC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">save_area_sync</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SAVE_AREA_ASYNC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">save_area_async</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SAVE_AREA_RESTART</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">save_area_restart</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_RETURN_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">return_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_RETURN_MCCK_PSW</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">return_mcck_psw</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SYNC_ENTER_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">sync_enter_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_ASYNC_ENTER_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">async_enter_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_MCCK_ENTER_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">mcck_enter_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_EXIT_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">exit_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_USER_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">user_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_SYSTEM_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">system_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_STEAL_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">steal_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_LAST_UPDATE_TIMER</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">last_update_timer</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_LAST_UPDATE_CLOCK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">last_update_clock</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_CURRENT</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">current_task</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_CURRENT_PID</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">current_pid</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_THREAD_INFO</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">thread_info</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_KERNEL_STACK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">kernel_stack</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_ASYNC_STACK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">async_stack</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PANIC_STACK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">panic_stack</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_RESTART_STACK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">restart_stack</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_RESTART_FN</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">restart_fn</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_USER_ASCE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">user_asce</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_INT_CLOCK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">int_clock</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_MCCK_CLOCK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">mcck_clock</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_MACHINE_FLAGS</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">machine_flags</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_FTRACE_FUNC</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">ftrace_func</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_IRB</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">irb</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_DUMP_REIPL</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">ipib</span><span class="p">));</span>
	<span class="n">BLANK</span><span class="p">();</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_CPU_TIMER_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">cpu_timer_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_CLOCK_COMP_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">clock_comp_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PSW_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">psw_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PREFIX_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">prefixreg_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_AREGS_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">access_regs_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_FPREGS_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">floating_pt_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_GPREGS_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">gpregs_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_CREGS_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">cregs_save_area</span><span class="p">));</span>
<span class="cp">#ifdef CONFIG_32BIT</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">SAVE_AREA_BASE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">extended_save_area_addr</span><span class="p">));</span>
<span class="cp">#else </span><span class="cm">/* CONFIG_32BIT */</span><span class="cp"></span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_EXT_PARAMS2</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">ext_params2</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">SAVE_AREA_BASE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">floating_pt_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_PASTE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">paste</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_FP_CREG_SAVE_AREA</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">fpt_creg_save_area</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_LAST_BREAK</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">breaking_event_addr</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_VDSO_PER_CPU</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">vdso_per_cpu_data</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__LC_GMAP</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">_lowcore</span><span class="p">,</span> <span class="n">gmap</span><span class="p">));</span>
	<span class="n">DEFINE</span><span class="p">(</span><span class="n">__GMAP_ASCE</span><span class="p">,</span> <span class="n">offsetof</span><span class="p">(</span><span class="k">struct</span> <span class="n">gmap</span><span class="p">,</span> <span class="n">asce</span><span class="p">));</span>
<span class="cp">#endif </span><span class="cm">/* CONFIG_32BIT */</span><span class="cp"></span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
