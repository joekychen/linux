f | io.h | s | 1.7K | 41 | Rob Herring | rob.herring@calxeda.com | 1333650595 |  | ARM: fix __io macro for PCMCIA  With commit c334bc1 (ARM: make mach/io.h include optional), PCMCIA was broken. PCMCIA depends on __io() returning a valid i/o address, and most ARM platforms require IO_SPACE_LIMIT be set to 0xffffffff for PCMCIA. This needs a better fix with a fixed i/o address mapping, but for now we just restore things to the previous behavior.  This fixes at91, omap1, pxa and sa11xx. pxa needs io.h if PCI is enabled, but PCMCIA is not. sa11xx already has IO_SPACE_LIMIT set to 0xffffffff, so it doesn't need an io.h.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Joachim Eastwood <joachim.eastwood@jotron.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Andrew Victor <linux@maxim.org.za> Cc: Nicolas Ferre <nicolas.ferre@atmel.com> Cc: Jean-Christophe Plagniol-Villard <plagnioj@jcrosoft.com> Tested-by: Paul Parsons <lost.distance@yahoo.com> (pxa270) Acked-by: Tony Lindgren <tony@atomide.com> Signed-off-by: Olof Johansson <olof@lixom.net>
f | entry-macro.S | g | 1.1K |  | Tony Lindgren | tony@atomide.com | 1331091278 |  | ARM: OMAP: Remove remaining includes for mach/io.h  These are no longer needed with the recent iomap.h changes.  Reported-by: Rob Herring <robherring2@gmail.com> Signed-off-by: Tony Lindgren <tony@atomide.com> Cc: Tomi Valkeinen <tomi.valkeinen@ti.com> Cc: Florian Tobias Schandinat <FlorianSchandinat@gmx.de>
f | hardware.h | s | 1021B | 34 | Tony Lindgren | tony@atomide.com | 1330108475 |  | ARM: OMAP: Remove plat/io.h by splitting it into mach/io.h and mach/hardware.h  This is needed to minimize io.h so the SoC specific io.h for ARMs can removed.  Note that minimal driver changes for DSS and RNG are needed to include cpu.h for SoC detection macros.  Cc: Tomi Valkeinen <tomi.valkeinen@ti.com> Cc: Matt Mackall <mpm@selenic.com> Cc: Herbert Xu <herbert@gondor.apana.org.au> Signed-off-by: Tony Lindgren <tony@atomide.com>
f | lcd_dma.h | s | 3.4K | 72 | Janusz Krzysztofik | jkrzyszt@tis.icnet.pl | 1260576993 |  | omap1: DMA: move LCD related code from plat-omap to mach-omap1  All of the LCD DMA code in plat-omap/dma.c appears to be OMAP1-only (and apparently only is available on a subset of OMAP1 chips).  Move this code to mach-omap1/lcd_dma.c.  Tested on OMAP1510 Amstrad Delta. Compile-tested with omap_generic_2420_defconfig.  Reported-by: Paul Walmsley <paul@pwsan.com> Signed-off-by: Janusz Krzysztofik <jkrzyszt@tis.icnet.pl> Reviewed-by: Paul Walmsley <paul@pwsan.com> Signed-off-by: Tony Lindgren <tony@atomide.com>
f | memory.h | s | 1.7K | 46 | Tony Lindgren | tony@atomide.com | 1330108475 |  | ARM: OMAP: Remove plat/io.h by splitting it into mach/io.h and mach/hardware.h  This is needed to minimize io.h so the SoC specific io.h for ARMs can removed.  Note that minimal driver changes for DSS and RNG are needed to include cpu.h for SoC detection macros.  Cc: Tomi Valkeinen <tomi.valkeinen@ti.com> Cc: Matt Mackall <mpm@selenic.com> Cc: Herbert Xu <herbert@gondor.apana.org.au> Signed-off-by: Tony Lindgren <tony@atomide.com>
f | ams-delta-fiq.h | s | 2.1K | 71 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | smp.h | s | 72B | 4 | Tony Lindgren | tony@atomide.com | 1255998778 |  | omap: headers: Create headers necessary for compile under mach-omap1 and mach-omap2  Create the headers needed for compiling under mach-omap1/include/mach and mach-omap2/include/mach.  This was done with the following script:  #!/bin/bash mach_files="clkdev.h gpio.h hardware.h io.h irqs.h memory.h \ smp.h system.h timex.h uncompress.h vmalloc.h" omaps="mach-omap1 mach-omap2"  mach_dir_old="arch/arm/plat-omap/include/mach" plat_dir_new="arch/arm/plat-omap/include/plat"  mkdir -p $plat_dir_new git add $plat_dir_new  for dir in $omaps; do 	mach_dir_new="arch/arm/$dir/include/mach" 	for header in $mach_files; do 		file="$mach_dir_new/$header" 		if [ ! -f $file ]; then 			echo -ne "/*\n * $file\n */\n\n#include <plat/$header>\n" > $file 			git add $file 			if [ ! -f $plat_dir_new/$header ]; then 				git mv $mach_dir_old/$header $plat_dir_new/$header 			fi 		fi 	done done  Signed-off-by: Tony Lindgren <tony@atomide.com>
f | lcdc.h | s | 2.1K | 51 | Janusz Krzysztofik | jkrzyszt@tis.icnet.pl | 1260576996 |  | omap1: LCD_DMA: Use some define rather than a hexadecimal  The patch corrects the issue introduced with one of my earlier patches: 	OMAP: DMA: Fix omapfb/lcdc on OMAP1510 broken when PM set[1] as pointed out by OMAP subsystem maintainer.  Applies on top of my prevoius patch:   OMAP: DMA: move LCD DMA related code from plat-omap to mach-omap1[2]  Tested on Amstrad Delta Compile tested with omap_generic_2420_defconfig  [1] http://patchwork.kernel.org/patch/57922/ [2] http://patchwork.kernel.org/patch/61952/  Signed-off-by: Janusz Krzysztofik <jkrzyszt@tis.icnet.pl> Signed-off-by: Tony Lindgren <tony@atomide.com>
f | debug-macro.S | g | 2.8K |  | Nicolas Pitre | nicolas.pitre@linaro.org | 1317046286 |  | ARM: mach-omap1: clean up debug-macro.S  This achieves two goals:  1) Get rid of omap_uart_v2p() and omap_uart_p2v() which were the last users    of PLAT_PHYS_OFFSET.  2) Remove the probing of the M bit in the CP15 control reg and make    the access to the .data variables completely position independent.  Signed-off-by: Nicolas Pitre <nicolas.pitre@linaro.org> Tested-by: Tony Lindgren <tony@atomide.com> Reviewed-by: Kevin Hilman <khilman@ti.com>
f | camera.h | s | 269B | 9 | Janusz Krzysztofik | jkrzyszt@tis.icnet.pl | 1288984390 |  | OMAP1: camera.h: add missing include  #include <media/omap1_camera.h> directive is required to compile the dependant boards (board-ams-delta for now).  Signed-off-by: Janusz Krzysztofik <jkrzyszt@tis.icnet.pl> [tony@atomide.com: updated comments] Signed-off-by: Tony Lindgren <tony@atomide.com>
f | uncompress.h | s | 86B | 4 | Tony Lindgren | tony@atomide.com | 1255998778 |  | omap: headers: Create headers necessary for compile under mach-omap1 and mach-omap2  Create the headers needed for compiling under mach-omap1/include/mach and mach-omap2/include/mach.  This was done with the following script:  #!/bin/bash mach_files="clkdev.h gpio.h hardware.h io.h irqs.h memory.h \ smp.h system.h timex.h uncompress.h vmalloc.h" omaps="mach-omap1 mach-omap2"  mach_dir_old="arch/arm/plat-omap/include/mach" plat_dir_new="arch/arm/plat-omap/include/plat"  mkdir -p $plat_dir_new git add $plat_dir_new  for dir in $omaps; do 	mach_dir_new="arch/arm/$dir/include/mach" 	for header in $mach_files; do 		file="$mach_dir_new/$header" 		if [ ! -f $file ]; then 			echo -ne "/*\n * $file\n */\n\n#include <plat/$header>\n" > $file 			git add $file 			if [ ! -f $plat_dir_new/$header ]; then 				git mv $mach_dir_old/$header $plat_dir_new/$header 			fi 		fi 	done done  Signed-off-by: Tony Lindgren <tony@atomide.com>
f | irqs.h | s | 74B | 4 | Tony Lindgren | tony@atomide.com | 1255998778 |  | omap: headers: Create headers necessary for compile under mach-omap1 and mach-omap2  Create the headers needed for compiling under mach-omap1/include/mach and mach-omap2/include/mach.  This was done with the following script:  #!/bin/bash mach_files="clkdev.h gpio.h hardware.h io.h irqs.h memory.h \ smp.h system.h timex.h uncompress.h vmalloc.h" omaps="mach-omap1 mach-omap2"  mach_dir_old="arch/arm/plat-omap/include/mach" plat_dir_new="arch/arm/plat-omap/include/plat"  mkdir -p $plat_dir_new git add $plat_dir_new  for dir in $omaps; do 	mach_dir_new="arch/arm/$dir/include/mach" 	for header in $mach_files; do 		file="$mach_dir_new/$header" 		if [ ! -f $file ]; then 			echo -ne "/*\n * $file\n */\n\n#include <plat/$header>\n" > $file 			git add $file 			if [ ! -f $plat_dir_new/$header ]; then 				git mv $mach_dir_old/$header $plat_dir_new/$header 			fi 		fi 	done done  Signed-off-by: Tony Lindgren <tony@atomide.com>
f | gpio.h | s | 74B | 4 | Tony Lindgren | tony@atomide.com | 1255998778 |  | omap: headers: Create headers necessary for compile under mach-omap1 and mach-omap2  Create the headers needed for compiling under mach-omap1/include/mach and mach-omap2/include/mach.  This was done with the following script:  #!/bin/bash mach_files="clkdev.h gpio.h hardware.h io.h irqs.h memory.h \ smp.h system.h timex.h uncompress.h vmalloc.h" omaps="mach-omap1 mach-omap2"  mach_dir_old="arch/arm/plat-omap/include/mach" plat_dir_new="arch/arm/plat-omap/include/plat"  mkdir -p $plat_dir_new git add $plat_dir_new  for dir in $omaps; do 	mach_dir_new="arch/arm/$dir/include/mach" 	for header in $mach_files; do 		file="$mach_dir_new/$header" 		if [ ! -f $file ]; then 			echo -ne "/*\n * $file\n */\n\n#include <plat/$header>\n" > $file 			git add $file 			if [ ! -f $plat_dir_new/$header ]; then 				git mv $mach_dir_old/$header $plat_dir_new/$header 			fi 		fi 	done done  Signed-off-by: Tony Lindgren <tony@atomide.com>
f | timex.h | s | 76B | 4 | Tony Lindgren | tony@atomide.com | 1255998778 |  | omap: headers: Create headers necessary for compile under mach-omap1 and mach-omap2  Create the headers needed for compiling under mach-omap1/include/mach and mach-omap2/include/mach.  This was done with the following script:  #!/bin/bash mach_files="clkdev.h gpio.h hardware.h io.h irqs.h memory.h \ smp.h system.h timex.h uncompress.h vmalloc.h" omaps="mach-omap1 mach-omap2"  mach_dir_old="arch/arm/plat-omap/include/mach" plat_dir_new="arch/arm/plat-omap/include/plat"  mkdir -p $plat_dir_new git add $plat_dir_new  for dir in $omaps; do 	mach_dir_new="arch/arm/$dir/include/mach" 	for header in $mach_files; do 		file="$mach_dir_new/$header" 		if [ ! -f $file ]; then 			echo -ne "/*\n * $file\n */\n\n#include <plat/$header>\n" > $file 			git add $file 			if [ ! -f $plat_dir_new/$header ]; then 				git mv $mach_dir_old/$header $plat_dir_new/$header 			fi 		fi 	done done  Signed-off-by: Tony Lindgren <tony@atomide.com>
f | mtd-xip.h | s | 1.9K | 50 | Tony Lindgren | tony@atomide.com | 1255998775 |  | omap: headers: Move mtd-xip.h to be mach-omap1 specific  These registers are omap1 specific.  Signed-off-by: Tony Lindgren <tony@atomide.com>
