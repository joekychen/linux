<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-netx › include › mach › netx-regs.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>netx-regs.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * arch/arm/mach-netx/include/mach/netx-regs.h</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2005 Sascha Hauer &lt;s.hauer@pengutronix.de&gt;, Pengutronix</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2</span>
<span class="cm"> * as published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ASM_ARCH_NETX_REGS_H</span>
<span class="cp">#define __ASM_ARCH_NETX_REGS_H</span>

<span class="cm">/* offsets relative to the beginning of the io space */</span>
<span class="cp">#define NETX_OFS_SYSTEM  0x00000</span>
<span class="cp">#define NETX_OFS_MEMCR   0x00100</span>
<span class="cp">#define NETX_OFS_DPMAS   0x03000</span>
<span class="cp">#define NETX_OFS_GPIO    0x00800</span>
<span class="cp">#define NETX_OFS_PIO     0x00900</span>
<span class="cp">#define NETX_OFS_UART0   0x00a00</span>
<span class="cp">#define NETX_OFS_UART1   0x00a40</span>
<span class="cp">#define NETX_OFS_UART2   0x00a80</span>
<span class="cp">#define NETX_OF_MIIMU    0x00b00</span>
<span class="cp">#define NETX_OFS_SPI     0x00c00</span>
<span class="cp">#define NETX_OFS_I2C     0x00d00</span>
<span class="cp">#define NETX_OFS_SYSTIME 0x01100</span>
<span class="cp">#define NETX_OFS_RTC     0x01200</span>
<span class="cp">#define NETX_OFS_EXTBUS  0x03600</span>
<span class="cp">#define NETX_OFS_LCD     0x04000</span>
<span class="cp">#define NETX_OFS_USB     0x20000</span>
<span class="cp">#define NETX_OFS_XMAC0   0x60000</span>
<span class="cp">#define NETX_OFS_XMAC1   0x61000</span>
<span class="cp">#define NETX_OFS_XMAC2   0x62000</span>
<span class="cp">#define NETX_OFS_XMAC3   0x63000</span>
<span class="cp">#define NETX_OFS_XMAC(no) (0x60000 + (no) * 0x1000)</span>
<span class="cp">#define NETX_OFS_PFIFO   0x64000</span>
<span class="cp">#define NETX_OFS_XPEC0   0x70000</span>
<span class="cp">#define NETX_OFS_XPEC1   0x74000</span>
<span class="cp">#define NETX_OFS_XPEC2   0x78000</span>
<span class="cp">#define NETX_OFS_XPEC3   0x7c000</span>
<span class="cp">#define NETX_OFS_XPEC(no) (0x70000 + (no) * 0x4000)</span>
<span class="cp">#define NETX_OFS_VIC     0xff000</span>

<span class="cm">/* physical addresses */</span>
<span class="cp">#define NETX_PA_SYSTEM   (NETX_IO_PHYS + NETX_OFS_SYSTEM)</span>
<span class="cp">#define NETX_PA_MEMCR    (NETX_IO_PHYS + NETX_OFS_MEMCR)</span>
<span class="cp">#define NETX_PA_DPMAS    (NETX_IO_PHYS + NETX_OFS_DPMAS)</span>
<span class="cp">#define NETX_PA_GPIO     (NETX_IO_PHYS + NETX_OFS_GPIO)</span>
<span class="cp">#define NETX_PA_PIO      (NETX_IO_PHYS + NETX_OFS_PIO)</span>
<span class="cp">#define NETX_PA_UART0    (NETX_IO_PHYS + NETX_OFS_UART0)</span>
<span class="cp">#define NETX_PA_UART1    (NETX_IO_PHYS + NETX_OFS_UART1)</span>
<span class="cp">#define NETX_PA_UART2    (NETX_IO_PHYS + NETX_OFS_UART2)</span>
<span class="cp">#define NETX_PA_MIIMU    (NETX_IO_PHYS + NETX_OF_MIIMU)</span>
<span class="cp">#define NETX_PA_SPI      (NETX_IO_PHYS + NETX_OFS_SPI)</span>
<span class="cp">#define NETX_PA_I2C      (NETX_IO_PHYS + NETX_OFS_I2C)</span>
<span class="cp">#define NETX_PA_SYSTIME  (NETX_IO_PHYS + NETX_OFS_SYSTIME)</span>
<span class="cp">#define NETX_PA_RTC      (NETX_IO_PHYS + NETX_OFS_RTC)</span>
<span class="cp">#define NETX_PA_EXTBUS   (NETX_IO_PHYS + NETX_OFS_EXTBUS)</span>
<span class="cp">#define NETX_PA_LCD      (NETX_IO_PHYS + NETX_OFS_LCD)</span>
<span class="cp">#define NETX_PA_USB      (NETX_IO_PHYS + NETX_OFS_USB)</span>
<span class="cp">#define NETX_PA_XMAC0    (NETX_IO_PHYS + NETX_OFS_XMAC0)</span>
<span class="cp">#define NETX_PA_XMAC1    (NETX_IO_PHYS + NETX_OFS_XMAC1)</span>
<span class="cp">#define NETX_PA_XMAC2    (NETX_IO_PHYS + NETX_OFS_XMAC2)</span>
<span class="cp">#define NETX_PA_XMAC3    (NETX_IO_PHYS + NETX_OFS_XMAC3)</span>
<span class="cp">#define NETX_PA_XMAC(no) (NETX_IO_PHYS + NETX_OFS_XMAC(no))</span>
<span class="cp">#define NETX_PA_PFIFO    (NETX_IO_PHYS + NETX_OFS_PFIFO)</span>
<span class="cp">#define NETX_PA_XPEC0    (NETX_IO_PHYS + NETX_OFS_XPEC0)</span>
<span class="cp">#define NETX_PA_XPEC1    (NETX_IO_PHYS + NETX_OFS_XPEC1)</span>
<span class="cp">#define NETX_PA_XPEC2    (NETX_IO_PHYS + NETX_OFS_XPEC2)</span>
<span class="cp">#define NETX_PA_XPEC3    (NETX_IO_PHYS + NETX_OFS_XPEC3)</span>
<span class="cp">#define NETX_PA_XPEC(no) (NETX_IO_PHYS + NETX_OFS_XPEC(no))</span>
<span class="cp">#define NETX_PA_VIC      (NETX_IO_PHYS + NETX_OFS_VIC)</span>

<span class="cm">/* virtual addresses */</span>
<span class="cp">#define NETX_VA_SYSTEM   (NETX_IO_VIRT + NETX_OFS_SYSTEM)</span>
<span class="cp">#define NETX_VA_MEMCR    (NETX_IO_VIRT + NETX_OFS_MEMCR)</span>
<span class="cp">#define NETX_VA_DPMAS    (NETX_IO_VIRT + NETX_OFS_DPMAS)</span>
<span class="cp">#define NETX_VA_GPIO     (NETX_IO_VIRT + NETX_OFS_GPIO)</span>
<span class="cp">#define NETX_VA_PIO      (NETX_IO_VIRT + NETX_OFS_PIO)</span>
<span class="cp">#define NETX_VA_UART0    (NETX_IO_VIRT + NETX_OFS_UART0)</span>
<span class="cp">#define NETX_VA_UART1    (NETX_IO_VIRT + NETX_OFS_UART1)</span>
<span class="cp">#define NETX_VA_UART2    (NETX_IO_VIRT + NETX_OFS_UART2)</span>
<span class="cp">#define NETX_VA_MIIMU    (NETX_IO_VIRT + NETX_OF_MIIMU)</span>
<span class="cp">#define NETX_VA_SPI      (NETX_IO_VIRT + NETX_OFS_SPI)</span>
<span class="cp">#define NETX_VA_I2C      (NETX_IO_VIRT + NETX_OFS_I2C)</span>
<span class="cp">#define NETX_VA_SYSTIME  (NETX_IO_VIRT + NETX_OFS_SYSTIME)</span>
<span class="cp">#define NETX_VA_RTC      (NETX_IO_VIRT + NETX_OFS_RTC)</span>
<span class="cp">#define NETX_VA_EXTBUS   (NETX_IO_VIRT + NETX_OFS_EXTBUS)</span>
<span class="cp">#define NETX_VA_LCD      (NETX_IO_VIRT + NETX_OFS_LCD)</span>
<span class="cp">#define NETX_VA_USB      (NETX_IO_VIRT + NETX_OFS_USB)</span>
<span class="cp">#define NETX_VA_XMAC0    (NETX_IO_VIRT + NETX_OFS_XMAC0)</span>
<span class="cp">#define NETX_VA_XMAC1    (NETX_IO_VIRT + NETX_OFS_XMAC1)</span>
<span class="cp">#define NETX_VA_XMAC2    (NETX_IO_VIRT + NETX_OFS_XMAC2)</span>
<span class="cp">#define NETX_VA_XMAC3    (NETX_IO_VIRT + NETX_OFS_XMAC3)</span>
<span class="cp">#define NETX_VA_XMAC(no) (NETX_IO_VIRT + NETX_OFS_XMAC(no))</span>
<span class="cp">#define NETX_VA_PFIFO    (NETX_IO_VIRT + NETX_OFS_PFIFO)</span>
<span class="cp">#define NETX_VA_XPEC0    (NETX_IO_VIRT + NETX_OFS_XPEC0)</span>
<span class="cp">#define NETX_VA_XPEC1    (NETX_IO_VIRT + NETX_OFS_XPEC1)</span>
<span class="cp">#define NETX_VA_XPEC2    (NETX_IO_VIRT + NETX_OFS_XPEC2)</span>
<span class="cp">#define NETX_VA_XPEC3    (NETX_IO_VIRT + NETX_OFS_XPEC3)</span>
<span class="cp">#define NETX_VA_XPEC(no) (NETX_IO_VIRT + NETX_OFS_XPEC(no))</span>
<span class="cp">#define NETX_VA_VIC      (NETX_IO_VIRT + NETX_OFS_VIC)</span>

<span class="cm">/*********************************</span>
<span class="cm"> * System functions              *</span>
<span class="cm"> *********************************/</span>

<span class="cm">/* Registers */</span>
<span class="cp">#define NETX_SYSTEM_REG(ofs)            IOMEM(NETX_VA_SYSTEM + (ofs))</span>
<span class="cp">#define NETX_SYSTEM_BOO_SR          NETX_SYSTEM_REG(0x00)</span>
<span class="cp">#define NETX_SYSTEM_IOC_CR          NETX_SYSTEM_REG(0x04)</span>
<span class="cp">#define NETX_SYSTEM_IOC_MR          NETX_SYSTEM_REG(0x08)</span>

<span class="cm">/* FIXME: Docs are not consistent */</span>
<span class="cm">/* #define NETX_SYSTEM_RES_CR          NETX_SYSTEM_REG(0x08) */</span>
<span class="cp">#define NETX_SYSTEM_RES_CR          NETX_SYSTEM_REG(0x0c)</span>

<span class="cp">#define NETX_SYSTEM_PHY_CONTROL     NETX_SYSTEM_REG(0x10)</span>
<span class="cp">#define NETX_SYSTEM_REV             NETX_SYSTEM_REG(0x34)</span>
<span class="cp">#define NETX_SYSTEM_IOC_ACCESS_KEY  NETX_SYSTEM_REG(0x70)</span>
<span class="cp">#define NETX_SYSTEM_WDG_TR          NETX_SYSTEM_REG(0x200)</span>
<span class="cp">#define NETX_SYSTEM_WDG_CTR         NETX_SYSTEM_REG(0x204)</span>
<span class="cp">#define NETX_SYSTEM_WDG_IRQ_TIMEOUT NETX_SYSTEM_REG(0x208)</span>
<span class="cp">#define NETX_SYSTEM_WDG_RES_TIMEOUT NETX_SYSTEM_REG(0x20c)</span>

<span class="cm">/* Bits */</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_RSTIN         (1&lt;&lt;0)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_WDG_RES       (1&lt;&lt;1)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_HOST_RES      (1&lt;&lt;2)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_FIRMW_RES     (1&lt;&lt;3)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_XPEC0_RES     (1&lt;&lt;4)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_XPEC1_RES     (1&lt;&lt;5)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_XPEC2_RES     (1&lt;&lt;6)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_XPEC3_RES     (1&lt;&lt;7)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_DIS_XPEC0_RES (1&lt;&lt;16)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_DIS_XPEC1_RES (1&lt;&lt;17)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_DIS_XPEC2_RES (1&lt;&lt;18)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_DIS_XPEC3_RES (1&lt;&lt;19)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_FIRMW_FLG0    (1&lt;&lt;20)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_FIRMW_FLG1    (1&lt;&lt;21)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_FIRMW_FLG2    (1&lt;&lt;22)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_FIRMW_FLG3    (1&lt;&lt;23)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_FIRMW_RES_EN  (1&lt;&lt;24)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_RSTOUT        (1&lt;&lt;25)</span>
<span class="cp">#define NETX_SYSTEM_RES_CR_EN_RSTOUT     (1&lt;&lt;26)</span>

<span class="cp">#define PHY_CONTROL_RESET            (1&lt;&lt;31)</span>
<span class="cp">#define PHY_CONTROL_SIM_BYP          (1&lt;&lt;30)</span>
<span class="cp">#define PHY_CONTROL_CLK_XLATIN       (1&lt;&lt;29)</span>
<span class="cp">#define PHY_CONTROL_PHY1_EN          (1&lt;&lt;21)</span>
<span class="cp">#define PHY_CONTROL_PHY1_NP_MSG_CODE</span>
<span class="cp">#define PHY_CONTROL_PHY1_AUTOMDIX    (1&lt;&lt;17)</span>
<span class="cp">#define PHY_CONTROL_PHY1_FIXMODE     (1&lt;&lt;16)</span>
<span class="cp">#define PHY_CONTROL_PHY1_MODE(mode)  (((mode) &amp; 0x7) &lt;&lt; 13)</span>
<span class="cp">#define PHY_CONTROL_PHY0_EN          (1&lt;&lt;12)</span>
<span class="cp">#define PHY_CONTROL_PHY0_NP_MSG_CODE</span>
<span class="cp">#define PHY_CONTROL_PHY0_AUTOMDIX    (1&lt;&lt;8)</span>
<span class="cp">#define PHY_CONTROL_PHY0_FIXMODE     (1&lt;&lt;7)</span>
<span class="cp">#define PHY_CONTROL_PHY0_MODE(mode)  (((mode) &amp; 0x7) &lt;&lt; 4)</span>
<span class="cp">#define PHY_CONTROL_PHY_ADDRESS(adr) ((adr) &amp; 0xf)</span>

<span class="cp">#define PHY_MODE_10BASE_T_HALF      0</span>
<span class="cp">#define PHY_MODE_10BASE_T_FULL      1</span>
<span class="cp">#define PHY_MODE_100BASE_TX_FX_FULL 2</span>
<span class="cp">#define PHY_MODE_100BASE_TX_FX_HALF 3</span>
<span class="cp">#define PHY_MODE_100BASE_TX_HALF    4</span>
<span class="cp">#define PHY_MODE_REPEATER           5</span>
<span class="cp">#define PHY_MODE_POWER_DOWN         6</span>
<span class="cp">#define PHY_MODE_ALL                7</span>

<span class="cm">/* Bits */</span>
<span class="cp">#define VECT_CNTL_ENABLE               (1 &lt;&lt; 5)</span>

<span class="cm">/*******************************</span>
<span class="cm"> * GPIO and timer module       *</span>
<span class="cm"> *******************************/</span>

<span class="cm">/* Registers */</span>
<span class="cp">#define NETX_GPIO_REG(ofs)                     IOMEM(NETX_VA_GPIO + (ofs))</span>
<span class="cp">#define NETX_GPIO_CFG(gpio)                NETX_GPIO_REG(0x0  + ((gpio)&lt;&lt;2))</span>
<span class="cp">#define NETX_GPIO_THRESHOLD_CAPTURE(gpio)  NETX_GPIO_REG(0x40 + ((gpio)&lt;&lt;2))</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL(counter)    NETX_GPIO_REG(0x80 + ((counter)&lt;&lt;2))</span>
<span class="cp">#define NETX_GPIO_COUNTER_MAX(counter)     NETX_GPIO_REG(0x94 + ((counter)&lt;&lt;2))</span>
<span class="cp">#define NETX_GPIO_COUNTER_CURRENT(counter) NETX_GPIO_REG(0xa8 + ((counter)&lt;&lt;2))</span>
<span class="cp">#define NETX_GPIO_IRQ_ENABLE               NETX_GPIO_REG(0xbc)</span>
<span class="cp">#define NETX_GPIO_IRQ_DISABLE              NETX_GPIO_REG(0xc0)</span>
<span class="cp">#define NETX_GPIO_SYSTIME_NS_CMP           NETX_GPIO_REG(0xc4)</span>
<span class="cp">#define NETX_GPIO_LINE                     NETX_GPIO_REG(0xc8)</span>
<span class="cp">#define NETX_GPIO_IRQ                      NETX_GPIO_REG(0xd0)</span>

<span class="cm">/* Bits */</span>
<span class="cp">#define NETX_GPIO_CFG_IOCFG_GP_INPUT                 (0x0)</span>
<span class="cp">#define NETX_GPIO_CFG_IOCFG_GP_OUTPUT                (0x1)</span>
<span class="cp">#define NETX_GPIO_CFG_IOCFG_GP_UART                  (0x2)</span>
<span class="cp">#define NETX_GPIO_CFG_INV                            (1&lt;&lt;2)</span>
<span class="cp">#define NETX_GPIO_CFG_MODE_INPUT_READ                (0&lt;&lt;3)</span>
<span class="cp">#define NETX_GPIO_CFG_MODE_INPUT_CAPTURE_CONT_RISING (1&lt;&lt;3)</span>
<span class="cp">#define NETX_GPIO_CFG_MODE_INPUT_CAPTURE_ONCE_RISING (2&lt;&lt;3)</span>
<span class="cp">#define NETX_GPIO_CFG_MODE_INPUT_CAPTURE_HIGH_LEVEL  (3&lt;&lt;3)</span>
<span class="cp">#define NETX_GPIO_CFG_COUNT_REF_COUNTER0             (0&lt;&lt;5)</span>
<span class="cp">#define NETX_GPIO_CFG_COUNT_REF_COUNTER1             (1&lt;&lt;5)</span>
<span class="cp">#define NETX_GPIO_CFG_COUNT_REF_COUNTER2             (2&lt;&lt;5)</span>
<span class="cp">#define NETX_GPIO_CFG_COUNT_REF_COUNTER3             (3&lt;&lt;5)</span>
<span class="cp">#define NETX_GPIO_CFG_COUNT_REF_COUNTER4             (4&lt;&lt;5)</span>
<span class="cp">#define NETX_GPIO_CFG_COUNT_REF_SYSTIME              (7&lt;&lt;5)</span>

<span class="cp">#define NETX_GPIO_COUNTER_CTRL_RUN                   (1&lt;&lt;0)</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL_SYM                   (1&lt;&lt;1)</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL_ONCE                  (1&lt;&lt;2)</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL_IRQ_EN                (1&lt;&lt;3)</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL_CNT_EVENT             (1&lt;&lt;4)</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL_RST_EN                (1&lt;&lt;5)</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL_SEL_EVENT             (1&lt;&lt;6)</span>
<span class="cp">#define NETX_GPIO_COUNTER_CTRL_GPIO_REF </span><span class="cm">/* FIXME */</span><span class="cp"></span>

<span class="cp">#define GPIO_BIT(gpio)                     (1&lt;&lt;(gpio))</span>
<span class="cp">#define COUNTER_BIT(counter)               ((1&lt;&lt;16)&lt;&lt;(counter))</span>

<span class="cm">/*******************************</span>
<span class="cm"> * PIO                         *</span>
<span class="cm"> *******************************/</span>

<span class="cm">/* Registers */</span>
<span class="cp">#define NETX_PIO_REG(ofs)        IOMEM(NETX_VA_PIO + (ofs))</span>
<span class="cp">#define NETX_PIO_INPIO       NETX_PIO_REG(0x0)</span>
<span class="cp">#define NETX_PIO_OUTPIO      NETX_PIO_REG(0x4)</span>
<span class="cp">#define NETX_PIO_OEPIO       NETX_PIO_REG(0x8)</span>

<span class="cm">/*******************************</span>
<span class="cm"> * MII Unit                    *</span>
<span class="cm"> *******************************/</span>

<span class="cm">/* Registers */</span>
<span class="cp">#define NETX_MIIMU           IOMEM(NETX_VA_MIIMU)</span>

<span class="cm">/* Bits */</span>
<span class="cp">#define MIIMU_SNRDY        (1&lt;&lt;0)</span>
<span class="cp">#define MIIMU_PREAMBLE     (1&lt;&lt;1)</span>
<span class="cp">#define MIIMU_OPMODE_WRITE (1&lt;&lt;2)</span>
<span class="cp">#define MIIMU_MDC_PERIOD   (1&lt;&lt;3)</span>
<span class="cp">#define MIIMU_PHY_NRES     (1&lt;&lt;4)</span>
<span class="cp">#define MIIMU_RTA          (1&lt;&lt;5)</span>
<span class="cp">#define MIIMU_REGADDR(adr) (((adr) &amp; 0x1f) &lt;&lt; 6)</span>
<span class="cp">#define MIIMU_PHYADDR(adr) (((adr) &amp; 0x1f) &lt;&lt; 11)</span>
<span class="cp">#define MIIMU_DATA(data)   (((data) &amp; 0xffff) &lt;&lt; 16)</span>

<span class="cm">/*******************************</span>
<span class="cm"> * xmac / xpec                 *</span>
<span class="cm"> *******************************/</span>

<span class="cm">/* XPEC register offsets relative to NETX_VA_XPEC(no) */</span>
<span class="cp">#define NETX_XPEC_R0_OFS           0x00</span>
<span class="cp">#define NETX_XPEC_R1_OFS           0x04</span>
<span class="cp">#define NETX_XPEC_R2_OFS           0x08</span>
<span class="cp">#define NETX_XPEC_R3_OFS           0x0c</span>
<span class="cp">#define NETX_XPEC_R4_OFS           0x10</span>
<span class="cp">#define NETX_XPEC_R5_OFS           0x14</span>
<span class="cp">#define NETX_XPEC_R6_OFS           0x18</span>
<span class="cp">#define NETX_XPEC_R7_OFS           0x1c</span>
<span class="cp">#define NETX_XPEC_RANGE01_OFS      0x20</span>
<span class="cp">#define NETX_XPEC_RANGE23_OFS      0x24</span>
<span class="cp">#define NETX_XPEC_RANGE45_OFS      0x28</span>
<span class="cp">#define NETX_XPEC_RANGE67_OFS      0x2c</span>
<span class="cp">#define NETX_XPEC_PC_OFS           0x48</span>
<span class="cp">#define NETX_XPEC_TIMER_OFS(timer) (0x30 + ((timer)&lt;&lt;2))</span>
<span class="cp">#define NETX_XPEC_IRQ_OFS          0x8c</span>
<span class="cp">#define NETX_XPEC_SYSTIME_NS_OFS   0x90</span>
<span class="cp">#define NETX_XPEC_FIFO_DATA_OFS    0x94</span>
<span class="cp">#define NETX_XPEC_SYSTIME_S_OFS    0x98</span>
<span class="cp">#define NETX_XPEC_ADC_OFS          0x9c</span>
<span class="cp">#define NETX_XPEC_URX_COUNT_OFS    0x40</span>
<span class="cp">#define NETX_XPEC_UTX_COUNT_OFS    0x44</span>
<span class="cp">#define NETX_XPEC_PC_OFS           0x48</span>
<span class="cp">#define NETX_XPEC_ZERO_OFS         0x4c</span>
<span class="cp">#define NETX_XPEC_STATCFG_OFS      0x50</span>
<span class="cp">#define NETX_XPEC_EC_MASKA_OFS     0x54</span>
<span class="cp">#define NETX_XPEC_EC_MASKB_OFS     0x58</span>
<span class="cp">#define NETX_XPEC_EC_MASK0_OFS     0x5c</span>
<span class="cp">#define NETX_XPEC_EC_MASK8_OFS     0x7c</span>
<span class="cp">#define NETX_XPEC_EC_MASK9_OFS     0x80</span>
<span class="cp">#define NETX_XPEC_XPU_HOLD_PC_OFS  0x100</span>
<span class="cp">#define NETX_XPEC_RAM_START_OFS    0x2000</span>

<span class="cm">/* Bits */</span>
<span class="cp">#define XPU_HOLD_PC (1&lt;&lt;0)</span>

<span class="cm">/* XMAC register offsets relative to NETX_VA_XMAC(no) */</span>
<span class="cp">#define NETX_XMAC_RPU_PROGRAM_START_OFS       0x000</span>
<span class="cp">#define NETX_XMAC_RPU_PROGRAM_END_OFS         0x3ff</span>
<span class="cp">#define NETX_XMAC_TPU_PROGRAM_START_OFS       0x400</span>
<span class="cp">#define NETX_XMAC_TPU_PROGRAM_END_OFS         0x7ff</span>
<span class="cp">#define NETX_XMAC_RPU_HOLD_PC_OFS             0xa00</span>
<span class="cp">#define NETX_XMAC_TPU_HOLD_PC_OFS             0xa04</span>
<span class="cp">#define NETX_XMAC_STATUS_SHARED0_OFS          0x840</span>
<span class="cp">#define NETX_XMAC_CONFIG_SHARED0_OFS          0x844</span>
<span class="cp">#define NETX_XMAC_STATUS_SHARED1_OFS          0x848</span>
<span class="cp">#define NETX_XMAC_CONFIG_SHARED1_OFS          0x84c</span>
<span class="cp">#define NETX_XMAC_STATUS_SHARED2_OFS          0x850</span>
<span class="cp">#define NETX_XMAC_CONFIG_SHARED2_OFS          0x854</span>
<span class="cp">#define NETX_XMAC_STATUS_SHARED3_OFS          0x858</span>
<span class="cp">#define NETX_XMAC_CONFIG_SHARED3_OFS          0x85c</span>

<span class="cp">#define RPU_HOLD_PC            (1&lt;&lt;15)</span>
<span class="cp">#define TPU_HOLD_PC            (1&lt;&lt;15)</span>

<span class="cm">/*******************************</span>
<span class="cm"> * Pointer FIFO                *</span>
<span class="cm"> *******************************/</span>

<span class="cm">/* Registers */</span>
<span class="cp">#define NETX_PFIFO_REG(ofs)               IOMEM(NETX_VA_PFIFO + (ofs))</span>
<span class="cp">#define NETX_PFIFO_BASE(pfifo)        NETX_PFIFO_REG(0x00 + ((pfifo)&lt;&lt;2))</span>
<span class="cp">#define NETX_PFIFO_BORDER_BASE(pfifo) NETX_PFIFO_REG(0x80 + ((pfifo)&lt;&lt;2))</span>
<span class="cp">#define NETX_PFIFO_RESET              NETX_PFIFO_REG(0x100)</span>
<span class="cp">#define NETX_PFIFO_FULL               NETX_PFIFO_REG(0x104)</span>
<span class="cp">#define NETX_PFIFO_EMPTY              NETX_PFIFO_REG(0x108)</span>
<span class="cp">#define NETX_PFIFO_OVEFLOW            NETX_PFIFO_REG(0x10c)</span>
<span class="cp">#define NETX_PFIFO_UNDERRUN           NETX_PFIFO_REG(0x110)</span>
<span class="cp">#define NETX_PFIFO_FILL_LEVEL(pfifo)  NETX_PFIFO_REG(0x180 + ((pfifo)&lt;&lt;2))</span>
<span class="cp">#define NETX_PFIFO_XPEC_ISR(xpec)     NETX_PFIFO_REG(0x400 + ((xpec) &lt;&lt; 2))</span>


<span class="cm">/*******************************</span>
<span class="cm"> * Memory Controller           *</span>
<span class="cm"> *******************************/</span>

<span class="cm">/* Registers */</span>
<span class="cp">#define NETX_MEMCR_REG(ofs)               IOMEM(NETX_VA_MEMCR + (ofs))</span>
<span class="cp">#define NETX_MEMCR_SRAM_CTRL(cs)      NETX_MEMCR_REG(0x0 + 4 * (cs)) </span><span class="cm">/* SRAM for CS 0..2 */</span><span class="cp"></span>
<span class="cp">#define NETX_MEMCR_SDRAM_CFG_CTRL     NETX_MEMCR_REG(0x40)</span>
<span class="cp">#define NETX_MEMCR_SDRAM_TIMING_CTRL  NETX_MEMCR_REG(0x44)</span>
<span class="cp">#define NETX_MEMCR_SDRAM_MODE         NETX_MEMCR_REG(0x48)</span>
<span class="cp">#define NETX_MEMCR_SDRAM_EXT_MODE     NETX_MEMCR_REG(0x4c)</span>
<span class="cp">#define NETX_MEMCR_PRIO_TIMESLOT_CTRL NETX_MEMCR_REG(0x80)</span>
<span class="cp">#define NETX_MEMCR_PRIO_ACCESS_CTRL   NETX_MEMCR_REG(0x84)</span>

<span class="cm">/* Bits */</span>
<span class="cp">#define NETX_MEMCR_SRAM_CTRL_WIDTHEXTMEM(x)       (((x) &amp; 0x3)  &lt;&lt; 24)</span>
<span class="cp">#define NETX_MEMCR_SRAM_CTRL_WSPOSTPAUSEEXTMEM(x) (((x) &amp; 0x3)  &lt;&lt; 16)</span>
<span class="cp">#define NETX_MEMCR_SRAM_CTRL_WSPREPASEEXTMEM(x)   (((x) &amp; 0x3)  &lt;&lt; 8)</span>
<span class="cp">#define NETX_MEMCR_SRAM_CTRL_WSEXTMEM(x)          (((x) &amp; 0x1f) &lt;&lt; 0)</span>


<span class="cm">/*******************************</span>
<span class="cm"> * Dual Port Memory            *</span>
<span class="cm"> *******************************/</span>

<span class="cm">/* Registers */</span>
<span class="cp">#define NETX_DPMAS_REG(ofs)               IOMEM(NETX_VA_DPMAS + (ofs))</span>
<span class="cp">#define NETX_DPMAS_SYS_STAT           NETX_DPMAS_REG(0x4d8)</span>
<span class="cp">#define NETX_DPMAS_INT_STAT           NETX_DPMAS_REG(0x4e0)</span>
<span class="cp">#define NETX_DPMAS_INT_EN             NETX_DPMAS_REG(0x4f0)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0           NETX_DPMAS_REG(0x608)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF1           NETX_DPMAS_REG(0x60c)</span>
<span class="cp">#define NETX_DPMAS_EXT_CONFIG(cs)     NETX_DPMAS_REG(0x610 + 4 * (cs))</span>
<span class="cp">#define NETX_DPMAS_IO_MODE0           NETX_DPMAS_REG(0x620) </span><span class="cm">/* I/O 32..63 */</span><span class="cp"></span>
<span class="cp">#define NETX_DPMAS_DRV_EN0            NETX_DPMAS_REG(0x624)</span>
<span class="cp">#define NETX_DPMAS_DATA0              NETX_DPMAS_REG(0x628)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE1           NETX_DPMAS_REG(0x630) </span><span class="cm">/* I/O 64..84 */</span><span class="cp"></span>
<span class="cp">#define NETX_DPMAS_DRV_EN1            NETX_DPMAS_REG(0x634)</span>
<span class="cp">#define NETX_DPMAS_DATA1              NETX_DPMAS_REG(0x638)</span>

<span class="cm">/* Bits */</span>
<span class="cp">#define NETX_DPMAS_INT_EN_GLB_EN         (1&lt;&lt;31)</span>
<span class="cp">#define NETX_DPMAS_INT_EN_MEM_LCK        (1&lt;&lt;30)</span>
<span class="cp">#define NETX_DPMAS_INT_EN_WDG            (1&lt;&lt;29)</span>
<span class="cp">#define NETX_DPMAS_INT_EN_PIO72          (1&lt;&lt;28)</span>
<span class="cp">#define NETX_DPMAS_INT_EN_PIO47          (1&lt;&lt;27)</span>
<span class="cp">#define NETX_DPMAS_INT_EN_PIO40          (1&lt;&lt;26)</span>
<span class="cp">#define NETX_DPMAS_INT_EN_PIO36          (1&lt;&lt;25)</span>
<span class="cp">#define NETX_DPMAS_INT_EN_PIO35          (1&lt;&lt;24)</span>

<span class="cp">#define NETX_DPMAS_IF_CONF0_HIF_DISABLED (0&lt;&lt;28)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0_HIF_EXT_BUS  (1&lt;&lt;28)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0_HIF_UP_8BIT  (2&lt;&lt;28)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0_HIF_UP_16BIT (3&lt;&lt;28)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0_HIF_IO       (4&lt;&lt;28)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0_WAIT_DRV_PP  (1&lt;&lt;14)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0_WAIT_DRV_OD  (2&lt;&lt;14)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF0_WAIT_DRV_TRI (3&lt;&lt;14)</span>

<span class="cp">#define NETX_DPMAS_IF_CONF1_IRQ_POL_PIO35 (1&lt;&lt;26)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF1_IRQ_POL_PIO36 (1&lt;&lt;27)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF1_IRQ_POL_PIO40 (1&lt;&lt;28)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF1_IRQ_POL_PIO47 (1&lt;&lt;29)</span>
<span class="cp">#define NETX_DPMAS_IF_CONF1_IRQ_POL_PIO72 (1&lt;&lt;30)</span>

<span class="cp">#define NETX_EXT_CONFIG_TALEWIDTH(x) (((x) &amp; 0x7) &lt;&lt; 29)</span>
<span class="cp">#define NETX_EXT_CONFIG_TADRHOLD(x)  (((x) &amp; 0x7) &lt;&lt; 26)</span>
<span class="cp">#define NETX_EXT_CONFIG_TCSON(x)     (((x) &amp; 0x7) &lt;&lt; 23)</span>
<span class="cp">#define NETX_EXT_CONFIG_TRDON(x)     (((x) &amp; 0x7) &lt;&lt; 20)</span>
<span class="cp">#define NETX_EXT_CONFIG_TWRON(x)     (((x) &amp; 0x7)  &lt;&lt; 17)</span>
<span class="cp">#define NETX_EXT_CONFIG_TWROFF(x)    (((x) &amp; 0x1f) &lt;&lt; 12)</span>
<span class="cp">#define NETX_EXT_CONFIG_TRDWRCYC(x)  (((x) &amp; 0x1f) &lt;&lt; 7)</span>
<span class="cp">#define NETX_EXT_CONFIG_WAIT_POL     (1&lt;&lt;6)</span>
<span class="cp">#define NETX_EXT_CONFIG_WAIT_EN      (1&lt;&lt;5)</span>
<span class="cp">#define NETX_EXT_CONFIG_NRD_MODE     (1&lt;&lt;4)</span>
<span class="cp">#define NETX_EXT_CONFIG_DS_MODE      (1&lt;&lt;3)</span>
<span class="cp">#define NETX_EXT_CONFIG_NWR_MODE     (1&lt;&lt;2)</span>
<span class="cp">#define NETX_EXT_CONFIG_16BIT        (1&lt;&lt;1)</span>
<span class="cp">#define NETX_EXT_CONFIG_CS_ENABLE    (1&lt;&lt;0)</span>

<span class="cp">#define NETX_DPMAS_IO_MODE0_WRL   (1&lt;&lt;13)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE0_WAIT  (1&lt;&lt;14)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE0_READY (1&lt;&lt;15)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE0_CS0   (1&lt;&lt;19)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE0_EXTRD (1&lt;&lt;20)</span>

<span class="cp">#define NETX_DPMAS_IO_MODE1_CS2           (1&lt;&lt;15)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE1_CS1           (1&lt;&lt;16)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE1_SAMPLE_NPOR   (0&lt;&lt;30)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE1_SAMPLE_100MHZ (1&lt;&lt;30)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE1_SAMPLE_NPIO36 (2&lt;&lt;30)</span>
<span class="cp">#define NETX_DPMAS_IO_MODE1_SAMPLE_PIO36  (3&lt;&lt;30)</span>

<span class="cm">/*******************************</span>
<span class="cm"> * I2C                         *</span>
<span class="cm"> *******************************/</span>
<span class="cp">#define NETX_I2C_REG(ofs)	IOMEM(NETX_VA_I2C, (ofs))</span>
<span class="cp">#define NETX_I2C_CTRL	NETX_I2C_REG(0x0)</span>
<span class="cp">#define NETX_I2C_DATA	NETX_I2C_REG(0x4)</span>

<span class="cp">#endif </span><span class="cm">/* __ASM_ARCH_NETX_REGS_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
