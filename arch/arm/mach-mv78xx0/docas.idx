f | common.c | s | 10K | 364 | Andrew Lunn | andrew@lunn.ch | 1336520037 |  | ARM: Orion: UART: Get the clock rate via clk_get_rate().  Let the machine pass to the platform which clock is used by the uart. Enable the clock and use clk_get_rate() to determine its rate.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
d | include |  | 1 items |  | Rob Herring | rob.herring@calxeda.com | 1331091285 |  | ARM: kill off __mem_pci  __mem_pci is only used to enable readl/writel and friends. Just condition this on readl being defined and remove all the __mem_pci defines.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Lennert Buytenhek <kernel@wantstofly.org> Cc: Imre Kaloz <kaloz@openwrt.org> Cc: Krzysztof Halasa <khc@pm.waw.pl> Cc: Nicolas Pitre <nico@fluxnic.net> Cc: Ben Dooks <ben-linux@fluff.org> Cc: Kukjin Kim <kgene.kim@samsung.com> Cc: Colin Cross <ccross@android.com> Cc: Olof Johansson <olof@lixom.net> Cc: Stephen Warren <swarren@nvidia.com>
f | db78x00-bp-setup.c | s | 2.5K | 90 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768235 |  | ARM: restart: mv78xx0: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Makefile | g | 217B |  | Sebastien Requiem | sebastien@kolios.dk | 1266963008 |  | [ARM] MV78xx0: Support for Buffalo WXL (Terastation Duo)  * Modification of Kconfig to add the Option * 1 new file : buffalo-wxl-setup.c This file is inspired from the db-78xx0-setup.c already present. The following is done:   - Configure MPP Lines for the plateform (see my patch for MPP) This is taken from the stock kernel provided by buffalotech (the vendor)   - GigaBit Ethernet   - Sata   - Uart are initiallized in a different way than on the dev board as we have one core only.   - USB  The kernel has been running for some days now on my plateform.  Signed-off-by: Sebastien Requiem <sebastien@kolios.dk> Signed-off-by: Nicolas Pitre <nico@marvell.com>
f | mpp.c | s | 883B | 32 | Andrew Lunn | andrew@lunn.ch | 1323820015 |  | ARM: Orion: Get address map from plat-orion instead of via platform_data  Use an getter function in plat-orion/addr-map.c to get the address map structure, rather than pass it to drivers in the platform_data structures. When the drivers are built for none orion platforms, a dummy function is provided instead which returns NULL.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Michael Walle <michael@walle.cc> Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Nicolas Pitre <nico@fluxnic.net>
f | mpp.h | s | 11K | 236 | Andrew Lunn | andrew@lunn.ch | 1328832991 |  | ARM: orion: Fix Orion5x GPIO regression from MPP cleanup  Patchset "ARM: orion: Refactor the MPP code common in the orion platform" broke at least Orion5x based platforms. These platforms have pins configured as GPIO when the selector is not 0x0. However the common code assumes the selector is always 0x0 for a GPIO lines. It then ignores the GPIO bits in the MPP definitions, resulting in that Orion5x machines cannot correctly configure there GPIO lines.  The Fix removes the assumption that the selector is always 0x0. In order that none GPIO configurations are correctly blocked, Kirkwood and mv78xx0 MPP definitions are corrected to only set the GPIO bits for GPIO configurations.  This third version, which does not contain any whitespace changes, and is rebased on v3.3-rc2.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Olof Johansson <olof@lixom.net>
f | addr-map.c | s | 2.4K | 82 | Andrew Lunn | andrew@lunn.ch | 1323820015 |  | ARM: Orion: mbus_dram_info consolidation  Move the *_mbus_dram_info structure into the orion platform and call it orion_mbus_dram_info everywhere.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Michael Walle <michael@walle.cc> Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Nicolas Pitre <nico@fluxnic.net>
f | buffalo-wxl-setup.c | s | 3.1K | 138 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768235 |  | ARM: restart: mv78xx0: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | pcie.c | s | 7.4K | 255 | Russell King | rmk+kernel@arm.linux.org.uk | 1337178251 |  | ARM: PCI: dove/kirkwood/mv78xx0: use sys->private_data  Use sys->private_data to store the PCIe port data structure.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | common.h | s | 1.6K | 44 | Linus Torvalds | torvalds@linux-foundation.org | 1326148731 |  | 
f | irq.c | s | 1.4K | 40 | Russell King | rmk+kernel@arm.linux.org.uk | 1312810061 |  | ARM: gpio: convert includes of mach/gpio.h and asm/gpio.h to linux/gpio.h  Convert arch/arm includes of mach/gpio.h and asm/gpio.h to linux/gpio.h before we start consolidating the individual platform implementations of the gpio header files.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Kconfig | g | 574B |  | Sebastien Requiem | sebastien@kolios.dk | 1266963008 |  | [ARM] MV78xx0: Support for Buffalo WXL (Terastation Duo)  * Modification of Kconfig to add the Option * 1 new file : buffalo-wxl-setup.c This file is inspired from the db-78xx0-setup.c already present. The following is done:   - Configure MPP Lines for the plateform (see my patch for MPP) This is taken from the stock kernel provided by buffalotech (the vendor)   - GigaBit Ethernet   - Sata   - Uart are initiallized in a different way than on the dev board as we have one core only.   - USB  The kernel has been running for some days now on my plateform.  Signed-off-by: Sebastien Requiem <sebastien@kolios.dk> Signed-off-by: Nicolas Pitre <nico@marvell.com>
f | rd78x00-masa-setup.c | s | 2.2K | 77 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768235 |  | ARM: restart: mv78xx0: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Makefile.boot | g | 84B |  | Sascha Hauer | s.hauer@pengutronix.de | 1318839160 |  | ARM: 7022/1: allow to detect conflicting zreladdrs  Boards used to specify zreladdr in their Makefile.boot with zreladdr-y := x, so conflicting zreladdrs were silently overwritten. This patch changes this to zreladdr-y += x, so that we end up with multiple words in zreladdr in such a case. We can detect this later and complain if necessary.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
