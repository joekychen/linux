f | mfp-pxa168.h | s | 13K | 331 | Tanmay Upadhyay | tanmay.upadhyay@einfochips.com | 1313028643 |  | ARM: pxa168/gplugd: get rid of mfp-gplugd.h  Move definitions from mfp-gplugd.h to mfp-pxa168.h as they aren't gplugD specific.  Signed-off-by: Tanmay Upadhyay <tanmay.upadhyay@einfochips.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | mfp-mmp2.h | s | 16K | 372 | Philip Rakity | prakity@marvell.com | 1295087359 |  | ARM: mmp: MMP2 drive strength FAST using wrong value  Drive strength for MMP2 is a 2 bit value but because of the mapping in plat-pxa/mfp.h needs to be shifted up one bit to handle real location in mfp registers.  (MMP2 and PXA910 drive strength start at bit 11 while PXA168 starts at bit 10).  Values 0, 1, 2, and 3 effectively need to be 0, 2, 4, and 6 to fit into register.  8 does not work.  Signed-off-by: Philip Rakity <prakity@marvell.com> Tested-by: John Watlington <wad@laptop.org> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | mfp.h | s | 1.1K | 28 | Mingwei Wang | mwwang@marvell.com | 1242987331 |  | [ARM] pxa: fix the incorrectly defined drive strength macros for pxa{168,910}  Signed-off-by: Mingwei Wang <mwwang@marvell.com> Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | hardware.h | s | 96B | 3 | Eric Miao | eric.miao@marvell.com | 1237774294 |  | [ARM] pxa: add base support for Marvell's PXA168 processor line  """The Marvell® PXA168 processor is the first in a family of application processors targeted at mass market opportunities in computing and consumer devices. It balances high computing and multimedia performance with low power consumption to support extended battery life, and includes a wealth of integrated peripherals to reduce overall BOM cost .... """  See http://www.marvell.com/featured/pxa168.jsp for more information.    1. Marvell Mohawk core is a hybrid of xscale3 and its own ARM core,      there are many enhancements like instructions for flushing the      whole D-cache, and so on    2. Clock reuses Russell's common clkdev, and added the basic support      for UART1/2.    3. Devices are a bit different from the 'mach-pxa' way, the platform      devices are now dynamically allocated only when necessary (i.e.      when pxa_register_device() is called). Description for each device      are stored in an array of 'struct pxa_device_desc'. Now that:       a. this array of device description is marked with __initdata and         can be freed up system is fully up       b. which means board code has to add all needed devices early in         his initializing function       c. platform specific data can now be marked as __initdata since         they are allocated and copied by platform_device_add_data()    4. only the basic UART1/2/3 are added, more devices will come later.  Signed-off-by: Jason Chagas <chagas@marvell.com> Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | regs-apbc.h | s | 4.2K | 111 | Chao Xie | chao.xie@marvell.com | 1336361678 |  | ARM: mmp: move XX_REG definition to addr-map.h  Move APBC_REG, APMU_REG and CIU_REG definition to addr-map.h driver only need include addr-map.h to get access of the registers.  Signed-off-by: Chao Xie <chao.xie@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | mfp-pxa910.h | s | 6.7K | 151 | Philip Rakity | prakity@marvell.com | 1295087360 |  | ARM: mmp: PXA910 drive strength FAST using wrong value  Drive strength for PXA910 is a 2 bit value but because of the mapping in plat-pxa/mfp.h needs to be shifted up one bit to handle real location in mfp registers.  (MMP2 and PXA910 drive strength start at bit 11 while PXA168 starts at bit 10).  Values 0, 1, 2, and 3 effectively need to be 0, 2, 4, and 6 to fit into register.  8 does not work.  Signed-off-by: Philip Rakity <prakity@marvell.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | regs-smc.h | s | 1.1K | 32 | Mingliang Hu | mhu4@marvell.com | 1273591506 |  | [ARM] mmp: add smc registers definition  Signed-off-by: Mingliang Hu <mhu4@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pm-mmp2.h | s | 1.8K | 53 | Chao Xie | chao.xie@marvell.com | 1336361700 |  | ARM: mmp: add PM support for mmp2  MMP2 can enter system sleep level during suspend. It can be waken up by PMIC interrupt, RTC/ALARM.  Signed-off-by: Chao Xie <chao.xie@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | entry-macro.S | g | 716B |  | Haojian Zhuang | haojian.zhuang@gmail.com | 1336206913 |  | ARM: mmp: support DT in irq  Merge irq-pxa168 and irq-mmp2. And support device tree also.  Since CONFIG_SPARSE_IRQ is enabled in arch-mmp, base irq starts from NR_IRQS_LEGACY.  Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | mmp2.h | s | 2.7K | 84 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321355307 |  | ARM: pxa: change gpio to platform device  Remove most gpio macros and change gpio driver to platform driver.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | gpio-pxa.h | s | 946B | 21 | Arnd Bergmann | arnd@arndb.de | 1323181415 |  | Merge branch 'mxs/saif' into next/drivers  Conflicts: 	drivers/net/ethernet/cadence/Kconfig
f | dma.h | s | 235B | 9 | Eric Miao | eric.miao@marvell.com | 1237774294 |  | [ARM] pxa: add base support for Marvell's PXA168 processor line  """The Marvell® PXA168 processor is the first in a family of application processors targeted at mass market opportunities in computing and consumer devices. It balances high computing and multimedia performance with low power consumption to support extended battery life, and includes a wealth of integrated peripherals to reduce overall BOM cost .... """  See http://www.marvell.com/featured/pxa168.jsp for more information.    1. Marvell Mohawk core is a hybrid of xscale3 and its own ARM core,      there are many enhancements like instructions for flushing the      whole D-cache, and so on    2. Clock reuses Russell's common clkdev, and added the basic support      for UART1/2.    3. Devices are a bit different from the 'mach-pxa' way, the platform      devices are now dynamically allocated only when necessary (i.e.      when pxa_register_device() is called). Description for each device      are stored in an array of 'struct pxa_device_desc'. Now that:       a. this array of device description is marked with __initdata and         can be freed up system is fully up       b. which means board code has to add all needed devices early in         his initializing function       c. platform specific data can now be marked as __initdata since         they are allocated and copied by platform_device_add_data()    4. only the basic UART1/2/3 are added, more devices will come later.  Signed-off-by: Jason Chagas <chagas@marvell.com> Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | regs-apmu.h | s | 1.4K | 41 | Chao Xie | chao.xie@marvell.com | 1336361678 |  | ARM: mmp: move XX_REG definition to addr-map.h  Move APBC_REG, APMU_REG and CIU_REG definition to addr-map.h driver only need include addr-map.h to get access of the registers.  Signed-off-by: Chao Xie <chao.xie@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | uncompress.h | s | 993B | 40 | Nicolas Pitre | nicolas.pitre@linaro.org | 1304741282 |  | ARM: zImage: remove the static qualifier from global data variables  To be able to relocate the .bss section at run time independently from the rest of the code, we must make sure that no GOTOFF relocations are used with .bss symbols.  This usually means that no global variables can be marked static unless they're also const.  Let's remove the static qualifier from current offenders, or turn them into const variables when possible.  Next commit will ensure the build fails if one of those is reintroduced due to otherwise enforced coding standards for the kernel.  Signed-off-by: Nicolas Pitre <nicolas.pitre@linaro.org> Tested-by: Tony Lindgren <tony@atomide.com>
f | regs-icu.h | s | 2.3K | 56 | Haojian Zhuang | haojian.zhuang@marvell.com | 1267486857 |  | [ARM] mmp2: add missing ICU register definitions  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pm-pxa910.h | s | 2.5K | 69 | Chao Xie | chao.xie@marvell.com | 1336362517 |  | ARM: mmp: add pm support for pxa910  add suspend/resume functionality for pxa910  Signed-off-by: Chao Xie <chao.xie@marvell.com> Signed-off-by: Raul Xiong <xjian@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | pxa910.h | s | 2.1K | 68 | Neil Zhang | zhangwm@marvell.com | 1336028710 |  | ARM: mmp: add usb device support for PXA910  Add usb device support for Marvell PXA910. Actually PXA920 will use the same device.  Signed-off-by: Neil Zhang <zhangwm@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | cputype.h | s | 1.3K | 48 | Haojian Zhuang | haojian.zhuang@marvell.com | 1288797076 |  | ARM: mmp: fix cpuid detection on mmp2  Fix typo error on cpu_is_mmp2(). Correct cpu_readid_id() to read_cpuid_id().  Append missing parenthesis.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | devices.h | s | 1.5K | 48 | Neil Zhang | zhangwm@marvell.com | 1336028710 |  | ARM: mmp: add usb device support for PXA910  Add usb device support for Marvell PXA910. Actually PXA920 will use the same device.  Signed-off-by: Neil Zhang <zhangwm@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | regs-rtc.h | s | 708B | 17 | Haojian Zhuang | haojian.zhuang@marvell.com | 1330399389 |  | ARM: mmp: enable rtc in pxa910  Support rtc-sa1100 driver in pxa910.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | irqs.h | s | 7.4K | 224 | Haojian Zhuang | haojian.zhuang@gmail.com | 1336206913 |  | ARM: mmp: support DT in irq  Merge irq-pxa168 and irq-mmp2. And support device tree also.  Since CONFIG_SPARSE_IRQ is enabled in arch-mmp, base irq starts from NR_IRQS_LEGACY.  Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | addr-map.h | s | 1.4K | 37 | Chao Xie | chao.xie@marvell.com | 1336361678 |  | ARM: mmp: move XX_REG definition to addr-map.h  Move APBC_REG, APMU_REG and CIU_REG definition to addr-map.h driver only need include addr-map.h to get access of the registers.  Signed-off-by: Chao Xie <chao.xie@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | debug-macro.S | g | 595B |  | Nicolas Pitre | nicolas.pitre@linaro.org | 1317046285 |  | ARM: add an extra temp register to the low level debugging addruart macro  Some platforms (like OMAP not to name it) are doing rather complicated hacks just to determine the base UART address to use.  Let's give their addruart macro some slack by providing an extra work register which will allow for much needed cleanups.  This is basically a no-op as this commit is only adding the extra argument to the macro but no one is using it yet.  Signed-off-by: nicolas Pitre <nicolas.pitre@linaro.org> Reviewed-by: Kevin Hilman <khilman@ti.com>
f | regs-usb.h | s | 7.0K | 192 | Neil Zhang | zhangwm@marvell.com | 1336028710 |  | ARM: mmp: add usb device support for PXA910  Add usb device support for Marvell PXA910. Actually PXA920 will use the same device.  Signed-off-by: Neil Zhang <zhangwm@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | gpio.h | s | 142B | 5 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321355307 |  | ARM: pxa: change gpio to platform device  Remove most gpio macros and change gpio driver to platform driver.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | timex.h | s | 348B | 12 | Mingliang Hu | mhu4@marvell.com | 1273591505 |  | [ARM] mmp: fix clock tick rate in mmp2  In MMP2, clock tick rate should be 6500000.  Signed-off-by: Mingliang Hu <mhu4@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | teton_bga.h | s | 738B | 25 | Mark F. Brown | mark.brown314@gmail.com | 1286615246 |  | ARM: pxa168: added support for Teton BGA platform  Added board defintion, header, and debug UART support.  Signed-off-by: Mark F. Brown <mark.brown314@gmail.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | regs-timers.h | s | 1.3K | 38 | Eric Miao | eric.miao@marvell.com | 1237774294 |  | [ARM] pxa: add base support for Marvell's PXA168 processor line  """The Marvell® PXA168 processor is the first in a family of application processors targeted at mass market opportunities in computing and consumer devices. It balances high computing and multimedia performance with low power consumption to support extended battery life, and includes a wealth of integrated peripherals to reduce overall BOM cost .... """  See http://www.marvell.com/featured/pxa168.jsp for more information.    1. Marvell Mohawk core is a hybrid of xscale3 and its own ARM core,      there are many enhancements like instructions for flushing the      whole D-cache, and so on    2. Clock reuses Russell's common clkdev, and added the basic support      for UART1/2.    3. Devices are a bit different from the 'mach-pxa' way, the platform      devices are now dynamically allocated only when necessary (i.e.      when pxa_register_device() is called). Description for each device      are stored in an array of 'struct pxa_device_desc'. Now that:       a. this array of device description is marked with __initdata and         can be freed up system is fully up       b. which means board code has to add all needed devices early in         his initializing function       c. platform specific data can now be marked as __initdata since         they are allocated and copied by platform_device_add_data()    4. only the basic UART1/2/3 are added, more devices will come later.  Signed-off-by: Jason Chagas <chagas@marvell.com> Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | pxa168.h | s | 3.6K | 111 | Neil Zhang | zhangwm@marvell.com | 1336028765 |  | ARM: mmp: add usb host support for PXA168  The ehci-mv can support PXA168, PXA910 and PXA920, use this driver to support pxa168 SPH usb.  Signed-off-by: Neil Zhang <zhangwm@marvell.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | sram.h | s | 736B | 28 | Leo Yan | leoy@marvell.com | 1319545760 |  | ARM: mmp: add sram allocator  On mmp platform, there have two sram banks: audio sram and internal sram. The audio sram is mainly for audio; the internal sram is for video, wtm and power management. So add the sram allocator using genalloc to manage them.  Every sram bank will register its own platform device info, after the sram allocator create the generic pool for the sram bank, the user module can use the pool's name to get the pool handler; then it can use the handler to alloc/free memory with genalloc APIs.  Signed-off-by: Leo Yan <leoy@marvell.com> Acked-by: Haojian Zhuang <haojian.zhuang@gmail.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
