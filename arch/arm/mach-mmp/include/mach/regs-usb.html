<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-mmp › include › mach › regs-usb.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>regs-usb.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Copyright (C) 2011 Marvell International Ltd. All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute  it and/or modify it</span>
<span class="cm"> * under  the terms of  the GNU General  Public License as published by the</span>
<span class="cm"> * Free Software Foundation;  either version 2 of the  License, or (at your</span>
<span class="cm"> * option) any later version.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ASM_ARCH_REGS_USB_H</span>
<span class="cp">#define __ASM_ARCH_REGS_USB_H</span>

<span class="cp">#define PXA168_U2O_REGBASE	(0xd4208000)</span>
<span class="cp">#define PXA168_U2O_PHYBASE	(0xd4207000)</span>

<span class="cp">#define PXA168_U2H_REGBASE      (0xd4209000)</span>
<span class="cp">#define PXA168_U2H_PHYBASE      (0xd4206000)</span>

<span class="cp">#define MMP3_HSIC1_REGBASE	(0xf0001000)</span>
<span class="cp">#define MMP3_HSIC1_PHYBASE	(0xf0001800)</span>

<span class="cp">#define MMP3_HSIC2_REGBASE	(0xf0002000)</span>
<span class="cp">#define MMP3_HSIC2_PHYBASE	(0xf0002800)</span>

<span class="cp">#define MMP3_FSIC_REGBASE	(0xf0003000)</span>
<span class="cp">#define MMP3_FSIC_PHYBASE	(0xf0003800)</span>


<span class="cp">#define USB_REG_RANGE		(0x1ff)</span>
<span class="cp">#define USB_PHY_RANGE		(0xff)</span>

<span class="cm">/* registers */</span>
<span class="cp">#define U2x_CAPREGS_OFFSET       0x100</span>

<span class="cm">/* phy regs */</span>
<span class="cp">#define UTMI_REVISION		0x0</span>
<span class="cp">#define UTMI_CTRL		0x4</span>
<span class="cp">#define UTMI_PLL		0x8</span>
<span class="cp">#define UTMI_TX			0xc</span>
<span class="cp">#define UTMI_RX			0x10</span>
<span class="cp">#define UTMI_IVREF		0x14</span>
<span class="cp">#define UTMI_T0			0x18</span>
<span class="cp">#define UTMI_T1			0x1c</span>
<span class="cp">#define UTMI_T2			0x20</span>
<span class="cp">#define UTMI_T3			0x24</span>
<span class="cp">#define UTMI_T4			0x28</span>
<span class="cp">#define UTMI_T5			0x2c</span>
<span class="cp">#define UTMI_RESERVE		0x30</span>
<span class="cp">#define UTMI_USB_INT		0x34</span>
<span class="cp">#define UTMI_DBG_CTL		0x38</span>
<span class="cp">#define UTMI_OTG_ADDON		0x3c</span>

<span class="cm">/* For UTMICTRL Register */</span>
<span class="cp">#define UTMI_CTRL_USB_CLK_EN                    (1 &lt;&lt; 31)</span>
<span class="cm">/* pxa168 */</span>
<span class="cp">#define UTMI_CTRL_SUSPEND_SET1                  (1 &lt;&lt; 30)</span>
<span class="cp">#define UTMI_CTRL_SUSPEND_SET2                  (1 &lt;&lt; 29)</span>
<span class="cp">#define UTMI_CTRL_RXBUF_PDWN                    (1 &lt;&lt; 24)</span>
<span class="cp">#define UTMI_CTRL_TXBUF_PDWN                    (1 &lt;&lt; 11)</span>

<span class="cp">#define UTMI_CTRL_INPKT_DELAY_SHIFT             30</span>
<span class="cp">#define UTMI_CTRL_INPKT_DELAY_SOF_SHIFT		28</span>
<span class="cp">#define UTMI_CTRL_PU_REF_SHIFT			20</span>
<span class="cp">#define UTMI_CTRL_ARC_PULLDN_SHIFT              12</span>
<span class="cp">#define UTMI_CTRL_PLL_PWR_UP_SHIFT              1</span>
<span class="cp">#define UTMI_CTRL_PWR_UP_SHIFT                  0</span>

<span class="cm">/* For UTMI_PLL Register */</span>
<span class="cp">#define UTMI_PLL_PLLCALI12_SHIFT		29</span>
<span class="cp">#define UTMI_PLL_PLLCALI12_MASK			(0x3 &lt;&lt; 29)</span>

<span class="cp">#define UTMI_PLL_PLLVDD18_SHIFT			27</span>
<span class="cp">#define UTMI_PLL_PLLVDD18_MASK			(0x3 &lt;&lt; 27)</span>

<span class="cp">#define UTMI_PLL_PLLVDD12_SHIFT			25</span>
<span class="cp">#define UTMI_PLL_PLLVDD12_MASK			(0x3 &lt;&lt; 25)</span>

<span class="cp">#define UTMI_PLL_CLK_BLK_EN_SHIFT               24</span>
<span class="cp">#define CLK_BLK_EN                              (0x1 &lt;&lt; 24)</span>
<span class="cp">#define PLL_READY                               (0x1 &lt;&lt; 23)</span>
<span class="cp">#define KVCO_EXT                                (0x1 &lt;&lt; 22)</span>
<span class="cp">#define VCOCAL_START                            (0x1 &lt;&lt; 21)</span>

<span class="cp">#define UTMI_PLL_KVCO_SHIFT			15</span>
<span class="cp">#define UTMI_PLL_KVCO_MASK                      (0x7 &lt;&lt; 15)</span>

<span class="cp">#define UTMI_PLL_ICP_SHIFT			12</span>
<span class="cp">#define UTMI_PLL_ICP_MASK                       (0x7 &lt;&lt; 12)</span>

<span class="cp">#define UTMI_PLL_FBDIV_SHIFT                    4</span>
<span class="cp">#define UTMI_PLL_FBDIV_MASK                     (0xFF &lt;&lt; 4)</span>

<span class="cp">#define UTMI_PLL_REFDIV_SHIFT                   0</span>
<span class="cp">#define UTMI_PLL_REFDIV_MASK                    (0xF &lt;&lt; 0)</span>

<span class="cm">/* For UTMI_TX Register */</span>
<span class="cp">#define UTMI_TX_REG_EXT_FS_RCAL_SHIFT		27</span>
<span class="cp">#define UTMI_TX_REG_EXT_FS_RCAL_MASK		(0xf &lt;&lt; 27)</span>

<span class="cp">#define UTMI_TX_REG_EXT_FS_RCAL_EN_SHIFT	26</span>
<span class="cp">#define UTMI_TX_REG_EXT_FS_RCAL_EN_MASK		(0x1 &lt;&lt; 26)</span>

<span class="cp">#define UTMI_TX_TXVDD12_SHIFT                   22</span>
<span class="cp">#define UTMI_TX_TXVDD12_MASK                    (0x3 &lt;&lt; 22)</span>

<span class="cp">#define UTMI_TX_CK60_PHSEL_SHIFT                17</span>
<span class="cp">#define UTMI_TX_CK60_PHSEL_MASK                 (0xf &lt;&lt; 17)</span>

<span class="cp">#define UTMI_TX_IMPCAL_VTH_SHIFT                14</span>
<span class="cp">#define UTMI_TX_IMPCAL_VTH_MASK                 (0x7 &lt;&lt; 14)</span>

<span class="cp">#define REG_RCAL_START                          (0x1 &lt;&lt; 12)</span>

<span class="cp">#define UTMI_TX_LOW_VDD_EN_SHIFT                11</span>

<span class="cp">#define UTMI_TX_AMP_SHIFT			0</span>
<span class="cp">#define UTMI_TX_AMP_MASK			(0x7 &lt;&lt; 0)</span>

<span class="cm">/* For UTMI_RX Register */</span>
<span class="cp">#define UTMI_REG_SQ_LENGTH_SHIFT                15</span>
<span class="cp">#define UTMI_REG_SQ_LENGTH_MASK                 (0x3 &lt;&lt; 15)</span>

<span class="cp">#define UTMI_RX_SQ_THRESH_SHIFT                 4</span>
<span class="cp">#define UTMI_RX_SQ_THRESH_MASK                  (0xf &lt;&lt; 4)</span>

<span class="cp">#define UTMI_OTG_ADDON_OTG_ON			(1 &lt;&lt; 0)</span>

<span class="cm">/* For MMP3 USB Phy */</span>
<span class="cp">#define USB2_PLL_REG0		0x4</span>
<span class="cp">#define USB2_PLL_REG1		0x8</span>
<span class="cp">#define USB2_TX_REG0		0x10</span>
<span class="cp">#define USB2_TX_REG1		0x14</span>
<span class="cp">#define USB2_TX_REG2		0x18</span>
<span class="cp">#define USB2_RX_REG0		0x20</span>
<span class="cp">#define USB2_RX_REG1		0x24</span>
<span class="cp">#define USB2_RX_REG2		0x28</span>
<span class="cp">#define USB2_ANA_REG0		0x30</span>
<span class="cp">#define USB2_ANA_REG1		0x34</span>
<span class="cp">#define USB2_ANA_REG2		0x38</span>
<span class="cp">#define USB2_DIG_REG0		0x3C</span>
<span class="cp">#define USB2_DIG_REG1		0x40</span>
<span class="cp">#define USB2_DIG_REG2		0x44</span>
<span class="cp">#define USB2_DIG_REG3		0x48</span>
<span class="cp">#define USB2_TEST_REG0		0x4C</span>
<span class="cp">#define USB2_TEST_REG1		0x50</span>
<span class="cp">#define USB2_TEST_REG2		0x54</span>
<span class="cp">#define USB2_CHARGER_REG0	0x58</span>
<span class="cp">#define USB2_OTG_REG0		0x5C</span>
<span class="cp">#define USB2_PHY_MON0		0x60</span>
<span class="cp">#define USB2_RESETVE_REG0	0x64</span>
<span class="cp">#define USB2_ICID_REG0		0x78</span>
<span class="cp">#define USB2_ICID_REG1		0x7C</span>

<span class="cm">/* USB2_PLL_REG0 */</span>
<span class="cm">/* This is for Ax stepping */</span>
<span class="cp">#define USB2_PLL_FBDIV_SHIFT_MMP3		0</span>
<span class="cp">#define USB2_PLL_FBDIV_MASK_MMP3		(0xFF &lt;&lt; 0)</span>

<span class="cp">#define USB2_PLL_REFDIV_SHIFT_MMP3		8</span>
<span class="cp">#define USB2_PLL_REFDIV_MASK_MMP3		(0xF &lt;&lt; 8)</span>

<span class="cp">#define USB2_PLL_VDD12_SHIFT_MMP3		12</span>
<span class="cp">#define USB2_PLL_VDD18_SHIFT_MMP3		14</span>

<span class="cm">/* This is for B0 stepping */</span>
<span class="cp">#define USB2_PLL_FBDIV_SHIFT_MMP3_B0		0</span>
<span class="cp">#define USB2_PLL_REFDIV_SHIFT_MMP3_B0		9</span>
<span class="cp">#define USB2_PLL_VDD18_SHIFT_MMP3_B0		14</span>
<span class="cp">#define USB2_PLL_FBDIV_MASK_MMP3_B0		0x01FF</span>
<span class="cp">#define USB2_PLL_REFDIV_MASK_MMP3_B0		0x3E00</span>

<span class="cp">#define USB2_PLL_CAL12_SHIFT_MMP3		0</span>
<span class="cp">#define USB2_PLL_CALI12_MASK_MMP3		(0x3 &lt;&lt; 0)</span>

<span class="cp">#define USB2_PLL_VCOCAL_START_SHIFT_MMP3	2</span>

<span class="cp">#define USB2_PLL_KVCO_SHIFT_MMP3		4</span>
<span class="cp">#define USB2_PLL_KVCO_MASK_MMP3			(0x7&lt;&lt;4)</span>

<span class="cp">#define USB2_PLL_ICP_SHIFT_MMP3			8</span>
<span class="cp">#define USB2_PLL_ICP_MASK_MMP3			(0x7&lt;&lt;8)</span>

<span class="cp">#define USB2_PLL_LOCK_BYPASS_SHIFT_MMP3		12</span>

<span class="cp">#define USB2_PLL_PU_PLL_SHIFT_MMP3		13</span>
<span class="cp">#define USB2_PLL_PU_PLL_MASK			(0x1 &lt;&lt; 13)</span>

<span class="cp">#define USB2_PLL_READY_MASK_MMP3		(0x1 &lt;&lt; 15)</span>

<span class="cm">/* USB2_TX_REG0 */</span>
<span class="cp">#define USB2_TX_IMPCAL_VTH_SHIFT_MMP3		8</span>
<span class="cp">#define USB2_TX_IMPCAL_VTH_MASK_MMP3		(0x7 &lt;&lt; 8)</span>

<span class="cp">#define USB2_TX_RCAL_START_SHIFT_MMP3		13</span>

<span class="cm">/* USB2_TX_REG1 */</span>
<span class="cp">#define USB2_TX_CK60_PHSEL_SHIFT_MMP3		0</span>
<span class="cp">#define USB2_TX_CK60_PHSEL_MASK_MMP3		(0xf &lt;&lt; 0)</span>

<span class="cp">#define USB2_TX_AMP_SHIFT_MMP3			4</span>
<span class="cp">#define USB2_TX_AMP_MASK_MMP3			(0x7 &lt;&lt; 4)</span>

<span class="cp">#define USB2_TX_VDD12_SHIFT_MMP3		8</span>
<span class="cp">#define USB2_TX_VDD12_MASK_MMP3			(0x3 &lt;&lt; 8)</span>

<span class="cm">/* USB2_TX_REG2 */</span>
<span class="cp">#define USB2_TX_DRV_SLEWRATE_SHIFT		10</span>

<span class="cm">/* USB2_RX_REG0 */</span>
<span class="cp">#define USB2_RX_SQ_THRESH_SHIFT_MMP3		4</span>
<span class="cp">#define USB2_RX_SQ_THRESH_MASK_MMP3		(0xf &lt;&lt; 4)</span>

<span class="cp">#define USB2_RX_SQ_LENGTH_SHIFT_MMP3		10</span>
<span class="cp">#define USB2_RX_SQ_LENGTH_MASK_MMP3		(0x3 &lt;&lt; 10)</span>

<span class="cm">/* USB2_ANA_REG1*/</span>
<span class="cp">#define USB2_ANA_PU_ANA_SHIFT_MMP3		14</span>

<span class="cm">/* USB2_OTG_REG0 */</span>
<span class="cp">#define USB2_OTG_PU_OTG_SHIFT_MMP3		3</span>

<span class="cm">/* fsic registers */</span>
<span class="cp">#define FSIC_MISC			0x4</span>
<span class="cp">#define FSIC_INT			0x28</span>
<span class="cp">#define FSIC_CTRL			0x30</span>

<span class="cm">/* HSIC registers */</span>
<span class="cp">#define HSIC_PAD_CTRL			0x4</span>

<span class="cp">#define HSIC_CTRL			0x8</span>
<span class="cp">#define HSIC_CTRL_HSIC_ENABLE		(1&lt;&lt;7)</span>
<span class="cp">#define HSIC_CTRL_PLL_BYPASS		(1&lt;&lt;4)</span>

<span class="cp">#define TEST_GRP_0			0xc</span>
<span class="cp">#define TEST_GRP_1			0x10</span>

<span class="cp">#define HSIC_INT			0x14</span>
<span class="cp">#define HSIC_INT_READY_INT_EN		(1&lt;&lt;10)</span>
<span class="cp">#define HSIC_INT_CONNECT_INT_EN		(1&lt;&lt;9)</span>
<span class="cp">#define HSIC_INT_CORE_INT_EN		(1&lt;&lt;8)</span>
<span class="cp">#define HSIC_INT_HS_READY		(1&lt;&lt;2)</span>
<span class="cp">#define HSIC_INT_CONNECT		(1&lt;&lt;1)</span>
<span class="cp">#define HSIC_INT_CORE			(1&lt;&lt;0)</span>

<span class="cp">#define HSIC_CONFIG			0x18</span>
<span class="cp">#define USBHSIC_CTRL			0x20</span>

<span class="cp">#define HSIC_USB_CTRL			0x28</span>
<span class="cp">#define HSIC_USB_CTRL_CLKEN		1</span>
<span class="cp">#define	HSIC_USB_CLK_PHY		0x0</span>
<span class="cp">#define HSIC_USB_CLK_PMU		0x1</span>

<span class="cp">#endif </span><span class="cm">/* __ASM_ARCH_PXA_U2O_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
