f | common.c | s | 17K | 557 | Marc Kleine-Budde | mkl@blackshift.org | 1340493542 |  | ARM: Kirkwood: clk_register_gate_fn: add fn assignment  In commit:     98d9986 ARM: Kirkwood: Replace clock gating the kirkwood clock gating has been reworked. A custom variant of clock gating, that calls a custom function before gating the clock off, has been introduced. However in clk_register_gate_fn() this custom function "fn" is never assigned.  This patch adds the missing fn assignment.  Cc: stable <stable@vger.kernel.org> Signed-off-by: Marc Kleine-Budde <mkl@blackshift.org> Tested-by: Andrew Lunn <andrew@lunn.ch> Acked-by: Andrew Lunn <andrew@lunn.ch> Signed-off-by: Olof Johansson <olof@lixom.net>
f | Makefile | g | 1.4K |  | Simon Baatz | gmbnomis@gmail.com | 1337051929 |  | ARM: kirkwood: Add support for RaidSonic IB-NAS6210/6220 using devicetree  Add support for the IB-NAS6210 and IB-NAS 6220. Describe as much as currently possible in the devicetree files, including the NAND partitions. Use the partition scheme of the original firmware by default.  Create a board-ib62x0.c for everything else.  Signed-off-by: Simon Baatz <gmbnomis@gmail.com> Signed-off-by: Jason Cooper <jason@lakedaemon.net>
f | openrd-setup.c | s | 5.8K | 219 | Axel Lin | axel.lin@gmail.com | 1328643653 |  | ASoC: Convert kirkwood-openrd to use snd_soc_register_card()  Use snd_soc_register_card() instead of creating a "soc-audio" platform device.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | board-dnskw.c | s | 6.2K | 248 | Jamie Lentin | jm@lentin.co.uk | 1337048881 |  | ARM: kirkwood: Basic support for DNS-320 and DNS-325  Add support for the DNS-320 and DNS-325. Describe as much as currently possible in the devicetree files, create a board-dnskw.c for everything else.  Changes since last submission (V3) [Addressing comments by]:-  * One MACH_DLINK_KIRKWOOD_DT for all dtb files [Grant Likely, Jason Cooper] * Drop brain-dead select "select CONFIG_MTD_OF_PARTS" [Grant Likely] * Don't add NAND support then throw it away immediately after [Grant Likely] * Describe purpose of MPP 41, 42 & 49  Changes since last submission (V2):-  * Use IEEE-compliant "okay", rather than "ok" [Scott Wood]  Signed-off-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Jason Cooper <jason@lakedaemon.net>
f | ts219-setup.c | s | 3.5K | 124 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | d2net_v2-setup.c | s | 6.4K | 200 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | cpuidle.c | s | 1.9K | 63 | Robert Lee | rob.lee@linaro.org | 1332309625 |  | ARM: kirkwood: Consolidate time keeping and irq enable  Enable core cpuidle timekeeping and irq enabling and remove that handling from this code.  Signed-off-by: Robert Lee <rob.lee@linaro.org> Reviewed-by: Kevin Hilman <khilman@ti.com> Reviewed-by: Daniel Lezcano <daniel.lezcano@linaro.org> Acked-by: Jean Pihet <j-pihet@ti.com> Signed-off-by: Len Brown <len.brown@intel.com>
f | tsx1x-common.h | s | 179B | 5 | Uwe Kleine-König | u.kleine-koenig@pengutronix.de | 1280136788 |  | ARM: 6265/1: kirkwood: move qnap_tsx1x_register_flash() to .init.text  qnap_tsx1x_register_flash is only called by qnap_ts219_init and qnap_ts41x_init which both live in .init.text, too.  So the move is OK.  This fixes the following warning in kirkwood_defconfig: 	WARNING: vmlinux.o(.text+0x9334): Section mismatch in reference from the function qnap_tsx1x_register_flash() to the variable .init.data:qnap_tsx1x_spi_slave_info 	The function qnap_tsx1x_register_flash() references 	the variable __initdata qnap_tsx1x_spi_slave_info. 	This is often because qnap_tsx1x_register_flash lacks a __initdata 	annotation or the annotation of qnap_tsx1x_spi_slave_info is wrong.  Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Acked-by: Nicolas Pitre <nico@fluxnic.net> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
d | include |  | 1 items |  | Andrew Lunn | andrew@lunn.ch | 1340493561 |  | ARM: Orion: Fix Virtual/Physical mixup with watchdog  The orion watchdog is expecting to be passed the physcial address of the hardware, and will ioremap() it to give a virtual address it will use as the base address for the hardware. However, when creating the platform resource record, a virtual address was being used.  Add the necassary #define's so we can pass the physical address as expected.  Tested on Kirkwood and Orion5x.  Cc: stable <stable@vger.kernel.org> Signed-off-by: Andrew Lunn <andrew@lunn.ch> Signed-off-by: Olof Johansson <olof@lixom.net>
f | guruplug-setup.c | s | 2.9K | 116 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | mv88f6281gtw_ge-setup.c | s | 4.1K | 154 | Andrew Lunn | andrew@lunn.ch | 1336520035 |  | ARM: Orion: SPI: Add clk/clkdev support.  Remove now redundant tclk from SPI platform data. This makes the platform data empty, so remove it.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
f | mpp.c | s | 1.0K | 37 | Andrew Lunn | andrew@lunn.ch | 1323820015 |  | ARM: Orion: Get address map from plat-orion instead of via platform_data  Use an getter function in plat-orion/addr-map.c to get the address map structure, rather than pass it to drivers in the platform_data structures. When the drivers are built for none orion platforms, a dummy function is provided instead which returns NULL.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Michael Walle <michael@walle.cc> Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Nicolas Pitre <nico@fluxnic.net>
f | board-dt.c | s | 2.3K | 76 | Linus Torvalds | torvalds@linux-foundation.org | 1338061349 |  | 
f | addr-map.c | s | 2.2K | 84 | Andrew Lunn | andrew@lunn.ch | 1323820015 |  | ARM: Orion: mbus_dram_info consolidation  Move the *_mbus_dram_info structure into the orion platform and call it orion_mbus_dram_info everywhere.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Michael Walle <michael@walle.cc> Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Nicolas Pitre <nico@fluxnic.net>
f | mpp.h | s | 18K | 291 | Andrew Lunn | andrew@lunn.ch | 1328832991 |  | ARM: orion: Fix Orion5x GPIO regression from MPP cleanup  Patchset "ARM: orion: Refactor the MPP code common in the orion platform" broke at least Orion5x based platforms. These platforms have pins configured as GPIO when the selector is not 0x0. However the common code assumes the selector is always 0x0 for a GPIO lines. It then ignores the GPIO bits in the MPP definitions, resulting in that Orion5x machines cannot correctly configure there GPIO lines.  The Fix removes the assumption that the selector is always 0x0. In order that none GPIO configurations are correctly blocked, Kirkwood and mv78xx0 MPP definitions are corrected to only set the GPIO bits for GPIO configurations.  This third version, which does not contain any whitespace changes, and is rebased on v3.3-rc2.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Olof Johansson <olof@lixom.net>
f | rd88f6192-nas-setup.c | s | 2.2K | 76 | Andrew Lunn | andrew@lunn.ch | 1336520035 |  | ARM: Orion: SPI: Add clk/clkdev support.  Remove now redundant tclk from SPI platform data. This makes the platform data empty, so remove it.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
f | pcie.c | s | 7.0K | 247 | Linus Torvalds | torvalds@linux-foundation.org | 1338061349 |  | 
f | t5325-setup.c | s | 4.6K | 194 | Andrew Lunn | andrew@lunn.ch | 1336520035 |  | ARM: Orion: SPI: Add clk/clkdev support.  Remove now redundant tclk from SPI platform data. This makes the platform data empty, so remove it.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
f | dockstar-setup.c | s | 2.5K | 98 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | irq.c | s | 1.5K | 43 | Russell King | rmk+kernel@arm.linux.org.uk | 1312810061 |  | ARM: gpio: convert includes of mach/gpio.h and asm/gpio.h to linux/gpio.h  Convert arch/arm includes of mach/gpio.h and asm/gpio.h to linux/gpio.h before we start consolidating the individual platform implementations of the gpio header files.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | board-dreamplug.c | s | 3.4K | 135 | Andrew Lunn | andrew@lunn.ch | 1336520035 |  | ARM: Orion: SPI: Add clk/clkdev support.  Remove now redundant tclk from SPI platform data. This makes the platform data empty, so remove it.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
f | db88f6281-bp-setup.c | s | 2.4K | 96 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | rd88f6281-setup.c | s | 2.9K | 108 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | sheevaplug-setup.c | s | 3.9K | 140 | Russell King | rmk+kernel@arm.linux.org.uk | 1325769927 |  | Merge branch 'restart' into for-linus  Conflicts: 	arch/arm/mach-exynos/cpu.c  The changes to arch/arm/mach-exynos/cpu.c were moved to mach-exynos/common.c.
f | Kconfig | g | 4.5K |  | Simon Baatz | gmbnomis@gmail.com | 1337051929 |  | ARM: kirkwood: Add support for RaidSonic IB-NAS6210/6220 using devicetree  Add support for the IB-NAS6210 and IB-NAS 6220. Describe as much as currently possible in the devicetree files, including the NAND partitions. Use the partition scheme of the original firmware by default.  Create a board-ib62x0.c for everything else.  Signed-off-by: Simon Baatz <gmbnomis@gmail.com> Signed-off-by: Jason Cooper <jason@lakedaemon.net>
f | tsx1x-common.c | s | 2.9K | 98 | Andrew Lunn | andrew@lunn.ch | 1336520035 |  | ARM: Orion: SPI: Add clk/clkdev support.  Remove now redundant tclk from SPI platform data. This makes the platform data empty, so remove it.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Tested-by: Jamie Lentin <jm@lentin.co.uk> Signed-off-by: Mike Turquette <mturquette@linaro.org>
f | lacie_v2-common.c | s | 2.9K | 98 | Simon Guinot | sguinot@lacie.com | 1287684838 |  | [ARM] Kirkwood: fix timer initialization for LaCie boards  Signed-off-by: Simon Guinot <sguinot@lacie.com> Acked-by: Lennert Buytenhek <buytenh@wantstofly.org> Signed-off-by: Nicolas Pitre <nico@fluxnic.net>
f | board-ib62x0.c | s | 3.1K | 129 | Simon Baatz | gmbnomis@gmail.com | 1337051929 |  | ARM: kirkwood: Add support for RaidSonic IB-NAS6210/6220 using devicetree  Add support for the IB-NAS6210 and IB-NAS 6220. Describe as much as currently possible in the devicetree files, including the NAND partitions. Use the partition scheme of the original firmware by default.  Create a board-ib62x0.c for everything else.  Signed-off-by: Simon Baatz <gmbnomis@gmail.com> Signed-off-by: Jason Cooper <jason@lakedaemon.net>
f | common.h | s | 2.5K | 78 | Linus Torvalds | torvalds@linux-foundation.org | 1338061349 |  | 
f | ts41x-setup.c | s | 4.5K | 162 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | netspace_v2-setup.c | s | 8.0K | 255 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | lacie_v2-common.h | s | 457B | 13 | Simon Guinot | sguinot@lacie.com | 1287684838 |  | [ARM] Kirkwood: fix timer initialization for LaCie boards  Signed-off-by: Simon Guinot <sguinot@lacie.com> Acked-by: Lennert Buytenhek <buytenh@wantstofly.org> Signed-off-by: Nicolas Pitre <nico@fluxnic.net>
f | Makefile.boot | g | 371B |  | Simon Baatz | gmbnomis@gmail.com | 1337051929 |  | ARM: kirkwood: Add support for RaidSonic IB-NAS6210/6220 using devicetree  Add support for the IB-NAS6210 and IB-NAS 6220. Describe as much as currently possible in the devicetree files, including the NAND partitions. Use the partition scheme of the original firmware by default.  Create a board-ib62x0.c for everything else.  Signed-off-by: Simon Baatz <gmbnomis@gmail.com> Signed-off-by: Jason Cooper <jason@lakedaemon.net>
f | board-iconnect.c | s | 3.4K | 147 | Andrew Lunn | andrew@lunn.ch | 1339955509 |  | ARM: iconnect: Remove include of removed linux/spi/orion_spi.h  v3.5-rc1 fails to build when DT and iconnect is enabled because of this now none existant include file.  Also remove the other two SPI include files, which are not needed with the move to DT.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Acked-by: Arnaud Patard <arnaud.patard@rtp-net.org> Signed-off-by: Olof Johansson <olof@lixom.net>
f | netxbig_v2-setup.c | s | 12K | 383 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768234 |  | ARM: restart: kirkwood: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Nicolas Pitre <nico@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
