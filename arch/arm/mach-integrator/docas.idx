f | pci.c | s | 2.9K | 101 | Russell King | rmk+kernel@arm.linux.org.uk | 1336925537 |  | ARM: PCI: provide a default bus scan implementation  Most PCI implementations perform simple root bus scanning.  Rather than having each group of platforms provide a duplicated bus scan function, provide the PCI configuration ops structure via the hw_pci structure, and call the root bus scanning function from core ARM PCI code.  Acked-by: Krzysztof Hałasa <khc@pm.waw.pl> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | pci_v3.c | s | 16K | 527 | Russell King | rmk+kernel@arm.linux.org.uk | 1336925537 |  | ARM: PCI: provide a default bus scan implementation  Most PCI implementations perform simple root bus scanning.  Rather than having each group of platforms provide a duplicated bus scan function, provide the PCI configuration ops structure via the hw_pci structure, and call the root bus scanning function from core ARM PCI code.  Acked-by: Krzysztof Hałasa <khc@pm.waw.pl> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | integrator_cp.c | s | 11K | 391 | Linus Walleij | linus.walleij@linaro.org | 1336146817 |  | ARM: 7389/2: plat-versatile: modernize FPGA IRQ controller  This does two things to the FPGA IRQ controller in the versatile family:  - Convert to MULTI_IRQ_HANDLER so we can drop the entry macro   from the Integrator. The C IRQ handler was inspired from   arch/arm/common/vic.c, recent bug discovered in this handler was   accounted for. - Convert to using IRQ domains so we can get rid of the NO_IRQ   mess and proceed with device tree and such stuff.  As part of the exercise, bump all the low IRQ numbers on the Integrator PIC to start from 1 rather than 0, since IRQ 0 is now NO_IRQ. The Linux IRQ numbers are thus entirely decoupled from the hardware IRQ numbers in this controller.  I was unable to split this patch. The main reason is the half-done conversion to device tree in Versatile.  Tested on Integrator/AP and Integrator/CP.  Cc: Grant Likely <grant.likely@secretlab.ca> Acked-by: Rob Herring <rob.herring@calxeda.com> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Makefile | g | 345B |  | Russell King | rmk+kernel@arm.linux.org.uk | 1272789333 |  | ARM: Realview/Versatile/Integrator: separate out common clock code  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
d | include |  | 1 items |  | Linus Walleij | linus.walleij@linaro.org | 1336146817 |  | ARM: 7389/2: plat-versatile: modernize FPGA IRQ controller  This does two things to the FPGA IRQ controller in the versatile family:  - Convert to MULTI_IRQ_HANDLER so we can drop the entry macro   from the Integrator. The C IRQ handler was inspired from   arch/arm/common/vic.c, recent bug discovered in this handler was   accounted for. - Convert to using IRQ domains so we can get rid of the NO_IRQ   mess and proceed with device tree and such stuff.  As part of the exercise, bump all the low IRQ numbers on the Integrator PIC to start from 1 rather than 0, since IRQ 0 is now NO_IRQ. The Linux IRQ numbers are thus entirely decoupled from the hardware IRQ numbers in this controller.  I was unable to split this patch. The main reason is the half-done conversion to device tree in Versatile.  Tested on Integrator/AP and Integrator/CP.  Cc: Grant Likely <grant.likely@secretlab.ca> Acked-by: Rob Herring <rob.herring@calxeda.com> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Kconfig | g | 1.0K |  | Linus Walleij | linus.walleij@linaro.org | 1324681090 |  | ARM: 7239/1: integrator: explicitly select the serial drivers  The defconfig for the Integrator only include the serial drivers for the PL010 as found in the Integrator/AP, to make sure we don't loose the serial console we simply select both PL010 and PL011 drivers from the Integrator Kconfig entries so they are always included when applicable.  Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | cpu.c | s | 5.1K | 181 | Russell King | rmk+kernel@arm.linux.org.uk | 1294753697 |  | ARM: integrator: fix compile warning in cpu.c  Fix: arch/arm/mach-integrator/cpu.c: In function ■integrator_get■: arch/arm/mach-integrator/cpu.c:164: warning: ■vco.s■ may be used uninitialized in this function  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | leds.c | s | 2.2K | 76 | David Howells | dhowells@redhat.com | 1332955801 |  | Disintegrate asm/system.h for ARM  Disintegrate asm/system.h for ARM.  Signed-off-by: David Howells <dhowells@redhat.com> cc: Russell King <linux@arm.linux.org.uk> cc: linux-arm-kernel@lists.infradead.org
f | impd1.c | s | 10K | 411 | Linus Walleij | linus.walleij@linaro.org | 1334860294 |  | ARM: 7371/1: integrator: factor out dynamic amba device allocator  Replace the local amba device allocator with the core code from the bus driver.  Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | integrator_ap.c | s | 11K | 408 | Linus Walleij | linus.walleij@linaro.org | 1336146817 |  | ARM: 7389/2: plat-versatile: modernize FPGA IRQ controller  This does two things to the FPGA IRQ controller in the versatile family:  - Convert to MULTI_IRQ_HANDLER so we can drop the entry macro   from the Integrator. The C IRQ handler was inspired from   arch/arm/common/vic.c, recent bug discovered in this handler was   accounted for. - Convert to using IRQ domains so we can get rid of the NO_IRQ   mess and proceed with device tree and such stuff.  As part of the exercise, bump all the low IRQ numbers on the Integrator PIC to start from 1 rather than 0, since IRQ 0 is now NO_IRQ. The Linux IRQ numbers are thus entirely decoupled from the hardware IRQ numbers in this controller.  I was unable to split this patch. The main reason is the half-done conversion to device tree in Versatile.  Tested on Integrator/AP and Integrator/CP.  Cc: Grant Likely <grant.likely@secretlab.ca> Acked-by: Rob Herring <rob.herring@calxeda.com> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | core.c | s | 4.9K | 180 | Linus Torvalds | torvalds@linux-foundation.org | 1333065228 |  | Merge branch 'for-linus' of git://git.linaro.org/people/rmk/linux-arm  Pull more ARM updates from Russell King.  This got a fair number of conflicts with the <asm/system.h> split, but also with some other sparse-irq and header file include cleanups.  They all looked pretty trivial, though.  * 'for-linus' of git://git.linaro.org/people/rmk/linux-arm: (59 commits)   ARM: fix Kconfig warning for HAVE_BPF_JIT   ARM: 7361/1: provide XIP_VIRT_ADDR for no-MMU builds   ARM: 7349/1: integrator: convert to sparse irqs   ARM: 7259/3: net: JIT compiler for packet filters   ARM: 7334/1: add jump label support   ARM: 7333/2: jump label: detect %c support for ARM   ARM: 7338/1: add support for early console output via semihosting   ARM: use set_current_blocked() and block_sigmask()   ARM: exec: remove redundant set_fs(USER_DS)   ARM: 7332/1: extract out code patch function from kprobes   ARM: 7331/1: extract out insn generation code from ftrace   ARM: 7330/1: ftrace: use canonical Thumb-2 wide instruction format   ARM: 7351/1: ftrace: remove useless memory checks   ARM: 7316/1: kexec: EOI active and mask all interrupts in kexec crash path   ARM: Versatile Express: add NO_IOPORT   ARM: get rid of asm/irq.h in asm/prom.h   ARM: 7319/1: Print debug info for SIGBUS in user faults   ARM: 7318/1: gic: refactor irq_start assignment   ARM: 7317/1: irq: avoid NULL check in for_each_irq_desc loop   ARM: 7315/1: perf: add support for the Cortex-A7 PMU   ...
f | lm.c | s | 2.1K | 80 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | common.h | s | 110B | 3 | Russell King | rmk+kernel@arm.linux.org.uk | 1325768233 |  | ARM: restart: integrator: use new restart hook  Hook these platforms restart code into the new restart hook rather than using arch_reset().  Acked-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Makefile.boot | g | 85B |  | Sascha Hauer | s.hauer@pengutronix.de | 1318839160 |  | ARM: 7022/1: allow to detect conflicting zreladdrs  Boards used to specify zreladdr in their Makefile.boot with zreladdr-y := x, so conflicting zreladdrs were silently overwritten. This patch changes this to zreladdr-y += x, so that we end up with multiple words in zreladdr in such a case. We can detect this later and complain if necessary.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
