<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-sa1100 › include › mach › SA-1101.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>SA-1101.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * SA-1101.h</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) Peter Danielsson 1999</span>
<span class="cm"> *</span>
<span class="cm"> * Definition of constants related to the sa1101</span>
<span class="cm"> * support chip for the sa1100</span>
<span class="cm"> *</span>
<span class="cm"> */</span>


<span class="cm">/* Be sure that virtual mapping is defined right */</span>
<span class="cp">#ifndef __ASM_ARCH_HARDWARE_H</span>
<span class="cp">#error You must include hardware.h not SA-1101.h</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef SA1101_BASE</span>
<span class="cp">#error You must define SA-1101 physical base address</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef LANGUAGE</span>
<span class="cp"># ifdef __ASSEMBLY__</span>
<span class="cp">#  define LANGUAGE Assembly</span>
<span class="cp"># else</span>
<span class="cp">#  define LANGUAGE C</span>
<span class="cp"># endif</span>
<span class="cp">#endif</span>

<span class="cm">/*</span>
<span class="cm"> * We have mapped the sa1101 depending on the value of SA1101_BASE.</span>
<span class="cm"> * It then appears from 0xf4000000.</span>
<span class="cm"> */</span>

<span class="cp">#define SA1101_p2v( x )         ((x) - SA1101_BASE + 0xf4000000)</span>
<span class="cp">#define SA1101_v2p( x )         ((x) - 0xf4000000  + SA1101_BASE)</span>

<span class="cp">#ifndef SA1101_p2v</span>
<span class="cp">#define SA1101_p2v(PhAdd)  (PhAdd)</span>
<span class="cp">#endif</span>

<span class="cp">#include &lt;mach/bitfield.h&gt;</span>

<span class="cp">#define C               0</span>
<span class="cp">#define Assembly        1</span>


<span class="cm">/*</span>
<span class="cm"> * Memory map</span>
<span class="cm"> */</span>

<span class="cp">#define __SHMEM_CONTROL0	0x00000000</span>
<span class="cp">#define __SYSTEM_CONTROL1	0x00000400</span>
<span class="cp">#define __ARBITER		0x00020000</span>
<span class="cp">#define __SYSTEM_CONTROL2	0x00040000</span>
<span class="cp">#define __SYSTEM_CONTROL3	0x00060000</span>
<span class="cp">#define __PARALLEL_PORT		0x00080000</span>
<span class="cp">#define __VIDMEM_CONTROL	0x00100000</span>
<span class="cp">#define __UPDATE_FIFO		0x00120000</span>
<span class="cp">#define __SHMEM_CONTROL1	0x00140000</span>
<span class="cp">#define __INTERRUPT_CONTROL	0x00160000</span>
<span class="cp">#define __USB_CONTROL		0x00180000</span>
<span class="cp">#define __TRACK_INTERFACE	0x001a0000</span>
<span class="cp">#define __MOUSE_INTERFACE	0x001b0000</span>
<span class="cp">#define __KEYPAD_INTERFACE	0x001c0000</span>
<span class="cp">#define __PCMCIA_INTERFACE	0x001e0000</span>
<span class="cp">#define	__VGA_CONTROL		0x00200000</span>
<span class="cp">#define __GPIO_INTERFACE	0x00300000</span>

<span class="cm">/*</span>
<span class="cm"> * Macro that calculates real address for registers in the SA-1101</span>
<span class="cm"> */</span>

<span class="cp">#define _SA1101( x )    ((x) + SA1101_BASE)</span>

<span class="cm">/*</span>
<span class="cm"> * Interface and shared memory controller registers</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *	SKCR		SA-1101 control register (read/write)</span>
<span class="cm"> *	SMCR		Shared Memory Controller Register</span>
<span class="cm"> *	SNPR		Snoop Register</span>
<span class="cm"> */</span>

<span class="cp">#define _SKCR		_SA1101( 0x00000000 ) </span><span class="cm">/* SA-1101 Control Reg. */</span><span class="cp"></span>
<span class="cp">#define _SMCR		_SA1101( 0x00140000 ) </span><span class="cm">/* Shared Mem. Control Reg. */</span><span class="cp"></span>
<span class="cp">#define _SNPR		_SA1101( 0x00140400 ) </span><span class="cm">/* Snoop Reg. */</span><span class="cp"></span>

<span class="cp">#if LANGUAGE == C</span>
<span class="cp">#define SKCR		(*((volatile Word *) SA1101_p2v (_SKCR)))</span>
<span class="cp">#define SMCR		(*((volatile Word *) SA1101_p2v (_SMCR)))</span>
<span class="cp">#define SNPR		(*((volatile Word *) SA1101_p2v (_SNPR)))</span>

<span class="cp">#define SKCR_PLLEn	  0x0001	  </span><span class="cm">/* Enable On-Chip PLL */</span><span class="cp"></span>
<span class="cp">#define SKCR_BCLKEn	  0x0002	  </span><span class="cm">/* Enables BCLK */</span><span class="cp"></span>
<span class="cp">#define SKCR_Sleep	  0x0004	  </span><span class="cm">/* Sleep Mode */</span><span class="cp"></span>
<span class="cp">#define SKCR_IRefEn	  0x0008	  </span><span class="cm">/* DAC Iref input enable */</span><span class="cp"></span>
<span class="cp">#define SKCR_VCOON	  0x0010	  </span><span class="cm">/* VCO bias */</span><span class="cp"></span>
<span class="cp">#define SKCR_ScanTestEn	  0x0020	  </span><span class="cm">/* Enables scan test */</span><span class="cp"></span>
<span class="cp">#define SKCR_ClockTestEn  0x0040	  </span><span class="cm">/* Enables clock test */</span><span class="cp"></span>

<span class="cp">#define SMCR_DCAC	  Fld(2,0)	  </span><span class="cm">/* Number of column address bits */</span><span class="cp"></span>
<span class="cp">#define SMCR_DRAC	  Fld(2,2)	  </span><span class="cm">/* Number of row address bits */</span><span class="cp"></span>
<span class="cp">#define SMCR_ArbiterBias  0x0008	  </span><span class="cm">/* favor video or USB */</span><span class="cp"></span>
<span class="cp">#define SMCR_TopVidMem	  Fld(4,5)	  </span><span class="cm">/* Top 4 bits of vidmem addr. */</span><span class="cp"></span>

<span class="cp">#define SMCR_ColAdrBits( x )		  </span><span class="cm">/* col. addr bits 8..11 */</span><span class="cp"> \</span>
<span class="cp">	(( (x) - 8 ) &lt;&lt; FShft (SMCR_DCAC))</span>
<span class="cp">#define SMCR_RowAdrBits( x )		  </span><span class="cm">/* row addr bits 9..12 */</span><span class="cp">\</span>
<span class="cp">	(( (x) - 9 ) &lt;&lt; FShft (SMCR_DRAC))</span>

<span class="cp">#define SNPR_VFBstart	  Fld(12,0)	</span><span class="cm">/* Video frame buffer addr */</span><span class="cp"></span>
<span class="cp">#define SNPR_VFBsize	  Fld(11,12)	</span><span class="cm">/* Video frame buffer size */</span><span class="cp"></span>
<span class="cp">#define SNPR_WholeBank	  (1 &lt;&lt; 23)	</span><span class="cm">/* Whole bank bit */</span><span class="cp"></span>
<span class="cp">#define SNPR_BankSelect	  Fld(2,27)	</span><span class="cm">/* Bank select */</span><span class="cp"></span>
<span class="cp">#define SNPR_SnoopEn	  (1 &lt;&lt; 31)	</span><span class="cm">/* Enable snoop operation */</span><span class="cp"></span>

<span class="cp">#define SNPR_Set_VFBsize( x )   </span><span class="cm">/* set frame buffer size (in kb) */</span><span class="cp"> \</span>
<span class="cp">	( (x) &lt;&lt; FShft (SNPR_VFBsize))</span>
<span class="cp">#define SNPR_Select_Bank(x)     </span><span class="cm">/* select bank 0 or 1 */</span><span class="cp">  \</span>
<span class="cp">	(( (x) + 1 ) &lt;&lt; FShft (SNPR_BankSelect ))</span>

<span class="cp">#endif </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Video Memory Controller</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    VMCCR	Configuration register</span>
<span class="cm"> *    VMCAR	VMC address register</span>
<span class="cm"> *    VMCDR	VMC data register</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#define _VMCCR		_SA1101( 0x00100000 )	</span><span class="cm">/* Configuration register */</span><span class="cp"></span>
<span class="cp">#define _VMCAR		_SA1101( 0x00101000 )	</span><span class="cm">/* VMC address register */</span><span class="cp"></span>
<span class="cp">#define _VMCDR		_SA1101( 0x00101400 )	</span><span class="cm">/* VMC data register */</span><span class="cp"></span>

<span class="cp">#if LANGUAGE == C</span>
<span class="cp">#define VMCCR		(*((volatile Word *) SA1101_p2v (_VMCCR)))</span>
<span class="cp">#define VMCAR		(*((volatile Word *) SA1101_p2v (_VMCAR)))</span>
<span class="cp">#define VMCDR		(*((volatile Word *) SA1101_p2v (_VMCDR)))</span>

<span class="cp">#define VMCCR_RefreshEn	    0x0000	  </span><span class="cm">/* Enable memory refresh */</span><span class="cp"></span>
<span class="cp">#define VMCCR_Config	    0x0001	  </span><span class="cm">/* DRAM size */</span><span class="cp"></span>
<span class="cp">#define VMCCR_RefPeriod	    Fld(2,3)	  </span><span class="cm">/* Refresh period */</span><span class="cp"></span>
<span class="cp">#define VMCCR_StaleDataWait Fld(4,5)	  </span><span class="cm">/* Stale FIFO data timeout counter */</span><span class="cp"></span>
<span class="cp">#define VMCCR_SleepState    (1&lt;&lt;9)	  </span><span class="cm">/* State of interface pins in sleep*/</span><span class="cp"></span>
<span class="cp">#define VMCCR_RefTest	    (1&lt;&lt;10)	  </span><span class="cm">/* refresh test */</span><span class="cp"></span>
<span class="cp">#define VMCCR_RefLow	    Fld(6,11)	  </span><span class="cm">/* refresh low counter */</span><span class="cp"></span>
<span class="cp">#define VMCCR_RefHigh	    Fld(7,17)	  </span><span class="cm">/* refresh high counter */</span><span class="cp"></span>
<span class="cp">#define VMCCR_SDTCTest	    Fld(7,24)	  </span><span class="cm">/* stale data timeout counter */</span><span class="cp"></span>
<span class="cp">#define VMCCR_ForceSelfRef  (1&lt;&lt;31)	  </span><span class="cm">/* Force self refresh */</span><span class="cp"></span>

<span class="cp">#endif LANGUAGE == C</span>


<span class="cm">/* Update FIFO</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    UFCR	Update FIFO Control Register</span>
<span class="cm"> *    UFSR	Update FIFO Status Register</span>
<span class="cm"> *    UFLVLR	update FIFO level register</span>
<span class="cm"> *    UFDR	update FIFO data register</span>
<span class="cm"> */</span>

<span class="cp">#define _UFCR	_SA1101(0x00120000)   </span><span class="cm">/* Update FIFO Control Reg. */</span><span class="cp"></span>
<span class="cp">#define _UFSR	_SA1101(0x00120400)   </span><span class="cm">/* Update FIFO Status Reg. */</span><span class="cp">	</span>
<span class="cp">#define _UFLVLR	_SA1101(0x00120800)   </span><span class="cm">/* Update FIFO level reg. */</span><span class="cp"></span>
<span class="cp">#define _UFDR	_SA1101(0x00120c00)   </span><span class="cm">/* Update FIFO data reg. */</span><span class="cp"></span>

<span class="cp">#if LANGUAGE == C</span>

<span class="cp">#define UFCR 	(*((volatile Word *) SA1101_p2v (_UFCR)))</span>
<span class="cp">#define UFSR	(*((volatile Word *) SA1101_p2v (_UFSR)))</span>
<span class="cp">#define UFLVLR	(*((volatile Word *) SA1101_p2v (_UFLVLR))) </span>
<span class="cp">#define UFDR	(*((volatile Word *) SA1101_p2v (_UFDR)))</span>


<span class="cp">#define UFCR_FifoThreshhold	Fld(7,0)	</span><span class="cm">/* Level for FifoGTn flag */</span><span class="cp"></span>

<span class="cp">#define UFSR_FifoGTnFlag	0x01		</span><span class="cm">/* FifoGTn flag */</span><span class="cp">#define UFSR_FifoEmpty		0x80		</span><span class="cm">/* FIFO is empty */</span><span class="cp"></span>

<span class="cp">#endif </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>

<span class="cm">/* System Controller</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    SKPCR	Power Control Register</span>
<span class="cm"> *    SKCDR	Clock Divider Register</span>
<span class="cm"> *    DACDR1	DAC1 Data register</span>
<span class="cm"> *    DACDR2	DAC2 Data register</span>
<span class="cm"> */</span>

<span class="cp">#define _SKPCR		_SA1101(0x00000400)</span>
<span class="cp">#define _SKCDR		_SA1101(0x00040000)</span>
<span class="cp">#define _DACDR1		_SA1101(0x00060000)</span>
<span class="cp">#define _DACDR2		_SA1101(0x00060400)</span>

<span class="cp">#if LANGUAGE == C</span>
<span class="cp">#define SKPCR 	(*((volatile Word *) SA1101_p2v (_SKPCR)))</span>
<span class="cp">#define SKCDR	(*((volatile Word *) SA1101_p2v (_SKCDR)))</span>
<span class="cp">#define DACDR1	(*((volatile Word *) SA1101_p2v (_DACDR1)))</span>
<span class="cp">#define DACDR2	(*((volatile Word *) SA1101_p2v (_DACDR2)))</span>

<span class="cp">#define SKPCR_UCLKEn	     0x01    </span><span class="cm">/* USB Enable */</span><span class="cp"></span>
<span class="cp">#define SKPCR_PCLKEn	     0x02    </span><span class="cm">/* PS/2 Enable */</span><span class="cp"></span>
<span class="cp">#define SKPCR_ICLKEn	     0x04    </span><span class="cm">/* Interrupt Controller Enable */</span><span class="cp"></span>
<span class="cp">#define SKPCR_VCLKEn	     0x08    </span><span class="cm">/* Video Controller Enable */</span><span class="cp"></span>
<span class="cp">#define SKPCR_PICLKEn	     0x10    </span><span class="cm">/* parallel port Enable */</span><span class="cp"></span>
<span class="cp">#define SKPCR_DCLKEn	     0x20    </span><span class="cm">/* DACs Enable */</span><span class="cp"></span>
<span class="cp">#define SKPCR_nKPADEn	     0x40    </span><span class="cm">/* Multiplexer */</span><span class="cp"></span>

<span class="cp">#define SKCDR_PLLMul	     Fld(7,0)	</span><span class="cm">/* PLL Multiplier */</span><span class="cp"></span>
<span class="cp">#define SKCDR_VCLKEn	     Fld(2,7)	</span><span class="cm">/* Video controller clock divider */</span><span class="cp"></span>
<span class="cp">#define SKDCR_BCLKEn	     (1&lt;&lt;9)	</span><span class="cm">/* BCLK Divider */</span><span class="cp"></span>
<span class="cp">#define SKDCR_UTESTCLKEn     (1&lt;&lt;10)	</span><span class="cm">/* Route USB clock during test mode */</span><span class="cp"></span>
<span class="cp">#define SKDCR_DivRValue	     Fld(6,11)	</span><span class="cm">/* Input clock divider for PLL */</span><span class="cp"></span>
<span class="cp">#define SKDCR_DivNValue	     Fld(5,17)	</span><span class="cm">/* Output clock divider for PLL */</span><span class="cp"></span>
<span class="cp">#define SKDCR_PLLRSH	     Fld(3,22)	</span><span class="cm">/* PLL bandwidth control */</span><span class="cp"></span>
<span class="cp">#define SKDCR_ChargePump     (1&lt;&lt;25)	</span><span class="cm">/* Charge pump control */</span><span class="cp"></span>
<span class="cp">#define SKDCR_ClkTestMode    (1&lt;&lt;26)	</span><span class="cm">/* Clock output test mode */</span><span class="cp"></span>
<span class="cp">#define SKDCR_ClkTestEn	     (1&lt;&lt;27)	</span><span class="cm">/* Test clock generator */</span><span class="cp"></span>
<span class="cp">#define SKDCR_ClkJitterCntl  Fld(3,28)	</span><span class="cm">/* video clock jitter compensation */</span><span class="cp"></span>

<span class="cp">#define DACDR_DACCount	     Fld(8,0)	</span><span class="cm">/* Count value */</span><span class="cp"></span>
<span class="cp">#define DACDR1_DACCount	     DACDR_DACCount</span>
<span class="cp">#define DACDR2_DACCount	     DACDR_DACCount</span>

<span class="cp">#endif </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Parallel Port Interface</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    IEEE_Config	IEEE mode selection and programmable attributes</span>
<span class="cm"> *    IEEE_Control	Controls the states of IEEE port control outputs</span>
<span class="cm"> *    IEEE_Data		Forward transfer data register</span>
<span class="cm"> *    IEEE_Addr		Forward transfer address register</span>
<span class="cm"> *    IEEE_Status	Port IO signal status register</span>
<span class="cm"> *    IEEE_IntStatus	Port interrupts status register</span>
<span class="cm"> *    IEEE_FifoLevels   Rx and Tx FIFO interrupt generation levels</span>
<span class="cm"> *    IEEE_InitTime	Forward timeout counter initial value</span>
<span class="cm"> *    IEEE_TimerStatus	Forward timeout counter current value</span>
<span class="cm"> *    IEEE_FifoReset	Reset forward transfer FIFO</span>
<span class="cm"> *    IEEE_ReloadValue	Counter reload value</span>
<span class="cm"> *    IEEE_TestControl	Control testmode</span>
<span class="cm"> *    IEEE_TestDataIn	Test data register</span>
<span class="cm"> *    IEEE_TestDataInEn	Enable test data</span>
<span class="cm"> *    IEEE_TestCtrlIn	Test control signals</span>
<span class="cm"> *    IEEE_TestCtrlInEn	Enable test control signals</span>
<span class="cm"> *    IEEE_TestDataStat	Current data bus value</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * The control registers are defined as offsets from a base address </span>
<span class="cm"> */</span>
 
<span class="cp">#define _IEEE( x ) _SA1101( (x) + __PARALLEL_PORT )</span>

<span class="cp">#define _IEEE_Config	    _IEEE( 0x0000 )</span>
<span class="cp">#define _IEEE_Control	    _IEEE( 0x0400 )</span>
<span class="cp">#define _IEEE_Data	    _IEEE( 0x4000 )</span>
<span class="cp">#define _IEEE_Addr	    _IEEE( 0x0800 )</span>
<span class="cp">#define _IEEE_Status	    _IEEE( 0x0c00 )</span>
<span class="cp">#define _IEEE_IntStatus	    _IEEE( 0x1000 )</span>
<span class="cp">#define _IEEE_FifoLevels    _IEEE( 0x1400 )</span>
<span class="cp">#define _IEEE_InitTime	    _IEEE( 0x1800 )</span>
<span class="cp">#define _IEEE_TimerStatus   _IEEE( 0x1c00 )</span>
<span class="cp">#define _IEEE_FifoReset	    _IEEE( 0x2000 )</span>
<span class="cp">#define _IEEE_ReloadValue   _IEEE( 0x3c00 )</span>
<span class="cp">#define _IEEE_TestControl   _IEEE( 0x2400 )</span>
<span class="cp">#define _IEEE_TestDataIn    _IEEE( 0x2800 )</span>
<span class="cp">#define _IEEE_TestDataInEn  _IEEE( 0x2c00 )</span>
<span class="cp">#define _IEEE_TestCtrlIn    _IEEE( 0x3000 )</span>
<span class="cp">#define _IEEE_TestCtrlInEn  _IEEE( 0x3400 )</span>
<span class="cp">#define _IEEE_TestDataStat  _IEEE( 0x3800 )</span>
 

<span class="cp">#if LANGUAGE == C</span>
<span class="cp">#define IEEE_Config	    (*((volatile Word *) SA1101_p2v (_IEEE_Config)))</span>
<span class="cp">#define IEEE_Control	    (*((volatile Word *) SA1101_p2v (_IEEE_Control)))</span>
<span class="cp">#define IEEE_Data	    (*((volatile Word *) SA1101_p2v (_IEEE_Data)))</span>
<span class="cp">#define IEEE_Addr	    (*((volatile Word *) SA1101_p2v (_IEEE_Addr)))</span>
<span class="cp">#define IEEE_Status	    (*((volatile Word *) SA1101_p2v (_IEEE_Status)))</span>
<span class="cp">#define IEEE_IntStatus	    (*((volatile Word *) SA1101_p2v (_IEEE_IntStatus)))</span>
<span class="cp">#define IEEE_FifoLevels	    (*((volatile Word *) SA1101_p2v (_IEEE_FifoLevels)))</span>
<span class="cp">#define IEEE_InitTime	    (*((volatile Word *) SA1101_p2v (_IEEE_InitTime)))</span>
<span class="cp">#define IEEE_TimerStatus    (*((volatile Word *) SA1101_p2v (_IEEE_TimerStatus)))</span>
<span class="cp">#define IEEE_FifoReset	    (*((volatile Word *) SA1101_p2v (_IEEE_FifoReset)))</span>
<span class="cp">#define IEEE_ReloadValue    (*((volatile Word *) SA1101_p2v (_IEEE_ReloadValue)))</span>
<span class="cp">#define IEEE_TestControl    (*((volatile Word *) SA1101_p2v (_IEEE_TestControl)))</span>
<span class="cp">#define IEEE_TestDataIn     (*((volatile Word *) SA1101_p2v (_IEEE_TestDataIn)))</span>
<span class="cp">#define IEEE_TestDataInEn   (*((volatile Word *) SA1101_p2v (_IEEE_TestDataInEn)))</span>
<span class="cp">#define IEEE_TestCtrlIn     (*((volatile Word *) SA1101_p2v (_IEEE_TestCtrlIn)))</span>
<span class="cp">#define IEEE_TestCtrlInEn   (*((volatile Word *) SA1101_p2v (_IEEE_TestCtrlInEn)))</span>
<span class="cp">#define IEEE_TestDataStat   (*((volatile Word *) SA1101_p2v (_IEEE_TestDataStat)))</span>


<span class="cp">#define IEEE_Config_M	    Fld(3,0)	 </span><span class="cm">/* Mode select */</span><span class="cp"></span>
<span class="cp">#define IEEE_Config_D	    0x04	 </span><span class="cm">/* FIFO access enable */</span><span class="cp"></span>
<span class="cp">#define IEEE_Config_B	    0x08	 </span><span class="cm">/* 9-bit word enable */</span><span class="cp"></span>
<span class="cp">#define IEEE_Config_T	    0x10	 </span><span class="cm">/* Data transfer enable */</span><span class="cp"></span>
<span class="cp">#define IEEE_Config_A	    0x20	 </span><span class="cm">/* Data transfer direction */</span><span class="cp"></span>
<span class="cp">#define IEEE_Config_E	    0x40	 </span><span class="cm">/* Timer enable */</span><span class="cp"></span>
<span class="cp">#define IEEE_Control_A	    0x08	 </span><span class="cm">/* AutoFd output */</span><span class="cp"></span>
<span class="cp">#define IEEE_Control_E	    0x04	 </span><span class="cm">/* Selectin output */</span><span class="cp"></span>
<span class="cp">#define IEEE_Control_T	    0x02	 </span><span class="cm">/* Strobe output */</span><span class="cp"></span>
<span class="cp">#define IEEE_Control_I	    0x01	 </span><span class="cm">/* Port init output */</span><span class="cp"></span>
<span class="cp">#define IEEE_Data_C	    (1&lt;&lt;31)	 </span><span class="cm">/* Byte count */</span><span class="cp"></span>
<span class="cp">#define IEEE_Data_Db	    Fld(9,16)	 </span><span class="cm">/* Data byte 2 */</span><span class="cp"></span>
<span class="cp">#define IEEE_Data_Da	    Fld(9,0)	 </span><span class="cm">/* Data byte 1 */</span><span class="cp"></span>
<span class="cp">#define IEEE_Addr_A	    Fld(8,0)	 </span><span class="cm">/* forward address transfer byte */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_A	    0x0100	 </span><span class="cm">/* nAutoFd port output status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_E	    0x0080	 </span><span class="cm">/* nSelectIn port output status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_T	    0x0040	 </span><span class="cm">/* nStrobe port output status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_I	    0x0020	 </span><span class="cm">/* nInit port output status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_B	    0x0010	 </span><span class="cm">/* Busy port inout status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_S	    0x0008	 </span><span class="cm">/* Select port input status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_K	    0x0004	 </span><span class="cm">/* nAck port input status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_F	    0x0002	 </span><span class="cm">/* nFault port input status */</span><span class="cp"></span>
<span class="cp">#define IEEE_Status_R	    0x0001	 </span><span class="cm">/* pError port input status */</span><span class="cp"></span>

<span class="cp">#define IEEE_IntStatus_IntReqDat	 0x0100</span>
<span class="cp">#define IEEE_IntStatus_IntReqEmp	 0x0080</span>
<span class="cp">#define IEEE_IntStatus_IntReqInt	 0x0040</span>
<span class="cp">#define IEEE_IntStatus_IntReqRav	 0x0020</span>
<span class="cp">#define IEEE_IntStatus_IntReqTim	 0x0010</span>
<span class="cp">#define IEEE_IntStatus_RevAddrComp	 0x0008</span>
<span class="cp">#define IEEE_IntStatus_RevDataComp	 0x0004</span>
<span class="cp">#define IEEE_IntStatus_FwdAddrComp	 0x0002</span>
<span class="cp">#define IEEE_IntStatus_FwdDataComp	 0x0001</span>
<span class="cp">#define IEEE_FifoLevels_RevFifoLevel	 2</span>
<span class="cp">#define IEEE_FifoLevels_FwdFifoLevel	 1</span>
<span class="cp">#define IEEE_InitTime_TimValInit	 Fld(22,0)</span>
<span class="cp">#define IEEE_TimerStatus_TimValStat	 Fld(22,0)</span>
<span class="cp">#define IEEE_ReloadValue_Reload		 Fld(4,0)</span>

<span class="cp">#define IEEE_TestControl_RegClk		 0x04</span>
<span class="cp">#define IEEE_TestControl_ClockSelect	 Fld(2,1)</span>
<span class="cp">#define IEEE_TestControl_TimerTestModeEn 0x01</span>
<span class="cp">#define IEEE_TestCtrlIn_PError		 0x10</span>
<span class="cp">#define IEEE_TestCtrlIn_nFault		 0x08</span>
<span class="cp">#define IEEE_TestCtrlIn_nAck		 0x04</span>
<span class="cp">#define IEEE_TestCtrlIn_PSel		 0x02</span>
<span class="cp">#define IEEE_TestCtrlIn_Busy		 0x01</span>

<span class="cp">#endif </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * VGA Controller</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    VideoControl	Video Control Register</span>
<span class="cm"> *    VgaTiming0	VGA Timing Register 0</span>
<span class="cm"> *    VgaTiming1	VGA Timing Register 1</span>
<span class="cm"> *    VgaTiming2	VGA Timing Register 2</span>
<span class="cm"> *    VgaTiming3	VGA Timing Register 3</span>
<span class="cm"> *    VgaBorder		VGA Border Color Register</span>
<span class="cm"> *    VgaDBAR		VGADMA Base Address Register</span>
<span class="cm"> *    VgaDCAR		VGADMA Channel Current Address Register</span>
<span class="cm"> *    VgaStatus		VGA Status Register</span>
<span class="cm"> *    VgaInterruptMask	VGA Interrupt Mask Register</span>
<span class="cm"> *    VgaPalette	VGA Palette Registers</span>
<span class="cm"> *    DacControl	DAC Control Register</span>
<span class="cm"> *    VgaTest		VGA Controller Test Register</span>
<span class="cm"> */</span>

<span class="cp">#define _VGA( x )	_SA1101( ( x ) + __VGA_CONTROL )</span>

<span class="cp">#define _VideoControl	    _VGA( 0x0000 )</span>
<span class="cp">#define _VgaTiming0	    _VGA( 0x0400 )</span>
<span class="cp">#define _VgaTiming1	    _VGA( 0x0800 )</span>
<span class="cp">#define _VgaTiming2	    _VGA( 0x0c00 )</span>
<span class="cp">#define _VgaTiming3	    _VGA( 0x1000 )</span>
<span class="cp">#define _VgaBorder	    _VGA( 0x1400 )</span>
<span class="cp">#define _VgaDBAR	    _VGA( 0x1800 )</span>
<span class="cp">#define _VgaDCAR	    _VGA( 0x1c00 )</span>
<span class="cp">#define _VgaStatus	    _VGA( 0x2000 )</span>
<span class="cp">#define _VgaInterruptMask   _VGA( 0x2400 )</span>
<span class="cp">#define _VgaPalette	    _VGA( 0x40000 )</span>
<span class="cp">#define _DacControl	    _VGA( 0x3000 )</span>
<span class="cp">#define _VgaTest	    _VGA( 0x2c00 )</span>

<span class="cp">#if (LANGUAGE == C)</span>
<span class="cp">#define VideoControl   (*((volatile Word *) SA1101_p2v (_VideoControl)))</span>
<span class="cp">#define VgaTiming0     (*((volatile Word *) SA1101_p2v (_VgaTiming0)))</span>
<span class="cp">#define VgaTiming1     (*((volatile Word *) SA1101_p2v (_VgaTiming1)))</span>
<span class="cp">#define VgaTiming2     (*((volatile Word *) SA1101_p2v (_VgaTiming2)))</span>
<span class="cp">#define VgaTiming3     (*((volatile Word *) SA1101_p2v (_VgaTiming3)))</span>
<span class="cp">#define VgaBorder      (*((volatile Word *) SA1101_p2v (_VgaBorder)))</span>
<span class="cp">#define VgaDBAR	       (*((volatile Word *) SA1101_p2v (_VgaDBAR)))</span>
<span class="cp">#define VgaDCAR	       (*((volatile Word *) SA1101_p2v (_VgaDCAR)))</span>
<span class="cp">#define VgaStatus      (*((volatile Word *) SA1101_p2v (_VgaStatus)))</span>
<span class="cp">#define VgaInterruptMask (*((volatile Word *) SA1101_p2v (_VgaInterruptMask)))</span>
<span class="cp">#define VgaPalette     (*((volatile Word *) SA1101_p2v (_VgaPalette)))</span>
<span class="cp">#define DacControl     (*((volatile Word *) SA1101_p2v (_DacControl)))</span>
<span class="cp">#define VgaTest        (*((volatile Word *) SA1101_p2v (_VgaTest)))</span>

<span class="cp">#define VideoControl_VgaEn    0x00000000</span>
<span class="cp">#define VideoControl_BGR      0x00000001</span>
<span class="cp">#define VideoControl_VCompVal Fld(2,2)</span>
<span class="cp">#define VideoControl_VgaReq   Fld(4,4)</span>
<span class="cp">#define VideoControl_VBurstL  Fld(4,8)</span>
<span class="cp">#define VideoControl_VMode    (1&lt;&lt;12)</span>
<span class="cp">#define VideoControl_PalRead  (1&lt;&lt;13)</span>

<span class="cp">#define VgaTiming0_PPL	      Fld(6,2)</span>
<span class="cp">#define VgaTiming0_HSW	      Fld(8,8)</span>
<span class="cp">#define VgaTiming0_HFP	      Fld(8,16)</span>
<span class="cp">#define VgaTiming0_HBP	      Fld(8,24)</span>

<span class="cp">#define VgaTiming1_LPS	      Fld(10,0)</span>
<span class="cp">#define VgaTiming1_VSW	      Fld(6,10)</span>
<span class="cp">#define VgaTiming1_VFP	      Fld(8,16)</span>
<span class="cp">#define VgaTiming1_VBP	      Fld(8,24)</span>

<span class="cp">#define VgaTiming2_IVS	      0x01</span>
<span class="cp">#define VgaTiming2_IHS	      0x02</span>
<span class="cp">#define VgaTiming2_CVS	      0x04</span>
<span class="cp">#define VgaTiming2_CHS	      0x08</span>

<span class="cp">#define VgaTiming3_HBS	      Fld(8,0)</span>
<span class="cp">#define VgaTiming3_HBE	      Fld(8,8)</span>
<span class="cp">#define VgaTiming3_VBS	      Fld(8,16)</span>
<span class="cp">#define VgaTiming3_VBE	      Fld(8,24)</span>

<span class="cp">#define VgaBorder_BCOL	      Fld(24,0)</span>

<span class="cp">#define VgaStatus_VFUF	      0x01</span>
<span class="cp">#define VgaStatus_VNext	      0x02</span>
<span class="cp">#define VgaStatus_VComp	      0x04</span>

<span class="cp">#define VgaInterruptMask_VFUFMask   0x00</span>
<span class="cp">#define VgaInterruptMask_VNextMask  0x01</span>
<span class="cp">#define VgaInterruptMask_VCompMask  0x02</span>

<span class="cp">#define VgaPalette_R	      Fld(8,0)</span>
<span class="cp">#define VgaPalette_G	      Fld(8,8)</span>
<span class="cp">#define VgaPalette_B	      Fld(8,16)</span>

<span class="cp">#define DacControl_DACON      0x0001</span>
<span class="cp">#define DacControl_COMPON     0x0002</span>
<span class="cp">#define DacControl_PEDON      0x0004</span>
<span class="cp">#define DacControl_RTrim      Fld(5,4)</span>
<span class="cp">#define DacControl_GTrim      Fld(5,9)</span>
<span class="cp">#define DacControl_BTrim      Fld(5,14)</span>

<span class="cp">#define VgaTest_TDAC	      0x00</span>
<span class="cp">#define VgaTest_Datatest      Fld(4,1)</span>
<span class="cp">#define VgaTest_DACTESTDAC    0x10</span>
<span class="cp">#define VgaTest_DACTESTOUT    Fld(3,5)</span>

<span class="cp">#endif </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * USB Host Interface Controller</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    Revision</span>
<span class="cm"> *    Control</span>
<span class="cm"> *    CommandStatus</span>
<span class="cm"> *    InterruptStatus</span>
<span class="cm"> *    InterruptEnable</span>
<span class="cm"> *    HCCA</span>
<span class="cm"> *    PeriodCurrentED</span>
<span class="cm"> *    ControlHeadED</span>
<span class="cm"> *    BulkHeadED</span>
<span class="cm"> *    BulkCurrentED</span>
<span class="cm"> *    DoneHead</span>
<span class="cm"> *    FmInterval</span>
<span class="cm"> *    FmRemaining</span>
<span class="cm"> *    FmNumber</span>
<span class="cm"> *    PeriodicStart</span>
<span class="cm"> *    LSThreshold</span>
<span class="cm"> *    RhDescriptorA</span>
<span class="cm"> *    RhDescriptorB</span>
<span class="cm"> *    RhStatus</span>
<span class="cm"> *    RhPortStatus</span>
<span class="cm"> *    USBStatus</span>
<span class="cm"> *    USBReset</span>
<span class="cm"> *    USTAR</span>
<span class="cm"> *    USWER</span>
<span class="cm"> *    USRFR</span>
<span class="cm"> *    USNFR</span>
<span class="cm"> *    USTCSR</span>
<span class="cm"> *    USSR</span>
<span class="cm"> *    </span>
<span class="cm"> */</span>

<span class="cp">#define _USB( x )	_SA1101( ( x ) + __USB_CONTROL )</span>


<span class="cp">#define _Revision	  _USB( 0x0000 )</span>
<span class="cp">#define _Control	  _USB( 0x0888 )</span>
<span class="cp">#define _CommandStatus	  _USB( 0x0c00 )</span>
<span class="cp">#define _InterruptStatus  _USB( 0x1000 )</span>
<span class="cp">#define _InterruptEnable  _USB( 0x1400 )</span>
<span class="cp">#define _HCCA		  _USB( 0x1800 )</span>
<span class="cp">#define _PeriodCurrentED  _USB( 0x1c00 )</span>
<span class="cp">#define _ControlHeadED	  _USB( 0x2000 )</span>
<span class="cp">#define _BulkHeadED	  _USB( 0x2800 )</span>
<span class="cp">#define _BulkCurrentED	  _USB( 0x2c00 )</span>
<span class="cp">#define _DoneHead	  _USB( 0x3000 )</span>
<span class="cp">#define _FmInterval	  _USB( 0x3400 )</span>
<span class="cp">#define _FmRemaining	  _USB( 0x3800 )</span>
<span class="cp">#define _FmNumber	  _USB( 0x3c00 )</span>
<span class="cp">#define _PeriodicStart	  _USB( 0x4000 )</span>
<span class="cp">#define _LSThreshold	  _USB( 0x4400 )</span>
<span class="cp">#define _RhDescriptorA	  _USB( 0x4800 )</span>
<span class="cp">#define _RhDescriptorB	  _USB( 0x4c00 )</span>
<span class="cp">#define _RhStatus	  _USB( 0x5000 )</span>
<span class="cp">#define _RhPortStatus	  _USB( 0x5400 )</span>
<span class="cp">#define _USBStatus	  _USB( 0x11800 )</span>
<span class="cp">#define _USBReset	  _USB( 0x11c00 )</span>

<span class="cp">#define _USTAR		  _USB( 0x10400 )</span>
<span class="cp">#define _USWER		  _USB( 0x10800 )</span>
<span class="cp">#define _USRFR		  _USB( 0x10c00 )</span>
<span class="cp">#define _USNFR		  _USB( 0x11000 )</span>
<span class="cp">#define _USTCSR		  _USB( 0x11400 )</span>
<span class="cp">#define _USSR		  _USB( 0x11800 )</span>


<span class="cp">#if (LANGUAGE == C)</span>

<span class="cp">#define Revision	(*((volatile Word *) SA1101_p2v (_Revision)))</span>
<span class="cp">#define Control		(*((volatile Word *) SA1101_p2v (_Control)))</span>
<span class="cp">#define CommandStatus	(*((volatile Word *) SA1101_p2v (_CommandStatus)))</span>
<span class="cp">#define InterruptStatus	(*((volatile Word *) SA1101_p2v (_InterruptStatus)))</span>
<span class="cp">#define InterruptEnable	(*((volatile Word *) SA1101_p2v (_InterruptEnable)))</span>
<span class="cp">#define HCCA		(*((volatile Word *) SA1101_p2v (_HCCA)))</span>
<span class="cp">#define PeriodCurrentED	(*((volatile Word *) SA1101_p2v (_PeriodCurrentED)))</span>
<span class="cp">#define ControlHeadED	(*((volatile Word *) SA1101_p2v (_ControlHeadED)))</span>
<span class="cp">#define BulkHeadED	(*((volatile Word *) SA1101_p2v (_BulkHeadED)))</span>
<span class="cp">#define BulkCurrentED	(*((volatile Word *) SA1101_p2v (_BulkCurrentED)))</span>
<span class="cp">#define DoneHead	(*((volatile Word *) SA1101_p2v (_DoneHead)))</span>
<span class="cp">#define FmInterval	(*((volatile Word *) SA1101_p2v (_FmInterval)))</span>
<span class="cp">#define FmRemaining	(*((volatile Word *) SA1101_p2v (_FmRemaining)))</span>
<span class="cp">#define FmNumber	(*((volatile Word *) SA1101_p2v (_FmNumber)))</span>
<span class="cp">#define PeriodicStart	(*((volatile Word *) SA1101_p2v (_PeriodicStart)))</span>
<span class="cp">#define LSThreshold	(*((volatile Word *) SA1101_p2v (_LSThreshold)))</span>
<span class="cp">#define RhDescriptorA	(*((volatile Word *) SA1101_p2v (_RhDescriptorA)))</span>
<span class="cp">#define RhDescriptorB	(*((volatile Word *) SA1101_p2v (_RhDescriptorB)))</span>
<span class="cp">#define RhStatus	(*((volatile Word *) SA1101_p2v (_RhStatus)))</span>
<span class="cp">#define RhPortStatus	(*((volatile Word *) SA1101_p2v (_RhPortStatus)))</span>
<span class="cp">#define USBStatus	(*((volatile Word *) SA1101_p2v (_USBStatus)))</span>
<span class="cp">#define USBReset	(*((volatile Word *) SA1101_p2v (_USBReset)))</span>
<span class="cp">#define USTAR		(*((volatile Word *) SA1101_p2v (_USTAR)))</span>
<span class="cp">#define USWER		(*((volatile Word *) SA1101_p2v (_USWER)))</span>
<span class="cp">#define USRFR		(*((volatile Word *) SA1101_p2v (_USRFR)))</span>
<span class="cp">#define USNFR		(*((volatile Word *) SA1101_p2v (_USNFR)))</span>
<span class="cp">#define USTCSR		(*((volatile Word *) SA1101_p2v (_USTCSR)))</span>
<span class="cp">#define USSR		(*((volatile Word *) SA1101_p2v (_USSR)))</span>


<span class="cp">#define USBStatus_IrqHciRmtWkp	     (1&lt;&lt;7)</span>
<span class="cp">#define USBStatus_IrqHciBuffAcc	     (1&lt;&lt;8)</span>
<span class="cp">#define USBStatus_nIrqHciM	     (1&lt;&lt;9)</span>
<span class="cp">#define USBStatus_nHciMFClr	     (1&lt;&lt;10)</span>

<span class="cp">#define USBReset_ForceIfReset	     0x01</span>
<span class="cp">#define USBReset_ForceHcReset	     0x02</span>
<span class="cp">#define USBReset_ClkGenReset	     0x04</span>

<span class="cp">#define USTCR_RdBstCntrl	     Fld(3,0)</span>
<span class="cp">#define USTCR_ByteEnable	     Fld(4,3)</span>
<span class="cp">#define USTCR_WriteEn		     (1&lt;&lt;7)</span>
<span class="cp">#define USTCR_FifoCir		     (1&lt;&lt;8)</span>
<span class="cp">#define USTCR_TestXferSel	     (1&lt;&lt;9)</span>
<span class="cp">#define USTCR_FifoCirAtEnd	     (1&lt;&lt;10)</span>
<span class="cp">#define USTCR_nSimScaleDownClk	     (1&lt;&lt;11)</span>

<span class="cp">#define USSR_nAppMDEmpty	     0x01</span>
<span class="cp">#define USSR_nAppMDFirst	     0x02</span>
<span class="cp">#define USSR_nAppMDLast		     0x04</span>
<span class="cp">#define USSR_nAppMDFull		     0x08</span>
<span class="cp">#define USSR_nAppMAFull		     0x10</span>
<span class="cp">#define USSR_XferReq		     0x20</span>
<span class="cp">#define USSR_XferEnd		     0x40</span>

<span class="cp">#endif </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * Interrupt Controller</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    INTTEST0		Test register 0</span>
<span class="cm"> *    INTTEST1		Test register 1</span>
<span class="cm"> *    INTENABLE0	Interrupt Enable register 0</span>
<span class="cm"> *    INTENABLE1	Interrupt Enable register 1</span>
<span class="cm"> *    INTPOL0		Interrupt Polarity selection 0</span>
<span class="cm"> *    INTPOL1		Interrupt Polarity selection 1</span>
<span class="cm"> *    INTTSTSEL		Interrupt source selection</span>
<span class="cm"> *    INTSTATCLR0	Interrupt Status 0</span>
<span class="cm"> *    INTSTATCLR1	Interrupt Status 1</span>
<span class="cm"> *    INTSET0		Interrupt Set 0</span>
<span class="cm"> *    INTSET1		Interrupt Set 1</span>
<span class="cm"> */</span>

<span class="cp">#define _INT( x )	_SA1101( ( x ) + __INTERRUPT_CONTROL)</span>

<span class="cp">#define _INTTEST0	_INT( 0x1000 )</span>
<span class="cp">#define _INTTEST1	_INT( 0x1400 )</span>
<span class="cp">#define _INTENABLE0	_INT( 0x2000 )</span>
<span class="cp">#define _INTENABLE1	_INT( 0x2400 )</span>
<span class="cp">#define _INTPOL0	_INT( 0x3000 )</span>
<span class="cp">#define _INTPOL1	_INT( 0x3400 )</span>
<span class="cp">#define _INTTSTSEL     	_INT( 0x5000 )</span>
<span class="cp">#define _INTSTATCLR0	_INT( 0x6000 )</span>
<span class="cp">#define _INTSTATCLR1	_INT( 0x6400 )</span>
<span class="cp">#define _INTSET0	_INT( 0x7000 )</span>
<span class="cp">#define _INTSET1	_INT( 0x7400 )</span>

<span class="cp">#if ( LANGUAGE == C )</span>
<span class="cp">#define INTTEST0	(*((volatile Word *) SA1101_p2v (_INTTEST0)))</span>
<span class="cp">#define INTTEST1	(*((volatile Word *) SA1101_p2v (_INTTEST1)))</span>
<span class="cp">#define INTENABLE0	(*((volatile Word *) SA1101_p2v (_INTENABLE0)))</span>
<span class="cp">#define INTENABLE1	(*((volatile Word *) SA1101_p2v (_INTENABLE1)))</span>
<span class="cp">#define INTPOL0		(*((volatile Word *) SA1101_p2v (_INTPOL0)))</span>
<span class="cp">#define INTPOL1		(*((volatile Word *) SA1101_p2v (_INTPOL1)))</span>
<span class="cp">#define INTTSTSEL	(*((volatile Word *) SA1101_p2v (_INTTSTSEL)))</span>
<span class="cp">#define INTSTATCLR0	(*((volatile Word *) SA1101_p2v (_INTSTATCLR0)))</span>
<span class="cp">#define INTSTATCLR1	(*((volatile Word *) SA1101_p2v (_INTSTATCLR1)))</span>
<span class="cp">#define INTSET0		(*((volatile Word *) SA1101_p2v (_INTSET0)))</span>
<span class="cp">#define INTSET1		(*((volatile Word *) SA1101_p2v (_INTSET1)))</span>

<span class="cp">#endif </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * PS/2 Trackpad and Mouse Interfaces</span>
<span class="cm"> *</span>
<span class="cm"> * Registers   (prefix kbd applies to trackpad interface, mse to mouse)</span>
<span class="cm"> *    KBDCR		Control Register</span>
<span class="cm"> *    KBDSTAT		Status Register</span>
<span class="cm"> *    KBDDATA		Transmit/Receive Data register</span>
<span class="cm"> *    KBDCLKDIV		Clock Division Register</span>
<span class="cm"> *    KBDPRECNT		Clock Precount Register</span>
<span class="cm"> *    KBDTEST1		Test register 1</span>
<span class="cm"> *    KBDTEST2		Test register 2</span>
<span class="cm"> *    KBDTEST3		Test register 3</span>
<span class="cm"> *    KBDTEST4		Test register 4</span>
<span class="cm"> *    MSECR	</span>
<span class="cm"> *    MSESTAT</span>
<span class="cm"> *    MSEDATA</span>
<span class="cm"> *    MSECLKDIV</span>
<span class="cm"> *    MSEPRECNT</span>
<span class="cm"> *    MSETEST1</span>
<span class="cm"> *    MSETEST2</span>
<span class="cm"> *    MSETEST3</span>
<span class="cm"> *    MSETEST4</span>
<span class="cm"> *     </span>
<span class="cm"> */</span>

<span class="cp">#define _KBD( x )	_SA1101( ( x ) + __TRACK_INTERFACE )</span>
<span class="cp">#define _MSE( x )	_SA1101( ( x ) + __MOUSE_INTERFACE )</span>

<span class="cp">#define _KBDCR		_KBD( 0x0000 )</span>
<span class="cp">#define _KBDSTAT	_KBD( 0x0400 )</span>
<span class="cp">#define _KBDDATA	_KBD( 0x0800 )</span>
<span class="cp">#define _KBDCLKDIV	_KBD( 0x0c00 )</span>
<span class="cp">#define _KBDPRECNT	_KBD( 0x1000 )</span>
<span class="cp">#define	_KBDTEST1	_KBD( 0x2000 )</span>
<span class="cp">#define _KBDTEST2	_KBD( 0x2400 )</span>
<span class="cp">#define _KBDTEST3	_KBD( 0x2800 )</span>
<span class="cp">#define _KBDTEST4	_KBD( 0x2c00 )</span>
<span class="cp">#define _MSECR		_MSE( 0x0000 )</span>
<span class="cp">#define _MSESTAT	_MSE( 0x0400 )</span>
<span class="cp">#define _MSEDATA	_MSE( 0x0800 )</span>
<span class="cp">#define _MSECLKDIV	_MSE( 0x0c00 )</span>
<span class="cp">#define _MSEPRECNT	_MSE( 0x1000 )</span>
<span class="cp">#define	_MSETEST1	_MSE( 0x2000 )</span>
<span class="cp">#define _MSETEST2	_MSE( 0x2400 )</span>
<span class="cp">#define _MSETEST3	_MSE( 0x2800 )</span>
<span class="cp">#define _MSETEST4	_MSE( 0x2c00 )</span>

<span class="cp">#if ( LANGUAGE == C )</span>

<span class="cp">#define KBDCR	    (*((volatile Word *) SA1101_p2v (_KBDCR)))</span>
<span class="cp">#define KBDSTAT	    (*((volatile Word *) SA1101_p2v (_KBDSTAT)))</span>
<span class="cp">#define KBDDATA	    (*((volatile Word *) SA1101_p2v (_KBDDATA)))</span>
<span class="cp">#define KBDCLKDIV   (*((volatile Word *) SA1101_p2v (_KBDCLKDIV)))</span>
<span class="cp">#define KBDPRECNT   (*((volatile Word *) SA1101_p2v (_KBDPRECNT)))</span>
<span class="cp">#define KBDTEST1    (*((volatile Word *) SA1101_p2v (_KBDTEST1)))</span>
<span class="cp">#define KBDTEST2    (*((volatile Word *) SA1101_p2v (_KBDTEST2)))</span>
<span class="cp">#define KBDTEST3    (*((volatile Word *) SA1101_p2v (_KBDTEST3)))</span>
<span class="cp">#define KBDTEST4    (*((volatile Word *) SA1101_p2v (_KBDTEST4)))</span>
<span class="cp">#define MSECR	    (*((volatile Word *) SA1101_p2v (_MSECR)))</span>
<span class="cp">#define MSESTAT	    (*((volatile Word *) SA1101_p2v (_MSESTAT)))</span>
<span class="cp">#define MSEDATA	    (*((volatile Word *) SA1101_p2v (_MSEDATA)))</span>
<span class="cp">#define MSECLKDIV   (*((volatile Word *) SA1101_p2v (_MSECLKDIV)))</span>
<span class="cp">#define MSEPRECNT   (*((volatile Word *) SA1101_p2v (_MSEPRECNT)))</span>
<span class="cp">#define MSETEST1    (*((volatile Word *) SA1101_p2v (_MSETEST1)))</span>
<span class="cp">#define MSETEST2    (*((volatile Word *) SA1101_p2v (_MSETEST2)))</span>
<span class="cp">#define MSETEST3    (*((volatile Word *) SA1101_p2v (_MSETEST3)))</span>
<span class="cp">#define MSETEST4    (*((volatile Word *) SA1101_p2v (_MSETEST4)))</span>


<span class="cp">#define KBDCR_ENA		 0x08</span>
<span class="cp">#define KBDCR_FKD		 0x02</span>
<span class="cp">#define KBDCR_FKC		 0x01</span>

<span class="cp">#define KBDSTAT_TXE		 0x80</span>
<span class="cp">#define KBDSTAT_TXB		 0x40</span>
<span class="cp">#define KBDSTAT_RXF		 0x20</span>
<span class="cp">#define KBDSTAT_RXB		 0x10</span>
<span class="cp">#define KBDSTAT_ENA		 0x08</span>
<span class="cp">#define KBDSTAT_RXP		 0x04</span>
<span class="cp">#define KBDSTAT_KBD		 0x02</span>
<span class="cp">#define KBDSTAT_KBC		 0x01</span>

<span class="cp">#define KBDCLKDIV_DivVal	 Fld(4,0)</span>

<span class="cp">#define MSECR_ENA		 0x08</span>
<span class="cp">#define MSECR_FKD		 0x02</span>
<span class="cp">#define MSECR_FKC		 0x01</span>

<span class="cp">#define MSESTAT_TXE		 0x80</span>
<span class="cp">#define MSESTAT_TXB		 0x40</span>
<span class="cp">#define MSESTAT_RXF		 0x20</span>
<span class="cp">#define MSESTAT_RXB		 0x10</span>
<span class="cp">#define MSESTAT_ENA		 0x08</span>
<span class="cp">#define MSESTAT_RXP		 0x04	</span>
<span class="cp">#define MSESTAT_MSD		 0x02</span>
<span class="cp">#define MSESTAT_MSC		 0x01</span>

<span class="cp">#define MSECLKDIV_DivVal	 Fld(4,0)</span>

<span class="cp">#define KBDTEST1_CD		 0x80</span>
<span class="cp">#define KBDTEST1_RC1		 0x40</span>
<span class="cp">#define KBDTEST1_MC		 0x20</span>
<span class="cp">#define KBDTEST1_C		 Fld(2,3)</span>
<span class="cp">#define KBDTEST1_T2		 0x40</span>
<span class="cp">#define KBDTEST1_T1		 0x20</span>
<span class="cp">#define KBDTEST1_T0		 0x10</span>
<span class="cp">#define KBDTEST2_TICBnRES	 0x08</span>
<span class="cp">#define KBDTEST2_RKC		 0x04</span>
<span class="cp">#define KBDTEST2_RKD		 0x02</span>
<span class="cp">#define KBDTEST2_SEL		 0x01</span>
<span class="cp">#define KBDTEST3_ms_16		 0x80</span>
<span class="cp">#define KBDTEST3_us_64		 0x40</span>
<span class="cp">#define KBDTEST3_us_16		 0x20</span>
<span class="cp">#define KBDTEST3_DIV8		 0x10</span>
<span class="cp">#define KBDTEST3_DIn		 0x08</span>
<span class="cp">#define KBDTEST3_CIn		 0x04</span>
<span class="cp">#define KBDTEST3_KD		 0x02</span>
<span class="cp">#define KBDTEST3_KC		 0x01</span>
<span class="cp">#define KBDTEST4_BC12		 0x80</span>
<span class="cp">#define KBDTEST4_BC11		 0x40</span>
<span class="cp">#define KBDTEST4_TRES		 0x20</span>
<span class="cp">#define KBDTEST4_CLKOE		 0x10</span>
<span class="cp">#define KBDTEST4_CRES		 0x08</span>
<span class="cp">#define KBDTEST4_RXB		 0x04</span>
<span class="cp">#define KBDTEST4_TXB		 0x02</span>
<span class="cp">#define KBDTEST4_SRX		 0x01</span>

<span class="cp">#define MSETEST1_CD		 0x80</span>
<span class="cp">#define MSETEST1_RC1		 0x40</span>
<span class="cp">#define MSETEST1_MC		 0x20</span>
<span class="cp">#define MSETEST1_C		 Fld(2,3)</span>
<span class="cp">#define MSETEST1_T2		 0x40</span>
<span class="cp">#define MSETEST1_T1		 0x20</span>
<span class="cp">#define MSETEST1_T0		 0x10</span>
<span class="cp">#define MSETEST2_TICBnRES	 0x08</span>
<span class="cp">#define MSETEST2_RKC		 0x04</span>
<span class="cp">#define MSETEST2_RKD		 0x02</span>
<span class="cp">#define MSETEST2_SEL		 0x01</span>
<span class="cp">#define MSETEST3_ms_16		 0x80</span>
<span class="cp">#define MSETEST3_us_64		 0x40</span>
<span class="cp">#define MSETEST3_us_16		 0x20</span>
<span class="cp">#define MSETEST3_DIV8		 0x10</span>
<span class="cp">#define MSETEST3_DIn		 0x08</span>
<span class="cp">#define MSETEST3_CIn		 0x04</span>
<span class="cp">#define MSETEST3_KD		 0x02</span>
<span class="cp">#define MSETEST3_KC		 0x01</span>
<span class="cp">#define MSETEST4_BC12		 0x80</span>
<span class="cp">#define MSETEST4_BC11		 0x40</span>
<span class="cp">#define MSETEST4_TRES		 0x20</span>
<span class="cp">#define MSETEST4_CLKOE		 0x10</span>
<span class="cp">#define MSETEST4_CRES		 0x08</span>
<span class="cp">#define MSETEST4_RXB		 0x04</span>
<span class="cp">#define MSETEST4_TXB		 0x02</span>
<span class="cp">#define MSETEST4_SRX		 0x01</span>

<span class="cp">#endif  </span><span class="cm">/* LANGUAGE == C */</span><span class="cp"></span>


<span class="cm">/*</span>
<span class="cm"> * General-Purpose I/O Interface</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    PADWR	Port A Data Write Register</span>
<span class="cm"> *    PBDWR	Port B Data Write Register</span>
<span class="cm"> *    PADRR	Port A Data Read Register</span>
<span class="cm"> *    PBDRR	Port B Data Read Register</span>
<span class="cm"> *    PADDR	Port A Data Direction Register</span>
<span class="cm"> *    PBDDR	Port B Data Direction Register</span>
<span class="cm"> *    PASSR	Port A Sleep State Register</span>
<span class="cm"> *    PBSSR	Port B Sleep State Register</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#define _PIO( x )      _SA1101( ( x ) + __GPIO_INTERFACE )</span>

<span class="cp">#define _PADWR	       _PIO( 0x0000 )</span>
<span class="cp">#define _PBDWR	       _PIO( 0x0400 )</span>
<span class="cp">#define _PADRR	       _PIO( 0x0000 )</span>
<span class="cp">#define _PBDRR	       _PIO( 0x0400 )</span>
<span class="cp">#define _PADDR	       _PIO( 0x0800 )</span>
<span class="cp">#define _PBDDR	       _PIO( 0x0c00 )</span>
<span class="cp">#define _PASSR	       _PIO( 0x1000 )</span>
<span class="cp">#define _PBSSR	       _PIO( 0x1400 )</span>


<span class="cp">#if ( LANGUAGE == C )</span>


<span class="cp">#define PADWR	    (*((volatile Word *) SA1101_p2v (_PADWR)))</span>
<span class="cp">#define PBDWR	    (*((volatile Word *) SA1101_p2v (_PBDWR)))</span>
<span class="cp">#define PADRR	    (*((volatile Word *) SA1101_p2v (_PADRR)))</span>
<span class="cp">#define PBDRR	    (*((volatile Word *) SA1101_p2v (_PBDRR)))</span>
<span class="cp">#define PADDR	    (*((volatile Word *) SA1101_p2v (_PADDR)))</span>
<span class="cp">#define PBDDR	    (*((volatile Word *) SA1101_p2v (_PBDDR)))</span>
<span class="cp">#define PASSR	    (*((volatile Word *) SA1101_p2v (_PASSR)))</span>
<span class="cp">#define PBSSR	    (*((volatile Word *) SA1101_p2v (_PBSSR)))</span>

<span class="cp">#endif</span>



<span class="cm">/*</span>
<span class="cm"> * Keypad Interface</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    PXDWR</span>
<span class="cm"> *    PXDRR</span>
<span class="cm"> *    PYDWR</span>
<span class="cm"> *    PYDRR</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#define _KEYPAD( x )	_SA1101( ( x ) + __KEYPAD_INTERFACE ) </span>

<span class="cp">#define _PXDWR	   _KEYPAD( 0x0000 )</span>
<span class="cp">#define _PXDRR	   _KEYPAD( 0x0000 )</span>
<span class="cp">#define _PYDWR	   _KEYPAD( 0x0400 )</span>
<span class="cp">#define _PYDRR	   _KEYPAD( 0x0400 )</span>

<span class="cp">#if ( LANGUAGE == C )</span>


<span class="cp">#define PXDWR	    (*((volatile Word *) SA1101_p2v (_PXDWR)))</span>
<span class="cp">#define PXDRR	    (*((volatile Word *) SA1101_p2v (_PXDRR)))</span>
<span class="cp">#define PYDWR	    (*((volatile Word *) SA1101_p2v (_PYDWR)))</span>
<span class="cp">#define PYDRR	    (*((volatile Word *) SA1101_p2v (_PYDRR)))</span>

<span class="cp">#endif</span>



<span class="cm">/*</span>
<span class="cm"> * PCMCIA Interface</span>
<span class="cm"> *</span>
<span class="cm"> * Registers</span>
<span class="cm"> *    PCSR	Status Register</span>
<span class="cm"> *    PCCR	Control Register</span>
<span class="cm"> *    PCSSR	Sleep State Register</span>
<span class="cm"> *</span>
<span class="cm"> */</span>

<span class="cp">#define _CARD( x )	_SA1101( ( x ) + __PCMCIA_INTERFACE )</span>

<span class="cp">#define _PCSR	   _CARD( 0x0000 )</span>
<span class="cp">#define _PCCR	   _CARD( 0x0400 )</span>
<span class="cp">#define _PCSSR	   _CARD( 0x0800 )</span>

<span class="cp">#if ( LANGUAGE == C )</span>
<span class="cp">#define PCSR    (*((volatile Word *) SA1101_p2v (_PCSR)))</span>
<span class="cp">#define PCCR	(*((volatile Word *) SA1101_p2v (_PCCR)))</span>
<span class="cp">#define PCSSR	(*((volatile Word *) SA1101_p2v (_PCSSR)))</span>

<span class="cp">#define PCSR_S0_ready		0x0001</span>
<span class="cp">#define PCSR_S1_ready		0x0002</span>
<span class="cp">#define PCSR_S0_detected	0x0004</span>
<span class="cp">#define PCSR_S1_detected	0x0008</span>
<span class="cp">#define PCSR_S0_VS1		0x0010</span>
<span class="cp">#define PCSR_S0_VS2		0x0020</span>
<span class="cp">#define PCSR_S1_VS1		0x0040</span>
<span class="cp">#define PCSR_S1_VS2		0x0080</span>
<span class="cp">#define PCSR_S0_WP		0x0100</span>
<span class="cp">#define PCSR_S1_WP		0x0200</span>
<span class="cp">#define PCSR_S0_BVD1_nSTSCHG	0x0400</span>
<span class="cp">#define PCSR_S0_BVD2_nSPKR	0x0800</span>
<span class="cp">#define PCSR_S1_BVD1_nSTSCHG	0x1000</span>
<span class="cp">#define PCSR_S1_BVD2_nSPKR	0x2000</span>

<span class="cp">#define PCCR_S0_VPP0		0x0001</span>
<span class="cp">#define PCCR_S0_VPP1		0x0002</span>
<span class="cp">#define PCCR_S0_VCC0		0x0004</span>
<span class="cp">#define PCCR_S0_VCC1		0x0008</span>
<span class="cp">#define PCCR_S1_VPP0		0x0010</span>
<span class="cp">#define PCCR_S1_VPP1		0x0020</span>
<span class="cp">#define PCCR_S1_VCC0		0x0040</span>
<span class="cp">#define PCCR_S1_VCC1		0x0080</span>
<span class="cp">#define PCCR_S0_reset		0x0100</span>
<span class="cp">#define PCCR_S1_reset		0x0200</span>
<span class="cp">#define PCCR_S0_float		0x0400</span>
<span class="cp">#define PCCR_S1_float		0x0800</span>

<span class="cp">#define PCSSR_S0_VCC0		0x0001</span>
<span class="cp">#define PCSSR_S0_VCC1		0x0002</span>
<span class="cp">#define PCSSR_S0_VPP0		0x0004</span>
<span class="cp">#define PCSSR_S0_VPP1		0x0008</span>
<span class="cp">#define PCSSR_S0_control	0x0010</span>
<span class="cp">#define PCSSR_S1_VCC0		0x0020</span>
<span class="cp">#define PCSSR_S1_VCC1		0x0040</span>
<span class="cp">#define PCSSR_S1_VPP0		0x0080</span>
<span class="cp">#define PCSSR_S1_VPP1		0x0100</span>
<span class="cp">#define PCSSR_S1_control	0x0200</span>

<span class="cp">#endif</span>

<span class="cp">#undef C</span>
<span class="cp">#undef Assembly</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
