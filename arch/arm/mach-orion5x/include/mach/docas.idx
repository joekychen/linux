f | io.h | s | 523B | 18 | Andrew Lunn | andrew@lunn.ch | 1340493497 |  | ARM: Orion5x - Restore parts of io.h, with rework  Commit 4d5fc58dbe34b78157c05b319669bb3e064ba8bd (ARM: remove bunch of now unused mach/io.h files) removed the orion5x io.h. Unfortunately, this is still needed for the definition of IO_SPACE_LIMIT which overrides the default 64K. All Orion based systems have 1Mbyte of IO space per PCI[e] bus, and try to request_resource() this size. Orion5x has two such PCI buses.  It is likely that the original, removed version, was broken. This version might be less broken. However, it has not been tested on hardware with a PCI card, let alone hardware with a PCI card with IO capabilities.  Signed-off-by: Andrew Lunn <andrew@lunn.ch> Acked-by: Rob Herring <rob.herring@calxeda.com> Signed-off-by: Olof Johansson <olof@lixom.net>
f | orion5x.h | s | 5.5K | 122 | Andrew Lunn | andrew@lunn.ch | 1340493561 |  | ARM: Orion: Fix Virtual/Physical mixup with watchdog  The orion watchdog is expecting to be passed the physcial address of the hardware, and will ioremap() it to give a virtual address it will use as the base address for the hardware. However, when creating the platform resource record, a virtual address was being used.  Add the necassary #define's so we can pass the physical address as expected.  Tested on Kirkwood and Orion5x.  Cc: stable <stable@vger.kernel.org> Signed-off-by: Andrew Lunn <andrew@lunn.ch> Signed-off-by: Olof Johansson <olof@lixom.net>
f | hardware.h | s | 337B | 11 | Rob Herring | rob.herring@calxeda.com | 1310487569 |  | ARM: set vga memory base at run-time  Convert the incorrectly named PCIMEM_BASE to a variable called vga_base. This removes the dependency on mach/hardware.h.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Acked-by: Nicolas Pitre <nicolas.pitre@linaro.org> Reviewed-by: Arnd Bergmann <arnd@arndb.de>
f | entry-macro.S | g | 769B |  | Rob Herring | rob.herring@calxeda.com | 1329865518 |  | ARM: remove disable_fiq and arch_ret_to_user macros  Now that most platforms don't need disable_fiq and arch_ret_to_user macros, we can remove the empty macros or empty entry-macro.S files.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Acked-by: Jamie Iles <jamie@jamieiles.com> Acked-by: Nicolas Pitre <nico@linaro.org> Acked-by: Tony Lindgren <tony@atomide.com> Acked-by: Linus Walleij <linus.walleij@linaro.org> Acked-by: Ryan Mallon <rmallon@gmail.com> Acked-by: Nicolas Ferre <nicolas.ferre@atmel.com> Acked-by: H Hartley Sweeten <hsweeten@visionengravers.com> Acked-by: Shawn Guo <shawn.guo@linaro.org>
f | bridge-regs.h | s | 1.0K | 26 | Andrew Lunn | andrew@lunn.ch | 1340493561 |  | ARM: Orion: Fix Virtual/Physical mixup with watchdog  The orion watchdog is expecting to be passed the physcial address of the hardware, and will ioremap() it to give a virtual address it will use as the base address for the hardware. However, when creating the platform resource record, a virtual address was being used.  Add the necassary #define's so we can pass the physical address as expected.  Tested on Kirkwood and Orion5x.  Cc: stable <stable@vger.kernel.org> Signed-off-by: Andrew Lunn <andrew@lunn.ch> Signed-off-by: Olof Johansson <olof@lixom.net>
f | debug-macro.S | g | 532B |  | Nicolas Pitre | nicolas.pitre@linaro.org | 1317046285 |  | ARM: add an extra temp register to the low level debugging addruart macro  Some platforms (like OMAP not to name it) are doing rather complicated hacks just to determine the base UART address to use.  Let's give their addruart macro some slack by providing an extra work register which will allow for much needed cleanups.  This is basically a no-op as this commit is only adding the extra argument to the macro but no one is using it yet.  Signed-off-by: nicolas Pitre <nicolas.pitre@linaro.org> Reviewed-by: Kevin Hilman <khilman@ti.com>
f | irqs.h | s | 1.6K | 54 | Lennert Buytenhek | buytenh@wantstofly.org | 1229793662 |  | [ARM] Orion: share GPIO handling code  Split off Orion GPIO handling code into plat-orion/, and add support for multiple sets of (32) GPIO pins.  Signed-off-by: Lennert Buytenhek <buytenh@marvell.com> Signed-off-by: Nicolas Pitre <nico@marvell.com>
f | uncompress.h | s | 932B | 40 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | gpio.h | s | 267B | 8 | Lennert Buytenhek | buytenh@wantstofly.org | 1299187622 |  | ARM: Remove dependency of plat-orion GPIO code on mach directory includes.  This patch makes the various mach dirs that use the plat-orion GPIO code pass in GPIO-related platform info (GPIO controller base address, secondary base IRQ number, etc) explicitly, instead of having plat-orion get those values by including a mach dir include file -- the latter mechanism is problematic if you want to support multiple ARM platforms in the same kernel image.  Signed-off-by: Lennert Buytenhek <buytenh@secretlab.ca> Signed-off-by: Nicolas Pitre <nico@fluxnic.net>
f | timex.h | s | 326B | 10 | Lennert Buytenhek | buytenh@wantstofly.org | 1222374404 |  | [ARM] Orion: prepare for runtime-determined timer tick rate  Currently, orion5x uses a hardcoded timer tick rate of 166 MHz, but the actual timer tick rate varies between different members of the SoC family (and can vary based on strap pin settings).  This patch prepares for runtime determination of the timer tick rate.  Signed-off-by: Lennert Buytenhek <buytenh@marvell.com>
