<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-versatile › include › mach › platform.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>platform.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * arch/arm/mach-versatile/include/mach/platform.h</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) ARM Limited 2003.  All rights reserved.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License as published by</span>
<span class="cm"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="cm"> * (at your option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is distributed in the hope that it will be useful,</span>
<span class="cm"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="cm"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="cm"> * GNU General Public License for more details.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the GNU General Public License</span>
<span class="cm"> * along with this program; if not, write to the Free Software</span>
<span class="cm"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __address_h</span>
<span class="cp">#define __address_h                     1</span>

<span class="cm">/*</span>
<span class="cm"> * Memory definitions</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_BOOT_ROM_LO          0x30000000		</span><span class="cm">/* DoC Base (64Mb)...*/</span><span class="cp"></span>
<span class="cp">#define VERSATILE_BOOT_ROM_HI          0x30000000</span>
<span class="cp">#define VERSATILE_BOOT_ROM_BASE        VERSATILE_BOOT_ROM_HI	 </span><span class="cm">/*  Normal position */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_BOOT_ROM_SIZE        SZ_64M</span>

<span class="cp">#define VERSATILE_SSRAM_BASE           </span><span class="cm">/* VERSATILE_SSMC_BASE ? */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_SSRAM_SIZE           SZ_2M</span>

<span class="cp">#define VERSATILE_FLASH_BASE           0x34000000</span>
<span class="cp">#define VERSATILE_FLASH_SIZE           SZ_64M</span>

<span class="cm">/* </span>
<span class="cm"> *  SDRAM</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_SDRAM_BASE           0x00000000</span>

<span class="cm">/* </span>
<span class="cm"> *  Logic expansion modules</span>
<span class="cm"> * </span>
<span class="cm"> */</span>


<span class="cm">/* ------------------------------------------------------------------------</span>
<span class="cm"> *  Versatile Registers</span>
<span class="cm"> * ------------------------------------------------------------------------</span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_SYS_ID_OFFSET               0x00</span>
<span class="cp">#define VERSATILE_SYS_SW_OFFSET               0x04</span>
<span class="cp">#define VERSATILE_SYS_LED_OFFSET              0x08</span>
<span class="cp">#define VERSATILE_SYS_OSC0_OFFSET             0x0C</span>

<span class="cp">#if defined(CONFIG_ARCH_VERSATILE_PB)</span>
<span class="cp">#define VERSATILE_SYS_OSC1_OFFSET             0x10</span>
<span class="cp">#define VERSATILE_SYS_OSC2_OFFSET             0x14</span>
<span class="cp">#define VERSATILE_SYS_OSC3_OFFSET             0x18</span>
<span class="cp">#define VERSATILE_SYS_OSC4_OFFSET             0x1C</span>
<span class="cp">#elif defined(CONFIG_MACH_VERSATILE_AB)</span>
<span class="cp">#define VERSATILE_SYS_OSC1_OFFSET             0x1C</span>
<span class="cp">#endif</span>

<span class="cp">#define VERSATILE_SYS_OSCCLCD_OFFSET          0x1c</span>

<span class="cp">#define VERSATILE_SYS_LOCK_OFFSET             0x20</span>
<span class="cp">#define VERSATILE_SYS_100HZ_OFFSET            0x24</span>
<span class="cp">#define VERSATILE_SYS_CFGDATA1_OFFSET         0x28</span>
<span class="cp">#define VERSATILE_SYS_CFGDATA2_OFFSET         0x2C</span>
<span class="cp">#define VERSATILE_SYS_FLAGS_OFFSET            0x30</span>
<span class="cp">#define VERSATILE_SYS_FLAGSSET_OFFSET         0x30</span>
<span class="cp">#define VERSATILE_SYS_FLAGSCLR_OFFSET         0x34</span>
<span class="cp">#define VERSATILE_SYS_NVFLAGS_OFFSET          0x38</span>
<span class="cp">#define VERSATILE_SYS_NVFLAGSSET_OFFSET       0x38</span>
<span class="cp">#define VERSATILE_SYS_NVFLAGSCLR_OFFSET       0x3C</span>
<span class="cp">#define VERSATILE_SYS_RESETCTL_OFFSET         0x40</span>
<span class="cp">#define VERSATILE_SYS_PCICTL_OFFSET           0x44</span>
<span class="cp">#define VERSATILE_SYS_MCI_OFFSET              0x48</span>
<span class="cp">#define VERSATILE_SYS_FLASH_OFFSET            0x4C</span>
<span class="cp">#define VERSATILE_SYS_CLCD_OFFSET             0x50</span>
<span class="cp">#define VERSATILE_SYS_CLCDSER_OFFSET          0x54</span>
<span class="cp">#define VERSATILE_SYS_BOOTCS_OFFSET           0x58</span>
<span class="cp">#define VERSATILE_SYS_24MHz_OFFSET            0x5C</span>
<span class="cp">#define VERSATILE_SYS_MISC_OFFSET             0x60</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC0_OFFSET        0x80</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC1_OFFSET        0x84</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC2_OFFSET        0x88</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC3_OFFSET        0x8C</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC4_OFFSET        0x90</span>

<span class="cp">#define VERSATILE_SYS_BASE                    0x10000000</span>
<span class="cp">#define VERSATILE_SYS_ID                      (VERSATILE_SYS_BASE + VERSATILE_SYS_ID_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_SW                      (VERSATILE_SYS_BASE + VERSATILE_SYS_SW_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_LED                     (VERSATILE_SYS_BASE + VERSATILE_SYS_LED_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_OSC0                    (VERSATILE_SYS_BASE + VERSATILE_SYS_OSC0_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_OSC1                    (VERSATILE_SYS_BASE + VERSATILE_SYS_OSC1_OFFSET)</span>

<span class="cp">#if defined(CONFIG_ARCH_VERSATILE_PB)</span>
<span class="cp">#define VERSATILE_SYS_OSC2                    (VERSATILE_SYS_BASE + VERSATILE_SYS_OSC2_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_OSC3                    (VERSATILE_SYS_BASE + VERSATILE_SYS_OSC3_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_OSC4                    (VERSATILE_SYS_BASE + VERSATILE_SYS_OSC4_OFFSET)</span>
<span class="cp">#endif</span>

<span class="cp">#define VERSATILE_SYS_LOCK                    (VERSATILE_SYS_BASE + VERSATILE_SYS_LOCK_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_100HZ                   (VERSATILE_SYS_BASE + VERSATILE_SYS_100HZ_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_CFGDATA1                (VERSATILE_SYS_BASE + VERSATILE_SYS_CFGDATA1_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_CFGDATA2                (VERSATILE_SYS_BASE + VERSATILE_SYS_CFGDATA2_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_FLAGS                   (VERSATILE_SYS_BASE + VERSATILE_SYS_FLAGS_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_FLAGSSET                (VERSATILE_SYS_BASE + VERSATILE_SYS_FLAGSSET_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_FLAGSCLR                (VERSATILE_SYS_BASE + VERSATILE_SYS_FLAGSCLR_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_NVFLAGS                 (VERSATILE_SYS_BASE + VERSATILE_SYS_NVFLAGS_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_NVFLAGSSET              (VERSATILE_SYS_BASE + VERSATILE_SYS_NVFLAGSSET_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_NVFLAGSCLR              (VERSATILE_SYS_BASE + VERSATILE_SYS_NVFLAGSCLR_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_RESETCTL                (VERSATILE_SYS_BASE + VERSATILE_SYS_RESETCTL_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_PCICTL                  (VERSATILE_SYS_BASE + VERSATILE_SYS_PCICTL_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_MCI                     (VERSATILE_SYS_BASE + VERSATILE_SYS_MCI_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_FLASH                   (VERSATILE_SYS_BASE + VERSATILE_SYS_FLASH_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_CLCD                    (VERSATILE_SYS_BASE + VERSATILE_SYS_CLCD_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_CLCDSER                 (VERSATILE_SYS_BASE + VERSATILE_SYS_CLCDSER_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_BOOTCS                  (VERSATILE_SYS_BASE + VERSATILE_SYS_BOOTCS_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_24MHz                   (VERSATILE_SYS_BASE + VERSATILE_SYS_24MHz_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_MISC                    (VERSATILE_SYS_BASE + VERSATILE_SYS_MISC_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC0               (VERSATILE_SYS_BASE + VERSATILE_SYS_TEST_OSC0_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC1               (VERSATILE_SYS_BASE + VERSATILE_SYS_TEST_OSC1_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC2               (VERSATILE_SYS_BASE + VERSATILE_SYS_TEST_OSC2_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC3               (VERSATILE_SYS_BASE + VERSATILE_SYS_TEST_OSC3_OFFSET)</span>
<span class="cp">#define VERSATILE_SYS_TEST_OSC4               (VERSATILE_SYS_BASE + VERSATILE_SYS_TEST_OSC4_OFFSET)</span>

<span class="cm">/* </span>
<span class="cm"> * Values for VERSATILE_SYS_RESET_CTRL</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_SYS_CTRL_RESET_CONFIGCLR    0x01</span>
<span class="cp">#define VERSATILE_SYS_CTRL_RESET_CONFIGINIT   0x02</span>
<span class="cp">#define VERSATILE_SYS_CTRL_RESET_DLLRESET     0x03</span>
<span class="cp">#define VERSATILE_SYS_CTRL_RESET_PLLRESET     0x04</span>
<span class="cp">#define VERSATILE_SYS_CTRL_RESET_POR          0x05</span>
<span class="cp">#define VERSATILE_SYS_CTRL_RESET_DoC          0x06</span>

<span class="cp">#define VERSATILE_SYS_CTRL_LED         (1 &lt;&lt; 0)</span>


<span class="cm">/* ------------------------------------------------------------------------</span>
<span class="cm"> *  Versatile control registers</span>
<span class="cm"> * ------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cm">/* </span>
<span class="cm"> * VERSATILE_IDFIELD</span>
<span class="cm"> *</span>
<span class="cm"> * 31:24 = manufacturer (0x41 = ARM)</span>
<span class="cm"> * 23:16 = architecture (0x08 = AHB system bus, ASB processor bus)</span>
<span class="cm"> * 15:12 = FPGA (0x3 = XVC600 or XVC600E)</span>
<span class="cm"> * 11:4  = build value</span>
<span class="cm"> * 3:0   = revision number (0x1 = rev B (AHB))</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * VERSATILE_SYS_LOCK</span>
<span class="cm"> *     control access to SYS_OSCx, SYS_CFGDATAx, SYS_RESETCTL, </span>
<span class="cm"> *     SYS_CLD, SYS_BOOTCS</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_SYS_LOCK_LOCKED    (1 &lt;&lt; 16)</span>
<span class="cp">#define VERSATILE_SYS_LOCKVAL_MASK	0xFFFF		</span><span class="cm">/* write 0xA05F to enable write access */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * VERSATILE_SYS_FLASH</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_FLASHPROG_FLVPPEN	(1 &lt;&lt; 0)	</span><span class="cm">/* Enable writing to flash */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * VERSATILE_INTREG</span>
<span class="cm"> *     - used to acknowledge and control MMCI and UART interrupts </span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_INTREG_WPROT        0x00    </span><span class="cm">/* MMC protection status (no interrupt generated) */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_INTREG_RI0          0x01    </span><span class="cm">/* Ring indicator UART0 is asserted,              */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_INTREG_CARDIN       0x08    </span><span class="cm">/* MMCI card in detect                            */</span><span class="cp"></span>
                                                <span class="cm">/* write 1 to acknowledge and clear               */</span>
<span class="cp">#define VERSATILE_INTREG_RI1          0x02    </span><span class="cm">/* Ring indicator UART1 is asserted,              */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_INTREG_CARDINSERT   0x03    </span><span class="cm">/* Signal insertion of MMC card                   */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * VERSATILE peripheral addresses</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_PCI_CORE_BASE        0x10001000	</span><span class="cm">/* PCI core control */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_I2C_BASE             0x10002000	</span><span class="cm">/* I2C control */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_SIC_BASE             0x10003000	</span><span class="cm">/* Secondary interrupt controller */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_AACI_BASE            0x10004000	</span><span class="cm">/* Audio */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_MMCI0_BASE           0x10005000	</span><span class="cm">/* MMC interface */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_KMI0_BASE            0x10006000	</span><span class="cm">/* KMI interface */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_KMI1_BASE            0x10007000	</span><span class="cm">/* KMI 2nd interface */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_CHAR_LCD_BASE        0x10008000	</span><span class="cm">/* Character LCD */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_UART3_BASE           0x10009000	</span><span class="cm">/* UART 3 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_SCI1_BASE            0x1000A000</span>
<span class="cp">#define VERSATILE_MMCI1_BASE           0x1000B000    </span><span class="cm">/* MMC Interface */</span><span class="cp"></span>
	<span class="cm">/* 0x1000C000 - 0x1000CFFF = reserved */</span>
<span class="cp">#define VERSATILE_ETH_BASE             0x10010000	</span><span class="cm">/* Ethernet */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_USB_BASE             0x10020000	</span><span class="cm">/* USB */</span><span class="cp"></span>
	<span class="cm">/* 0x10030000 - 0x100FFFFF = reserved */</span>
<span class="cp">#define VERSATILE_SMC_BASE             0x10100000	</span><span class="cm">/* SMC */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_MPMC_BASE            0x10110000	</span><span class="cm">/* MPMC */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_CLCD_BASE            0x10120000	</span><span class="cm">/* CLCD */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_DMAC_BASE            0x10130000	</span><span class="cm">/* DMA controller */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_VIC_BASE             0x10140000	</span><span class="cm">/* Vectored interrupt controller */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_PERIPH_BASE          0x10150000	</span><span class="cm">/* off-chip peripherals alias from */</span><span class="cp"></span>
                                                <span class="cm">/* 0x10000000 - 0x100FFFFF */</span>
<span class="cp">#define VERSATILE_AHBM_BASE            0x101D0000	</span><span class="cm">/* AHB monitor */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_SCTL_BASE            0x101E0000	</span><span class="cm">/* System controller */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_WATCHDOG_BASE        0x101E1000	</span><span class="cm">/* Watchdog */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_TIMER0_1_BASE        0x101E2000	</span><span class="cm">/* Timer 0 and 1 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_TIMER2_3_BASE        0x101E3000	</span><span class="cm">/* Timer 2 and 3 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_GPIO0_BASE           0x101E4000	</span><span class="cm">/* GPIO port 0 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_GPIO1_BASE           0x101E5000	</span><span class="cm">/* GPIO port 1 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_GPIO2_BASE           0x101E6000	</span><span class="cm">/* GPIO port 2 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_GPIO3_BASE           0x101E7000	</span><span class="cm">/* GPIO port 3 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_RTC_BASE             0x101E8000	</span><span class="cm">/* Real Time Clock */</span><span class="cp"></span>
	<span class="cm">/* 0x101E9000 - reserved */</span>
<span class="cp">#define VERSATILE_SCI_BASE             0x101F0000	</span><span class="cm">/* Smart card controller */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_UART0_BASE           0x101F1000	</span><span class="cm">/* Uart 0 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_UART1_BASE           0x101F2000	</span><span class="cm">/* Uart 1 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_UART2_BASE           0x101F3000	</span><span class="cm">/* Uart 2 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_SSP_BASE             0x101F4000	</span><span class="cm">/* Synchronous Serial Port */</span><span class="cp"></span>

<span class="cp">#define VERSATILE_SSMC_BASE            0x20000000	</span><span class="cm">/* SSMC */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_IB2_BASE             0x24000000	</span><span class="cm">/* IB2 module */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_MBX_BASE             0x40000000	</span><span class="cm">/* MBX */</span><span class="cp"></span>

<span class="cm">/* PCI space */</span>
<span class="cp">#define VERSATILE_PCI_BASE             0x41000000	</span><span class="cm">/* PCI Interface */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_PCI_CFG_BASE	       0x42000000</span>
<span class="cp">#define VERSATILE_PCI_MEM_BASE0        0x44000000</span>
<span class="cp">#define VERSATILE_PCI_MEM_BASE1        0x50000000</span>
<span class="cp">#define VERSATILE_PCI_MEM_BASE2        0x60000000</span>
<span class="cm">/* Sizes of above maps */</span>
<span class="cp">#define VERSATILE_PCI_BASE_SIZE	       0x01000000</span>
<span class="cp">#define VERSATILE_PCI_CFG_BASE_SIZE    0x02000000</span>
<span class="cp">#define VERSATILE_PCI_MEM_BASE0_SIZE   0x0c000000	</span><span class="cm">/* 32Mb */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_PCI_MEM_BASE1_SIZE   0x10000000	</span><span class="cm">/* 256Mb */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_PCI_MEM_BASE2_SIZE   0x10000000	</span><span class="cm">/* 256Mb */</span><span class="cp"></span>

<span class="cp">#define VERSATILE_SDRAM67_BASE         0x70000000	</span><span class="cm">/* SDRAM banks 6 and 7 */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_LT_BASE              0x80000000	</span><span class="cm">/* Logic Tile expansion */</span><span class="cp"></span>

<span class="cm">/*</span>
<span class="cm"> * Disk on Chip</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_DOC_BASE             0x2C000000</span>
<span class="cp">#define VERSATILE_DOC_SIZE             (16 &lt;&lt; 20)</span>
<span class="cp">#define VERSATILE_DOC_PAGE_SIZE        512</span>
<span class="cp">#define VERSATILE_DOC_TOTAL_PAGES     (DOC_SIZE / PAGE_SIZE)</span>

<span class="cp">#define ERASE_UNIT_PAGES    32</span>
<span class="cp">#define START_PAGE          0x80</span>

<span class="cm">/* </span>
<span class="cm"> *  LED settings, bits [7:0]</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_SYS_LED0             (1 &lt;&lt; 0)</span>
<span class="cp">#define VERSATILE_SYS_LED1             (1 &lt;&lt; 1)</span>
<span class="cp">#define VERSATILE_SYS_LED2             (1 &lt;&lt; 2)</span>
<span class="cp">#define VERSATILE_SYS_LED3             (1 &lt;&lt; 3)</span>
<span class="cp">#define VERSATILE_SYS_LED4             (1 &lt;&lt; 4)</span>
<span class="cp">#define VERSATILE_SYS_LED5             (1 &lt;&lt; 5)</span>
<span class="cp">#define VERSATILE_SYS_LED6             (1 &lt;&lt; 6)</span>
<span class="cp">#define VERSATILE_SYS_LED7             (1 &lt;&lt; 7)</span>

<span class="cp">#define ALL_LEDS                  0xFF</span>

<span class="cp">#define LED_BANK                  VERSATILE_SYS_LED</span>

<span class="cm">/* </span>
<span class="cm"> * Control registers</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_IDFIELD_OFFSET	0x0	</span><span class="cm">/* Versatile build information */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_FLASHPROG_OFFSET	0x4	</span><span class="cm">/* Flash devices */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_INTREG_OFFSET		0x8	</span><span class="cm">/* Interrupt control */</span><span class="cp"></span>
<span class="cp">#define VERSATILE_DECODE_OFFSET		0xC	</span><span class="cm">/* Fitted logic modules */</span><span class="cp"></span>


<span class="cm">/* ------------------------------------------------------------------------</span>
<span class="cm"> *  Versatile Interrupt Controller - control registers</span>
<span class="cm"> * ------------------------------------------------------------------------</span>
<span class="cm"> * </span>
<span class="cm"> *  Offsets from interrupt controller base </span>
<span class="cm"> * </span>
<span class="cm"> *  System Controller interrupt controller base is</span>
<span class="cm"> * </span>
<span class="cm"> * 	VERSATILE_IC_BASE</span>
<span class="cm"> * </span>
<span class="cm"> *  Core Module interrupt controller base is</span>
<span class="cm"> * </span>
<span class="cm"> * 	VERSATILE_SYS_IC </span>
<span class="cm"> * </span>
<span class="cm"> */</span>
<span class="cm">/* VIC definitions in include/asm-arm/hardware/vic.h */</span>

<span class="cp">#define SIC_IRQ_STATUS                  0</span>
<span class="cp">#define SIC_IRQ_RAW_STATUS              0x04</span>
<span class="cp">#define SIC_IRQ_ENABLE                  0x08</span>
<span class="cp">#define SIC_IRQ_ENABLE_SET              0x08</span>
<span class="cp">#define SIC_IRQ_ENABLE_CLEAR            0x0C</span>
<span class="cp">#define SIC_INT_SOFT_SET                0x10</span>
<span class="cp">#define SIC_INT_SOFT_CLEAR              0x14</span>
<span class="cp">#define SIC_INT_PIC_ENABLE              0x20	</span><span class="cm">/* read status of pass through mask */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_PIC_ENABLES             0x20	</span><span class="cm">/* set interrupt pass through bits */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_PIC_ENABLEC             0x24	</span><span class="cm">/* Clear interrupt pass through bits */</span><span class="cp"></span>

<span class="cm">/* ------------------------------------------------------------------------</span>
<span class="cm"> *  Interrupts - bit assignment (primary)</span>
<span class="cm"> * ------------------------------------------------------------------------</span>
<span class="cm"> */</span>

<span class="cp">#define INT_WDOGINT                     0	</span><span class="cm">/* Watchdog timer */</span><span class="cp"></span>
<span class="cp">#define INT_SOFTINT                     1	</span><span class="cm">/* Software interrupt */</span><span class="cp"></span>
<span class="cp">#define INT_COMMRx                      2	</span><span class="cm">/* Debug Comm Rx interrupt */</span><span class="cp"></span>
<span class="cp">#define INT_COMMTx                      3	</span><span class="cm">/* Debug Comm Tx interrupt */</span><span class="cp"></span>
<span class="cp">#define INT_TIMERINT0_1                 4	</span><span class="cm">/* Timer 0 and 1 */</span><span class="cp"></span>
<span class="cp">#define INT_TIMERINT2_3                 5	</span><span class="cm">/* Timer 2 and 3 */</span><span class="cp"></span>
<span class="cp">#define INT_GPIOINT0                    6	</span><span class="cm">/* GPIO 0 */</span><span class="cp"></span>
<span class="cp">#define INT_GPIOINT1                    7	</span><span class="cm">/* GPIO 1 */</span><span class="cp"></span>
<span class="cp">#define INT_GPIOINT2                    8	</span><span class="cm">/* GPIO 2 */</span><span class="cp"></span>
<span class="cp">#define INT_GPIOINT3                    9	</span><span class="cm">/* GPIO 3 */</span><span class="cp"></span>
<span class="cp">#define INT_RTCINT                      10	</span><span class="cm">/* Real Time Clock */</span><span class="cp"></span>
<span class="cp">#define INT_SSPINT                      11	</span><span class="cm">/* Synchronous Serial Port */</span><span class="cp"></span>
<span class="cp">#define INT_UARTINT0                    12	</span><span class="cm">/* UART 0 on development chip */</span><span class="cp"></span>
<span class="cp">#define INT_UARTINT1                    13	</span><span class="cm">/* UART 1 on development chip */</span><span class="cp"></span>
<span class="cp">#define INT_UARTINT2                    14	</span><span class="cm">/* UART 2 on development chip */</span><span class="cp"></span>
<span class="cp">#define INT_SCIINT                      15	</span><span class="cm">/* Smart Card Interface */</span><span class="cp"></span>
<span class="cp">#define INT_CLCDINT                     16	</span><span class="cm">/* CLCD controller */</span><span class="cp"></span>
<span class="cp">#define INT_DMAINT                      17	</span><span class="cm">/* DMA controller */</span><span class="cp"></span>
<span class="cp">#define INT_PWRFAILINT                  18	</span><span class="cm">/* Power failure */</span><span class="cp"></span>
<span class="cp">#define INT_MBXINT                      19	</span><span class="cm">/* Graphics processor */</span><span class="cp"></span>
<span class="cp">#define INT_GNDINT                      20	</span><span class="cm">/* Reserved */</span><span class="cp"></span>
	<span class="cm">/* External interrupt signals from logic tiles or secondary controller */</span>
<span class="cp">#define INT_VICSOURCE21                 21	</span><span class="cm">/* Disk on Chip */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE22                 22	</span><span class="cm">/* MCI0A */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE23                 23	</span><span class="cm">/* MCI1A */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE24                 24	</span><span class="cm">/* AACI */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE25                 25	</span><span class="cm">/* Ethernet */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE26                 26	</span><span class="cm">/* USB */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE27                 27	</span><span class="cm">/* PCI 0 */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE28                 28	</span><span class="cm">/* PCI 1 */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE29                 29	</span><span class="cm">/* PCI 2 */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE30                 30	</span><span class="cm">/* PCI 3 */</span><span class="cp"></span>
<span class="cp">#define INT_VICSOURCE31                 31	</span><span class="cm">/* SIC source */</span><span class="cp"></span>

<span class="cp">#define VERSATILE_SC_VALID_INT               0x003FFFFF</span>

<span class="cp">#define MAXIRQNUM                       31</span>
<span class="cp">#define MAXFIQNUM                       31</span>
<span class="cp">#define MAXSWINUM                       31</span>

<span class="cm">/* ------------------------------------------------------------------------</span>
<span class="cm"> *  Interrupts - bit assignment (secondary)</span>
<span class="cm"> * ------------------------------------------------------------------------</span>
<span class="cm"> */</span>
<span class="cp">#define SIC_INT_MMCI0B                  1	</span><span class="cm">/* Multimedia Card 0B */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_MMCI1B                  2	</span><span class="cm">/* Multimedia Card 1B */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_KMI0                    3	</span><span class="cm">/* Keyboard/Mouse port 0 */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_KMI1                    4	</span><span class="cm">/* Keyboard/Mouse port 1 */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_SCI3                    5	</span><span class="cm">/* Smart Card interface */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_UART3                   6	</span><span class="cm">/* UART 3 empty or data available */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_CLCD                    7	</span><span class="cm">/* Character LCD */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_TOUCH                   8	</span><span class="cm">/* Touchscreen */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_KEYPAD                  9	</span><span class="cm">/* Key pressed on display keypad */</span><span class="cp"></span>
	<span class="cm">/* 10:20 - reserved */</span>
<span class="cp">#define SIC_INT_DoC                     21	</span><span class="cm">/* Disk on Chip memory controller */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_MMCI0A                  22	</span><span class="cm">/* MMC 0A */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_MMCI1A                  23	</span><span class="cm">/* MMC 1A */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_AACI                    24	</span><span class="cm">/* Audio Codec */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_ETH                     25	</span><span class="cm">/* Ethernet controller */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_USB                     26	</span><span class="cm">/* USB controller */</span><span class="cp"></span>
<span class="cp">#define SIC_INT_PCI0                    27</span>
<span class="cp">#define SIC_INT_PCI1                    28</span>
<span class="cp">#define SIC_INT_PCI2                    29</span>
<span class="cp">#define SIC_INT_PCI3                    30</span>


<span class="cm">/*</span>
<span class="cm"> * System controller bit assignment</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_REFCLK	0</span>
<span class="cp">#define VERSATILE_TIMCLK	1</span>

<span class="cp">#define VERSATILE_TIMER1_EnSel	15</span>
<span class="cp">#define VERSATILE_TIMER2_EnSel	17</span>
<span class="cp">#define VERSATILE_TIMER3_EnSel	19</span>
<span class="cp">#define VERSATILE_TIMER4_EnSel	21</span>


<span class="cp">#define VERSATILE_CSR_BASE             0x10000000</span>
<span class="cp">#define VERSATILE_CSR_SIZE             0x10000000</span>

<span class="cp">#ifdef CONFIG_MACH_VERSATILE_AB</span>
<span class="cm">/*</span>
<span class="cm"> * IB2 Versatile/AB expansion board definitions</span>
<span class="cm"> */</span>
<span class="cp">#define VERSATILE_IB2_CAMERA_BANK	VERSATILE_IB2_BASE</span>
<span class="cp">#define VERSATILE_IB2_KBD_DATAREG	(VERSATILE_IB2_BASE + 0x01000000)</span>

<span class="cm">/* VICINTSOURCE27 */</span>
<span class="cp">#define VERSATILE_IB2_INT_BASE		(VERSATILE_IB2_BASE + 0x02000000)</span>
<span class="cp">#define VERSATILE_IB2_IER		(VERSATILE_IB2_INT_BASE + 0)</span>
<span class="cp">#define VERSATILE_IB2_ISR		(VERSATILE_IB2_INT_BASE + 4)</span>

<span class="cp">#define VERSATILE_IB2_CTL_BASE		(VERSATILE_IB2_BASE + 0x03000000)</span>
<span class="cp">#define VERSATILE_IB2_CTRL		(VERSATILE_IB2_CTL_BASE + 0)</span>
<span class="cp">#define VERSATILE_IB2_STAT		(VERSATILE_IB2_CTL_BASE + 4)</span>
<span class="cp">#endif</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
