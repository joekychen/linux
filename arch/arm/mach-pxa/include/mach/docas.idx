f | io.h | s | 358B | 14 | Rob Herring | rob.herring@calxeda.com | 1333650595 |  | ARM: fix __io macro for PCMCIA  With commit c334bc1 (ARM: make mach/io.h include optional), PCMCIA was broken. PCMCIA depends on __io() returning a valid i/o address, and most ARM platforms require IO_SPACE_LIMIT be set to 0xffffffff for PCMCIA. This needs a better fix with a fixed i/o address mapping, but for now we just restore things to the previous behavior.  This fixes at91, omap1, pxa and sa11xx. pxa needs io.h if PCI is enabled, but PCMCIA is not. sa11xx already has IO_SPACE_LIMIT set to 0xffffffff, so it doesn't need an io.h.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Joachim Eastwood <joachim.eastwood@jotron.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Andrew Victor <linux@maxim.org.za> Cc: Nicolas Ferre <nicolas.ferre@atmel.com> Cc: Jean-Christophe Plagniol-Villard <plagnioj@jcrosoft.com> Tested-by: Paul Parsons <lost.distance@yahoo.com> (pxa270) Acked-by: Tony Lindgren <tony@atomide.com> Signed-off-by: Olof Johansson <olof@lixom.net>
f | hardware.h | s | 7.3K | 292 | Rob Herring | rob.herring@calxeda.com | 1332704191 |  | ARM: pxa: use common IOMEM definition  pxa was missed in the moving of IOMEM to a common definition, so lots of IOMEM redefined warnings were introduced. So remove pxa IOMEM definition and fix all the fallout.  Reported-by: Paul Gortmaker <paul.gortmaker@windriver.com> Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Eric Miao <eric.y.miao@gmail.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Haojian Zhuang <haojian.zhuang@marvell.com> Cc: Alessandro Zummo <a.zummo@towertech.it> Cc: Jaroslav Kysela <perex@perex.cz> Cc: Takashi Iwai <tiwai@suse.de> Cc: rtc-linux@googlegroups.com Cc: alsa-devel@alsa-project.org
f | tosa.h | s | 7.4K | 181 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276079 |  | ARM: pxa: rename NR_BUILTIN_GPIO  NR_BUILTIN_GPIO is both defined in arch-pxa and arch-mmp. Now replace it with PXA_NR_BUILTIN_GPIO and MMP_NR_BUILTIN_GPIO.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | csb726.h | s | 666B | 21 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276079 |  | ARM: pxa: rename gpio_to_irq and irq_to_gpio  Avoid to define gpio_to_irq() and irq_to_gpio() for potential name confliction since multiple architecture will be built together.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | pxa3xx-regs.h | s | 8.7K | 185 | Lucas De Marchi | lucas.demarchi@profusion.mobi | 1301581583 |  | Fix common misspellings  Fixes generated by 'codespell' and manually reviewed.  Signed-off-by: Lucas De Marchi <lucas.demarchi@profusion.mobi>
f | z2.h | s | 932B | 32 | Vasily Khoruzhick | anarsoul@gmail.com | 1300283762 |  | ARM: PXA: Z2: Fix libertas init/tear down sequences  GPIO15 seems to be not related to WiFi, so don't touch it.  Signed-off-by: Vasily Khoruzhick <anarsoul@gmail.com> Acked-by: Marek Vasut <marek.vasut@gmail.com>
f | mmc.h | s | 998B | 23 | Eric Miao | eric.y.miao@gmail.com | 1273591504 |  | [ARM] pxa: make it clear by converting MMC 'delay_detect' to millisecond  delay_detect in HZ is confusing, convert it to be millisecond based. And thus remove those unnecessary call to msecs_to_jiffies() at runtime for this field. Other constants are converted assuming HZ == 100, which are basically true for those platforms.  The assignment in csb726.c was incorrect, and is fixed in this patch as a result.  Signed-off-by: Eric Miao <eric.y.miao@gmail.com> Acked-by: Robert Jarzmik <robert.jarzmik@free.fr> Acked-by: Marc Zyngier <maz@misterjones.org> Acked-by: Marek Vasut <marek.vasut@gmail.com> Acked-by: Mike Rapoport <mike@compulab.co.il> Acked-by: Daniel Mack <daniel@caiaq.de>
f | reset.h | s | 678B | 17 | Daniel Ribeiro | drwyrm@gmail.com | 1242654729 |  | [ARM] pxa: allow gpio_reset drive high during normal work  I want to reuse tosa/spitz gpio_reset code, but my board needs the reset gpio to be driven high during normal operation.  Signed-off-by: Daniel Ribeiro <drwyrm@gmail.com> Acked-by: Dmitry Eremin-Solenikov <dbaryshkov@gmail.com> Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | mfp-pxa25x.h | s | 8.8K | 196 | Eric Miao | eric.y.miao@gmail.com | 1267486846 |  | [ARM] pxa: simplify the LCD pin configuration for pxa25x platforms  There are only limited possible LCD pin configurations for pxa25x platforms, simplify this by macro.  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | sharpsl_pm.h | s | 3.1K | 100 | Eric Miao | eric.y.miao@gmail.com | 1280989958 |  | [ARM] pxa: removed mostly unused and confusing two sharpsl.h  Only a small part of used code is moved into sharpsl_pm.h.  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | mfp.h | s | 515B | 18 | Haojian Zhuang | haojian.zhuang@marvell.com | 1252579764 |  | [ARM] pxa: remove duplicate mfp definition in mach  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | irda.h | s | 665B | 19 | Marek Vasut | marek.vasut@gmail.com | 1252579779 |  | [ARM] pxa: add gpio_pwdown(_inverted) into pxaficp_ir.c  and convert PXA-based devices to gpio_pwdown where possible.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | palm27x.h | s | 2.4K | 71 | Haojian Zhuang | haojian.zhuang@marvell.com | 1320910347 |  | ARM: pxa: fix inconsistent CONFIG_USB_PXA27X  Since CONFIG_USB_GADGET_PXA27X and other macros are renamed to CONFIG_USB_PXA27X. Update them in arch/arm/mach-pxa and arch/arm/configs to keep consistent.  Cc: stable@kernel.org Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Felipe Balbi <balbi@ti.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pxa3xx.h | s | 328B | 10 | Eric Miao | eric.y.miao@gmail.com | 1310471433 |  | ARM: pxa: enable MULTI_IRQ_HANDLER for all boards  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | colibri.h | s | 1.7K | 53 | Bjørn Forsman | bjorn.forsman@gmail.com | 1297263903 |  | ARM: pxa/colibri: use correct SD detect pin  The use of wrong SD detect pin was introduced by this commit:    ARM: pxa: Push Colibri evalboard MFP into module files  This fixes it.  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | palmt5.h | s | 2.4K | 66 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276078 |  | ARM: pxa: rename IRQ_GPIO to PXA_GPIO_TO_IRQ  Avoid potential naming confliction since multiple architecture will be built in a single kernel.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | pcm990_baseboard.h | s | 8.6K | 175 | Sascha Hauer | s.hauer@pengutronix.de | 1335503136 |  | ARM: pxa: use ioremap to access CPLD  The pcm990 baseboard for the pcm027 module used to setup a static mapping for accessing the CPLD. It became illegal to call iotable_init that late. The pcm027 support is broken since then. This patch switches the cpld support to ioremap and removes all references to previous static mappings.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de> Acked-by: Eric Miao <eric.y.miao@gmail.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | zylonite.h | s | 926B | 33 | Arnd Bergmann | arnd@arndb.de | 1318078977 |  | ARM: pxa: make zylonite_pxa*_init declaration match code  When support for zylonite is disabled, the zylonite_pxa300_init and zylonite_pxa320_init functions are not there, but the declaration is still kept around if any other boards for the same soc are enabled. This changes the declaration to be conditional on the same symbol as the code.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pxa930.h | s | 133B | 5 | Eric Miao | eric.y.miao@gmail.com | 1310471120 |  | ARM: pxa: add common header file for pxa3xx  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pata_pxa.h | s | 1.0K | 30 | Marek Vasut | marek.vasut@gmail.com | 1276844852 |  | [ARM] pata_pxa: DMA-capable PATA driver  This patch adds a driver for a harddrive attached to PXA address and data bus. Unlike pata_platform, this driver allows usage of PXA DMA controller, making the transmission speed 3x higher.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com> Acked-by: Jeff Garzik <jgarzik@redhat.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | zeus.h | s | 2.3K | 69 | Arnd Bergmann | arnd@arndb.de | 1318078987 |  | ARM: pxa: use correct __iomem annotations  This tries to clear up the confusion between integers and iomem pointers in the marvell pxa platform. MMIO addresses are supposed to be __iomem* values, in order to let the Linux type checking work correctly. This patch moves the cast to __iomem as far back as possible, to the place where the MMIO virtual address windows are defined.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | palmtreo.h | s | 1.8K | 60 | Tomáš Čech | sleep_walker@suse.cz | 1259629369 |  | [ARM] pxa/treo: add Palm Centro 685 support  Signed-off-by: Tomáš Čech <sleep_walker@suse.cz> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | mfp-pxa3xx.h | s | 5.8K | 147 | Eric Miao | eric.miao@marvell.com | 1237774294 |  | [ARM] pxa: move common MFP handling code into plat-pxa  Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | palmasoc.h | s | 113B | 6 | Marek Vasut | marek.vasut@gmail.com | 1240149414 |  | [ARM] pxa/palm27x: General fix for Palm27x aSoC driver  Firstly, this patch makes the palm27x asoc driver a little more sane. Also, since all affected devices use GPIO95 as AC97_nRESET, this patch sets that properly. Affected are PalmT5, TX and LifeDrive.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | littleton.h | s | 313B | 8 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321355307 |  | ARM: pxa: change gpio to platform device  Remove most gpio macros and change gpio driver to platform driver.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | palmld.h | s | 3.0K | 86 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276078 |  | ARM: pxa: rename IRQ_GPIO to PXA_GPIO_TO_IRQ  Avoid potential naming confliction since multiple architecture will be built in a single kernel.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | palmte2.h | s | 1.9K | 56 | André Goddard Rosa | andre.goddard@gmail.com | 1259937595 |  | tree-wide: fix assorted typos all over the place  That is "success", "unknown", "through", "performance", "[re||un]mapping" , "access", "default", "reasonable", "[con]currently", "temperature" , "channel", "[un]used", "application", "example","hierarchy", "therefore" , "[over||under]flow", "contiguous", "threshold", "enough" and others.  Signed-off-by: André Goddard Rosa <andre.goddard@gmail.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | arcom-pcmcia.h | s | 161B | 9 | Marc Zyngier | maz@misterjones.org | 1260711778 |  | [ARM] pxa/zeus: make Viper pcmcia support more generic to support Zeus  The Arcom Zeus CF slot requires the same kind of support as the Viper. To avoid code duplication, introduce a platform device that abstracts the differences.  This also allows for the removal of the ugly export of viper_cf_rst().  Signed-off-by: Marc Zyngier <maz@misterjones.org> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | corgi.h | s | 4.7K | 101 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276079 |  | ARM: pxa: rename NR_BUILTIN_GPIO  NR_BUILTIN_GPIO is both defined in arch-pxa and arch-mmp. Now replace it with PXA_NR_BUILTIN_GPIO and MMP_NR_BUILTIN_GPIO.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | dma.h | s | 550B | 18 | Eric Miao | eric.miao@marvell.com | 1237774291 |  | [ARM] pxa: introduce plat-pxa for PXA common code and add DMA support  1. introduce folder of 'arch/arm/plat-pxa' for common code across different    PXA processor families  2. initially moved DMA code into plat-pxa  3. common code in <mach/dma.h> moved into <plat/dma.h>, new processors    should implement its own <mach/dma.h>, provide the following required    definitions and '#include <plat/dma.h>' in the end:     - DMAC_REGS_VIRT for mapped virtual address of the DMA registers'      physical I/O memory  Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | h5000.h | s | 5.3K | 104 | Anton Vorontsov | cbouatmailru@gmail.com | 1228200230 |  | [ARM] pxa: add basic support for HP iPAQ h5000  This patch adds HP iPAQ h5000's (h5400, h5500) basic definitions.  Kernel will able to boot, work via serial console, mount filesystems placed on flashes and run USB gadgets (g_ether by default).  Other device drivers (frame buffer, LCD, touchscreen, backlight, bluetooth, w1/battery, ...) are depend on SAMCOP and MediaQ SoCs/MFDs, drivers to which will be submitted too, after massive cleanups.  This machine will be used as "real user" for these new drivers.  This is an updated version of the patch, which contains fixes proposed on linux-arm-kernel mailing list.  Signed-off-by: Anton Vorontsov <cbouatmailru@gmail.com> Signed-off-by: Milan Plzik <milan.plzik@gmail.com> Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | udc.h | s | 150B | 6 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | magician.h | s | 4.0K | 104 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276079 |  | ARM: pxa: rename NR_BUILTIN_GPIO  NR_BUILTIN_GPIO is both defined in arch-pxa and arch-mmp. Now replace it with PXA_NR_BUILTIN_GPIO and MMP_NR_BUILTIN_GPIO.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | smemc.h | s | 4.1K | 66 | Arnd Bergmann | arnd@arndb.de | 1318078987 |  | ARM: pxa: use correct __iomem annotations  This tries to clear up the confusion between integers and iomem pointers in the marvell pxa platform. MMIO addresses are supposed to be __iomem* values, in order to let the Linux type checking work correctly. This patch moves the cast to __iomem as far back as possible, to the place where the MMIO virtual address windows are defined.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | mfp-pxa300.h | s | 25K | 522 | Axel Lin | axel.lin@gmail.com | 1283133583 |  | ARM: pxa: fix CI_HSYNC and CI_VSYNC MFP defines for pxa300  According to PXA3xx Processor Family Developer Manuall Vol1. section "Pin Descriptions and Control", PXA30x and PXA31x Processor Alternate Function Table shows the Alt FN 0 for GPIO51 is CI_HSYNC and for GPIO52 is CI_VSYNC.  This patch fixes the MFP defines and also corrects the order of MFD defines.  Signed-off-by: Axel Lin <axel.lin@gmail.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | tosa_bt.h | s | 442B | 19 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | mfp-pxa27x.h | s | 21K | 433 | Paul Parsons | lost.distance@yahoo.com | 1336959497 |  | ARM: pxa: hx4700: Add Synaptics NavPoint touchpad  This patch adds the Synaptics NavPoint touchpad to the hx4700 platform: 1. Change GPIO23_SSP1_SCLK value in hx4700_pin_config[] from an output to an input, since the NavPoint is connected to SSP in SPI slave mode. 2. Add GPIO102_GPIO (NavPoint power) to hx4700_pin_config[]. 3. Add navpoint platform_device to devices[].  Signed-off-by: Paul Parsons <lost.distance@yahoo.com> Cc: Philipp Zabel <philipp.zabel@gmail.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | mioa701.h | s | 1.9K | 60 | Robert Jarzmik | robert.jarzmik@free.fr | 1335503168 |  | ARM: pxa: mioa701 add camera output enable gpio  The Micron MT9M111 camera chip needs its output enable to be activated in order to work. The bootloader is not required to activate it, so do it in machine code.  Signed-off-by: Robert Jarzmik <robert.jarzmik@free.fr> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | pxa930_trkball.h | s | 187B | 7 | Yong Yao | yaoyong@marvell.com | 1230555538 |  | Input: add support for trackball on pxa930 and pxa935  Signed-off-by: Yong Yao <yaoyong@marvell.com> Signed-off-by: Eric Miao <eric.miao@marvell.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | regs-uart.h | s | 7.5K | 129 | Eric Miao | eric.miao@marvell.com | 1228200158 |  | [ARM] pxa: move UART register definitions into dedicated regs-uart.h  Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | pm.h | s | 1.1K | 34 | Russell King | rmk+kernel@arm.linux.org.uk | 1309596841 |  | ARM: pm: allow suspend finisher to return error codes  There are SoCs where attempting to enter a low power state is ignored, and the CPU continues executing instructions with all state preserved. It is over-complex at that point to disable the MMU just to call the resume path.  Instead, allow the suspend finisher to return error codes to abort suspend in this circumstance, where the cpu_suspend internals will then unwind the saved state on the stack.  Also omit the tlb flush as no changes to the page tables will have happened.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | pxa2xx-regs.h | s | 8.6K | 169 | Marek Vasut | marek.vasut@gmail.com | 1292481076 |  | ARM: pxa: Access SMEMC via virtual addresses  This is important because on PXA3xx, the physical mapping of SMEMC registers differs from the one on PXA2xx. In order to get PCMCIA working on both PXA2xx and PXA320, the PCMCIA driver was adjusted accordingly as well.  Also, various places in the kernel had to be patched to use __raw_read/__raw_write.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com> Acked-by: Haojian Zhuang <haojian.zhuang@gmail.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pxa27x-udc.h | s | 14K | 236 | Joe Perches | joe@perches.com | 1308907214 |  | treewide: transciever/transceiver spelling fixes  Just tyops.  Signed-off-by: Joe Perches <joe@perches.com> Signed-off-by: Jiri Kosina <jkosina@suse.cz>
f | regs-ac97.h | s | 4.4K | 82 | Eric Miao | eric.miao@marvell.com | 1232336376 |  | [ARM] pxa: fix missing of __REG() definition for ac97 registers access  This currently happens for 'drivers/input/touch/mainstone-wm97xx.c'.  Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | idp.h | s | 5.8K | 153 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321355307 |  | ARM: pxa: change gpio to platform device  Remove most gpio macros and change gpio driver to platform driver.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | lubbock.h | s | 1.9K | 46 | Haojian Zhuang | haojian.zhuang@marvell.com | 1286526077 |  | ARM: pxa: encode IRQ number into .nr_irqs  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Antonio Ospite <ospite@studenti.unina.it> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | vpac270.h | s | 994B | 31 | Marek Vasut | marek.vasut@gmail.com | 1273591503 |  | [ARM] pxa/vpac270: remove TS_IRQ magic number  The touchscreen GPIO IRQ was used as a magic number. Define it properly in the board header file. This is a simple cleanup patch.  Signed-off-by: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pxa300.h | s | 133B | 5 | Eric Miao | eric.y.miao@gmail.com | 1310471120 |  | ARM: pxa: add common header file for pxa3xx  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | balloon3.h | s | 6.3K | 150 | Russell King | rmk+kernel@arm.linux.org.uk | 1328365942 |  | PCMCIA: pxa: convert PXA socket drivers to use new irq/gpio management  Convert all the PXA platform socket drivers to use the new irq/gpio management provided by soc_common.  This relieves these drivers from having to do anything with these GPIOs other than provide the numbers to soc_common.  Acked-by: Dominik Brodowski <linux@dominikbrodowski.net> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | lpd270.h | s | 1.4K | 36 | Arnd Bergmann | arnd@arndb.de | 1318078987 |  | ARM: pxa: use correct __iomem annotations  This tries to clear up the confusion between integers and iomem pointers in the marvell pxa platform. MMIO addresses are supposed to be __iomem* values, in order to let the Linux type checking work correctly. This patch moves the cast to __iomem as far back as possible, to the place where the MMIO virtual address windows are defined.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | mfp-pxa320.h | s | 21K | 412 | Jürgen Schindele | linux@schindele.name | 1244169175 |  | [ARM] pxa: add additional mfp definitions for pxa320  Signed-off-by: Jürgen Schindele <linux@schindele.name> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pxa95x.h | s | 133B | 5 | Eric Miao | eric.y.miao@gmail.com | 1318078980 |  | ARM: pxa: pxa95x/saarb depends on pxa3xx code  saarb uses pxa3xx_map_io and pxa3xx_handle_irq, which are part of the pxa3xx code. This makes sure the necessary header and implementation is used when building the board file.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pxa27x.h | s | 1.2K | 23 | Eric Miao | eric.y.miao@gmail.com | 1318078964 |  | ARM: pxa/z2: fix building error of pxa27x_cpu_suspend() no longer available  Cc: Vasily Khoruzhick <anarsoul@gmail.com> Acked-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | uncompress.h | s | 1.7K | 65 | Nicolas Pitre | nicolas.pitre@linaro.org | 1304741282 |  | ARM: zImage: remove the static qualifier from global data variables  To be able to relocate the .bss section at run time independently from the rest of the code, we must make sure that no GOTOFF relocations are used with .bss symbols.  This usually means that no global variables can be marked static unless they're also const.  Let's remove the static qualifier from current offenders, or turn them into const variables when possible.  Next commit will ensure the build fails if one of those is reintroduced due to otherwise enforced coding standards for the kernel.  Signed-off-by: Nicolas Pitre <nicolas.pitre@linaro.org> Tested-by: Tony Lindgren <tony@atomide.com>
f | pxa320.h | s | 134B | 5 | Eric Miao | eric.y.miao@gmail.com | 1310471120 |  | ARM: pxa: add common header file for pxa3xx  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | trizeps4.h | s | 5.0K | 139 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276078 |  | ARM: pxa: rename IRQ_GPIO to PXA_GPIO_TO_IRQ  Avoid potential naming confliction since multiple architecture will be built in a single kernel.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | irqs.h | s | 5.1K | 105 | Rob Herring | rob.herring@calxeda.com | 1327545469 |  | ARM: pxa: remove NR_IRQS  Remove NR_IRQS and add a per machine .nr_irqs setting.  Signed-off-by: Rob Herring <rob.herring@calxeda.com>
f | mxm8x10.h | s | 427B | 14 | Eric Miao | eric.y.miao@gmail.com | 1267496654 |  | [ARM] pxa: fix typo in mxm8x10.h  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | regs-rtc.h | s | 815B | 18 | Eric Miao | eric.miao@marvell.com | 1236604960 |  | [ARM] pxa: separate definitions from pxa-regs.h and remove it finally  The remaining registers are separated into:     - <mach/regs-ost.h>    - <mach/regs-rtc.h>    - <mach/regs-intc.h>  and then we can remove pxa-regs.h completely. Instead of #include this file, let's:  1. include the specific <mach/regs-*.h> with care (if that's absolutely    necessary)  2. define the registers in the driver, make cleanly defined API to expose    the register access to external with sufficient reason  Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | pxa930_rotary.h | s | 603B | 17 | Yong Yao | yaoyong@marvell.com | 1230555556 |  | Input: add support for enhanced rotary controller on pxa930 and pxa935  Signed-off-by: Yong Yao <yaoyong@marvell.com> Signed-off-by: Eric Miao <eric.miao@marvell.com> Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
f | palmtx.h | s | 3.3K | 86 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276078 |  | ARM: pxa: rename IRQ_GPIO to PXA_GPIO_TO_IRQ  Avoid potential naming confliction since multiple architecture will be built in a single kernel.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | palmtc.h | s | 2.4K | 70 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276078 |  | ARM: pxa: rename IRQ_GPIO to PXA_GPIO_TO_IRQ  Avoid potential naming confliction since multiple architecture will be built in a single kernel.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | ohci.h | s | 886B | 28 | Eric Miao | eric.miao@marvell.com | 1223403177 |  | [ARM] ohci-pxa27x: introduce flags to avoid direct access to OHCI registers  Direct access to USB host controller registers is considered to be not portable, and is usually a bad sign for poorly abstracted interface. Introduce .flags and .power_on_delay to "struct pxaohci_platform_data" so that most platforms don't bother to write their own .init/.exit() sequences.  Signed-off-by: Eric Miao <eric.miao@marvell.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | regs-ost.h | s | 1.2K | 27 | Eric Miao | eric.miao@marvell.com | 1236604960 |  | [ARM] pxa: separate definitions from pxa-regs.h and remove it finally  The remaining registers are separated into:     - <mach/regs-ost.h>    - <mach/regs-rtc.h>    - <mach/regs-intc.h>  and then we can remove pxa-regs.h completely. Instead of #include this file, let's:  1. include the specific <mach/regs-*.h> with care (if that's absolutely    necessary)  2. define the registers in the driver, make cleanly defined API to expose    the register access to external with sufficient reason  Signed-off-by: Eric Miao <eric.miao@marvell.com>
f | pxafb.h | s | 5.4K | 157 | Eric Miao | eric.y.miao@gmail.com | 1318078984 |  | ARM: pxa: make pxafb_smart_*() empty when not enabled  Reported-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | addr-map.h | s | 1.1K | 41 | Arnd Bergmann | arnd@arndb.de | 1318078987 |  | ARM: pxa: use correct __iomem annotations  This tries to clear up the confusion between integers and iomem pointers in the marvell pxa platform. MMIO addresses are supposed to be __iomem* values, in order to let the Linux type checking work correctly. This patch moves the cast to __iomem as far back as possible, to the place where the MMIO virtual address windows are defined.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | regs-lcd.h | s | 9.0K | 163 | Eric Miao | ycmiao@ycmiao-hp520.(none) | 1230544804 |  | [ARM] pxafb: add support for overlay1 and overlay2 as framebuffer devices  PXA27x and later processors support overlay1 and overlay2 on-top of the base framebuffer (although under-neath the base is also possible). They support palette and no-palette RGB formats, as well as YUV formats (only available on overlay2). These overlays have dedicated DMA channels and behave in a similar way as a framebuffer.  This heavily simplified and re-structured work is based on the original pxafb_overlay.c (which is pending for mainline merge for a long time).  The major problems with this pxafb_overlay.c are (if you are interested in the history):    1. heavily redundant (the control logics for overlay1 and overlay2 are      actually identical except for some small operations,  which are now      abstracted into a 'pxafb_layer_ops' structure)    2. a lot of useless and un-tested code (two workarounds which are now      fixed on mature silicons)    3. cursorfb is actually useless, hardware cursor should not be used      this way, and the code was actually un-tested for a long time.  The code in this patch should be self-explanatory, I tried to add minimum comments. As said, this is basically simplified, there are several things still on the pending list:    1. palette mode is un-supported and un-tested (although re-using the      palette code of the base framebuffer is actually very easy now with      previous clean-up patches)    2. fb_pan_display for overlay(s) is un-supported    3. the base framebuffer can actually be abstracted by 'pxafb_layer' as      well, which will help further re-use of the code and keep a better      and consistent structure. (This is the reason I named it 'pxafb_layer'      instead of 'pxafb_overlay' or something alike)  See Documentation/fb/pxafb.txt for additional usage information.  Signed-off-by: Eric Miao <eric.miao@marvell.com> Cc: Rodolfo Giometti <giometti@linux.it> Signed-off-by: Eric Miao <ycmiao@ycmiao-hp520.(none)>
f | pxa25x-udc.h | s | 8.1K | 139 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | gumstix.h | s | 3.1K | 73 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276078 |  | ARM: pxa: rename IRQ_GPIO to PXA_GPIO_TO_IRQ  Avoid potential naming confliction since multiple architecture will be built in a single kernel.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | mainstone.h | s | 6.5K | 122 | Rob Herring | rob.herring@calxeda.com | 1330035326 |  | ARM: 7344/1: pxa: mainstone: add missing include for IRQ_BOARD_START  As part of mach/irqs.h include removal from sparse, mainstone.h was missed. This fixes the compile of the pcmcia driver.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | debug-macro.S | g | 614B |  | Nicolas Pitre | nicolas.pitre@linaro.org | 1317046285 |  | ARM: add an extra temp register to the low level debugging addruart macro  Some platforms (like OMAP not to name it) are doing rather complicated hacks just to determine the base UART address to use.  Let's give their addruart macro some slack by providing an extra work register which will allow for much needed cleanups.  This is basically a no-op as this commit is only adding the extra argument to the macro but no one is using it yet.  Signed-off-by: nicolas Pitre <nicolas.pitre@linaro.org> Reviewed-by: Kevin Hilman <khilman@ti.com>
f | mfp-pxa930.h | s | 20K | 439 | Haojian Zhuang | haojian.zhuang@gmail.com | 1286615244 |  | ARM: pxa: append tavorevb3 support  Bringup tavorevb3 development platform. UART and PMIC are enabled.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | poodle.h | s | 3.2K | 83 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276079 |  | ARM: pxa: rename NR_BUILTIN_GPIO  NR_BUILTIN_GPIO is both defined in arch-pxa and arch-mmp. Now replace it with PXA_NR_BUILTIN_GPIO and MMP_NR_BUILTIN_GPIO.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | gpio.h | s | 1.0K | 28 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321355307 |  | ARM: pxa: change gpio to platform device  Remove most gpio macros and change gpio driver to platform driver.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | mfp-pxa2xx.h | s | 5.4K | 131 | Igor Grinberg | grinberg@compulab.co.il | 1335496310 |  | ARM: PXA2xx: MFP: fix bug with MFP_LPM_KEEP_OUTPUT  Pins that have MFP_LPM_KEEP_OUTPUT set and are configured for output must retain the output state in low power mode. Currently, the pin direction configuration is overrided with values in gpdr_lpm[] array and do not obey the MFP_LPM_KEEP_OUTPUT setting.  Fix the above bug and add some documentation to clarify the MFP_LPM_KEEP_OUTPUT setting purpose.  Reported-by: Paul Parsons <lost.distance@yahoo.com> Signed-off-by: Igor Grinberg <grinberg@compulab.co.il> Tested-by: Paul Parsons <lost.distance@yahoo.com> Signed-off-by: Haojian Zhuang <haojian.zhuang@gmail.com>
f | camera.h | s | 1.4K | 35 | Antonio Ospite | ospite@studenti.unina.it | 1267207860 |  | pxa_camera: remove init() callback  pxa_camera init() callback is sometimes abused to setup MFP for PXA CIF, or even to request GPIOs to be used by the camera *sensor*. These initializations can be performed statically in machine init functions.  The current semantics for this init() callback is ambiguous anyways, it is invoked in pxa_camera_activate(), hence at device node open, but its users use it like a generic initialization to be done at module init time (configure MFP, request GPIOs for *sensor* control).  Signed-off-by: Antonio Ospite <ospite@studenti.unina.it> Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de> Signed-off-by: Mauro Carvalho Chehab <mchehab@redhat.com>
f | pxa25x.h | s | 388B | 13 | Eric Miao | eric.y.miao@gmail.com | 1310471433 |  | ARM: pxa: enable MULTI_IRQ_HANDLER for all boards  Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | pcm027.h | s | 2.9K | 73 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276078 |  | ARM: pxa: rename IRQ_GPIO to PXA_GPIO_TO_IRQ  Avoid potential naming confliction since multiple architecture will be built in a single kernel.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Grant Likely <grant.likely@secretlab.ca>
f | viper.h | s | 3.0K | 80 | Marc Zyngier | maz@misterjones.org | 1260711778 |  | [ARM] pxa/zeus: make Viper pcmcia support more generic to support Zeus  The Arcom Zeus CF slot requires the same kind of support as the Viper. To avoid code duplication, introduce a platform device that abstracts the differences.  This also allows for the removal of the ugly export of viper_cf_rst().  Signed-off-by: Marc Zyngier <maz@misterjones.org> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | timex.h | s | 1.0K | 32 | Eric Miao | eric.miao@marvell.com | 1230544668 |  | [ARM] rtc-sa1100: don't assume CLOCK_TICK_RATE to be a constant  As Nicolas and Russell pointed out, CLOCK_TICK_RATE is no more a constant on PXA when multiple processors and platforms are selected, change TIMER_FREQ in rtc-sa1100.c into a variable.  Since the code to decide the clock tick rate is re-used from timer.c, introduce a common get_clock_tick_rate() for this.  Signed-off-by: Eric Miao <eric.miao@marvell.com> Acked-by: Nicolas Pitre <nico@marvell.com>
f | hx4700.h | s | 4.9K | 120 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276079 |  | ARM: pxa: rename NR_BUILTIN_GPIO  NR_BUILTIN_GPIO is both defined in arch-pxa and arch-mmp. Now replace it with PXA_NR_BUILTIN_GPIO and MMP_NR_BUILTIN_GPIO.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | eseries-irq.h | s | 795B | 23 | Haojian Zhuang | haojian.zhuang@marvell.com | 1286526077 |  | ARM: pxa: encode IRQ number into .nr_irqs  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: Antonio Ospite <ospite@studenti.unina.it> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | bitfield.h | s | 2.8K | 95 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | pxa3xx-u2d.h | s | 821B | 27 | Igor Grinberg | grinberg@compulab.co.il | 1286526077 |  | ARM: pxa: add U2D controller and ULPI driver for pxa3xx  USB2.0 Device Controller (U2DC) which is found in Marvell PXA3xx. U2DC supports both High and Full speed modes. PXA320 and PXA300 U2DC supports only UTMI interface. PXA310 U2DC supports only ULPI interface and has the OTG capability.  U2D Controller ULPI driver introduced in this patch supports only the PXA310 USB Host via the ULPI.  Signed-off-by: Igor Grinberg <grinberg@compulab.co.il> Signed-off-by: Mike Rapoport <mike@compulab.co.il> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | palmz72.h | s | 2.2K | 69 | Marek Vasut | marek.vasut@gmail.com | 1300264367 |  | ARM: pxa: PalmZ72: Add OV9640 camera support  Rework of patch from 2009: PalmZ72: Add support for OV9640 camera sensor  Signed-off-by: Marek Vasut <marek.vasut@gmail.com>
f | mtd-xip.h | s | 1.1K | 28 | Arnd Bergmann | arnd@arndb.de | 1318078987 |  | ARM: pxa: use correct __iomem annotations  This tries to clear up the confusion between integers and iomem pointers in the marvell pxa platform. MMIO addresses are supposed to be __iomem* values, in order to let the Linux type checking work correctly. This patch moves the cast to __iomem as far back as possible, to the place where the MMIO virtual address windows are defined.  Signed-off-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
f | eseries-gpio.h | s | 1.9K | 56 | Ian Molton | ian@mnementh.co.uk | 1232381741 |  | ASoC: machine support for Toshiba e740 PDA  This patch provides suupport for the wm9705 AC97 codec on the Toshiba e740.  Note: The e740 has a hard headphone switch that turns the speaker off and is not software detectable or controlable. Also both headphone and speaker amps share a common output enable.  Signed-off-by: Ian Molton <ian@mnementh.co.uk> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | audio.h | s | 916B | 25 | Marek Vasut | marek.vasut@gmail.com | 1250198377 |  | ALSA: Allow passing platform_data for pxa2xx-ac97  This patch adds support for passing platform data to ac97 bus devices from PXA2xx-AC97 driver..  Signed-off-by: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | spitz.h | s | 8.3K | 167 | Haojian Zhuang | haojian.zhuang@marvell.com | 1321276079 |  | ARM: pxa: rename NR_BUILTIN_GPIO  NR_BUILTIN_GPIO is both defined in arch-pxa and arch-mmp. Now replace it with PXA_NR_BUILTIN_GPIO and MMP_NR_BUILTIN_GPIO.  Signed-off-by: Haojian Zhuang <haojian.zhuang@marvell.com>
f | regs-u2d.h | s | 10K | 171 | Igor Grinberg | grinberg@compulab.co.il | 1273115530 |  | [ARM] pxa: add missing new line to regs-u2d.h  Signed-off-by: Igor Grinberg <grinberg@compulab.co.il> Signed-off-by: Eric Miao <eric.y.miao@gmail.com>
