<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-pxa › include › mach › balloon3.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>balloon3.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> *  linux/include/asm-arm/arch-pxa/balloon3.h</span>
<span class="cm"> *</span>
<span class="cm"> *  Authors:	Nick Bane and Wookey</span>
<span class="cm"> *  Created:	Oct, 2005</span>
<span class="cm"> *  Copyright:	Toby Churchill Ltd</span>
<span class="cm"> *  Cribbed from mainstone.c, by Nicholas Pitre</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef ASM_ARCH_BALLOON3_H</span>
<span class="cp">#define ASM_ARCH_BALLOON3_H</span>

<span class="k">enum</span> <span class="n">balloon3_features</span> <span class="p">{</span>
	<span class="n">BALLOON3_FEATURE_OHCI</span><span class="p">,</span>
	<span class="n">BALLOON3_FEATURE_MMC</span><span class="p">,</span>
	<span class="n">BALLOON3_FEATURE_CF</span><span class="p">,</span>
	<span class="n">BALLOON3_FEATURE_AUDIO</span><span class="p">,</span>
	<span class="n">BALLOON3_FEATURE_TOPPOLY</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define BALLOON3_FPGA_PHYS	PXA_CS4_PHYS</span>
<span class="cp">#define BALLOON3_FPGA_VIRT	IOMEM(0xf1000000)	</span><span class="cm">/* as per balloon2 */</span><span class="cp"></span>
<span class="cp">#define BALLOON3_FPGA_LENGTH	0x01000000</span>

<span class="cp">#define	BALLOON3_FPGA_SETnCLR		(0x1000)</span>

<span class="cm">/* FPGA / CPLD registers for CF socket */</span>
<span class="cp">#define	BALLOON3_CF_STATUS_REG		(BALLOON3_FPGA_VIRT + 0x00e00008)</span>
<span class="cp">#define	BALLOON3_CF_CONTROL_REG		(BALLOON3_FPGA_VIRT + 0x00e00008)</span>
<span class="cm">/* FPGA / CPLD version register */</span>
<span class="cp">#define	BALLOON3_FPGA_VER		(BALLOON3_FPGA_VIRT + 0x00e0001c)</span>
<span class="cm">/* FPGA / CPLD registers for NAND flash */</span>
<span class="cp">#define	BALLOON3_NAND_BASE		(PXA_CS4_PHYS + 0x00e00000)</span>
<span class="cp">#define	BALLOON3_NAND_IO_REG		(BALLOON3_FPGA_VIRT + 0x00e00000)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL2_REG	(BALLOON3_FPGA_VIRT + 0x00e00010)</span>
<span class="cp">#define	BALLOON3_NAND_STAT_REG		(BALLOON3_FPGA_VIRT + 0x00e00014)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_REG	(BALLOON3_FPGA_VIRT + 0x00e00014)</span>

<span class="cm">/* fpga/cpld interrupt control register */</span>
<span class="cp">#define BALLOON3_INT_CONTROL_REG	(BALLOON3_FPGA_VIRT + 0x00e0000C)</span>
<span class="cp">#define BALLOON3_VERSION_REG		(BALLOON3_FPGA_VIRT + 0x00e0001c)</span>

<span class="cp">#define BALLOON3_SAMOSA_ADDR_REG	(BALLOON3_FPGA_VIRT + 0x00c00000)</span>
<span class="cp">#define BALLOON3_SAMOSA_DATA_REG	(BALLOON3_FPGA_VIRT + 0x00c00004)</span>
<span class="cp">#define BALLOON3_SAMOSA_STATUS_REG	(BALLOON3_FPGA_VIRT + 0x00c0001c)</span>

<span class="cm">/* CF Status Register bits (read-only) bits */</span>
<span class="cp">#define BALLOON3_CF_nIRQ		(1 &lt;&lt; 0)</span>
<span class="cp">#define BALLOON3_CF_nSTSCHG_BVD1	(1 &lt;&lt; 1)</span>

<span class="cm">/* CF Control Set Register bits / CF Control Clear Register bits (write-only) */</span>
<span class="cp">#define BALLOON3_CF_RESET		(1 &lt;&lt; 0)</span>
<span class="cp">#define BALLOON3_CF_ENABLE		(1 &lt;&lt; 1)</span>
<span class="cp">#define BALLOON3_CF_ADD_ENABLE		(1 &lt;&lt; 2)</span>

<span class="cm">/* CF Interrupt sources */</span>
<span class="cp">#define BALLOON3_BP_CF_NRDY_IRQ		BALLOON3_IRQ(0)</span>
<span class="cp">#define BALLOON3_BP_NSTSCHG_IRQ		BALLOON3_IRQ(1)</span>

<span class="cm">/* NAND Control register */</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLWP	(1 &lt;&lt; 7)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLSE	(1 &lt;&lt; 6)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLCE3	(1 &lt;&lt; 5)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLCE2	(1 &lt;&lt; 4)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLCE1	(1 &lt;&lt; 3)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLCE0	(1 &lt;&lt; 2)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLALE	(1 &lt;&lt; 1)</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL_FLCLE	(1 &lt;&lt; 0)</span>

<span class="cm">/* NAND Status register */</span>
<span class="cp">#define	BALLOON3_NAND_STAT_RNB		(1 &lt;&lt; 0)</span>

<span class="cm">/* NAND Control2 register */</span>
<span class="cp">#define	BALLOON3_NAND_CONTROL2_16BIT	(1 &lt;&lt; 0)</span>

<span class="cm">/* GPIOs for irqs */</span>
<span class="cp">#define BALLOON3_GPIO_AUX_NIRQ		(94)</span>
<span class="cp">#define BALLOON3_GPIO_CODEC_IRQ		(95)</span>

<span class="cm">/* Timer and Idle LED locations */</span>
<span class="cp">#define BALLOON3_GPIO_LED_NAND		(9)</span>
<span class="cp">#define BALLOON3_GPIO_LED_IDLE		(10)</span>

<span class="cm">/* backlight control */</span>
<span class="cp">#define BALLOON3_GPIO_RUN_BACKLIGHT	(99)</span>

<span class="cp">#define BALLOON3_GPIO_S0_CD		(105)</span>

<span class="cm">/* NAND */</span>
<span class="cp">#define BALLOON3_GPIO_RUN_NAND		(102)</span>

<span class="cm">/* PCF8574A Leds */</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_BASE		160</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED0		(BALLOON3_PCF_GPIO_BASE + 0)</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED1		(BALLOON3_PCF_GPIO_BASE + 1)</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED2		(BALLOON3_PCF_GPIO_BASE + 2)</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED3		(BALLOON3_PCF_GPIO_BASE + 3)</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED4		(BALLOON3_PCF_GPIO_BASE + 4)</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED5		(BALLOON3_PCF_GPIO_BASE + 5)</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED6		(BALLOON3_PCF_GPIO_BASE + 6)</span>
<span class="cp">#define	BALLOON3_PCF_GPIO_LED7		(BALLOON3_PCF_GPIO_BASE + 7)</span>

<span class="cm">/* FPGA Interrupt Mask/Acknowledge Register */</span>
<span class="cp">#define BALLOON3_INT_S0_IRQ		(1 &lt;&lt; 0)  </span><span class="cm">/* PCMCIA 0 IRQ */</span><span class="cp"></span>
<span class="cp">#define BALLOON3_INT_S0_STSCHG		(1 &lt;&lt; 1)  </span><span class="cm">/* PCMCIA 0 status changed */</span><span class="cp"></span>

<span class="cm">/* CPLD (and FPGA) interface definitions */</span>
<span class="cp">#define CPLD_LCD0_DATA_SET             0x00</span>
<span class="cp">#define CPLD_LCD0_DATA_CLR             0x10</span>
<span class="cp">#define CPLD_LCD0_COMMAND_SET          0x01</span>
<span class="cp">#define CPLD_LCD0_COMMAND_CLR          0x11</span>
<span class="cp">#define CPLD_LCD1_DATA_SET             0x02</span>
<span class="cp">#define CPLD_LCD1_DATA_CLR             0x12</span>
<span class="cp">#define CPLD_LCD1_COMMAND_SET          0x03</span>
<span class="cp">#define CPLD_LCD1_COMMAND_CLR          0x13</span>

<span class="cp">#define CPLD_MISC_SET                  0x07</span>
<span class="cp">#define CPLD_MISC_CLR                  0x17</span>
<span class="cp">#define CPLD_MISC_LOON_NRESET_BIT      0</span>
<span class="cp">#define CPLD_MISC_LOON_UNSUSP_BIT      1</span>
<span class="cp">#define CPLD_MISC_RUN_5V_BIT           2</span>
<span class="cp">#define CPLD_MISC_CHG_D0_BIT           3</span>
<span class="cp">#define CPLD_MISC_CHG_D1_BIT           4</span>
<span class="cp">#define CPLD_MISC_DAC_NCS_BIT          5</span>

<span class="cp">#define CPLD_LCD_SET                   0x08</span>
<span class="cp">#define CPLD_LCD_CLR                   0x18</span>
<span class="cp">#define CPLD_LCD_BACKLIGHT_EN_0_BIT    0</span>
<span class="cp">#define CPLD_LCD_BACKLIGHT_EN_1_BIT    1</span>
<span class="cp">#define CPLD_LCD_LED_RED_BIT           4</span>
<span class="cp">#define CPLD_LCD_LED_GREEN_BIT         5</span>
<span class="cp">#define CPLD_LCD_NRESET_BIT            7</span>

<span class="cp">#define CPLD_LCD_RO_SET                0x09</span>
<span class="cp">#define CPLD_LCD_RO_CLR                0x19</span>
<span class="cp">#define CPLD_LCD_RO_LCD0_nWAIT_BIT     0</span>
<span class="cp">#define CPLD_LCD_RO_LCD1_nWAIT_BIT     1</span>

<span class="cp">#define CPLD_SERIAL_SET                0x0a</span>
<span class="cp">#define CPLD_SERIAL_CLR                0x1a</span>
<span class="cp">#define CPLD_SERIAL_GSM_RI_BIT         0</span>
<span class="cp">#define CPLD_SERIAL_GSM_CTS_BIT        1</span>
<span class="cp">#define CPLD_SERIAL_GSM_DTR_BIT        2</span>
<span class="cp">#define CPLD_SERIAL_LPR_CTS_BIT        3</span>
<span class="cp">#define CPLD_SERIAL_TC232_CTS_BIT      4</span>
<span class="cp">#define CPLD_SERIAL_TC232_DSR_BIT      5</span>

<span class="cp">#define CPLD_SROUTING_SET              0x0b</span>
<span class="cp">#define CPLD_SROUTING_CLR              0x1b</span>
<span class="cp">#define CPLD_SROUTING_MSP430_LPR       0</span>
<span class="cp">#define CPLD_SROUTING_MSP430_TC232     1</span>
<span class="cp">#define CPLD_SROUTING_MSP430_GSM       2</span>
<span class="cp">#define CPLD_SROUTING_LOON_LPR         (0 &lt;&lt; 4)</span>
<span class="cp">#define CPLD_SROUTING_LOON_TC232       (1 &lt;&lt; 4)</span>
<span class="cp">#define CPLD_SROUTING_LOON_GSM         (2 &lt;&lt; 4)</span>

<span class="cp">#define CPLD_AROUTING_SET              0x0c</span>
<span class="cp">#define CPLD_AROUTING_CLR              0x1c</span>
<span class="cp">#define CPLD_AROUTING_MIC2PHONE_BIT    0</span>
<span class="cp">#define CPLD_AROUTING_PHONE2INT_BIT    1</span>
<span class="cp">#define CPLD_AROUTING_PHONE2EXT_BIT    2</span>
<span class="cp">#define CPLD_AROUTING_LOONL2INT_BIT    3</span>
<span class="cp">#define CPLD_AROUTING_LOONL2EXT_BIT    4</span>
<span class="cp">#define CPLD_AROUTING_LOONR2PHONE_BIT  5</span>
<span class="cp">#define CPLD_AROUTING_LOONR2INT_BIT    6</span>
<span class="cp">#define CPLD_AROUTING_LOONR2EXT_BIT    7</span>

<span class="cm">/* Balloon3 Interrupts */</span>
<span class="cp">#define BALLOON3_IRQ(x)		(IRQ_BOARD_START + (x))</span>

<span class="cp">#define BALLOON3_AUX_NIRQ	PXA_GPIO_TO_IRQ(BALLOON3_GPIO_AUX_NIRQ)</span>
<span class="cp">#define BALLOON3_CODEC_IRQ	PXA_GPIO_TO_IRQ(BALLOON3_GPIO_CODEC_IRQ)</span>

<span class="cp">#define BALLOON3_NR_IRQS	(IRQ_BOARD_START + 16)</span>

<span class="k">extern</span> <span class="kt">int</span> <span class="n">balloon3_has</span><span class="p">(</span><span class="k">enum</span> <span class="n">balloon3_features</span> <span class="n">feature</span><span class="p">);</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
