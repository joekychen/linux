<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-pxa › include › mach › tosa.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>tosa.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Hardware specific definitions for Sharp SL-C6000x series of PDAs</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2005 Dirk Opfer</span>
<span class="cm"> *</span>
<span class="cm"> * Based on Sharp&#39;s 2.4 kernel patches</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> */</span>
<span class="cp">#ifndef _ASM_ARCH_TOSA_H_</span>
<span class="cp">#define _ASM_ARCH_TOSA_H_ 1</span>

<span class="cm">/*  TOSA Chip selects  */</span>
<span class="cp">#define TOSA_LCDC_PHYS		PXA_CS4_PHYS</span>
<span class="cm">/* Internel Scoop */</span>
<span class="cp">#define TOSA_CF_PHYS		(PXA_CS2_PHYS + 0x00800000)</span>
<span class="cm">/* Jacket Scoop */</span>
<span class="cp">#define TOSA_SCOOP_PHYS  	(PXA_CS5_PHYS + 0x00800000)</span>

<span class="cp">#define TOSA_NR_IRQS		(IRQ_BOARD_START + TC6393XB_NR_IRQS)</span>
<span class="cm">/*</span>
<span class="cm"> * SCOOP2 internal GPIOs</span>
<span class="cm"> */</span>
<span class="cp">#define TOSA_SCOOP_GPIO_BASE		PXA_NR_BUILTIN_GPIO</span>
<span class="cp">#define TOSA_SCOOP_PXA_VCORE1		SCOOP_GPCR_PA11</span>
<span class="cp">#define TOSA_GPIO_TC6393XB_REST_IN	(TOSA_SCOOP_GPIO_BASE + 1)</span>
<span class="cp">#define TOSA_GPIO_IR_POWERDWN		(TOSA_SCOOP_GPIO_BASE + 2)</span>
<span class="cp">#define TOSA_GPIO_SD_WP			(TOSA_SCOOP_GPIO_BASE + 3)</span>
<span class="cp">#define TOSA_GPIO_PWR_ON		(TOSA_SCOOP_GPIO_BASE + 4)</span>
<span class="cp">#define TOSA_SCOOP_AUD_PWR_ON		SCOOP_GPCR_PA16</span>
<span class="cp">#define TOSA_GPIO_BT_RESET		(TOSA_SCOOP_GPIO_BASE + 6)</span>
<span class="cp">#define TOSA_GPIO_BT_PWR_EN		(TOSA_SCOOP_GPIO_BASE + 7)</span>
<span class="cp">#define TOSA_SCOOP_AC_IN_OL		SCOOP_GPCR_PA19</span>

<span class="cm">/* GPIO Direction   1 : output mode / 0:input mode */</span>
<span class="cp">#define TOSA_SCOOP_IO_DIR     (TOSA_SCOOP_PXA_VCORE1 | \</span>
<span class="cp">		TOSA_SCOOP_AUD_PWR_ON)</span>

<span class="cm">/*</span>
<span class="cm"> * SCOOP2 jacket GPIOs</span>
<span class="cm"> */</span>
<span class="cp">#define TOSA_SCOOP_JC_GPIO_BASE		(PXA_NR_BUILTIN_GPIO + 12)</span>
<span class="cp">#define TOSA_GPIO_BT_LED		(TOSA_SCOOP_JC_GPIO_BASE + 0)</span>
<span class="cp">#define TOSA_GPIO_NOTE_LED		(TOSA_SCOOP_JC_GPIO_BASE + 1)</span>
<span class="cp">#define TOSA_GPIO_CHRG_ERR_LED		(TOSA_SCOOP_JC_GPIO_BASE + 2)</span>
<span class="cp">#define TOSA_GPIO_USB_PULLUP		(TOSA_SCOOP_JC_GPIO_BASE + 3)</span>
<span class="cp">#define TOSA_GPIO_TC6393XB_SUSPEND	(TOSA_SCOOP_JC_GPIO_BASE + 4)</span>
<span class="cp">#define TOSA_GPIO_TC6393XB_L3V_ON	(TOSA_SCOOP_JC_GPIO_BASE + 5)</span>
<span class="cp">#define TOSA_SCOOP_JC_WLAN_DETECT	SCOOP_GPCR_PA17</span>
<span class="cp">#define TOSA_GPIO_WLAN_LED		(TOSA_SCOOP_JC_GPIO_BASE + 7)</span>
<span class="cp">#define TOSA_SCOOP_JC_CARD_LIMIT_SEL	SCOOP_GPCR_PA19</span>

<span class="cm">/* GPIO Direction   1 : output mode / 0:input mode */</span>
<span class="cp">#define TOSA_SCOOP_JC_IO_DIR (TOSA_SCOOP_JC_CARD_LIMIT_SEL)</span>

<span class="cm">/*</span>
<span class="cm"> * TC6393XB GPIOs</span>
<span class="cm"> */</span>
<span class="cp">#define TOSA_TC6393XB_GPIO_BASE		(PXA_NR_BUILTIN_GPIO + 2 * 12)</span>

<span class="cp">#define TOSA_GPIO_TG_ON			(TOSA_TC6393XB_GPIO_BASE + 0)</span>
<span class="cp">#define TOSA_GPIO_L_MUTE		(TOSA_TC6393XB_GPIO_BASE + 1)</span>
<span class="cp">#define TOSA_GPIO_BL_C20MA		(TOSA_TC6393XB_GPIO_BASE + 3)</span>
<span class="cp">#define TOSA_GPIO_CARD_VCC_ON		(TOSA_TC6393XB_GPIO_BASE + 4)</span>
<span class="cp">#define TOSA_GPIO_CHARGE_OFF		(TOSA_TC6393XB_GPIO_BASE + 6)</span>
<span class="cp">#define TOSA_GPIO_CHARGE_OFF_JC		(TOSA_TC6393XB_GPIO_BASE + 7)</span>
<span class="cp">#define TOSA_GPIO_BAT0_V_ON		(TOSA_TC6393XB_GPIO_BASE + 9)</span>
<span class="cp">#define TOSA_GPIO_BAT1_V_ON		(TOSA_TC6393XB_GPIO_BASE + 10)</span>
<span class="cp">#define TOSA_GPIO_BU_CHRG_ON		(TOSA_TC6393XB_GPIO_BASE + 11)</span>
<span class="cp">#define TOSA_GPIO_BAT_SW_ON		(TOSA_TC6393XB_GPIO_BASE + 12)</span>
<span class="cp">#define TOSA_GPIO_BAT0_TH_ON		(TOSA_TC6393XB_GPIO_BASE + 14)</span>
<span class="cp">#define TOSA_GPIO_BAT1_TH_ON		(TOSA_TC6393XB_GPIO_BASE + 15)</span>

<span class="cm">/*</span>
<span class="cm"> * Timing Generator</span>
<span class="cm"> */</span>
<span class="cp">#define TG_PNLCTL 			0x00</span>
<span class="cp">#define TG_TPOSCTL 			0x01</span>
<span class="cp">#define TG_DUTYCTL 			0x02</span>
<span class="cp">#define TG_GPOSR 			0x03</span>
<span class="cp">#define TG_GPODR1 			0x04</span>
<span class="cp">#define TG_GPODR2 			0x05</span>
<span class="cp">#define TG_PINICTL 			0x06</span>
<span class="cp">#define TG_HPOSCTL 			0x07</span>

<span class="cm">/*</span>
<span class="cm"> * PXA GPIOs</span>
<span class="cm"> */</span>
<span class="cp">#define TOSA_GPIO_POWERON		(0)</span>
<span class="cp">#define TOSA_GPIO_RESET			(1)</span>
<span class="cp">#define TOSA_GPIO_AC_IN			(2)</span>
<span class="cp">#define TOSA_GPIO_RECORD_BTN		(3)</span>
<span class="cp">#define TOSA_GPIO_SYNC			(4)	</span><span class="cm">/* Cradle SYNC Button */</span><span class="cp"></span>
<span class="cp">#define TOSA_GPIO_USB_IN		(5)</span>
<span class="cp">#define TOSA_GPIO_JACKET_DETECT		(7)</span>
<span class="cp">#define TOSA_GPIO_nSD_DETECT		(9)</span>
<span class="cp">#define TOSA_GPIO_nSD_INT		(10)</span>
<span class="cp">#define TOSA_GPIO_TC6393XB_CLK		(11)</span>
<span class="cp">#define TOSA_GPIO_BAT1_CRG		(12)</span>
<span class="cp">#define TOSA_GPIO_CF_CD			(13)</span>
<span class="cp">#define TOSA_GPIO_BAT0_CRG		(14)</span>
<span class="cp">#define TOSA_GPIO_TC6393XB_INT		(15)</span>
<span class="cp">#define TOSA_GPIO_BAT0_LOW		(17)</span>
<span class="cp">#define TOSA_GPIO_TC6393XB_RDY		(18)</span>
<span class="cp">#define TOSA_GPIO_ON_RESET		(19)</span>
<span class="cp">#define TOSA_GPIO_EAR_IN		(20)</span>
<span class="cp">#define TOSA_GPIO_CF_IRQ		(21)	</span><span class="cm">/* CF slot0 Ready */</span><span class="cp"></span>
<span class="cp">#define TOSA_GPIO_ON_KEY		(22)</span>
<span class="cp">#define TOSA_GPIO_VGA_LINE		(27)</span>
<span class="cp">#define TOSA_GPIO_TP_INT		(32)	</span><span class="cm">/* Touch Panel pen down interrupt */</span><span class="cp"></span>
<span class="cp">#define TOSA_GPIO_JC_CF_IRQ		(36)	</span><span class="cm">/* CF slot1 Ready */</span><span class="cp"></span>
<span class="cp">#define TOSA_GPIO_BAT_LOCKED		(38)	</span><span class="cm">/* Battery locked */</span><span class="cp"></span>
<span class="cp">#define TOSA_GPIO_IRDA_TX		(47)</span>
<span class="cp">#define TOSA_GPIO_TG_SPI_SCLK		(81)</span>
<span class="cp">#define TOSA_GPIO_TG_SPI_CS		(82)</span>
<span class="cp">#define TOSA_GPIO_TG_SPI_MOSI		(83)</span>
<span class="cp">#define TOSA_GPIO_BAT1_LOW		(84)</span>

<span class="cp">#define TOSA_GPIO_HP_IN			GPIO_EAR_IN</span>

<span class="cp">#define TOSA_GPIO_MAIN_BAT_LOW		GPIO_BAT0_LOW</span>

<span class="cp">#define TOSA_KEY_STROBE_NUM		(11)</span>
<span class="cp">#define TOSA_KEY_SENSE_NUM		(7)</span>

<span class="cp">#define TOSA_GPIO_HIGH_STROBE_BIT	(0xfc000000)</span>
<span class="cp">#define TOSA_GPIO_LOW_STROBE_BIT	(0x0000001f)</span>
<span class="cp">#define TOSA_GPIO_ALL_SENSE_BIT		(0x00000fe0)</span>
<span class="cp">#define TOSA_GPIO_ALL_SENSE_RSHIFT	(5)</span>
<span class="cp">#define TOSA_GPIO_STROBE_BIT(a)		GPIO_bit(58+(a))</span>
<span class="cp">#define TOSA_GPIO_SENSE_BIT(a)		GPIO_bit(69+(a))</span>
<span class="cp">#define TOSA_GAFR_HIGH_STROBE_BIT	(0xfff00000)</span>
<span class="cp">#define TOSA_GAFR_LOW_STROBE_BIT	(0x000003ff)</span>
<span class="cp">#define TOSA_GAFR_ALL_SENSE_BIT		(0x00fffc00)</span>
<span class="cp">#define TOSA_GPIO_KEY_SENSE(a) 		(69+(a))</span>
<span class="cp">#define TOSA_GPIO_KEY_STROBE(a)		(58+(a))</span>

<span class="cm">/*</span>
<span class="cm"> * Interrupts</span>
<span class="cm"> */</span>
<span class="cp">#define TOSA_IRQ_GPIO_WAKEUP        	PXA_GPIO_TO_IRQ(TOSA_GPIO_WAKEUP)</span>
<span class="cp">#define TOSA_IRQ_GPIO_AC_IN         	PXA_GPIO_TO_IRQ(TOSA_GPIO_AC_IN)</span>
<span class="cp">#define TOSA_IRQ_GPIO_RECORD_BTN    	PXA_GPIO_TO_IRQ(TOSA_GPIO_RECORD_BTN)</span>
<span class="cp">#define TOSA_IRQ_GPIO_SYNC          	PXA_GPIO_TO_IRQ(TOSA_GPIO_SYNC)</span>
<span class="cp">#define TOSA_IRQ_GPIO_USB_IN        	PXA_GPIO_TO_IRQ(TOSA_GPIO_USB_IN)</span>
<span class="cp">#define TOSA_IRQ_GPIO_JACKET_DETECT 	PXA_GPIO_TO_IRQ(TOSA_GPIO_JACKET_DETECT)</span>
<span class="cp">#define TOSA_IRQ_GPIO_nSD_INT       	PXA_GPIO_TO_IRQ(TOSA_GPIO_nSD_INT)</span>
<span class="cp">#define TOSA_IRQ_GPIO_nSD_DETECT    	PXA_GPIO_TO_IRQ(TOSA_GPIO_nSD_DETECT)</span>
<span class="cp">#define TOSA_IRQ_GPIO_BAT1_CRG      	PXA_GPIO_TO_IRQ(TOSA_GPIO_BAT1_CRG)</span>
<span class="cp">#define TOSA_IRQ_GPIO_CF_CD         	PXA_GPIO_TO_IRQ(TOSA_GPIO_CF_CD)</span>
<span class="cp">#define TOSA_IRQ_GPIO_BAT0_CRG      	PXA_GPIO_TO_IRQ(TOSA_GPIO_BAT0_CRG)</span>
<span class="cp">#define TOSA_IRQ_GPIO_TC6393XB_INT    	PXA_GPIO_TO_IRQ(TOSA_GPIO_TC6393XB_INT)</span>
<span class="cp">#define TOSA_IRQ_GPIO_BAT0_LOW      	PXA_GPIO_TO_IRQ(TOSA_GPIO_BAT0_LOW)</span>
<span class="cp">#define TOSA_IRQ_GPIO_EAR_IN        	PXA_GPIO_TO_IRQ(TOSA_GPIO_EAR_IN)</span>
<span class="cp">#define TOSA_IRQ_GPIO_CF_IRQ        	PXA_GPIO_TO_IRQ(TOSA_GPIO_CF_IRQ)</span>
<span class="cp">#define TOSA_IRQ_GPIO_ON_KEY        	PXA_GPIO_TO_IRQ(TOSA_GPIO_ON_KEY)</span>
<span class="cp">#define TOSA_IRQ_GPIO_VGA_LINE      	PXA_GPIO_TO_IRQ(TOSA_GPIO_VGA_LINE)</span>
<span class="cp">#define TOSA_IRQ_GPIO_TP_INT        	PXA_GPIO_TO_IRQ(TOSA_GPIO_TP_INT)</span>
<span class="cp">#define TOSA_IRQ_GPIO_JC_CF_IRQ     	PXA_GPIO_TO_IRQ(TOSA_GPIO_JC_CF_IRQ)</span>
<span class="cp">#define TOSA_IRQ_GPIO_BAT_LOCKED    	PXA_GPIO_TO_IRQ(TOSA_GPIO_BAT_LOCKED)</span>
<span class="cp">#define TOSA_IRQ_GPIO_BAT1_LOW      	PXA_GPIO_TO_IRQ(TOSA_GPIO_BAT1_LOW)</span>
<span class="cp">#define TOSA_IRQ_GPIO_KEY_SENSE(a)  	PXA_GPIO_TO_IRQ(69+(a))</span>

<span class="cp">#define TOSA_IRQ_GPIO_MAIN_BAT_LOW 	PXA_GPIO_TO_IRQ(TOSA_GPIO_MAIN_BAT_LOW)</span>

<span class="cp">#define TOSA_KEY_SYNC		KEY_102ND </span><span class="cm">/* ??? */</span><span class="cp"></span>

<span class="cp">#ifndef CONFIG_TOSA_USE_EXT_KEYCODES</span>
<span class="cp">#define TOSA_KEY_RECORD		KEY_YEN</span>
<span class="cp">#define TOSA_KEY_ADDRESSBOOK	KEY_KATAKANA</span>
<span class="cp">#define TOSA_KEY_CANCEL		KEY_ESC</span>
<span class="cp">#define TOSA_KEY_CENTER		KEY_HIRAGANA</span>
<span class="cp">#define TOSA_KEY_OK		KEY_HENKAN</span>
<span class="cp">#define TOSA_KEY_CALENDAR	KEY_KATAKANAHIRAGANA</span>
<span class="cp">#define TOSA_KEY_HOMEPAGE	KEY_HANGEUL</span>
<span class="cp">#define TOSA_KEY_LIGHT		KEY_MUHENKAN</span>
<span class="cp">#define TOSA_KEY_MENU		KEY_HANJA</span>
<span class="cp">#define TOSA_KEY_FN		KEY_RIGHTALT</span>
<span class="cp">#define TOSA_KEY_MAIL		KEY_ZENKAKUHANKAKU</span>
<span class="cp">#else</span>
<span class="cp">#define TOSA_KEY_RECORD		KEY_RECORD</span>
<span class="cp">#define TOSA_KEY_ADDRESSBOOK	KEY_ADDRESSBOOK</span>
<span class="cp">#define TOSA_KEY_CANCEL		KEY_CANCEL</span>
<span class="cp">#define TOSA_KEY_CENTER		KEY_SELECT </span><span class="cm">/* ??? */</span><span class="cp"></span>
<span class="cp">#define TOSA_KEY_OK		KEY_OK</span>
<span class="cp">#define TOSA_KEY_CALENDAR	KEY_CALENDAR</span>
<span class="cp">#define TOSA_KEY_HOMEPAGE	KEY_HOMEPAGE</span>
<span class="cp">#define TOSA_KEY_LIGHT		KEY_KBDILLUMTOGGLE</span>
<span class="cp">#define TOSA_KEY_MENU		KEY_MENU</span>
<span class="cp">#define TOSA_KEY_FN		KEY_FN</span>
<span class="cp">#define TOSA_KEY_MAIL		KEY_MAIL</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">spi_device</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">tosa_bl_enable</span><span class="p">(</span><span class="k">struct</span> <span class="n">spi_device</span> <span class="o">*</span><span class="n">spi</span><span class="p">,</span> <span class="kt">int</span> <span class="n">enable</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* _ASM_ARCH_TOSA_H_ */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
