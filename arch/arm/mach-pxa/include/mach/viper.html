<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-pxa › include › mach › viper.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>viper.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * arch/arm/mach-pxa/include/mach/viper.h</span>
<span class="cm"> *</span>
<span class="cm"> * Author:	Ian Campbell</span>
<span class="cm"> * Created:	Feb 03, 2003</span>
<span class="cm"> * Copyright:	Arcom Control Systems.</span>
<span class="cm"> *</span>
<span class="cm"> * Maintained by Marc Zyngier &lt;maz@misterjones.org&gt;</span>
<span class="cm"> *			      &lt;marc.zyngier@altran.com&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * Created based on lubbock.h:</span>
<span class="cm"> *  Author:	Nicolas Pitre</span>
<span class="cm"> *  Created:	Jun 15, 2001</span>
<span class="cm"> *  Copyright:	MontaVista Software Inc.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef ARCH_VIPER_H</span>
<span class="cp">#define ARCH_VIPER_H</span>

<span class="cp">#define VIPER_BOOT_PHYS		PXA_CS0_PHYS</span>
<span class="cp">#define VIPER_FLASH_PHYS	PXA_CS1_PHYS</span>
<span class="cp">#define VIPER_ETH_PHYS		PXA_CS2_PHYS</span>
<span class="cp">#define VIPER_USB_PHYS		PXA_CS3_PHYS</span>
<span class="cp">#define VIPER_ETH_DATA_PHYS	PXA_CS4_PHYS</span>
<span class="cp">#define VIPER_CPLD_PHYS		PXA_CS5_PHYS</span>

<span class="cp">#define VIPER_CPLD_BASE		(0xf0000000)</span>
<span class="cp">#define VIPER_PC104IO_BASE	(0xf1000000)</span>
<span class="cp">#define VIPER_USB_BASE		(0xf1800000)</span>

<span class="cp">#define VIPER_ETH_GPIO		(0)</span>
<span class="cp">#define VIPER_CPLD_GPIO		(1)</span>
<span class="cp">#define VIPER_USB_GPIO		(2)</span>
<span class="cp">#define VIPER_UARTA_GPIO	(4)</span>
<span class="cp">#define VIPER_UARTB_GPIO	(3)</span>
<span class="cp">#define VIPER_CF_CD_GPIO	(32)</span>
<span class="cp">#define VIPER_CF_RDY_GPIO	(8)</span>
<span class="cp">#define VIPER_BCKLIGHT_EN_GPIO	(9)</span>
<span class="cp">#define VIPER_LCD_EN_GPIO	(10)</span>
<span class="cp">#define VIPER_PSU_DATA_GPIO	(6)</span>
<span class="cp">#define VIPER_PSU_CLK_GPIO	(11)</span>
<span class="cp">#define VIPER_UART_SHDN_GPIO	(12)</span>
<span class="cp">#define VIPER_BRIGHTNESS_GPIO	(16)</span>
<span class="cp">#define VIPER_PSU_nCS_LD_GPIO	(19)</span>
<span class="cp">#define VIPER_UPS_GPIO		(20)</span>
<span class="cp">#define VIPER_CF_POWER_GPIO	(82)</span>
<span class="cp">#define VIPER_TPM_I2C_SDA_GPIO	(26)</span>
<span class="cp">#define VIPER_TPM_I2C_SCL_GPIO	(27)</span>
<span class="cp">#define VIPER_RTC_I2C_SDA_GPIO	(83)</span>
<span class="cp">#define VIPER_RTC_I2C_SCL_GPIO	(84)</span>

<span class="cp">#define VIPER_CPLD_P2V(x)	((x) - VIPER_CPLD_PHYS + VIPER_CPLD_BASE)</span>
<span class="cp">#define VIPER_CPLD_V2P(x)	((x) - VIPER_CPLD_BASE + VIPER_CPLD_PHYS)</span>

<span class="cp">#ifndef __ASSEMBLY__</span>
<span class="cp">#  define __VIPER_CPLD_REG(x)	(*((volatile u16 *)VIPER_CPLD_P2V(x)))</span>
<span class="cp">#endif</span>

<span class="cm">/* board level registers in the CPLD: (offsets from CPLD_BASE) ... */</span>

<span class="cm">/* ... Physical addresses */</span>
<span class="cp">#define _VIPER_LO_IRQ_STATUS	(VIPER_CPLD_PHYS + 0x100000)</span>
<span class="cp">#define _VIPER_ICR_PHYS		(VIPER_CPLD_PHYS + 0x100002)</span>
<span class="cp">#define _VIPER_HI_IRQ_STATUS	(VIPER_CPLD_PHYS + 0x100004)</span>
<span class="cp">#define _VIPER_VERSION_PHYS	(VIPER_CPLD_PHYS + 0x100006)</span>
<span class="cp">#define VIPER_UARTA_PHYS	(VIPER_CPLD_PHYS + 0x300010)</span>
<span class="cp">#define VIPER_UARTB_PHYS	(VIPER_CPLD_PHYS + 0x300000)</span>
<span class="cp">#define _VIPER_SRAM_BASE	(VIPER_CPLD_PHYS + 0x800000)</span>

<span class="cm">/* ... Virtual addresses */</span>
<span class="cp">#define VIPER_LO_IRQ_STATUS	__VIPER_CPLD_REG(_VIPER_LO_IRQ_STATUS)</span>
<span class="cp">#define VIPER_HI_IRQ_STATUS	__VIPER_CPLD_REG(_VIPER_HI_IRQ_STATUS)</span>
<span class="cp">#define VIPER_VERSION		__VIPER_CPLD_REG(_VIPER_VERSION_PHYS)</span>
<span class="cp">#define VIPER_ICR		__VIPER_CPLD_REG(_VIPER_ICR_PHYS)</span>

<span class="cm">/* Decode VIPER_VERSION register */</span>
<span class="cp">#define VIPER_CPLD_REVISION(x)	(((x) &gt;&gt; 5) &amp; 0x7)</span>
<span class="cp">#define VIPER_BOARD_VERSION(x)	(((x) &gt;&gt; 3) &amp; 0x3)</span>
<span class="cp">#define VIPER_BOARD_ISSUE(x)	(((x) &gt;&gt; 0) &amp; 0x7)</span>

<span class="cm">/* Interrupt and Configuration Register (VIPER_ICR) */</span>
<span class="cm">/* This is a write only register. Only CF_RST is used under Linux */</span>

<span class="cp">#define VIPER_ICR_RETRIG	(1 &lt;&lt; 0)</span>
<span class="cp">#define VIPER_ICR_AUTO_CLR	(1 &lt;&lt; 1)</span>
<span class="cp">#define VIPER_ICR_R_DIS		(1 &lt;&lt; 2)</span>
<span class="cp">#define VIPER_ICR_CF_RST	(1 &lt;&lt; 3)</span>

<span class="cp">#endif</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
