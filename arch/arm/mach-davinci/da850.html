<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-davinci › da850.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>da850.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * TI DA850/OMAP-L138 chip specific setup</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2009 Texas Instruments Incorporated - http://www.ti.com/</span>
<span class="cm"> *</span>
<span class="cm"> * Derived from: arch/arm/mach-davinci/da830.c</span>
<span class="cm"> * Original Copyrights follow:</span>
<span class="cm"> *</span>
<span class="cm"> * 2009 (c) MontaVista Software, Inc. This file is licensed under</span>
<span class="cm"> * the terms of the GNU General Public License version 2. This program</span>
<span class="cm"> * is licensed &quot;as is&quot; without any warranty of any kind, whether express</span>
<span class="cm"> * or implied.</span>
<span class="cm"> */</span>
<span class="cp">#include &lt;linux/gpio.h&gt;</span>
<span class="cp">#include &lt;linux/init.h&gt;</span>
<span class="cp">#include &lt;linux/clk.h&gt;</span>
<span class="cp">#include &lt;linux/platform_device.h&gt;</span>
<span class="cp">#include &lt;linux/cpufreq.h&gt;</span>
<span class="cp">#include &lt;linux/regulator/consumer.h&gt;</span>

<span class="cp">#include &lt;asm/mach/map.h&gt;</span>

<span class="cp">#include &lt;mach/psc.h&gt;</span>
<span class="cp">#include &lt;mach/irqs.h&gt;</span>
<span class="cp">#include &lt;mach/cputype.h&gt;</span>
<span class="cp">#include &lt;mach/common.h&gt;</span>
<span class="cp">#include &lt;mach/time.h&gt;</span>
<span class="cp">#include &lt;mach/da8xx.h&gt;</span>
<span class="cp">#include &lt;mach/cpufreq.h&gt;</span>
<span class="cp">#include &lt;mach/pm.h&gt;</span>
<span class="cp">#include &lt;mach/gpio-davinci.h&gt;</span>

<span class="cp">#include &quot;clock.h&quot;</span>
<span class="cp">#include &quot;mux.h&quot;</span>

<span class="cm">/* SoC specific clock flags */</span>
<span class="cp">#define DA850_CLK_ASYNC3	BIT(16)</span>

<span class="cp">#define DA850_PLL1_BASE		0x01e1a000</span>
<span class="cp">#define DA850_TIMER64P2_BASE	0x01f0c000</span>
<span class="cp">#define DA850_TIMER64P3_BASE	0x01f0d000</span>

<span class="cp">#define DA850_REF_FREQ		24000000</span>

<span class="cp">#define CFGCHIP3_ASYNC3_CLKSRC	BIT(4)</span>
<span class="cp">#define CFGCHIP3_PLL1_MASTER_LOCK	BIT(5)</span>
<span class="cp">#define CFGCHIP0_PLL_MASTER_LOCK	BIT(4)</span>

<span class="k">static</span> <span class="kt">int</span> <span class="n">da850_set_armrate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rate</span><span class="p">);</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">da850_round_armrate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rate</span><span class="p">);</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">da850_set_pll0rate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">armrate</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">pll_data</span> <span class="n">pll0_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">phys_base</span>	<span class="o">=</span> <span class="n">DA8XX_PLL0_BASE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">PLL_HAS_PREDIV</span> <span class="o">|</span> <span class="n">PLL_HAS_POSTDIV</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">ref_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ref_clk&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rate</span>		<span class="o">=</span> <span class="n">DA850_REF_FREQ</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_rate</span>	<span class="o">=</span> <span class="n">davinci_simple_set_rate</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">ref_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pll_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_data</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_rate</span>	<span class="o">=</span> <span class="n">da850_set_pll0rate</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_aux_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0_aux_clk&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span> <span class="o">|</span> <span class="n">PRE_PLL</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_sysclk2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0_sysclk2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_sysclk3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0_sysclk3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV3</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_rate</span>	<span class="o">=</span> <span class="n">davinci_set_sysclk_rate</span><span class="p">,</span>
	<span class="p">.</span><span class="n">maxrate</span>	<span class="o">=</span> <span class="mi">100000000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_sysclk4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0_sysclk4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV4</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_sysclk5</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0_sysclk5&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV5</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_sysclk6</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0_sysclk6&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV6</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll0_sysclk7</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll0_sysclk7&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV7</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">pll_data</span> <span class="n">pll1_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num</span>		<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">phys_base</span>	<span class="o">=</span> <span class="n">DA850_PLL1_BASE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">PLL_HAS_POSTDIV</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">ref_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pll_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll1_data</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll1_aux_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll1_aux_clk&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll1_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span> <span class="o">|</span> <span class="n">PRE_PLL</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll1_sysclk2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll1_sysclk2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll1_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">pll1_sysclk3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;pll1_sysclk3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll1_clk</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PLL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">div_reg</span>	<span class="o">=</span> <span class="n">PLLDIV3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">i2c0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_aux_clk</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">timerp64_0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_aux_clk</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">timerp64_1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_aux_clk</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">arm_rom_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;arm_rom&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_ARM_RAM_ROM</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">tpcc0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;tpcc0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_TPCC</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span> <span class="o">|</span> <span class="n">CLK_PSC</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">tptc0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;tptc0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_TPTC0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">tptc1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;tptc1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_TPTC1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">tpcc1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;tpcc1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA850_LPSC1_TPCC1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">CLK_PSC</span> <span class="o">|</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">tptc2_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;tptc2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA850_LPSC1_TPTC2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">uart0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_UART0</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">uart1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_UART1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">DA850_CLK_ASYNC3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">uart2_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_UART2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">DA850_CLK_ASYNC3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">aintc_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;aintc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_AINTC</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">gpio_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_GPIO</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">i2c1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_I2C</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">emif3_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;emif3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk5</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_EMIF3C</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">arm_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;arm&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk6</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_ARM</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_rate</span>	<span class="o">=</span> <span class="n">da850_set_armrate</span><span class="p">,</span>
	<span class="p">.</span><span class="n">round_rate</span>	<span class="o">=</span> <span class="n">da850_round_armrate</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">rmii_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;rmii&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk7</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">emac_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;emac&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_CPGMAC</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">mcasp_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcasp&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_McASP0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">DA850_CLK_ASYNC3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">lcdc_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;lcdc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_LCDC</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">mmcsd0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmcsd0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_MMC_SD</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">mmcsd1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmcsd1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA850_LPSC1_MMC_SD1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">aemif_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;aemif&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk3</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_EMIF25</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ALWAYS_ENABLED</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">usb11_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;usb11&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_USB11</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">usb20_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;usb20&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_USB20</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">spi0_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;spi0&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC0_SPI0</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">spi1_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;spi1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA8XX_LPSC1_SPI1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">DA850_CLK_ASYNC3</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk</span> <span class="n">sata_clk</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;sata&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">parent</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lpsc</span>		<span class="o">=</span> <span class="n">DA850_LPSC1_SATA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpsc</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">PSC_FORCE</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">clk_lookup</span> <span class="n">da850_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;ref&quot;</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">ref_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0&quot;</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0_aux&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll0_aux_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0_sysclk2&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0_sysclk3&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll0_sysclk3</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0_sysclk4&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll0_sysclk4</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0_sysclk5&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll0_sysclk5</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0_sysclk6&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll0_sysclk6</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll0_sysclk7&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll0_sysclk7</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll1&quot;</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">pll1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll1_aux&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll1_aux_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll1_sysclk2&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll1_sysclk2</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;pll1_sysclk3&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">pll1_sysclk3</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;i2c_davinci.1&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">i2c0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;timer0&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">timerp64_0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;watchdog&quot;</span><span class="p">,</span>		<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">timerp64_1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;arm_rom&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">arm_rom_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;tpcc0&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">tpcc0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;tptc0&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">tptc0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;tptc1&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">tptc1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;tpcc1&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">tpcc1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;tptc2&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">tptc2_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;uart0&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">uart0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;uart1&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">uart1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;uart2&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">uart2_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;aintc&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">aintc_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;gpio&quot;</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">gpio_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;i2c_davinci.2&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">i2c1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;emif3&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">emif3_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;arm&quot;</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">arm_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;rmii&quot;</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">rmii_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;davinci_emac.1&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">emac_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;davinci-mcasp.0&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">mcasp_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;da8xx_lcdc.0&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">lcdc_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;davinci_mmc.0&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">mmcsd0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;davinci_mmc.1&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">mmcsd1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;aemif&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">aemif_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;usb11&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">usb11_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="s">&quot;usb20&quot;</span><span class="p">,</span>	<span class="o">&amp;</span><span class="n">usb20_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;spi_davinci.0&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">spi0_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;spi_davinci.1&quot;</span><span class="p">,</span>	<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">spi1_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="s">&quot;ahci&quot;</span><span class="p">,</span>		<span class="nb">NULL</span><span class="p">,</span>		<span class="o">&amp;</span><span class="n">sata_clk</span><span class="p">),</span>
	<span class="n">CLK</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span>		<span class="nb">NULL</span><span class="p">,</span>		<span class="nb">NULL</span><span class="p">),</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * Device specific mux setup</span>
<span class="cm"> *</span>
<span class="cm"> *		soc	description	mux	mode	mode	mux	dbg</span>
<span class="cm"> *					reg	offset	mask	mode</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">mux_config</span> <span class="n">da850_pins</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
<span class="cp">#ifdef CONFIG_DAVINCI_MUX</span>
	<span class="cm">/* UART0 function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NUART0_CTS</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NUART0_RTS</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">UART0_RXD</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">UART0_TXD</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* UART1 function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">UART1_RXD</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">UART1_TXD</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* UART2 function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">UART2_RXD</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">UART2_TXD</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* I2C1 function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">I2C1_SCL</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">I2C1_SDA</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* I2C0 function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">I2C0_SDA</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">I2C0_SCL</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* EMAC function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_TXEN</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_TXCLK</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_COL</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_TXD_3</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_TXD_2</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_TXD_1</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_TXD_0</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_RXCLK</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_RXDV</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_RXER</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_CRS</span><span class="p">,</span>		<span class="mi">3</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_RXD_3</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_RXD_2</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_RXD_1</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MII_RXD_0</span><span class="p">,</span>	<span class="mi">3</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MDIO_CLK</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MDIO_D</span><span class="p">,</span>		<span class="mi">4</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_TXD_0</span><span class="p">,</span>	<span class="mi">14</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_TXD_1</span><span class="p">,</span>	<span class="mi">14</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_TXEN</span><span class="p">,</span>	<span class="mi">14</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_CRS_DV</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_RXD_0</span><span class="p">,</span>	<span class="mi">14</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_RXD_1</span><span class="p">,</span>	<span class="mi">14</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_RXER</span><span class="p">,</span>	<span class="mi">14</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RMII_MHZ_50_CLK</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* McASP function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">ACLKR</span><span class="p">,</span>		<span class="mi">0</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">ACLKX</span><span class="p">,</span>		<span class="mi">0</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AFSR</span><span class="p">,</span>		<span class="mi">0</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AFSX</span><span class="p">,</span>		<span class="mi">0</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AHCLKR</span><span class="p">,</span>		<span class="mi">0</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AHCLKX</span><span class="p">,</span>		<span class="mi">0</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AMUTE</span><span class="p">,</span>		<span class="mi">0</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_15</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_14</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_13</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_12</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_11</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_10</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_9</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_8</span><span class="p">,</span>		<span class="mi">1</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_7</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_6</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_5</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_4</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_3</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_2</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_1</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span>	<span class="n">AXR_0</span><span class="p">,</span>		<span class="mi">2</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* LCD function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_7</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_6</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_5</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_4</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_3</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_2</span><span class="p">,</span>		<span class="mi">16</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_1</span><span class="p">,</span>		<span class="mi">17</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_0</span><span class="p">,</span>		<span class="mi">17</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_15</span><span class="p">,</span>	<span class="mi">17</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_14</span><span class="p">,</span>	<span class="mi">17</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_13</span><span class="p">,</span>	<span class="mi">17</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_12</span><span class="p">,</span>	<span class="mi">17</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_11</span><span class="p">,</span>	<span class="mi">17</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_10</span><span class="p">,</span>	<span class="mi">17</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_9</span><span class="p">,</span>		<span class="mi">18</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_D_8</span><span class="p">,</span>		<span class="mi">18</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_PCLK</span><span class="p">,</span>	<span class="mi">18</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_HSYNC</span><span class="p">,</span>	<span class="mi">19</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">LCD_VSYNC</span><span class="p">,</span>	<span class="mi">19</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NLCD_AC_ENB_CS</span><span class="p">,</span>	<span class="mi">19</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* MMC/SD0 function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD0_DAT_0</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD0_DAT_1</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD0_DAT_2</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD0_DAT_3</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD0_CLK</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD0_CMD</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* MMC/SD1 function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD1_DAT_0</span><span class="p">,</span>	<span class="mi">18</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD1_DAT_1</span><span class="p">,</span>	<span class="mi">19</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD1_DAT_2</span><span class="p">,</span>	<span class="mi">19</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD1_DAT_3</span><span class="p">,</span>	<span class="mi">19</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD1_CLK</span><span class="p">,</span>	<span class="mi">18</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">MMCSD1_CMD</span><span class="p">,</span>	<span class="mi">18</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* EMIF2.5/EMIFA function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_7</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_6</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_5</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_4</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_3</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_2</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_1</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_0</span><span class="p">,</span>		<span class="mi">9</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_1</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_2</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NEMA_CS_3</span><span class="p">,</span>	<span class="mi">7</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NEMA_CS_4</span><span class="p">,</span>	<span class="mi">7</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NEMA_WE</span><span class="p">,</span>		<span class="mi">7</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NEMA_OE</span><span class="p">,</span>		<span class="mi">7</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_0</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_3</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_4</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_5</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_6</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_7</span><span class="p">,</span>		<span class="mi">12</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_8</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_9</span><span class="p">,</span>		<span class="mi">11</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_10</span><span class="p">,</span>	<span class="mi">11</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_11</span><span class="p">,</span>	<span class="mi">11</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_12</span><span class="p">,</span>	<span class="mi">11</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_13</span><span class="p">,</span>	<span class="mi">11</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_14</span><span class="p">,</span>	<span class="mi">11</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_15</span><span class="p">,</span>	<span class="mi">11</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_16</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_17</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_18</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_19</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_20</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_21</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_22</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_A_23</span><span class="p">,</span>	<span class="mi">10</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_8</span><span class="p">,</span>		<span class="mi">8</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_9</span><span class="p">,</span>		<span class="mi">8</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_10</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_11</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">16</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_12</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_13</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_14</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_D_15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_BA_1</span><span class="p">,</span>	<span class="mi">5</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_CLK</span><span class="p">,</span>		<span class="mi">6</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">EMA_WAIT_1</span><span class="p">,</span>	<span class="mi">6</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">NEMA_CS_2</span><span class="p">,</span>	<span class="mi">7</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">1</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="cm">/* GPIO function */</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO2_4</span><span class="p">,</span>		<span class="mi">6</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO2_6</span><span class="p">,</span>		<span class="mi">6</span><span class="p">,</span>	<span class="mi">4</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO2_8</span><span class="p">,</span>		<span class="mi">5</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO2_15</span><span class="p">,</span>	<span class="mi">5</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO3_12</span><span class="p">,</span>	<span class="mi">7</span><span class="p">,</span>	<span class="mi">12</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO3_13</span><span class="p">,</span>	<span class="mi">7</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO4_0</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO4_1</span><span class="p">,</span>		<span class="mi">10</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO6_9</span><span class="p">,</span>		<span class="mi">13</span><span class="p">,</span>	<span class="mi">24</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO6_10</span><span class="p">,</span>	<span class="mi">13</span><span class="p">,</span>	<span class="mi">20</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">GPIO6_13</span><span class="p">,</span>	<span class="mi">13</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">8</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
	<span class="n">MUX_CFG</span><span class="p">(</span><span class="n">DA850</span><span class="p">,</span> <span class="n">RTC_ALARM</span><span class="p">,</span>	<span class="mi">0</span><span class="p">,</span>	<span class="mi">28</span><span class="p">,</span>	<span class="mi">15</span><span class="p">,</span>	<span class="mi">2</span><span class="p">,</span>	<span class="nb">false</span><span class="p">)</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="k">const</span> <span class="kt">short</span> <span class="n">da850_i2c0_pins</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">DA850_I2C0_SDA</span><span class="p">,</span> <span class="n">DA850_I2C0_SCL</span><span class="p">,</span>
	<span class="o">-</span><span class="mi">1</span>
<span class="p">};</span>

<span class="k">const</span> <span class="kt">short</span> <span class="n">da850_i2c1_pins</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">DA850_I2C1_SCL</span><span class="p">,</span> <span class="n">DA850_I2C1_SDA</span><span class="p">,</span>
	<span class="o">-</span><span class="mi">1</span>
<span class="p">};</span>

<span class="k">const</span> <span class="kt">short</span> <span class="n">da850_lcdcntl_pins</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">DA850_LCD_D_0</span><span class="p">,</span> <span class="n">DA850_LCD_D_1</span><span class="p">,</span> <span class="n">DA850_LCD_D_2</span><span class="p">,</span> <span class="n">DA850_LCD_D_3</span><span class="p">,</span>
	<span class="n">DA850_LCD_D_4</span><span class="p">,</span> <span class="n">DA850_LCD_D_5</span><span class="p">,</span> <span class="n">DA850_LCD_D_6</span><span class="p">,</span> <span class="n">DA850_LCD_D_7</span><span class="p">,</span>
	<span class="n">DA850_LCD_D_8</span><span class="p">,</span> <span class="n">DA850_LCD_D_9</span><span class="p">,</span> <span class="n">DA850_LCD_D_10</span><span class="p">,</span> <span class="n">DA850_LCD_D_11</span><span class="p">,</span>
	<span class="n">DA850_LCD_D_12</span><span class="p">,</span> <span class="n">DA850_LCD_D_13</span><span class="p">,</span> <span class="n">DA850_LCD_D_14</span><span class="p">,</span> <span class="n">DA850_LCD_D_15</span><span class="p">,</span>
	<span class="n">DA850_LCD_PCLK</span><span class="p">,</span> <span class="n">DA850_LCD_HSYNC</span><span class="p">,</span> <span class="n">DA850_LCD_VSYNC</span><span class="p">,</span> <span class="n">DA850_NLCD_AC_ENB_CS</span><span class="p">,</span>
	<span class="o">-</span><span class="mi">1</span>
<span class="p">};</span>

<span class="cm">/* FIQ are pri 0-1; otherwise 2-7, with 7 lowest priority */</span>
<span class="k">static</span> <span class="n">u8</span> <span class="n">da850_default_priorities</span><span class="p">[</span><span class="n">DA850_N_CP_INTC_IRQ</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_COMMTX</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_COMMRX</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_NINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT2</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT3</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT4</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT5</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT6</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EVTOUT7</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_CCINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_CCERRINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_TCERRINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_AEMIFINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_I2CINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_MMCSDINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_MMCSDINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_ALLINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_RTC</span><span class="p">]</span>			<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_SPINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_TINT12_0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_TINT34_0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_TINT12_1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_TINT34_1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_UARTINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_KEYMGRINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_MPUADDRERR0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_CHIPINT0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_CHIPINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_CHIPINT2</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_CHIPINT3</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_TCERRINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C0_RX_THRESH_PULSE</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C0_RX_PULSE</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C0_TX_PULSE</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C0_MISC_PULSE</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C1_RX_THRESH_PULSE</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C1_RX_PULSE</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C1_TX_PULSE</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_C1_MISC_PULSE</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_MEMERR</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO2</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO3</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO4</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO5</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO6</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO7</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_GPIO8</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_I2CINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_LCDINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_UARTINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_MCASPINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_ALLINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_SPINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_UHPI_INT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_USB_INT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_IRQN</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_RWAKEUP</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_UARTINT2</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_DFTSSINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EHRPWM0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EHRPWM0TZ</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EHRPWM1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_EHRPWM1TZ</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_SATAINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_TINTALL_2</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_ECAP0</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_ECAP1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_ECAP2</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_MMCSDINT0_1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_MMCSDINT1_1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT0_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT1_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT2_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT3_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT4_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT5_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT6_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT7_2</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT0_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT1_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT2_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT3_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT4_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT5_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT6_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_T12CMPINT7_3</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_RPIINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_VPIFINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_CCINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_CCERRINT1</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_TCERRINT2</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_TINTALL_3</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_MCBSP0RINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_MCBSP0XINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_MCBSP1RINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA850_MCBSP1XINT</span><span class="p">]</span>		<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
	<span class="p">[</span><span class="n">IRQ_DA8XX_ARMCLKSTOPREQ</span><span class="p">]</span>	<span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">map_desc</span> <span class="n">da850_io_desc</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="k">virtual</span>	<span class="o">=</span> <span class="n">IO_VIRT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pfn</span>		<span class="o">=</span> <span class="n">__phys_to_pfn</span><span class="p">(</span><span class="n">IO_PHYS</span><span class="p">),</span>
		<span class="p">.</span><span class="n">length</span>		<span class="o">=</span> <span class="n">IO_SIZE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>		<span class="o">=</span> <span class="n">MT_DEVICE</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="k">virtual</span>	<span class="o">=</span> <span class="n">DA8XX_CP_INTC_VIRT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pfn</span>		<span class="o">=</span> <span class="n">__phys_to_pfn</span><span class="p">(</span><span class="n">DA8XX_CP_INTC_BASE</span><span class="p">),</span>
		<span class="p">.</span><span class="n">length</span>		<span class="o">=</span> <span class="n">DA8XX_CP_INTC_SIZE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>		<span class="o">=</span> <span class="n">MT_DEVICE</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="k">virtual</span>	<span class="o">=</span> <span class="n">SRAM_VIRT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pfn</span>		<span class="o">=</span> <span class="n">__phys_to_pfn</span><span class="p">(</span><span class="n">DA8XX_ARM_RAM_BASE</span><span class="p">),</span>
		<span class="p">.</span><span class="n">length</span>		<span class="o">=</span> <span class="n">SZ_8K</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>		<span class="o">=</span> <span class="n">MT_DEVICE</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="n">u32</span> <span class="n">da850_psc_bases</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="n">DA8XX_PSC0_BASE</span><span class="p">,</span> <span class="n">DA8XX_PSC1_BASE</span> <span class="p">};</span>

<span class="cm">/* Contents of JTAG ID register used to identify exact cpu type */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">davinci_id</span> <span class="n">da850_ids</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">variant</span>	<span class="o">=</span> <span class="mh">0x0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">part_no</span>	<span class="o">=</span> <span class="mh">0xb7d1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">manufacturer</span>	<span class="o">=</span> <span class="mh">0x017</span><span class="p">,</span>	<span class="cm">/* 0x02f &gt;&gt; 1 */</span>
		<span class="p">.</span><span class="n">cpu_id</span>		<span class="o">=</span> <span class="n">DAVINCI_CPU_ID_DA850</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;da850/omap-l138&quot;</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">variant</span>	<span class="o">=</span> <span class="mh">0x1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">part_no</span>	<span class="o">=</span> <span class="mh">0xb7d1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">manufacturer</span>	<span class="o">=</span> <span class="mh">0x017</span><span class="p">,</span>	<span class="cm">/* 0x02f &gt;&gt; 1 */</span>
		<span class="p">.</span><span class="n">cpu_id</span>		<span class="o">=</span> <span class="n">DAVINCI_CPU_ID_DA850</span><span class="p">,</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;da850/omap-l138/am18x&quot;</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">davinci_timer_instance</span> <span class="n">da850_timer_instance</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">base</span>		<span class="o">=</span> <span class="n">DA8XX_TIMER64P0_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">bottom_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA8XX_TINT12_0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">top_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA8XX_TINT34_0</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">base</span>		<span class="o">=</span> <span class="n">DA8XX_TIMER64P1_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">bottom_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA8XX_TINT12_1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">top_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA8XX_TINT34_1</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">base</span>		<span class="o">=</span> <span class="n">DA850_TIMER64P2_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">bottom_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA850_TINT12_2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">top_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA850_TINT34_2</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">base</span>		<span class="o">=</span> <span class="n">DA850_TIMER64P3_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">bottom_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA850_TINT12_3</span><span class="p">,</span>
		<span class="p">.</span><span class="n">top_irq</span>	<span class="o">=</span> <span class="n">IRQ_DA850_TINT34_3</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * T0_BOT: Timer 0, bottom		: Used for clock_event</span>
<span class="cm"> * T0_TOP: Timer 0, top			: Used for clocksource</span>
<span class="cm"> * T1_BOT, T1_TOP: Timer 1, bottom &amp; top: Used for watchdog timer</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">davinci_timer_info</span> <span class="n">da850_timer_info</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">timers</span>		<span class="o">=</span> <span class="n">da850_timer_instance</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clockevent_id</span>	<span class="o">=</span> <span class="n">T0_BOT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clocksource_id</span>	<span class="o">=</span> <span class="n">T0_TOP</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">da850_set_async3_src</span><span class="p">(</span><span class="kt">int</span> <span class="n">pllnum</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="o">*</span><span class="n">newparent</span> <span class="o">=</span> <span class="n">pllnum</span> <span class="o">?</span> <span class="o">&amp;</span><span class="n">pll1_sysclk2</span> <span class="o">:</span> <span class="o">&amp;</span><span class="n">pll0_sysclk2</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">clk_lookup</span> <span class="o">*</span><span class="n">c</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">v</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">c</span> <span class="o">=</span> <span class="n">da850_clks</span><span class="p">;</span> <span class="n">c</span><span class="o">-&gt;</span><span class="n">clk</span><span class="p">;</span> <span class="n">c</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">clk</span> <span class="o">=</span> <span class="n">c</span><span class="o">-&gt;</span><span class="n">clk</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">clk</span><span class="o">-&gt;</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="n">DA850_CLK_ASYNC3</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">ret</span> <span class="o">=</span> <span class="n">clk_set_parent</span><span class="p">(</span><span class="n">clk</span><span class="p">,</span> <span class="n">newparent</span><span class="p">);</span>
			<span class="n">WARN</span><span class="p">(</span><span class="n">ret</span><span class="p">,</span> <span class="s">&quot;DA850: unable to re-parent clock %s&quot;</span><span class="p">,</span>
								<span class="n">clk</span><span class="o">-&gt;</span><span class="n">name</span><span class="p">);</span>
		<span class="p">}</span>
       <span class="p">}</span>

	<span class="n">v</span> <span class="o">=</span> <span class="n">__raw_readl</span><span class="p">(</span><span class="n">DA8XX_SYSCFG0_VIRT</span><span class="p">(</span><span class="n">DA8XX_CFGCHIP3_REG</span><span class="p">));</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">pllnum</span><span class="p">)</span>
		<span class="n">v</span> <span class="o">|=</span> <span class="n">CFGCHIP3_ASYNC3_CLKSRC</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="n">v</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">CFGCHIP3_ASYNC3_CLKSRC</span><span class="p">;</span>
	<span class="n">__raw_writel</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">DA8XX_SYSCFG0_VIRT</span><span class="p">(</span><span class="n">DA8XX_CFGCHIP3_REG</span><span class="p">));</span>
<span class="p">}</span>

<span class="cp">#ifdef CONFIG_CPU_FREQ</span>
<span class="cm">/*</span>
<span class="cm"> * Notes:</span>
<span class="cm"> * According to the TRM, minimum PLLM results in maximum power savings.</span>
<span class="cm"> * The OPP definitions below should keep the PLLM as low as possible.</span>
<span class="cm"> *</span>
<span class="cm"> * The output of the PLLM must be between 300 to 600 MHz.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">da850_opp</span> <span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">freq</span><span class="p">;</span>	<span class="cm">/* in KHz */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">prediv</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">mult</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">postdiv</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">cvdd_min</span><span class="p">;</span> <span class="cm">/* in uV */</span>
	<span class="kt">unsigned</span> <span class="kt">int</span>	<span class="n">cvdd_max</span><span class="p">;</span> <span class="cm">/* in uV */</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">da850_opp</span> <span class="n">da850_opp_456</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">freq</span>		<span class="o">=</span> <span class="mi">456000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prediv</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mult</span>		<span class="o">=</span> <span class="mi">19</span><span class="p">,</span>
	<span class="p">.</span><span class="n">postdiv</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_min</span>	<span class="o">=</span> <span class="mi">1300000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_max</span>	<span class="o">=</span> <span class="mi">1350000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">da850_opp</span> <span class="n">da850_opp_408</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">freq</span>		<span class="o">=</span> <span class="mi">408000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prediv</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mult</span>		<span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
	<span class="p">.</span><span class="n">postdiv</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_min</span>	<span class="o">=</span> <span class="mi">1300000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_max</span>	<span class="o">=</span> <span class="mi">1350000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">da850_opp</span> <span class="n">da850_opp_372</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">freq</span>		<span class="o">=</span> <span class="mi">372000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prediv</span>		<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mult</span>		<span class="o">=</span> <span class="mi">31</span><span class="p">,</span>
	<span class="p">.</span><span class="n">postdiv</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_min</span>	<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_max</span>	<span class="o">=</span> <span class="mi">1320000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">da850_opp</span> <span class="n">da850_opp_300</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">freq</span>		<span class="o">=</span> <span class="mi">300000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prediv</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mult</span>		<span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
	<span class="p">.</span><span class="n">postdiv</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_min</span>	<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_max</span>	<span class="o">=</span> <span class="mi">1320000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">da850_opp</span> <span class="n">da850_opp_200</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">freq</span>		<span class="o">=</span> <span class="mi">200000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prediv</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mult</span>		<span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
	<span class="p">.</span><span class="n">postdiv</span>	<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_min</span>	<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_max</span>	<span class="o">=</span> <span class="mi">1160000</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">da850_opp</span> <span class="n">da850_opp_96</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">freq</span>		<span class="o">=</span> <span class="mi">96000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prediv</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mult</span>		<span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
	<span class="p">.</span><span class="n">postdiv</span>	<span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_min</span>	<span class="o">=</span> <span class="mi">1000000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cvdd_max</span>	<span class="o">=</span> <span class="mi">1050000</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define OPP(freq) 		\</span>
<span class="cp">	{				\</span>
<span class="cp">		.index = (unsigned int) &amp;da850_opp_##freq,	\</span>
<span class="cp">		.frequency = freq * 1000, \</span>
<span class="cp">	}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">cpufreq_frequency_table</span> <span class="n">da850_freq_table</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">OPP</span><span class="p">(</span><span class="mi">456</span><span class="p">),</span>
	<span class="n">OPP</span><span class="p">(</span><span class="mi">408</span><span class="p">),</span>
	<span class="n">OPP</span><span class="p">(</span><span class="mi">372</span><span class="p">),</span>
	<span class="n">OPP</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span>
	<span class="n">OPP</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
	<span class="n">OPP</span><span class="p">(</span><span class="mi">96</span><span class="p">),</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">index</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">frequency</span>	<span class="o">=</span> <span class="n">CPUFREQ_TABLE_END</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cp">#ifdef CONFIG_REGULATOR</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">da850_set_voltage</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">index</span><span class="p">);</span>
<span class="k">static</span> <span class="kt">int</span> <span class="n">da850_regulator_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">davinci_cpufreq_config</span> <span class="n">cpufreq_info</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">freq_table</span> <span class="o">=</span> <span class="n">da850_freq_table</span><span class="p">,</span>
<span class="cp">#ifdef CONFIG_REGULATOR</span>
	<span class="p">.</span><span class="n">init</span> <span class="o">=</span> <span class="n">da850_regulator_init</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_voltage</span> <span class="o">=</span> <span class="n">da850_set_voltage</span><span class="p">,</span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="cp">#ifdef CONFIG_REGULATOR</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator</span> <span class="o">*</span><span class="n">cvdd</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_set_voltage</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">da850_opp</span> <span class="o">*</span><span class="n">opp</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">cvdd</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">ENODEV</span><span class="p">;</span>

	<span class="n">opp</span> <span class="o">=</span> <span class="p">(</span><span class="k">struct</span> <span class="n">da850_opp</span> <span class="o">*</span><span class="p">)</span> <span class="n">cpufreq_info</span><span class="p">.</span><span class="n">freq_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">index</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">regulator_set_voltage</span><span class="p">(</span><span class="n">cvdd</span><span class="p">,</span> <span class="n">opp</span><span class="o">-&gt;</span><span class="n">cvdd_min</span><span class="p">,</span> <span class="n">opp</span><span class="o">-&gt;</span><span class="n">cvdd_max</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_regulator_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">cvdd</span> <span class="o">=</span> <span class="n">regulator_get</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;cvdd&quot;</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">WARN</span><span class="p">(</span><span class="n">IS_ERR</span><span class="p">(</span><span class="n">cvdd</span><span class="p">),</span> <span class="s">&quot;Unable to obtain voltage regulator for CVDD;&quot;</span>
					<span class="s">&quot; voltage scaling unsupported</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">))</span> <span class="p">{</span>
		<span class="k">return</span> <span class="n">PTR_ERR</span><span class="p">(</span><span class="n">cvdd</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">da850_cpufreq_device</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>			<span class="o">=</span> <span class="s">&quot;cpufreq-davinci&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">cpufreq_info</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">da850_max_speed</span> <span class="o">=</span> <span class="mi">300000</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">__init</span> <span class="nf">da850_register_cpufreq</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">async_clk</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

	<span class="cm">/* cpufreq driver can help keep an &quot;async&quot; clock constant */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">async_clk</span><span class="p">)</span>
		<span class="n">clk_add_alias</span><span class="p">(</span><span class="s">&quot;async&quot;</span><span class="p">,</span> <span class="n">da850_cpufreq_device</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
							<span class="n">async_clk</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">da850_freq_table</span><span class="p">);</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">da850_freq_table</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">frequency</span> <span class="o">&lt;=</span> <span class="n">da850_max_speed</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">cpufreq_info</span><span class="p">.</span><span class="n">freq_table</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">da850_freq_table</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
			<span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">platform_device_register</span><span class="p">(</span><span class="o">&amp;</span><span class="n">da850_cpufreq_device</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_round_armrate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rate</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="n">ret</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">diff</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">best</span> <span class="o">=</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">cpufreq_frequency_table</span> <span class="o">*</span><span class="n">table</span> <span class="o">=</span> <span class="n">cpufreq_info</span><span class="p">.</span><span class="n">freq_table</span><span class="p">;</span>

	<span class="n">rate</span> <span class="o">/=</span> <span class="mi">1000</span><span class="p">;</span> <span class="cm">/* convert to kHz */</span>

	<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">frequency</span> <span class="o">!=</span> <span class="n">CPUFREQ_TABLE_END</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">diff</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">frequency</span> <span class="o">-</span> <span class="n">rate</span><span class="p">;</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
			<span class="n">diff</span> <span class="o">=</span> <span class="o">-</span><span class="n">diff</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span><span class="n">diff</span> <span class="o">&lt;</span> <span class="n">best</span><span class="p">)</span> <span class="p">{</span>
			<span class="n">best</span> <span class="o">=</span> <span class="n">diff</span><span class="p">;</span>
			<span class="n">ret</span> <span class="o">=</span> <span class="n">table</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">frequency</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">ret</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_set_armrate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">pllclk</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">pll0_clk</span><span class="p">;</span>

	<span class="k">return</span> <span class="n">clk_set_rate</span><span class="p">(</span><span class="n">pllclk</span><span class="p">,</span> <span class="n">index</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_set_pll0rate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">index</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">prediv</span><span class="p">,</span> <span class="n">mult</span><span class="p">,</span> <span class="n">postdiv</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">da850_opp</span> <span class="o">*</span><span class="n">opp</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">pll_data</span> <span class="o">*</span><span class="n">pll</span> <span class="o">=</span> <span class="n">clk</span><span class="o">-&gt;</span><span class="n">pll_data</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>

	<span class="n">opp</span> <span class="o">=</span> <span class="p">(</span><span class="k">struct</span> <span class="n">da850_opp</span> <span class="o">*</span><span class="p">)</span> <span class="n">cpufreq_info</span><span class="p">.</span><span class="n">freq_table</span><span class="p">[</span><span class="n">index</span><span class="p">].</span><span class="n">index</span><span class="p">;</span>
	<span class="n">prediv</span> <span class="o">=</span> <span class="n">opp</span><span class="o">-&gt;</span><span class="n">prediv</span><span class="p">;</span>
	<span class="n">mult</span> <span class="o">=</span> <span class="n">opp</span><span class="o">-&gt;</span><span class="n">mult</span><span class="p">;</span>
	<span class="n">postdiv</span> <span class="o">=</span> <span class="n">opp</span><span class="o">-&gt;</span><span class="n">postdiv</span><span class="p">;</span>

	<span class="n">ret</span> <span class="o">=</span> <span class="n">davinci_set_pllrate</span><span class="p">(</span><span class="n">pll</span><span class="p">,</span> <span class="n">prediv</span><span class="p">,</span> <span class="n">mult</span><span class="p">,</span> <span class="n">postdiv</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">WARN_ON</span><span class="p">(</span><span class="n">ret</span><span class="p">))</span>
		<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>

	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#else</span>
<span class="kt">int</span> <span class="n">__init</span> <span class="nf">da850_register_cpufreq</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">async_clk</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_set_armrate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rate</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_set_pll0rate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">armrate</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">da850_round_armrate</span><span class="p">(</span><span class="k">struct</span> <span class="n">clk</span> <span class="o">*</span><span class="n">clk</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">rate</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">clk</span><span class="o">-&gt;</span><span class="n">rate</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="kt">int</span> <span class="n">__init</span> <span class="nf">da850_register_pm</span><span class="p">(</span><span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">pdev</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">ret</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">davinci_pm_config</span> <span class="o">*</span><span class="n">pdata</span> <span class="o">=</span> <span class="n">pdev</span><span class="o">-&gt;</span><span class="n">dev</span><span class="p">.</span><span class="n">platform_data</span><span class="p">;</span>

	<span class="n">ret</span> <span class="o">=</span> <span class="n">davinci_cfg_reg</span><span class="p">(</span><span class="n">DA850_RTC_ALARM</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ret</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>

	<span class="n">pdata</span><span class="o">-&gt;</span><span class="n">ddr2_ctlr_base</span> <span class="o">=</span> <span class="n">da8xx_get_mem_ctlr</span><span class="p">();</span>
	<span class="n">pdata</span><span class="o">-&gt;</span><span class="n">deepsleep_reg</span> <span class="o">=</span> <span class="n">DA8XX_SYSCFG1_VIRT</span><span class="p">(</span><span class="n">DA8XX_DEEPSLEEP_REG</span><span class="p">);</span>
	<span class="n">pdata</span><span class="o">-&gt;</span><span class="n">ddrpsc_num</span> <span class="o">=</span> <span class="n">DA8XX_LPSC1_EMIF3C</span><span class="p">;</span>

	<span class="n">pdata</span><span class="o">-&gt;</span><span class="n">cpupll_reg_base</span> <span class="o">=</span> <span class="n">ioremap</span><span class="p">(</span><span class="n">DA8XX_PLL0_BASE</span><span class="p">,</span> <span class="n">SZ_4K</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">pdata</span><span class="o">-&gt;</span><span class="n">cpupll_reg_base</span><span class="p">)</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">ENOMEM</span><span class="p">;</span>

	<span class="n">pdata</span><span class="o">-&gt;</span><span class="n">ddrpll_reg_base</span> <span class="o">=</span> <span class="n">ioremap</span><span class="p">(</span><span class="n">DA850_PLL1_BASE</span><span class="p">,</span> <span class="n">SZ_4K</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">pdata</span><span class="o">-&gt;</span><span class="n">ddrpll_reg_base</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENOMEM</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">no_ddrpll_mem</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">pdata</span><span class="o">-&gt;</span><span class="n">ddrpsc_reg_base</span> <span class="o">=</span> <span class="n">ioremap</span><span class="p">(</span><span class="n">DA8XX_PSC1_BASE</span><span class="p">,</span> <span class="n">SZ_4K</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">pdata</span><span class="o">-&gt;</span><span class="n">ddrpsc_reg_base</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">ret</span> <span class="o">=</span> <span class="o">-</span><span class="n">ENOMEM</span><span class="p">;</span>
		<span class="k">goto</span> <span class="n">no_ddrpsc_mem</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="n">platform_device_register</span><span class="p">(</span><span class="n">pdev</span><span class="p">);</span>

<span class="nl">no_ddrpsc_mem:</span>
	<span class="n">iounmap</span><span class="p">(</span><span class="n">pdata</span><span class="o">-&gt;</span><span class="n">ddrpll_reg_base</span><span class="p">);</span>
<span class="nl">no_ddrpll_mem:</span>
	<span class="n">iounmap</span><span class="p">(</span><span class="n">pdata</span><span class="o">-&gt;</span><span class="n">cpupll_reg_base</span><span class="p">);</span>
	<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">davinci_soc_info</span> <span class="n">davinci_soc_info_da850</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">io_desc</span>		<span class="o">=</span> <span class="n">da850_io_desc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">io_desc_num</span>		<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">da850_io_desc</span><span class="p">),</span>
	<span class="p">.</span><span class="n">jtag_id_reg</span>		<span class="o">=</span> <span class="n">DA8XX_SYSCFG0_BASE</span> <span class="o">+</span> <span class="n">DA8XX_JTAG_ID_REG</span><span class="p">,</span>
	<span class="p">.</span><span class="n">ids</span>			<span class="o">=</span> <span class="n">da850_ids</span><span class="p">,</span>
	<span class="p">.</span><span class="n">ids_num</span>		<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">da850_ids</span><span class="p">),</span>
	<span class="p">.</span><span class="n">cpu_clks</span>		<span class="o">=</span> <span class="n">da850_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">psc_bases</span>		<span class="o">=</span> <span class="n">da850_psc_bases</span><span class="p">,</span>
	<span class="p">.</span><span class="n">psc_bases_num</span>		<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">da850_psc_bases</span><span class="p">),</span>
	<span class="p">.</span><span class="n">pinmux_base</span>		<span class="o">=</span> <span class="n">DA8XX_SYSCFG0_BASE</span> <span class="o">+</span> <span class="mh">0x120</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pinmux_pins</span>		<span class="o">=</span> <span class="n">da850_pins</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pinmux_pins_num</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">da850_pins</span><span class="p">),</span>
	<span class="p">.</span><span class="n">intc_base</span>		<span class="o">=</span> <span class="n">DA8XX_CP_INTC_BASE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">intc_type</span>		<span class="o">=</span> <span class="n">DAVINCI_INTC_TYPE_CP_INTC</span><span class="p">,</span>
	<span class="p">.</span><span class="n">intc_irq_prios</span>		<span class="o">=</span> <span class="n">da850_default_priorities</span><span class="p">,</span>
	<span class="p">.</span><span class="n">intc_irq_num</span>		<span class="o">=</span> <span class="n">DA850_N_CP_INTC_IRQ</span><span class="p">,</span>
	<span class="p">.</span><span class="n">timer_info</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">da850_timer_info</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio_type</span>		<span class="o">=</span> <span class="n">GPIO_TYPE_DAVINCI</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio_base</span>		<span class="o">=</span> <span class="n">DA8XX_GPIO_BASE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio_num</span>		<span class="o">=</span> <span class="mi">144</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio_irq</span>		<span class="o">=</span> <span class="n">IRQ_DA8XX_GPIO0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">serial_dev</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">da8xx_serial_device</span><span class="p">,</span>
	<span class="p">.</span><span class="n">emac_pdata</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">da8xx_emac_pdata</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sram_dma</span>		<span class="o">=</span> <span class="n">DA8XX_ARM_RAM_BASE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sram_len</span>		<span class="o">=</span> <span class="n">SZ_8K</span><span class="p">,</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">__init</span> <span class="nf">da850_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">v</span><span class="p">;</span>

	<span class="n">davinci_common_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">davinci_soc_info_da850</span><span class="p">);</span>

	<span class="n">da8xx_syscfg0_base</span> <span class="o">=</span> <span class="n">ioremap</span><span class="p">(</span><span class="n">DA8XX_SYSCFG0_BASE</span><span class="p">,</span> <span class="n">SZ_4K</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">WARN</span><span class="p">(</span><span class="o">!</span><span class="n">da8xx_syscfg0_base</span><span class="p">,</span> <span class="s">&quot;Unable to map syscfg0 module&quot;</span><span class="p">))</span>
		<span class="k">return</span><span class="p">;</span>

	<span class="n">da8xx_syscfg1_base</span> <span class="o">=</span> <span class="n">ioremap</span><span class="p">(</span><span class="n">DA8XX_SYSCFG1_BASE</span><span class="p">,</span> <span class="n">SZ_4K</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">WARN</span><span class="p">(</span><span class="o">!</span><span class="n">da8xx_syscfg1_base</span><span class="p">,</span> <span class="s">&quot;Unable to map syscfg1 module&quot;</span><span class="p">))</span>
		<span class="k">return</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Move the clock source of Async3 domain to PLL1 SYSCLK2.</span>
<span class="cm">	 * This helps keeping the peripherals on this domain insulated</span>
<span class="cm">	 * from CPU frequency changes caused by DVFS. The firmware sets</span>
<span class="cm">	 * both PLL0 and PLL1 to the same frequency so, there should not</span>
<span class="cm">	 * be any noticeable change even in non-DVFS use cases.</span>
<span class="cm">	 */</span>
	<span class="n">da850_set_async3_src</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>

	<span class="cm">/* Unlock writing to PLL0 registers */</span>
	<span class="n">v</span> <span class="o">=</span> <span class="n">__raw_readl</span><span class="p">(</span><span class="n">DA8XX_SYSCFG0_VIRT</span><span class="p">(</span><span class="n">DA8XX_CFGCHIP0_REG</span><span class="p">));</span>
	<span class="n">v</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">CFGCHIP0_PLL_MASTER_LOCK</span><span class="p">;</span>
	<span class="n">__raw_writel</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">DA8XX_SYSCFG0_VIRT</span><span class="p">(</span><span class="n">DA8XX_CFGCHIP0_REG</span><span class="p">));</span>

	<span class="cm">/* Unlock writing to PLL1 registers */</span>
	<span class="n">v</span> <span class="o">=</span> <span class="n">__raw_readl</span><span class="p">(</span><span class="n">DA8XX_SYSCFG0_VIRT</span><span class="p">(</span><span class="n">DA8XX_CFGCHIP3_REG</span><span class="p">));</span>
	<span class="n">v</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">CFGCHIP3_PLL1_MASTER_LOCK</span><span class="p">;</span>
	<span class="n">__raw_writel</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">DA8XX_SYSCFG0_VIRT</span><span class="p">(</span><span class="n">DA8XX_CFGCHIP3_REG</span><span class="p">));</span>
<span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
