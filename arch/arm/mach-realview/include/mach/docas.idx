f | platform.h | s | 10K | 218 | Russell King | rmk+kernel@arm.linux.org.uk | 1272789335 |  | ARM: Realview/Versatile/Integrator: remove unused definitions from platform.h  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | hardware.h | s | 1.3K | 39 | Rob Herring | rob.herring@calxeda.com | 1331691921 |  | ARM: __io abuse cleanup  Several platforms incorrectly use __io() for casting to 'void __iomem *'. This converts all of those uses to use the common IOMEM macro.  Reported-by: Arnd Bergmann <arnd@arndb.de> Signed-off-by: Rob Herring <rob.herring@calxeda.com> Acked-by: Anton Vorontsov <cbouatmailru@gmail.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Paul Mundt <lethal@linux-sh.org> Cc: Magnus Damm <magnus.damm@gmail.com> Cc: Srinidhi Kasagar <srinidhi.kasagar@stericsson.com> Acked-by: Linus Walleij <linus.walleij@linaro.org> Cc: linux-sh@vger.kernel.org Acked-by: Arnd Bergmann <arnd@arndb.de>
f | board-pb11mp.h | s | 4.4K | 88 | Marc Zyngier | Marc.Zyngier@arm.com | 1327483476 |  | ARM: 7298/1: realview: fix mapping of MPCore private memory region  Since commit 0536bdf33faf (ARM: move iotable mappings within the vmalloc region), the RealView PB11MP cannot boot anymore.  This is caused by the way the mappings are described on this platform (define replaced by hex values for clarity):  {	/* GIC CPU interface mapping */         .virtual        = IO_ADDRESS(0x1F000100),         .pfn            = __phys_to_pfn(0x1F000100),         .length         = SZ_4K,         .type           = MT_DEVICE, }, {	/* GIC distributor mapping */         .virtual        = IO_ADDRESS(0x1F001000),         .pfn            = __phys_to_pfn(0x1F001000),         .length         = SZ_4K,         .type           = MT_DEVICE, }  The first mapping ends up reserving two pages, and clashes with the second one, which triggers a BUG_ON in vm_area_add_early().  In order to solve this problem, treat the MPCore private memory region (containing the SCU, the GIC and the TWD) as a single region, as described in the TRM: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0360f/CACGDJJC.html  The EB11MP is converted the same way, even if it manages to avoid the problem.  Tested on both PB11MP and EB11MP.  Signed-off-by: Marc Zyngier <marc.zyngier@arm.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | irqs-eb.h | s | 5.5K | 120 | Marc Zyngier | Marc.Zyngier@arm.com | 1328202026 |  | ARM: 7309/1: realview: fix unconnected interrupts on EB11MP  Since commit 2eac58d (ARM: amba: make use of -1 IRQs warn), we're able to detect the use of value -1 to indicate the lack of interrupt line.  The RealView EB, when used with the 11MPCore tile, has a number of devices without interrupts, and uses the value -1 to indicate this.  Change that value to 0 to conform to the new behaviour.  Signed-off-by: Marc Zyngier <marc.zyngier@arm.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | memory.h | s | 2.2K | 62 | Nicolas Pitre | nicolas.pitre@linaro.org | 1311017402 |  | ARM: mach-realview: move from ARM_DMA_ZONE_SIZE to mdesc->dma_zone_size  Signed-off-by: Nicolas Pitre <nicolas.pitre@linaro.org>
f | barriers.h | s | 248B | 8 | Catalin Marinas | catalin.marinas@arm.com | 1305193920 |  | ARM: 6870/1: The mandatory barrier rmb() must be a dsb() in for device accesses  Since mandatory barriers may be used (explicitly or implicitly via readl etc.) to ensure the ordering between Device and Normal memory accesses, a DMB is not enough. This patch converts it to a DSB.  Cc: Colin Cross <ccross@android.com> Signed-off-by: Catalin Marinas <catalin.marinas@arm.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | irqs-pba8.h | s | 3.9K | 81 | Will Deacon | will.deacon@arm.com | 1272789337 |  | ARM: 5890/1: Fix incorrect Realview board IRQs for L220 and PMU  In anticipation of PMU support for Realview boards, the IRQs defined for some of these boards need updating.  This patch removes incorrect L220 IRQ definitions, corrects incorrect PMU IRQs and adds any missing IRQs that are required.  Signed-off-by: Will Deacon <will.deacon@arm.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | board-eb.h | s | 3.8K | 83 | Marc Zyngier | Marc.Zyngier@arm.com | 1327483476 |  | ARM: 7298/1: realview: fix mapping of MPCore private memory region  Since commit 0536bdf33faf (ARM: move iotable mappings within the vmalloc region), the RealView PB11MP cannot boot anymore.  This is caused by the way the mappings are described on this platform (define replaced by hex values for clarity):  {	/* GIC CPU interface mapping */         .virtual        = IO_ADDRESS(0x1F000100),         .pfn            = __phys_to_pfn(0x1F000100),         .length         = SZ_4K,         .type           = MT_DEVICE, }, {	/* GIC distributor mapping */         .virtual        = IO_ADDRESS(0x1F001000),         .pfn            = __phys_to_pfn(0x1F001000),         .length         = SZ_4K,         .type           = MT_DEVICE, }  The first mapping ends up reserving two pages, and clashes with the second one, which triggers a BUG_ON in vm_area_add_early().  In order to solve this problem, treat the MPCore private memory region (containing the SCU, the GIC and the TWD) as a single region, as described in the TRM: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0360f/CACGDJJC.html  The EB11MP is converted the same way, even if it manages to avoid the problem.  Tested on both PB11MP and EB11MP.  Signed-off-by: Marc Zyngier <marc.zyngier@arm.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | irqs.h | s | 1.2K | 34 | Catalin Marinas | catalin.marinas@arm.com | 1243688417 |  | RealView: Move the IRQ_* definitions out of the board-*.h files  The IRQ_* macros need to be made visible via the mach/irqs.h file but without the additional macros defined in the board-*.h files.  Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
f | board-pba8.h | s | 3.2K | 66 | Catalin Marinas | catalin.marinas@arm.com | 1243688417 |  | RealView: Move the IRQ_* definitions out of the board-*.h files  The IRQ_* macros need to be made visible via the mach/irqs.h file but without the additional macros defined in the board-*.h files.  Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
f | irqs-pbx.h | s | 4.7K | 95 | Will Deacon | will.deacon@arm.com | 1272789337 |  | ARM: 5890/1: Fix incorrect Realview board IRQs for L220 and PMU  In anticipation of PMU support for Realview boards, the IRQs defined for some of these boards need updating.  This patch removes incorrect L220 IRQ definitions, corrects incorrect PMU IRQs and adds any missing IRQs that are required.  Signed-off-by: Will Deacon <will.deacon@arm.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | uncompress.h | s | 2.1K | 69 | Colin Tuckley | colin.tuckley@arm.com | 1243688172 |  | RealView: Add support for the RealView/PBX platform  This is a RealView platform supporting core tiles with ARM11MPCore, Cortex-A8 or Cortex-A9 (multicore) processors. It has support for MMC, CompactFlash, PCI-E.  Signed-off-by: Colin Tuckley <colin.tuckley@arm.com> Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
f | debug-macro.S | g | 832B |  | Linus Torvalds | torvalds@linux-foundation.org | 1320204862 |  | Merge branch 'next/cross-platform' of git://git.linaro.org/people/arnd/arm-soc  * 'next/cross-platform' of git://git.linaro.org/people/arnd/arm-soc:   arm/imx: use Kconfig choice for low-level debug UART selection   ARM: realview: use Kconfig choice for debug UART selection   ARM: plat-samsung: use Kconfig choice for debug UART selection   ARM: versatile: convert logical CPU numbers to physical numbers   ARM: ux500: convert logical CPU numbers to physical numbers   ARM: shmobile: convert logical CPU numbers to physical numbers   ARM: msm: convert logical CPU numbers to physical numbers   ARM: exynos4: convert logical CPU numbers to physical numbers  Fix up trivial conflict (config DEBUG_S3C_UART move/split vs addition of ARM_KPROBES_TEST option) in arch/arm/Kconfig.debug
f | irqs-pb1176.h | s | 4.1K | 84 | Will Deacon | will.deacon@arm.com | 1327489305 |  | ARM: 7300/1: realview: fix definition of GPIO0 interrupt on PB1176 to match TRM  Currently, -1 is used as the GPIO0 interrupt on realview PB1176 and an AMBA device is registered with this parameter. With the pending NO_IRQ cleanup, this will lead to a warning at boot time, since -1 is obviously broken.  This patch updates the interrupt used for GPIO0 to match that specified by the TRM. Unfortunately, it's not clear how to trigger this interrupt so we trust that the documentation is correct.  Signed-off-by: Will Deacon <will.deacon@arm.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | board-pbx.h | s | 4.6K | 97 | Catalin Marinas | catalin.marinas@arm.com | 1243688417 |  | RealView: Move the IRQ_* definitions out of the board-*.h files  The IRQ_* macros need to be made visible via the mach/irqs.h file but without the additional macros defined in the board-*.h files.  Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
f | irqs-pb11mp.h | s | 5.5K | 108 | Catalin Marinas | catalin.marinas@arm.com | 1243688417 |  | RealView: Move the IRQ_* definitions out of the board-*.h files  The IRQ_* macros need to be made visible via the mach/irqs.h file but without the additional macros defined in the board-*.h files.  Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
f | gpio.h | s | 12B | 1 | Russell King | rmk+kernel@arm.linux.org.uk | 1313135659 |  | ARM: gpio: make trivial GPIOLIB implementation the default  Rather than marking the mach/gpio.h header files which want to use the trivial GPIOLIB implementation, mark those which do not want to use it instead.  This means that by default, you get the trivial implementation and only have to do something extra if you need to.  This should encourage the use of the trivial default implementation.  As an additional bonus, several gpio.h header files become empty.  Acked-by: H Hartley Sweeten <hsweeten@visionengravers.com> Tested-by: Jamie Iles <jamie@jamieiles.com> Acked-by: Kukjin Kim <kgene.kim@samsung.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | clkdev.h | s | 288B | 12 | Russell King | rmk+kernel@arm.linux.org.uk | 1272789338 |  | ARM: Indirect round/set_rate operations through clk structure  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | board-pb1176.h | s | 3.7K | 74 | Linus Walleij | linus.walleij@linaro.org | 1318839221 |  | ARM: 6217/4: mach-realview: expose PB1176 ROM using physmap and map_rom  This exposes the PB1176 ROM if you compile in the MTD physmap mapping and also the map_rom chiptype.  Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | timex.h | s | 901B | 22 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
