<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › include › asm › hardware › it8152.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../../../index.html"></a><h1>it8152.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * linux/include/arm/hardware/it8152.h</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright Compulab Ltd., 2006,2007</span>
<span class="cm"> * Mike Rapoport &lt;mike@compulab.co.il&gt;</span>
<span class="cm"> *</span>
<span class="cm"> * ITE 8152 companion chip register definitions</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ASM_HARDWARE_IT8152_H</span>
<span class="cp">#define __ASM_HARDWARE_IT8152_H</span>

<span class="cp">#include &lt;mach/irqs.h&gt;</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">it8152_base_address</span><span class="p">;</span>

<span class="cp">#define IT8152_IO_BASE			(it8152_base_address + 0x03e00000)</span>
<span class="cp">#define IT8152_CFGREG_BASE		(it8152_base_address + 0x03f00000)</span>

<span class="cp">#define __REG_IT8152(x)			(it8152_base_address + (x))</span>

<span class="cp">#define IT8152_PCI_CFG_ADDR		__REG_IT8152(0x3f00800)</span>
<span class="cp">#define IT8152_PCI_CFG_DATA		__REG_IT8152(0x3f00804)</span>

<span class="cp">#define IT8152_INTC_LDCNIRR		__REG_IT8152(0x3f00300)</span>
<span class="cp">#define IT8152_INTC_LDPNIRR		__REG_IT8152(0x3f00304)</span>
<span class="cp">#define IT8152_INTC_LDCNIMR		__REG_IT8152(0x3f00308)</span>
<span class="cp">#define IT8152_INTC_LDPNIMR		__REG_IT8152(0x3f0030C)</span>
<span class="cp">#define IT8152_INTC_LDNITR		__REG_IT8152(0x3f00310)</span>
<span class="cp">#define IT8152_INTC_LDNIAR		__REG_IT8152(0x3f00314)</span>
<span class="cp">#define IT8152_INTC_LPCNIRR		__REG_IT8152(0x3f00320)</span>
<span class="cp">#define IT8152_INTC_LPPNIRR		__REG_IT8152(0x3f00324)</span>
<span class="cp">#define IT8152_INTC_LPCNIMR		__REG_IT8152(0x3f00328)</span>
<span class="cp">#define IT8152_INTC_LPPNIMR		__REG_IT8152(0x3f0032C)</span>
<span class="cp">#define IT8152_INTC_LPNITR		__REG_IT8152(0x3f00330)</span>
<span class="cp">#define IT8152_INTC_LPNIAR		__REG_IT8152(0x3f00334)</span>
<span class="cp">#define IT8152_INTC_PDCNIRR		__REG_IT8152(0x3f00340)</span>
<span class="cp">#define IT8152_INTC_PDPNIRR		__REG_IT8152(0x3f00344)</span>
<span class="cp">#define IT8152_INTC_PDCNIMR		__REG_IT8152(0x3f00348)</span>
<span class="cp">#define IT8152_INTC_PDPNIMR		__REG_IT8152(0x3f0034C)</span>
<span class="cp">#define IT8152_INTC_PDNITR		__REG_IT8152(0x3f00350)</span>
<span class="cp">#define IT8152_INTC_PDNIAR		__REG_IT8152(0x3f00354)</span>
<span class="cp">#define IT8152_INTC_INTC_TYPER		__REG_IT8152(0x3f003FC)</span>

<span class="cp">#define IT8152_GPIO_GPDR		__REG_IT8152(0x3f00500)</span>

<span class="cm">/*</span>
<span class="cm">  Interrupt controller per register summary:</span>
<span class="cm">  ---------------------------------------</span>
<span class="cm">  LCDNIRR:</span>
<span class="cm">  IT8152_LD_IRQ(8) PCICLK stop</span>
<span class="cm">  IT8152_LD_IRQ(7) MCLK ready</span>
<span class="cm">  IT8152_LD_IRQ(6) s/w</span>
<span class="cm">  IT8152_LD_IRQ(5) UART</span>
<span class="cm">  IT8152_LD_IRQ(4) GPIO</span>
<span class="cm">  IT8152_LD_IRQ(3) TIMER 4</span>
<span class="cm">  IT8152_LD_IRQ(2) TIMER 3</span>
<span class="cm">  IT8152_LD_IRQ(1) TIMER 2</span>
<span class="cm">  IT8152_LD_IRQ(0) TIMER 1</span>

<span class="cm">  LPCNIRR:</span>
<span class="cm">  IT8152_LP_IRQ(x) serial IRQ x</span>

<span class="cm">  PCIDNIRR:</span>
<span class="cm">  IT8152_PD_IRQ(14) PCISERR</span>
<span class="cm">  IT8152_PD_IRQ(13) CPU/PCI bridge target abort (h2pTADR)</span>
<span class="cm">  IT8152_PD_IRQ(12) CPU/PCI bridge master abort (h2pMADR)</span>
<span class="cm">  IT8152_PD_IRQ(11) PCI INTD</span>
<span class="cm">  IT8152_PD_IRQ(10) PCI INTC</span>
<span class="cm">  IT8152_PD_IRQ(9)  PCI INTB</span>
<span class="cm">  IT8152_PD_IRQ(8)  PCI INTA</span>
<span class="cm">  IT8152_PD_IRQ(7)  serial INTD</span>
<span class="cm">  IT8152_PD_IRQ(6)  serial INTC</span>
<span class="cm">  IT8152_PD_IRQ(5)  serial INTB</span>
<span class="cm">  IT8152_PD_IRQ(4)  serial INTA</span>
<span class="cm">  IT8152_PD_IRQ(3)  serial IRQ IOCHK (IOCHKR)</span>
<span class="cm">  IT8152_PD_IRQ(2)  chaining DMA (CDMAR)</span>
<span class="cm">  IT8152_PD_IRQ(1)  USB (USBR)</span>
<span class="cm">  IT8152_PD_IRQ(0)  Audio controller (ACR)</span>
<span class="cm"> */</span>
<span class="cp">#define IT8152_IRQ(x)   (IRQ_BOARD_START + (x))</span>
<span class="cp">#define IT8152_LAST_IRQ	(IRQ_BOARD_START + 40)</span>

<span class="cm">/* IRQ-sources in 3 groups - local devices, LPC (serial), and external PCI */</span>
<span class="cp">#define IT8152_LD_IRQ_COUNT     9</span>
<span class="cp">#define IT8152_LP_IRQ_COUNT     16</span>
<span class="cp">#define IT8152_PD_IRQ_COUNT     15</span>

<span class="cm">/* Priorities: */</span>
<span class="cp">#define IT8152_PD_IRQ(i)        IT8152_IRQ(i)</span>
<span class="cp">#define IT8152_LP_IRQ(i)        (IT8152_IRQ(i) + IT8152_PD_IRQ_COUNT)</span>
<span class="cp">#define IT8152_LD_IRQ(i)        (IT8152_IRQ(i) + IT8152_PD_IRQ_COUNT + IT8152_LP_IRQ_COUNT)</span>

<span class="cm">/* frequently used interrupts */</span>
<span class="cp">#define IT8152_PCISERR		IT8152_PD_IRQ(14)</span>
<span class="cp">#define IT8152_H2PTADR		IT8152_PD_IRQ(13)</span>
<span class="cp">#define IT8152_H2PMAR		IT8152_PD_IRQ(12)</span>
<span class="cp">#define IT8152_PCI_INTD		IT8152_PD_IRQ(11)</span>
<span class="cp">#define IT8152_PCI_INTC		IT8152_PD_IRQ(10)</span>
<span class="cp">#define IT8152_PCI_INTB		IT8152_PD_IRQ(9)</span>
<span class="cp">#define IT8152_PCI_INTA		IT8152_PD_IRQ(8)</span>
<span class="cp">#define IT8152_CDMA_INT		IT8152_PD_IRQ(2)</span>
<span class="cp">#define IT8152_USB_INT		IT8152_PD_IRQ(1)</span>
<span class="cp">#define IT8152_AUDIO_INT	IT8152_PD_IRQ(0)</span>

<span class="k">struct</span> <span class="n">pci_dev</span><span class="p">;</span>
<span class="k">struct</span> <span class="n">pci_sys_data</span><span class="p">;</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">it8152_irq_demux</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">irq</span><span class="p">,</span> <span class="k">struct</span> <span class="n">irq_desc</span> <span class="o">*</span><span class="n">desc</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">it8152_init_irq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">it8152_pci_map_irq</span><span class="p">(</span><span class="k">const</span> <span class="k">struct</span> <span class="n">pci_dev</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="n">u8</span> <span class="n">slot</span><span class="p">,</span> <span class="n">u8</span> <span class="n">pin</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">it8152_pci_setup</span><span class="p">(</span><span class="kt">int</span> <span class="n">nr</span><span class="p">,</span> <span class="k">struct</span> <span class="n">pci_sys_data</span> <span class="o">*</span><span class="n">sys</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">pci_ops</span> <span class="n">it8152_ops</span><span class="p">;</span>

<span class="cp">#endif </span><span class="cm">/* __ASM_HARDWARE_IT8152_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:5}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../../../javascript/docco.min.js"></script>
</html>
