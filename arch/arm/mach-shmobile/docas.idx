f | setup-sh7372.c | s | 26K | 1048 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1340184632 |  | ARM: shmobile: sh7372: bugfix: chclr_offset base  chclr_write() will use (chan_reg + chclr_offset). In sh7372 case, DMA1CHCLR is started from 0xfe008220, and chan_reg is started from 0xfe008020 (= sh7372_dmae0_resources). Thus, chclr_offset should be (0x220 - 0x20) instead of 0x220.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | Makefile | g | 2.0K |  | Linus Torvalds | torvalds@linux-foundation.org | 1338063241 |  | 
f | sleep-sh7372.S | g | 2.6K |  | Magnus Damm | damm@opensource.se | 1324852743 |  | PM / shmobile: Add support for the sh7372 A4S power domain / sleep mode  The sh7372 contains a power domain named A4S which in turn contains power domains for both I/O Devices and CPU cores.  At this point only System wide Suspend-to-RAM is supported, but the the hardware can also support CPUIdle. With more efforts in the future CPUIdle can work with bot A4S and A3SM.  Tested on the sh7372 Mackerel board.  [rjw: Rebased on top of the current linux-pm tree.]  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | common.c | s | 844B | 23 | Shawn Guo | shawn.guo@linaro.org | 1336480595 |  | ARM: shmobile: use machine specific hook for late init  Cc: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: "Rafael J. Wysocki" <rjw@sisk.pl>
f | setup-sh73a0.c | s | 15K | 652 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1336853625 |  | ARM / mach-shmobile: sh73a0 SMP TWD boot regression fix  Fix SMP TWD boot regression on sh73a0 based platforms caused by:  4200b16 ARM: shmobile: convert to twd_local_timer_register() interface  After the merge of the above commit it has been impossible to boot sh73a0 based SoCs with SMP enabled and CONFIG_HAVE_ARM_TWD=y. The kernel crashes at smp_init_cpus() timing which is before the console has been initialized, so to the user this looks like a kernel lock up without any particular error message.  This patch fixes the regression on sh73a0 by moving the TWD registration code from smp_init_cpus() to sys_timer->init() time.  This patch removed shmobile_twd_init() which is no longer needed  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | hotplug.c | s | 1.6K | 62 | Magnus Damm | damm@opensource.se | 1326073049 |  | ARM: mach-shmobile: Flush caches in platform_cpu_die()  Add cache flushing code to the SH-Mobile specific CPU hotplug implementation. While at it, add a cpu mask to make sure the cache flushing code is finished in platform_cpu_die() before letting the SoC-specific code in shmobile_platform_cpu_kill() proceed with turning off power.  Without this code CPU hotplug offline fails when cache is enabled on Cortex-A9 based SoCs.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pfc-sh7367.c | s | 67K | 1653 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1320997535 |  | ARM: mach-shmobile: move helper macro PORTCR to sh_pfc.h  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | smp-emev2.c | s | 2.4K | 80 | Magnus Damm | damm@opensource.se | 1337292842 |  | mach-shmobile: Emma Mobile EV2 SMP support V3  This is V3 of Emma Mobile EV2 SMP support.  At this point only the most basic form of SMP operation is supported. TWD and CPU Hotplug support is excluded.  Tied to both the Emma Mobile EV2 and the KZM9D board due to the need to switch on board in platsmp.c and the newly introduced need for static mappings.  The static mappings are needed to allow hardware acces early during boot when SMP is initialized. This early requirement forces us to also map in the SMU registers.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | intc-r8a7779.c | s | 2.0K | 58 | Phil Edworthy | phil.edworthy@renesas.com | 1340406729 |  | ARM: shmobile: r8a7779: Route all interrupts to ARM  Without this, the interrupts for I2C, VIN, GPIO, SDHC, HSCIF and HPB-DMAC are sent to the SH processor.  Signed-off-by: Phil Edworthy <phil.edworthy@renesas.com> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | cpuidle.c | s | 1.5K | 54 | Shawn Guo | shawn.guo@linaro.org | 1336480595 |  | ARM: shmobile: use machine specific hook for late init  Cc: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: "Rafael J. Wysocki" <rjw@sisk.pl>
f | pfc-r8a7740.c | s | 86K | 2237 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1336854231 |  | ARM: mach-shmobile: r8a7740: add gpio_irq support  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Tested-by: Simon Horman <horms@verge.net.au> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | pm-r8a7779.c | s | 5.6K | 197 | David Howells | dhowells@redhat.com | 1332955801 |  | Disintegrate asm/system.h for ARM  Disintegrate asm/system.h for ARM.  Signed-off-by: David Howells <dhowells@redhat.com> cc: Russell King <linux@arm.linux.org.uk> cc: linux-arm-kernel@lists.infradead.org
d | include |  | 1 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338063241 |  | 
f | board-ap4evb.c | s | 32K | 1288 | Linus Torvalds | torvalds@linux-foundation.org | 1338063241 |  | 
f | smp-sh73a0.c | s | 2.7K | 88 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1336853625 |  | ARM / mach-shmobile: sh73a0 SMP TWD boot regression fix  Fix SMP TWD boot regression on sh73a0 based platforms caused by:  4200b16 ARM: shmobile: convert to twd_local_timer_register() interface  After the merge of the above commit it has been impossible to boot sh73a0 based SoCs with SMP enabled and CONFIG_HAVE_ARM_TWD=y. The kernel crashes at smp_init_cpus() timing which is before the console has been initialized, so to the user this looks like a kernel lock up without any particular error message.  This patch fixes the regression on sh73a0 by moving the TWD registration code from smp_init_cpus() to sys_timer->init() time.  This patch removed shmobile_twd_init() which is no longer needed  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | intc-sh7367.c | s | 15K | 388 | Rob Herring | rob.herring@calxeda.com | 1327545471 |  | ARM: shmobile: remove NR_IRQS  Remove NR_IRQS and explicitly include mach/irqs.h as needed. shmobile properly allocates irq_descs for each irqchip, so setting .nr_irqs for each machine is not needed.  Signed-off-by: Rob Herring <rob.herring@calxeda.com>
f | setup-emev2.c | s | 9.0K | 405 | Magnus Damm | damm@opensource.se | 1337292843 |  | mach-shmobile: Emma Mobile EV2 DT support V3  This is EMEV2 DT support V3. The support is limited to whatever devices that are complied in the kernel. At this point we have UARTs handled by "em-uart" and a timer handled by "em-sti". Clocks and SMP are not supported.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | board-bonito.c | s | 11K | 437 | Linus Torvalds | torvalds@linux-foundation.org | 1338063241 |  | 
f | setup-r8a7740.c | s | 9.0K | 357 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1336854786 |  | ARM: mach-shmobile: r8a7740: reserve DMA memory for the frame buffer  The default 2MB size of DMA coherent memory isn't enough for allocate frame buffer memory.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Tested-by: Simon Horman <horms@verge.net.au> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | suspend.c | s | 968B | 40 | Shawn Guo | shawn.guo@linaro.org | 1336480595 |  | ARM: shmobile: use machine specific hook for late init  Cc: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: "Rafael J. Wysocki" <rjw@sisk.pl>
f | board-armadillo800eva.c | s | 19K | 704 | Laurent Pinchart | laurent.pinchart@ideasonboard.com | 1340270688 |  | ARM: mach-shmobile: armadillo800eva: Use late init machine hook  Since commit 21cc1b7ede3cf456cf1d51f8a906093261f7c111 ("ARM: shmobile: use machine specific hook for late init") suspend and CPU idle are not initialized automatically anymore. Set shmobile_init_late() as the machine late init hook to initialize them.  Signed-off-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | intc-sh7372.c | s | 23K | 617 | Magnus Damm | damm@opensource.se | 1334139110 |  | ARM: mach-shmobile: Rework sh7372 INTCS demuxer V2  This patch is the sh7372 INTC demux rework V2.  Updates the sh7372 INTCS demuxer to not hook into the INTCA interrupt controller. The mask register for the chained INTCS interrupt source happens to be located in the INTCS register range instead of the INTCA as expected. To allow each INTCA and INTCS interrupt controller to work in their own IRQ range this patch moves the INTCS vector away.  Needed for future IRQ domain support.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | smp-r8a7779.c | s | 3.6K | 125 | Magnus Damm | damm@opensource.se | 1336853618 |  | ARM / mach-shmobile: r8a7779 SMP TWD boot regression fix  Fix SMP TWD boot regression on r8a7779 based platforms caused by:  4200b16 ARM: shmobile: convert to twd_local_timer_register() interface  After the merge of the above commit it has been impossible to boot r8a7779 based SoCs with SMP enabled and CONFIG_HAVE_ARM_TWD=y. The kernel crashes at smp_init_cpus() timing which is before the console has been initialized, so to the user this looks like a kernel lock up without any particular error message.  This patch fixes the regression on r8a7779 by moving the TWD registration code from smp_init_cpus() to sys_timer->init() time.  Signed-off-by: Magnus Damm <damm@opensource.se> Acked-by: Marc Zyngier <marc.zyngier@arm.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | clock.c | s | 1.2K | 42 | Magnus Damm | damm@opensource.se | 1331587183 |  | ARM: mach-shmobile: rename clk_init() to shmobile_clk_init()  Rename clk_init() to shmobile_clk_init() to avoid a potential future name space collision with the common clock framework.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | board-marzen.c | s | 2.8K | 92 | Shawn Guo | shawn.guo@linaro.org | 1336480595 |  | ARM: shmobile: use machine specific hook for late init  Cc: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: "Rafael J. Wysocki" <rjw@sisk.pl>
f | clock-sh73a0.c | s | 17K | 539 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1340184625 |  | ARM: shmobile: sh73a0: bugfix: SY-DMAC number  681e1b3eeb3606e06a7c4984e8058df84296f8bb (ARM: mach-shmobile: sh73a0 DMA Engine support for SY-DMAC) adds SY-DMAC, but it is 218, not 318  This patch is based on v2.0 manual  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | headsmp.S | g | 2.3K |  | Magnus Damm | damm@opensource.se | 1336853632 |  | ARM / mach-shmobile: Invalidate caches when booting secondary cores  Make sure L1 caches are invalidated when booting secondary cores. Needed to boot all mach-shmobile SMP systems that are using Cortex-A9 including sh73a0, r8a7779 and EMEV2.  Thanks to imx and tegra guys for actual code.  Signed-off-by: Magnus Damm <damm@opensource.se> Tested-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | pfc-sh7372.c | s | 58K | 1506 | Guennadi Liakhovetski | g.liakhovetski@gmx.de | 1327369225 |  | ARM: mach-shmobile: add GPIO-to-IRQ translation to sh7372  This table is required to support the gpio_to_irq() translation.  Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | timer.c | s | 2.1K | 62 | Magnus Damm | damm@opensource.se | 1336854096 |  | ARM / mach-shmobile: Use preset_lpj with calibrate_delay()  Update the mach-shmobile shared delay calibration code for late timers. All existing in-tree non-DT socs are however using early timers today and they are unaffected by this change.  The patch modifies shmobile_setup_delay() from using lpj_fine to preset_lpj. This change allows us to preset the worst case loops-per-jiffy value to all CPU cores on the system.  The old code which made use of lpj_fine did not affect the secondary CPU cores which made it impossible to boot on SMP without early timers.  Needed for SMP SoCs using late timers like EMEV2 or any other mach-shmobile SMP SoC that makes use of late timers via DT.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | setup-r8a7779.c | s | 7.4K | 268 | Magnus Damm | damm@opensource.se | 1336853618 |  | ARM / mach-shmobile: r8a7779 SMP TWD boot regression fix  Fix SMP TWD boot regression on r8a7779 based platforms caused by:  4200b16 ARM: shmobile: convert to twd_local_timer_register() interface  After the merge of the above commit it has been impossible to boot r8a7779 based SoCs with SMP enabled and CONFIG_HAVE_ARM_TWD=y. The kernel crashes at smp_init_cpus() timing which is before the console has been initialized, so to the user this looks like a kernel lock up without any particular error message.  This patch fixes the regression on r8a7779 by moving the TWD registration code from smp_init_cpus() to sys_timer->init() time.  Signed-off-by: Magnus Damm <damm@opensource.se> Acked-by: Marc Zyngier <marc.zyngier@arm.com> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | pfc-r8a7779.c | s | 107K | 2552 | Magnus Damm | damm@opensource.se | 1330057499 |  | ARM: mach-shmobile: r8a7779 PFC IPSR4 fix  Fix the bit field width information for the IPSR4 register in the r8a7779 pin function controller (PFC).  Without this fix the Marzen board fails to receive data over the serial console due to misconfigured pin function for the RX pin.  Signed-off-by: Magnus Damm <damm@opensource.se> Tested-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Tested-by: Simon Horman <horms@verge.net.au> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | pfc-sh73a0.c | s | 90K | 2715 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1336854856 |  | ARM: mach-shmobile: pfc-sh73a0: fixup MSEL2CR MSEL18 for I2C-3  MSEL2CR MSEL18 should be 1 if I2C-3  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Tested-by: Simon Horman <horms@verge.net.au> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | board-kzm9g.c | s | 11K | 412 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1340270689 |  | ARM: shmobile: kzm9g: use late init machine hook  Since commit 21cc1b7ede3cf456cf1d51f8a906093261f7c111 ("ARM: shmobile: use machine specific hook for late init") suspend and CPU idle are not initialized automatically anymore. Set shmobile_init_late() as the machine late init hook to initialize them.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | board-kzm9d.c | s | 2.3K | 77 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1340270689 |  | ARM: shmobile: kzm9d: use late init machine hook  Since commit 21cc1b7ede3cf456cf1d51f8a906093261f7c111 ("ARM: shmobile: use machine specific hook for late init") suspend and CPU idle are not initialized automatically anymore. Set shmobile_init_late() as the machine late init hook to initialize them.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Acked-by: Laurent Pinchart <laurent.pinchart@ideasonboard.com> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | clock-sh7377.c | s | 12K | 321 | Magnus Damm | damm@opensource.se | 1331587183 |  | ARM: mach-shmobile: rename clk_init() to shmobile_clk_init()  Rename clk_init() to shmobile_clk_init() to avoid a potential future name space collision with the common clock framework.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | board-g4evm.c | s | 9.6K | 349 | Shawn Guo | shawn.guo@linaro.org | 1336480595 |  | ARM: shmobile: use machine specific hook for late init  Cc: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: "Rafael J. Wysocki" <rjw@sisk.pl>
f | clock-emev2.c | s | 6.5K | 208 | Magnus Damm | damm@opensource.se | 1337292843 |  | mach-shmobile: Emma Mobile EV2 DT support V3  This is EMEV2 DT support V3. The support is limited to whatever devices that are complied in the kernel. At this point we have UARTs handled by "em-uart" and a timer handled by "em-sti". Clocks and SMP are not supported.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | board-ag5evm.c | s | 14K | 532 | Linus Torvalds | torvalds@linux-foundation.org | 1338063241 |  | 
f | clock-sh7372.c | s | 22K | 608 | Linus Torvalds | torvalds@linux-foundation.org | 1333153916 |  | 
f | pm-sh7372.c | s | 13K | 476 | David Howells | dhowells@redhat.com | 1332955801 |  | Disintegrate asm/system.h for ARM  Disintegrate asm/system.h for ARM.  Signed-off-by: David Howells <dhowells@redhat.com> cc: Russell King <linux@arm.linux.org.uk> cc: linux-arm-kernel@lists.infradead.org
f | Kconfig | g | 4.3K |  | Magnus Damm | magnus.damm@gmail.com | 1337938326 |  | clocksource: em_sti: Emma Mobile STI driver  The STI hardware is based on a single 48-bit 32kHz counter that together with two individual compare registers can generate interrupts. There are no timer operating modes selectable which means that the timer can not clear on match.  This driver is providing clocksource support for the 48-bit counter. Clockevents are also supported using the same timer in oneshot mode.  Signed-off-by: Magnus Damm <damm@opensource.se> Cc: horms@verge.net.au Cc: arnd@arndb.de Cc: johnstul@us.ibm.com Cc: rjw@sisk.pl Cc: lethal@linux-sh.org Cc: gregkh@linuxfoundation.org Cc: olof@lixom.net Link: http://lkml.kernel.org/r/20120525070344.23443.69756.sendpatchset@w520 Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | clock-sh7367.c | s | 12K | 311 | Magnus Damm | damm@opensource.se | 1331587183 |  | ARM: mach-shmobile: rename clk_init() to shmobile_clk_init()  Rename clk_init() to shmobile_clk_init() to avoid a potential future name space collision with the common clock framework.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | clock-r8a7740.c | s | 14K | 425 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1336854787 |  | ARM: mach-shmobile: clock-r8a7740: add sh-eth clock  armadillo800eva board is using sh-eth, but clock-r8a7740 didn't care it. This clock was enabled by boot-loader. This patch fix it up.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Reviewed-by: Simon Horman <horms@verge.net.au> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | entry-intc.S | g | 1.6K |  | Marc Zyngier | marc.zyngier@arm.com | 1319373149 |  | ARM: gic: consolidate PPI handling  PPI handling is a bit of an odd beast. It uses its own low level handling code and is hardwired to the local timers (hence lacking a registration interface).  Instead, switch the low handling to the normal SPI handling code. PPIs are handled by the handle_percpu_devid_irq flow.  This also allows the removal of some duplicated code.  Cc: Kukjin Kim <kgene.kim@samsung.com> Cc: David Brown <davidb@codeaurora.org> Cc: Bryan Huntsman <bryanh@codeaurora.org> Cc: Tony Lindgren <tony@atomide.com> Cc: Paul Mundt <lethal@linux-sh.org> Cc: Magnus Damm <magnus.damm@gmail.com> Cc: Thomas Gleixner <tglx@linutronix.de> Acked-by: David Brown <davidb@codeaurora.org> Tested-by: David Brown <davidb@codeaurora.org> Tested-by: Shawn Guo <shawn.guo@linaro.org> Signed-off-by: Marc Zyngier <marc.zyngier@arm.com>
f | intc-r8a7740.c | s | 18K | 604 | Rob Herring | rob.herring@calxeda.com | 1327545471 |  | ARM: shmobile: remove NR_IRQS  Remove NR_IRQS and explicitly include mach/irqs.h as needed. shmobile properly allocates irq_descs for each irqchip, so setting .nr_irqs for each machine is not needed.  Signed-off-by: Rob Herring <rob.herring@calxeda.com>
f | board-g3evm.c | s | 8.6K | 310 | Shawn Guo | shawn.guo@linaro.org | 1336480595 |  | ARM: shmobile: use machine specific hook for late init  Cc: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: "Rafael J. Wysocki" <rjw@sisk.pl>
f | intc-sh73a0.c | s | 16K | 412 | Linus Torvalds | torvalds@linux-foundation.org | 1333069330 |  | 
f | setup-sh7377.c | s | 10K | 447 | Linus Torvalds | torvalds@linux-foundation.org | 1333065228 |  | Merge branch 'for-linus' of git://git.linaro.org/people/rmk/linux-arm  Pull more ARM updates from Russell King.  This got a fair number of conflicts with the <asm/system.h> split, but also with some other sparse-irq and header file include cleanups.  They all looked pretty trivial, though.  * 'for-linus' of git://git.linaro.org/people/rmk/linux-arm: (59 commits)   ARM: fix Kconfig warning for HAVE_BPF_JIT   ARM: 7361/1: provide XIP_VIRT_ADDR for no-MMU builds   ARM: 7349/1: integrator: convert to sparse irqs   ARM: 7259/3: net: JIT compiler for packet filters   ARM: 7334/1: add jump label support   ARM: 7333/2: jump label: detect %c support for ARM   ARM: 7338/1: add support for early console output via semihosting   ARM: use set_current_blocked() and block_sigmask()   ARM: exec: remove redundant set_fs(USER_DS)   ARM: 7332/1: extract out code patch function from kprobes   ARM: 7331/1: extract out insn generation code from ftrace   ARM: 7330/1: ftrace: use canonical Thumb-2 wide instruction format   ARM: 7351/1: ftrace: remove useless memory checks   ARM: 7316/1: kexec: EOI active and mask all interrupts in kexec crash path   ARM: Versatile Express: add NO_IOPORT   ARM: get rid of asm/irq.h in asm/prom.h   ARM: 7319/1: Print debug info for SIGBUS in user faults   ARM: 7318/1: gic: refactor irq_start assignment   ARM: 7317/1: irq: avoid NULL check in for_each_irq_desc loop   ARM: 7315/1: perf: add support for the Cortex-A7 PMU   ...
f | intc-sh7377.c | s | 21K | 566 | Rob Herring | rob.herring@calxeda.com | 1327545471 |  | ARM: shmobile: remove NR_IRQS  Remove NR_IRQS and explicitly include mach/irqs.h as needed. shmobile properly allocates irq_descs for each irqchip, so setting .nr_irqs for each machine is not needed.  Signed-off-by: Rob Herring <rob.herring@calxeda.com>
f | setup-sh7367.c | s | 10K | 428 | Linus Torvalds | torvalds@linux-foundation.org | 1333065228 |  | Merge branch 'for-linus' of git://git.linaro.org/people/rmk/linux-arm  Pull more ARM updates from Russell King.  This got a fair number of conflicts with the <asm/system.h> split, but also with some other sparse-irq and header file include cleanups.  They all looked pretty trivial, though.  * 'for-linus' of git://git.linaro.org/people/rmk/linux-arm: (59 commits)   ARM: fix Kconfig warning for HAVE_BPF_JIT   ARM: 7361/1: provide XIP_VIRT_ADDR for no-MMU builds   ARM: 7349/1: integrator: convert to sparse irqs   ARM: 7259/3: net: JIT compiler for packet filters   ARM: 7334/1: add jump label support   ARM: 7333/2: jump label: detect %c support for ARM   ARM: 7338/1: add support for early console output via semihosting   ARM: use set_current_blocked() and block_sigmask()   ARM: exec: remove redundant set_fs(USER_DS)   ARM: 7332/1: extract out code patch function from kprobes   ARM: 7331/1: extract out insn generation code from ftrace   ARM: 7330/1: ftrace: use canonical Thumb-2 wide instruction format   ARM: 7351/1: ftrace: remove useless memory checks   ARM: 7316/1: kexec: EOI active and mask all interrupts in kexec crash path   ARM: Versatile Express: add NO_IOPORT   ARM: get rid of asm/irq.h in asm/prom.h   ARM: 7319/1: Print debug info for SIGBUS in user faults   ARM: 7318/1: gic: refactor irq_start assignment   ARM: 7317/1: irq: avoid NULL check in for_each_irq_desc loop   ARM: 7315/1: perf: add support for the Cortex-A7 PMU   ...
f | clock-r8a7779.c | s | 5.3K | 149 | Magnus Damm | damm@opensource.se | 1331587183 |  | ARM: mach-shmobile: rename clk_init() to shmobile_clk_init()  Rename clk_init() to shmobile_clk_init() to avoid a potential future name space collision with the common clock framework.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | pfc-sh7377.c | s | 65K | 1622 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1320997535 |  | ARM: mach-shmobile: move helper macro PORTCR to sh_pfc.h  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | board-mackerel.c | s | 39K | 1459 | Guennadi Liakhovetski | g.liakhovetski@gmx.de | 1340187359 |  | ARM: mach-shmobile: add missing GPIO IRQ configuration on mackerel  SDHI0 card-detect GPIO IRQ on mackarel currently works, because it is the default configuration of IRQ26. However, we should not rely on this and should configure the function explicitly.  Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | board-kota2.c | s | 13K | 478 | Shawn Guo | shawn.guo@linaro.org | 1336480595 |  | ARM: shmobile: use machine specific hook for late init  Cc: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: "Rafael J. Wysocki" <rjw@sisk.pl>
f | Makefile.boot | g | 266B |  | Sascha Hauer | s.hauer@pengutronix.de | 1318839160 |  | ARM: 7022/1: allow to detect conflicting zreladdrs  Boards used to specify zreladdr in their Makefile.boot with zreladdr-y := x, so conflicting zreladdrs were silently overwritten. This patch changes this to zreladdr-y += x, so that we end up with multiple words in zreladdr in such a case. We can detect this later and complain if necessary.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | console.c | s | 1.0K | 29 | Magnus Damm | damm@opensource.se | 1265679252 |  | ARM: mach-shmobile: early console support using earlyprintk  Add support for early console to the SH-Mobile boards.  Simply perform an early platform probe for "earlyprintk" to trigger the early serial console code in sh-sci.c.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | platsmp.c | s | 2.4K | 95 | Nobuhiro Iwamatsu | nobuhiro.iwamatsu.yj@renesas.com | 1340184641 |  | ARM: mach-shmobile: Fix build when SMP is enabled and EMEV2 is not enabled  Build failed, when SMP is enabled and EMEV2 is not enabled.  arch/arm/mach-shmobile/built-in.o: In function `shmobile_platform_cpu_kill': /home/iwamatsu/work/kernel/sh-2.6-devel/arch/arm/mach-shmobile/platsmp.c:62: undefined reference to `emev2_platform_cpu_kill' arch/arm/mach-shmobile/built-in.o: In function `shmobile_smp_get_core_count': /home/iwamatsu/work/kernel/sh-2.6-devel/arch/arm/mach-shmobile/platsmp.c:39: undefined reference to `emev2_get_core_count' arch/arm/mach-shmobile/built-in.o: In function `shmobile_smp_prepare_cpus': /home/iwamatsu/work/kernel/sh-2.6-devel/arch/arm/mach-shmobile/platsmp.c:53: undefined reference to `emev2_smp_prepare_cpus' arch/arm/mach-shmobile/built-in.o: In function `platform_secondary_init': /home/iwamatsu/work/kernel/sh-2.6-devel/arch/arm/mach-shmobile/platsmp.c:78: undefined reference to `emev2_secondary_init' arch/arm/mach-shmobile/built-in.o: In function `boot_secondary': /home/iwamatsu/work/kernel/sh-2.6-devel/arch/arm/mach-shmobile/platsmp.c:90: undefined reference to `emev2_boot_secondary  This is the cause by when EMEV2 is disabled, that the check by OF of EMEV2 is performed in platsmp.c. This patch revise what the function about EMEV2 may not be used in this file, when EMEV2 is not enabled.  Signed-off-by: Nobuhiro Iwamatsu <nobuhiro.iwamatsu.yj@renesas.com> Acked-by: Simon Horman <horms@verge.net.au> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
