f | mmc.h | s | 351B | 15 | Simon Horman | horms@verge.net.au | 1302113300 |  | ARM: mach-shmobile: Correctly check for CONFIG_MACH_MACKEREL  I made a bit of a thinko when adding Mackerel to the boards that support zboot using MMCIF.  Reported-by: Magnus Damm <magnus.damm@gmail.com> Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | hardware.h | s | 96B | 3 | Magnus Damm | damm@opensource.se | 1294364582 |  | ARM: mach-shmobile: Rely on run-time IRQ handlers  Remove now unused IRQ demux code. All R-Mobile and SH-Mobile processors should register IRQ demux handlers during run-time.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | sh7377.h | s | 14K | 328 | NISHIMOTO Hiroki | nishimoto.hiroki@renesas.com | 1266209017 |  | ARM: mach-shmobile: sh7377 and G4EVM pinmux support  Add support for the sh 7377 pinmux using drivers/sh/pfc.c and some LEDs on G4EVM.  Signed-off-by: NISHIMOTO Hiroki <nishimoto.hiroki@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | sdhi-sh7372.h | s | 387B | 17 | Simon Horman | horms@verge.net.au | 1309338052 |  | ARM: 6886/1: mmc, Add zboot from eSD support for SuperH Mobile ARM  This allows a ROM-able zImage to be written to eSD and for SuperH Mobile ARM to boot directly from the SDHI hardware block.  This is achieved by the MaskROM loading the first portion of the image into MERAM and then jumping to it.  This portion contains loader code which copies the entire image to SDRAM and jumps to it. From there the zImage boot code proceeds as normal, uncompressing the image into its final location and then jumping to it.  Cc: Paul Mundt <lethal@linux-sh.org> Acked-by: Magnus Damm <magnus.damm@gmail.com> Acked-by: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | intc.h | s | 10K | 271 | Magnus Damm | damm@opensource.se | 1334139108 |  | ARM: mach-shmobile: Introduce INTC_IRQ_PINS_16H  Add INTC_IRQ_PINS_16H to allow broken out support of the the high 16 external interrupt pins. On SoCs with 32 external interrupt pins the interrupt vectors for the low 16 and the high 16 interrupt pins are sparesly populated. The low 16 are at 0x0200 and high 16 are at 0x3200 which with current macros results in a separation of 384 linux interrupts. This sparse population makes it unsuitable with a single IRQ domain to cover the full IRQ range, so this macro breaks out the 32 pins into two separate 16 bit controllers to allow two independent INTC instances with two separate IRQ domains.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | r8a7779.h | s | 18K | 333 | Magnus Damm | damm@opensource.se | 1326333627 |  | ARM: mach-shmobile: r8a7779 SMP support V3  This patch contains r8a7779 SMP support V3 - now including CPU hotplug offine and online support. The r8a7779 power domain code is tied together with SMP glue code which allows us to control the power domains via CPU hotplug.  At this point the kernel boots with the 4 Cortex-A9 cores in SMP mode and all CPU cores except CPU0 can be hotplugged.  The code in platsmp.c is quite far from pretty, but it is kept like that intentionally to avoid creating layers of code that will go away in the near future anyway. The code needs to be updated when some per-SoC handling code will be added to the ARM architecture, see the following patch for more information:  "[RFC PATCH 0/3] Per SoC descriptor"  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | sdhi.h | s | 285B | 13 | Simon Horman | horms@verge.net.au | 1309338052 |  | ARM: 6886/1: mmc, Add zboot from eSD support for SuperH Mobile ARM  This allows a ROM-able zImage to be written to eSD and for SuperH Mobile ARM to boot directly from the SDHI hardware block.  This is achieved by the MaskROM loading the first portion of the image into MERAM and then jumping to it.  This portion contains loader code which copies the entire image to SDRAM and jumps to it. From there the zImage boot code proceeds as normal, uncompressing the image into its final location and then jumping to it.  Cc: Paul Mundt <lethal@linux-sh.org> Acked-by: Magnus Damm <magnus.damm@gmail.com> Acked-by: Paul Mundt <lethal@linux-sh.org> Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | zboot_macros.h | s | 999B | 58 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1291538421 |  | ARM: 6514/1: mach-shmobile: Add zboot support for SuperH Mobile ARM  When CONFIG_ZBOOT_ROM is selected, the resulting zImage file will be small boot loader and may be burned to rom or flash.  This is the board-specific portion of this patch-set.  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Simon Horman <horms@verge.net.au> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | emev2.h | s | 652B | 16 | Magnus Damm | damm@opensource.se | 1337292842 |  | mach-shmobile: Emma Mobile EV2 GPIO support V3  Tie in the Emma Mobile GPIO driver "em-gio" to support the GPIOs on Emma Mobile EV2.  A static IRQ range is used to allow boards to hook up their platform devices to the GPIOs.  DT support is still on the TODO for the GPIO driver, so only platform device support is included here.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | zboot.h | s | 496B | 19 | Simon Horman | horms@verge.net.au | 1302113300 |  | ARM: mach-shmobile: Correctly check for CONFIG_MACH_MACKEREL  I made a bit of a thinko when adding Mackerel to the boards that support zboot using MMCIF.  Reported-by: Magnus Damm <magnus.damm@gmail.com> Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | head-ap4evb.txt | g | 1.6K |  | Simon Horman | horms@verge.net.au | 1306206920 |  | ARM: mach-shmobile: ap4evb, mackerel: fixup scif initialisation for zboot  * Set receive enable and transmit enable bits of SCASCR0 (E6C400089).   Values previously written to this register was bogus.    Curiously earlyprintk works with the previous code.  * Remove duplicate initialisation of GPIO port 152, SCIFA0_TXD (0xE6053098).   This should have no effect other than to very slightly reduce the amount of   code.  Reported-by: Magnus Damm <magnus.damm@gmail.com> Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | dma.h | s | 12B | 1 | Magnus Damm | damm@opensource.se | 1265600651 |  | ARM: mach-shmobile: SH-Mobile G3 support.  This adds preliminary support for the SH-Mobile G-series.  The SH-Mobile G-series is a series of ARM/SH multi-core CPUs that aside from the ARM MPU are primarily composed of existing SH IP blocks.  This includes initial support for the SH7367 (SH-Mobile G3) CPU and the G3EVM reference board.  Only timer, serial console, and NOR flash are supported at this point. Patches for the interrupt controller, pinmux support, clock framework and runtime pm will be submitted as feature patches on top of this.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | memory.h | s | 180B | 5 | Jon Medhurst | tixy@yxit.co.uk | 1314014412 |  | ARM: mach-shmobile: Setup consistent dma size at boot time  Signed-off-by: Jon Medhurst <tixy@yxit.co.uk> CC: Paul Mundt <lethal@linux-sh.org> CC: Magnus Damm <magnus.damm@gmail.com>
f | head-mackerel.txt | g | 1.6K |  | Simon Horman | horms@verge.net.au | 1306206920 |  | ARM: mach-shmobile: ap4evb, mackerel: fixup scif initialisation for zboot  * Set receive enable and transmit enable bits of SCASCR0 (E6C400089).   Values previously written to this register was bogus.    Curiously earlyprintk works with the previous code.  * Remove duplicate initialisation of GPIO port 152, SCIFA0_TXD (0xE6053098).   This should have no effect other than to very slightly reduce the amount of   code.  Reported-by: Magnus Damm <magnus.damm@gmail.com> Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | mmc-ap4eb.h | s | 814B | 24 | Simon Horman | horms@verge.net.au | 1300983897 |  | mmc, ARM: Rename SuperH Mobile ARM zboot helpers  These headers and helpers will also be used for SDHI boot so the mmcif name will start to make a lot less sense.  Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | sh7367.h | s | 14K | 295 | Magnus Damm | damm@opensource.se | 1265951447 |  | ARM: mach-shmobile: sh7367 and G3EVM pinmux support  Add support for the sh7367 pinmux using drivers/sh/pfc.c and select serial console pins and some LEDs on G3EVM.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | irqs.h | s | 330B | 10 | Magnus Damm | damm@opensource.se | 1334139109 |  | ARM: mach-shmobile: Use 0x3400 as INTCS vector offset  Update mach-shmobile to use 0x3400 as INTCS_VECT_BASE.  Since the ARM architecture a little while back added support for 10 bit irqs we can now undo the previously merged commit 9b7c23adb350a108737a993c9c781463c1439dc6 and use 0x3400 as INTCS vector base.  This change is necessary to avoid overlapping of interrupt ranges so separate IRQ domains can be used for different INTC instances. Without this fix the vectors used by various INTC instances are overlapping on for instance sh7372 which works at the moment but breaks upcoming IRQ domain support.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | system.h | s | 175B | 8 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | r8a7740.h | s | 18K | 475 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1320998131 |  | ARM: mach-shmobile: R-Mobile A1 support.  This adds preliminary support for the R8A7740 (R-Mobile A1) CPU  Timer, serial, gic, clock are supported at this point. This patch is based on v0.1 manual  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | uncompress.h | s | 277B | 16 | Magnus Damm | damm@opensource.se | 1265600651 |  | ARM: mach-shmobile: SH-Mobile G3 support.  This adds preliminary support for the SH-Mobile G-series.  The SH-Mobile G-series is a series of ARM/SH multi-core CPUs that aside from the ARM MPU are primarily composed of existing SH IP blocks.  This includes initial support for the SH7367 (SH-Mobile G3) CPU and the G3EVM reference board.  Only timer, serial console, and NOR flash are supported at this point. Patches for the interrupt controller, pinmux support, clock framework and runtime pm will be submitted as feature patches on top of this.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | sh7372.h | s | 16K | 442 | Kuninori Morimoto | kuninori.morimoto.gx@renesas.com | 1336854152 |  | ARM: mach-shmobile: sh7372: Add FSI DMAEngine support  Signed-off-by: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com> Tested-by: Simon Horman <horms@verge.net.au> Acked-by: Magnus Damm <damm@opensource.se> Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
f | gpio.h | s | 588B | 23 | Peter De Schrijver (NVIDIA) | pdeschrijver@nvidia.com | 1324680891 |  | ARM: 7244/1: mach-shmobile: Use CONFIG_ARCH_NR_GPIO  Add default value for CONFIG_ARCH_NR_GPIO to Kconfig and remove the definition in gpio.h.  Signed-off-by: Peter De Schrijver <pdeschrijver@nvidia.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | clkdev.h | s | 156B | 5 | Magnus Damm | damm@opensource.se | 1265600651 |  | ARM: mach-shmobile: SH-Mobile G3 support.  This adds preliminary support for the SH-Mobile G-series.  The SH-Mobile G-series is a series of ARM/SH multi-core CPUs that aside from the ARM MPU are primarily composed of existing SH IP blocks.  This includes initial support for the SH7367 (SH-Mobile G3) CPU and the G3EVM reference board.  Only timer, serial console, and NOR flash are supported at this point. Patches for the interrupt controller, pinmux support, clock framework and runtime pm will be submitted as feature patches on top of this.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | timex.h | s | 150B | 4 | Magnus Damm | damm@opensource.se | 1265600651 |  | ARM: mach-shmobile: SH-Mobile G3 support.  This adds preliminary support for the SH-Mobile G-series.  The SH-Mobile G-series is a series of ARM/SH multi-core CPUs that aside from the ARM MPU are primarily composed of existing SH IP blocks.  This includes initial support for the SH7367 (SH-Mobile G3) CPU and the G3EVM reference board.  Only timer, serial console, and NOR flash are supported at this point. Patches for the interrupt controller, pinmux support, clock framework and runtime pm will be submitted as feature patches on top of this.  Signed-off-by: Magnus Damm <damm@opensource.se> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
f | common.h | s | 3.4K | 89 | Linus Torvalds | torvalds@linux-foundation.org | 1338063241 |  | 
f | sh73a0.h | s | 18K | 509 | Linus Torvalds | torvalds@linux-foundation.org | 1337718773 |  | 
f | mmc-mackerel.h | s | 1001B | 32 | Simon Horman | horms@verge.net.au | 1300983897 |  | mmc, ARM: Rename SuperH Mobile ARM zboot helpers  These headers and helpers will also be used for SDHI boot so the mmcif name will start to make a lot less sense.  Signed-off-by: Simon Horman <horms@verge.net.au> Signed-off-by: Paul Mundt <lethal@linux-sh.org>
