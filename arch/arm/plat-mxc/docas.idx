f | time.c | s | 8.2K | 263 | Sascha Hauer | s.hauer@pengutronix.de | 1337165169 |  | ARM i.MX: remove now unnecessary argument from mxc_timer_init  As the timer code now does a clk_get to get its clock we don't need the struct clk argument anymore. This also changes the alternative EPIT timer to do a clk_get.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | 3ds_debugboard.c | s | 5.5K | 172 | Fabio Estevam | fabio.estevam@freescale.com | 1333358115 |  | ARM: 3ds_debugboard: Fix smsc911x driver probe  Fix smsc911x id field in order to fix smsc911x driver probe error:  smsc911x smsc911x.0: Failed to get supply 'vdd33a': -517 smsc911x smsc911x.0: (unregistered net_device): couldn't get regulators -517 platform smsc911x.0: Driver smsc911x requests probe deferral  Signed-off-by: Fabio Estevam <fabio.estevam@freescale.com> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | Makefile | g | 606B |  | Shawn Guo | shawn.guo@linaro.org | 1330992180 |  | ASoC: imx: move audmux driver into sound/soc/imx  As audmux becomes a platform driver and its callers are all ASoC machine drivers, there is no reason to keep it in arch folder, so move it to sound/soc/imx.  One bonus point would be those ASoC machine drivers stop including mach/audmux.h, since it's been moved to sound/soc/imx/imx-audmux.h. This should be a move to the right direction in terms of single kernel image goal.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Sascha Hauer <s.hauer@pengutronix.de> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | devices.c | s | 1.3K | 42 | Linus Torvalds | torvalds@linux-foundation.org | 1320203460 |  | Merge branch 'next/cleanup' of git://git.linaro.org/people/arnd/arm-soc  * 'next/cleanup' of git://git.linaro.org/people/arnd/arm-soc: (125 commits)   ARM: mach-mxs: fix machines' initializers order   mmc: mxcmmc: explicitly includes mach/hardware.h   arm/imx: explicitly includes mach/hardware.h in pm-imx27.c   arm/imx: remove mx27_setup_weimcs() from mx27.h   arm/imx: explicitly includes mach/hardware.h in mach-kzm_arm11_01.c   arm/imx: remove mx31_setup_weimcs() from mx31.h   ARM: tegra: devices.c should include devices.h   ARM: tegra: cpu-tegra: unexport two functions   ARM: tegra: cpu-tegra: sparse type fix   ARM: tegra: dma: staticify some tables and functions   ARM: tegra: tegra2_clocks: don't export some tables   ARM: tegra: tegra_powergate_is_powered should be static   ARM: tegra: tegra_rtc_read_ms should be static   ARM: tegra: tegra_init_cache should be static   ARM: tegra: pcie: 0 -> NULL changes   ARM: tegra: pcie: include board.h   ARM: tegra: pcie: don't cast __iomem pointers   ARM: tegra: tegra2_clocks: 0 -> NULL changes   ARM: tegra: tegra2_clocks: don't cast __iomem pointers   ARM: tegra: timer: don't cast __iomem pointers   ...  Fix up trivial conflicts in   arch/arm/mach-omap2/Makefile,   arch/arm/mach-u300/{Makefile.boot,core.c}   arch/arm/plat-{mxc,omap}/devices.c
d | include |  | 1 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1340661189 |  | Merge branch 'v4l_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media  Pull media fixes from Mauro Carvalho Chehab.  Trivial conflict due to new USB HID ID's being added next to each other (Baanto vs Axentia).  * 'v4l_for_linus' of git://git.kernel.org/pub/scm/linux/kernel/git/mchehab/linux-media: (44 commits)   [media] smia: Fix compile failures   [media]  Fix VIDIOC_DQEVENT docbook entry   [media] s5p-fimc: Fix control creation function   [media] s5p-mfc: Fix checkpatch error in s5p_mfc_shm.h file   [media] s5p-mfc: Fix setting controls   [media] v4l/s5p-mfc: added image size align in VIDIOC_TRY_FMT   [media] v4l/s5p-mfc: corrected encoder v4l control definitions   [media] v4l: mem2mem_testdev: Fix race conditions in driver   [media] s5p-mfc: Bug fix of timestamp/timecode copy mechanism   [media] cxd2820r: Fix an incorrect modulation type bitmask   [media] em28xx: Show a warning if the board does not support remote controls   [media] em28xx: Add remote control support for Terratec's Cinergy HTC Stick HD   [media] USB: Staging: media: lirc: initialize spinlocks before usage   [media] Revert "[media] media: mx2_camera: Fix mbus format handling"   [media] bw-qcam: driver and pixfmt documentation fixes   [media] cx88: fix firmware load on big-endian systems   [media] cx18: support big-endian systems   [media] ivtv: fix support for big-endian systems   [media] tuner-core: return the frequency range of the correct tuner   [media] v4l2-dev.c: fix g_parm regression in determine_valid_ioctls()   ...
f | irq-common.c | s | 1.5K | 50 | Hui Wang | jason77.wang@gmail.com | 1316759534 |  | ARM i.MX avic: convert to use generic irq chip  Convert i.MX avic irq handler to use generic irq chip. This not only provides a cleanup implementation of irq chip handler, but also implements suspend/resume interface with the help of generic irq chip interface.  Change mxc_irq_chip to a new structure mxc_extra_irq to handle fiq and priority functions.  Signed-off-by: Hui Wang <jason77.wang@gmail.com> Acked-by: Shawn Guo <shawn.guo@linaro.org> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | avic.c | s | 5.8K | 168 | Jesper Juhl | jj@chaosbits.net | 1330334149 |  | ARM: Remove redundant ';' from avic_irq_set_priority()  One semi-colon at the end of the return statement is sufficient.  Signed-off-by: Jesper Juhl <jj@chaosbits.net> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | clock.c | s | 6.0K | 209 | Sascha Hauer | s.hauer@pengutronix.de | 1335366226 |  | ARM i.MX: prepare for common clock framework  - Add necessary #ifdefs for CONFIG_COMMON_CLOCK - Add a global spinlock to protect the CCM registers  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | system.c | s | 1.9K | 60 | Linus Torvalds | torvalds@linux-foundation.org | 1332975501 |  | 
f | ulpi.c | s | 3.1K | 97 | Heikki Krogerus | heikki.krogerus@linux.intel.com | 1329132956 |  | usb: otg: ulpi: Start using struct usb_otg  Use struct usb_otg members with OTG specific functions instead of usb_phy members.  Signed-off-by: Heikki Krogerus <heikki.krogerus@linux.intel.com> Acked-by: Igor Grinberg <grinberg@compulab.co.il> Acked-by: Sascha Hauer <s.hauer@pengutronix.de> Reviewed-by: Marek Vasut <marek.vasut@gmail.com> Signed-off-by: Felipe Balbi <balbi@ti.com>
f | iomux-v1.c | s | 4.8K | 148 | Fabio Estevam | fabio.estevam@freescale.com | 1310022453 |  | ARM: mxc: iomux-v1: Fix build warning  Fix the following warning:  CC      arch/arm/plat-mxc/iomux-v1.o arch/arm/plat-mxc/iomux-v1.c: In function 'mxc_gpio_setup_multiple_pins': arch/arm/plat-mxc/iomux-v1.c:160: warning: 'ret' may be used uninitialized in this function arch/arm/plat-mxc/iomux-v1.c:160: note: 'ret' was declared here  Signed-off-by: Fabio Estevam <fabio.estevam@freescale.com> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | irq-common.h | s | 985B | 25 | Hui Wang | jason77.wang@gmail.com | 1316759534 |  | ARM i.MX avic: convert to use generic irq chip  Convert i.MX avic irq handler to use generic irq chip. This not only provides a cleanup implementation of irq chip handler, but also implements suspend/resume interface with the help of generic irq chip interface.  Change mxc_irq_chip to a new structure mxc_extra_irq to handle fiq and priority functions.  Signed-off-by: Hui Wang <jason77.wang@gmail.com> Acked-by: Shawn Guo <shawn.guo@linaro.org> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | epit.c | s | 5.7K | 189 | Sascha Hauer | s.hauer@pengutronix.de | 1337165169 |  | ARM i.MX: remove now unnecessary argument from mxc_timer_init  As the timer code now does a clk_get to get its clock we don't need the struct clk argument anymore. This also changes the alternative EPIT timer to do a clk_get.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | cpufreq.c | s | 4.7K | 160 | Richard Zhao | richard.zhao@linaro.org | 1324293965 |  | arm/imx: fix cpufreq section mismatch  WARNING: arch/arm/plat-mxc/built-in.o(.data+0x488): Section mismatch in reference from the variable mxc_driver to the function .init.text:mxc_cpufreq_init() The variable mxc_driver references the function __init mxc_cpufreq_init() If the reference is valid then annotate the variable with __init* or __refdata (see linux/init.h) or name the variable: *_template, *_timer, *_sht, *_ops, *_probe, *_probe_one, *_console  Signed-off-by: Richard Zhao <richard.zhao@linaro.org> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | cpu.c | s | 1.1K | 38 | Fabio Estevam | festevam@gmail.com | 1330674577 |  | ARM: mx3: Setup AIPS registers  It was observed on a mx31pdk board that audio playback only worked when the bootloader was Redboot, and did not work when U-boot was used.  Comparing the sources of these bootloaders showed that the AIPS registers were not setup in U-boot.  Instead of relying on the bootloader to setup the AIPS registers, do it in the kernel so that audio playback can work independantly of the bootloader being used.  Copied the AIPS settings from Redboot to the kernel.  Signed-off-by: Fabio Estevam <fabio.estevam@freescale.com> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | ssi-fiq.S | g | 2.5K |  | Dave Martin | dave.martin@linaro.org | 1302594490 |  | ARM: mxc: Correct data alignment in headsmp.S for CONFIG_THUMB2_KERNEL  Directives such as .long and .word do not magically cause the assembler location counter to become aligned in gas.  As a result, using these directives in code sections can result in misaligned data words when building a Thumb-2 kernel (CONFIG_THUMB2_KERNEL).  This is a Bad Thing, since the ABI permits the compiler to assume that fundamental types of word size or above are word- aligned when accessing them from C.  If the data is not really word-aligned, this can cause impaired performance and stray alignment faults in some circumstances.  In general, the following rules should be applied when using data word declaration directives inside code sections:      * .quad and .double:          .align 3      * .long, .word, .single, .float:          .align (or .align 2)      * .short:         No explicit alignment required, since Thumb-2         instructions are always 2 or 4 bytes in size.         immediately after an instruction.  Signed-off-by: Dave Martin <dave.martin@linaro.org> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de> LAKML-Reference: 1289913217-8672-1-git-send-email-dave.martin@linaro.org Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | tzic.c | s | 5.4K | 168 | Hui Wang | jason77.wang@gmail.com | 1324785748 |  | ARM: mx5: use generic irq chip pm interface for pm functions on  Two problems exist in the current i.MX5 pm suspend/resume and idle functions. The first is the current i.MX5 suspend routine will call tzic_enable_wake(1) to set wake source, this will set all enabled irq as wake source rather than those wake capable. The second is i.MX5 idle will call mx5_cpu_lp_set() to prepare enter low power mode, but it forgets to call wfi instruction to enter this mode.  To fix these two problems, using generic irq chip pm interface and modify function imx5_idle().  [Tested by Shawn Guo on imx51 babbage board.  Tested by Hui Wang on imx51 pdk board.]  Signed-off-by: Hui Wang <jason77.wang@gmail.com> Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | Kconfig | g | 2.2K |  | Shawn Guo | shawn.guo@linaro.org | 1330992180 |  | ASoC: imx: move audmux driver into sound/soc/imx  As audmux becomes a platform driver and its callers are all ASoC machine drivers, there is no reason to keep it in arch folder, so move it to sound/soc/imx.  One bonus point would be those ASoC machine drivers stop including mach/audmux.h, since it's been moved to sound/soc/imx/imx-audmux.h. This should be a move to the right direction in terms of single kernel image goal.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Sascha Hauer <s.hauer@pengutronix.de> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | iomux-v3.c | s | 2.4K | 68 | Lothar Waßmann | LW@KARO-electronics.de | 1292413369 |  | MXC IOMUX-V3 replace struct pad_desc with bitmapped cookie (step 2)  This patch actually replaces the 'struct pad_desc' with a u64 cookie to facilitate adding platform specific pad_ctrl settings to an existing pad definition.  So, instead of: 	iomux_v3_cfg_t power_key = MX51_PAD_EIM_A27__GPIO_2_21; 	power_key.pad_ctrl = MX51_GPIO_PAD_CTRL_2; 	mxc_iomux_v3_setup_pad(&power_key); one can write: 	mxc_iomux_v3_setup_pad((MX51_PAD_EIM_A27__GPIO_2_21 & ~MUX_PAD_CTRL_MASK) || MX51_GPIO_PAD_CTRL_2);  Patch applies to branch 'imx-for-2.6.38' of git://git.pengutronix.de/git/imx/linux-2.6  Signed-Off-By: Lothar Waßmann <LW@KARO-electronics.de>  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | ssi-fiq-ksym.c | s | 530B | 16 | Sascha Hauer | s.hauer@pengutronix.de | 1263726586 |  | ASoC: Add a new imx-ssi sound driver  The old driver has the number of SSI units in the system hardcoded, does not make use of the device model and works only on i.MX21/27.  This driver replaces it. It works in DMA mode on i.MX21/27 and using an FIQ handler on other systems. It also supports AC97 mode of the SSI units.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de> Acked-by: Javier Martin <javier.martin@vista-silicon.com> Acked-by: Liam Girdwood <lrg@slimlogic.co.uk> Signed-off-by: Mark Brown <broonie@opensource.wolfsonmicro.com>
f | pwm.c | s | 6.8K | 246 | Richard Zhao | richard.zhao@linaro.org | 1328102879 |  | ARM: mxc: pwm: add clk_prepare/clk_unprepare  It's for migrating to generic clk framework API.  Signed-off-by: Richard Zhao <richard.zhao@linaro.org> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
d | devices |  | 31 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1332891684 |  | 
f | iram_alloc.c | s | 2.0K | 62 | Dinh Nguyen | Dinh.Nguyen@freescale.com | 1287506697 |  | ARM: imx: Add iram allocator functions  Add IRAM(Internal RAM) allocation functions using GENERIC_ALLOCATOR. The allocation size is 4KB multiples to guarantee alignment. The idea for these functions is for i.MX platforms to use them to dynamically allocate IRAM usage.  Applies on 2.6.36-rc7  Signed-off-by: Dinh Nguyen <Dinh.Nguyen@freescale.com> Reviewed-by: Amit Kucheria <amit.kucheria@canonical.com> Acked-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
