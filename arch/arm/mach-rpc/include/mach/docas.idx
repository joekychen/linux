f | io.h | s | 818B | 27 | Rob Herring | rob.herring@calxeda.com | 1331091285 |  | ARM: kill off __mem_pci  __mem_pci is only used to enable readl/writel and friends. Just condition this on readl being defined and remove all the __mem_pci defines.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Lennert Buytenhek <kernel@wantstofly.org> Cc: Imre Kaloz <kaloz@openwrt.org> Cc: Krzysztof Halasa <khc@pm.waw.pl> Cc: Nicolas Pitre <nico@fluxnic.net> Cc: Ben Dooks <ben-linux@fluff.org> Cc: Kukjin Kim <kgene.kim@samsung.com> Cc: Colin Cross <ccross@android.com> Cc: Olof Johansson <olof@lixom.net> Cc: Stephen Warren <swarren@nvidia.com>
f | hardware.h | s | 2.0K | 63 | Rob Herring | rob.herring@calxeda.com | 1331691729 |  | ARM: create a common IOMEM definition  Several platforms create IOMEM defines for casting to 'void __iomem *', and other platforms are incorrectly using __io() macro for the same purpose. This creates a common definition and removes all the platform specific versions. Rather than try to make linux/io.h and asm/io.h assembly safe, the assembly version of IOMEM is moved into asm/assembler.h.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Cc: Russell King <linux@arm.linux.org.uk> Cc: Sekhar Nori <nsekhar@ti.com> Cc: Kevin Hilman <khilman@ti.com> Acked-by: H Hartley Sweeten <hsweeten@visionengravers.com> Cc: Ryan Mallon <rmallon@gmail.com> Cc: Eric Miao <eric.y.miao@gmail.com> Cc: Haojian Zhuang <haojian.zhuang@marvell.com> Acked-by: David Brown <davidb@codeaurora.org> Cc: Daniel Walker <dwalker@fifo99.com> Cc: Bryan Huntsman <bryanh@codeaurora.org> Cc: Sascha Hauer <kernel@pengutronix.de> Cc: Shawn Guo <shawn.guo@linaro.org> Acked-by: Tony Lindgren <tony@atomide.com> Acked-by: Paul Walmsley <paul@pwsan.com> Acked-by: Viresh Kumar <viresh.kumar@st.com> Cc: Rajeev Kumar <rajeev-dlh.kumar@st.com> Cc: Colin Cross <ccross@android.com> Cc: Olof Johansson <olof@lixom.net> Cc: Stephen Warren <swarren@nvidia.com> Acked-by: Linus Walleij <linus.walleij@linaro.org> Acked-by: Arnd Bergmann <arnd@arndb.de>
f | entry-macro.S | g | 305B |  | Rob Herring | rob.herring@calxeda.com | 1329865518 |  | ARM: remove disable_fiq and arch_ret_to_user macros  Now that most platforms don't need disable_fiq and arch_ret_to_user macros, we can remove the empty macros or empty entry-macro.S files.  Signed-off-by: Rob Herring <rob.herring@calxeda.com> Acked-by: Jamie Iles <jamie@jamieiles.com> Acked-by: Nicolas Pitre <nico@linaro.org> Acked-by: Tony Lindgren <tony@atomide.com> Acked-by: Linus Walleij <linus.walleij@linaro.org> Acked-by: Ryan Mallon <rmallon@gmail.com> Acked-by: Nicolas Ferre <nicolas.ferre@atmel.com> Acked-by: H Hartley Sweeten <hsweeten@visionengravers.com> Acked-by: Shawn Guo <shawn.guo@linaro.org>
f | acornfb.h | s | 3.3K | 116 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | uncompress.h | s | 4.3K | 175 | Nicolas Pitre | nicolas.pitre@linaro.org | 1304741282 |  | ARM: zImage: remove the static qualifier from global data variables  To be able to relocate the .bss section at run time independently from the rest of the code, we must make sure that no GOTOFF relocations are used with .bss symbols.  This usually means that no global variables can be marked static unless they're also const.  Let's remove the static qualifier from current offenders, or turn them into const variables when possible.  Next commit will ensure the build fails if one of those is reintroduced due to otherwise enforced coding standards for the kernel.  Signed-off-by: Nicolas Pitre <nicolas.pitre@linaro.org> Tested-by: Tony Lindgren <tony@atomide.com>
f | isa-dma.h | s | 641B | 23 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1229013426 |  | [ARM] dma: Use sensible DMA parameters for Acorn drivers  The hardware supports transfers up to a page boundary per buffer. Currently, we work around that in the DMA code by splitting each buffer up as we run through the scatterlist.  Avoid this by telling the block layers about the hardware restriction.  Eventually, this will allow us to phase out the splitting code, but not until the old IDE layer allows us to control the value it gives to blk_queue_segment_boundary().  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | memory.h | s | 1.0K | 36 | Russell King | rmk+kernel@arm.linux.org.uk | 1297985215 |  | ARM: P2V: separate PHYS_OFFSET from platform definitions  This uncouple PHYS_OFFSET from the platform definitions, thereby facilitating run-time computation of the physical memory offset.  Acked-by: Nicolas Pitre <nicolas.pitre@linaro.org> Acked-by: Viresh Kumar <viresh.kumar@st.com> Acked-by: H Hartley Sweeten <hsweeten@visionengravers.com> Acked-by: Magnus Damm <damm@opensource.se> Acked-by: Tony Lindgren <tony@atomide.com> Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com> Acked-by: Wan ZongShun <mcuos.com@gmail.com> Acked-by: Kukjin Kim <kgene.kim@samsung.com> Acked-by: Eric Miao <eric.y.miao@gmail.com> Acked-by: Jiandong Zheng <jdzheng@broadcom.com> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | irqs.h | s | 1009B | 40 | Russell King | rmk+kernel@arm.linux.org.uk | 1332581856 |  | ARM: riscpc: remove IRQ_TIMER  Use IRQ_TIMER0 instead, which is the same thing.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | debug-macro.S | g | 631B |  | Nicolas Pitre | nicolas.pitre@linaro.org | 1317046285 |  | ARM: add an extra temp register to the low level debugging addruart macro  Some platforms (like OMAP not to name it) are doing rather complicated hacks just to determine the base UART address to use.  Let's give their addruart macro some slack by providing an extra work register which will allow for much needed cleanups.  This is basically a no-op as this commit is only adding the extra argument to the macro but no one is using it yet.  Signed-off-by: nicolas Pitre <nicolas.pitre@linaro.org> Reviewed-by: Kevin Hilman <khilman@ti.com>
f | timex.h | s | 418B | 15 | Russell King | rmk@dyn-67.arm.linux.org.uk | 1218099348 |  | [ARM] Move include/asm-arm/arch-* to arch/arm/*/include/mach  This just leaves include/asm-arm/plat-* to deal with.  Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
