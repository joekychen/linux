<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-omap2 › omap_hwmod_3xxx_data.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>omap_hwmod_3xxx_data.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * omap_hwmod_3xxx_data.c - hardware modules present on the OMAP3xxx chips</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2009-2011 Nokia Corporation</span>
<span class="cm"> * Copyright (C) 2012 Texas Instruments, Inc.</span>
<span class="cm"> * Paul Walmsley</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * The data in this file should be completely autogeneratable from</span>
<span class="cm"> * the TI hardware database or other technical documentation.</span>
<span class="cm"> *</span>
<span class="cm"> * XXX these should be marked initdata for multi-OMAP kernels</span>
<span class="cm"> */</span>
<span class="cp">#include &lt;plat/omap_hwmod.h&gt;</span>
<span class="cp">#include &lt;mach/irqs.h&gt;</span>
<span class="cp">#include &lt;plat/cpu.h&gt;</span>
<span class="cp">#include &lt;plat/dma.h&gt;</span>
<span class="cp">#include &lt;plat/serial.h&gt;</span>
<span class="cp">#include &lt;plat/l3_3xxx.h&gt;</span>
<span class="cp">#include &lt;plat/l4_3xxx.h&gt;</span>
<span class="cp">#include &lt;plat/i2c.h&gt;</span>
<span class="cp">#include &lt;plat/gpio.h&gt;</span>
<span class="cp">#include &lt;plat/mmc.h&gt;</span>
<span class="cp">#include &lt;plat/mcbsp.h&gt;</span>
<span class="cp">#include &lt;plat/mcspi.h&gt;</span>
<span class="cp">#include &lt;plat/dmtimer.h&gt;</span>

<span class="cp">#include &quot;omap_hwmod_common_data.h&quot;</span>

<span class="cp">#include &quot;smartreflex.h&quot;</span>
<span class="cp">#include &quot;prm-regbits-34xx.h&quot;</span>
<span class="cp">#include &quot;cm-regbits-34xx.h&quot;</span>
<span class="cp">#include &quot;wd_timer.h&quot;</span>
<span class="cp">#include &lt;mach/am35xx.h&gt;</span>

<span class="cm">/*</span>
<span class="cm"> * OMAP3xxx hardware module integration data</span>
<span class="cm"> *</span>
<span class="cm"> * All of the data in this section should be autogeneratable from the</span>
<span class="cm"> * TI hardware database or other technical documentation.  Data that</span>
<span class="cm"> * is driver-specific or driver-kernel integration-specific belongs</span>
<span class="cm"> * elsewhere.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * IP blocks</span>
<span class="cm"> */</span>

<span class="cm">/* L3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_l3_main_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">INT_34XX_L3_DBG_IRQ</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">INT_34XX_L3_APP_IRQ</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_l3_main_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l3_main&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l3_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_l3_main_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_l4_core_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l4_core&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l4_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 PER */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_l4_per_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l4_per&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l4_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 WKUP */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_l4_wkup_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l4_wkup&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l4_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 SEC */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_l4_sec_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l4_sec&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l4_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MPU */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mpu_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">mpu_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;arm_fck&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* IVA2 (IVA2) */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_rst_info</span> <span class="n">omap3xxx_iva_resets</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;logic&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">rst_shift</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;seq0&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">rst_shift</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;seq1&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">rst_shift</span> <span class="o">=</span> <span class="mi">2</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_iva_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;iva&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">iva_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clkdm_name</span>	<span class="o">=</span> <span class="s">&quot;iva2_clkdm&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rst_lines</span>	<span class="o">=</span> <span class="n">omap3xxx_iva_resets</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rst_lines_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap3xxx_iva_resets</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;iva2_ck&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer class */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_timer_1ms_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span>
				<span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
				<span class="n">SYSC_HAS_EMUFREE</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_timer_1ms_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;timer&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_1ms_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span> <span class="o">=</span> <span class="n">OMAP_TIMER_IP_VERSION_1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_timer_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_timer_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;timer&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span> <span class="o">=</span>  <span class="n">OMAP_TIMER_IP_VERSION_1</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* secure timers dev attribute */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_timer_capability_dev_attr</span> <span class="n">capability_secure_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">timer_capability</span>	<span class="o">=</span> <span class="n">OMAP_TIMER_SECURE</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* always-on timers dev attribute */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_timer_capability_dev_attr</span> <span class="n">capability_alwon_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">timer_capability</span>	<span class="o">=</span> <span class="n">OMAP_TIMER_ALWON</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* pwm timers dev attribute */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_timer_capability_dev_attr</span> <span class="n">capability_pwm_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">timer_capability</span>	<span class="o">=</span> <span class="n">OMAP_TIMER_HAS_PWM</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_1ms_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_1ms_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer4_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt4_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer5_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer5&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer5_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt5_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT5_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT5_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer6 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer6_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer6&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer6_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt6_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT6_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT6_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer7 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer7_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer7&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer7_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt7_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT7_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT7_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer8 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer8_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer8&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer8_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt8_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT8_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT8_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer9 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer9_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer9&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer9_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt9_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT9_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT9_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer10 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer10_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer10&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer10_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt10_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT10_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT10_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_1ms_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer11 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer11_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer11&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer11_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt11_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT11_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT11_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer12 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_timer12_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">95</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_timer12_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer12&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_timer12_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt12_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPT12_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPT12_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_secure_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;wd_timer&#39; class</span>
<span class="cm"> * 32-bit watchdog upward counter that generates a pulse on the reset pin on</span>
<span class="cm"> * overflow condition</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_wd_timer_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_EMUFREE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span>
			   <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* I2C common */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">i2c_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">clockact</span>	<span class="o">=</span> <span class="n">CLOCKACT_TEST_ICLK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_fields</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_wd_timer_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;wd_timer&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_wd_timer_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pre_shutdown</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_wd_timer_disable</span><span class="p">,</span>
	<span class="p">.</span><span class="n">reset</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_wd_timer_reset</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_wd_timer2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;wd_timer2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_wd_timer_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;wdt2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_WDT2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_WDT2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="cm">/*</span>
<span class="cm">	 * XXX: Use software supervised mode, HW supervised smartidle seems to</span>
<span class="cm">	 * block CORE power domain idle transitions. Maybe a HW bug in wdt2?</span>
<span class="cm">	 */</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_SWSUP_SIDLE</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UART1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_uart1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_uart1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_uart1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UART2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_uart2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_uart2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_uart2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UART3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_uart3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_uart3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_uart3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UART4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">uart4_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">INT_36XX_UART4_IRQ</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">uart4_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="n">OMAP36XX_DMA_UART4_RX</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="n">OMAP36XX_DMA_UART4_TX</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap36xx_uart4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">uart4_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">uart4_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart4_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3630_EN_UART4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3630_EN_UART4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">am35xx_uart4_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">INT_35XX_UART4_IRQ</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">am35xx_uart4_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="n">AM35XX_DMA_UART4_RX</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="n">AM35XX_DMA_UART4_TX</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">am35xx_uart4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">am35xx_uart4_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">am35xx_uart4_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart4_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_UART4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">i2c_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;i2c&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>	<span class="o">=</span> <span class="n">OMAP_I2C_IP_VERSION_1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">reset</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_i2c_reset</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap3xxx_dss_sdma_chs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;dispc&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">5</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;dsi1&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">74</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* dss */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">dss_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * The DSS HW needs all DSS clocks enabled during reset. The dss_core</span>
<span class="cm">	 * driver does not use these clocks.</span>
<span class="cm">	 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;sys_clk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss2_alwon_fck&quot;</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;tv_clk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss_tv_fck&quot;</span> <span class="p">},</span>
	<span class="cm">/* required only on OMAP3430 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;tv_dac_clk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss_96m_fck&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3430es1_dss_core_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_core&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_dss_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_alwon_fck&quot;</span><span class="p">,</span> <span class="cm">/* instead of dss_fck */</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap3xxx_dss_sdma_chs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_DSS_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_stdby_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES1_ST_DSS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">dss_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">dss_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span> <span class="o">|</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_dss_core_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_core&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_dss_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_alwon_fck&quot;</span><span class="p">,</span> <span class="cm">/* instead of dss_fck */</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap3xxx_dss_sdma_chs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_DSS_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_ST_DSS_IDLE_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_stdby_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_ST_DSS_STDBY_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">dss_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">dss_opt_clks</span><span class="p">),</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;dispc&#39; class</span>
<span class="cm"> * display controller</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3_dispc_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_MIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_ENAWAKEUP</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span> <span class="o">|</span>
			   <span class="n">MSTANDBY_FORCE</span> <span class="o">|</span> <span class="n">MSTANDBY_NO</span> <span class="o">|</span> <span class="n">MSTANDBY_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3_dispc_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;dispc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3_dispc_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_dss_dispc_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_dispc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3_dispc_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_dispc_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_alwon_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_DSS_MOD</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_3_dss_dispc_dev_attr</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;dsi&#39; class</span>
<span class="cm"> * display serial interface controller</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_dsi_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;dsi&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_dsi1_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">25</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* dss_dsi1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">dss_dsi1_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;sys_clk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss2_alwon_fck&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_dss_dsi1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_dsi1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dsi_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_dsi1_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_alwon_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_DSS_MOD</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">dss_dsi1_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">dss_dsi1_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">dss_rfbi_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;ick&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_dss_rfbi_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_rfbi&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_rfbi_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_alwon_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_DSS_MOD</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">dss_rfbi_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">dss_rfbi_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">dss_venc_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* required only on OMAP3430 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;tv_dac_clk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss_96m_fck&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_dss_venc_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_venc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_venc_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss_tv_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_DSS_MOD</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">dss_venc_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">dss_venc_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* I2C1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_i2c_dev_attr</span> <span class="n">i2c1_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">fifo_depth</span>	<span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="cm">/* bytes */</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_I2C_FLAG_APPLY_ERRATA_I207</span> <span class="o">|</span>
			  <span class="n">OMAP_I2C_FLAG_RESET_REGS_POSTIDLE</span> <span class="o">|</span>
			  <span class="n">OMAP_I2C_FLAG_BUS_SHIFT_2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_i2c1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_16BIT_REG</span> <span class="o">|</span> <span class="n">HWMOD_SET_DEFAULT_CLOCKACT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_i2c1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_i2c1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;i2c1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_I2C1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_I2C1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c1_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* I2C2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_i2c_dev_attr</span> <span class="n">i2c2_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">fifo_depth</span>	<span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="cm">/* bytes */</span>
	<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">OMAP_I2C_FLAG_APPLY_ERRATA_I207</span> <span class="o">|</span>
		 <span class="n">OMAP_I2C_FLAG_RESET_REGS_POSTIDLE</span> <span class="o">|</span>
		 <span class="n">OMAP_I2C_FLAG_BUS_SHIFT_2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_i2c2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_16BIT_REG</span> <span class="o">|</span> <span class="n">HWMOD_SET_DEFAULT_CLOCKACT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_i2c2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_i2c2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;i2c2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_I2C2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_I2C2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c2_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* I2C3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_i2c_dev_attr</span> <span class="n">i2c3_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">fifo_depth</span>	<span class="o">=</span> <span class="mi">64</span><span class="p">,</span> <span class="cm">/* bytes */</span>
	<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">OMAP_I2C_FLAG_APPLY_ERRATA_I207</span> <span class="o">|</span>
		 <span class="n">OMAP_I2C_FLAG_RESET_REGS_POSTIDLE</span> <span class="o">|</span>
		 <span class="n">OMAP_I2C_FLAG_BUS_SHIFT_2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">i2c3_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">INT_34XX_I2C3_IRQ</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">i2c3_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="n">OMAP34XX_DMA_I2C3_TX</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="n">OMAP34XX_DMA_I2C3_RX</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_i2c3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_16BIT_REG</span> <span class="o">|</span> <span class="n">HWMOD_SET_DEFAULT_CLOCKACT</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">i2c3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">i2c3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;i2c3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_I2C3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_I2C3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c3_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;gpio&#39; class</span>
<span class="cm"> * general purpose io module</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_gpio_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span>
			   <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_gpio_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;gpio&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio_dev_attr */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_gpio_dev_attr</span> <span class="n">gpio_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">bank_width</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dbck_flag</span> <span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">gpio1_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbclk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;gpio1_dbck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_gpio1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio1_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpio1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">gpio1_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpio1_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPIO1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPIO1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">gpio2_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbclk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;gpio2_dbck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_gpio2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio2_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpio2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">gpio2_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpio2_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPIO2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPIO2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">gpio3_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbclk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;gpio3_dbck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_gpio3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio3_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpio3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">gpio3_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpio3_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPIO3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPIO3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">gpio4_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbclk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;gpio4_dbck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_gpio4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio4_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpio4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">gpio4_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpio4_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPIO4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPIO4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_gpio5_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">33</span> <span class="p">},</span> <span class="cm">/* INT_34XX_GPIO_BANK5 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">gpio5_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbclk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;gpio5_dbck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_gpio5_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio5&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_gpio5_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpio5_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">gpio5_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpio5_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPIO5_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPIO5_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio6 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_gpio6_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">34</span> <span class="p">},</span> <span class="cm">/* INT_34XX_GPIO_BANK6 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">gpio6_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbclk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;gpio6_dbck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_gpio6_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio6&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_gpio6_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpio6_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">gpio6_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">gpio6_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_GPIO6_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_GPIO6_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* dma attributes */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_dma_dev_attr</span> <span class="n">dma_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">dev_caps</span>  <span class="o">=</span> <span class="n">RESERVE_CHANNEL</span> <span class="o">|</span> <span class="n">DMA_LINKED_LCH</span> <span class="o">|</span> <span class="n">GLOBAL_PRIORITY</span> <span class="o">|</span>
				<span class="n">IS_CSSA_32</span> <span class="o">|</span> <span class="n">IS_CDSA_32</span> <span class="o">|</span> <span class="n">IS_RW_PRIORITY</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lch_count</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_dma_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x002c</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0028</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_MIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_EMUFREE</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span>
			   <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span> <span class="o">|</span>
			   <span class="n">MSTANDBY_FORCE</span> <span class="o">|</span> <span class="n">MSTANDBY_NO</span> <span class="o">|</span> <span class="n">MSTANDBY_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_dma_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;dma&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dma_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* dma_system */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_dma_system_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dma&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dma_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_dma_system_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;core_l3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span>		<span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span>		<span class="o">=</span> <span class="n">OMAP3430_ST_SDMA_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span>	<span class="o">=</span> <span class="n">OMAP3430_ST_SDMA_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">dma_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;mcbsp&#39; class</span>
<span class="cm"> * multi channel buffered serial port controller</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_mcbsp_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x008c</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clockact</span>	<span class="o">=</span> <span class="mh">0x2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_mcbsp_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mcbsp&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>  <span class="o">=</span> <span class="n">MCBSP_CONFIG_TYPE3</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcbsp1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mcbsp1_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">59</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">60</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mcbsp1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp1_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcbsp1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCBSP1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCBSP1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcbsp2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mcbsp2_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">17</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">62</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">63</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_mcbsp_dev_attr</span> <span class="n">omap34xx_mcbsp2_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sidetone</span>	<span class="o">=</span> <span class="s">&quot;mcbsp2_sidetone&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mcbsp2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp2_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcbsp2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCBSP2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCBSP2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcbsp2_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcbsp3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mcbsp3_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">22</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">89</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">90</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_mcbsp_dev_attr</span> <span class="n">omap34xx_mcbsp3_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sidetone</span>	<span class="o">=</span> <span class="s">&quot;mcbsp3_sidetone&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mcbsp3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp3_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcbsp3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCBSP3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCBSP3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcbsp3_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcbsp4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mcbsp4_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">23</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">54</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">55</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap3xxx_mcbsp4_sdma_chs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">20</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">19</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mcbsp4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp4_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp4_sdma_chs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp4_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCBSP4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCBSP4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcbsp5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mcbsp5_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">27</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">81</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">82</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap3xxx_mcbsp5_sdma_chs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">22</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">21</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mcbsp5_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp5&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp5_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp5_sdma_chs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp5_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCBSP5_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCBSP5_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* &#39;mcbsp sidetone&#39; class */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_mcbsp_sidetone_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_mcbsp_sidetone_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mcbsp_sidetone&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_sidetone_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcbsp2_sidetone */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mcbsp2_sidetone_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;irq&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">4</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mcbsp2_sidetone_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp2_sidetone&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_sidetone_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp2_sidetone_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			 <span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCBSP2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCBSP2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcbsp3_sidetone */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mcbsp3_sidetone_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;irq&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">5</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mcbsp3_sidetone_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp3_sidetone&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp_sidetone_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mcbsp3_sidetone_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCBSP3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430_PER_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCBSP3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* SR common */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_sysc_fields</span> <span class="n">omap34xx_sr_sysc_fields</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">clkact_shift</span>	<span class="o">=</span> <span class="mi">20</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap34xx_sr_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x24</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_NO_CACHE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">clockact</span>	<span class="o">=</span> <span class="n">CLOCKACT_TEST_ICLK</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_sr_sysc_fields</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap34xx_smartreflex_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;smartreflex&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_sr_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>  <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_sysc_fields</span> <span class="n">omap36xx_sr_sysc_fields</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sidle_shift</span>	<span class="o">=</span> <span class="mi">24</span><span class="p">,</span>
	<span class="p">.</span><span class="n">enwkup_shift</span>	<span class="o">=</span> <span class="mi">26</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap36xx_sr_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x38</span><span class="p">,</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span>
			<span class="n">SYSC_NO_CACHE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap36xx_sr_sysc_fields</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap36xx_smartreflex_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;smartreflex&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap36xx_sr_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>  <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* SR1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_smartreflex_dev_attr</span> <span class="n">sr1_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sensor_voltdm_name</span>   <span class="o">=</span> <span class="s">&quot;mpu_iva&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3_smartreflex_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">18</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap34xx_sr1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;sr1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_smartreflex_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;sr1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">sr1_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3_smartreflex_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_SET_DEFAULT_CLOCKACT</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap36xx_sr1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;sr1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap36xx_smartreflex_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;sr1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">sr1_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3_smartreflex_mpu_irqs</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* SR2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_smartreflex_dev_attr</span> <span class="n">sr2_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sensor_voltdm_name</span>	<span class="o">=</span> <span class="s">&quot;core&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3_smartreflex_core_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">19</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap34xx_sr2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;sr2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_smartreflex_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;sr2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">sr2_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3_smartreflex_core_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_SET_DEFAULT_CLOCKACT</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap36xx_sr2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;sr2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap36xx_smartreflex_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;sr2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_SR2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">sr2_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3_smartreflex_core_irqs</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;mailbox&#39; class</span>
<span class="cm"> * mailbox module allowing communication between the on-chip processors</span>
<span class="cm"> * using a queued mailbox-interrupt mechanism.</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_mailbox_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
				<span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_mailbox_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mailbox&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mailbox_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_mailbox_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">26</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mailbox_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mailbox&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mailbox_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_mailbox_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mailboxes_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MAILBOXES_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MAILBOXES_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;mcspi&#39; class</span>
<span class="cm"> * multichannel serial port interface (mcspi) / master/slave synchronous serial</span>
<span class="cm"> * bus</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap34xx_mcspi_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
				<span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
				<span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap34xx_mcspi_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mcspi&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span> <span class="o">=</span> <span class="n">OMAP3_MCSPI_REV</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcspi1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap2_mcspi_dev_attr</span> <span class="n">omap_mcspi1_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_chipselect</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap34xx_mcspi1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcspi1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcspi1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCSPI1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCSPI1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>       <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_mcspi1_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcspi2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap2_mcspi_dev_attr</span> <span class="n">omap_mcspi2_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_chipselect</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap34xx_mcspi2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcspi2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcspi2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCSPI2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCSPI2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>       <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_mcspi2_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcspi3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap34xx_mcspi3_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;irq&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">91</span> <span class="p">},</span> <span class="cm">/* 91 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap34xx_mcspi3_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx0&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">15</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx0&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx1&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">23</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx1&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">24</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap2_mcspi_dev_attr</span> <span class="n">omap_mcspi3_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_chipselect</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap34xx_mcspi3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcspi3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap34xx_mcspi3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap34xx_mcspi3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcspi3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCSPI3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCSPI3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>       <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_mcspi3_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcspi4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap34xx_mcspi4_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;irq&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">INT_34XX_SPI4_IRQ</span> <span class="p">},</span> <span class="cm">/* 48 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap34xx_mcspi4_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx0&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">70</span> <span class="p">},</span> <span class="cm">/* DMA_SPI4_TX0 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx0&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">71</span> <span class="p">},</span> <span class="cm">/* DMA_SPI4_RX0 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap2_mcspi_dev_attr</span> <span class="n">omap_mcspi4_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_chipselect</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap34xx_mcspi4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcspi4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap34xx_mcspi4_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap34xx_mcspi4_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcspi4_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MCSPI4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MCSPI4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>       <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_mcspi4_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* usbhsotg */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_usbhsotg_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0404</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0408</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_MIDLEMODE</span><span class="o">|</span>
			  <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			  <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span> <span class="o">|</span>
			  <span class="n">MSTANDBY_FORCE</span> <span class="o">|</span> <span class="n">MSTANDBY_NO</span> <span class="o">|</span> <span class="n">MSTANDBY_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">usbotg_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;usbotg&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usbhsotg_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* usb_otg_hs */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_usbhsotg_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>

	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mc&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">92</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;dma&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">93</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_usbhsotg_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;usb_otg_hs&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_usbhsotg_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;hsotgusb_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_HSOTGUSB_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_ST_HSOTGUSB_IDLE_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_stdby_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_ST_HSOTGUSB_STDBY_SHIFT</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">usbotg_class</span><span class="p">,</span>

	<span class="cm">/*</span>
<span class="cm">	 * Erratum ID: i479  idle_req / idle_ack mechanism potentially</span>
<span class="cm">	 * broken when autoidle is enabled</span>
<span class="cm">	 * workaround is to disable the autoidle bit at module level.</span>
<span class="cm">	 */</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_OCP_AUTOIDLE</span> <span class="o">|</span> <span class="n">HWMOD_SWSUP_SIDLE</span>
				<span class="o">|</span> <span class="n">HWMOD_SWSUP_MSTANDBY</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* usb_otg_hs */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">am35xx_usbhsotg_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>

	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mc&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">71</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">am35xx_usbotg_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;am35xx_usbotg&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">am35xx_usbhsotg_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;am35x_otg_hs&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">am35xx_usbhsotg_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">am35xx_usbotg_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MMC/SD/SDIO common */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap34xx_mmc_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x1fc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap34xx_mmc_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mmc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mmc_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MMC/SD/SDIO1 */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap34xx_mmc1_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">83</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap34xx_mmc1_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">61</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">62</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">omap34xx_mmc1_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbck&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;omap_32k_fck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_mmc_dev_attr</span> <span class="n">mmc1_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">OMAP_HSMMC_SUPPORTS_DUAL_VOLT</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* See 35xx errata 2.1.1.128 in SPRZ278F */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_mmc_dev_attr</span> <span class="n">mmc1_pre_es3_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="p">(</span><span class="n">OMAP_HSMMC_SUPPORTS_DUAL_VOLT</span> <span class="o">|</span>
		  <span class="n">OMAP_HSMMC_BROKEN_MULTIBLOCK_READ</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_pre_es3_mmc1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmc1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap34xx_mmc1_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap34xx_mmc1_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mmchs1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MMC1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MMC1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">mmc1_pre_es3_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mmc_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_es3plus_mmc1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmc1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap34xx_mmc1_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap34xx_mmc1_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mmchs1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MMC1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MMC1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">mmc1_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mmc_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MMC/SD/SDIO2 */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap34xx_mmc2_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">INT_24XX_MMC2_IRQ</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap34xx_mmc2_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">47</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">48</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">omap34xx_mmc2_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbck&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;omap_32k_fck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* See 35xx errata 2.1.1.128 in SPRZ278F */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_mmc_dev_attr</span> <span class="n">mmc2_pre_es3_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">OMAP_HSMMC_BROKEN_MULTIBLOCK_READ</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_pre_es3_mmc2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmc2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap34xx_mmc2_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap34xx_mmc2_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mmchs2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MMC2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MMC2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">mmc2_pre_es3_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mmc_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_es3plus_mmc2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmc2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap34xx_mmc2_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap34xx_mmc2_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mmchs2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MMC2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MMC2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mmc_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MMC/SD/SDIO3 */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap34xx_mmc3_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">94</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap34xx_mmc3_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">77</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">78</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">omap34xx_mmc3_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbck&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;omap_32k_fck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_mmc3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmc3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap34xx_mmc3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap34xx_mmc3_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap34xx_mmc3_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mmchs3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_MMC3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_MMC3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mmc_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;usb_host_hs&#39; class</span>
<span class="cm"> * high-speed multi-port usb host controller</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_usb_host_hs_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_MIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span> <span class="o">|</span>
			   <span class="n">MSTANDBY_FORCE</span> <span class="o">|</span> <span class="n">MSTANDBY_NO</span> <span class="o">|</span> <span class="n">MSTANDBY_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_usb_host_hs_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;usb_host_hs&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usb_host_hs_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">omap3xxx_usb_host_hs_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	  <span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;ehci_logic_fck&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;usbhost_120m_fck&quot;</span><span class="p">,</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_usb_host_hs_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ohci-irq&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">76</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ehci-irq&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">77</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_usb_host_hs_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;usb_host_hs&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usb_host_hs_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clkdm_name</span>	<span class="o">=</span> <span class="s">&quot;l3_init_clkdm&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_usb_host_hs_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;usbhost_48m_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">OMAP3430ES2_USBHOST_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_EN_USBHOST1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_ST_USBHOST_IDLE_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_stdby_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_ST_USBHOST_STDBY_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap3xxx_usb_host_hs_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap3xxx_usb_host_hs_opt_clks</span><span class="p">),</span>

	<span class="cm">/*</span>
<span class="cm">	 * Errata: USBHOST Configured In Smart-Idle Can Lead To a Deadlock</span>
<span class="cm">	 * id: i660</span>
<span class="cm">	 *</span>
<span class="cm">	 * Description:</span>
<span class="cm">	 * In the following configuration :</span>
<span class="cm">	 * - USBHOST module is set to smart-idle mode</span>
<span class="cm">	 * - PRCM asserts idle_req to the USBHOST module ( This typically</span>
<span class="cm">	 *   happens when the system is going to a low power mode : all ports</span>
<span class="cm">	 *   have been suspended, the master part of the USBHOST module has</span>
<span class="cm">	 *   entered the standby state, and SW has cut the functional clocks)</span>
<span class="cm">	 * - an USBHOST interrupt occurs before the module is able to answer</span>
<span class="cm">	 *   idle_ack, typically a remote wakeup IRQ.</span>
<span class="cm">	 * Then the USB HOST module will enter a deadlock situation where it</span>
<span class="cm">	 * is no more accessible nor functional.</span>
<span class="cm">	 *</span>
<span class="cm">	 * Workaround:</span>
<span class="cm">	 * Don&#39;t use smart idle; use only force idle, hence HWMOD_SWSUP_SIDLE</span>
<span class="cm">	 */</span>

	<span class="cm">/*</span>
<span class="cm">	 * Errata: USB host EHCI may stall when entering smart-standby mode</span>
<span class="cm">	 * Id: i571</span>
<span class="cm">	 *</span>
<span class="cm">	 * Description:</span>
<span class="cm">	 * When the USBHOST module is set to smart-standby mode, and when it is</span>
<span class="cm">	 * ready to enter the standby state (i.e. all ports are suspended and</span>
<span class="cm">	 * all attached devices are in suspend mode), then it can wrongly assert</span>
<span class="cm">	 * the Mstandby signal too early while there are still some residual OCP</span>
<span class="cm">	 * transactions ongoing. If this condition occurs, the internal state</span>
<span class="cm">	 * machine may go to an undefined state and the USB link may be stuck</span>
<span class="cm">	 * upon the next resume.</span>
<span class="cm">	 *</span>
<span class="cm">	 * Workaround:</span>
<span class="cm">	 * Don&#39;t use smart standby; use only force standby,</span>
<span class="cm">	 * hence HWMOD_SWSUP_MSTANDBY</span>
<span class="cm">	 */</span>

	<span class="cm">/*</span>
<span class="cm">	 * During system boot; If the hwmod framework resets the module</span>
<span class="cm">	 * the module will have smart idle settings; which can lead to deadlock</span>
<span class="cm">	 * (above Errata Id:i660); so, dont reset the module during boot;</span>
<span class="cm">	 * Use HWMOD_INIT_NO_RESET.</span>
<span class="cm">	 */</span>

	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_SWSUP_SIDLE</span> <span class="o">|</span> <span class="n">HWMOD_SWSUP_MSTANDBY</span> <span class="o">|</span>
			  <span class="n">HWMOD_INIT_NO_RESET</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;usb_tll_hs&#39; class</span>
<span class="cm"> * usb_tll_hs module is the adapter on the usb_host_hs ports</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_usb_tll_hs_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_usb_tll_hs_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;usb_tll_hs&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usb_tll_hs_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap3xxx_usb_tll_hs_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tll-irq&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">78</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_usb_tll_hs_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;usb_tll_hs&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usb_tll_hs_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clkdm_name</span>	<span class="o">=</span> <span class="s">&quot;l3_init_clkdm&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap3xxx_usb_tll_hs_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;usbtll_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_EN_USBTLL_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430ES2_ST_USBTLL_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_hdq1w_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;hdq1w&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_hdq1w_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;hdq_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_EN_HDQ_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_HDQ_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_hdq1w_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;32K sync counter&#39; class</span>
<span class="cm"> * 32-bit ordinary counter, clocked by the falling edge of the 32 khz clock</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap3xxx_counter_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0004</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="n">SYSC_HAS_SIDLEMODE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap3xxx_counter_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;counter&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_counter_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap3xxx_counter_32k_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;counter_32k&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_counter_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clkdm_name</span>	<span class="o">=</span> <span class="s">&quot;wkup_clkdm&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_SWSUP_SIDLE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;wkup_32k_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_32KSYNC_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP3430_ST_32KSYNC_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * interfaces</span>
<span class="cm"> */</span>

<span class="cm">/* L3 -&gt; L4_CORE interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l3_main__l4_core</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>	<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L3 -&gt; L4_PER interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l3_main__l4_per</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>	<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_l3_main_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x68000000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x6800ffff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* MPU -&gt; L3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_mpu__l3_main</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>   <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mpu_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>     <span class="o">=</span> <span class="n">omap3xxx_l3_main_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>	<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* DSS -&gt; l3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3430es1_dss__l3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3430es1_dss_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_dss__l3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dss_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l3_perm_bit</span>  <span class="o">=</span> <span class="n">OMAP3_L3_CORE_FW_INIT_ID_DSS</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L3</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l3_core -&gt; usbhsotg interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_usbhsotg__l3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usbhsotg_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l3_core -&gt; am35xx_usbhsotg interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">am35xx_usbhsotg__l3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">am35xx_usbhsotg_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>
<span class="cm">/* L4_CORE -&gt; L4_WKUP interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__l4_wkup</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>	<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; MMC1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__pre_es3_mmc1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_pre_es3_mmc1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mmchs1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mmc1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__es3plus_mmc1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_es3plus_mmc1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mmchs1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mmc1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; MMC2 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__pre_es3_mmc2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_pre_es3_mmc2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mmchs2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mmc2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__es3plus_mmc2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_es3plus_mmc2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mmchs2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mmc2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; MMC3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mmc3_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x480ad000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480ad1ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__mmc3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mmc3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mmchs3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mmc3_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; UART1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_uart1_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP3_UART1_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP3_UART1_BASE</span> <span class="o">+</span> <span class="n">SZ_8K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_MAP_ON_INIT</span> <span class="o">|</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3_l4_core__uart1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_uart1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;uart1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_uart1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; UART2 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_uart2_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP3_UART2_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP3_UART2_BASE</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_MAP_ON_INIT</span> <span class="o">|</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3_l4_core__uart2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_uart2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;uart2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_uart2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 PER -&gt; UART3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_uart3_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP3_UART3_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP3_UART3_BASE</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_MAP_ON_INIT</span> <span class="o">|</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3_l4_per__uart3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_uart3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;uart3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_uart3_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 PER -&gt; UART4 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap36xx_uart4_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP3_UART4_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP3_UART4_BASE</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_MAP_ON_INIT</span> <span class="o">|</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap36xx_l4_per__uart4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap36xx_uart4_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;uart4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap36xx_uart4_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* AM35xx: L4 CORE -&gt; UART4 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">am35xx_uart4_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP3_UART4_AM35XX_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP3_UART4_AM35XX_BASE</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_MAP_ON_INIT</span> <span class="o">|</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">am35xx_l4_core__uart4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">am35xx_uart4_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;uart4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">am35xx_uart4_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; I2C1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3_l4_core__i2c1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_i2c1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;i2c1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_i2c1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_I2C1_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; I2C2 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3_l4_core__i2c2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_i2c2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;i2c2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_i2c2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_I2C2_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; I2C3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_i2c3_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48060000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x48060000</span> <span class="o">+</span> <span class="n">SZ_128</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3_l4_core__i2c3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_i2c3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;i2c3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_i2c3_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_I2C3_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; SR1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3_sr1_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP34XX_SR1_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP34XX_SR1_BASE</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap34xx_l4_core__sr1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_sr1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;sr_l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3_sr1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap36xx_l4_core__sr1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap36xx_sr1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;sr_l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3_sr1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; SR1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3_sr2_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP34XX_SR2_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP34XX_SR2_BASE</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap34xx_l4_core__sr2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_sr2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;sr_l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3_sr2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap36xx_l4_core__sr2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap36xx_sr2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;sr_l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3_sr2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_usbhsotg_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP34XX_HSUSB_OTG_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP34XX_HSUSB_OTG_BASE</span> <span class="o">+</span> <span class="n">SZ_4K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; usbhsotg  */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__usbhsotg</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usbhsotg_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_usbhsotg_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">am35xx_usbhsotg_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">AM35XX_IPSS_USBOTGSS_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">AM35XX_IPSS_USBOTGSS_BASE</span> <span class="o">+</span> <span class="n">SZ_4K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; usbhsotg  */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">am35xx_l4_core__usbhsotg</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">am35xx_usbhsotg_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">am35xx_usbhsotg_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4_WKUP -&gt; L4_SEC interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_wkup__l4_sec</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_sec_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>	<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* IVA2 &lt;- L3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l3__iva</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_iva_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer1_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48318000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x48318000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; timer1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_wkup__timer1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer1_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer2_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49032000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x49032000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer2_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer3_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49034000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x49034000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer3_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer4_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49036000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x49036000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer4_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer4_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer5_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49038000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x49038000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer5</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer5_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt5_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer5_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer6_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4903A000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4903A000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer6 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer6</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer6_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt6_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer6_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer7_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4903C000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4903C000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer7 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer7</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer7_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt7_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer7_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer8_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4903E000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4903E000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer8 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer8</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer8_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt8_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer8_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer9_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49040000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x49040000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; timer9 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__timer9</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer9_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt9_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer9_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; timer10 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__timer10</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer10_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt10_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_timer10_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; timer11 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__timer11</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer11_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt11_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_timer11_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_timer12_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48304000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x48304000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; timer12 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_sec__timer12</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_sec_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_timer12_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt12_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_timer12_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; wd_timer2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_wd_timer2_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48314000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4831407f</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_wkup__wd_timer2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_wd_timer2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;wdt2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_wd_timer2_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; dss */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3430es1_l4_core__dss</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3430es1_dss_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_dss_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3ES1_L4_CORE_FW_DSS_CORE_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_PROT_GROUP</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__dss</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dss_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_dss_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_CORE_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_PROT_GROUP</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; dss_dispc */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__dss_dispc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dss_dispc_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_dss_dispc_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_DISPC_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_PROT_GROUP</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_dss_dsi1_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4804FC00</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4804FFFF</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; dss_dsi1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__dss_dsi1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dss_dsi1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_dss_dsi1_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_DSI_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_PROT_GROUP</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; dss_rfbi */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__dss_rfbi</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dss_rfbi_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_dss_rfbi_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_RFBI_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_PROT_GROUP</span> <span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; dss_venc */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__dss_venc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dss_venc_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_dss_venc_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">fw</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">l4_fw_region</span>  <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_VENC_REGION</span><span class="p">,</span>
			<span class="p">.</span><span class="n">l4_prot_group</span> <span class="o">=</span> <span class="n">OMAP3_L4_CORE_FW_DSS_PROT_GROUP</span><span class="p">,</span>
			<span class="p">.</span><span class="n">flags</span>	<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span><span class="p">,</span>
		<span class="p">}</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OCPIF_SWSUP_IDLE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; gpio1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_gpio1_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48310000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x483101ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_wkup__gpio1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_gpio1_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; gpio2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_gpio2_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49050000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490501ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__gpio2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_gpio2_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; gpio3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_gpio3_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49052000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490521ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__gpio3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_gpio3_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; gpio4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_gpio4_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49054000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490541ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__gpio4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio4_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_gpio4_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; gpio5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_gpio5_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49056000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490561ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__gpio5</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio5_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_gpio5_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; gpio6 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_gpio6_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49058000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490581ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__gpio6</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_gpio6_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_gpio6_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* dma_system -&gt; L3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_dma_system__l3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dma_system_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_dma_system_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48056000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x48056fff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_cfg -&gt; dma_system */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__dma_system</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_dma_system_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_dma_system_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mcbsp1_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48074000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480740ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mcbsp1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__mcbsp1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mcbsp1_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mcbsp2_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49022000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490220ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; mcbsp2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__mcbsp2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mcbsp2_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mcbsp3_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49024000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490240ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; mcbsp3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__mcbsp3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mcbsp3_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mcbsp4_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49026000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490260ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; mcbsp4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__mcbsp4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp4_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mcbsp4_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mcbsp5_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48096000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480960ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mcbsp5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__mcbsp5</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp5_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp5_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mcbsp5_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mcbsp2_sidetone_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;sidetone&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49028000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490280ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; mcbsp2_sidetone */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__mcbsp2_sidetone</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp2_sidetone_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mcbsp2_sidetone_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mcbsp3_sidetone_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;sidetone&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4902A000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4902A0ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_per -&gt; mcbsp3_sidetone */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_per__mcbsp3_sidetone</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_per_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mcbsp3_sidetone_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mcbsp3_sidetone_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_mailbox_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48094000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480941ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mailbox */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__mailbox</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_mailbox_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_mailbox_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4 core -&gt; mcspi1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap34xx_l4_core__mcspi1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcspi1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_mcspi1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4 core -&gt; mcspi2 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap34xx_l4_core__mcspi2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcspi2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_mcspi2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4 core -&gt; mcspi3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap34xx_l4_core__mcspi3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi3</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcspi3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mcspi3_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4 core -&gt; mcspi4 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap34xx_mcspi4_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x480ba000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480ba0ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap34xx_l4_core__mcspi4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap34xx_mcspi4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcspi4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap34xx_mcspi4_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_usb_host_hs__l3_main_2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usb_host_hs_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_usb_host_hs_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uhh&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48064000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480643ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ohci&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48064400</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480647ff</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;ehci&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48064800</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x48064cff</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">{}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__usb_host_hs</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usb_host_hs_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;usbhost_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_usb_host_hs_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_usb_tll_hs_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;tll&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48062000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x48062fff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__usb_tll_hs</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_usb_tll_hs_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;usbtll_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_usb_tll_hs_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; hdq1w interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_core__hdq1w</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_hdq1w_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;hdq_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_hdq1w_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span> <span class="o">|</span> <span class="n">OCPIF_SWSUP_IDLE</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; 32ksync_counter */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap3xxx_counter_32k_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48320000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4832001f</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap3xxx_l4_wkup__counter_32k</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap3xxx_counter_32k_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;omap_32ksync_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap3xxx_counter_32k_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap3xxx_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l3_main__l4_core</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l3_main__l4_per</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_mpu__l3_main</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__l4_wkup</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__mmc3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3_l4_core__uart1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3_l4_core__uart2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3_l4_per__uart3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3_l4_core__i2c1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3_l4_core__i2c2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3_l4_core__i2c3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup__l4_sec</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup__timer1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer5</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer6</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer7</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer8</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__timer9</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__timer10</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__timer11</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup__wd_timer2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup__gpio1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__gpio2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__gpio3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__gpio4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__gpio5</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__gpio6</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_dma_system__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dma_system</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__mcbsp1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__mcbsp2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__mcbsp3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__mcbsp4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__mcbsp5</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__mcbsp2_sidetone</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_per__mcbsp3_sidetone</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap34xx_l4_core__mcspi1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap34xx_l4_core__mcspi2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap34xx_l4_core__mcspi3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap34xx_l4_core__mcspi4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_wkup__counter_32k</span><span class="p">,</span>
	<span class="nb">NULL</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* GP-only hwmod links */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap3xxx_gp_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_sec__timer12</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="cm">/* 3430ES1-only hwmod links */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap3430es1_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3430es1_dss__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3430es1_l4_core__dss</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="cm">/* 3430ES2+-only hwmod links */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap3430es2plus_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_dss__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dss</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_usbhsotg__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usbhsotg</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_usb_host_hs__l3_main_2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usb_host_hs</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usb_tll_hs</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="cm">/* &lt;= 3430ES3-only hwmod links */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap3430_pre_es3_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__pre_es3_mmc1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__pre_es3_mmc2</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="cm">/* 3430ES3+-only hwmod links */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap3430_es3plus_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__es3plus_mmc1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__es3plus_mmc2</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="cm">/* 34xx-only hwmod links (all ES revisions) */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap34xx_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l3__iva</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap34xx_l4_core__sr1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap34xx_l4_core__sr2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__mailbox</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__hdq1w</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="cm">/* 36xx-only hwmod links (all ES revisions) */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap36xx_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l3__iva</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap36xx_l4_per__uart4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_dss__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dss</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap36xx_l4_core__sr1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap36xx_l4_core__sr2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_usbhsotg__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usbhsotg</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__mailbox</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_usb_host_hs__l3_main_2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usb_host_hs</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usb_tll_hs</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__es3plus_mmc1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__es3plus_mmc2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__hdq1w</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">am35xx_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_dss__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dss</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">am35xx_usbhsotg__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">am35xx_l4_core__usbhsotg</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">am35xx_l4_core__uart4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_usb_host_hs__l3_main_2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usb_host_hs</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__usb_tll_hs</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__es3plus_mmc1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__es3plus_mmc2</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap3xxx_dss_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dss_dispc</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dss_dsi1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dss_rfbi</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap3xxx_l4_core__dss_venc</span><span class="p">,</span>
	<span class="nb">NULL</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">__init</span> <span class="nf">omap3xxx_hwmod_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">r</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">**</span><span class="n">h</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">rev</span><span class="p">;</span>

	<span class="cm">/* Register hwmod links common to all OMAP3 */</span>
	<span class="n">r</span> <span class="o">=</span> <span class="n">omap_hwmod_register_links</span><span class="p">(</span><span class="n">omap3xxx_hwmod_ocp_ifs</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">r</span><span class="p">;</span>

	<span class="cm">/* Register GP-only hwmod links. */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">omap_type</span><span class="p">()</span> <span class="o">==</span> <span class="n">OMAP2_DEVICE_TYPE_GP</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">r</span> <span class="o">=</span> <span class="n">omap_hwmod_register_links</span><span class="p">(</span><span class="n">omap3xxx_gp_hwmod_ocp_ifs</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">r</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">rev</span> <span class="o">=</span> <span class="n">omap_rev</span><span class="p">();</span>

	<span class="cm">/*</span>
<span class="cm">	 * Register hwmod links common to individual OMAP3 families, all</span>
<span class="cm">	 * silicon revisions (e.g., 34xx, or AM3505/3517, or 36xx)</span>
<span class="cm">	 * All possible revisions should be included in this conditional.</span>
<span class="cm">	 */</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES1_0</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES2_0</span> <span class="o">||</span>
	    <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES2_1</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_0</span> <span class="o">||</span>
	    <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_1</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_1_2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">omap34xx_hwmod_ocp_ifs</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">rev</span> <span class="o">==</span> <span class="n">AM35XX_REV_ES1_0</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">AM35XX_REV_ES1_1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">am35xx_hwmod_ocp_ifs</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3630_REV_ES1_0</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3630_REV_ES1_1</span> <span class="o">||</span>
		   <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3630_REV_ES1_2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">omap36xx_hwmod_ocp_ifs</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
		<span class="n">WARN</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&quot;OMAP3 hwmod family init: unknown chip type</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">EINVAL</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="n">r</span> <span class="o">=</span> <span class="n">omap_hwmod_register_links</span><span class="p">(</span><span class="n">h</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">r</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * Register hwmod links specific to certain ES levels of a</span>
<span class="cm">	 * particular family of silicon (e.g., 34xx ES1.0)</span>
<span class="cm">	 */</span>
	<span class="n">h</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES1_0</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">omap3430es1_hwmod_ocp_ifs</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES2_0</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES2_1</span> <span class="o">||</span>
		   <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_0</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_1</span> <span class="o">||</span>
		   <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_1_2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">omap3430es2plus_hwmod_ocp_ifs</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">h</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">r</span> <span class="o">=</span> <span class="n">omap_hwmod_register_links</span><span class="p">(</span><span class="n">h</span><span class="p">);</span>
		<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
			<span class="k">return</span> <span class="n">r</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="n">h</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES1_0</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES2_0</span> <span class="o">||</span>
	    <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES2_1</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">omap3430_pre_es3_hwmod_ocp_ifs</span><span class="p">;</span>
	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_0</span> <span class="o">||</span> <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_1</span> <span class="o">||</span>
		   <span class="n">rev</span> <span class="o">==</span> <span class="n">OMAP3430_REV_ES3_1_2</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">omap3430_es3plus_hwmod_ocp_ifs</span><span class="p">;</span>
	<span class="p">};</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">h</span><span class="p">)</span>
		<span class="n">r</span> <span class="o">=</span> <span class="n">omap_hwmod_register_links</span><span class="p">(</span><span class="n">h</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">r</span><span class="p">;</span>

	<span class="cm">/*</span>
<span class="cm">	 * DSS code presumes that dss_core hwmod is handled first,</span>
<span class="cm">	 * _before_ any other DSS related hwmods so register common</span>
<span class="cm">	 * DSS hwmod links last to ensure that dss_core is already</span>
<span class="cm">	 * registered.  Otherwise some change things may happen, for</span>
<span class="cm">	 * ex. if dispc is handled before dss_core and DSS is enabled</span>
<span class="cm">	 * in bootloader DISPC will be reset with outputs enabled</span>
<span class="cm">	 * which sometimes leads to unrecoverable L3 error.  XXX The</span>
<span class="cm">	 * long-term fix to this is to ensure hwmods are set up in</span>
<span class="cm">	 * dependency order in the hwmod core code.</span>
<span class="cm">	 */</span>
	<span class="n">r</span> <span class="o">=</span> <span class="n">omap_hwmod_register_links</span><span class="p">(</span><span class="n">omap3xxx_dss_hwmod_ocp_ifs</span><span class="p">);</span>

	<span class="k">return</span> <span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
