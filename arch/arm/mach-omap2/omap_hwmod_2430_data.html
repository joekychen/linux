<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-omap2 › omap_hwmod_2430_data.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>omap_hwmod_2430_data.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * omap_hwmod_2430_data.c - hardware modules present on the OMAP2430 chips</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2009-2011 Nokia Corporation</span>
<span class="cm"> * Copyright (C) 2012 Texas Instruments, Inc.</span>
<span class="cm"> * Paul Walmsley</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> *</span>
<span class="cm"> * XXX handle crossbar/shared link difference for L3?</span>
<span class="cm"> * XXX these should be marked initdata for multi-OMAP kernels</span>
<span class="cm"> */</span>
<span class="cp">#include &lt;plat/omap_hwmod.h&gt;</span>
<span class="cp">#include &lt;mach/irqs.h&gt;</span>
<span class="cp">#include &lt;plat/cpu.h&gt;</span>
<span class="cp">#include &lt;plat/dma.h&gt;</span>
<span class="cp">#include &lt;plat/serial.h&gt;</span>
<span class="cp">#include &lt;plat/i2c.h&gt;</span>
<span class="cp">#include &lt;plat/gpio.h&gt;</span>
<span class="cp">#include &lt;plat/mcbsp.h&gt;</span>
<span class="cp">#include &lt;plat/mcspi.h&gt;</span>
<span class="cp">#include &lt;plat/dmtimer.h&gt;</span>
<span class="cp">#include &lt;plat/mmc.h&gt;</span>
<span class="cp">#include &lt;plat/l3_2xxx.h&gt;</span>

<span class="cp">#include &quot;omap_hwmod_common_data.h&quot;</span>

<span class="cp">#include &quot;prm-regbits-24xx.h&quot;</span>
<span class="cp">#include &quot;cm-regbits-24xx.h&quot;</span>
<span class="cp">#include &quot;wd_timer.h&quot;</span>

<span class="cm">/*</span>
<span class="cm"> * OMAP2430 hardware module integration data</span>
<span class="cm"> *</span>
<span class="cm"> * All of the data in this section should be autogeneratable from the</span>
<span class="cm"> * TI hardware database or other technical documentation.  Data that</span>
<span class="cm"> * is driver-specific or driver-kernel integration-specific belongs</span>
<span class="cm"> * elsewhere.</span>
<span class="cm"> */</span>

<span class="cm">/*</span>
<span class="cm"> * IP blocks</span>
<span class="cm"> */</span>

<span class="cm">/* IVA2 (IVA2) */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_rst_info</span> <span class="n">omap2430_iva_resets</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;logic&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">rst_shift</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mmu&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">rst_shift</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_iva_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;iva&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">iva_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clkdm_name</span>	<span class="o">=</span> <span class="s">&quot;dsp_clkdm&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rst_lines</span>	<span class="o">=</span> <span class="n">omap2430_iva_resets</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rst_lines_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap2430_iva_resets</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dsp_fck&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* I2C common */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">i2c_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x00</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span>
			   <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">i2c_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>		<span class="o">=</span> <span class="n">OMAP_I2C_IP_VERSION_1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">reset</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_i2c_reset</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_i2c_dev_attr</span> <span class="n">i2c_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">fifo_depth</span>	<span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="cm">/* bytes */</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_I2C_FLAG_APPLY_ERRATA_I207</span> <span class="o">|</span>
			  <span class="n">OMAP_I2C_FLAG_BUS_SHIFT_2</span> <span class="o">|</span>
			  <span class="n">OMAP_I2C_FLAG_FORCE_19200_INT_CLK</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* I2C1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_i2c1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_16BIT_REG</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_i2c1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_i2c1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;i2chs1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="cm">/*</span>
<span class="cm">			 * NOTE: The CM_FCLKEN* and CM_ICLKEN* for</span>
<span class="cm">			 * I2CHS IP&#39;s do not follow the usual pattern.</span>
<span class="cm">			 * prcm_reg_id alone cannot be used to program</span>
<span class="cm">			 * the iclk and fclk. Needs to be handled using</span>
<span class="cm">			 * additional flags when clk handling is moved</span>
<span class="cm">			 * to hwmod framework.</span>
<span class="cm">			 */</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_I2CHS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_I2CHS1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* I2C2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_i2c2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_16BIT_REG</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_i2c2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_i2c2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;i2chs2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_I2CHS2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_I2CHS2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap243x_gpio5_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">33</span> <span class="p">},</span> <span class="cm">/* INT_24XX_GPIO_BANK5 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_gpio5_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio5&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap243x_gpio5_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpio5_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_GPIO5_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_GPIO5_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* dma attributes */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_dma_dev_attr</span> <span class="n">dma_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">dev_caps</span>  <span class="o">=</span> <span class="n">RESERVE_CHANNEL</span> <span class="o">|</span> <span class="n">DMA_LINKED_LCH</span> <span class="o">|</span> <span class="n">GLOBAL_PRIORITY</span> <span class="o">|</span>
				<span class="n">IS_CSSA_32</span> <span class="o">|</span> <span class="n">IS_CDSA_32</span> <span class="o">|</span> <span class="n">IS_RW_PRIORITY</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lch_count</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_dma_system_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dma&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_dma_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_dma_system_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;core_l3_ck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">dma_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mailbox */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mailbox_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">26</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mailbox_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mailbox&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_mailbox_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mailbox_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mailboxes_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_MAILBOXES_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_MAILBOXES_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcspi3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mcspi3_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">91</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap2430_mcspi3_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx0&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">15</span> <span class="p">},</span> <span class="cm">/* DMA_SPI3_TX0 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx0&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">},</span> <span class="cm">/* DMA_SPI3_RX0 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx1&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">23</span> <span class="p">},</span> <span class="cm">/* DMA_SPI3_TX1 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx1&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">24</span> <span class="p">},</span> <span class="cm">/* DMA_SPI3_RX1 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap2_mcspi_dev_attr</span> <span class="n">omap_mcspi3_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_chipselect</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mcspi3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcspi3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mcspi3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2430_mcspi3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcspi3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_MCSPI3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_MCSPI3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_mcspi_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_mcspi3_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* usbhsotg */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2430_usbhsotg_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0400</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0404</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0408</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_MIDLEMODE</span><span class="o">|</span>
			  <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			  <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span> <span class="o">|</span>
			  <span class="n">MSTANDBY_FORCE</span> <span class="o">|</span> <span class="n">MSTANDBY_NO</span> <span class="o">|</span> <span class="n">MSTANDBY_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">usbotg_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;usbotg&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_usbhsotg_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* usb_otg_hs */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_usbhsotg_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>

	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mc&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">92</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;dma&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">93</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_usbhsotg_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;usb_otg_hs&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_usbhsotg_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;usbhs_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_USBHS_MASK</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_USBHS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">usbotg_class</span><span class="p">,</span>
	<span class="cm">/*</span>
<span class="cm">	 * Erratum ID: i479  idle_req / idle_ack mechanism potentially</span>
<span class="cm">	 * broken when autoidle is enabled</span>
<span class="cm">	 * workaround is to disable the autoidle bit at module level.</span>
<span class="cm">	 */</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_OCP_AUTOIDLE</span> <span class="o">|</span> <span class="n">HWMOD_SWSUP_SIDLE</span>
				<span class="o">|</span> <span class="n">HWMOD_SWSUP_MSTANDBY</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;mcbsp&#39; class</span>
<span class="cm"> * multi channel buffered serial port controller</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2430_mcbsp_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x007C</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x008C</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SOFTRESET</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2430_mcbsp_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mcbsp&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>  <span class="o">=</span> <span class="n">MCBSP_CONFIG_TYPE2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcbsp1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mcbsp1_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">59</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">60</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;ovr&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">61</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">64</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mcbsp1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mcbsp1_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcbsp1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_MCBSP1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_MCBSP1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcbsp2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mcbsp2_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">62</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">63</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">16</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mcbsp2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mcbsp2_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcbsp2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_MCBSP2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_MCBSP2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcbsp3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mcbsp3_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">89</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">90</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">17</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mcbsp3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mcbsp3_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcbsp3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_MCBSP3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_MCBSP3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcbsp4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mcbsp4_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">54</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">55</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">18</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap2430_mcbsp4_sdma_chs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">20</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">19</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mcbsp4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mcbsp4_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2430_mcbsp4_sdma_chs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp4_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_MCBSP4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_MCBSP4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* mcbsp5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mcbsp5_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">81</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>		<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">82</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;common&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">19</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap2430_mcbsp5_sdma_chs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">22</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">21</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mcbsp5_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcbsp5&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mcbsp5_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2430_mcbsp5_sdma_chs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcbsp5_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP2430_EN_MCBSP5_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_MCBSP5_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* MMC/SD/SDIO common */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2430_mmc_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x1fc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x10</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x14</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>    <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2430_mmc_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;mmc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mmc_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MMC/SD/SDIO1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mmc1_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">83</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap2430_mmc1_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">61</span> <span class="p">},</span> <span class="cm">/* DMA_MMC1_TX */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">62</span> <span class="p">},</span> <span class="cm">/* DMA_MMC1_RX */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">omap2430_mmc1_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbck&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;mmchsdb1_fck&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_mmc_dev_attr</span> <span class="n">mmc1_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">flags</span> <span class="o">=</span> <span class="n">OMAP_HSMMC_SUPPORTS_DUAL_VOLT</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mmc1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmc1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mmc1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2430_mmc1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap2430_mmc1_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap2430_mmc1_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mmchs1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span>  <span class="o">=</span> <span class="n">OMAP2430_EN_MMCHS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_MMCHS1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">mmc1_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mmc_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MMC/SD/SDIO2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2430_mmc2_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">86</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap2430_mmc2_sdma_reqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;tx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">47</span> <span class="p">},</span> <span class="cm">/* DMA_MMC2_TX */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;rx&quot;</span><span class="p">,</span>	<span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">48</span> <span class="p">},</span> <span class="cm">/* DMA_MMC2_RX */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">omap2430_mmc2_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;dbck&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;mmchsdb2_fck&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_mmc2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mmc2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2430_mmc2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2430_mmc2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">omap2430_mmc2_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">omap2430_mmc2_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mmchs2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span>  <span class="o">=</span> <span class="n">OMAP2430_EN_MMCHS2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP2430_ST_MMCHS2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mmc_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* HDQ1W/1-wire */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2430_hdq1w_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;hdq1w&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_hdq1w_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;hdq_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_HDQ_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_HDQ_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_hdq1w_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * interfaces</span>
<span class="cm"> */</span>

<span class="cm">/* L3 -&gt; L4_CORE interface */</span>
<span class="cm">/* l3_core -&gt; usbhsotg  interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_usbhsotg__l3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_usbhsotg_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; I2C1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__i2c1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_i2c1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;i2c1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_i2c1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; I2C2 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__i2c2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_i2c2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;i2c2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_i2c2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_usbhsotg_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="n">OMAP243X_HS_BASE</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="n">OMAP243X_HS_BASE</span> <span class="o">+</span> <span class="n">SZ_4K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/*  l4_core -&gt;usbhsotg  interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__usbhsotg</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_usbhsotg_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;usb_l4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_usbhsotg_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; MMC1 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mmc1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mmc1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mmchs1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mmc1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE -&gt; MMC2 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mmc2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mmc2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mmchs2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mmc2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4 core -&gt; mcspi3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mcspi3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcspi3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcspi3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mcspi3_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* IVA2 &lt;- L3 interface */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l3__iva</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_iva_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_timer1_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49018000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x49018000</span> <span class="o">+</span> <span class="n">SZ_1K</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; timer1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_wkup__timer1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpt1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_timer1_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; wd_timer2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_wd_timer2_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49016000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4901607f</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_wkup__wd_timer2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_wd_timer2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mpu_wdt_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_wd_timer2_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; gpio1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_gpio1_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4900C000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4900C1ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_wkup__gpio1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpios_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_gpio1_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; gpio2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_gpio2_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4900E000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4900E1ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_wkup__gpio2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpios_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_gpio2_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; gpio3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_gpio3_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49010000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490101ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_wkup__gpio3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpios_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_gpio3_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; gpio4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_gpio4_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49012000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x490121ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_wkup__gpio4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio4_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpios_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_gpio4_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; gpio5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_gpio5_addr_space</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x480B6000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480B61ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__gpio5</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_gpio5_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;gpio5_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_gpio5_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* dma_system -&gt; L3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_dma_system__l3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_dma_system_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l3_main_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;core_l3_ck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; dma_system */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__dma_system</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_dma_system_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;sdma_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_dma_system_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mailbox */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mailbox</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mailbox_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_mailbox_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mcbsp1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mcbsp1</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp1_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp1_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_mcbsp1_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mcbsp2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mcbsp2</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp2_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp2_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2xxx_mcbsp2_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_mcbsp3_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4808C000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4808C0ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mcbsp3 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mcbsp3</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp3_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp3_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mcbsp3_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_mcbsp4_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x4808E000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4808E0ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mcbsp4 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mcbsp4</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp4_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp4_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mcbsp4_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_mcbsp5_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x48096000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x480960ff</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; mcbsp5 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__mcbsp5</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_mcbsp5_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;mcbsp5_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_mcbsp5_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_core -&gt; hdq1w */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_core__hdq1w</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_core_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2430_hdq1w_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;hdq_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2_hdq1w_addr_space</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">OMAP_FIREWALL_L4</span> <span class="o">|</span> <span class="n">OCPIF_SWSUP_IDLE</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* l4_wkup -&gt; 32ksync_counter */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_addr_space</span> <span class="n">omap2430_counter_32k_addrs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">pa_start</span>	<span class="o">=</span> <span class="mh">0x49020000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">pa_end</span>		<span class="o">=</span> <span class="mh">0x4902001f</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">ADDR_TYPE_RT</span>
	<span class="p">},</span>
	<span class="p">{</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="n">omap2430_l4_wkup__counter_32k</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">master</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_l4_wkup_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">slave</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_counter_32k_hwmod</span><span class="p">,</span>
	<span class="p">.</span><span class="n">clk</span>		<span class="o">=</span> <span class="s">&quot;sync_32k_ick&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">addr</span>		<span class="o">=</span> <span class="n">omap2430_counter_32k_addrs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">user</span>		<span class="o">=</span> <span class="n">OCP_USER_MPU</span> <span class="o">|</span> <span class="n">OCP_USER_SDMA</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_ocp_if</span> <span class="o">*</span><span class="n">omap2430_hwmod_ocp_ifs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l3_main__l4_core</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_mpu__l3_main</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_dss__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_usbhsotg__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__i2c1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__i2c2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__l4_wkup</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2_l4_core__uart1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2_l4_core__uart2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2_l4_core__uart3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__usbhsotg</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mmc1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mmc2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__mcspi1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__mcspi2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mcspi3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l3__iva</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_wkup__timer1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer5</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer6</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer7</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer8</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer9</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer10</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer11</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__timer12</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_wkup__wd_timer2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__dss</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__dss_dispc</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__dss_rfbi</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2xxx_l4_core__dss_venc</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_wkup__gpio1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_wkup__gpio2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_wkup__gpio3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_wkup__gpio4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__gpio5</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_dma_system__l3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__dma_system</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mailbox</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mcbsp1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mcbsp2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mcbsp3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mcbsp4</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__mcbsp5</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_core__hdq1w</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">omap2430_l4_wkup__counter_32k</span><span class="p">,</span>
	<span class="nb">NULL</span><span class="p">,</span>
<span class="p">};</span>

<span class="kt">int</span> <span class="n">__init</span> <span class="nf">omap2430_hwmod_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="n">omap_hwmod_register_links</span><span class="p">(</span><span class="n">omap2430_hwmod_ocp_ifs</span><span class="p">);</span>
<span class="p">}</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
