<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-omap2 › common.h

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>common.h</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * Header for code common to all OMAP2+ machines.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify it</span>
<span class="cm"> * under the terms of the GNU General Public License as published by the</span>
<span class="cm"> * Free Software Foundation; either version 2 of the License, or (at your</span>
<span class="cm"> * option) any later version.</span>
<span class="cm"> *</span>
<span class="cm"> * THIS SOFTWARE IS PROVIDED ``AS IS&#39;&#39; AND ANY EXPRESS OR IMPLIED</span>
<span class="cm"> * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span>
<span class="cm"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN</span>
<span class="cm"> * NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,</span>
<span class="cm"> * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</span>
<span class="cm"> * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF</span>
<span class="cm"> * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON</span>
<span class="cm"> * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="cm"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</span>
<span class="cm"> * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="cm"> *</span>
<span class="cm"> * You should have received a copy of the  GNU General Public License along</span>
<span class="cm"> * with this program; if not, write  to the Free Software Foundation, Inc.,</span>
<span class="cm"> * 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="cm"> */</span>

<span class="cp">#ifndef __ARCH_ARM_MACH_OMAP2PLUS_COMMON_H</span>
<span class="cp">#define __ARCH_ARM_MACH_OMAP2PLUS_COMMON_H</span>
<span class="cp">#ifndef __ASSEMBLER__</span>

<span class="cp">#include &lt;linux/delay.h&gt;</span>
<span class="cp">#include &lt;linux/i2c/twl.h&gt;</span>
<span class="cp">#include &lt;plat/common.h&gt;</span>
<span class="cp">#include &lt;asm/proc-fns.h&gt;</span>

<span class="cp">#ifdef CONFIG_SOC_OMAP2420</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap242x_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">omap242x_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_SOC_OMAP2430</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap243x_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">omap243x_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_ARCH_OMAP3</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap34xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">omap34xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_SOC_TI81XX</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omapti81xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">omapti81xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_SOC_AM33XX</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omapam33xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">omapam33xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_ARCH_OMAP4</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap44xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">omap44xx_map_common_io</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_PM) &amp;&amp; defined(CONFIG_ARCH_OMAP2)</span>
<span class="kt">int</span> <span class="n">omap2_pm_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap2_pm_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_PM) &amp;&amp; defined(CONFIG_ARCH_OMAP3)</span>
<span class="kt">int</span> <span class="n">omap3_pm_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap3_pm_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_PM) &amp;&amp; defined(CONFIG_ARCH_OMAP4)</span>
<span class="kt">int</span> <span class="n">omap4_pm_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap4_pm_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_OMAP_MUX</span>
<span class="kt">int</span> <span class="n">omap_mux_late_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap_mux_late_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap2_init_common_infrastructure</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">sys_timer</span> <span class="n">omap2_timer</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">sys_timer</span> <span class="n">omap3_timer</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">sys_timer</span> <span class="n">omap3_secure_timer</span><span class="p">;</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">sys_timer</span> <span class="n">omap4_timer</span><span class="p">;</span>

<span class="kt">void</span> <span class="n">omap2420_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2430_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3430_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap35xx_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3630_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>	<span class="cm">/* Do not use this one */</span>
<span class="kt">void</span> <span class="n">am35xx_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">ti81xx_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap4430_init_early</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>	<span class="cm">/* Do not use this one */</span>
<span class="kt">void</span> <span class="n">omap4430_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2420_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2430_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3430_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap35xx_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3630_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">am35xx_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">ti81xx_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap4430_init_late</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">omap2_common_pm_late_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap_prcm_restart</span><span class="p">(</span><span class="kt">char</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="p">);</span>

<span class="cm">/*</span>
<span class="cm"> * IO bases for various OMAP processors</span>
<span class="cm"> * Except the tap base, rest all the io bases</span>
<span class="cm"> * listed are physical addresses.</span>
<span class="cm"> */</span>
<span class="k">struct</span> <span class="n">omap_globals</span> <span class="p">{</span>
	<span class="n">u32</span>		<span class="n">class</span><span class="p">;</span>		<span class="cm">/* OMAP class to detect */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">tap</span><span class="p">;</span>		<span class="cm">/* Control module ID code */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">sdrc</span><span class="p">;</span>           <span class="cm">/* SDRAM Controller */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">sms</span><span class="p">;</span>            <span class="cm">/* SDRAM Memory Scheduler */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">ctrl</span><span class="p">;</span>           <span class="cm">/* System Control Module */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">ctrl_pad</span><span class="p">;</span>	<span class="cm">/* PAD Control Module */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">prm</span><span class="p">;</span>            <span class="cm">/* Power and Reset Management */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">cm</span><span class="p">;</span>             <span class="cm">/* Clock Management */</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">cm2</span><span class="p">;</span>
	<span class="kt">void</span> <span class="n">__iomem</span>	<span class="o">*</span><span class="n">prcm_mpu</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">omap2_set_globals_242x</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_243x</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_3xxx</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_443x</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_ti81xx</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_am33xx</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cm">/* These get called from omap2_set_globals_xxxx(), do not call these */</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_tap</span><span class="p">(</span><span class="k">struct</span> <span class="n">omap_globals</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_sdrc</span><span class="p">(</span><span class="k">struct</span> <span class="n">omap_globals</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_control</span><span class="p">(</span><span class="k">struct</span> <span class="n">omap_globals</span> <span class="o">*</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_set_globals_prcm</span><span class="p">(</span><span class="k">struct</span> <span class="n">omap_globals</span> <span class="o">*</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">omap242x_map_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap243x_map_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_map_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">am33xx_map_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap4_map_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">ti81xx_map_io</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap_barriers_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cm">/**</span>
<span class="cm"> * omap_test_timeout - busy-loop, testing a condition</span>
<span class="cm"> * @cond: condition to test until it evaluates to true</span>
<span class="cm"> * @timeout: maximum number of microseconds in the timeout</span>
<span class="cm"> * @index: loop index (integer)</span>
<span class="cm"> *</span>
<span class="cm"> * Loop waiting for @cond to become true or until at least @timeout</span>
<span class="cm"> * microseconds have passed.  To use, define some integer @index in the</span>
<span class="cm"> * calling code.  After running, if @index == @timeout, then the loop has</span>
<span class="cm"> * timed out.</span>
<span class="cm"> */</span>
<span class="cp">#define omap_test_timeout(cond, timeout, index)			\</span>
<span class="cp">({								\</span>
<span class="cp">	for (index = 0; index &lt; timeout; index++) {		\</span>
<span class="cp">		if (cond)					\</span>
<span class="cp">			break;					\</span>
<span class="cp">		udelay(1);					\</span>
<span class="cp">	}							\</span>
<span class="cp">})</span>

<span class="k">extern</span> <span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">omap2_get_mpuss_device</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">omap2_get_iva_device</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">omap2_get_l3_device</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">omap4_get_dsp_device</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">void</span> <span class="n">omap2_init_irq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_init_irq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">ti81xx_init_irq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">omap_irq_pending</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap_intc_save_context</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap_intc_restore_context</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_intc_suspend</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_intc_prepare_idle</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_intc_resume_idle</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap2_intc_handle_irq</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span> <span class="o">*</span><span class="n">regs</span><span class="p">);</span>
<span class="kt">void</span> <span class="n">omap3_intc_handle_irq</span><span class="p">(</span><span class="k">struct</span> <span class="n">pt_regs</span> <span class="o">*</span><span class="n">regs</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_CACHE_L2X0</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">omap4_get_l2cache_base</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">device_node</span><span class="p">;</span>
<span class="cp">#ifdef CONFIG_OF</span>
<span class="kt">int</span> <span class="n">__init</span> <span class="n">omap_intc_of_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">node</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">parent</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="kt">int</span> <span class="n">__init</span> <span class="nf">omap_intc_of_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">node</span><span class="p">,</span>
			     <span class="k">struct</span> <span class="n">device_node</span> <span class="o">*</span><span class="n">parent</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef CONFIG_SMP</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">omap4_get_scu_base</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="nf">omap4_get_scu_base</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="k">extern</span> <span class="kt">void</span> <span class="n">__init</span> <span class="n">gic_init_irq</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap_smc1</span><span class="p">(</span><span class="n">u32</span> <span class="n">fn</span><span class="p">,</span> <span class="n">u32</span> <span class="n">arg</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">__iomem</span> <span class="o">*</span><span class="n">omap4_get_sar_ram_base</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap_do_wfi</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="cp">#ifdef CONFIG_SMP</span>
<span class="cm">/* Needed for secondary core boot */</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap_secondary_startup</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">omap_modify_auxcoreboot0</span><span class="p">(</span><span class="n">u32</span> <span class="n">set_mask</span><span class="p">,</span> <span class="n">u32</span> <span class="n">clear_mask</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap_auxcoreboot_addr</span><span class="p">(</span><span class="n">u32</span> <span class="n">cpu_addr</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">omap_read_auxcoreboot0</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#endif</span>

<span class="cp">#if defined(CONFIG_SMP) &amp;&amp; defined(CONFIG_PM)</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">omap4_mpuss_init</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">omap4_enter_lowpower</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">cpu</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">power_state</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">omap4_finish_suspend</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">cpu_state</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap4_cpu_resume</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">omap4_hotplug_cpu</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">cpu</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">power_state</span><span class="p">);</span>
<span class="k">extern</span> <span class="n">u32</span> <span class="n">omap4_mpuss_read_prev_context_state</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="cp">#else</span>
<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap4_enter_lowpower</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">cpu</span><span class="p">,</span>
					<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">power_state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">cpu_do_idle</span><span class="p">();</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap4_hotplug_cpu</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">cpu</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">power_state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">cpu_do_idle</span><span class="p">();</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap4_mpuss_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">int</span> <span class="nf">omap4_finish_suspend</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">cpu_state</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="kt">void</span> <span class="nf">omap4_cpu_resume</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{}</span>

<span class="k">static</span> <span class="kr">inline</span> <span class="n">u32</span> <span class="nf">omap4_mpuss_read_prev_context_state</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="k">struct</span> <span class="n">omap_sdrc_params</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">void</span> <span class="n">omap_sdrc_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">omap_sdrc_params</span> <span class="o">*</span><span class="n">sdrc_cs0</span><span class="p">,</span>
				      <span class="k">struct</span> <span class="n">omap_sdrc_params</span> <span class="o">*</span><span class="n">sdrc_cs1</span><span class="p">);</span>
<span class="k">struct</span> <span class="n">omap2_hsmmc_info</span><span class="p">;</span>
<span class="k">extern</span> <span class="kt">int</span> <span class="n">omap4_twl6030_hsmmc_init</span><span class="p">(</span><span class="k">struct</span> <span class="n">omap2_hsmmc_info</span> <span class="o">*</span><span class="n">controllers</span><span class="p">);</span>

<span class="cp">#endif </span><span class="cm">/* __ASSEMBLER__ */</span><span class="cp"></span>
<span class="cp">#endif </span><span class="cm">/* __ARCH_ARM_MACH_OMAP2PLUS_COMMON_H */</span><span class="cp"></span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
