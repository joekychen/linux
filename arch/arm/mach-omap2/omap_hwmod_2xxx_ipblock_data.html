<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-omap2 › omap_hwmod_2xxx_ipblock_data.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>omap_hwmod_2xxx_ipblock_data.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/*</span>
<span class="cm"> * omap_hwmod_2xxx_ipblock_data.c - common IP block data for OMAP2xxx</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (C) 2011 Nokia Corporation</span>
<span class="cm"> * Paul Walmsley</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm"> */</span>
<span class="cp">#include &lt;plat/omap_hwmod.h&gt;</span>
<span class="cp">#include &lt;plat/serial.h&gt;</span>
<span class="cp">#include &lt;plat/gpio.h&gt;</span>
<span class="cp">#include &lt;plat/dma.h&gt;</span>
<span class="cp">#include &lt;plat/dmtimer.h&gt;</span>
<span class="cp">#include &lt;plat/mcspi.h&gt;</span>

<span class="cp">#include &lt;mach/irqs.h&gt;</span>

<span class="cp">#include &quot;omap_hwmod_common_data.h&quot;</span>
<span class="cp">#include &quot;cm-regbits-24xx.h&quot;</span>
<span class="cp">#include &quot;prm-regbits-24xx.h&quot;</span>
<span class="cp">#include &quot;wd_timer.h&quot;</span>

<span class="k">struct</span> <span class="n">omap_hwmod_irq_info</span> <span class="n">omap2xxx_timer12_mpu_irqs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="mi">48</span><span class="p">,</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_dma_info</span> <span class="n">omap2xxx_dss_sdma_chs</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;dispc&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="mi">5</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">dma_req</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">}</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;dispc&#39; class</span>
<span class="cm"> * display controller</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2_dispc_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_MIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span> <span class="o">|</span>
			   <span class="n">MSTANDBY_FORCE</span> <span class="o">|</span> <span class="n">MSTANDBY_NO</span> <span class="o">|</span> <span class="n">MSTANDBY_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2_dispc_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;dispc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_dispc_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* OMAP2xxx Timer Common */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2xxx_timer_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span> <span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2xxx_timer_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;timer&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>	<span class="o">=</span> <span class="n">OMAP_TIMER_IP_VERSION_1</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;wd_timer&#39; class</span>
<span class="cm"> * 32-bit watchdog upward counter that generates a pulse on the reset pin on</span>
<span class="cm"> * overflow condition</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2xxx_wd_timer_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_EMUFREE</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2xxx_wd_timer_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;wd_timer&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_wd_timer_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">pre_shutdown</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_wd_timer_disable</span><span class="p">,</span>
	<span class="p">.</span><span class="n">reset</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_wd_timer_reset</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;gpio&#39; class</span>
<span class="cm"> * general purpose io module</span>
<span class="cm"> */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2xxx_gpio_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span>
			   <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2xxx_gpio_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;gpio&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* system dma */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2xxx_dma_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x002c</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0028</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_MIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_EMUFREE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">MSTANDBY_FORCE</span> <span class="o">|</span> <span class="n">MSTANDBY_NO</span> <span class="o">|</span> <span class="n">MSTANDBY_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2xxx_dma_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;dma&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_dma_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;mailbox&#39; class</span>
<span class="cm"> * mailbox module allowing communication between the on-chip processors</span>
<span class="cm"> * using a queued mailbox-interrupt mechanism.</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2xxx_mailbox_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
			   <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span> <span class="n">SYSC_HAS_AUTOIDLE</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2xxx_mailbox_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;mailbox&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_mailbox_sysc</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * &#39;mcspi&#39; class</span>
<span class="cm"> * multichannel serial port interface (mcspi) / master/slave synchronous serial</span>
<span class="cm"> * bus</span>
<span class="cm"> */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class_sysconfig</span> <span class="n">omap2xxx_mcspi_sysc</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">rev_offs</span>	<span class="o">=</span> <span class="mh">0x0000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_offs</span>	<span class="o">=</span> <span class="mh">0x0010</span><span class="p">,</span>
	<span class="p">.</span><span class="n">syss_offs</span>	<span class="o">=</span> <span class="mh">0x0014</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc_flags</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SYSC_HAS_CLOCKACTIVITY</span> <span class="o">|</span> <span class="n">SYSC_HAS_SIDLEMODE</span> <span class="o">|</span>
				<span class="n">SYSC_HAS_ENAWAKEUP</span> <span class="o">|</span> <span class="n">SYSC_HAS_SOFTRESET</span> <span class="o">|</span>
				<span class="n">SYSC_HAS_AUTOIDLE</span> <span class="o">|</span> <span class="n">SYSS_HAS_RESET_STATUS</span><span class="p">),</span>
	<span class="p">.</span><span class="n">idlemodes</span>	<span class="o">=</span> <span class="p">(</span><span class="n">SIDLE_FORCE</span> <span class="o">|</span> <span class="n">SIDLE_NO</span> <span class="o">|</span> <span class="n">SIDLE_SMART</span><span class="p">),</span>
	<span class="p">.</span><span class="n">sysc_fields</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_hwmod_sysc_type1</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2xxx_mcspi_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;mcspi&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sysc</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_mcspi_sysc</span><span class="p">,</span>
	<span class="p">.</span><span class="n">rev</span>	<span class="o">=</span> <span class="n">OMAP2_MCSPI_REV</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/*</span>
<span class="cm"> * IP blocks</span>
<span class="cm"> */</span>

<span class="cm">/* L3 */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_l3_main_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l3_main&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l3_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 CORE */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_l4_core_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l4_core&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l4_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* L4 WKUP */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_l4_wkup_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;l4_wkup&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">l4_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* MPU */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_mpu_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mpu&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">mpu_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mpu_ck&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* IVA2 */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_iva_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;iva&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">iva_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* always-on timers dev attribute */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_timer_capability_dev_attr</span> <span class="n">capability_alwon_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">timer_capability</span>       <span class="o">=</span> <span class="n">OMAP_TIMER_ALWON</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* pwm timers dev attribute */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_timer_capability_dev_attr</span> <span class="n">capability_pwm_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">timer_capability</span>       <span class="o">=</span> <span class="n">OMAP_TIMER_HAS_PWM</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer1 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer2 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer3 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer4 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer4_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt4_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT4_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT4_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer5 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer5_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer5&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer5_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt5_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT5_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT5_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer6 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer6_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer6&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer6_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt6_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT6_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT6_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer7 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer7_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer7&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer7_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt7_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT7_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT7_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer8 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer8_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer8&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer8_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt8_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT8_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT8_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_alwon_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer9 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer9_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer9&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer9_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt9_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT9_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT9_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer10 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer10_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer10&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer10_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt10_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT10_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT10_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer11 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer11_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer11&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_timer11_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt11_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT11_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT11_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* timer12 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_timer12_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;timer12&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2xxx_timer12_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpt12_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPT12_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPT12_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">capability_pwm_dev_attr</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_timer_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* wd_timer2 */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_wd_timer2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;wd_timer2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_wd_timer_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mpu_wdt_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_MPU_WDT_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_MPU_WDT_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* UART1 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_uart1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_uart1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_uart1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_UART1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_UART1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UART2 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_uart2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_uart2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_uart2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_UART2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_UART2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* UART3 */</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_uart3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;uart3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_uart3_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_uart3_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;uart3_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_UART3_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_UART3_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_uart_class</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* dss */</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">dss_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/*</span>
<span class="cm">	 * The DSS HW needs all DSS clocks enabled during reset. The dss_core</span>
<span class="cm">	 * driver does not use these clocks.</span>
<span class="cm">	 */</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;tv_clk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss_54m_fck&quot;</span> <span class="p">},</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;sys_clk&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss2_fck&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_dss_core_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_core&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_dss_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_fck&quot;</span><span class="p">,</span> <span class="cm">/* instead of dss_fck */</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2xxx_dss_sdma_chs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_stdby_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_DSS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">dss_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">dss_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span> <span class="o">|</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_dss_dispc_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_dispc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_dispc_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_dispc_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_stdby_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_DSS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_3_dss_dispc_dev_attr</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_opt_clk</span> <span class="n">dss_rfbi_opt_clks</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="p">.</span><span class="n">role</span> <span class="o">=</span> <span class="s">&quot;ick&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">clk</span> <span class="o">=</span> <span class="s">&quot;dss_ick&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_dss_rfbi_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_rfbi&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_rfbi_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">opt_clks</span>	<span class="o">=</span> <span class="n">dss_rfbi_opt_clks</span><span class="p">,</span>
	<span class="p">.</span><span class="n">opt_clks_cnt</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">dss_rfbi_opt_clks</span><span class="p">),</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_dss_venc_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;dss_venc&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2_venc_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;dss_54m_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_DSS1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_NO_IDLEST</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio dev_attr */</span>
<span class="k">struct</span> <span class="n">omap_gpio_dev_attr</span> <span class="n">omap2xxx_gpio_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">bank_width</span> <span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dbck_flag</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio1 */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_gpio1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio1_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpios_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPIOS_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPIOS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio2 */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_gpio2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio2_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpios_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPIOS_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPIOS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio3 */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_gpio3_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio3&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio3_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpios_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPIOS_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPIOS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* gpio4 */</span>
<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_gpio4_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;gpio4&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">HWMOD_CONTROL_OPT_CLKS_IN_RESET</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_gpio4_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;gpios_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_GPIOS_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_GPIOS_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_hwmod_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_gpio_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcspi1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap2_mcspi_dev_attr</span> <span class="n">omap_mcspi1_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_chipselect</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_mcspi1_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcspi1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi1_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi1_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcspi1_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_MCSPI1_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_MCSPI1_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_mcspi_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_mcspi1_dev_attr</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* mcspi2 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">omap2_mcspi_dev_attr</span> <span class="n">omap_mcspi2_dev_attr</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_chipselect</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_mcspi2_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;mcspi2&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">mpu_irqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi2_mpu_irqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sdma_reqs</span>	<span class="o">=</span> <span class="n">omap2_mcspi2_sdma_reqs</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;mcspi2_fck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span> <span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">CORE_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_EN_MCSPI2_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_MCSPI2_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_mcspi_class</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev_attr</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap_mcspi2_dev_attr</span><span class="p">,</span>
<span class="p">};</span>


<span class="k">static</span> <span class="k">struct</span> <span class="n">omap_hwmod_class</span> <span class="n">omap2xxx_counter_hwmod_class</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>	<span class="o">=</span> <span class="s">&quot;counter&quot;</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">struct</span> <span class="n">omap_hwmod</span> <span class="n">omap2xxx_counter_32k_hwmod</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;counter_32k&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">main_clk</span>	<span class="o">=</span> <span class="s">&quot;func_32k_ck&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">prcm</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">omap2</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">module_offs</span> <span class="o">=</span> <span class="n">WKUP_MOD</span><span class="p">,</span>
			<span class="p">.</span><span class="n">prcm_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">module_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_32KSYNC_SHIFT</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_reg_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">idlest_idle_bit</span> <span class="o">=</span> <span class="n">OMAP24XX_ST_32KSYNC_SHIFT</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">class</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">omap2xxx_counter_hwmod_class</span><span class="p">,</span>
<span class="p">};</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
