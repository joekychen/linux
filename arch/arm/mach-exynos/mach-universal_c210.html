<!DOCTYPE html>
<html><head><title>joekychen/linux » arch › arm › mach-exynos › mach-universal_c210.c

</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta name="generator" content="Docco">
<link rel="stylesheet" media="all" href="../../../stylesheets/docco.min.css" />


</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead><tr><th class="docs"><a id="home" href="../../../index.html"></a><h1>mach-universal_c210.c</h1></th><th class="code"></th></tr></thead>
<tbody>


<tr id="section-1"><td class="docs"><div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div></td><td class="code"><div class="highlight"><pre><span class="cm">/* linux/arch/arm/mach-exynos4/mach-universal_c210.c</span>
<span class="cm"> *</span>
<span class="cm"> * Copyright (c) 2010 Samsung Electronics Co., Ltd.</span>
<span class="cm"> *</span>
<span class="cm"> * This program is free software; you can redistribute it and/or modify</span>
<span class="cm"> * it under the terms of the GNU General Public License version 2 as</span>
<span class="cm"> * published by the Free Software Foundation.</span>
<span class="cm">*/</span>

<span class="cp">#include &lt;linux/platform_device.h&gt;</span>
<span class="cp">#include &lt;linux/serial_core.h&gt;</span>
<span class="cp">#include &lt;linux/input.h&gt;</span>
<span class="cp">#include &lt;linux/i2c.h&gt;</span>
<span class="cp">#include &lt;linux/gpio_keys.h&gt;</span>
<span class="cp">#include &lt;linux/gpio.h&gt;</span>
<span class="cp">#include &lt;linux/interrupt.h&gt;</span>
<span class="cp">#include &lt;linux/fb.h&gt;</span>
<span class="cp">#include &lt;linux/mfd/max8998.h&gt;</span>
<span class="cp">#include &lt;linux/regulator/machine.h&gt;</span>
<span class="cp">#include &lt;linux/regulator/fixed.h&gt;</span>
<span class="cp">#include &lt;linux/regulator/max8952.h&gt;</span>
<span class="cp">#include &lt;linux/mmc/host.h&gt;</span>
<span class="cp">#include &lt;linux/i2c-gpio.h&gt;</span>
<span class="cp">#include &lt;linux/i2c/mcs.h&gt;</span>
<span class="cp">#include &lt;linux/i2c/atmel_mxt_ts.h&gt;</span>
<span class="cp">#include &lt;linux/platform_data/s3c-hsotg.h&gt;</span>
<span class="cp">#include &lt;drm/exynos_drm.h&gt;</span>

<span class="cp">#include &lt;asm/mach/arch.h&gt;</span>
<span class="cp">#include &lt;asm/hardware/gic.h&gt;</span>
<span class="cp">#include &lt;asm/mach-types.h&gt;</span>

<span class="cp">#include &lt;plat/regs-serial.h&gt;</span>
<span class="cp">#include &lt;plat/clock.h&gt;</span>
<span class="cp">#include &lt;plat/cpu.h&gt;</span>
<span class="cp">#include &lt;plat/devs.h&gt;</span>
<span class="cp">#include &lt;plat/iic.h&gt;</span>
<span class="cp">#include &lt;plat/gpio-cfg.h&gt;</span>
<span class="cp">#include &lt;plat/fb.h&gt;</span>
<span class="cp">#include &lt;plat/mfc.h&gt;</span>
<span class="cp">#include &lt;plat/sdhci.h&gt;</span>
<span class="cp">#include &lt;plat/pd.h&gt;</span>
<span class="cp">#include &lt;plat/regs-fb-v4.h&gt;</span>
<span class="cp">#include &lt;plat/fimc-core.h&gt;</span>
<span class="cp">#include &lt;plat/s5p-time.h&gt;</span>
<span class="cp">#include &lt;plat/camport.h&gt;</span>
<span class="cp">#include &lt;plat/mipi_csis.h&gt;</span>

<span class="cp">#include &lt;mach/map.h&gt;</span>

<span class="cp">#include &lt;media/v4l2-mediabus.h&gt;</span>
<span class="cp">#include &lt;media/s5p_fimc.h&gt;</span>
<span class="cp">#include &lt;media/m5mols.h&gt;</span>
<span class="cp">#include &lt;media/s5k6aa.h&gt;</span>

<span class="cp">#include &quot;common.h&quot;</span>

<span class="cm">/* Following are default values for UCON, ULCON and UFCON UART registers */</span>
<span class="cp">#define UNIVERSAL_UCON_DEFAULT	(S3C2410_UCON_TXILEVEL |	\</span>
<span class="cp">				 S3C2410_UCON_RXILEVEL |	\</span>
<span class="cp">				 S3C2410_UCON_TXIRQMODE |	\</span>
<span class="cp">				 S3C2410_UCON_RXIRQMODE |	\</span>
<span class="cp">				 S3C2410_UCON_RXFIFO_TOI |	\</span>
<span class="cp">				 S3C2443_UCON_RXERR_IRQEN)</span>

<span class="cp">#define UNIVERSAL_ULCON_DEFAULT	S3C2410_LCON_CS8</span>

<span class="cp">#define UNIVERSAL_UFCON_DEFAULT	(S3C2410_UFCON_FIFOMODE |	\</span>
<span class="cp">				 S5PV210_UFCON_TXTRIG256 |	\</span>
<span class="cp">				 S5PV210_UFCON_RXTRIG256)</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c2410_uartcfg</span> <span class="n">universal_uartcfgs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">hwport</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ucon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ulcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_ULCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ufcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UFCON_DEFAULT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">hwport</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ucon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ulcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_ULCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ufcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UFCON_DEFAULT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">hwport</span>		<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ucon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ulcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_ULCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ufcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UFCON_DEFAULT</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">hwport</span>		<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ucon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ulcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_ULCON_DEFAULT</span><span class="p">,</span>
		<span class="p">.</span><span class="n">ufcon</span>		<span class="o">=</span> <span class="n">UNIVERSAL_UFCON_DEFAULT</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">max8952_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd_arm&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">max8952_platform_data</span> <span class="n">universal_max8952_pdata</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">gpio_vid0</span>	<span class="o">=</span> <span class="n">EXYNOS4_GPX0</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
	<span class="p">.</span><span class="n">gpio_vid1</span>	<span class="o">=</span> <span class="n">EXYNOS4_GPX0</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
	<span class="p">.</span><span class="n">gpio_en</span>	<span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="cm">/* Not controllable, set &quot;Always High&quot; */</span>
	<span class="p">.</span><span class="n">default_mode</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="cm">/* vid0 = 0, vid1 = 0 */</span>
	<span class="p">.</span><span class="n">dvs_mode</span>	<span class="o">=</span> <span class="p">{</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">18</span> <span class="p">},</span> <span class="cm">/* 1.25, 1.20, 1.05, 0.95V */</span>
	<span class="p">.</span><span class="n">sync_freq</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="cm">/* default: fastest */</span>
	<span class="p">.</span><span class="n">ramp_speed</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="cm">/* default: fastest */</span>

	<span class="p">.</span><span class="n">reg_data</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VARM_1.2V&quot;</span><span class="p">,</span>
			<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">770000</span><span class="p">,</span>
			<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1400000</span><span class="p">,</span>
			<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_VOLTAGE</span><span class="p">,</span>
			<span class="p">.</span><span class="n">always_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">boot_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
		<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">max8952_consumer</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_buck1_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd_int&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_buck2_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vddg3d&quot;</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_buck3_consumer</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdet&quot;</span><span class="p">,</span> <span class="s">&quot;s5p-sdo&quot;</span><span class="p">),</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd_reg&quot;</span><span class="p">,</span> <span class="s">&quot;0-003c&quot;</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_buck1_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VINT_1.1V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">750000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1500000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_VOLTAGE</span> <span class="o">|</span>
			<span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">boot_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lp3974_buck1_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_buck2_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VG3D_1.1V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">750000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1500000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_VOLTAGE</span> <span class="o">|</span>
			<span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">boot_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">lp3974_buck2_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_buck3_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VCC_1.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">always_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">enabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lp3974_buck3_consumer</span><span class="p">),</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="n">lp3974_buck3_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_buck4_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VMEM_1.2V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo2_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VALIVE_1.2V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">always_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">enabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo3_consumer</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vusb_a&quot;</span><span class="p">,</span> <span class="s">&quot;s3c-hsotg&quot;</span><span class="p">),</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd&quot;</span><span class="p">,</span> <span class="s">&quot;exynos4-hdmi&quot;</span><span class="p">),</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd_pll&quot;</span><span class="p">,</span> <span class="s">&quot;exynos4-hdmi&quot;</span><span class="p">),</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd11&quot;</span><span class="p">,</span> <span class="s">&quot;s5p-mipi-csis.0&quot;</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo3_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VUSB+MIPI_1.1V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lp3974_ldo3_consumer</span><span class="p">),</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="n">lp3974_ldo3_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo4_consumer</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd_osc&quot;</span><span class="p">,</span> <span class="s">&quot;exynos4-hdmi&quot;</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo4_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VADC_3.3V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">3300000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">3300000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lp3974_ldo4_consumer</span><span class="p">),</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="n">lp3974_ldo4_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo5_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VTF_2.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo6_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;LDO6&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">2000000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">2000000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo7_consumer</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd18&quot;</span><span class="p">,</span> <span class="s">&quot;s5p-mipi-csis.0&quot;</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo7_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VLCD+VMIPI_1.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lp3974_ldo7_consumer</span><span class="p">),</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="n">lp3974_ldo7_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo8_consumer</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vusb_d&quot;</span><span class="p">,</span> <span class="s">&quot;s3c-hsotg&quot;</span><span class="p">),</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd33a_dac&quot;</span><span class="p">,</span> <span class="s">&quot;s5p-sdo&quot;</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo8_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VUSB+VDAC_3.3V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">3300000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">3300000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lp3974_ldo8_consumer</span><span class="p">),</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="n">lp3974_ldo8_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo9_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vddio&quot;</span><span class="p">,</span> <span class="s">&quot;0-003c&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo9_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VCC_2.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">always_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">enabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">lp3974_ldo9_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo10_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VPLL_1.1V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">boot_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo11_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;dig_28&quot;</span><span class="p">,</span> <span class="s">&quot;0-001f&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo11_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;CAM_AF_3.3V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">3300000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">3300000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">lp3974_ldo11_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo12_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;PS_2.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo13_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VHIC_1.2V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo14_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;dig_18&quot;</span><span class="p">,</span> <span class="s">&quot;0-001f&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo14_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;CAM_I_HOST_1.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">lp3974_ldo14_consumer</span><span class="p">,</span>
<span class="p">};</span>


<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo15_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;dig_12&quot;</span><span class="p">,</span> <span class="s">&quot;0-001f&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo15_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;CAM_S_DIG+FM33_CORE_1.2V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">lp3974_ldo15_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">lp3974_ldo16_consumer</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdda&quot;</span><span class="p">,</span> <span class="s">&quot;0-003c&quot;</span><span class="p">),</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;a_sensor&quot;</span><span class="p">,</span> <span class="s">&quot;0-001f&quot;</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo16_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;CAM_S_ANA_2.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lp3974_ldo16_consumer</span><span class="p">),</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="n">lp3974_ldo16_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_ldo17_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VCC_3.0V_LCD&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">3000000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">3000000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">apply_uV</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">boot_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_32khz_ap_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;32KHz AP&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">always_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">enabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_32khz_cp_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;32KHz CP&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_vichg_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VICHG&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">disabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_esafeout1_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SAFEOUT1&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">min_uV</span>		<span class="o">=</span> <span class="mi">4800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">max_uV</span>		<span class="o">=</span> <span class="mi">4800000</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">always_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">enabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">lp3974_esafeout2_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>	<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;SAFEOUT2&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">boot_on</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
		<span class="p">.</span><span class="n">state_mem</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">enabled</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">max8998_regulator_data</span> <span class="n">lp3974_regulators</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO2</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo2_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO3</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo3_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO4</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo4_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO5</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo5_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO6</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo6_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO7</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo7_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO8</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo8_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO9</span><span class="p">,</span>  <span class="o">&amp;</span><span class="n">lp3974_ldo9_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO10</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo10_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO11</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo11_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO12</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo12_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO13</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo13_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO14</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo14_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO15</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo15_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO16</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo16_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_LDO17</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_ldo17_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_BUCK1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_buck1_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_BUCK2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_buck2_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_BUCK3</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_buck3_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_BUCK4</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_buck4_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_EN32KHZ_AP</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_32khz_ap_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_EN32KHZ_CP</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_32khz_cp_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_ENVICHG</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_vichg_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_ESAFEOUT1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_esafeout1_data</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">MAX8998_ESAFEOUT2</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">lp3974_esafeout2_data</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">max8998_platform_data</span> <span class="n">universal_lp3974_pdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">num_regulators</span>		<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">lp3974_regulators</span><span class="p">),</span>
	<span class="p">.</span><span class="n">regulators</span>		<span class="o">=</span> <span class="n">lp3974_regulators</span><span class="p">,</span>
	<span class="p">.</span><span class="n">buck1_voltage1</span>		<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>	<span class="cm">/* INT */</span>
	<span class="p">.</span><span class="n">buck1_voltage2</span>		<span class="o">=</span> <span class="mi">1000000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">buck1_voltage3</span>		<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">buck1_voltage4</span>		<span class="o">=</span> <span class="mi">1000000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">buck1_set1</span>		<span class="o">=</span> <span class="n">EXYNOS4_GPX0</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>
	<span class="p">.</span><span class="n">buck1_set2</span>		<span class="o">=</span> <span class="n">EXYNOS4_GPX0</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
	<span class="p">.</span><span class="n">buck2_voltage1</span>		<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>	<span class="cm">/* G3D */</span>
	<span class="p">.</span><span class="n">buck2_voltage2</span>		<span class="o">=</span> <span class="mi">1100000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">buck1_default_idx</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">buck2_set3</span>		<span class="o">=</span> <span class="n">EXYNOS4_GPE2</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
	<span class="p">.</span><span class="n">buck2_default_idx</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">wakeup</span>			<span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
<span class="p">};</span>


<span class="k">enum</span> <span class="n">fixed_regulator_id</span> <span class="p">{</span>
	<span class="n">FIXED_REG_ID_MMC0</span><span class="p">,</span>
	<span class="n">FIXED_REG_ID_HDMI_5V</span><span class="p">,</span>
	<span class="n">FIXED_REG_ID_CAM_S_IF</span><span class="p">,</span>
	<span class="n">FIXED_REG_ID_CAM_I_CORE</span><span class="p">,</span>
	<span class="n">FIXED_REG_ID_CAM_VT_DIO</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">hdmi_fixed_consumer</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;hdmi-en&quot;</span><span class="p">,</span> <span class="s">&quot;exynos4-hdmi&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">hdmi_fixed_voltage_init_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;HDMI_5V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">hdmi_fixed_consumer</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">fixed_voltage_config</span> <span class="n">hdmi_fixed_voltage_config</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">supply_name</span>		<span class="o">=</span> <span class="s">&quot;HDMI_EN1&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">microvolts</span>		<span class="o">=</span> <span class="mi">5000000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio</span>			<span class="o">=</span> <span class="n">EXYNOS4_GPE0</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
	<span class="p">.</span><span class="n">enable_high</span>		<span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_data</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">hdmi_fixed_voltage_init_data</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">hdmi_fixed_voltage</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>			<span class="o">=</span> <span class="s">&quot;reg-fixed-voltage&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">id</span>			<span class="o">=</span> <span class="n">FIXED_REG_ID_HDMI_5V</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span>			<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">hdmi_fixed_voltage_config</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* GPIO I2C 5 (PMIC) */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">i2c_board_info</span> <span class="n">i2c5_devs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="n">I2C_BOARD_INFO</span><span class="p">(</span><span class="s">&quot;max8952&quot;</span><span class="p">,</span> <span class="mh">0xC0</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">),</span>
		<span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">universal_max8952_pdata</span><span class="p">,</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="n">I2C_BOARD_INFO</span><span class="p">(</span><span class="s">&quot;lp3974&quot;</span><span class="p">,</span> <span class="mh">0xCC</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">),</span>
		<span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">universal_lp3974_pdata</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* I2C3 (TSP) */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">mxt_platform_data</span> <span class="n">qt602240_platform_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">x_line</span>		<span class="o">=</span> <span class="mi">19</span><span class="p">,</span>
	<span class="p">.</span><span class="n">y_line</span>		<span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
	<span class="p">.</span><span class="n">x_size</span>		<span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
	<span class="p">.</span><span class="n">y_size</span>		<span class="o">=</span> <span class="mi">480</span><span class="p">,</span>
	<span class="p">.</span><span class="n">blen</span>		<span class="o">=</span> <span class="mh">0x11</span><span class="p">,</span>
	<span class="p">.</span><span class="n">threshold</span>	<span class="o">=</span> <span class="mh">0x28</span><span class="p">,</span>
	<span class="p">.</span><span class="n">voltage</span>	<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>		<span class="cm">/* 2.8V */</span>
	<span class="p">.</span><span class="n">orient</span>		<span class="o">=</span> <span class="n">MXT_DIAGONAL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">irqflags</span>	<span class="o">=</span> <span class="n">IRQF_TRIGGER_FALLING</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">i2c_board_info</span> <span class="n">i2c3_devs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="n">I2C_BOARD_INFO</span><span class="p">(</span><span class="s">&quot;qt602240_ts&quot;</span><span class="p">,</span> <span class="mh">0x4a</span><span class="p">),</span>
		<span class="p">.</span><span class="n">platform_data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">qt602240_platform_data</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">universal_tsp_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">gpio</span><span class="p">;</span>

	<span class="cm">/* TSP_LDO_ON: XMDMADDR_11 */</span>
	<span class="n">gpio</span> <span class="o">=</span> <span class="n">EXYNOS4_GPE2</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
	<span class="n">gpio_request_one</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="n">GPIOF_OUT_INIT_HIGH</span><span class="p">,</span> <span class="s">&quot;TSP_LDO_ON&quot;</span><span class="p">);</span>
	<span class="n">gpio_export</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

	<span class="cm">/* TSP_INT: XMDMADDR_7 */</span>
	<span class="n">gpio</span> <span class="o">=</span> <span class="n">EXYNOS4_GPE1</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
	<span class="n">gpio_request</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="s">&quot;TSP_INT&quot;</span><span class="p">);</span>

	<span class="n">s5p_register_gpio_interrupt</span><span class="p">(</span><span class="n">gpio</span><span class="p">);</span>
	<span class="n">s3c_gpio_cfgpin</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="n">S3C_GPIO_SFN</span><span class="p">(</span><span class="mh">0xf</span><span class="p">));</span>
	<span class="n">s3c_gpio_setpull</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="n">S3C_GPIO_PULL_UP</span><span class="p">);</span>
	<span class="n">i2c3_devs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">irq</span> <span class="o">=</span> <span class="n">gpio_to_irq</span><span class="p">(</span><span class="n">gpio</span><span class="p">);</span>
<span class="p">}</span>


<span class="cm">/* GPIO I2C 12 (3 Touchkey) */</span>
<span class="k">static</span> <span class="kt">uint32_t</span> <span class="n">touchkey_keymap</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* MCS_KEY_MAP(value, keycode) */</span>
	<span class="n">MCS_KEY_MAP</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">KEY_MENU</span><span class="p">),</span>		<span class="cm">/* KEY_SEND */</span>
	<span class="n">MCS_KEY_MAP</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">KEY_BACK</span><span class="p">),</span>		<span class="cm">/* KEY_END */</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">mcs_platform_data</span> <span class="n">touchkey_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">keymap</span>		<span class="o">=</span> <span class="n">touchkey_keymap</span><span class="p">,</span>
	<span class="p">.</span><span class="n">keymap_size</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">touchkey_keymap</span><span class="p">),</span>
	<span class="p">.</span><span class="n">key_maxval</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* GPIO I2C 3_TOUCH 2.8V */</span>
<span class="cp">#define I2C_GPIO_BUS_12		12</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">i2c_gpio_platform_data</span> <span class="n">i2c_gpio12_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">sda_pin</span>	<span class="o">=</span> <span class="n">EXYNOS4_GPE4</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>	<span class="cm">/* XMDMDATA_8 */</span>
	<span class="p">.</span><span class="n">scl_pin</span>	<span class="o">=</span> <span class="n">EXYNOS4_GPE4</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>	<span class="cm">/* XMDMDATA_9 */</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">i2c_gpio12</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;i2c-gpio&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">id</span>		<span class="o">=</span> <span class="n">I2C_GPIO_BUS_12</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">i2c_gpio12_data</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">i2c_board_info</span> <span class="n">i2c_gpio12_devs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="n">I2C_BOARD_INFO</span><span class="p">(</span><span class="s">&quot;mcs5080_touchkey&quot;</span><span class="p">,</span> <span class="mh">0x20</span><span class="p">),</span>
		<span class="p">.</span><span class="n">platform_data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">touchkey_data</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">universal_touchkey_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">gpio</span><span class="p">;</span>

	<span class="n">gpio</span> <span class="o">=</span> <span class="n">EXYNOS4_GPE3</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>			<span class="cm">/* XMDMDATA_7 */</span>
	<span class="n">gpio_request</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="s">&quot;3_TOUCH_INT&quot;</span><span class="p">);</span>
	<span class="n">s5p_register_gpio_interrupt</span><span class="p">(</span><span class="n">gpio</span><span class="p">);</span>
	<span class="n">s3c_gpio_cfgpin</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="n">S3C_GPIO_SFN</span><span class="p">(</span><span class="mh">0xf</span><span class="p">));</span>
	<span class="n">i2c_gpio12_devs</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">irq</span> <span class="o">=</span> <span class="n">gpio_to_irq</span><span class="p">(</span><span class="n">gpio</span><span class="p">);</span>

	<span class="n">gpio</span> <span class="o">=</span> <span class="n">EXYNOS4_GPE3</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>			<span class="cm">/* XMDMDATA_3 */</span>
	<span class="n">gpio_request_one</span><span class="p">(</span><span class="n">gpio</span><span class="p">,</span> <span class="n">GPIOF_OUT_INIT_HIGH</span><span class="p">,</span> <span class="s">&quot;3_TOUCH_EN&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c2410_platform_i2c</span> <span class="n">universal_i2c0_platdata</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">frequency</span>	<span class="o">=</span> <span class="mi">300</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">sda_delay</span>	<span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* GPIO KEYS */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">gpio_keys_button</span> <span class="n">universal_gpio_keys_tables</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">code</span>			<span class="o">=</span> <span class="n">KEY_VOLUMEUP</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio</span>			<span class="o">=</span> <span class="n">EXYNOS4_GPX2</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>	<span class="cm">/* XEINT16 */</span>
		<span class="p">.</span><span class="n">desc</span>			<span class="o">=</span> <span class="s">&quot;gpio-keys: KEY_VOLUMEUP&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>			<span class="o">=</span> <span class="n">EV_KEY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">active_low</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">debounce_interval</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">code</span>			<span class="o">=</span> <span class="n">KEY_VOLUMEDOWN</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio</span>			<span class="o">=</span> <span class="n">EXYNOS4_GPX2</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>	<span class="cm">/* XEINT17 */</span>
		<span class="p">.</span><span class="n">desc</span>			<span class="o">=</span> <span class="s">&quot;gpio-keys: KEY_VOLUMEDOWN&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>			<span class="o">=</span> <span class="n">EV_KEY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">active_low</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">debounce_interval</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">code</span>			<span class="o">=</span> <span class="n">KEY_CONFIG</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio</span>			<span class="o">=</span> <span class="n">EXYNOS4_GPX2</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>	<span class="cm">/* XEINT18 */</span>
		<span class="p">.</span><span class="n">desc</span>			<span class="o">=</span> <span class="s">&quot;gpio-keys: KEY_CONFIG&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>			<span class="o">=</span> <span class="n">EV_KEY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">active_low</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">debounce_interval</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">code</span>			<span class="o">=</span> <span class="n">KEY_CAMERA</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio</span>			<span class="o">=</span> <span class="n">EXYNOS4_GPX2</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>	<span class="cm">/* XEINT19 */</span>
		<span class="p">.</span><span class="n">desc</span>			<span class="o">=</span> <span class="s">&quot;gpio-keys: KEY_CAMERA&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>			<span class="o">=</span> <span class="n">EV_KEY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">active_low</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">debounce_interval</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">code</span>			<span class="o">=</span> <span class="n">KEY_OK</span><span class="p">,</span>
		<span class="p">.</span><span class="n">gpio</span>			<span class="o">=</span> <span class="n">EXYNOS4_GPX3</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span>	<span class="cm">/* XEINT29 */</span>
		<span class="p">.</span><span class="n">desc</span>			<span class="o">=</span> <span class="s">&quot;gpio-keys: KEY_OK&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">type</span>			<span class="o">=</span> <span class="n">EV_KEY</span><span class="p">,</span>
		<span class="p">.</span><span class="n">active_low</span>		<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
		<span class="p">.</span><span class="n">debounce_interval</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">gpio_keys_platform_data</span> <span class="n">universal_gpio_keys_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">buttons</span>	<span class="o">=</span> <span class="n">universal_gpio_keys_tables</span><span class="p">,</span>
	<span class="p">.</span><span class="n">nbuttons</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">universal_gpio_keys_tables</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">universal_gpio_keys</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>			<span class="o">=</span> <span class="s">&quot;gpio-keys&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span>			<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">universal_gpio_keys_data</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* eMMC */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c_sdhci_platdata</span> <span class="n">universal_hsmmc0_data</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">max_width</span>		<span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
	<span class="p">.</span><span class="n">host_caps</span>		<span class="o">=</span> <span class="p">(</span><span class="n">MMC_CAP_8_BIT_DATA</span> <span class="o">|</span> <span class="n">MMC_CAP_4_BIT_DATA</span> <span class="o">|</span>
				<span class="n">MMC_CAP_MMC_HIGHSPEED</span> <span class="o">|</span> <span class="n">MMC_CAP_SD_HIGHSPEED</span><span class="p">),</span>
	<span class="p">.</span><span class="n">host_caps2</span>		<span class="o">=</span> <span class="n">MMC_CAP2_BROKEN_VOLTAGE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cd_type</span>		<span class="o">=</span> <span class="n">S3C_SDHCI_CD_PERMANENT</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">mmc0_supplies</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vmmc&quot;</span><span class="p">,</span> <span class="s">&quot;exynos4-sdhci.0&quot;</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">mmc0_fixed_voltage_init_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span>		<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">name</span>		<span class="o">=</span> <span class="s">&quot;VMEM_VDD_2.8V&quot;</span><span class="p">,</span>
		<span class="p">.</span><span class="n">valid_ops_mask</span>	<span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span><span class="p">,</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">mmc0_supplies</span><span class="p">),</span>
	<span class="p">.</span><span class="n">consumer_supplies</span>	<span class="o">=</span> <span class="n">mmc0_supplies</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">fixed_voltage_config</span> <span class="n">mmc0_fixed_voltage_config</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">supply_name</span>		<span class="o">=</span> <span class="s">&quot;MASSMEMORY_EN&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">microvolts</span>		<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio</span>			<span class="o">=</span> <span class="n">EXYNOS4_GPE1</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
	<span class="p">.</span><span class="n">enable_high</span>		<span class="o">=</span> <span class="nb">true</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_data</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">mmc0_fixed_voltage_init_data</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">mmc0_fixed_voltage</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span>			<span class="o">=</span> <span class="s">&quot;reg-fixed-voltage&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">id</span>			<span class="o">=</span> <span class="n">FIXED_REG_ID_MMC0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span>			<span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">mmc0_fixed_voltage_config</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* SD */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c_sdhci_platdata</span> <span class="n">universal_hsmmc2_data</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">max_width</span>		<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">host_caps</span>		<span class="o">=</span> <span class="n">MMC_CAP_4_BIT_DATA</span> <span class="o">|</span>
				<span class="n">MMC_CAP_MMC_HIGHSPEED</span> <span class="o">|</span> <span class="n">MMC_CAP_SD_HIGHSPEED</span><span class="p">,</span>
	<span class="p">.</span><span class="n">ext_cd_gpio</span>		<span class="o">=</span> <span class="n">EXYNOS4_GPX3</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>      <span class="cm">/* XEINT_28 */</span>
	<span class="p">.</span><span class="n">ext_cd_gpio_invert</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cd_type</span>		<span class="o">=</span> <span class="n">S3C_SDHCI_CD_GPIO</span><span class="p">,</span>
<span class="p">};</span>

<span class="cm">/* WiFi */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c_sdhci_platdata</span> <span class="n">universal_hsmmc3_data</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">max_width</span>		<span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
	<span class="p">.</span><span class="n">host_caps</span>		<span class="o">=</span> <span class="n">MMC_CAP_4_BIT_DATA</span> <span class="o">|</span>
				<span class="n">MMC_CAP_MMC_HIGHSPEED</span> <span class="o">|</span> <span class="n">MMC_CAP_SD_HIGHSPEED</span><span class="p">,</span>
	<span class="p">.</span><span class="n">cd_type</span>		<span class="o">=</span> <span class="n">S3C_SDHCI_CD_EXTERNAL</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">universal_sdhci_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">s3c_sdhci0_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">universal_hsmmc0_data</span><span class="p">);</span>
	<span class="n">s3c_sdhci2_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">universal_hsmmc2_data</span><span class="p">);</span>
	<span class="n">s3c_sdhci3_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">universal_hsmmc3_data</span><span class="p">);</span>
<span class="p">}</span>

<span class="cm">/* I2C1 */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">i2c_board_info</span> <span class="n">i2c1_devs</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* Gyro, To be updated */</span>
<span class="p">};</span>

<span class="cp">#ifdef CONFIG_DRM_EXYNOS</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">exynos_drm_fimd_pdata</span> <span class="n">drm_fimd_pdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">panel</span> <span class="o">=</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">timing</span>	<span class="o">=</span> <span class="p">{</span>
			<span class="p">.</span><span class="n">left_margin</span>	<span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
			<span class="p">.</span><span class="n">right_margin</span>	<span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
			<span class="p">.</span><span class="n">upper_margin</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">lower_margin</span>	<span class="o">=</span> <span class="mi">28</span><span class="p">,</span>
			<span class="p">.</span><span class="n">hsync_len</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
			<span class="p">.</span><span class="n">vsync_len</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
			<span class="p">.</span><span class="n">xres</span>		<span class="o">=</span> <span class="mi">480</span><span class="p">,</span>
			<span class="p">.</span><span class="n">yres</span>		<span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
			<span class="p">.</span><span class="n">refresh</span>	<span class="o">=</span> <span class="mi">55</span><span class="p">,</span>
		<span class="p">},</span>
	<span class="p">},</span>
	<span class="p">.</span><span class="n">vidcon0</span>	<span class="o">=</span> <span class="n">VIDCON0_VIDOUT_RGB</span> <span class="o">|</span> <span class="n">VIDCON0_PNRMODE_RGB</span> <span class="o">|</span>
			  <span class="n">VIDCON0_CLKSEL_LCD</span><span class="p">,</span>
	<span class="p">.</span><span class="n">vidcon1</span>	<span class="o">=</span> <span class="n">VIDCON1_INV_VCLK</span> <span class="o">|</span> <span class="n">VIDCON1_INV_VDEN</span>
			  <span class="o">|</span> <span class="n">VIDCON1_INV_HSYNC</span> <span class="o">|</span> <span class="n">VIDCON1_INV_VSYNC</span><span class="p">,</span>
	<span class="p">.</span><span class="n">default_win</span>	<span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
	<span class="p">.</span><span class="n">bpp</span>		<span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#else</span>
<span class="cm">/* Frame Buffer */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c_fb_pd_win</span> <span class="n">universal_fb_win0</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">max_bpp</span>	<span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="p">.</span><span class="n">default_bpp</span>	<span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="p">.</span><span class="n">xres</span>		<span class="o">=</span> <span class="mi">480</span><span class="p">,</span>
	<span class="p">.</span><span class="n">yres</span>		<span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
	<span class="p">.</span><span class="n">virtual_x</span>	<span class="o">=</span> <span class="mi">480</span><span class="p">,</span>
	<span class="p">.</span><span class="n">virtual_y</span>	<span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">800</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">fb_videomode</span> <span class="n">universal_lcd_timing</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">left_margin</span>	<span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="p">.</span><span class="n">right_margin</span>	<span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
	<span class="p">.</span><span class="n">upper_margin</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lower_margin</span>	<span class="o">=</span> <span class="mi">28</span><span class="p">,</span>
	<span class="p">.</span><span class="n">hsync_len</span>	<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">vsync_len</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">xres</span>		<span class="o">=</span> <span class="mi">480</span><span class="p">,</span>
	<span class="p">.</span><span class="n">yres</span>		<span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
	<span class="p">.</span><span class="n">refresh</span>	<span class="o">=</span> <span class="mi">55</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c_fb_platdata</span> <span class="n">universal_lcd_pdata</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">win</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">universal_fb_win0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">vtiming</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">universal_lcd_timing</span><span class="p">,</span>
	<span class="p">.</span><span class="n">vidcon0</span>	<span class="o">=</span> <span class="n">VIDCON0_VIDOUT_RGB</span> <span class="o">|</span> <span class="n">VIDCON0_PNRMODE_RGB</span> <span class="o">|</span>
			  <span class="n">VIDCON0_CLKSEL_LCD</span><span class="p">,</span>
	<span class="p">.</span><span class="n">vidcon1</span>	<span class="o">=</span> <span class="n">VIDCON1_INV_VCLK</span> <span class="o">|</span> <span class="n">VIDCON1_INV_VDEN</span>
			  <span class="o">|</span> <span class="n">VIDCON1_INV_HSYNC</span> <span class="o">|</span> <span class="n">VIDCON1_INV_VSYNC</span><span class="p">,</span>
	<span class="p">.</span><span class="n">setup_gpio</span>	<span class="o">=</span> <span class="n">exynos4_fimd0_gpio_setup_24bpp</span><span class="p">,</span>
<span class="p">};</span>
<span class="cp">#endif</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">cam_vt_dio_supply</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;vdd_core&quot;</span><span class="p">,</span> <span class="s">&quot;0-003c&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">cam_vt_dio_reg_init_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">valid_ops_mask</span> <span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span> <span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_vt_dio_supply</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">fixed_voltage_config</span> <span class="n">cam_vt_dio_fixed_voltage_cfg</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">supply_name</span>	<span class="o">=</span> <span class="s">&quot;CAM_VT_D_IO&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">microvolts</span>	<span class="o">=</span> <span class="mi">2800000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio</span>		<span class="o">=</span> <span class="n">EXYNOS4_GPE2</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="cm">/* CAM_PWR_EN2 */</span>
	<span class="p">.</span><span class="n">enable_high</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_vt_dio_reg_init_data</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">cam_vt_dio_fixed_reg_dev</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;reg-fixed-voltage&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">FIXED_REG_ID_CAM_VT_DIO</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_vt_dio_fixed_voltage_cfg</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">cam_i_core_supply</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;core&quot;</span><span class="p">,</span> <span class="s">&quot;0-001f&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">cam_i_core_reg_init_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">valid_ops_mask</span> <span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span> <span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_i_core_supply</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">fixed_voltage_config</span> <span class="n">cam_i_core_fixed_voltage_cfg</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">supply_name</span>	<span class="o">=</span> <span class="s">&quot;CAM_I_CORE_1.2V&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">microvolts</span>	<span class="o">=</span> <span class="mi">1200000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio</span>		<span class="o">=</span> <span class="n">EXYNOS4_GPE2</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>	<span class="cm">/* CAM_8M_CORE_EN */</span>
	<span class="p">.</span><span class="n">enable_high</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_i_core_reg_init_data</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">cam_i_core_fixed_reg_dev</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;reg-fixed-voltage&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">FIXED_REG_ID_CAM_I_CORE</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_i_core_fixed_voltage_cfg</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_consumer_supply</span> <span class="n">cam_s_if_supply</span> <span class="o">=</span>
	<span class="n">REGULATOR_SUPPLY</span><span class="p">(</span><span class="s">&quot;d_sensor&quot;</span><span class="p">,</span> <span class="s">&quot;0-001f&quot;</span><span class="p">);</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">regulator_init_data</span> <span class="n">cam_s_if_reg_init_data</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">constraints</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">valid_ops_mask</span> <span class="o">=</span> <span class="n">REGULATOR_CHANGE_STATUS</span> <span class="p">},</span>
	<span class="p">.</span><span class="n">num_consumer_supplies</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">consumer_supplies</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_s_if_supply</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">fixed_voltage_config</span> <span class="n">cam_s_if_fixed_voltage_cfg</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">supply_name</span>	<span class="o">=</span> <span class="s">&quot;CAM_S_IF_1.8V&quot;</span><span class="p">,</span>
	<span class="p">.</span><span class="n">microvolts</span>	<span class="o">=</span> <span class="mi">1800000</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio</span>		<span class="o">=</span> <span class="n">EXYNOS4_GPE3</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>	<span class="cm">/* CAM_PWR_EN1 */</span>
	<span class="p">.</span><span class="n">enable_high</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_s_if_reg_init_data</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="n">cam_s_if_fixed_reg_dev</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;reg-fixed-voltage&quot;</span><span class="p">,</span> <span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">FIXED_REG_ID_CAM_S_IF</span><span class="p">,</span>
	<span class="p">.</span><span class="n">dev</span> <span class="o">=</span> <span class="p">{</span> <span class="p">.</span><span class="n">platform_data</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">cam_s_if_fixed_voltage_cfg</span> <span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">s5p_platform_mipi_csis</span> <span class="n">mipi_csis_platdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">clk_rate</span>	<span class="o">=</span> <span class="mi">166000000UL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">lanes</span>		<span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
	<span class="p">.</span><span class="n">alignment</span>	<span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="p">.</span><span class="n">hs_settle</span>	<span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
	<span class="p">.</span><span class="n">phy_enable</span>	<span class="o">=</span> <span class="n">s5p_csis_phy_enable</span><span class="p">,</span>
<span class="p">};</span>

<span class="cp">#define GPIO_CAM_LEVEL_EN(n)	EXYNOS4_GPE4(n + 3)</span>
<span class="cp">#define GPIO_CAM_8M_ISP_INT	EXYNOS4_GPX1(5)	</span><span class="cm">/* XEINT_13 */</span><span class="cp"></span>
<span class="cp">#define GPIO_CAM_MEGA_nRST	EXYNOS4_GPE2(5)</span>
<span class="cp">#define GPIO_CAM_VGA_NRST	EXYNOS4_GPE4(7)</span>
<span class="cp">#define GPIO_CAM_VGA_NSTBY	EXYNOS4_GPE4(6)</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">s5k6aa_set_power</span><span class="p">(</span><span class="kt">int</span> <span class="n">on</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">gpio_set_value</span><span class="p">(</span><span class="n">GPIO_CAM_LEVEL_EN</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="o">!!</span><span class="n">on</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">s5k6aa_platform_data</span> <span class="n">s5k6aa_platdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">mclk_frequency</span>	<span class="o">=</span> <span class="mi">21600000UL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">gpio_reset</span>	<span class="o">=</span> <span class="p">{</span> <span class="n">GPIO_CAM_VGA_NRST</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
	<span class="p">.</span><span class="n">gpio_stby</span>	<span class="o">=</span> <span class="p">{</span> <span class="n">GPIO_CAM_VGA_NSTBY</span><span class="p">,</span> <span class="mi">0</span> <span class="p">},</span>
	<span class="p">.</span><span class="n">bus_type</span>	<span class="o">=</span> <span class="n">V4L2_MBUS_PARALLEL</span><span class="p">,</span>
	<span class="p">.</span><span class="n">horiz_flip</span>	<span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_power</span>	<span class="o">=</span> <span class="n">s5k6aa_set_power</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">i2c_board_info</span> <span class="n">s5k6aa_board_info</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">I2C_BOARD_INFO</span><span class="p">(</span><span class="s">&quot;S5K6AA&quot;</span><span class="p">,</span> <span class="mh">0x3C</span><span class="p">),</span>
	<span class="p">.</span><span class="n">platform_data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">s5k6aa_platdata</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">int</span> <span class="nf">m5mols_set_power</span><span class="p">(</span><span class="k">struct</span> <span class="n">device</span> <span class="o">*</span><span class="n">dev</span><span class="p">,</span> <span class="kt">int</span> <span class="n">on</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">gpio_set_value</span><span class="p">(</span><span class="n">GPIO_CAM_LEVEL_EN</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="o">!</span><span class="n">on</span><span class="p">);</span>
	<span class="n">gpio_set_value</span><span class="p">(</span><span class="n">GPIO_CAM_LEVEL_EN</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="o">!!</span><span class="n">on</span><span class="p">);</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">m5mols_platform_data</span> <span class="n">m5mols_platdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">gpio_reset</span>	<span class="o">=</span> <span class="n">GPIO_CAM_MEGA_nRST</span><span class="p">,</span>
	<span class="p">.</span><span class="n">reset_polarity</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
	<span class="p">.</span><span class="n">set_power</span>	<span class="o">=</span> <span class="n">m5mols_set_power</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">i2c_board_info</span> <span class="n">m5mols_board_info</span> <span class="o">=</span> <span class="p">{</span>
	<span class="n">I2C_BOARD_INFO</span><span class="p">(</span><span class="s">&quot;M5MOLS&quot;</span><span class="p">,</span> <span class="mh">0x1F</span><span class="p">),</span>
	<span class="p">.</span><span class="n">platform_data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">m5mols_platdata</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">s5p_fimc_isp_info</span> <span class="n">universal_camera_sensors</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span>
		<span class="p">.</span><span class="n">mux_id</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">V4L2_MBUS_PCLK_SAMPLE_FALLING</span> <span class="o">|</span>
				  <span class="n">V4L2_MBUS_VSYNC_ACTIVE_LOW</span><span class="p">,</span>
		<span class="p">.</span><span class="n">bus_type</span>	<span class="o">=</span> <span class="n">FIMC_ITU_601</span><span class="p">,</span>
		<span class="p">.</span><span class="n">board_info</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">s5k6aa_board_info</span><span class="p">,</span>
		<span class="p">.</span><span class="n">i2c_bus_num</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">clk_frequency</span>	<span class="o">=</span> <span class="mi">24000000UL</span><span class="p">,</span>
	<span class="p">},</span> <span class="p">{</span>
		<span class="p">.</span><span class="n">mux_id</span>		<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">flags</span>		<span class="o">=</span> <span class="n">V4L2_MBUS_PCLK_SAMPLE_FALLING</span> <span class="o">|</span>
				  <span class="n">V4L2_MBUS_VSYNC_ACTIVE_LOW</span><span class="p">,</span>
		<span class="p">.</span><span class="n">bus_type</span>	<span class="o">=</span> <span class="n">FIMC_MIPI_CSI2</span><span class="p">,</span>
		<span class="p">.</span><span class="n">board_info</span>	<span class="o">=</span> <span class="o">&amp;</span><span class="n">m5mols_board_info</span><span class="p">,</span>
		<span class="p">.</span><span class="n">i2c_bus_num</span>	<span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="p">.</span><span class="n">clk_frequency</span>	<span class="o">=</span> <span class="mi">24000000UL</span><span class="p">,</span>
		<span class="p">.</span><span class="n">csi_data_align</span>	<span class="o">=</span> <span class="mi">32</span><span class="p">,</span>
	<span class="p">},</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">s5p_platform_fimc</span> <span class="n">fimc_md_platdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">.</span><span class="n">isp_info</span>	<span class="o">=</span> <span class="n">universal_camera_sensors</span><span class="p">,</span>
	<span class="p">.</span><span class="n">num_clients</span>	<span class="o">=</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">universal_camera_sensors</span><span class="p">),</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">gpio</span> <span class="n">universal_camera_gpios</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
	<span class="p">{</span> <span class="n">GPIO_CAM_LEVEL_EN</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>	<span class="n">GPIOF_OUT_INIT_HIGH</span><span class="p">,</span> <span class="s">&quot;CAM_LVL_EN1&quot;</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">GPIO_CAM_LEVEL_EN</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>	<span class="n">GPIOF_OUT_INIT_LOW</span><span class="p">,</span>  <span class="s">&quot;CAM_LVL_EN2&quot;</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">GPIO_CAM_8M_ISP_INT</span><span class="p">,</span>	<span class="n">GPIOF_IN</span><span class="p">,</span>            <span class="s">&quot;8M_ISP_INT&quot;</span>  <span class="p">},</span>
	<span class="p">{</span> <span class="n">GPIO_CAM_MEGA_nRST</span><span class="p">,</span>	<span class="n">GPIOF_OUT_INIT_LOW</span><span class="p">,</span>  <span class="s">&quot;CAM_8M_NRST&quot;</span> <span class="p">},</span>
	<span class="p">{</span> <span class="n">GPIO_CAM_VGA_NRST</span><span class="p">,</span>	<span class="n">GPIOF_OUT_INIT_LOW</span><span class="p">,</span>  <span class="s">&quot;CAM_VGA_NRST&quot;</span>  <span class="p">},</span>
	<span class="p">{</span> <span class="n">GPIO_CAM_VGA_NSTBY</span><span class="p">,</span>	<span class="n">GPIOF_OUT_INIT_LOW</span><span class="p">,</span>  <span class="s">&quot;CAM_VGA_NSTBY&quot;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="cm">/* USB OTG */</span>
<span class="k">static</span> <span class="k">struct</span> <span class="n">s3c_hsotg_plat</span> <span class="n">universal_hsotg_pdata</span><span class="p">;</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">universal_camera_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">s3c_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mipi_csis_platdata</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">mipi_csis_platdata</span><span class="p">),</span>
			 <span class="o">&amp;</span><span class="n">s5p_device_mipi_csis0</span><span class="p">);</span>
	<span class="n">s3c_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">fimc_md_platdata</span><span class="p">,</span>  <span class="k">sizeof</span><span class="p">(</span><span class="n">fimc_md_platdata</span><span class="p">),</span>
			 <span class="o">&amp;</span><span class="n">s5p_device_fimc_md</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">gpio_request_array</span><span class="p">(</span><span class="n">universal_camera_gpios</span><span class="p">,</span>
			       <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">universal_camera_gpios</span><span class="p">)))</span> <span class="p">{</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;%s: GPIO request failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">__func__</span><span class="p">);</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">s3c_gpio_cfgpin</span><span class="p">(</span><span class="n">GPIO_CAM_8M_ISP_INT</span><span class="p">,</span> <span class="n">S3C_GPIO_SFN</span><span class="p">(</span><span class="mh">0xf</span><span class="p">)))</span>
		<span class="n">m5mols_board_info</span><span class="p">.</span><span class="n">irq</span> <span class="o">=</span> <span class="n">gpio_to_irq</span><span class="p">(</span><span class="n">GPIO_CAM_8M_ISP_INT</span><span class="p">);</span>
	<span class="k">else</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;Failed to configure 8M_ISP_INT GPIO</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

	<span class="cm">/* Free GPIOs controlled directly by the sensor drivers. */</span>
	<span class="n">gpio_free</span><span class="p">(</span><span class="n">GPIO_CAM_MEGA_nRST</span><span class="p">);</span>
	<span class="n">gpio_free</span><span class="p">(</span><span class="n">GPIO_CAM_8M_ISP_INT</span><span class="p">);</span>
	<span class="n">gpio_free</span><span class="p">(</span><span class="n">GPIO_CAM_VGA_NRST</span><span class="p">);</span>
	<span class="n">gpio_free</span><span class="p">(</span><span class="n">GPIO_CAM_VGA_NSTBY</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="n">exynos4_fimc_setup_gpio</span><span class="p">(</span><span class="n">S5P_CAMPORT_A</span><span class="p">))</span>
		<span class="n">pr_err</span><span class="p">(</span><span class="s">&quot;Camera port A setup failed</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="k">struct</span> <span class="n">platform_device</span> <span class="o">*</span><span class="n">universal_devices</span><span class="p">[]</span> <span class="n">__initdata</span> <span class="o">=</span> <span class="p">{</span>
	<span class="cm">/* Samsung Platform Devices */</span>
	<span class="o">&amp;</span><span class="n">s5p_device_mipi_csis0</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_fimc0</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_fimc1</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_fimc2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_fimc3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_g2d</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">mmc0_fixed_voltage</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s3c_device_hsmmc0</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s3c_device_hsmmc2</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s3c_device_hsmmc3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s3c_device_i2c0</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s3c_device_i2c3</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s3c_device_i2c5</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_i2c_hdmiphy</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">hdmi_fixed_voltage</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_hdmi</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_sdo</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_mixer</span><span class="p">,</span>

	<span class="cm">/* Universal Devices */</span>
	<span class="o">&amp;</span><span class="n">i2c_gpio12</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">universal_gpio_keys</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_onenand</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_fimd0</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_jpeg</span><span class="p">,</span>
<span class="cp">#ifdef CONFIG_DRM_EXYNOS</span>
	<span class="o">&amp;</span><span class="n">exynos_device_drm</span><span class="p">,</span>
<span class="cp">#endif</span>
	<span class="o">&amp;</span><span class="n">s3c_device_usb_hsotg</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_mfc</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_mfc_l</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_mfc_r</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">cam_vt_dio_fixed_reg_dev</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">cam_i_core_fixed_reg_dev</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">cam_s_if_fixed_reg_dev</span><span class="p">,</span>
	<span class="o">&amp;</span><span class="n">s5p_device_fimc_md</span><span class="p">,</span>
<span class="p">};</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">universal_map_io</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">clk_xusbxti</span><span class="p">.</span><span class="n">rate</span> <span class="o">=</span> <span class="mi">24000000</span><span class="p">;</span>
	<span class="n">exynos_init_io</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">s3c24xx_init_clocks</span><span class="p">(</span><span class="mi">24000000</span><span class="p">);</span>
	<span class="n">s3c24xx_init_uarts</span><span class="p">(</span><span class="n">universal_uartcfgs</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">universal_uartcfgs</span><span class="p">));</span>
	<span class="n">s5p_set_timer_source</span><span class="p">(</span><span class="n">S5P_PWM2</span><span class="p">,</span> <span class="n">S5P_PWM4</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="nf">s5p_tv_setup</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="cm">/* direct HPD to HDMI chip */</span>
	<span class="n">gpio_request_one</span><span class="p">(</span><span class="n">EXYNOS4_GPX3</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">GPIOF_IN</span><span class="p">,</span> <span class="s">&quot;hpd-plug&quot;</span><span class="p">);</span>
	<span class="n">s3c_gpio_cfgpin</span><span class="p">(</span><span class="n">EXYNOS4_GPX3</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">S3C_GPIO_SFN</span><span class="p">(</span><span class="mh">0x3</span><span class="p">));</span>
	<span class="n">s3c_gpio_setpull</span><span class="p">(</span><span class="n">EXYNOS4_GPX3</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n">S3C_GPIO_PULL_NONE</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">universal_reserve</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">s5p_mfc_reserve_mem</span><span class="p">(</span><span class="mh">0x43000000</span><span class="p">,</span> <span class="mi">8</span> <span class="o">&lt;&lt;</span> <span class="mi">20</span><span class="p">,</span> <span class="mh">0x51000000</span><span class="p">,</span> <span class="mi">8</span> <span class="o">&lt;&lt;</span> <span class="mi">20</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span> <span class="kt">void</span> <span class="n">__init</span> <span class="nf">universal_machine_init</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">universal_sdhci_init</span><span class="p">();</span>
	<span class="n">s5p_tv_setup</span><span class="p">();</span>

	<span class="n">s3c_i2c0_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">universal_i2c0_platdata</span><span class="p">);</span>
	<span class="n">i2c_register_board_info</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i2c1_devs</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2c1_devs</span><span class="p">));</span>

	<span class="n">universal_tsp_init</span><span class="p">();</span>
	<span class="n">s3c_i2c3_set_platdata</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
	<span class="n">i2c_register_board_info</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">i2c3_devs</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2c3_devs</span><span class="p">));</span>

	<span class="n">s3c_i2c5_set_platdata</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
	<span class="n">s5p_i2c_hdmiphy_set_platdata</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span>
	<span class="n">i2c_register_board_info</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">i2c5_devs</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2c5_devs</span><span class="p">));</span>

<span class="cp">#ifdef CONFIG_DRM_EXYNOS</span>
	<span class="n">s5p_device_fimd0</span><span class="p">.</span><span class="n">dev</span><span class="p">.</span><span class="n">platform_data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">drm_fimd_pdata</span><span class="p">;</span>
	<span class="n">exynos4_fimd0_gpio_setup_24bpp</span><span class="p">();</span>
<span class="cp">#else</span>
	<span class="n">s5p_fimd0_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">universal_lcd_pdata</span><span class="p">);</span>
<span class="cp">#endif</span>

	<span class="n">universal_touchkey_init</span><span class="p">();</span>
	<span class="n">i2c_register_board_info</span><span class="p">(</span><span class="n">I2C_GPIO_BUS_12</span><span class="p">,</span> <span class="n">i2c_gpio12_devs</span><span class="p">,</span>
			<span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">i2c_gpio12_devs</span><span class="p">));</span>

	<span class="n">s3c_hsotg_set_platdata</span><span class="p">(</span><span class="o">&amp;</span><span class="n">universal_hsotg_pdata</span><span class="p">);</span>
	<span class="n">universal_camera_init</span><span class="p">();</span>

	<span class="cm">/* Last */</span>
	<span class="n">platform_add_devices</span><span class="p">(</span><span class="n">universal_devices</span><span class="p">,</span> <span class="n">ARRAY_SIZE</span><span class="p">(</span><span class="n">universal_devices</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">MACHINE_START</span><span class="p">(</span><span class="n">UNIVERSAL_C210</span><span class="p">,</span> <span class="s">&quot;UNIVERSAL_C210&quot;</span><span class="p">)</span>
	<span class="cm">/* Maintainer: Kyungmin Park &lt;kyungmin.park@samsung.com&gt; */</span>
	<span class="p">.</span><span class="n">atag_offset</span>	<span class="o">=</span> <span class="mh">0x100</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_irq</span>	<span class="o">=</span> <span class="n">exynos4_init_irq</span><span class="p">,</span>
	<span class="p">.</span><span class="n">map_io</span>		<span class="o">=</span> <span class="n">universal_map_io</span><span class="p">,</span>
	<span class="p">.</span><span class="n">handle_irq</span>	<span class="o">=</span> <span class="n">gic_handle_irq</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_machine</span>	<span class="o">=</span> <span class="n">universal_machine_init</span><span class="p">,</span>
	<span class="p">.</span><span class="n">init_late</span>	<span class="o">=</span> <span class="n">exynos_init_late</span><span class="p">,</span>
	<span class="p">.</span><span class="n">timer</span>		<span class="o">=</span> <span class="o">&amp;</span><span class="n">s5p_timer</span><span class="p">,</span>
	<span class="p">.</span><span class="n">reserve</span>        <span class="o">=</span> <span class="o">&amp;</span><span class="n">universal_reserve</span><span class="p">,</span>
	<span class="p">.</span><span class="n">restart</span>	<span class="o">=</span> <span class="n">exynos4_restart</span><span class="p">,</span>
<span class="n">MACHINE_END</span>

</pre></div></td></tr>

</tbody>
</table>
</div>

</body>
<script>docas={repo:"joekychen/linux",depth:3}</script>
<script>document.write('<script src=' + ('__proto__' in {} ? 'http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0rc1/zepto.min.js' : 'https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')+'><\\/script>')</script>
<script src="http://baoshan.github.com/moment/min/moment.min.js"></script>
<script src="../../../javascript/docco.min.js"></script>
</html>
