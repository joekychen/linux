f | devices.c | s | 2.3K | 76 | Linus Walleij | linus.walleij@linaro.org | 1334860293 |  | ARM: 7370/2: mxs: factor out dynamic amba device allocator  Replace the local amba device allocator with the core code from the bus driver.  Acked-by: Shawn Guo <shawn.guo@linaro.org> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | Makefile | g | 524B |  | Dong Aisheng | dong.aisheng@linaro.org | 1336800736 |  | ARM: mxs: add initial device tree support for imx28-evk board  This patch includes basic dt support which can boot via nfs rootfs.  Signed-off-by: Dong Aisheng <dong.aisheng@linaro.org> Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Marek Vasut <marex@denx.de>
f | mach-mx23evk.c | s | 5.8K | 167 | Shawn Guo | shawn.guo@linaro.org | 1336489517 |  | ARM: mxs: enable pinctrl dummy states  The mxs pinctrl driver will only support DT probe.  That said, the mxs device drivers can only get pinctrl state from pinctrl subsystem when the drivers get probed from device tree.  Before converting the whole mxs platform support over to device tree, we need to enable pinctrl dummy states for those non-DT board files to ensure the pinctrl API adopted by mxs device drivers will work for both DT and non-DT probe.  Instead of calling pinctrl_provide_dummies() directly in every board file, the patch introduces soc specific calls mx23_soc_init() and mx28_soc_init() for boards' .init_machine hook to invoke, so that any soc specific setup for non-DT boot only can be added there.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | pm.c | s | 1.0K | 37 | Nicolas Pitre | nicolas.pitre@linaro.org | 1327103719 |  | ARM: substitute arch_idle()  Now that all implementations of arch_idle() are equivalent to cpu_do_idle() we can just use the later directly and stop including mach/system.h.  Signed-off-by: Nicolas Pitre <nicolas.pitre@linaro.org> Acked-by: H Hartley Sweeten <hsweeten@visionengravers.com> Acked-and-tested-by: Jamie Iles <jamie@jamieiles.com> Acked-by: Tony Lindgren <tony@atomide.com> Tested-by: Stephen Warren <swarren@nvidia.com>
d | include |  | 1 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338062267 |  | 
f | mach-apx4devkit.c | s | 7.3K | 221 | Shawn Guo | shawn.guo@linaro.org | 1336489517 |  | ARM: mxs: enable pinctrl dummy states  The mxs pinctrl driver will only support DT probe.  That said, the mxs device drivers can only get pinctrl state from pinctrl subsystem when the drivers get probed from device tree.  Before converting the whole mxs platform support over to device tree, we need to enable pinctrl dummy states for those non-DT board files to ensure the pinctrl API adopted by mxs device drivers will work for both DT and non-DT probe.  Instead of calling pinctrl_provide_dummies() directly in every board file, the patch introduces soc specific calls mx23_soc_init() and mx28_soc_init() for boards' .init_machine hook to invoke, so that any soc specific setup for non-DT boot only can be added there.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | mach-stmp378x_devb.c | s | 3.6K | 102 | Shawn Guo | shawn.guo@linaro.org | 1336489517 |  | ARM: mxs: enable pinctrl dummy states  The mxs pinctrl driver will only support DT probe.  That said, the mxs device drivers can only get pinctrl state from pinctrl subsystem when the drivers get probed from device tree.  Before converting the whole mxs platform support over to device tree, we need to enable pinctrl dummy states for those non-DT board files to ensure the pinctrl API adopted by mxs device drivers will work for both DT and non-DT probe.  Instead of calling pinctrl_provide_dummies() directly in every board file, the patch introduces soc specific calls mx23_soc_init() and mx28_soc_init() for boards' .init_machine hook to invoke, so that any soc specific setup for non-DT boot only can be added there.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | icoll.c | s | 2.4K | 69 | Thomas Gleixner | tglx@linutronix.de | 1301402878 |  | arm: Fold irq_set_chip/irq_set_handler  Use irq_set_chip_and_handler() instead. Converted with coccinelle.  Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
f | mach-mxs.c | s | 2.7K | 101 | Shawn Guo | shawn.guo@linaro.org | 1336800739 |  | ARM: mxs: add gpio support for device tree boot  It adds gpio support for device tree boot.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Linus Walleij <linus.walleij@linaro.org>
f | devices-mx23.h | s | 1.4K | 35 | Linus Walleij | linus.walleij@linaro.org | 1334860293 |  | ARM: 7370/2: mxs: factor out dynamic amba device allocator  Replace the local amba device allocator with the core code from the bus driver.  Acked-by: Shawn Guo <shawn.guo@linaro.org> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | system.c | s | 3.4K | 111 | Shawn Guo | shawn.guo@linaro.org | 1336492962 |  | ARM: mxs: remove old clock support  The mxs clock has been switched to common clock framework, so the old clock support can be removed now.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | devices-mx28.h | s | 2.2K | 51 | Linus Walleij | linus.walleij@linaro.org | 1334860293 |  | ARM: 7370/2: mxs: factor out dynamic amba device allocator  Replace the local amba device allocator with the core code from the bus driver.  Acked-by: Shawn Guo <shawn.guo@linaro.org> Signed-off-by: Linus Walleij <linus.walleij@linaro.org> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | timer.c | s | 8.4K | 253 | Shawn Guo | shawn.guo@linaro.org | 1336492963 |  | ARM: mxs: remove now unused timer_clk argument from mxs_timer_init  With old mxs clock support removed, the timer_clk argument of mxs_timer_init is unused now, so remove it.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | mm.c | s | 2.3K | 75 | Shawn Guo | shawn.guo@linaro.org | 1336800738 |  | gpio/mxs: get rid of the use of cpu_is_xxx  It removes the use of cpu_is_xxx from gpio-mxs driver and instead use platform_device_id to identify the device.  Accordingly, mxs platform code is changed to register gpio device with different names, and the registeration are done in soc specific initialization functions now, so postcore_initcall(mxs_add_mxs_gpio) gets removed.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Linus Walleij <linus.walleij@linaro.org>
f | mach-mx28evk.c | s | 13K | 419 | Arnd Bergmann | arnd@arndb.de | 1337010239 |  | Merge branches 'spear/clock' and 'imx/clock' into next/clock  Updated to resolve dependencies.  Signed-off-by: Arnd Bergmann <arnd@arndb.de>
f | mach-tx28.c | s | 5.0K | 160 | Shawn Guo | shawn.guo@linaro.org | 1336489517 |  | ARM: mxs: enable pinctrl dummy states  The mxs pinctrl driver will only support DT probe.  That said, the mxs device drivers can only get pinctrl state from pinctrl subsystem when the drivers get probed from device tree.  Before converting the whole mxs platform support over to device tree, we need to enable pinctrl dummy states for those non-DT board files to ensure the pinctrl API adopted by mxs device drivers will work for both DT and non-DT probe.  Instead of calling pinctrl_provide_dummies() directly in every board file, the patch introduces soc specific calls mx23_soc_init() and mx28_soc_init() for boards' .init_machine hook to invoke, so that any soc specific setup for non-DT boot only can be added there.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | Kconfig | g | 2.8K |  | Shawn Guo | shawn.guo@linaro.org | 1336800737 |  | ARM: mxs: always build in device tree support  As the ultimate for mxs platform is to convert over to device tree, let's start always building in device tree support for the platform.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org> Acked-by: Marek Vasut <marex@denx.de>
f | mach-m28evk.c | s | 10K | 321 | Shawn Guo | shawn.guo@linaro.org | 1336489517 |  | ARM: mxs: enable pinctrl dummy states  The mxs pinctrl driver will only support DT probe.  That said, the mxs device drivers can only get pinctrl state from pinctrl subsystem when the drivers get probed from device tree.  Before converting the whole mxs platform support over to device tree, we need to enable pinctrl dummy states for those non-DT board files to ensure the pinctrl API adopted by mxs device drivers will work for both DT and non-DT probe.  Instead of calling pinctrl_provide_dummies() directly in every board file, the patch introduces soc specific calls mx23_soc_init() and mx28_soc_init() for boards' .init_machine hook to invoke, so that any soc specific setup for non-DT boot only can be added there.  Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | ocotp.c | s | 2.2K | 69 | Wolfram Sang | w.sang@pengutronix.de | 1307346604 |  | arm: mxs: include asm/processor.h for cpu_relax()  I get this build error as of today:  arch/arm/mach-mxs/ocotp.c: In function 'mxs_get_ocotp': arch/arm/mach-mxs/ocotp.c:54: error: implicit declaration of function 'cpu_relax' make[2]: *** [arch/arm/mach-mxs/ocotp.o] Error 1  Looks like it has been indirectly included before which broke now. Include it directly.  Signed-off-by: Wolfram Sang <w.sang@pengutronix.de> Cc: Shawn Guo <shawn.guo@freescale.com> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
f | module-tx28.h | s | 351B | 10 | Lothar Waßmann | LW@KARO-electronics.de | 1300889294 |  | ARM: mxs: configure and register the second FEC device on TX28/STK5-V4  Signed-off-by: Lothar Waßmann <LW@KARO-electronics.de> Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
d | devices |  | 14 items |  | Linus Torvalds | torvalds@linux-foundation.org | 1338062267 |  | 
f | module-tx28.c | s | 4.4K | 137 | Dong Aisheng | b29396@freescale.com | 1322803642 |  | ARM: mxs/tx28: add __initconst for fec pdata  Signed-off-by: Dong Aisheng <b29396@freescale.com> Acked-by: Lothar Waßmann <LW@KARO-electronics.de> Signed-off-by: Shawn Guo <shawn.guo@linaro.org>
f | Makefile.boot | g | 25B |  | Sascha Hauer | s.hauer@pengutronix.de | 1318839160 |  | ARM: 7022/1: allow to detect conflicting zreladdrs  Boards used to specify zreladdr in their Makefile.boot with zreladdr-y := x, so conflicting zreladdrs were silently overwritten. This patch changes this to zreladdr-y += x, so that we end up with multiple words in zreladdr in such a case. We can detect this later and complain if necessary.  Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de> Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
f | iomux.c | s | 2.6K | 90 | Shawn Guo | shawn.guo@freescale.com | 1292862598 |  | ARM: mxs: Add iomux support  MXS-based SoCs implements iomux functions in block PINCTRL.  Signed-off-by: Shawn Guo <shawn.guo@freescale.com> Signed-off-by: Uwe Kleine-König <u.kleine-koenig@pengutronix.de>
